<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>AudioFlinger(   34)] no more track names available Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>AudioFlinger(   34)] no more track names available</h1>
		</header>
		<section>
			<p>When playing multiple (try 50) audio sounds, I reach a point where I cannot play new sounds, but I can press the buttons that previously played, and they work. </p>
<p>The console reports:<br>[ERROR][AudioFlinger(   34)] no more track names available<br>[ERROR][AudioTrack(   34)] AudioFlinger could not create track, status: -12</p>
<p>I was hoping to use this code to manage the memory, which seems to be the issue when playing many sounds:</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> sound1 = Titanium.Media.createSound(tone1.mp3);
<span class="hljs-keyword">var</span> sound2 = Titanium.Media.createSound(tone1.mp3);

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">soundcomplete</span><span class="hljs-params">(sound)</span></span>{
    Titanium.API.info(<span class="hljs-string">'in soundcomplete'</span>);
    Titanium.API.info(<span class="hljs-string">'sound.url in soundcomplete: '</span>+sound.url);
    sound.release();
    sound = Titanium.Media.createSound({url: <span class="hljs-string">'/play.mp3'</span>});
    Titanium.API.info(<span class="hljs-string">'sound.url2in soundcomplete: '</span>+sound.url);
    <span class="hljs-comment">//sound.addEventListener('complete',soundcomplete);</span>
    Titanium.API.info(<span class="hljs-string">'sound.url3 in soundcomplete: '</span>+sound.url);
}
sound1.addEventListener(<span class="hljs-string">'complete'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span> </span>{
    alert(<span class="hljs-string">'completed'</span>);
    Titanium.API.info(<span class="hljs-string">'e: '</span>+e);
    Titanium.API.info(<span class="hljs-string">'sound1: '</span>+sound2);
    soundcomplete(sound1);
    Titanium.API.info(<span class="hljs-string">'sound.url after soundcomplete call: '</span>+sound1.url);
});
sound2.addEventListener(<span class="hljs-string">'complete'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span> </span>{
    alert(<span class="hljs-string">'completed'</span>);
    Titanium.API.info(<span class="hljs-string">'e: '</span>+e);
    Titanium.API.info(<span class="hljs-string">'sound2: '</span>+sound2);
    soundcomplete(sound2);
    Titanium.API.info(<span class="hljs-string">'sound.url after soundcomplete call: '</span>+sound2.url);
});
button1.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span> </span>{
    sound1.play();
    Titanium.API.info(<span class="hljs-string">'sound: '</span>+sound);
});
button2.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span> </span>{
    sound2.play();
    Titanium.API.info(<span class="hljs-string">'sound: '</span>+sound);
});
</code></pre><p>This basically works, meaning the sound will play, the console shows the new assignment of sound to the new url, but then then soundcomplete exits and the sound uses to old sound URL, and console throws the warning &quot;mediaplayer went away with unhandled events&quot;, and the variable has the original value. So basically, how can I pass the sound objects by reference? I&#39;ve been avoiding the Ti.App.variablename because people seem to hate when in the posts.</p>
<p>My attempts were based on trying variants on the discussion here:<br>http:&#x2F;&#x2F;developer.appcelerator.com&#x2F;question&#x2F;136130&#x2F;sound-release-kills-eventlistener</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="July 27th 2012, 4:59:39 am">July 27th 2012</span>
				by <span class='authorname'>chief meow</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>memory</span></li>
					
						<li><span class='tagname'>reference</span></li>
					
						<li><span class='tagname'>sound</span></li>
					
						<li><span class='tagname'>sound.complete</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>0</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>0 Answers</h3>

	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
