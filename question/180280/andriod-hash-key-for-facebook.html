<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Andriod Hash Key for Facebook » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Andriod Hash Key for Facebook</h1>
		</header>
		<section>
			<p>I&#39;m in the process of building an android app still in the testing stage test directly on the my Note 3. I am using the facebook module I have succesfully conected to my facebook app but facebook is now asking for a hash key</p>
<pre><code class="hljs">keytool -exportcert -alias androiddebugkey -keystore "C:<span class="hljs-command">\Administrator</span>.android<span class="hljs-command">\debug</span>.keystore" | "C:<span class="hljs-command">\OpenSSL</span><span class="hljs-command">\bin</span><span class="hljs-command">\openssl</span>" sha1 -binary |"C:<span class="hljs-command">\OpenSSL</span><span class="hljs-command">\bin</span><span class="hljs-command">\openssl</span>" base64
</code></pre><p>I have used this OpenSSL method to create the hash key then copied and pasted the hash key into my facebook app for android </p>
<p>I have nothing else just the hash key in my facebook app settings</p>
<p>I get the error invaild key hash does not match any stored key hahses when trying to connect </p>
<p>Can anyone help please</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="January 16th 2015, 5:45:06 pm">January 16th 2015</span>
				by <span class='authorname'>Alan Young</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>facebbok</span></li>
					
						<li><span class='tagname'>facebook app</span></li>
					
						<li><span class='tagname'>facebook key hash</span></li>
					
						<li><span class='tagname'>titanium studio</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>5</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>5 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-285186">
				
						<section>
							<p>You need to use either your own Android key &#x2F; keystore. Or, if you&#39;re doing test builds, you need to use the keystore that Titanium uses to compile your app for test&#x2F;development builds. It is stored in your SDK directory.</p>
<p>First, do <code>ti sdk</code> and in the output, find the path to your selected SDK version. You&#39;ll use that in the next command:</p>
<pre><code class="hljs">keytool -exportcert -alias tidev -storepass tirocks -keystore <span class="hljs-string">'PATH_GOES_HERE\android\dev_keystore'</span> | openssl sha1 -<span class="hljs-built_in">binary</span> | openssl base64
</code></pre><p>Titanium doesn&#39;t use the dev&#x2F;debug keystore that the Facebook&#39;s docs speak of.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="January 16th 2015, 8:01:16 pm">January 16th 2015</span>
								by <span class='authorname'>Tim Poulsen</span><br>
								<a class="icon-bg icon-link" href="question/180280/andriod-hash-key-for-facebook#answer-285186" rel="permalink">permalink</a>
							</div>

							<h5>5 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><pre><code class="hljs">keytool -exportcert -alias tidev -storepass tirocks -keystore 'C:<span class="hljs-command">\Android</span><span class="hljs-command">\sdk</span><span class="hljs-command">\platforms</span><span class="hljs-command">\android</span>-19<span class="hljs-command">\android</span><span class="hljs-command">\dev</span>_keystore' | openssl sha1 -binary | openssl base64
</code></pre><p>Tried that is this correct?</p>
<p>This is the error i get</p>
<p>Invalid key hash. The Key zON&#x2F;CPoDnlgHvMure4hh(HWdR58 does not match any stored key hashes. Configure your app……</p>
<p>Ihave also tried inerting the key zON&#x2F;CPoDnlgHvMure4hh(HWdR58 into my facebook app but it will not take it.</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 16th 2015, 8:56:23 pm">January 16th 2015</span>
											by <span class='authorname'>Alan Young</span>
										</div>
									</li>
								
									<li class="comment">
										<p><pre><code class="hljs">[ERROR] :  FacebookModule: (main) [<span class="hljs-number">67922</span>,<span class="hljs-number">73382</span>] LoginDialogListener onFacebookError: Invalid access token.
[ERROR] :  FacebookModule: com<span class="hljs-class">.facebook</span><span class="hljs-class">.android</span><span class="hljs-class">.FacebookError</span>: Invalid access token.
[ERROR] :  FacebookModule:     at com<span class="hljs-class">.facebook</span><span class="hljs-class">.android</span><span class="hljs-class">.Facebook</span><span class="hljs-class">.onSessionCallback</span>(Facebook<span class="hljs-class">.java</span>:<span class="hljs-number">433</span>)
[ERROR] :  FacebookModule:     at com<span class="hljs-class">.facebook</span><span class="hljs-class">.android</span><span class="hljs-class">.Facebook</span><span class="hljs-class">.access</span>$<span class="hljs-number">000</span>(Facebook<span class="hljs-class">.java</span>:<span class="hljs-number">97</span>)
[ERROR] :  FacebookModule:     at com<span class="hljs-class">.facebook</span><span class="hljs-class">.android</span><span class="hljs-class">.Facebook</span>$<span class="hljs-number">2</span>.<span class="hljs-function"><span class="hljs-title">call</span><span class="hljs-params">(Facebook.java:<span class="hljs-number">379</span>)</span></span>
[ERROR] :  FacebookModule:     at com<span class="hljs-class">.facebook</span><span class="hljs-class">.Session</span>$<span class="hljs-number">3</span>$<span class="hljs-number">1</span>.<span class="hljs-function"><span class="hljs-title">run</span><span class="hljs-params">(Session.java:<span class="hljs-number">1239</span>)</span></span>
[ERROR] :  FacebookModule:     at android<span class="hljs-class">.os</span><span class="hljs-class">.Handler</span><span class="hljs-class">.handleCallback</span>(Handler<span class="hljs-class">.java</span>:<span class="hljs-number">730</span>)
[ERROR] :  FacebookModule:     at android<span class="hljs-class">.os</span><span class="hljs-class">.Handler</span><span class="hljs-class">.dispatchMessage</span>(Handler<span class="hljs-class">.java</span>:<span class="hljs-number">92</span>)
[ERROR] :  FacebookModule:     at android<span class="hljs-class">.os</span><span class="hljs-class">.Looper</span><span class="hljs-class">.loop</span>(Looper<span class="hljs-class">.java</span>:<span class="hljs-number">137</span>)
[ERROR] :  FacebookModule:     at android<span class="hljs-class">.app</span><span class="hljs-class">.ActivityThread</span><span class="hljs-class">.main</span>(ActivityThread<span class="hljs-class">.java</span>:<span class="hljs-number">5450</span>)
[ERROR] :  FacebookModule:     at java<span class="hljs-class">.lang</span><span class="hljs-class">.reflect</span><span class="hljs-class">.Method</span><span class="hljs-class">.invokeNative</span>(Native Method)
[ERROR] :  FacebookModule:     at java<span class="hljs-class">.lang</span><span class="hljs-class">.reflect</span><span class="hljs-class">.Method</span><span class="hljs-class">.invoke</span>(Method<span class="hljs-class">.java</span>:<span class="hljs-number">525</span>)
[ERROR] :  FacebookModule:     at com<span class="hljs-class">.android</span><span class="hljs-class">.internal</span><span class="hljs-class">.os</span><span class="hljs-class">.ZygoteInit</span><span class="hljs-variable">$MethodAndArgsCaller</span>.<span class="hljs-function"><span class="hljs-title">run</span><span class="hljs-params">(ZygoteInit.java:<span class="hljs-number">1187</span>)</span></span>
[ERROR] :  FacebookModule:     at com<span class="hljs-class">.android</span><span class="hljs-class">.internal</span><span class="hljs-class">.os</span><span class="hljs-class">.ZygoteInit</span><span class="hljs-class">.main</span>(ZygoteInit<span class="hljs-class">.java</span>:<span class="hljs-number">1003</span>)
[ERROR] :  FacebookModule:     at dalvik<span class="hljs-class">.system</span><span class="hljs-class">.NativeStart</span><span class="hljs-class">.main</span>(Native Method)
[ERROR] :  FacebookModule: (main) [<span class="hljs-number">1</span>,<span class="hljs-number">73383</span>] onAuthFail: Invalid access token.
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="January 16th 2015, 11:05:39 pm">January 16th 2015</span>
											by <span class='authorname'>Alan Young</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>i can only get it to work with </p>
<pre><code class="hljs">fb.forceDialogAuth = <span class="hljs-literal">true</span>;
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="January 17th 2015, 6:09:46 pm">January 17th 2015</span>
											by <span class='authorname'>Alan Young</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I have tired </p>
<pre><code class="hljs">keytool -exportcert -alias tidev -storepass tirocks -keystore 'C:<span class="hljs-command">\Users</span><span class="hljs-command">\Alan</span><span class="hljs-command">\AppData</span><span class="hljs-command">\Roaming</span><span class="hljs-command">\Titanium</span><span class="hljs-command">\mobilesdk</span><span class="hljs-command">\win</span>32\3.5.0.GA<span class="hljs-command">\Administrator</span>.android<span class="hljs-command">\dev</span>_keystore' | openssl sha1 -binary | openssl base64
</code></pre><p>The hash key still will not work</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 18th 2015, 6:55:52 am">January 18th 2015</span>
											by <span class='authorname'>Alan Young</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>There are two places you could configure this hash on the Facebook developer site, of which Developer Settings, Sample App is the one that you need for test builds of your app.</p>
<p>Go to developer.facebook.com, click your profile picture in the upper-right and choose Developer Settings. Click the Sample App tab. Add the hash there.</p>
<p>You can also add the hash under the app-specific configuration settings. Select your app under My Apps, then Settings. Add the hash under the Android section. This is where your publishing hash would go. You don&#39;t need that for test apps and probably shouldn&#39;t put the test hash there (as it would be the same for all Ti apps and could be an issue).</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 19th 2015, 6:43:48 pm">January 19th 2015</span>
											by <span class='authorname'>Tim Poulsen</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-285247">
				
						<section>
							<p>This is what i have done in the past… not tested in awhile</p>
<pre><code class="hljs">CREATING HASH FOR ANDROID FACEBOOK SSO

$ keytool -v -exportcert -keystore <span class="hljs-string">"/Users/aaronksaunders/Library/Application Support/Titanium/mobilesdk/osx/3.1.1.GA/android/dev_keystore"</span> -storepass tirocks -alias tidev &gt; ./exportedtidevcert<span class="hljs-class">.txt</span>
$ openssl sha1 -binary ./exportedtidevcert<span class="hljs-class">.txt</span>  &gt; ./exportedtidevcert_sha<span class="hljs-class">.txt</span>
$ openssl enc -<span class="hljs-tag">a</span> -e &lt; ./exportedtidevcert_sha<span class="hljs-class">.txt</span>  &gt; ./output.txt
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="January 19th 2015, 6:14:06 pm">January 19th 2015</span>
								by <span class='authorname'>Aaron Saunders</span><br>
								<a class="icon-bg icon-link" href="question/180280/andriod-hash-key-for-facebook#answer-285247" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-287900">
				
						<section>
							<p>Hi,</p>
<p>I have just started having this problem on Android, hopefully someone can help. (I have the module working fine on iOS).</p>
<p>I have added the Android Platform to my App on Facebook, and added the release key hash.</p>
<p>I have also added the dev_keystore hash to the Developer Settings &gt; Sample App section of Facebook as detailed above by Tim.</p>
<p>However I continue to receive the error:</p>
<p>Invalid key hash. The key hash zON&#x2F;CPoDn…. does not match any stored key hashes. Configure etc etc…</p>
<p>I have added this key (zON&#x2F;CP…) to the Sample App section of Facebook too.</p>
<p>Has anyone got any ideas what I may be missing? </p>
<p>Ti SDK: 4.0.0.RC2</p>
<p>Facebook Module is set to &#39;latest&#39; for both iOS and Android.</p>
<p>Any pointers would be greatly appreciated as I&#39;m struggling to spot where I&#39;m going wrong.</p>
<p>Thanks</p>
<p>Paul</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 9th 2015, 11:21:30 am">August 9th 2015</span>
								by <span class='authorname'>Paul Hollyer</span><br>
								<a class="icon-bg icon-link" href="question/180280/andriod-hash-key-for-facebook#answer-287900" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-287996">
				
						<section>
							<p>hello @Paul Hollyer</p>
<p>please use this command to generate key for android mobile app.</p>
<p>and copy and paste that key for development &amp; release.</p>
<pre><code class="hljs">keytool -exportcert -<span class="hljs-built_in">alias</span> tidev -keystore <span class="hljs-string">"/home/dipeshs/.titanium/mobilesdk/linux/4.0.1.v20150521135010/android/dev_keystore"</span> -storepass tirocks | openssl sha1 -binary | openssl base64

<span class="hljs-built_in">replace</span> <span class="hljs-string">"/home/dipeshs/.titanium/mobilesdk/linux/4.0.1.v20150521135010/android/dev_keystore"</span>
<span class="hljs-operator">with</span> your mobilesdk <span class="hljs-built_in">directory</span>
</code></pre><p>thanks dipesh </p>
<p>it worked perfectly for me, i was also getting the same issue.<br>if it works mark it as best, so that other people do get the answer to this question if they are stuck.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="September 10th 2015, 11:15:38 am">September 10th 2015</span>
								by <span class='authorname'>Dipesh Sharma</span><br>
								<a class="icon-bg icon-link" href="question/180280/andriod-hash-key-for-facebook#answer-287996" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-288006">
				
						<section>
							<p>Hi Dipesh,</p>
<p>Thanks, but still getting an Invalid key hash error with the Facebook module.</p>
<p>The key hash that the module is complaining about not matching any stored key hashes, has been added to the Facebook App page, along with the key hash created with keytool.</p>
<p>Thanks for taking the time to try and help.</p>
<p>Paul</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="September 12th 2015, 5:36:01 pm">September 12th 2015</span>
								by <span class='authorname'>Paul Hollyer</span><br>
								<a class="icon-bg icon-link" href="question/180280/andriod-hash-key-for-facebook#answer-288006" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
