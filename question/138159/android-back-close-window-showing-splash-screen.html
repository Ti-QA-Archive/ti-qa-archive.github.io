<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>android-back close window, showing splash screen » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>android-back close window, showing splash screen</h1>
		</header>
		<section>
			<p>Hi all,<br>I have a problem with android-back button used to close my app.<br>In my app there is a simple window like this:</p>
<pre><code class="hljs">var win = <span class="hljs-type">Ti</span>.<span class="hljs-type">UI</span>.createWindow({
    backgroudImage:<span class="hljs-symbol">'myImage</span>.png',
    navBarHidden: <span class="hljs-literal">true</span>,
    exitOnClose: <span class="hljs-literal">true</span>
});
win.<span class="hljs-keyword">open</span><span class="hljs-literal">()</span>;
</code></pre><p>when the android-back button is pressed, I call a function that ask the user if he wants to close the app.<br>To close the app I call win.close(); but on the screen it still remains the splash screen!! and I can&#39;t really close the app!<br>I&#39;ve seen some post about this, and the solution was to open the window using modal = true, but I can&#39;t do this because this seams to move the background image and it seams to be cutted on top. An other solution is to remove the navBarHidden property, but the graphic result is almast the same!<br>So I need to show the complete image on background of the main window and at the same time I need to close the app at android:back event.<br>Could you help me finding a solution?<br>Best Regards<br>Manuela</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="June 11th 2012, 7:49:48 am">June 11th 2012</span>
				by <span class='authorname'>Manuela *</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android-back</span></li>
					
						<li><span class='tagname'>navbarhidden</span></li>
					
						<li><span class='tagname'>splashscreen</span></li>
					
						<li><span class='tagname'>window</span></li>
					
				</ul>
			

			<section>
				<h5>1 Comment</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>I need to add a detail: if I dont&#39; call the event listener on android:back event the window is correctly closed…<br>Manuela</p>
</div>
							<div class="author">
								&mdash; commented <span title="June 11th 2012, 7:57:28 am">June 11th 2012</span>
								by <span class='authorname'>Manuela *</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-240591">
				
						<section>
							<p>Hi Manuela,</p>
<p>If you open new window for splash screen then you have to close that Splash window and then after open your other window that way you may solve your problem.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="June 11th 2012, 7:58:04 am">June 11th 2012</span>
								by <span class='authorname'>Nitin Chavda</span><br>
								<a class="icon-bg icon-link" href="question/138159/android-back-close-window-showing-splash-screen.html#answer-240591" rel="permalink">permalink</a>
							</div>

							<h5>4 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>How can I close the splash screen window??</p>
</p>
										<div class="author">
											&mdash; commented <span title="June 11th 2012, 8:03:03 am">June 11th 2012</span>
											by <span class='authorname'>Manuela *</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Try this code.</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> img = Ti.UI.createImageView({
    image: <span class="hljs-string">'imgs/Default.png'</span>,
    top: -<span class="hljs-number">10</span>,
    left:<span class="hljs-number">0</span>,
    width: <span class="hljs-number">320</span>,
    height: <span class="hljs-number">480</span>
});

<span class="hljs-keyword">var</span> splash = Ti.UI.createWindow({
    <span class="hljs-comment">// backgroundImage : 'imgs/splash copy.png',</span>
});
splash.add(img);

setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span> </span>{
    splash.close();
<span class="hljs-comment">//=== do you stuff here for example open you window or tabGroup</span>
}, <span class="hljs-number">3000</span>);
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="June 11th 2012, 8:08:38 am">June 11th 2012</span>
											by <span class='authorname'>Nitin Chavda</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Maybe my description of the problem whas not so clear!<br>the splash screen is the one at the start of the application, is not my window!<br>When the app start, it shows the splash screen before every other main window. When I try to close my window, the splash screen is here…and I can&#39;t close it!</p>
</p>
										<div class="author">
											&mdash; commented <span title="June 11th 2012, 8:15:50 am">June 11th 2012</span>
											by <span class='authorname'>Manuela *</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Okey try to set this property in you first window.</p>
<pre><code class="hljs"><span class="hljs-built_in">exit</span>OnClose : <span class="hljs-literal">true</span>
</code></pre><p>and if not solve than post your code.</p>
</p>
										<div class="author">
											&mdash; commented <span title="June 11th 2012, 8:18:32 am">June 11th 2012</span>
											by <span class='authorname'>Nitin Chavda</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-240592">
				
						<section>
							<p>I have already setted this property, but this is the code…<br>The window is a simple window with some button on it. Clicking the button it changes the view, but not open a new window. </p>
<pre><code class="hljs">
<span class="hljs-keyword">var</span> win = Ti.UI.createWindow({
  backgroundImage:<span class="hljs-string">'images/img/sfondo_home.png'</span>,
  navBarHidden:<span class="hljs-literal">true</span>,
  exitOnClose:<span class="hljs-literal">true</span>,
  orientationModes: [Ti.UI.PORTRAIT]   
 });

win.open();

 win.addEventListener(<span class="hljs-string">'android:back'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span></span>{    
     <span class="hljs-keyword">var</span> closeAppAlertDialog = Ti.UI.createAlertDialog({
            title:L(<span class="hljs-string">'attenzione'</span>),
            message:L(<span class="hljs-string">'chiudereapp'</span>)
            });
        closeAppAlertDialog.buttonNames = [L(<span class="hljs-string">'si'</span>), L(<span class="hljs-string">'no'</span>)];
        closeAppAlertDialog.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span></span>{
            <span class="hljs-keyword">if</span>(e.index == <span class="hljs-number">0</span>)
            {
               win.close();              
               }
        });
     closeAppAlertDialog.show();
 });
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="June 11th 2012, 8:24:49 am">June 11th 2012</span>
								by <span class='authorname'>Manuela *</span><br>
								<a class="icon-bg icon-link" href="question/138159/android-back-close-window-showing-splash-screen.html#answer-240592" rel="permalink">permalink</a>
							</div>

							<h5>7 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>which Ti.SDK you are using?.</p>
</p>
										<div class="author">
											&mdash; commented <span title="June 11th 2012, 8:28:19 am">June 11th 2012</span>
											by <span class='authorname'>Nitin Chavda</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>2.0.1GA2</p>
</p>
										<div class="author">
											&mdash; commented <span title="June 11th 2012, 8:32:05 am">June 11th 2012</span>
											by <span class='authorname'>Manuela *</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I&#39;m sorry….the navbarhidden is not set to true!!! this was one of my trial!!!<br>if I set the navbarhidden to true, it run ok, but it cut my background image on top and I don&#39;t know why!</p>
</p>
										<div class="author">
											&mdash; commented <span title="June 11th 2012, 8:35:57 am">June 11th 2012</span>
											by <span class='authorname'>Manuela *</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>you want to hide navbar or not?.</p>
</p>
										<div class="author">
											&mdash; commented <span title="June 11th 2012, 8:43:05 am">June 11th 2012</span>
											by <span class='authorname'>Nitin Chavda</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Yes, I want to hide it.</p>
</p>
										<div class="author">
											&mdash; commented <span title="June 11th 2012, 8:49:44 am">June 11th 2012</span>
											by <span class='authorname'>Manuela *</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Okey then try this code..</p>
<pre><code class="hljs">var win = Ti.UI.createWindow({
    <span class="hljs-comment">// backgroundImage:'images/img/sfondo_home.png',</span>
    <span class="hljs-string">navBarHidden :</span> <span class="hljs-literal">true</span>,
     <span class="hljs-string">fullscreen :</span> <span class="hljs-literal">true</span>,
    <span class="hljs-string">exitOnClose :</span> <span class="hljs-literal">true</span>,
    <span class="hljs-string">backgroundColor :</span> <span class="hljs-string">'white'</span>,
    <span class="hljs-string">orientationModes :</span> [Ti.UI.PORTRAIT]
});
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="June 11th 2012, 8:52:15 am">June 11th 2012</span>
											by <span class='authorname'>Nitin Chavda</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Ok….adding the fullscreen option it seems closing it ok and I can see the full image!<br>Thanks a lot!</p>
</p>
										<div class="author">
											&mdash; commented <span title="June 11th 2012, 8:59:38 am">June 11th 2012</span>
											by <span class='authorname'>Manuela *</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>-1</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
