<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Problem with &#34;setInterval&#34; in worldclock app Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Problem with &#34;setInterval&#34; in worldclock app</h1>
		</header>
		<section>
			<p>Hi guys,<br>i&#39;m writing this post for asking you a help for my university project.<br>I&#39;m creating a worldclock app with titanium studio. I compiled the javascript but finally i have a static worldclock because I don&#39;t know where put the setInterval() method. I did many tries, but  unsuccessful.</p>
<pre><code class="hljs"><span class="hljs-function">function <span class="hljs-title">worldClock</span><span class="hljs-params">(zone, region)</span></span>{
var dst = <span class="hljs-number">0</span>;
var time = <span class="hljs-keyword">new</span> Date();
var gmtMS = time.getTime() + (time.getTimezoneOffset() * <span class="hljs-number">60000</span>);
var gmtTime = <span class="hljs-keyword">new</span> Date(gmtMS);
var day = gmtTime.getDate();
var month = gmtTime.getMonth();
var year = gmtTime.getYear();
<span class="hljs-keyword">if</span>(year &lt; <span class="hljs-number">1000</span>){
year += <span class="hljs-number">1900</span>;
}
var monthArray = <span class="hljs-keyword">new</span> Array(<span class="hljs-string">"January"</span>, <span class="hljs-string">"February"</span>, <span class="hljs-string">"March"</span>, <span class="hljs-string">"April"</span>, <span class="hljs-string">"May"</span>, <span class="hljs-string">"June"</span>, <span class="hljs-string">"July"</span>, <span class="hljs-string">"August"</span>, 
                <span class="hljs-string">"September"</span>, <span class="hljs-string">"October"</span>, <span class="hljs-string">"November"</span>, <span class="hljs-string">"December"</span>);
var monthDays = <span class="hljs-keyword">new</span> Array(<span class="hljs-string">"31"</span>, <span class="hljs-string">"28"</span>, <span class="hljs-string">"31"</span>, <span class="hljs-string">"30"</span>, <span class="hljs-string">"31"</span>, <span class="hljs-string">"30"</span>, <span class="hljs-string">"31"</span>, <span class="hljs-string">"31"</span>, <span class="hljs-string">"30"</span>, <span class="hljs-string">"31"</span>, <span class="hljs-string">"30"</span>, <span class="hljs-string">"31"</span>);
<span class="hljs-keyword">if</span> (year%<span class="hljs-number">4</span> == <span class="hljs-number">0</span>){
monthDays = <span class="hljs-keyword">new</span> Array(<span class="hljs-string">"31"</span>, <span class="hljs-string">"29"</span>, <span class="hljs-string">"31"</span>, <span class="hljs-string">"30"</span>, <span class="hljs-string">"31"</span>, <span class="hljs-string">"30"</span>, <span class="hljs-string">"31"</span>, <span class="hljs-string">"31"</span>, <span class="hljs-string">"30"</span>, <span class="hljs-string">"31"</span>, <span class="hljs-string">"30"</span>, <span class="hljs-string">"31"</span>);
}
<span class="hljs-keyword">if</span>(year%<span class="hljs-number">100</span> == <span class="hljs-number">0</span> &amp;&amp; year%<span class="hljs-number">400</span> != <span class="hljs-number">0</span>){
monthDays = <span class="hljs-keyword">new</span> Array(<span class="hljs-string">"31"</span>, <span class="hljs-string">"28"</span>, <span class="hljs-string">"31"</span>, <span class="hljs-string">"30"</span>, <span class="hljs-string">"31"</span>, <span class="hljs-string">"30"</span>, <span class="hljs-string">"31"</span>, <span class="hljs-string">"31"</span>, <span class="hljs-string">"30"</span>, <span class="hljs-string">"31"</span>, <span class="hljs-string">"30"</span>, <span class="hljs-string">"31"</span>);
}

var hr = gmtTime.getHours() + zone;
var min = gmtTime.getMinutes();
var sec = gmtTime.getSeconds();

<span class="hljs-keyword">if</span> (hr &gt;= <span class="hljs-number">24</span>){
hr = hr-<span class="hljs-number">24</span>;
day -= -<span class="hljs-number">1</span>;
}
<span class="hljs-keyword">if</span> (hr &lt; <span class="hljs-number">0</span>){
hr -= -<span class="hljs-number">24</span>;
day -= <span class="hljs-number">1</span>;
}
<span class="hljs-keyword">if</span> (hr &lt; <span class="hljs-number">10</span>){
hr = <span class="hljs-string">" "</span> + hr;
}
<span class="hljs-keyword">if</span> (min &lt; <span class="hljs-number">10</span>){
min = <span class="hljs-string">"0"</span> + min;
}
<span class="hljs-keyword">if</span> (sec &lt; <span class="hljs-number">10</span>){
sec = <span class="hljs-string">"0"</span> + sec;
}
<span class="hljs-keyword">if</span> (day &lt;= <span class="hljs-number">0</span>){
<span class="hljs-keyword">if</span> (month == <span class="hljs-number">0</span>){
    month = <span class="hljs-number">11</span>;
    year -= <span class="hljs-number">1</span>;
    }
    <span class="hljs-keyword">else</span>{
    month = month -<span class="hljs-number">1</span>;
    }
day = monthDays[month];
}
<span class="hljs-keyword">if</span>(day &gt; monthDays[month]){
    day = <span class="hljs-number">1</span>;
    <span class="hljs-keyword">if</span>(month == <span class="hljs-number">11</span>){
    month = <span class="hljs-number">0</span>;
    year -= -<span class="hljs-number">1</span>;
    }
    <span class="hljs-keyword">else</span>{
    month -= -<span class="hljs-number">1</span>;
    }
}
<span class="hljs-keyword">if</span> (region == <span class="hljs-string">"NAmerica"</span>){
    var startDST = <span class="hljs-keyword">new</span> Date();
    var endDST = <span class="hljs-keyword">new</span> Date();
    startDST.setMonth(<span class="hljs-number">3</span>);
    startDST.setHours(<span class="hljs-number">2</span>);
    startDST.setDate(<span class="hljs-number">1</span>);
    var dayDST = startDST.getDay();
    <span class="hljs-keyword">if</span> (dayDST != <span class="hljs-number">0</span>){
        startDST.setDate(<span class="hljs-number">8</span>-dayDST);
        }
        <span class="hljs-keyword">else</span>{
        startDST.setDate(<span class="hljs-number">1</span>);
        }
    endDST.setMonth(<span class="hljs-number">9</span>);
    endDST.setHours(<span class="hljs-number">1</span>);
    endDST.setDate(<span class="hljs-number">31</span>);
    dayDST = endDST.getDay();
    endDST.setDate(<span class="hljs-number">31</span>-dayDST);
    var currentTime = <span class="hljs-keyword">new</span> Date();
    currentTime.setMonth(month);
    currentTime.setYear(year);
    currentTime.setDate(day);
    currentTime.setHours(hr);
    <span class="hljs-keyword">if</span>(currentTime &gt;= startDST &amp;&amp; currentTime &lt; endDST){
        dst = <span class="hljs-number">1</span>;
        }
}
<span class="hljs-keyword">if</span> (region == <span class="hljs-string">"Europe"</span>){
    var startDST = <span class="hljs-keyword">new</span> Date();
    var endDST = <span class="hljs-keyword">new</span> Date();
    startDST.setMonth(<span class="hljs-number">2</span>);
    startDST.setHours(<span class="hljs-number">1</span>);
    startDST.setDate(<span class="hljs-number">31</span>);
    var dayDST = startDST.getDay();
    startDST.setDate(<span class="hljs-number">31</span>-dayDST);
    endDST.setMonth(<span class="hljs-number">9</span>);
    endDST.setHours(<span class="hljs-number">0</span>);
    endDST.setDate(<span class="hljs-number">31</span>);
    dayDST = endDST.getDay();
    endDST.setDate(<span class="hljs-number">31</span>-dayDST);
    var currentTime = <span class="hljs-keyword">new</span> Date();
    currentTime.setMonth(month);
    currentTime.setYear(year);
    currentTime.setDate(day);
    currentTime.setHours(hr);
    <span class="hljs-keyword">if</span>(currentTime &gt;= startDST &amp;&amp; currentTime &lt; endDST){
        dst = <span class="hljs-number">1</span>;
        }
}

<span class="hljs-keyword">if</span> (region == <span class="hljs-string">"SAmerica"</span>){
    var startDST = <span class="hljs-keyword">new</span> Date();
    var endDST = <span class="hljs-keyword">new</span> Date();
    startDST.setMonth(<span class="hljs-number">9</span>);
    startDST.setHours(<span class="hljs-number">0</span>);
    startDST.setDate(<span class="hljs-number">1</span>);
    var dayDST = startDST.getDay();
    <span class="hljs-keyword">if</span> (dayDST != <span class="hljs-number">0</span>){
        startDST.setDate(<span class="hljs-number">22</span>-dayDST);
        }
        <span class="hljs-keyword">else</span>{
        startDST.setDate(<span class="hljs-number">15</span>);
        }
    endDST.setMonth(<span class="hljs-number">1</span>);
    endDST.setHours(<span class="hljs-number">11</span>);
    endDST.setDate(<span class="hljs-number">1</span>);
    dayDST = endDST.getDay();
    <span class="hljs-keyword">if</span> (dayDST != <span class="hljs-number">0</span>){
        endDST.setDate(<span class="hljs-number">21</span>-dayDST);
        }
        <span class="hljs-keyword">else</span>{
        endDST.setDate(<span class="hljs-number">14</span>);
        }
    var currentTime = <span class="hljs-keyword">new</span> Date();
    currentTime.setMonth(month);
    currentTime.setYear(year);
    currentTime.setDate(day);
    currentTime.setHours(hr);
    <span class="hljs-keyword">if</span>(currentTime &gt;= startDST || currentTime &lt; endDST){
        dst = <span class="hljs-number">1</span>;
        }
}
<span class="hljs-keyword">if</span> (region == <span class="hljs-string">"Cairo"</span>){
    var startDST = <span class="hljs-keyword">new</span> Date();
    var endDST = <span class="hljs-keyword">new</span> Date();
    startDST.setMonth(<span class="hljs-number">3</span>);
    startDST.setHours(<span class="hljs-number">0</span>);
    startDST.setDate(<span class="hljs-number">30</span>);
    var dayDST = startDST.getDay();
    <span class="hljs-keyword">if</span> (dayDST &lt; <span class="hljs-number">5</span>){
        startDST.setDate(<span class="hljs-number">28</span>-dayDST);
        }
        <span class="hljs-keyword">else</span> {
        startDST.setDate(<span class="hljs-number">35</span>-dayDST);
        }
    endDST.setMonth(<span class="hljs-number">8</span>);
    endDST.setHours(<span class="hljs-number">11</span>);
    endDST.setDate(<span class="hljs-number">30</span>);
    dayDST = endDST.getDay();
    <span class="hljs-keyword">if</span> (dayDST &lt; <span class="hljs-number">4</span>){
        endDST.setDate(<span class="hljs-number">27</span>-dayDST);
        }
        <span class="hljs-keyword">else</span>{
        endDST.setDate(<span class="hljs-number">34</span>-dayDST);
        }
    var currentTime = <span class="hljs-keyword">new</span> Date();
    currentTime.setMonth(month);
    currentTime.setYear(year);
    currentTime.setDate(day);
    currentTime.setHours(hr);
    <span class="hljs-keyword">if</span>(currentTime &gt;= startDST &amp;&amp; currentTime &lt; endDST){
        dst = <span class="hljs-number">1</span>;
        }
}
<span class="hljs-keyword">if</span> (region == <span class="hljs-string">"Israel"</span>){
    var startDST = <span class="hljs-keyword">new</span> Date();
    var endDST = <span class="hljs-keyword">new</span> Date();
    startDST.setMonth(<span class="hljs-number">3</span>);
    startDST.setHours(<span class="hljs-number">2</span>);
    startDST.setDate(<span class="hljs-number">1</span>);
    endDST.setMonth(<span class="hljs-number">8</span>);
    endDST.setHours(<span class="hljs-number">2</span>);
    endDST.setDate(<span class="hljs-number">25</span>);
    dayDST = endDST.getDay();
    <span class="hljs-keyword">if</span> (dayDST != <span class="hljs-number">0</span>){
    endDST.setDate(<span class="hljs-number">32</span>-dayDST);
    }
    <span class="hljs-keyword">else</span>{
    endDST.setDate(<span class="hljs-number">1</span>);
    endDST.setMonth(<span class="hljs-number">9</span>);
    }
    var currentTime = <span class="hljs-keyword">new</span> Date();
    currentTime.setMonth(month);
    currentTime.setYear(year);
    currentTime.setDate(day);
    currentTime.setHours(hr);
    <span class="hljs-keyword">if</span>(currentTime &gt;= startDST &amp;&amp; currentTime &lt; endDST){
        dst = <span class="hljs-number">1</span>;
        }
}
<span class="hljs-keyword">if</span> (region == <span class="hljs-string">"Beirut"</span>){
    var startDST = <span class="hljs-keyword">new</span> Date();
    var endDST = <span class="hljs-keyword">new</span> Date();
    startDST.setMonth(<span class="hljs-number">2</span>);
    startDST.setHours(<span class="hljs-number">0</span>);
    startDST.setDate(<span class="hljs-number">31</span>);
    var dayDST = startDST.getDay();
    startDST.setDate(<span class="hljs-number">31</span>-dayDST);
    endDST.setMonth(<span class="hljs-number">9</span>);
    endDST.setHours(<span class="hljs-number">11</span>);
    endDST.setDate(<span class="hljs-number">31</span>);
    dayDST = endDST.getDay();
    endDST.setDate(<span class="hljs-number">30</span>-dayDST);
    var currentTime = <span class="hljs-keyword">new</span> Date();
    currentTime.setMonth(month);
    currentTime.setYear(year);
    currentTime.setDate(day);
    currentTime.setHours(hr);
    <span class="hljs-keyword">if</span>(currentTime &gt;= startDST &amp;&amp; currentTime &lt; endDST){
        dst = <span class="hljs-number">1</span>;
        }
}
<span class="hljs-keyword">if</span> (region == <span class="hljs-string">"Baghdad"</span>){
    var startDST = <span class="hljs-keyword">new</span> Date();
    var endDST = <span class="hljs-keyword">new</span> Date();
    startDST.setMonth(<span class="hljs-number">3</span>);
    startDST.setHours(<span class="hljs-number">3</span>);
    startDST.setDate(<span class="hljs-number">1</span>);
    endDST.setMonth(<span class="hljs-number">9</span>);
    endDST.setHours(<span class="hljs-number">3</span>);
    endDST.setDate(<span class="hljs-number">1</span>);
    dayDST = endDST.getDay();
        var currentTime = <span class="hljs-keyword">new</span> Date();
    currentTime.setMonth(month);
    currentTime.setYear(year);
    currentTime.setDate(day);
    currentTime.setHours(hr);
    <span class="hljs-keyword">if</span>(currentTime &gt;= startDST &amp;&amp; currentTime &lt; endDST){
        dst = <span class="hljs-number">1</span>;
        }
}
<span class="hljs-keyword">if</span> (region == <span class="hljs-string">"Australia"</span>){
    var startDST = <span class="hljs-keyword">new</span> Date();
    var endDST = <span class="hljs-keyword">new</span> Date();
    startDST.setMonth(<span class="hljs-number">9</span>);
    startDST.setHours(<span class="hljs-number">2</span>);
    startDST.setDate(<span class="hljs-number">31</span>);
    var dayDST = startDST.getDay();
    startDST.setDate(<span class="hljs-number">31</span>-dayDST);
    endDST.setMonth(<span class="hljs-number">2</span>);
    endDST.setHours(<span class="hljs-number">2</span>);
    endDST.setDate(<span class="hljs-number">31</span>);
    dayDST = endDST.getDay();
    endDST.setDate(<span class="hljs-number">31</span>-dayDST);
    var currentTime = <span class="hljs-keyword">new</span> Date();
    currentTime.setMonth(month);
    currentTime.setYear(year);
    currentTime.setDate(day);
    currentTime.setHours(hr);
    <span class="hljs-keyword">if</span>(currentTime &gt;= startDST || currentTime &lt; endDST){
        dst = <span class="hljs-number">1</span>;
        }
}


<span class="hljs-keyword">if</span> (dst == <span class="hljs-number">1</span>){
    hr -= -<span class="hljs-number">1</span>;
    <span class="hljs-keyword">if</span> (hr &gt;= <span class="hljs-number">24</span>){
    hr = hr-<span class="hljs-number">24</span>;
    day -= -<span class="hljs-number">1</span>;
    }
    <span class="hljs-keyword">if</span> (hr &lt; <span class="hljs-number">10</span>){
    hr = <span class="hljs-string">" "</span> + hr;
    }
    <span class="hljs-keyword">if</span>(day &gt; monthDays[month]){
    day = <span class="hljs-number">1</span>;
    <span class="hljs-keyword">if</span>(month == <span class="hljs-number">11</span>){
    month = <span class="hljs-number">0</span>;
    year -= -<span class="hljs-number">1</span>;
    }
    <span class="hljs-keyword">else</span>{
    month -= -<span class="hljs-number">1</span>;
    }
    }
<span class="hljs-keyword">return</span> monthArray[month] + <span class="hljs-string">" "</span> + day + <span class="hljs-string">", "</span> + year + <span class="hljs-string">" "</span> + hr + <span class="hljs-string">":"</span> + min + <span class="hljs-string">":"</span> + sec + <span class="hljs-string">" DST"</span>;
}
<span class="hljs-keyword">else</span>{
<span class="hljs-keyword">return</span> monthArray[month] + <span class="hljs-string">" "</span> + day + <span class="hljs-string">", "</span> + year + <span class="hljs-string">" "</span> + hr + <span class="hljs-string">":"</span> + min + <span class="hljs-string">":"</span> + sec;
}
}

<span class="hljs-comment">//function worldClockZone(){</span>

$.tablerowGMT.title = <span class="hljs-string">"GMT"</span>+<span class="hljs-string">" "</span>+ worldClock(<span class="hljs-number">0</span>, <span class="hljs-string">"Greenwich"</span>);
$.tablerowVan.title= <span class="hljs-string">"Vancouver"</span> +<span class="hljs-string">" "</span> + worldClock(-<span class="hljs-number">8</span>, <span class="hljs-string">"NAmerica"</span>);
$.tablerowSF.title=<span class="hljs-string">"San Francisco"</span> +<span class="hljs-string">" "</span> + worldClock(-<span class="hljs-number">8</span>, <span class="hljs-string">"NAmerica"</span>);
$.tablerowSea.title=<span class="hljs-string">"Seattle"</span>+<span class="hljs-string">" "</span> + worldClock(-<span class="hljs-number">8</span>, <span class="hljs-string">"NAmerica"</span>);
$.tablerowLS.title=<span class="hljs-string">"Los Angeles"</span>+<span class="hljs-string">" "</span>+ worldClock(-<span class="hljs-number">8</span>, <span class="hljs-string">"NAmerica"</span>);
$.tablerowDen.title=<span class="hljs-string">"Denver"</span>+<span class="hljs-string">" "</span>+ worldClock(-<span class="hljs-number">7</span>, <span class="hljs-string">"NAmerica"</span>);
$.tablerowMC.title=<span class="hljs-string">"Mexico City"</span>+<span class="hljs-string">" "</span>+ worldClock(-<span class="hljs-number">6</span>, <span class="hljs-string">"NAmerica"</span>);
$.tablerowHou.title =<span class="hljs-string">"Houston"</span>+<span class="hljs-string">" "</span>+ worldClock(-<span class="hljs-number">6</span>, <span class="hljs-string">"NAmerica"</span>);
$.tablerowMinn.title =<span class="hljs-string">"Minneapolis"</span> +<span class="hljs-string">""</span> + worldClock(-<span class="hljs-number">6</span>, <span class="hljs-string">"NAmerica"</span>);
$.tablerowNO.title = <span class="hljs-string">"New Orleans"</span>+<span class="hljs-string">" "</span>+ worldClock(-<span class="hljs-number">6</span>, <span class="hljs-string">"NAmerica"</span>);
$.tablerowChi.title = <span class="hljs-string">"Chicago"</span> +<span class="hljs-string">" "</span>+ worldClock(-<span class="hljs-number">6</span>, <span class="hljs-string">"NAmerica"</span>);
$.tablerowMon.title =<span class="hljs-string">"Montgomery"</span> +<span class="hljs-string">" "</span>+ worldClock(-<span class="hljs-number">6</span>, <span class="hljs-string">"NAmerica"</span>);
$.tablerowInd.title = <span class="hljs-string">"Indianapolis"</span> + <span class="hljs-string">" "</span> +worldClock(-<span class="hljs-number">5</span>, <span class="hljs-string">"NAmerica"</span>);
$.tablerowAtl.title= <span class="hljs-string">"Atlanta"</span>+<span class="hljs-string">" "</span>+worldClock(-<span class="hljs-number">5</span>, <span class="hljs-string">"NAmerica"</span>);
$.tablerowDet.title =<span class="hljs-string">"Detroit"</span>+<span class="hljs-string">" "</span>+ worldClock(-<span class="hljs-number">5</span>, <span class="hljs-string">"NAmerica"</span>);
$.tablerowMia.title = <span class="hljs-string">"Miami"</span>+<span class="hljs-string">" "</span>+worldClock(-<span class="hljs-number">5</span>, <span class="hljs-string">"NAmerica"</span>);
$.tablerowWas.title=<span class="hljs-string">"Washington DC"</span>+ <span class="hljs-string">" "</span> +worldClock(-<span class="hljs-number">5</span>, <span class="hljs-string">"NAmerica"</span>);
$.tablerowPhi.title =<span class="hljs-string">"Philadelphia"</span>+<span class="hljs-string">" "</span>+ worldClock(-<span class="hljs-number">5</span>, <span class="hljs-string">"NAmerica"</span>);
$.tablerowNY.title =<span class="hljs-string">"New York"</span>+<span class="hljs-string">" "</span>+ worldClock(-<span class="hljs-number">5</span>, <span class="hljs-string">"NAmerica"</span>);
$.tablerowMon.title =<span class="hljs-string">"Montreal"</span>+<span class="hljs-string">" "</span>+ worldClock(-<span class="hljs-number">5</span>, <span class="hljs-string">"NAmerica"</span>);
$.tablerowBos.title =<span class="hljs-string">"Boston"</span> +<span class="hljs-string">" "</span>+ worldClock(-<span class="hljs-number">5</span>, <span class="hljs-string">"NAmerica"</span>);
$.tablerowBA.title = <span class="hljs-string">"Buenos Aires"</span>+<span class="hljs-string">" "</span>+worldClock(-<span class="hljs-number">3</span>, <span class="hljs-string">"BuenosAires"</span>);
$.tablerowSP.title = <span class="hljs-string">"Sao Paulo"</span>+<span class="hljs-string">" "</span>+worldClock(-<span class="hljs-number">3</span>, <span class="hljs-string">"SAmerica"</span>);
$.tablerowRDJ.title =<span class="hljs-string">"Rio De Janeiro"</span>+<span class="hljs-string">" "</span>+ worldClock(-<span class="hljs-number">3</span>, <span class="hljs-string">"SAmerica"</span>);
$.tablerowLis.title =<span class="hljs-string">"Lisbon"</span>+<span class="hljs-string">" "</span>+ worldClock(<span class="hljs-number">0</span>, <span class="hljs-string">"Europe"</span>);
$.tablerowDub.title = <span class="hljs-string">"Dublin"</span>+<span class="hljs-string">" "</span>+worldClock(<span class="hljs-number">0</span>, <span class="hljs-string">"Europe"</span>);
$.tablerowLon.title =<span class="hljs-string">"London"</span>+<span class="hljs-string">" "</span>+ worldClock(<span class="hljs-number">0</span>, <span class="hljs-string">"Europe"</span>);
$.tablerowMad.title = <span class="hljs-string">"Madrid"</span>+<span class="hljs-string">" "</span>+worldClock(<span class="hljs-number">1</span>, <span class="hljs-string">"Europe"</span>);
$.tablerowBar.title = <span class="hljs-string">"Barcelona"</span>+<span class="hljs-string">" "</span>+worldClock(<span class="hljs-number">1</span>, <span class="hljs-string">"Europe"</span>);
$.tablerowPar.title= <span class="hljs-string">"Paris"</span>+<span class="hljs-string">" "</span>+worldClock(<span class="hljs-number">1</span>, <span class="hljs-string">"Europe"</span>);
$.tablerowBru.title =<span class="hljs-string">"Brussels"</span>+<span class="hljs-string">" "</span>+ worldClock(<span class="hljs-number">1</span>, <span class="hljs-string">"Europe"</span>);
$.tablerowAms.title =<span class="hljs-string">"Amsterdam"</span>+<span class="hljs-string">" "</span>+ worldClock(<span class="hljs-number">1</span>, <span class="hljs-string">"Europe"</span>);
$.tablerowFra.title =<span class="hljs-string">"Frankfurt"</span>+<span class="hljs-string">" "</span>+ worldClock(<span class="hljs-number">1</span>, <span class="hljs-string">"Europe"</span>);
$.tablerowRom.title =<span class="hljs-string">"Rome"</span>+<span class="hljs-string">" "</span>+ worldClock(<span class="hljs-number">1</span>, <span class="hljs-string">"Europe"</span>);
$.tablerowBer.title = <span class="hljs-string">"Berlin"</span>+<span class="hljs-string">" "</span>+worldClock(<span class="hljs-number">1</span>, <span class="hljs-string">"Europe"</span>);
$.tablerowPra.title =<span class="hljs-string">"Prague"</span>+<span class="hljs-string">" "</span>+ worldClock(<span class="hljs-number">1</span>, <span class="hljs-string">"Europe"</span>);
$.tablerowVie.title =<span class="hljs-string">"Vienna"</span>+<span class="hljs-string">" "</span>+ worldClock(<span class="hljs-number">1</span>, <span class="hljs-string">"Europe"</span>);
$.tablerowSto.title =<span class="hljs-string">"Stockholm"</span>+<span class="hljs-string">" "</span>+ worldClock(<span class="hljs-number">1</span>, <span class="hljs-string">"Europe"</span>);
$.tablerowAth.title = <span class="hljs-string">"Athens"</span>+<span class="hljs-string">" "</span>+worldClock(<span class="hljs-number">2</span>, <span class="hljs-string">"Europe"</span>);
$.tablerowHel.title =<span class="hljs-string">"Helsinki"</span>+<span class="hljs-string">" "</span>+ worldClock(<span class="hljs-number">2</span>, <span class="hljs-string">"Europe"</span>);
$.tablerowMin.title =<span class="hljs-string">"Minks"</span>+<span class="hljs-string">" "</span>+ worldClock(<span class="hljs-number">2</span>, <span class="hljs-string">"Europe"</span>);
$.tablerowIns.title = <span class="hljs-string">"Instanbul"</span>+<span class="hljs-string">" "</span>+worldClock(<span class="hljs-number">2</span>, <span class="hljs-string">"Europe"</span>);
$.tablerowCai.title=<span class="hljs-string">"Cairo"</span>+<span class="hljs-string">" "</span>+ worldClock(<span class="hljs-number">2</span>, <span class="hljs-string">"Cairo"</span>);
$.tablerowJer.title =<span class="hljs-string">"Jerusalem"</span>+<span class="hljs-string">" "</span>+ worldClock(<span class="hljs-number">2</span>, <span class="hljs-string">"Israel"</span>);
$.tablerowBei.title = <span class="hljs-string">"Beirut"</span>+<span class="hljs-string">" "</span>+worldClock(<span class="hljs-number">2</span>, <span class="hljs-string">"Beirut"</span>);
$.tablerowMos.title = <span class="hljs-string">"Moscow"</span>+<span class="hljs-string">" "</span>+worldClock(<span class="hljs-number">3</span>, <span class="hljs-string">"Europe"</span>);
$.tablerowBag.title =<span class="hljs-string">"Baghdad"</span>+<span class="hljs-string">" "</span>+ worldClock(<span class="hljs-number">3</span>, <span class="hljs-string">"Baghdad"</span>);
$.tablerowDub.title = <span class="hljs-string">"Dubai"</span> +<span class="hljs-string">" "</span>+worldClock(<span class="hljs-number">4</span>, <span class="hljs-string">"Dubai"</span>);
$.tablerowBan.title = <span class="hljs-string">"Bangkok"</span>+<span class="hljs-string">" "</span>+worldClock(<span class="hljs-number">7</span>, <span class="hljs-string">"Bangkok"</span>);
$.tablerowJak.title =<span class="hljs-string">"Jakarta"</span>+<span class="hljs-string">" "</span>+ worldClock(<span class="hljs-number">7</span>, <span class="hljs-string">"Jakarta"</span>);
$.tablerowHK.title = <span class="hljs-string">"Hong Kong"</span>+<span class="hljs-string">" "</span>+worldClock(<span class="hljs-number">8</span>, <span class="hljs-string">"HongKong"</span>);
$.tablerowBei.title = <span class="hljs-string">"Beijing"</span>+<span class="hljs-string">" "</span>+worldClock(<span class="hljs-number">8</span>, <span class="hljs-string">"Beijing"</span>);
$.tablerowSha.title = <span class="hljs-string">"Shanghai"</span>+<span class="hljs-string">" "</span>+worldClock(<span class="hljs-number">8</span>, <span class="hljs-string">"Shanghai"</span>);
$.tablerowSeo.title = <span class="hljs-string">"Seoul"</span>+<span class="hljs-string">" "</span>+worldClock(<span class="hljs-number">9</span>, <span class="hljs-string">"Seoul"</span>);
$.tablerowTok.title =<span class="hljs-string">"Tokio"</span>+<span class="hljs-string">" "</span>+ worldClock(<span class="hljs-number">9</span>, <span class="hljs-string">"Tokyo"</span>);
$.tablerowMel.title =<span class="hljs-string">"Melbourne"</span>+<span class="hljs-string">" "</span>+ worldClock(<span class="hljs-number">10</span>, <span class="hljs-string">"Australia"</span>);
$.tablerowSyd.title =<span class="hljs-string">"Sydney"</span>+<span class="hljs-string">" "</span>+ worldClock(<span class="hljs-number">10</span>, <span class="hljs-string">"Australia"</span>);
$.tablerowBris.title= <span class="hljs-string">"Brisbane"</span>+<span class="hljs-string">" "</span>+worldClock(<span class="hljs-number">10</span>, <span class="hljs-string">"Brisbane"</span>);
$.tablerowVla.title =<span class="hljs-string">"Vladivostok"</span>+<span class="hljs-string">" "</span>+ worldClock(<span class="hljs-number">10</span>, <span class="hljs-string">"Europe"</span>);
$.tablerowKam.title =<span class="hljs-string">"Kamchatka"</span>+<span class="hljs-string">" "</span>+ worldClock(<span class="hljs-number">12</span>, <span class="hljs-string">"Europe"</span>);

<span class="hljs-comment">//setTimeout("worldClockZone()", 1000); }</span>
</code></pre>
		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="July 24th 2014, 12:19:34 pm">July 24th 2014</span>
				by <span class='authorname'>Gianluca Mazzarella</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>clock</span></li>
					
						<li><span class='tagname'>setinterval</span></li>
					
						<li><span class='tagname'>titanium studio</span></li>
					
						<li><span class='tagname'>worldclock</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-281088">
				
						<section>
							<p>this is my js</p>
<pre><code class="hljs"><span class="hljs-function">function <span class="hljs-title">worldClock</span><span class="hljs-params">(zone, region)</span></span>{
var dst = <span class="hljs-number">0</span>;
var time = <span class="hljs-keyword">new</span> Date();
var gmtMS = time.getTime() + (time.getTimezoneOffset() * <span class="hljs-number">60000</span>);
var gmtTime = <span class="hljs-keyword">new</span> Date(gmtMS);
var day = gmtTime.getDate();
var month = gmtTime.getMonth();
var year = gmtTime.getYear();
<span class="hljs-keyword">if</span>(year &lt; <span class="hljs-number">1000</span>){
year += <span class="hljs-number">1900</span>;
}
var monthArray = <span class="hljs-keyword">new</span> Array(<span class="hljs-string">"January"</span>, <span class="hljs-string">"February"</span>, <span class="hljs-string">"March"</span>, <span class="hljs-string">"April"</span>, <span class="hljs-string">"May"</span>, <span class="hljs-string">"June"</span>, <span class="hljs-string">"July"</span>, <span class="hljs-string">"August"</span>, 
                <span class="hljs-string">"September"</span>, <span class="hljs-string">"October"</span>, <span class="hljs-string">"November"</span>, <span class="hljs-string">"December"</span>);
var monthDays = <span class="hljs-keyword">new</span> Array(<span class="hljs-string">"31"</span>, <span class="hljs-string">"28"</span>, <span class="hljs-string">"31"</span>, <span class="hljs-string">"30"</span>, <span class="hljs-string">"31"</span>, <span class="hljs-string">"30"</span>, <span class="hljs-string">"31"</span>, <span class="hljs-string">"31"</span>, <span class="hljs-string">"30"</span>, <span class="hljs-string">"31"</span>, <span class="hljs-string">"30"</span>, <span class="hljs-string">"31"</span>);
<span class="hljs-keyword">if</span> (year%<span class="hljs-number">4</span> == <span class="hljs-number">0</span>){
monthDays = <span class="hljs-keyword">new</span> Array(<span class="hljs-string">"31"</span>, <span class="hljs-string">"29"</span>, <span class="hljs-string">"31"</span>, <span class="hljs-string">"30"</span>, <span class="hljs-string">"31"</span>, <span class="hljs-string">"30"</span>, <span class="hljs-string">"31"</span>, <span class="hljs-string">"31"</span>, <span class="hljs-string">"30"</span>, <span class="hljs-string">"31"</span>, <span class="hljs-string">"30"</span>, <span class="hljs-string">"31"</span>);
}
<span class="hljs-keyword">if</span>(year%<span class="hljs-number">100</span> == <span class="hljs-number">0</span> &amp;&amp; year%<span class="hljs-number">400</span> != <span class="hljs-number">0</span>){
monthDays = <span class="hljs-keyword">new</span> Array(<span class="hljs-string">"31"</span>, <span class="hljs-string">"28"</span>, <span class="hljs-string">"31"</span>, <span class="hljs-string">"30"</span>, <span class="hljs-string">"31"</span>, <span class="hljs-string">"30"</span>, <span class="hljs-string">"31"</span>, <span class="hljs-string">"31"</span>, <span class="hljs-string">"30"</span>, <span class="hljs-string">"31"</span>, <span class="hljs-string">"30"</span>, <span class="hljs-string">"31"</span>);
}

var hr = gmtTime.getHours() + zone;
var min = gmtTime.getMinutes();
var sec = gmtTime.getSeconds();

<span class="hljs-keyword">if</span> (hr &gt;= <span class="hljs-number">24</span>){
hr = hr-<span class="hljs-number">24</span>;
day -= -<span class="hljs-number">1</span>;
}
<span class="hljs-keyword">if</span> (hr &lt; <span class="hljs-number">0</span>){
hr -= -<span class="hljs-number">24</span>;
day -= <span class="hljs-number">1</span>;
}
<span class="hljs-keyword">if</span> (hr &lt; <span class="hljs-number">10</span>){
hr = <span class="hljs-string">" "</span> + hr;
}
<span class="hljs-keyword">if</span> (min &lt; <span class="hljs-number">10</span>){
min = <span class="hljs-string">"0"</span> + min;
}
<span class="hljs-keyword">if</span> (sec &lt; <span class="hljs-number">10</span>){
sec = <span class="hljs-string">"0"</span> + sec;
}
<span class="hljs-keyword">if</span> (day &lt;= <span class="hljs-number">0</span>){
<span class="hljs-keyword">if</span> (month == <span class="hljs-number">0</span>){
    month = <span class="hljs-number">11</span>;
    year -= <span class="hljs-number">1</span>;
    }
    <span class="hljs-keyword">else</span>{
    month = month -<span class="hljs-number">1</span>;
    }
day = monthDays[month];
}
<span class="hljs-keyword">if</span>(day &gt; monthDays[month]){
    day = <span class="hljs-number">1</span>;
    <span class="hljs-keyword">if</span>(month == <span class="hljs-number">11</span>){
    month = <span class="hljs-number">0</span>;
    year -= -<span class="hljs-number">1</span>;
    }
    <span class="hljs-keyword">else</span>{
    month -= -<span class="hljs-number">1</span>;
    }
}
<span class="hljs-keyword">if</span> (region == <span class="hljs-string">"NAmerica"</span>){
    var startDST = <span class="hljs-keyword">new</span> Date();
    var endDST = <span class="hljs-keyword">new</span> Date();
    startDST.setMonth(<span class="hljs-number">3</span>);
    startDST.setHours(<span class="hljs-number">2</span>);
    startDST.setDate(<span class="hljs-number">1</span>);
    var dayDST = startDST.getDay();
    <span class="hljs-keyword">if</span> (dayDST != <span class="hljs-number">0</span>){
        startDST.setDate(<span class="hljs-number">8</span>-dayDST);
        }
        <span class="hljs-keyword">else</span>{
        startDST.setDate(<span class="hljs-number">1</span>);
        }
    endDST.setMonth(<span class="hljs-number">9</span>);
    endDST.setHours(<span class="hljs-number">1</span>);
    endDST.setDate(<span class="hljs-number">31</span>);
    dayDST = endDST.getDay();
    endDST.setDate(<span class="hljs-number">31</span>-dayDST);
    var currentTime = <span class="hljs-keyword">new</span> Date();
    currentTime.setMonth(month);
    currentTime.setYear(year);
    currentTime.setDate(day);
    currentTime.setHours(hr);
    <span class="hljs-keyword">if</span>(currentTime &gt;= startDST &amp;&amp; currentTime &lt; endDST){
        dst = <span class="hljs-number">1</span>;
        }
}
<span class="hljs-keyword">if</span> (region == <span class="hljs-string">"Europe"</span>){
    var startDST = <span class="hljs-keyword">new</span> Date();
    var endDST = <span class="hljs-keyword">new</span> Date();
    startDST.setMonth(<span class="hljs-number">2</span>);
    startDST.setHours(<span class="hljs-number">1</span>);
    startDST.setDate(<span class="hljs-number">31</span>);
    var dayDST = startDST.getDay();
    startDST.setDate(<span class="hljs-number">31</span>-dayDST);
    endDST.setMonth(<span class="hljs-number">9</span>);
    endDST.setHours(<span class="hljs-number">0</span>);
    endDST.setDate(<span class="hljs-number">31</span>);
    dayDST = endDST.getDay();
    endDST.setDate(<span class="hljs-number">31</span>-dayDST);
    var currentTime = <span class="hljs-keyword">new</span> Date();
    currentTime.setMonth(month);
    currentTime.setYear(year);
    currentTime.setDate(day);
    currentTime.setHours(hr);
    <span class="hljs-keyword">if</span>(currentTime &gt;= startDST &amp;&amp; currentTime &lt; endDST){
        dst = <span class="hljs-number">1</span>;
        }
}

<span class="hljs-keyword">if</span> (region == <span class="hljs-string">"SAmerica"</span>){
    var startDST = <span class="hljs-keyword">new</span> Date();
    var endDST = <span class="hljs-keyword">new</span> Date();
    startDST.setMonth(<span class="hljs-number">9</span>);
    startDST.setHours(<span class="hljs-number">0</span>);
    startDST.setDate(<span class="hljs-number">1</span>);
    var dayDST = startDST.getDay();
    <span class="hljs-keyword">if</span> (dayDST != <span class="hljs-number">0</span>){
        startDST.setDate(<span class="hljs-number">22</span>-dayDST);
        }
        <span class="hljs-keyword">else</span>{
        startDST.setDate(<span class="hljs-number">15</span>);
        }
    endDST.setMonth(<span class="hljs-number">1</span>);
    endDST.setHours(<span class="hljs-number">11</span>);
    endDST.setDate(<span class="hljs-number">1</span>);
    dayDST = endDST.getDay();
    <span class="hljs-keyword">if</span> (dayDST != <span class="hljs-number">0</span>){
        endDST.setDate(<span class="hljs-number">21</span>-dayDST);
        }
        <span class="hljs-keyword">else</span>{
        endDST.setDate(<span class="hljs-number">14</span>);
        }
    var currentTime = <span class="hljs-keyword">new</span> Date();
    currentTime.setMonth(month);
    currentTime.setYear(year);
    currentTime.setDate(day);
    currentTime.setHours(hr);
    <span class="hljs-keyword">if</span>(currentTime &gt;= startDST || currentTime &lt; endDST){
        dst = <span class="hljs-number">1</span>;
        }
}
<span class="hljs-keyword">if</span> (region == <span class="hljs-string">"Cairo"</span>){
    var startDST = <span class="hljs-keyword">new</span> Date();
    var endDST = <span class="hljs-keyword">new</span> Date();
    startDST.setMonth(<span class="hljs-number">3</span>);
    startDST.setHours(<span class="hljs-number">0</span>);
    startDST.setDate(<span class="hljs-number">30</span>);
    var dayDST = startDST.getDay();
    <span class="hljs-keyword">if</span> (dayDST &lt; <span class="hljs-number">5</span>){
        startDST.setDate(<span class="hljs-number">28</span>-dayDST);
        }
        <span class="hljs-keyword">else</span> {
        startDST.setDate(<span class="hljs-number">35</span>-dayDST);
        }
    endDST.setMonth(<span class="hljs-number">8</span>);
    endDST.setHours(<span class="hljs-number">11</span>);
    endDST.setDate(<span class="hljs-number">30</span>);
    dayDST = endDST.getDay();
    <span class="hljs-keyword">if</span> (dayDST &lt; <span class="hljs-number">4</span>){
        endDST.setDate(<span class="hljs-number">27</span>-dayDST);
        }
        <span class="hljs-keyword">else</span>{
        endDST.setDate(<span class="hljs-number">34</span>-dayDST);
        }
    var currentTime = <span class="hljs-keyword">new</span> Date();
    currentTime.setMonth(month);
    currentTime.setYear(year);
    currentTime.setDate(day);
    currentTime.setHours(hr);
    <span class="hljs-keyword">if</span>(currentTime &gt;= startDST &amp;&amp; currentTime &lt; endDST){
        dst = <span class="hljs-number">1</span>;
        }
}
<span class="hljs-keyword">if</span> (region == <span class="hljs-string">"Israel"</span>){
    var startDST = <span class="hljs-keyword">new</span> Date();
    var endDST = <span class="hljs-keyword">new</span> Date();
    startDST.setMonth(<span class="hljs-number">3</span>);
    startDST.setHours(<span class="hljs-number">2</span>);
    startDST.setDate(<span class="hljs-number">1</span>);
    endDST.setMonth(<span class="hljs-number">8</span>);
    endDST.setHours(<span class="hljs-number">2</span>);
    endDST.setDate(<span class="hljs-number">25</span>);
    dayDST = endDST.getDay();
    <span class="hljs-keyword">if</span> (dayDST != <span class="hljs-number">0</span>){
    endDST.setDate(<span class="hljs-number">32</span>-dayDST);
    }
    <span class="hljs-keyword">else</span>{
    endDST.setDate(<span class="hljs-number">1</span>);
    endDST.setMonth(<span class="hljs-number">9</span>);
    }
    var currentTime = <span class="hljs-keyword">new</span> Date();
    currentTime.setMonth(month);
    currentTime.setYear(year);
    currentTime.setDate(day);
    currentTime.setHours(hr);
    <span class="hljs-keyword">if</span>(currentTime &gt;= startDST &amp;&amp; currentTime &lt; endDST){
        dst = <span class="hljs-number">1</span>;
        }
}
<span class="hljs-keyword">if</span> (region == <span class="hljs-string">"Beirut"</span>){
    var startDST = <span class="hljs-keyword">new</span> Date();
    var endDST = <span class="hljs-keyword">new</span> Date();
    startDST.setMonth(<span class="hljs-number">2</span>);
    startDST.setHours(<span class="hljs-number">0</span>);
    startDST.setDate(<span class="hljs-number">31</span>);
    var dayDST = startDST.getDay();
    startDST.setDate(<span class="hljs-number">31</span>-dayDST);
    endDST.setMonth(<span class="hljs-number">9</span>);
    endDST.setHours(<span class="hljs-number">11</span>);
    endDST.setDate(<span class="hljs-number">31</span>);
    dayDST = endDST.getDay();
    endDST.setDate(<span class="hljs-number">30</span>-dayDST);
    var currentTime = <span class="hljs-keyword">new</span> Date();
    currentTime.setMonth(month);
    currentTime.setYear(year);
    currentTime.setDate(day);
    currentTime.setHours(hr);
    <span class="hljs-keyword">if</span>(currentTime &gt;= startDST &amp;&amp; currentTime &lt; endDST){
        dst = <span class="hljs-number">1</span>;
        }
}
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="July 24th 2014, 12:31:27 pm">July 24th 2014</span>
								by <span class='authorname'>Gianluca Mazzarella</span><br>
								<a class="icon-bg icon-link" href="question/176455/problem-with-setinterval-in-worldclock-app#answer-281088" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-281090">
				
						<section>
							<pre><code class="hljs"><span class="hljs-keyword">if</span> (region == <span class="hljs-string">"Baghdad"</span>){
    var startDST = <span class="hljs-keyword">new</span> Date();
    var endDST = <span class="hljs-keyword">new</span> Date();
    startDST.setMonth(<span class="hljs-number">3</span>);
    startDST.setHours(<span class="hljs-number">3</span>);
    startDST.setDate(<span class="hljs-number">1</span>);
    endDST.setMonth(<span class="hljs-number">9</span>);
    endDST.setHours(<span class="hljs-number">3</span>);
    endDST.setDate(<span class="hljs-number">1</span>);
    dayDST = endDST.getDay();
        var currentTime = <span class="hljs-keyword">new</span> Date();
    currentTime.setMonth(month);
    currentTime.setYear(year);
    currentTime.setDate(day);
    currentTime.setHours(hr);
    <span class="hljs-keyword">if</span>(currentTime &gt;= startDST &amp;&amp; currentTime &lt; endDST){
        dst = <span class="hljs-number">1</span>;
        }
}
<span class="hljs-keyword">if</span> (region == <span class="hljs-string">"Australia"</span>){
    var startDST = <span class="hljs-keyword">new</span> Date();
    var endDST = <span class="hljs-keyword">new</span> Date();
    startDST.setMonth(<span class="hljs-number">9</span>);
    startDST.setHours(<span class="hljs-number">2</span>);
    startDST.setDate(<span class="hljs-number">31</span>);
    var dayDST = startDST.getDay();
    startDST.setDate(<span class="hljs-number">31</span>-dayDST);
    endDST.setMonth(<span class="hljs-number">2</span>);
    endDST.setHours(<span class="hljs-number">2</span>);
    endDST.setDate(<span class="hljs-number">31</span>);
    dayDST = endDST.getDay();
    endDST.setDate(<span class="hljs-number">31</span>-dayDST);
    var currentTime = <span class="hljs-keyword">new</span> Date();
    currentTime.setMonth(month);
    currentTime.setYear(year);
    currentTime.setDate(day);
    currentTime.setHours(hr);
    <span class="hljs-keyword">if</span>(currentTime &gt;= startDST || currentTime &lt; endDST){
        dst = <span class="hljs-number">1</span>;
        }
}


<span class="hljs-keyword">if</span> (dst == <span class="hljs-number">1</span>){
    hr -= -<span class="hljs-number">1</span>;
    <span class="hljs-keyword">if</span> (hr &gt;= <span class="hljs-number">24</span>){
    hr = hr-<span class="hljs-number">24</span>;
    day -= -<span class="hljs-number">1</span>;
    }
    <span class="hljs-keyword">if</span> (hr &lt; <span class="hljs-number">10</span>){
    hr = <span class="hljs-string">" "</span> + hr;
    }
    <span class="hljs-keyword">if</span>(day &gt; monthDays[month]){
    day = <span class="hljs-number">1</span>;
    <span class="hljs-keyword">if</span>(month == <span class="hljs-number">11</span>){
    month = <span class="hljs-number">0</span>;
    year -= -<span class="hljs-number">1</span>;
    }
    <span class="hljs-keyword">else</span>{
    month -= -<span class="hljs-number">1</span>;
    }
    }
<span class="hljs-keyword">return</span> monthArray[month] + <span class="hljs-string">" "</span> + day + <span class="hljs-string">", "</span> + year + <span class="hljs-string">" "</span> + hr + <span class="hljs-string">":"</span> + min + <span class="hljs-string">":"</span> + sec + <span class="hljs-string">" DST"</span>;
}
<span class="hljs-keyword">else</span>{
<span class="hljs-keyword">return</span> monthArray[month] + <span class="hljs-string">" "</span> + day + <span class="hljs-string">", "</span> + year + <span class="hljs-string">" "</span> + hr + <span class="hljs-string">":"</span> + min + <span class="hljs-string">":"</span> + sec;
}
}


<span class="hljs-comment">//function worldClockZone(){</span>

$.tablerowGMT.title = <span class="hljs-string">"GMT"</span>+<span class="hljs-string">" "</span>+ worldClock(<span class="hljs-number">0</span>, <span class="hljs-string">"Greenwich"</span>);
$.tablerowVan.title= <span class="hljs-string">"Vancouver"</span> +<span class="hljs-string">" "</span> + worldClock(-<span class="hljs-number">8</span>, <span class="hljs-string">"NAmerica"</span>);
$.tablerowSF.title=<span class="hljs-string">"San Francisco"</span> +<span class="hljs-string">" "</span> + worldClock(-<span class="hljs-number">8</span>, <span class="hljs-string">"NAmerica"</span>);
$.tablerowSea.title=<span class="hljs-string">"Seattle"</span>+<span class="hljs-string">" "</span> + worldClock(-<span class="hljs-number">8</span>, <span class="hljs-string">"NAmerica"</span>);
$.tablerowLS.title=<span class="hljs-string">"Los Angeles"</span>+<span class="hljs-string">" "</span>+ worldClock(-<span class="hljs-number">8</span>, <span class="hljs-string">"NAmerica"</span>);
$.tablerowDen.title=<span class="hljs-string">"Denver"</span>+<span class="hljs-string">" "</span>+ worldClock(-<span class="hljs-number">7</span>, <span class="hljs-string">"NAmerica"</span>);
$.tablerowMC.title=<span class="hljs-string">"Mexico City"</span>+<span class="hljs-string">" "</span>+ worldClock(-<span class="hljs-number">6</span>, <span class="hljs-string">"NAmerica"</span>);
$.tablerowHou.title =<span class="hljs-string">"Houston"</span>+<span class="hljs-string">" "</span>+ worldClock(-<span class="hljs-number">6</span>, <span class="hljs-string">"NAmerica"</span>);
$.tablerowMinn.title =<span class="hljs-string">"Minneapolis"</span> +<span class="hljs-string">""</span> + worldClock(-<span class="hljs-number">6</span>, <span class="hljs-string">"NAmerica"</span>);
$.tablerowNO.title = <span class="hljs-string">"New Orleans"</span>+<span class="hljs-string">" "</span>+ worldClock(-<span class="hljs-number">6</span>, <span class="hljs-string">"NAmerica"</span>);
$.tablerowChi.title = <span class="hljs-string">"Chicago"</span> +<span class="hljs-string">" "</span>+ worldClock(-<span class="hljs-number">6</span>, <span class="hljs-string">"NAmerica"</span>);
$.tablerowMon.title =<span class="hljs-string">"Montgomery"</span> +<span class="hljs-string">" "</span>+ worldClock(-<span class="hljs-number">6</span>, <span class="hljs-string">"NAmerica"</span>);
$.tablerowInd.title = <span class="hljs-string">"Indianapolis"</span> + <span class="hljs-string">" "</span> +worldClock(-<span class="hljs-number">5</span>, <span class="hljs-string">"NAmerica"</span>);
$.tablerowAtl.title= <span class="hljs-string">"Atlanta"</span>+<span class="hljs-string">" "</span>+worldClock(-<span class="hljs-number">5</span>, <span class="hljs-string">"NAmerica"</span>);
$.tablerowDet.title =<span class="hljs-string">"Detroit"</span>+<span class="hljs-string">" "</span>+ worldClock(-<span class="hljs-number">5</span>, <span class="hljs-string">"NAmerica"</span>);
$.tablerowMia.title = <span class="hljs-string">"Miami"</span>+<span class="hljs-string">" "</span>+worldClock(-<span class="hljs-number">5</span>, <span class="hljs-string">"NAmerica"</span>);
$.tablerowWas.title=<span class="hljs-string">"Washington DC"</span>+ <span class="hljs-string">" "</span> +worldClock(-<span class="hljs-number">5</span>, <span class="hljs-string">"NAmerica"</span>);
$.tablerowPhi.title =<span class="hljs-string">"Philadelphia"</span>+<span class="hljs-string">" "</span>+ worldClock(-<span class="hljs-number">5</span>, <span class="hljs-string">"NAmerica"</span>);
$.tablerowNY.title =<span class="hljs-string">"New York"</span>+<span class="hljs-string">" "</span>+ worldClock(-<span class="hljs-number">5</span>, <span class="hljs-string">"NAmerica"</span>);
$.tablerowMon.title =<span class="hljs-string">"Montreal"</span>+<span class="hljs-string">" "</span>+ worldClock(-<span class="hljs-number">5</span>, <span class="hljs-string">"NAmerica"</span>);
$.tablerowBos.title =<span class="hljs-string">"Boston"</span> +<span class="hljs-string">" "</span>+ worldClock(-<span class="hljs-number">5</span>, <span class="hljs-string">"NAmerica"</span>);
$.tablerowBA.title = <span class="hljs-string">"Buenos Aires"</span>+<span class="hljs-string">" "</span>+worldClock(-<span class="hljs-number">3</span>, <span class="hljs-string">"BuenosAires"</span>);
$.tablerowSP.title = <span class="hljs-string">"Sao Paulo"</span>+<span class="hljs-string">" "</span>+worldClock(-<span class="hljs-number">3</span>, <span class="hljs-string">"SAmerica"</span>);
$.tablerowRDJ.title =<span class="hljs-string">"Rio De Janeiro"</span>+<span class="hljs-string">" "</span>+ worldClock(-<span class="hljs-number">3</span>, <span class="hljs-string">"SAmerica"</span>);
$.tablerowLis.title =<span class="hljs-string">"Lisbon"</span>+<span class="hljs-string">" "</span>+ worldClock(<span class="hljs-number">0</span>, <span class="hljs-string">"Europe"</span>);
$.tablerowDub.title = <span class="hljs-string">"Dublin"</span>+<span class="hljs-string">" "</span>+worldClock(<span class="hljs-number">0</span>, <span class="hljs-string">"Europe"</span>);
$.tablerowLon.title =<span class="hljs-string">"London"</span>+<span class="hljs-string">" "</span>+ worldClock(<span class="hljs-number">0</span>, <span class="hljs-string">"Europe"</span>);
$.tablerowMad.title = <span class="hljs-string">"Madrid"</span>+<span class="hljs-string">" "</span>+worldClock(<span class="hljs-number">1</span>, <span class="hljs-string">"Europe"</span>);
$.tablerowBar.title = <span class="hljs-string">"Barcelona"</span>+<span class="hljs-string">" "</span>+worldClock(<span class="hljs-number">1</span>, <span class="hljs-string">"Europe"</span>);
$.tablerowPar.title= <span class="hljs-string">"Paris"</span>+<span class="hljs-string">" "</span>+worldClock(<span class="hljs-number">1</span>, <span class="hljs-string">"Europe"</span>);
$.tablerowBru.title =<span class="hljs-string">"Brussels"</span>+<span class="hljs-string">" "</span>+ worldClock(<span class="hljs-number">1</span>, <span class="hljs-string">"Europe"</span>);
$.tablerowAms.title =<span class="hljs-string">"Amsterdam"</span>+<span class="hljs-string">" "</span>+ worldClock(<span class="hljs-number">1</span>, <span class="hljs-string">"Europe"</span>);
$.tablerowFra.title =<span class="hljs-string">"Frankfurt"</span>+<span class="hljs-string">" "</span>+ worldClock(<span class="hljs-number">1</span>, <span class="hljs-string">"Europe"</span>);
$.tablerowRom.title =<span class="hljs-string">"Rome"</span>+<span class="hljs-string">" "</span>+ worldClock(<span class="hljs-number">1</span>, <span class="hljs-string">"Europe"</span>);
$.tablerowBer.title = <span class="hljs-string">"Berlin"</span>+<span class="hljs-string">" "</span>+worldClock(<span class="hljs-number">1</span>, <span class="hljs-string">"Europe"</span>);
$.tablerowPra.title =<span class="hljs-string">"Prague"</span>+<span class="hljs-string">" "</span>+ worldClock(<span class="hljs-number">1</span>, <span class="hljs-string">"Europe"</span>);
$.tablerowVie.title =<span class="hljs-string">"Vienna"</span>+<span class="hljs-string">" "</span>+ worldClock(<span class="hljs-number">1</span>, <span class="hljs-string">"Europe"</span>);
$.tablerowSto.title =<span class="hljs-string">"Stockholm"</span>+<span class="hljs-string">" "</span>+ worldClock(<span class="hljs-number">1</span>, <span class="hljs-string">"Europe"</span>);
$.tablerowAth.title = <span class="hljs-string">"Athens"</span>+<span class="hljs-string">" "</span>+worldClock(<span class="hljs-number">2</span>, <span class="hljs-string">"Europe"</span>);
$.tablerowHel.title =<span class="hljs-string">"Helsinki"</span>+<span class="hljs-string">" "</span>+ worldClock(<span class="hljs-number">2</span>, <span class="hljs-string">"Europe"</span>);
$.tablerowMin.title =<span class="hljs-string">"Minks"</span>+<span class="hljs-string">" "</span>+ worldClock(<span class="hljs-number">2</span>, <span class="hljs-string">"Europe"</span>);
$.tablerowIns.title = <span class="hljs-string">"Instanbul"</span>+<span class="hljs-string">" "</span>+worldClock(<span class="hljs-number">2</span>, <span class="hljs-string">"Europe"</span>);
$.tablerowCai.title=<span class="hljs-string">"Cairo"</span>+<span class="hljs-string">" "</span>+ worldClock(<span class="hljs-number">2</span>, <span class="hljs-string">"Cairo"</span>);
$.tablerowJer.title =<span class="hljs-string">"Jerusalem"</span>+<span class="hljs-string">" "</span>+ worldClock(<span class="hljs-number">2</span>, <span class="hljs-string">"Israel"</span>);
$.tablerowBei.title = <span class="hljs-string">"Beirut"</span>+<span class="hljs-string">" "</span>+worldClock(<span class="hljs-number">2</span>, <span class="hljs-string">"Beirut"</span>);
$.tablerowMos.title = <span class="hljs-string">"Moscow"</span>+<span class="hljs-string">" "</span>+worldClock(<span class="hljs-number">3</span>, <span class="hljs-string">"Europe"</span>);
$.tablerowBag.title =<span class="hljs-string">"Baghdad"</span>+<span class="hljs-string">" "</span>+ worldClock(<span class="hljs-number">3</span>, <span class="hljs-string">"Baghdad"</span>);
$.tablerowDub.title = <span class="hljs-string">"Dubai"</span> +<span class="hljs-string">" "</span>+worldClock(<span class="hljs-number">4</span>, <span class="hljs-string">"Dubai"</span>);
$.tablerowBan.title = <span class="hljs-string">"Bangkok"</span>+<span class="hljs-string">" "</span>+worldClock(<span class="hljs-number">7</span>, <span class="hljs-string">"Bangkok"</span>);
$.tablerowJak.title =<span class="hljs-string">"Jakarta"</span>+<span class="hljs-string">" "</span>+ worldClock(<span class="hljs-number">7</span>, <span class="hljs-string">"Jakarta"</span>);
$.tablerowHK.title = <span class="hljs-string">"Hong Kong"</span>+<span class="hljs-string">" "</span>+worldClock(<span class="hljs-number">8</span>, <span class="hljs-string">"HongKong"</span>);
$.tablerowBei.title = <span class="hljs-string">"Beijing"</span>+<span class="hljs-string">" "</span>+worldClock(<span class="hljs-number">8</span>, <span class="hljs-string">"Beijing"</span>);
$.tablerowSha.title = <span class="hljs-string">"Shanghai"</span>+<span class="hljs-string">" "</span>+worldClock(<span class="hljs-number">8</span>, <span class="hljs-string">"Shanghai"</span>);
$.tablerowSeo.title = <span class="hljs-string">"Seoul"</span>+<span class="hljs-string">" "</span>+worldClock(<span class="hljs-number">9</span>, <span class="hljs-string">"Seoul"</span>);
$.tablerowTok.title =<span class="hljs-string">"Tokio"</span>+<span class="hljs-string">" "</span>+ worldClock(<span class="hljs-number">9</span>, <span class="hljs-string">"Tokyo"</span>);
$.tablerowMel.title =<span class="hljs-string">"Melbourne"</span>+<span class="hljs-string">" "</span>+ worldClock(<span class="hljs-number">10</span>, <span class="hljs-string">"Australia"</span>);
$.tablerowSyd.title =<span class="hljs-string">"Sydney"</span>+<span class="hljs-string">" "</span>+ worldClock(<span class="hljs-number">10</span>, <span class="hljs-string">"Australia"</span>);
$.tablerowBris.title= <span class="hljs-string">"Brisbane"</span>+<span class="hljs-string">" "</span>+worldClock(<span class="hljs-number">10</span>, <span class="hljs-string">"Brisbane"</span>);
$.tablerowVla.title =<span class="hljs-string">"Vladivostok"</span>+<span class="hljs-string">" "</span>+ worldClock(<span class="hljs-number">10</span>, <span class="hljs-string">"Europe"</span>);
$.tablerowKam.title =<span class="hljs-string">"Kamchatka"</span>+<span class="hljs-string">" "</span>+ worldClock(<span class="hljs-number">12</span>, <span class="hljs-string">"Europe"</span>);

<span class="hljs-comment">//setTimeout("worldClockZone()", 1000); }</span>
</code></pre><p>End.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="July 24th 2014, 12:33:21 pm">July 24th 2014</span>
								by <span class='authorname'>Gianluca Mazzarella</span><br>
								<a class="icon-bg icon-link" href="question/176455/problem-with-setinterval-in-worldclock-app#answer-281090" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
