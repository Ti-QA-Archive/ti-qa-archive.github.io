<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Scroll to index of a tableview with data binding. Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Scroll to index of a tableview with data binding.</h1>
		</header>
		<section>
			<p>Hi all. I&#39;m working with a chat app. so i&#39;d like to display the chats in a table and show the recent one. For this i need scrollToIndex to work. my code is </p>
<p>controller</p>
<pre><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">showchats</span> (<span class="hljs-params"></span>) </span>{        
    <span class="hljs-keyword">var</span> chats= Alloy.Collections.chatsModel;    
    chats.fetch({ query: <span class="hljs-string">'SELECT * FROM chatHistory WHERE msgId = '</span> + msgId });
    $.chattable.scrollToIndex(chats.length);
}
</code></pre><p>Xml</p>
<pre><code class="hljs"><span class="hljs-tag">&lt;<span class="hljs-title">View</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"chats"</span>&gt;</span>                
        <span class="hljs-tag">&lt;<span class="hljs-title">TableView</span> <span class="hljs-attribute">dataCollection</span>=<span class="hljs-value">"chatsModel"</span> <span class="hljs-attribute">dataTransform</span>=<span class="hljs-value">"chatstransform"</span>  <span class="hljs-attribute">id</span>=<span class="hljs-value">"chattable"</span> &gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">TableViewRow</span> <span class="hljs-attribute">title</span>=<span class="hljs-value">"{msg}"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">Label</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"chattext"</span> <span class="hljs-attribute">text</span>=<span class="hljs-value">"{msg}"</span>/&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">ImageView</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"chatavatar"</span> <span class="hljs-attribute">image</span>=<span class="hljs-value">"{avatar}"</span>/&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-title">TableViewRow</span>&gt;</span>
           <span class="hljs-tag">&lt;/<span class="hljs-title">TableView</span>&gt;</span> 
<span class="hljs-tag">&lt;/<span class="hljs-title">View</span>&gt;</span>
</code></pre><p>But it shows the following error. </p>
<pre><code class="hljs">Source: $.chattable.scrollToIndex(chats.length);
Exception occurred at alloy/controllers/chat.js:<span class="hljs-number">300</span>: Uncaught TypeError: <span class="hljs-keyword">Property</span> <span class="hljs-string">'scrollToIndex'</span> <span class="hljs-keyword">of</span> <span class="hljs-keyword">object</span> #&lt;TableView&gt; is <span class="hljs-keyword">not</span> a <span class="hljs-function"><span class="hljs-keyword">function</span></span>
</code></pre><p>How to solve this issue and implement scrollToIndex in table?</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="July 24th 2013, 7:41:12 am">July 24th 2013</span>
				by <span class='authorname'>Kishore K</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>alloy</span></li>
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>data binding</span></li>
					
						<li><span class='tagname'>scrolltoindex</span></li>
					
						<li><span class='tagname'>tableview</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-266309">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>The code looks fine to me, other than the fact that you gave it an invalid index. It should be <code>chats.length-1</code> since the rows are zero-indexed. Try that and see how it works.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="July 24th 2013, 11:04:22 am">July 24th 2013</span>
								by <span class='authorname'>Tony Lukasavage</span><br>
								<a class="icon-bg icon-link" href="question/155218/scroll-to-index-of-a-tableview-with-data-binding.html#answer-266309" rel="permalink">permalink</a>
							</div>

							<h5>7 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Hi  Tony Lukasavage. I&#39;d already tried it., but still the problem exists. </p>
<pre><code class="hljs">
<span class="hljs-keyword">In</span> alloy/controllers/chat.js:<span class="hljs-number">299</span>,<span class="hljs-number">21</span>
Uncaught TypeError: <span class="hljs-keyword">Property</span> <span class="hljs-string">'scrollToIndex'</span> <span class="hljs-keyword">of</span> <span class="hljs-keyword">object</span> #&lt;TableView&gt; is <span class="hljs-keyword">not</span> a <span class="hljs-function"><span class="hljs-keyword">function</span>
<span class="hljs-title">Source</span>:</span>         $.chattable.scrollToIndex(chats.length-<span class="hljs-number">1</span>);
Exception occurred at alloy/controllers/chat.js:<span class="hljs-number">299</span>: Uncaught TypeError: <span class="hljs-keyword">Property</span> <span class="hljs-string">'scrollToIndex'</span> <span class="hljs-keyword">of</span> <span class="hljs-keyword">object</span> #&lt;TableView&gt; is <span class="hljs-keyword">not</span> a <span class="hljs-function"><span class="hljs-keyword">function</span></span>
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="July 25th 2013, 1:50:09 am">July 25th 2013</span>
											by <span class='authorname'>Kishore K</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Any way to solve this issue?</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 29th 2013, 10:16:21 am">July 29th 2013</span>
											by <span class='authorname'>Kishore K</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I have tested the following code against iOS and Android and it works fine. Perhaps you can use it as a reference point to fix your own code. Any further assistance beyond this will require a true test case to reproduce the issue, as there&#39;s nothing inherently wrong with the scrollToIndex() call for Android. It might also help to include the versions of the TiSDK and Alloy that you are using.</p>
<h3 id="app-x2f-alloy-js">app&#x2F;alloy.js</h3>
<pre><code class="hljs"><span class="hljs-title">var</span> <span class="hljs-typedef"><span class="hljs-keyword">data</span> = <span class="hljs-type">Alloy</span>.<span class="hljs-type">Collections</span>.<span class="hljs-keyword">data</span> = new <span class="hljs-type">Backbone</span>.<span class="hljs-type">Collection</span><span class="hljs-container">()</span>;</span>
<span class="hljs-title">var</span> rows = [];

<span class="hljs-title">for</span> (var i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">100</span>; i++) {
    rows.push({ title: 'index ' + i });
}
<span class="hljs-typedef"><span class="hljs-keyword">data</span>.reset<span class="hljs-container">(<span class="hljs-title">rows</span>)</span>;</span>
</code></pre><h3 id="app-x2f-views-x2f-index-xml">app&#x2F;views&#x2F;index.xml</h3>
<pre><code class="hljs"><span class="hljs-tag">&lt;<span class="hljs-title">Alloy</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">Window</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">TableView</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"table"</span> <span class="hljs-attribute">dataCollection</span>=<span class="hljs-value">"data"</span> <span class="hljs-attribute">onClick</span>=<span class="hljs-value">"scrollTo"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">TableViewRow</span> <span class="hljs-attribute">title</span>=<span class="hljs-value">"{title}"</span>/&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">TableView</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">Window</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">Alloy</span>&gt;</span>
</code></pre><h3 id="app-x2f-controllers-x2f-index-js">app&#x2F;controllers&#x2F;index.js</h3>
<pre><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">scrollTo</span>(<span class="hljs-params">e</span>) </span>{
    <span class="hljs-keyword">var</span> index = <span class="hljs-built_in">Math</span>.floor(<span class="hljs-built_in">Math</span>.random()*<span class="hljs-number">100</span>);
    Ti.API.info(<span class="hljs-string">'index: '</span> + index);
    $.table.scrollToIndex(index);
}

$.index.open();

Alloy.Collections.data.trigger(<span class="hljs-string">'change'</span>);
</code></pre><h3 id="app-x2f-styles-x2f-index-tss">app&#x2F;styles&#x2F;index.tss</h3>
<pre><code class="hljs"><span class="hljs-string">'#index'</span>: {
    backgroundColor: <span class="hljs-string">'#fff'</span>,
    modal: <span class="hljs-literal">false</span>,
    <span class="hljs-built_in">exit</span>OnClose: <span class="hljs-literal">true</span>
}
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="July 29th 2013, 12:27:33 pm">July 29th 2013</span>
											by <span class='authorname'>Tony Lukasavage</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I&#39;d tried this code with modifications. But now a new error had arise.<br>My alloy version is 1.1.2 and TiSDK is 3.1.1</p>
<pre><code class="hljs"><span class="hljs-horizontal_rule">----- Titanium Javascript Runtime Error -----</span>
 - In alloy/backbone.js:38,69
 - Message: Uncaught Error: A "url" property or function must be specified
 - Source: rn!a||!a[<span class="hljs-link_label">b</span>]?null:f.isFunction(a[<span class="hljs-link_label">b</span>])?a[<span class="hljs-link_label">b</span>](<span class="hljs-link_url"></span>):a[b]},t=function(){throw Error('A "
 Exception occurred at alloy/backbone.js:38: Uncaught Error: A "url" property or function must be specified
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="July 30th 2013, 2:24:09 am">July 30th 2013</span>
											by <span class='authorname'>Kishore K</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>SO my code answered the question though? Perhaps you should mark this question as answered and ask your new question in another thread. When you do so, be sure to include full details of what you&#39;re doing, with code, so we have any chance of answering your question. Saying &quot;I&#39;d tried this code with modifications&quot; and then list a backbone error tells us you have code you wrote that caused the problem that you are choosing not to share, making the lives of those trying to help more difficult.</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 30th 2013, 11:51:12 am">July 30th 2013</span>
											by <span class='authorname'>Tony Lukasavage</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Hi Tony Lukasavage. Thanks for your reply.  The issue is not solved as this error kills the app. Would it be an issue of SDK version? I doubt it worked fine before i update the version, but in that time i was not using model view binding.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 2nd 2013, 2:33:05 am">August 2nd 2013</span>
											by <span class='authorname'>Kishore K</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>No, it&#39;s likely not an issue with the SDK, but there&#39;s no way to know since you have not yet posted the details or code I&#39;ve requested.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 2nd 2013, 9:36:55 am">August 2nd 2013</span>
											by <span class='authorname'>Tony Lukasavage</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
