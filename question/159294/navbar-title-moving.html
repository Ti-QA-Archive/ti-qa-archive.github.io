<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>navbar title moving Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>navbar title moving</h1>
		</header>
		<section>
			<p>i have customised my navbar by adding a left button and a label. while transition from one window to another, the navbar label is moving and have a jerk. 2 days ago, i posted a question about it and later i answered. i thought, it was okay. but it&#39;s not okay. i want to fixed it. how is it possible. Below is my code -<br>In app.js -</p>
<pre><code class="hljs">var homeWindow = Titanium.UI.createWindow({
    <span class="hljs-string">layout :</span> <span class="hljs-string">'vertical'</span>,
    <span class="hljs-string">backgroundGradient :</span> {
        <span class="hljs-string">type :</span> <span class="hljs-string">'linear'</span>,
        <span class="hljs-string">startPoint :</span> {
            <span class="hljs-string">x :</span> <span class="hljs-string">'0%'</span>,
            <span class="hljs-string">y :</span> <span class="hljs-string">'0%'</span>
        },
        <span class="hljs-string">endPoint :</span> {
            <span class="hljs-string">x :</span> <span class="hljs-string">'0%'</span>,
            <span class="hljs-string">y :</span> <span class="hljs-string">'100%'</span>
        },
        <span class="hljs-string">colors :</span> [{
            <span class="hljs-string">color :</span> <span class="hljs-string">'#36A9E1'</span>,
            <span class="hljs-string">offset :</span> <span class="hljs-number">0.25</span>
        }, {
            <span class="hljs-string">color :</span> <span class="hljs-string">'#297DA4'</span>,
            <span class="hljs-string">offset :</span> <span class="hljs-number">0.5</span>
        }],
    },
    <span class="hljs-string">statusBarStyle :</span> Titanium.UI.iPhone.StatusBar.TRANSLUCENT_BLACK
});

navWin = Ti.UI.iOS.createNavigationWindow({
    <span class="hljs-string">window :</span> homeWindow
});

var navLabel = Titanium.UI.createLabel({
    <span class="hljs-string">color :</span> <span class="hljs-string">'#fff'</span>,
    <span class="hljs-string">height :</span> Ti.UI.SIZE,
    <span class="hljs-string">width :</span> Ti.UI.SIZE,
    <span class="hljs-string">top :</span> <span class="hljs-number">15</span>,
    <span class="hljs-string">text :</span> <span class="hljs-string">'The Horse Management Network'</span>,
    <span class="hljs-string">textAlign :</span> <span class="hljs-string">'right'</span>,
    <span class="hljs-string">font :</span> {
        <span class="hljs-string">fontFamily :</span> <span class="hljs-string">'Trebuchet MS'</span>,
        <span class="hljs-string">fontWeight :</span> <span class="hljs-string">'bold'</span>,
        <span class="hljs-string">fontSize :</span> <span class="hljs-number">14</span>
    }
});

var navView = Titanium.UI.createView({
    <span class="hljs-comment">//backgroundColor : 'green',</span>
    <span class="hljs-string">width :</span> Ti.UI.FILL,
    <span class="hljs-string">height :</span> Ti.UI.FILL
});

navView.add(navLabel);

var navImage = Ti.UI.createImageView({
    <span class="hljs-string">image :</span> <span class="hljs-string">"/images/TitleHorse_120.png"</span>,
    <span class="hljs-string">width :</span> <span class="hljs-number">70</span>,
    <span class="hljs-string">height :</span> <span class="hljs-number">25</span>
});

homeWindow.setLeftNavButton(navImage);
homeWindow.setTitleControl(navView);

var loginBtn = Titanium.UI.createButton({
    <span class="hljs-string">color :</span> <span class="hljs-string">'#FFF'</span>,
    <span class="hljs-string">title :</span> <span class="hljs-string">'Login'</span>,
    <span class="hljs-string">top :</span> <span class="hljs-number">200</span>,
    <span class="hljs-string">left :</span> <span class="hljs-number">10</span>,
    <span class="hljs-string">right :</span> <span class="hljs-number">10</span>,
    <span class="hljs-string">height :</span> Ti.UI.SIZE,
    <span class="hljs-string">borderRadius :</span> <span class="hljs-number">5</span>,
    <span class="hljs-string">font :</span> {
        <span class="hljs-string">fontFamily :</span> <span class="hljs-string">'Arial'</span>,
        <span class="hljs-string">fontWeight :</span> <span class="hljs-string">'bold'</span>,
        <span class="hljs-string">fontSize :</span> <span class="hljs-number">12</span>
    },
    <span class="hljs-string">backgroundGradient :</span> {
        <span class="hljs-string">type :</span> <span class="hljs-string">'linear'</span>,
        <span class="hljs-string">startPoint :</span> {
            <span class="hljs-string">x :</span> <span class="hljs-string">'0%'</span>,
            <span class="hljs-string">y :</span> <span class="hljs-string">'0%'</span>
        },
        <span class="hljs-string">endPoint :</span> {
            <span class="hljs-string">x :</span> <span class="hljs-string">'0%'</span>,
            <span class="hljs-string">y :</span> <span class="hljs-string">'100%'</span>
        },
        <span class="hljs-string">colors :</span> [{
            <span class="hljs-string">color :</span> <span class="hljs-string">'#36A9E1'</span>,
            <span class="hljs-string">offset :</span> <span class="hljs-number">0.25</span>
        }, {
            <span class="hljs-string">color :</span> <span class="hljs-string">'#168ECA'</span>,
            <span class="hljs-string">offset :</span> <span class="hljs-number">0.5</span>
        }],
    }
});

loginBtn.addEventListener(<span class="hljs-string">'click'</span>, function(e) {
    var MainUI = require(<span class="hljs-string">'ui/calender'</span>);
    navWin.openWindow(<span class="hljs-keyword">new</span> MainUI());
});

homeWindow.add(loginBtn);

navWin.open();
</code></pre><p>In calender.js -</p>
<pre><code class="hljs">function showCalendars(_title, onComplete) {

    var win = Ti.UI.createWindow({
        <span class="hljs-string">backgroundColor :</span> <span class="hljs-string">'#36A9E1'</span>,
        <span class="hljs-string">layout :</span> <span class="hljs-string">'vertical'</span>,
        <span class="hljs-comment">//navBarHidden : true,</span>
        <span class="hljs-string">statusBarStyle :</span> Titanium.UI.iPhone.StatusBar.TRANSLUCENT_BLACK,
        <span class="hljs-comment">//fullscreen: true</span>
    });

    var navLabel = Titanium.UI.createLabel({
        <span class="hljs-comment">//backgroundColor : 'red',</span>
        <span class="hljs-string">color :</span> <span class="hljs-string">'#fff'</span>,
        <span class="hljs-string">height :</span> Ti.UI.SIZE,
        <span class="hljs-string">width :</span> Ti.UI.SIZE,
        <span class="hljs-string">top :</span> <span class="hljs-number">15</span>,
        <span class="hljs-string">text :</span> <span class="hljs-string">'The Horse Management Network'</span>,
        <span class="hljs-string">textAlign :</span> <span class="hljs-string">'right'</span>,
        <span class="hljs-string">font :</span> {
            <span class="hljs-string">fontFamily :</span> <span class="hljs-string">'Trebuchet MS'</span>,
            <span class="hljs-string">fontWeight :</span> <span class="hljs-string">'bold'</span>,
            <span class="hljs-string">fontSize :</span> <span class="hljs-number">14</span>
        }
    });

    var navView = Titanium.UI.createView({
        <span class="hljs-comment">//backgroundColor : 'green',</span>
        <span class="hljs-string">width :</span> Ti.UI.FILL,
        <span class="hljs-string">height :</span> Ti.UI.FILL
    });

    navView.add(navLabel);

    var navImage = Ti.UI.createImageView({
        <span class="hljs-string">image :</span> <span class="hljs-string">"/images/TitleHorse_120.png"</span>,
        <span class="hljs-string">width :</span> <span class="hljs-number">70</span>,
        <span class="hljs-string">height :</span> <span class="hljs-number">25</span>
    });

    win.setLeftNavButton(navImage);
    win.setTitleControl(navView);

     var backButtonView = Ti.UI.createView({
     <span class="hljs-comment">//backgroundColor : "green",</span>
     <span class="hljs-string">layout :</span> <span class="hljs-string">'horizontal'</span>,
     <span class="hljs-string">height :</span> <span class="hljs-number">30</span>,
     <span class="hljs-string">left :</span> <span class="hljs-number">10</span>,
     <span class="hljs-string">right :</span> <span class="hljs-number">10</span>,
     <span class="hljs-string">top :</span> <span class="hljs-number">2</span>
     });

     var backButtonImageView = Ti.UI.createImageView({
     <span class="hljs-string">image :</span> <span class="hljs-string">'/images/Back-Button.png'</span>,
     <span class="hljs-string">height :</span> <span class="hljs-number">30</span>,
     <span class="hljs-string">width :</span> <span class="hljs-number">30</span>,
     <span class="hljs-string">left :</span> <span class="hljs-number">0</span>
     });

     var backButtonViewLabel = Ti.UI.createLabel({
     <span class="hljs-string">color :</span> <span class="hljs-string">'#fff'</span>,
     <span class="hljs-string">text :</span> _title,
     <span class="hljs-string">font :</span> {
     <span class="hljs-string">fontFamily :</span> <span class="hljs-string">'Arial'</span>,
     <span class="hljs-string">fontWeight :</span> <span class="hljs-string">'bold'</span>,
     <span class="hljs-string">fontSize :</span> <span class="hljs-string">'14dp'</span>
     },
     <span class="hljs-comment">//textAlign: 'center',</span>
     <span class="hljs-string">height :</span> Ti.UI.SIZE,
     <span class="hljs-string">width :</span> Ti.UI.SIZE,
     <span class="hljs-string">left :</span> <span class="hljs-number">85</span>
     });

     backButtonView.add(backButtonImageView);
     backButtonView.add(backButtonViewLabel);

     backButtonImageView.addEventListener(<span class="hljs-string">'click'</span>, function(e) {
     win.close();
     });

     win.add(backButtonView);
    <span class="hljs-keyword">return</span> win;
}

module.exports = showCalendars;
</code></pre><p>when i click button &#39; The Horse Management Network &#39; text is moved by position in Navigation Bar and have a jerk. i want to be it still, no movement and jerk while transition. how to fix it ? please help me.</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="November 10th 2013, 7:58:01 am">November 10th 2013</span>
				by <span class='authorname'>Nuibb Hasan</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>nav label jerking</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-271100">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>The problem here as far as I can tell is that making a label as the title control causes the problem if the text of the label exceeds a certain amount of characters. After which it starts getting issues with the inbuilt back button causing the flicker.  This simple example demonstrates it working perfectly.  If you then change the amount of text in the <code>t1</code> label to make it longer, the issue is clearly visible.  I would consider using a different approach than using the <code>titleControl</code> </p>
<pre><code class="hljs">var t1 = Ti.UI.createLabel({
    <span class="hljs-string">width :</span> Ti.UI.SIZE,
    <span class="hljs-string">height :</span> Ti.UI.SIZE,
    <span class="hljs-string">text :</span> <span class="hljs-string">'This is some text'</span>
});

var b1 = Ti.UI.createButton({
    <span class="hljs-string">width :</span> Ti.UI.SIZE,
    <span class="hljs-string">height :</span> Ti.UI.SIZE,
    <span class="hljs-string">title :</span> <span class="hljs-string">'Open'</span>
});

b1.addEventListener(<span class="hljs-string">'click'</span>, function() {
    n.openWindow(w2);
});

var w1 = Ti.UI.createWindow({
    <span class="hljs-string">backgroundColor :</span> <span class="hljs-string">'blue'</span>
});

w1.add(b1);

var w2 = Ti.UI.createWindow({
    <span class="hljs-string">titleControl :</span> t1,
    <span class="hljs-string">backgroundColor :</span> <span class="hljs-string">'red'</span>
});

var n = Ti.UI.iOS.createNavigationWindow({
    <span class="hljs-string">window :</span> w1,
    <span class="hljs-string">backgroundColor :</span> <span class="hljs-string">'green'</span>
});

n.open();
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="November 10th 2013, 11:10:42 am">November 10th 2013</span>
								by <span class='authorname'>Nick Milner</span><br>
								<a class="icon-bg icon-link" href="question/159294/navbar-title-moving#answer-271100" rel="permalink">permalink</a>
							</div>

							<h5>2 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>You can prevent the flicker  and have a longer label by not animating the opening of the window, but you probably dont want to do that</p>
<pre><code class="hljs">
var t1 = <span class="hljs-type">Ti</span>.<span class="hljs-type">UI</span>.createLabel({
    width : <span class="hljs-type">Ti</span>.<span class="hljs-type">UI</span>.<span class="hljs-type">SIZE</span>,
    height : <span class="hljs-type">Ti</span>.<span class="hljs-type">UI</span>.<span class="hljs-type">SIZE</span>,
    text : <span class="hljs-symbol">'This</span> is loads <span class="hljs-keyword">and</span> loads <span class="hljs-keyword">and</span> loads <span class="hljs-keyword">and</span> loads <span class="hljs-keyword">and</span> loads <span class="hljs-keyword">of</span> text'
});

....



b1.addEventListener(<span class="hljs-symbol">'click'</span>, <span class="hljs-keyword">function</span><span class="hljs-literal">()</span> {
    n.openWindow(w2, {
        animated : <span class="hljs-literal">false</span>
    });
});
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="November 10th 2013, 11:19:08 am">November 10th 2013</span>
											by <span class='authorname'>Nick Milner</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>thanks a lot sir. i can understand.</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 11th 2013, 3:11:28 am">November 11th 2013</span>
											by <span class='authorname'>Nuibb Hasan</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-271096">
				
						<section>
							<p>Hi</p>
<p>It is likely that your use of SIZE for the label and FILL for the parent view is causing the problem.</p>
<p>Firstly you do not need to place the label inside a view in order to place it as a titleControl.  The label is a view (everything is in this context) so you can place this directly inside the titleControl.</p>
<p>Using width of SIZE can sound correct but it then it has to redraw the label to work out the size and then reposition it.  Chances are this is where the problem is, consider instead using FILL on the label width and leave the height tabs SIZE.  Set the textAlign property to &#39;center&#39;.</p>
<p>This may still have a small layout issue, if it does also add a left and right property in addition to the width of FILL, this will allow you to make sue the edges do not interfere with the left or right nav elements.  Only do this if FILL on its own is not ok on its own.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="November 10th 2013, 10:11:34 am">November 10th 2013</span>
								by <span class='authorname'>Malcolm Hollingsworth</span><br>
								<a class="icon-bg icon-link" href="question/159294/navbar-title-moving#answer-271096" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
