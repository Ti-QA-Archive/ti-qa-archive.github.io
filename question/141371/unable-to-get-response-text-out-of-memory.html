<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Unable to get response text: out of memory Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Unable to get response text: out of memory</h1>
		</header>
		<section>
			<p>Dear ALL,</p>
<p>Do you have any solution to solved out of memory problem when trying to get an XML file which contain two images(base64 text string), size of each XML file is around 500KB. </p>
<p>The problem is when I am trying to request an XML file which contain two images around 15 times, it will show message like text below:</p>
<p>[ERROR][dalvikvm-heap( 1224)] Out of memory on a 1435248-byte allocation.<br>[INFO][dalvikvm( 1224)] &quot;KrollRuntimeThread&quot; prio=5 tid=10 RUNNABLE<br>[INFO][dalvikvm( 1224)]   | group=&quot;main&quot; sCount=0 dsCount=0 obj=0x406d5708 self=0x1838a8<br>[INFO][dalvikvm( 1224)]   | sysTid=1235 nice=0 sched=0&#x2F;0 cgrp=default handle=1584336<br>[INFO][dalvikvm( 1224)]   | schedstat=( 118869815374 67341473996 15672 ) utm=11115 stm=771 core=0<br>[INFO][dalvikvm( 1224)]   at java.nio.CharArrayBuffer.&lt;init&gt;(CharArrayBuffer.java:~43)<br>[INFO][dalvikvm( 1224)]   at java.nio.ReadWriteCharArrayBuffer.&lt;init&gt;(ReadWriteCharArrayBuffer.java:47)<br>[INFO][dalvikvm( 1224)]   at java.nio.CharBuffer.allocate(CharBuffer.java:54)<br>[INFO][dalvikvm( 1224)]   at java.nio.charset.CharsetDecoder.allocateMore(CharsetDecoder.java:261)<br>[INFO][dalvikvm( 1224)]   at java.nio.charset.CharsetDecoder.decode(CharsetDecoder.java:218)<br>[INFO][dalvikvm( 1224)]   at ti.modules.titanium.network.TiHTTPClient.getResponseText(TiHTTPClient.java:566)<br>[INFO][dalvikvm( 1224)]   at ti.modules.titanium.network.TiHTTPClient.getResponseXML(TiHTTPClient.java:594)<br>[INFO][dalvikvm( 1224)]   at ti.modules.titanium.network.HTTPClientProxy.getResponseXML(HTTPClientProxy.java:84)<br>[INFO][dalvikvm( 1224)]   at org.appcelerator.kroll.runtime.v8.V8Function.nativeInvoke(Native Method)<br>[INFO][dalvikvm( 1224)]   at org.appcelerator.kroll.runtime.v8.V8Function.callSync(V8Function.java:62)<br>[INFO][dalvikvm( 1224)]   at org.appcelerator.kroll.runtime.v8.V8Function.call(V8Function.java:48)<br>[INFO][dalvikvm( 1224)]   at org.appcelerator.kroll.runtime.v8.V8Function$1.run(V8Function.java:75)<br>[INFO][dalvikvm( 1224)]   at android.os.Handler.handleCallback(Handler.java:587)<br>[INFO][dalvikvm( 1224)]   at android.os.Handler.dispatchMessage(Handler.java:92)<br>[INFO][dalvikvm( 1224)]   at android.os.Looper.loop(Looper.java:126)<br>[INFO][dalvikvm( 1224)]   at org.appcelerator.kroll.KrollRuntime$KrollRuntimeThread.run(KrollRuntime.java:104)<br>[INFO][dalvikvm( 1224)] </p>
<p>then two images which I get from that XML can&#39;t not be displayed on screen.</p>
<p>Any solution please?<br>Thanks in advance.</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="August 23rd 2012, 8:23:01 am">August 23rd 2012</span>
				by <span class='authorname'>cheng chhuong</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>httpclient</span></li>
					
						<li><span class='tagname'>titanium studio</span></li>
					
						<li><span class='tagname'>xhr</span></li>
					
						<li><span class='tagname'>xml</span></li>
					
				</ul>
			

			<section>
				<h5>1 Comment</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Hi ALL,</p>
<p>Is there any solutions to clear or increase heap memory on android?<br>Thanks</p>
</div>
							<div class="author">
								&mdash; commented <span title="August 26th 2012, 11:43:43 pm">August 26th 2012</span>
								by <span class='authorname'>cheng chhuong</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-245898">
				
						<section>
							<p>If this is in the emulator, be sure you have enough storage space.  You require 2x+ as much space when downloading.  The file is pulled down then copied to its final location.  Because the emulator&#39;s sdcard image is rather small, it is easy to run out of storage space.</p>
<p>Additionally, I marked Rainer -1 as the file property is iOS only and wont apply to your current use case.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 23rd 2012, 8:52:31 am">August 23rd 2012</span>
								by <span class='authorname'>Stephen Feather</span><br>
								<a class="icon-bg icon-link" href="question/141371/unable-to-get-response-text-out-of-memory.html#answer-245898" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-245896">
				
						<section>
							<p>Hi Cheng,<br>the httpclient has a property &#39;file&#39;. After saving of XML you can open a stream to XML and read it. This save memory.<br>Other way to save memory is to change you procedere. In XML are only meta informations and a link to images.</p>
<p>Hope my toughts helps.</p>
<p>Rainer</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 23rd 2012, 8:34:09 am">August 23rd 2012</span>
								by <span class='authorname'>Rainer Schleevoigt</span><br>
								<a class="icon-bg icon-link" href="question/141371/unable-to-get-response-text-out-of-memory.html#answer-245896" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>HI Rainer,</p>
<p>Is there any solution to clear heap memory?<br>Because of when I try to request the xml file from server several times, heap memory on emulator is full and can&#39;t store next file anymore, then it shows me error message.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 26th 2012, 11:10:49 pm">August 26th 2012</span>
											by <span class='authorname'>cheng chhuong</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>-5</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
