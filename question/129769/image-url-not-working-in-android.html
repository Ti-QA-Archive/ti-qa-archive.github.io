<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Image url not working in android » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Image url not working in android</h1>
		</header>
		<section>
			<p>Hi every0ne.I&#39;m working on RSS feed and try to laod image in ImageView using url got from xml.<br>I created a ImageView in my code </p>
<pre><code class="hljs"><span class="xml">var img=Titanium.UI.createImageView(</span><span class="hljs-expression">{
    <span class="hljs-variable">image</span>:<span class="hljs-variable">items.item</span>(0)<span class="hljs-variable">.getElementsByTagName</span>(<span class="hljs-string">"media:content"</span>)<span class="hljs-variable">.item</span>(0)<span class="hljs-variable">.getAttribute</span>(<span class="hljs-string">"url"</span>),
    /<span class="hljs-end-block">/resulted url is..</span>'<span class="hljs-variable">http</span>:/<span class="hljs-end-block">/billeder.fagbladet</span>3<span class="hljs-variable">f.dk</span><span class="hljs-end-block">/sitecore</span>%20<span class="hljs-variable">modules</span><span class="hljs-end-block">/web</span><span class="hljs-end-block">/filestorage</span><span class="hljs-end-block">/image.aspx</span>?<span class="hljs-variable">fid</span>=612682<span class="hljs-variable">fb-</span>3214<span class="hljs-variable">-</span>4010<span class="hljs-variable">-</span>9504<span class="hljs-variable">-</span>3<span class="hljs-variable">c</span>8<span class="hljs-variable">f</span>8<span class="hljs-variable">b</span>3120<span class="hljs-variable">e</span>4&amp;<span class="hljs-variable">domain</span>=<span class="hljs-variable">http</span>:/<span class="hljs-end-block">/billeder.fagbladet</span>3<span class="hljs-variable">f.dk</span>',
    <span class="hljs-variable">width</span>:300,
    <span class="hljs-variable">height</span>:200

}</span><span class="xml">);</span>
</code></pre><p>This code works fine in iOS. but not display image in android device or emulator.<br>how can I cover it in Android any suggestion??<br>thanks in advance..</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="December 23rd 2011, 9:38:11 am">December 23rd 2011</span>
				by <span class='authorname'>Usman Mughal</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>image laoding problm</span></li>
					
						<li><span class='tagname'>imageview</span></li>
					
						<li><span class='tagname'>imageview android</span></li>
					
						<li><span class='tagname'>setcontenttype</span></li>
					
						<li><span class='tagname'>xml image</span></li>
					
				</ul>
			

			<section>
				<h5>4 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>sdk???</p>
</div>
							<div class="author">
								&mdash; commented <span title="December 23rd 2011, 9:52:46 am">December 23rd 2011</span>
								by <span class='authorname'>Zarir Bhesania</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Hi Usman </p>
<p>The code you gave not help me to run and get the same problem you having. So if you can post the app.js with the problem you having which i can test it directly will help to solve the issue more fast.</p>
<p>Regards</p>
<p>Nikunj</p>
</div>
							<div class="author">
								&mdash; commented <span title="December 23rd 2011, 9:56:30 am">December 23rd 2011</span>
								by <span class='authorname'>Nikunj Sakhrelia</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>I’m using ..    </p>
<ol>
<li><p>Mac OS X version: 10.6.8    </p>
</li>
<li><p>Titanium SDK Version: 1.7.5</p>
</li>
<li><p>Android Emulator 2.2</p>
</li>
</ol>
</div>
							<div class="author">
								&mdash; commented <span title="December 23rd 2011, 10:02:32 am">December 23rd 2011</span>
								by <span class='authorname'>Usman Mughal</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Hi Nikunj sakhrelia. thanks for reply I simply try this code but works in iOS fine can&#39;t give me result in Android</p>
<pre><code class="hljs">var win1 = Titanium.UI.createWindow({  
    title:<span class="hljs-string">'My Window'</span>,
    backgroundColor:<span class="hljs-string">'#fdf'</span>
});
var img=Titanium.UI.createImageView({
    <span class="hljs-comment">//image:items.item(0).getElementsByTagName("media:content").item(0).getAttribute("url"),</span>
   <span class="hljs-built_in">image</span>:<span class="hljs-string">"http://billeder.fagbladet3f.dk/sitecore%20modules/web/filestorage/image.aspx?fid=612682fb-3214-4010-9504-3c8f8b3120e4&amp;domain=http://billeder.fagbladet3f.dk"</span>,
    <span class="hljs-variable">width</span>:<span class="hljs-number">300</span>,
    <span class="hljs-variable">height</span>:<span class="hljs-number">200</span>
});
win1.<span class="hljs-built_in">add</span>(img);
win1.<span class="hljs-built_in">open</span>();
</code></pre><p>this url is result of xml parsing in above code in my Queston.url shows an image in IE8 as iphone display image..<br>&quot;http:&#x2F;&#x2F;billeder.fagbladet3f.dk&#x2F;sitecore%20modules&#x2F;web&#x2F;filestorage&#x2F;image.aspx?fid=612682fb-3214-4010-9504-3c8f8b3120e4&amp;domain=http:&#x2F;&#x2F;billeder.fagbladet3f.dk&quot;,<br>I thinks server of this image creates problem which can be handle by HTTPServerResponse.setContentType . but how ??</p>
</div>
							<div class="author">
								&mdash; commented <span title="December 23rd 2011, 10:20:19 am">December 23rd 2011</span>
								by <span class='authorname'>Usman Mughal</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>3</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>3 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-225935">
				
						<section>
							<pre><code class="hljs"><span class="hljs-keyword">var</span> img=Titanium.UI.createImageView({
  url:<span class="hljs-string">'some image'</span>
});

//<span class="hljs-keyword">and</span> this <span class="hljs-keyword">for</span> ios

<span class="hljs-keyword">var</span> img=Titanium.UI.createImageView({
  image:<span class="hljs-string">'some image'</span>// this <span class="hljs-keyword">for</span> android
});
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="December 23rd 2011, 10:17:43 am">December 23rd 2011</span>
								by <span class='authorname'>sachin thakur</span><br>
								<a class="icon-bg icon-link" href="question/129769/image-url-not-working-in-android.html#answer-225935" rel="permalink">permalink</a>
							</div>

							<h5>2 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>sorry url property of imageview in android version</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 23rd 2011, 10:28:21 am">December 23rd 2011</span>
											by <span class='authorname'>sachin thakur</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>thanks sachin thakur for intrest in my Question.here problem is not with </p>
<pre><code class="hljs"><span class="hljs-label">url:</span><span class="hljs-string">""</span>
</code></pre><p>or </p>
<pre><code class="hljs"><span class="hljs-label">image:</span><span class="hljs-string">""</span>
</code></pre><p> both gives same result.problem is somewhere else, server side in the header HTTPResponse.And android assume it is junk data and iphone consider it an image. which code tells the android that it is an image??</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 23rd 2011, 10:32:40 am">December 23rd 2011</span>
											by <span class='authorname'>Usman Mughal</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-225937">
				
						<section>
							<p>I tried this code also </p>
<pre><code class="hljs">var win1 = Titanium.UI.createWindow({  
    title:<span class="hljs-string">'My Window'</span>,
    backgroundColor:<span class="hljs-string">'#fdf'</span>
});
var img=Titanium.UI.createImageView({
    <span class="hljs-comment">//image:items.item(0).getElementsByTagName("media:content").item(0).getAttribute("url"),</span>
   <span class="hljs-built_in">image</span>:<span class="hljs-string">"http://billeder.fagbladet3f.dk/sitecore%20modules/web/filestorage/image.aspx?fid=612682fb-3214-4010-9504-3c8f8b3120e4&amp;domain=http://billeder.fagbladet3f.dk"</span>,
    <span class="hljs-variable">width</span>:<span class="hljs-number">300</span>,
    <span class="hljs-variable">height</span>:<span class="hljs-number">200</span>
});
win1.<span class="hljs-built_in">add</span>(img);
win1.<span class="hljs-built_in">open</span>();
</code></pre><p>this is url in xml..<br>&quot;http:&#x2F;&#x2F;billeder.fagbladet3f.dk&#x2F;sitecore%20modules&#x2F;web&#x2F;filestorage&#x2F;image.aspx?fid=612682fb-3214-4010-9504-3c8f8b3120e4&amp;domain=http:&#x2F;&#x2F;billeder.fagbladet3f.dk&quot;<br>I think android assume it is junk data and iphone consider it an image. which code tells the android that it is an image??</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="December 23rd 2011, 10:38:27 am">December 23rd 2011</span>
								by <span class='authorname'>Usman Mughal</span><br>
								<a class="icon-bg icon-link" href="question/129769/image-url-not-working-in-android.html#answer-225937" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-225943">
				
						<section>
							<p>Hey i tried your code and i found the solution</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> win1 = Titanium.UI.createWindow({  
    title:<span class="hljs-string">'My Window'</span>,
    backgroundColor:<span class="hljs-string">'#fdf'</span>
});



<span class="hljs-keyword">var</span> img=Titanium.UI.createImageView({
    width:<span class="hljs-number">300</span>,
    height:<span class="hljs-number">200</span>
});
win1.add(img);


<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getImage</span><span class="hljs-params">()</span></span>{


    <span class="hljs-keyword">var</span> url = <span class="hljs-string">'http://billeder.fagbladet3f.dk/sitecore%20modules/web/filestorage/image.aspx?fid=612682fb-3214-4010-9504-3c8f8b3120e4&amp;domain=http://billeder.fagbladet3f.dk'</span>;
    <span class="hljs-keyword">var</span> xhr = Titanium.Network.createHTTPClient();

    xhr.onload = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
        img.image = <span class="hljs-keyword">this</span>.responseData;
        alert(<span class="hljs-keyword">this</span>.responseData);
    };
    xhr.onerror = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span> </span>{
    }
    xhr.open(<span class="hljs-string">"GET"</span>, url);
    xhr.send();
}
getImage();



win1.open();
</code></pre><p>Thanks :)</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="December 23rd 2011, 11:04:46 am">December 23rd 2011</span>
								by <span class='authorname'>sachin thakur</span><br>
								<a class="icon-bg icon-link" href="question/129769/image-url-not-working-in-android.html#answer-225943" rel="permalink">permalink</a>
							</div>

							<h5>2 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>thanks sachin thakur.. :)</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 23rd 2011, 12:33:16 pm">December 23rd 2011</span>
											by <span class='authorname'>Usman Mughal</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I&#39;m glad to see u to found the solution but in my case there is 100&#39;s of images in the loop which are need to load form URLs.I&#39;m unable to fallow this method. :(<br>Is this possible a alternative to tell android to correct the header of  HTTPResponse?? that android consider this type of url is path of an image not junk data?? :(</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 23rd 2011, 12:44:30 pm">December 23rd 2011</span>
											by <span class='authorname'>Usman Mughal</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
