<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>How to Check whether window property exists » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>How to Check whether window property exists</h1>
		</header>
		<section>
			<p>Hey , </p>
<p>I have the following code</p>
<p>Titanium.UI.createWindow({<br>    url:&#39;somenewcode.js&#39;,<br>    title:&#39;your new window&#39;,<br>    oldWin:Ti.currentWindow &#x2F;&#x2F; this gets you a pointer<br>});</p>
<p>I want to check whether the oldWin exists in the window created.</p>
<p>I used this </p>
<p>if(Ti.UI.currentWindow.oldWin) {<br>Ti.UI.currentWindow.oldWin.close();<br> }</p>
<p>but shows error. How can I check whether the oldWin exists</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="August 12th 2012, 8:05:48 am">August 12th 2012</span>
				by <span class='authorname'>Rebin Joseph</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>currentwindow</span></li>
					
						<li><span class='tagname'>property</span></li>
					
						<li><span class='tagname'>property of a window</span></li>
					
						<li><span class='tagname'>ti.ui.currentwindow</span></li>
					
						<li><span class='tagname'>window</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-245085">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>Hi Rebin</p>
<p>Fix this error and try again, if you still have a problem - report back.</p>
<p>Change this</p>
<pre><code class="hljs"><span class="hljs-tag">Titanium</span><span class="hljs-class">.UI</span><span class="hljs-class">.createWindow</span>({
  <span class="hljs-attribute">url</span>:<span class="hljs-string">'somenewcode.js'</span>, 
  <span class="hljs-attribute">title</span>:<span class="hljs-string">'your new window'</span>, 
  <span class="hljs-attribute">oldWin</span>:Ti.currentWindow <span class="hljs-comment">// this gets you a pointer</span>
});
</code></pre><p>To this</p>
<pre><code class="hljs"><span class="hljs-tag">Titanium</span><span class="hljs-class">.UI</span><span class="hljs-class">.createWindow</span>({
  <span class="hljs-attribute">url</span>:<span class="hljs-string">'somenewcode.js'</span>, 
  <span class="hljs-attribute">title</span>:<span class="hljs-string">'your new window'</span>, 
  <span class="hljs-attribute">oldWin</span>:Ti.UI.currentWindow <span class="hljs-comment">// this gets you a pointer</span>
});
</code></pre><p>Specific line</p>
<pre><code class="hljs">  oldWin:Ti<span class="hljs-class">.UI</span><span class="hljs-class">.currentWindow</span> <span class="hljs-comment">// this gets you a pointer</span>
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 12th 2012, 8:56:10 am">August 12th 2012</span>
								by <span class='authorname'>Malcolm Hollingsworth</span><br>
								<a class="icon-bg icon-link" href="question/140906/how-to-check-whether-window-property-exists#answer-245085" rel="permalink">permalink</a>
							</div>

							<h5>5 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>I changed it. But I am still not able to check<br>Message: Uncaught TypeError: Cannot read property &#39;oldWin&#39; of undefined<br>[ERROR][TiJSError(  290)] (main) [1,1743339] - Source:     if(Ti.UI.currentWindow.oldWin.oldWin.oldWin){<br>[ERROR][V8Exception(  290)] Exception occurred at main_windows&#x2F;appointmentDetails.js:465: Uncaught TypeError: Cannot read property &#39;oldWin&#39; of undefined</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 12th 2012, 3:59:22 pm">August 12th 2012</span>
											by <span class='authorname'>Rebin Joseph</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Then it may be the scope of your app as you have used the <code>url</code> property, which is no longer encouraged.  My tests are showing a custom property using the same name as yours is perfectly accessible when not using the <code>url</code> property.</p>
<pre><code class="hljs"><span class="hljs-tag">Titanium</span><span class="hljs-class">.UI</span><span class="hljs-class">.createWindow</span>(<span class="hljs-rules">{
  <span class="hljs-rule"><span class="hljs-attribute">url</span>:<span class="hljs-value"><span class="hljs-string">'somenewcode.js'</span>,  // this one
...
</span></span></span>});
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="August 12th 2012, 4:07:38 pm">August 12th 2012</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Sorry.<br>I am not clear. Can you please explain</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 12th 2012, 4:10:49 pm">August 12th 2012</span>
											by <span class='authorname'>Rebin Joseph</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Hi Rebin</p>
<p>Simply put when you use the property <code>url</code> with a window then the app has to create a new execution context (a separate block of code not easily accessible from outside), because of this each of your windows do not actually talk to each other as they are in different &#39;contexts&#39;.</p>
<p>You should read <a href="http:&#x2F;&#x2F;developer.appcelerator.com&#x2F;blog&#x2F;2010&#x2F;08&#x2F;execution-contexts.html">Execution Contexts</a> if you want to understand it better.</p>
<p>You should also read about the <a href="http:&#x2F;&#x2F;developer.appcelerator.com&#x2F;blog&#x2F;2012&#x2F;02&#x2F;building-the-community-app.html">Community App</a> which is designed to show how to put together an app using a single context approach.</p>
<p>Also (if you are not all read out) <a href="https:&#x2F;&#x2F;wiki.appcelerator.org&#x2F;display&#x2F;guides&#x2F;CommonJS+Modules+in+Titanium">CommonJS</a></p>
</p>
										<div class="author">
											&mdash; commented <span title="August 12th 2012, 5:16:56 pm">August 12th 2012</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Having done some more tests it is possible to get scope between contexts.</p>
<p>Here is a test <code>app.js</code></p>
<pre><code class="hljs">Titanium.UI.setBackgroundColor(<span class="hljs-string">'#000'</span>);

<span class="hljs-keyword">var</span> win1 = Titanium.UI.createWindow({  
    backgroundColor: <span class="hljs-string">'#fff'</span>,
    title: <span class="hljs-string">'Tab 1'</span>,
    url: <span class="hljs-string">'win1.js'</span>,
    zzz: <span class="hljs-string">'Test message'</span>
});
<span class="hljs-keyword">var</span> tab1 = Titanium.UI.createTab({  
    icon: <span class="hljs-string">'KS_nav_views.png'</span>,
    title: <span class="hljs-string">'Tab 1'</span>,
    <span class="hljs-built_in">window</span>: win1
});

<span class="hljs-keyword">var</span> win2 = Titanium.UI.createWindow({  
    backgroundColor: <span class="hljs-string">'#fff'</span>,
    title: <span class="hljs-string">'Tab 2'</span>,
    url: <span class="hljs-string">'win2.js'</span>
});
<span class="hljs-keyword">var</span> tab2 = Titanium.UI.createTab({  
    icon: <span class="hljs-string">'KS_nav_ui.png'</span>,
    title: <span class="hljs-string">'Tab 2'</span>,
    <span class="hljs-built_in">window</span>: win2
});

<span class="hljs-keyword">var</span> tabGroup = Titanium.UI.createTabGroup();
tabGroup.addTab(tab1);  
tabGroup.addTab(tab2);  
tabGroup.open();
</code></pre><p>and <code>win1.js</code></p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> win = Ti.UI.currentWindow;

<span class="hljs-keyword">var</span> label1 = Titanium.UI.createLabel({
    color: <span class="hljs-string">'#999'</span>,
    font: { 
        fontFamily: <span class="hljs-string">'Helvetica Neue'</span>,
        fontSize: <span class="hljs-number">20</span>
    },
    text: <span class="hljs-string">'I am Window 1'</span>,
    textAlign: <span class="hljs-string">'center'</span>,
    width: <span class="hljs-string">'auto'</span>
});
win.add(label1);

<span class="hljs-keyword">var</span> btn = Ti.UI.createButton({
    title: <span class="hljs-string">'Context'</span>,
    top: <span class="hljs-number">20</span>
});
btn.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(e)</span> </span>{
    alert(win.zzz);
});
win.add(btn);
</code></pre><p>and <code>win2.js</code></p>
<pre><code class="hljs">// <span class="hljs-constant">empty</span> <span class="hljs-built_in">file</span>
</code></pre><p>Pressing the button in the first window will correctly pass the parameter down into the next context.</p>
<p>So this is not the problem you are having.</p>
<p>The first code you supplied is simply too little to work out how top solve your problem.  (Corrected version)</p>
<pre><code class="hljs"><span class="hljs-tag">Titanium</span><span class="hljs-class">.UI</span><span class="hljs-class">.createWindow</span>({
  <span class="hljs-attribute">url</span>:<span class="hljs-string">'somenewcode.js'</span>, 
  <span class="hljs-attribute">title</span>:<span class="hljs-string">'your new window'</span>, 
  <span class="hljs-attribute">oldWin</span>:Ti.UI.currentWindow <span class="hljs-comment">// this gets you a pointer</span>
});
</code></pre><p>You do not explain what you do with the first line, what to you do with the variable and where does it sit in relationship to the rest of the calls.</p>
<p>Please provide a copy of your <code>app.js</code> (shortened to a single tab) and the relevant part of the <code>somenewcode.js</code> file as well.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 12th 2012, 5:35:04 pm">August 12th 2012</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-245108">
				
						<section>
							<p>Hi Rebin,</p>
<p>What is Ti.UI.currentWindow here - Is there any window that you created before creating this window? Can you please provide the complete code?</p>
<p>As far as I understand, this won&#39;t work because you are creating new window using url property which creates a new execution context where your previous variables&#x2F;objects are not accessible.</p>
<p>Please read this post - (http:&#x2F;&#x2F;developer.appcelerator.com&#x2F;blog&#x2F;2010&#x2F;08&#x2F;execution-contexts.html)</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 12th 2012, 4:54:11 pm">August 12th 2012</span>
								by <span class='authorname'>Manaday Mavani</span><br>
								<a class="icon-bg icon-link" href="question/140906/how-to-check-whether-window-property-exists#answer-245108" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
