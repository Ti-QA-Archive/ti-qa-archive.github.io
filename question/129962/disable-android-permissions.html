<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Disable Android Permissions » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Disable Android Permissions</h1>
		</header>
		<section>
			<p>I uploaded my app to Google and was warned that the following permissions are required. I do not need ANY of them. How do I disable them? Below the output I&#39;ve put my tiapp.xml for reference.</p>
<p>##Specs</p>
<ul>
<li>OS X Lion</li>
<li>Ti Studio 1.0.8.201112271627</li>
<li>Ti SDK 1.8.0.1</li>
</ul>
<p>##Upload new APK<br><img src="http:&#x2F;&#x2F;cl.ly&#x2F;Cuxv &quot;My APK Info&quot;" alt="My APK Info"></p>
<pre><code class="hljs">This apk requests <span class="hljs-number">4</span> permissions that users will be warned about
android<span class="hljs-class">.permission</span><span class="hljs-class">.ACCESS_WIFI_STATE</span>
android<span class="hljs-class">.permission</span><span class="hljs-class">.ACCESS_NETWORK_STATE</span>
android<span class="hljs-class">.permission</span><span class="hljs-class">.WRITE_EXTERNAL_STORAGE</span>
android<span class="hljs-class">.permission</span><span class="hljs-class">.INTERNET</span>

This apk requests <span class="hljs-number">2</span> features that will be used <span class="hljs-keyword">for</span> Android Market filtering
android<span class="hljs-class">.hardware</span><span class="hljs-class">.wifi</span>
android<span class="hljs-class">.hardware</span><span class="hljs-class">.touchscreen</span>
</code></pre><p>##My tiapp.xml</p>
<pre><code class="hljs"><span class="hljs-pi">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">ti:app</span> <span class="hljs-attribute">xmlns:ti</span>=<span class="hljs-value">"http://ti.appcelerator.org"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">sdk-version</span>&gt;</span>1.8.0.1<span class="hljs-tag">&lt;/<span class="hljs-title">sdk-version</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">deployment-targets</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">target</span> <span class="hljs-attribute">device</span>=<span class="hljs-value">"mobileweb"</span>&gt;</span>false<span class="hljs-tag">&lt;/<span class="hljs-title">target</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">target</span> <span class="hljs-attribute">device</span>=<span class="hljs-value">"iphone"</span>&gt;</span>false<span class="hljs-tag">&lt;/<span class="hljs-title">target</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">target</span> <span class="hljs-attribute">device</span>=<span class="hljs-value">"ipad"</span>&gt;</span>false<span class="hljs-tag">&lt;/<span class="hljs-title">target</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">target</span> <span class="hljs-attribute">device</span>=<span class="hljs-value">"android"</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-title">target</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">target</span> <span class="hljs-attribute">device</span>=<span class="hljs-value">"blackberry"</span>&gt;</span>false<span class="hljs-tag">&lt;/<span class="hljs-title">target</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">deployment-targets</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">id</span>&gt;</span>com.mycompany.app<span class="hljs-tag">&lt;/<span class="hljs-title">id</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">name</span>&gt;</span>App Name!<span class="hljs-tag">&lt;/<span class="hljs-title">name</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">version</span>&gt;</span>1.0<span class="hljs-tag">&lt;/<span class="hljs-title">version</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">publisher</span>&gt;</span>The Guy<span class="hljs-tag">&lt;/<span class="hljs-title">publisher</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">url</span>&gt;</span>http://mycompany.com<span class="hljs-tag">&lt;/<span class="hljs-title">url</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">description</span>&gt;</span>The description<span class="hljs-tag">&lt;/<span class="hljs-title">description</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">copyright</span>&gt;</span>2011 by My Company, LLC<span class="hljs-tag">&lt;/<span class="hljs-title">copyright</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">icon</span>&gt;</span>appicon.png<span class="hljs-tag">&lt;/<span class="hljs-title">icon</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">persistent-wifi</span>&gt;</span>false<span class="hljs-tag">&lt;/<span class="hljs-title">persistent-wifi</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">prerendered-icon</span>&gt;</span>false<span class="hljs-tag">&lt;/<span class="hljs-title">prerendered-icon</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">statusbar-style</span>&gt;</span>default<span class="hljs-tag">&lt;/<span class="hljs-title">statusbar-style</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">statusbar-hidden</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-title">statusbar-hidden</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">fullscreen</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-title">fullscreen</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">navbar-hidden</span>&gt;</span>true<span class="hljs-tag">&lt;/<span class="hljs-title">navbar-hidden</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">analytics</span>&gt;</span>false<span class="hljs-tag">&lt;/<span class="hljs-title">analytics</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">guid</span>&gt;</span>4d602648-aed8-4dce-b6f0-cb79e058e0b6<span class="hljs-tag">&lt;/<span class="hljs-title">guid</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">android</span> <span class="hljs-attribute">xmlns:android</span>=<span class="hljs-value">"http://schemas.android.com/apk/res/android"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">manifest</span> <span class="hljs-attribute">android:versionCode</span>=<span class="hljs-value">"2"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">supports-screens</span> <span class="hljs-attribute">android:anyDensity</span>=<span class="hljs-value">"false"</span>/&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">manifest</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">android</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">modules</span>/&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">ti:app</span>&gt;</span>
</code></pre>
		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="December 28th 2011, 8:03:44 pm">December 28th 2011</span>
				by <span class='authorname'>Ed mediahack</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>disable</span></li>
					
						<li><span class='tagname'>permissions</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>2</span> Votes</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-226276">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>Need to consider a custom manifest file for your android builds.</p>
<ol>
<li>Create a {project}&#x2F;platform&#x2F;android directory</li>
<li>Copy the AndroidManifest.xml over from your build directory.</li>
<li>Edit the custom AndroidManifest.xml to suit your needs.</li>
<li>Build for the Market.</li>
</ol>
<p>It should also be noted, that you need to do this to set the proper android:versionCode to enable update notifications for your end users as Titanium only ever builds out at version 1.</p>
<p>Note: Titanium Studio 1.0.7 now has a rather nice new manifest editor, kind of like the TIAPP.xml editor.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="December 28th 2011, 9:10:16 pm">December 28th 2011</span>
								by <span class='authorname'>Stephen Feather</span><br>
								<a class="icon-bg icon-link" href="question/129962/disable-android-permissions#answer-226276" rel="permalink">permalink</a>
							</div>

							<h5>5 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Hrm, you are pushing a version 2.  Do you already have a custom AndroidManifest?</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 28th 2011, 10:18:39 pm">December 28th 2011</span>
											by <span class='authorname'>Stephen Feather</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>no, I do not. I&#39;m adding one per your suggestion above.</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 29th 2011, 12:27:20 am">December 29th 2011</span>
											by <span class='authorname'>Ed mediahack</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Adding a custom AndroidManifest with those options commented out resulted in a crashing of my app.</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 29th 2011, 10:29:05 pm">December 29th 2011</span>
											by <span class='authorname'>Ed mediahack</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I rebuilt the app and added a custom AndroidManifest.xml and it worked.</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 30th 2011, 5:16:12 am">December 30th 2011</span>
											by <span class='authorname'>Ed mediahack</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>The custom manifest gives an advanced android developer a lot more power over their product.</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 30th 2011, 10:06:30 pm">December 30th 2011</span>
											by <span class='authorname'>Stephen Feather</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>4</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-226286">
				
						<section>
							<p>Permissions are accumulated by Titanium&#39;s build process.  The permissions you have listed are the minimum hard-coded permissions in <code>builder.py</code> (….\mobilesdk\osx\1.8.0.1\android\builder.py) in the variable <code>permissions_required</code>.  There&#39;s a comment in there that says they (Appcelerator) need to refine the minimum list.  You should be able to modify your builder.py file to remove these, if you are certain that your app doesn&#39;t need them.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="December 29th 2011, 12:08:12 am">December 29th 2011</span>
								by <span class='authorname'>Shawn Lipscomb</span><br>
								<a class="icon-bg icon-link" href="question/129962/disable-android-permissions#answer-226286" rel="permalink">permalink</a>
							</div>

							<h5>4 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Hi shawn </p>
<p>removing the basic permission hardcoded by TI doest raise any errors? as I guess TI is having a inbuilt analytic which needs all this permission, is there any way to stop the inbuilt analytic?</p>
<p>Regards</p>
<p>Nikunj</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 29th 2011, 1:35:36 am">December 29th 2011</span>
											by <span class='authorname'>Nikunj Sakhrelia</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>You can set Analytics false in the TIAPP.xml.</p>
<p>Editing the build tools for what could be a single project concern doesn&#39;t seem like the best case.</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 29th 2011, 10:48:19 am">December 29th 2011</span>
											by <span class='authorname'>Stephen Feather</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>@Stephen the analytics is set to false. See the tiapp.xml I posted above.</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 29th 2011, 1:00:23 pm">December 29th 2011</span>
											by <span class='authorname'>Ed mediahack</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Nikunj and Ed, I haven&#39;t tried removing the hardcoded permissions…I just located them for you. Give it a try.</p>
<p>Stephen is right, that this is kindof a sledgehammer approach.  If you&#39;re maintaining multiple projects with different requirements, you&#39;ll have to decide which approach is easier for you:  maintaining a custom AndroidManifest, or swapping between 2 builder.py files.</p>
<p>Ed, you should also consider logging this as a JIRA issue, to get it on Appcelerator&#39;s radar.</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 29th 2011, 1:20:05 pm">December 29th 2011</span>
											by <span class='authorname'>Shawn Lipscomb</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
