<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Extra Tab added on app crash » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Extra Tab added on app crash</h1>
		</header>
		<section>
			<p>Lately my app freezes up after a few window closings and tab changes. Prior to that freeze&#x2F;crash, I notice an extra tab is added to my window (titled … More). This extra tab shows links to all the tabs in the running app almost acting like a site map). Also, clicking any other tab displays the last visible window regardless of what tab is clicked.</p>
<p>I initially thought this may be happening bcos of memory management issues. I have run my app thru iOS instruments and memory is managed properly; at least no increasing memory usage. Anybody else seen this issue and if so, what should i be looking at to resolve it?  Thx</p>
<p>P.S.  I am still optimizing memory usage of my app as I have not ruled that out as an issue yet.</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="December 25th 2012, 2:13:53 pm">December 25th 2012</span>
				by <span class='authorname'>adebisi oladipupo</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>unwanted extra tab</span></li>
					
				</ul>
			

			<section>
				<h5>2 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Please send us a little bit of code.</p>
</div>
							<div class="author">
								&mdash; commented <span title="December 25th 2012, 2:24:09 pm">December 25th 2012</span>
								by <span class='authorname'>Rainer Schleevoigt</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Per your request, here are some code snippets just in case I can rescue thisdevlopment from advice of the community.  I am also trying to rewrite the logic but hitting a snag right now.  I hope I can get some advice that will point out the source of the issue as I understand the logo of current implementation.</p>
<p>app.js</p>
<pre><code class="hljs">(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{

    TU.UI.Theme.backgroundColor = <span class="hljs-string">'#000120'</span>;
    TU.UI.Theme.lightBackgroundColor = <span class="hljs-string">'#000120'</span>;
    TU.UI.Theme.darkBackgroundColor = <span class="hljs-string">'#000000'</span>;
    TU.UI.Theme.highlightColor = <span class="hljs-string">'#fe690b'</span>;
    TU.UI.Theme.textColor = <span class="hljs-string">'#ffffff'</span>;

<span class="hljs-comment">// Call AppWindow creation function</span>

<span class="hljs-comment">//    Ti.include('/ui/common/ui.js');</span>

    <span class="hljs-keyword">var</span> myUI = <span class="hljs-built_in">require</span>(<span class="hljs-string">'/ui/common/ui'</span>);
    <span class="hljs-keyword">var</span> win = <span class="hljs-keyword">new</span> myUI();
<span class="hljs-comment">//    var  win=FUI.createAppWindow();</span>

    <span class="hljs-keyword">var</span> appTime = <span class="hljs-built_in">require</span>(<span class="hljs-string">'/includes/clock'</span>);
    <span class="hljs-keyword">var</span> myClock = <span class="hljs-keyword">new</span> appTime();

    win.add(myClock);
</code></pre><p>function createUI ()<br>        {<br>&#x2F;&#x2F;            var w = TU.Device.getDisplayWidth();<br>&#x2F;&#x2F;            var h = TU.Device.getDisplayHeight();</p>
<pre><code class="hljs">        // <span class="hljs-keyword">add </span>the  <span class="hljs-keyword">background </span>image with the right aspect ratio

        _iv_bg = <span class="hljs-keyword">BackgroundManager.getBackgroundIV </span>()<span class="hljs-comment">;</span>
        _self.<span class="hljs-keyword">add </span>(_iv_bg)<span class="hljs-comment">;</span>
</code></pre><p>&#x2F;<em><br>            if (w &gt; h)<br>            {<br>                if (_currOrientation == &#39;landscape&#39;)<br>                {<br>                    return;<br>                }<br>                createUILandscape ();<br>            }<br>            else<br>            {<br>                if (_currOrientation == &#39;portrait&#39;)<br>                {<br>                    return;<br>                }<br>                createUIPortrait ();<br>            } 
</em>&#x2F;</p>
<pre><code class="hljs">         _vbuttons1 = Ti.UI.createView ({
            top: <span class="hljs-string">'120dp'</span>,
            layout: <span class="hljs-string">'horizontal'</span>,
            <span class="hljs-variable">height</span>: btnh,
            <span class="hljs-variable">width</span>: Ti.UI.SIZE,
            zIndex: <span class="hljs-number">200</span>
        });    

        _vbuttons2 = Ti.UI.createView ({
            top: <span class="hljs-string">'232dp'</span>,
            layout: <span class="hljs-string">'horizontal'</span>,
            <span class="hljs-variable">height</span>: btnh,
            <span class="hljs-variable">width</span>: Ti.UI.SIZE,
            zIndex: <span class="hljs-number">200</span>
        });    

        _vbuttons3 = Ti.UI.createView ({
            top: <span class="hljs-string">'339dp'</span>,
            layout: <span class="hljs-string">'horizontal'</span>,
            <span class="hljs-variable">height</span>: btnh,
            <span class="hljs-variable">width</span>: Ti.UI.SIZE,
            zIndex: <span class="hljs-number">200</span>
        });    

<span class="hljs-comment">// add buttons to each horizontal view (3 total to form a 3x3 grid)</span>

        _sermon = createSermon();            
        _vbuttons1.<span class="hljs-built_in">add</span>(_sermon);
        _sermon.addEventListener(<span class="hljs-string">'click'</span>, openView);
        _prayer = createPrayer();
        _vbuttons1.<span class="hljs-built_in">add</span>(_prayer);
        _prayer.addEventListener(<span class="hljs-string">'click'</span>, openView);
        _tithe = createTithe();
        _vbuttons1.<span class="hljs-built_in">add</span>(_tithe);
        _tithe.addEventListener(<span class="hljs-string">'click'</span>, openView);
        _news = createNews();
        _vbuttons2.<span class="hljs-built_in">add</span>(_news);
        _news.addEventListener(<span class="hljs-string">'click'</span>, openView);
        _training = createTraining();
        _vbuttons2.<span class="hljs-built_in">add</span>(_training);
        _training.addEventListener(<span class="hljs-string">'click'</span>, openView);
        _event = createEvent();
        _vbuttons2.<span class="hljs-built_in">add</span>(_event);
        _event.addEventListener(<span class="hljs-string">'click'</span>, openView);
        _about = createAbout();
        _vbuttons3.<span class="hljs-built_in">add</span>(_about);
        _about.addEventListener(<span class="hljs-string">'click'</span>, openView);
        _location = createLocation();
        _vbuttons3.<span class="hljs-built_in">add</span>(_location);
        _location.addEventListener(<span class="hljs-string">'click'</span>, openView);
        _contact = createContact();
        _vbuttons3.<span class="hljs-built_in">add</span>(_contact);
        _contact.addEventListener(<span class="hljs-string">'click'</span>, openView);

        <span class="hljs-comment">// add the button view containers to the UI window</span>

        _self.<span class="hljs-built_in">add</span> (_vbuttons1);
        _self.<span class="hljs-built_in">add</span> (_vbuttons2);
        _self.<span class="hljs-built_in">add</span> (_vbuttons3);

    } <span class="hljs-comment">//end of function createUI</span>
</code></pre><hr>
<p>function openView(e)<br>        {<br>        &#x2F;&#x2F;    Ti.API.info(&#39;Button id = &#39; + e.source.id);</p>
<pre><code class="hljs">            <span class="hljs-keyword">var</span> Window = <span class="hljs-literal">null</span>;

            <span class="hljs-keyword">switch</span> (e.source.id)
            {
                <span class="hljs-keyword">case</span> <span class="hljs-number">1</span>:
                  Window = <span class="hljs-built_in">require</span>(<span class="hljs-string">'/ui/common/sermonTabGroup'</span>);
                Window.open();
                  <span class="hljs-keyword">break</span>;

                <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:
                  alert(<span class="hljs-string">'Coming soon ..'</span>);
                  <span class="hljs-keyword">break</span>;

                <span class="hljs-keyword">case</span> <span class="hljs-number">3</span>:
                  alert(<span class="hljs-string">'Coming soon ..'</span>);
                  <span class="hljs-keyword">break</span>;

                <span class="hljs-keyword">case</span> <span class="hljs-number">4</span>:
                  Window = <span class="hljs-built_in">require</span>(<span class="hljs-string">'/ui/common/newsTabGroup'</span>);
                Window.open();
                  <span class="hljs-keyword">break</span>;
</code></pre><pre><code class="hljs"><span class="hljs-tag">newsTabGroup</span><span class="hljs-class">.js</span>
</code></pre><p>var lm = null;<br>var TU = require (&#39;&#x2F;TitanUp&#x2F;TitanUp&#39;);<br>var newsUI = null;</p>
<p>exports.b4 = null;</p>
<p>&#x2F;&#x2F;newsUI close button and listener defined once</p>
<p>exports.b4 = Titanium.UI.createButton({title:&#39;Menu&#39;});<br>exports.b4.addEventListener(&#39;click&#39;, function()<br>{<br>    newsUI.close();<br>    newsUI = null;<br>});</p>
<p>var margin = TU.UI.Sizer.getDimension (10);</p>
<p>createStudyWindow = function(){</p>
<pre><code class="hljs"><span class="hljs-label">var</span> <span class="hljs-keyword">BibleWindow </span>= <span class="hljs-preprocessor">require</span>(<span class="hljs-string">'includes/BIBLEWindow'</span>)<span class="hljs-comment">;</span>
<span class="hljs-label">var</span> <span class="hljs-keyword">bibleWin </span>= new <span class="hljs-keyword">BibleWindow();
</span><span class="hljs-keyword">bibleWin.leftNavButton </span>= exports.<span class="hljs-keyword">b4;
</span>
<span class="hljs-label">return</span> <span class="hljs-keyword">bibleWin;</span>
</code></pre><p>};</p>
<p>&#x2F;&#x2F; function to create window assosciated with mission tab</p>
<p>createNewsWindow = function(){</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> RSSWindow = <span class="hljs-built_in">require</span>(<span class="hljs-string">'includes/RSSWindow'</span>);
<span class="hljs-keyword">var</span> newsWin = <span class="hljs-keyword">new</span> RSSWindow();

newsWin.leftNavButton = exports.b4;

<span class="hljs-keyword">return</span> newsWin;
</code></pre><p>};</p>
<p>&#x2F;&#x2F; this function is only a placeholder. Modify later to reflect correct data</p>
<p>createConnectWindow = function(){<br>    var connectWin = Ti.UI.createWindow({<br>        title: &#39;Connect with Us&#39;,<br>        backgroundColor: &#39;#13386c&#39;,<br>        barColor: &#39;#9b05ad&#39;,<br>        color:&#39;#fff&#39;<br>    });<br>    var connectView = Ti.UI.createView ({<br>        top: margin,<br>        left: margin,<br>        right: margin,<br>        bottom: margin,<br>        borderRadius: margin,<br>        borderColor: TU.UI.Theme.textColor,<br>        backgroundColor: TU.UI.Theme.lightBackgroundColor,<br>        layout: &#39;vertical&#39;<br>    });</p>
<pre><code class="hljs">lm = Ti.UI.createLabel ({
        left: margin,
        right: margin,
        top: margin,
        <span class="hljs-built_in">text</span>:     <span class="hljs-string">'Coming soon ...'</span>,
        <span class="hljs-built_in">color</span>: TU.UI.Theme.textColor,
        font: TU.UI.Theme.fonts.mediumBold
    });

connectView.<span class="hljs-built_in">add</span> (lm);
connectWin.<span class="hljs-built_in">add</span>(connectView);    
connectWin.leftNavButton = exports.b4;

<span class="hljs-keyword">return</span> connectWin;
</code></pre><p>};</p>
<p>&#x2F;&#x2F; this function is only a placeholder. Modify later to reflect correct data</p>
<p>createInfoWindow = function(){<br>    var infoWin = Ti.UI.createWindow({<br>        title: &#39;App Author&#39;,<br>        backgroundColor: &#39;#13386c&#39;,<br>        barColor: &#39;#9b05ad&#39;,<br>        color:&#39;#fff&#39;<br>    });</p>
<p>&#x2F;&#x2F;image view panel containing logo and prof&#39;s picture&#39;    </p>
<pre><code class="hljs">var imgDejay = Ti.UI.createImageView ({

    <span class="hljs-built_in">image</span>: <span class="hljs-string">'/images/dejaypanel.jpg'</span>,
    top: <span class="hljs-number">0</span>,
    left: <span class="hljs-number">0</span>,
    <span class="hljs-variable">width</span>: <span class="hljs-string">'320dp'</span>,
    <span class="hljs-variable">height</span>: <span class="hljs-string">'63dp'</span>,
    layout: <span class="hljs-string">'vertical'</span>
});

infoWin.<span class="hljs-built_in">add</span>(imgDejay);

var infoView = Ti.UI.createView ({
    top: <span class="hljs-string">'110dp'</span>,
    left: margin,
    bottom: margin,
    borderRadius: margin,
    borderColor: TU.UI.Theme.textColor,
    backgroundColor: TU.UI.Theme.lightBackgroundColor,
    layout: <span class="hljs-string">'vertical'</span>
});

lm = Ti.UI.createLabel ({
        left: margin,
        right: margin,
        top: margin,
        <span class="hljs-built_in">text</span>:     <span class="hljs-string">'Developed by Prof. Bisi Oladipupo.\n\nChief Technology Officer, beSpokenIT, LLC\n\nwww.beSpokenIT.com (Tailor-made IT solutions for clients). \nbeSpokenIT, LLC is a subsidiary of DejAy Enterprises, Chesapeake VA, USA. \n\nemail: obisi7@gmail.com'</span>,
        <span class="hljs-built_in">color</span>: TU.UI.Theme.textColor,
        font: TU.UI.Theme.fonts.mediumBold
    });

infoView.<span class="hljs-built_in">add</span> (lm);
infoWin.<span class="hljs-built_in">add</span>(infoView);        
infoWin.leftNavButton = exports.b4;

<span class="hljs-keyword">return</span> infoWin;
</code></pre><p>};</p>
<p>&#x2F;&#x2F;Better way to handle tabgroup creation, using function calls</p>
<p>&#x2F;*</p>
<ul>
<li><p>Define our tab group<br>*&#x2F;<br>createTabs = function() {</p>
<p> var tabGroup = Titanium.UI.createTabGroup();<br> var tab1 = Ti.UI.createTab({</p>
<pre><code class="hljs"> <span class="hljs-attribute">icon</span>:<span class="hljs-string">'images/icons/planet_white.png'</span>,
 title:<span class="hljs-string">'Gospel'</span>,
 window: <span class="hljs-function"><span class="hljs-title">createStudyWindow</span><span class="hljs-params">()</span></span>
</code></pre><p> });<br> tabGroup.addTab(tab1);</p>
<p> var tab2 = Ti.UI.createTab({</p>
<pre><code class="hljs"> <span class="hljs-attribute">icon</span>:<span class="hljs-string">'images/icons/news_white.png'</span>,
 title:<span class="hljs-string">'Naija News'</span>,
 window: <span class="hljs-function"><span class="hljs-title">createNewsWindow</span><span class="hljs-params">()</span></span>
</code></pre><p> });<br> tabGroup.addTab(tab2); </p>
<p> var tab3 = Ti.UI.createTab({</p>
<pre><code class="hljs"> <span class="hljs-attribute">icon</span>:<span class="hljs-string">'images/icons/Chats.png'</span>,
 title:<span class="hljs-string">'Connect'</span>,
 window: <span class="hljs-function"><span class="hljs-title">createConnectWindow</span><span class="hljs-params">()</span></span>
</code></pre><p> });<br> tabGroup.addTab(tab3); </p>
<p> var tab4 = Ti.UI.createTab({</p>
<pre><code class="hljs"> <span class="hljs-attribute">icon</span>:<span class="hljs-string">'images/icons/more_white.png'</span>,
 title:<span class="hljs-string">'More'</span>,
 window: <span class="hljs-function"><span class="hljs-title">createInfoWindow</span><span class="hljs-params">()</span></span>
</code></pre><p> });<br> tabGroup.addTab(tab4); </p>
</li>
</ul>
<pre><code class="hljs"><span class="hljs-keyword">return</span> tabGroup;
</code></pre><p>}</p>
<p>&#x2F;&#x2F; &quot;exports&quot; is the public object<br>exports.open = function(){<br>    newsUI= createTabs();<br>    newsUI.open();<br>}</p>
<pre><code class="hljs"><span class="hljs-tag">BIBLEWindow</span><span class="hljs-class">.js</span>
</code></pre><p>exports.b = Titanium.UI.createButton({title:&#39;Menu&#39;});<br>var BIBLEWindow = function() {<br>    &#x2F;&#x2F; Builds the RSS reader window<br>    &#x2F;&#x2F; Charisma RSS News feed channel<br>    require(&#39;includes&#x2F;getRSSData&#39;).fetchRSSData(&#39;http:&#x2F;&#x2F;charismamag.com&#x2F;index.php&#x2F;news?format=feed&amp;type=rss&#39;);</p>
<p>&#x2F;&#x2F;    require(&#39;includes&#x2F;getRSSData&#39;).fetchRSSData(&#39;http:&#x2F;&#x2F;rss.cnn.com&#x2F;rss&#x2F;cnn_topstories.rss&#39;);<br>&#x2F;&#x2F;  require(&#39;includes&#x2F;network&#39;).fetchRSSData(&#39;http:&#x2F;&#x2F;rss.christiansunite.com&#x2F;feed_7_46.shtml&#39;);</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> bibleWindow = Titanium.UI.createWindow({  
    title:<span class="hljs-string">''</span>,
    backgroundColor:<span class="hljs-string">'#13386c'</span>,
</code></pre><p>&#x2F;&#x2F;        color: &#39;#fff&#39;,<br>        barColor:&#39;#9b05ad&#39;<br>    });<br>    &#x2F;&#x2F; create the tableview<br>    var tvBible = Titanium.UI.createTableView();<br>    bibleWindow.add(tvBible);</p>
<pre><code class="hljs"><span class="hljs-comment">// helper function for adding rows, we'll need this later</span>
<span class="hljs-keyword">var</span> addTbRows = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(tbData)</span></span>{
    <span class="hljs-keyword">var</span> tbRows = []; <span class="hljs-comment">// an array to hold our rows</span>
    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i=<span class="hljs-number">0</span>; i&lt;tbData.length; i++) {
        tbRows.push(Ti.UI.createTableViewRow({
            title: tbData[i].postTitle,
</code></pre><p>&#x2F;&#x2F;                color:&#39;#13386c&#39;,<br>                hasChild:true,<br>                link: tbData[i].postLink,<br>&#x2F;&#x2F;                height:50<br>            }));<br>        }<br>        tvBible.setData(tbRows);<br>    };<br>    &#x2F;&#x2F; add click event listener to open blog post when row is tapped<br>    tvBible.addEventListener(&#39;click&#39;,function(e) {<br>        var ArticleWindow = require(&#39;includes&#x2F;ArticleWindow&#39;);<br>        var articlewindow = new ArticleWindow(e.rowData);<br>        articlewindow.open({modal:true});<br>    });<br>    &#x2F;&#x2F; set up an event listener to populate data when it&#39;s available from the network and remove same when window closes<br>    &#x2F;&#x2F;to conserve memory</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> bibleEventHandler = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span> </span>{
        <span class="hljs-comment">// Set the window's title</span>
    bibleWindow.title = e.blogTitle;
    <span class="hljs-comment">// Add the table rows</span>
    addTbRows(e.blogPosts);
};


Ti.App.addEventListener(<span class="hljs-string">'net:bibleRssDataReturned'</span>, bibleEventHandler);

exports.b.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>
</span>{

Ti.App.removeEventListener(<span class="hljs-string">'net:rssDataReturned'</span>, eventHandler);

});
<span class="hljs-keyword">return</span> bibleWindow;
</code></pre><p>}; &#x2F;&#x2F; end createRSSWindow()</p>
<p>module.exports = BIBLEWindow;</p>
<p>~~~</p>
</div>
							<div class="author">
								&mdash; commented <span title="December 25th 2012, 7:06:12 pm">December 25th 2012</span>
								by <span class='authorname'>adebisi oladipupo</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>0</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>0 Answers</h3>

	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
