<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>JSON Nested Object Help Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>JSON Nested Object Help</h1>
		</header>
		<section>
			<p>I&#39;m pulling in JSON from a Drupal site which is working fine. The issue I&#39;m having is with nested objects. The field_image consists of an array and I need to pull the filename from it.</p>
<p>In the below code, how can I use the nested object?</p>
<pre><code class="hljs">var label2 = Ti.UI.createLabel({ text: 'Image: '+data[<span class="hljs-link_label">c</span>][<span class="hljs-link_reference">'field_image'</span>] });
</code></pre><p>JSON output</p>
<pre><code class="hljs">[field_image] =&gt; <span class="hljs-keyword">Array</span>
                (
                    [<span class="hljs-number">0</span>] =&gt; <span class="hljs-keyword">Array</span>
                        (
                            [uid] =&gt; <span class="hljs-number">1</span>
                            [filename] =&gt; FeedsEnclosure-ClassAd-<span class="hljs-number">297081</span>-<span class="hljs-number">1.</span>jpg  
                        )
                )
</code></pre>
		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="June 23rd 2010, 12:58:12 pm">June 23rd 2010</span>
				by <span class='authorname'>Jason Calvert</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>iphone</span></li>
					
						<li><span class='tagname'>json</span></li>
					
				</ul>
			

			<section>
				<h5>1 Comment</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>I am also looking for the answer to this exact question.<br>In this piece of code<br> [field_origin] =&gt; Array<br>                (<br>                    [0] =&gt; Array<br>                        (<br>                            [value] =&gt; Edmonton, Alberta, Canada<br>                        )</p>
<pre><code class="hljs">            )
</code></pre><p>I would like to access the [value] field<br>I have been using data[c] field to access top level elements like [field_origin] but need to dive a bit deeper into the array. Has anyone got any suggestions or did you ever manage to resolve this Jason?</p>
<p>Thanks in advance<br>Gregg</p>
</div>
							<div class="author">
								&mdash; commented <span title="July 20th 2010, 1:26:51 am">July 20th 2010</span>
								by <span class='authorname'>Gregg Coppen</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>1</span> Vote</div>
			<div class="answers"><span>5</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>5 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-87831">
				
						<section>
							<p>sorry should have put that code in correctly</p>
<pre><code class="hljs"> [field_origin] =&gt; <span class="hljs-keyword">Array</span>
                (
                    [<span class="hljs-number">0</span>] =&gt; <span class="hljs-keyword">Array</span>
                        (
                            [value] =&gt; Edmonton, Alberta, Canada
                        )

                )
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="July 20th 2010, 1:27:39 am">July 20th 2010</span>
								by <span class='authorname'>Gregg Coppen</span><br>
								<a class="icon-bg icon-link" href="question/37551/json-nested-object-help#answer-87831" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-87861">
				
						<section>
							<p>untested, try this for size.</p>
<p>var data = JSON.parse(this.responseText);</p>
<p>value = data.field_origin[c].value;</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="July 20th 2010, 2:53:12 am">July 20th 2010</span>
								by <span class='authorname'>Daniel Lim</span><br>
								<a class="icon-bg icon-link" href="question/37551/json-nested-object-help#answer-87861" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-88121">
				
						<section>
							<p>Thanks Daniel. Unfortunately that did not work for me and I was typing out a long reply explaining what I was trying to do and how I was trying to do it and then I thought to try something and it worked!!!</p>
<p>Seeing as there is only one value in these arrays returned by Drupals Services module it is fairly safe to assume that each position in the array is going to be [0]</p>
<p>I was able to set the label to this value within the array by using the following<br>text: data[c][&#39;field_origin&#39;][0][&#39;value&#39;],</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="July 20th 2010, 3:51:23 pm">July 20th 2010</span>
								by <span class='authorname'>Gregg Coppen</span><br>
								<a class="icon-bg icon-link" href="question/37551/json-nested-object-help#answer-88121" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Great job Gregg! I had a new project come up and had to put my app aside for a while. Haven&#39;t had a chance to work on this issue. Glad you got it to work.</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 20th 2010, 7:58:55 pm">July 20th 2010</span>
											by <span class='authorname'>Jason Calvert</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-88291">
				
						<section>
							<p>I figured out a simple way to avoid Drupal outputting CCk and taxonomy fields in arrays which makes it tricker to access the relevant values. If you use &quot;Row Style:Fields&quot; instead of &quot;Row Style: Node&quot; then you get all the values at a top level without being nested in arrays which makes them easy to pull through to Titanium.</p>
<p>Hope that helps someone because it frustrated me for a while :)</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="July 21st 2010, 1:27:45 am">July 21st 2010</span>
								by <span class='authorname'>Gregg Coppen</span><br>
								<a class="icon-bg icon-link" href="question/37551/json-nested-object-help#answer-88291" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-88711">
				
						<section>
							<p>Gregg&#39;s example works for all my fields except taxonomy and image fields. As an example: when I use data[c][&#39;field_image&#39;][0][&#39;filepath&#39;], the page loads blank.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="July 21st 2010, 6:54:33 pm">July 21st 2010</span>
								by <span class='authorname'>Jason Calvert</span><br>
								<a class="icon-bg icon-link" href="question/37551/json-nested-object-help#answer-88711" rel="permalink">permalink</a>
							</div>

							<h5>2 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>are you using field or node rowstyle for your view? If using node try using fields and then you can access most elements as top level rather than nested. It worked for me for taxonomy.</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 22nd 2010, 11:21:25 pm">July 22nd 2010</span>
											by <span class='authorname'>Gregg Coppen</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I&#39;ve tried it as field but it doesn&#39;t show all the fields just the basic ones (teaser, title, etc.). The only way I can see all of the fields is by using rowstyle node.</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 29th 2010, 2:01:08 pm">July 29th 2010</span>
											by <span class='authorname'>Jason Calvert</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
