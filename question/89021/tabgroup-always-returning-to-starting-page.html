<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>TabGroup always returning to starting page » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>TabGroup always returning to starting page</h1>
		</header>
		<section>
			<p>I have the following code with multiple tabs in the group.  I would like the tab to return to the url listed anytime it is clicked.  Right now, if you have browsed to another window within that tab and then migrated to another tab, clicking the first tab will take you to the last page viewed within that tab.</p>
<p>This seems to be the behavior of the kitchen sink application, but I want to change it.</p>
<pre><code class="hljs">Titanium.include(<span class="hljs-string">'global/app_global.js'</span>);
<span class="hljs-keyword">var</span> tabGroup = Titanium.UI.createTabGroup();

<span class="hljs-keyword">var</span> browseWin = Titanium.UI.createWindow ({
    backgroundColor: <span class="hljs-string">"#000b43"</span>,
    url: <span class="hljs-string">"browse/browse.js"</span>,
    barColor: <span class="hljs-string">'#000644'</span>,
    barImage: <span class="hljs-string">'images/header/header_logo.png'</span>,
    titleImage: <span class="hljs-string">''</span>
});

<span class="hljs-keyword">var</span> browseTab = Titanium.UI.createTab({
    icon: <span class="hljs-string">"images/KS_nav_views.png"</span>,
    backgroundColor: <span class="hljs-string">"#000b43"</span>,
    title:<span class="hljs-string">"Browse"</span>,
    <span class="hljs-built_in">window</span>: browseWin
});

<span class="hljs-keyword">var</span> searchWin = Titanium.UI.createWindow ({
    backgroundColor: <span class="hljs-string">"#333"</span>,
    url: <span class="hljs-string">"search/search_by_phrase.js"</span>,
    barColor: <span class="hljs-string">'#000644'</span>,
    barImage: <span class="hljs-string">'images/header/header_logo.png'</span>,
    titleImage: <span class="hljs-string">''</span>
});

<span class="hljs-keyword">var</span> searchTab = Titanium.UI.createTab({
    icon: <span class="hljs-string">"images/KS_nav_ui.png"</span>,
    backgroundColor: <span class="hljs-string">"#000b43"</span>,
    title:<span class="hljs-string">"Search"</span>,
    <span class="hljs-built_in">window</span>: searchWin
});

tabGroup.addTab(browseTab);
tabGroup.addTab(searchTab);
</code></pre><p>I have tried adding an event listener such as this:</p>
<pre><code class="hljs">tabGroup.addEventListener(<span class="hljs-string">'blur'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span></span>{
<span class="hljs-keyword">if</span> (e.index == <span class="hljs-number">0</span>) {
    browseWin1 = Titanium.UI.createWindow ({
            backgroundColor: <span class="hljs-string">"#000b43"</span>,
            url: <span class="hljs-string">"browse/browse.js"</span>,
            barColor: <span class="hljs-string">'#000644'</span>,
            barImage: <span class="hljs-string">'images/header/header_logo.png'</span>,
            titleImage: <span class="hljs-string">''</span>
        });
        browseWin1.open();
    }
});
</code></pre><p>but that simply creates a loop</p>
<p>Thanks for your help.</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="December 13th 2010, 5:58:48 pm">December 13th 2010</span>
				by <span class='authorname'>brian tarbell</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>mobile</span></li>
					
						<li><span class='tagname'>refresh</span></li>
					
						<li><span class='tagname'>tab</span></li>
					
						<li><span class='tagname'>tabgroup</span></li>
					
						<li><span class='tagname'>url</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>2</span> Votes</div>
			<div class="answers"><span>3</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>3 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-160811">
				
						<section>
							<p>I think I found the solution.  If I remove the tabs from the tab group and then recreate the tab group and then reset the active tab to the one clicked, it appears to then launch the first window.</p>
<p>There has to be an easier way to get this to work, but at least I found a way.</p>
<p>Thanks for your help Aaron!</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="December 14th 2010, 4:45:17 pm">December 14th 2010</span>
								by <span class='authorname'>brian tarbell</span><br>
								<a class="icon-bg icon-link" href="question/89021/tabgroup-always-returning-to-starting-page.html#answer-160811" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>the solution I had suggested would require you to refactor your code so you could fire an event to initialize the window without recreating the whole UI… I am glad you found a solution though</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 14th 2010, 4:49:04 pm">December 14th 2010</span>
											by <span class='authorname'>Aaron Saunders</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>2</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-206861">
				
						<section>
							<p>FYI, I achieved this by tracking child windows that are opened and then closing them when making the tab active.</p>
<p>IMO, this would be a great thing to expose through the Titanium API. I&#39;d write the code myself, but I haven&#39;t seen Appcelerator accept anyone&#39;s pull requests on Github.  (??) Anybody have experience getting their contributions accepted? (IMO, this is pretty much required for an &#39;open source&#39; project.)</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="April 27th 2011, 4:27:46 am">April 27th 2011</span>
								by <span class='authorname'>Robb Shecter</span><br>
								<a class="icon-bg icon-link" href="question/89021/tabgroup-always-returning-to-starting-page.html#answer-206861" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-159931">
				
						<section>
							<p>here is a <a href="http:&#x2F;&#x2F;developer.appcelerator.com&#x2F;question&#x2F;76561&#x2F;tab-refresh---window-to-previous-state">similar question</a> I answered that might solve your problem</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="December 13th 2010, 6:03:25 pm">December 13th 2010</span>
								by <span class='authorname'>Aaron Saunders</span><br>
								<a class="icon-bg icon-link" href="question/89021/tabgroup-always-returning-to-starting-page.html#answer-159931" rel="permalink">permalink</a>
							</div>

							<h5>4 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Thanks Aaron.<br>Adding the e.previousIndex removed the looping, but I am not sure what to put in the statement to get it to reload the initial url.</p>
<p>I&#39;ve tried these 3 solutions:</p>
<p>This one just opens the tab, but keeps it on the most recently viewed window and not the original url (browse&#x2F;browse.js)</p>
<pre><code class="hljs">browseWin.<span class="hljs-keyword">open</span><span class="hljs-literal">()</span>;
</code></pre><p>This one gives an error:<br>[ERROR] Script Error = Result of expression &#39;win.tabGroup&#39; [null] is not an object. at browse.js (line 13).</p>
<pre><code class="hljs">browseW<span class="hljs-keyword">in</span>1 = Titanium.UI.createWindow ({
    backgroundColor: <span class="hljs-string">"#000b43"</span>,
    url: <span class="hljs-string">"browse/browse.js"</span>,
    barColor: <span class="hljs-string">'#000644'</span>,
    barImage: <span class="hljs-string">'images/header/header_logo.png'</span>,
    titleImage: <span class="hljs-string">''</span>
});
browseW<span class="hljs-keyword">in</span>1.open();
</code></pre><p>And the third attempt performs the same as the first one (loads the most recently viewed window)</p>
<pre><code class="hljs">tabGroup.setActiveTab(<span class="hljs-number">0</span>);
</code></pre><p>What I am looking for is some type of tabGroup.loadURL function to set the url of the index == 0 tab back to browse&#x2F;browse.js.  If that makes any sense.</p>
<p>Thanks</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 13th 2010, 6:24:25 pm">December 13th 2010</span>
											by <span class='authorname'>brian tarbell</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>i would need to see what is inside of browse.js, there is not enough information here to answer that question.</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 13th 2010, 6:32:04 pm">December 13th 2010</span>
											by <span class='authorname'>Aaron Saunders</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>sure</p>
<p>basically, it is just a window with an image and a scrollableView. you can then browse into categories from the scrollableView</p>
<p>what is happening is that someone can browse to the category.js page, click the search tab and the navigate back to the browse tab.  I do not want the category.js page to load, I want it to load broswe.js when they click the browse tab.</p>
<p>Thanks for your help</p>
<pre><code class="hljs"><span class="hljs-keyword">if</span> (Titanium.App.Properties.getString(<span class="hljs-string">"loader_format"</span>) == <span class="hljs-string">'JSON'</span>) {
    Titanium.<span class="hljs-keyword">include</span>(<span class="hljs-string">'../global/dataloader_json.js'</span>);
};
<span class="hljs-keyword">var</span> categoryWin = Ti.UI.createWindow({
    backgroundColor: <span class="hljs-string">"#000b43"</span>,
    url: <span class="hljs-string">"category.js"</span>,
    barColor: <span class="hljs-string">'#000644'</span>,
    barImage: <span class="hljs-string">'../images/header/header_logo.png'</span>,
    titleImage: <span class="hljs-string">''</span>
});

<span class="hljs-keyword">var</span> win = Titanium.UI.currentWindow;
win.tabGroup.setActiveTab(<span class="hljs-number">0</span>);

<span class="hljs-keyword">var</span> image = Titanium.UI.createImageView({
    image:<span class="hljs-string">'../images/home_large.png'</span>,
    width:<span class="hljs-number">316</span>,
    height:<span class="hljs-number">225</span>,
    top:<span class="hljs-number">0</span> 
});
win.add(image);

<span class="hljs-keyword">if</span> (Titanium.App.Properties.getString(<span class="hljs-string">"loader_format"</span>) == <span class="hljs-string">'JSON'</span>) {
    Titanium.<span class="hljs-keyword">include</span>(<span class="hljs-string">'../global/dataloader_json.js'</span>);
};

<span class="hljs-keyword">var</span> myLoader = <span class="hljs-keyword">new</span> data_loader();
myLoader.loadCategories(win.catID,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(categories)</span> </span>{
    <span class="hljs-keyword">var</span> scrollView = Titanium.UI.createScrollableView({
        views:[],
        top:<span class="hljs-number">236</span>,
        height:<span class="hljs-number">110</span>,
        width:<span class="hljs-number">270</span>,
        left:<span class="hljs-number">25</span>,
        showPagingControl:<span class="hljs-literal">true</span>
    });

    <span class="hljs-keyword">var</span> viewCtr = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">var</span> view1 = Titanium.UI.createView();
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> iCtr = <span class="hljs-number">0</span>; iCtr &lt; categories.length; iCtr++) {
        <span class="hljs-keyword">var</span> leftPos = <span class="hljs-number">92</span> * viewCtr;

        <span class="hljs-keyword">var</span> image1 = Titanium.UI.createImageView({
            image:categories[iCtr].image,
            left:leftPos,
            width:<span class="hljs-number">86</span>,
            height:<span class="hljs-number">107</span>,
            catID: categories[iCtr].id,
            catName: categories[iCtr].name,
            bottom:<span class="hljs-number">15</span>
        });
        view1.add(image1);

        <span class="hljs-keyword">var</span> image1Click = image1.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span> </span>{
            categoryWin.catID = e.source.catID;
            categoryWin.catName = <span class="hljs-string">'Home'</span>;
            Titanium.UI.currentWindow.close();
            Titanium.UI.currentTab.open(categoryWin);
        });

        viewCtr++;
        <span class="hljs-keyword">if</span> (viewCtr == <span class="hljs-number">3</span>) {
            viewCtr = <span class="hljs-number">0</span>;
            scrollView.addView(view1);
            <span class="hljs-keyword">var</span> view1 = Titanium.UI.createView();
        }
    };

    <span class="hljs-keyword">if</span> (viewCtr != <span class="hljs-number">0</span>) {
        scrollView.addView(view1);
    }

    win.add(scrollView);
});

win.open();
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="December 13th 2010, 6:50:04 pm">December 13th 2010</span>
											by <span class='authorname'>brian tarbell</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>you need an event in the browser.js that you can fire that will set the window to the correct state.</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 13th 2010, 7:33:14 pm">December 13th 2010</span>
											by <span class='authorname'>Aaron Saunders</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
