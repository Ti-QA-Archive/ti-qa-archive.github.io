<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Animation in vertical layouted scrollview » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Animation in vertical layouted scrollview</h1>
		</header>
		<section>
			<p>Hi,<br>I have the followinf struct:</p>
<pre><code class="hljs">window
-- scrollview (layout=vertival)
---- some views ,,,
---- view (height=<span class="hljs-number">0</span>)
</code></pre><p>after event:</p>
<pre><code class="hljs"><span class="hljs-tag">view</span>,<span class="hljs-tag">animate</span>(<span class="hljs-tag">Ti</span><span class="hljs-class">.UI</span><span class="hljs-class">.createAnimation</span>(<span class="hljs-rules">{<span class="hljs-rule"><span class="hljs-attribute">height</span>:<span class="hljs-value"><span class="hljs-number">100</span>, duration: <span class="hljs-number">100</span></span></span></span>}));
</code></pre><p>The view jump in top of window.</p>
<p>Whats going wrong?</p>
<p>RAiner</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="November 22nd 2011, 2:04:56 pm">November 22nd 2011</span>
				by <span class='authorname'>Rainer Schleevoigt</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>animation</span></li>
					
				</ul>
			

			<section>
				<h5>3 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>can you post a little more code please… The whole scrollview creation.</p>
</div>
							<div class="author">
								&mdash; commented <span title="November 22nd 2011, 2:53:42 pm">November 22nd 2011</span>
								by <span class='authorname'>Trevor Ward</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>OH and also a quick thought.. set top to where you want it to be… so in your view top: 10, and in your animation set top as well…</p>
</div>
							<div class="author">
								&mdash; commented <span title="November 22nd 2011, 2:54:49 pm">November 22nd 2011</span>
								by <span class='authorname'>Trevor Ward</span>
							</div>
						</li>
					
						<li class="comment">
							<div><pre><code class="hljs">view.fillDetailWindow = function(w, data) {
    var isfav = ctrl.DB.getFav(data.id);
    data.isfav = isfav;
    var wrap = Ti.UI.createScrollView({
        <span class="hljs-string">contentHeight :</span> <span class="hljs-string">'auto'</span>,
        <span class="hljs-string">contentWidth :</span> <span class="hljs-string">'100%'</span>,
        <span class="hljs-string">top :</span> <span class="hljs-number">40</span>,
        <span class="hljs-string">left :</span> <span class="hljs-number">0</span>,
        <span class="hljs-string">width :</span> <span class="hljs-string">'100%'</span>,
        <span class="hljs-string">height :</span> <span class="hljs-string">'100%'</span>,
        <span class="hljs-string">layout :</span> <span class="hljs-string">'vertical'</span>,
        <span class="hljs-string">backgroundColor :</span> <span class="hljs-string">'white'</span>,
        <span class="hljs-string">showVerticalScrollIndicator :</span> <span class="hljs-literal">true</span>
    });
    var titleView = Ti.UI.createLabel({
        <span class="hljs-string">color :</span> <span class="hljs-string">'#D4A017'</span>,
        <span class="hljs-string">font :</span> {
            <span class="hljs-string">fontWeight :</span> <span class="hljs-string">'bold'</span>,
            <span class="hljs-string">fontSize :</span> <span class="hljs-number">24</span>
        },
        <span class="hljs-string">top :</span> <span class="hljs-number">5</span>,
        <span class="hljs-string">height :</span> <span class="hljs-number">26</span>,
        <span class="hljs-string">left :</span> <span class="hljs-number">10</span>,
        <span class="hljs-string">right :</span> <span class="hljs-number">10</span>,
        <span class="hljs-string">text :</span> data.title
    });
    wrap.add(titleView);
    var countryView = Ti.UI.createLabel({
        <span class="hljs-string">color :</span> <span class="hljs-string">'black'</span>,
        <span class="hljs-string">textAlign :</span> <span class="hljs-string">'left'</span>,
        <span class="hljs-string">font :</span> {
            <span class="hljs-string">fontWeight :</span> <span class="hljs-string">'bold'</span>,
            <span class="hljs-string">fontSize :</span> <span class="hljs-number">18</span>
        },
        <span class="hljs-string">top :</span> <span class="hljs-number">0</span>,
        <span class="hljs-string">height :</span> <span class="hljs-number">30</span>,
        <span class="hljs-string">left :</span> <span class="hljs-number">10</span>,
        <span class="hljs-string">right :</span> <span class="hljs-number">10</span>,
        <span class="hljs-string">text :</span> data.country
    });
    wrap.add(countryView);

    <span class="hljs-comment">///////// ######################### Gallery ###############################</span>
    var images = [];
    var countofimages = data.images.length;
    <span class="hljs-keyword">if</span>(countofimages) {
        <span class="hljs-keyword">for</span>(var i = <span class="hljs-number">0</span>; i &lt; countofimages; i++) {
            var img = data.images[i];
            images[i] = Ti.UI.createImageView({
                <span class="hljs-string">hires :</span> <span class="hljs-literal">true</span>,
                <span class="hljs-string">image :</span> img.big,
                <span class="hljs-string">defaultImage :</span> <span class="hljs-string">'assets/preview.png'</span>
            });
        }
        var galery = Ti.UI.createScrollableView({
            <span class="hljs-string">views :</span> images,
            <span class="hljs-string">backgroundColor :</span> <span class="hljs-string">'#aaa'</span>,
            <span class="hljs-string">showPagingControl :</span> <span class="hljs-literal">true</span>,
            <span class="hljs-string">pagingControlHeight :</span> <span class="hljs-number">20</span>,
            <span class="hljs-string">pagingControlColor :</span> <span class="hljs-string">'#aaa'</span>,
            <span class="hljs-string">maxZoomScale :</span> <span class="hljs-number">3.0</span>,
            <span class="hljs-string">currentPage :</span> <span class="hljs-number">0</span>,
            <span class="hljs-string">width :</span> <span class="hljs-string">'100%'</span>,
            <span class="hljs-string">height :</span> <span class="hljs-number">250</span>,
            <span class="hljs-string">top :</span> <span class="hljs-number">10</span>,
            <span class="hljs-string">bottom :</span> <span class="hljs-number">10</span>
        });
        wrap.add(galery);
    }
    wrap.add(view.getNavi(data));

    <span class="hljs-comment">// ######################### Favo geschichten ############################</span>
    var favWrapper = Ti.UI.createView({
        <span class="hljs-string">top :</span> <span class="hljs-number">10</span>,
        <span class="hljs-string">left :</span> <span class="hljs-number">10</span>,
        <span class="hljs-string">width :</span> <span class="hljs-number">300</span>,
        <span class="hljs-string">height :</span> <span class="hljs-number">0</span>,
        <span class="hljs-string">backgroundImage :</span> <span class="hljs-string">'assets/detail/background.png'</span>,
        <span class="hljs-string">backgroundColor :</span> <span class="hljs-string">'transparent'</span>
    });
    var favText = Ti.UI.createTextArea({
        <span class="hljs-string">color :</span> <span class="hljs-string">'#336699'</span>,
        <span class="hljs-string">bottom :</span> <span class="hljs-number">15</span>,
        <span class="hljs-string">width :</span> <span class="hljs-string">'90%'</span>,
        <span class="hljs-string">textAlign :</span> <span class="hljs-string">'top'</span>,
        <span class="hljs-string">height :</span> <span class="hljs-string">'130'</span>,
        <span class="hljs-string">hintText :</span> <span class="hljs-string">'Your comments'</span>,
        <span class="hljs-string">backgroundColor :</span> <span class="hljs-string">'transparent'</span>,
        <span class="hljs-string">keyboardType :</span> Ti.UI.KEYBOARD_DEFAULT,
        <span class="hljs-string">borderStyle :</span> Ti.UI.INPUT_BORDERSTYLE_ROUNDED
    });
    favWrapper.add(favText);
    <span class="hljs-keyword">if</span>(isfav) {
        favWrapper.height = <span class="hljs-number">180</span>;
        favText.value = isfav;
    }
    favText.addEventListener(<span class="hljs-string">'blur'</span>, function(e) {
        ctrl.DB.setFav(data.id, e.value);
    })
    wrap.add(favWrapper);

    var descrView = Ti.UI.createLabel({
        <span class="hljs-string">color :</span> <span class="hljs-string">'black'</span>,
        <span class="hljs-string">font :</span> {
            <span class="hljs-string">fontSize :</span> <span class="hljs-number">14</span>
        },
        <span class="hljs-string">top :</span> <span class="hljs-number">10</span>,
        <span class="hljs-string">height :</span> <span class="hljs-string">'auto'</span>,
        <span class="hljs-string">left :</span> <span class="hljs-number">10</span>,

        <span class="hljs-string">right :</span> <span class="hljs-number">10</span>,
        <span class="hljs-string">text :</span> data.descr.replace(<span class="hljs-regexp">/&lt;\/</span>p&gt;<span class="hljs-regexp">/ig, "\n").replace(/</span>(&lt;([^&gt;]+)&gt;)/ig, <span class="hljs-string">""</span>)
    });
    wrap.add(descrView);
    Ti.App.addEventListener(<span class="hljs-string">'fav_enabled'</span>, function() {
        favWrapper.height = <span class="hljs-number">180</span>;
    });

    w.add(wrap);
};
</code></pre></div>
							<div class="author">
								&mdash; commented <span title="November 22nd 2011, 10:12:42 pm">November 22nd 2011</span>
								by <span class='authorname'>Rainer Schleevoigt</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-224014">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>Animations in vertical layouts does not work well on iOS (but it does on android). The solution for me was to put the object to animate inside another view with absolute layout, and this one inside the vertical layout. Something like this</p>
<pre><code class="hljs">
window
-<span class="ruby">-scrollview
</span>-<span class="ruby">-someviews
</span>-<span class="ruby">-<span class="hljs-symbol">container:</span> view with absolute layout
</span>-<span class="ruby">-----view</span>
</code></pre><p>If the view is the last one in the vertical layout, then will work fine without any other tweak. But if it is not at the bottom, after animation you will have to resize the container view to acommodate the rest of views correctly. </p>
<p>I have to say that, in too complex layouts, I finally decided to avoid animations.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="November 22nd 2011, 3:31:12 pm">November 22nd 2011</span>
								by <span class='authorname'>Javier Rayon</span><br>
								<a class="icon-bg icon-link" href="question/128576/animation-in-vertical-layouted-scrollview#answer-224014" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>2</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
