<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Error while reading values from database. » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Error while reading values from database.</h1>
		</header>
		<section>
			<p>I created one table view with some rows. Every row contains the hascheck property. If the check is true,then that row data will be stored into the one database table. If it is false value,then it stored into another table of the same database.After storing these values, I am try to reading the values of the table using button event with connecting to the database, Using valid Query. Here I got some error like, &quot;cannot read property hascheck&quot;. Here how can I read those values.<br>Here is my code:</p>
<p>var win1 = Titanium.UI.createWindow({<br>    title:&#39;Tab 1&#39;,<br>    backgroundColor:&#39;white&#39;<br>});<br>var datawin = Titanium.UI.createWindow({<br>     backgroundColor:&#39;white&#39;<br>});</p>
<p>var tab1 = Titanium.UI.createTab({<br>    icon:&#39;KS_nav_views.png&#39;,<br>    title:&#39;Checked View&#39;,<br>    window:win1<br>});<br>var db = Titanium.Database.install(&#39;checked.sqlite&#39;,&#39;dtrue&#39;);<br>var db1 = Titanium.Database.install(&#39;checked.sqlite&#39;,&#39;dfalse&#39;);<br>var data = [];</p>
<pre><code class="hljs"><span class="hljs-typedef"><span class="hljs-keyword">data</span>[0] = <span class="hljs-type">Ti</span>.<span class="hljs-type">UI</span>.createTableViewRow<span class="hljs-container">({<span class="hljs-title">title</span>:'<span class="hljs-type">Australia</span>'})</span>;</span>
<span class="hljs-typedef"><span class="hljs-keyword">data</span>[1] = <span class="hljs-type">Ti</span>.<span class="hljs-type">UI</span>.createTableViewRow<span class="hljs-container">({<span class="hljs-title">title</span>:'<span class="hljs-type">India</span>'})</span>;</span>
<span class="hljs-typedef"><span class="hljs-keyword">data</span>[2] = <span class="hljs-type">Ti</span>.<span class="hljs-type">UI</span>.createTableViewRow<span class="hljs-container">({<span class="hljs-title">title</span>:'<span class="hljs-type">South</span> <span class="hljs-type">Africa</span>'})</span>; </span>
<span class="hljs-typedef"><span class="hljs-keyword">data</span>[3] = <span class="hljs-type">Ti</span>.<span class="hljs-type">UI</span>.createTableViewRow<span class="hljs-container">({<span class="hljs-title">title</span>:'<span class="hljs-type">Newzeland</span>'})</span>;</span>
<span class="hljs-typedef"><span class="hljs-keyword">data</span>[4] = <span class="hljs-type">Ti</span>.<span class="hljs-type">UI</span>.createTableViewRow<span class="hljs-container">({<span class="hljs-title">title</span>:'<span class="hljs-type">England</span>'})</span>; </span>
//<span class="hljs-typedef"><span class="hljs-keyword">data</span>[5] = <span class="hljs-type">Ti</span>.<span class="hljs-type">UI</span>.createTableViewRow<span class="hljs-container">({})</span>;</span>
// create table view
<span class="hljs-title">var</span> tableview = <span class="hljs-type">Titanium</span>.<span class="hljs-type">UI</span>.createTableView({
    <span class="hljs-typedef"><span class="hljs-keyword">data</span>:<span class="hljs-keyword">data</span></span>
});
<span class="hljs-title">var</span> tableview1 = <span class="hljs-type">Titanium</span>.<span class="hljs-type">UI</span>.createTableView({});
</code></pre><p> var checkbtn = Titanium.UI.createButton({title:&#39;click&#39;});<br> checkbtn.addEventListener(&#39;click&#39;,function(e)<br> {<br>     datawin.open();<br> });<br> &#x2F;&#x2F;data[5].add(checkbtn);<br> tableview.add(checkbtn);<br>    &#x2F;&#x2F; create table view event listener<br>    tableview.addEventListener(&#39;click&#39;, function(e)<br>    {<br>        &#x2F;&#x2F; event data<br>        var index = e.index;<br>        var section = e.section;<br>        var row = e.row;<br>        var rowdata = e.rowData;<br>        &#x2F;&#x2F;row.hasCheck = true;<br>        var check = true;</p>
<pre><code class="hljs">    <span class="hljs-keyword">if</span>(row.hasCheck === <span class="hljs-literal">true</span>) {
        row.hasCheck = <span class="hljs-literal">false</span><span class="hljs-comment">;</span>
        //Ti.API.info(<span class="hljs-string">"unchecked"</span>)<span class="hljs-comment">;</span>
    }

    <span class="hljs-keyword">else</span> {
        row.hasCheck = <span class="hljs-literal">true</span><span class="hljs-comment">;</span>
        //Ti.API.info(<span class="hljs-string">"checked"</span>)<span class="hljs-comment">;</span>
    }
    <span class="hljs-keyword">if</span> (row.hasCheck == <span class="hljs-literal">true</span>)
     {
         db.<span class="hljs-built_in">execute</span>(<span class="hljs-string">'INSERT INTO dtrue (info) VALUES("'</span>+e.rowData+<span class="hljs-string">'")'</span>)<span class="hljs-comment">;</span>
         alert(<span class="hljs-string">"dtrue inserted"</span>)<span class="hljs-comment">;</span>
     } <span class="hljs-keyword">else</span>{
         db1.<span class="hljs-built_in">execute</span>(<span class="hljs-string">'INSERT INTO dfalse (info) VALUES("'</span>+rowdata+<span class="hljs-string">'")'</span>)<span class="hljs-comment">;</span>
         alert(<span class="hljs-string">"dfalse inserted"</span>)<span class="hljs-comment">;</span>
     }<span class="hljs-comment">;</span>

    Ti.API.info(<span class="hljs-string">"click"</span>)<span class="hljs-comment">;</span>
    Ti.API.info(row.hasCheck)<span class="hljs-comment">;</span>
    })<span class="hljs-comment">;</span>
var rows1 = db.<span class="hljs-built_in">execute</span>(<span class="hljs-string">'SELECT info from dtrue'</span>)<span class="hljs-comment">;</span>
var data1 = []<span class="hljs-comment">;    </span>
<span class="hljs-keyword">while</span> (rows1.isValidRow()) {
data1.push({
    title:<span class="hljs-string">''</span> + rows1.fieldByName(<span class="hljs-string">'info'</span>) + <span class="hljs-string">''</span>
       })<span class="hljs-comment">;</span>

rows1.<span class="hljs-keyword">next</span>()<span class="hljs-comment">;</span>
              }<span class="hljs-comment">;</span>
</code></pre><p>rows1.close();<br>tableview1.setData(data1);<br>datawin.add(tableview1);<br>win1.add(tableview);</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="July 26th 2011, 10:39:00 am">July 26th 2011</span>
				by <span class='authorname'>lokesh g</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>database</span></li>
					
						<li><span class='tagname'>tableview</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-214415">
				
						<section>
							<p>Your problem seem to come from the fact that you are saving the entire <code>rowData</code> to the database. When you do this, you save <strong>every single</strong> properties from the row. (the row, the index, the title <strong>*and the hasCheck</strong>)</p>
<p>Since you only need the title from the selected rows, you should save the <code>e.rowData.title</code> in the database.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="July 26th 2011, 11:15:39 am">July 26th 2011</span>
								by <span class='authorname'>Christian Brousseau</span><br>
								<a class="icon-bg icon-link" href="question/123230/error-while-reading-values-from-database#answer-214415" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
