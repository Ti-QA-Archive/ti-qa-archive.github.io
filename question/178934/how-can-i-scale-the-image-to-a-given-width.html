<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>How can I scale the image to a given width? Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>How can I scale the image to a given width?</h1>
		</header>
		<section>
			<p>Hello,</p>
<p>I have the following code:</p>
<pre><code class="hljs">data.xml:

&lt;View id=<span class="hljs-string">"pageContentTop"</span>&gt;
    &lt;ImageView id=<span class="hljs-string">"contentCover"</span> /&gt;
    &lt;View id=<span class="hljs-string">"pageContentData"</span>&gt;
        &lt;Label id=<span class="hljs-string">"contentTitle"</span>&gt;Nihil hic munitissimus habendi senatus locus, nihil horum?&lt;/Label&gt;
        &lt;View id=<span class="hljs-string">"pageContentPlay"</span>&gt;
            &lt;Label id=<span class="hljs-string">"pageContentPlayText"</span> textid=<span class="hljs-string">"play"</span> /&gt;
        &lt;/View&gt;
    &lt;/View&gt;
&lt;/View&gt;

data.tss:

<span class="hljs-string">"#pageContentTop"</span>: {
    <span class="hljs-variable">width</span>: Ti.UI.FILL,
    top: <span class="hljs-number">0</span>,
    right: <span class="hljs-number">0</span>,
    left: <span class="hljs-number">0</span>,
    <span class="hljs-variable">height</span>: <span class="hljs-number">150</span>,
    layout: <span class="hljs-string">"absolute"</span>,
    borderWidth: <span class="hljs-number">0</span>,
    backgroundColor: <span class="hljs-string">"#7a7a7a"</span>,
},

<span class="hljs-string">"#contentCover"</span>: {
    <span class="hljs-variable">width</span>: <span class="hljs-string">"100%"</span>,
    <span class="hljs-variable">height</span>: Ti.UI.SIZE,
    top: <span class="hljs-number">0</span>,
    left: <span class="hljs-number">0</span>,
    right: <span class="hljs-number">0</span>,
    backgroundColor: <span class="hljs-string">"red"</span>,
    <span class="hljs-built_in">image</span>: <span class="hljs-string">"/images/ic_placeholder_1400x700.png"</span>,
},

<span class="hljs-string">"#pageContentData"</span>: {
    left: <span class="hljs-number">0</span>,
    bottom: <span class="hljs-number">0</span>,
    right: <span class="hljs-number">0</span>,
    <span class="hljs-variable">width</span>: Ti.UI.FILL,
    <span class="hljs-variable">height</span>: <span class="hljs-number">60</span>,
    backgroundImage: <span class="hljs-string">"/images/pixel.png"</span>,
    layout: <span class="hljs-string">"absolute"</span>,
},

<span class="hljs-string">"#contentTitle"</span>: {
    font: {
        fontSize: <span class="hljs-number">16</span>,
        fontWeight: <span class="hljs-string">"bold"</span>
    },
    <span class="hljs-variable">width</span>: Ti.UI.FILL,
    <span class="hljs-built_in">color</span>: <span class="hljs-string">"#ffffff"</span>,
    top: <span class="hljs-number">10</span>,
    bottom: <span class="hljs-number">10</span>,
    left: <span class="hljs-number">7</span>,
    right: <span class="hljs-number">115</span>,
    ellipsize: <span class="hljs-keyword">true</span>,
    backgroundColor: <span class="hljs-string">"green"</span>,
},

<span class="hljs-string">"#pageContentPlay"</span>: {
    <span class="hljs-variable">width</span>: <span class="hljs-number">100</span>,
    <span class="hljs-built_in">color</span>: <span class="hljs-string">"#ffffff"</span>,
    backgroundColor: <span class="hljs-string">"#d90d15"</span>,
    borderRadius: <span class="hljs-number">3</span>,
    top: <span class="hljs-number">14</span>,
    bottom: <span class="hljs-number">14</span>,
    right: <span class="hljs-number">7</span>,
},

<span class="hljs-string">"#pageContentPlayText"</span>: {
    <span class="hljs-built_in">color</span>: <span class="hljs-string">"#ffffff"</span>,
    font: {
        fontSize: <span class="hljs-number">13</span>,
    },
},
</code></pre><p>What I want is to allow the image from <code>#contentCover</code> to cover the entire top of the screen. Sadly, this happens: http:&#x2F;&#x2F;i.imgur.com&#x2F;EmLiLJu.png</p>
<p>Any hints?</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="November 7th 2014, 2:37:22 pm">November 7th 2014</span>
				by <span class='authorname'>Patrick D&#39;appollonio</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>alloy</span></li>
					
						<li><span class='tagname'>imageview</span></li>
					
						<li><span class='tagname'>titanium</span></li>
					
						<li><span class='tagname'>tss</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>3</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>3 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-283666">
				
						<section>
							<p>This thread might help you:</p>
<p><a href="https:&#x2F;&#x2F;developer.appcelerator.com&#x2F;question&#x2F;178599&#x2F;clip-image-on-topbottom-full-width-in-container">https:&#x2F;&#x2F;developer.appcelerator.com&#x2F;question&#x2F;178599&#x2F;clip-image-on-topbottom-full-width-in-container</a></p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="November 7th 2014, 5:32:12 pm">November 7th 2014</span>
								by <span class='authorname'>Danny Pham</span><br>
								<a class="icon-bg icon-link" href="question/178934/how-can-i-scale-the-image-to-a-given-width#answer-283666" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>The module linked only works for iOS. The &quot;scrollview&quot; solution might do the trick.</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 10th 2014, 10:30:31 pm">November 10th 2014</span>
											by <span class='authorname'>Patrick D&#39;appollonio</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-283671">
				
						<section>
							<p>Hello Dannyl,</p>
<p>Thanks for your inquiry. Here is a code to scale an image to a given height and width. </p>
<pre><code class="hljs">var win1 = Titanium.UI.createWindow({  
    title:<span class="hljs-string">'Tab 1'</span>,
    backgroundColor:<span class="hljs-string">'#fff'</span>

});
var view = Titanium.UI.createImageView({

    top: <span class="hljs-number">0</span>,
    <span class="hljs-variable">width</span>: Ti.Platform.displayCaps.platformWidth,
    <span class="hljs-variable">height</span>: Ti.Platform.displayCaps.platformHeight,
    contentWidth: Ti.UI.FILL,
    <span class="hljs-built_in">image</span>: <span class="hljs-string">'/1.jpeg'</span>

});

win1.<span class="hljs-built_in">add</span>(view);
win1.<span class="hljs-built_in">open</span>();
</code></pre><p>Thanks.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="November 8th 2014, 5:28:59 am">November 8th 2014</span>
								by <span class='authorname'>Amimul Hossain</span><br>
								<a class="icon-bg icon-link" href="question/178934/how-can-i-scale-the-image-to-a-given-width#answer-283671" rel="permalink">permalink</a>
							</div>

							<h5>2 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Really? Don&#39;t think this would work. <code>contentWidth</code> is no valid property for ImageView btw.</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 8th 2014, 9:41:52 am">November 8th 2014</span>
											by <span class='authorname'>Danny Pham</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Doesn&#39;t work.</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 10th 2014, 10:32:17 pm">November 10th 2014</span>
											by <span class='authorname'>Patrick D&#39;appollonio</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-283684">
				
						<section>
							<p>This might work <a href="https:&#x2F;&#x2F;github.com&#x2F;appcelerator-modules&#x2F;ti.imagefactory">https:&#x2F;&#x2F;github.com&#x2F;appcelerator-modules&#x2F;ti.imagefactory</a></p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="November 8th 2014, 1:36:17 pm">November 8th 2014</span>
								by <span class='authorname'>Aaron Saunders</span><br>
								<a class="icon-bg icon-link" href="question/178934/how-can-i-scale-the-image-to-a-given-width#answer-283684" rel="permalink">permalink</a>
							</div>

							<h5>8 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Thank you, but in order to use that module, you need to know beforehand the width and height of both the container and the image itself.</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 10th 2014, 10:31:44 pm">November 10th 2014</span>
											by <span class='authorname'>Patrick D&#39;appollonio</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>So how do you expect to scale an image without that information? What is the use caseâ¦ you should assume by now you need to provide additional information since you are not getting any answers that meet your needs.</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 10th 2014, 11:16:36 pm">November 10th 2014</span>
											by <span class='authorname'>Aaron Saunders</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>In Android, you could use the ScaleType parameter in order to choose how the image might behave inside a parent element. So, it detects the parent size (or you could even tell the imageview to fill the parent) and then, Android automatically will put the image inside given the ScaleType setted. Appcelerator has a weird metodology to stretch the image inside an element, but on normal Android you could use, &quot;centerInside&quot; and the image will be scaled and centered inside a view.</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 14th 2014, 2:45:54 pm">November 14th 2014</span>
											by <span class='authorname'>Patrick D&#39;appollonio</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Relevant link: <a href="http:&#x2F;&#x2F;developer.android.com&#x2F;reference&#x2F;android&#x2F;widget&#x2F;ImageView.ScaleType.html">ImageView.ScaleType</a></p>
</p>
										<div class="author">
											&mdash; commented <span title="November 14th 2014, 2:47:04 pm">November 14th 2014</span>
											by <span class='authorname'>Patrick D&#39;appollonio</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>On iOS it is similar:</p>
<p><a href="https:&#x2F;&#x2F;developer.apple.com&#x2F;library&#x2F;ios&#x2F;documentation&#x2F;uikit&#x2F;reference&#x2F;UIView_Class&#x2F;index.html#&#x2F;&#x2F;apple_ref&#x2F;c&#x2F;tdef&#x2F;UIViewContentMode">https:&#x2F;&#x2F;developer.apple.com&#x2F;library&#x2F;ios&#x2F;documentation&#x2F;uikit&#x2F;reference&#x2F;UIView_Class&#x2F;index.html#&#x2F;&#x2F;apple_ref&#x2F;c&#x2F;tdef&#x2F;UIViewContentMode</a></p>
<p>Digging through the Titanium SDK I have discovered in TiUIImageView.m for iOS that the default content mode is set to &quot;UIViewContentModeScaleToFill&quot;. I have replaced that with &quot;UIViewContentModeScaleAspectFill&quot; and now it works fine even without a custom module ;)</p>
<pre><code class="hljs">-(UIViewContentMode)contentModeForImageView
{
    <span class="hljs-keyword">if</span> (TiDimensionIsAuto(<span class="hljs-variable">width</span>) || TiDimensionIsAutoSize(<span class="hljs-variable">width</span>) || TiDimensionIsUndefined(<span class="hljs-variable">width</span>) ||
        TiDimensionIsAuto(<span class="hljs-variable">height</span>) || TiDimensionIsAutoSize(<span class="hljs-variable">height</span>) || TiDimensionIsUndefined(<span class="hljs-variable">height</span>)) {
        <span class="hljs-keyword">return</span> UIViewContentModeScaleAspectFit;
    }
    <span class="hljs-keyword">else</span> {
        <span class="hljs-comment">// return UIViewContentModeScaleToFill;</span>
        <span class="hljs-keyword">return</span> UIViewContentModeScaleAspectFill;
    }
}
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="November 14th 2014, 2:59:05 pm">November 14th 2014</span>
											by <span class='authorname'>Danny Pham</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I might do thatâ¦ Now I&#39;m going to hack something in the Android area. I&#39;ve never felt right when I need to modify some internals to have what should be there.</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 14th 2014, 3:09:04 pm">November 14th 2014</span>
											by <span class='authorname'>Patrick D&#39;appollonio</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Have you found a solution for Android?</p>
<p>I have found this snippet in TiImageView.java:</p>
<pre><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">updateScaleType</span><span class="hljs-params">()</span>
</span>{
    <span class="hljs-keyword">if</span> (orientation &gt; <span class="hljs-number">0</span> || enableZoomControls) {
        imageView.setScaleType(ScaleType.MATRIX);
        imageView.setAdjustViewBounds(<span class="hljs-literal">false</span>);
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">if</span> (viewWidthDefined &amp;&amp; viewHeightDefined) {
            imageView.setAdjustViewBounds(<span class="hljs-literal">false</span>);
            imageView.setScaleType(ScaleType.FIT_XY);
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (!enableScale) {
            imageView.setAdjustViewBounds(<span class="hljs-literal">false</span>);
            imageView.setScaleType(ScaleType.CENTER);
        } <span class="hljs-keyword">else</span> {
            imageView.setAdjustViewBounds(<span class="hljs-literal">true</span>);
            imageView.setScaleType(ScaleType.FIT_CENTER);
        }
    }
    requestLayout();
}
</code></pre><p>So I guess ScaleType.CENTER_INSIDE should do the correct scaling instead of ScaleType.FIT_CENTER, right?</p>
<p>Unfortunately it&#39;s not so easy to make changes in the JAVA sources and build the project like in iOS with Obj-C.</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 21st 2014, 1:36:04 pm">November 21st 2014</span>
											by <span class='authorname'>Danny Pham</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>What a pa<strong>* in the a</strong> build the SDK from source for Android:</p>
<p><a href="http:&#x2F;&#x2F;developer.appcelerator.com&#x2F;question&#x2F;132107&#x2F;ho-to-compile-the-sdk-from-source">http:&#x2F;&#x2F;developer.appcelerator.com&#x2F;question&#x2F;132107&#x2F;ho-to-compile-the-sdk-from-source</a></p>
<p>For iOS you can simple edit the Obj-C file, clean the project and rebuild. But for Android you have to build the SDK from source first (takes about 7 min) and then you can use the updates (I think because it has to be compile into a jar).</p>
<p>But finally I&#39;ve done it and looks good ;) Instead of FIT_CENTER the correct ScaleType is CENTER_CROP to get the desired full width image, exactly like UIViewContentModeScaleAspectFill for iOS. AppC should use the behaviour as default.</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 21st 2014, 9:48:15 pm">November 21st 2014</span>
											by <span class='authorname'>Danny Pham</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
