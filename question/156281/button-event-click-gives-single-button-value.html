<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Button Event click gives single button value » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Button Event click gives single button value</h1>
		</header>
		<section>
			<p>Hi All,</p>
<p>In my App, I am showing the multiple buttons in TableViewRow and able to display the values on each button. The values are displaying dynamically from the service. If the service response gives 3 results, 3 buttons will be generated in tableViewRow. But the problem is when I click on any button, every time 3rd button value only picking up and displaying the same results in next form after click the event.<br>Here is the code snippet.</p>
<pre><code class="hljs">var btn = Titanium.UI.createButton({
    <span class="hljs-string">title :</span> values,
    <span class="hljs-string">color :</span> <span class="hljs-string">'#134392'</span>,
    <span class="hljs-string">right :</span> <span class="hljs-string">'1%'</span>,
    <span class="hljs-string">width :</span> <span class="hljs-number">180</span>,
    <span class="hljs-string">height :</span> <span class="hljs-number">42</span>,
    <span class="hljs-string">borderRadius :</span> <span class="hljs-number">10</span>,
    <span class="hljs-string">font :</span> {<span class="hljs-string">fontFamily :</span> <span class="hljs-string">'Arial'</span>,<span class="hljs-string">fontSize :</span> <span class="hljs-number">14</span>}
    });

    Ti.API.info(<span class="hljs-string">"Before click the Buttion "</span> +values);  <span class="hljs-comment">// giving v1, v2 &amp; v3</span>
    trackBtn.addEventListener(<span class="hljs-string">'click'</span>, function(e) {
    Ti.API.info(<span class="hljs-string">"Inside the event "</span> +values);   <span class="hljs-comment">// giving only v3</span>
    var showTrackWindow = Titanium.UI.createWindow({
    <span class="hljs-string">url :</span> <span class="hljs-string">'results.js'</span>,
    <span class="hljs-string">modal :</span> <span class="hljs-literal">true</span>,
    <span class="hljs-string">valueReceived :</span> values
});
</code></pre><p>In the above code, &#39;values&#39; is the response from the service. And the results in the logs are &#39;Before click the Buttion&#39;: v1, v2, v3. Then &#39;inside the event&#39; its showing only v3. When I click the event, results are showing properly in results.js, i.e on 3 buttons, 3 values are displaying. When I click on any button, every time v3 data is displaying. </p>
<p>In results.js am using  &#39;var details = Ti,Ui.currentWindow.trckReceived;&#39; to capture the values.</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="August 22nd 2013, 4:54:21 pm">August 22nd 2013</span>
				by <span class='authorname'>Varma G</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>button event</span></li>
					
				</ul>
			

			<section>
				<h5>5 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>This answer will rely heavily on HOW you are adding the buttons to the rows and the rows to the buttons.</p>
<p>Please provide a simplified test script for review.</p>
</div>
							<div class="author">
								&mdash; commented <span title="August 22nd 2013, 5:36:00 pm">August 22nd 2013</span>
								by <span class='authorname'>Malcolm Hollingsworth</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>please try to provide some code snippet iff you can .</p>
</div>
							<div class="author">
								&mdash; commented <span title="August 23rd 2013, 3:23:56 am">August 23rd 2013</span>
								by <span class='authorname'>Gagan Tiwari</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Hi Malcolm,</p>
<p>Here is the tableViewRow implementation.</p>
<pre><code class="hljs">var row1 = Ti.UI.createTableViewRow({
    height : 45
})<span class="hljs-comment">;</span>

row1.add(trackBtn)<span class="hljs-comment">;</span>

data[i] = row1<span class="hljs-comment">;</span>
}

    table.data = data<span class="hljs-comment">;</span>
})<span class="hljs-comment">;</span>

var table = Ti.UI.createTableView({
    top : 25%',
    separatorColor : 'transparent'
})<span class="hljs-comment">;</span>

view.add(table)<span class="hljs-comment">;</span>
</code></pre><p>Buttons are adding to the view dynamically based on the service response and value also displaying on the button. Only issue is when we click on any the button, the last button value is taking for all.</p>
</div>
							<div class="author">
								&mdash; commented <span title="August 23rd 2013, 3:25:01 am">August 23rd 2013</span>
								by <span class='authorname'>Varma G</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Sounds more like you should be doing </p>
<pre><code class="hljs">data[i] = Ti<span class="hljs-class">.UI</span><span class="hljs-class">.createTableViewRow</span>...
</code></pre><p>Best,</p>
<p>Mauro</p>
</div>
							<div class="author">
								&mdash; commented <span title="August 23rd 2013, 3:59:29 am">August 23rd 2013</span>
								by <span class='authorname'>Mauro Parra</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Yes Mauro,<br>I resolved this issue now.<br>Changed code snippet is here:<br>Before change </p>
<pre><code class="hljs"><span class="hljs-string">valueReceived :</span> values
</code></pre><p>After change</p>
<pre><code class="hljs"><span class="hljs-tag">valueReceived</span><span class="hljs-pseudo">:e</span><span class="hljs-class">.source</span><span class="hljs-class">.title</span>
</code></pre><p>Now, the assigned value for the button is going in the request when click on that respective button.<br>Thanks for your time.</p>
</div>
							<div class="author">
								&mdash; commented <span title="August 23rd 2013, 5:06:36 am">August 23rd 2013</span>
								by <span class='authorname'>Varma G</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-267573">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>You have to create the buttons dynamically. As follows. Add the buttons to Table View. </p>
<pre><code class="hljs">var <span class="hljs-keyword">button</span> = {};
var values;
<span class="hljs-keyword">for</span>(values=<span class="hljs-number">0</span>;values&lt;<span class="hljs-number">3</span>;values++){

<span class="hljs-keyword">button</span>[values] = Ti.UI.createButton({
    title:<span class="hljs-string">'submit'</span> + values,
    height:<span class="hljs-number">42</span>,
    width:<span class="hljs-number">180</span>,
    <span class="hljs-keyword">color</span> : <span class="hljs-string">'#134392'</span>,
    borderRadius:<span class="hljs-number">10</span>
});

<span class="hljs-variable">$.</span>index.add(<span class="hljs-keyword">button</span>[values]);  <span class="hljs-comment">// here, you have to add it to Table View</span>

<span class="hljs-keyword">button</span>[values].addEventListener(<span class="hljs-string">'click'</span>, function(e){
    Ti.API.info(JSON.stringify(e.<span class="hljs-keyword">source</span>));
    Ti.API.info(<span class="hljs-string">'clicked submit button'</span>);
    Ti.API.info(e.<span class="hljs-keyword">source</span>.title); <span class="hljs-comment">//pass this value</span>
});

}
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 22nd 2013, 6:01:32 pm">August 22nd 2013</span>
								by <span class='authorname'>Ranjith Kumar Nagella</span><br>
								<a class="icon-bg icon-link" href="question/156281/button-event-click-gives-single-button-value#answer-267573" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Hi Ranjit,</p>
<p>Issue resolved after making the change like below.</p>
<pre><code class="hljs"><span class="hljs-tag">valueReceived</span><span class="hljs-pseudo">:e</span><span class="hljs-class">.source</span><span class="hljs-class">.title</span>
</code></pre><p>Now, the assigned value for the button is going in the request when click on that respective button.<br>Thanks for your help.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 23rd 2013, 5:07:57 am">August 23rd 2013</span>
											by <span class='authorname'>Varma G</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>-2</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
