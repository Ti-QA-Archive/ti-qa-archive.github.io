<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Reload screen on rotate... » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Reload screen on rotate...</h1>
		</header>
		<section>
			<p>Ok folks…</p>
<p>So I need to somehow refresh the screen on rotate (iPhone). I&#39;m using percentages for my widths - but that&#39;s not enough as the screen doesn&#39;t actually recalculate the widths when the hardware is rotated.</p>
<p>The parent to this page has an orientationchange event listener. That seems like a good place to do the reFresh… but I don&#39;t know how to do it.</p>
<p>I&#39;m pretty sure I had this working at one point on an ipad app with no effort at all… I just set the width to some math based on the window width and it worked. But it doesn&#39;t seem to want to do that here.</p>
<p>My code is below.</p>
<pre><code class="hljs">var win = Titanium.UI.currentWindow;

var scrollView1 = Titanium.UI.createScrollView({
     contentWidth:<span class="hljs-string">'auto'</span>,
     contentHeight:<span class="hljs-string">'auto'</span>,
     showVerticalScrollIndicator:<span class="hljs-keyword">true</span>,
     showHorizontalScrollIndicator:<span class="hljs-keyword">true</span>,
     layout:<span class="hljs-string">'vertical'</span>
    });


var padding = <span class="hljs-number">10</span>;

var view_itemtitle = Ti.UI.createView({
    top:padding,
    backgroundColor:<span class="hljs-string">'#ffffff'</span>,
    borderRadius:<span class="hljs-number">10</span>,
    <span class="hljs-variable">width</span>: <span class="hljs-string">'90%'</span>,
    <span class="hljs-variable">height</span>:<span class="hljs-string">'auto'</span>

});

var label_itemtitle = Titanium.UI.createLabel({
        top:padding,
        <span class="hljs-built_in">text</span>:win.itemtitle + <span class="hljs-string">'nnn'</span>,
        <span class="hljs-built_in">color</span>:<span class="hljs-string">'#003399'</span>,
        <span class="hljs-variable">width</span>: <span class="hljs-string">'90%'</span>,
        font:{fontSize:<span class="hljs-number">18</span>,fontWeight:<span class="hljs-string">'bold'</span>,fontFamily:<span class="hljs-string">'Helvetica Neue'</span>},
        <span class="hljs-variable">height</span>: <span class="hljs-string">'auto'</span>
});

view_itemtitle.<span class="hljs-built_in">add</span>(label_itemtitle);
scrollView1.<span class="hljs-built_in">add</span>(view_itemtitle);


var view_itemdesc = Ti.UI.createView({
    top:padding,
    backgroundColor:<span class="hljs-string">'#ffffff'</span>,
    borderRadius:<span class="hljs-number">10</span>,
    <span class="hljs-variable">width</span>: <span class="hljs-string">'90%'</span>,
    <span class="hljs-variable">height</span>:<span class="hljs-string">'auto'</span>

});

var label_itemdesc = Titanium.UI.createLabel({
        top:padding,
        <span class="hljs-built_in">text</span>:win.itemdesc + <span class="hljs-string">'nnn'</span>,
        <span class="hljs-built_in">color</span>:<span class="hljs-string">'#000000'</span>,
        <span class="hljs-variable">width</span>: <span class="hljs-string">'90%'</span>,
        font:{fontSize:<span class="hljs-number">14</span>,fontWeight:<span class="hljs-string">'normal'</span>,fontFamily:<span class="hljs-string">'Helvetica Neue'</span>},
        <span class="hljs-variable">height</span>: <span class="hljs-string">'auto'</span>
});

view_itemdesc.<span class="hljs-built_in">add</span>(label_itemdesc);
scrollView1.<span class="hljs-built_in">add</span>(view_itemdesc);

win.<span class="hljs-built_in">add</span>(scrollView1);
</code></pre>
		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="May 2nd 2010, 12:55:08 am">May 2nd 2010</span>
				by <span class='authorname'>Doug Meade</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>orientation</span></li>
					
						<li><span class='tagname'>orientationchange</span></li>
					
						<li><span class='tagname'>refresh</span></li>
					
						<li><span class='tagname'>reload</span></li>
					
						<li><span class='tagname'>rotate</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>-1</span> Votes</div>
			<div class="answers"><span>7</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>7 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-66461">
				
						<section>
							<p>You don&#39;t need to reload, you need to reset the percentages.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="June 3rd 2010, 11:15:22 am">June 3rd 2010</span>
								by <span class='authorname'>Joshua Kehn</span><br>
								<a class="icon-bg icon-link" href="question/21531/reload-screen-on-rotate.html#answer-66461" rel="permalink">permalink</a>
							</div>

							<h5>2 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Or left&#x2F;right - e.g. for the example above</p>
<pre><code class="hljs">Titanium.Gesture.addEventListener(<span class="hljs-string">'orientationchange'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span>{</span>
            scrollView1.<span class="hljs-keyword">left</span> = <span class="hljs-number">0</span>; 
            scrollView1.<span class="hljs-keyword">right</span> = <span class="hljs-number">0</span>; 
});
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="July 27th 2011, 7:06:48 am">July 27th 2011</span>
											by <span class='authorname'>Jeff Antram</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>As a heads up to people finding this page looking for how to use orientationchange, here&#39;s some additional info.</p>
<p>Ti.Gesture is a global object, and this event will keep the memory of your window from being released. You&#39;ll need to add a removeEventListener when the window is closed, and thus shouldn&#39;t use an anonymous function.</p>
<pre><code class="hljs"><span class="hljs-comment">//listen for orientation change</span>
    Ti.Gesture.addEventListener(<span class="hljs-string">'orientationchange'</span>, onRotate);
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">onRotate</span><span class="hljs-params">(e)</span></span>{
        <span class="hljs-comment">//do it</span>
    }
    <span class="hljs-comment">//prepare to destory listener</span>
    win.addEventListener(<span class="hljs-string">'close'</span>, destroy);
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">destroy</span><span class="hljs-params">(e)</span></span>{
        <span class="hljs-comment">//remove event listener</span>
        Ti.Gesture.removeEventListener(<span class="hljs-string">'orientationchange'</span>, onRotate);
    }
</code></pre><p>…as for the specific problem asked in this post, you could put the ui elements that need to have their positions refreshed into an array, and loop through the array and reset their properties to fit the width of your device.</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 27th 2012, 1:26:34 pm">January 27th 2012</span>
											by <span class='authorname'>Digital Surgeons</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>6</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-46971">
				
						<section>
							<p>Try adding this at the bottom of your code to detect the orientation change</p>
<pre><code class="hljs">Ti.Gesture.addEventListener(<span class="hljs-string">'orientationchange'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span></span>{        

     Ti.API.info(<span class="hljs-string">'the orientation changed to  '</span>+e.orientation);
     <span class="hljs-comment">// now do stuff... refresh etc..</span>

});
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="May 2nd 2010, 9:33:19 pm">May 2nd 2010</span>
								by <span class='authorname'>Kosso</span><br>
								<a class="icon-bg icon-link" href="question/21531/reload-screen-on-rotate.html#answer-46971" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-47031">
				
						<section>
							<p>Yeah I already have that.<br>As I said:</p>
<p>&quot;The parent to this page has an orientationchange event listener. That seems like a good place to do the reFresh… but I don&#39;t know how to do it&quot;</p>
<p>I can&#39;t figure out the commands to put there that would cause the page to refresh.</p>
<p>I&#39;d love something like</p>
<p>win.reLoad();</p>
<p>but there seems to be no such functionality.<br>How can I get the screen to refresh itself?</p>
<p>Thanks!</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="May 2nd 2010, 11:12:51 pm">May 2nd 2010</span>
								by <span class='authorname'>Doug Meade</span><br>
								<a class="icon-bg icon-link" href="question/21531/reload-screen-on-rotate.html#answer-47031" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-47831">
				
						<section>
							<p>Anyone?</p>
<p>Need to force a screen to fresh.</p>
<p>Any ideas?</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="May 4th 2010, 12:43:54 am">May 4th 2010</span>
								by <span class='authorname'>Doug Meade</span><br>
								<a class="icon-bg icon-link" href="question/21531/reload-screen-on-rotate.html#answer-47831" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-66481">
				
						<section>
							<p>{<strong>removed</strong>}</p>
<p>Duplicate answer.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="June 3rd 2010, 11:42:35 am">June 3rd 2010</span>
								by <span class='authorname'>Joshua Kehn</span><br>
								<a class="icon-bg icon-link" href="question/21531/reload-screen-on-rotate.html#answer-66481" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-153681">
				
						<section>
							<p>Doug,<br>I am trying to do the same thing as you were, did you ever find an answer?</p>
<p>Thanks!</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="December 1st 2010, 7:08:12 pm">December 1st 2010</span>
								by <span class='authorname'>Pete Halatsis</span><br>
								<a class="icon-bg icon-link" href="question/21531/reload-screen-on-rotate.html#answer-153681" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-153691">
				
						<section>
							<p>Doug,<br>I am trying to do the same thing as you were, did you ever find an answer?</p>
<p>Thanks!</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="December 1st 2010, 7:17:43 pm">December 1st 2010</span>
								by <span class='authorname'>Pete Halatsis</span><br>
								<a class="icon-bg icon-link" href="question/21531/reload-screen-on-rotate.html#answer-153691" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
