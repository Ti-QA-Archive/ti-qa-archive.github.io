<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Titanium android max annotations Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Titanium android max annotations</h1>
		</header>
		<section>
			<p>Is there a way in titanium to add unlimited number of annotations in android:(?Even after removing all annotations on window close event memory leak occurs</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="January 13th 2013, 7:12:14 pm">January 13th 2013</span>
				by <span class='authorname'>Najia Khurshid</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>annotations</span></li>
					
						<li><span class='tagname'>mapview</span></li>
					
						<li><span class='tagname'>maximum</span></li>
					
						<li><span class='tagname'>titanium</span></li>
					
				</ul>
			

			<section>
				<h5>6 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Missing from you question are several pieces of information that will help you obtain a speedy and accurate answer;</p>
<ul>
<li>Titanium SDK Version?</li>
<li>Primary Target Platform; Android, iOS or both?</li>
<li>A code snippet that can be used to determine what you have achieved so far</li>
</ul>
</div>
							<div class="author">
								&mdash; commented <span title="January 13th 2013, 7:36:55 pm">January 13th 2013</span>
								by <span class='authorname'>Malcolm Hollingsworth</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Tiatnium SDK version : 2.1.3<br>platform: android</p>
<p>&#x2F;&#x2F; all annotations(500+) are saved in a separate jscript file </p>
<p>mapview.addAnnotations(city_anno);<br>city_screen.open();</p>
<p>mapview.addEventListener(&#39;click&#39;, function(e){<br>if(e.clicksource == &quot;title&quot;)<br>    {<br>         var ctit = e.title;</p>
<p>if (ctit == &quot;Corcovado&quot;){<br>            Web_View.url = &#39;http:&#x2F;&#x2F;goo.gl&#x2F;maps&#x2F;x5s9C&#39;;}<br>}<br>});</p>
<p>city_screen.addEventListener(&#39;close&#39;, function() {<br>            mapview.removeAnnotation(corcovado_mountain); &#x2F;&#x2F; removing all                                     annotations i.e in(city_anno) as titanium android removeannotations() event is not functioning properly<br>            mapview.removeEventListener(&#39;click&#39;,function(e){});    </p>
<pre><code class="hljs">     })<span class="hljs-comment">;</span>
             }
</code></pre></div>
							<div class="author">
								&mdash; commented <span title="January 13th 2013, 7:52:56 pm">January 13th 2013</span>
								by <span class='authorname'>Najia Khurshid</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Could you try that again with the markdown syntax so code looks correct.</p>
<p>3 <strong>~</strong> on a line above your code and another 3 <strong>~</strong> under your code, press the <strong>code</strong> link in the markdown editor for an example.</p>
</div>
							<div class="author">
								&mdash; commented <span title="January 13th 2013, 7:56:16 pm">January 13th 2013</span>
								by <span class='authorname'>Malcolm Hollingsworth</span>
							</div>
						</li>
					
						<li class="comment">
							<div><pre><code class="hljs">mapview.addAnnotations(city_anno);
city_screen.open();

mapview.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span></span>{
<span class="hljs-keyword">if</span>(e.clicksource == <span class="hljs-string">"title"</span>)
    {
         <span class="hljs-keyword">var</span> ctit = e.title;

<span class="hljs-keyword">if</span> (ctit == <span class="hljs-string">"Corcovado"</span>){
            Web_View.url = <span class="hljs-string">'http://goo.gl/maps/x5s9C'</span>;}                                                       
}        
});

city_screen.addEventListener(<span class="hljs-string">'close'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
            mapview.removeAnnotation(corcovado_mountain); <span class="hljs-comment">// removing all                                                                  annotations i.e in(city_anno) as titanium android removeannotations() event is not functioning properly</span>
            mapview.removeEventListener(<span class="hljs-string">'click'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span></span>{});    

         });
                 }
</code></pre></div>
							<div class="author">
								&mdash; commented <span title="January 13th 2013, 8:05:59 pm">January 13th 2013</span>
								by <span class='authorname'>Najia Khurshid</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>This line only works if the parameter matching an annotation object you added.</p>
<pre><code class="hljs"><span class="hljs-tag">mapview</span><span class="hljs-class">.removeAnnotation</span>(<span class="hljs-tag">corcovado_mountain</span>);
</code></pre><p>This line only works when you pass in the function you used to create the eventListener in the first place.</p>
<pre><code class="hljs">mapview.removeEventListener(<span class="hljs-string">'click'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span></span>{});
</code></pre><p>So you would have needed to create the eventListener like;</p>
<pre><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">handler</span><span class="hljs-params">(e)</span> </span>{
   <span class="hljs-comment">// your code here</span>
}
mapview.addEventListener(<span class="hljs-string">'click'</span>, handler); 
<span class="hljs-comment">// later on</span>
mapview.removeEventListener(<span class="hljs-string">'click'</span>, handler);
</code></pre><p>Tweak your code and see what happens.</p>
</div>
							<div class="author">
								&mdash; commented <span title="January 13th 2013, 8:22:32 pm">January 13th 2013</span>
								by <span class='authorname'>Malcolm Hollingsworth</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>thanks :)</p>
</div>
							<div class="author">
								&mdash; commented <span title="January 14th 2013, 7:53:46 am">January 14th 2013</span>
								by <span class='authorname'>Najia Khurshid</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>3</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>3 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-254454">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>Hi</p>
<p>Even if it was this is not a sensible solution, if you have a hundred or less then add them to a map, but if you more than that then you should employ some self management.</p>
<ul>
<li>Make sure any events are on the map and not the annotation as this is unnecessary and overly complex and the map event receives all annotation events anyway.</li>
<li>make use of the regionchanged event to know when the user has moved the map and zoom so you can show only those pins that are required, removing other annotations and adding new ones if they fall inside the bounds.</li>
</ul>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="January 13th 2013, 7:19:36 pm">January 13th 2013</span>
								by <span class='authorname'>Malcolm Hollingsworth</span><br>
								<a class="icon-bg icon-link" href="question/146821/titanium-android-max-annotations#answer-254454" rel="permalink">permalink</a>
							</div>

							<h5>3 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Thanks,Malcom Hollingsworth ,I am adding at most 20 annotations at a time (required in my offline map) and  removing them on window close event , all events are on map-view .Is there any maximum number of annotations per application?by now i have added about  500 annotations.</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 13th 2013, 7:32:28 pm">January 13th 2013</span>
											by <span class='authorname'>Najia Khurshid</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>The max is device, OS version and current operating environment including memory and resources dependant.</p>
<p>20 is way below those issues though, so max number is not the problem.</p>
<p>Answer the questions I am about to post above as a comment to your question.</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 13th 2013, 7:36:44 pm">January 13th 2013</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>so it means it has nothing to do with the maximum number of annotations â¦..</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 13th 2013, 7:56:24 pm">January 13th 2013</span>
											by <span class='authorname'>Najia Khurshid</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-254456">
				
						<section>
							<p>Tiatnium SDK version : 2.1.3 platform: android<br>&#x2F;&#x2F; all annotations(500+) are saved in a separate jscript file<br>3 ~<br>mapview.addAnnotations(city_anno); city_screen.open();<br>mapview.addEventListener(&#39;click&#39;, function(e){ if(e.clicksource == &quot;title&quot;) { var ctit = e.title;<br>if (ctit == &quot;Corcovado&quot;){ Web_View.url = &#39;http:&#x2F;&#x2F;goo.gl&#x2F;maps&#x2F;x5s9C&#39;;}<br>}<br>});<br>city_screen.addEventListener(&#39;close&#39;, function() { mapview.removeAnnotation(corcovado_mountain); &#x2F;&#x2F; removing all annotations i.e in(city_anno) as titanium android removeannotations() event is not functioning properly mapview.removeEventListener(&#39;click&#39;,function(e){});<br>     });<br>            }<br>3 ~</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="January 13th 2013, 8:02:32 pm">January 13th 2013</span>
								by <span class='authorname'>Najia Khurshid</span><br>
								<a class="icon-bg icon-link" href="question/146821/titanium-android-max-annotations#answer-254456" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-254457">
				
						<section>
							<pre><code class="hljs">mapview.addAnnotations(city_anno);
city_screen.open();

mapview.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span></span>{
<span class="hljs-keyword">if</span>(e.clicksource == <span class="hljs-string">"title"</span>)
    {
         <span class="hljs-keyword">var</span> ctit = e.title;

<span class="hljs-keyword">if</span> (ctit == <span class="hljs-string">"Corcovado"</span>){
            Web_View.url = <span class="hljs-string">'http://goo.gl/maps/x5s9C'</span>;}                                                       
}        
});

city_screen.addEventListener(<span class="hljs-string">'close'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
            mapview.removeAnnotation(corcovado_mountain); <span class="hljs-comment">// removing all                                                                  annotations i.e in(city_anno) as titanium android removeannotations() event is not functioning properly</span>
            mapview.removeEventListener(<span class="hljs-string">'click'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span></span>{});    

         });
                 }
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="January 13th 2013, 8:04:51 pm">January 13th 2013</span>
								by <span class='authorname'>Najia Khurshid</span><br>
								<a class="icon-bg icon-link" href="question/146821/titanium-android-max-annotations#answer-254457" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
