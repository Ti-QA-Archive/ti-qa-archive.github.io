<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Add footerView to TableViewSection in android. Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Add footerView to TableViewSection in android.</h1>
		</header>
		<section>
			<p>How to do it? It doesn&#39;t work for me. My code sample:</p>
<pre><code class="hljs">        <span class="hljs-keyword">var</span> addPhoneView = <span class="hljs-keyword">new</span> UIElement({
            <span class="hljs-constructor"><span class="hljs-keyword">constructor</span>: ui.createView,
            params: </span>{
                width: <span class="hljs-number">100</span>,
                height: <span class="hljs-string">"auto"</span>,
                backgroundColor: <span class="hljs-string">"green"</span>
            },
            styles: [
            ]
        });

        <span class="hljs-keyword">var</span> addPhoneButon = <span class="hljs-keyword">new</span> UIElement ({
            <span class="hljs-constructor"><span class="hljs-keyword">constructor</span>: ui.createButton,
            params: </span>{
                title: <span class="hljs-string">"Add Phone"</span>,
                <span class="hljs-comment">//top: 10,</span>
                height: <span class="hljs-number">100</span>
            },
            styles: [
                style.ACTION_BUTTON
            ]
        });
        addPhoneView.add(addPhoneButon);
        addPhoneButon.addEventListener(<span class="hljs-string">"click"</span>, addPhone);

        <span class="hljs-keyword">var</span> section = <span class="hljs-keyword">new</span> UIElement({
            <span class="hljs-constructor"><span class="hljs-keyword">constructor</span>: ui.createTableViewSection,
            params: </span>{
                headerTitle: <span class="hljs-string">"Phone numbers"</span>,
                footerView: addPhoneView <span class="hljs-comment">// FIXME Doesn't work :(</span>
            },
            styles: [
            ]
        });
</code></pre><p>But if i add addPhoneView to headerView - it work&#39;s! What&#39;s wrong with footerView?</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="August 8th 2012, 8:53:15 am">August 8th 2012</span>
				by <span class='authorname'>Alexander Perechnev</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>footerview</span></li>
					
						<li><span class='tagname'>tableviewsection</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-244749">
				
						<section>
							<p>Hi Alexander</p>
<p>As you have not provided the <code>UIElement</code> I cannot see where you have gone wrong, however I can show you how to &#39;go&#39; right.</p>
<p>Adapt this to suit your needs.  I have one guess to your specific issues - are you passing <code>footerView down the chain into the</code>UIElement`?</p>
<pre><code class="hljs">var viewFooter = Ti.UI.createView({
  <span class="hljs-variable">height</span>: Ti.UI.SIZE,
  <span class="hljs-variable">width</span>: Ti.UI.FILL
});
var lbl = Ti.UI.createLabel({
  <span class="hljs-variable">height</span>: Ti.UI.SIZE,
  <span class="hljs-built_in">text</span>: <span class="hljs-string">'Hello from the Footer'</span>,
  <span class="hljs-variable">width</span>: Ti.UI.FILL
});
viewFooter.<span class="hljs-built_in">add</span>(lbl);

var tbl = Ti.UI.createTableView({
  data: data,
  footerView: viewFooter,
  <span class="hljs-variable">height</span>: Ti.UI.SIZE,
  <span class="hljs-variable">width</span>: Ti.UI.FILL
});
win.<span class="hljs-built_in">add</span>(tbl);
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 8th 2012, 9:14:30 am">August 8th 2012</span>
								by <span class='authorname'>Malcolm Hollingsworth</span><br>
								<a class="icon-bg icon-link" href="question/140704/add-footerview-to-tableviewsection-in-android.html#answer-244749" rel="permalink">permalink</a>
							</div>

							<h5>13 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Thank you, Malcolm,</p>
<p>YOur code work&#39;s, but i asked about TableViewSection&#39;s footerView. It is works for tableview footer and header, and it work&#39;s for tableviewsection.headeView. But it is wrong when i try to set TableViewSection.footerView.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 8th 2012, 9:54:50 am">August 8th 2012</span>
											by <span class='authorname'>Alexander Perechnev</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Sorry about that - I must have been looking through my eye that does not work :)</p>
<p>One difference between iOS usage and Android usage is that the <code>footerView</code> must be set during the creation of the <code>tableviewsection</code>, so not using a <code>property</code> or <code>setFooterView()</code> once you have created it - which might be happening if you are using intelligent property usage - which I suspect you are (for good reason).</p>
<p>Can you check that, and report back.  If that is correct could you provide the <code>UIElement</code> code snippet and I will work out some more code for you.</p>
<p>Cheers</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 8th 2012, 10:06:43 am">August 8th 2012</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>UIElement is a very simple:</p>
<pre><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">UIElement</span>(<span class="hljs-params">options</span>) </span>{
    <span class="hljs-keyword">var</span> uiConstructor = options.constructor;
    <span class="hljs-keyword">var</span> elementParams = options.params || {};
    <span class="hljs-keyword">var</span> styles = options.styles || [];
    <span class="hljs-keyword">var</span> androidParams = options.android || {};
    <span class="hljs-keyword">var</span> iOSParams = options.iOS || {};

    utils.assertType(uiConstructor, <span class="hljs-string">"function"</span>);

    <span class="hljs-keyword">var</span> css = <span class="hljs-built_in">require</span>(<span class="hljs-string">"/core/style"</span>);

    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; styles.length; i++) {
        <span class="hljs-keyword">var</span> style = styles[i];

        elementParams = css.applyStyle(elementParams, style);
    }
    <span class="hljs-keyword">if</span> (platform.isIOS()) {
        elementParams = applyPlatformSpecific(elementParams, iOSParams);
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (platform.isAndroid()) {
        elementParams = applyPlatformSpecific(elementParams, androidParams);
    }

    <span class="hljs-keyword">return</span> uiConstructor(elementParams);

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">applyPlatformSpecific</span>(<span class="hljs-params">elementParams, style</span>) </span>{
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> prop <span class="hljs-keyword">in</span> style) {
            <span class="hljs-keyword">if</span> (style.hasOwnProperty(prop)) {
                elementParams[prop] = style[prop];
            }
        }
        <span class="hljs-keyword">return</span> elementParams;
    }
}
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="August 8th 2012, 10:10:59 am">August 8th 2012</span>
											by <span class='authorname'>Alexander Perechnev</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Hi Alexander</p>
<p>I still think you are adding the <code>footerView</code> after the object is created, still not sure as you have more nested functionality that I cannot see.</p>
<p>Could you please try and see what happens if you add the <code>footerView</code> directly in a MANUAL way - outside of the code you have provided.</p>
<p>Because of these lines;</p>
<pre><code class="hljs"><span class="hljs-built_in">var</span> section = <span class="hljs-literal">new</span> UIElement({
    construct<span class="hljs-subst">or</span>: ui<span class="hljs-built_in">.</span>createTableViewSection,
<span class="hljs-attribute">...</span>
</code></pre><p>It looks like you return an empty tableviewsection object then apply the parameters to it.  If this is the case then you are actually adding the <code>footerView</code> AFTER you have have constructed the section, this is not possible in Android according to the <a href="http:&#x2F;&#x2F;docs.appcelerator.com&#x2F;titanium&#x2F;2.1&#x2F;#!&#x2F;api&#x2F;Titanium.UI.TableViewSection-property-footerView">documentation</a>.</p>
<p>So simply add a new tableviewsection with a footer section directly to the table using something like this - tweak to your needs, but NOT using your own method for the minute.</p>
<pre><code class="hljs">var viewSectionFooter = Ti.UI.createView({
  <span class="hljs-variable">height</span>: Ti.UI.SIZE,
  <span class="hljs-variable">width</span>: Ti.UI.FILL
});
var lbl = Ti.UI.createLabel({
  <span class="hljs-variable">height</span>: Ti.UI.SIZE,
  <span class="hljs-built_in">text</span>: <span class="hljs-string">'Hello from the Footer'</span>,
  <span class="hljs-variable">width</span>: Ti.UI.FILL
});
viewSectionFooter.<span class="hljs-built_in">add</span>(lbl);

var testSection = Ti.UI.createTableViewSection({
  footerView: viewFooter,
  <span class="hljs-variable">height</span>: Ti.UI.SIZE,
  <span class="hljs-variable">width</span>: Ti.UI.FILL
});

<span class="hljs-comment">// add testSection  to your table.</span>
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="August 8th 2012, 11:58:55 am">August 8th 2012</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Now i have a next code:</p>
<pre><code class="hljs">        var viewSectionFooter = Ti.UI.createView({
          <span class="hljs-variable">height</span>: Ti.UI.SIZE,
          <span class="hljs-variable">width</span>: Ti.UI.FILL
        });
        var lbl = Ti.UI.createLabel({
          <span class="hljs-variable">height</span>: Ti.UI.SIZE,
          <span class="hljs-built_in">text</span>: <span class="hljs-string">'Hello from the Footer'</span>,
          <span class="hljs-variable">width</span>: Ti.UI.FILL
        });
        viewSectionFooter.<span class="hljs-built_in">add</span>(lbl);

        var section = Ti.UI.createTableViewSection({
            headerTitle: <span class="hljs-string">"Allow ololo"</span>,
            footerView: viewSectionFooter
        });
</code></pre><p>But it is still doesn&#39;t work.</p>
<p>I see only a header title, but not a footerView.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 9th 2012, 9:55:09 am">August 9th 2012</span>
											by <span class='authorname'>Alexander Perechnev</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Hi</p>
<p>I have done extensive tests and I can report that the <code>footerView</code> property <strong>does not work</strong> on Android.</p>
<p>It works (almost) perfectly on iOS, but simply fails to display anything when used with on Android.</p>
<p>My test code is here if you wish to review it.</p>
<pre><code class="hljs">var data = [
    { title: <span class="hljs-string">'One'</span> },
    { title: <span class="hljs-string">'Two'</span> },
    { title: <span class="hljs-string">'Three'</span> },
    { title: <span class="hljs-string">'Four'</span> },
    { title: <span class="hljs-string">'Five'</span> },
    { title: <span class="hljs-string">'Six'</span> },
    { title: <span class="hljs-string">'Seven'</span> },
    { title: <span class="hljs-string">'Eight'</span> },
    { title: <span class="hljs-string">'Nine'</span> },
    { title: <span class="hljs-string">'Ten'</span> },
    { title: <span class="hljs-string">'Eleven'</span> },
    { title: <span class="hljs-string">'Twelve'</span> },
    { title: <span class="hljs-string">'Thirteen'</span> },
    { title: <span class="hljs-string">'Fourteen'</span> },
    { title: <span class="hljs-string">'Fifteen'</span> }
];
var section1 = Titanium.UI.createTableViewSection({
    headerTitle: <span class="hljs-string">'Header One'</span>,
    footerTitle: <span class="hljs-string">'Footer One'</span>
});
var intRow = <span class="hljs-number">0</span>, intRows = data.length, row, rows = [];
intRows = <span class="hljs-number">5</span>; // tweak
<span class="hljs-keyword">for</span> (intRow = <span class="hljs-number">0</span>; intRow &lt; intRows; intRow = intRow + <span class="hljs-number">1</span>) {
    row = Ti.UI.createTableViewRow({
        title: data[intRow].title
    });
    section1.add(row);
}
var viewFooter = Ti.UI.createView({
    backgroundColor: <span class="hljs-string">'#eee'</span>,
    height: <span class="hljs-number">40</span>,
    layout: <span class="hljs-string">'vertical'</span>,
    width: Ti.UI.FILL
});
var lblFooter = Ti.UI.createLabel({
    color: <span class="hljs-string">'#000'</span>,
    font: {
        fontSize: <span class="hljs-number">14</span>
    },
    height: <span class="hljs-number">40</span>,
    left: <span class="hljs-number">10</span>,
    right: <span class="hljs-number">10</span>,
    text: <span class="hljs-string">'Hello Section Footer'</span>,
    width: Ti.UI.FILL        
});
viewFooter.add(lblFooter);
var section2 = Titanium.UI.createTableViewSection({
    headerTitle: <span class="hljs-string">'Header Two'</span>,
    footerView: viewFooter
});
<span class="hljs-keyword">for</span> (intRow = <span class="hljs-number">0</span>; intRow &lt; intRows; intRow = intRow + <span class="hljs-number">1</span>) {
    row = Ti.UI.createTableViewRow({
        title: data[intRow].title
    });
    section2.add(row);
}
var tbl = Ti.UI.createTableView({
    data: [section1, section2],
    height: Ti.UI.FILL,
    top: <span class="hljs-number">0</span>,
    width: Ti.UI.FILL
});
win.add(tbl);
</code></pre><p>This code adds a <code>footerView</code> to the 2nd section, just in case there is a strange bug I have also tried having the <code>footerView</code> on the first <code>tableViewSection</code> to see what happens - it also failed.</p>
<p>The documentation suggests that the <code>footerView</code> property <em>&quot;On Android, must be set at creation.&quot;</em> which it is in this example.</p>
<p>At least it proves you did nothing wrong - but it does mean there is a bug there.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 9th 2012, 11:42:43 am">August 9th 2012</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Thank you. I&#39;ll try to fix this bug and send a pull request. Send me a link to bug report please.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 9th 2012, 11:54:14 am">August 9th 2012</span>
											by <span class='authorname'>Alexander Perechnev</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Hi Alexander</p>
<p>I am not sure if you know but - I do not work for Appcelerator I am just here helping out people - so I do not have any control over the bug stuff.  Sorry</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 9th 2012, 12:08:27 pm">August 9th 2012</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Okay, thank you Malcolm. I will report to you when i fix this bug.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 9th 2012, 12:11:26 pm">August 9th 2012</span>
											by <span class='authorname'>Alexander Perechnev</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I&#39;m facing the same issue. Can we have a fix please?</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 12th 2012, 8:01:12 pm">August 12th 2012</span>
											by <span class='authorname'>Pu Li</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>i have the same troubles with footerView on android. Do anybody know when this bug will be fixed?</p>
</p>
										<div class="author">
											&mdash; commented <span title="June 13th 2013, 9:23:55 am">June 13th 2013</span>
											by <span class='authorname'>Vladimir Gaidukov</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I have the same trouble on android i can add a footer view to iOS version of my app but on android is not showing it.</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 31st 2013, 1:55:59 pm">July 31st 2013</span>
											by <span class='authorname'>Abhijeet Pradhan</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>@Abhijeet - footers in sections are possible but you MUST set them at the creation of the section not afterwards.</p>
<p>So;</p>
<pre><code class="hljs"><span class="hljs-variable"><span class="hljs-keyword">var</span> viewFooter</span> = Ti.UI.createView({
    height: <span class="hljs-number">50</span>,
    width: Ti.UI.Fill
});
<span class="hljs-variable"><span class="hljs-keyword">var</span> section1</span> = Titanium.UI.createTableViewSection({
    footerView: viewFooter <span class="hljs-comment">// define here</span>
});
section1.setFooterView(viewFooter); <span class="hljs-comment">// NOT like this</span>
section1.footerView = viewFooter; <span class="hljs-comment">// and NOT like this</span>
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="July 31st 2013, 2:35:25 pm">July 31st 2013</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
