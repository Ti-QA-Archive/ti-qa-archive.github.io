<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>layout issue with 2 views and a tableview Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>layout issue with 2 views and a tableview</h1>
		</header>
		<section>
			<p>I have the following xml</p>
<pre><code class="hljs"><span class="hljs-tag">&lt;<span class="hljs-title">View</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"movableview"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">View</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"topBar"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">Button</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"navPrev"</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"navButton"</span> <span class="hljs-attribute">onClick</span>=<span class="hljs-value">"goPrev"</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-title">Label</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"navPrevLabel"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">Label</span>&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-title">Button</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">Button</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"navTitle"</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-title">Label</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"title"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">Label</span>&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-title">Button</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">Button</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"navNext"</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"navButton"</span> <span class="hljs-attribute">onClick</span>=<span class="hljs-value">"goNext"</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-title">Label</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"navNextLabel"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">Label</span>&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-title">Button</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-title">View</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">TableView</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"posts"</span> <span class="hljs-attribute">style</span>=<span class="hljs-value">"Ti.UI.iPhone.TableViewStyle.PLAIN"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">TableView</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">View</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"lowerBar"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">Button</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"menu"</span> <span class="hljs-attribute">style</span>=<span class="hljs-value">"Ti.UI.iPhone.SystemButtonStyle.PLAIN"</span>/&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">Button</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"camera"</span> <span class="hljs-attribute">style</span>=<span class="hljs-value">"Ti.UI.iPhone.SystemButtonStyle.PLAIN"</span> <span class="hljs-attribute">onClick</span>=<span class="hljs-value">"doCamera"</span>/&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">Button</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"compose"</span> <span class="hljs-attribute">style</span>=<span class="hljs-value">"Ti.UI.iPhone.SystemButtonStyle.PLAIN"</span> <span class="hljs-attribute">onClick</span>=<span class="hljs-value">"doText"</span>/&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-title">View</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">View</span>&gt;</span>
</code></pre><p>my tss looks like</p>
<pre><code class="hljs">"<span class="hljs-id">#posts</span>": <span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">borderWidth</span>:<span class="hljs-value"> <span class="hljs-string">'0'</span>,
    separatorStyle: Titanium.UI.iPhone.TableViewSeparatorStyle.NONE,
    separatorColor: <span class="hljs-string">'transparent'</span>,
    scrollsToTop: <span class="hljs-string">"true"</span>,
    selectedBackgroundColor: <span class="hljs-string">'transparent'</span>,
    bottom: <span class="hljs-string">'44dp'</span>
</span></span></span>}

"<span class="hljs-id">#lowerBar</span>": <span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">height</span>:<span class="hljs-value"> <span class="hljs-string">'44dp'</span>,
    backgroundColor: <span class="hljs-string">'#ebebeb'</span>,
    borderColor: <span class="hljs-string">'#d4d4d4'</span>,
    borderWidth: <span class="hljs-string">'1dp'</span>,
    zIndex: <span class="hljs-number">59</span>
</span></span></span>}
"<span class="hljs-id">#topBar</span>": <span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">height</span>:<span class="hljs-value"> <span class="hljs-string">'44dp'</span>,
    backgroundColor: <span class="hljs-string">'#5acefd'</span>,
    borderColor: <span class="hljs-string">'#36bef5'</span>,
    borderWidth: <span class="hljs-string">'1dp'</span>
</span></span></span>}
"<span class="hljs-id">#movableview</span>": <span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">left</span>:<span class="hljs-value"> <span class="hljs-string">"0"</span>,
    zIndex: <span class="hljs-string">"3"</span>,
    width : Ti.Platform.displayCaps.platformWidth,
    layout: <span class="hljs-string">'vertical'</span>
</span></span></span>}
</code></pre><p>My main issue is I don&#39;t see the lowerBar when i try to layout things vertical in my moveableview</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="August 24th 2013, 7:59:14 pm">August 24th 2013</span>
				by <span class='authorname'>Mike Zupan</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>ui</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-267633">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>Hi</p>
<p>The answer is easier than you might think, you do not use layout for this, that is best suited to top down layouts (in your example) when you do not know or do not care where it stops as the content dictates the eventual height.</p>
<p>In order to solve this problem I have moved your TSS elements around as it is easier to see what changes are made when the TSS follows the order of the XML.</p>
<ul>
<li>Remove the layout from <strong>movableview</strong></li>
<li>Set the <strong>topBar</strong> top to 0 - this makes it sit at the top</li>
<li>Set the <strong>lowerBar</strong> bottom to 0 - this makes it sit at the bottom</li>
<li>Now we need the <strong>posts</strong> to fill the height of the screen, as this can be several heights we use <strong>Ti.UI.FILL</strong></li>
<li>Now the clever bit (at least most people are unaware of this trick), <strong>height</strong> can be combined with <strong>top</strong> and <strong>bottom</strong>, if we set those to the same heights as the <strong>topBar</strong> and <strong>lowerBar</strong> then the following occurs;<ul>
<li>height of FILL</li>
<li>less top</li>
<li>less bottom</li>
<li>= remaining space in height</li>
</ul>
</li>
</ul>
<p>So now the top is anchored to the top, the bottom is anchored to the bottom and the posts fill the remaining space.</p>
<pre><code class="hljs">"<span class="hljs-id">#movableview</span>": <span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">left</span>:<span class="hljs-value"> <span class="hljs-string">"0"</span>,
    width: Ti.Platform.displayCaps.platformWidth,
    zIndex: <span class="hljs-string">"3"</span>
</span></span></span>}
"<span class="hljs-id">#topBar</span>": <span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">backgroundColor</span>:<span class="hljs-value"> <span class="hljs-string">'#5acefd'</span>,
    borderColor: <span class="hljs-string">'#36bef5'</span>,
    borderWidth: <span class="hljs-string">'1dp'</span>,
    height: <span class="hljs-string">'44dp'</span>,
    top: <span class="hljs-number">0</span>
</span></span></span>}
"<span class="hljs-id">#posts</span>": <span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">borderWidth</span>:<span class="hljs-value"> <span class="hljs-string">'0'</span>,
    bottom: <span class="hljs-string">'44dp'</span>,
    height: Ti.UI.FILL,
    scrollsToTop: <span class="hljs-string">"true"</span>,
    selectedBackgroundColor: <span class="hljs-string">'transparent'</span>,
    separatorColor: <span class="hljs-string">'transparent'</span>,
    separatorStyle: Titanium.UI.iPhone.TableViewSeparatorStyle.NONE,
    top: <span class="hljs-string">'44dp'</span>
</span></span></span>} 
"<span class="hljs-id">#lowerBar</span>": <span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">backgroundColor</span>:<span class="hljs-value"> <span class="hljs-string">'#ebebeb'</span>,
    borderColor: <span class="hljs-string">'#d4d4d4'</span>,
    borderWidth: <span class="hljs-string">'1dp'</span>,
    bottom: <span class="hljs-number">0</span>,
    height: <span class="hljs-string">'44dp'</span>,
    zIndex: <span class="hljs-number">59</span>
</span></span></span>}
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 24th 2013, 8:28:54 pm">August 24th 2013</span>
								by <span class='authorname'>Malcolm Hollingsworth</span><br>
								<a class="icon-bg icon-link" href="../../question/156354/layout-issue-with-2-views-and-a-tableview.html#answer-267633" rel="permalink">permalink</a>
							</div>

							<h5>3 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Just a thought, as you are using the constant <strong>Titanium.UI.iPhone.TableViewSeparatorStyle.NONE</strong> I wonder if you are targeting iOS as you do not say.</p>
<p>If you are targeting iOS then as you are using <strong>dp</strong> as a measurement in your hard coded values I wonder if you can check your <strong>tiapp.xml</strong> to see if it has one of the following two values in this propertyâ¦</p>
<pre><code class="hljs">&lt;<span class="hljs-keyword">property</span> name=<span class="hljs-string">"ti.ui.defaultunit"</span> <span class="hljs-keyword">type</span>=<span class="hljs-string">"string"</span>&gt;system&lt;/<span class="hljs-keyword">property</span>&gt;
// <span class="hljs-keyword">or</span>
&lt;<span class="hljs-keyword">property</span> name=<span class="hljs-string">"ti.ui.defaultunit"</span> <span class="hljs-keyword">type</span>=<span class="hljs-string">"string"</span>&gt;dp&lt;/<span class="hljs-keyword">property</span>&gt;
</code></pre><p>.. if you are then setting the dp suffix is pointless as the default system unit is <strong>dp</strong> for iOS.</p>
<p>So these two should be equal;</p>
<pre><code class="hljs"><span class="hljs-string">"#topBar"</span>: {
    backgroundColor: <span class="hljs-string">'#5acefd'</span>,
    borderColor: <span class="hljs-string">'#36bef5'</span>,
    borderWidth: <span class="hljs-string">'1dp'</span>,
    <span class="hljs-variable">height</span>: <span class="hljs-string">'44dp'</span>,
    top: <span class="hljs-number">0</span>
}
<span class="hljs-comment">// and</span>
<span class="hljs-string">"#topBar"</span>: {
    backgroundColor: <span class="hljs-string">'#5acefd'</span>,
    borderColor: <span class="hljs-string">'#36bef5'</span>,
    borderWidth: <span class="hljs-number">1</span>,
    <span class="hljs-variable">height</span>: <span class="hljs-number">44</span>,
    top: <span class="hljs-number">0</span>
}
</code></pre><p>I know which I prefer typing, not only for speed, but ability to perform simple math in the value and colour coding in the code editor.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 24th 2013, 8:34:22 pm">August 24th 2013</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>thanks for the quick reply..worked great</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 24th 2013, 8:36:45 pm">August 24th 2013</span>
											by <span class='authorname'>Mike Zupan</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Happy to help.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 24th 2013, 8:37:29 pm">August 24th 2013</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
