<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>App doesn&#39;t resume after being paused for long duration of time on Android » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>App doesn&#39;t resume after being paused for long duration of time on Android</h1>
		</header>
		<section>
			<p>I have struggled with this for several days now and have not found any particularly helpful information on what I could possibly be doing wrong to cause this issue in this forum or in the API documentation.</p>
<p>I have a very simple application. It basically just pulls data from a remote database and display it in table views. </p>
<p>1) When the app starts up I create a tabgroup using the following options: tintColor:&quot;white&quot;, tabsBackgroundColor:&quot;black&quot;, exitOnClose:true.  </p>
<p>2) It contains 4 tabs each of which is just a window with the following options: title:&quot;the title&quot;, barColor:&quot;#009900&quot;, layout:&quot;vertical&quot;.</p>
<p>3) From these windows buttons can be pressed that open other windows (with the same options from bullet 2) containing a table view that displays data corresponding to the given action. I open the windows using tabGroup.open(theWin). This creates a heavy weight window on Android and another activity from what the documentation says.</p>
<p>4) If I back out of the app using the android back button my app closes (thanks to the exitOnClose property) and it starts up fine every time after that.</p>
<p>5) If I pause the app by pressing the android home button and I start my app within about 10 minutes my app starts up fine on the last view I was in resuming from where it  was paused.</p>
<p>6) If I pause the app by pressing the android home button and don&#39;t start my app for an extended period of time my app will not resume and it just displays my initial splash screen or a blank black screen.<br>Note) my app does not do anything in the background so when it&#39;s paused it&#39;s just a tableview of data doing nothing (i.e. I am not continually polling my database for data or anything like that). When this happens if I &quot;force stop&quot; my app through the settings application I can start it up fine.</p>
<p>Does anyone have any insight into what could be causing this issue?</p>
<p>I have also tried to workaround this by attempting to close my app when it is paused. The examples I have seen to do this have not worked properly. For example, each activity is &quot;paused&quot; when I open the new window so handling onPause will close activities through simple navigation through my app instead of when I desire which is when the user presses the &quot;home&quot; button. </p>
<p>Does anyone know the proper way to handle the android home button being pressed? If so, what is the proper way to close all of the activities that are part of my application?</p>
<p>Everything works fine in iOS.</p>
<p>I am running with TI studio: 3.3.0.201407100905 and using SDK: 3.2.3.</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="October 3rd 2014, 10:23:35 pm">October 3rd 2014</span>
				by <span class='authorname'>David Weiss</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>activity state</span></li>
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>pause</span></li>
					
						<li><span class='tagname'>resume</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>1</span> Vote</div>
			<div class="answers"><span>3</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>3 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-282881">
				
						<section>
							<p>its probably something simple, but you might want to check your android device to see if other apps function the same way.  On my nexus 7 everything stays open in the background, but you may have a setting that closes down apps.  Something else to check may be to run it in the simulator and see if it has the same response.  Potentially you could have a memory leak which is why its shutting down after a longer period of time, but hard to know without doing some more testing first.  </p>
<p>Also could try testing on a friends android device, at least doing those things will narrow down whether its your device, your app or something to do with android.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="October 4th 2014, 2:18:30 am">October 4th 2014</span>
								by <span class='authorname'>Mick Solomons</span><br>
								<a class="icon-bg icon-link" href="question/178174/app-doesnt-resume-after-being-paused-for-long-duration-of-time-on-android#answer-282881" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>This happens on other peoples devices which is why I&#39;m concerned (resulting in bad Google Play reviews and various questions sent to our support contact). The people I know that use that app mostly use the back button and have not experienced problems. The people that I know that use the home button have either complained or just dealt with it by using the settings to force stop the app when this happens. The people who were force stopping without telling me were doing so because they are just used to doing this with their Android devices (so they said after I probed them a little). </p>
<p>I don&#39;t see how I could have a memory leak here (at least one that would get worse while the app sat in the &quot;paused&quot; state. I pull down data from a remote database. Load it into a list view and then my code does nothing until the user interacts with it. </p>
<p>I have used Android devices sparingly and have experienced problems like this so I originally wrote it off as that&#39;s just what Android is like (which is why I purchased an iPhone for my personal use).</p>
<p>Even if this did end up just being a Ti and Android problem and not something I did I would like to make sure it doesn&#39;t happen anymore by closing the app when the user hits the home button - which I have been unsuccessful in doing.</p>
</p>
										<div class="author">
											&mdash; commented <span title="October 4th 2014, 12:44:38 pm">October 4th 2014</span>
											by <span class='authorname'>David Weiss</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-282882">
				
						<section>
							<p><a href="https:&#x2F;&#x2F;developer.appcelerator.com&#x2F;question&#x2F;149942&#x2F;pause--resume-events-dont-fire-android">this also might be helpful </a></p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="October 4th 2014, 2:20:03 am">October 4th 2014</span>
								by <span class='authorname'>Mick Solomons</span><br>
								<a class="icon-bg icon-link" href="question/178174/app-doesnt-resume-after-being-paused-for-long-duration-of-time-on-android#answer-282882" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-282918">
				
						<section>
							<p>I have found the solution to my problem buried in the appendix about maintaining a custom manifest file. From the <a href="http:&#x2F;&#x2F;docs.appcelerator.com&#x2F;titanium&#x2F;3.0&#x2F;#!&#x2F;guide&#x2F;Maintaining_a_Custom_AndroidManifest.xml">Ti documentation</a></p>
<p><strong><em>Ensuring Android Shuts Down Apps Cleanly</em></strong></p>
<p><em>The are times when an application needs to be shut down by the platform outside of the application context, such as when the user changes fundamental system settings or lets the app sleep for long periods. Unfortunately, Android&#39;s primitive kill process sometimes leads to a known problem where the app is only partially shut down. The solution for Titanium apps is to set the alwaysRetainTaskState parameter in the AndroidManifest.xml file</em></p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="October 7th 2014, 12:06:39 am">October 7th 2014</span>
								by <span class='authorname'>David Weiss</span><br>
								<a class="icon-bg icon-link" href="question/178174/app-doesnt-resume-after-being-paused-for-long-duration-of-time-on-android#answer-282918" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
