<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Javascript forks automatically / doesn&#39;t wait for a function to return Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Javascript forks automatically / doesn&#39;t wait for a function to return</h1>
		</header>
		<section>
			<p>Hey,</p>
<p>I&#39;m not sure if this is a normal JS behavior, but I noticed that in some cases JS won&#39;t wait for a function to return and just continue to run the script.</p>
<p>This is happening when I use the Facebook API.</p>
<p>Here&#39;s an example:</p>
<pre><code class="hljs"><span class="hljs-string">[[[CODE 1]]</span>]
<span class="hljs-string">[[[FOR loop]]</span>]
Titanium.Facebook.request(<span class="hljs-string">'fql.query'</span>, {query: feedQuery},  <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(r)</span></span>
{
<span class="hljs-string">[[[CODE 2]]</span>]
});
<span class="hljs-string">[[[CODE 3]]</span>]
<span class="hljs-string">[[[END FOR loop]]</span>]
</code></pre><p>So what I&#39;ve noticed is :<br>The app will perform as follows:<br>(1) run Code 1<br>(2) start the FOR loop, and call Facebook.request<br>(3) NOT WAIT for FB to reply and IMMEDIATELY continue to Code 3</p>
<p>Is that normal?</p>
<p>My only work around here is to put CODE 3 inside the FB request.. but I want to know if this is a normal behavior or am I missing something.</p>
<p>Thanks!<br>Idan</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="March 28th 2011, 9:39:05 pm">March 28th 2011</span>
				by <span class='authorname'>Idan Jan</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>facebook</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-205188">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>1) that is normal behavior when using a callback like the facebook function is.<br>2) I would suggest you rethink your approach since your for loop will be firing off multiple facebook requests and chances are it will not work. You need to fire one request, then wait before firing any other</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="March 28th 2011, 11:12:51 pm">March 28th 2011</span>
								by <span class='authorname'>Aaron Saunders</span><br>
								<a class="icon-bg icon-link" href="question/117851/javascript-forks-automatically--doesnt-wait-for-a-function-to-return.html#answer-205188" rel="permalink">permalink</a>
							</div>

							<h5>3 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Thanks!</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 28th 2011, 11:16:50 pm">March 28th 2011</span>
											by <span class='authorname'>Idan Jan</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Re: &lt;&lt;You need to fire one request, then wait before firing any other&gt;&gt; But how do you wait ?</p>
</p>
										<div class="author">
											&mdash; commented <span title="June 13th 2012, 2:10:06 pm">June 13th 2012</span>
											by <span class='authorname'>John Mohan</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>to better explain; you send the GET and it has its callback but how can you wait until the callback is received; if you use a sleep then that delays the callback, right ?</p>
</p>
										<div class="author">
											&mdash; commented <span title="June 14th 2012, 1:46:32 pm">June 14th 2012</span>
											by <span class='authorname'>John Mohan</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
