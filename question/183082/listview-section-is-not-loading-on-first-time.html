<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>listview section is not loading on first time » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>listview section is not loading on first time</h1>
		</header>
		<section>
			<p>Hi all,</p>
<p>i am using the below code to show the contents in list view,</p>
<p>Function : on click of a icon, web service is called and the response from web service is loaded to the list view section, the problem here is on click of first time the list view page is shown with empty and only when we go back and click again , the list is shown in the list view.</p>
<pre><code class="hljs">function loadServices(arr, idToMatch) { 
    Ti.API.info(<span class="hljs-string">'+++++++++View my services myRequestDetails'</span>+ JSON.stringify(arr));
    <span class="hljs-keyword">for</span> (var j = <span class="hljs-number">0</span>; j &lt; arr.length; j++) {

        var lstSection = Ti.UI.createListSection();
        var headerView = Ti.UI.createView({
            <span class="hljs-string">height :</span> <span class="hljs-number">60</span>,
            <span class="hljs-string">width :</span> <span class="hljs-string">"100%"</span>,
            <span class="hljs-string">backgroundColor :</span> <span class="hljs-string">"transparent"</span>,
            <span class="hljs-comment">//lSection : lstSection,</span>
            <span class="hljs-string">isExpanded :</span> <span class="hljs-literal">false</span>,
            <span class="hljs-string">lIndex :</span> j
        });
        lstSection.headerView = headerView;

        var view = Ti.UI.createView({
            <span class="hljs-string">height :</span> <span class="hljs-number">45</span>,
            <span class="hljs-comment">//width : "100%",</span>
            <span class="hljs-string">left :</span> <span class="hljs-number">30</span>,
            <span class="hljs-string">right :</span> <span class="hljs-number">30</span>,
            <span class="hljs-string">top :</span> <span class="hljs-number">0</span>,
            <span class="hljs-comment">//lSection : lstSection,</span>
            <span class="hljs-string">isExpanded :</span> <span class="hljs-literal">false</span>,
            <span class="hljs-string">backgroundImage :</span> Alloy.Globals.path.imgNormalRow,
            <span class="hljs-string">lIndex :</span> j
        });
        headerView.add(view);

        var labelSectionTitle = Ti.UI.createLabel({
            <span class="hljs-string">left :</span> <span class="hljs-number">30</span>,
            <span class="hljs-string">right :</span> <span class="hljs-number">30</span>,
            <span class="hljs-string">backgroundColor :</span> <span class="hljs-string">"transparent"</span>,
            <span class="hljs-string">height :</span> Titanium.UI.SIZE,
            <span class="hljs-string">touchEnabled :</span> <span class="hljs-literal">false</span>,
            <span class="hljs-string">color :</span> Alloy.Globals.path.whiteColor,
            <span class="hljs-string">font :</span> Alloy.Globals.path.font14,
            <span class="hljs-string">text :</span>   arr[j].requestNo,  <span class="hljs-comment">//arr.funerals[j].name,</span>
            <span class="hljs-string">textAlign :</span> Titanium.UI.TEXT_ALIGNMENT_CENTER    
        });
        view.add(labelSectionTitle); 
        Ti.API.info(<span class="hljs-string">'title list'</span>+ arr[j].requestNo);

        var sectionSpace = Ti.UI.createView({
            <span class="hljs-string">height :</span> <span class="hljs-number">10</span>,
            <span class="hljs-string">width :</span> <span class="hljs-string">"100%"</span>,
            <span class="hljs-string">bottom :</span> <span class="hljs-number">0</span>,
            <span class="hljs-string">touchEnabled :</span> <span class="hljs-literal">false</span>,
            <span class="hljs-string">backgroundColor :</span> <span class="hljs-string">"transparent"</span>
        });
        headerView.add(sectionSpace);
        view.sectionSpace = sectionSpace;

        arrSection.push(lstSection);
        <span class="hljs-keyword">if</span> (arr[j].requestNo == idToMatch){
            view.fireEvent(<span class="hljs-string">"click"</span>);    
        }

    }
    <span class="hljs-comment">//alert("test");  &lt;ListItem info:text="Apple" es_info:text="Manzana" pic:image="/apple.png" /&gt;</span>

    $.listviewServices.sections = arrSection;
    <span class="hljs-comment">//Ti.API.info('section count'+ $.listviewServices.sectionCount );</span>
    <span class="hljs-comment">// $.listviewDepartment.sections[0].setItems(arrData);</span>


}
exports.loadServices = loadServices;
</code></pre><pre><code class="hljs"><span class="hljs-tag">&lt;<span class="hljs-title">Alloy</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">View</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"viewMyRequestList"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">ListView</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"listviewServices"</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"listContainerRequest"</span> <span class="hljs-attribute">onItemclick</span>=<span class="hljs-value">"onItemClick"</span>  <span class="hljs-attribute">defaultItemTemplate</span>=<span class="hljs-value">"itemTemplateMyrequestDropdown"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">Templates</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">Require</span> <span class="hljs-attribute">src</span>=<span class="hljs-value">"listTemplate/itemTemplate"</span>/&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">ItemTemplate</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"itemButton"</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"itemButton"</span>  &gt;</span>
                  <span class="hljs-tag">&lt;<span class="hljs-title">View</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"viewItemBtn"</span> &gt;</span>
                   <span class="hljs-tag">&lt;<span class="hljs-title">Button</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"btnActionMyRequest"</span> <span class="hljs-attribute">bindId</span>=<span class="hljs-value">"btnActionMyRequest"</span>  <span class="hljs-attribute">onClick</span>=<span class="hljs-value">"onActionRequest"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">Button</span>&gt;</span>    
                  <span class="hljs-tag">&lt;/<span class="hljs-title">View</span>&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-title">ItemTemplate</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-title">Templates</span>&gt;</span>
            <span class="hljs-comment">&lt;!-- &lt;ListSection id="listsection"/&gt; --&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">ListView</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">View</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">Alloy</span>&gt;</span>
</code></pre><pre><code class="hljs"><span class="hljs-tag">&lt;<span class="hljs-title">ItemTemplate</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"itemTemplateMyrequestDropdown"</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"itemTemplateMyrequestDropdown"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">View</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"viewMyrequestRow"</span> <span class="hljs-attribute">bindId</span>=<span class="hljs-value">"viewMyrequestRow"</span> <span class="hljs-attribute">layout</span>=<span class="hljs-value">"vertical"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">Label</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"labelMyRequestTitle"</span> <span class="hljs-attribute">bindId</span>=<span class="hljs-value">"labelMyRequestTitle"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">Label</span>&gt;</span>

        <span class="hljs-tag">&lt;/<span class="hljs-title">View</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">ItemTemplate</span>&gt;</span>
</code></pre><pre><code class="hljs">
"<span class="hljs-class">.listContainerRequest</span>":<span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">top </span>:<span class="hljs-value"> <span class="hljs-number">0</span>, 
    bottom : <span class="hljs-number">0</span>,
    width : <span class="hljs-string">"100%"</span>,
    //separatorHeight :<span class="hljs-number">0</span>,
    separatorColor : <span class="hljs-string">"transparent"</span>,
    backgroundColor : <span class="hljs-string">"transparent"</span>
</span></span></span>}
"<span class="hljs-class">.listContainerRequest</span><span class="hljs-attr_selector">[platform=android]</span>": <span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">separatorHeight </span>:<span class="hljs-value"><span class="hljs-number">0</span>
</span></span></span>}
"<span class="hljs-class">.listContainerRequest</span><span class="hljs-attr_selector">[platform=ios]</span>": <span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">separatorStyle</span>:<span class="hljs-value"> Titanium.UI.iPhone.ListViewSeparatorStyle.NONE,
</span></span></span>}

"<span class="hljs-id">#itemTemplateMyrequestDropdown</span>":<span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">height</span>:<span class="hljs-value"> <span class="hljs-number">40</span>,
    left : <span class="hljs-number">0</span>,
    right : <span class="hljs-number">0</span>,
    backgroundColor: <span class="hljs-string">"#80FFFFFF"</span>
</span></span></span>}

"<span class="hljs-id">#itemTemplateMyrequestDropdown</span><span class="hljs-attr_selector">[platform=ios]</span>":<span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">selectionStyle</span>:<span class="hljs-value"> <span class="hljs-number">0</span>
</span></span></span>}

"<span class="hljs-id">#viewMyrequestRow</span>":<span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">height </span>:<span class="hljs-value"> <span class="hljs-number">40</span>,
    width : <span class="hljs-string">"100%"</span>,

    backgroundColor : <span class="hljs-string">"#80FFFFFF"</span>
</span></span></span>}
"<span class="hljs-id">#btnActionMyRequest</span>": <span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">width </span>:<span class="hljs-value"> <span class="hljs-string">"48%"</span>,
    height : <span class="hljs-number">40</span>,
    borderRadius : <span class="hljs-number">5</span>,
    title : Alloy.Globals.selectedLanguage.submit,
    // backgroundColor : Alloy.Globals.path.titleRedColor,
    backgroundImage : Alloy.Globals.path.btnRed,
    color : Alloy.Globals.path.whiteColor,
    font : Alloy.Globals.path.font15,    
</span></span></span>}

"<span class="hljs-id">#labelMyRequestTitle</span>":<span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">top </span>:<span class="hljs-value"> <span class="hljs-number">0</span>,
    bottom : <span class="hljs-number">0</span>,
    left : <span class="hljs-number">10</span>,
    right : <span class="hljs-number">10</span>,
    font : Alloy.Globals.path.font15,
    color : Alloy.Globals.path.blackColor,
    textAlign : Titanium.UI.TEXT_ALIGNMENT_LEFT    
</span></span></span>}
</code></pre>
		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="August 30th 2015, 3:43:46 pm">August 30th 2015</span>
				by <span class='authorname'>Bruno mars</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>listview</span></li>
					
				</ul>
			

			<section>
				<h5>4 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>What version if the sdk are u uaing? There is a problem with 4.0 or 4.1 (or maybe both), can&#39;t remember… The issue is blank listview riws aometimes… So, could be that. </p>
<p>Ray</p>
</div>
							<div class="author">
								&mdash; commented <span title="August 30th 2015, 10:40:29 pm">August 30th 2015</span>
								by <span class='authorname'>Ray Belisle</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>HI ray ,</p>
<p>The SDk version is 4.1.0</p>
</div>
							<div class="author">
								&mdash; commented <span title="August 31st 2015, 3:24:12 am">August 31st 2015</span>
								by <span class='authorname'>Bruno mars</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>This is a known bug which is already fixed in 4.1.1<br><a href="https:&#x2F;&#x2F;jira.appcelerator.org&#x2F;browse&#x2F;TIMOB-19209">https:&#x2F;&#x2F;jira.appcelerator.org&#x2F;browse&#x2F;TIMOB-19209</a></p>
</div>
							<div class="author">
								&mdash; commented <span title="August 31st 2015, 6:53:58 am">August 31st 2015</span>
								by <span class='authorname'>Levani Melikishvili</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>hey Levani,</p>
<p>What is the solution for this bug,</p>
<p>and for me the whole list data is not displayed on first time, it  is not like only some rows are empty.</p>
</div>
							<div class="author">
								&mdash; commented <span title="August 31st 2015, 8:19:28 am">August 31st 2015</span>
								by <span class='authorname'>Bruno mars</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>0</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>0 Answers</h3>

	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
