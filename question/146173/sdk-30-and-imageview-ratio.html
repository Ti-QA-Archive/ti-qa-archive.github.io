<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>SDK 3.0 and ImageView Ratio » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>SDK 3.0 and ImageView Ratio</h1>
		</header>
		<section>
			<p>Hi,<br>this code works fine in 2.X and the imageView keep aspect ratio</p>
<pre><code class="hljs">var <span class="hljs-built_in">image</span> = Ti.UI.createImageView({
            <span class="hljs-built_in">image</span> : imageFile,
            <span class="hljs-variable">width</span> : thumbsize,
            <span class="hljs-variable">height</span> : thumbsize,
            top : <span class="hljs-number">14</span>,
            borderRadius : <span class="hljs-number">5</span>,
            hires: (Ti.Platform.displayCaps.density == <span class="hljs-string">'high'</span>) ? <span class="hljs-keyword">true</span> : <span class="hljs-keyword">false</span>
        });

container.<span class="hljs-built_in">add</span>(<span class="hljs-built_in">image</span>);
</code></pre><p>but in 3.0, the image is square and stretched to fit the size.</p>
<p>Any idea ?</p>
<p>Regards</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="December 26th 2012, 12:27:00 pm">December 26th 2012</span>
				by <span class='authorname'>Armindo Da Silva</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>imageview</span></li>
					
						<li><span class='tagname'>ratio</span></li>
					
						<li><span class='tagname'>sdk 3.0</span></li>
					
				</ul>
			

			<section>
				<h5>3 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Please provide your Titanium SDK version and primary target platform; iOS or Android.</p>
</div>
							<div class="author">
								&mdash; commented <span title="December 26th 2012, 8:36:45 pm">December 26th 2012</span>
								by <span class='authorname'>Malcolm Hollingsworth</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Same happens with the default image, one which is displayed before the real image is loaded.</p>
</div>
							<div class="author">
								&mdash; commented <span title="December 26th 2012, 8:41:00 pm">December 26th 2012</span>
								by <span class='authorname'>Danny Pham</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>SDK 3.0 GA iPad.</p>
</div>
							<div class="author">
								&mdash; commented <span title="December 27th 2012, 5:32:22 pm">December 27th 2012</span>
								by <span class='authorname'>Armindo Da Silva</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-253453">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>Hi</p>
<p>You are using the property <strong>hires</strong> which is iOS only and ONLY applicable if you are targeting remote files rather than local ones.</p>
<ul>
<li>Can you supply the <strong>thumbsize</strong> value you are using for the image dimensions and confirm what the actual dimensions are (WxH)?</li>
<li>Also is the <strong>imageFile</strong> variable pointing to a local file (on the device) or a remote location (http&#x2F;https)?</li>
</ul>
<p>If you are targeting iOS and the images are local, then the file handling for high and low resolution is handled automatically, as long as you have provided images in this format <strong>image1.png</strong> &amp; <strong>image1@2x.png</strong>.  If you are using remote files you can ignore this paragraph but at this point I do not have that information.</p>
<p>If you are targeting Android and your images are local then you should be managing images using density folders.</p>
<p>Provide the above details and I will try and solve your issue.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="December 26th 2012, 8:42:13 pm">December 26th 2012</span>
								by <span class='authorname'>Malcolm Hollingsworth</span><br>
								<a class="icon-bg icon-link" href="question/146173/sdk-30-and-imageview-ratio#answer-253453" rel="permalink">permalink</a>
							</div>

							<h5>8 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>I&#39;m using local files but they are doqnloaded (and stored locally) but they don&#39;t have the @2x.<br>so the max Width or Max Height of the picture is 236.<br>I&#39;m using 118 pixels as thumb size.<br>Regards</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 27th 2012, 5:35:31 pm">December 27th 2012</span>
											by <span class='authorname'>Armindo Da Silva</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>OK Strange but true.</p>
<p>I have never used the same width and height values when the image did not have those same width and heights - so I was not aware than 2.x scales the image.</p>
<p>I have tested your code in 2.1.4 and 3.0.0 and I also get the same results as you.</p>
<ul>
<li>2.1.4 Correct aspect (automatically applied) despite provided width and height</li>
<li>3.0.0 Squared aspect - same as the width and height provided</li>
</ul>
<p>You will need to determine the height dynamically and tweak the offset to centre the image.</p>
<p>Small price to pay for the rest of the 3.0.0 benefits :)</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 27th 2012, 7:37:28 pm">December 27th 2012</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Well so I will stay on 2.1.4, all my apps are built like this since 1.7 where the picture fill the area keeping the aspect ratio in imageViews, changing this affect a lot of lines of code, and size of picture is not known. adding algorithm to know each time the size of picture will be time consuming….</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 28th 2012, 9:40:12 am">December 28th 2012</span>
											by <span class='authorname'>Armindo Da Silva</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Did this answer your question?  If so remember to mark it so others can benefit.</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 28th 2012, 10:01:36 am">December 28th 2012</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I have found another problem in 3.0, when you use a background image in a popover, a tableview in this popover hide it :-(</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 28th 2012, 1:07:31 pm">December 28th 2012</span>
											by <span class='authorname'>Armindo Da Silva</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Create a new question with some sample code that will replicate it and I will take a look for you.</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 28th 2012, 1:11:12 pm">December 28th 2012</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Ok will do it. Thanks again.</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 28th 2012, 1:47:25 pm">December 28th 2012</span>
											by <span class='authorname'>Armindo Da Silva</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Hum, for the tableView I was the culprit :-(</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 28th 2012, 2:25:26 pm">December 28th 2012</span>
											by <span class='authorname'>Armindo Da Silva</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
