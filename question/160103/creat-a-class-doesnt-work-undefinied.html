<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Creat a class doesn&#39;t work, undefinied Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Creat a class doesn&#39;t work, undefinied</h1>
		</header>
		<section>
			<p>Hello</p>
<p>I use Titanium CLI version 3.1.2, Titanium SDK version 3.1.3.GA.</p>
<p>I would like to create a class but it doesn&#39;t work. The object is undefined. I have followed these exemples<br>https:&#x2F;&#x2F;wiki.appcelerator.org&#x2F;display&#x2F;guides&#x2F;CommonJS+Modules+in+Titanium#CommonJSModulesinTitanium-InstantiableObjects<br>https:&#x2F;&#x2F;wiki.appcelerator.org&#x2F;display&#x2F;guides&#x2F;Mobile+Best+Practices</p>
<p>And I can&#39;t print don.firstName.</p>
<p>My code :</p>
<p>&#x2F;controllers&#x2F;index.js</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> Person = <span class="hljs-built_in">require</span>(<span class="hljs-string">'Person'</span>);
<span class="hljs-keyword">var</span> don = <span class="hljs-keyword">new</span> Person(<span class="hljs-string">'Don'</span>,<span class="hljs-string">'Thorp'</span>);
<span class="hljs-keyword">var</span> donsName = don.fullName(); <span class="hljs-comment">// "Don Thorp</span>

$.index.open();
</code></pre><p>&#x2F;controllers&#x2F;Person.js</p>
<pre><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Person</span>(<span class="hljs-params">firstName,lastName</span>) </span>{
    <span class="hljs-keyword">this</span>.firstName = firstName;
    <span class="hljs-keyword">this</span>.lastName = lastName;
}

Person.prototype.fullName = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.firstName+<span class="hljs-string">' '</span>+<span class="hljs-keyword">this</span>.lastName;
};

<span class="hljs-built_in">module</span>.exports = Person;
</code></pre><p>The error is :<br>E&#x2F;V8Exception( 1471): Exception occurred at alloy&#x2F;controllers&#x2F;index.js:29: Uncaught TypeError: Object #&lt;Controller&gt; has no method &#39;fullName&#39;</p>
<p>What is wrong ?<br>Thank you</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="December 4th 2013, 9:29:12 am">December 4th 2013</span>
				by <span class='authorname'>Nicolas aaaaa</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
				</ul>
			

			<section>
				<h5>1 Comment</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>But if I try this, it works!</p>
<pre><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Person</span>(<span class="hljs-params">firstName,lastName</span>) </span>{
    <span class="hljs-keyword">this</span>.firstName = firstName;
    <span class="hljs-keyword">this</span>.lastName = lastName;
}

Person.prototype.fullName = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.firstName+<span class="hljs-string">' '</span>+<span class="hljs-keyword">this</span>.lastName;
};

<span class="hljs-keyword">var</span> don = <span class="hljs-keyword">new</span> Person(<span class="hljs-string">'Don'</span>,<span class="hljs-string">'Thorp'</span>);
<span class="hljs-keyword">var</span> donsName = don.fullName(); <span class="hljs-comment">// "Don Thorp</span>
alert(donsName);

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">doClick</span>(<span class="hljs-params">e</span>) </span>{
}

$.index.open();
</code></pre></div>
							<div class="author">
								&mdash; commented <span title="December 4th 2013, 9:31:25 am">December 4th 2013</span>
								by <span class='authorname'>Nicolas aaaaa</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-272113">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>Person.js is not an Alloy Controller. Move this into the <code>&amp;#x2F;lib</code> directory and your code will work.</p>
<p>Read more about the Alloy directory structure <a href="http:&#x2F;&#x2F;docs.appcelerator.com&#x2F;titanium&#x2F;latest&#x2F;#!&#x2F;guide&#x2F;Alloy_Concepts-section-34636240_AlloyConcepts-ConventionoverConfiguration">here</a></p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="December 4th 2013, 9:32:51 am">December 4th 2013</span>
								by <span class='authorname'>Manuel Lehner</span><br>
								<a class="icon-bg icon-link" href="../../question/160103/creat-a-class-doesnt-work-undefinied.html#answer-272113" rel="permalink">permalink</a>
							</div>

							<h5>5 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>+1</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 4th 2013, 10:07:44 am">December 4th 2013</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Thank for your answer. I created the lib directory and put the Person.js inside but it doesn&#39;t work. There is still the same error.</p>
<pre><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">module</span>.<span class="hljs-title">exports</span> =</span> Person;
</code></pre><p>What&#39;s the &quot;module&quot; variable ? Do i have to create somewhere ?</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 4th 2013, 11:58:23 am">December 4th 2013</span>
											by <span class='authorname'>Nicolas aaaaa</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>You probably took the code from <a href="http:&#x2F;&#x2F;docs.appcelerator.com&#x2F;titanium&#x2F;latest&#x2F;#!&#x2F;guide&#x2F;CommonJS_Modules_in_Titanium">this guide</a>. As described there, within your CommonJS module file you assign whatever you want to the <strong>module.exports</strong> object to let this return from the require function.</p>
<p>If you still see the <strong>same</strong> error then there still is some non-controller file in the controller directory.</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 4th 2013, 12:17:52 pm">December 4th 2013</span>
											by <span class='authorname'>Manuel Lehner</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I recommend to create new Alloy Controllers with <strong>right click &gt; New &gt; Alloy Controller</strong> or <strong>??C</strong>. Titanium Studio automatically generates the files for View, Controller and Style and puts it in the proper directory. That way you can be sure you meet the Alloy directory structure and naming conventions (<a href="http:&#x2F;&#x2F;docs.appcelerator.com&#x2F;titanium&#x2F;latest&#x2F;#!&#x2F;guide&#x2F;Alloy_Concepts-section-34636240_AlloyConcepts-ConventionoverConfiguration">here</a>). Don&#39;t put any other file than Alloy Controllers in <strong>app&#x2F;controller</strong>. CommonJS Modules, like your <strong>Person.js</strong>, should got into <strong>app&#x2F;lib</strong></p>
</p>
										<div class="author">
											&mdash; commented <span title="December 4th 2013, 12:27:21 pm">December 4th 2013</span>
											by <span class='authorname'>Manuel Lehner</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>??C should be <strong>Shift + Cmd + C</strong> (it displayed the unicode chars in the preview)</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 4th 2013, 12:29:02 pm">December 4th 2013</span>
											by <span class='authorname'>Manuel Lehner</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-272139">
				
						<section>
							<p>Thank you it works. What I did :</p>
<ul>
<li>Create new project</li>
<li>Create &quot;lib&quot; folder</li>
<li>Create &quot;Person.js&quot; in &quot;lib&quot; and past the code</li>
<li>Past the code into index.js</li>
</ul>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="December 4th 2013, 5:40:10 pm">December 4th 2013</span>
								by <span class='authorname'>Nicolas aaaaa</span><br>
								<a class="icon-bg icon-link" href="../../question/160103/creat-a-class-doesnt-work-undefinied.html#answer-272139" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
