<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>TableViewRow and Custom Row » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>TableViewRow and Custom Row</h1>
		</header>
		<section>
			<p>im trying to add custom row (Lable) with right image to tableViewRow<br>the problem is that lable took space larger than image and when i run the app it looks like there is a 2 rows !!!<br>this is the code .. </p>
<pre><code class="hljs">var rows = [];

var viewRows = Titanium.UI.createTableView({
    <span class="hljs-string">data :</span> rows,
    <span class="hljs-string">right :</span> <span class="hljs-string">'11%'</span>,
    <span class="hljs-string">left :</span> <span class="hljs-string">'11%'</span>,
    <span class="hljs-string">top :</span> <span class="hljs-string">'18%'</span>,
    <span class="hljs-string">bottom :</span> <span class="hljs-string">'39%'</span>,
    <span class="hljs-string">height :</span> <span class="hljs-string">'43%'</span>,
    <span class="hljs-string">borderColor :</span> <span class="hljs-string">'#fff'</span>,
    <span class="hljs-string">backgroundColor :</span> <span class="hljs-string">'#fff'</span>,
    <span class="hljs-string">allowsSelection :</span> <span class="hljs-literal">false</span>,
    <span class="hljs-string">separatorStyle :</span> <span class="hljs-number">0</span>,
    <span class="hljs-string">scrollable :</span> <span class="hljs-literal">false</span>

});

myPage.add(viewRows);

function addSubTitle(title) {
    var subTitle = articleXmlDoc.getElementsByTagName(title);

    var rowText = Titanium.UI.createLabel({
        <span class="hljs-string">text :</span> subTitle.item(<span class="hljs-number">0</span>).text,
        <span class="hljs-string">font :</span> {
            <span class="hljs-string">fontSize :</span> <span class="hljs-number">10</span>,
            <span class="hljs-string">fontWeight :</span> <span class="hljs-string">'bold'</span>
        },
        <span class="hljs-string">textAlign :</span> <span class="hljs-string">'right'</span>,
        <span class="hljs-string">right :</span> <span class="hljs-string">'9%'</span>,
        <span class="hljs-string">top :</span> <span class="hljs-string">'0%'</span>,
        <span class="hljs-string">borderRadius :</span> <span class="hljs-string">'0%'</span>

    });

    var rowImage = Titanium.UI.createImageView({
        <span class="hljs-string">image :</span> <span class="hljs-string">'../images/articles/'</span> + article + <span class="hljs-string">'STIcon.png'</span>,
        <span class="hljs-string">right :</span> <span class="hljs-string">'0%'</span>,
        <span class="hljs-string">top :</span> <span class="hljs-string">'0%'</span>
    });

    var row = Titanium.UI.createTableViewRow({
        <span class="hljs-string">layout :</span> <span class="hljs-string">'horizantol'</span>,
        <span class="hljs-comment">//rightImage : '../images/articles/' + article + 'STIcon.png',</span>
        <span class="hljs-string">borderColor :</span> <span class="hljs-string">'#fff'</span>,
        <span class="hljs-string">className :</span> <span class="hljs-string">'subTitle'</span>
    });

    row.add(rowImage);
    row.add(rowText);
    rows.push(row);
}
</code></pre>
		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="November 17th 2012, 2:50:38 pm">November 17th 2012</span>
				by <span class='authorname'>Khaled Kofahi</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>appcelerator</span></li>
					
						<li><span class='tagname'>custom</span></li>
					
						<li><span class='tagname'>label</span></li>
					
						<li><span class='tagname'>tableview</span></li>
					
						<li><span class='tagname'>tableviewrow</span></li>
					
				</ul>
			

			<section>
				<h5>1 Comment</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>hey again :D<br>i changed my code to something standard without -% and i still have the problem BUT this time i found the problem :D it was in \n<br>when i get a text from xml its have more than one \n in the beginning and end … solution here </p>
<pre><code class="hljs">function addSubTitle(title, contentNumber) {
    var subTitle = articleXmlDoc.getElementsByTagName(title);
    var whiteSpace = subTitle.item(<span class="hljs-number">0</span>).text;
    whiteSpace = whiteSpace.replace(<span class="hljs-string">'\n'</span>, <span class="hljs-string">''</span>);
    var rowText = Titanium.UI.createLabel({
        <span class="hljs-string">text :</span> <span class="hljs-string">'      '</span> + whiteSpace,
        <span class="hljs-string">font :</span> {
            <span class="hljs-string">fontSize :</span> <span class="hljs-number">15</span>,
            <span class="hljs-string">fontWeight :</span> <span class="hljs-string">'bold'</span>
        },
        <span class="hljs-string">textAlign :</span> <span class="hljs-string">'right'</span>,
        <span class="hljs-string">right :</span> <span class="hljs-string">'1%'</span>,
        <span class="hljs-string">top :</span> <span class="hljs-string">'0%'</span>,
        <span class="hljs-string">layout :</span> <span class="hljs-string">'absolute'</span>

    });

    var rowImage = Titanium.UI.createImageView({
        <span class="hljs-string">image :</span> <span class="hljs-string">'../images/articles/'</span> + article + <span class="hljs-string">'STIcon.png'</span>,
        <span class="hljs-string">top :</span> <span class="hljs-number">3</span>,
        <span class="hljs-string">right :</span> <span class="hljs-number">0</span>,

    });

    var row = Titanium.UI.createTableViewRow({
        <span class="hljs-string">layout :</span> <span class="hljs-string">'vertical'</span>,
        <span class="hljs-comment">//rightImage : '../images/articles/' + article + 'STIcon.png',</span>
        <span class="hljs-string">borderColor :</span> <span class="hljs-string">'#fff'</span>,
        <span class="hljs-string">className :</span> <span class="hljs-string">'subTitle'</span>,
        <span class="hljs-string">selectionStyle :</span> <span class="hljs-number">0</span>
    });

    rowText.add(rowImage);
    row.add(rowText);
    row.data = article + contentNumber;
    row.rowType = title;
    rows.push(row);
}
</code></pre></div>
							<div class="author">
								&mdash; commented <span title="November 20th 2012, 1:02:19 pm">November 20th 2012</span>
								by <span class='authorname'>Khaled Kofahi</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-251251">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>Hi Khaled</p>
<p>There is a typo that is most likely causing the problem.</p>
<pre><code class="hljs">    var row = <span class="hljs-constant">Titanium.UI.</span>createTableViewRow({
        layout <span class="hljs-symbol">:</span> <span class="hljs-string">'horizantol'</span>,  <span class="hljs-regexp">//error</span>
        /<span class="hljs-regexp">/rightImage : '../images</span><span class="hljs-regexp">/articles/</span><span class="hljs-string">' + article + '</span><span class="hljs-constant">STIcon.</span>png<span class="hljs-string">',
        borderColor : '</span><span class="hljs-comment">#fff',</span>
        className <span class="hljs-symbol">:</span> <span class="hljs-string">'subTitle'</span>
    });
</code></pre><p>Change to</p>
<pre><code class="hljs"><span class="hljs-attribute">...</span>
    layout : <span class="hljs-string">'horizontal'</span>,
<span class="hljs-attribute">...</span>
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="November 17th 2012, 3:01:12 pm">November 17th 2012</span>
								by <span class='authorname'>Malcolm Hollingsworth</span><br>
								<a class="icon-bg icon-link" href="question/144811/tableviewrow-and-custom-row.html#answer-251251" rel="permalink">permalink</a>
							</div>

							<h5>6 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Thanks Malcolm ..<br>when i change it to correct spelling horizontal effect appear and the status went worst :P<br>didnt work too :(<br>there is still a white space between image and text</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 17th 2012, 3:06:46 pm">November 17th 2012</span>
											by <span class='authorname'>Khaled Kofahi</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I am testing your code right now in a test app, hold fire - I will be back shortly.</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 17th 2012, 3:11:31 pm">November 17th 2012</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>i found  a partial solution its work but i think may will occur a problem when its come to real device </p>
<pre><code class="hljs">function addSubTitle(title) {
    var subTitle = articleXmlDoc.getElementsByTagName(title);

    var rowText = Titanium.UI.createLabel({
        <span class="hljs-string">text :</span> subTitle.item(<span class="hljs-number">0</span>).text,
        <span class="hljs-string">font :</span> {
            <span class="hljs-string">fontSize :</span> <span class="hljs-number">17</span>,
            <span class="hljs-string">fontWeight :</span> <span class="hljs-string">'bold'</span>
        },
        <span class="hljs-string">textAlign :</span> <span class="hljs-string">'right'</span>,
        <span class="hljs-string">right :</span> <span class="hljs-string">'1%'</span>,
        <span class="hljs-string">top :</span> <span class="hljs-string">'-65%'</span>

    });

    var row = Titanium.UI.createTableViewRow({
        <span class="hljs-string">layout :</span> <span class="hljs-string">'vertical'</span>,
        <span class="hljs-string">rightImage :</span> <span class="hljs-string">'../images/articles/'</span> + article + <span class="hljs-string">'STIcon.png'</span>,
        <span class="hljs-string">borderColor :</span> <span class="hljs-string">'#fff'</span>,
        <span class="hljs-string">className :</span> <span class="hljs-string">'subTitle'</span>
    });

    row.add(rowText);
    rows.push(row);
}
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="November 17th 2012, 3:14:06 pm">November 17th 2012</span>
											by <span class='authorname'>Khaled Kofahi</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Can you confirm you want each row to have;</p>
<ul>
<li>Image on the right</li>
<li>Text caption centred in the row vertically and aligned to the right</li>
<li>small gap between the image and the caption</li>
</ul>
<p>Your use of percentages are not helping you - so can you also explain why the table; top, height and bottom all use them as this makes for a hard road ahead when laying things out.</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 17th 2012, 3:26:41 pm">November 17th 2012</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>first of all ya i wanna do like u explain above<br>about using % for table i need them coz its a sub page inside something bigger and its dynamic so i fit it to space that gives to me by px</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 17th 2012, 3:31:20 pm">November 17th 2012</span>
											by <span class='authorname'>Khaled Kofahi</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Hi</p>
<p>I have simplified your table row code as follows;</p>
<pre><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">addRow</span><span class="hljs-params">(obj)</span> </span>{
    <span class="hljs-keyword">var</span> row = Ti.UI.createTableViewRow({
        backgroundColor: <span class="hljs-string">'orange'</span>,
        borderColor: <span class="hljs-string">'#fff'</span>,
        className: <span class="hljs-string">'subTitle'</span>,
        rightImage: obj.icon,
    });
    <span class="hljs-keyword">var</span> lblSubTitle = Ti.UI.createLabel({
        backgroundColor: <span class="hljs-string">'red'</span>,
        font: {
            fontSize: <span class="hljs-number">17</span>,
            fontWeight: <span class="hljs-string">'bold'</span>
        },
        height: Ti.UI.SIZE,
        right: <span class="hljs-number">0</span>,
        text: obj.subtitle,
        textAlign: <span class="hljs-string">'right'</span>,
        width: Ti.UI.SIZE
    });
    row.add(lblSubTitle);

    <span class="hljs-keyword">return</span> row;
}
</code></pre><p>It now returns a row object you can add to your row and you pass it two parameters, example usage;</p>
<pre><code class="hljs">...
<span class="hljs-tag">rows</span><span class="hljs-class">.push</span>(<span class="hljs-tag">addRow</span>(<span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">icon</span>:<span class="hljs-value"> <span class="hljs-string">'../images/articles/'</span> + article + <span class="hljs-string">'STIcon.png'</span>,
    subtitle: articleXmlDoc.<span class="hljs-function">getElementsByTagName</span>(title)
</span></span></span>}));
...
</code></pre><p>Simply add this to whatever loop you are using to add your rows.  The background colours are there only to highlight where things are positioned, take them off when you are ready.</p>
<p>Also consider adding the property <code>minRowHeight</code> to the <code>tableView</code> code.  This sets the minimum height for each row and will make sure your rightImage icon sizes are respected.  Try it with a value of your image height plus 20 as a start. </p>
<p>Like this;</p>
<pre><code class="hljs"><span class="hljs-built_in">var</span> viewRows = Ti<span class="hljs-built_in">.</span>UI<span class="hljs-built_in">.</span>createTableView({
    allowsSelection: <span class="hljs-literal">false</span>,
    backgroundCol<span class="hljs-subst">or</span>: <span class="hljs-string">'yellow'</span>,
    borderCol<span class="hljs-subst">or</span>: <span class="hljs-string">'#fff'</span>,
    bottom: <span class="hljs-string">'39%'</span>,
    <span class="hljs-built_in">data</span>: <span class="hljs-keyword">rows</span>,
    height: <span class="hljs-string">'43%'</span>,
    left: <span class="hljs-string">'11%'</span>,
    minRowHeight: <span class="hljs-number">60</span>,
    right: <span class="hljs-string">'11%'</span>,
    separatorStyle: <span class="hljs-number">0</span>,
    scrollable: <span class="hljs-literal">false</span>,
    top: <span class="hljs-string">'18%'</span> 
});
</code></pre><p>As I am sure you are now learning there are few situations that using % values help.  For example the following simple example would create a tableView with a fixed top height and a fixed bottom height leaving the middle to stretch as required.</p>
<pre><code class="hljs"><span class="hljs-component">var tbl = Ti.UI.createTableView({
    bottom: 100,
    height: Ti<span class="hljs-string">.UI.FILL</span>,
    top: 50,
    width: Ti<span class="hljs-string">.UI.FILL</span>
}</span>);
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="November 17th 2012, 3:53:31 pm">November 17th 2012</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-251252">
				
						<section>
							<ul>
<li>Set imageView top and bottom at 0 pixels.. that will stretch the image to fit the row..</li>
<li>fix the typo mistake Malcolm stated</li>
<li>Also one suggestion, when avoidable, try not to use percentages when adding an object inside another (especially a view inside a row).</li>
</ul>
<p>I hope this helped.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="November 17th 2012, 3:09:02 pm">November 17th 2012</span>
								by <span class='authorname'>Michael Massalas</span><br>
								<a class="icon-bg icon-link" href="question/144811/tableviewrow-and-custom-row.html#answer-251252" rel="permalink">permalink</a>
							</div>

							<h5>5 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>hello Michael .. i face this problem yesterday and im still trying to solve it be sure i try to do what u suggest :( but didnt work </p>
<p>and about % .. i have to use it there is alot of pic and buttons :( </p>
<p>anyway .. i post the solution above could u please advice !!??</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 17th 2012, 3:16:13 pm">November 17th 2012</span>
											by <span class='authorname'>Khaled Kofahi</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>First of all, this line</p>
<pre><code class="hljs"><span class="hljs-string">top :</span> <span class="hljs-string">'-65%'</span>
</code></pre><p>is totally a BAD PRACTICE (using negative percentage)</p>
<p>Also, why did you switch to vertical?</p>
<p>Finally, Since you add your imageView to a Row, you can use pixels and not percentage since it only affects the relevant TOP and BOTTOM. Relevant to the ROW in which you add the imageView.</p>
<p>Think of it as an image inside the row. If you want to place it, you have to give directions that are relevant to its parent view, which in this case, is the ROW.</p>
<p>I hope this solves your problem.</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 17th 2012, 3:31:45 pm">November 17th 2012</span>
											by <span class='authorname'>Michael Massalas</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>thanks very much </p>
<p>i use -65% just for try  but its gave me what i wanna do ..<br>i have to deliver this app by tomorrow morning i&#39;ll think with better solution in v.2 :D<br>and about imageView .. i removed it too :D</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 17th 2012, 3:35:29 pm">November 17th 2012</span>
											by <span class='authorname'>Khaled Kofahi</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Ok. Just try what I am suggesting, I guess this might be the best answer for your question.</p>
<p>Anyway, I hope I helped, even a little bit.</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 17th 2012, 3:38:57 pm">November 17th 2012</span>
											by <span class='authorname'>Michael Massalas</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>You do .. :*</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 17th 2012, 3:40:16 pm">November 17th 2012</span>
											by <span class='authorname'>Khaled Kofahi</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
