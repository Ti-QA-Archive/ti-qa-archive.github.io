<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>How to set rowHeight on a tableView that is dynamically populated? » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>How to set rowHeight on a tableView that is dynamically populated?</h1>
		</header>
		<section>
			<p>I am building an populating a tableView as follows:</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> tableView = Ti.UI.createTableView({  });

...

<span class="hljs-keyword">var</span> dbG= Titanium.Database.<span class="hljs-keyword">open</span>('myDB')
<span class="hljs-keyword">var</span> rows = <span class="hljs-keyword">db</span>.execute('SELECT * FROM <span class="hljs-keyword">table</span> <span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> <span class="hljs-keyword">table</span> row'); 
<span class="hljs-keyword">var</span> dataArray = [];
<span class="hljs-keyword">while</span> (rows.isValidRow())  
    {  
    dataArray.push({... stuff removed <span class="hljs-keyword">for</span> ease of reading <span class="hljs-keyword">in</span> this <span class="hljs-keyword">post</span> ... });  
    rows.next();  
    };  
tableView.setData(dataArray); 
rows.<span class="hljs-keyword">close</span>();
<span class="hljs-keyword">db</span>.<span class="hljs-keyword">close</span>();
</code></pre><p>This works just fine with one small hitch:  Every time this tableView is rendered, I see this warning:</p>
<pre><code class="hljs"><span class="hljs-attr_selector">[WARN]</span> <span class="hljs-attr_selector">[object TiUITableViewRow]</span> has an <span class="hljs-attribute">auto</span> <span class="hljs-attribute">height</span> value of 0, meaning this view may not be <span class="hljs-value">visible</span>.
</code></pre><p>I&#39;ve played around with a few things like this:</p>
<pre><code class="hljs"><span class="hljs-variable"><span class="hljs-keyword">var</span> tableView</span> = Ti.UI.createTableView({ rowHeight: <span class="hljs-number">65</span> });

<span class="hljs-variable"><span class="hljs-keyword">var</span> tableView</span> = Ti.UI.createTableView({ rowHeight: 'auto' });

<span class="hljs-variable"><span class="hljs-keyword">var</span> tableView</span> = Ti.UI.createTableView({ rowHeight: Ti.UI.SIZE});
</code></pre><p>but none of these prevent the [WARN] from being thrown.  What am I doing wrong here?</p>
<p><em>Application type: mobile. Titanium SDK: 2.0.1. Platform &amp; version: iOS 5.x. Device: iOS simulator. Host Operating System: OSX 10.7.3. Titanium Studio: 2.0.1</em></p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="May 5th 2012, 12:50:25 am">May 5th 2012</span>
				by <span class='authorname'>Casey Crookston</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>rowheight</span></li>
					
						<li><span class='tagname'>tableview</span></li>
					
						<li><span class='tagname'>[warn]</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>4</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>4 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-237888">
				
						<section>
							<p>Hi Casey,</p>
<p>Along with setting &#39;rowHeight&#39; in tableView have you set &#39;height&#39; in the tableViewRow?</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="May 5th 2012, 1:03:20 am">May 5th 2012</span>
								by <span class='authorname'>Paul Nelson</span><br>
								<a class="icon-bg icon-link" href="question/136485/how-to-set-rowheight-on-a-tableview-that-is-dynamically-populated#answer-237888" rel="permalink">permalink</a>
							</div>

							<h5>6 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Hey Paul, I never actually create a tableViewRow.  The rows are populated dynamically into an array, and then I populate the table as follows:</p>
<pre><code class="hljs"><span class="hljs-built_in">table</span>View.<span class="hljs-built_in">set</span>Data(dataArray);
</code></pre><p>This works great for just filling up the table, but I can&#39;t seem to make this warning go away</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 5th 2012, 1:07:32 am">May 5th 2012</span>
											by <span class='authorname'>Casey Crookston</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>When you dynamically add tableViewRows you can still set the height for the row.  I would just explicitly say </p>
<pre><code class="hljs">var row = Ti.UI.createTableViewRow({<span class="hljs-string">height:</span><span class="hljs-string">'auto'</span>,<span class="hljs-string">title:</span><span class="hljs-string">'Blah'</span>, etc...});
dataArray.push(row);
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="May 5th 2012, 1:27:37 am">May 5th 2012</span>
											by <span class='authorname'>Paul Nelson</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>How then would you assign this TableViewRow to the tableView?</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 5th 2012, 1:42:45 am">May 5th 2012</span>
											by <span class='authorname'>Casey Crookston</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>To clarify…. in my code above I never create a TableViewRow.  The data is added to an array, and the table view is populated directly from that array.</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 5th 2012, 1:43:57 am">May 5th 2012</span>
											by <span class='authorname'>Casey Crookston</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Ah, ok.  I had to look at your suggestion and then at my code a few times to grasp what you are saying.  I&#39;ll try this and report back.</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 5th 2012, 1:45:53 am">May 5th 2012</span>
											by <span class='authorname'>Casey Crookston</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Modified to look like this:</p>
<pre><code class="hljs"><span class="hljs-keyword">while</span> (<span class="hljs-keyword">rows</span><span class="hljs-built_in">.</span>isValidRow())  
    {  
    <span class="hljs-built_in">var</span> row = Ti<span class="hljs-built_in">.</span>UI<span class="hljs-built_in">.</span>createTableViewRow({height:<span class="hljs-string">'auto'</span>, <span class="hljs-attribute">...</span>});
    dataArray<span class="hljs-built_in">.</span>push(row);
    <span class="hljs-keyword">rows</span><span class="hljs-built_in">.</span>next();  
    };  
tableView<span class="hljs-built_in">.</span>setData(dataArray);
</code></pre><p>Still throws the warning.  However, I think this is a better way of doing it, and I&#39;ll leave it like this for now. </p>
<p>Open to more suggestions….</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 5th 2012, 1:53:00 am">May 5th 2012</span>
											by <span class='authorname'>Casey Crookston</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-237891">
				
						<section>
							<p>I believe this is a 2.0.1 bug, I am having the same issue.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="May 5th 2012, 1:25:52 am">May 5th 2012</span>
								by <span class='authorname'>Andrew Woods</span><br>
								<a class="icon-bg icon-link" href="question/136485/how-to-set-rowheight-on-a-tableview-that-is-dynamically-populated#answer-237891" rel="permalink">permalink</a>
							</div>

							<h5>3 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Oh?  Interesting.  I&#39;m tempted to just ignore it.  Good idea?  Bad idea?</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 5th 2012, 1:27:09 am">May 5th 2012</span>
											by <span class='authorname'>Casey Crookston</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>You can always ignore the warnings.  I ignore a couple here and there :)</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 5th 2012, 1:28:06 am">May 5th 2012</span>
											by <span class='authorname'>Paul Nelson</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>In my case, I just don&#39;t mind heading back to 1.8.2 just to get away from the HUGE amount of console errors until I see an update. If 1.8.2 isn&#39;t going to work for you, you may just have to deal with the junked-up console for a little while :(</p>
<p>If someone has a solution to the issue though, I would LOVE to hear it!</p>
<p>I even tried creating individual rows in my <code>while (rows.isValidRow())</code> statement with a set height, and that didn&#39;t fix it either.</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 5th 2012, 1:29:36 am">May 5th 2012</span>
											by <span class='authorname'>Andrew Woods</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-237893">
				
						<section>
							<p>Hi Casey,</p>
<p>Try this code that may help you.</p>
<pre><code class="hljs">var data = [];
    <span class="hljs-keyword">for</span> (var i=<span class="hljs-number">0</span>;i&lt;<span class="hljs-number">20</span>;i++) {
        var rowView = Ti.UI.createTableViewRow();
        var <span class="hljs-variable">height</span> = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">for</span> (var j=<span class="hljs-number">0</span>;j&lt;<span class="hljs-number">3</span>;j++) {
            var label = Ti.UI.createLabel({
                <span class="hljs-built_in">text</span>:<span class="hljs-string">"Row i"</span> + i + <span class="hljs-string">"j"</span> + j,
                <span class="hljs-variable">height</span>:<span class="hljs-string">'auto'</span>,
                <span class="hljs-variable">width</span>:defaultWidth,
                top:<span class="hljs-number">5</span> + <span class="hljs-variable">height</span>,
                left:<span class="hljs-number">5</span>
            });
            <span class="hljs-variable">height</span> += label.<span class="hljs-built_in">size</span>.<span class="hljs-variable">height</span> + <span class="hljs-number">5</span>;
            rowView.<span class="hljs-built_in">add</span>(label);
        }
        rowView.<span class="hljs-variable">height</span> = <span class="hljs-variable">height</span>;
        data.push(rowView);
    }
    tableView.setData(data);
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="May 5th 2012, 3:12:10 am">May 5th 2012</span>
								by <span class='authorname'>Nitin Chavda</span><br>
								<a class="icon-bg icon-link" href="question/136485/how-to-set-rowheight-on-a-tableview-that-is-dynamically-populated#answer-237893" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>when using tableView.appendRow(data); Seems doesn&#39;t work</p>
</p>
										<div class="author">
											&mdash; commented <span title="October 15th 2012, 11:37:28 am">October 15th 2012</span>
											by <span class='authorname'>hesling zhang</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-237897">
				
						<section>
							<p>You can ignore this, this warning throws while the rows are not yet rendered. This is due to change of the Layout stuff. The correct height will be avaible after rendering.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="May 5th 2012, 7:17:28 am">May 5th 2012</span>
								by <span class='authorname'>Alexander Bauer</span><br>
								<a class="icon-bg icon-link" href="question/136485/how-to-set-rowheight-on-a-tableview-that-is-dynamically-populated#answer-237897" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
