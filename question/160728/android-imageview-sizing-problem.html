<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Android ImageView Sizing Problem Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Android ImageView Sizing Problem</h1>
		</header>
		<section>
			<p>Hi,</p>
<p>I have an Android app that display an image by specifying the height of the image view (so that the length will autosize). This works fine on SDK 3.1.3GA. But when the same app is run in 3.2.0GA the ImageView no longer autosizes. It behaves as though the width is set to Ti.UI.FILL and then positions the image in the middle.</p>
<p>I have created a very simple example by generating a new Alloy app and just adding the image to the index.xml (see below).</p>
<pre><code class="hljs"><span class="hljs-tag">&lt;<span class="hljs-title">Alloy</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">Window</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"container"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">ImageView</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"stars"</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">Window</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">Alloy</span>&gt;</span>
</code></pre><p>The associated tss entry is</p>
<pre><code class="hljs">"<span class="hljs-class">.stars</span>":<span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">image</span>:<span class="hljs-value"> <span class="hljs-string">'/images/stars40.png'</span>,
    height: <span class="hljs-string">'13dp'</span>,
    backgroundColor: <span class="hljs-string">'pink'</span>
</span></span></span>}
</code></pre><p>The actual image dimensions are 71x13, the background is only set to pink to highlight the problem.</p>
<p>If run under 3.1.3GA it works as I would expect on both iOS and Android (the pink background only showing around the image which is centred), but in 3.2.0GA on Android although the image is still centred the pink background stretches the full width of the window..</p>
<p>Is this a problem with 3.2.0GA  or is this a change that was meant. It does cause a problem as the app assumes that images are height specified only s that keep there aspect ratio, and although this is still the case the ImageView now auto fills the parent which causes layout problems elsewhere.<br>I have run this code on both the Android Emulator, Genymotion emulator and on device and the results are the same when compiled with 3.2.0</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="December 22nd 2013, 1:15:31 pm">December 22nd 2013</span>
				by <span class='authorname'>Steve Rogers</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>3.2.0 ga</span></li>
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>imageview</span></li>
					
						<li><span class='tagname'>problem</span></li>
					
						<li><span class='tagname'>sizing</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-272916">
				
						<section>
							<p>Hi,</p>
<p>try to set width also..</p>
<pre><code class="hljs">"<span class="hljs-class">.stars</span>":<span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">image</span>:<span class="hljs-value"> <span class="hljs-string">'/images/stars40.png'</span>,
    width : Ti.UI.SIZE,//or any constant value
    height: <span class="hljs-string">'13dp'</span>,
    backgroundColor: <span class="hljs-string">'pink'</span>
</span></span></span>}
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="December 23rd 2013, 8:41:10 am">December 23rd 2013</span>
								by <span class='authorname'>Mitul Bhalia</span><br>
								<a class="icon-bg icon-link" href="question/160728/android-imageview-sizing-problem#answer-272916" rel="permalink">permalink</a>
							</div>

							<h5>4 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>I already tried this , but it takes no notice of the Ti.UI.SIZE</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 23rd 2013, 8:43:29 am">December 23rd 2013</span>
											by <span class='authorname'>Steve Rogers</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>ok but if you set any constant then can you see that image?</p>
<p>and also be sure that this image available.</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 23rd 2013, 8:51:50 am">December 23rd 2013</span>
											by <span class='authorname'>Mitul Bhalia</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I immediately hit this issue with an image positioned in a listView where within the childTemplate it&#39;s height it set to 80% and it&#39;s &#39;right&#39; property to 8dp. In Ti 3.1.3 this is honoured and the image appears at the right of its row. But with Ti 3.2 the image is centred! Adding a temporary border shows the image has a bounding box which fills it&#39;s parent view. Setting the image height to 100% corrects the issue, but at the expense of the image now needing to be resized in Photoshop.</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 25th 2013, 7:42:12 am">December 25th 2013</span>
											by <span class='authorname'>Patrick Mounteney</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Hi Mitul,</p>
<p>yes the image is available and displays (as shown in the original example), it basically seems to take not notice of the Ti.UI.SIZE , if a width is set (i..e &quot;71dp&quot; ) it display as it should, but it will not autosize at it did in 3.1.3 and on 3.2.0 in iOS.</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 25th 2013, 9:49:53 am">December 25th 2013</span>
											by <span class='authorname'>Steve Rogers</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
