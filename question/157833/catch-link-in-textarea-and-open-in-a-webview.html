<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Catch link in textarea and open in a webview » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Catch link in textarea and open in a webview</h1>
		</header>
		<section>
			<p>Hello all</p>
<p>I tried to retrive tweet from Twitter using the Twitter API.</p>
<p>I created a tablewiew with custom row. In the custum row, there&#39;s a textarea with link.<br>I use the AUTOLINK_ALL properties to be able to click the link.</p>
<p>But when I click on the link, the URL is opened in safari. I would prefer to open it in a webview.</p>
<p>I tried to catch the textarea event but it does not seems to work.</p>
<p>Here&#39;s the code I have :</p>
<p>(I use iOS)</p>
<pre><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">showTweets</span><span class="hljs-params">(allData)</span></span>{
    <span class="hljs-comment">// create table view data object</span>
    <span class="hljs-keyword">var</span> data = [];

    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> c=<span class="hljs-number">1</span>;c&lt;allData.statuses.length;c++){

        <span class="hljs-keyword">var</span> tweet = allData.statuses[c].text;
        <span class="hljs-keyword">var</span> row = Ti.UI.createTableViewRow({height:<span class="hljs-string">'auto'</span>,backgroundColor:<span class="hljs-string">'white'</span>});


        <span class="hljs-comment">// Create a vertical layout view to hold all the info labels and images for each tweet</span>
        <span class="hljs-keyword">var</span> post_view = Ti.UI.createView({
            height:<span class="hljs-number">115</span>,
            layout:<span class="hljs-string">'vertical'</span>,
            left:<span class="hljs-number">5</span>,
            top:<span class="hljs-number">5</span>,
            bottom:<span class="hljs-number">5</span>,
            right:<span class="hljs-number">5</span>
        });

        <span class="hljs-keyword">var</span> tweet_text = Ti.UI.createTextArea({
            value:tweet,  <span class="hljs-comment">// The tweet with one or more links sometimes</span>
            backgroundColor:<span class="hljs-string">'transparent'</span>,
            editable:<span class="hljs-keyword">false</span>,
            left:<span class="hljs-number">54</span>,
            top:<span class="hljs-number">0</span>,
            bottom:<span class="hljs-number">2</span>,
            height:<span class="hljs-string">'auto'</span>,
            width:<span class="hljs-number">236</span>,
            textAlign:<span class="hljs-string">'left'</span>,
            font:{fontSize:<span class="hljs-number">14</span>},
            autoLink: Ti.UI.AUTODETECT_LINK   :/ to detect there<span class="hljs-string">'s a link
        });



/*
// Open link
        tweet_text.addEventListener('</span>click<span class="hljs-string">',function(e){
            var v = tweet_text.text;

            alert(v);
            if(v.indexOf('</span>http<span class="hljs-string">') != -1){
                // open new window with webview
                var tubeWindow = Ti.UI.createWindow({ 
                    modal: true,
                    barColor: '</span><span class="hljs-comment">#050505',</span>
                    backgroundColor: <span class="hljs-string">'#050505'</span> 
                }); 
                <span class="hljs-keyword">var</span> linkview = Ti.UI.createWebView({
                    url: v,
                    barColor: <span class="hljs-string">'#050505'</span>,
                    backgroundColor: <span class="hljs-string">'#050505'</span>              
                });
                <span class="hljs-comment">// Create a button to close the modal window</span>
                <span class="hljs-keyword">var</span> close_modal = Titanium.UI.createButton({title:<span class="hljs-string">'Fermer'</span>});
                tubeWindow.rightNavButton = close_modal;

            <span class="hljs-comment">// Handle close_modal event</span>
                close_modal.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
                    tubeWindow.close();
                });
                tubeWindow.add(linkview);
                tubeWindow.open({
                     modalTransitionStyle: Ti.UI.iPhone.MODAL_TRANSITION_STYLE_FLIP_HORIZONTAL,
                });
            }  
        });
*/    




        <span class="hljs-comment">// Add the tweet to the view</span>
        post_view.add(tweet_text);
        <span class="hljs-comment">// Add the vertical layout view to the row</span>
        row.add(post_view);
        row.className = <span class="hljs-string">'item'</span>+c;
        data[c] = row;
    }

    <span class="hljs-comment">// Create the tableView and add it to the window.</span>
    <span class="hljs-keyword">var</span> tableview = Titanium.UI.createTableView({top:<span class="hljs-number">50</span>,data:data});

    win.add(tableview);

}
</code></pre><p>The link is clickable but when I click it it&#39;s open in Safari. It seems I cannot catch the click event to take the URL and then open it in a webview.</p>
<p>Thanks</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="September 29th 2013, 8:33:02 pm">September 29th 2013</span>
				by <span class='authorname'>Franck Neuer</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>catch</span></li>
					
						<li><span class='tagname'>iphone</span></li>
					
						<li><span class='tagname'>link</span></li>
					
						<li><span class='tagname'>textarea</span></li>
					
						<li><span class='tagname'>webview</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-269377">
				
						<section>
							<p>Yes. You can&#39;t catch the click event of that. </p>
<p>Better you can parse the text yourself and find links. In table row use view with horizontal layout. Put normal text and url in separate label with correspondent styles. On click of label get url and open in web view.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="September 30th 2013, 4:43:58 am">September 30th 2013</span>
								by <span class='authorname'>Manoj Kumar M</span><br>
								<a class="icon-bg icon-link" href="question/157833/catch-link-in-textarea-and-open-in-a-webview#answer-269377" rel="permalink">permalink</a>
							</div>

							<h5>2 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>I will try, just strange that I cannot catch event because it&#39;s the way Twitter app works</p>
</p>
										<div class="author">
											&mdash; commented <span title="October 1st 2013, 7:29:18 pm">October 1st 2013</span>
											by <span class='authorname'>Franck Neuer</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Hello Manoj, do you have a sample to show me how to do what you told me ?</p>
<p>Thanks</p>
</p>
										<div class="author">
											&mdash; commented <span title="October 1st 2013, 7:35:04 pm">October 1st 2013</span>
											by <span class='authorname'>Franck Neuer</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
