<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Any Android module devs out there want to help me solve a problem? (That everyone could benefit from) » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Any Android module devs out there want to help me solve a problem? (That everyone could benefit from)</h1>
		</header>
		<section>
			<p>Hello,<br>I need help. </p>
<p>You might have seen the demo on the Dev Blog a while ago showing how to use Activity Intents to record audio on Android.  (Yes, yes, I know about the Codeboxed module.. that&#39;s not the point ;) ) </p>
<p>Here&#39;s  the post:<br><a href="http:&#x2F;&#x2F;developer.appcelerator.com&#x2F;blog&#x2F;2011&#x2F;02&#x2F;launching-activities-and-using-content-uris-in-android.html&#x2F;comment-page-1#comment-67235">http:&#x2F;&#x2F;developer.appcelerator.com&#x2F;blog&#x2F;2011&#x2F;02&#x2F;launching-activities-and-using-content-uris-in-android.html&#x2F;comment-page-1#comment-67235</a></p>
<p>The issue I have with the demo is that the recorder returns a &#39;contentUri&#39; to the recorded file. This is actually a reference to the file which is stored in the internal database in the device. This, as you may discover, is pretty useless when it comes to wanting to upload it or save it somewhere, for exmaple, since Ti.Filesystem just can&#39;t get a handle on it. </p>
<p>The actual path to the audio in the database is in a field called &quot;_data&quot; as far as I can tell. </p>
<p>So, (as Don Thorpe suggested in the comments on the blog post about this) all we need to do is create a simple module that can query the Media database of the file based on the contentUri and return the full file path. </p>
<p>Now, I&#39;m no Java programmer at all (that&#39;s why we use Titanium right? ;) ) but I know some of you are. I have had a dabble in trying to get this working though, and I&#39;ve made some progress, I think!! </p>
<p>But, it&#39;s not working, and I know I must be missing something obvious (to those of you with a firmer grip on Java and how Titanium&#x2F;Kroll uses it)</p>
<p>Here&#39;s a link to a Gist to see the java code I&#39;m come up with so far, and also the javascript I&#39;m using to call it. </p>
<p><a href="https:&#x2F;&#x2F;gist.github.com&#x2F;1152360">https:&#x2F;&#x2F;gist.github.com&#x2F;1152360</a></p>
<p>Here&#39;s a link to the JavaScript I&#39;m using to test it (based o nthe blog post exmaple)</p>
<p><a href="https:&#x2F;&#x2F;gist.github.com&#x2F;1152362">https:&#x2F;&#x2F;gist.github.com&#x2F;1152362</a></p>
<p>Here&#39;s the error I&#39;m getting : I must be doing some wrong with understanding maybe how proxies work? I don&#39;t know..  ;&#x2F;</p>
<p><a href="https:&#x2F;&#x2F;gist.github.com&#x2F;1152370">https:&#x2F;&#x2F;gist.github.com&#x2F;1152370</a></p>
<p>If anyone could help get this sorted, I think it would help make a great tutorial&#x2F;exmaple on how to go about building these things. From what I&#39;ve learned so far while struggling for the past few days on this, it looks as if a better understanding could really pay dividends when it comes to extending Ti with modules. </p>
<p>Cheers!<br>:)</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="August 17th 2011, 5:22:57 pm">August 17th 2011</span>
				by <span class='authorname'>Kosso</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>contenturi</span></li>
					
						<li><span class='tagname'>modules</span></li>
					
						<li><span class='tagname'>query</span></li>
					
						<li><span class='tagname'>tutorials</span></li>
					
				</ul>
			

			<section>
				<h5>7 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Here&#39;s also a link which helped me get this far.. but not when it comes to making this work with Titanium:</p>
<p><a href="http:&#x2F;&#x2F;www.higherpass.com&#x2F;Android&#x2F;Tutorials&#x2F;Accessing-Data-With-Android-Cursors&#x2F;4&#x2F;">http:&#x2F;&#x2F;www.higherpass.com&#x2F;Android&#x2F;Tutorials&#x2F;Accessing-Data-With-Android-Cursors&#x2F;4&#x2F;</a></p>
</div>
							<div class="author">
								&mdash; commented <span title="August 17th 2011, 5:30:30 pm">August 17th 2011</span>
								by <span class='authorname'>Kosso</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Here&#39;s a nother useful snippet, which looks to make things even easier, but I don&#39;t seems to be able to get it working for Mediastore.Audio.Media.DATA</p>
<p><a href="http:&#x2F;&#x2F;stackoverflow.com&#x2F;questions&#x2F;3401579&#x2F;get-filename-and-path-from-uri-from-mediastore">http:&#x2F;&#x2F;stackoverflow.com&#x2F;questions&#x2F;3401579&#x2F;get-filename-and-path-from-uri-from-mediastore</a></p>
<p>The module build fails on the managedQuery part.</p>
<pre><code class="hljs">: cannot find symbol
    [javac] symbol  : <span class="hljs-function"><span class="hljs-keyword">method</span> <span class="hljs-title">managedQuery</span><span class="hljs-params">(android.net.Uri,java.lang.String[],&lt;nulltype&gt;,&lt;nulltype&gt;,&lt;nulltype&gt;)</span>
    [<span class="hljs-title">javac</span>] <span class="hljs-title">location</span>:</span> <span class="hljs-keyword">class</span> com.kosso.contentquery.ContentqueryModule
    [javac]         Cursor cursor = managedQuery(contentUri, proj, null, null, null);
    [javac]                         ^
    [javac] <span class="hljs-number">1</span> error
</code></pre></div>
							<div class="author">
								&mdash; commented <span title="August 17th 2011, 6:14:33 pm">August 17th 2011</span>
								by <span class='authorname'>Kosso</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>OK.. now I&#39;ve tweeked the Java class and I feel like I&#39;m getting closer..</p>
<p>here&#39;s the error I&#39;m now getting : </p>
<p>https:&#x2F;&#x2F;gist.github.com&#x2F;1152720</p>
</div>
							<div class="author">
								&mdash; commented <span title="August 17th 2011, 7:44:45 pm">August 17th 2011</span>
								by <span class='authorname'>Kosso</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Nnow getting : &quot; Cannot convert content:&#x2F;&#x2F;media&#x2F;external&#x2F;audio&#x2F;media&#x2F;24 to android.net.Uri &quot;</p>
<pre><code class="hljs">
E/<span class="hljs-function"><span class="hljs-title">KrollMethod</span><span class="hljs-params">( <span class="hljs-number">3117</span>)</span></span>: at org<span class="hljs-class">.appcelerator</span><span class="hljs-class">.titanium</span><span class="hljs-class">.kroll</span><span class="hljs-class">.KrollHandlerThread</span><span class="hljs-class">.run</span>(KrollHandlerThread<span class="hljs-class">.java</span>:<span class="hljs-number">86</span>)
E/<span class="hljs-function"><span class="hljs-title">KrollCallback</span><span class="hljs-params">( <span class="hljs-number">3117</span>)</span></span>: (kroll$<span class="hljs-number">3</span>: app:<span class="hljs-comment">//rec.js) [9,10869] Error evaluating source, invocation: [callMethod Activity.(anonymous) org.appcelerator.titanium.kroll.KrollCallback@406d1890], message: Cannot convert content://media/external/audio/media/24 to android.net.Uri (app://rec.js#85)</span>
E/<span class="hljs-function"><span class="hljs-title">KrollCallback</span><span class="hljs-params">( <span class="hljs-number">3117</span>)</span></span>: org<span class="hljs-class">.mozilla</span><span class="hljs-class">.javascript</span><span class="hljs-class">.EvaluatorException</span>: Cannot convert <span class="hljs-attribute">content</span>:<span class="hljs-comment">//media/external/audio/media/24 to android.net.Uri (app://rec.js#85)</span>
E/<span class="hljs-function"><span class="hljs-title">KrollCallback</span><span class="hljs-params">( <span class="hljs-number">3117</span>)</span></span>: at org<span class="hljs-class">.appcelerator</span><span class="hljs-class">.titanium</span><span class="hljs-class">.TiContext</span><span class="hljs-class">.runtimeError</span>(TiContext<span class="hljs-class">.java</span>:<span class="hljs-number">299</span>)
E/<span class="hljs-function"><span class="hljs-title">KrollCallback</span><span class="hljs-params">( <span class="hljs-number">3117</span>)</span></span>: at org<span class="hljs-class">.mozilla</span><span class="hljs-class">.javascript</span><span class="hljs-class">.Context</span><span class="hljs-class">.reportRuntimeError</span>(Context<span class="hljs-class">.java</span>:<span class="hljs-number">945</span>)
E/<span class="hljs-function"><span class="hljs-title">KrollCallback</span><span class="hljs-params">( <span class="hljs-number">3117</span>)</span></span>: at org<span class="hljs-class">.mozilla</span><span class="hljs-class">.javascript</span><span class="hljs-class">.Context</span><span class="hljs-class">.reportRuntimeError</span>(Context<span class="hljs-class">.java</span>:<span class="hljs-number">1001</span>)
E/<span class="hljs-function"><span class="hljs-title">KrollCallback</span><span class="hljs-params">( <span class="hljs-number">3117</span>)</span></span>: at org<span class="hljs-class">.mozilla</span><span class="hljs-class">.javascript</span><span class="hljs-class">.Context</span><span class="hljs-class">.reportRuntimeError2</span>(Context<span class="hljs-class">.java</span>:<span class="hljs-number">971</span>)
E/<span class="hljs-function"><span class="hljs-title">KrollCallback</span><span class="hljs-params">( <span class="hljs-number">3117</span>)</span></span>: at org<span class="hljs-class">.mozilla</span><span class="hljs-class">.javascript</span><span class="hljs-class">.NativeJavaObject</span><span class="hljs-class">.reportConversionError</span>(NativeJavaObject<span class="hljs-class">.java</span>:<span class="hljs-number">896</span>)
E/<span class="hljs-function"><span class="hljs-title">KrollCallback</span><span class="hljs-params">( <span class="hljs-number">3117</span>)</span></span>: at org<span class="hljs-class">.mozilla</span><span class="hljs-class">.javascript</span><span class="hljs-class">.NativeJavaObject</span><span class="hljs-class">.coerceTypeImpl</span>(NativeJavaObject<span class="hljs-class">.java</span>:<span class="hljs-number">584</span>)
E/<span class="hljs-function"><span class="hljs-title">KrollCallback</span><span class="hljs-params">( <span class="hljs-number">3117</span>)</span></span>: at org<span class="hljs-class">.mozilla</span><span class="hljs-class">.javascript</span><span class="hljs-class">.Context</span><span class="hljs-class">.jsToJava</span>(Context<span class="hljs-class">.java</span>:<span class="hljs-number">1729</span>)
E/<span class="hljs-function"><span class="hljs-title">KrollCallback</span><span class="hljs-params">( <span class="hljs-number">3117</span>)</span></span>: at org<span class="hljs-class">.appcelerator</span><span class="hljs-class">.kroll</span><span class="hljs-class">.KrollConverter</span><span class="hljs-class">.convertJavascript</span>(KrollConverter<span class="hljs-class">.java</span>:<span class="hljs-number">329</span>)
E/<span class="hljs-function"><span class="hljs-title">KrollCallback</span><span class="hljs-params">( <span class="hljs-number">3117</span>)</span></span>: at com<span class="hljs-class">.kosso</span><span class="hljs-class">.contentquery</span><span class="hljs-class">.ContentqueryModuleBindingGen</span>$<span class="hljs-number">3</span>.<span class="hljs-function"><span class="hljs-title">invoke</span><span class="hljs-params">(ContentqueryModuleBindingGen.java:<span class="hljs-number">150</span>)</span></span>
E/<span class="hljs-function"><span class="hljs-title">KrollCallback</span><span class="hljs-params">( <span class="hljs-number">3117</span>)</span></span>: at org<span class="hljs-class">.appcelerator</span><span class="hljs-class">.kroll</span><span class="hljs-class">.KrollMethod</span><span class="hljs-class">.call</span>(KrollMethod<span class="hljs-class">.java</span>:<span class="hljs-number">51</span>)
E/<span class="hljs-function"><span class="hljs-title">KrollCallback</span><span class="hljs-params">( <span class="hljs-number">3117</span>)</span></span>: at org<span class="hljs-class">.mozilla</span><span class="hljs-class">.javascript</span><span class="hljs-class">.Interpreter</span><span class="hljs-class">.interpretLoop</span>(Interpreter<span class="hljs-class">.java</span>:<span class="hljs-number">1701</span>)
E/<span class="hljs-function"><span class="hljs-title">KrollCallback</span><span class="hljs-params">( <span class="hljs-number">3117</span>)</span></span>: at <span class="hljs-function"><span class="hljs-title">script</span><span class="hljs-params">(app://rec.js:<span class="hljs-number">85</span>)</span></span>
E/<span class="hljs-function"><span class="hljs-title">KrollCallback</span><span class="hljs-params">( <span class="hljs-number">3117</span>)</span></span>: at org<span class="hljs-class">.mozilla</span><span class="hljs-class">.javascript</span><span class="hljs-class">.Interpreter</span><span class="hljs-class">.interpret</span>(Interpreter<span class="hljs-class">.java</span>:<span class="hljs-number">854</span>)
E/<span class="hljs-function"><span class="hljs-title">KrollCallback</span><span class="hljs-params">( <span class="hljs-number">3117</span>)</span></span>: at org<span class="hljs-class">.mozilla</span><span class="hljs-class">.javascript</span><span class="hljs-class">.InterpretedFunction</span><span class="hljs-class">.call</span>(InterpretedFunction<span class="hljs-class">.java</span>:<span class="hljs-number">164</span>)
E/<span class="hljs-function"><span class="hljs-title">KrollCallback</span><span class="hljs-params">( <span class="hljs-number">3117</span>)</span></span>: at org<span class="hljs-class">.mozilla</span><span class="hljs-class">.javascript</span><span class="hljs-class">.ContextFactory</span><span class="hljs-class">.doTopCall</span>(ContextFactory<span class="hljs-class">.java</span>:<span class="hljs-number">426</span>)
E/<span class="hljs-function"><span class="hljs-title">KrollCallback</span><span class="hljs-params">( <span class="hljs-number">3117</span>)</span></span>: at org<span class="hljs-class">.mozilla</span><span class="hljs-class">.javascript</span><span class="hljs-class">.ScriptRuntime</span><span class="hljs-class">.doTopCall</span>(ScriptRuntime<span class="hljs-class">.java</span>:<span class="hljs-number">3177</span>)
E/<span class="hljs-function"><span class="hljs-title">KrollCallback</span><span class="hljs-params">( <span class="hljs-number">3117</span>)</span></span>: at org<span class="hljs-class">.mozilla</span><span class="hljs-class">.javascript</span><span class="hljs-class">.InterpretedFunction</span><span class="hljs-class">.call</span>(InterpretedFunction<span class="hljs-class">.java</span>:<span class="hljs-number">162</span>)
E/<span class="hljs-function"><span class="hljs-title">KrollCallback</span><span class="hljs-params">( <span class="hljs-number">3117</span>)</span></span>: at org<span class="hljs-class">.appcelerator</span><span class="hljs-class">.titanium</span><span class="hljs-class">.kroll</span><span class="hljs-class">.KrollCallback</span><span class="hljs-class">.callSync</span>(KrollCallback<span class="hljs-class">.java</span>:<span class="hljs-number">139</span>)
E/<span class="hljs-function"><span class="hljs-title">KrollCallback</span><span class="hljs-params">( <span class="hljs-number">3117</span>)</span></span>: at org<span class="hljs-class">.appcelerator</span><span class="hljs-class">.titanium</span><span class="hljs-class">.kroll</span><span class="hljs-class">.KrollCallback</span>$<span class="hljs-number">1</span>.<span class="hljs-function"><span class="hljs-title">run</span><span class="hljs-params">(KrollCallback.java:<span class="hljs-number">164</span>)</span></span>
E/<span class="hljs-function"><span class="hljs-title">KrollCallback</span><span class="hljs-params">( <span class="hljs-number">3117</span>)</span></span>: at android<span class="hljs-class">.os</span><span class="hljs-class">.Handler</span><span class="hljs-class">.handleCallback</span>(Handler<span class="hljs-class">.java</span>:<span class="hljs-number">587</span>)
E/<span class="hljs-function"><span class="hljs-title">KrollCallback</span><span class="hljs-params">( <span class="hljs-number">3117</span>)</span></span>: at android<span class="hljs-class">.os</span><span class="hljs-class">.Handler</span><span class="hljs-class">.dispatchMessage</span>(Handler<span class="hljs-class">.java</span>:<span class="hljs-number">92</span>)
E/<span class="hljs-function"><span class="hljs-title">KrollCallback</span><span class="hljs-params">( <span class="hljs-number">3117</span>)</span></span>: at android<span class="hljs-class">.os</span><span class="hljs-class">.Looper</span><span class="hljs-class">.loop</span>(Looper<span class="hljs-class">.java</span>:<span class="hljs-number">123</span>)
E/<span class="hljs-function"><span class="hljs-title">KrollCallback</span><span class="hljs-params">( <span class="hljs-number">3117</span>)</span></span>: at org<span class="hljs-class">.appcelerator</span><span class="hljs-class">.titanium</span><span class="hljs-class">.kroll</span><span class="hljs-class">.KrollHandlerThread</span><span class="hljs-class">.run</span>(KrollHandlerThread<span class="hljs-class">.java</span>:<span class="hljs-number">86</span>)
E/<span class="hljs-function"><span class="hljs-title">TiJSError</span><span class="hljs-params">( <span class="hljs-number">3117</span>)</span></span>: (kroll$<span class="hljs-number">3</span>: app:<span class="hljs-comment">//rec.js) [7,10876] ----- Titanium Javascript Runtime Error -----</span>
E/<span class="hljs-function"><span class="hljs-title">TiJSError</span><span class="hljs-params">( <span class="hljs-number">3117</span>)</span></span>: (kroll$<span class="hljs-number">3</span>: app:<span class="hljs-comment">//rec.js) [0,10876] - In app://rec.js:85,0</span>
E/<span class="hljs-function"><span class="hljs-title">TiJSError</span><span class="hljs-params">( <span class="hljs-number">3117</span>)</span></span>: (kroll$<span class="hljs-number">3</span>: app:<span class="hljs-comment">//rec.js) [1,10877] - Message: Cannot convert content://media/external/audio/media/24 to android.net.Uri (app://rec.js#85)</span>
E/<span class="hljs-function"><span class="hljs-title">TiJSError</span><span class="hljs-params">( <span class="hljs-number">3117</span>)</span></span>: (kroll$<span class="hljs-number">3</span>: app:<span class="hljs-comment">//rec.js) [0,10877] - Source: null</span>
</code></pre></div>
							<div class="author">
								&mdash; commented <span title="August 17th 2011, 7:45:55 pm">August 17th 2011</span>
								by <span class='authorname'>Kosso</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Hi Kosso,</p>
<p>I will have a look on your issue tomorrow and hope that i can help, if you don&#39;t solve it till then. Its late here and i have to get some shut eye and reboot my system :)</p>
<p>Talk to you tomorrow and don&#39;t worry, we will get to the bottom of it.</p>
<p>Thanks.</p>
<p>Alex</p>
</div>
							<div class="author">
								&mdash; commented <span title="August 17th 2011, 7:54:53 pm">August 17th 2011</span>
								by <span class='authorname'>Alexandru Budin</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Thanks Alex ;)<br>I really feel like it&#39;s SO close!</p>
</div>
							<div class="author">
								&mdash; commented <span title="August 17th 2011, 8:07:14 pm">August 17th 2011</span>
								by <span class='authorname'>Kosso</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>I THINK I&#39;VE DONE IT! ;)<br>It turns out I was very close..<br>Lots and lots of trial and error…</p>
<p>I&#39;ll calm down a bit, then put up an example somewhere. :)</p>
</div>
							<div class="author">
								&mdash; commented <span title="August 17th 2011, 9:27:34 pm">August 17th 2011</span>
								by <span class='authorname'>Kosso</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>4</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>4 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-216768">
				
						<section>
							<p>OK. I&#39;m going to answer my own question, since after hacking around at this ALL DAY (I&#39;m not even a Java programmer) I managed to get it working.</p>
<p>Here&#39;s some Java module code which works (I haven&#39;t built out the full app exmaple yet, but I&#39;ll do that in due course).</p>
<p><a href="https:&#x2F;&#x2F;gist.github.com&#x2F;1153138">https:&#x2F;&#x2F;gist.github.com&#x2F;1153138</a></p>
<p>Hey, go me! ;)</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 18th 2011, 12:18:39 am">August 18th 2011</span>
								by <span class='authorname'>Kosso</span><br>
								<a class="icon-bg icon-link" href="question/124405/any-android-module-devs-out-there-want-to-help-me-solve-a-problem-that-everyone-could-benefit-from.html#answer-216768" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-216777">
				
						<section>
							<p>Hey Kosso, you code that java class?</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 18th 2011, 4:22:38 am">August 18th 2011</span>
								by <span class='authorname'>Emrah Mehmedov</span><br>
								<a class="icon-bg icon-link" href="question/124405/any-android-module-devs-out-there-want-to-help-me-solve-a-problem-that-everyone-could-benefit-from.html#answer-216777" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>yup. I did ;)<br>Lots of trial and error.. ALL day and a LOT of googling!</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 18th 2011, 9:08:14 am">August 18th 2011</span>
											by <span class='authorname'>Kosso</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-216790">
				
						<section>
							<p>Hi Kosso,</p>
<p>Did you want something different from the audio recorder? were you missing some features, that made you go with the intent driven one? Just curious, because we are in the process of updating it and your input would help.</p>
<p>I am really glad that you fixed the problem.</p>
<p>Alex</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 18th 2011, 6:11:35 am">August 18th 2011</span>
								by <span class='authorname'>Alexandru Budin</span><br>
								<a class="icon-bg icon-link" href="question/124405/any-android-module-devs-out-there-want-to-help-me-solve-a-problem-that-everyone-could-benefit-from.html#answer-216790" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Hi Alex.</p>
<p>Actually, the reason I originally started to look at the intents demo was to try and use it for recording video. I now have a test&#x2F;demo app working which use the built in intents to record audio and video and also give back the real path, so that Ti.Filesystem can use it and also use it for uploading. :) </p>
<p>Actually, it was only a few days ago that I was inspired by your audio recording module that I even started to really try and have a go at building my own. I&#39;ve been doing a lot of Googling and research around the Android MediaRecorder class after reading your blog post and I think I have something working now which is capable of recording AAC&#x2F;MPEG_4 .m4a audio at a decent bitrate too. :) Here&#39;s a test <a href="http:&#x2F;&#x2F;mobods.com&#x2F;1kv">http:&#x2F;&#x2F;mobods.com&#x2F;1kv</a> I recorded with it inside my app. (I do the waveform processing on the server, after uploading. The next post is a test using the iPhone version I have built.) </p>
<p>I had to update my Nexus One to Gingerbread for it to work though, as my previous version did not support the API level needed. </p>
<p>I have always really hated the native audio recording quality in Android - AMR @ 8KHz  so bad! ;) </p>
<p>I was going to see if I could get MediaRecorder to to video capture too, but then decided to try the intents method first.  I also see that I could try using the <a href="http:&#x2F;&#x2F;developer.android.com&#x2F;reference&#x2F;android&#x2F;media&#x2F;AudioRecord.html">AudioRecord</a> class to save PCM uncompressed audio - and maybe also try and show the audio levels while recording, but I don&#39;t need that. Also I need to have a small file for uploading. PCM file sound good, but are WAY too big!</p>
<p>BTW: Feel free to let me test your latest module. I&#39;m very happy to give some feedback. It was your module and blog post that inspired me to try an make my own. :)</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 18th 2011, 9:24:26 am">August 18th 2011</span>
											by <span class='authorname'>Kosso</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-216803">
				
						<section>
							<p>Hi Kosso,</p>
<p>I am currently working on a Video Recording module, its not easy, but it will be cool and i think it will help a lot of people.</p>
<p>About the audio recording. We are updating that module and offer support for recording raw audio and high bitrate audio, basically its being rebuilt from the ground app. We received a lot of suggestions among which the exact same thing that you are saying, &quot;audio quality&quot;, so we are putting a lot of effort into delivering a high end module with high quality audio recordings.</p>
<p>I will be glad to send you a pre-release version to test it out. I will DM you on twitter when i have something ready.</p>
<p>Thank you.<br>Alex</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 18th 2011, 9:36:43 am">August 18th 2011</span>
								by <span class='authorname'>Alexandru Budin</span><br>
								<a class="icon-bg icon-link" href="question/124405/any-android-module-devs-out-there-want-to-help-me-solve-a-problem-that-everyone-could-benefit-from.html#answer-216803" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Cool. By the way, I have just committed my module and the demo app to use with intents to my Github. The video recorded with intents is actually very simple and perfect for most needs - especially as the user can choose the quality settings themselves in their settings. </p>
<p>See the record_video.js in my <a href="https:&#x2F;&#x2F;github.com&#x2F;kosso">My GitHub</a> in the &#39;mediaDroid&#39; demo app. </p>
<p>High quality raw PCM is good, but the file sizes are then far too big to use for uploading. This is why I now got MediaRecorder to use the MPEG_4 and AAC settings (supported on Gingerbread). Much better than AMR_NB or AMR_WB.  Now I can create AAC .m4a audio on both iPhone and Android, which is good for my server backend (where I also create mp3 and ogg versions to support HTML5 players) </p>
<p>For my audio MediaRecorder settings, I&#39;m using setAudioEncodingBitRate(64000)  and setAudioSamplingRate(44100) which gives quite good results for a relatively small file size. </p>
<p><a href="http:&#x2F;&#x2F;developer.android.com&#x2F;reference&#x2F;android&#x2F;media&#x2F;MediaRecorder.OutputFormat.html">http:&#x2F;&#x2F;developer.android.com&#x2F;reference&#x2F;android&#x2F;media&#x2F;MediaRecorder.OutputFormat.html</a></p>
</p>
										<div class="author">
											&mdash; commented <span title="August 18th 2011, 10:54:07 am">August 18th 2011</span>
											by <span class='authorname'>Kosso</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
