<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>imageview in tableviewrow crash » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>imageview in tableviewrow crash</h1>
		</header>
		<section>
			<p>I have a fairly simple app setup. I have a table view, and I am loading a remote image (via URL) into an imageview that I add to the first row of the tableview:</p>
<pre><code class="hljs">var image_row = Ti.UI.createTableViewRow({<span class="hljs-variable">height</span>:<span class="hljs-string">'auto'</span>});
    var item_image = Ti.UI.createImageView({
        url: <span class="hljs-string">'http://mysiteurl.com/media/'</span>+item.image_url,
        top: <span class="hljs-number">5</span>,
    bottom: <span class="hljs-number">5</span>,
        left: <span class="hljs-string">'auto'</span>,
        right: <span class="hljs-string">'auto'</span>,
        <span class="hljs-variable">width</span>: <span class="hljs-number">280</span>,
        <span class="hljs-variable">height</span>: <span class="hljs-string">'auto'</span>
    });
    image_row.<span class="hljs-variable">height</span> = <span class="hljs-string">'auto'</span>;

    image_row.<span class="hljs-built_in">add</span>(item_image);

    tableview.appendRow(image_row);
</code></pre><p>When I navigate to that particular tableview the first time, everything is fine. However, if I navigate away (back to previous view) and back again, I get this error message on the second load of that tableview:</p>
<p><em>*</em> Terminating app due to uncaught exception &#39;NSInternalInconsistencyException&#39;, reason: &#39;Invalid update: invalid number of sections. The number of sections contained in the table view after the update (1) must be equal to the number of sections contained in the table view before the update (1), plus or minus the number of sections inserted or deleted (1 inserted, 0 deleted).&#39;</p>
<p>Not sure if this is a Titanium thing with loading imageviews in tableviewrows. Anyone seen this before? Any help?</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="May 13th 2010, 6:58:08 pm">May 13th 2010</span>
				by <span class='authorname'>Ben Hornedo</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>crash</span></li>
					
						<li><span class='tagname'>imageview</span></li>
					
						<li><span class='tagname'>row</span></li>
					
						<li><span class='tagname'>tableview</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>5</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>5 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-75121">
				
						<section>
							<p>Same problem here.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="June 23rd 2010, 11:59:20 am">June 23rd 2010</span>
								by <span class='authorname'>David Riccitelli</span><br>
								<a class="icon-bg icon-link" href="question/25111/imageview-in-tableviewrow-crash#answer-75121" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>-1</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-96991">
				
						<section>
							<p>same problem</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 6th 2010, 3:16:26 am">August 6th 2010</span>
								by <span class='authorname'>Ritesh Manchanda</span><br>
								<a class="icon-bg icon-link" href="question/25111/imageview-in-tableviewrow-crash#answer-96991" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>-1</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-97031">
				
						<section>
							<p>Hi there,</p>
<p>have you tried using a className in the TableviewRow object? I&#39;ve found that using this greatly improves the performance and stability of images in TableViews.</p>
<p>className      string<br>the class name of the table. each table view cell must have a unique class name if the cell layout is different. however, use the same name for rows that have the same structural layout (even if the content is different) to provide maximum rendering performance.</p>
<p>So if you called your classname &#39;imagerowClass&#39; your code would become</p>
<pre><code class="hljs">var image_row = Ti.UI.createTableViewRow({
    <span class="hljs-variable">height</span>:<span class="hljs-string">'auto'</span>, 
    className:<span class="hljs-string">'imagerowClass'</span>});
    var item_image = Ti.UI.createImageView({
        url: <span class="hljs-string">'http://mysiteurl.com/media/'</span>+item.image_url,
        top: <span class="hljs-number">5</span>,
    bottom: <span class="hljs-number">5</span>,
        left: <span class="hljs-string">'auto'</span>,
        right: <span class="hljs-string">'auto'</span>,
        <span class="hljs-variable">width</span>: <span class="hljs-number">280</span>,
        <span class="hljs-variable">height</span>: <span class="hljs-string">'auto'</span>
    });

    image_row.<span class="hljs-built_in">add</span>(item_image);
    tableview.appendRow(image_row);
</code></pre><p>Note that I&#39;ve dropped the second declaration of image_row.height as well. You had it both in the var image_row line and further down in the code.</p>
<p>Hope this helps.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 6th 2010, 6:33:38 am">August 6th 2010</span>
								by <span class='authorname'>Gregor Munro</span><br>
								<a class="icon-bg icon-link" href="question/25111/imageview-in-tableviewrow-crash#answer-97031" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>-1</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-201371">
				
						<section>
							<p>Hi, I also have the same problem in my project. However, I have found that in the demo program &quot;KitchenSink&quot; there is a few examples of having imageview inside tableview. I have copied the code over to my project and it still crashes. Any ideas on whether KitchenSink did some other setting before the tableview was loaded? Any setting in that project that could have prevented the crash?</p>
<p>Thanks</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="February 22nd 2011, 2:34:54 am">February 22nd 2011</span>
								by <span class='authorname'>Eric Ou</span><br>
								<a class="icon-bg icon-link" href="question/25111/imageview-in-tableviewrow-crash#answer-201371" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>-1</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-207189">
				
						<section>
							<p>Sorry to say that this bug still exists in the latest 1.7 ci build… :(</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="May 3rd 2011, 3:21:40 pm">May 3rd 2011</span>
								by <span class='authorname'>Justin Toth</span><br>
								<a class="icon-bg icon-link" href="question/25111/imageview-in-tableviewrow-crash#answer-207189" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>-1</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
