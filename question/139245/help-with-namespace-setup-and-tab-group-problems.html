<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Help with namespace setup and tab group problems » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Help with namespace setup and tab group problems</h1>
		</header>
		<section>
			<p>Hi folks,</p>
<p>Need some urgent help with setting up a global namespace for my app (as recommended in a previous post on this problem) as I&#39;m finding it a bit tricky.</p>
<p>My original problem is due to using custom designed tabs on iOS, it seems to remove the ability for the app to slide all the way back to it&#39;s original position when an item in the tabGroup is tapped.</p>
<p>So, HOME launches a window, and inside that window you tap away and bury yourself away in various further windows.</p>
<p>the only way of getting back to the beginning is by tapping back over and over again.</p>
<p>Can anyone help me out?</p>
<p>This was my original post…. <a href="http:&#x2F;&#x2F;developer.appcelerator.com&#x2F;question&#x2F;137968&#x2F;how-to-refresh-view-when-tab-icon-is-tapped-on-ios">How to refresh view when tab icon is tapped on iOS</a></p>
<p>This is my app.js file currently. The coffee is on me if you can help me!</p>
<pre><code class="hljs"><span class="hljs-comment">// this sets the background color of the master UIView (when there are no windows/tab groups on it)</span>
Titanium.UI.setBackgroundColor(<span class="hljs-string">'#ceeded'</span>);    

<span class="hljs-comment">// Install the SQLite database</span>
var db = Ti.Database.install(<span class="hljs-string">'my.db'</span>, <span class="hljs-string">'myVersion6'</span>);
db.file.remoteBackup = <span class="hljs-literal">false</span>;

<span class="hljs-comment">// Create the tab group</span>
var tabGroup = Titanium.UI.createTabGroup();

var win1 = Titanium.UI.createWindow({
    <span class="hljs-string">title :</span> <span class="hljs-string">'Search'</span>,
    <span class="hljs-string">height :</span> <span class="hljs-number">416</span>,
    <span class="hljs-string">tabBarHidden :</span> <span class="hljs-literal">true</span>,
    <span class="hljs-string">barColor :</span> <span class="hljs-string">'#005349'</span>,
    <span class="hljs-string">titleImage :</span> <span class="hljs-string">'images/title_bounty.png'</span>,
    <span class="hljs-string">url :</span> <span class="hljs-string">'search.js'</span>
});
var tab1 = Titanium.UI.createTab({
    <span class="hljs-string">window :</span> win1
});
var win2 = Titanium.UI.createWindow({
    <span class="hljs-string">title :</span> <span class="hljs-string">'Local'</span>,
    <span class="hljs-string">height :</span> <span class="hljs-number">416</span>,
    <span class="hljs-string">tabBarHidden :</span> <span class="hljs-literal">true</span>,
    <span class="hljs-string">barColor :</span> <span class="hljs-string">'#005349'</span>,
    <span class="hljs-string">titleImage :</span> <span class="hljs-string">'images/title_bounty.png'</span>,
    <span class="hljs-string">url :</span> <span class="hljs-string">'local.js'</span>
});
var tab2 = Titanium.UI.createTab({
    <span class="hljs-string">window :</span> win2
});
var win3 = Titanium.UI.createWindow({
    <span class="hljs-string">title :</span> <span class="hljs-string">'Home'</span>,
    <span class="hljs-string">height :</span> <span class="hljs-number">416</span>,
    <span class="hljs-string">tabBarHidden :</span> <span class="hljs-literal">true</span>,
    <span class="hljs-string">barColor :</span> <span class="hljs-string">'#005349'</span>,
    <span class="hljs-string">titleImage :</span> <span class="hljs-string">'images/title_bounty.png'</span>,
    <span class="hljs-string">url :</span> <span class="hljs-string">'home.js'</span>
});
var tab3 = Titanium.UI.createTab({
    <span class="hljs-string">window :</span> win3
});
var win4 = Titanium.UI.createWindow({
    <span class="hljs-string">title :</span> <span class="hljs-string">'Favourites'</span>,
    <span class="hljs-string">height :</span> <span class="hljs-number">416</span>,
    <span class="hljs-string">tabBarHidden :</span> <span class="hljs-literal">true</span>,
    <span class="hljs-string">barColor :</span> <span class="hljs-string">'#005349'</span>,
    <span class="hljs-string">titleImage :</span> <span class="hljs-string">'images/title_bounty.png'</span>,
    <span class="hljs-string">url :</span> <span class="hljs-string">'favourites.js'</span>
});
var tab4 = Titanium.UI.createTab({
    <span class="hljs-string">window :</span> win4
});
var win5 = Titanium.UI.createWindow({
    <span class="hljs-string">title :</span> <span class="hljs-string">'News'</span>,
    <span class="hljs-string">height :</span> <span class="hljs-number">416</span>,
    <span class="hljs-string">tabBarHidden :</span> <span class="hljs-literal">true</span>,
    <span class="hljs-string">barColor :</span> <span class="hljs-string">'#005349'</span>,
    <span class="hljs-string">titleImage :</span> <span class="hljs-string">'images/title_bounty.png'</span>,
    <span class="hljs-string">url :</span> <span class="hljs-string">'news.js'</span>
});
var tab5 = Titanium.UI.createTab({
    <span class="hljs-string">window :</span> win5
});
tabGroup.addTab(tab1);
tabGroup.addTab(tab2);
tabGroup.addTab(tab3);
tabGroup.addTab(tab4);
tabGroup.addTab(tab5);

<span class="hljs-comment">// set middle tab to be open on app launch (0-4)</span>
tabGroup.setActiveTab(tabGroup.tabs[<span class="hljs-number">2</span>]);

<span class="hljs-comment">// open tab group</span>
tabGroup.open();


<span class="hljs-comment">// Here is the magic</span>
Ti.include(<span class="hljs-string">"customTabBar.js"</span>);

var ctb = <span class="hljs-keyword">new</span> CustomTabBar({
<span class="hljs-label">    tabBar:</span> tabGroup,
<span class="hljs-label">    imagePath:</span> <span class="hljs-string">'images/tabs/'</span>,
<span class="hljs-label">    width:</span> <span class="hljs-number">64</span>,
<span class="hljs-label">    height:</span> <span class="hljs-number">48</span>,
<span class="hljs-label">    items:</span> [
        { <span class="hljs-string">image:</span> <span class="hljs-string">'search.png'</span>, <span class="hljs-string">selected:</span> <span class="hljs-string">'search_over.png'</span> },
        { <span class="hljs-string">image:</span> <span class="hljs-string">'local.png'</span>, <span class="hljs-string">selected:</span> <span class="hljs-string">'local_over.png'</span> },
        { <span class="hljs-string">image:</span> <span class="hljs-string">'home.png'</span>, <span class="hljs-string">selected:</span> <span class="hljs-string">'home_over.png'</span> },
        { <span class="hljs-string">image:</span> <span class="hljs-string">'favourites.png'</span>, <span class="hljs-string">selected:</span> <span class="hljs-string">'favourites_over.png'</span> },
        { <span class="hljs-string">image:</span> <span class="hljs-string">'news.png'</span>, <span class="hljs-string">selected:</span> <span class="hljs-string">'news_over.png'</span> }
    ]
});
</code></pre><p>Simon</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="July 4th 2012, 6:09:29 pm">July 4th 2012</span>
				by <span class='authorname'>Simon Hume</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>ios</span></li>
					
						<li><span class='tagname'>iphone</span></li>
					
						<li><span class='tagname'>namespace</span></li>
					
						<li><span class='tagname'>tabgroup</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-242500">
				
						<section>
							<p>I think I&#39;ve finally found the part in customTabBar.js that is causing the issue. Can anyone shed any light on what to add inside this function to make the native function work as it should?</p>
<p>You can see the TODO item listed, which is where it needs to live.</p>
<p><a href="https:&#x2F;&#x2F;github.com&#x2F;netsells&#x2F;customTabBar">Here is the full script on GitHub</a></p>
<pre><code class="hljs">    <span class="hljs-keyword">var</span> assignClick = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(tabItem)</span> </span>{
        tabItem.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span> </span>{
            <span class="hljs-comment">// Just fetching the 'i' variable from the loop</span>
            <span class="hljs-keyword">var</span> pos = e.source.pos;

            <span class="hljs-keyword">if</span> (tabCurrent == pos) {
                <span class="hljs-comment">// TODO</span>
                <span class="hljs-comment">// Change back to root window, like the native tab action.</span>
                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
            }        

            <span class="hljs-comment">// Switch to the tab associated with the image pressed</span>
            settings.tabBar.tabs[pos].active = <span class="hljs-literal">true</span>;
            tabCurrent = pos;


            <span class="hljs-comment">// Reset all the tab images</span>
            resetTabs();

            <span class="hljs-comment">// Set the current tab as selected</span>
            tabBarItems[pos].image = settings.imagePath + settings.items[pos].selected;        
        });
    };
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="July 4th 2012, 7:38:42 pm">July 4th 2012</span>
								by <span class='authorname'>Simon Hume</span><br>
								<a class="icon-bg icon-link" href="question/139245/help-with-namespace-setup-and-tab-group-problems.html#answer-242500" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-242501">
				
						<section>
							<p>Hi Simon..</p>
<p>Actually using namespaces is no longer the recommended method.</p>
<p>Using URL on a window is never a recommended method.</p>
<p>If you need to create an app using a custom menu … try this. <a href="http:&#x2F;&#x2F;softlywired.com&#x2F;?page_id=178">TiCustomMenu</a></p>
<p>Hope this helps</p>
<p>T.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="July 4th 2012, 7:42:00 pm">July 4th 2012</span>
								by <span class='authorname'>Trevor Ward</span><br>
								<a class="icon-bg icon-link" href="question/139245/help-with-namespace-setup-and-tab-group-problems.html#answer-242501" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Hi Trevor,</p>
<p>That looks great to me, just not sure I can rewrite the code to fit round that for this app in particular. The app is huge, and I need to issue this fix pretty quickly.</p>
<p>I&#39;ll definitely look at using that though in future projects, and great that it works on Android too!</p>
<p>Simon</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 4th 2012, 7:45:50 pm">July 4th 2012</span>
											by <span class='authorname'>Simon Hume</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
