<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Access indivdual JSON elements returns undefined » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Access indivdual JSON elements returns undefined</h1>
		</header>
		<section>
			<p>I am trying to display certain elements from a JSON file but anytime I try this it returns undefined. I can display the entire json file perfectly, just not the individual elements</p>
<p>here is the JSON file I am trying to take data from </p>
<pre><code class="hljs">{
    success: <span class="hljs-literal">true</span>
    <span class="hljs-keyword">error</span>: <span class="hljs-string">""</span>
    <span class="hljs-built_in">response</span>: {
        type: <span class="hljs-string">"booking"</span>
        status: <span class="hljs-string">"cancelled"</span>
        folder: <span class="hljs-string">"cancelledPast"</span>
        received: <span class="hljs-string">"2012-08-02 15:47:14"</span>
        isStarred: <span class="hljs-literal">false</span>
        <span class="hljs-built_in">date</span>: <span class="hljs-string">"2012-08-02 15:47:14"</span>
        venue: <span class="hljs-string">"Carrigaline Court Hotel, Carrigaline, Cork"</span>
        start_time: <span class="hljs-string">"00:00:00"</span>
        end_time: <span class="hljs-string">"00:00:00"</span>
        <span class="hljs-built_in">time</span>: <span class="hljs-string">"12:00am to 12:00am"</span>
    }
}
</code></pre><p>here is the code that I am using to display the JSON</p>
<pre><code class="hljs">var <span class="hljs-built_in">response</span> = JSON.parse(httpClient.responseText);

alert(    <span class="hljs-string">"Venue: "</span> + <span class="hljs-built_in">response</span>.venue + <span class="hljs-string">"\n"</span> +
    <span class="hljs-string">"Date: "</span> + <span class="hljs-built_in">response</span>.<span class="hljs-built_in">date</span> + <span class="hljs-string">"\n"</span> +
    <span class="hljs-string">"Time: "</span> + <span class="hljs-built_in">response</span>.<span class="hljs-built_in">time</span> );
</code></pre><p>I have tried all of the variations for trying to display the element but all return undefined</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="July 4th 2013, 12:10:40 pm">July 4th 2013</span>
				by <span class='authorname'>Chris McNulty</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>httpclient</span></li>
					
						<li><span class='tagname'>ios</span></li>
					
						<li><span class='tagname'>javascript</span></li>
					
						<li><span class='tagname'>json</span></li>
					
						<li><span class='tagname'>titanium</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-265392">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<pre><code class="hljs">I can <span class="hljs-keyword">display</span> the entire json <span class="hljs-keyword">file</span> perfectly
</code></pre><p>You can always display a string, but…strings dont have properties…</p>
<p>Possibly you need to JSON.parse the response…</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="July 4th 2013, 12:15:40 pm">July 4th 2013</span>
								by <span class='authorname'>Stephen Feather</span><br>
								<a class="icon-bg icon-link" href="../../question/154472/access-indivdual-json-elements-returns-undefined.html#answer-265392" rel="permalink">permalink</a>
							</div>

							<h5>7 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>eh, ignore that, was on mobile and missed the second part.</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 4th 2013, 12:19:04 pm">July 4th 2013</span>
											by <span class='authorname'>Stephen Feather</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>if you <code>console.log(&amp;#39;[response] &amp;#39;+response)</code> does it print out that response is an object, or does it print out the string?</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 4th 2013, 12:21:30 pm">July 4th 2013</span>
											by <span class='authorname'>Stephen Feather</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>If you use Studio, put a break point in and actually look at <code>httpClient.responseText</code> and see if there is anything &#39;odd&#39; about it.  I&#39;ve have seen some funky things come through before, that because of the way loggin works, it is difficult to see that the response is damaged, or ultra-complex.</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 4th 2013, 12:23:04 pm">July 4th 2013</span>
											by <span class='authorname'>Stephen Feather</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Nothing looks out of the ordinary when I viewed it in the debug view</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 4th 2013, 12:29:02 pm">July 4th 2013</span>
											by <span class='authorname'>Chris McNulty</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>When I log it. it returns [object object]</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 4th 2013, 12:42:45 pm">July 4th 2013</span>
											by <span class='authorname'>Chris McNulty</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>oh, you are a level too shallow?</p>
<p>your jason has response as an object…</p>
<p>so after parsed, response.response.venue…?</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 4th 2013, 12:50:29 pm">July 4th 2013</span>
											by <span class='authorname'>Stephen Feather</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>It still returns undefined. I tried this method below. </p>
<pre><code class="hljs">    <span class="hljs-keyword">var</span> test = {
            <span class="hljs-string">"success"</span>: <span class="hljs-literal">true</span>,
            <span class="hljs-string">"error"</span>: <span class="hljs-string">""</span>,
            <span class="hljs-string">"response"</span>: {
                <span class="hljs-string">"type"</span>: <span class="hljs-string">"booking"</span>,
                <span class="hljs-string">"status"</span>: <span class="hljs-string">"cancelled"</span>,
                <span class="hljs-string">"folder"</span>: <span class="hljs-string">"cancelledPast"</span>,
                <span class="hljs-string">"received"</span>: <span class="hljs-string">"2012-08-02 15:47:14"</span>,
                <span class="hljs-string">"isStarred"</span>: <span class="hljs-literal">false</span>,
                <span class="hljs-string">"date"</span>: <span class="hljs-string">"2012-08-02 15:47:14"</span>,
                <span class="hljs-string">"venue"</span>: <span class="hljs-string">"Carrigaline Court Hotel, Carrigaline, Cork"</span>,
                <span class="hljs-string">"start_time"</span>: <span class="hljs-string">"00:00:00"</span>,
                <span class="hljs-string">"end_time"</span>: <span class="hljs-string">"00:00:00"</span>,
                <span class="hljs-string">"time"</span>: <span class="hljs-string">"12:00am to 12:00am"</span>
    }
}

<span class="hljs-keyword">var</span> stringIt = <span class="hljs-built_in">JSON</span>.stringify(test);
<span class="hljs-keyword">var</span> parseIt = <span class="hljs-built_in">JSON</span>.parse(stringIt);

<span class="hljs-built_in">console</span>.log(parseIt.response.venue);
</code></pre><p>That worked but it doesn&#39;t solve my problem as it can&#39;t read the values from the server response. it will only read from a hard coded JSON object</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 4th 2013, 1:33:01 pm">July 4th 2013</span>
											by <span class='authorname'>Chris McNulty</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-265396">
				
						<section>
							<p>Its not valid json - Try it out on <a href="http:&#x2F;&#x2F;jsonlint.com&#x2F;">jsonlint</a></p>
<p>Valid json would look like this;</p>
<pre><code class="hljs">{
    "<span class="hljs-attribute">success</span>": <span class="hljs-value"><span class="hljs-literal">true</span></span>,
    "<span class="hljs-attribute">error</span>": <span class="hljs-value"><span class="hljs-string">""</span></span>,
    "<span class="hljs-attribute">response</span>": <span class="hljs-value">{
        "<span class="hljs-attribute">type</span>": <span class="hljs-value"><span class="hljs-string">"booking"</span></span>,
        "<span class="hljs-attribute">status</span>": <span class="hljs-value"><span class="hljs-string">"cancelled"</span></span>,
        "<span class="hljs-attribute">folder</span>": <span class="hljs-value"><span class="hljs-string">"cancelledPast"</span></span>,
        "<span class="hljs-attribute">received</span>": <span class="hljs-value"><span class="hljs-string">"2012-08-02 15:47:14"</span></span>,
        "<span class="hljs-attribute">isStarred</span>": <span class="hljs-value"><span class="hljs-literal">false</span></span>,
        "<span class="hljs-attribute">date</span>": <span class="hljs-value"><span class="hljs-string">"2012-08-02 15:47:14"</span></span>,
        "<span class="hljs-attribute">venue</span>": <span class="hljs-value"><span class="hljs-string">"Carrigaline Court Hotel, Carrigaline, Cork"</span></span>,
        "<span class="hljs-attribute">start_time</span>": <span class="hljs-value"><span class="hljs-string">"00:00:00"</span></span>,
        "<span class="hljs-attribute">end_time</span>": <span class="hljs-value"><span class="hljs-string">"00:00:00"</span></span>,
        "<span class="hljs-attribute">time</span>": <span class="hljs-value"><span class="hljs-string">"12:00am to 12:00am"</span>
    </span>}
</span>}
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="July 4th 2013, 12:50:17 pm">July 4th 2013</span>
								by <span class='authorname'>Nick Milner</span><br>
								<a class="icon-bg icon-link" href="../../question/154472/access-indivdual-json-elements-returns-undefined.html#answer-265396" rel="permalink">permalink</a>
							</div>

							<h5>9 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>@Nick - as he explained he was just doing that to show the output, the lack of commas - is formatting only for output reasons.</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 4th 2013, 12:54:26 pm">July 4th 2013</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>That is the way advance rest client outputs JSON. the commas appear in titanium studio logs</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 4th 2013, 1:00:11 pm">July 4th 2013</span>
											by <span class='authorname'>Chris McNulty</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I didn&#39;t see that mentioned.  He says &#39;here is the JSON file I am trying to take data from &#39; </p>
<p>Also, It&#39;s still not valid as the keys aren&#39;t quoted either…</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 4th 2013, 1:03:23 pm">July 4th 2013</span>
											by <span class='authorname'>Nick Milner</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>oh - same reason ! ;-)</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 4th 2013, 1:05:28 pm">July 4th 2013</span>
											by <span class='authorname'>Nick Milner</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Again the JSON I added into this question was taken from advanced rest client it doesn&#39;t output it in a valid format but in the logs it is valid JSON being returned</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 4th 2013, 1:06:33 pm">July 4th 2013</span>
											by <span class='authorname'>Chris McNulty</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Yes - got it. @Stephen has got the correct answer ! :-)</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 4th 2013, 1:08:08 pm">July 4th 2013</span>
											by <span class='authorname'>Nick Milner</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Can we see the whole httpClient action ?</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 4th 2013, 1:42:38 pm">July 4th 2013</span>
											by <span class='authorname'>Nick Milner</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Here it is</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> parameters = {param1:<span class="hljs-string">'param1'</span>, param2:<span class="hljs-string">'param2'</span> };
<span class="hljs-keyword">var</span> httpClient = Titanium.Network.createHTTPClient();

httpClient.open(<span class="hljs-string">"POST"</span>, <span class="hljs-string">"http://www.example.com"</span>, <span class="hljs-literal">false</span>);
httpClient.setRequestHeader(<span class="hljs-string">"content-type"</span>, <span class="hljs-string">"application/x-www-form-urlencoded"</span>);

httpClient.onload = getData();

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getData</span>(<span class="hljs-params"></span>) </span>{

    httpClient.send(parameters);

    <span class="hljs-keyword">if</span>(httpClient.status == <span class="hljs-string">'200'</span>) {
        Ti.API.info(<span class="hljs-string">'Server Status'</span> + httpClient.status);

        <span class="hljs-keyword">if</span>(httpClient.readyState == <span class="hljs-number">4</span>) {
            <span class="hljs-keyword">var</span> response = <span class="hljs-built_in">JSON</span>.stringify(httpClient.responseText);
            <span class="hljs-keyword">var</span> parseIt = <span class="hljs-built_in">JSON</span>.parse(response);
            <span class="hljs-built_in">console</span>.log(parseIt);

            alert(<span class="hljs-string">"Venue: "</span> + parseIt.response.venue + <span class="hljs-string">"\n\n"</span> +
                <span class="hljs-string">"Date: "</span> + parseIt.response.date + <span class="hljs-string">"\n"</span> +
                <span class="hljs-string">"Time: "</span> + parseIt.response.time );

        } <span class="hljs-keyword">else</span> {
            alert(<span class="hljs-string">'Server is not ready'</span>);
        }
    } <span class="hljs-keyword">else</span> {
        alert(<span class="hljs-string">"I'm sorry Dave, I'm afraid I can't do that "</span> + httpClient.status);
    }
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="July 4th 2013, 1:59:13 pm">July 4th 2013</span>
											by <span class='authorname'>Chris McNulty</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I would try it slightly differently…</p>
<pre><code class="hljs">
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getJSON</span>(<span class="hljs-params">onSuccess, onFail</span>)</span>{

 <span class="hljs-keyword">var</span> parameters = {param1:<span class="hljs-string">'param1'</span>, param2:<span class="hljs-string">'param2'</span> };


 <span class="hljs-keyword">var</span> client = Ti.Network.createHTTPClient({
     <span class="hljs-comment">// function called when the response data is available</span>
     onload : <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
    onSuccess(<span class="hljs-built_in">JSON</span>.parse(<span class="hljs-keyword">this</span>.responseText));
     },
     <span class="hljs-comment">// function called when an error occurs, including a timeout</span>
     onerror : <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
    onFail(<span class="hljs-built_in">JSON</span>.stringify(e)));
     }
 });

 <span class="hljs-comment">// Prepare the connection.</span>
 client.open(<span class="hljs-string">"POST"</span>, <span class="hljs-string">'http://www.example.com'</span>);
 Client.setRequestHeader(<span class="hljs-string">"content-type"</span>, <span class="hljs-string">"application/x-www-form-urlencoded"</span>);

 client.send(parameters);
}


getJSON(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">json</span>)</span>{

    alert(json.response.type);

},
<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">error</span>)</span>{
    alert(error);
});
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="July 4th 2013, 2:30:16 pm">July 4th 2013</span>
											by <span class='authorname'>Nick Milner</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
