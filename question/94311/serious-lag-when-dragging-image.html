<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Serious lag when dragging image » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Serious lag when dragging image</h1>
		</header>
		<section>
			<p>I&#39;m getting serious lag when dragging an image using the following code:</p>
<pre><code class="hljs"><span class="hljs-tag">imageView</span><span class="hljs-class">.addEventListener</span>(<span class="hljs-string">'touchmove'</span>,<span class="hljs-function">function</span>(e){ <span class="hljs-tag">imageView</span><span class="hljs-class">.animate</span>({<span class="hljs-tag">center</span>:{<span class="hljs-attribute">x</span>:e.x,<span class="hljs-attribute">y</span>:e.y}, <span class="hljs-attribute">duration</span>:<span class="hljs-number">0</span>}); });
</code></pre><p>Have even tried the solution in this article but to no avail:</p>
<p>http:&#x2F;&#x2F;developer.appcelerator.com&#x2F;question&#x2F;16361&#x2F;drag-animation-lag</p>
<p>Is this a Titanium bug or am I missing something?</p>
<p>Cheers.</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="December 27th 2010, 9:15:58 pm">December 27th 2010</span>
				by <span class='authorname'>Alan Lougher</span>
			</div>

			

			<section>
				<h5>2 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Alan</p>
<p>Did you ignore <strong>the great big red banner</strong>, requesting that you include some question tags? ;-p</p>
<p>If you hadn&#39;t, you could have included your mobile platform and Ti SDK version.</p>
</div>
							<div class="author">
								&mdash; commented <span title="December 28th 2010, 8:33:51 am">December 28th 2010</span>
								by <span class='authorname'>Paul Dowsett</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>I&#39;m having the same issue :p hope someone posts a proper working solution</p>
</div>
							<div class="author">
								&mdash; commented <span title="December 29th 2010, 1:47:34 pm">December 29th 2010</span>
								by <span class='authorname'>daniyal hamid</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-169761">
				
						<section>
							<p>Hal, yeap I did ignore that big red banner - thought it was just for search :) Will remember that for next time. </p>
<p>Sdk is latest version, platform is iPad. </p>
<p>I did notice that if I put the image in a window the drag animation is a lot smoother but the image jumps around a lot especially if you take your finger off the screen. I think it has to do with the touchmove coordinates not taking into account the current position of the image or the size of the image so does anyone know what the correct code would be for that?</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="December 28th 2010, 12:53:26 pm">December 28th 2010</span>
								by <span class='authorname'>Alan Lougher</span><br>
								<a class="icon-bg icon-link" href="question/94311/serious-lag-when-dragging-image#answer-169761" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Ah, &quot;Latest backup – do not lose!&quot;.  Always so helpful :)</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 18th 2011, 4:05:01 am">April 18th 2011</span>
											by <span class='authorname'>Marius Marais</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-170221">
				
						<section>
							<p>Quick question: Does the touchmove event e.x and e.y return the center point of where you touched on the object? If that is the case I can see why imageView.animate({center:{x:e.x,y:e.y}, duration:0}) will not work since all this will do is move the center of the image to where you touched, hence why it&#39;s probably jumping around so much. The experience I&#39;m looking for is no matter where you touch the image you should be able to drag it in either direction. This is the logic I&#39;ve tried but can&#39;t get it to work. Any suggestions?</p>
<pre><code class="hljs">
<span class="hljs-built_in">window</span>.addEventListener(<span class="hljs-string">'touchstart'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)
</span>{
    xstart=e.x;
     ystart=e.y;
});


<span class="hljs-built_in">window</span>.addEventListener(<span class="hljs-string">'touchmove'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)
</span>{
    Titanium.API.info(<span class="hljs-string">'x: Start: '</span> +xstart+<span class="hljs-string">' End: '</span>+ e.x);
    Titanium.API.info(<span class="hljs-string">'y: Start: '</span> +ystart+<span class="hljs-string">' End: '</span>+ e.y);

    <span class="hljs-keyword">if</span> (e.x&lt;xstart) {
        <span class="hljs-built_in">window</span>.animate({left: <span class="hljs-built_in">window</span>.left-<span class="hljs-number">1</span>, duration:<span class="hljs-number">0</span> });
        Titanium.API.info(<span class="hljs-string">'Moving left from '</span> + <span class="hljs-built_in">window</span>.left + <span class="hljs-string">' to '</span> + <span class="hljs-built_in">window</span>.left-<span class="hljs-number">1</span>);
    }
    <span class="hljs-keyword">if</span> (e.x&gt;xstart) {
        <span class="hljs-built_in">window</span>.animate({left: <span class="hljs-built_in">window</span>.left+<span class="hljs-number">1</span>, duration:<span class="hljs-number">0</span> });
                Titanium.API.info(<span class="hljs-string">'Moving right from '</span> + <span class="hljs-built_in">window</span>.left + <span class="hljs-string">' to '</span> + <span class="hljs-built_in">window</span>.left+<span class="hljs-number">1</span>);
    }
    <span class="hljs-keyword">if</span> (e.y&gt;ystart) {
        <span class="hljs-built_in">window</span>.animate({top: <span class="hljs-built_in">window</span>.top+<span class="hljs-number">1</span>, duration:<span class="hljs-number">0</span> });
                Titanium.API.info(<span class="hljs-string">'Moving up from '</span> + <span class="hljs-built_in">window</span>.top + <span class="hljs-string">' to '</span> + <span class="hljs-built_in">window</span>.top-<span class="hljs-number">1</span>);
    }
    <span class="hljs-keyword">if</span> (e.y&lt;ystart) {
        <span class="hljs-built_in">window</span>.animate({left: <span class="hljs-built_in">window</span>.top-<span class="hljs-number">1</span>, duration:<span class="hljs-number">0</span> });
                Titanium.API.info(<span class="hljs-string">'Moving down from '</span> + <span class="hljs-built_in">window</span>.top + <span class="hljs-string">' to '</span> + <span class="hljs-built_in">window</span>.top+<span class="hljs-number">1</span>);
    }

});
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="December 29th 2010, 12:34:10 pm">December 29th 2010</span>
								by <span class='authorname'>Alan Lougher</span><br>
								<a class="icon-bg icon-link" href="question/94311/serious-lag-when-dragging-image#answer-170221" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
