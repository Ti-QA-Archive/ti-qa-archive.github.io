<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>android HTTPClient POST problems » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>android HTTPClient POST problems</h1>
		</header>
		<section>
			<p>I have the following code and anytime it&#39;s executed createReq.onError is called. What&#39;s wrong here? Using latest mobile SDK and android emulator. I&#39;m sure that &quot;somehost&quot; (removed actual host) is working!</p>
<pre><code class="hljs">var createReq = Titanium.Network.createHTTPClient();  
createReq.open(<span class="hljs-string">"<span class="hljs-keyword">POST</span>"</span>,<span class="hljs-string">"http://somehost/post_register.php"</span>);  
                var params = {  
                    username: username.value,  
                    password: Ti.Utils.md5HexDigest(password1.value),  
                    names: names.value,  
                    email: email.value  
                };  
                createReq.send(params);
</code></pre>
		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="January 18th 2011, 3:35:13 pm">January 18th 2011</span>
				by <span class='authorname'>Daniel Ferenc</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>emulator</span></li>
					
						<li><span class='tagname'>httpclient</span></li>
					
						<li><span class='tagname'>post</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>3</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>3 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-181261">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>i have had an incredible amount of problems with the httpClient on android and was finally forced to use the 1.6 CI builds to get it to work.</p>
<p>I would suggest you try the latest CI build an see of your problem is solved and then take a look in lighthouse to get additional information</p>
<p><a href="https:&#x2F;&#x2F;appcelerator.lighthouseapp.com&#x2F;projects&#x2F;32238-titanium-mobile">lighthouse == titanium mobile bug list</a></p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="January 18th 2011, 4:19:42 pm">January 18th 2011</span>
								by <span class='authorname'>Aaron Saunders</span><br>
								<a class="icon-bg icon-link" href="question/102021/android-httpclient-post-problems#answer-181261" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>lighthouse?</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 18th 2011, 4:25:30 pm">January 18th 2011</span>
											by <span class='authorname'>Daniel Ferenc</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-181241">
				
						<section>
							<p>In your onError callback, log or show an alert with the values of createReq.status and createReq.statusText which should let you decide what the error is.  The status is normally 200 but you are likely getting either a 4xx or 5xx error.  The combination of the error code and text should let you debug it.</p>
<p>You&#39;re not giving us enough information to decipher what your problem is – it may even just be an authentication error.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="January 18th 2011, 3:49:39 pm">January 18th 2011</span>
								by <span class='authorname'>Doug Handy</span><br>
								<a class="icon-bg icon-link" href="question/102021/android-httpclient-post-problems#answer-181241" rel="permalink">permalink</a>
							</div>

							<h5>2 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>&gt; status=0, statusText=null<br>is this even possible?</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 18th 2011, 3:56:53 pm">January 18th 2011</span>
											by <span class='authorname'>Daniel Ferenc</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I have seen that on occasion with android myself with a specific server, even with the 1.6.x builds.  However I need to run the 1.6.x builds anyway due to other problems they address.  I&#39;ve tended to dismiss it as a server problem, because I have only witnessed it with one server.  Perhaps it is not the server?</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 18th 2011, 5:30:26 pm">January 18th 2011</span>
											by <span class='authorname'>Doug Handy</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-215176">
				
						<section>
							<p>hello i&#39;m obtein tha same result  status=0, statusText=null<br>my code is:<br>var win = Titanium.UI.currentWindow;</p>
<p>&#x2F;*</p>
<ul>
<li>Interface<br>*&#x2F;<br>var scrollView = Titanium.UI.createScrollView({<br>  contentWidth:&#39;auto&#39;,<br>  contentHeight:&#39;auto&#39;,<br>  top:0,<br>  showVerticalScrollIndicator:true,<br>  showHorizontalScrollIndicator:true<br>});<br>win.add(scrollView);</li>
</ul>
<p>var username = Titanium.UI.createTextField({<br>    color:&#39;#336699&#39;,<br>    top:10,<br>    left:10,<br>    width:300,<br>    height:40,<br>    hintText:&#39;Username&#39;,<br>    borderStyle:Titanium.UI.INPUT_BORDERSTYLE_ROUNDED<br>});<br>scrollView.add(username);</p>
<p>var password1 = Titanium.UI.createTextField({<br>    color:&#39;#336699&#39;,<br>    top:60,<br>    left:10,<br>    width:300,<br>    height:40,<br>    hintText:&#39;Password&#39;,<br>    passwordMask:true,<br>    borderStyle:Titanium.UI.INPUT_BORDERSTYLE_ROUNDED<br>});<br>scrollView.add(password1);</p>
<p>var password2 = Titanium.UI.createTextField({<br>    color:&#39;#336699&#39;,<br>    top:110,<br>    left:10,<br>    width:300,<br>    height:40,<br>    hintText:&#39;Password Again&#39;,<br>    passwordMask:true,<br>    borderStyle:Titanium.UI.INPUT_BORDERSTYLE_ROUNDED<br>});<br>scrollView.add(password2);</p>
<p>var names = Titanium.UI.createTextField({<br>    color:&#39;#336699&#39;,<br>    top:160,<br>    left:10,<br>    width:300,<br>    height:40,<br>    hintText:&#39;Name&#39;,<br>    borderStyle:Titanium.UI.INPUT_BORDERSTYLE_ROUNDED<br>});<br>scrollView.add(names);</p>
<p>var email = Titanium.UI.createTextField({<br>    color:&#39;#336699&#39;,<br>    top:210,<br>    left:10,<br>    width:300,<br>    height:40,<br>    hintText:&#39;email&#39;,<br>    borderStyle:Titanium.UI.INPUT_BORDERSTYLE_ROUNDED<br>});<br>scrollView.add(email);</p>
<p>var country = Titanium.UI.createTextField({<br>    color:&#39;#336699&#39;,<br>    top:260,<br>    left:10,<br>    width:300,<br>    height:40,<br>    hintText:&#39;Country&#39;,<br>    borderStyle:Titanium.UI.INPUT_BORDERSTYLE_ROUNDED<br>});<br>scrollView.add(country);</p>
<p>var state = Titanium.UI.createTextField({<br>    color:&#39;#336699&#39;,<br>    top:310,<br>    left:10,<br>    width:300,<br>    height:40,<br>    hintText:&#39;State&#39;,<br>    borderStyle:Titanium.UI.INPUT_BORDERSTYLE_ROUNDED<br>});<br>scrollView.add(state);</p>
<p>var createBtn = Titanium.UI.createButton({<br>    title:&#39;Create Account&#39;,<br>    top:360,<br>    width:130,<br>    height:35,<br>    borderRadius:1,<br>    font:{fontFamily:&#39;Arial&#39;,fontWeight:&#39;bold&#39;,fontSize:14}<br>});<br>scrollView.add(createBtn);</p>
<p>var testresults;</p>
<p>function checkemail(emailAddress)<br>{<br>    var str = emailAddress;<br>    var filter = &#x2F;^([A-Za-z0-9<em>-.])+\@([A-Za-z0-9</em>-.])+.([A-Za-z]{2,4})$&#x2F;;<br>    if (filter.test(str))<br>    {<br>        testresults = true;<br>    }<br>    else<br>    {<br>        testresults = false;<br>    }<br>    return (testresults);<br>};</p>
<p>var createReq = Titanium.Network.createHTTPClient();<br>createReq.onload = function()<br>{<br>    if (this.responseText == &quot;Insert failed&quot; || this.responseText == &quot;That username or email already exists&quot;)<br>    {<br>        createBtn.enabled = true;<br>        createBtn.opacity = 1;<br>        alert(this.responseText);<br>    }<br>    else<br>    {<br>        var alertDialog = Titanium.UI.createAlertDialog({<br>            title: &#39;Alert&#39;,<br>            message: this.responseText,<br>            buttonNames: [&#39;OK&#39;]<br>        });<br>        alertDialog.show();<br>        alertDialog.addEventListener(&#39;click&#39;,function(e)<br>        {<br>            win.tabGroup.setActiveTab(0);<br>        });<br>    }<br>};</p>
<p>createBtn.addEventListener(&#39;click&#39;,function(e)<br>{<br>    var name=username.value ;<br>    if (username.value != &#39;&#39; &amp;&amp; password1.value != &#39;&#39; &amp;&amp; password2.value != &#39;&#39; &amp;&amp; names.value != &#39;&#39; &amp;&amp; email.value != &#39;&#39;)<br>    {<br>        if (password1.value != password2.value)<br>        {<br>            alert(&quot;Your passwords do not match&quot;);<br>        }<br>        else<br>        {<br>            if (!checkemail(email.value))<br>            {<br>                alert(&quot;Please enter a valid email&quot;);<br>            }<br>            else<br>            {<br>                createBtn.enabled = false;<br>                createBtn.opacity = 0.3;<br>                createReq.open(&quot;POST&quot;,&quot;http:&#x2F;&#x2F;localhost:80&#x2F;titanium&#x2F;post_register.php?name=&quot;+name);</p>
<pre><code class="hljs">            <span class="hljs-keyword">var</span> <span class="hljs-keyword">params</span> = {
                username: username.<span class="hljs-keyword">value</span>,
                password: Ti.Utils.md5HexDigest(password1.<span class="hljs-keyword">value</span>),
                names: names.<span class="hljs-keyword">value</span>,
                email: email.<span class="hljs-keyword">value</span>

            };
            createReq.setRequestHeader(<span class="hljs-string">'Content-Type'</span>, <span class="hljs-string">'text/html; charset=utf-8'</span>);
            createReq.send(<span class="hljs-keyword">params</span>);
            alert(createReq.connected);
            alert(createReq.status);
            alert(<span class="hljs-string">"message"</span>+createReq.statusText);
        }
    }
}
<span class="hljs-keyword">else</span>
{
    alert(<span class="hljs-string">"All fields are required"</span>);
}
</code></pre><p>});</p>
<p>createReq.onload = function()<br>{<br>    alert(&quot;onload&quot;);<br>    if (this.responseText == &quot;Insert failed&quot; || this.responseText == &quot;That username or email already exists&quot;)<br>    {<br>        &#x2F;&#x2F;win.remove(overlay);<br>        alert(this.responseText);<br>    }<br>    else<br>    {<br>        var alertDialog = Titanium.UI.createAlertDialog({<br>            title: &#39;Alert&#39;,<br>            message: this.responseText,<br>            buttonNames: [&#39;OK&#39;]<br>        });<br>        alertDialog.show();<br>        alertDialog.addEventListener(&#39;click&#39;,function(e)<br>        {<br>            win.tabGroup.setActiveTab(0);<br>        });<br>    }<br>};</p>
<p>Icant access to the databse.i&#39;m locate  post_register.php under the www folder if titanium.help me plz right now.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 2nd 2011, 8:37:30 am">August 2nd 2011</span>
								by <span class='authorname'>Rajaa Samaha</span><br>
								<a class="icon-bg icon-link" href="question/102021/android-httpclient-post-problems#answer-215176" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
