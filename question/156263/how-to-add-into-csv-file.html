<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>how to add into CSV file » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>how to add into CSV file</h1>
		</header>
		<section>
			<p>Hi everyone .. Actully i have an array and i need to add this values to a file called demo.csv.. the array is added successful in the file but if i run the app once again with new array of data the file is recreated and old data is lost and the new array objects are visible…. can help me pls</p>
<p>var array = [];<br>array.push(&#39;cd&#39;);<br>array.push(&#39;cc&#39;);<br>array.push(&#39;sa&#39;);</p>
<p>var file = Titanium.Filesystem.getFile(Titanium.Filesystem.applicationDataDirectory , &#39;Demo.csv&#39;);<br>if(!file.exists()){<br>    file.createFile();<br>}<br>var dataString = array.join(&#39;,&#39;);</p>
<p>file.write(dataString);</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="August 22nd 2013, 6:55:40 am">August 22nd 2013</span>
				by <span class='authorname'>vijay Kumar</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>csv</span></li>
					
				</ul>
			

			<section>
				<h5>2 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><pre><code class="hljs"><span class="hljs-keyword">var</span> <span class="hljs-keyword">array</span> = []; <span class="hljs-keyword">array</span>.push(<span class="hljs-string">'cd'</span>); <span class="hljs-keyword">array</span>.push(<span class="hljs-string">'cc'</span>); <span class="hljs-keyword">array</span>.push(<span class="hljs-string">'sa'</span>);

<span class="hljs-keyword">var</span> <span class="hljs-keyword">file</span> = Titanium.Filesystem.getFile(Titanium.Filesystem.applicationDataDirectory , <span class="hljs-string">'Demo.csv'</span>); <span class="hljs-keyword">if</span>(!<span class="hljs-keyword">file</span>.exists())<span class="hljs-comment">{ file.createFile(); }</span> <span class="hljs-keyword">var</span> dataString = <span class="hljs-keyword">array</span>.join(<span class="hljs-string">','</span>);

<span class="hljs-keyword">file</span>.<span class="hljs-keyword">write</span>(dataString);
</code></pre></div>
							<div class="author">
								&mdash; commented <span title="August 22nd 2013, 7:12:00 am">August 22nd 2013</span>
								by <span class='authorname'>Muhammad Wahhab Mirza</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>wat have u done mate i cant understand</p>
</div>
							<div class="author">
								&mdash; commented <span title="August 22nd 2013, 7:18:13 am">August 22nd 2013</span>
								by <span class='authorname'>vijay Kumar</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-267548">
				
						<section>
							<p>Hi,<br>To append data in the file which already have data into it call write() function making second parameter true, if we do not add second parameter then default its value is false. Doing this manner your old data will not get lost.</p>
<pre><code class="hljs">
<span class="hljs-function"><span class="hljs-title">write</span><span class="hljs-params">( dataString,true)</span></span> :
</code></pre><p>Hope! This will solve your problem…</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 22nd 2013, 9:30:17 am">August 22nd 2013</span>
								by <span class='authorname'>Moiz Chhatriwala</span><br>
								<a class="icon-bg icon-link" href="question/156263/how-to-add-into-csv-file.html#answer-267548" rel="permalink">permalink</a>
							</div>

							<h5>8 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Alternative for doing this is :</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> <span class="hljs-keyword">file</span> = Titanium.Filesystem.getFile(Titanium.Filesystem.applicationDataDirectory , 'Demo.csv');
<span class="hljs-keyword">var</span> oldData =<span class="hljs-string">""</span>;
<span class="hljs-keyword">var</span> appendData = 'Next new <span class="hljs-keyword">line</span>\<span class="hljs-keyword">n</span>';

<span class="hljs-keyword">if</span>(<span class="hljs-keyword">file</span>.exists()){

oldData = <span class="hljs-keyword">file</span>.<span class="hljs-keyword">read</span>();
}

<span class="hljs-keyword">file</span>.write(oldData+appendData);
</code></pre><p>You can use any of the option.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 22nd 2013, 9:35:14 am">August 22nd 2013</span>
											by <span class='authorname'>Moiz Chhatriwala</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Hi, thnx for reply ,,,  have used the above method but it is writing in the same line.on entering the values for  second time it writes just besides the first once can u help me pls</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 22nd 2013, 9:47:31 am">August 22nd 2013</span>
											by <span class='authorname'>vijay Kumar</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Which method you are using first one or second …</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 22nd 2013, 9:51:16 am">August 22nd 2013</span>
											by <span class='authorname'>Moiz Chhatriwala</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>i used first it is writing just beside that..<br>now i was using second but the problem is in the excel file first line is written twice</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 22nd 2013, 9:56:58 am">August 22nd 2013</span>
											by <span class='authorname'>vijay Kumar</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>var file = Titanium.Filesystem.getFile(Titanium.Filesystem.applicationDataDirectory , &#39;Demo.csv&#39;);</p>
<p>var oldData = &#39;&#39;;<br>var appendData = array +&#39;\n&#39;;<br>&#x2F;&#x2F;var dataString = appendData.join(&#39; &#39;);</p>
<p>if(!file.exists()){<br>    file.createFile();<br>    oldData = file.read();</p>
<p>}</p>
<p>file.write(oldData+appendData);</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 22nd 2013, 9:58:22 am">August 22nd 2013</span>
											by <span class='authorname'>vijay Kumar</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>can you send piece of code using first method.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 22nd 2013, 9:58:50 am">August 22nd 2013</span>
											by <span class='authorname'>Moiz Chhatriwala</span>
										</div>
									</li>
								
									<li class="comment">
										<p><ol>
<li>var file = Titanium.Filesystem.getFile(Titanium.Filesystem.applicationDataDirectory , &#39;Demo.csv&#39;);</li>
</ol>
<p>var dataString = appendData.join(&#39; &#39;);</p>
<p>if(!file.exists()){<br>    file.createFile();</p>
<p>}<br>file.write(dataString+&#39;\n&#39;,true);</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 22nd 2013, 10:01:11 am">August 22nd 2013</span>
											by <span class='authorname'>vijay Kumar</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>If you want it to start from next line then use:</p>
<pre><code class="hljs">var <span class="hljs-keyword">file</span> = Titanium.Filesystem.getFile(Titanium.Filesystem.applicationDataDirectory , <span class="hljs-string">'Demo.csv'</span>);
var dataString = appendData.<span class="hljs-keyword">join</span>(<span class="hljs-string">' '</span>);
<span class="hljs-keyword">if</span>(!<span class="hljs-keyword">file</span>.exists()){ <span class="hljs-keyword">file</span>.createFile();
} <span class="hljs-keyword">file</span>.<span class="hljs-keyword">write</span>(<span class="hljs-string">'\n'</span> +dataString+<span class="hljs-string">'\n'</span>,<span class="hljs-keyword">true</span>);
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="August 22nd 2013, 10:10:05 am">August 22nd 2013</span>
											by <span class='authorname'>Moiz Chhatriwala</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-267554">
				
						<section>
							<p>If you want it to start from next line then use: </p>
<pre><code class="hljs">
var <span class="hljs-keyword">file</span> = Titanium.Filesystem.getFile(Titanium.Filesystem.applicationDataDirectory , <span class="hljs-string">'Demo.csv'</span>);
var dataString = appendData.<span class="hljs-keyword">join</span>(<span class="hljs-string">' '</span>);
<span class="hljs-keyword">if</span>(!<span class="hljs-keyword">file</span>.exists()){ <span class="hljs-keyword">file</span>.createFile();
} <span class="hljs-keyword">file</span>.<span class="hljs-keyword">write</span>(<span class="hljs-string">'\n'</span> +dataString+<span class="hljs-string">'\n'</span>,<span class="hljs-keyword">true</span>);
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 22nd 2013, 10:09:11 am">August 22nd 2013</span>
								by <span class='authorname'>Moiz Chhatriwala</span><br>
								<a class="icon-bg icon-link" href="question/156263/how-to-add-into-csv-file.html#answer-267554" rel="permalink">permalink</a>
							</div>

							<h5>4 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Thnx bro</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 22nd 2013, 10:11:36 am">August 22nd 2013</span>
											by <span class='authorname'>vijay Kumar</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Did this help you, if this solve your problem the please accept the answer.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 22nd 2013, 10:13:24 am">August 22nd 2013</span>
											by <span class='authorname'>Moiz Chhatriwala</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>thnq for ur answer … kind of u … i have a doubt .. do u have any idea about ti.box module</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 23rd 2013, 3:52:46 am">August 23rd 2013</span>
											by <span class='authorname'>vijay Kumar</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>i m trying to insert some records and simultaneously trying to retrieve the inserted once into an array and trying to write this into file called demo.csv…. problem is when i open the file the array is writing all the new entries in a single line …. it should be in columns display code is here<br>var SQL = null;<br>Ti.Database.install(&#39;PDFCollection.db&#39;, &#39;PDFCollection1&#39;);<br>pdfDB = Ti.Database.open(&#39;PDFCollection1&#39;);<br>pdfDB.execute(&#39;BEGIN&#39;);<br>pdfDB.execute(&#39;INSERT INTO PDFTable(&quot;Date&quot;,&quot;UserName&quot;,&quot;Age&quot;,&quot;Gender&quot;,&quot;Email&quot;,&quot;Phone&quot;,&quot;opdNumber&quot;,&quot;DoctorName&quot;) VALUES (&quot;&#39;+ dateShow.text+&#39;&quot;,&quot;&#39;+ name+&#39;&quot;,&quot;&#39;+ age+&#39;&quot;,&quot;&#39;+ gender+&#39;&quot;,&quot;&#39;+ emailstring+&#39;&quot;,&quot;&#39;+ mobile+&#39;&quot;,&quot;&#39;+ opd+&#39;&quot;,&quot;&#39;+ doctorstring+&#39;&quot;)&#39;); SQL = pdfDB.execute(&#39;SELECT * FROM PDFTable&#39;); pdfDB.execute(&quot;COMMIT TRANSACTION&quot;);<br> if (SQL.getRowCount() &amp;gt; 0){</p>
<pre><code class="hljs">     <span class="hljs-keyword">while</span>(SQL.isValidRow()){

          Mdate = SQL.fieldByName(<span class="hljs-string">'Date'</span>);
          Mname = SQL.fieldByName(<span class="hljs-string">'UserName'</span>);
          Mage = SQL.fieldByName(<span class="hljs-string">'Age'</span>);
          Mgender = SQL.fieldByName(<span class="hljs-string">'Gender'</span>);
          Memail = SQL.fieldByName(<span class="hljs-string">'Email'</span>);
          Mphone = SQL.fieldByName(<span class="hljs-string">'Phone'</span>);
          Mopd = SQL.fieldByName(<span class="hljs-string">'opdNumber'</span>);
          Mdoctorname = SQL.fieldByName(<span class="hljs-string">'DoctorName'</span>);

     csvArray.<span class="hljs-keyword">push</span>(Mdate);
         csvArray.<span class="hljs-keyword">push</span>(Mname);
         csvArray.<span class="hljs-keyword">push</span>(Mage);
         csvArray.<span class="hljs-keyword">push</span>(Mgender);
         csvArray.<span class="hljs-keyword">push</span>(Memail);
         csvArray.<span class="hljs-keyword">push</span>(Mphone);
         csvArray.<span class="hljs-keyword">push</span>(Mopd);
         csvArray.<span class="hljs-keyword">push</span>(Mdoctorname);


        SQL.<span class="hljs-keyword">next</span>();              

        }

    SQL.<span class="hljs-keyword">close</span>();
  }  
    pdfDB.<span class="hljs-keyword">close</span>();
</code></pre><p>csvfile = Titanium.Filesystem.getFile(Titanium.Filesystem.applicationDataDirectory , &#39;PremierReport.csv&#39;); var oldData = &#39;&#39;; var appendData = csvArray +&#39;\n&#39;; if(!csvfile.exists()){ csvfile.createFile(); oldData = csvfile.read();<br>}<br>csvfile.write(appendData,true);</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 28th 2013, 9:30:28 am">August 28th 2013</span>
											by <span class='authorname'>vijay Kumar</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
