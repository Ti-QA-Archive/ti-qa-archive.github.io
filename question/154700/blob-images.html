<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>blob images Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>blob images</h1>
		</header>
		<section>
			<p>Hi All,</p>
<p>I want to store images which i get from facebook in the blob format in the dir.<br>how can i do that?<br>I am using titanium 3.1 and using iphone to deploy it</p>
<p>Thanks</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="July 10th 2013, 11:58:49 am">July 10th 2013</span>
				by <span class='authorname'>Tejas Nadkarni</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>blob</span></li>
					
						<li><span class='tagname'>dir</span></li>
					
						<li><span class='tagname'>iphone</span></li>
					
						<li><span class='tagname'>store data</span></li>
					
						<li><span class='tagname'>titanium</span></li>
					
				</ul>
			

			<section>
				<h5>2 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>are you getting image url from facebook?</p>
</div>
							<div class="author">
								&mdash; commented <span title="July 10th 2013, 12:22:35 pm">July 10th 2013</span>
								by <span class='authorname'>Mitul Bhalia</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>ya i am getting the facebook image</p>
</div>
							<div class="author">
								&mdash; commented <span title="July 11th 2013, 2:32:25 am">July 11th 2013</span>
								by <span class='authorname'>Tejas Nadkarni</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-265690">
				
						<section>
							<p>You can try</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> f = Ti.Filesystem.getFile(Ti.Filesystem.applicationDataDirectory,<span class="hljs-string">'ti.png'</span>);
f.<span class="hljs-keyword">write</span>(&lt;your blob data&gt;); <span class="hljs-comment">// Ex. f.write(this.responseData)</span>
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="July 10th 2013, 12:48:08 pm">July 10th 2013</span>
								by <span class='authorname'>Pooja Laad</span><br>
								<a class="icon-bg icon-link" href="question/154700/blob-images.html#answer-265690" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>hey i am doing the same thing but what should i write in &lt;your blob data&gt;</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 11th 2013, 2:31:32 am">July 11th 2013</span>
											by <span class='authorname'>Tejas Nadkarni</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-265735">
				
						<section>
							<p>ok, then you can use httpClient to download image from remote image url and then save that image with using Filesystem.In that way you can save all your facebook images in local directory.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="July 11th 2013, 2:43:09 am">July 11th 2013</span>
								by <span class='authorname'>Mitul Bhalia</span><br>
								<a class="icon-bg icon-link" href="question/154700/blob-images.html#answer-265735" rel="permalink">permalink</a>
							</div>

							<h5>2 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>I am using this code</p>
<pre><code class="hljs">var xhr = Ti.Network.createHTTPClient();

                    xhr.onload = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span></span> {
                        <span class="hljs-keyword">if</span> (xhr.<span class="hljs-keyword">status</span> == <span class="hljs-number">200</span>) {

                            <span class="hljs-keyword">file</span>.<span class="hljs-built_in">write</span>(xhr.responseData);

                        };
                    };

                    xhr.open(<span class="hljs-string">'GET'</span>, url);

                    xhr.send();
</code></pre><p>but the onload occurs after the window close.<br>I want that to load before the window close</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 11th 2013, 4:52:00 am">July 11th 2013</span>
											by <span class='authorname'>Tejas Nadkarni</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>see httpClient is asynchronus method so when you get success then you should close window.</p>
<p>like</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> xhr = Ti.Network.createHTTPClient();

xhr.onload = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">if</span> (xhr.status == <span class="hljs-number">200</span>) {

        file.write(xhr.responseData);
        <span class="hljs-comment">// close window</span>

    };
};

xhr.open(<span class="hljs-string">'GET'</span>, url);

xhr.send();
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="July 11th 2013, 4:56:45 am">July 11th 2013</span>
											by <span class='authorname'>Mitul Bhalia</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
