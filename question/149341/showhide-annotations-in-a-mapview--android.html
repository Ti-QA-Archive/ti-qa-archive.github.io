<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Show/Hide Annotations in a mapview ~ Android » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Show/Hide Annotations in a mapview ~ Android</h1>
		</header>
		<section>
			<p>Hello all.</p>
<p>I am currently working with fellow students to make an android app that will track the position of our campus shuttles as they go along their routes. On the mapview we&#39;ve created, there are a few annotations that mark our parking lots and other landmarks for reference. However, we want to be able to let the user hide and show the annotations at the push of a button. So far, hiding the annotations works great with a simple call to mapview&#39;s removeAnnotation() function. However, when trying to add them back via the button using addAnnotation(), it wont add them back. Here&#39;s the button&#39;s code.</p>
<p>abool is a bool that defaults at true when the map is first opened that defines the status of the annotations, on or off.</p>
<pre><code class="hljs">    abutton.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>
    </span>{

        <span class="hljs-keyword">if</span> (abool == <span class="hljs-literal">true</span>)
        {    
            mapview.removeAnnotation(<span class="hljs-string">'Parking Lot P'</span>);
            mapview.removeAnnotation(<span class="hljs-string">'Parking Lot R'</span>);
            mapview.removeAnnotation(<span class="hljs-string">'Parking Lot V'</span>);
            mapview.removeAnnotation(<span class="hljs-string">'Best Western'</span>);
            mapview.removeAnnotation(<span class="hljs-string">'Flag pole'</span>);
            abutton.title = <span class="hljs-string">'Show Icons'</span>;
            abool = <span class="hljs-literal">false</span>;

        }
        <span class="hljs-keyword">else</span>
        {    
            mapview.addAnnotation(plpa);
            mapview.addAnnotation(plra);
            mapview.addAnnotation(plva);
            mapview.addAnnotation(bwa);
            mapview.addAnnotation(fpa);
            abutton.title = <span class="hljs-string">'Hide Icons'</span>;
            abool = <span class="hljs-literal">true</span>;

        }
</code></pre><p>So yeah, Since add doesnt work, I was wondering why. I mean, since remove just hides them instantly, why can&#39;t add just add them instantly?</p>
<p>Thank you in advance for your help!</p>
<p>~Zorpix</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="March 8th 2013, 7:31:14 pm">March 8th 2013</span>
				by <span class='authorname'>Joseph Sawyer</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>annotation</span></li>
					
						<li><span class='tagname'>button</span></li>
					
						<li><span class='tagname'>eventlistener</span></li>
					
						<li><span class='tagname'>hide</span></li>
					
						<li><span class='tagname'>mapview</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-258330">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>hi,</p>
<p>try this one….</p>
<pre><code class="hljs">abutton.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>
    </span>{

        <span class="hljs-keyword">if</span> (abool == <span class="hljs-literal">true</span>)
        {   
            mapview.removeAnnotation(<span class="hljs-string">'Parking Lot P'</span>);
            mapview.removeAnnotation(<span class="hljs-string">'Parking Lot R'</span>);
            mapview.removeAnnotation(<span class="hljs-string">'Parking Lot V'</span>);
            mapview.removeAnnotation(<span class="hljs-string">'Best Western'</span>);
            mapview.removeAnnotation(<span class="hljs-string">'Flag pole'</span>);
            abutton.title = <span class="hljs-string">'Show Icons'</span>;
            abool = <span class="hljs-literal">false</span>;

        }
        <span class="hljs-keyword">else</span>
        {   
       <span class="hljs-keyword">var</span> arrAnnotations = [plpa,plra,plva,bwa,fpa];
            mapview.addAnnotations(arrAnnotations);
            abutton.title = <span class="hljs-string">'Hide Icons'</span>;
            abool = <span class="hljs-literal">true</span>;

        }
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="March 9th 2013, 2:42:12 am">March 9th 2013</span>
								by <span class='authorname'>Mitul Bhalia</span><br>
								<a class="icon-bg icon-link" href="question/149341/showhide-annotations-in-a-mapview--android.html#answer-258330" rel="permalink">permalink</a>
							</div>

							<h5>4 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Sorry… doesn&#39;t work :&#x2F; Same issue basically. Nothing happens.</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 9th 2013, 2:55:46 am">March 9th 2013</span>
											by <span class='authorname'>Joseph Sawyer</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Just tried this solution again. Not only does it not work, but it causes the program to crash..</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 11th 2013, 6:10:23 pm">March 11th 2013</span>
											by <span class='authorname'>Joseph Sawyer</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>ok,try to remove annotation with annotation object not by passing string..</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 12th 2013, 2:42:20 am">March 12th 2013</span>
											by <span class='authorname'>Mitul Bhalia</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Wow, that worked! Thank you! :)</p>
<pre><code class="hljs">abutton.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>
    </span>{

        <span class="hljs-keyword">if</span> (abool == <span class="hljs-literal">true</span>)
        {    
            mapview.removeAnnotation(plpa);
            mapview.removeAnnotation(plra);
            mapview.removeAnnotation(plva);
            mapview.removeAnnotation(bwa);
            mapview.removeAnnotation(fpa);
            abutton.title = <span class="hljs-string">'Show Icons'</span>;
            abool = <span class="hljs-literal">false</span>;
        }
        <span class="hljs-keyword">else</span>
        {    
            mapview.addAnnotations(arrAnnotations);
            abutton.title = <span class="hljs-string">'Hide Icons'</span>;
            abool = <span class="hljs-literal">true</span>;
        }
</code></pre><p>I also added the annotation in the first place the same way above</p>
<pre><code class="hljs">var mapview = Titanium.Map.createView({

        <span class="hljs-string">mapType :</span> Titanium.Map.STANDARD_TYPE,
        <span class="hljs-string">region :</span> {
            <span class="hljs-string">latitude :</span> <span class="hljs-number">42.60939</span>,
            <span class="hljs-string">longitude :</span> -<span class="hljs-number">87.823377</span>,
            <span class="hljs-string">latitudeDelta :</span> <span class="hljs-number">0.03</span>,
            <span class="hljs-string">longitudeDelta :</span> <span class="hljs-number">0.03</span>
        },
        <span class="hljs-string">animate :</span> <span class="hljs-literal">true</span>,
        <span class="hljs-string">regionFit :</span> <span class="hljs-literal">true</span>,
        <span class="hljs-string">userLocation :</span> <span class="hljs-literal">true</span>,
        <span class="hljs-string">annotations :</span> annotations
    });
    var arrAnnotations = [plpa,plra,plva,bwa,fpa];
    mapview.addAnnotations(arrAnnotations);
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="March 12th 2013, 11:22:15 pm">March 12th 2013</span>
											by <span class='authorname'>Joseph Sawyer</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
