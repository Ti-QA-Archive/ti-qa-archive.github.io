<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Ti.Media.createAudioPlayer for local files Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Ti.Media.createAudioPlayer for local files</h1>
		</header>
		<section>
			<p>This question seems to be have been asked a lot, and some people seem to have it working. I&#39;m not one of them!</p>
<p>I&#39;m trying to create an audio player which will play a (large) local MP3 file, and will continue to play it in the background.</p>
<p>This is a snippet of the code:</p>
<pre><code class="hljs">var mp<span class="hljs-number">3</span>URL = Ti.Filesystem.getResourcesDirectory<span class="hljs-comment">()</span>; + <span class="hljs-string">'music.mp3'</span>;

var audioPlayer = Ti.Media.createAudioPlayer<span class="hljs-comment">({
    url : mp3URL
})</span>;

audioPlayer.start<span class="hljs-comment">()</span>;
</code></pre><p>This gives me an &#39;File Error - Unable to configure network read stream&#39;.</p>
<p>If I create the audio player to stream the file it works as expected, but I really want the file locally. </p>
<p>Annoyingly I have this working in Xcode as a native iOS app, but can&#39;t get this going at all. Please help!!</p>
<p>Thanks</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="May 17th 2012, 12:26:15 pm">May 17th 2012</span>
				by <span class='authorname'>Nigel Harrison</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>audio ios</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>3</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>3 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-238886">
				
						<section>
							<p>Ok, I gotta ask. Is the snippet you pasted in the actual code you are using? If it is, then this line is incorrect:</p>
<pre><code class="hljs">var mp3URL = <span class="hljs-type">Ti</span>.<span class="hljs-type">Filesystem</span>.getResourcesDirectory<span class="hljs-literal">()</span>; + <span class="hljs-symbol">'music</span>.mp3';
</code></pre><p>There is a <code>;</code> before adding the filename. I&#39;m not completely sure that this will fix your issue. the AudioPlayer is built specifically for streaming audio to the device while offering that granular control, like the ability to allow background playing.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="May 17th 2012, 2:53:03 pm">May 17th 2012</span>
								by <span class='authorname'>Anthony Decena</span><br>
								<a class="icon-bg icon-link" href="../../question/137099/timediacreateaudioplayer-for-local-files.html#answer-238886" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Well spotted! You got me, I tidied it to post</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 17th 2012, 3:15:52 pm">May 17th 2012</span>
											by <span class='authorname'>Nigel Harrison</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-238872">
				
						<section>
							<p>Hi Nigel,</p>
<p><a href="https:&#x2F;&#x2F;github.com&#x2F;appcelerator&#x2F;KitchenSink&#x2F;blob&#x2F;master&#x2F;Resources&#x2F;examples&#x2F;sound_local.js">Refere this link</a></p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="May 17th 2012, 12:34:10 pm">May 17th 2012</span>
								by <span class='authorname'>Nitin Chavda</span><br>
								<a class="icon-bg icon-link" href="../../question/137099/timediacreateaudioplayer-for-local-files.html#answer-238872" rel="permalink">permalink</a>
							</div>

							<h5>3 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Thanks Nitin, but that&#39;s actually where I started, and unless I&#39;m mistaken createSound does not support playing in the background on iOS - it seems to work on Android though</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 17th 2012, 2:15:13 pm">May 17th 2012</span>
											by <span class='authorname'>Nigel Harrison</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>okey,try to set this property and test it.</p>
<pre><code class="hljs"> Ti<span class="hljs-class">.Media</span><span class="hljs-class">.defaultAudioSessionMode</span> = Ti<span class="hljs-class">.Media</span><span class="hljs-class">.AUDIO_SESSION_MODE_PLAYBACK</span>
</code></pre><p>and set this in your tiapp.xml file.</p>
<pre><code class="hljs"> <span class="hljs-tag">&lt;<span class="hljs-title">iphone</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">backgroundModes</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">mode</span>&gt;</span>audio<span class="hljs-tag">&lt;/<span class="hljs-title">mode</span>&gt;</span>
     <span class="hljs-tag">&lt;/<span class="hljs-title">backgroundModes</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">iphone</span>&gt;</span>
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="May 17th 2012, 3:00:19 pm">May 17th 2012</span>
											by <span class='authorname'>Nitin Chavda</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Thanks again, but I&#39;ve done this already, makes no difference as far as I can see when using createSound</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 17th 2012, 3:18:31 pm">May 17th 2012</span>
											by <span class='authorname'>Nigel Harrison</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-238873">
				
						<section>
							<p>try with <code>Ti.Media.createSound()</code>  :)</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="May 17th 2012, 12:34:39 pm">May 17th 2012</span>
								by <span class='authorname'>mahmoud kamal</span><br>
								<a class="icon-bg icon-link" href="../../question/137099/timediacreateaudioplayer-for-local-files.html#answer-238873" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Thanks Mahmoud, but see comment above</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 17th 2012, 2:15:54 pm">May 17th 2012</span>
											by <span class='authorname'>Nigel Harrison</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
