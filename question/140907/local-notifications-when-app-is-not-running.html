<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Local Notifications when app is not running » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Local Notifications when app is not running</h1>
		</header>
		<section>
			<p>App Flow: User performs certain actions. These trigger the app to set local notifications at various times on various dates. </p>
<p>eg: 10:30PM on 15th August, 11:00AM on 19th August, 3:30PM on 26th August. </p>
<p>From what I understand, local notifications will only be displayed when the app is in the foreground or background. The app, needs to be invoked. The background persistent time, is roughly 7 minutes if I am not wrong. </p>
<p>How do I get this to work properly, even when the app hasn&#39;t been invoked? Something like iOS&#39;s native Clock app which sets Alarms or the Notifications feature from the Things (for iPhone) app.</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="August 12th 2012, 10:47:25 am">August 12th 2012</span>
				by <span class='authorname'>Nikhil Nigade</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>ios</span></li>
					
						<li><span class='tagname'>local</span></li>
					
						<li><span class='tagname'>notification</span></li>
					
				</ul>
			

			<section>
				<h5>2 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Hi Nikhil</p>
<p>I meant detail out the Things notification example.</p>
</div>
							<div class="author">
								&mdash; commented <span title="August 12th 2012, 10:54:26 am">August 12th 2012</span>
								by <span class='authorname'>Malcolm Hollingsworth</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Ohk, so what happens in Things is this: </p>
<p>You can setup todos under various categories.<br>Each todo, may or may not have a due date linked to it. </p>
<p>The notifications bit applies to the ones with a due date.<br>When a todo is due &quot;today&quot; (due date and local date are the same), the user has an option to set up a reminder form the notifications tab, at a suitable time. </p>
<p>Use case:<br>I have 3 todos due tomorrow, and Things is setup to send me a notification everyday at 11AM. The day on which those 3 todos are due: on that day, at 11AM, I will get a notification about the tasks which I should complete today.</p>
<p>Even though Things isn&#39;t running (foreground or background), it is able to pop a notification for me.</p>
</div>
							<div class="author">
								&mdash; commented <span title="August 12th 2012, 10:59:30 am">August 12th 2012</span>
								by <span class='authorname'>Nikhil Nigade</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>1</span> Vote</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-245087">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>Hi Nikhil</p>
<p>There are only three ways that Things can handle notifications;</p>
<ul>
<li>If the app is running - then simply tell you</li>
<li>If the app is in the background - then use local notifications</li>
<li>If the app is not working - then use push notifications</li>
</ul>
<p>If the Things app does tell you about events when the app is completely shut down (not in background) then push is the only option for this.</p>
<p>Only Apple apps are able to handle events without the need for local or push notifications.</p>
<p>The Things app has the same restrictions as we do.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 12th 2012, 11:01:46 am">August 12th 2012</span>
								by <span class='authorname'>Malcolm Hollingsworth</span><br>
								<a class="icon-bg icon-link" href="question/140907/local-notifications-when-app-is-not-running#answer-245087" rel="permalink">permalink</a>
							</div>

							<h5>7 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Try a test for me.</p>
<ul>
<li>Set an event for 5 minutes from now.</li>
<li>Go to settings and turn on airplane mode.</li>
<li>Wait ten minutes</li>
<li>Were you alerted?</li>
</ul>
<p>Remember to turn back off the airplane mode.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 12th 2012, 11:03:47 am">August 12th 2012</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Trying this out.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 12th 2012, 11:05:25 am">August 12th 2012</span>
											by <span class='authorname'>Nikhil Nigade</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>This is weird. I tried with this code but nothing happened. Something I did wrong?</p>
<pre><code class="hljs">Ti<span class="hljs-built_in">.</span>App<span class="hljs-built_in">.</span>iOS<span class="hljs-built_in">.</span>scheduleLocalNotification({
    alertBody:<span class="hljs-string">"Are you sure ?"</span>,
    alertAction:<span class="hljs-string">"Launch!"</span>,
    userInfo:{<span class="hljs-string">"Hello"</span>:<span class="hljs-string">"World"</span>},
    <span class="hljs-built_in">date</span>: (<span class="hljs-literal">new</span> <span class="hljs-built_in">Date</span>()<span class="hljs-built_in">.</span>getTime() + <span class="hljs-number">30000</span>) <span class="hljs-comment">//set to 30s later</span>
});
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="August 12th 2012, 11:26:38 am">August 12th 2012</span>
											by <span class='authorname'>Nikhil Nigade</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Hi Nikhil</p>
<p>You can do this without another module, you just missed a bit.  Your modified code (I had trouble with the date part) is below.</p>
<p>This sets up the local notification.</p>
<pre><code class="hljs"><span class="hljs-built_in">var</span> t = <span class="hljs-literal">new</span> <span class="hljs-built_in">Date</span>();
t<span class="hljs-built_in">.</span>setSeconds(t<span class="hljs-built_in">.</span>getSeconds() + <span class="hljs-number">10</span>);

Ti<span class="hljs-built_in">.</span>App<span class="hljs-built_in">.</span>iOS<span class="hljs-built_in">.</span>scheduleLocalNotification({
  alertBody: <span class="hljs-string">"Are you sure ?"</span>,
  alertAction: <span class="hljs-string">"Launch!"</span>,
  userInfo: {
    <span class="hljs-string">"Hello"</span>: <span class="hljs-string">"World"</span>
  },
  <span class="hljs-built_in">date</span>: t
});
</code></pre><p>This is the response handler that acts on the notifications, you can set up several and this handler will listen and react to them.  Place it somewhere in your code where it can listen out at the right time, think <code>app.js</code> unless you have a better place.</p>
<pre><code class="hljs">Ti.App.iOS.addEventListener(<span class="hljs-string">'notification'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span></span>{
    alert(e);
});
</code></pre><p>This is where the magic happens.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 12th 2012, 12:54:54 pm">August 12th 2012</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Bingo! That worked like a charm as well. Thank you Malcolm.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 12th 2012, 1:35:41 pm">August 12th 2012</span>
											by <span class='authorname'>Nikhil Nigade</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I aim to please</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 12th 2012, 1:39:22 pm">August 12th 2012</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Hi, I m struggle with same situation. One simple ques? Suppose, I have set notification for tomorrow at 11 AM. Then close the app. And go to setting date-time, and changed tomorrow and time 10:55 AM. So, after 5 min, can I get notification or not? Currently I am not getting any notification. Can you please help? and share your idea. Many Thanks.</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 6th 2013, 7:57:51 am">March 6th 2013</span>
											by <span class='authorname'>Nishant B</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-245089">
				
						<section>
							<p>Hi Malcom,</p>
<p>I tried this module and turns out, it works perfectly. Highly recommend it. </p>
<p>Ran tests with it to show notifications after 3s, 30s, 3m and 90m. All fired up like fireworks. Cheers to Ben. </p>
<p><a href="https:&#x2F;&#x2F;github.com&#x2F;benbahrenburg&#x2F;LocalNotify">Local Notify Module</a></p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 12th 2012, 12:06:43 pm">August 12th 2012</span>
								by <span class='authorname'>Nikhil Nigade</span><br>
								<a class="icon-bg icon-link" href="question/140907/local-notifications-when-app-is-not-running#answer-245089" rel="permalink">permalink</a>
							</div>

							<h5>3 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Also, I am creating notification in loop. I am adding 10 notfication. But only get 5 notification. Not getting remaining 5 notification.</p>
<p>Hi, I m struggle with same situation. One simple ques? Suppose, I have set notification for tomorrow at 11 AM. Then close the app. And go to setting date-time, and changed tomorrow and time 10:55 AM. So, after 5 min, can I get notification or not? Currently I am not getting any notification. Can you please help? and share your idea. Many Thanks.</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 6th 2013, 8:06:26 am">March 6th 2013</span>
											by <span class='authorname'>Nishant B</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>That should work, in my experience. In the event it doesn&#39;t, the module I mentioned above allows you retrive all scheduled notifications. Pull in those, check the current every time the app is run, and update the times if necessary. This is a long shot, but it might work.</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 6th 2013, 9:28:50 am">March 6th 2013</span>
											by <span class='authorname'>Nikhil Nigade</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Cheers for whoever just marked my answer down - makes a guy feel good about helping out.</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 6th 2013, 2:22:15 pm">March 6th 2013</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
