<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Confused on using CommonJS module structure with Titanium Alloy Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Confused on using CommonJS module structure with Titanium Alloy</h1>
		</header>
		<section>
			<p>Hi,</p>
<p>I am building a mobile application using the  Titanium Alloy framework both for Android and iPhone.</p>
<p>I understand that it is a good practice to have a single context for Titanium applications. For this we need to create commonJS modules.</p>
<p>My confusion is how does it apply to Alloy frame work. In Alloy every controller has a different view, controller and a style sheet. So to follow commonJS in Alloy should I create commonJS modules in the lib folder and export the modules as necessary.</p>
<p>I am a bit confused about how I can have single context Alloy applications. I hope some one can throw some light on this and clear my doubts.</p>
<p>Thanks</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="February 6th 2014, 6:51:05 am">February 6th 2014</span>
				by <span class='authorname'>Bably Das</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>alloy</span></li>
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>commonjs</span></li>
					
						<li><span class='tagname'>iphone</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>1</span> Vote</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-274880">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>Hi</p>
<p>Yes you have a few things confused - but that is not surprising as there is a lot of information out there from different time periods and different version - that do not say when or what version the applied.</p>
<ul>
<li>Single context vs Multi-context (this only relates to window creation)</li>
</ul>
<p>This has nothing to do with how many windows you have, it is about how you create a window and more specifically the use of the window property <strong>url</strong>.  In short do <strong>NOT</strong> use the url property unless you really know why you need it and even then don&#39;t.</p>
<p>Alloy does NOT create multi-context windows (however it is technology possible - just do not do it) as it does not use the window property <strong>url</strong>.  Yes it creates separate controllers&#x2F;views&#x2F;tss files but these are more management of the app and reuse - nothing to do with multiple context.</p>
<ul>
<li>CommonJS with Alloy</li>
</ul>
<p>Before Alloy CommonJS was suggested as the smart way to create sections of your app so you could better manage the app as it scales.  Benefits include better memory usage as the app would only read into memory those things it actually needed and only when it needed them.  An experienced CommonJS creator can create some amazingly efficient modules.  CommonJS is great.</p>
<p>CommonJS has been seen as a way to create and return windows, views and more - but that is NOT the only thing it does.  CommonJS should be used for business logic where you pass in some data and it returns back some information - no UI involved.</p>
<p>As Alloy is a framework designed to manage the structure of the app and more importantly makes you think about the layout of the app - the UI needs of CommonJS are reduced or removed.  However the business logic (non UI) is just as important as it every was.</p>
<ul>
<li>Conclusion</li>
</ul>
<p>So in short Alloy creates single context apps by using controllers&#x2F;views&#x2F;tss either both in and out of widgets.  You can and should still include CommonJS modules if they are required and form business logic - but usually these will not include UI elements.</p>
<ul>
<li>Follow Up</li>
</ul>
<p>Alloy CommonJS modules can include UI - but you should try to avoid including UI elements in a project unless you have really mastered Alloy as you may end up falling into the trap of putting all your UI in CommonJS where UI should be managed by the Alloy framework.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="February 6th 2014, 7:11:26 am">February 6th 2014</span>
								by <span class='authorname'>Malcolm Hollingsworth</span><br>
								<a class="icon-bg icon-link" href="../../question/162302/confused-on-using-commonjs-module-structure-with-titanium-alloy.html#answer-274880" rel="permalink">permalink</a>
							</div>

							<h5>4 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Ha I was answering but then got dragged into a meeting.. Much more comprehensive answer :)</p>
</p>
										<div class="author">
											&mdash; commented <span title="February 6th 2014, 7:14:29 am">February 6th 2014</span>
											by <span class='authorname'>Trevor Ward</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>BTW if you include CommonJS modules you are correct - they should be placed in the following folder;</p>
<pre><code class="hljs">{appname}/<span class="hljs-class"><span class="hljs-keyword">lib</span>/</span>
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="February 6th 2014, 7:20:41 am">February 6th 2014</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Thank you Malcolm for such a detailed explanation. All my doubts are clear now :) Yes,  I have been placing all commonJS modules in the lib folder for Alloy.</p>
</p>
										<div class="author">
											&mdash; commented <span title="February 6th 2014, 7:28:52 am">February 6th 2014</span>
											by <span class='authorname'>Bably Das</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>You are very welcome</p>
</p>
										<div class="author">
											&mdash; commented <span title="February 6th 2014, 7:38:08 am">February 6th 2014</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>2</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-274881">
				
						<section>
							<p>This may seem a strange answer but you answered your own question.</p>
<p>Yes you create your modules in the lib directory and export the internal functions as required.</p>
<p>We actually use the MVC for our View details and then use a sub folder structure in Lib for our business logic.</p>
<p>But as you&#39;re aware the controllers are just commonJS modules with Alloy tags in ..</p>
<p>T</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="February 6th 2014, 7:12:55 am">February 6th 2014</span>
								by <span class='authorname'>Trevor Ward</span><br>
								<a class="icon-bg icon-link" href="../../question/162302/confused-on-using-commonjs-module-structure-with-titanium-alloy.html#answer-274881" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Thanks Trevor for your time and helping me clarify my doubts.</p>
</p>
										<div class="author">
											&mdash; commented <span title="February 6th 2014, 7:30:15 am">February 6th 2014</span>
											by <span class='authorname'>Bably Das</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
