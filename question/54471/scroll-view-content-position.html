<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Scroll View Content Position » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Scroll View Content Position</h1>
		</header>
		<section>
			<p>Hi,</p>
<p>I have a scrollview which displays content vertically. Is there a property which lets me determine the y position of content (in the same way as I might set its height with contentHeight)?</p>
<p>Cheers<br>Mark</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="August 20th 2010, 7:31:53 pm">August 20th 2010</span>
				by <span class='authorname'>Mark Peace</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>scrollview</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>1</span> Vote</div>
			<div class="answers"><span>4</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>4 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-103931">
				
						<section>
							<p><strong>contentOffset</strong> does not help ?</p>
<p>take care it&#39;s an object so you&#39;ll need </p>
<pre><code class="hljs">the_scroll<span class="hljs-class">.contentOffset</span><span class="hljs-class">.x</span>

the_scroll<span class="hljs-class">.contentOffset</span><span class="hljs-class">.y</span>
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 21st 2010, 8:00:40 am">August 21st 2010</span>
								by <span class='authorname'>Dan Tamas</span><br>
								<a class="icon-bg icon-link" href="question/54471/scroll-view-content-position.html#answer-103931" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>contentOffset is undefined. See here for the solution: http:&#x2F;&#x2F;developer.appcelerator.com&#x2F;question&#x2F;54471&#x2F;scroll-view-content-position.html#answer-252185</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 5th 2012, 9:18:59 am">December 5th 2012</span>
											by <span class='authorname'>Robin Stoker</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-212452">
				
						<section>
							<p>I tried to use this proporties, but it comes an exception: <code>scrollView.contentOffset is not an object</code></p>
<p>Here my code:</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> <span class="hljs-keyword">win</span> = Titanium.UI.currentWindow;
<span class="hljs-keyword">var</span> scrollView = Titanium.UI.createScrollView({
    contentWidth:'auto',
    contentHeight:'auto',
    top:0,
    bottom:50,
    maxZoomScale:30,
    minZoomScale:1
});

<span class="hljs-keyword">var</span> <span class="hljs-keyword">view</span> = Ti.UI.createView({
    backgroundImage:'../images/swasi.jpg',
    width:'100%',
    height:500,
});

<span class="hljs-keyword">view</span>.addEventListener('click',function(event){
    <span class="hljs-keyword">var</span> W = 1809; <span class="hljs-comment">// Dimension of image</span>
    <span class="hljs-keyword">var</span> <span class="hljs-keyword">H</span> = 2187; <span class="hljs-comment">// ..</span>
    <span class="hljs-keyword">var</span> x = W* (event.x + scrollView.contentOffset.x)/scrollView.width/scrollView.scale;
    <span class="hljs-keyword">var</span> y = <span class="hljs-keyword">H</span>* (event.y + scrollView.contentOffset.y)/scrollView.height/scrollView.scale;
    <span class="hljs-keyword">label</span>.text= 'x='+parseInt(x) + <span class="hljs-string">"\ny="</span> +parseInt(y);

});
<span class="hljs-keyword">var</span> <span class="hljs-keyword">label</span> = Ti.UI.createLabel({height:50,bottom:0,text:'--'});
<span class="hljs-keyword">win</span>.add(<span class="hljs-keyword">label</span>);
scrollView.add(<span class="hljs-keyword">view</span>);
<span class="hljs-keyword">win</span>.add(scrollView);
<span class="hljs-keyword">win</span>.<span class="hljs-keyword">open</span>();
</code></pre><p>In the demo I&#39;am using this proporty in the callback. I dont know why it should be an error.</p>
<p>Best regards<br>Rainer</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="July 7th 2011, 12:58:08 pm">July 7th 2011</span>
								by <span class='authorname'>Rainer Schleevoigt</span><br>
								<a class="icon-bg icon-link" href="question/54471/scroll-view-content-position.html#answer-212452" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-252185">
				
						<section>
							<p>For me, contentOffset is undefined. The top and rect.y properties for both the scrollview and it&#39;s child objects are not going to help us here either. The solution is to use the scroll event like so:</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> scrollview = Ti.UI.createScrollView();

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">scrollview_scroll_handler</span><span class="hljs-params">(e)</span>
</span>{
    <span class="hljs-comment">// e.y contains the current top y position of the contents of the scrollview</span>

    Ti.API.info(<span class="hljs-string">'Scrollview contents y offset: '</span>+e.y);
}
scrollview.addEventListener(<span class="hljs-string">'scroll'</span>, scrollview_scroll_handler);
</code></pre><p>Hope this helps someone :)</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="December 5th 2012, 6:06:29 am">December 5th 2012</span>
								by <span class='authorname'>Robin Stoker</span><br>
								<a class="icon-bg icon-link" href="question/54471/scroll-view-content-position.html#answer-252185" rel="permalink">permalink</a>
							</div>

							<h5>3 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Hi Robin, </p>
<p>Do you know an idea for applying lazy loading for a scrollview? I have a scrollview that loads 10 photos at first. Then if user scroll to end of the view, I will append more views to that. But, how does we know the user reach to the end of scrollview in coding?<br>Thanks,<br>Luan</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 8th 2012, 11:31:02 pm">December 8th 2012</span>
											by <span class='authorname'>Luan Nguyen</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I would do something like:</p>
<ol>
<li>Get the height of the scrollview <strong>contents</strong>.</li>
<li>Subtract the height of the <strong>scrollview</strong>.</li>
<li>If e.y (from my answer above) is greater than the value calculated in steps 1 and 2, then load the next 10 items.</li>
</ol>
<p>The reason for step 2 is because e.y represents the position of the <strong>top</strong> of the scrollview relative to the scrollview&#39;s contents.</p>
<p>On Android, since you cannot scroll past the bottom of the scrollview (as seen on iOS), I would also subtract some small arbitrary value during step 2. This value would act like a threshold in the sense that when you scroll to 10 pixels (for example) from the bottom, it must start loading.</p>
<p>Good luck, I hope this helps …</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 11th 2012, 11:59:35 am">December 11th 2012</span>
											by <span class='authorname'>Robin Stoker</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>@Luan, just another tip … if you are using dp units in your app (for Android UI scaling purposes) then you can get the actual height in pixels (which is what you want) by using the rect.height property on your objects.</p>
<p>For example: scrollview.rect.height</p>
<p>Just be aware that the rect property is only set <strong>after</strong> the object has been rendered on the screen. Prior to that, this property will be undefined.</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 11th 2012, 12:46:32 pm">December 11th 2012</span>
											by <span class='authorname'>Robin Stoker</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-285387">
				
						<section>
							<p>I could not get the contentOffset property or the getContentOffset method to work. I ended up creating a variable in which to store the Y value during the scroll event. When the scroll event stops the final value of Y is stored in the variable and accessible when needed. Hope this helps.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="January 25th 2015, 7:55:00 pm">January 25th 2015</span>
								by <span class='authorname'>Paul Bauer</span><br>
								<a class="icon-bg icon-link" href="question/54471/scroll-view-content-position.html#answer-285387" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
