<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Alloy datePicker ETA » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Alloy datePicker ETA</h1>
		</header>
		<section>
			<p>I have looked high and low for a datePicker solution for alloy. Came across a Q&amp;A question dated 6 months ago with a reply from Tony stating such a solution needs to be implemented. So what&#39;s the ETA of an Alloy datePicker. Really could use a solution to this. Has anyone come up with a solution?</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="September 3rd 2013, 11:24:23 am">September 3rd 2013</span>
				by <span class='authorname'>Michael Lake</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>alloy</span></li>
					
						<li><span class='tagname'>date</span></li>
					
						<li><span class='tagname'>datepicker</span></li>
					
						<li><span class='tagname'>iphone</span></li>
					
						<li><span class='tagname'>picker</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-268015">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>It&#39;s not implemented in markup, but you can use the traditional titanium method from the documentation in your controller code to add one.</p>
<p><a href="http:&#x2F;&#x2F;docs.appcelerator.com&#x2F;titanium&#x2F;latest&#x2F;#!&#x2F;api&#x2F;Titanium.UI.Picker">http:&#x2F;&#x2F;docs.appcelerator.com&#x2F;titanium&#x2F;latest&#x2F;#!&#x2F;api&#x2F;Titanium.UI.Picker</a></p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="September 3rd 2013, 5:42:41 pm">September 3rd 2013</span>
								by <span class='authorname'>Tony Lukasavage</span><br>
								<a class="icon-bg icon-link" href="../../question/156735/alloy-datepicker-eta.html#answer-268015" rel="permalink">permalink</a>
							</div>

							<h5>7 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>OK, I&#39;ve checked out the Kitchensink example but I still don&#39;t understand how to implement this with Alloy. I&#39;m trying to add a datePicker to a TabGroup tab. I have the controller file with the function picker_date1(_args) { … &quot;from the Kitchensink github example&quot;. The question is where do I add the eventListener if any is needed when the tab is chosen. Yes I am new to alloy. If there was an example explaining the use of adding a traditional Titanium .js file to an Alloy project, that would very enlightening. So far I have been able to get the tab to work with no errors but the window is blank, no picker.</p>
</p>
										<div class="author">
											&mdash; commented <span title="September 4th 2013, 3:10:10 pm">September 4th 2013</span>
											by <span class='authorname'>Michael Lake</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>code?</p>
</p>
										<div class="author">
											&mdash; commented <span title="September 4th 2013, 3:38:20 pm">September 4th 2013</span>
											by <span class='authorname'>Tony Lukasavage</span>
										</div>
									</li>
								
									<li class="comment">
										<p><h3 id="index-xml">index.xml</h3>
<pre><code class="hljs"><span class="hljs-pi">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">Alloy</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">TabGroup</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">Tab</span> <span class="hljs-attribute">title</span>=<span class="hljs-value">"Start"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">Window</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">Label</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">Label</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-title">Window</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">Tab</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">Require</span> <span class="hljs-attribute">src</span>=<span class="hljs-value">"picker_date"</span>/&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">TabGroup</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">Alloy</span>&gt;</span>
</code></pre><h3 id="index-js">index.js</h3>
<pre><code class="hljs">setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span></span>{
    $.<span class="hljs-built_in">index</span>.open();    
    },
<span class="hljs-number">1000</span>);
</code></pre><h3 id="picker_date-js">picker_date.js</h3>
<pre><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">picker_date1</span>(<span class="hljs-params">_args</span>) </span>{
    <span class="hljs-keyword">var</span> win = Ti.UI.createWindow({
        title:_args.title
    });
    win.backgroundColor = <span class="hljs-string">'black'</span>;

    <span class="hljs-keyword">var</span> minDate = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>();
    minDate.setFullYear(<span class="hljs-number">2013</span>);
    minDate.setMonth(<span class="hljs-number">0</span>);
    minDate.setDate(<span class="hljs-number">1</span>);

    <span class="hljs-keyword">var</span> maxDate = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>();
    maxDate.setFullYear(<span class="hljs-number">2015</span>);
    maxDate.setMonth(<span class="hljs-number">11</span>);
    maxDate.setDate(<span class="hljs-number">31</span>);

    <span class="hljs-keyword">var</span> value = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>();
    value.setFullYear(<span class="hljs-number">2013</span>);
    value.setMonth(<span class="hljs-number">0</span>);
    value.setDate(<span class="hljs-number">1</span>);

    <span class="hljs-keyword">var</span> picker = Ti.UI.createPicker({
        type:Ti.UI.PICKER_TYPE_DATE,
        minDate:minDate,
        maxDate:maxDate,
        value:value
    });

    <span class="hljs-comment">// turn on the selection indicator (off by default)</span>
    picker.selectionIndicator = <span class="hljs-literal">true</span>;

    win.add(picker);

    <span class="hljs-keyword">var</span> label = Ti.UI.createLabel({
        text:<span class="hljs-string">'Choose a date'</span>,
        top:<span class="hljs-number">6</span>,
        width:<span class="hljs-string">'auto'</span>,
        height:<span class="hljs-string">'auto'</span>,
        textAlign:<span class="hljs-string">'center'</span>,
        color:<span class="hljs-string">'white'</span>
    });
    win.add(label);

    picker.addEventListener(<span class="hljs-string">'change'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)
    </span>{
        label.text = e.value.toLocaleString();
    });

    <span class="hljs-keyword">var</span> locale = <span class="hljs-literal">false</span>;
    <span class="hljs-keyword">var</span> localebutton = Ti.UI.createButton({
        title:<span class="hljs-string">'Change locale'</span>,
        bottom:<span class="hljs-number">20</span>,
        width:<span class="hljs-number">200</span>,
        height:<span class="hljs-number">40</span>
    });
    localebutton.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (!locale) {
            picker.setLocale(<span class="hljs-string">'ru'</span>);
            locale = <span class="hljs-literal">true</span>;
        }
        <span class="hljs-keyword">else</span> {
            locale = <span class="hljs-literal">false</span>;
            picker.setLocale(Titanium.Platform.locale);
        }
    });
    <span class="hljs-keyword">if</span> (Ti.Platform.osname !== <span class="hljs-string">'tizen'</span>) {
        <span class="hljs-comment">// Changing locales on the fly is not supported on Tizen</span>
        win.add(localebutton);
    }

    <span class="hljs-keyword">return</span> win;
}

<span class="hljs-built_in">module</span>.exports = picker_date1;
</code></pre><h3 id="picker_date-xml">picker_date.xml</h3>
<pre><code class="hljs"><span class="hljs-pi">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">Alloy</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">Tab</span> <span class="hljs-attribute">title</span>=<span class="hljs-value">"Date"</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"tabDate"</span> <span class="hljs-attribute">icon</span>=<span class="hljs-value">"date.png"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">Window</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"winDate"</span> &gt;</span>

        <span class="hljs-tag">&lt;/<span class="hljs-title">Window</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">Tab</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">Alloy</span>&gt;</span>
</code></pre><p>Thanks</p>
</p>
										<div class="author">
											&mdash; commented <span title="September 4th 2013, 6:27:45 pm">September 4th 2013</span>
											by <span class='authorname'>Michael Lake</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Your picker_date controller is not structured as an Alloy controller should be. Check out the docs on creating your own controllers here: <a href="http:&#x2F;&#x2F;docs.appcelerator.com&#x2F;titanium&#x2F;latest&#x2F;#!&#x2F;guide&#x2F;Alloy_Controllers">http:&#x2F;&#x2F;docs.appcelerator.com&#x2F;titanium&#x2F;latest&#x2F;#!&#x2F;guide&#x2F;Alloy_Controllers</a>. This should provide many answers to how you can combine Alloy and traditional code.</p>
</p>
										<div class="author">
											&mdash; commented <span title="September 5th 2013, 10:16:50 am">September 5th 2013</span>
											by <span class='authorname'>Tony Lukasavage</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Tony, thanks for your reply. Is it possible you could illustrate what you mean by, &quot;not structured as an Alloy controler&quot; using the code I have supplied? Since this thread has been viewed by 100 people in the last 20 hours it appears to be a question many developers would like to have clarified hence an example to refer to.</p>
</p>
										<div class="author">
											&mdash; commented <span title="September 5th 2013, 11:44:50 am">September 5th 2013</span>
											by <span class='authorname'>Michael Lake</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>FYI, every question asked in the last 20+ hours will have around 100 views, give or take. There&#39;s a lot of people on here asking and answering. </p>
<p>The documentation should pretty clearly illustrate the distinction between your generic commonjs module and an Alloy controller. For example, you don&#39;t use <code>module.exports</code> in a controller. As it appears though a more direct example is required for you here, so here&#39;s a very quick example of adding a traditional date picker to an existing Alloy view:</p>
<h3 id="index-xml">index.xml</h3>
<pre><code class="hljs"><span class="hljs-tag">&lt;<span class="hljs-title">Alloy</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">Window</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"win"</span>/&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">Alloy</span>&gt;</span>
</code></pre><h3 id="index-js">index.js</h3>
<pre><code class="hljs"><span class="hljs-comment">// use traditional titanium to create a datepicker, as per docs</span>
var datepicker = Ti.UI.createPicker({
    type: Ti.UI.PICKER_TYPE_DATE,
    minDate: <span class="hljs-keyword">new</span> Date(<span class="hljs-number">2009</span>,<span class="hljs-number">0</span>,<span class="hljs-number">1</span>),
    maxDate: <span class="hljs-keyword">new</span> Date(<span class="hljs-number">2014</span>,<span class="hljs-number">11</span>,<span class="hljs-number">31</span>),
    value: <span class="hljs-keyword">new</span> Date(<span class="hljs-number">2014</span>,<span class="hljs-number">3</span>,<span class="hljs-number">12</span>)
});

<span class="hljs-comment">// add datepicker to the window created in the view</span>
$.win.add(datepicker);

<span class="hljs-comment">// open the window</span>
$.win.open();
</code></pre><h3 id="index-tss">index.tss</h3>
<pre><code class="hljs"><span class="hljs-string">'#win'</span>: {
    backgroundColor: <span class="hljs-string">'#fff'</span>,
    modal: <span class="hljs-literal">false</span>,
    <span class="hljs-built_in">exit</span>OnClose: <span class="hljs-literal">true</span>
}
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="September 5th 2013, 12:24:03 pm">September 5th 2013</span>
											by <span class='authorname'>Tony Lukasavage</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Thanks Tony, that cleared up a lot of confusion. Thanks for taking the time and coding an example that illustrates the difference and comparisons between a traditional and alloy code set. Took a bit to get there but you have cleared up several issues for me.</p>
</p>
										<div class="author">
											&mdash; commented <span title="September 5th 2013, 7:08:42 pm">September 5th 2013</span>
											by <span class='authorname'>Michael Lake</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
