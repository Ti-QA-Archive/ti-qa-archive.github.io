<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>click the imageview in the scrollview and app crashed Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>click the imageview in the scrollview and app crashed</h1>
		</header>
		<section>
			<p>I made a scrollview which include 7 imageviews. And I add a click listener to the first image view, if I click the first image view, it should be moved to the next window.<br>Each image view include a png image about 10k. When I click the first image view, the app crashed.<br>I&#39;m not sure where is the problem? Are there too many image views in a scrollview?</p>
<p>the below is a part of log:</p>
<pre><code class="hljs">
F/libc    ( <span class="hljs-number">1932</span>): Fatal signal <span class="hljs-number">11</span> (SIGSEGV) at <span class="hljs-number">0x00000014</span> (<span class="hljs-preprocessor">code</span><span class="hljs-number">=1</span>), thread <span class="hljs-number">1959</span> (KrollRuntimeThr)
[<span class="hljs-preprocessor">INFO</span>][DEBUG   (   <span class="hljs-number">34</span>)] *** *** *** *** *** *** *** *** *** *** *** *** *** *** *** ***
[<span class="hljs-preprocessor">INFO</span>][DEBUG   (   <span class="hljs-number">34</span>)] <span class="hljs-keyword">Build </span>fingerprint: <span class="hljs-string">'generic/google_sdk/generic:4.1.2/MASTER/495790:eng/test-keys'</span>
[<span class="hljs-preprocessor">INFO</span>][DEBUG   (   <span class="hljs-number">34</span>)] pid: <span class="hljs-number">1932</span>, tid: <span class="hljs-number">1959</span>, name: UNKNOWN  &gt;&gt;&gt; com.gd.noso &lt;&lt;&lt;
[<span class="hljs-preprocessor">INFO</span>][DEBUG   (   <span class="hljs-number">34</span>)] signal <span class="hljs-number">11</span> (SIGSEGV), <span class="hljs-preprocessor">code</span> <span class="hljs-number">1</span> (SEGV_MAPERR), fault <span class="hljs-keyword">addr </span><span class="hljs-number">00000014</span>
[<span class="hljs-preprocessor">INFO</span>][DEBUG   (   <span class="hljs-number">34</span>)]     <span class="hljs-literal">r0</span> <span class="hljs-number">00000000</span>  <span class="hljs-literal">r1</span> <span class="hljs-number">00000000</span>  <span class="hljs-literal">r2</span> <span class="hljs-number">00000082</span>  <span class="hljs-literal">r3</span> <span class="hljs-number">00000000</span>
[<span class="hljs-preprocessor">INFO</span>][DEBUG   (   <span class="hljs-number">34</span>)]     <span class="hljs-literal">r4</span> <span class="hljs-number">00000000</span>  <span class="hljs-literal">r5</span> <span class="hljs-number">4</span>a79b92c  <span class="hljs-literal">r6</span> <span class="hljs-number">4</span>a79b8cc  <span class="hljs-literal">r7</span> <span class="hljs-number">00000000</span>
[<span class="hljs-preprocessor">INFO</span>][DEBUG   (   <span class="hljs-number">34</span>)]     <span class="hljs-literal">r8</span> <span class="hljs-number">4</span>a79b928  <span class="hljs-literal">r9</span> <span class="hljs-number">4</span>a97c015  <span class="hljs-literal">sl</span> <span class="hljs-number">4</span>ae60b5c  <span class="hljs-literal">fp</span> <span class="hljs-number">54437</span>b59
[<span class="hljs-preprocessor">INFO</span>][DEBUG   (   <span class="hljs-number">34</span>)]     <span class="hljs-literal">ip</span> <span class="hljs-number">00000002</span>  <span class="hljs-literal">sp</span> <span class="hljs-number">4</span>a79b858  <span class="hljs-literal">lr</span> <span class="hljs-number">4</span>a97c06f  <span class="hljs-literal">pc</span> <span class="hljs-number">4</span>a977eb2  <span class="hljs-keyword">cpsr </span><span class="hljs-number">60000030</span>
[<span class="hljs-preprocessor">INFO</span>][DEBUG   (   <span class="hljs-number">34</span>)]     <span class="hljs-literal">d0</span>  <span class="hljs-number">0000000000000000</span>  <span class="hljs-literal">d1</span>  <span class="hljs-number">003</span>d090043708000
[<span class="hljs-preprocessor">INFO</span>][DEBUG   (   <span class="hljs-number">34</span>)]     <span class="hljs-literal">d2</span>  <span class="hljs-number">00000001000</span>f4240  <span class="hljs-literal">d3</span>  <span class="hljs-keyword">bf62cda764a98eab
</span>[<span class="hljs-preprocessor">INFO</span>][DEBUG   (   <span class="hljs-number">34</span>)]     <span class="hljs-literal">d4</span>  <span class="hljs-number">000</span>f424000000000  <span class="hljs-literal">d5</span>  <span class="hljs-number">405</span>e000000000000
[<span class="hljs-preprocessor">INFO</span>][DEBUG   (   <span class="hljs-number">34</span>)]     <span class="hljs-literal">d6</span>  <span class="hljs-number">0000001</span>d00000000  <span class="hljs-literal">d7</span>  <span class="hljs-number">0000001</span>d00000000
[<span class="hljs-preprocessor">INFO</span>][DEBUG   (   <span class="hljs-number">34</span>)]     <span class="hljs-literal">d8</span>  <span class="hljs-number">0000000000000000</span>  <span class="hljs-literal">d9</span>  <span class="hljs-number">0000000000000000</span>
[<span class="hljs-preprocessor">INFO</span>][DEBUG   (   <span class="hljs-number">34</span>)]     <span class="hljs-literal">d10</span> <span class="hljs-number">0000000000000000</span>  <span class="hljs-literal">d11</span> <span class="hljs-number">0000000000000000</span>
[<span class="hljs-preprocessor">INFO</span>][DEBUG   (   <span class="hljs-number">34</span>)]     <span class="hljs-literal">d12</span> <span class="hljs-number">0000000000000000</span>  <span class="hljs-literal">d13</span> <span class="hljs-number">0000000000000000</span>
[<span class="hljs-preprocessor">INFO</span>][DEBUG   (   <span class="hljs-number">34</span>)]     <span class="hljs-literal">d14</span> <span class="hljs-number">0000000000000000</span>  <span class="hljs-literal">d15</span> <span class="hljs-number">0000000000000000</span>
[<span class="hljs-preprocessor">INFO</span>][DEBUG   (   <span class="hljs-number">34</span>)]     scr <span class="hljs-number">60000011</span>
[<span class="hljs-preprocessor">INFO</span>][DEBUG   (   <span class="hljs-number">34</span>)] 
[<span class="hljs-preprocessor">INFO</span>][DEBUG   (   <span class="hljs-number">34</span>)] <span class="hljs-keyword">backtrace:
</span>[<span class="hljs-preprocessor">INFO</span>][DEBUG   (   <span class="hljs-number">34</span>)]     <span class="hljs-number">#00</span>  <span class="hljs-literal">pc</span> <span class="hljs-number">00076</span>eb2  /<span class="hljs-preprocessor">data</span>/<span class="hljs-preprocessor">data</span>/com.gd.noso/lib/libkroll-<span class="hljs-literal">v8</span>.so (titanium::JavaObject::getJavaObject()+<span class="hljs-number">13</span>)
[<span class="hljs-preprocessor">INFO</span>][DEBUG   (   <span class="hljs-number">34</span>)]     <span class="hljs-number">#01</span>  <span class="hljs-literal">pc</span> <span class="hljs-number">0007</span>b06b  /<span class="hljs-preprocessor">data</span>/<span class="hljs-preprocessor">data</span>/com.gd.noso/lib/libkroll-<span class="hljs-literal">v8</span>.so (titanium::Proxy::hasListenersForEventType(<span class="hljs-literal">v8</span>::Arguments const&amp;)+<span class="hljs-number">86</span>)
[<span class="hljs-preprocessor">INFO</span>][DEBUG   (   <span class="hljs-number">34</span>)]     <span class="hljs-number">#02</span>  <span class="hljs-literal">pc</span> <span class="hljs-number">00169634</span>  /<span class="hljs-preprocessor">data</span>/<span class="hljs-preprocessor">data</span>/com.gd.noso/lib/libkroll-<span class="hljs-literal">v8</span>.so
[<span class="hljs-preprocessor">INFO</span>][DEBUG   (   <span class="hljs-number">34</span>)]     <span class="hljs-number">#03</span>  <span class="hljs-literal">pc</span> <span class="hljs-number">00037</span>b57  &lt;unknown&gt;
[<span class="hljs-preprocessor">INFO</span>][DEBUG   (   <span class="hljs-number">34</span>)] 
[<span class="hljs-preprocessor">INFO</span>][DEBUG   (   <span class="hljs-number">34</span>)] stack:
</code></pre><p>the main source is below:</p>
<pre><code class="hljs">function MenuTab() {
    var scrollView = Ti.UI.createScrollView({
        top: <span class="hljs-number">0</span>,
        <span class="hljs-variable">height</span>: <span class="hljs-string">'85%'</span>,    
        backgroudColor : <span class="hljs-string">'#000'</span>
    });

    function dpToPixel(dp) {
        <span class="hljs-keyword">return</span> (parseInt(dp) * (Titanium.Platform.displayCaps.dpi / <span class="hljs-number">160</span>));
    }

    <span class="hljs-comment">// convert pixel to dp.</span>
    function pixelToDp(px) {
        <span class="hljs-keyword">return</span> (parseInt(px) / (Titanium.Platform.displayCaps.dpi / <span class="hljs-number">160</span>)) + <span class="hljs-string">'dp'</span>;
    }

    var gap = dpToPixel(<span class="hljs-string">'7dp'</span>);

    var menubg11 = Ti.UI.createImageView({top : gap,left : gap,<span class="hljs-variable">width</span> : dpToPixel(<span class="hljs-string">'150dp'</span>),<span class="hljs-variable">height</span> : dpToPixel(<span class="hljs-string">'150dp'</span>)});
    menubg11.<span class="hljs-built_in">image</span>=<span class="hljs-string">'/images/message1.png'</span>;
    scrollView.<span class="hljs-built_in">add</span>(menubg11);

    var menu11 = Ti.UI.createLabel({top : gap,left : gap,<span class="hljs-variable">width</span> : dpToPixel(<span class="hljs-string">'150dp'</span>),<span class="hljs-variable">height</span> : dpToPixel(<span class="hljs-string">'150dp'</span>)});
    scrollView.<span class="hljs-built_in">add</span>(menu11);

    var Register = require(<span class="hljs-string">'ui/common/register/RegisterMain'</span>);
    var register = <span class="hljs-keyword">new</span> Register();
    menu11.addEventListener(<span class="hljs-string">'click'</span>, function() {
        register.<span class="hljs-built_in">open</span>();
    });

    var menu12 = Ti.UI.createImageView({
        top : gap,
        left : menu11.left + menu11.<span class="hljs-variable">width</span> + gap,
        <span class="hljs-variable">width</span> : dpToPixel(<span class="hljs-string">'150dp'</span>),
        <span class="hljs-variable">height</span> : dpToPixel(<span class="hljs-string">'70dp'</span>)
    });

    menu12.<span class="hljs-built_in">image</span>=<span class="hljs-string">'/images/mail1.png'</span>;
    scrollView.<span class="hljs-built_in">add</span>(menu12);

    var menu21 = Ti.UI.createImageView({
        top : menu11.top + menu11.<span class="hljs-variable">height</span> + gap,
        left : gap,
        <span class="hljs-variable">width</span> : dpToPixel(<span class="hljs-string">'150dp'</span>),
        <span class="hljs-variable">height</span> : dpToPixel(<span class="hljs-string">'70dp'</span>)
    });

    menu21.<span class="hljs-built_in">image</span>=<span class="hljs-string">'/images/mail2.png'</span>;
    scrollView.<span class="hljs-built_in">add</span>(menu21);

    var menu22 = Ti.UI.createImageView({
        top : menu12.top + menu12.<span class="hljs-variable">height</span> + gap,
        left : menu21.left + menu21.<span class="hljs-variable">width</span> + gap,
        <span class="hljs-variable">width</span> : dpToPixel(<span class="hljs-string">'150dp'</span>),
        <span class="hljs-variable">height</span> : dpToPixel(<span class="hljs-string">'150dp'</span>)
    });

    menu22.<span class="hljs-built_in">image</span>=<span class="hljs-string">'/images/message2.png'</span>;
    scrollView.<span class="hljs-built_in">add</span>(menu22);

    var menu31 = Ti.UI.createImageView({
        top : menu21.top + menu21.<span class="hljs-variable">height</span> + gap,
        left : gap,
        <span class="hljs-variable">width</span> : dpToPixel(<span class="hljs-string">'150dp'</span>),
        <span class="hljs-variable">height</span> : dpToPixel(<span class="hljs-string">'150dp'</span>)
    });

    menu31.<span class="hljs-built_in">image</span>=<span class="hljs-string">'/images/message3.png'</span>;
    scrollView.<span class="hljs-built_in">add</span>(menu31);

    var menu32 = Ti.UI.createImageView({
        top : menu21.top + menu21.<span class="hljs-variable">height</span> + gap,
        left : menu31.left + menu31.<span class="hljs-variable">width</span> + gap,
        <span class="hljs-variable">width</span> : dpToPixel(<span class="hljs-string">'150dp'</span>),
        <span class="hljs-variable">height</span> : dpToPixel(<span class="hljs-string">'70dp'</span>)
    });

    menu32.<span class="hljs-built_in">image</span>=<span class="hljs-string">'/images/mail3.png'</span>;
    scrollView.<span class="hljs-built_in">add</span>(menu32);

    var menu41 = Ti.UI.createImageView({
        top : menu31.top + menu31.<span class="hljs-variable">height</span> + gap,
        left : gap,
        <span class="hljs-variable">width</span> : dpToPixel(<span class="hljs-string">'150dp'</span>),
        <span class="hljs-variable">height</span> : dpToPixel(<span class="hljs-string">'150dp'</span>)
    });

    menu41.<span class="hljs-built_in">image</span>=<span class="hljs-string">'/images/message4.png'</span>;
    scrollView.<span class="hljs-built_in">add</span>(menu41);

    <span class="hljs-keyword">return</span> scrollView;
}

module.exports = MenuTab;
</code></pre><p>I use titanium mobile 3.1.3GA<br>mac 10.9<br>android emulator 4.1.2</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="November 17th 2013, 11:27:15 am">November 17th 2013</span>
				by <span class='authorname'>Luke Shin</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>click</span></li>
					
						<li><span class='tagname'>crash</span></li>
					
						<li><span class='tagname'>imageview</span></li>
					
						<li><span class='tagname'>scrollview</span></li>
					
				</ul>
			

			<section>
				<h5>2 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>If you replace the <code>register.open();</code> with <code>alert(&amp;#39;clicked&amp;#39;);</code> does it still crash?</p>
<p>If so I think you should look at the code within the click event - namely the code in the RegisterMain.js file that you are including.</p>
</div>
							<div class="author">
								&mdash; commented <span title="November 18th 2013, 7:46:06 am">November 18th 2013</span>
								by <span class='authorname'>Larrie Wilson</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>hi, Larrie. Thanks for your comment.<br>As you said, if I replace the register.open() with alert(&#39;clicked&#39;), and app doesn&#39;t crash again.<br>But the register page is very simple, just as below: </p>
<pre><code class="hljs">function<span class="hljs-function"> RegisterMain(</span><span class="hljs-function">)</span> {
    //create module<span class="hljs-instruction"> instance
</span>    var win =<span class="hljs-function"> Ti.UI.createWindow(</span><span class="hljs-function">)</span>;

    var win2 =<span class="hljs-function"> Ti.UI.createView(</span>{
        title<span class="hljs-keyword"> :</span> 'win1'
    }<span class="hljs-function">)</span>;

   <span class="hljs-function"> win2.add(</span>Ti.UI.createLabel({
        text<span class="hljs-keyword"> :</span> 'first win'
    }<span class="hljs-function">)</span><span class="hljs-function">)</span>;

   <span class="hljs-function"> win.add(</span>win2<span class="hljs-function">)</span>;

   <span class="hljs-instruction"> return </span>win;
}

module.exports = RegisterMain;
</code></pre><p>I still can&#39;t understand why <strong>register.open()</strong> could lead to app crashâ¦</p>
</div>
							<div class="author">
								&mdash; commented <span title="November 18th 2013, 11:04:03 am">November 18th 2013</span>
								by <span class='authorname'>Luke Shin</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-271424">
				
						<section>
							<p>Hi,</p>
<p>try to add slash(&#x2F;) in your require method.</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> <span class="hljs-keyword">Register</span> = <span class="hljs-keyword">require</span>(<span class="hljs-string">'/ui/common/register/RegisterMain'</span>);
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="November 18th 2013, 10:59:33 am">November 18th 2013</span>
								by <span class='authorname'>Mitul Bhalia</span><br>
								<a class="icon-bg icon-link" href="question/159561/click-the-imageview-in-the-scrollview-and-app-crashed#answer-271424" rel="permalink">permalink</a>
							</div>

							<h5>6 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>try this solutionâ¦</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 18th 2013, 11:08:13 am">November 18th 2013</span>
											by <span class='authorname'>Mitul Bhalia</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Hi Mitul, I added slash before &#39;ui&#39; and tried again, it still crashedâ¦</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 18th 2013, 11:17:56 am">November 18th 2013</span>
											by <span class='authorname'>Luke Shin</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>ok, i think you are using same variable name twice with the difference of capital,small letter so try use different variable name.</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> RegisterWindow = <span class="hljs-built_in">require</span>(<span class="hljs-string">'ui/common/register/RegisterMain'</span>);
    <span class="hljs-keyword">var</span> registerWin = <span class="hljs-keyword">new</span> RegisterWindow();
    menu11.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        registerWin.open();
    });
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="November 18th 2013, 11:34:19 am">November 18th 2013</span>
											by <span class='authorname'>Mitul Bhalia</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I try to use different variable names, it still crashedâ¦T_T</p>
<p>Could you take a look at the source : https:&#x2F;&#x2F;github.com&#x2F;godroad&#x2F;noso.git</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 18th 2013, 11:53:22 am">November 18th 2013</span>
											by <span class='authorname'>Luke Shin</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>ok, let me check code.</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 18th 2013, 12:00:02 pm">November 18th 2013</span>
											by <span class='authorname'>Mitul Bhalia</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I can run code successfully by using my last solution.</p>
<p>you can clean build project and delete app from emulator and try with my last solution.</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> RegisterWindow = <span class="hljs-built_in">require</span>(<span class="hljs-string">'ui/common/register/RegisterMain'</span>);
    <span class="hljs-keyword">var</span> registerWin = <span class="hljs-keyword">new</span> RegisterWindow();
    menu11.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        registerWin.open();
    });
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="November 18th 2013, 12:17:50 pm">November 18th 2013</span>
											by <span class='authorname'>Mitul Bhalia</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-271430">
				
						<section>
							<p>I&#39;ve upload my source to git.<br><a href="https:&#x2F;&#x2F;github.com&#x2F;godroad&#x2F;noso.git">https:&#x2F;&#x2F;github.com&#x2F;godroad&#x2F;noso.git</a></p>
<p>Please help me to check where is the problemâ¦</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="November 18th 2013, 11:40:47 am">November 18th 2013</span>
								by <span class='authorname'>Luke Shin</span><br>
								<a class="icon-bg icon-link" href="question/159561/click-the-imageview-in-the-scrollview-and-app-crashed#answer-271430" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
