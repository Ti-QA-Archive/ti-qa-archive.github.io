<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>How to send data from mysql database to tableview » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>How to send data from mysql database to tableview</h1>
		</header>
		<section>
			<p>Hi everyone, </p>
<p>I&#39;ve been banging my head against my computerscreen for a few days now, trying tutorials and code snippets to get data from my mysql database to my tableview.. i can understand and edit code.. but it&#39;s a whole different thing to write something from scratch for me.</p>
<p>Can someone edit this syntax and help me get started to implement data from MySQL Databse to my tableview, that would be great!</p>
<p>Thanks in advance</p>
<pre><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">DateFeedWindow</span><span class="hljs-params">(title)</span> </span>{
    <span class="hljs-keyword">var</span> <span class="hljs-keyword">self</span> = Ti.UI.createWindow({
        backgroundImage: <span class="hljs-string">'images/grey.png'</span>, 
        title:title,
        backgroundColor:<span class="hljs-string">'red'</span>
    });


<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">formatDate</span><span class="hljs-params">()</span>
</span>{
    <span class="hljs-keyword">var</span> date = <span class="hljs-keyword">new</span> Date();
    <span class="hljs-keyword">var</span> datestr = date.getMonth()+<span class="hljs-string">'/'</span>+date.getDate()+<span class="hljs-string">'/'</span>+date.getFullYear();
    <span class="hljs-keyword">if</span> (date.getHours()&gt;=<span class="hljs-number">12</span>)
    {
        datestr+=<span class="hljs-string">' '</span>+(date.getHours()==<span class="hljs-number">12</span> ? date.getHours() : date.getHours()-<span class="hljs-number">12</span>)+<span class="hljs-string">':'</span>+date.getMinutes()+<span class="hljs-string">' PM'</span>;
    }
    <span class="hljs-keyword">else</span>
    {
        datestr+=<span class="hljs-string">' '</span>+date.getHours()+<span class="hljs-string">':'</span>+date.getMinutes()+<span class="hljs-string">' AM'</span>;
    }
    <span class="hljs-keyword">return</span> datestr;
}

<span class="hljs-keyword">var</span> data = [
    {title:<span class="hljs-string">"Row 1"</span>},
    {title:<span class="hljs-string">"Row 2"</span>},
    {title:<span class="hljs-string">"Row 3"</span>}
];

<span class="hljs-keyword">var</span> lastRow = <span class="hljs-number">4</span>;

<span class="hljs-keyword">var</span> tableView = Ti.UI.createTableView({
    data: data
});

<span class="hljs-keyword">self</span>.add(tableView);

<span class="hljs-keyword">var</span> border = Ti.UI.createView({
    backgroundColor:<span class="hljs-string">"#576c89"</span>,
    height:<span class="hljs-number">2</span>,
    bottom:<span class="hljs-number">0</span>
});

<span class="hljs-keyword">var</span> tableHeader = Ti.UI.createView({
    backgroundColor:<span class="hljs-string">"#e2e7ed"</span>,
    width:<span class="hljs-number">320</span>,
    height:<span class="hljs-number">60</span>
});

<span class="hljs-comment">// fake it til ya make it..  create a 2 pixel</span>
<span class="hljs-comment">// bottom border</span>
tableHeader.add(border);

<span class="hljs-keyword">var</span> arrow = Ti.UI.createView({
    backgroundImage:<span class="hljs-string">"../images/whiteArrow.png"</span>,
    width:<span class="hljs-number">23</span>,
    height:<span class="hljs-number">60</span>,
    bottom:<span class="hljs-number">10</span>,
    left:<span class="hljs-number">20</span>
});

<span class="hljs-keyword">var</span> statusLabel = Ti.UI.createLabel({
    text:<span class="hljs-string">"Pull to reload"</span>,
    left:<span class="hljs-number">55</span>,
    width:<span class="hljs-number">200</span>,
    bottom:<span class="hljs-number">30</span>,
    height:<span class="hljs-string">"auto"</span>,
    color:<span class="hljs-string">"#576c89"</span>,
    textAlign:<span class="hljs-string">"center"</span>,
    font:{fontSize:<span class="hljs-number">13</span>,fontWeight:<span class="hljs-string">"bold"</span>},
    shadowColor:<span class="hljs-string">"#999"</span>,
    shadowOffset:{x:<span class="hljs-number">0</span>,y:<span class="hljs-number">1</span>}
});

<span class="hljs-keyword">var</span> lastUpdatedLabel = Ti.UI.createLabel({
    text:<span class="hljs-string">"Last Updated: "</span>+formatDate(),
    left:<span class="hljs-number">55</span>,
    width:<span class="hljs-number">200</span>,
    bottom:<span class="hljs-number">15</span>,
    height:<span class="hljs-string">"auto"</span>,
    color:<span class="hljs-string">"#576c89"</span>,
    textAlign:<span class="hljs-string">"center"</span>,
    font:{fontSize:<span class="hljs-number">12</span>},
    shadowColor:<span class="hljs-string">"#999"</span>,
    shadowOffset:{x:<span class="hljs-number">0</span>,y:<span class="hljs-number">1</span>}
});

<span class="hljs-keyword">var</span> actInd = Titanium.UI.createActivityIndicator({
    left:<span class="hljs-number">20</span>,
    bottom:<span class="hljs-number">13</span>,
    width:<span class="hljs-number">30</span>,
    height:<span class="hljs-number">30</span>
});

tableHeader.add(arrow);
tableHeader.add(statusLabel);
tableHeader.add(lastUpdatedLabel);
tableHeader.add(actInd);

tableView.headerPullView = tableHeader;


<span class="hljs-keyword">var</span> pulling = <span class="hljs-keyword">false</span>;
<span class="hljs-keyword">var</span> reloading = <span class="hljs-keyword">false</span>;

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">beginReloading</span><span class="hljs-params">()</span>
</span>{
    <span class="hljs-comment">// just mock out the reload</span>
    setTimeout(endReloading,<span class="hljs-number">2000</span>);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">endReloading</span><span class="hljs-params">()</span>
</span>{
    <span class="hljs-comment">// simulate loading</span>
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> c=lastRow;c&lt;lastRow+<span class="hljs-number">10</span>;c++)
    {
        tableView.appendRow({title:<span class="hljs-string">"Row "</span>+c});
    }
    lastRow += <span class="hljs-number">10</span>;

    <span class="hljs-comment">// when you're done, just reset</span>
    tableView.setContentInsets({top:<span class="hljs-number">0</span>},{animated:<span class="hljs-keyword">true</span>});
    reloading = <span class="hljs-keyword">false</span>;
    lastUpdatedLabel.text = <span class="hljs-string">"Last Updated: "</span>+formatDate();
    statusLabel.text = <span class="hljs-string">"Pull down to refresh..."</span>;
    actInd.hide();
    arrow.show();
}

tableView.addEventListener(<span class="hljs-string">'scroll'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span>
</span>{
    <span class="hljs-keyword">var</span> offset = e.contentOffset.y;
    <span class="hljs-keyword">if</span> (offset &lt; -<span class="hljs-number">65.0</span> &amp;&amp; !pulling &amp;&amp; !reloading)
    {
        <span class="hljs-keyword">var</span> t = Ti.UI.create2DMatrix();
        t = t.rotate(-<span class="hljs-number">180</span>);
        pulling = <span class="hljs-keyword">true</span>;
        arrow.animate({transform:t,duration:<span class="hljs-number">180</span>});
        statusLabel.text = <span class="hljs-string">"Release to refresh..."</span>;
    }
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>((offset &gt; -<span class="hljs-number">65.0</span> &amp;&amp; offset &lt; <span class="hljs-number">0</span> ) &amp;&amp; pulling &amp;&amp; !reloading)
    {
        pulling = <span class="hljs-keyword">false</span>;
        <span class="hljs-keyword">var</span> t = Ti.UI.create2DMatrix();
        arrow.animate({transform:t,duration:<span class="hljs-number">180</span>});
        statusLabel.text = <span class="hljs-string">"Pull down to refresh..."</span>;
    }    
});

tableView.addEventListener(<span class="hljs-string">'dragEnd'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>
</span>{    
    <span class="hljs-keyword">if</span>(pulling &amp;&amp; !reloading)
    {
        reloading = <span class="hljs-keyword">true</span>;
        pulling = <span class="hljs-keyword">false</span>;
        arrow.hide();
        actInd.show();
        statusLabel.text = <span class="hljs-string">"Reloading..."</span>;
        tableView.setContentInsets({top:<span class="hljs-number">60</span>},{animated:<span class="hljs-keyword">true</span>});
        tableView.scrollToTop(-<span class="hljs-number">60</span>,<span class="hljs-keyword">true</span>);
        arrow.transform=Ti.UI.create2DMatrix();
        beginReloading();
    }
});



    <span class="hljs-keyword">return</span> <span class="hljs-keyword">self</span>;
};

module.exports = DateFeedWindow;
</code></pre>
		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="August 3rd 2012, 7:53:55 pm">August 3rd 2012</span>
				by <span class='authorname'>Mitch Ceulemans</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>mysql</span></li>
					
						<li><span class='tagname'>php</span></li>
					
						<li><span class='tagname'>tableview</span></li>
					
				</ul>
			

			<section>
				<h5>1 Comment</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Hi Mitch you sent me a direct message but I have no way of responding the same way as you have not enabled it in your profile.</p>
<p>BTW if you thought this answer helpful - mark it as such - it helps other in the future.</p>
<p>Let me know when I can respond..</p>
</div>
							<div class="author">
								&mdash; commented <span title="August 4th 2012, 12:11:16 pm">August 4th 2012</span>
								by <span class='authorname'>Malcolm Hollingsworth</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>1</span> Vote</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-244434">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>Hi Mitch</p>
<p>The only way to get data from databases that are housed off the device for example <code>mysql</code> or <code>mssql</code> is to connect via the principle of APIs.</p>
<p>You would create a web page with the sole purpose of returning data in plain text format and then you call that from your app.</p>
<p>So if you create a page using ASP&#x2F;ASP.NET&#x2F;PHP (no actual html should be returned) that creates the following output.</p>
<pre><code class="hljs">[
  { <span class="hljs-string">title:</span> <span class="hljs-string">'One'</span>, <span class="hljs-string">id:</span> <span class="hljs-number">1</span> },
  { <span class="hljs-string">title:</span> <span class="hljs-string">'Two'</span>, <span class="hljs-string">id:</span> <span class="hljs-number">2</span> },
  { <span class="hljs-string">title:</span> <span class="hljs-string">'Three'</span>, <span class="hljs-string">id:</span> <span class="hljs-number">3</span> },
  { <span class="hljs-string">title:</span> <span class="hljs-string">'Four'</span>, <span class="hljs-string">id:</span> <span class="hljs-number">4</span> }
]
</code></pre><p>You would then use a the <code>HTTPClient</code> object to connect to that, for example;</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> xhr = Ti.Network.createHTTPClient();
xhr.onload = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) </span>{
    <span class="hljs-keyword">var</span> response = <span class="hljs-keyword">this</span>.responseText;
    <span class="hljs-keyword">var</span> json = <span class="hljs-built_in">JSON</span>.parse(response);

    <span class="hljs-comment">//json now contains the returned data parsed into json</span>
    <span class="hljs-comment">//as long as your API return true json this will work.</span>

    alert(json[<span class="hljs-number">0</span>].title); <span class="hljs-comment">// title attribute of the first array element from the API</span>
    alert(json[<span class="hljs-number">2</span>].id); <span class="hljs-comment">// id attribute of the third array element from the API</span>
};
xhr.onerror = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) </span>{
    Ti.API.log(<span class="hljs-string">'error'</span>, <span class="hljs-built_in">JSON</span>.stringify(e));
};
xhr.open(<span class="hljs-string">'POST'</span>, <span class="hljs-string">'http://www.someurl.com/api/something.php'</span>);  <span class="hljs-comment">// this is the URL for the web page you created</span>
xhr.send();
</code></pre><p>Obviously you can expand the API portion to do what you want and then you can return other information as you need.</p>
<p>If you need to send parameters to your API for example if you are returning sub-sets of data based on your criteria.  Change the last line to;</p>
<pre><code class="hljs"><span class="hljs-tag">xhr</span><span class="hljs-class">.send</span>({
   <span class="hljs-attribute">param1</span>: <span class="hljs-string">'whatever'</span>,
   <span class="hljs-attribute">anotherone</span>: <span class="hljs-number">78</span>
});
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 3rd 2012, 8:15:49 pm">August 3rd 2012</span>
								by <span class='authorname'>Malcolm Hollingsworth</span><br>
								<a class="icon-bg icon-link" href="question/140538/how-to-send-data-from-mysql-database-to-tableview.html#answer-244434" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-244438">
				
						<section>
							<p>Yeah not sure exactly what you are looking for here. The post above goes over the getting of the data to the device. Maybe you need to do some reading on RESTful APIs or SOAP APIs. Essentially you need to create a page that your device can send a request to, but that page needs to return data in a format like JSON or XML.</p>
<p>Then you&#39;ll just need to loop through that JSON object to create rows for your table.  Which part do you feel you need help with first… creating an API, getting the data to the device, or turning the data into rows on your table?</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 4th 2012, 1:24:29 am">August 4th 2012</span>
								by <span class='authorname'>Lee Bartelme</span><br>
								<a class="icon-bg icon-link" href="question/140538/how-to-send-data-from-mysql-database-to-tableview.html#answer-244438" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
