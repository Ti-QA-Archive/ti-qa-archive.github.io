<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Monetizing with AdMob » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Monetizing with AdMob</h1>
		</header>
		<section>
			<p>Hello everybody,</p>
<p>I am using the module ti.admob to monetize my iOS&#x2F;iPhone App.</p>
<p>This is the code I use to initialize the App and also create the advertisement: </p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> win = Ti.UI.createWindow({
  backgroundColor:<span class="hljs-string">'transparent'</span>
});

Titanium.Admob = <span class="hljs-built_in">require</span>(<span class="hljs-string">'ti.admob'</span>);

<span class="hljs-keyword">var</span> adview = Titanium.Admob.createView({
    bottom:<span class="hljs-number">0</span>,
    testing: <span class="hljs-literal">true</span>,
    left:<span class="hljs-number">0</span>,
    adBackgroundColor:<span class="hljs-string">'black'</span>,
    primaryTextColor:<span class="hljs-string">'blue'</span>,
    secondaryTextColor:<span class="hljs-string">'green'</span>,
    publisherId:<span class="hljs-string">'a14e42ab910e06f'</span>
});

adview.addEventListener(<span class="hljs-string">'error'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">error</span>) </span>{
    alert(error.message);
    win.remove(adview);
});

<span class="hljs-keyword">var</span> next_window = Titanium.UI.createWindow({
    tabBarHidden:<span class="hljs-literal">true</span>,
    url:<span class="hljs-string">"step1.js"</span>
});

win.add(adview);
win.open();
next_window.open();
</code></pre><p>This code works fine, but there is a problem that happens every time when I click on the generated advertisement. It opens a modal window, but instead of showing the content inside it, the app redirects me to safari and then I get this error instead of the content:</p>
<p>&quot;Cannot Open Page </p>
<p>Safari cannot open the page because the address is invalid.&quot;</p>
<p>Any of you know how to fix this? I appreciate any help.<br>Thanks</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="August 19th 2011, 10:32:21 am">August 19th 2011</span>
				by <span class='authorname'>Joseandro Luiz</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>admob</span></li>
					
						<li><span class='tagname'>advertisement</span></li>
					
						<li><span class='tagname'>ios</span></li>
					
						<li><span class='tagname'>monetize</span></li>
					
						<li><span class='tagname'>ti.admob</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-216929">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>I just tested the code here, and unless there is something in your step1.js file throwing things off (and I doubt that is the case to be honest) I think its an issue with the add link admob is displaying for you… I dont know how long you have been seeing this issue, but I would say wait a bit, then try it again because I think a new ad will clear this up.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 19th 2011, 10:44:24 am">August 19th 2011</span>
								by <span class='authorname'>Matt Apperson</span><br>
								<a class="icon-bg icon-link" href="question/124483/monetizing-with-admob.html#answer-216929" rel="permalink">permalink</a>
							</div>

							<h5>7 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>This error is being displayed since the first time I deployed the code (One week ago).</p>
<p>Is there a way to force it to show the ad inside the modal window instead of being redirected to safari?</p>
<p>Some of the few ads shown inside the modal window are readable, but the others redirected to safari always fail.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 19th 2011, 10:52:23 am">August 19th 2011</span>
											by <span class='authorname'>Joseandro Luiz</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>The redirect is taking place outside the realm of what can be controlled by the admob SDK… I had seen this with an ad I was getting in one of my own apps a few weeks back… after a while the offending ad stopped displaying.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 19th 2011, 10:55:15 am">August 19th 2011</span>
											by <span class='authorname'>Matt Apperson</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>So you think it is gonna fix by itself after some while?</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 19th 2011, 10:57:31 am">August 19th 2011</span>
											by <span class='authorname'>Joseandro Luiz</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I do… you might want to see about contacting admob and letting them know that the add is redirecting to safari with an invalid URL… They might have some system for removing ads like that… but that is on them.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 19th 2011, 10:59:57 am">August 19th 2011</span>
											by <span class='authorname'>Matt Apperson</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>As you can see <a href="http:&#x2F;&#x2F;groups.google.com&#x2F;group&#x2F;admob-iphone-sdk&#x2F;browse_thread&#x2F;thread&#x2F;b3d9debe30f49d3f">here</a> This is an issue for developers in general, not just Ti developers. This is simply a limitation of the adMob SDK that there is no way to prevent redirects to the native browser app.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 19th 2011, 11:03:56 am">August 19th 2011</span>
											by <span class='authorname'>Matt Apperson</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Awesome Matt… Thank you once again dude ;)</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 19th 2011, 11:04:55 am">August 19th 2011</span>
											by <span class='authorname'>Joseandro Luiz</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>My own AdMob did the same thing when first deployed … after 3 or 4 days of it giving errors, it cleared up and has been fine ever since.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 21st 2011, 2:42:28 am">August 21st 2011</span>
											by <span class='authorname'>Dana Dodge</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
