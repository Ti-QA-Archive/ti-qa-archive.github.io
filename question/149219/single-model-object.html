<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Single Model object. Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Single Model object.</h1>
		</header>
		<section>
			<p>Hi, </p>
<p>After updating til 3.0.1 i got a weird problem with Model.Save</p>
<p>I got this code to set and save a user model.</p>
<pre><code class="hljs"><span class="hljs-tag">user</span><span class="hljs-class">.set</span>({
                <span class="hljs-attribute">memberid</span>: items.memberid,
                            <span class="hljs-attribute">countryid</span>: items.countryid,
                            <span class="hljs-attribute">country_code</span>: items.country_code,
                            <span class="hljs-attribute">language_code</span>: items.language_code,
                            <span class="hljs-attribute">group_count</span>: items.group_count,
                            <span class="hljs-attribute">groupid</span>: items.groupid,
                            <span class="hljs-attribute">group_name</span>: items.group_name,
                            <span class="hljs-attribute">name</span>: items.name,
                            <span class="hljs-attribute">email</span>: items.email,
                            <span class="hljs-attribute">loggedin</span>: <span class="hljs-number">1</span>,
                            <span class="hljs-attribute">authkey</span>: items.authkey
                        });
                        <span class="hljs-tag">Ti</span><span class="hljs-class">.API</span><span class="hljs-class">.info</span>(<span class="hljs-string">'User set'</span> + items.authkey);
                        <span class="hljs-tag">user</span><span class="hljs-class">.save</span>();
                        <span class="hljs-tag">Ti</span><span class="hljs-class">.API</span><span class="hljs-class">.info</span>(<span class="hljs-string">'User save'</span> + user.<span class="hljs-function">get</span>(<span class="hljs-string">'authkey'</span>));
                        <span class="hljs-tag">callback</span>(true);
</code></pre><p>I i close the simulator down and run it again and on a auth check in the model i try this:</p>
<p>index.js</p>
<pre><code class="hljs">// Fetch the <span class="hljs-keyword">user</span> <span class="hljs-title">model</span>
var <span class="hljs-keyword">user</span> <span class="hljs-title">= Alloy</span>.Models.user;
user.fetch();
user.auth();
</code></pre><p>the auth on the model:</p>
<pre><code class="hljs">alert<span class="hljs-list">(<span class="hljs-keyword">this</span>.get<span class="hljs-list">(<span class="hljs-quoted">'authkey</span>')</span>)</span><span class="hljs-comment">;</span>
</code></pre><p>i get null.</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="March 6th 2013, 7:45:24 am">March 6th 2013</span>
				by <span class='authorname'>Henrik Hansen</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>alloy</span></li>
					
						<li><span class='tagname'>model</span></li>
					
				</ul>
			

			<section>
				<h5>2 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>There&#39;s not really enough information here. Can you reduce down to the smallest possible reproducible test case that I can test on my end to see where your problem is?</p>
</div>
							<div class="author">
								&mdash; commented <span title="March 6th 2013, 10:47:02 am">March 6th 2013</span>
								by <span class='authorname'>Tony Lukasavage</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Does it help if i send the whole user.js model, because its a quite big project atm.</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> http = require(<span class="hljs-string">'http'</span>);

exports.definition = {

    config: {
        <span class="hljs-string">"columns"</span>: {
            <span class="hljs-string">"memberid"</span>: <span class="hljs-string">"integer"</span>,
            <span class="hljs-string">"countryid"</span>: <span class="hljs-string">"integer"</span>,
            <span class="hljs-string">"country_code"</span>: <span class="hljs-string">"text"</span>,
            <span class="hljs-string">"language_code"</span>: <span class="hljs-string">"text"</span>,
            <span class="hljs-string">"name"</span>:<span class="hljs-string">"text"</span>,
            <span class="hljs-string">"email"</span>:<span class="hljs-string">"text"</span>,
            <span class="hljs-string">"group_count"</span>: <span class="hljs-string">"integer"</span>,
            <span class="hljs-string">"groupid"</span>: <span class="hljs-string">"integer"</span>,
            <span class="hljs-string">"group_name"</span>: <span class="hljs-string">"text"</span>,
            <span class="hljs-string">"loggedin"</span>:<span class="hljs-string">"integer"</span>,
            <span class="hljs-string">"authkey"</span>:<span class="hljs-string">"text"</span>
        },
        <span class="hljs-string">"adapter"</span>: {
            <span class="hljs-string">"type"</span>: <span class="hljs-string">"sql"</span>,
            <span class="hljs-string">"idAttribute"</span> : <span class="hljs-string">"memberid"</span>,
            <span class="hljs-string">"collection_name"</span>: <span class="hljs-string">"user"</span>
        }
    },        

    extendModel: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(Model)</span> </span>{        
        _.extend(Model.prototype, {

            login: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(email, password, callback)</span> </span>{

               user = <span class="hljs-keyword">this</span>;

               http.request(<span class="hljs-string">'POST'</span>, <span class="hljs-string">'login'</span>, {<span class="hljs-string">'email'</span>: email, <span class="hljs-string">'password'</span>: password}, <span class="hljs-string">''</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(status, items, count)</span> </span>{

                    <span class="hljs-keyword">if</span>(status == <span class="hljs-number">1</span>) {

                        Ti.API.info(<span class="hljs-string">'Login ok'</span>);
                        user.<span class="hljs-keyword">set</span>({
                            memberid: items.memberid,
                            countryid: items.countryid,
                            country_code: items.country_code,
                            language_code: items.language_code,
                            group_count: items.group_count,
                            groupid: items.groupid,
                            group_name: items.group_name,
                            name: items.name,
                            email: items.email,
                            loggedin: <span class="hljs-number">1</span>,
                            authkey: items.authkey
                        });
                        Ti.API.info(<span class="hljs-string">'User set'</span> + items.authkey);
                        user.save();
                        Ti.API.info(<span class="hljs-string">'User save'</span> + user.<span class="hljs-keyword">get</span>(<span class="hljs-string">'authkey'</span>));
                        callback(<span class="hljs-literal">true</span>);

                    } <span class="hljs-keyword">else</span> {

                        callback(<span class="hljs-literal">false</span>);

                    }

               });

            },

            logout: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
                <span class="hljs-keyword">this</span>.<span class="hljs-keyword">set</span>({
                    loggedIn: <span class="hljs-number">0</span>,
                    authKey: <span class="hljs-string">''</span>
                });
                <span class="hljs-keyword">this</span>.save();
            },

            validateAuth: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(callback)</span> </span>{

                user = <span class="hljs-keyword">this</span>;

                http.request(<span class="hljs-string">'GET'</span>, <span class="hljs-string">'check'</span>, {<span class="hljs-string">'authkey'</span>: <span class="hljs-keyword">this</span>.<span class="hljs-keyword">get</span>(<span class="hljs-string">'authkey'</span>)}, <span class="hljs-string">''</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(status, items, count)</span> </span>{

                    <span class="hljs-keyword">if</span>(status == <span class="hljs-number">1</span>) {

                        Ti.API.info(<span class="hljs-string">'Auth ok.'</span>);
                        user.<span class="hljs-keyword">set</span>({
                            memberid: items.memberid,
                            countryid: items.countryid,
                            country_code: items.country_code,
                            language_code: items.language_code,
                            group_count: items.group_count,
                            groupid: items.groupid,
                            group_name: items.group_name,
                            name: items.name,
                            email: items.email,
                            loggedin: <span class="hljs-number">1</span>
                        });
                        user.save();
                        callback(<span class="hljs-literal">true</span>);

                      } <span class="hljs-keyword">else</span> {

                        user.logout();
                        callback(<span class="hljs-literal">false</span>);

                    }

                });

            },

        }); <span class="hljs-comment">// end extend</span>

        <span class="hljs-keyword">return</span> Model;
    },

    extendCollection: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(Collection)</span> </span>{        
        _.extend(Collection.prototype, {

            <span class="hljs-comment">// extended functions go here            </span>

        }); <span class="hljs-comment">// end extend</span>

        <span class="hljs-keyword">return</span> Collection;
    }

}
</code></pre></div>
							<div class="author">
								&mdash; commented <span title="March 6th 2013, 10:49:53 am">March 6th 2013</span>
								by <span class='authorname'>Henrik Hansen</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-258180">
				
						<section>
							<p>Have you tried resetting your simulator? This will remove all existing apps and their databases from your simulator, giving you a fresh sqlite DB for this app. There were some changes in the way the sql adapter works for Alloy 1.0.0, as detailed here, which could be causing your problem: <a href="https:&#x2F;&#x2F;github.com&#x2F;appcelerator&#x2F;alloy&#x2F;blob&#x2F;master&#x2F;CHANGELOG.md#sqlite-sync-adapter-and-migrations">https:&#x2F;&#x2F;github.com&#x2F;appcelerator&#x2F;alloy&#x2F;blob&#x2F;master&#x2F;CHANGELOG.md#sqlite-sync-adapter-and-migrations</a></p>
<p>The above link shows a migration method for preserving your data and apps, but if that isn&#39;t a concern, I would just do a simulator reset (iOS Simulator -&gt; Reset Content and Settingsâ¦) as it will be much faster.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="March 6th 2013, 11:13:58 am">March 6th 2013</span>
								by <span class='authorname'>Tony Lukasavage</span><br>
								<a class="icon-bg icon-link" href="../../question/149219/single-model-object.html#answer-258180" rel="permalink">permalink</a>
							</div>

							<h5>14 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Hey Tony, it tried that same issue, i get null out instead of the saved data.<br>Is there anyway to see whats in the sqlite db from this app?</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 6th 2013, 11:18:12 am">March 6th 2013</span>
											by <span class='authorname'>Henrik Hansen</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Yeah, navigate to your simulator&#39;s private documents folder, which is in my case found at the following location. Notice that the long serial number represents your app, so you may have a few in there you need to look through.</p>
<p><strong>&#x2F;Users&#x2F;tlukasavage&#x2F;Library&#x2F;Application Support&#x2F;iPhone Simulator&#x2F;6.1&#x2F;Applications&#x2F;A20AA956-B26A-49AB-9FA2-55AF9986900A&#x2F;Library&#x2F;Private Documents</strong></p>
<p>and open the sqlite file with some sort of SQLite viewer. I use <a href="https:&#x2F;&#x2F;addons.mozilla.org&#x2F;en-us&#x2F;firefox&#x2F;addon&#x2F;sqlite-manager&#x2F;">SQLite Manager for Firefox</a>.</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 6th 2013, 1:25:43 pm">March 6th 2013</span>
											by <span class='authorname'>Tony Lukasavage</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Ok, now i have looked trough the table User in the SQLlite file and every column has null in it, so it apears that the user.save function doesnt work?</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 6th 2013, 5:49:04 pm">March 6th 2013</span>
											by <span class='authorname'>Henrik Hansen</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>The save() function works in general, so there must be something specific in this situation. Are you sure that <code>items.authkey</code> has a value when you assign it in the set() call? What does your model look like after the set? <code>Ti.API.info(user.toJSON())</code></p>
</p>
										<div class="author">
											&mdash; commented <span title="March 6th 2013, 5:54:24 pm">March 6th 2013</span>
											by <span class='authorname'>Tony Lukasavage</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>As you can see in the code i Ti.Api.info the authkey after set and again after save. Its gives this output:</p>
<pre><code class="hljs">[<span class="hljs-number">INF</span>O] :   <span class="hljs-keyword">User</span> <span class="hljs-title">set1f35e263740792793515b796c07f136d</span>
[<span class="hljs-number">INF</span>O] :   <span class="hljs-keyword">User</span> <span class="hljs-title">save1f35e263740792793515b796c07f136d</span>
</code></pre><p>So its correct from items and its set in the user model, but not saved.</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 6th 2013, 5:56:55 pm">March 6th 2013</span>
											by <span class='authorname'>Henrik Hansen</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>can you please supply what the model looks like after the set()?</p>
<p><code>Ti.API.info(user.toJSON())</code></p>
</p>
										<div class="author">
											&mdash; commented <span title="March 6th 2013, 6:46:14 pm">March 6th 2013</span>
											by <span class='authorname'>Tony Lukasavage</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Ok, it gives:</p>
<pre><code class="hljs"><span class="hljs-attr_selector">[INFO]</span> <span class="hljs-value">:   User set54ec632c968f9e5ce79dff36873a2c2c
[INFO] :   {
[INFO] :       <span class="hljs-number">0</span> =     {
[INFO] :           authkey = <span class="hljs-string">"&lt;null&gt;"</span>;</span>
<span class="hljs-attr_selector">[INFO]</span> <span class="hljs-value">:           <span class="hljs-string">"country_code"</span> = <span class="hljs-string">"&lt;null&gt;"</span>;</span>
<span class="hljs-attr_selector">[INFO]</span> <span class="hljs-value">:           countryid = <span class="hljs-string">"&lt;null&gt;"</span>;</span>
<span class="hljs-attr_selector">[INFO]</span> <span class="hljs-value">:           email = <span class="hljs-string">"&lt;null&gt;"</span>;</span>
<span class="hljs-attr_selector">[INFO]</span> <span class="hljs-value">:           <span class="hljs-string">"group_count"</span> = <span class="hljs-string">"&lt;null&gt;"</span>;</span>
<span class="hljs-attr_selector">[INFO]</span> <span class="hljs-value">:           <span class="hljs-string">"group_name"</span> = <span class="hljs-string">"&lt;null&gt;"</span>;</span>
<span class="hljs-attr_selector">[INFO]</span> <span class="hljs-value">:           groupid = <span class="hljs-string">"&lt;null&gt;"</span>;</span>
<span class="hljs-attr_selector">[INFO]</span> <span class="hljs-value">:           <span class="hljs-string">"language_code"</span> = <span class="hljs-string">"&lt;null&gt;"</span>;</span>
<span class="hljs-attr_selector">[INFO]</span> <span class="hljs-value">:           loggedin = <span class="hljs-string">"&lt;null&gt;"</span>;</span>
<span class="hljs-attr_selector">[INFO]</span> <span class="hljs-value">:           memberid = <span class="hljs-string">"&lt;null&gt;"</span>;</span>
<span class="hljs-attr_selector">[INFO]</span> <span class="hljs-value">:           name = <span class="hljs-string">"&lt;null&gt;"</span>;</span>
<span class="hljs-attr_selector">[INFO]</span> <span class="hljs-value">:       };</span>
<span class="hljs-attr_selector">[INFO]</span> <span class="hljs-value">:       <span class="hljs-number">1</span> =     {
[INFO] :           authkey = <span class="hljs-string">"&lt;null&gt;"</span>;</span>
<span class="hljs-attr_selector">[INFO]</span> <span class="hljs-value">:           <span class="hljs-string">"country_code"</span> = <span class="hljs-string">"&lt;null&gt;"</span>;</span>
<span class="hljs-attr_selector">[INFO]</span> <span class="hljs-value">:           countryid = <span class="hljs-string">"&lt;null&gt;"</span>;</span>
<span class="hljs-attr_selector">[INFO]</span> <span class="hljs-value">:           email = <span class="hljs-string">"&lt;null&gt;"</span>;</span>
<span class="hljs-attr_selector">[INFO]</span> <span class="hljs-value">:           <span class="hljs-string">"group_count"</span> = <span class="hljs-string">"&lt;null&gt;"</span>;</span>
<span class="hljs-attr_selector">[INFO]</span> <span class="hljs-value">:           <span class="hljs-string">"group_name"</span> = <span class="hljs-string">"&lt;null&gt;"</span>;</span>
<span class="hljs-attr_selector">[INFO]</span> <span class="hljs-value">:           groupid = <span class="hljs-string">"&lt;null&gt;"</span>;</span>
<span class="hljs-attr_selector">[INFO]</span> <span class="hljs-value">:           <span class="hljs-string">"language_code"</span> = <span class="hljs-string">"&lt;null&gt;"</span>;</span>
<span class="hljs-attr_selector">[INFO]</span> <span class="hljs-value">:           loggedin = <span class="hljs-string">"&lt;null&gt;"</span>;</span>
<span class="hljs-attr_selector">[INFO]</span> <span class="hljs-value">:           memberid = <span class="hljs-string">"&lt;null&gt;"</span>;</span>
<span class="hljs-attr_selector">[INFO]</span> <span class="hljs-value">:           name = <span class="hljs-string">"&lt;null&gt;"</span>;</span>
<span class="hljs-attr_selector">[INFO]</span> <span class="hljs-value">:       };</span>
<span class="hljs-attr_selector">[INFO]</span> <span class="hljs-value">:       <span class="hljs-number">2</span> =     {
[INFO] :           authkey = <span class="hljs-string">"&lt;null&gt;"</span>;</span>
<span class="hljs-attr_selector">[INFO]</span> <span class="hljs-value">:           <span class="hljs-string">"country_code"</span> = <span class="hljs-string">"&lt;null&gt;"</span>;</span>
<span class="hljs-attr_selector">[INFO]</span> <span class="hljs-value">:           countryid = <span class="hljs-string">"&lt;null&gt;"</span>;</span>
<span class="hljs-attr_selector">[INFO]</span> <span class="hljs-value">:           email = <span class="hljs-string">"&lt;null&gt;"</span>;</span>
<span class="hljs-attr_selector">[INFO]</span> <span class="hljs-value">:           <span class="hljs-string">"group_count"</span> = <span class="hljs-string">"&lt;null&gt;"</span>;</span>
<span class="hljs-attr_selector">[INFO]</span> <span class="hljs-value">:           <span class="hljs-string">"group_name"</span> = <span class="hljs-string">"&lt;null&gt;"</span>;</span>
<span class="hljs-attr_selector">[INFO]</span> <span class="hljs-value">:           groupid = <span class="hljs-string">"&lt;null&gt;"</span>;</span>
<span class="hljs-attr_selector">[INFO]</span> <span class="hljs-value">:           <span class="hljs-string">"language_code"</span> = <span class="hljs-string">"&lt;null&gt;"</span>;</span>
<span class="hljs-attr_selector">[INFO]</span> <span class="hljs-value">:           loggedin = <span class="hljs-string">"&lt;null&gt;"</span>;</span>
<span class="hljs-attr_selector">[INFO]</span> <span class="hljs-value">:           memberid = <span class="hljs-string">"&lt;null&gt;"</span>;</span>
<span class="hljs-attr_selector">[INFO]</span> <span class="hljs-value">:           name = <span class="hljs-string">"&lt;null&gt;"</span>;</span>
<span class="hljs-attr_selector">[INFO]</span> <span class="hljs-value">:       };</span>
<span class="hljs-attr_selector">[INFO]</span> <span class="hljs-value">:       authKey = <span class="hljs-string">""</span>;</span>
<span class="hljs-attr_selector">[INFO]</span> <span class="hljs-value">:       authkey = <span class="hljs-number">54</span>ec632c968f9e5ce79dff36873a2c2c;</span>
<span class="hljs-attr_selector">[INFO]</span> <span class="hljs-value">:       <span class="hljs-string">"country_code"</span> = dk;</span>
<span class="hljs-attr_selector">[INFO]</span> <span class="hljs-value">:       countryid = <span class="hljs-number">57</span>;</span>
<span class="hljs-attr_selector">[INFO]</span> <span class="hljs-value">:       email = <span class="hljs-string">"hbh@nd.dk"</span>;</span>
<span class="hljs-attr_selector">[INFO]</span> <span class="hljs-value">:       <span class="hljs-string">"group_count"</span> = <span class="hljs-number">1</span>;</span>
<span class="hljs-attr_selector">[INFO]</span> <span class="hljs-value">:       <span class="hljs-string">"group_name"</span> = <span class="hljs-string">"Testgruppe 2 NY"</span>;</span>
<span class="hljs-attr_selector">[INFO]</span> <span class="hljs-value">:       groupid = <span class="hljs-number">4351</span>;</span>
<span class="hljs-attr_selector">[INFO]</span> <span class="hljs-value">:       <span class="hljs-string">"language_code"</span> = <span class="hljs-string">"en-gb"</span>;</span>
<span class="hljs-attr_selector">[INFO]</span> <span class="hljs-value">:       loggedIn = <span class="hljs-number">0</span>;</span>
<span class="hljs-attr_selector">[INFO]</span> <span class="hljs-value">:       loggedin = <span class="hljs-number">1</span>;</span>
<span class="hljs-attr_selector">[INFO]</span> <span class="hljs-value">:       memberid = <span class="hljs-number">188175</span>;</span>
<span class="hljs-attr_selector">[INFO]</span> <span class="hljs-value">:       name = <span class="hljs-string">"Henrik B. Hansen"</span>;</span>
<span class="hljs-attr_selector">[INFO]</span> <span class="hljs-value">:   }
[INFO] :   User save54ec632c968f9e5ce79dff36873a2c2c</span>
</code></pre><p>Weird with the 3 empty rows at start?</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 6th 2013, 6:50:36 pm">March 6th 2013</span>
											by <span class='authorname'>Henrik Hansen</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Yeah, I&#39;m not entirely certain what&#39;s happening in other parts of your application, but clearly something is manipulating this model in an unintended way. It appears as though the asynchronous Ti.API.info() calls are mashing your logs together making it really hard to read, so just print the model after you do the set(), not after the save(). Or better yet, put the Ti.API.info() call that comes after the save() in a setTimeout() so that it doesn&#39;t interlace with the previous call&#39;s logs.</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 6th 2013, 7:10:26 pm">March 6th 2013</span>
											by <span class='authorname'>Tony Lukasavage</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Its really weird, i have looked through your github alloy project with model login, and its basicly the same, the differents is that i make a variable user = this to use inside a next function.<br>I have tried again and again, it got it NOT to created more than one in Ti.API.info(user&#x2F;this.toJSON())<br>And it gives: </p>
<pre><code class="hljs"><span class="hljs-attr_selector">[INFO]</span> <span class="hljs-value">:    {
[INFO] :       authkey = e73c52346fc7683dbb2567dbe4b459a6;</span>
<span class="hljs-attr_selector">[INFO]</span> <span class="hljs-value">:       <span class="hljs-string">"country_code"</span> = dk;</span>
<span class="hljs-attr_selector">[INFO]</span> <span class="hljs-value">:       countryid = <span class="hljs-number">57</span>;</span>
<span class="hljs-attr_selector">[INFO]</span> <span class="hljs-value">:       email = <span class="hljs-string">"hbh@nd.dk"</span>;</span>
<span class="hljs-attr_selector">[INFO]</span> <span class="hljs-value">:       <span class="hljs-string">"group_count"</span> = <span class="hljs-number">1</span>;</span>
<span class="hljs-attr_selector">[INFO]</span> <span class="hljs-value">:       <span class="hljs-string">"group_name"</span> = <span class="hljs-string">"Testgruppe 2 NY"</span>;</span>
<span class="hljs-attr_selector">[INFO]</span> <span class="hljs-value">:       groupid = <span class="hljs-number">4351</span>;</span>
<span class="hljs-attr_selector">[INFO]</span> <span class="hljs-value">:       <span class="hljs-string">"language_code"</span> = <span class="hljs-string">"en-gb"</span>;</span>
<span class="hljs-attr_selector">[INFO]</span> <span class="hljs-value">:       loggedin = <span class="hljs-number">1</span>;</span>
<span class="hljs-attr_selector">[INFO]</span> <span class="hljs-value">:       memberid = <span class="hljs-number">188175</span>;</span>
<span class="hljs-attr_selector">[INFO]</span> <span class="hljs-value">:       name = <span class="hljs-string">"Henrik B. Hansen"</span>;</span>
<span class="hljs-attr_selector">[INFO]</span> <span class="hljs-value">:   }</span>
</code></pre><p>Still if i look through the sqllite file the table user is empty.<br>Am i looking at this wrong or what could have happend?</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 6th 2013, 7:49:43 pm">March 6th 2013</span>
											by <span class='authorname'>Henrik Hansen</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I&#39;m not certain based on what you&#39;ve shown. I&#39;m afraid I&#39;m going to have to fall back to the original thing I said which is you&#39;ll have to create the smallest, reproducible test case that exhibits the problem if anyone is going to be able to help troubleshoot anymore.</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 6th 2013, 7:57:36 pm">March 6th 2013</span>
											by <span class='authorname'>Tony Lukasavage</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Hi Tony,<br>I have been troubleshooting this all night .. And found some other guys having sort of same problem after updating to Alloy 1.0 <a href="http:&#x2F;&#x2F;developer.appcelerator.com&#x2F;question&#x2F;148193&#x2F;alloy---cannot-persist-data">http:&#x2F;&#x2F;developer.appcelerator.com&#x2F;question&#x2F;148193&#x2F;alloyâcannot-persist-data</a> and it seems the problem is the idAttribute. If i remove this, everyting works perfectly again.<br>Then i tried keeping it there and found out that i i dont set the value in the idAttribute it works to, but if i want to set it, in this case memberid, then it doesnt save it in the user table.<br>Are there a bug with the idAttribute?</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 7th 2013, 6:53:36 am">March 7th 2013</span>
											by <span class='authorname'>Henrik Hansen</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Please create a test case next time. That said, I went and created one myself and was able to reproduce it. Can you please log a <a href="https:&#x2F;&#x2F;jira.appcelerator.org&#x2F;browse&#x2F;TC">Titanium COmmunity Jira ticket</a> and be sure to log all the details from this Q&amp;A post in it? Make sure to give it the label &quot;alloy&quot; as well.</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 7th 2013, 12:29:42 pm">March 7th 2013</span>
											by <span class='authorname'>Tony Lukasavage</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>looks familiar :-)</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 8th 2013, 12:07:46 am">March 8th 2013</span>
											by <span class='authorname'>Aaron Saunders</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>This is what happens when tickets don&#39;t get logged! I may be a decent dev, but I&#39;ve got the memory of a goldfish.</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 8th 2013, 11:33:43 am">March 8th 2013</span>
											by <span class='authorname'>Tony Lukasavage</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
