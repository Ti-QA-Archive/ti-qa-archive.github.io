<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Android navigation issue » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Android navigation issue</h1>
		</header>
		<section>
			<p>i am trying to update data and show an activity indicator while that happens on the same page i want hide the table view that i have created when the updates go on and then redirect the user to updated data page</p>
<p>i have been successful in updating the data and redirecting user to updated data page however when i update the data and get back to the select category page it shows the categories present in tableview but nothing can be clicked<br>moreover even when i try to hide the tableview it cannot be hidden</p>
<p>my question is simple hide table view when data is being updated and when we get back from the view data page we can again see the categories and click to select another category.what wrong am i doing  </p>
<p>this is the category page</p>
<pre><code class="hljs">var win = Ti.UI.currentWindow;
alert(<span class="hljs-string">'open'</span>);
win.backgroundColor = <span class="hljs-string">'white'</span>;
<span class="hljs-comment">//alert('hello'); </span>
var data = [
{<span class="hljs-string">title:</span><span class="hljs-string">'Geography'</span>, <span class="hljs-string">color:</span> <span class="hljs-string">'#555555'</span>, <span class="hljs-string">hasChild:</span><span class="hljs-literal">true</span>, <span class="hljs-string">path:</span><span class="hljs-string">'addData.js'</span>, <span class="hljs-string">height:</span><span class="hljs-number">125</span>,
<span class="hljs-label">        font:</span>{<span class="hljs-string">fontFamily:</span><span class="hljs-string">'Arial'</span>, <span class="hljs-string">fontWeight:</span><span class="hljs-string">'bold'</span>,<span class="hljs-string">fontSize:</span><span class="hljs-string">'30'</span>, <span class="hljs-string">color:</span><span class="hljs-string">'#FFF'</span>}    },
        {<span class="hljs-string">title:</span><span class="hljs-string">'History'</span>, <span class="hljs-string">color:</span> <span class="hljs-string">'#555555'</span>, <span class="hljs-string">hasChild:</span><span class="hljs-literal">true</span>, <span class="hljs-string">path:</span><span class="hljs-string">'addData.js'</span>, <span class="hljs-string">height:</span><span class="hljs-number">125</span>,
<span class="hljs-label">        font:</span>{<span class="hljs-string">fontFamily:</span><span class="hljs-string">'Arial'</span>, <span class="hljs-string">fontWeight:</span><span class="hljs-string">'bold'</span>,<span class="hljs-string">fontSize:</span><span class="hljs-string">'30'</span>}    },
        {<span class="hljs-string">title:</span><span class="hljs-string">'Mathematics'</span>, <span class="hljs-string">color:</span> <span class="hljs-string">'#555555'</span>, <span class="hljs-string">hasChild:</span><span class="hljs-literal">true</span>, <span class="hljs-string">path:</span><span class="hljs-string">'addData.js'</span>, <span class="hljs-string">height:</span><span class="hljs-number">125</span>,
<span class="hljs-label">        font:</span>{<span class="hljs-string">fontFamily:</span><span class="hljs-string">'Arial'</span>, <span class="hljs-string">fontWeight:</span><span class="hljs-string">'bold'</span>,<span class="hljs-string">fontSize:</span><span class="hljs-string">'30'</span>}    },
        {<span class="hljs-string">title:</span><span class="hljs-string">'World'</span>, <span class="hljs-string">color:</span> <span class="hljs-string">'#555555'</span>, <span class="hljs-string">hasChild:</span><span class="hljs-literal">true</span>, <span class="hljs-string">path:</span><span class="hljs-string">'addData.js'</span>, <span class="hljs-string">height:</span><span class="hljs-number">125</span>,
<span class="hljs-label">        font:</span>{<span class="hljs-string">fontFamily:</span><span class="hljs-string">'Arial'</span>, <span class="hljs-string">fontWeight:</span><span class="hljs-string">'bold'</span>,<span class="hljs-string">fontSize:</span><span class="hljs-string">'30'</span>}    },
        {<span class="hljs-string">title:</span><span class="hljs-string">'Economics'</span>, <span class="hljs-string">color:</span> <span class="hljs-string">'#555555'</span>, <span class="hljs-string">hasChild:</span><span class="hljs-literal">true</span>, <span class="hljs-string">path:</span><span class="hljs-string">'addData.js'</span>, <span class="hljs-string">height:</span><span class="hljs-number">125</span>,
<span class="hljs-label">        font:</span>{<span class="hljs-string">fontFamily:</span><span class="hljs-string">'Arial'</span>, <span class="hljs-string">fontWeight:</span><span class="hljs-string">'bold'</span>,<span class="hljs-string">fontSize:</span><span class="hljs-string">'30'</span>}    },
        {<span class="hljs-string">title:</span><span class="hljs-string">'Literature'</span>, <span class="hljs-string">color:</span> <span class="hljs-string">'#555555'</span>, <span class="hljs-string">hasChild:</span><span class="hljs-literal">true</span>, <span class="hljs-string">path:</span><span class="hljs-string">'addData.js'</span>, <span class="hljs-string">height:</span><span class="hljs-number">125</span>,
<span class="hljs-label">        font:</span>{<span class="hljs-string">fontFamily:</span><span class="hljs-string">'Arial'</span>, <span class="hljs-string">fontWeight:</span><span class="hljs-string">'bold'</span>,<span class="hljs-string">fontSize:</span><span class="hljs-string">'30'</span>}    }, 
        {<span class="hljs-string">title:</span><span class="hljs-string">'Culture'</span>, <span class="hljs-string">color:</span> <span class="hljs-string">'#555555'</span>, <span class="hljs-string">hasChild:</span><span class="hljs-literal">true</span>, <span class="hljs-string">path:</span><span class="hljs-string">'addData.js'</span>, <span class="hljs-string">height:</span><span class="hljs-number">125</span>,
<span class="hljs-label">        font:</span>{<span class="hljs-string">fontFamily:</span><span class="hljs-string">'Arial'</span>, <span class="hljs-string">fontWeight:</span><span class="hljs-string">'bold'</span>,<span class="hljs-string">fontSize:</span><span class="hljs-string">'30'</span>}    },
        {<span class="hljs-string">title:</span><span class="hljs-string">'Awards'</span>, <span class="hljs-string">color:</span> <span class="hljs-string">'#555555'</span>, <span class="hljs-string">hasChild:</span><span class="hljs-literal">true</span>, <span class="hljs-string">path:</span><span class="hljs-string">'addData.js'</span>, <span class="hljs-string">height:</span><span class="hljs-number">125</span>,
<span class="hljs-label">        font:</span>{<span class="hljs-string">fontFamily:</span><span class="hljs-string">'Arial'</span>, <span class="hljs-string">fontWeight:</span><span class="hljs-string">'bold'</span>,<span class="hljs-string">fontSize:</span><span class="hljs-string">'30'</span>}    },
        {<span class="hljs-string">title:</span><span class="hljs-string">'Science'</span>, <span class="hljs-string">color:</span> <span class="hljs-string">'#555555'</span>, <span class="hljs-string">hasChild:</span><span class="hljs-literal">true</span>, <span class="hljs-string">path:</span><span class="hljs-string">'addData.js'</span>, <span class="hljs-string">height:</span><span class="hljs-number">125</span>,
<span class="hljs-label">        font:</span>{<span class="hljs-string">fontFamily:</span><span class="hljs-string">'Arial'</span>, <span class="hljs-string">fontWeight:</span><span class="hljs-string">'bold'</span>,<span class="hljs-string">fontSize:</span><span class="hljs-string">'30'</span>}    },
        {<span class="hljs-string">title:</span><span class="hljs-string">'Books'</span>, <span class="hljs-string">color:</span> <span class="hljs-string">'#555555'</span>, <span class="hljs-string">hasChild:</span><span class="hljs-literal">true</span>, <span class="hljs-string">path:</span><span class="hljs-string">'addData.js'</span>, <span class="hljs-string">height:</span><span class="hljs-number">125</span>,
<span class="hljs-label">        font:</span>{<span class="hljs-string">fontFamily:</span><span class="hljs-string">'Arial'</span>, <span class="hljs-string">fontWeight:</span><span class="hljs-string">'bold'</span>,<span class="hljs-string">fontSize:</span><span class="hljs-string">'30'</span>}    },
     ];
var tableview = Ti.UI.createTableView({
<span class="hljs-label">    data:</span>data,
    });
    tableview.rowHeight=<span class="hljs-string">'auto'</span>;
tableview.addEventListener(<span class="hljs-string">'click'</span>, function(e){
<span class="hljs-keyword">if</span> (e.rowData.path){
<span class="hljs-comment">// var win1 = Ti.UI.createWindow({</span>
<span class="hljs-comment">// url:e.rowData.path,</span>
<span class="hljs-comment">// title:e.rowData.title,</span>
<span class="hljs-comment">// navBarHidden: true,</span>
<span class="hljs-comment">//     </span>
<span class="hljs-comment">// });</span>
<span class="hljs-comment">// var tab1 = Titanium.UI.createTab({</span>
<span class="hljs-comment">// icon:'images/tabs/KS_nav_ui.png',</span>
<span class="hljs-comment">// title:'Products',</span>
<span class="hljs-comment">// window:win1</span>
<span class="hljs-comment">// });</span>
 var prodName = e.rowData.title;
<span class="hljs-comment">// win1.prodName = prodName;</span>
<span class="hljs-comment">// tab1.open(win1,{animated:true});</span>

<span class="hljs-comment">// view1.hide = true;</span>

var date = <span class="hljs-keyword">new</span> Date();
        var d  = date.getDate();
        var day = (d &lt; <span class="hljs-number">10</span>) ? '0' + d : d;
        var m = date.getMonth() + <span class="hljs-number">1</span>;
        var month = (m &lt; <span class="hljs-number">10</span>) ? '0' + m : m;
        var yy = date.getYear();
        var year = (yy &lt; <span class="hljs-number">1000</span>) ? yy + 1900 : yy;
        <span class="hljs-comment">//alert(day + month +  year);</span>
        var date1 = day + month +  year;
        <span class="hljs-comment">//alert(' todays date is ' + date1);</span>
function setData() {    

    var db7 = Ti.Database.install(<span class="hljs-string">'XMLDetails_Local.sqlite'</span>, <span class="hljs-string">'datetable'</span>);
    <span class="hljs-comment">//var rows3 = db3.execute('SELECT * FROM DateDATA WHERE Category="' + prodName + '" LIMIT 1');</span>
    var rows7 = db7.execute(<span class="hljs-string">'SELECT * FROM datetable WHERE Type="'</span> + prodName + <span class="hljs-string">'"'</span> );

    <span class="hljs-comment">// create the array</span>
    var dataArray = [];
    var datedisplay;        
    <span class="hljs-keyword">while</span> (rows7.isValidRow())
    {
        dataArray.push({<span class="hljs-string">title:</span><span class="hljs-string">''</span> + rows7.fieldByName(<span class="hljs-string">'date'</span>) + <span class="hljs-string">''</span>, 
<span class="hljs-label">        hasChild:</span><span class="hljs-literal">true</span>, <span class="hljs-string">path:</span><span class="hljs-string">'Show_details.js'</span>,<span class="hljs-string">color:</span> <span class="hljs-string">'#555555'</span>,
<span class="hljs-label">        font:</span>{<span class="hljs-string">fontFamily:</span><span class="hljs-string">'Arial'</span>,<span class="hljs-string">fontWeight:</span><span class="hljs-string">'bold'</span>,<span class="hljs-string">fontSize:</span><span class="hljs-number">25</span>}        
        });
       var datedisplay = rows7.fieldByName(<span class="hljs-string">'date'</span>);
        rows7.next();    
    };

     <span class="hljs-comment">//alert(datedisplay);</span>

     <span class="hljs-comment">//var d = 5;</span>

        <span class="hljs-keyword">if</span> (datedisplay == date1 )
        {
            <span class="hljs-comment">//alert('equal');</span>

        var eventWin = Ti.UI.createWindow({
<span class="hljs-label">                url:</span><span class="hljs-string">'viewdatalist.js'</span>,
<span class="hljs-label">                title:</span><span class="hljs-string">'Login'</span>,
<span class="hljs-label">                 backgroundColor:</span><span class="hljs-string">'#FFF'</span>,
<span class="hljs-label">                   navBarHidden:</span> <span class="hljs-literal">true</span>    
            });
            eventWin.prodName = prodName;
           eventWin.open();
    }

        <span class="hljs-keyword">else</span>
        {
            <span class="hljs-comment">//alert('unequal');</span>


var style;
<span class="hljs-keyword">if</span> (Ti.Platform.name === <span class="hljs-string">'iPhone OS'</span>){
  style = Ti.UI.iPhone.ActivityIndicatorStyle.DARK;
}
<span class="hljs-keyword">else</span> {
  style = Ti.UI.ActivityIndicatorStyle.DARK;
}

var activityIndicator = Ti.UI.createActivityIndicator({
<span class="hljs-label">  color:</span> <span class="hljs-string">'Black'</span>,
<span class="hljs-label">  font:</span> {<span class="hljs-string">fontFamily:</span><span class="hljs-string">'Helvetica Neue'</span>, <span class="hljs-string">fontSize:</span><span class="hljs-number">30</span>, <span class="hljs-string">fontWeight:</span><span class="hljs-string">'bold'</span>},
<span class="hljs-label">  message:</span> <span class="hljs-string">'Loading Data please wait...'</span>,
<span class="hljs-label">  style:</span>style,
<span class="hljs-label">  height:</span>Ti.UI.SIZE,
<span class="hljs-label">  width:</span>Ti.UI.SIZE
});        
activityIndicator.show(); 
var data = [];<span class="hljs-comment">//We'll fill this table after the xml has loaded</span>
<span class="hljs-comment">//db.execute('DELETE FROM XMLDATA WHERE Category="' + prodName + '"');</span>
var tableView = Titanium.UI.createTableView({
<span class="hljs-label">    data:</span>data
});

function errorMessage(){
    alert(<span class="hljs-string">"You dont seem to have internet connection.The data has not been updated yet.Please press back button to select another category."</span>);

    <span class="hljs-comment">// var errorWin = Ti.UI.createWindow({</span>
        <span class="hljs-comment">// url:'Select_category.js',</span>
        <span class="hljs-comment">// title:'',</span>
         <span class="hljs-comment">// backgroundColor:'#FFF',</span>
         <span class="hljs-comment">// navBarHidden: true,    </span>
<span class="hljs-comment">//         </span>
    <span class="hljs-comment">// });</span>
    <span class="hljs-comment">// //errorWin.prodName = prodName;</span>
   <span class="hljs-comment">// errorWin.open();</span>
<span class="hljs-comment">//     </span>

}

function renderXML(){

    var tours = <span class="hljs-keyword">this</span>.responseXML.documentElement;
    var tour = tours.getElementsByTagName(<span class="hljs-string">"entry"</span>);

    <span class="hljs-comment">//traverse the tour node, pull out the titles</span>
    <span class="hljs-keyword">for</span>(var i=<span class="hljs-number">0</span>; i&lt;tour.length;i++){
        var item = tour.item(i);
        <span class="hljs-comment">//var title = item.getElementsByTagName("title").item(0).text;</span>
        var title = item.getElementsByTagName(<span class="hljs-string">"title"</span>).item(<span class="hljs-number">0</span>).text;
        var content = item.getElementsByTagName(<span class="hljs-string">"content"</span>).item(<span class="hljs-number">0</span>).text;

        var title1 = <span class="hljs-string">'&lt;html&gt;&lt;body&gt;'</span> + content + <span class="hljs-string">'&lt;/body&gt;&lt;/html&gt;'</span>;
        var htmlContent1 = title1.replace(<span class="hljs-regexp">/&gt;*/</span>g, <span class="hljs-string">"&gt;"</span>);
        var htmlContent2 = htmlContent1.replace(<span class="hljs-regexp">/&amp;Lt;*/</span>g, <span class="hljs-string">"&lt;"</span>);
        <span class="hljs-comment">//alert (htmlContent2);</span>
        var db = Ti.Database.install(<span class="hljs-string">'XMLDetails_Local.sqlite'</span>,<span class="hljs-string">'XMLDATA'</span>);
        db.execute(<span class="hljs-string">'INSERT INTO XMLDATA (Title, content, Category) VALUES(?, ?, ?)'</span>, title, htmlContent2, prodName); 
        <span class="hljs-comment">//alert("data inserted");</span>
        <span class="hljs-comment">// var row = Titanium.UI.createTableViewRow({</span>
            <span class="hljs-comment">// title:title,</span>
            <span class="hljs-comment">// className:"tableRow",</span>
        <span class="hljs-comment">// });</span>
        <span class="hljs-comment">// data.push(row);</span>
    }
    tableView.setData(data);
db7.execute(<span class="hljs-string">'DELETE FROM datetable WHERE Type="'</span> + prodName + <span class="hljs-string">'"'</span>);
db7.execute(<span class="hljs-string">'INSERT INTO datetable (date, Type) VALUES(?, ?)'</span>, date1, prodName);


activityIndicator.hide();    

var eventWin = Ti.UI.createWindow({
<span class="hljs-label">        url:</span><span class="hljs-string">'viewdatalist.js'</span>,
<span class="hljs-label">        title:</span><span class="hljs-string">''</span>,
<span class="hljs-label">         backgroundColor:</span><span class="hljs-string">'#FFF'</span>,
<span class="hljs-label">         navBarHidden:</span> <span class="hljs-literal">true</span>,
<span class="hljs-label">         _parent:</span>Ti.UI.currentWindow,
<span class="hljs-label">        modal:</span><span class="hljs-literal">true</span>    

    });
    eventWin.prodName = prodName;
   eventWin.open();


 <span class="hljs-comment">// var win1 = Ti.UI.createWindow({</span>
<span class="hljs-comment">// url:'viewdatalist.js',</span>
<span class="hljs-comment">// title:e.rowData.title,</span>
<span class="hljs-comment">// navBarHidden: true,</span>
<span class="hljs-comment">//     </span>
<span class="hljs-comment">// });</span>
<span class="hljs-comment">// var tab1 = Titanium.UI.createTab({</span>
<span class="hljs-comment">// icon:'images/tabs/KS_nav_ui.png',</span>
<span class="hljs-comment">// title:'Products',</span>
<span class="hljs-comment">// window:win1</span>
<span class="hljs-comment">// });</span>
<span class="hljs-comment">//  </span>
<span class="hljs-comment">// //win1.prodName = prodName;</span>
<span class="hljs-comment">// tab1.open(win1,{animated:true});</span>



}
var xhr = Titanium.Network.createHTTPClient({
<span class="hljs-label">    onload:</span> renderXML,
<span class="hljs-label">    onerror:</span> errorMessage
});
win.add(tableView);
xhr.open(<span class="hljs-string">"GET"</span>,<span class="hljs-string">"http://somesite.com/feeds/posts/default/-/"</span> + prodName);
xhr.send();
win.add(activityIndicator);
<span class="hljs-comment">//win.open();</span>

}
};
<span class="hljs-comment">// call the setData function to attach the database results to the array</span>
setData();
Ti.App.addEventListener(<span class="hljs-string">'reload'</span>,setData);


}
});

var view1 = Titanium.UI.createView({
<span class="hljs-label">   borderRadius:</span><span class="hljs-number">10</span>,
    <span class="hljs-string">height :</span> <span class="hljs-string">'auto'</span>,
    <span class="hljs-string">width :</span> <span class="hljs-string">'auto'</span>
});



view1.add(tableview);

win.add(view1);
</code></pre><p>and here is the videdata page</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> currentWin = Ti.UI.currentWindow;
<span class="hljs-keyword">var</span> prodName = Ti.UI.currentWindow.prodName;
<span class="hljs-comment">//Ti.include('addData.js');</span>
<span class="hljs-comment">//alert('prodName');</span>
<span class="hljs-comment">//alert('viewdata open');</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setData</span>(<span class="hljs-params"></span>) </span>{    

    <span class="hljs-keyword">var</span> db1 = Ti.Database.install(<span class="hljs-string">'XMLDetails_Local.sqlite'</span>,<span class="hljs-string">'XMLDATA'</span>);

    <span class="hljs-keyword">var</span> rows = db1.execute(<span class="hljs-string">'SELECT * FROM XMLDATA WHERE Category="'</span> + prodName + <span class="hljs-string">'"'</span>);

    <span class="hljs-comment">// create the array</span>
    <span class="hljs-keyword">var</span> dataArray = [];

    <span class="hljs-keyword">while</span> (rows.isValidRow())
    {
        dataArray.push({id:<span class="hljs-string">''</span> + rows.fieldByName(<span class="hljs-string">'id'</span>) + <span class="hljs-string">''</span>, title:<span class="hljs-string">''</span> + rows.fieldByName(<span class="hljs-string">'title'</span>) + <span class="hljs-string">''</span>,hasChild:<span class="hljs-literal">true</span>, path:<span class="hljs-string">'ShowDetails.js'</span>,
        color: <span class="hljs-string">'#555555'</span>,font:{fontFamily:<span class="hljs-string">'Arial'</span>,fontWeight:<span class="hljs-string">'bold'</span>,fontSize:<span class="hljs-number">25</span>}

        });
        rows.next();    
    };

    <span class="hljs-comment">// set the array to the tableView</span>
    tableview.setData(dataArray);
};

<span class="hljs-comment">// create table view</span>
<span class="hljs-keyword">var</span> tableview = Ti.UI.createTableView({
});

tableview.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)</span>{
<span class="hljs-keyword">if</span> (e.rowData.path){
<span class="hljs-keyword">var</span> win = Ti.UI.createWindow({
url:e.rowData.path,
title:e.rowData.title
});

<span class="hljs-keyword">var</span> tab1 = Titanium.UI.createTab({
icon:<span class="hljs-string">'images/tabs/KS_nav_ui.png'</span>,
title:<span class="hljs-string">'Products'</span>,
<span class="hljs-built_in">window</span>:win
});

<span class="hljs-keyword">var</span> prodName = e.rowData.id;
win.prodName = prodName;
tab1.open(win,{animated:<span class="hljs-literal">true</span>});
}
});


<span class="hljs-comment">// add the tableView to the current window</span>
currentWin.add(tableview);

<span class="hljs-comment">// call the setData function to attach the database results to the array</span>
setData();
Ti.App.addEventListener(<span class="hljs-string">'reload'</span>,setData);

<span class="hljs-comment">// currentWin.addEventListener('androidback', function(e){</span>
    <span class="hljs-comment">// //alert(e.source.id + " fired a " + e.type + " event");</span>
     <span class="hljs-comment">// var eventWin = Ti.UI.createWindow({</span>
        <span class="hljs-comment">// url:'Select_category.js',</span>
        <span class="hljs-comment">// title:'',</span>
        <span class="hljs-comment">// navBarHidden: true,    </span>
         <span class="hljs-comment">// _parent:Ti.UI.currentWindow,</span>
        <span class="hljs-comment">// modal:true</span>
         <span class="hljs-comment">// //backgroundColor:'#FFF',</span>
        <span class="hljs-comment">// });</span>
   <span class="hljs-comment">// currentWin.close();</span>
   <span class="hljs-comment">// eventWin.open();</span>
<span class="hljs-comment">//    </span>
<span class="hljs-comment">// });</span>


<span class="hljs-keyword">var</span> Questions = Titanium.UI.createButton({
    <span class="hljs-comment">//backgroundImage:"images/background_button.png",</span>
    bottom : <span class="hljs-string">'50'</span>,
    height:<span class="hljs-string">'42dp'</span>,
    width:<span class="hljs-string">'150dp'</span>,
    id:<span class="hljs-string">"Questions"</span>,    <span class="hljs-comment">//This is a custom property</span>
});

Questions.addEventListener(<span class="hljs-string">"click"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)</span>{
    alert(e.source.id + <span class="hljs-string">" fired a "</span> + e.type + <span class="hljs-string">" event"</span>);
     <span class="hljs-keyword">var</span> eventWin = Ti.UI.createWindow({
        url:<span class="hljs-string">'Applications/Select_category.js'</span>,
        navBarHidden: <span class="hljs-literal">true</span>,    
         backgroundColor:<span class="hljs-string">'#FFF'</span>,
        _parent:Ti.UI.currentWindow,
        modal:<span class="hljs-literal">true</span>
    });
   eventWin.open();

});

currentWin.add(Questions);
</code></pre>
		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="February 5th 2014, 3:42:28 pm">February 5th 2014</span>
				by <span class='authorname'>omkar suryawanshi</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>navigation</span></li>
					
				</ul>
			

			<section>
				<h5>3 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>some how the code for category.js  has not been displayed this is the second attempt to show it<br>tried to present it in code format but data is just not getting displayed</p>
<p>var win = Ti.UI.currentWindow;<br>alert(&#39;open&#39;);<br>win.backgroundColor = &#39;white&#39;;<br>&#x2F;&#x2F;alert(&#39;hello&#39;);<br>var data = [<br>{title:&#39;Geography&#39;, color: &#39;#555555&#39;, hasChild:true, path:&#39;addData.js&#39;, height:125,<br>        font:{fontFamily:&#39;Arial&#39;, fontWeight:&#39;bold&#39;,fontSize:&#39;30&#39;, color:&#39;#FFF&#39;}    },<br>        {title:&#39;History&#39;, color: &#39;#555555&#39;, hasChild:true, path:&#39;addData.js&#39;, height:125,<br>        font:{fontFamily:&#39;Arial&#39;, fontWeight:&#39;bold&#39;,fontSize:&#39;30&#39;}    },<br>        {title:&#39;Mathematics&#39;, color: &#39;#555555&#39;, hasChild:true, path:&#39;addData.js&#39;, height:125,<br>        font:{fontFamily:&#39;Arial&#39;, fontWeight:&#39;bold&#39;,fontSize:&#39;30&#39;}    },<br>        {title:&#39;World&#39;, color: &#39;#555555&#39;, hasChild:true, path:&#39;addData.js&#39;, height:125,<br>        font:{fontFamily:&#39;Arial&#39;, fontWeight:&#39;bold&#39;,fontSize:&#39;30&#39;}    },<br>        {title:&#39;Economics&#39;, color: &#39;#555555&#39;, hasChild:true, path:&#39;addData.js&#39;, height:125,<br>        font:{fontFamily:&#39;Arial&#39;, fontWeight:&#39;bold&#39;,fontSize:&#39;30&#39;}    },<br>        {title:&#39;Literature&#39;, color: &#39;#555555&#39;, hasChild:true, path:&#39;addData.js&#39;, height:125,<br>        font:{fontFamily:&#39;Arial&#39;, fontWeight:&#39;bold&#39;,fontSize:&#39;30&#39;}    },<br>        {title:&#39;Culture&#39;, color: &#39;#555555&#39;, hasChild:true, path:&#39;addData.js&#39;, height:125,<br>        font:{fontFamily:&#39;Arial&#39;, fontWeight:&#39;bold&#39;,fontSize:&#39;30&#39;}    },<br>        {title:&#39;Awards&#39;, color: &#39;#555555&#39;, hasChild:true, path:&#39;addData.js&#39;, height:125,<br>        font:{fontFamily:&#39;Arial&#39;, fontWeight:&#39;bold&#39;,fontSize:&#39;30&#39;}    },<br>        {title:&#39;Science&#39;, color: &#39;#555555&#39;, hasChild:true, path:&#39;addData.js&#39;, height:125,<br>        font:{fontFamily:&#39;Arial&#39;, fontWeight:&#39;bold&#39;,fontSize:&#39;30&#39;}    },<br>        {title:&#39;Books&#39;, color: &#39;#555555&#39;, hasChild:true, path:&#39;addData.js&#39;, height:125,<br>        font:{fontFamily:&#39;Arial&#39;, fontWeight:&#39;bold&#39;,fontSize:&#39;30&#39;}    },<br>     ];<br>var tableview = Ti.UI.createTableView({<br>    data:data,<br>    });<br>    tableview.rowHeight=&#39;auto&#39;;<br>tableview.addEventListener(&#39;click&#39;, function(e){<br>if (e.rowData.path){<br>&#x2F;&#x2F; var win1 = Ti.UI.createWindow({<br>&#x2F;&#x2F; url:e.rowData.path,<br>&#x2F;&#x2F; title:e.rowData.title,<br>&#x2F;&#x2F; navBarHidden: true,<br>&#x2F;&#x2F;<br>&#x2F;&#x2F; });<br>&#x2F;&#x2F; var tab1 = Titanium.UI.createTab({<br>&#x2F;&#x2F; icon:&#39;images&#x2F;tabs&#x2F;KS_nav_ui.png&#39;,<br>&#x2F;&#x2F; title:&#39;Products&#39;,<br>&#x2F;&#x2F; window:win1<br>&#x2F;&#x2F; });<br> var prodName = e.rowData.title;<br>&#x2F;&#x2F; win1.prodName = prodName;<br>&#x2F;&#x2F; tab1.open(win1,{animated:true});</p>
<p>&#x2F;&#x2F; view1.hide = true;</p>
<p>var date = new Date();<br>        var d  = date.getDate();<br>        var day = (d &lt; 10) ? &#39;0&#39; + d : d;<br>        var m = date.getMonth() + 1;<br>        var month = (m &lt; 10) ? &#39;0&#39; + m : m;<br>        var yy = date.getYear();<br>        var year = (yy &lt; 1000) ? yy + 1900 : yy;<br>        &#x2F;&#x2F;alert(day + month +  year);<br>        var date1 = day + month +  year;<br>        &#x2F;&#x2F;alert(&#39; todays date is &#39; + date1);<br>function setData() {    </p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> db7 = Ti.Database.install(<span class="hljs-string">'XMLDetails_Local.sqlite'</span>, <span class="hljs-string">'datetable'</span>);
<span class="hljs-comment">//var rows3 = db3.execute('SELECT * FROM DateDATA WHERE Category="' + prodName + '" LIMIT 1');</span>
<span class="hljs-keyword">var</span> rows7 = db7.execute(<span class="hljs-string">'SELECT * FROM datetable WHERE Type="'</span> + prodName + <span class="hljs-string">'"'</span> );

<span class="hljs-comment">// create the array</span>
<span class="hljs-keyword">var</span> dataArray = [];
<span class="hljs-keyword">var</span> datedisplay;        
<span class="hljs-keyword">while</span> (rows7.isValidRow())
{
    dataArray.push({title:<span class="hljs-string">''</span> + rows7.fieldByName(<span class="hljs-string">'date'</span>) + <span class="hljs-string">''</span>, 
    hasChild:<span class="hljs-literal">true</span>, path:<span class="hljs-string">'Show_details.js'</span>,color: <span class="hljs-string">'#555555'</span>,
    font:{fontFamily:<span class="hljs-string">'Arial'</span>,fontWeight:<span class="hljs-string">'bold'</span>,fontSize:<span class="hljs-number">25</span>}        
    });
   <span class="hljs-keyword">var</span> datedisplay = rows7.fieldByName(<span class="hljs-string">'date'</span>);
    rows7.next();    
};

 <span class="hljs-comment">//alert(datedisplay);</span>

 <span class="hljs-comment">//var d = 5;</span>

    <span class="hljs-keyword">if</span> (datedisplay == date1 )
    {
        <span class="hljs-comment">//alert('equal');</span>

    <span class="hljs-keyword">var</span> eventWin = Ti.UI.createWindow({
            url:<span class="hljs-string">'viewdatalist.js'</span>,
            title:<span class="hljs-string">'Login'</span>,
             backgroundColor:<span class="hljs-string">'#FFF'</span>,
               navBarHidden: <span class="hljs-literal">true</span>    
        });
        eventWin.prodName = prodName;
       eventWin.open();
}

    <span class="hljs-keyword">else</span>
    {
        <span class="hljs-comment">//alert('unequal');</span>
</code></pre><p>var style;<br>if (Ti.Platform.name === &#39;iPhone OS&#39;){<br>  style = Ti.UI.iPhone.ActivityIndicatorStyle.DARK;<br>}<br>else {<br>  style = Ti.UI.ActivityIndicatorStyle.DARK;<br>}</p>
<p>var activityIndicator = Ti.UI.createActivityIndicator({<br>  color: &#39;Black&#39;,<br>  font: {fontFamily:&#39;Helvetica Neue&#39;, fontSize:30, fontWeight:&#39;bold&#39;},<br>  message: &#39;Loading Data please wait…&#39;,<br>  style:style,<br>  height:Ti.UI.SIZE,<br>  width:Ti.UI.SIZE<br>});<br>activityIndicator.show();<br>var data = [];&#x2F;&#x2F;We&#39;ll fill this table after the xml has loaded<br>&#x2F;&#x2F;db.execute(&#39;DELETE FROM XMLDATA WHERE Category=&quot;&#39; + prodName + &#39;&quot;&#39;);<br>var tableView = Titanium.UI.createTableView({<br>    data:data<br>});</p>
<p>function errorMessage(){<br>    alert(&quot;You dont seem to have internet connection.The data has not been updated yet.Please press back button to select another category.&quot;);</p>
<pre><code class="hljs"><span class="xml">// var errorWin = Ti.UI.createWindow(</span><span class="hljs-expression">{
    /<span class="hljs-end-block">/ url</span>:'<span class="hljs-variable"><span class="hljs-keyword">Select</span></span>_<span class="hljs-variable">category.js</span>',
    /<span class="hljs-end-block">/ title</span>:'',
     /<span class="hljs-end-block">/ backgroundColor</span>:'<span class="hljs-begin-block">#FFF</span>',
     /<span class="hljs-end-block">/ navBarHidden</span>: <span class="hljs-variable">true</span>,    </span>
</code></pre><p>&#x2F;&#x2F;<br>    &#x2F;&#x2F; });<br>    &#x2F;&#x2F; &#x2F;&#x2F;errorWin.prodName = prodName;<br>   &#x2F;&#x2F; errorWin.open();<br>&#x2F;&#x2F;     </p>
<p>}</p>
<p>function renderXML(){</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> tours = <span class="hljs-keyword">this</span>.responseXML.documentElement;
<span class="hljs-keyword">var</span> tour = tours.getElementsByTagName(<span class="hljs-string">"entry"</span>);

<span class="hljs-comment">//traverse the tour node, pull out the titles</span>
<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i=<span class="hljs-number">0</span>; i&lt;tour.length;i++){
    <span class="hljs-keyword">var</span> item = tour.item(i);
    <span class="hljs-comment">//var title = item.getElementsByTagName("title").item(0).text;</span>
    <span class="hljs-keyword">var</span> title = item.getElementsByTagName(<span class="hljs-string">"title"</span>).item(<span class="hljs-number">0</span>).text;
    <span class="hljs-keyword">var</span> content = item.getElementsByTagName(<span class="hljs-string">"content"</span>).item(<span class="hljs-number">0</span>).text;

    <span class="hljs-keyword">var</span> title1 = <span class="hljs-string">'&lt;html&gt;&lt;body&gt;'</span> + content + <span class="hljs-string">'&lt;/body&gt;&lt;/html&gt;'</span>;
    <span class="hljs-keyword">var</span> htmlContent1 = title1.replace(<span class="hljs-regexp">/&gt;*/g</span>, <span class="hljs-string">"&gt;"</span>);
    <span class="hljs-keyword">var</span> htmlContent2 = htmlContent1.replace(<span class="hljs-regexp">/&amp;Lt;*/g</span>, <span class="hljs-string">"&lt;"</span>);
    <span class="hljs-comment">//alert (htmlContent2);</span>
    <span class="hljs-keyword">var</span> db = Ti.Database.install(<span class="hljs-string">'XMLDetails_Local.sqlite'</span>,<span class="hljs-string">'XMLDATA'</span>);
    db.execute(<span class="hljs-string">'INSERT INTO XMLDATA (Title, content, Category) VALUES(?, ?, ?)'</span>, title, htmlContent2, prodName); 
    <span class="hljs-comment">//alert("data inserted");</span>
    <span class="hljs-comment">// var row = Titanium.UI.createTableViewRow({</span>
        <span class="hljs-comment">// title:title,</span>
        <span class="hljs-comment">// className:"tableRow",</span>
    <span class="hljs-comment">// });</span>
    <span class="hljs-comment">// data.push(row);</span>
}
tableView.setData(data);
</code></pre><p>db7.execute(&#39;DELETE FROM datetable WHERE Type=&quot;&#39; + prodName + &#39;&quot;&#39;);<br>db7.execute(&#39;INSERT INTO datetable (date, Type) VALUES(?, ?)&#39;, date1, prodName);</p>
<p>activityIndicator.hide();    </p>
<p>var eventWin = Ti.UI.createWindow({<br>        url:&#39;viewdatalist.js&#39;,<br>        title:&#39;&#39;,<br>         backgroundColor:&#39;#FFF&#39;,<br>         navBarHidden: true,<br>         _parent:Ti.UI.currentWindow,<br>        modal:true    </p>
<pre><code class="hljs">})<span class="hljs-comment">;</span>
eventWin.prodName = prodName<span class="hljs-comment">;</span>
</code></pre><p>   eventWin.open();</p>
<p> &#x2F;&#x2F; var win1 = Ti.UI.createWindow({<br>&#x2F;&#x2F; url:&#39;viewdatalist.js&#39;,<br>&#x2F;&#x2F; title:e.rowData.title,<br>&#x2F;&#x2F; navBarHidden: true,<br>&#x2F;&#x2F;<br>&#x2F;&#x2F; });<br>&#x2F;&#x2F; var tab1 = Titanium.UI.createTab({<br>&#x2F;&#x2F; icon:&#39;images&#x2F;tabs&#x2F;KS_nav_ui.png&#39;,<br>&#x2F;&#x2F; title:&#39;Products&#39;,<br>&#x2F;&#x2F; window:win1<br>&#x2F;&#x2F; });<br>&#x2F;&#x2F;<br>&#x2F;&#x2F; &#x2F;&#x2F;win1.prodName = prodName;<br>&#x2F;&#x2F; tab1.open(win1,{animated:true});</p>
<p>}<br>var xhr = Titanium.Network.createHTTPClient({<br>    onload: renderXML,<br>    onerror: errorMessage<br>});<br>win.add(tableView);<br>xhr.open(&quot;GET&quot;,&quot;http:&#x2F;somesite.com&#x2F;feeds&#x2F;posts&#x2F;default&#x2F;-&#x2F;&quot; + prodName);<br>xhr.send();<br>win.add(activityIndicator);<br>&#x2F;&#x2F;win.open();</p>
<p>}<br>};<br>&#x2F;&#x2F; call the setData function to attach the database results to the array<br>setData();<br>Ti.App.addEventListener(&#39;reload&#39;,setData);</p>
<p>}<br>});</p>
<p>var view1 = Titanium.UI.createView({<br>   borderRadius:10,<br>    height : &#39;auto&#39;,<br>    width : &#39;auto&#39;<br>});</p>
<p>view1.add(tableview);</p>
<p>win.add(view1);</p>
</div>
							<div class="author">
								&mdash; commented <span title="February 5th 2014, 3:46:15 pm">February 5th 2014</span>
								by <span class='authorname'>omkar suryawanshi</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>The code you originally supplied is simply too long, break it up into two blocks and point out part 1 of 2 and part 2 of 2 so people  knwo they are linked.</p>
<p>The plain text code fails to provide suitable distinction from line breaks and comments.</p>
<p>Make sure it looks OK when you press the preview button - that way you will know if it worked out before submitting..</p>
</div>
							<div class="author">
								&mdash; commented <span title="February 5th 2014, 3:59:27 pm">February 5th 2014</span>
								by <span class='authorname'>Malcolm Hollingsworth</span>
							</div>
						</li>
					
						<li class="comment">
							<div><pre><code class="hljs">
<span class="hljs-keyword">var</span> win = Ti.UI.currentWindow; alert(<span class="hljs-string">'open'</span>); win.backgroundColor = <span class="hljs-string">'white'</span>; //alert(<span class="hljs-string">'hello'</span>); <span class="hljs-keyword">var</span> data = [ {title:<span class="hljs-string">'Geography'</span>, color: <span class="hljs-string">'#555555'</span>, hasChild:<span class="hljs-literal">true</span>, path:<span class="hljs-string">'addData.js'</span>, height:<span class="hljs-number">125</span>, font:{fontFamily:<span class="hljs-string">'Arial'</span>, fontWeight:<span class="hljs-string">'bold'</span>,fontSize:<span class="hljs-string">'30'</span>, color:<span class="hljs-string">'#FFF'</span>} }, {title:<span class="hljs-string">'History'</span>, color: <span class="hljs-string">'#555555'</span>, hasChild:<span class="hljs-literal">true</span>, path:<span class="hljs-string">'addData.js'</span>, height:<span class="hljs-number">125</span>, font:{fontFamily:<span class="hljs-string">'Arial'</span>, fontWeight:<span class="hljs-string">'bold'</span>,fontSize:<span class="hljs-string">'30'</span>} }, {title:<span class="hljs-string">'Mathematics'</span>, color: <span class="hljs-string">'#555555'</span>, hasChild:<span class="hljs-literal">true</span>, path:<span class="hljs-string">'addData.js'</span>, height:<span class="hljs-number">125</span>, font:{fontFamily:<span class="hljs-string">'Arial'</span>, fontWeight:<span class="hljs-string">'bold'</span>,fontSize:<span class="hljs-string">'30'</span>} }, {title:<span class="hljs-string">'World'</span>, color: <span class="hljs-string">'#555555'</span>, hasChild:<span class="hljs-literal">true</span>, path:<span class="hljs-string">'addData.js'</span>, height:<span class="hljs-number">125</span>, font:{fontFamily:<span class="hljs-string">'Arial'</span>, fontWeight:<span class="hljs-string">'bold'</span>,fontSize:<span class="hljs-string">'30'</span>} }, {title:<span class="hljs-string">'Economics'</span>, color: <span class="hljs-string">'#555555'</span>, hasChild:<span class="hljs-literal">true</span>, path:<span class="hljs-string">'addData.js'</span>, height:<span class="hljs-number">125</span>, font:{fontFamily:<span class="hljs-string">'Arial'</span>, fontWeight:<span class="hljs-string">'bold'</span>,fontSize:<span class="hljs-string">'30'</span>} }, {title:<span class="hljs-string">'Literature'</span>, color: <span class="hljs-string">'#555555'</span>, hasChild:<span class="hljs-literal">true</span>, path:<span class="hljs-string">'addData.js'</span>, height:<span class="hljs-number">125</span>, font:{fontFamily:<span class="hljs-string">'Arial'</span>, fontWeight:<span class="hljs-string">'bold'</span>,fontSize:<span class="hljs-string">'30'</span>} }, {title:<span class="hljs-string">'Culture'</span>, color: <span class="hljs-string">'#555555'</span>, hasChild:<span class="hljs-literal">true</span>, path:<span class="hljs-string">'addData.js'</span>, height:<span class="hljs-number">125</span>, font:{fontFamily:<span class="hljs-string">'Arial'</span>, fontWeight:<span class="hljs-string">'bold'</span>,fontSize:<span class="hljs-string">'30'</span>} }, {title:<span class="hljs-string">'Awards'</span>, color: <span class="hljs-string">'#555555'</span>, hasChild:<span class="hljs-literal">true</span>, path:<span class="hljs-string">'addData.js'</span>, height:<span class="hljs-number">125</span>, font:{fontFamily:<span class="hljs-string">'Arial'</span>, fontWeight:<span class="hljs-string">'bold'</span>,fontSize:<span class="hljs-string">'30'</span>} }, {title:<span class="hljs-string">'Science'</span>, color: <span class="hljs-string">'#555555'</span>, hasChild:<span class="hljs-literal">true</span>, path:<span class="hljs-string">'addData.js'</span>, height:<span class="hljs-number">125</span>, font:{fontFamily:<span class="hljs-string">'Arial'</span>, fontWeight:<span class="hljs-string">'bold'</span>,fontSize:<span class="hljs-string">'30'</span>} }, {title:<span class="hljs-string">'Books'</span>, color: <span class="hljs-string">'#555555'</span>, hasChild:<span class="hljs-literal">true</span>, path:<span class="hljs-string">'addData.js'</span>, height:<span class="hljs-number">125</span>, font:{fontFamily:<span class="hljs-string">'Arial'</span>, fontWeight:<span class="hljs-string">'bold'</span>,fontSize:<span class="hljs-string">'30'</span>} }, ]; <span class="hljs-keyword">var</span> tableview = Ti.UI.createTableView({ data:data, }); tableview.rowHeight=<span class="hljs-string">'auto'</span>; tableview.addEventListener(<span class="hljs-string">'click'</span>, function(e){ <span class="hljs-keyword">if</span> (e.rowData.path){ // <span class="hljs-keyword">var</span> win1 = Ti.UI.createWindow({ // url:e.rowData.path, // title:e.rowData.title, // navBarHidden: <span class="hljs-literal">true</span>, //
// }); // <span class="hljs-keyword">var</span> tab1 = Titanium.UI.createTab({ // icon:<span class="hljs-string">'images/tabs/KS_nav_ui.png'</span>, // title:<span class="hljs-string">'Products'</span>, // window:win1 // }); <span class="hljs-keyword">var</span> prodName = e.rowData.title; // win1.prodName = prodName; // tab1.open(win1,{animated:<span class="hljs-literal">true</span>});
// view1.hide = <span class="hljs-literal">true</span>;
<span class="hljs-keyword">var</span> date = new Date(); <span class="hljs-keyword">var</span> d = date.getDate(); <span class="hljs-keyword">var</span> day = (d &lt; <span class="hljs-number">10</span>) ? <span class="hljs-string">'0'</span> + d : d; <span class="hljs-keyword">var</span> m = date.getMonth() + <span class="hljs-number">1</span>; <span class="hljs-keyword">var</span> month = (m &lt; <span class="hljs-number">10</span>) ? <span class="hljs-string">'0'</span> + m : m; <span class="hljs-keyword">var</span> yy = date.getYear(); <span class="hljs-keyword">var</span> year = (yy &lt; <span class="hljs-number">1000</span>) ? yy + <span class="hljs-number">1900</span> : yy; //alert(day + month + year); <span class="hljs-keyword">var</span> date1 = day + month + year; //alert(<span class="hljs-string">' todays date is '</span> + date1); function setData() {
<span class="hljs-keyword">var</span> db7 = Ti.Database.install(<span class="hljs-string">'XMLDetails_Local.sqlite'</span>, <span class="hljs-string">'datetable'</span>);
//<span class="hljs-keyword">var</span> rows3 = db3.execute(<span class="hljs-string">'SELECT * FROM DateDATA WHERE Category="'</span> + prodName + <span class="hljs-string">'" LIMIT 1'</span>);
<span class="hljs-keyword">var</span> rows7 = db7.execute(<span class="hljs-string">'SELECT * FROM datetable WHERE Type="'</span> + prodName + <span class="hljs-string">'"'</span> );
</code></pre><p>and second part</p>
<pre><code class="hljs"><span class="hljs-comment">// create the array</span>
var dataArray = [];
var datedisplay;        
<span class="hljs-keyword">while</span> (rows7.isValidRow())
{
    dataArray.push({<span class="hljs-string">title:</span><span class="hljs-string">''</span> + rows7.fieldByName(<span class="hljs-string">'date'</span>) + <span class="hljs-string">''</span>, 
<span class="hljs-label">    hasChild:</span><span class="hljs-literal">true</span>, <span class="hljs-string">path:</span><span class="hljs-string">'Show_details.js'</span>,<span class="hljs-string">color:</span> <span class="hljs-string">'#555555'</span>,
<span class="hljs-label">    font:</span>{<span class="hljs-string">fontFamily:</span><span class="hljs-string">'Arial'</span>,<span class="hljs-string">fontWeight:</span><span class="hljs-string">'bold'</span>,<span class="hljs-string">fontSize:</span><span class="hljs-number">25</span>}     
    });
   var datedisplay = rows7.fieldByName(<span class="hljs-string">'date'</span>);
    rows7.next();   
};

 <span class="hljs-comment">//alert(datedisplay);</span>

 <span class="hljs-comment">//var d = 5;</span>

    <span class="hljs-keyword">if</span> (datedisplay == date1 )
    {
        <span class="hljs-comment">//alert('equal');</span>

    var eventWin = Ti.UI.createWindow({
<span class="hljs-label">            url:</span><span class="hljs-string">'viewdatalist.js'</span>,
<span class="hljs-label">            title:</span><span class="hljs-string">'Login'</span>,
<span class="hljs-label">             backgroundColor:</span><span class="hljs-string">'#FFF'</span>,
<span class="hljs-label">            navBarHidden:</span> <span class="hljs-literal">true</span>  
        });
        eventWin.prodName = prodName;
       eventWin.open();
}

    <span class="hljs-keyword">else</span>
    {
        <span class="hljs-comment">//alert('unequal');</span>
var style; <span class="hljs-keyword">if</span> (Ti.Platform.name === <span class="hljs-string">'iPhone OS'</span>){ style = Ti.UI.iPhone.ActivityIndicatorStyle.DARK; } <span class="hljs-keyword">else</span> { style = Ti.UI.ActivityIndicatorStyle.DARK; }
var activityIndicator = Ti.UI.createActivityIndicator({ <span class="hljs-string">color:</span> <span class="hljs-string">'Black'</span>, <span class="hljs-string">font:</span> {<span class="hljs-string">fontFamily:</span><span class="hljs-string">'Helvetica Neue'</span>, <span class="hljs-string">fontSize:</span><span class="hljs-number">30</span>, <span class="hljs-string">fontWeight:</span><span class="hljs-string">'bold'</span>}, <span class="hljs-string">message:</span> <span class="hljs-string">'Loading Data please wait...'</span>, <span class="hljs-string">style:</span>style, <span class="hljs-string">height:</span>Ti.UI.SIZE, <span class="hljs-string">width:</span>Ti.UI.SIZE });
activityIndicator.show(); var data = [];<span class="hljs-comment">//We'll fill this table after the xml has loaded //db.execute('DELETE FROM XMLDATA WHERE Category="' + prodName + '"'); var tableView = Titanium.UI.createTableView({ data:data });</span>
function errorMessage(){ alert(<span class="hljs-string">"You dont seem to have internet connection.The data has not been updated yet.Please press back button to select another category."</span>);
<span class="hljs-comment">// var errorWin = Ti.UI.createWindow({</span>
    <span class="hljs-comment">// url:'Select_category.js',</span>
    <span class="hljs-comment">// title:'',</span>
     <span class="hljs-comment">// backgroundColor:'#FFF',</span>
     <span class="hljs-comment">// navBarHidden: true, </span>
<span class="hljs-comment">//</span>
<span class="hljs-comment">// }); // //errorWin.prodName = prodName; // errorWin.open(); //</span>
}
function renderXML(){
var tours = <span class="hljs-keyword">this</span>.responseXML.documentElement;
var tour = tours.getElementsByTagName(<span class="hljs-string">"entry"</span>);

<span class="hljs-comment">//traverse the tour node, pull out the titles</span>
<span class="hljs-keyword">for</span>(var i=<span class="hljs-number">0</span>; i&lt;tour.length;i++){
    var item = tour.item(i);
    <span class="hljs-comment">//var title = item.getElementsByTagName("title").item(0).text;</span>
    var title = item.getElementsByTagName(<span class="hljs-string">"title"</span>).item(<span class="hljs-number">0</span>).text;
    var content = item.getElementsByTagName(<span class="hljs-string">"content"</span>).item(<span class="hljs-number">0</span>).text;

    var title1 = <span class="hljs-string">'&lt;html&gt;&lt;body&gt;'</span> + content + <span class="hljs-string">'&lt;/body&gt;&lt;/html&gt;'</span>;
    var htmlContent1 = title1.replace(<span class="hljs-regexp">/&amp;amp;gt;*/</span>g, <span class="hljs-string">"&gt;"</span>);
    var htmlContent2 = htmlContent1.replace(<span class="hljs-regexp">/&amp;amp;Lt;*/</span>g, <span class="hljs-string">"&lt;"</span>);
    <span class="hljs-comment">//alert (htmlContent2);</span>
    var db = Ti.Database.install(<span class="hljs-string">'XMLDetails_Local.sqlite'</span>,<span class="hljs-string">'XMLDATA'</span>);
    db.execute(<span class="hljs-string">'INSERT INTO XMLDATA (Title, content, Category) VALUES(?, ?, ?)'</span>, title, htmlContent2, prodName); 
    <span class="hljs-comment">//alert("data inserted");</span>
    <span class="hljs-comment">// var row = Titanium.UI.createTableViewRow({</span>
        <span class="hljs-comment">// title:title,</span>
        <span class="hljs-comment">// className:"tableRow",</span>
    <span class="hljs-comment">// });</span>
    <span class="hljs-comment">// data.push(row);</span>
}
tableView.setData(data);
db7.execute(<span class="hljs-string">'DELETE FROM datetable WHERE Type="'</span> + prodName + <span class="hljs-string">'"'</span>); db7.execute(<span class="hljs-string">'INSERT INTO datetable (date, Type) VALUES(?, ?)'</span>, date1, prodName);
activityIndicator.hide();
var eventWin = Ti.UI.createWindow({ <span class="hljs-string">url:</span><span class="hljs-string">'viewdatalist.js'</span>, <span class="hljs-string">title:</span><span class="hljs-string">''</span>, <span class="hljs-string">backgroundColor:</span><span class="hljs-string">'#FFF'</span>, <span class="hljs-string">navBarHidden:</span> <span class="hljs-literal">true</span>, <span class="hljs-string">_parent:</span>Ti.UI.currentWindow, <span class="hljs-string">modal:</span><span class="hljs-literal">true</span>
});
eventWin.prodName = prodName;
eventWin.open();
<span class="hljs-comment">// var win1 = Ti.UI.createWindow({ // url:'viewdatalist.js', // title:e.rowData.title, // navBarHidden: true, //</span>
<span class="hljs-comment">// }); // var tab1 = Titanium.UI.createTab({ // icon:'images/tabs/KS_nav_ui.png', // title:'Products', // window:win1 // }); //</span>
<span class="hljs-comment">// //win1.prodName = prodName; // tab1.open(win1,{animated:true});</span>
} var xhr = Titanium.Network.createHTTPClient({ <span class="hljs-string">onload:</span> renderXML, <span class="hljs-string">onerror:</span> errorMessage }); win.add(tableView); xhr.open(<span class="hljs-string">"GET"</span>,<span class="hljs-string">"http:/somesite.com/feeds/posts/default/-/"</span> + prodName); xhr.send(); win.add(activityIndicator); <span class="hljs-comment">//win.open();</span>
} }; <span class="hljs-comment">// call the setData function to attach the database results to the array setData(); Ti.App.addEventListener('reload',setData);</span>
} });
var view1 = Titanium.UI.createView({ <span class="hljs-string">borderRadius:</span><span class="hljs-number">10</span>, <span class="hljs-string">height :</span> <span class="hljs-string">'auto'</span>, <span class="hljs-string">width :</span> <span class="hljs-string">'auto'</span> });
view1.add(tableview);
win.add(view1);
</code></pre></div>
							<div class="author">
								&mdash; commented <span title="February 6th 2014, 12:41:25 am">February 6th 2014</span>
								by <span class='authorname'>omkar suryawanshi</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>0</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>0 Answers</h3>

	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
