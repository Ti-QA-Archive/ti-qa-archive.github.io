<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Dimensions confusion on Android Device Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Dimensions confusion on Android Device</h1>
		</header>
		<section>
			<p>Hi all,</p>
<p>I have been making apps using Appcelerator for 2 years now.</p>
<p>Today something really strange happened!! </p>
<p>I used some absolute dimensions to add a View with a backgroundImage. First I run this on iPhone (device[4s] &amp; Simulator). It runs fine. View&#39;s width was 300 (almost took all of iPhones width).</p>
<p>Then I run it using the same dimensions on Galaxy S3 Emulator (Genymotion) and the View takes the SAME space (proportionally) on the S3 screen as it takes on the iPhone 4S even though S3&#39;s width is 720 pixels. This must mean that something happens and my 300 is &quot;translated&quot; into 600+ when i run it on the S3 Emulator. Worst part is that when i run it on S2 Emulator it still takes the same space (proportionally) which is almost the full screen even though S2&#39;s width is 480.</p>
<p>I tried using 680 as the View&#39;s width on S3 (which is clearly not bigger than the device&#39;s screen width) and half of the image does not show on the screen because the image is too big to fit.</p>
<p>Any ideas? It is really driving me crazy.</p>
<p>Here is some code snippet of how i create my view:</p>
<pre><code class="hljs">function createImagePlace(e) {

    var imagePlaceHolder = Titanium.UI.createView({
        <span class="hljs-variable">height</span>:<span class="hljs-number">128</span>,
        <span class="hljs-variable">width</span>:<span class="hljs-number">307</span>,
        layout:<span class="hljs-string">'horizontal'</span>,
        backgroundImage:<span class="hljs-string">'/images/image.png'</span>,
        left:<span class="hljs-number">20</span>,
        right:<span class="hljs-number">20</span>,
        top:<span class="hljs-number">20</span>
    });

    var imageLeftWidth = <span class="hljs-number">294</span>;

    <span class="hljs-keyword">if</span>(e.imageR!=<span class="hljs-string">''</span>){
        var imageRight = Titanium.UI.createImageView({
            <span class="hljs-variable">height</span>:<span class="hljs-number">115</span>,
            <span class="hljs-variable">width</span>:<span class="hljs-number">145</span>,
            <span class="hljs-built_in">image</span>:e.imageR,
            left:<span class="hljs-number">5</span>,
            top:<span class="hljs-number">5</span>
        });

        imageLeftWidth = <span class="hljs-number">145</span>;
    }

    var imageLeft = Titanium.UI.createImageView({
        <span class="hljs-variable">height</span>:<span class="hljs-number">115</span>,
        <span class="hljs-variable">width</span>:imageLeftWidth,
        <span class="hljs-built_in">image</span>:e.imageL,
        left:<span class="hljs-number">6</span>,
        top:<span class="hljs-number">5</span>
    });

    imagePlaceHolder.<span class="hljs-built_in">add</span>(imageLeft);
    <span class="hljs-keyword">if</span>(e.imageR!=<span class="hljs-string">''</span>){
        imagePlaceHolder.<span class="hljs-built_in">add</span>(imageRight);
    }

    <span class="hljs-keyword">return</span>(imagePlaceHolder);
}
</code></pre>
		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="June 6th 2014, 11:42:57 am">June 6th 2014</span>
				by <span class='authorname'>Michael Massalas</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>background</span></li>
					
						<li><span class='tagname'>dimensions</span></li>
					
						<li><span class='tagname'>image</span></li>
					
						<li><span class='tagname'>view</span></li>
					
				</ul>
			

			<section>
				<h5>1 Comment</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>When i use the dimensions like this: &#39;307px&#39;, they seem to work fine (i have to test it to make sure but at first glance they seem fine.</p>
<p>2 years now i am using the other system. What has changed? Also, this other system (the one with the px) doesn&#39;t help a lot, because sometimes i need to calculate the pixels, so i do not want every time after the calculations to concatenate the &#39;px&#39; string as well.</p>
</div>
							<div class="author">
								&mdash; commented <span title="June 6th 2014, 12:04:44 pm">June 6th 2014</span>
								by <span class='authorname'>Michael Massalas</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-279525">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>Hi</p>
<p>You should read the following answers I gave some time ago that explains how to manage different layouts across different devices and platforms.</p>
<ul>
<li><a href="http:&#x2F;&#x2F;developer.appcelerator.com&#x2F;question&#x2F;148337&#x2F;how-to-achieve-same-layout-for-android-and-iphone-using-titanium.html#answer-256884">How to achieve same layout for Android and iPhone using Titanium</a></li>
<li><a href="http:&#x2F;&#x2F;developer.appcelerator.com&#x2F;question&#x2F;149743&#x2F;images-in-android.html#answer-258910">images in Android</a> (also iOS)</li>
</ul>
<p>These should give you some insight into how to use numbers and units.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="June 6th 2014, 12:17:40 pm">June 6th 2014</span>
								by <span class='authorname'>Malcolm Hollingsworth</span><br>
								<a class="icon-bg icon-link" href="question/174941/dimensions-confusion-on-android-device.html#answer-279525" rel="permalink">permalink</a>
							</div>

							<h5>6 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Hi Malcolm,</p>
<p>First of all, thanks for the answer. I guess this is the Best Answer and I will Mark it as Best at the end of our conversation.</p>
<p>Regarding the dp&#x2F;system measurement, I will have to check it on Thursday when I go back to work to see if tiapp.xml is set to dp instead of system and that is why it works this way.</p>
<p>I need to ask you something though.</p>
<p>If I am to use the dp, which after a fast studying on your comments sounds good, and i want to support Galaxy S2 S3 S4 S5 Nexus 5 etc. and i do not want to create separate views, then by using dp I can just go to 320 for iPhone devices and generally devices with iPhone&#39;s aspect ratio. But, is there a way for me to define every device so that 320 dp equals exactly their width? This way i will have a great width &#39;milestone&#39; (i couldn&#39;t find a better word to explain it) and only thing i will have to worry about is height.</p>
<p>If this is not possible, what is the best way to calculate the device width (in dp) if i know the aspect ratio of a device?</p>
<p>Eagerly waiting for your reply.</p>
<p>Michael</p>
</p>
										<div class="author">
											&mdash; commented <span title="June 6th 2014, 1:13:22 pm">June 6th 2014</span>
											by <span class='authorname'>Michael Massalas</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Good follow up.  At the time of writing those things were a tiny bit different.  Things are much much smarter now.  All dp measurements are based on res-dpi&#x2F;ratio.  For example an old phone with a 320x480 display vs a newer phone with 768x1280 would actually scale ratio-wise back to 384x640.</p>
<p>Clearly these are not identical - but that is perfectly fine - this allows for different aspect ratios on screens as well.  </p>
<p>So how do we deal with two different widths in one system unit?  Easier than you think - simply plan for it.  Imagine you had a TableViewRow and that had an icon on the left, title text in the middle and a caption on the right.  Logically you would know the dimensions of the icon and how much space you wish to provide the caption - all we need to do is calculate the title text in the middle.  So we need a calculator - nope - much easier.</p>
<ul>
<li>Icon is 80</li>
<li>TItles is unknown</li>
<li>Caption allowed 60 (think numeric caption for this example)</li>
</ul>
<pre><code class="hljs">var row = Ti.UI.createTableViewRow({
    <span class="hljs-variable">height</span>: Ti.UI.SIZE,
    <span class="hljs-variable">width</span>: Ti.UI.FILL
});
var icon = Ti.UI.createImageView({
    <span class="hljs-variable">height</span>: <span class="hljs-number">80</span>,
    <span class="hljs-built_in">image</span>: <span class="hljs-string">'something-cool.png'</span>,
    left: <span class="hljs-number">0</span>,
    <span class="hljs-variable">width</span>: <span class="hljs-number">80</span>
});
var middle = Ti.UI.createView({
    <span class="hljs-variable">height</span>: Ti.UI.SIZE,
    layout: <span class="hljs-string">'vertical'</span>,
    left: <span class="hljs-number">90</span>, <span class="hljs-comment">// 80 + 10 margin</span>
    right: <span class="hljs-number">70</span>, <span class="hljs-comment">// 60 + 10 margin</span>
    <span class="hljs-variable">width</span>: Ti.UI.FILL
});
var title = Ti.UI.createLabel({
    <span class="hljs-variable">height</span>: Ti.UI.SIZE,
    left: <span class="hljs-number">0</span>,
    right: <span class="hljs-number">0</span>,
    <span class="hljs-built_in">text</span>: <span class="hljs-string">'Title'</span>,
    top:<span class="hljs-number">0</span>,
    <span class="hljs-variable">width</span>: Ti.UI.SIZE
});
var subtitle = Ti.UI.createLabel({
    <span class="hljs-variable">height</span>: Ti.UI.SIZE,
    left: <span class="hljs-number">0</span>,
    right: <span class="hljs-number">0</span>,
    <span class="hljs-built_in">text</span>: <span class="hljs-string">'Subtitle'</span>,
    top:<span class="hljs-number">5</span>,
    <span class="hljs-variable">width</span>: Ti.UI.SIZE
});
var caption = Ti.UI.createLabel({
    <span class="hljs-variable">height</span>: Ti.UI.SIZE,
    right: <span class="hljs-number">0</span>,
    <span class="hljs-built_in">text</span>: <span class="hljs-string">'45'</span>,
    <span class="hljs-variable">width</span>: <span class="hljs-number">60</span>
});
row.<span class="hljs-built_in">add</span>(icon);
row.<span class="hljs-built_in">add</span>(middle);
middle.<span class="hljs-built_in">add</span>(title);
middle.<span class="hljs-built_in">add</span>(subtitle);
row.<span class="hljs-built_in">add</span>(caption);
</code></pre><p>The <em>middle</em> view takes the full width minus the left and right if supplied - so it stretches to fill the gap on a slightly wider screen that different aspect give.  So in numbers terms the middle section using the second phone dimensions above would have an extra 64 pixels for text content.  Keep in mind no calculations were performed by you.</p>
<p>This technique can be used for two, three or more columns or rows - just a bit of planning.</p>
</p>
										<div class="author">
											&mdash; commented <span title="June 6th 2014, 1:41:01 pm">June 6th 2014</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Hi Malcolm,</p>
<p>It was the system unit after all.</p>
<p>I like your example above. That is the way i am using mostly. However, sometimes I am using the platformWidth variable to make it even more dynamic.</p>
<p>But, with dp as systemunit, when I have a 70px image i cannot use 70 as the image&#39;s width, because 70 is different in other devices from 70px.</p>
<p>Can I take platformWidth in dp? Also, what are dp max values for width and height? 320 &amp; 480 (iPhone non-Retina ones)?</p>
<p>Thanks a lot for your help, I appreciate it.</p>
</p>
										<div class="author">
											&mdash; commented <span title="June 10th 2014, 9:07:11 am">June 10th 2014</span>
											by <span class='authorname'>Michael Massalas</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>This line will give you device width in dp on any platform on any device scale;</p>
<pre><code class="hljs">var deviceWidth = parseInt<span class="hljs-list">(<span class="hljs-keyword">Ti</span>.Platform.displayCaps.platformWidth / <span class="hljs-list">(<span class="hljs-keyword">Ti</span>.Platform.displayCaps.logicalDensityFactor || <span class="hljs-number">1</span>)</span>, <span class="hljs-number">10</span>)</span><span class="hljs-comment">;</span>
</code></pre><p>I also use a hard coded width, sometimes you just have to.  As as you keep in mind things like orientation are up to you.</p>
<p>There are no max width and heights, they will always change, but they will (at least for a while) sit around the 320-400 by 480-640 ranges - give or take.</p>
<p>Always think in terms of ratio when creating images;</p>
<ul>
<li>ldpi = 75% (can be ignored in most cases)</li>
<li>mdpi = 100%</li>
<li>hdpi = 150%</li>
<li>xhdpi = 200%</li>
<li>xxhdpi = 300%</li>
</ul>
<p>iOS versions;</p>
<ul>
<li>non-retina = 100% (same as mdpi)</li>
<li>retina = 200% (same as xhdpi)</li>
</ul>
<p>So if your image is 70px the xhdpi version will be 140px, you provide the images in four sizes based of the anchor 100%.</p>
<p>Tip for others ALWAYS create images in vector format and export as rasters.  Example; Illustrator drawings as smart layers in Photoshop and then saved for web in scale sizes. Any software combination that achieves the same is perfectly fine.  With constant density changes and the up coming <a href="http:&#x2F;&#x2F;www.tidev.io&#x2F;2014&#x2F;05&#x2F;27&#x2F;rumour-will-iphone-6-have-a-resolution-change&#x2F;">iPhone resolution</a> change - you only hurt the app and yourself by not.</p>
</p>
										<div class="author">
											&mdash; commented <span title="June 10th 2014, 10:26:18 am">June 10th 2014</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>That was some great and detailed explanation.</p>
<p>Thanks a lot. Found my faith again in Q &amp; A.</p>
</p>
										<div class="author">
											&mdash; commented <span title="June 11th 2014, 6:04:24 am">June 11th 2014</span>
											by <span class='authorname'>Michael Massalas</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>You are welcome.  Here to help.</p>
</p>
										<div class="author">
											&mdash; commented <span title="June 11th 2014, 7:43:28 am">June 11th 2014</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
