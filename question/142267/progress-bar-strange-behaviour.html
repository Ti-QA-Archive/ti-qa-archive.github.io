<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Progress bar strange behaviour » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Progress bar strange behaviour</h1>
		</header>
		<section>
			<p>Hi,</p>
<p>I&#39;m using titanium studio 2.1.2.<br>I noticed a strange behaviour on iphone (works fine on android) that I cannot explain.<br>I have a progressbar that reads its value from a database. Whatever the value, the progressbar is always full. Then I programatically change the value and the progress bar displays fine. But when I close the view and reopen it (forcing to read the value in the DB), the progress bar is once more full. I precise that the value from the DB is correct as well as my min and max (and also as I said it works on android).</p>
<p>Anyone who had a similar issue and found the problem?<br>Tks.</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="September 14th 2012, 6:53:16 pm">September 14th 2012</span>
				by <span class='authorname'>Francois Mouchati</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>iphone</span></li>
					
						<li><span class='tagname'>progressbar</span></li>
					
				</ul>
			

			<section>
				<h5>2 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>please please please provide some code… we cannot read your mind and&#x2F;or visualize what you code looks like to try and provide a solution</p>
<p><a href="http:&#x2F;&#x2F;developer.appcelerator.com&#x2F;question&#x2F;ask">http:&#x2F;&#x2F;developer.appcelerator.com&#x2F;question&#x2F;ask</a></p>
</div>
							<div class="author">
								&mdash; commented <span title="September 15th 2012, 12:55:26 am">September 15th 2012</span>
								by <span class='authorname'>Aaron Saunders</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Needless to say but have you tried using debugger or log statements to see what is the initial value that the code is setting for the progress bar. You may be seeing something in DB but you know &#39;sometimes&#39; there are bugs in the code that can alter the value of a variable..</p>
</div>
							<div class="author">
								&mdash; commented <span title="September 15th 2012, 3:40:23 am">September 15th 2012</span>
								by <span class='authorname'>Birender Saini</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-247365">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>Had similar problems with progress bar. Now I always set max to 1 and value a float between 0.0 and 1.0, then it works also on launch.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="September 15th 2012, 11:41:05 pm">September 15th 2012</span>
								by <span class='authorname'>Danny Pham</span><br>
								<a class="icon-bg icon-link" href="question/142267/progress-bar-strange-behaviour#answer-247365" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Indeed! Tks.</p>
</p>
										<div class="author">
											&mdash; commented <span title="September 17th 2012, 6:30:33 am">September 17th 2012</span>
											by <span class='authorname'>Francois Mouchati</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-247341">
				
						<section>
							<p>So here is a bit of the code.<br>I create the progress bar as below.<br>Note that I also have a label that use the same value as the progress bar. The label is fine while the progress bar appears as full.</p>
<pre><code class="hljs"><span class="hljs-built_in">var</span> maxPics=db<span class="hljs-built_in">.</span>getMaxPicForLevel(i);
<span class="hljs-built_in">var</span> foundPic=db<span class="hljs-built_in">.</span>getNumFoundPicsForLevel(i);
<span class="hljs-built_in">var</span> levelProgress = Titanium<span class="hljs-built_in">.</span>UI<span class="hljs-built_in">.</span>createProgressBar({
    width:<span class="hljs-string">'70%'</span>,left:<span class="hljs-string">'15%'</span>,bottom:<span class="hljs-string">'15%'</span>,
    <span class="hljs-keyword">min</span>:<span class="hljs-number">0</span>,
    <span class="hljs-keyword">max</span>:maxPics,
    value:foundPic,
    col<span class="hljs-subst">or</span>:<span class="hljs-string">'#fff'</span>,
    style:Titanium<span class="hljs-built_in">.</span>UI<span class="hljs-built_in">.</span>iPhone<span class="hljs-built_in">.</span>ProgressBarStyle<span class="hljs-built_in">.</span>PLAIN
});
<span class="hljs-built_in">var</span> levelScore =  Titanium<span class="hljs-built_in">.</span>UI<span class="hljs-built_in">.</span>createLabel({
    text:foundPic+<span class="hljs-string">'/'</span>+maxPics,
    textAlign:<span class="hljs-string">'right'</span>,right:<span class="hljs-string">'15%'</span>,top:<span class="hljs-number">0</span>
});
</code></pre><p>In another view, I update the progress bar and then it appears fine.</p>
<pre><code class="hljs">for (var i =0 ; i &lt; rows.length; i++) {
    var maxPics=db.getMaxPicForLevel(i+1);
    var foundPic=db.getNumFoundPicsForLevel(i+1);
    rows<span class="hljs-comment">[i]</span>.children<span class="hljs-comment">[2]</span>.value=foundPic;//progress bar
    rows<span class="hljs-comment">[i]</span>.children<span class="hljs-comment">[3]</span>.text=foundPic+'/'+maxPics;//level score
    rows<span class="hljs-comment">[i]</span>.hasChild=!<span class="hljs-keyword">locked</span>;
    (<span class="hljs-keyword">locked</span>)?rows<span class="hljs-comment">[i]</span>.children<span class="hljs-comment">[0]</span>.image='/images/cross.png':rows<span class="hljs-comment">[i]</span>.children<span class="hljs-comment">[0]</span>.image='images/checked.png';
    <span class="hljs-keyword">locked</span>=foundPic&lt;levelView.lock_mod*maxPics;
}
</code></pre><p>Once again I only experience that behaviour on iPhone; it works as expected on android.<br>Tks fo any help!</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="September 15th 2012, 8:43:56 am">September 15th 2012</span>
								by <span class='authorname'>Francois Mouchati</span><br>
								<a class="icon-bg icon-link" href="question/142267/progress-bar-strange-behaviour#answer-247341" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
