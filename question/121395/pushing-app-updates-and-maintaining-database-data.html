<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Pushing app updates and maintaining Database data. » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Pushing app updates and maintaining Database data.</h1>
		</header>
		<section>
			<p>I have an existing obj-c app with a Database but I&#39;d like to push an update built using appcelerator. I need to retain the data B which includes the users favourites and notes.</p>
<p>What&#39;s the correct way to test&#x2F;simulate an update and has anyone ever attempted this? I&#39;d like to know if it&#39;s possible to keep or duplicate the old from within the new titanium app.</p>
<p>Any documentation&#x2F;help from someone who has attempted this would be much appreciated.</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="June 21st 2011, 9:44:30 pm">June 21st 2011</span>
				by <span class='authorname'>Phi Chong</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>database</span></li>
					
						<li><span class='tagname'>update</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>1</span> Vote</div>
			<div class="answers"><span>3</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>3 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-211060">
				
						<section>
							<p>Updating the application <strong>won&#39;t overwrite</strong> the database. When you call <code>Ti.Database.install()</code>, it creates a local copy on the terminal (in the <code>&amp;#x2F;data&amp;#x2F;data&amp;#x2F;&amp;lt;APP_ID&amp;gt;&amp;#x2F;databases</code> directory on Android, but I don&#39;t know about the iOS location) So every change made by the user won&#39;t be overridden. </p>
<p>Keep in mind though, since you database is stored on the device, you cannot update or modify its structure. That goes for the data inside the database as well. There are some <a href="http:&#x2F;&#x2F;developer.appcelerator.com&#x2F;questions&#x2F;search&#x2F;update%20database">posts</a> on the Q&amp;A site, but it seems there is no <em>official</em> way of doing database updates.</p>
<p>The most common way of doing this seem to be:</p>
<ol>
<li>Create a new database with the new structure and data.</li>
<li>Package it with your application when distributing it.</li>
<li>At launch, copy the user-generated content from the old database to the new database.</li>
<li>Delete the old database file from the device to save up space.</li>
</ol>
<p>Hope this helps</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="June 22nd 2011, 2:44:28 pm">June 22nd 2011</span>
								by <span class='authorname'>Christian Brousseau</span><br>
								<a class="icon-bg icon-link" href="question/121395/pushing-app-updates-and-maintaining-database-data#answer-211060" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>2</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-210974">
				
						<section>
							<p>I&#39;ve never done it before but as far as i&#39;m aware databases (SQL) are stored in user data on the phone and the only way to remove that data is via a query or completely remove the app (i.e. long press, click x in corner, confirm delete).</p>
<p>So if I were you I&#39;d install the old app to device then try and update it to your Ti app…. see what happens or more precisely what doesn&#39;t work ;)</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="June 22nd 2011, 6:40:56 am">June 22nd 2011</span>
								by <span class='authorname'>James Adams</span><br>
								<a class="icon-bg icon-link" href="question/121395/pushing-app-updates-and-maintaining-database-data#answer-210974" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-211001">
				
						<section>
							<p>I&#39;m just guessing here, but when you create your Titanium version of the App make sure to use the same CFBundleIdentifier as the you used in the original Objective-C App. Have a look in Info.plist.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="June 22nd 2011, 9:36:24 am">June 22nd 2011</span>
								by <span class='authorname'>Ciaran Treanor</span><br>
								<a class="icon-bg icon-link" href="question/121395/pushing-app-updates-and-maintaining-database-data#answer-211001" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
