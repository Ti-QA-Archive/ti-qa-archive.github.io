<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Custom tableview Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Custom tableview</h1>
		</header>
		<section>
			<p>Hello. I used a tableview to display the list of songs and when the user clicks it would play the song in a new window. The problem is that the list doesn&#39;t look well as I can&#39;t change the font color or size.<br>Here is the code</p>
<pre><code class="hljs"><span class="hljs-title">var</span> <span class="hljs-typedef"><span class="hljs-keyword">data</span> = [<span class="hljs-container">{<span class="hljs-title">title</span>:'<span class="hljs-title">song</span> 1', <span class="hljs-title">fileUrl</span>:'<span class="hljs-title">song1</span>.<span class="hljs-title">mp3'</span>}</span> ];</span>
<span class="hljs-title">var</span> tableview = <span class="hljs-type">Ti</span>.<span class="hljs-type">UI</span>.createTableView({<span class="hljs-typedef"><span class="hljs-keyword">data</span>:<span class="hljs-keyword">data</span>});</span>
</code></pre><p>I tried to add the following code to change font color and size:</p>
<pre><code class="hljs"><span class="hljs-title">var</span> newData=[];
<span class="hljs-title">for</span>(var i=<span class="hljs-number">0</span>; i&lt;<span class="hljs-typedef"><span class="hljs-keyword">data</span>.length-1; i++) <span class="hljs-container">{
<span class="hljs-title">var</span> <span class="hljs-title">row</span> = <span class="hljs-type">Titanium</span>.<span class="hljs-type">UI</span>.<span class="hljs-title">createTableViewRow</span>();
<span class="hljs-title">var</span> <span class="hljs-title">title</span>= <span class="hljs-type">Titanium</span>.<span class="hljs-type">UI</span>.<span class="hljs-title">createLabel</span>({
<span class="hljs-title">text</span> = <span class="hljs-title">data</span>[<span class="hljs-title">i</span>].<span class="hljs-title">title</span>;
)}</span>;</span>
<span class="hljs-title">row</span> add(title);
<span class="hljs-title">row</span>.add(<span class="hljs-typedef"><span class="hljs-keyword">data</span>[i].fileUrl); //this line gives error</span>
<span class="hljs-title">newData</span>.push(row);
}
</code></pre><p>It gives an error like it can&#39;t add the fileUrl.  I know it&#39;s not a proper way to add that.<br>Can someone help me solve it, please?</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="November 19th 2013, 11:57:00 am">November 19th 2013</span>
				by <span class='authorname'>Aalem Daneshyar</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>custom tableview</span></li>
					
						<li><span class='tagname'>tableview</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-271494">
				
						<section>
							<p>Hi</p>
<p>This should give you a starting point;</p>
<pre><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">addRow</span><span class="hljs-params">(obj)</span> </span>{
    <span class="hljs-keyword">var</span> row = Ti.UI.createTableViewRow({
        backgroundColor: <span class="hljs-string">'transparent'</span>,
        className: <span class="hljs-string">'standard'</span>,
        data: obj.data
    });
    <span class="hljs-keyword">var</span> lblTitle = Ti.UI.createLabel({
        backgroundColor: <span class="hljs-string">'transparent'</span>,
        font: {
            fontSize: <span class="hljs-number">14</span>,
            fontWeight: <span class="hljs-string">'notmal'</span>
        },
        height: Ti.UI.SIZE,
        left: <span class="hljs-number">10</span>,
        right: <span class="hljs-number">10</span>,
        text: obj.title,
        textAlign: <span class="hljs-string">'left'</span>,
        touchEnabled: <span class="hljs-literal">false</span>,
        width: Ti.UI.FILL
    });
    row.add(lblTitle);

    <span class="hljs-keyword">return</span> row;
}

<span class="hljs-keyword">var</span> data = [
    {
        title: <span class="hljs-string">'song 1'</span>,
        fileUrl: <span class="hljs-string">'song1.mp3'</span>
    }
];
<span class="hljs-keyword">var</span> intRow = <span class="hljs-number">0</span>, intRows = data.length, rows = [];
<span class="hljs-keyword">for</span> (intRow = <span class="hljs-number">0</span>; intRow &lt; intRows; intRow = intRow + <span class="hljs-number">1</span>) {
    rows.push(addRow({
        data: data[intRow],
        title: data[intRow].title
    }));
}
<span class="hljs-keyword">var</span> tableview = Ti.UI.createTableView({
    data: data
});
tableview.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(e)</span> </span>{
    alert(e.row.data.fileUrl);
});
</code></pre><p>The <strong>addRow</strong> function separates the adding or the row to make it easier to see and understand.  The data per array item is passed to the row in a custom property that is then shown afterwards when clicking the row - so you see how.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="November 19th 2013, 12:20:32 pm">November 19th 2013</span>
								by <span class='authorname'>Malcolm Hollingsworth</span><br>
								<a class="icon-bg icon-link" href="question/159631/custom-tableview.html#answer-271494" rel="permalink">permalink</a>
							</div>

							<h5>5 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>To fix your filter issue;</p>
<pre><code class="hljs"><span class="hljs-comment">// modify your table to include this new property;</span>
<span class="hljs-built_in">var</span> tableview = Ti<span class="hljs-built_in">.</span>UI<span class="hljs-built_in">.</span>createTableView({
    <span class="hljs-built_in">data</span>: <span class="hljs-built_in">data</span>,
    filterAttribute: <span class="hljs-string">'myfilter'</span>
});
<span class="hljs-comment">// add this custom property to the row;</span>
<span class="hljs-built_in">var</span> row = Titanium<span class="hljs-built_in">.</span>UI<span class="hljs-built_in">.</span>createTableViewRow({
    myfilter: <span class="hljs-built_in">data</span><span class="hljs-preprocessor">[</span>i<span class="hljs-preprocessor">]</span><span class="hljs-markup">.title
});</span>
</code></pre><p>The <strong>myfilter</strong> used in this example tells the table to use that property instead of the expected and default <strong>title</strong> property.  So now as long as each row has whatever you are searching for in that property of each row - the table knows to look there.</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 20th 2013, 9:29:13 am">November 20th 2013</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>That was perfect! Thanks a lot. I am sorry but there is another issue I have: the search bar is a row at the top of the table and I have a bar over the search bar. Is there a way to set a button to show or hide the search bar,  which work both on Android and iPhone? I fixed the search bar visibility attribute on a button to turn true and false, it works with iPhone but nothing happens on Android, it seems like iPhone auto update the table but android doesn&#39;t.</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 20th 2013, 10:03:14 am">November 20th 2013</span>
											by <span class='authorname'>Aalem Daneshyar</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>A couple of follow-ups;</p>
<ul>
<li>Are you adding the search bar reference to the tableView or a row - not sure from what you said.</li>
<li>Is the searchBar in the way - which is why you want to hide it, or you just want to hide it because you will think it looks better?</li>
</ul>
<p>Could you also provide a screenshot so I can see the problem?</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 20th 2013, 11:27:45 am">November 20th 2013</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Quick Tip; <strong>How to include an image in your question or comment</strong></p>
<p>There is no upload ability in the Q&amp;A, use any one of a number of services to upload the image and then use the link reference as described below.</p>
<p>If you do not already use a service, <a href="http:&#x2F;&#x2F;tinypic.com&#x2F;">tinypic.com</a>.</p>
<ul>
<li>Display as a link</li>
</ul>
<pre><code class="hljs">[<span class="hljs-link_label">Link Caption</span>](<span class="hljs-link_url">http://www.somewhere.com/folder/example.png</span>)
</code></pre><ul>
<li>Display as an image</li>
</ul>
<pre><code class="hljs">![<span class="hljs-link_label">Title</span>](<span class="hljs-link_url">http://www.somewhere.com/folder/example.png</span>)
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="November 20th 2013, 11:28:11 am">November 20th 2013</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Sorry for late reply. Here is my code</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> tableView = Ti.UI.createTableView({
    data : data,
    scrollable : true,
    top : 40,
    separatorColor : '#00AAF2',
    <span class="hljs-keyword">search</span>:<span class="hljs-keyword">search</span>,
    searchAsChild:true,
    filterAttribute:'filter'
});
<span class="hljs-keyword">var</span> <span class="hljs-keyword">search</span>;
<span class="hljs-keyword">if</span>(Ti.Platform.osname=='android' &amp;&amp; Ti.Platform.Android.API_LEVEL &gt; 11){
    <span class="hljs-keyword">search</span> = Ti.UI.Android.createSearchView({
        hintText:'<span class="hljs-keyword">Search</span> <span class="hljs-keyword">for</span> chapter',
        visible:true,
    });
    <span class="hljs-keyword">win</span>.activity.onCreateOptionsMenu = function (<span class="hljs-keyword">e</span>){
        <span class="hljs-keyword">var</span> menu = <span class="hljs-keyword">e</span>.menu;
        <span class="hljs-keyword">var</span> menuItem = menu.add({
            title:'<span class="hljs-keyword">Search</span>',
            actionView:<span class="hljs-keyword">search</span>,
            showAsAction:Ti.Android.SHOW_AS_ACTION_IF_ROOM | Ti.Android.SHOW_AS_ACTION_COLLAPSE_ACTION_VIEW,
        });
    };

}<span class="hljs-keyword">else</span>{
    <span class="hljs-keyword">search</span> = Ti.UI.createSearchBar({
    hintText:'<span class="hljs-keyword">Search</span> <span class="hljs-keyword">for</span> chapter',
    visible:true,
    });
}
</code></pre><p>here are the screenshot</p>
<p><img src="http:&#x2F;&#x2F;s17.postimg.org&#x2F;vdu9oqzpr&#x2F;i_OS_Simulator_Screen_shot_Nov_20_2013_11_59_30.png" alt="iPhone"><br><img src="http:&#x2F;&#x2F;s8.postimg.org&#x2F;4gmybjo05&#x2F;Screenshot_2013_11_20_19_43_37.png" alt="Android"></p>
<p>they don&#39;t look good and are covering some part of the screen.</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 20th 2013, 1:24:14 pm">November 20th 2013</span>
											by <span class='authorname'>Aalem Daneshyar</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-271544">
				
						<section>
							<p>I solved that problem by accessing the attributes using the index number. Like following:</p>
<pre><code class="hljs">var <span class="hljs-built_in">index</span>;
tableview.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span></span>{<span class="hljs-built_in">index</span> = e.<span class="hljs-built_in">index</span>;});
alert(<span class="hljs-type">data</span>[<span class="hljs-built_in">index</span>].fileUrl);
</code></pre><p>Now I am facing another problem. I had a working search bar when I used data array but now when I am using newData array, it can&#39;t find anything.  it seems like it can&#39;t search the title which is placed in a label now. What should I do now? Help me please.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="November 20th 2013, 8:45:28 am">November 20th 2013</span>
								by <span class='authorname'>Aalem Daneshyar</span><br>
								<a class="icon-bg icon-link" href="question/159631/custom-tableview.html#answer-271544" rel="permalink">permalink</a>
							</div>

							<h5>3 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>You ignored my help previously - what is to say you will listen this time?  The answer I gave needs only two tweaks to do what you need.</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 20th 2013, 9:11:33 am">November 20th 2013</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Well frankly that was complicated for me as I am new to titanium. Thanks for the help though.</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 20th 2013, 9:20:42 am">November 20th 2013</span>
											by <span class='authorname'>Aalem Daneshyar</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>When you have some time give it a go - you will be amazed how much easier it is - especially when you are just starting out.</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 20th 2013, 9:25:47 am">November 20th 2013</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
