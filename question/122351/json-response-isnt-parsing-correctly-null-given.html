<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>JSON response isn&#39;t parsing correctly. &lt;null&gt; given » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>JSON response isn&#39;t parsing correctly. &lt;null&gt; given</h1>
		</header>
		<section>
			<p>I have been working on an app which takes JSON responses from Drupal using the Services3 Drupal module. Most of my calls via XHR are POST calls and the response from Drupal is usually like:</p>
<pre><code class="hljs">{"<span class="hljs-attribute">sessid</span>":<span class="hljs-value"><span class="hljs-string">"07p808jknsc1nt09s8qplpi0b1"</span></span>,"<span class="hljs-attribute">session_name</span>":<span class="hljs-value"><span class="hljs-string">"SESSbfa3512140413714274ff5cbf8beedad"</span></span>, "<span class="hljs-attribute">node</span>" : <span class="hljs-value">{"<span class="hljs-attribute">title</span>":<span class="hljs-value"><span class="hljs-string">"This is a title"</span></span>,"<span class="hljs-attribute">body</span>":<span class="hljs-value"><span class="hljs-string">"This is a body"</span></span>,"<span class="hljs-attribute">type</span>":<span class="hljs-value"><span class="hljs-string">"page"</span></span>}</span>}
</code></pre><p>When using <code>var data = JSON.parse(this.responseText);</code> all is well with this parsing and I can continue making progress.</p>
<p>I have another XHR call which is using GET. The response when using Poster (FF addon) is this:</p>
<pre><code class="hljs">[{"<span class="hljs-attribute">nid</span>":<span class="hljs-value"><span class="hljs-string">"17"</span></span>,"<span class="hljs-attribute">node_data_field_userid_field_userid_uid</span>":<span class="hljs-value"><span class="hljs-string">"1"</span></span>,"<span class="hljs-attribute">node_type</span>":<span class="hljs-value"><span class="hljs-string">"hit_window"</span></span>,"<span class="hljs-attribute">node_vid</span>":<span class="hljs-value"><span class="hljs-string">"17"</span></span>,"<span class="hljs-attribute">users_node_data_field_userid_picture</span>":<span class="hljs-value"><span class="hljs-string">"sites\/default\/files\/pictures\/picture-1.png"</span></span>,"<span class="hljs-attribute">users_node_data_field_userid_uid</span>":<span class="hljs-value"><span class="hljs-string">"1"</span></span>,"<span class="hljs-attribute">users_node_data_field_userid_name</span>":<span class="hljs-value"><span class="hljs-string">"admin"</span></span>,"<span class="hljs-attribute">users_node_data_field_userid_mail</span>":<span class="hljs-value"><span class="hljs-string">"blahdeeblah@gmail.com"</span></span>}]
</code></pre><p>I use the same <code>var data = JSON.parse(this.responseText);</code> and then try to print out the info on this using &#39;Titanium.API.info(this.responseText);&#39; and nada. I get &lt;null&gt;.</p>
<p>Does anybody know why this is? I&#39;ve checked the response in a JSON validator and it&#39;s fine with the structure. Any ideas?</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="July 10th 2011, 7:43:08 pm">July 10th 2011</span>
				by <span class='authorname'>David Searle</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>drupal</span></li>
					
						<li><span class='tagname'>json</span></li>
					
						<li><span class='tagname'>xhr</span></li>
					
				</ul>
			

			<section>
				<h5>1 Comment</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>David, I&#39;m following this, as I&#39;m also interested in creating a Ti Mobile app to consume Drupal-provided data.</p>
</div>
							<div class="author">
								&mdash; commented <span title="July 11th 2011, 2:26:22 am">July 11th 2011</span>
								by <span class='authorname'>Bob Sims</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-212725">
				
						<section>
							<p>ok if the data returned is [{data}] as opposed to {data} then it is in an array. so the JSON.parse(this.responseText[0])</p>
<p>hope this helps</p>
<p>T….</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="July 10th 2011, 9:05:55 pm">July 10th 2011</span>
								by <span class='authorname'>Trevor Ward</span><br>
								<a class="icon-bg icon-link" href="../../question/122351/json-response-isnt-parsing-correctly-null-given.html#answer-212725" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
