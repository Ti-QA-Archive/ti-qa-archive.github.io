<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>tableviewrow view onclick Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>tableviewrow view onclick</h1>
		</header>
		<section>
			<p>I have 3 views inside table view customrow.I have added onclick event listener to table.Whether I am able to distinguish whether click is coming from first view  inside table view row.I have tried to add eventlistener to firstview but it is not working.<br>whenever someone clicking on first view I need to expand table row so second and third view will be coming into picture.Again clicking on first view I need to collapse same row.So far For entire row I am able to do it but For click of view I need to expand row to which view belongs and then collapse it.</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="May 27th 2013, 8:07:19 am">May 27th 2013</span>
				by <span class='authorname'>vivek p</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>ipad</span></li>
					
						<li><span class='tagname'>iphone</span></li>
					
						<li><span class='tagname'>tableviewrow</span></li>
					
						<li><span class='tagname'>view</span></li>
					
				</ul>
			

			<section>
				<h5>3 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Missing from you question are several pieces of information that will help you obtain a speedy and accurate answer, please provide the following details;</p>
<ul>
<li>Titanium SDK Version?</li>
<li>Target platform<ul>
<li>iOS only?</li>
</ul>
</li>
<li>A code snippet that can be used to determine what you have achieved so far</li>
</ul>
</div>
							<div class="author">
								&mdash; commented <span title="May 27th 2013, 8:11:25 am">May 27th 2013</span>
								by <span class='authorname'>Malcolm Hollingsworth</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>SDK version : SDK 3.0.2GA<br>platform :ios only</p>
<p>code snippet:</p>
<p>var row = Ti.UI.createTableViewRow({<br>            className:&#39;row&#39;,<br>            rowId:i,<br>            isExpanded:false,<br>            expandLength:0,<br>            selectionStyle: Titanium.UI.iPhone.TableViewCellSelectionStyle.NONE,<br>            backgroundColor :&quot;#fff&quot;,<br>            height:60,<br>            top:0,<br>            left:0,</p>
<pre><code class="hljs">    });
    <span class="hljs-comment">//incrementing row identiifier for table collapse/expand</span>
    i=i+<span class="hljs-number">1</span>;

    var titleSection = Ti.UI.createView({
        backgroundColor:<span class="hljs-string">'#e6e6e6'</span>,
          <span class="hljs-variable">width</span>: Ti.UI.FILL, top:<span class="hljs-number">0</span>,
          <span class="hljs-variable">height</span>:<span class="hljs-number">60</span>

    });

    var mytitleVal = Ti.UI.createLabel({
        left: <span class="hljs-number">10</span>,
        top :<span class="hljs-number">20</span>,
        <span class="hljs-built_in">text</span>: myTitle,
        <span class="hljs-built_in">color</span>:<span class="hljs-string">'#8c0645'</span>,


    });
    <span class="hljs-comment">//adding to view</span>
    titleSection.<span class="hljs-built_in">add</span>(mytitleVal);
    var statusLabel = Ti.UI.createLabel({
        right: <span class="hljs-number">170</span>,
        top :<span class="hljs-number">20</span>,
        <span class="hljs-built_in">text</span>: <span class="hljs-string">"Status : "</span>
    });
    titleSection.<span class="hljs-built_in">add</span>(statusLabel);

    var statusval = Ti.UI.createLabel({
        right: <span class="hljs-number">100</span>,
        top :<span class="hljs-number">20</span>,
        <span class="hljs-built_in">text</span>: myStatus,
        <span class="hljs-built_in">color</span>:<span class="hljs-string">'#8c0645'</span>
    });
    <span class="hljs-comment">//adding to view</span>
    titleSection.<span class="hljs-built_in">add</span>(statusval);
    var expandImageView =  Titanium.UI.createImageView({
        <span class="hljs-built_in">image</span>:<span class="hljs-string">"plus.png"</span>,
         right:<span class="hljs-number">5</span>,
        top:<span class="hljs-number">20</span>
    });
    titleSection.<span class="hljs-built_in">add</span>(expandImageView);
<span class="hljs-comment">//adding view to row</span>
row.<span class="hljs-built_in">add</span>(titleSection);
</code></pre><p>then pushing row data into table<br>data.push(row);<br>$.table.setData(data);</p>
<p>&#x2F;&#x2F;table event listener</p>
<p>$.table.addEventListener(&#39;click&#39;,function(e)<br>{<br>     if(e.rowData.isExpanded == false)<br>        {<br>&#x2F;&#x2F;if click is coming from the titleSection view I need to increase row height .Now I am doing it based on row.Instead I need to check whether click is coming from first view and expand it</p>
<pre><code class="hljs">    }
<span class="hljs-keyword">else</span>
{
<span class="hljs-comment">//collapse view</span>
s}
</code></pre><p>});</p>
<p>clicking on titlesection I need to expand collapse tableviewrow(For row click I am able to do it)</p>
</div>
							<div class="author">
								&mdash; commented <span title="May 27th 2013, 8:32:18 am">May 27th 2013</span>
								by <span class='authorname'>vivek p</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Thanks for the code but without the code syntax is a little hard to read.</p>
<p>Quick tip; When you add code snippets or logs always add 3 <strong>~</strong> on a blank line above your code and another 3 <strong>~</strong> below you code on another blank line - you will see the difference when you preview the comment. (you are not being told off)</p>
<p>Inserted code should look like;</p>
<pre><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">something</span><span class="hljs-params">(obj)</span> </span>{
    <span class="hljs-comment">// do something</span>
}
alert(<span class="hljs-string">'Hello'</span>);
</code></pre></div>
							<div class="author">
								&mdash; commented <span title="May 27th 2013, 8:44:30 am">May 27th 2013</span>
								by <span class='authorname'>Malcolm Hollingsworth</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-263380">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>Hi</p>
<p>You need to add something to the child views so you know which one is causing the event and then simply attach an event to the tableView and respond differently depending on which view fired the event.</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> addRow = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">o</span>) </span>{
    <span class="hljs-keyword">var</span> obj = o || {};
    <span class="hljs-keyword">var</span> row = Ti.UI.createTableViewRow({
        backgroundColor: <span class="hljs-string">'#fff'</span>,
        data: obj,
        height: Ti.UI.SIZE,
        id: <span class="hljs-string">'row'</span>,
        width: Ti.UI.FILL
    });
    <span class="hljs-keyword">var</span> lbl = Ti.UI.createLabel({
        color: <span class="hljs-string">'#000'</span>,
        font: {
            fontSize: <span class="hljs-number">18</span>
        },
        height: Ti.UI.SIZE,
        id: <span class="hljs-string">'lbl'</span>,
        left: <span class="hljs-number">10</span>,
        text: obj.title || <span class="hljs-string">''</span>,
        width: Ti.UI.SIZE
    });
    row.add(lbl);
    <span class="hljs-keyword">return</span> row;
};
<span class="hljs-keyword">var</span> data = [
    { title: <span class="hljs-string">'One'</span> },
    { title: <span class="hljs-string">'Two'</span> },
    { title: <span class="hljs-string">'Three'</span> },
    { title: <span class="hljs-string">'Four'</span> },
    { title: <span class="hljs-string">'Five'</span> },
    { title: <span class="hljs-string">'Six'</span> },
    { title: <span class="hljs-string">'Seven'</span> }
];
<span class="hljs-keyword">var</span> intRow = <span class="hljs-number">0</span>, intRows = data.length;
<span class="hljs-keyword">var</span> row, rows = [];
<span class="hljs-keyword">for</span> (intRow = <span class="hljs-number">0</span>; intRow &lt; intRows; intRow = intRow + <span class="hljs-number">1</span>) {
    rows.push(addRow(data[intRow]));
}
<span class="hljs-keyword">var</span> tbl = Ti.UI.createTableView({
    data: rows,
    height: Ti.UI.FILL,
    minRowHeight: <span class="hljs-number">50</span>,
    width: Ti.UI.FILL
});
tbl.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) </span>{
    Ti.API.info(<span class="hljs-string">'source id: '</span> + e.source.id);
    <span class="hljs-keyword">switch</span> (e.source.id) {
    <span class="hljs-keyword">case</span> <span class="hljs-string">'btn'</span>:
        alert(<span class="hljs-string">'data: '</span> + <span class="hljs-built_in">JSON</span>.stringify(e.row.data));
        <span class="hljs-keyword">break</span>;
    }
});
win.add(tbl);
</code></pre><p>You can then use <strong>e.source.{propertyname} = {newvalue}</strong> in the event listener, obviously setting the correct {propertyname} and {newvalue} for that part of your code.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="May 27th 2013, 8:14:30 am">May 27th 2013</span>
								by <span class='authorname'>Malcolm Hollingsworth</span><br>
								<a class="icon-bg icon-link" href="../../question/152877/tableviewrow-view-onclick.html#answer-263380" rel="permalink">permalink</a>
							</div>

							<h5>3 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>I have a view inside tablerow that  contain imageView,label and all.I need to get clicking of that view in tableview row.I removed other views in row and try to add this code if(e.source.toString() == &#39;[object TiUIView]&#39;) in table onclick eventlistener button but whenever I am clicking label inside view it is coming as object TiUILabel.is there any way to get this done?</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 27th 2013, 8:42:00 am">May 27th 2013</span>
											by <span class='authorname'>vivek p</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I am not sure what you are trying to do from this explanation it was not very clear.</p>
<p>If you see the custom property <strong>id</strong> in my code example you can see how this is checked in the click event to determine which thing was clicked.</p>
<p>You can set <strong>touchEnabled</strong> = false for any child views that should not respond to any events.</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 27th 2013, 8:46:23 am">May 27th 2013</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Did this help answer your question?</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 31st 2013, 5:25:17 am">May 31st 2013</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
