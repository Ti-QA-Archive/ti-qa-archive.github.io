<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Alloy - Navbar height is wrong » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Alloy - Navbar height is wrong</h1>
		</header>
		<section>
			<p>Hi,</p>
<p>i am working on a iOS app using Alloy 0.3.6 and SDK 3.0.0.<br>While design the app i realized that the navbar is not 44dp as it should, but 43dp.</p>
<p>To verify this i created a new alloy project with the following content:</p>
<p>index.xml</p>
<pre><code class="hljs"><span class="hljs-tag">&lt;<span class="hljs-title">Alloy</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">Window</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"container"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">NavigationGroup</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">Window</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"test"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">Label</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"test2"</span>&gt;</span>test<span class="hljs-tag">&lt;/<span class="hljs-title">Label</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-title">Window</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">NavigationGroup</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">Window</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">Alloy</span>&gt;</span>
</code></pre><p>index.tss</p>
<pre><code class="hljs">"<span class="hljs-class">.container</span>": <span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">backgroundColor</span>:<span class="hljs-value"><span class="hljs-string">"white"</span>
</span></span></span>},

"<span class="hljs-id">#test</span>": <span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">backgroundColor</span>:<span class="hljs-value"> <span class="hljs-string">'red'</span>
</span></span></span>}


"<span class="hljs-id">#test2</span>": <span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">backgroundColor</span>:<span class="hljs-value"> <span class="hljs-string">'green'</span>,
    top:<span class="hljs-number">0</span>,
    left:<span class="hljs-number">100</span>,
    height:<span class="hljs-number">44</span>,
    width: <span class="hljs-number">100</span>
</span></span></span>}
</code></pre><p>(The green label is just used as measurement reference.)</p>
<p>When measuring the height of the navbar it&#39;s just 43dp.<br>So, how do i get the navbar to it&#39;s correct height?</p>
<p>Regards, Florian.</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="January 19th 2013, 9:22:29 pm">January 19th 2013</span>
				by <span class='authorname'>Florian Walter</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>alloy</span></li>
					
						<li><span class='tagname'>height</span></li>
					
						<li><span class='tagname'>ios</span></li>
					
						<li><span class='tagname'>navbar</span></li>
					
				</ul>
			

			<section>
				<h5>2 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>The navbar <strong><em>is</em></strong> the native iOS navbar. Whatever size is appropriate for the <a href="http:&#x2F;&#x2F;www.idev101.com&#x2F;code&#x2F;User_Interface&#x2F;sizes.html">device&#x2F;sim and iOS version</a> should be what&#39;s being rendered. How exactly are you concluding that the navbar is 43dp and not 44dp? Hopefully not just eye-balling it by comparing it to the #test2 view.</p>
</div>
							<div class="author">
								&mdash; commented <span title="January 19th 2013, 11:33:46 pm">January 19th 2013</span>
								by <span class='authorname'>Tony Lukasavage</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>I used the iOS Simulator to save screenshots of several apps (mine, KitchenSink, …)</p>
<p>Then i loaded those screenshots in Pixelmator and all apps <strong>not</strong> using Alloy have 44dp.<br>The apps created using Alloy have 43dp.</p>
</div>
							<div class="author">
								&mdash; commented <span title="January 19th 2013, 11:38:40 pm">January 19th 2013</span>
								by <span class='authorname'>Florian Walter</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>4</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>4 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-254954">
				
						<section>
							<p>I think your measuring method, or something in your code setup may be wrong. Despite the fact that neither Titanium nor Alloy had control over the rendering size of the nav bar (it&#39;s determined by iOS), I tested this myself. As per your description, I ran a nav bar app for Alloy and a corresponding one with traditional Titanium development. </p>
<h2 id="alloy-version">Alloy version</h2>
<p><a href="https:&#x2F;&#x2F;github.com&#x2F;appcelerator&#x2F;alloy&#x2F;tree&#x2F;master&#x2F;test&#x2F;apps&#x2F;ui&#x2F;navgroup">https:&#x2F;&#x2F;github.com&#x2F;appcelerator&#x2F;alloy&#x2F;tree&#x2F;master&#x2F;test&#x2F;apps&#x2F;ui&#x2F;navgroup</a></p>
<h2 id="traditional-titanium-version">Traditional Titanium version</h2>
<pre><code class="hljs"><span class="hljs-keyword">var</span> <span class="hljs-keyword">win</span> = Ti.UI.createWindow({
    backgroundColor: '#fff'    
});
<span class="hljs-keyword">var</span> nav = Ti.UI.iPhone.createNavigationGroup({
    <span class="hljs-keyword">window</span>: Ti.UI.createWindow({
        backgroundColor: '#fff',
        title: '<span class="hljs-keyword">Window</span> 1'
    })
});

<span class="hljs-keyword">win</span>.add(nav);
<span class="hljs-keyword">win</span>.<span class="hljs-keyword">open</span>();
</code></pre><h2 id="result">Result</h2>
<p>I took screenshots of each in the ios simulator using <a href="http:&#x2F;&#x2F;www.curioustimes.de&#x2F;iphonesimulatorcropper&#x2F;">iOS-Simulator Cropper</a> to ensure that there were no errors in creating them manually. I then loaded both into Pixemator, zoomed them to 500%, and then put them side by side. Here is the result:</p>
<p><img src="http:&#x2F;&#x2F;i.imgur.com&#x2F;XKEIO42.png" alt="comparison"></p>
<p>As you can see, the images, in terms of height, are identical. You may want to revisit the means by which you are obtaining these measurements because it&#39;s not even really possible to change the nav bar height via code.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="January 20th 2013, 11:43:55 am">January 20th 2013</span>
								by <span class='authorname'>Tony Lukasavage</span><br>
								<a class="icon-bg icon-link" href="../../question/147150/alloy---navbar-height-is-wrong.html#answer-254954" rel="permalink">permalink</a>
							</div>

							<h5>5 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Thanks for your effort here.</p>
<p>Of course i know that Titanium is just wrapping the iOS SDK methods, but nevertheless i get results i can&#39;t classify.</p>
<p>So i took screenshots of four apps in the simulator and put them together as you did.<br>From left to right it&#39;s </p>
<ul>
<li><p>Kitchen Sink (44px)</p>
</li>
<li><p>Contacts (44px)</p>
</li>
<li><p>The traditional Titanium code you posted (43px)</p>
</li>
<li><p>My alloy example from above (43px)</p>
</li>
</ul>
<p><img src="http:&#x2F;&#x2F;img.imgur.com&#x2F;A6RAJyQ.png" alt="navbar"></p>
<p>It seems like there is a white line on top of the navigation bar in the Kitchen Sink and the Contacts app. The only difference between the Kitchen Sink app and the other two Titanium apps seems to be the integration of the tabbar.</p>
<p>So i created a new Titanium project from the &quot;Tabbed Application&quot; template and there the navigation bar has the white line and has a height of 44px.</p>
<p>Now i&#39;m confused.</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 20th 2013, 2:09:18 pm">January 20th 2013</span>
											by <span class='authorname'>Florian Walter</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I forgot to add that this is clearly no Alloy problem.</p>
<p>If it&#39;s connected to Titanium or the iOS SDK itself, i can&#39;t tell at the moment…<br>Any thoughts here?</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 21st 2013, 4:13:29 pm">January 21st 2013</span>
											by <span class='authorname'>Florian Walter</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I did one more test and created the following navbar background (640x88)</p>
<p><img src="http:&#x2F;&#x2F;i5.minus.com&#x2F;jc3Z4uQmrdDPE.png" alt=""></p>
<p>and set it as background using the &quot;Traditional Titanium version&quot; from above.</p>
<p>This is the result using SDK3.0.0 in iOS Simulator retina mode:</p>
<p><img src="http:&#x2F;&#x2F;i1.minus.com&#x2F;jbcOgNPth5rXuo.png" alt=""></p>
<p>Then i compiled the same app on another machine with SDK2.1.4 and got the same result.<br>The red line is not displayed.</p>
<p>Is it possible that the navbar is somehow shifted by one pixel &quot;under&quot; the status bar?</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 21st 2013, 8:40:28 pm">January 21st 2013</span>
											by <span class='authorname'>Florian Walter</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I ran this past one of our lead iOS engineers and he is confirming your suspicions. Can you create a Titanium Community Jira ticket with all the details we discussed here? That will get this issue in front of the iOS platform team where they can dig deeper into its source.</p>
<p><a href="https:&#x2F;&#x2F;jira.appcelerator.org&#x2F;browse&#x2F;TC">https:&#x2F;&#x2F;jira.appcelerator.org&#x2F;browse&#x2F;TC</a></p>
</p>
										<div class="author">
											&mdash; commented <span title="January 24th 2013, 4:35:29 pm">January 24th 2013</span>
											by <span class='authorname'>Tony Lukasavage</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Thanks for your response.</p>
<p>I already created a ticket a few hours ago and linked to this thread. <a href="https:&#x2F;&#x2F;jira.appcelerator.org&#x2F;browse&#x2F;TC-1797">#TC-1797</a></p>
<p>Should i add the summarized infos from this discussion to the ticket or leave it with the link to here?</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 24th 2013, 5:39:13 pm">January 24th 2013</span>
											by <span class='authorname'>Florian Walter</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-255211">
				
						<section>
							<p>After noticing the height difference with the navigation bar i did a check on other apps i created using Titanium. This time also on an iPhone4 (iOS6.0.1).</p>
<p>It&#39;s always the same. All apps have a navigation bar height of 43dp.</p>
<p>Not that this is a huge deal breaker, because one can adjust navigation bar backgrounds to this height, but isn&#39;t this something that should be looked after?</p>
<p>Or is it just me having this problem?<br>Then i would appreciate any hint on getting a correctly displayed navigation bar.</p>
<p>Thanks in advance.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="January 23rd 2013, 8:03:00 pm">January 23rd 2013</span>
								by <span class='authorname'>Florian Walter</span><br>
								<a class="icon-bg icon-link" href="../../question/147150/alloy---navbar-height-is-wrong.html#answer-255211" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-255563">
				
						<section>
							<p>I&#39;ve noticed the same error. I&#39;ve used a NavigationGroup inside a TabGroup:</p>
<pre><code class="hljs"><span class="hljs-tag">&lt;<span class="hljs-title">Alloy</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">TabGroup</span>&gt;</span>

<span class="hljs-comment">&lt;!-- 43dp --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">Tab</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"tab3"</span> <span class="hljs-attribute">title</span>=<span class="hljs-value">"Tab Title"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">Window</span> <span class="hljs-attribute">navBarHidden</span>=<span class="hljs-value">"true"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">NavigationGroup</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-title">Window</span> <span class="hljs-attribute">title</span>=<span class="hljs-value">"Window Title"</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-title">Label</span>&gt;</span>This is a label.<span class="hljs-tag">&lt;/<span class="hljs-title">Label</span>&gt;</span>
                    <span class="hljs-tag">&lt;/<span class="hljs-title">Window</span>&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-title">NavigationGroup</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-title">Window</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">Tab</span>&gt;</span>

<span class="hljs-comment">&lt;!-- 44dp--&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">Tab</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"tab2"</span> <span class="hljs-attribute">title</span>=<span class="hljs-value">"Tab 2 Title"</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-title">Window</span> <span class="hljs-attribute">title</span>=<span class="hljs-value">"Window2 Title"</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-title">Label</span>&gt;</span>This is a label. 2<span class="hljs-tag">&lt;/<span class="hljs-title">Label</span>&gt;</span>
                    <span class="hljs-tag">&lt;/<span class="hljs-title">Window</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">Tab</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">TabGroup</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">Alloy</span>&gt;</span>
</code></pre><p>I fixed it by removing the NavigationGroup and use the tab as a navigationgroup instead (the tab is behaving like one - but I think this isn&#39;t documented anywhere in the docs). But unfortunately my solution isn&#39;t working for you (as you don&#39;t use a tabgroup).</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="January 28th 2013, 5:12:07 pm">January 28th 2013</span>
								by <span class='authorname'>Dario Merz</span><br>
								<a class="icon-bg icon-link" href="../../question/147150/alloy---navbar-height-is-wrong.html#answer-255563" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-256722">
				
						<section>
							<p>I have similar problems with one-pixel lines in various places that refuse to go away.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="February 13th 2013, 2:10:19 pm">February 13th 2013</span>
								by <span class='authorname'>remko posthuma</span><br>
								<a class="icon-bg icon-link" href="../../question/147150/alloy---navbar-height-is-wrong.html#answer-256722" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Sorry, posted too soon. The problem only occurs with iPad 2 (not iPad retina), and it doesn&#39;t occur on iPad Simulator. It seems like Titanium sometimes has trouble fitting png files into their views, even though the sizes match perfectly.</p>
</p>
										<div class="author">
											&mdash; commented <span title="February 13th 2013, 2:18:36 pm">February 13th 2013</span>
											by <span class='authorname'>remko posthuma</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
