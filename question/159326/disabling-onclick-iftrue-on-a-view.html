<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Disabling onClick if(true) on a view » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Disabling onClick if(true) on a view</h1>
		</header>
		<section>
			<p>Greetings,<br>I think i&#39;ve might have stumble in a bug.</p>
<p>I have this situation where I&#39;m using a view to two distinct situations (read&#x2F;write)<br>(This is pseudoCode I know I need to set Ids to access)</p>
<pre><code class="hljs"><span class="hljs-tag">&lt;<span class="hljs-title">ScrollView</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">View</span> <span class="hljs-attribute">onClick</span>=<span class="hljs-value">"doX"</span>&gt;</span>
        ...
    <span class="hljs-tag">&lt;/<span class="hljs-title">View</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">View</span> <span class="hljs-attribute">onClick</span>=<span class="hljs-value">"doY"</span> &gt;</span>
        ...
    <span class="hljs-tag">&lt;/<span class="hljs-title">View</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">View</span> <span class="hljs-attribute">onClick</span>=<span class="hljs-value">"doZ"</span> &gt;</span>
        ...
    <span class="hljs-tag">&lt;/<span class="hljs-title">View</span>&gt;</span>
    ...
</code></pre><p>and I want to disable Onclick of this views if a certain if is True.</p>
<p>I tried (pseudoCode)</p>
<pre><code class="hljs">    <span class="hljs-variable">$.</span>scrollview.view1.touchedEnabled = <span class="hljs-literal">false</span>;
    <span class="hljs-variable">$.</span>scrollview.view2.touchedEnabled = <span class="hljs-literal">false</span>;
    ...
</code></pre><p>but this doesn&#39;t seems to have any effect. I can still click on the views</p>
<p>I&#39;m either using touchedEnabled in a wrong way or theres a ticket somewhere to fix this.</p>
<p>I cannot generate the onclick event based in the generation of the controller because this scrollview<br>it is inside a scrollableview, and therefore is not generated more than once.</p>
<p>Anyway my question is:<br>Whats the best way to prevent the user from clicking in these views only when readMode is set to true.</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="November 11th 2013, 9:28:16 am">November 11th 2013</span>
				by <span class='authorname'>João Serra</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>alloy</span></li>
					
						<li><span class='tagname'>eventlistener</span></li>
					
						<li><span class='tagname'>titanium</span></li>
					
				</ul>
			

			<section>
				<h5>1 Comment</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Follow the instructions of either Malcom or Manuel below, or give us an actual reproducible test case. As Malcolm mentioned, we already know there&#39;s issues with the little bit of code you posted. This means there&#39;s a solid chance you may be able to solve your own issue just by boiling this down to a reproducible test case.</p>
</div>
							<div class="author">
								&mdash; commented <span title="November 11th 2013, 11:39:14 am">November 11th 2013</span>
								by <span class='authorname'>Tony Lukasavage</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>3</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>3 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-271132">
				
						<section>
							<p>Hi</p>
<p>This is very likely a spelling issue.  You have used <strong>touchedEnabled</strong> whereas it should be <strong>touchEnabled</strong> - note the removed <strong>ed</strong>.</p>
<pre><code class="hljs">$.scrollview.view1.touchedEnabled = <span class="hljs-literal">false</span>;
<span class="hljs-comment">// should be</span>
$.scrollview.view1.touchEnabled = <span class="hljs-literal">false</span>; <span class="hljs-comment">// this is the correct spelling</span>
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="November 11th 2013, 9:59:25 am">November 11th 2013</span>
								by <span class='authorname'>Malcolm Hollingsworth</span><br>
								<a class="icon-bg icon-link" href="../../question/159326/disabling-onclick-iftrue-on-a-view.html#answer-271132" rel="permalink">permalink</a>
							</div>

							<h5>2 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>sorry, that spelling issue only happen in here when I made the post :)</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 11th 2013, 10:55:04 am">November 11th 2013</span>
											by <span class='authorname'>João Serra</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>In that case check out the answer Manuel provided - that is the correct way to handle events being added and removed from views.</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 11th 2013, 11:03:10 am">November 11th 2013</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-271134">
				
						<section>
							<p>Instead of defining onClick in XML, you could just add &#x2F; remove EventListeners in your controller code:</p>
<pre><code class="hljs">//<span class="hljs-built_in">enable</span> onClick
$.scrollview.view1.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-keyword">do</span>X);
//<span class="hljs-built_in">disable</span> onClick
$.scrollview.view1.removeEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-keyword">do</span>X);
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="November 11th 2013, 10:13:16 am">November 11th 2013</span>
								by <span class='authorname'>Manuel Lehner</span><br>
								<a class="icon-bg icon-link" href="../../question/159326/disabling-onclick-iftrue-on-a-view.html#answer-271134" rel="permalink">permalink</a>
							</div>

							<h5>4 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>That seems a good solution<br>but I have another problem with it. The doX&#x2F;doY&#x2F;doZ are inside another require view</p>
<pre><code class="hljs"><span class="hljs-tag">&lt;<span class="hljs-title">Alloy</span>&gt;</span>
    ....
    <span class="hljs-tag">&lt;<span class="hljs-title">Require</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"view"</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"myId1"</span> <span class="hljs-attribute">src</span>=<span class="hljs-value">"mySrc1"</span>/&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">Alloy</span>&gt;</span>
</code></pre><p>and I don&#39;t believe $.myId1.doX is possible<br>The only way i can think of is creating 2 functions inside mySrc1  to add and remove listeners and attach the functions to a Alloy.Global.  would that work ?</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 11th 2013, 1:14:53 pm">November 11th 2013</span>
											by <span class='authorname'>João Serra</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p><code>$.myId1.doX</code> might actually work, though it would probably be more clearly written as <code>$.myId1.getView(&amp;#39;doX&amp;#39;)</code>. </p>
<p>You may also want to check out this <a href="https:&#x2F;&#x2F;developer.appcelerator.com&#x2F;question&#x2F;150975&#x2F;accessing-a-control-from-between-alloy-controllers.html#answer-260746">answer link</a> to see how you can use controller eventing to pass messages between controllers.</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 11th 2013, 1:55:26 pm">November 11th 2013</span>
											by <span class='authorname'>Tony Lukasavage</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>don&#39;t seem to work</p>
<pre><code class="hljs"><span class="hljs-variable">$.</span>myId1.view1.removeEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-variable">$.</span>myId1.getView(<span class="hljs-string">'doX'</span>));
<span class="hljs-regexp">//</span> <span class="hljs-keyword">or</span> 
<span class="hljs-variable">$.</span>myId1.view1.removeEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-variable">$.</span>myId1.doX);
</code></pre><p>result of the first one:<br>Uncaught TypeError: Object #&lt;Controller&gt; has no method &#39;doX&#39;</p>
<p>can&#39;t remember the first one but i think it was undefined</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 11th 2013, 3:29:08 pm">November 11th 2013</span>
											by <span class='authorname'>João Serra</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Oh, nevermind. I thought <code>doX</code> was the name of some UI component in the controller. No, that won&#39;t work. Look at the link I gave you for passing messages between controllers. That would be a better way to do it.</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 11th 2013, 3:37:55 pm">November 11th 2013</span>
											by <span class='authorname'>Tony Lukasavage</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-271149">
				
						<section>
							<p>I came up with 5 possible solutions.</p>
<p>1º I created a window overlay over the form, so when the user tries to click the views its actually clicking in a transparent window. ( this was the one i choose to use)</p>
<p>2º Try the export function aproach, exporting a function gives access from the other controlers, but I thought this was only used in commonjs in a specific folder. So put this one apart.</p>
<p>3º attaching a onchange event to one of the elements from the form ui, the form was being filled with data before the user could read it… so if the user was reading it instead editing once the form was filled it would trigger an event that would check if the read only mode was on, then it would act to according with what we wanted and clean all event listeners.</p>
<p>4º instead placing the event trigger on Views, i could move it to the components inside, expecting these would act better with touchEnabled = false, but then i would have to put the same trigger in all components.</p>
<p>5º forget alloy, generate the whole view based in a readMode variable. This would force me to generate the view elements each time i was scrolling</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="November 11th 2013, 4:16:42 pm">November 11th 2013</span>
								by <span class='authorname'>João Serra</span><br>
								<a class="icon-bg icon-link" href="../../question/159326/disabling-onclick-iftrue-on-a-view.html#answer-271149" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
