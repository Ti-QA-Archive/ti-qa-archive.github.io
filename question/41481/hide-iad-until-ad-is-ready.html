<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Hide iAd until Ad is ready Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Hide iAd until Ad is ready</h1>
		</header>
		<section>
			<p>I&#39;ve just gotten my first app with iAds rejected from Apple because the iAd block needs to be disabled when no ads are being displayed. I have modified the TiUIiOSAdView.m file referenced here:<br>http:&#x2F;&#x2F;github.com&#x2F;appcelerator&#x2F;titanium_mobile&#x2F;commit&#x2F;782d970f785fd3cb3bfe4fbfdb479089b9aa2869</p>
<pre><code class="hljs"><span class="hljs-collection">[self.proxy replaceValue:NUMBOOL<span class="hljs-list">(<span class="hljs-keyword">NO</span>)</span> forKey:@<span class="hljs-string">"visible"</span> notification:YES]</span><span class="hljs-comment">;</span>
</code></pre><p>But the iAd still appears when no network is available (Airplane Mode). I must be missing something else? Anyone have some advise?</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="July 8th 2010, 12:56:35 pm">July 8th 2010</span>
				by <span class='authorname'>Andrew Flocchini</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>iad</span></li>
					
						<li><span class='tagname'>iphone</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>1</span> Vote</div>
			<div class="answers"><span>9</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>9 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-82561">
				
						<section>
							<p>I found out the iAd view hides itself in the simulator but not on my iPod Touch 2G. I&#39;ll re-submit it and see what Apple says.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="July 8th 2010, 4:17:10 pm">July 8th 2010</span>
								by <span class='authorname'>Andrew Flocchini</span><br>
								<a class="icon-bg icon-link" href="question/41481/hide-iad-until-ad-is-ready#answer-82561" rel="permalink">permalink</a>
							</div>

							<h5>3 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>What Ti SDK version did you use to submit? (I assume 1.3.3?)</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 8th 2010, 6:02:04 pm">July 8th 2010</span>
											by <span class='authorname'>karlo kilayko</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Yes, I updated all the files to be 1.3.3. Is there a spot, besides github, to DL these?</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 9th 2010, 6:57:31 pm">July 9th 2010</span>
											by <span class='authorname'>Andrew Flocchini</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>AFAIK, github is the place</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 10th 2010, 2:38:49 pm">July 10th 2010</span>
											by <span class='authorname'>karlo kilayko</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-82641">
				
						<section>
							<p>Karlo - As far as I&#39;m aware there is no 1.3.3 so it would have been submitted with 1.3.2. </p>
<p>I would also like to know what to do with this. I submitted a update with iAds last week with out the &quot;fix&quot; in it so I&#39;m assuming its going to get rejected. </p>
<p>I placed the fix in the app and ran it but do not notice any difference, I still get the white box when there is no network connection. </p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="July 8th 2010, 6:24:02 pm">July 8th 2010</span>
								by <span class='authorname'>donovan lewis</span><br>
								<a class="icon-bg icon-link" href="question/41481/hide-iad-until-ad-is-ready#answer-82641" rel="permalink">permalink</a>
							</div>

							<h5>2 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>I&#39;ll update this with Apple&#39;s response when I hear back.</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 8th 2010, 6:25:37 pm">July 8th 2010</span>
											by <span class='authorname'>Andrew Flocchini</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Ah, I assumed the OP built 1.3.3 and used that so he had the latest and greatest.</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 8th 2010, 6:25:42 pm">July 8th 2010</span>
											by <span class='authorname'>karlo kilayko</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-82701">
				
						<section>
							<p>Are you able to detect a network connection with Ti.Network and manually hide iAds?</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="July 8th 2010, 7:35:05 pm">July 8th 2010</span>
								by <span class='authorname'>Kevin Whinnery</span><br>
								<a class="icon-bg icon-link" href="question/41481/hide-iad-until-ad-is-ready#answer-82701" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>I did try that but I&#39;m not sure if that&#39;s what they want. They say &quot;when an ad is not available.&quot; does that mean no network connection or before the ad has fully loaded? I&#39;ll see what they say this time and if I need to, submit another version with code also.</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 8th 2010, 7:58:12 pm">July 8th 2010</span>
											by <span class='authorname'>Andrew Flocchini</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-82761">
				
						<section>
							<p>@Kevin</p>
<p>I think apple wants it to go away when there server will not display an ad on the end user. I don&#39;t think it really matters to them if there is no network connection. I will see if they reject my app based on this same issue. It&#39;s at the review stage right now. </p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="July 8th 2010, 8:09:08 pm">July 8th 2010</span>
								by <span class='authorname'>donovan lewis</span><br>
								<a class="icon-bg icon-link" href="question/41481/hide-iad-until-ad-is-ready#answer-82761" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-83251">
				
						<section>
							<p>I just had my app rejected by apple because of this. They tell me to add the code from the error handling section  on this page https:&#x2F;&#x2F;developer.apple.com&#x2F;iphone&#x2F;prerelease&#x2F;library&#x2F;documentation&#x2F;UserExperience&#x2F;Conceptual&#x2F;iAd_Guide&#x2F;WorkingwithBannerViews&#x2F;WorkingwithBannerViews.html</p>
<p>I submitted a update using the code from http:&#x2F;&#x2F;github.com&#x2F;appcelerator&#x2F;titanium_mobile&#x2F;commit&#x2F;782d970f785fd3cb3bfe4fbfdb479089b9aa2869</p>
<p>I saw it work a few times in the simulator but never on the phone. </p>
<p>Does anyone have a answer on what we should be using to fix this problem?</p>
<p>Thanks</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="July 9th 2010, 6:50:36 pm">July 9th 2010</span>
								by <span class='authorname'>donovan lewis</span><br>
								<a class="icon-bg icon-link" href="question/41481/hide-iad-until-ad-is-ready#answer-83251" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>You&#39;re in the same boat as me then. I hope this gets sorted soon so I can get my app up. I was all excited about trying out iAds.</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 9th 2010, 6:56:39 pm">July 9th 2010</span>
											by <span class='authorname'>Andrew Flocchini</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-83641">
				
						<section>
							<p>what about this?</p>
<p>Add load event to createAdView, and show it if it does. It seems to response to load event, anyone from TI care to comment how iad works?</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="July 10th 2010, 4:31:21 pm">July 10th 2010</span>
								by <span class='authorname'>Daniel Lim</span><br>
								<a class="icon-bg icon-link" href="question/41481/hide-iad-until-ad-is-ready#answer-83641" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-88251">
				
						<section>
							<p>Just got word, an upgrade to my iphone app with iAd integration approved! :)</p>
<p>It was built with 1.3.2 and updated with http:&#x2F;&#x2F;github.com&#x2F;appcelerator&#x2F;titanium_mobile&#x2F;commit&#x2F;782d970f785fd3cb3bfe4fbfdb479089b9aa2869</p>
<p>I also add load event ( i mentioned below) to show the view container which contain the iAd object, i was shooting in a dark but got approved anyway. :)</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="July 20th 2010, 8:21:48 pm">July 20th 2010</span>
								by <span class='authorname'>Daniel Lim</span><br>
								<a class="icon-bg icon-link" href="question/41481/hide-iad-until-ad-is-ready#answer-88251" rel="permalink">permalink</a>
							</div>

							<h5>5 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Congrats Daniel! That is great! Can you give more details on your solution. What do you mean &quot;add load event to createAdView&quot;? Thanks!</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 20th 2010, 8:31:57 pm">July 20th 2010</span>
											by <span class='authorname'>karlo kilayko</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Hi Karlo,</p>
<p>I show it on article, create the ad, add on a view objects at bottom -100 (to hide it below screen) then add load eventlistener to the ad, when load, animate the view object to bottom:0. If the ad never load, it will not occupy the screen as it&#39;s hidden below.</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 20th 2010, 9:11:52 pm">July 20th 2010</span>
											by <span class='authorname'>Daniel Lim</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Oh forgot to mention, the load event trigger every 30-40 seconds or so. It seems like Apple is refreshing the ad periodically.</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 20th 2010, 9:17:11 pm">July 20th 2010</span>
											by <span class='authorname'>Daniel Lim</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Ah, that&#39;s very cool. Do you show anything in the &quot;blank&quot; space when the ad doesn&#39;t display?</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 20th 2010, 9:20:07 pm">July 20th 2010</span>
											by <span class='authorname'>karlo kilayko</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Nope, there&#39;s still work need to be done as the behavior is only being observed on a test ad. For instance, if i keep the window on for few minutes, on ad next refresh, it&#39;s blank. i suppose that&#39;s where the &quot;code&quot; hide the ad when no ad ready. Now, what can we do on code end to reanimate the view when ad is blank on next refresh? We need more eventlistener handler, so far, the load event is not even documented.</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 20th 2010, 9:30:07 pm">July 20th 2010</span>
											by <span class='authorname'>Daniel Lim</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-97301">
				
						<section>
							<p>My app has also been approved using the Titanium 1.4 SDK and the following event listener code for my iAd&#39;s</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> win = Titanium.UI.createWindow();

iads = Ti.UI.iOS.createAdView({
    width: <span class="hljs-string">'auto'</span>,
    height: <span class="hljs-string">'auto'</span>,
    top: -<span class="hljs-number">100</span>,
    borderColor: <span class="hljs-string">'#000000'</span>,
    backgroundColor: <span class="hljs-string">'#000000'</span>}); 

    t1 = Titanium.UI.createAnimation({top:<span class="hljs-number">0</span>, duration:<span class="hljs-number">750</span>}); 

    iads.addEventListener(<span class="hljs-string">'load'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span></span>{
        iads.animate(t1);
    }); 

win.add(iads);
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 6th 2010, 4:50:36 pm">August 6th 2010</span>
								by <span class='authorname'>Andrew Flocchini</span><br>
								<a class="icon-bg icon-link" href="question/41481/hide-iad-until-ad-is-ready#answer-97301" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-97491">
				
						<section>
							<p>Thanks for the info. Please update any new findings :-)</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 7th 2010, 1:24:46 am">August 7th 2010</span>
								by <span class='authorname'>Peter Lum</span><br>
								<a class="icon-bg icon-link" href="question/41481/hide-iad-until-ad-is-ready#answer-97491" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
