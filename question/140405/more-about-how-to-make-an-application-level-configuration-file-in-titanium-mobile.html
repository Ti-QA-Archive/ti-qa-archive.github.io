<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>More About how to make an Application level configuration file in Titanium mobile. Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>More About how to make an Application level configuration file in Titanium mobile.</h1>
		</header>
		<section>
			<p>I need more clarification on this post:</p>
<p><a href="http:&#x2F;&#x2F;developer.appcelerator.com&#x2F;question&#x2F;132938&#x2F;how-to-make-an-application-level-configuration-file-in-titanium-mobile">Original Post About: how to make an Application level configuration file in Titanium mobile.</a></p>
<p>This looks really cool but I can&#39;t figure out how to get this to work in my code.</p>
<pre><code class="hljs">exports.tab_webview = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">this</span>.somewin = <span class="hljs-string">'http://google.com'</span>;

}

exports.tab_icon_1 = <span class="hljs-string">'pine-tree.png'</span>;
</code></pre><p>config.js</p>
<hr>
<p>Then this is where I called it..</p>
<pre><code class="hljs">function ApplicationTabGroup(Window) {

    <span class="hljs-comment">// require the file with the app settings</span>
    <span class="hljs-built_in">var</span> app_config = <span class="hljs-keyword">require</span>(<span class="hljs-string">'/config'</span>);

    <span class="hljs-comment">//create module instance</span>
    <span class="hljs-built_in">var</span> <span class="hljs-built_in">self</span> = Ti<span class="hljs-built_in">.</span>UI<span class="hljs-built_in">.</span>createTabGroup();

Ti<span class="hljs-built_in">.</span>API<span class="hljs-built_in">.</span><span class="hljs-keyword">log</span>(app_config<span class="hljs-built_in">.</span>tab_webview<span class="hljs-built_in">.</span>somewin);    <span class="hljs-comment">//undefined</span>
Ti<span class="hljs-built_in">.</span>API<span class="hljs-built_in">.</span><span class="hljs-keyword">log</span>(app_config<span class="hljs-built_in">.</span>somewin);                <span class="hljs-comment">//undefined</span>
Ti<span class="hljs-built_in">.</span>API<span class="hljs-built_in">.</span><span class="hljs-keyword">log</span>(app_config<span class="hljs-built_in">.</span>tab_icon_1);             <span class="hljs-comment">//pine-tree.png</span>

<span class="hljs-comment">/* Rest of the code for my tabs */</span>


<span class="hljs-keyword">return</span> <span class="hljs-built_in">self</span>;
};

module<span class="hljs-built_in">.</span>exports = ApplicationTabGroup;
</code></pre><h2 id="applicationtabgroup-js">ApplicationTabGroup.js</h2>
<p>Both ways I try coming from the function are undefined and I have been trying different things for a few hours now.    I also would like to pass arrays from my config file, and they are also returning undefined.  Here is something I tried.</p>
<p>Something like this in config.js</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> tab_webview = new <span class="hljs-keyword">Array</span>();
tab_webview[<span class="hljs-number">0</span>] = <span class="hljs-string">'http://google.com'</span>;
<span class="hljs-keyword">exports</span>.tab_webview;

<span class="hljs-comment">//OR</span>

<span class="hljs-keyword">exports</span>.tab_webview[<span class="hljs-number">0</span>] = <span class="hljs-string">'http://google.com'</span>;
</code></pre><p>Then Called with something like this</p>
<pre><code class="hljs">
var self = Ti.UI.createWebView({

     <span class="hljs-string">url :</span> app_config.tab_webview[<span class="hljs-number">0</span>];
    <span class="hljs-string">top :</span> <span class="hljs-number">0</span>,
    <span class="hljs-string">left :</span> <span class="hljs-number">0</span>,
    <span class="hljs-string">backgroundColor :</span> <span class="hljs-string">'transparent'</span>
});
</code></pre><p>Any help would be great.</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="July 31st 2012, 7:57:40 pm">July 31st 2012</span>
				by <span class='authorname'>Jason Hardgrave</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>common js</span></li>
					
						<li><span class='tagname'>config</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-244162">
				
						<section>
							<p>Your first function needs to have a return line in it given the way you are trying to use it.</p>
<pre><code class="hljs">exports.tab_webview = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{
  <span class="hljs-keyword">return</span> <span class="hljs-string">"http://google.com/"</span>;
}
</code></pre><p>This will give the current undefined answer for your test a single string as the return answer of the function.</p>
<p>In your example you were setting a variable but not returning the variable itself, so the function was being asked for its return - which it did not have - thus undefined.</p>
<p>You could expand the function by returning an object.</p>
<pre><code class="hljs">exports.tab_webview = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{
  <span class="hljs-keyword">return</span> {
    somewin: <span class="hljs-string">"http://google.com/"</span>,
    somethingelse: <span class="hljs-string">"here"</span>
  };
}
</code></pre><p>Which you could then access as in your own example</p>
<pre><code class="hljs">appconfig<span class="hljs-class">.tab_webview</span><span class="hljs-class">.somewin</span>
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="July 31st 2012, 8:16:46 pm">July 31st 2012</span>
								by <span class='authorname'>Malcolm Hollingsworth</span><br>
								<a class="icon-bg icon-link" href="question/140405/more-about-how-to-make-an-application-level-configuration-file-in-titanium-mobile.html#answer-244162" rel="permalink">permalink</a>
							</div>

							<h5>4 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>This is still returning undefined.  Here is my code I am working with </p>
<p>config.js</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> icon_path = <span class="hljs-string">'/ui_images/icons/'</span>;
<span class="hljs-keyword">var</span> tab_file_path = <span class="hljs-string">'/ui/common/'</span>;

<span class="hljs-comment">//COLORS - App UI Colors</span>
exports.primary_barcolor = <span class="hljs-string">'#333333'</span>;
exports.primary_background_path = <span class="hljs-string">'/ui_images/main_background/'</span>;

 <span class="hljs-comment">//1st Tab Information</span>
exports.tab_1 = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">return</span> {
    title: L(<span class="hljs-string">'about_txt'</span>),
    path: tab_file_path+<span class="hljs-string">'About'</span>,
    icon: icon_path+<span class="hljs-string">'pine-tree.png'</span>,
    webview: <span class="hljs-string">'http://google.com'</span>
    };

}
</code></pre><p>AplicationTabGroup.js</p>
<pre><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ApplicationTabGroup</span><span class="hljs-params">(Window)</span> </span>{
    <span class="hljs-comment">// require the file with the app settings</span>
    <span class="hljs-keyword">var</span> app_config = <span class="hljs-keyword">require</span>(<span class="hljs-string">'/config'</span>);

    <span class="hljs-comment">//create module instance</span>
    <span class="hljs-keyword">var</span> <span class="hljs-keyword">self</span> = Ti.UI.createTabGroup();



    Ti.API.log(<span class="hljs-string">'HERE IS THE INFO '</span>+app_config.tab_1.webview);


<span class="hljs-comment">// Other stuff here that is building my tabs</span>

    <span class="hljs-keyword">return</span> <span class="hljs-keyword">self</span>;
};

module.exports = ApplicationTabGroup;
</code></pre><p>Also could I somehow get this into an array, so that I can use a for loop?  Something like this:</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> <span class="hljs-keyword">win</span>;
<span class="hljs-keyword">var</span> <span class="hljs-keyword">tab</span>;


    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = 0; i &lt; app_config.tab_title.length; i++){
        <span class="hljs-keyword">win</span>[i] = new <span class="hljs-keyword">Window</span>(<span class="hljs-keyword">L</span>('app_title_txt'), app_config.tab_[i].path,     app_config.primary_barcolor, app_config.primary_background_path);

        <span class="hljs-keyword">tab</span>[i] = Ti.UI.createTab({
        title: app_config.<span class="hljs-keyword">tab</span>[i].title,
        icon: app_config.<span class="hljs-keyword">tab</span>[i].icon,
        <span class="hljs-keyword">window</span>: <span class="hljs-keyword">win</span>[i]
        });
        <span class="hljs-keyword">win</span>[i].containingTab = <span class="hljs-keyword">tab</span>[i];


        self.addTab(<span class="hljs-keyword">tab</span>[i]);

    }
</code></pre><p>Thanks for the help, I really appreciate it.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 1st 2012, 1:30:24 pm">August 1st 2012</span>
											by <span class='authorname'>Jason Hardgrave</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>It seems I got carried away with cut and paste late last night.</p>
<p>change your return function in the config.js to this.</p>
<pre><code class="hljs">exports.tab_1 = {
    title: L(<span class="hljs-string">'about_txt</span>'),
    path: tab_file_path+<span class="hljs-string">'About</span>',
    icon: icon_path+<span class="hljs-string">'pine</span>-tree.png',
    webview: <span class="hljs-string">'http</span>:<span class="hljs-comment">//google.com'</span>
};
</code></pre><p>If we can get this working - we can move on to your array.  Which you will need to explain more as the code below that question actually has an array in a loop.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 1st 2012, 2:03:17 pm">August 1st 2012</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>What you said worked great! It all just clicked for me.  Here is the array solution for those that are playing at home.</p>
<p>config.js</p>
<pre><code class="hljs">exports.tab_1 = {
    title: L(<span class="hljs-string">'about_txt</span>'),
    path: tab_file_path+<span class="hljs-string">'About</span>',
    icon: icon_path+<span class="hljs-string">'pine</span>-tree.png',
    webview: <span class="hljs-string">'http</span>:<span class="hljs-comment">//google.com'</span>
    };

exports.tabs = [
    {<span class="hljs-comment">//This is the info for tab1</span>
        title: L(<span class="hljs-string">'about_txt</span>'),
        path: tab_file_path+<span class="hljs-string">'About</span>',
        icon: icon_path+<span class="hljs-string">'pine</span>-tree.png',
        webview: <span class="hljs-string">'http</span>:<span class="hljs-comment">//google.com'</span>
    },

    {<span class="hljs-comment">//This is the info for tab2</span>
        title: L(<span class="hljs-string">'news_txt</span>'),
        path: tab_file_path+<span class="hljs-string">'News</span>',
        icon: icon_path+<span class="hljs-string">'newspaper</span>.png',
        webview: <span class="hljs-string">'http</span>:<span class="hljs-comment">//google.com'</span>
    }
];
</code></pre><p>ApplicationTabGroup.js</p>
<pre><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ApplicationTabGroup</span><span class="hljs-params">(Window)</span> </span>{
    <span class="hljs-comment">// require the file with the app settings</span>
    <span class="hljs-keyword">var</span> app_config = <span class="hljs-keyword">require</span>(<span class="hljs-string">'/config'</span>);

    <span class="hljs-comment">//create module instance</span>
    <span class="hljs-keyword">var</span> <span class="hljs-keyword">self</span> = Ti.UI.createTabGroup();



    Ti.API.log(<span class="hljs-string">'HERE IS THE INFO '</span>+app_config.tab_1.webview);
    Ti.API.log(<span class="hljs-string">'HERE IS THE INFO '</span>+app_config.tabs[<span class="hljs-number">0</span>].icon);
    Ti.API.log(<span class="hljs-string">'HERE IS THE INFO '</span>+app_config.tabs[<span class="hljs-number">1</span>].title);
    Ti.API.log(<span class="hljs-string">'HERE IS THE INFO '</span>+app_config.tabs[<span class="hljs-number">1</span>].path);


<span class="hljs-comment">// Other stuff here that is building my tabs</span>

    <span class="hljs-keyword">return</span> <span class="hljs-keyword">self</span>;
};

module.exports = ApplicationTabGroup;
</code></pre><p>Thanks for your help Malcolm!</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 1st 2012, 3:49:58 pm">August 1st 2012</span>
											by <span class='authorname'>Jason Hardgrave</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Are you happy with your own tab array solution?  Do not forget to mark the answer as the solution (provided you think it is), it helps others in the future to know that this question has an answer they can use.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 1st 2012, 6:33:03 pm">August 1st 2012</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
