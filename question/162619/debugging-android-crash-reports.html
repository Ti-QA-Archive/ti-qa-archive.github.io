<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Debugging Android Crash Reports » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Debugging Android Crash Reports</h1>
		</header>
		<section>
			<p>Hi, I have an app that has been out for a few years.  I get mainly either 5 stars or 1 star in the app store b&#x2F;c people who have the app working love it, but for a small (but decent) percent of people the app crashes a lot.  I personally can&#39;t reproduce the crashes, even on the same devices.  I get sporadic reports of it primarily crashing during startup and others during the app (more at startup though).</p>
<p>Looking at the Android Play Store reports I have a few (6) different crash reports, the most common of which happened 40 times this week:</p>
<p>Native Crash in Unknown.Unknown</p>
<p>All I can get out of report is:</p>
<pre><code class="hljs">Build fingerprint: 'Verizon/d2vzw/d2vzw:4.3/JSS15J/I535VRUCML1:user/release-keys'
Revision: '15'
pid: 10991, tid: 11009, name: KrollRuntimeThr &gt;&gt;&gt; com.apsquared.tvfoodmaps &lt;&lt;&lt;
signal 11 (SIGSEGV), code 1 (SEGV_MAPERR), fault addr <span class="hljs-number">0000000</span>c
r<span class="hljs-number">0 00000000</span> r<span class="hljs-number">1 00000000</span> r<span class="hljs-number">2 00000082</span> r<span class="hljs-number">3 00000001</span>
r<span class="hljs-number">4 00000000</span> r<span class="hljs-number">5 5f7749</span>c4 r<span class="hljs-number">6 5f77496</span>4 r<span class="hljs-number">7 00000000</span>
r<span class="hljs-number">8 5f7749</span>c0 r<span class="hljs-number">9 5f85101</span>5 sl 5fd35b5c fp <span class="hljs-number">2e637b59</span>
ip <span class="hljs-number">00000002</span> sp <span class="hljs-number">5f7748f0</span> lr 5f84cee3 pc 5f84ccf4 cpsr <span class="hljs-number">60000030</span>
d<span class="hljs-number">0 0a00000</span><span class="hljs-number">6e3100001</span> d1 e59fc01ce<span class="hljs-number">5101001</span>
d<span class="hljs-number">2 1a00000</span><span class="hljs-number">2e151000</span>c d3 e590001fe<span class="hljs-number">5900003</span>
d<span class="hljs-number">4 36f171e127</span>c54df5 d5 41dfffffffc00000
d<span class="hljs-number">6 0000001</span>dffe00000 d<span class="hljs-number">7 0000001</span>d<span class="hljs-number">00000000</span>
d<span class="hljs-number">8 00000000</span><span class="hljs-number">00000000</span> d<span class="hljs-number">9 00000000</span><span class="hljs-number">00000000</span>
d<span class="hljs-number">10 00000000</span><span class="hljs-number">00000000</span> d<span class="hljs-number">11 00000000</span><span class="hljs-number">00000000</span>
d<span class="hljs-number">12 00000000</span><span class="hljs-number">00000000</span> d<span class="hljs-number">13 00000000</span><span class="hljs-number">00000000</span>
d<span class="hljs-number">14 00000000</span><span class="hljs-number">00000000</span> d<span class="hljs-number">15 00000000</span><span class="hljs-number">00000000</span>
d16 e59fc008e12fff1e d<span class="hljs-number">17 0c00000</span>2e12fff1c
d<span class="hljs-number">18 1a00000</span><span class="hljs-number">7e153000</span>c d19 e<span class="hljs-number">59f2024e52</span>d1004
d20 e<span class="hljs-number">3a00003e92</span>d0005 d21 e3451fc<span class="hljs-number">0e30a11c8</span>
d22 e12fff1ce59fc014 d23 e12fff1ce59fc010
d<span class="hljs-number">24 40000000</span><span class="hljs-number">00000000</span> d<span class="hljs-number">25 547d42</span>aea2879f2e
d26 3fe62e42fefa39ef d<span class="hljs-number">27 40240000</span><span class="hljs-number">00000000</span>
d28 fffffffffffffffe d29 fffffffffffffffe
d<span class="hljs-number">30 40180000</span><span class="hljs-number">00000000</span> d<span class="hljs-number">31 4156e36</span><span class="hljs-number">000000000</span>
scr <span class="hljs-number">20000011</span>

backtrace:
#00 pc 00076cf4 /data/app-lib/com.apsquared.tvfoodmaps-1/libkroll-v8.so (titanium<span class="hljs-number">::E</span>ventEmitter<span class="hljs-number">::</span>~EventEmitter()+71)
#01 pc 00076edf /data/app-lib/com.apsquared.tvfoodmaps-1/libkroll-v8.so (titanium<span class="hljs-number">::</span>JavaObject<span class="hljs-number">::</span>getJavaObject()+58)
#02 pc 0007b06b /data/app-lib/com.apsquared.tvfoodmaps-1/libkroll-v8.so (titanium<span class="hljs-number">::</span>Proxy<span class="hljs-number">::</span>hasListenersForEventType(v<span class="hljs-number">8::A</span>rguments const&amp;)+86)
#03 pc <span class="hljs-number">00169634</span> /data/app-lib/com.apsquared.tvfoodmaps-1/libkroll-v8.so
#04 pc <span class="hljs-number">00037b57</span> &lt;unknown&gt;
</code></pre><p>There are other crash reports but they happen much less frequently.</p>
<p>My question(s):</p>
<p>a) What can I do to gather more useful crash information?<br>b) Does the report above mean anything to you?<br>c) Any tips?</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="February 14th 2014, 2:48:11 pm">February 14th 2014</span>
				by <span class='authorname'>Frank A</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>crash</span></li>
					
				</ul>
			

			<section>
				<h5>3 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Oh one other thing, this report seems MOSTLY to affect Samsung Galaxy phones, even though both my brother and I also have Galaxy&#39;s and can&#39;t reproduce.</p>
</div>
							<div class="author">
								&mdash; commented <span title="February 14th 2014, 2:48:44 pm">February 14th 2014</span>
								by <span class='authorname'>Frank A</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>I&#39;m experience the exact same crash on SDK 3.2.1 various models and Android versions.</p>
</div>
							<div class="author">
								&mdash; commented <span title="March 13th 2014, 7:11:59 am">March 13th 2014</span>
								by <span class='authorname'>David Benko</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Since you cant reproduce, very difficult to trouble shoot.  My first question would be, how many events do you have in your app? How are they being created? are they bound to objects, or are they app level events?</p>
</div>
							<div class="author">
								&mdash; commented <span title="March 14th 2014, 4:14:05 am">March 14th 2014</span>
								by <span class='authorname'>Stephen Feather</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>1</span> Vote</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-276503">
				
						<section>
							<p>Take a look at <a href="https:&#x2F;&#x2F;jira.appcelerator.org&#x2F;browse&#x2F;TIMOB-13664">https:&#x2F;&#x2F;jira.appcelerator.org&#x2F;browse&#x2F;TIMOB-13664</a> and <a href="https:&#x2F;&#x2F;jira.appcelerator.org&#x2F;browse&#x2F;TIMOB-14393">https:&#x2F;&#x2F;jira.appcelerator.org&#x2F;browse&#x2F;TIMOB-14393</a> note the comments regarding scoping and garbage collection.</p>
<p>In your case, with a problem only in the wild, and not in house, will be hard to figure out which references are getting weak.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="March 14th 2014, 4:22:52 am">March 14th 2014</span>
								by <span class='authorname'>Stephen Feather</span><br>
								<a class="icon-bg icon-link" href="question/162619/debugging-android-crash-reports.html#answer-276503" rel="permalink">permalink</a>
							</div>

							<h5>5 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>I use lots of events, both app level and those bound to objects.  I also seem to follow the pattern that the bugs are mentioning where I have variables defined outside the listener and I refer to them inside - one example</p>
<pre><code class="hljs">    <span class="hljs-keyword">var</span> storekit = <span class="hljs-built_in">require</span>(<span class="hljs-string">'/util/storeutil'</span>);
        Ti.App.addEventListener(<span class="hljs-string">"tvf:buypremium"</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)</span>{
            Ti.API.info(<span class="hljs-string">'Inside buypremium event'</span>);
            storekit.buyPremium(dashObj);
            analytics.addEvent(<span class="hljs-string">"In-App"</span>,<span class="hljs-string">"BuyPremium"</span>,Titanium.Platform.osname,<span class="hljs-number">0</span>);
        });
        Ti.App.addEventListener(<span class="hljs-string">"tvf:restorepremium"</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)</span>{
            Ti.API.info(<span class="hljs-string">'Inside restore premium event'</span>);
            storekit.restorePremium(dashObj);
            analytics.addEvent(<span class="hljs-string">"In-App"</span>,<span class="hljs-string">"Restore"</span>,Titanium.Platform.osname,<span class="hljs-number">0</span>);
        });
</code></pre><p>From what I understand storekit can get cleaned up by GC - correct?  What is the proper solution?  In this case I can move the references inside the event, but in general what is the better design?</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 25th 2014, 6:37:53 pm">March 25th 2014</span>
											by <span class='authorname'>Frank A</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>This ticket&#39;s been gnawing at the back of my mind since it first came up.  Because it can&#39;t be reproduced under control, I am only guessing that the problem is due to weak references in app level events.  However, that seems to be the, dare I say, &#39;best&#39; guess, and I&#39;m only about 75% confident its the right direction.</p>
<p>Just starting some brain storming here, nothing solid…</p>
<ol>
<li><p>whats the &#39;distance&#39; from where you fire the event to where its being listened for? ie: how difficult would it be to replace the events with callbacks?</p>
</li>
<li><p>not sure if paying for a month of bugsense, crittercism would be worth it, as they sometimes only return the level of info you have above.</p>
</li>
<li><p>If the user sees the crashes, might be possible to write your own log andler and dump the last x number of log entries to a database (like matt does in chariti) to gather more information. would require communicating to users you have a bug, which isn&#39;t always a safe approach, users are so finicky.</p>
</li>
</ol>
</p>
										<div class="author">
											&mdash; commented <span title="April 14th 2014, 11:17:59 pm">April 14th 2014</span>
											by <span class='authorname'>Stephen Feather</span>
										</div>
									</li>
								
									<li class="comment">
										<p><pre><code class="hljs">Oh one other thing, this <span class="hljs-keyword">report</span> seems MOSTLY <span class="hljs-keyword">to</span> affect Samsung Galaxy phones, even though both my brother <span class="hljs-keyword">and</span> I also have Galaxy<span class="hljs-attribute">'s</span> <span class="hljs-keyword">and</span> can<span class="hljs-attribute">'t</span> reproduce.
</code></pre><p>Do you have specific model numbers? Or even Android API levels on those devices?  </p>
<p>I have a couple of S4s, an S3, and a GalaxyS here (all verizon though, so limits testing against carrier specific issues)</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 14th 2014, 11:21:11 pm">April 14th 2014</span>
											by <span class='authorname'>Stephen Feather</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>It&#39;s spread across multiple Samsung devices and carriers, most popular is:<br>Galaxy S4 (jfltevzw)</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 16th 2014, 1:33:03 pm">April 16th 2014</span>
											by <span class='authorname'>Frank A</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>To your previous comments, callbacks won&#39;t work in all cases as the events are used by other modules that don&#39;t all have the necessary references.  </p>
<p>Is the code I pasted above fundamentally incorrect?  E.g. referencing vars from outside the event handler inside the event?</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 16th 2014, 1:35:13 pm">April 16th 2014</span>
											by <span class='authorname'>Frank A</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-276972">
				
						<section>
							<p>Frank,</p>
<p>I have been having the same issue, and I was wondering if you where able to find any workarounds or answers to this issue.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="March 25th 2014, 12:44:54 pm">March 25th 2014</span>
								by <span class='authorname'>Sasa Savic</span><br>
								<a class="icon-bg icon-link" href="question/162619/debugging-android-crash-reports.html#answer-276972" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
