<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>IMAGE.write PNG Losing Transparency Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>IMAGE.write PNG Losing Transparency</h1>
		</header>
		<section>
			<p>Hello, I am Running: IPad 4.2 Sdk, Titanium Developer 1.2.2 and Titanium SDK 1.5.1.</p>
<p>I am using the following snippet to get an image from the ipad photo gallery and copy it to the resources folder.  The only issue is that png images lose their transparency.  Is there a setting I am missing?</p>
<p>Titanium.Media.openPhotoGallery(<br>{<br>   success:function(event)<br>   {</p>
<pre><code class="hljs">  <span class="hljs-keyword">var</span> image = <span class="hljs-keyword">event</span>.media;
  <span class="hljs-keyword">var</span> img_name= <span class="hljs-keyword">new</span> Date().getTime()+<span class="hljs-string">'_img.png'</span>;
  <span class="hljs-keyword">var</span> uploadFile= Titanium.Filesystem.getFile(Titanium.Filesystem.resourcesDirectory,img_name);

  uploadFile.<span class="hljs-keyword">write</span>(image);
</code></pre><p>   },<br>});</p>
<p>thanks, Nick</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="February 25th 2011, 2:08:45 pm">February 25th 2011</span>
				by <span class='authorname'>Nicholas Vick</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>copying</span></li>
					
						<li><span class='tagname'>file.write</span></li>
					
						<li><span class='tagname'>images</span></li>
					
						<li><span class='tagname'>ipad</span></li>
					
						<li><span class='tagname'>mobile</span></li>
					
						<li><span class='tagname'>png</span></li>
					
						<li><span class='tagname'>transparency</span></li>
					
				</ul>
			

			<section>
				<h5>5 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Hi Nicholas,</p>
<p>Any Luck with saving your image with transparency?</p>
<p>Thanks</p>
<p>asghar</p>
</div>
							<div class="author">
								&mdash; commented <span title="August 8th 2011, 6:42:00 pm">August 8th 2011</span>
								by <span class='authorname'>asghar ali</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Afraid not,  I had to change my apps layout and colors to address this issue.</p>
</div>
							<div class="author">
								&mdash; commented <span title="August 9th 2011, 12:33:32 pm">August 9th 2011</span>
								by <span class='authorname'>Nicholas Vick</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>I am seeing the same issue. This makes image caching useless for my app. Is there a JIRA logged for this issue? Anyone has any workarounds?</p>
</div>
							<div class="author">
								&mdash; commented <span title="September 2nd 2011, 6:33:45 pm">September 2nd 2011</span>
								by <span class='authorname'>Amol Kelkar</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Looked through Titanium sources - in TiBlob.m, jpeg type image is assumed and when getting binary data out UIImageJPEGRepresentation is used. As JPEG has no transparency support, all transparency is lost.</p>
</div>
							<div class="author">
								&mdash; commented <span title="September 2nd 2011, 7:09:19 pm">September 2nd 2011</span>
								by <span class='authorname'>Amol Kelkar</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>What a shame, I am also struggling with the transparent issue for saving PNG and realise now that it is not possible.</p>
</div>
							<div class="author">
								&mdash; commented <span title="November 21st 2011, 11:41:05 pm">November 21st 2011</span>
								by <span class='authorname'>Peter Lum</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>2</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-246560">
				
						<section>
							<p>How do we get this fixed? Is there a way to copy an image from the gallery so it retains its original png format ?</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="September 3rd 2012, 1:22:04 am">September 3rd 2012</span>
								by <span class='authorname'>Brian Holmes</span><br>
								<a class="icon-bg icon-link" href="question/116401/imagewrite-png-losing-transparency.html#answer-246560" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>sorry. meant to post this as a comment.</p>
</p>
										<div class="author">
											&mdash; commented <span title="September 3rd 2012, 2:13:38 am">September 3rd 2012</span>
											by <span class='authorname'>Brian Holmes</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
