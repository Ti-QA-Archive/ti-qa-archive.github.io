<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Background Music for android app Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Background Music for android app</h1>
		</header>
		<section>
			<p>Hi, I wan to play some background song and came across few problems.<br>Here is what I have in my app.js </p>
<pre><code class="hljs">     <span class="hljs-keyword">var</span> audioPlayer = Ti.Media.createAudioPlayer({ 
        url: <span class="hljs-string">'backgroundmusic.mp3'</span>
        <span class="hljs-comment">//allowBackground: false</span>
    });
</code></pre><p>and I fire it like below</p>
<pre><code class="hljs">    win.addEventListener(<span class="hljs-string">'open'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span> </span>{  
        audioPlayer.start();        
    });
</code></pre><p>and from there I navigate through different pages like below..  </p>
<pre><code class="hljs">Something.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
    <span class="hljs-keyword">var</span> loginwin,loginInc;
        loginInc = <span class="hljs-built_in">require</span>(<span class="hljs-string">'loggedin'</span>);
        loginwin = <span class="hljs-keyword">new</span> loginInc.Login(currentuserid);
        loginwin.open();
    });
</code></pre><p>Now here is two problems im facing..<br>one is I want to make sure the song plays on on repeat<br>second is when I press back button or close button on android device and close the app, the music continues to play.</p>
<p>Could someone be able to tell me who to keep on the background audio on repeat while my app is running and how to turn it off when the user quits out from the app (not just from app.js page but from any page in the app)</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="October 28th 2014, 9:07:11 am">October 28th 2014</span>
				by <span class='authorname'>edward Kim</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>audio</span></li>
					
						<li><span class='tagname'>background audio</span></li>
					
				</ul>
			

			<section>
				<h5>1 Comment</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Hello edward Kim,</p>
<p>You can use &quot;complete&quot; event for repeat your song. For an example.<br>Suppose you have an audio player named audioPlayer then</p>
<pre><code class="hljs">audioPlayer.addEventListener(<span class="hljs-string">'complete'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span> </span>{
    audioPlayer.start();
});
</code></pre><p>And   for background playing you can use <a href="http:&#x2F;&#x2F;docs.appcelerator.com&#x2F;titanium&#x2F;latest&#x2F;#!&#x2F;api&#x2F;Titanium.Media.AudioPlayer-property-allowBackground">allowBackground</a> properties such as </p>
<pre><code class="hljs">var audioPlayer = Ti.Media.createAudioPlayer({
    <span class="hljs-string">url :</span> <span class="hljs-string">'tum.mp3'</span>,
    <span class="hljs-string">allowBackground :</span> <span class="hljs-literal">true</span>,

});
</code></pre><p>If allowBackground does not work you can use <a href="http:&#x2F;&#x2F;docs.appcelerator.com&#x2F;titanium&#x2F;latest&#x2F;#!&#x2F;api&#x2F;Titanium.Android.Service">background service</a>.</p>
<p>If you have any concern about this question then feel free to ask me.</p>
<p>Thanks.</p>
</div>
							<div class="author">
								&mdash; commented <span title="October 29th 2014, 3:06:19 am">October 29th 2014</span>
								by <span class='authorname'>Motiur Rahman</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-283454">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>Hello edward Kim,</p>
<p>You can use complete event for repeat your song. For an example.<br>Suppose you have an audio player named audioPlayer then</p>
<pre><code class="hljs">audioPlayer.addEventListener(<span class="hljs-string">'complete'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span> </span>{
    audioPlayer.start();
});
</code></pre><p>And   for background playing you can use <a href="http:&#x2F;&#x2F;docs.appcelerator.com&#x2F;titanium&#x2F;latest&#x2F;#!&#x2F;api&#x2F;Titanium.Media.AudioPlayer-property-allowBackground">allowBackground</a> properties such as </p>
<pre><code class="hljs">var audioPlayer = Ti.Media.createAudioPlayer({
    <span class="hljs-string">url :</span> <span class="hljs-string">'tum.mp3'</span>,
    <span class="hljs-string">allowBackground :</span> <span class="hljs-literal">true</span>,

});
</code></pre><p>If allowBackground does not solve your problem then, you can use <a href="http:&#x2F;&#x2F;docs.appcelerator.com&#x2F;titanium&#x2F;latest&#x2F;#!&#x2F;api&#x2F;Titanium.Android.Service">background service</a>.</p>
<p>If you have any concern about this question then let me know.</p>
<p>Thanks.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="October 29th 2014, 3:15:48 am">October 29th 2014</span>
								by <span class='authorname'>Motiur Rahman</span><br>
								<a class="icon-bg icon-link" href="../../question/178732/background-music-for-android-app.html#answer-283454" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
