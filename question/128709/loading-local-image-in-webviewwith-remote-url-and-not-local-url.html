<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Loading local image in webview(with remote URL and NOT local url) » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Loading local image in webview(with remote URL and NOT local url)</h1>
		</header>
		<section>
			<p>Hi all,</p>
<p>How can I add local images from my Resources folder into my webview which is the remote URL and not the html file from local folder?</p>
<p>I have added event listener, but it works fine if I inlcude html file to my webview from my local folder but if I change my webview to use Remote URL then it doesn&#39;t work.</p>
<p>Can someone help please?</p>
<p>Thanks<br>Vishal</p>
<pre><code class="hljs">
<span class="hljs-doctype">&lt;!DOCTYPE html&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">html</span> <span class="hljs-attribute">manifest</span>=<span class="hljs-value">"cache.manifest"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">head</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">meta</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"viewport"</span> <span class="hljs-attribute">content</span>=<span class="hljs-value">"width=320, initial-scale=1, maximum-scale=1"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">link</span> <span class="hljs-attribute">rel</span>=<span class="hljs-value">"stylesheet"</span> <span class="hljs-attribute">href</span>=<span class="hljs-value">"/css/main.css"</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">head</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">body</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"wrapper"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"img"</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-title">img</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"profileimage"</span> <span class="hljs-attribute">src</span>=<span class="hljs-value">""</span> <span class="hljs-attribute">width</span>=<span class="hljs-value">"108"</span> <span class="hljs-attribute">height</span>=<span class="hljs-value">"108"</span> /&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"text"</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-title">h1</span>&gt;</span>Heading<span class="hljs-tag">&lt;/<span class="hljs-title">h1</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"snippet"</span>&gt;</span>
                        Text goes here
                    <span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">script</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"text/javascript"</span>&gt;</span><span class="javascript">
            Ti.App.addEventListener(<span class="hljs-string">"pageReady"</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)
            </span>{
                <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">"profileimage"</span>).src=e.localimage;
            });
         </span><span class="hljs-tag">&lt;/<span class="hljs-title">script</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">html</span>&gt;</span>
</code></pre>
		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="November 25th 2011, 10:46:23 am">November 25th 2011</span>
				by <span class='authorname'>Vishal Shah</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>api</span></li>
					
						<li><span class='tagname'>eventlistener</span></li>
					
						<li><span class='tagname'>images</span></li>
					
						<li><span class='tagname'>url</span></li>
					
						<li><span class='tagname'>webview</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>4</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>4 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-224268">
				
						<section>
							<p>try adding the js code to the web page after the remote page is loaded and see if  that makes a difference</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="November 25th 2011, 2:55:19 pm">November 25th 2011</span>
								by <span class='authorname'>Aaron Saunders</span><br>
								<a class="icon-bg icon-link" href="../../question/128709/loading-local-image-in-webviewwith-remote-url-and-not-local-url.html#answer-224268" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-224283">
				
						<section>
							<p>Hi Aaron </p>
<p>I tried that but it doesn&#39;t work.</p>
<p>fireEvent from my app.js file does not fire the event or may be the event handler (listener) in my remote url does not handle that as i can&#39;t see event firing.</p>
<p>Is it possible to fireevent to remote url?</p>
<p>Thanks<br>Vishal</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="November 25th 2011, 11:30:10 pm">November 25th 2011</span>
								by <span class='authorname'>Vishal Shah</span><br>
								<a class="icon-bg icon-link" href="../../question/128709/loading-local-image-in-webviewwith-remote-url-and-not-local-url.html#answer-224283" rel="permalink">permalink</a>
							</div>

							<h5>2 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>You best off by adding the event listener on the Titanium side, and use evalJS to fire a method in your remote webpage</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 25th 2011, 11:57:55 pm">November 25th 2011</span>
											by <span class='authorname'>Matt Apperson</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>*your best off…</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 25th 2011, 11:59:59 pm">November 25th 2011</span>
											by <span class='authorname'>Matt Apperson</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-224284">
				
						<section>
							<p>Hi Vishal</p>
<p>What you can do is when you get the source of the html convert it to string and search for the image tag and change the source of the image with the path starting with app:&#x2F;&#x2F; </p>
<p>you can get that from this </p>
<p><code>f = Ti.Filesystem.getFile(Ti.Filesystem.applicationDataDirectory,&amp;#39;20111101&amp;#x2F;media&amp;#x2F;demo.jpg&amp;#39;);</code></p>
<p>see this will give you path with file:&#x2F;&#x2F; so replace that with app:&#x2F;&#x2F; </p>
<p>And then replace this path in your html string where the img tag available. </p>
<p>I hope you able to get the answer from this.</p>
<p>Regards</p>
<p>Nikunj</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="November 26th 2011, 1:39:47 am">November 26th 2011</span>
								by <span class='authorname'>Nikunj Sakhrelia</span><br>
								<a class="icon-bg icon-link" href="../../question/128709/loading-local-image-in-webviewwith-remote-url-and-not-local-url.html#answer-224284" rel="permalink">permalink</a>
							</div>

							<h5>4 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>hey Vishal</p>
<p>You got the solution on this question?</p>
<p>Regards</p>
<p>Nikunj</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 7th 2011, 4:06:31 am">December 7th 2011</span>
											by <span class='authorname'>Nikunj Sakhrelia</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Hi Nikunj,</p>
<p>Sorry for the delay in my reply. The code you provided wasn&#39;t working for me. I got round to it by adding <code>app:&amp;#x2F;&amp;#x2F;images&amp;#x2F;profile.gif</code> in my html and it worked!</p>
<p>Thanks for your help with this.</p>
<p>Vishal</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 15th 2011, 10:20:53 am">December 15th 2011</span>
											by <span class='authorname'>Vishal Shah</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>hi vishal </p>
<p>i have suggested you the same answer check the line below the code and see what i say. replace the path with app:&#x2F;&#x2F; and it will work.</p>
<p>Any way you got the solution that is main. </p>
<p>if this help you in anyway then mark it solve.</p>
<p>Regards</p>
<p>Nikunj</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 15th 2011, 10:26:32 am">December 15th 2011</span>
											by <span class='authorname'>Nikunj Sakhrelia</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>May be I was doing something wrong at that time but this <code>f = Ti.Filesystem.getFile(Ti.Filesystem.applicationDataDirectory,&amp;#39;20111101&amp;#x2F;media&amp;#x2F;demo.jpg&amp;#39;);</code> wasn&#39;t working for me at that time.<br>thanks :)</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 15th 2011, 10:29:07 am">December 15th 2011</span>
											by <span class='authorname'>Vishal Shah</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-225495">
				
						<section>
							<p>Thanks all of you who answered this question. Unfortunately getFile didn&#39;t work for me in webview but I tried adding this <code>app:&amp;#x2F;&amp;#x2F;images&amp;#x2F;profile.gif</code> in my html tag <del>~<code>&amp;lt;img src=&amp;quot;app:&amp;#x2F;&amp;#x2F;images&amp;#x2F;profile.gif&amp;quot; &amp;#x2F;&amp;gt;</code></del>~ and it worked for me in Simulator and Device too.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="December 15th 2011, 10:25:17 am">December 15th 2011</span>
								by <span class='authorname'>Vishal Shah</span><br>
								<a class="icon-bg icon-link" href="../../question/128709/loading-local-image-in-webviewwith-remote-url-and-not-local-url.html#answer-225495" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Haven&#39;t tried this on Android though!! Let me know if someone tries and of it works!?</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 15th 2011, 10:26:06 am">December 15th 2011</span>
											by <span class='authorname'>Vishal Shah</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
