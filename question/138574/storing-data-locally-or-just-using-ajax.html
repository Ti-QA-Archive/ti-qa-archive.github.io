<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Storing data locally or just using ajax? » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Storing data locally or just using ajax?</h1>
		</header>
		<section>
			<p>Hey guys,</p>
<p>So I just posted this question on stack overflow because I think it relates to more than just Titanium, but it would be interesting to hear as many opinions on it as possible so I wanted to post it here as well.</p>
<hr>
<p>Currently I&#39;m building a few mobile apps (currently on iOS but later on Android)that retrieve information via ajax calls (returning JSON) from a Ruby on Rails application. This obviously applies to other applications as well that are using another source to return the JSON data.</p>
<p>The main question is WHEN to store the data and when to just use ajax calls to retrieve it. Currently, my apps do not store a single thing locally and instead require ajax calls for all data. I think for this example we can use the Twitter mobile app, which is one a lot of people are familiar with and has a lot of functionality that I&#39;m wondering how they do it (more logically than technically).</p>
<p>Questions:</p>
<p>1) When you log in the first thing you see is a list of all of the items in your stream. That list is available offline. Does that mean that when you originally signed in, Twitter already went and pulled all of your last X (100?) stream items into a local database and then future views just pull it from there?</p>
<p>2) If you then put your phone on airplane mode (or just shut off mobile data) and click one of those tweets, it opens up the tweet page with all of that data. So now, it looks like they aren&#39;t pulling that information in via individually each time you visit a tweet page (which is what my app currently does and takes some time to load that data in and create the views). Does it make sense that they are probably just using the same information that they pulled in when creating your stream items?</p>
<p>3) Users. Is it better practice to (when viewing a users &quot;profile&quot; page for example) store a users data locally and then refresh on future visits, or just do pull in all of the data via ajax each time? In theory each requires an ajax call…</p>
<p>I think those are my main questions for now. If anyone has any thoughts on any of those things (or any other insights into mobile storage) that would be great! If anyone needs screenshots of anything I referenced please let me know and I&#39;d be happy to get those for you.</p>
<p>Currently using:</p>
<p>Titanium Appcelerator for iOS</p>
<p>Ruby on Rails for Backend and remote storage</p>
<p>http:&#x2F;&#x2F;stackoverflow.com&#x2F;questions&#x2F;11113165&#x2F;storing-data-locally-or-just-using-ajax-on-mobile-devices</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="June 20th 2012, 3:14:19 am">June 20th 2012</span>
				by <span class='authorname'>Michael Fogg</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>database</span></li>
					
						<li><span class='tagname'>ios</span></li>
					
						<li><span class='tagname'>local-storage</span></li>
					
						<li><span class='tagname'>mobile</span></li>
					
						<li><span class='tagname'>twitter</span></li>
					
				</ul>
			

			<section>
				<h5>2 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>refer this <a href="http:&#x2F;&#x2F;developer.appcelerator.com&#x2F;question&#x2F;134768&#x2F;best-way-to-store-large-number-of-json-objects">question</a>. Good luck…</p>
</div>
							<div class="author">
								&mdash; commented <span title="June 20th 2012, 4:03:53 am">June 20th 2012</span>
								by <span class='authorname'>nilesh kashid</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Thanks! So it seems like that question (linked above) references the fact that it would be a good idea to store that information in an array. If say, for example, we chose to pull in (using twitter again as the example) a users first 100 tweets in the first pull, it seems like that question suggests that we store all of that information in a JSON array and then pull from that later. That would make sense, but is there a performance benefit to doing that vs storing the data in a local SQL database? If we store in the database you would be able to do lookups based on a tweets ID, vs. it seems like (and please correct me if I&#39;m wrong) storing the JSON array would limit our ability to use that data in the future to mainly lookups based on the items index in that group (ie. something like tweets[0].tweet.text).</p>
</div>
							<div class="author">
								&mdash; commented <span title="June 20th 2012, 2:42:50 pm">June 20th 2012</span>
								by <span class='authorname'>Michael Fogg</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>1</span> Vote</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-241438">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>Generally you have an issue: Ajax data-per-request vs. # of requests, so reducing on of them or both increases the Response time of your app. To achieve this you need to Cache the data. i.e. the profile:</p>
<p>once viewed you Cache the data, on next view you just compare <code>last_update</code> or similar, yes it requires a Ajax call but now the User does not recognize  any loading indicators. There is a profile and everything is fine. If the device has no Internet you can out them in a Queue.</p>
<p>This is a lot of more work but if you want Bug Things successful… Keep in Mund that it also reduces your Server load.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="June 20th 2012, 4:57:30 am">June 20th 2012</span>
								by <span class='authorname'>Alexander Bauer</span><br>
								<a class="icon-bg icon-link" href="question/138574/storing-data-locally-or-just-using-ajax.html#answer-241438" rel="permalink">permalink</a>
							</div>

							<h5>3 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>I hate this spelling correction on smartphones…</p>
</p>
										<div class="author">
											&mdash; commented <span title="June 20th 2012, 4:58:27 am">June 20th 2012</span>
											by <span class='authorname'>Alexander Bauer</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Server load is something that we are trying to be very aware of, so thanks for bringing that up as well. So when you say &quot;Cache the data&quot; do you mean actually cache it in the phones memory, or store it in something like an SQL database? In the example I used above (posted after you&#39;re response) I mentioned pulling in the first 100 tweets that a user had when they first log in (when we first populate their &quot;stream&quot; or whatever twitter calls it). </p>
<p>Say I then store each of those in the database as an individual record in a table called &quot;tweets&quot;. Now when I click on one, my &quot;tweet&quot; page would check the database for a record with that tweet id, if it finds one, pull in that data first and THEN send the ajax request (the user would already see the data so they wouldn&#39;t really notice it. If there is no tweet with that ID, then go and fetch the remote data? I&#39;m not sure if the second scenerio would ever be possible as if they could click on it in the stream… we&#39;d already have stored that tweets data.</p>
<p>Is that kind of what you mean?</p>
</p>
										<div class="author">
											&mdash; commented <span title="June 20th 2012, 2:48:37 pm">June 20th 2012</span>
											by <span class='authorname'>Michael Fogg</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Yes, I mean storing it in a database. As you described the User would see the last tweets while the app Checks for New Posts in the background showing small loading Animation somewhere so User can see that there happens something.</p>
</p>
										<div class="author">
											&mdash; commented <span title="June 21st 2012, 4:58:21 am">June 21st 2012</span>
											by <span class='authorname'>Alexander Bauer</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
