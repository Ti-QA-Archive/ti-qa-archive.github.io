<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Change app properties by production vs. development » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Change app properties by production vs. development</h1>
		</header>
		<section>
			<p>I have an application that basically gets data from a server.  We&#39;re working on the server code and the app code hand-in-hand.  So, when we do a production release of the mobile app, we want it to point at production code…while we&#39;re still in development, we want to point at our API&#39;s in development.  </p>
<p>Right now, before we release the app to Apple, i have to manually change some code to have the app point at the right URL (the production APIs).</p>
<p>This seems error-prone…is there some way to automatically switch this based on the app being production or still in development?  </p>
<p>Thanks!</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="January 27th 2012, 6:13:21 pm">January 27th 2012</span>
				by <span class='authorname'>kasey mccurdy</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>development</span></li>
					
						<li><span class='tagname'>environments</span></li>
					
				</ul>
			

			<section>
				<h5>3 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>I use something like this in a config file and include it as a commonjs module:</p>
<p>config.js:</p>
<pre><code class="hljs"><span class="hljs-list">(<span class="hljs-keyword">function</span><span class="hljs-list">()</span> <span class="hljs-collection">{
    config = <span class="hljs-collection">{
        server: 'http://domain.com',
        development: <span class="hljs-literal">false</span>,
        other: 'etc'
    }</span><span class="hljs-comment">;</span>

    exports = config;
}</span>)</span><span class="hljs-list">()</span><span class="hljs-comment">;</span>
</code></pre><p>In app.js (or wherever):</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> config = <span class="hljs-built_in">require</span>(<span class="hljs-string">'/config'</span>);

<span class="hljs-keyword">var</span> url = config.server+<span class="hljs-string">'/myawesomecontent/'</span>;
</code></pre><p>You can call these values in your app and then you only have to change them once, or you could set it to be in development or not and using that call specific servers, etc…</p>
</div>
							<div class="author">
								&mdash; commented <span title="January 27th 2012, 6:33:14 pm">January 27th 2012</span>
								by <span class='authorname'>Matthew Hewes</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Even with this approach, before i packaged up for the App store for production, id still have to manually change it, right? Just curious if theres a way to say &quot;hey, im building for the appstore with my production certificate…so, point at the production servers&quot;…</p>
</div>
							<div class="author">
								&mdash; commented <span title="January 27th 2012, 6:48:24 pm">January 27th 2012</span>
								by <span class='authorname'>kasey mccurdy</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>True, you&#39;d have to make the one change… I&#39;m not aware of a way to do this but the guys from Appcelerator might… It would have to be a python script or something else that Titanium does during the build process…</p>
</div>
							<div class="author">
								&mdash; commented <span title="January 27th 2012, 7:07:04 pm">January 27th 2012</span>
								by <span class='authorname'>Matthew Hewes</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>4</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>4 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-242321">
				
						<section>
							<p>You could use <a href="http:&#x2F;&#x2F;docs.appcelerator.com&#x2F;titanium&#x2F;2.1&#x2F;#!&#x2F;api&#x2F;Titanium.App-property-deployType">Ti.App.deployType</a> to switch between development and production automatically</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="July 2nd 2012, 9:24:10 am">July 2nd 2012</span>
								by <span class='authorname'>Timan Rebel</span><br>
								<a class="icon-bg icon-link" href="question/131282/change-app-properties-by-production-vs-development#answer-242321" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>3</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-228778">
				
						<section>
							<p>You could try this:</p>
<p>Open tiapp.xml, switch to the XML view, and add this node:</p>
<pre><code class="hljs">&lt;<span class="hljs-keyword">property</span> <span class="hljs-property">name</span>=<span class="hljs-string">"production"</span> type=<span class="hljs-string">"string"</span>&gt;<span class="hljs-constant">false</span>&lt;/<span class="hljs-keyword">property</span>&gt;
</code></pre><p>In your app, use this JS:</p>
<pre><code class="hljs"><span class="hljs-keyword">if</span>(<span class="hljs-type">Ti</span>.<span class="hljs-type">App</span>.<span class="hljs-type">Properties</span>.getString(<span class="hljs-symbol">'productio</span>n')==<span class="hljs-symbol">'tru</span>e') {
    <span class="hljs-keyword">var</span> server = <span class="hljs-symbol">'http</span>:<span class="hljs-comment">//example.com/';</span>
} <span class="hljs-keyword">else</span> {
    <span class="hljs-keyword">var</span> server = <span class="hljs-symbol">'http</span>:<span class="hljs-comment">//localhost/';</span>
}
<span class="hljs-comment">// or</span>
<span class="hljs-keyword">var</span> <span class="hljs-keyword">val</span> = (<span class="hljs-type">Ti</span>.<span class="hljs-type">App</span>.<span class="hljs-type">Properties</span>.getString(<span class="hljs-symbol">'productio</span>n')==<span class="hljs-symbol">'tru</span>e') ? <span class="hljs-symbol">'fo</span>o' : <span class="hljs-symbol">'ba</span>r';
</code></pre><p>In theory, you should be able to use a type=&#39;bool&#39; XML property and do a Ti.App.Properties.getBool() but Android seems to not like that. At least the logs say it&#39;s still viewing the property as a string.</p>
<p>Anyway, when it&#39;s time to go live, update the tiapp.xml then do your packaging.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="January 27th 2012, 6:52:02 pm">January 27th 2012</span>
								by <span class='authorname'>Theo LeSieg</span><br>
								<a class="icon-bg icon-link" href="question/131282/change-app-properties-by-production-vs-development#answer-228778" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>2</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-228773">
				
						<section>
							<p>I have the same need and although my solution is not the most elegant, it works great. In my app.js I populate a few local variables with the URLs of my web service (one for Dev and one for Prod), and then use one or the other in a setConfig, depending on which environment I want to run against.  Then, before each web service call (and I have about 20) I do a getConfig and use that URL value in the web service call.</p>
<p>I fully realize that there are much better ways of getting the global variable effect …</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="January 27th 2012, 6:30:53 pm">January 27th 2012</span>
								by <span class='authorname'>Software Services</span><br>
								<a class="icon-bg icon-link" href="question/131282/change-app-properties-by-production-vs-development#answer-228773" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-228775">
				
						<section>
							<p>You could create a file or and object that has both production and development urls, and just have a stament to switch between the 2. Or 2 files or object identical and comment out the one that you are not going to use at the moment</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="January 27th 2012, 6:34:48 pm">January 27th 2012</span>
								by <span class='authorname'>Arian Caraballo</span><br>
								<a class="icon-bg icon-link" href="question/131282/change-app-properties-by-production-vs-development#answer-228775" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
