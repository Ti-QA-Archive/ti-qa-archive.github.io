<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Playing remote video outputs a _itemFailedToPlayToEnd » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Playing remote video outputs a _itemFailedToPlayToEnd</h1>
		</header>
		<section>
			<p>im having issues with playing a video in titanium (sdks 3.5.0) in an iOS app.</p>
<p>i have this code </p>
<pre><code class="hljs">function playRemote(e){
    console.log(<span class="hljs-string">"e.playbackstate inside PlayRemote: "</span> + e.loadState);
    <span class="hljs-keyword">var</span> contentURL = 'http://movies.apple.com/media/us/ipad/<span class="hljs-number">2010</span>/tours/apple-ipad-video-us-<span class="hljs-number">20100127_</span>r848-<span class="hljs-number">9</span>cie.mov';
    <span class="hljs-keyword">if</span> (!<span class="hljs-type">OS_IOS</span>) {
        contentURL = <span class="hljs-string">"http://dts.podtrac.com/redirect.mp4/twit.cachefly.net/video/aaa/aaa0033/aaa0033_h264b_640x368_256.mp4"</span>;
    }
//    $.moviePlayer.url = contentURL; // tried it <span class="hljs-keyword">as</span> well, same <span class="hljs-literal">result</span>
    $.moviePlayer.setMedia(contentURL);
    $.moviePlayer.play();

}
</code></pre><p>and it works with the URL&#x2F;video. the console log shows</p>
<pre><code class="hljs">
<span class="hljs-attr_selector">[INFO]</span> :   <span class="hljs-tag">Mar</span>  6 13<span class="hljs-pseudo">:12</span><span class="hljs-pseudo">:14</span> <span class="hljs-tag">MacMinis-Mac-mini</span><span class="hljs-class">.local</span> <span class="hljs-tag">rtcreporting</span><span class="hljs-attr_selector">[45656]</span> &lt;<span class="hljs-tag">Info</span>&gt;: <span class="hljs-tag">logging</span> <span class="hljs-tag">starts</span>...
<span class="hljs-attr_selector">[INFO]</span> :   <span class="hljs-tag">Mar</span>  6 13<span class="hljs-pseudo">:12</span><span class="hljs-pseudo">:14</span> <span class="hljs-tag">MacMinis-Mac-mini</span><span class="hljs-class">.local</span> <span class="hljs-tag">rtcreporting</span><span class="hljs-attr_selector">[45656]</span> &lt;<span class="hljs-tag">Debug</span>&gt;: <span class="hljs-tag">setMessageLoggingBlock</span>: <span class="hljs-tag">called</span>
<span class="hljs-attr_selector">[INFO]</span> :   <span class="hljs-tag">e</span><span class="hljs-class">.playbackstate</span>: 2
<span class="hljs-attr_selector">[INFO]</span> :   <span class="hljs-tag">e</span><span class="hljs-class">.playbackstate</span>: 3
</code></pre><p>however, when i upload the SAME video to another server (just uploading, no file conversion or anything), the video doesn’t start. i tried two different servers (openshift and another one managed by a hosting company), with all kinds of permissions (also 777). the url to the video is correct (i can download the video from the browser using the same url). but the video doesn’t start, in the simulator the console shows no output in titanium.</p>
<p>when testing on the device it the console shows this:</p>
<pre><code class="hljs"><span class="hljs-attr_selector">[INFO]</span> <span class="hljs-value">:   _itemFailedToPlayToEnd: {
[INFO] :       kind = <span class="hljs-number">1</span>;</span>
<span class="hljs-attr_selector">[INFO]</span> <span class="hljs-value">:       new = <span class="hljs-number">2</span>;</span>
<span class="hljs-attr_selector">[INFO]</span> <span class="hljs-value">:       old = <span class="hljs-number">0</span>;</span>
<span class="hljs-attr_selector">[INFO]</span> <span class="hljs-value">:   }</span>
</code></pre><p>any idea what the problem could be? http:&#x2F;&#x2F;developer.appcelerator.com&#x2F;question&#x2F;162268&#x2F;itemfailedtoplaytoend–kind–1-new–2-old–0- and http:&#x2F;&#x2F;developer.appcelerator.com&#x2F;question&#x2F;176591&#x2F;playing-a-youtube-video-with-videoplayer didnt help unfortunately.</p>
<p> any suggestion how to find the problem are also appreciated (e.g apple’s instruments)</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="March 6th 2015, 11:05:06 am">March 6th 2015</span>
				by <span class='authorname'>markus schneider</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>remote video</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-286311">
				
						<section>
							<p>You set the mime type for mp4 files properly on your other servers?</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="March 6th 2015, 12:49:46 pm">March 6th 2015</span>
								by <span class='authorname'>Stephen Feather</span><br>
								<a class="icon-bg icon-link" href="../../question/181262/playing-remote-video-outputs-a-itemfailedtoplaytoend.html#answer-286311" rel="permalink">permalink</a>
							</div>

							<h5>4 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><pre><code class="hljs"><span class="hljs-number">09</span>:<span class="hljs-number">51</span> $ curl -I http:<span class="hljs-comment">//movies.apple.com/media/us/ipad/2010/tours/apple-ipad-video-us-20100127_r848-9cie.mov</span>
HTTP/<span class="hljs-number">1.1</span> <span class="hljs-number">200</span> OK
Server: Apache
Last-Modified: Wed, <span class="hljs-number">27</span> Jan <span class="hljs-number">2010</span> <span class="hljs-number">03</span>:<span class="hljs-number">37</span>:<span class="hljs-number">36</span> GMT
Accept-Ranges: bytes
Content-Length: <span class="hljs-number">322</span>
Access-Control-Allow-Origin: *
Access-Control-Expose-Headers: Content-Range, Content-Length, Accept-Ranges
Access-Control-Allow-Headers: Range
Content-Type: video/quicktime
Cache-Control: max-age=<span class="hljs-number">3590</span>
Expires: Fri, <span class="hljs-number">06</span> Mar <span class="hljs-number">2015</span> <span class="hljs-number">15</span>:<span class="hljs-number">51</span>:<span class="hljs-number">38</span> GMT
Date: Fri, <span class="hljs-number">06</span> Mar <span class="hljs-number">2015</span> <span class="hljs-number">14</span>:<span class="hljs-number">51</span>:<span class="hljs-number">48</span> GMT
Connection: keep-alive
</code></pre><pre><code class="hljs"><span class="hljs-number">09</span>:<span class="hljs-number">33</span> $ curl -I http:<span class="hljs-comment">//twit.cachefly.net/video/aaa/aaa0033/aaa0033_h264b_640x368_256.mp4</span>
HTTP/<span class="hljs-number">1.1</span> <span class="hljs-number">200</span> OK
Date: Fri, <span class="hljs-number">06</span> Mar <span class="hljs-number">2015</span> <span class="hljs-number">14</span>:<span class="hljs-number">51</span>:<span class="hljs-number">09</span> GMT
Content-Type: video/mp4
Content-Length: <span class="hljs-number">187991666</span>
Connection: keep-alive
X-CFHash: <span class="hljs-string">"4cd2043725967c7374801467a433e7c2"</span>
Last-Modified: Tue, <span class="hljs-number">08</span> Nov <span class="hljs-number">2011</span> <span class="hljs-number">06</span>:<span class="hljs-number">53</span>:<span class="hljs-number">23</span> GMT
X-CF3: H
X-CF2: H
Accept-Ranges: bytes
Server: CFS <span class="hljs-number">0213</span>
X-CF1: <span class="hljs-number">11796</span>:fG.atl1:cf:cacheC.atl1-<span class="hljs-number">01</span>:P
Content-Type: video/mp4
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="March 6th 2015, 12:54:19 pm">March 6th 2015</span>
											by <span class='authorname'>Stephen Feather</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>hello Stephen!</p>
<p>Many thanks for your input. this seems to be correct, no? one difference is that here the accept ranges are set to &quot;none&quot;.</p>
<pre><code class="hljs">MacMinis-Mac-mini:~ macmini$ curl -I http:<span class="hljs-comment">//editors-testdrupal.rhcloud.com/sites/default/files/clips/apple-ipad-video-us-20100127_r848-9cie.mov</span>
HTTP/<span class="hljs-number">1.1</span> <span class="hljs-number">200</span> OK
Date: Fri, <span class="hljs-number">06</span> Mar <span class="hljs-number">2015</span> <span class="hljs-number">15</span>:<span class="hljs-number">21</span>:<span class="hljs-number">27</span> GMT
Server: Apache/<span class="hljs-number">2.2</span><span class="hljs-number">.15</span> (Red Hat)
Last-Modified: Thu, <span class="hljs-number">05</span> Mar <span class="hljs-number">2015</span> <span class="hljs-number">09</span>:<span class="hljs-number">36</span>:<span class="hljs-number">11</span> GMT
ETag: <span class="hljs-string">"1845c1-142-510874c660bd8"</span>
Accept-Ranges: none
Content-Length: <span class="hljs-number">322</span>
Cache-Control: max-age=<span class="hljs-number">1209600</span>
Expires: Fri, <span class="hljs-number">20</span> Mar <span class="hljs-number">2015</span> <span class="hljs-number">15</span>:<span class="hljs-number">21</span>:<span class="hljs-number">27</span> GMT
Content-Type: video/quicktime
</code></pre><p>mp4 (the titanium basketball movie):</p>
<pre><code class="hljs">MacMinis-Mac-mini:~ macmini$ curl -I http:<span class="hljs-comment">//editors-testdrupal.rhcloud.com/sites/default/files/clips/movie.mp4</span>
HTTP/<span class="hljs-number">1.1</span> <span class="hljs-number">200</span> OK
Date: Fri, <span class="hljs-number">06</span> Mar <span class="hljs-number">2015</span> <span class="hljs-number">15</span>:<span class="hljs-number">44</span>:<span class="hljs-number">47</span> GMT
Server: Apache/<span class="hljs-number">2.2</span><span class="hljs-number">.15</span> (Red Hat)
Last-Modified: Wed, <span class="hljs-number">04</span> Mar <span class="hljs-number">2015</span> <span class="hljs-number">11</span>:<span class="hljs-number">30</span>:<span class="hljs-number">05</span> GMT
ETag: <span class="hljs-string">"184512-26e5db-51074c5d99102"</span>
Accept-Ranges: none
Content-Length: <span class="hljs-number">2549211</span>
Cache-Control: max-age=<span class="hljs-number">1209600</span>
Expires: Fri, <span class="hljs-number">20</span> Mar <span class="hljs-number">2015</span> <span class="hljs-number">15</span>:<span class="hljs-number">44</span>:<span class="hljs-number">47</span> GMT
Content-Type: video/mp4
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="March 6th 2015, 1:51:39 pm">March 6th 2015</span>
											by <span class='authorname'>markus schneider</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>testing the device again. now sometimes in addition there is this line when i close the window - not always though. didnt see a pattern when it comes up.</p>
<pre><code class="hljs">[INFO] :   MP AVAudioSessionDelegateMediaPlayerOnly <span class="hljs-operator"><span class="hljs-keyword">end</span> interruption. Interruptor &lt;BT App-<span class="hljs-number">156</span>&gt; <span class="hljs-keyword">category</span> &lt;(<span class="hljs-literal">null</span>)&gt; <span class="hljs-keyword">resumable</span> &lt;<span class="hljs-number">0</span>&gt;,  _state = <span class="hljs-number">0</span></span>
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="March 6th 2015, 2:32:39 pm">March 6th 2015</span>
											by <span class='authorname'>markus schneider</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>finally i got something working.</p>
<p>what works now is the .mp4 format on the non-openshift server. 755 permissons for the folder, 644 for the file.</p>
<p>the .mov file doesnt work on neither server for me. </p>
<p>so if anyone has a smiliar problem where the movie just wont start, a good idea is to try the mp4 format (on a different server).</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 6th 2015, 3:46:48 pm">March 6th 2015</span>
											by <span class='authorname'>markus schneider</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
