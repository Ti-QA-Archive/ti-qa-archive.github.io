<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>problem with video playback on android » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>problem with video playback on android</h1>
		</header>
		<section>
			<p>Please I would like to start video playback at the opening of a window but it does not work and I do not know how it works on andoid</p>
<p>here is my code:</p>
<pre><code class="hljs"><span class="hljs-keyword">if</span> (app.android){
<span class="hljs-keyword">var</span> = contentURL app.config.api.live;
        contentURL contentURL.replace = (<span class="hljs-string">'http'</span>, <span class="hljs-string">'rtsp'</span>);
        contentURL contentURL.replace = (<span class="hljs-string">'/ playlist.m3u8'</span>,<span class="hljs-string">''</span>);

     ActiveMovie Titanium.Media.createVideoPlayer <span class="hljs-keyword">var</span> = ({
         contentURL: contentURL,
         fullscreen: <span class="hljs-literal">true</span>,
         <span class="hljs-regexp">/ /</span> zIndex: <span class="hljs-number">2000</span>,
         top: <span class="hljs-number">0</span>,
         left: <span class="hljs-number">0</span>
     });
     activeMovie.play ();



        <span class="hljs-keyword">return</span> win;

        }
</code></pre><p>I have a problem with a title &quot;video view&quot; and a message &quot;unknown error&quot;</p>
<p>can tell me what to Faier</p>
<p>thank you</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="August 19th 2011, 8:54:15 am">August 19th 2011</span>
				by <span class='authorname'>sabrina sabrina</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>bug</span></li>
					
						<li><span class='tagname'>error</span></li>
					
						<li><span class='tagname'>video</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>3</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>3 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-216926">
				
						<section>
							<p>The code sample you provided is not very complete, but I will atempt to answer this anyway… have you tried putting the <code>activeMovie.play();</code> code in a window open event listener?</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 19th 2011, 10:19:28 am">August 19th 2011</span>
								by <span class='authorname'>Matt Apperson</span><br>
								<a class="icon-bg icon-link" href="../../question/124476/problem-with-video-playback-on-android.html#answer-216926" rel="permalink">permalink</a>
							</div>

							<h5>2 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>I have a button on my home page and normally when I click the window containing the video should open</p>
<p>this is the entire code from my window</p>
<pre><code class="hljs">
<span class="hljs-list">(<span class="hljs-keyword">Function</span> <span class="hljs-list">()</span> <span class="hljs-collection">{

    app.ui.createEnDirectTabGroup = function <span class="hljs-list">()</span> <span class="hljs-collection">{

        var interactivServices app.model.InteractivServices = new <span class="hljs-list">()</span><span class="hljs-comment">;</span>



/ / If <span class="hljs-list">(<span class="hljs-keyword">app.iphone</span>)</span> <span class="hljs-collection">{
        var enDirectWindow Titanium.UI.createWindow = <span class="hljs-list">(<span class="hljs-collection">{
            title:''
            / / TabBarHidden: <span class="hljs-literal">true</span>,
            backgroundColor: 'pink'
        }</span>)</span><span class="hljs-comment">;</span>

        rideauPlayer Ti.UI.createButton = <span class="hljs-list">(<span class="hljs-collection">{

            backgroundImage <span class="hljs-string">"images / player_upper_bg.png"</span>
            top: <span class="hljs-number">0</span>,
            / / Right: <span class="hljs-number">20</span>,
            width: <span class="hljs-number">530</span>,
            height: <span class="hljs-number">60</span>,
            opacity: <span class="hljs-number">0.5</span>

        }</span>)</span><span class="hljs-comment">;</span>

        liveButton Ti.UI.createButton = <span class="hljs-list">(<span class="hljs-collection">{

            backgroundImage <span class="hljs-string">"images / live_annot.png"</span>
            top: <span class="hljs-number">15</span>,
            right: <span class="hljs-number">20</span>,
            width: <span class="hljs-number">47</span>,
            height: <span class="hljs-number">25</span>

        }</span>)</span><span class="hljs-comment">;</span>

        var backButton Ti.UI.createButton = <span class="hljs-list">(<span class="hljs-collection">{
            title: 'Home'
            opacity: <span class="hljs-number">0.6</span><span class="hljs-comment">;</span>
            backgroundImage: 'images / back.png'
            do <span class="hljs-collection">{
                fontSize: <span class="hljs-number">13</span>,
                fontWeight: 'bold'
            }</span>

            textAlign: 'center',
            top: <span class="hljs-number">10</span>,
            left: <span class="hljs-number">5</span>,
            width: <span class="hljs-number">75</span>,
            height: <span class="hljs-number">35</span>
        }</span>)</span><span class="hljs-comment">;</span>

        backButton.addEventListener <span class="hljs-list">(<span class="hljs-keyword">'click'</span>, function <span class="hljs-list">()</span> <span class="hljs-collection">{
            activeMovie.stop <span class="hljs-list">()</span><span class="hljs-comment">;</span>
            / / ActiveMovie.release <span class="hljs-list">()</span><span class="hljs-comment">;</span>
            / / ActiveMovie = null;
            enDirectWindow.close <span class="hljs-list">()</span><span class="hljs-comment">;</span>


        }</span>)</span><span class="hljs-comment">;</span>

        rideauPause Ti.UI.createView = <span class="hljs-list">(<span class="hljs-collection">{
            top: <span class="hljs-number">120</span>,
            backgroundImage: 'images / movie_lower-controls_background.png'
            width: <span class="hljs-number">314</span>,
            height: <span class="hljs-number">92</span>,
            opacity: <span class="hljs-number">0.5</span>

        }</span>)</span><span class="hljs-comment">;</span>

        rideauBoutons Ti.UI.createView = <span class="hljs-list">(<span class="hljs-collection">{

            top: <span class="hljs-number">270</span>,
            backgroundImage: 'images / player_bottom_bg.png'
            width: <span class="hljs-number">480</span>,
            height: <span class="hljs-number">70</span>,

        }</span>)</span><span class="hljs-comment">;</span>

        var pause = Titanium.UI.createButton <span class="hljs-list">(<span class="hljs-collection">{
            backgroundImage <span class="hljs-string">"images / movie_pause.png"</span>
            width: <span class="hljs-number">60</span>,
            height: <span class="hljs-number">60</span>
        }</span>)</span><span class="hljs-comment">;</span>

 if <span class="hljs-list">(<span class="hljs-keyword">app.iphone</span>)</span> <span class="hljs-collection">{

        var = contentURL app.config.api.live;


/ / <span class="hljs-string">"Http://streaming1......../mp4:20110810_METEO_3G.mp4/playlist.m3u8"</span><span class="hljs-comment">;</span>


        ActiveMovie Titanium.Media.createVideoPlayer var = <span class="hljs-list">(<span class="hljs-collection">{
            contentURL: contentURL,
            backgroundColor: '# <span class="hljs-number">111</span>',
            movieControlMode: Titanium.Media.VIDEO_CONTROL_DEFAULT,
            scalingMode: Titanium.Media.VIDEO_SCALING_MODE_FILL
        }</span>)</span><span class="hljs-comment">;</span>


        pause.hide <span class="hljs-list">()</span><span class="hljs-comment">;</span>
        rideauBoutons.hide <span class="hljs-list">()</span><span class="hljs-comment">;</span>
        rideauPause.hide <span class="hljs-list">()</span><span class="hljs-comment">;</span>
        rideauPlayer.hide <span class="hljs-list">()</span><span class="hljs-comment">;</span>
        liveButton.hide <span class="hljs-list">()</span><span class="hljs-comment">;</span>
        backButton.hide <span class="hljs-list">()</span><span class="hljs-comment">;</span>

        rideauPause.add <span class="hljs-list">(<span class="hljs-keyword">pause</span>)</span><span class="hljs-comment">;</span>
        activeMovie.add <span class="hljs-list">(<span class="hljs-keyword">rideauBoutons</span>)</span><span class="hljs-comment">;</span>
        activeMovie.add <span class="hljs-list">(<span class="hljs-keyword">rideauPause</span>)</span><span class="hljs-comment">;</span>
        activeMovie.add <span class="hljs-list">(<span class="hljs-keyword">rideauPlayer</span>)</span><span class="hljs-comment">;</span>
        activeMovie.add <span class="hljs-list">(<span class="hljs-keyword">liveButton</span>)</span><span class="hljs-comment">;</span>
        activeMovie.add <span class="hljs-list">(<span class="hljs-keyword">backButton</span>)</span><span class="hljs-comment">;</span>




        pause.addEventListener <span class="hljs-list">(<span class="hljs-keyword">'click'</span>, function <span class="hljs-list">()</span> <span class="hljs-collection">{
            activeMovie.pause <span class="hljs-list">()</span><span class="hljs-comment">;</span>
        }</span>)</span><span class="hljs-comment">;</span>
        / * * User Guidance /
        / * EnDirectWindow.orientationModes = <span class="hljs-collection">[
        Titanium.UI.LANDSCAPE_RIGHT,
        Titanium.UI.LANDSCAPE_LEFT
        ]</span> * /

       / * Ti.UI.iPhone.hideStatusBar <span class="hljs-list">(<span class="hljs-collection">{
            animationStyle: Ti.UI.iPhone.StatusBar.ANIMATION_STYLE_FADE
        }</span>)</span><span class="hljs-comment">;*/</span>



        if <span class="hljs-list">(<span class="hljs-keyword">parseFloat</span> <span class="hljs-list">(<span class="hljs-keyword">Titanium.Platform.version</span>)</span>&gt; = <span class="hljs-number">3.2</span>)</span> <span class="hljs-collection">{
            enDirectWindow.add <span class="hljs-list">(<span class="hljs-keyword">ActiveMovie</span>)</span><span class="hljs-comment">;</span>
        }</span>

        windowClosed var = <span class="hljs-literal">false</span><span class="hljs-comment">;</span>

        enDirectWindow.addEventListener <span class="hljs-list">(<span class="hljs-keyword">'close'</span>, function <span class="hljs-list">()</span> <span class="hljs-collection">{
            if <span class="hljs-list">(<span class="hljs-keyword">!</span> windowClosed)</span> <span class="hljs-collection">{
                windowClosed = <span class="hljs-literal">true</span><span class="hljs-comment">;</span>
                activeMovie.stop <span class="hljs-list">()</span><span class="hljs-comment">;</span>
            }</span>
        }</span>)</span><span class="hljs-comment">;</span>

        activeMovie.addEventListener <span class="hljs-list">(<span class="hljs-keyword">'click'</span>, function <span class="hljs-list">()</span> <span class="hljs-collection">{
            pause.show <span class="hljs-list">()</span><span class="hljs-comment">;</span>
            rideauBoutons.show <span class="hljs-list">()</span><span class="hljs-comment">;</span>
            rideauPause.show <span class="hljs-list">()</span><span class="hljs-comment">;</span>

            rideauPlayer.show <span class="hljs-list">()</span><span class="hljs-comment">;</span>
            liveButton.show <span class="hljs-list">()</span><span class="hljs-comment">;</span>
            backButton.show <span class="hljs-list">()</span><span class="hljs-comment">;</span>

            setTimeout <span class="hljs-list">(<span class="hljs-keyword">function</span> <span class="hljs-list">()</span> <span class="hljs-collection">{
                pause.hide <span class="hljs-list">()</span><span class="hljs-comment">;</span>
                rideauBoutons.hide <span class="hljs-list">()</span><span class="hljs-comment">;</span>
                rideauPause.hide <span class="hljs-list">()</span><span class="hljs-comment">;</span>
                rideauPlayer.hide <span class="hljs-list">()</span><span class="hljs-comment">;</span>
                liveButton.hide <span class="hljs-list">()</span><span class="hljs-comment">;</span>
                backButton.hide <span class="hljs-list">()</span><span class="hljs-comment">;</span>
            }</span>, <span class="hljs-number">5330</span>)</span><span class="hljs-comment">;</span>
        }</span>)</span><span class="hljs-comment">;</span>


        enDirectWindow return;


       }</span>

       else <span class="hljs-collection">{

       var = contentURL app.config.api.live;
       contentURL contentURL.replace = <span class="hljs-list">(<span class="hljs-keyword">'http'</span>, 'rtsp')</span><span class="hljs-comment">;</span>
       contentURL contentURL.replace = <span class="hljs-list">(<span class="hljs-keyword">'/</span> playlist.m3u8','')</span><span class="hljs-comment">;</span>
       alert <span class="hljs-list">(<span class="hljs-keyword">'contentURL'</span>)</span><span class="hljs-comment">;</span>


/ / <span class="hljs-string">"Http://streaming1.interactivplatform.fr/tvrennes35-vod/mp4:20110810_METEO_3G.mp4/playlist.m3u8"</span><span class="hljs-comment">;</span>



    ActiveMovie Titanium.Media.createVideoPlayer var = <span class="hljs-list">(<span class="hljs-collection">{
        contentURL: contentURL,
        movieControlMode: Titanium.Media.VIDEO_CONTROL_DEFAULT,
        scalingMode: Titanium.Media.VIDEO_SCALING_ASPECT_FIT,
        autoplay: <span class="hljs-literal">true</span>
    }</span>)</span><span class="hljs-comment">;</span>
    activeMovie.play <span class="hljs-list">()</span><span class="hljs-comment">;</span>


    / * ViewVideo Ti.UI.createView = <span class="hljs-list">(<span class="hljs-collection">{
            top: <span class="hljs-number">50</span>,

            width: <span class="hljs-number">250</span>,
            height: <span class="hljs-number">250</span>

        }</span>)</span><span class="hljs-comment">;</span>


    viewVideo.add <span class="hljs-list">(<span class="hljs-keyword">ActiveMovie</span>)</span><span class="hljs-comment">;</span>
    enDirectWindow.add <span class="hljs-list">(<span class="hljs-keyword">viewVideo</span>)</span> * /

       enDirectWindow return;

       }</span>





       / / Return enDirectWindow;
    / /}</span>


    }</span>

}</span>)</span><span class="hljs-list">()</span><span class="hljs-comment">;</span>
</code></pre><p>the call to this window as follows </p>
<pre><code class="hljs">
<span class="hljs-comment">//En direct</span>
<span class="hljs-keyword">var</span> endirectButton = Titanium.UI.createView({
    width: <span class="hljs-number">85</span>,
    height: <span class="hljs-number">25</span>,
    backgroundImage: <span class="hljs-string">'images/en_direct.png'</span>,
    top: <span class="hljs-number">13</span>,
    left: <span class="hljs-number">15</span>
});
win.add(endirectButton);

 <span class="hljs-comment">//if (app.iphone) {</span>
<span class="hljs-keyword">var</span> enDirecttabgroup = app.ui.createEnDirectTabGroup();


endirectButton.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{


enDirecttabgroup.open();
activeMovie.play();

});
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="August 19th 2011, 11:08:12 am">August 19th 2011</span>
											by <span class='authorname'>sabrina sabrina</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>ok… have you tried putting the <code>activeMovie.play();</code> code in a window open event listener for your enDirectWindow window? Not just calling it after you call open on the window… but actually calling the event listener…</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 19th 2011, 11:13:09 am">August 19th 2011</span>
											by <span class='authorname'>Matt Apperson</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-216933">
				
						<section>
							<p>yes I tried but activeMovie is not defined in the window of my home page where the call is the opening of the window of the video</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 19th 2011, 11:20:34 am">August 19th 2011</span>
								by <span class='authorname'>sabrina sabrina</span><br>
								<a class="icon-bg icon-link" href="../../question/124476/problem-with-video-playback-on-android.html#answer-216933" rel="permalink">permalink</a>
							</div>

							<h5>4 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Then did you try adding it to whatever window the video player is on?</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 19th 2011, 12:18:01 pm">August 19th 2011</span>
											by <span class='authorname'>Matt Apperson</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>yes but as I told you I can not add it in the calling window because  it is not defined</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 19th 2011, 12:22:02 pm">August 19th 2011</span>
											by <span class='authorname'>sabrina sabrina</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Maybe I am not reading your code correctly… Would you mind re-posting your code? the code you posted has somewhere near 100 syntax errors and so its hard to run&#x2F;debug it to make sure the answer I give is correct.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 19th 2011, 12:28:03 pm">August 19th 2011</span>
											by <span class='authorname'>Matt Apperson</span>
										</div>
									</li>
								
									<li class="comment">
										<p><pre><code class="hljs">
<span class="hljs-list">(<span class="hljs-keyword">function</span><span class="hljs-list">()</span> <span class="hljs-collection">{

    app.ui.createEnDirectTabGroup = function<span class="hljs-list">()</span> <span class="hljs-collection">{

        var interactivServices = new app.model.InteractivServices<span class="hljs-list">()</span><span class="hljs-comment">;</span>



//if <span class="hljs-list">(<span class="hljs-keyword">app.iphone</span>)</span> <span class="hljs-collection">{
        var enDirectWindow = Titanium.UI.createWindow<span class="hljs-list">(<span class="hljs-collection">{
            title: '',
            //tabBarHidden: <span class="hljs-literal">true</span>,
            backgroundColor: 'pink'
        }</span>)</span><span class="hljs-comment">;</span>

        rideauPlayer=Ti.UI.createButton<span class="hljs-list">(<span class="hljs-collection">{

            backgroundImage:<span class="hljs-string">"images/player_upper_bg.png"</span>,
            top:0,
            //right:20,
            width: <span class="hljs-number">530</span>,
            height: <span class="hljs-number">60</span>,
            opacity: <span class="hljs-number">0.5</span>

        }</span>)</span><span class="hljs-comment">;</span>

        liveButton= Ti.UI.createButton<span class="hljs-list">(<span class="hljs-collection">{

            backgroundImage:<span class="hljs-string">"images/live_annot.png"</span>,
            top:15,
            right:20,
            width: <span class="hljs-number">47</span>,
            height: <span class="hljs-number">25</span>

        }</span>)</span><span class="hljs-comment">;</span>

        var backButton = Ti.UI.createButton<span class="hljs-list">(<span class="hljs-collection">{
            title: 'Accueil',
            opacity: <span class="hljs-number">0.6</span>,
            backgroundImage: 'images/back.png',
            font: <span class="hljs-collection">{
                fontSize: <span class="hljs-number">13</span>,
                fontWeight: 'bold'
            }</span>,

            textAlign: 'center',
            top:10,
            left:5,
            width: <span class="hljs-number">75</span>,
            height: <span class="hljs-number">35</span>
        }</span>)</span><span class="hljs-comment">;</span>

        backButton.addEventListener<span class="hljs-list">(<span class="hljs-keyword">'click'</span>, function<span class="hljs-list">()</span> <span class="hljs-collection">{
            activeMovie.stop<span class="hljs-list">()</span><span class="hljs-comment">;</span>
            //activeMovie.release<span class="hljs-list">()</span><span class="hljs-comment">;</span>
            //activeMovie = null;
            enDirectWindow.close<span class="hljs-list">()</span><span class="hljs-comment">;</span>


        }</span>)</span><span class="hljs-comment">;</span>

        rideauPause = Ti.UI.createView<span class="hljs-list">(<span class="hljs-collection">{
            top:120,
            backgroundImage: 'images/movie_lower-controls_background.png',
            width:314,
            height: <span class="hljs-number">92</span>,
            opacity: <span class="hljs-number">0.5</span>

        }</span>)</span><span class="hljs-comment">;</span>

        rideauBoutons= Ti.UI.createView<span class="hljs-list">(<span class="hljs-collection">{

            top:270,
            backgroundImage: 'images/player_bottom_bg.png',
            width:480,
            height: <span class="hljs-number">70</span>,

        }</span>)</span><span class="hljs-comment">;</span>

        var pause = Titanium.UI.createButton<span class="hljs-list">(<span class="hljs-collection">{
            backgroundImage:<span class="hljs-string">"images/movie_pause.png"</span>,
            width:60,
            height:60
        }</span>)</span><span class="hljs-comment">;</span>

 if <span class="hljs-list">(<span class="hljs-keyword">app.iphone</span>)</span> <span class="hljs-collection">{

        var contentURL= app.config.api.live;



        var activeMovie = Titanium.Media.createVideoPlayer<span class="hljs-list">(<span class="hljs-collection">{
            contentURL: contentURL,
            backgroundColor:'#111',
            movieControlMode:Titanium.Media.VIDEO_CONTROL_DEFAULT,
            scalingMode:Titanium.Media.VIDEO_SCALING_MODE_FILL
        }</span>)</span><span class="hljs-comment">;</span>


        pause.hide<span class="hljs-list">()</span><span class="hljs-comment">;</span>
        rideauBoutons.hide<span class="hljs-list">()</span><span class="hljs-comment">;</span>
        rideauPause.hide<span class="hljs-list">()</span><span class="hljs-comment">;</span>
        rideauPlayer.hide<span class="hljs-list">()</span><span class="hljs-comment">;</span>
        liveButton.hide<span class="hljs-list">()</span><span class="hljs-comment">;</span>
        backButton.hide<span class="hljs-list">()</span><span class="hljs-comment">;</span>

        rideauPause.add<span class="hljs-list">(<span class="hljs-keyword">pause</span>)</span><span class="hljs-comment">;</span>
        activeMovie.add<span class="hljs-list">(<span class="hljs-keyword">rideauBoutons</span>)</span><span class="hljs-comment">;</span>
        activeMovie.add<span class="hljs-list">(<span class="hljs-keyword">rideauPause</span>)</span><span class="hljs-comment">;</span>
        activeMovie.add<span class="hljs-list">(<span class="hljs-keyword">rideauPlayer</span>)</span><span class="hljs-comment">;</span>
        activeMovie.add<span class="hljs-list">(<span class="hljs-keyword">liveButton</span>)</span><span class="hljs-comment">;</span>
        activeMovie.add<span class="hljs-list">(<span class="hljs-keyword">backButton</span>)</span><span class="hljs-comment">;</span>




        pause.addEventListener<span class="hljs-list">(<span class="hljs-keyword">'click'</span>, function<span class="hljs-list">()</span> <span class="hljs-collection">{
            activeMovie.pause<span class="hljs-list">()</span><span class="hljs-comment">;</span>
        }</span>)</span><span class="hljs-comment">;</span>
        /* Mode d'orientation */
        /*enDirectWindow.orientationModes = <span class="hljs-collection">[
        Titanium.UI.LANDSCAPE_RIGHT,
        Titanium.UI.LANDSCAPE_LEFT
        ]</span><span class="hljs-comment">;*/</span>

       /* Ti.UI.iPhone.hideStatusBar<span class="hljs-list">(<span class="hljs-collection">{
            animationStyle:Ti.UI.iPhone.StatusBar.ANIMATION_STYLE_FADE
        }</span>)</span><span class="hljs-comment">;*/</span>



        if <span class="hljs-list">(<span class="hljs-keyword">parseFloat</span><span class="hljs-list">(<span class="hljs-keyword">Titanium.Platform.version</span>)</span> &gt;= <span class="hljs-number">3.2</span>)</span> <span class="hljs-collection">{
            enDirectWindow.add<span class="hljs-list">(<span class="hljs-keyword">activeMovie</span>)</span><span class="hljs-comment">;</span>
        }</span>

        var windowClosed = <span class="hljs-literal">false</span><span class="hljs-comment">;</span>

        enDirectWindow.addEventListener<span class="hljs-list">(<span class="hljs-keyword">'close'</span>, function<span class="hljs-list">()</span> <span class="hljs-collection">{
            if <span class="hljs-list">(<span class="hljs-keyword">!windowClosed</span>)</span> <span class="hljs-collection">{
                windowClosed = <span class="hljs-literal">true</span><span class="hljs-comment">;</span>
                activeMovie.stop<span class="hljs-list">()</span><span class="hljs-comment">;</span>
            }</span>
        }</span>)</span><span class="hljs-comment">;</span>

        activeMovie.addEventListener<span class="hljs-list">(<span class="hljs-keyword">'click'</span>, function<span class="hljs-list">()</span> <span class="hljs-collection">{
            pause.show<span class="hljs-list">()</span><span class="hljs-comment">;</span>
            rideauBoutons.show<span class="hljs-list">()</span><span class="hljs-comment">;</span>
            rideauPause.show<span class="hljs-list">()</span><span class="hljs-comment">;</span>

            rideauPlayer.show<span class="hljs-list">()</span><span class="hljs-comment">;</span>
            liveButton.show<span class="hljs-list">()</span><span class="hljs-comment">;</span>
            backButton.show<span class="hljs-list">()</span><span class="hljs-comment">;</span>

            setTimeout<span class="hljs-list">( function<span class="hljs-list">()</span> <span class="hljs-collection">{
                pause.hide<span class="hljs-list">()</span><span class="hljs-comment">;</span>
                rideauBoutons.hide<span class="hljs-list">()</span><span class="hljs-comment">;</span>
                rideauPause.hide<span class="hljs-list">()</span><span class="hljs-comment">;</span>
                rideauPlayer.hide<span class="hljs-list">()</span><span class="hljs-comment">;</span>
                liveButton.hide<span class="hljs-list">()</span><span class="hljs-comment">;</span>
                backButton.hide<span class="hljs-list">()</span><span class="hljs-comment">;</span>
            }</span>, <span class="hljs-number">5330</span>)</span><span class="hljs-comment">;</span>
        }</span>)</span><span class="hljs-comment">;</span>


        return enDirectWindow;


       }</span>

       else <span class="hljs-collection">{

           var contentURL= app.config.api.live;
           contentURL=contentURL.replace<span class="hljs-list">(<span class="hljs-keyword">'http'</span>,'rtsp')</span><span class="hljs-comment">;</span>
           contentURL=contentURL.replace<span class="hljs-list">(<span class="hljs-keyword">'/playlist.m3u8'</span>,'')</span><span class="hljs-comment">;</span>
           alert<span class="hljs-list">(<span class="hljs-keyword">'contentURL'</span>)</span><span class="hljs-comment">;</span>


        // <span class="hljs-string">"http://streaming1.interactivplatform.fr/....../mp4:20110810_METEO_3G.mp4/playlist.m3u8"</span> <span class="hljs-comment">;</span>



    var activeMovie = Titanium.Media.createVideoPlayer<span class="hljs-list">(<span class="hljs-collection">{
        contentURL: contentURL,
        movieControlMode:Titanium.Media.VIDEO_CONTROL_DEFAULT,
        scalingMode:Titanium.Media.VIDEO_SCALING_ASPECT_FIT,
        autoplay: <span class="hljs-literal">true</span>
    }</span>)</span><span class="hljs-comment">;</span>
    activeMovie.play<span class="hljs-list">()</span><span class="hljs-comment">;</span>


    /*viewVideo = Ti.UI.createView<span class="hljs-list">(<span class="hljs-collection">{
            top:50,

            width:250,
            height: <span class="hljs-number">250</span>

        }</span>)</span><span class="hljs-comment">;</span>


    viewVideo.add<span class="hljs-list">(<span class="hljs-keyword">activeMovie</span>)</span><span class="hljs-comment">;</span>
    enDirectWindow.add<span class="hljs-list">(<span class="hljs-keyword">viewVideo</span>)</span><span class="hljs-comment">;*/</span>

           return enDirectWindow;

       }</span>





       // return enDirectWindow;
    //}</span>


    }</span>

}</span>)</span><span class="hljs-list">()</span><span class="hljs-comment">;</span>
</code></pre><p>the button that allows you to open the window of video playback</p>
<pre><code class="hljs">
<span class="hljs-comment">//En direct</span>
<span class="hljs-keyword">var</span> endirectButton = Titanium.UI.createView({
    width: <span class="hljs-number">85</span>,
    height: <span class="hljs-number">25</span>,
    backgroundImage: <span class="hljs-string">'images/en_direct.png'</span>,
    top: <span class="hljs-number">13</span>,
    left: <span class="hljs-number">15</span>
});
win.add(endirectButton);

 <span class="hljs-comment">//if (app.iphone) {</span>
<span class="hljs-keyword">var</span> enDirecttabgroup = app.ui.createEnDirectTabGroup();


endirectButton.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{


enDirecttabgroup.open();


});
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="August 19th 2011, 12:33:05 pm">August 19th 2011</span>
											by <span class='authorname'>sabrina sabrina</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-216944">
				
						<section>
							<p>Ok, I see 2 issues… I dont see a place in your code where you have <code>enDirectWindow.add(activeMovie);</code> and you simply need to do the following to auto play on window open:</p>
<p>Where you have:</p>
<pre><code class="hljs">enDirectWindow.addEventListener(<span class="hljs-string">'close'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">if</span> (!windowClosed) {
        windowClosed = <span class="hljs-literal">true</span>;
        activeMovie.stop();
    }
});
</code></pre><p>Change to:</p>
<pre><code class="hljs">enDirectWindow.addEventListener(<span class="hljs-string">'close'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">if</span> (!windowClosed) {
        windowClosed = <span class="hljs-literal">true</span>;
        activeMovie.stop();
    }
});

enDirectWindow.addEventListener(<span class="hljs-string">'open'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
   activeMovie.play();
});
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 19th 2011, 12:43:16 pm">August 19th 2011</span>
								by <span class='authorname'>Matt Apperson</span><br>
								<a class="icon-bg icon-link" href="../../question/124476/problem-with-video-playback-on-android.html#answer-216944" rel="permalink">permalink</a>
							</div>

							<h5>2 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>this code was in the case where you are on iphone</p>
<p>I hope you saw the if and else</p>
<pre><code class="hljs">

<span class="actionscript">enDirectWindow.addEventListener(<span class="hljs-string">'close'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">if</span> (!windowClosed) {
        windowClosed = <span class="hljs-literal">true</span>;
        activeMovie.stop();
    }
});</span>
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="August 19th 2011, 12:47:04 pm">August 19th 2011</span>
											by <span class='authorname'>sabrina sabrina</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>and then I think if the android is not add the video to the window</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 19th 2011, 12:48:45 pm">August 19th 2011</span>
											by <span class='authorname'>sabrina sabrina</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
