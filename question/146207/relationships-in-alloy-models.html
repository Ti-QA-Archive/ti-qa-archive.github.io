<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Relationships in Alloy Models » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Relationships in Alloy Models</h1>
		</header>
		<section>
			<p>I&#39;m new to Backbone, but from what I&#39;ve read, there is no builtin support for relationships between model objects.  I&#39;m pretty sure I can kludge it by extending each model and collection objects for fetches.  But it seems there should be an easier way.  I&#39;ve got two models: &#39;jobs&#39; and &#39;tasks&#39;. A job owns some number of tasks.  </p>
<p>Is there a preferred or simple way to implement this before I go off and re-invent the wheel?</p>
<p>Thanks-</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="December 27th 2012, 2:17:44 pm">December 27th 2012</span>
				by <span class='authorname'>Joel Margolese</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>alloy</span></li>
					
						<li><span class='tagname'>model</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>1</span> Vote</div>
			<div class="answers"><span>5</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>5 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-253504">
				
						<section>
							<p>I haven&#39;t tested it in alloy yet, but you may want to look into <a href="https:&#x2F;&#x2F;github.com&#x2F;PaulUithol&#x2F;Backbone-relational">Backbone-relational</a>. I think there have been some community members using it, but I can&#39;t remember specifically who.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="December 27th 2012, 3:30:43 pm">December 27th 2012</span>
								by <span class='authorname'>Tony Lukasavage</span><br>
								<a class="icon-bg icon-link" href="../../question/146207/relationships-in-alloy-models.html#answer-253504" rel="permalink">permalink</a>
							</div>

							<h5>2 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>hi Tony! how to install Backbone-relational?</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 8th 2013, 6:58:37 am">March 8th 2013</span>
											by <span class='authorname'>T.P Lin</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>As I mentioned, I&#39;ve not used backbone-relational and it is not standard to Alloy&#39;s implementation. It would be up to you as the developer, or perhaps someone else in the community who has laready done it, to make it work with Alloy as you want it to.</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 8th 2013, 11:30:04 am">March 8th 2013</span>
											by <span class='authorname'>Tony Lukasavage</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-253506">
				
						<section>
							<p>Thanks Tony, I did see that, but I was hoping to avoid loading another library.  A related question: Is there a way to specify &#39;autoincrement&#39; for a column in an Alloy model?  Doesn&#39;t seem so in the docs&#x2F;examples.  This is kinda important.</p>
<p>Thanks.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="December 27th 2012, 3:48:52 pm">December 27th 2012</span>
								by <span class='authorname'>Joel Margolese</span><br>
								<a class="icon-bg icon-link" href="../../question/146207/relationships-in-alloy-models.html#answer-253506" rel="permalink">permalink</a>
							</div>

							<h5>11 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Log a ticket with the <a href="https:&#x2F;&#x2F;jira.appcelerator.org&#x2F;browse&#x2F;TC">Titanium Community Jira project</a> regarding the autoincrement and we&#39;ll work it into the schedule. Make sure to give the ticket the &quot;alloy&quot; label.</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 27th 2012, 4:09:52 pm">December 27th 2012</span>
											by <span class='authorname'>Tony Lukasavage</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Oh, and try to use comments instead of creating new answers, it makes the conversation easier to follow.</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 27th 2012, 4:10:58 pm">December 27th 2012</span>
											by <span class='authorname'>Tony Lukasavage</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>thank you and for the suggestion on comments.  Is there any workaround for the autoincrement that you can think of or do I need to manually modify the database?</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 27th 2012, 4:19:52 pm">December 27th 2012</span>
											by <span class='authorname'>Joel Margolese</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>right now, no. It&#39;s going to take an additional field or something in the model definition to be able to support sql-specific characteristics in the model. You could however dig into the sql.js adapter itself and see if you can hack it to do what you want it to do. The following link is to the alloy repo, specifically to the function in the sql.js adapter that creates your tables:</p>
<p><a href="https:&#x2F;&#x2F;github.com&#x2F;appcelerator&#x2F;alloy&#x2F;blob&#x2F;master&#x2F;Alloy&#x2F;lib&#x2F;alloy&#x2F;sync&#x2F;sql.js#L85-L99">https:&#x2F;&#x2F;github.com&#x2F;appcelerator&#x2F;alloy&#x2F;blob&#x2F;master&#x2F;Alloy&#x2F;lib&#x2F;alloy&#x2F;sync&#x2F;sql.js#L85-L99</a></p>
<p>Until we get an official feature update for this, you can probably hack it to include any other sql-specific notation you need, like <strong>AUTOINCREMENT</strong>.</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 27th 2012, 4:30:19 pm">December 27th 2012</span>
											by <span class='authorname'>Tony Lukasavage</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p><a href="https:&#x2F;&#x2F;jira.appcelerator.org&#x2F;browse&#x2F;TC-1688">Jira community ticket</a> opened</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 27th 2012, 4:32:51 pm">December 27th 2012</span>
											by <span class='authorname'>Joel Margolese</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>thank you.</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 27th 2012, 4:36:45 pm">December 27th 2012</span>
											by <span class='authorname'>Joel Margolese</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I moved your ticket into an official Alloy ticket and scheduled it for the next development cycle.</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 27th 2012, 4:47:06 pm">December 27th 2012</span>
											by <span class='authorname'>Tony Lukasavage</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>While trying to hack sql.js, I did some research.  Turns out sqlite exposes a column: &#39;id&#39; which serves the purpose.  So, it would still be good to support &quot;INTEGER PRIMARY KEY&quot; for completeness and clarity, this works fine.  Note the <a href="http:&#x2F;&#x2F;www.sqlite.org&#x2F;autoinc.html">document</a> says &quot;ROWID&quot; but in my iOS db it is &#39;id&#39;. This could be implementation specific.</p>
<p><code>myModel.get(&amp;#39;id&amp;#39;);</code></p>
</p>
										<div class="author">
											&mdash; commented <span title="December 27th 2012, 5:55:26 pm">December 27th 2012</span>
											by <span class='authorname'>Joel Margolese</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Hi Tony&#x2F;Joel, which file do I modify to alter the sql.js specific to my project (or globally)? The one in the project&#39;s &#x2F;Resources&#x2F;alloy&#x2F;sync&#x2F; folder gets replaced at compile time so any changes are wiped. Cheers.</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 16th 2013, 3:25:53 am">January 16th 2013</span>
											by <span class='authorname'>Tim Keir</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Nevermind. I&#39;ve figured out that cloning it and storing the edited copy in <code>&amp;#x2F;assets&amp;#x2F;alloy&amp;#x2F;sync&amp;#x2F;</code> works :)</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 16th 2013, 4:38:35 am">January 16th 2013</span>
											by <span class='authorname'>Tim Keir</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Thanks Tim.  It seems Tony is working to implement this fix now.</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 16th 2013, 12:12:42 pm">January 16th 2013</span>
											by <span class='authorname'>Joel Margolese</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-255189">
				
						<section>
							<p>I have been successful with using SuperModel with Alloy. </p>
<p><a href="http:&#x2F;&#x2F;pathable.github.com&#x2F;supermodel&#x2F;">http:&#x2F;&#x2F;pathable.github.com&#x2F;supermodel&#x2F;</a></p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="January 23rd 2013, 2:24:41 pm">January 23rd 2013</span>
								by <span class='authorname'>Aaron Saunders</span><br>
								<a class="icon-bg icon-link" href="../../question/146207/relationships-in-alloy-models.html#answer-255189" rel="permalink">permalink</a>
							</div>

							<h5>5 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Hey Aaron, could you please provide an example with some code how you exactly include and use SuperModel in Alloy?</p>
</p>
										<div class="author">
											&mdash; commented <span title="February 5th 2013, 5:26:34 am">February 5th 2013</span>
											by <span class='authorname'>René Bröcker</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Did you have to hack supermodel.js itself or just your alloy app?</p>
</p>
										<div class="author">
											&mdash; commented <span title="February 8th 2013, 12:06:17 pm">February 8th 2013</span>
											by <span class='authorname'>Tyler Graf</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>let me find the source code for this and I will try and clean it up and post it in a repo</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 2nd 2013, 3:00:54 pm">March 2nd 2013</span>
											by <span class='authorname'>Aaron Saunders</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>so? :)</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 18th 2013, 11:33:00 am">March 18th 2013</span>
											by <span class='authorname'>Jonathan Lubin</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Hi Aaron, I would be really interested in seeing the supermodel example too. Would it be possible to share something?</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 29th 2013, 12:30:44 am">March 29th 2013</span>
											by <span class='authorname'>Edward Ford</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-265463">
				
						<section>
							<p>See this tutorial post.</p>
<p><a href="http:&#x2F;&#x2F;www.verious.com&#x2F;tutorial&#x2F;simple-integration-of-supermodel-and-appcelerator-titanium-alloy&#x2F;">Simple Integration of Supermodel and Appcelerator Titanium Alloy</a></p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="July 5th 2013, 6:36:17 pm">July 5th 2013</span>
								by <span class='authorname'>Eduardo Silva</span><br>
								<a class="icon-bg icon-link" href="../../question/146207/relationships-in-alloy-models.html#answer-265463" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-265464">
				
						<section>
							<p>here is another using backbone.associate</p>
<p><a href="https:&#x2F;&#x2F;gist.github.com&#x2F;aaronksaunders&#x2F;aae1962d3b4076763ab2">https:&#x2F;&#x2F;gist.github.com&#x2F;aaronksaunders&#x2F;aae1962d3b4076763ab2</a></p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="July 5th 2013, 6:51:14 pm">July 5th 2013</span>
								by <span class='authorname'>Aaron Saunders</span><br>
								<a class="icon-bg icon-link" href="../../question/146207/relationships-in-alloy-models.html#answer-265464" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
