<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Android App crashes when clicking on a TableViewRow - IndexOutOfBoundsException » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Android App crashes when clicking on a TableViewRow - IndexOutOfBoundsException</h1>
		</header>
		<section>
			<p>Hi everyone,</p>
<p>my Android App crashes when clicking on a TableViewRow. Unfortunately, it does not always crash. Therefore, I can&#39;t provide a simple reproducible example. I&#39;m just tapping a bit around in my app (opening some windows, closing some windows, scrolling, …) and at some certain point the app crashes with the log message below. It works fine on iOS. It never crashes there.</p>
<p>Having a look at Titanium Code it looks more like a Titanium issue?</p>
<pre><code class="hljs">09-05 21:17:33.000: W/dalvikvm(28914): threadid=1: thread exiting with uncaught exception (group=0x40c341f8)
09-05 21:17:33.010: E/TiApplication(28914): (main) [2474,177500] Sending event: exception on thread: main msg:java.lang.IndexOutOfBoundsException: Invalid index 0, size is 0; Titanium 2.1.3,2012/09/04 13:31,ae2e5c0

09-05 21:17:33.020: E/AndroidRuntime(28914): FATAL EXCEPTION: main
09-05 21:17:33.020: E/AndroidRuntime(28914): java.lang.IndexOutOfBoundsException: Invalid index 0, size is 0
09-05 21:17:33.020: E/AndroidRuntime(28914):     at java.util.ArrayList.throwIndexOutOfBoundsException(ArrayList.java:251)
09-05 21:17:33.020: E/AndroidRuntime(28914):     at java.util.ArrayList.get(ArrayList.java:304)
09-05 21:17:33.020: E/AndroidRuntime(28914):     at ti.modules.titanium.ui.widget.tableview.TableViewModel.getSection(TableViewModel.java:105)
09-05 21:17:33.020: E/AndroidRuntime(28914):     at ti.modules.titanium.ui.TableViewRowProxy.fillClickEvent(TableViewRowProxy.java:175)
09-05 21:17:33.020: E/AndroidRuntime(28914):     at ti.modules.titanium.ui.TableViewRowProxy.fireEvent(TableViewRowProxy.java:191)
09-05 21:17:33.020: E/AndroidRuntime(28914):     at org.appcelerator.titanium.proxy.TiViewProxy.fireEvent(TiViewProxy.java:747)
09-05 21:17:33.020: E/AndroidRuntime(28914):     at org.appcelerator.titanium.proxy.TiViewProxy.fireEvent(TiViewProxy.java:762)
09-05 21:17:33.020: E/AndroidRuntime(28914):     at org.appcelerator.titanium.view.TiUIView$5.onClick(TiUIView.java:1284)
09-05 21:17:33.020: E/AndroidRuntime(28914):     at android.view.View.performClick(View.java:3591)
09-05 21:17:33.020: E/AndroidRuntime(28914):     at android.view.View$PerformClick.run(View.java:14263)
09-05 21:17:33.020: E/AndroidRuntime(28914):     at android.os.Handler.handleCallback(<span class="hljs-operator"><span class="hljs-keyword">Handler</span>.<span class="hljs-keyword">java</span>:<span class="hljs-number">605</span>)
<span class="hljs-number">09</span>-<span class="hljs-number">05</span> <span class="hljs-number">21</span>:<span class="hljs-number">17</span>:<span class="hljs-number">33.020</span>: <span class="hljs-keyword">E</span>/AndroidRuntime(<span class="hljs-number">28914</span>):     <span class="hljs-keyword">at</span> android.os.<span class="hljs-keyword">Handler</span>.dispatchMessage(<span class="hljs-keyword">Handler</span>.<span class="hljs-keyword">java</span>:<span class="hljs-number">92</span>)
<span class="hljs-number">09</span>-<span class="hljs-number">05</span> <span class="hljs-number">21</span>:<span class="hljs-number">17</span>:<span class="hljs-number">33.020</span>: <span class="hljs-keyword">E</span>/AndroidRuntime(<span class="hljs-number">28914</span>):     <span class="hljs-keyword">at</span> android.os.Looper.<span class="hljs-keyword">loop</span>(Looper.<span class="hljs-keyword">java</span>:<span class="hljs-number">137</span>)
<span class="hljs-number">09</span>-<span class="hljs-number">05</span> <span class="hljs-number">21</span>:<span class="hljs-number">17</span>:<span class="hljs-number">33.020</span>: <span class="hljs-keyword">E</span>/AndroidRuntime(<span class="hljs-number">28914</span>):     <span class="hljs-keyword">at</span> android.app.ActivityThread.<span class="hljs-keyword">main</span>(ActivityThread.<span class="hljs-keyword">java</span>:<span class="hljs-number">4507</span>)
<span class="hljs-number">09</span>-<span class="hljs-number">05</span> <span class="hljs-number">21</span>:<span class="hljs-number">17</span>:<span class="hljs-number">33.020</span>: <span class="hljs-keyword">E</span>/AndroidRuntime(<span class="hljs-number">28914</span>):     <span class="hljs-keyword">at</span> <span class="hljs-keyword">java</span>.lang.reflect.Method.invokeNative(<span class="hljs-keyword">Native</span> Method)
<span class="hljs-number">09</span>-<span class="hljs-number">05</span> <span class="hljs-number">21</span>:<span class="hljs-number">17</span>:<span class="hljs-number">33.020</span>: <span class="hljs-keyword">E</span>/AndroidRuntime(<span class="hljs-number">28914</span>):     <span class="hljs-keyword">at</span> <span class="hljs-keyword">java</span>.lang.reflect.Method.invoke(Method.<span class="hljs-keyword">java</span>:<span class="hljs-number">511</span>)
<span class="hljs-number">09</span>-<span class="hljs-number">05</span> <span class="hljs-number">21</span>:<span class="hljs-number">17</span>:<span class="hljs-number">33.020</span>: <span class="hljs-keyword">E</span>/AndroidRuntime(<span class="hljs-number">28914</span>):     <span class="hljs-keyword">at</span> com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.<span class="hljs-keyword">java</span>:<span class="hljs-number">790</span>)
<span class="hljs-number">09</span>-<span class="hljs-number">05</span> <span class="hljs-number">21</span>:<span class="hljs-number">17</span>:<span class="hljs-number">33.020</span>: <span class="hljs-keyword">E</span>/AndroidRuntime(<span class="hljs-number">28914</span>):     <span class="hljs-keyword">at</span> com.android.internal.os.ZygoteInit.<span class="hljs-keyword">main</span>(ZygoteInit.<span class="hljs-keyword">java</span>:<span class="hljs-number">557</span>)
<span class="hljs-number">09</span>-<span class="hljs-number">05</span> <span class="hljs-number">21</span>:<span class="hljs-number">17</span>:<span class="hljs-number">33.020</span>: <span class="hljs-keyword">E</span>/AndroidRuntime(<span class="hljs-number">28914</span>):     <span class="hljs-keyword">at</span> dalvik.<span class="hljs-keyword">system</span>.NativeStart.<span class="hljs-keyword">main</span>(<span class="hljs-keyword">Native</span> Method)
<span class="hljs-number">09</span>-<span class="hljs-number">05</span> <span class="hljs-number">21</span>:<span class="hljs-number">17</span>:<span class="hljs-number">33.020</span>: W/ActivityManager(<span class="hljs-number">1998</span>):   <span class="hljs-keyword">Force</span> finishing activity r.intent.getComponent().flattenToShortString()
<span class="hljs-number">09</span>-<span class="hljs-number">05</span> <span class="hljs-number">21</span>:<span class="hljs-number">17</span>:<span class="hljs-number">33.040</span>: <span class="hljs-keyword">E</span>/android.os.Debug(<span class="hljs-number">1998</span>): !@Dumpstate &gt; dumpstate -<span class="hljs-keyword">k</span> -<span class="hljs-keyword">t</span> -<span class="hljs-keyword">n</span> -z -<span class="hljs-keyword">d</span> -o /<span class="hljs-keyword">data</span>/<span class="hljs-keyword">log</span>/dumpstate_app_error</span>
</code></pre><h3 id="environment">Environment</h3>
<ul>
<li>SDK Version: 2.1.3.v20120904133113</li>
<li>Runtime: v8</li>
<li>Device: Samsung Galaxy S2 with Android 4.0.3</li>
<li>Mac OS X: 10.8.1</li>
<li>Titanium Studio, build: 2.1.2.201208301612</li>
</ul>
<p>Has anyone an idea how to get this fixed? Or how to find what this behavior causes?</p>
<p>Thanks!</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="September 5th 2012, 5:54:09 pm">September 5th 2012</span>
				by <span class='authorname'>Jicks Steen</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>crash</span></li>
					
						<li><span class='tagname'>fatal</span></li>
					
						<li><span class='tagname'>tableviewrow</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-246765">
				
						<section>
							<p>Post the code you are doing when the click happens. Looks like you are trying to get an element from an array that doesn&#39;t exist.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="September 5th 2012, 5:59:03 pm">September 5th 2012</span>
								by <span class='authorname'>Dan Tamas</span><br>
								<a class="icon-bg icon-link" href="../../question/141920/android-app-crashes-when-clicking-on-a-tableviewrow---indexoutofboundsexception.html#answer-246765" rel="permalink">permalink</a>
							</div>

							<h5>3 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Sorry, can&#39;t post code. When the click happens, lots of classes and lots of code will be executed. But the error happens even if I immediately return within the &#39;click&#39; handler.</p>
<p>I&#39;m not sure whether the failure is in my code. Having a look at the stack trace and Titanium code it looks like the SDK is trying to construct the event data and my code will not be executed cause an error happens before my actual click event is executed.</p>
<p>See <a href="https:&#x2F;&#x2F;github.com&#x2F;appcelerator&#x2F;titanium_mobile&#x2F;blob&#x2F;master&#x2F;android&#x2F;modules&#x2F;ui&#x2F;src&#x2F;java&#x2F;ti&#x2F;modules&#x2F;titanium&#x2F;ui&#x2F;TableViewRowProxy.java#L178">https:&#x2F;&#x2F;github.com&#x2F;appcelerator&#x2F;titanium_mobile&#x2F;blob&#x2F;master&#x2F;android&#x2F;modules&#x2F;ui&#x2F;src&#x2F;java&#x2F;ti&#x2F;modules&#x2F;titanium&#x2F;ui&#x2F;TableViewRowProxy.java#L178</a> and <a href="https:&#x2F;&#x2F;github.com&#x2F;appcelerator&#x2F;titanium_mobile&#x2F;blob&#x2F;master&#x2F;android&#x2F;modules&#x2F;ui&#x2F;src&#x2F;java&#x2F;ti&#x2F;modules&#x2F;titanium&#x2F;ui&#x2F;widget&#x2F;tableview&#x2F;TableViewModel.java#L102">https:&#x2F;&#x2F;github.com&#x2F;appcelerator&#x2F;titanium_mobile&#x2F;blob&#x2F;master&#x2F;android&#x2F;modules&#x2F;ui&#x2F;src&#x2F;java&#x2F;ti&#x2F;modules&#x2F;titanium&#x2F;ui&#x2F;widget&#x2F;tableview&#x2F;TableViewModel.java#L102</a></p>
</p>
										<div class="author">
											&mdash; commented <span title="September 5th 2012, 6:36:32 pm">September 5th 2012</span>
											by <span class='authorname'>Tho Ste</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Well, we all use click evens on rows and tables and the app still works. So it must be something in your code.<br>If you cannot post the code there is no help we can give you.<br>Try to get a minimal testcase that replicates the behaviour and post it, this way we can see if is a bug or a coding issue.</p>
</p>
										<div class="author">
											&mdash; commented <span title="September 5th 2012, 6:49:49 pm">September 5th 2012</span>
											by <span class='authorname'>Dan Tamas</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Alright, I unterstand that. I&#39;ll try to get a minimal testcase.</p>
</p>
										<div class="author">
											&mdash; commented <span title="September 5th 2012, 7:03:16 pm">September 5th 2012</span>
											by <span class='authorname'>Tho Ste</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
