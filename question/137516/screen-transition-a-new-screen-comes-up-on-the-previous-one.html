<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Screen transition: a new screen comes up on the previous one Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Screen transition: a new screen comes up on the previous one</h1>
		</header>
		<section>
			<p>Hello everyone,</p>
<p>A problem occurs when screen transits from second time.<br>When I click row2 a dialog pops up and then I choose detail on the dialog a screen properly transits to &quot;detail_window.js&quot;.<br>However, when I close the screen and do the same things again,  the last &quot;detail_window.js&quot; remains to be there and a new  &quot;detail_window.js&quot; is created over the last one.<br>And  &quot;detail_window.js&quot; screens are created and increased as I click.</p>
<p>Can anyone find out why and where problem occur?</p>
<p>Thanks,</p>
<pre><code class="hljs">
Ti.App.addEventListener(<span class="hljs-string">"check_event"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span> </span>{
    <span class="hljs-keyword">return</span> Ti.API.info(<span class="hljs-string">"CHECK"</span>);
});

row2.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span> </span>{
    dialog.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(event)</span> </span>{
        <span class="hljs-keyword">if</span>(event.index == <span class="hljs-number">0</span>) {
            Ti.App.restDay = restDay;
            Ti.App.restPercent = restPercent;
            globals.tabs.currentTab.open(Ti.UI.createWindow({
                title: <span class="hljs-string">'detail'</span>,
                backGroundColor: <span class="hljs-string">'white'</span>,
                url: <span class="hljs-string">"ui/detail_window.js"</span>
            }));
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(event.index == <span class="hljs-number">1</span>) {
            tableView.deleteRow(e.index);
            rowData.splice(e.index, <span class="hljs-number">1</span>);
            tableView.data = [];
            tableView.data = rowData;
        } <span class="hljs-keyword">else</span> {
            event.cancel == <span class="hljs-literal">true</span>;
        }
            Ti.App.fireEvent(<span class="hljs-string">"check_event"</span>, {});
    });
    dialog.show();
});
</code></pre>
		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="May 28th 2012, 2:46:49 pm">May 28th 2012</span>
				by <span class='authorname'>Hidora Kaga</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>screen transition</span></li>
					
						<li><span class='tagname'>window</span></li>
					
				</ul>
			

			<section>
				<h5>1 Comment</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>You have a logical issue. Whenever you click the row2 you add an eventListener to the Dialog. Clicking it second time will fire twice the callback of the Dialog. clicking 3rd time will execute it These Times. Never use addEventListener in functions which could be executed multiple Times. Instead use something like <code>initEventlisteners()</code>.</p>
</div>
							<div class="author">
								&mdash; commented <span title="May 28th 2012, 3:06:29 pm">May 28th 2012</span>
								by <span class='authorname'>Alexander Bauer</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>0</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>0 Answers</h3>

	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
