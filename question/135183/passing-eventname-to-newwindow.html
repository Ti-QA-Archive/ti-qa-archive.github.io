<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Passing event.name to newWindow » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Passing event.name to newWindow</h1>
		</header>
		<section>
			<p>I have gone through the tutorial at http:&#x2F;&#x2F;mobile.tutsplus.com&#x2F;tutorials about creating user login. I have got everything working well. Users authenticated and my app adding the new tabs once this is done. My problem is once the new tabs are added I cant pass the name or email to any of the other fields.</p>
<p>When I try to view the page I get undefined for my variable.</p>
<p>Here is My event listener:</p>
<pre><code class="hljs">        Ti.App.addEventListener(<span class="hljs-string">'grantEntrance'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(event)</span>  
    </span>{
    <span class="hljs-keyword">self</span>.addTab(tab2);
    <span class="hljs-keyword">self</span>.addTab(tab3);
    <span class="hljs-keyword">self</span>.addTab(tab4);
    <span class="hljs-keyword">self</span>.name = event.name;  
    <span class="hljs-keyword">self</span>.email = event.email; 
    });
</code></pre><p>I have also tried Main.email =event.email I get the red screen with undefined.</p>
<p>Here is my CaseWindow where I am trying to view name and email:</p>
<pre><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">AppWindow</span>(<span class="hljs-params">title</span>) </span>{
    <span class="hljs-keyword">var</span> Main = Ti.UI.createWindow({
        title:title,
        backgroundColor:<span class="hljs-string">'white'</span>
    });

    <span class="hljs-comment">//Closed Case Button</span>
    <span class="hljs-keyword">var</span> ccButton = Titanium.UI.createButtonBar({
        labels:[<span class="hljs-string">'Closed'</span>],
        backgroundColor:<span class="hljs-string">'#336699'</span>
    });
    Main.setLeftNavButton(ccButton);

    <span class="hljs-comment">//New Case Button</span>
    <span class="hljs-keyword">var</span> ncButton = Titanium.UI.createButtonBar({
        labels:[<span class="hljs-string">'New Case'</span>],
        backgroundColor:<span class="hljs-string">'#336699'</span>
    });
    Main.setRightNavButton(ncButton);

    ncButton.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-comment">//containingTab attribute must be set by parent tab group on</span>
        <span class="hljs-comment">//the window for this work</span>
        Main.containingTab.open(Ti.UI.createWindow({
            title: L(<span class="hljs-string">'newCaseWindow'</span>),
            backgroundColor: <span class="hljs-string">'white'</span>
        }));
    });

    <span class="hljs-keyword">var</span> msg = Titanium.UI.createLabel({  
    text:<span class="hljs-string">"You have successfully logged in. Upon logging in we sent back your email address and your name. You can pass all kinds of data simply by creating objects on your window.\n\nYour email is:\n"</span> + Main.email + <span class="hljs-string">"\n\nyour name is:\n"</span> + Main.name,  
    top:<span class="hljs-number">10</span>,  
    left:<span class="hljs-number">10</span>,  
    width:<span class="hljs-number">300</span>,  
    height:<span class="hljs-string">'auto'</span>  
});  
    Main.add(msg);  

    <span class="hljs-keyword">return</span> Main;
};

<span class="hljs-built_in">module</span>.exports = AppWindow;
</code></pre>
		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="April 10th 2012, 3:30:55 pm">April 10th 2012</span>
				by <span class='authorname'>Mobile Engineer</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>api</span></li>
					
						<li><span class='tagname'>iphone</span></li>
					
				</ul>
			

			<section>
				<h5>2 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Seems to me like there are some missing pieces in the test case. Could you create a gist with all the pieces needed to reproduce the error you&#39;re seeing? Also, what is the exact link to the tutorial?</p>
</div>
							<div class="author">
								&mdash; commented <span title="April 10th 2012, 3:43:37 pm">April 10th 2012</span>
								by <span class='authorname'>Pedro Enrique</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>the link is http:&#x2F;&#x2F;mobile.tutsplus.com&#x2F;tutorials&#x2F;appcelerator&#x2F;titanium-user-authentication&#x2F;</p>
<p>What do you mean by create a gist?</p>
</div>
							<div class="author">
								&mdash; commented <span title="April 10th 2012, 6:29:04 pm">April 10th 2012</span>
								by <span class='authorname'>Mobile Engineer</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-235685">
				
						<section>
							<p>hi Zane,<br>you can do that in other way also as i can not see the more code for self or the structure of your code</p>
<p>set<br>Ti.App.name = event.name;</p>
<p>get it back by</p>
<p>var name = Ti.App.name;</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="April 10th 2012, 3:57:18 pm">April 10th 2012</span>
								by <span class='authorname'>Mitul Bhalia</span><br>
								<a class="icon-bg icon-link" href="question/135183/passing-eventname-to-newwindow#answer-235685" rel="permalink">permalink</a>
							</div>

							<h5>4 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Mitul,</p>
<p>This pulls the #appname: Cytracom from the manifest file. Is there another way I can set it to globally use this variable? I tried:</p>
<pre><code class="hljs">    Ti.App.addEventListener(<span class="hljs-string">'grantEntrance'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(event)</span>  
    </span>{
    <span class="hljs-keyword">self</span>.addTab(tab2);
    <span class="hljs-keyword">self</span>.addTab(tab3);
    <span class="hljs-keyword">self</span>.addTab(tab4);

    Ti.App.name = event.first_name;
    Ti.App.email = event.email;

    });
</code></pre><p>And that didn&#39;t work either.</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 10th 2012, 6:27:40 pm">April 10th 2012</span>
											by <span class='authorname'>Mobile Engineer</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>you can use other variable also like</p>
<p><code>Ti.App.&amp;lt;your variable name&amp;gt; = event.first_name;</code></p>
<p>and tell me where you put <strong>grantEntrance</strong> and where you use them..?</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 11th 2012, 6:37:47 am">April 11th 2012</span>
											by <span class='authorname'>Mitul Bhalia</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I used:</p>
<pre><code class="hljs">Titanium.App.Properties.setString(<span class="hljs-string">'Name'</span>,<span class="hljs-keyword">event</span>.name);
</code></pre><p>Is this a good way of doing it? It works..</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 11th 2012, 12:14:44 pm">April 11th 2012</span>
											by <span class='authorname'>Mobile Engineer</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>yes you can use it and you can also use what i suggest</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 11th 2012, 12:25:05 pm">April 11th 2012</span>
											by <span class='authorname'>Mitul Bhalia</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
