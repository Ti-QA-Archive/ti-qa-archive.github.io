<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Titanium ListViews with data collection Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Titanium ListViews with data collection</h1>
		</header>
		<section>
			<p>In my titanium app i have to show a list of elements, to do so i am using the following view:</p>
<pre><code class="hljs">    <span class="hljs-tag">&lt;<span class="hljs-title">Alloy</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">Collection</span> <span class="hljs-attribute">src</span>=<span class="hljs-value">"featuredEvents"</span>/&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">Window</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"win"</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"container"</span> <span class="hljs-attribute">navBarHidden</span>=<span class="hljs-value">"true"</span> <span class="hljs-attribute">exitOnClose</span>=<span class="hljs-value">"true"</span> <span class="hljs-attribute">onOpen</span>=<span class="hljs-value">"showIndicator"</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-title">View</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"navView"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">View</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-title">ActivityIndicator</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"activityIndicator"</span> <span class="hljs-attribute">message</span>=<span class="hljs-value">"L('loading')"</span> /&gt;</span>

                <span class="hljs-tag">&lt;<span class="hljs-title">TableView</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"featuredEvents"</span> <span class="hljs-attribute">dataCollection</span>=<span class="hljs-value">"featuredEvents"</span> <span class="hljs-attribute">dataFilter</span>=<span class="hljs-value">"filterEvents"</span> <span class="hljs-attribute">opacity</span>=<span class="hljs-value">"0"</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"list"</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-title">TableViewRow</span> <span class="hljs-attribute">eventId</span>=<span class="hljs-value">"{alloy_id}"</span>  <span class="hljs-attribute">onClick</span>=<span class="hljs-value">"showEvent"</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-title">View</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"event-wrapper"</span>&gt;</span>
                            <span class="hljs-tag">&lt;<span class="hljs-title">ImageView</span> <span class="hljs-attribute">image</span>=<span class="hljs-value">"{img}"</span> <span class="hljs-attribute">eventId</span>=<span class="hljs-value">"{alloy_id}"</span>  <span class="hljs-attribute">defaultImage</span>=<span class="hljs-value">"/img/loading.jpg"</span>/&gt;</span>
                            <span class="hljs-tag">&lt;<span class="hljs-title">View</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"eventImageOverlayYellow"</span> <span class="hljs-attribute">eventId</span>=<span class="hljs-value">"{alloy_id}"</span>&gt;</span>
                                <span class="hljs-tag">&lt;<span class="hljs-title">Label</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"eventName"</span> <span class="hljs-attribute">text</span>=<span class="hljs-value">"{name}"</span> <span class="hljs-attribute">eventId</span>=<span class="hljs-value">"{alloy_id}"</span> /&gt;</span>
                                <span class="hljs-tag">&lt;<span class="hljs-title">View</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"eventTypeContainer"</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"iconedLabelBig"</span>&gt;</span>
                                    <span class="hljs-tag">&lt;<span class="hljs-title">ImageView</span> <span class="hljs-attribute">image</span>=<span class="hljs-value">"{icon}"</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"iconBig"</span> /&gt;</span>
                                       <span class="hljs-tag">&lt;<span class="hljs-title">Label</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"eventType"</span> <span class="hljs-attribute">text</span>=<span class="hljs-value">"{type}"</span> <span class="hljs-attribute">eventId</span>=<span class="hljs-value">"{alloy_id}"</span> /&gt;</span>
                                <span class="hljs-tag">&lt;/<span class="hljs-title">View</span>&gt;</span>
                            <span class="hljs-tag">&lt;/<span class="hljs-title">View</span>&gt;</span>
                        <span class="hljs-tag">&lt;/<span class="hljs-title">View</span>&gt;</span>
                    <span class="hljs-tag">&lt;/<span class="hljs-title">TableViewRow</span>&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-title">TableView</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">Window</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">Alloy</span>&gt;</span>
</code></pre><p>it is working fine but the performance on android is really bad, so I want to rewrite the same list using ListView instead of TableView.<br>This is what i came up with:</p>
<pre><code class="hljs">    <span class="hljs-tag">&lt;<span class="hljs-title">Alloy</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">Collection</span> <span class="hljs-attribute">src</span>=<span class="hljs-value">"featuredEvents"</span>/&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">Window</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"win"</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"container"</span> <span class="hljs-attribute">navBarHidden</span>=<span class="hljs-value">"true"</span> <span class="hljs-attribute">exitOnClose</span>=<span class="hljs-value">"true"</span> <span class="hljs-attribute">onOpen</span>=<span class="hljs-value">"showIndicator"</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-title">View</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"navView"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">View</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-title">ActivityIndicator</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"activityIndicator"</span> <span class="hljs-attribute">message</span>=<span class="hljs-value">"L('loading')"</span> /&gt;</span>

                <span class="hljs-tag">&lt;<span class="hljs-title">ListView</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"featuredEvents"</span> <span class="hljs-attribute">dataCollection</span>=<span class="hljs-value">"featuredEvents"</span> <span class="hljs-attribute">dataFilter</span>=<span class="hljs-value">"filterEvents"</span> <span class="hljs-attribute">opacity</span>=<span class="hljs-value">"0"</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"list"</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-title">ListSection</span> <span class="hljs-attribute">eventId</span>=<span class="hljs-value">"{alloy_id}"</span>  <span class="hljs-attribute">onClick</span>=<span class="hljs-value">"showEvent"</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-title">ListItem</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"event-wrapper"</span>&gt;</span>
                            <span class="hljs-tag">&lt;<span class="hljs-title">ImageView</span> <span class="hljs-attribute">image</span>=<span class="hljs-value">"{img}"</span> <span class="hljs-attribute">eventId</span>=<span class="hljs-value">"{alloy_id}"</span>  <span class="hljs-attribute">defaultImage</span>=<span class="hljs-value">"/img/loading.jpg"</span>/&gt;</span>
                            <span class="hljs-tag">&lt;<span class="hljs-title">View</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"eventImageOverlayYellow"</span> <span class="hljs-attribute">eventId</span>=<span class="hljs-value">"{alloy_id}"</span>&gt;</span>
                                <span class="hljs-tag">&lt;<span class="hljs-title">Label</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"eventName"</span> <span class="hljs-attribute">text</span>=<span class="hljs-value">"{name}"</span> <span class="hljs-attribute">eventId</span>=<span class="hljs-value">"{alloy_id}"</span> /&gt;</span>
                                <span class="hljs-tag">&lt;<span class="hljs-title">View</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"eventTypeContainer"</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"iconedLabelBig"</span>&gt;</span>
                                    <span class="hljs-tag">&lt;<span class="hljs-title">ImageView</span> <span class="hljs-attribute">image</span>=<span class="hljs-value">"{icon}"</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"iconBig"</span> /&gt;</span>
                                       <span class="hljs-tag">&lt;<span class="hljs-title">Label</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"eventType"</span> <span class="hljs-attribute">text</span>=<span class="hljs-value">"{type}"</span> <span class="hljs-attribute">eventId</span>=<span class="hljs-value">"{alloy_id}"</span> /&gt;</span>
                                <span class="hljs-tag">&lt;/<span class="hljs-title">View</span>&gt;</span>
                            <span class="hljs-tag">&lt;/<span class="hljs-title">View</span>&gt;</span>
                        <span class="hljs-tag">&lt;/<span class="hljs-title">ListItem</span>&gt;</span>
                    <span class="hljs-tag">&lt;/<span class="hljs-title">ListSection</span>&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-title">ListView</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">Window</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">Alloy</span>&gt;</span>
</code></pre><p>My controller index.js:</p>
<pre><code class="hljs">    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">showIndicator</span><span class="hljs-params">(e)</span><span class="hljs-comment">{}</span>
    $.<span class="hljs-title">win</span>.<span class="hljs-title">open</span><span class="hljs-params">()</span>;</span>
</code></pre><p>When I run it i got the following error:</p>
<pre><code class="hljs">Location:
alloy/controllers/index.js

Message:
Uncaught typeError: cannot read property <span class="hljs-string">'_transform'</span> <span class="hljs-keyword">of</span> null

Source:
title:<span class="hljs-string">"undefined"</span> != typeof <span class="hljs-variable">$model</span>__transform[<span class="hljs-string">"name"</span>] ? <span class="hljs-variable">$model</span>.<span class="hljs-number">_</span>
</code></pre><p>-Is there an example of ListView used in combination of alloy data collections?</p>
<p>-Any idea what that error means?</p>
<p>thanks!!</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="July 20th 2014, 4:38:31 pm">July 20th 2014</span>
				by <span class='authorname'>Antonio Franco</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>alloy</span></li>
					
						<li><span class='tagname'>data</span></li>
					
						<li><span class='tagname'>listview</span></li>
					
						<li><span class='tagname'>tableview</span></li>
					
						<li><span class='tagname'>tableviewrow</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>1</span> Vote</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-280903">
				
						<section>
							<p>Assalamualaikum Franco,</p>
<p>Data collection is not the object of the ListView, its object of listSection. Here is an example code of listView and dataCollection you can try this. Hope it will be helpful for you.</p>
<p>###Testing Environment:<br>Titanium SDK: 3.2.3.GA, 3.3.0.GA,</p>
<p>Titanium CLI: 3.3.0, </p>
<p>iOS SDK:7.1,</p>
<p>Android SDK: 4.2.2,4.4.2,</p>
<p>OS X Version: 10.9.3,</p>
<p>Appcelerator Studio: 3.3.0</p>
<p>###Steps to Test:<br>1.Create a Alloy project.</p>
<p>2.Paste this code in index.xml,index.js and models folder adidas.js file.</p>
<p>3.Run this code.</p>
<p>###index.xml</p>
<pre><code class="hljs"><span class="hljs-tag">&lt;<span class="hljs-title">Alloy</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">Collection</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"listData"</span> <span class="hljs-attribute">src</span>=<span class="hljs-value">"adidas"</span> <span class="hljs-attribute">instance</span>=<span class="hljs-value">"true"</span>/&gt;</span> 
    <span class="hljs-tag">&lt;<span class="hljs-title">Window</span> <span class="hljs-attribute">fullscreen</span>=<span class="hljs-value">"true"</span>  <span class="hljs-attribute">backgroundColor</span>=<span class="hljs-value">"white"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">ListView</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">ListSection</span> <span class="hljs-attribute">dataCollection</span>=<span class="hljs-value">"$.listData"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">ListItem</span> <span class="hljs-attribute">title</span>=<span class="hljs-value">"{name}"</span> <span class="hljs-attribute">accessoryType</span>=<span class="hljs-value">"Ti.UI.LIST_ACCESSORY_TYPE_DISCLOSURE"</span>/&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-title">ListSection</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">ListView</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">Window</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">Alloy</span>&gt;</span>
</code></pre><p>#index.js</p>
<pre><code class="hljs"><span class="hljs-comment">//var todos = Alloy.Collections.adidas;</span>
<span class="hljs-keyword">var</span> i = <span class="hljs-number">5</span>;
<span class="hljs-keyword">while</span> (i &gt; <span class="hljs-number">0</span>) {
    <span class="hljs-keyword">var</span> model = Alloy.createModel(<span class="hljs-string">"adidas"</span>, {
        <span class="hljs-string">"name"</span> : <span class="hljs-string">"CRAZY LIGHT FOUR"</span> + i
    });
    <span class="hljs-comment">// add model to collection which will in turn update the UI</span>
    $.listData.add(model);
    <span class="hljs-comment">// save the model to SQLite</span>
    model.save();
    i--;
}

$.listData.fetch();
$.index.open();
</code></pre><p>models<br>adidas.js</p>
<pre><code class="hljs">exports.definition = {
    <span class="hljs-string">config :</span> {
        <span class="hljs-string">columns :</span> {
            <span class="hljs-string">"id"</span> : <span class="hljs-string">"INTEGER PRIMARY KEY AUTOINCREMENT"</span>,
            <span class="hljs-string">"name"</span> : <span class="hljs-string">"STRING"</span>
        },
        <span class="hljs-string">adapter :</span> {
            <span class="hljs-string">type :</span> <span class="hljs-string">"sql"</span>,
            <span class="hljs-string">idAttribute :</span> <span class="hljs-string">"id"</span>,
            <span class="hljs-string">collection_name :</span> <span class="hljs-string">"adidas"</span>
        }
    }
};
</code></pre><p>If you have any concern about this query, then let me know.</p>
<p>Thanks.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="July 21st 2014, 3:42:37 am">July 21st 2014</span>
								by <span class='authorname'>Motiur Rahman</span><br>
								<a class="icon-bg icon-link" href="../../question/176308/titanium-listviews-with-data-collection.html#answer-280903" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-281188">
				
						<section>
							<p>plenty of kitchen sink examples here <a href="https:&#x2F;&#x2F;github.com&#x2F;appcelerator-developer-relations&#x2F;KitchenSink&#x2F;tree&#x2F;master&#x2F;Resources&#x2F;ui&#x2F;common&#x2F;baseui&#x2F;listview">https:&#x2F;&#x2F;github.com&#x2F;appcelerator-developer-relations&#x2F;KitchenSink&#x2F;tree&#x2F;master&#x2F;Resources&#x2F;ui&#x2F;common&#x2F;baseui&#x2F;listview</a></p>
<p>I also wrote a blog post using ListViews here <a href="http:&#x2F;&#x2F;www.clearlyinnovative.com&#x2F;blog&#x2F;post&#x2F;34758524660&#x2F;alloy-listview-fb-friends-ptii">http:&#x2F;&#x2F;www.clearlyinnovative.com&#x2F;blog&#x2F;post&#x2F;34758524660&#x2F;alloy-listview-fb-friends-ptii</a></p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="July 27th 2014, 3:18:26 pm">July 27th 2014</span>
								by <span class='authorname'>Aaron Saunders</span><br>
								<a class="icon-bg icon-link" href="../../question/176308/titanium-listviews-with-data-collection.html#answer-281188" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
