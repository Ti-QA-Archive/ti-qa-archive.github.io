<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>SQLite Exception...Database Error » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>SQLite Exception...Database Error</h1>
		</header>
		<section>
			<p>11-12 13:39:10.792: ERROR&#x2F;CursorWindow(3475): Bad request for field slot 0,0. numRows = 0, numColumns = 9<br>11-12 13:39:10.812: ERROR&#x2F;TiResultSet(3475): (kroll$2: file:&#x2F;&#x2F;&#x2F;android_asset&#x2F;Resources&#x2F;app.js) [5607,142157] Error querying type from cursor<br>11-12 13:39:10.812: ERROR&#x2F;TiResultSet(3475): java.lang.reflect.InvocationTargetException<br>11-12 13:39:10.812: ERROR&#x2F;TiResultSet(3475):     at android.database.AbstractWindowedCursor.isFloat(AbstractWindowedCursor.java:208)<br>11-12 13:39:10.812: ERROR&#x2F;TiResultSet(3475):     at java.lang.reflect.Method.invokeNative(Native Method)<br>11-12 13:39:10.812: ERROR&#x2F;TiResultSet(3475):     at java.lang.reflect.Method.invoke(Method.java:521)<br>11-12 13:39:10.812: ERROR&#x2F;TiResultSet(3475):     at ti.modules.titanium.database.TiResultSetProxy.internalGetField(TiResultSetProxy.java:124)<br>11-12 13:39:10.812: ERROR&#x2F;TiResultSet(3475):     at ti.modules.titanium.database.TiResultSetProxy.internalGetFieldByName(TiResultSetProxy.java:214)<br>11-12 13:39:10.812: ERROR&#x2F;TiResultSet(3475):     at ti.modules.titanium.database.TiResultSetProxy.internalGetFieldByName(TiResultSetProxy.java:204)<br>11-12 13:39:10.812: ERROR&#x2F;TiResultSet(3475):     at ti.modules.titanium.database.TiResultSetProxy.fieldByName(TiResultSetProxy.java:178)<br>11-12 13:39:10.812: ERROR&#x2F;TiResultSet(3475):     at ti.modules.titanium.database.TiResultSetProxyBindingGen$11.invoke(TiResultSetProxyBindingGen.java:376)<br>11-12 13:39:10.812: ERROR&#x2F;TiResultSet(3475):     at org.appcelerator.kroll.KrollMethod.call(KrollMethod.java:51)<br>11-12 13:39:10.812: ERROR&#x2F;TiResultSet(3475):     at org.mozilla.javascript.Interpreter.interpretLoop(Interpreter.java:1701)<br>11-12 13:39:10.812: ERROR&#x2F;TiResultSet(3475):     at org.mozilla.javascript.Interpreter.interpret(Interpreter.java:854)<br>11-12 13:39:10.812: ERROR&#x2F;TiResultSet(3475):     at org.mozilla.javascript.InterpretedFunction.call(InterpretedFunction.java:164)<br>11-12 13:39:10.812: ERROR&#x2F;TiResultSet(3475):     at org.mozilla.javascript.ContextFactory.doTopCall(ContextFactory.java:426)<br>11-12 13:39:10.812: ERROR&#x2F;TiResultSet(3475):     at org.mozilla.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:3177)<br>11-12 13:39:10.812: ERROR&#x2F;TiResultSet(3475):     at org.mozilla.javascript.InterpretedFunction.call(InterpretedFunction.java:162)<br>11-12 13:39:10.812: ERROR&#x2F;TiResultSet(3475):     at org.appcelerator.titanium.kroll.KrollCallback.callSync(KrollCallback.java:139)<br>11-12 13:39:10.812: ERROR&#x2F;TiResultSet(3475):     at org.appcelerator.titanium.kroll.KrollCallback$1.run(KrollCallback.java:164)<br>11-12 13:39:10.812: ERROR&#x2F;TiResultSet(3475):     at android.os.Handler.handleCallback(Handler.java:587)<br>11-12 13:39:10.812: ERROR&#x2F;TiResultSet(3475):     at android.os.Handler.dispatchMessage(Handler.java:92)<br>11-12 13:39:10.812: ERROR&#x2F;TiResultSet(3475):     at android.os.Looper.loop(Looper.java:123)<br>11-12 13:39:10.812: ERROR&#x2F;TiResultSet(3475):     at org.appcelerator.titanium.kroll.KrollHandlerThread.run(KrollHandlerThread.java:86)<br>11-12 13:39:10.812: ERROR&#x2F;TiResultSet(3475): Caused by: java.lang.IllegalStateException: get field slot from row 0 col 0 failed<br>11-12 13:39:10.812: ERROR&#x2F;TiResultSet(3475):     at android.database.CursorWindow.isFloat_native(Native Method)<br>11-12 13:39:10.812: ERROR&#x2F;TiResultSet(3475):     at android.database.CursorWindow.isFloat(CursorWindow.java:292)<br>11-12 13:39:10.812: ERROR&#x2F;TiResultSet(3475):     … 21 more<br>11-12 13:39:10.812: ERROR&#x2F;CursorWindow(3475): Bad request for field slot 0,0. numRows = 0, numColumns = 9<br>11-12 13:39:10.827: ERROR&#x2F;KrollMethod(3475): (kroll$2: file:&#x2F;&#x2F;&#x2F;android_asset&#x2F;Resources&#x2F;app.js) [18,142175] Exception calling kroll method fieldByName, invocation: null ]<br>11-12 13:39:10.827: ERROR&#x2F;KrollMethod(3475): java.lang.IllegalStateException: get field slot from row 0 col 0 failed<br>11-12 13:39:10.827: ERROR&#x2F;KrollMethod(3475):     at android.database.CursorWindow.getString_native(Native Method)<br>11-12 13:39:10.827: ERROR&#x2F;KrollMethod(3475):     at android.database.CursorWindow.getString(CursorWindow.java:329)<br>11-12 13:39:10.827: ERROR&#x2F;KrollMethod(3475):     at android.database.AbstractWindowedCursor.getString(AbstractWindowedCursor.java:49)<br>11-12 13:39:10.827: ERROR&#x2F;KrollMethod(3475):     at ti.modules.titanium.database.TiResultSetProxy.internalGetField(TiResultSetProxy.java:140)<br>11-12 13:39:10.827: ERROR&#x2F;KrollMethod(3475):     at ti.modules.titanium.database.TiResultSetProxy.internalGetFieldByName(TiResultSetProxy.java:214)<br>11-12 13:39:10.827: ERROR&#x2F;KrollMethod(3475):     at ti.modules.titanium.database.TiResultSetProxy.internalGetFieldByName(TiResultSetProxy.java:204)<br>11-12 13:39:10.827: ERROR&#x2F;KrollMethod(3475):     at ti.modules.titanium.database.TiResultSetProxy.fieldByName(TiResultSetProxy.java:178)<br>11-12 13:39:10.827: ERROR&#x2F;KrollMethod(3475):     at ti.modules.titanium.database.TiResultSetProxyBindingGen$11.invoke(TiResultSetProxyBindingGen.java:376)<br>11-12 13:39:10.827: ERROR&#x2F;KrollMethod(3475):     at org.appcelerator.kroll.KrollMethod.call(KrollMethod.java:51)<br>11-12 13:39:10.827: ERROR&#x2F;KrollMethod(3475):     at org.mozilla.javascript.Interpreter.interpretLoop(Interpreter.java:1701)<br>11-12 13:39:10.827: ERROR&#x2F;KrollMethod(3475):     at org.mozilla.javascript.Interpreter.interpret(Interpreter.java:854)<br>11-12 13:39:10.827: ERROR&#x2F;KrollMethod(3475):     at org.mozilla.javascript.InterpretedFunction.call(InterpretedFunction.java:164)<br>11-12 13:39:10.827: ERROR&#x2F;KrollMethod(3475):     at org.mozilla.javascript.ContextFactory.doTopCall(ContextFactory.java:426)<br>11-12 13:39:10.827: ERROR&#x2F;KrollMethod(3475):     at org.mozilla.javascript.ScriptRuntime.doTopCall(ScriptRuntime.java:3177)<br>11-12 13:39:10.827: ERROR&#x2F;KrollMethod(3475):     at org.mozilla.javascript.InterpretedFunction.call(InterpretedFunction.java:162)<br>11-12 13:39:10.827: ERROR&#x2F;KrollMethod(3475):     at org.appcelerator.titanium.kroll.KrollCallback.callSync(KrollCallback.java:139)<br>11-12 13:39:10.827: ERROR&#x2F;KrollMethod(3475):     at org.appcelerator.titanium.kroll.KrollCallback$1.run(KrollCallback.java:164)<br>11-12 13:39:10.827: ERROR&#x2F;KrollMethod(3475):     at android.os.Handler.handleCallback(Handler.java:587)<br>11-12 13:39:10.827: ERROR&#x2F;KrollMethod(3475):     at android.os.Handler.dispatchMessage(Handler.java:92)<br>11-12 13:39:10.827: ERROR&#x2F;KrollMethod(3475):     at android.os.Looper.loop(Looper.java:123)<br>11-12 13:39:10.827: ERROR&#x2F;KrollMethod(3475):     at org.appcelerator.titanium.kroll.KrollHandlerThread.run(KrollHandlerThread.java:86)</p>
<p>I&#39;m getting this errors while fetching the data from database.It consists of 4 image colomns which can be of any size and and 4 text .The error is occuring during select query. Can anyone explain what is this error about and how to solve this.<br>Thanx</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="November 12th 2011, 6:24:18 am">November 12th 2011</span>
				by <span class='authorname'>Gagan Tiwari</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>database</span></li>
					
						<li><span class='tagname'>memory</span></li>
					
						<li><span class='tagname'>sqlite</span></li>
					
						<li><span class='tagname'>titanium</span></li>
					
				</ul>
			

			<section>
				<h5>1 Comment</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Gagan</p>
<p>I really doubt anyone will be able to help you, because you have not provided enough information about your issue. It&#39;s important that you read <a href="http:&#x2F;&#x2F;wiki.appcelerator.org&#x2F;display&#x2F;guides&#x2F;Using+Questions+and+Answers">Using Questions and Answers</a> and particularly the <a href="http:&#x2F;&#x2F;wiki.appcelerator.org&#x2F;display&#x2F;guides&#x2F;Using+Questions+and+Answers#UsingQuestionsandAnswers-Q%26AQuestionChecklist">Q&amp;A Question Checklist</a> before raising any more questions here.</p>
<p>However, if you improve this thread as per the guidelines, then I will happily check back and assist you.</p>
<p>Thanks</p>
</div>
							<div class="author">
								&mdash; commented <span title="November 12th 2011, 10:28:59 am">November 12th 2011</span>
								by <span class='authorname'>Paul Dowsett</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>-2</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-223305">
				
						<section>
							<pre><code class="hljs">DBManager.addCard = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(obj)</span> </span>{
    <span class="hljs-keyword">if</span>(obj != <span class="hljs-literal">null</span>) {
        <span class="hljs-keyword">var</span> db = Ti.Database.open();
        imgFront = (obj.imgFront != <span class="hljs-literal">null</span>) ? Ti.Utils.base64encode(obj.imgFront) : <span class="hljs-literal">null</span>;
        imgBack = (obj.imgBack != <span class="hljs-literal">null</span>) ? Ti.Utils.base64encode(obj.imgBack) : <span class="hljs-literal">null</span>;
        imgQRCode = (obj.imgQRCode != <span class="hljs-literal">null</span>) ? Ti.Utils.base64encode(obj.imgQRCode) : <span class="hljs-literal">null</span>;
        thumb = (obj.cardThumbnail != <span class="hljs-literal">null</span>) ? Ti.Utils.base64encode(obj.cardThumbnail) : <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">var</span> query = <span class="hljs-string">"INSERT INTO Card VALUES(NULL, ?1, ?2, ?3, ?4, ?5, ?6, ?7, ?8)"</span>;
        db.execute(query, obj.cardName, obj.comments, obj.additionalField, imgFront, imgBack, imgQRCode, obj.categoryName, thumb);
        UiManager.hideActivityIndicator();
        alert(<span class="hljs-string">'Card Added'</span>);
        db.close();
    }
}
</code></pre><p>this is the method in through which i m adding data into databases.</p>
<pre><code class="hljs">DBManager.SelectAllCards = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">var</span> db = Ti.Database.open();
    <span class="hljs-keyword">var</span> query = <span class="hljs-string">"SELECT CardID, CardName ,Comments ,AdditionalField,FrontImage,BackImage,QRCodeImage,CategoryName,CardThumb FROM Card"</span>;
    <span class="hljs-keyword">var</span> Rows = db.execute(query);
    <span class="hljs-keyword">var</span> arr = [];
    arr = DBManager.fetchRec(Rows);
    Rows.close();
    db.close();
    <span class="hljs-keyword">return</span> arr;
}
DBManager.fetchRec = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(Rows)</span> </span>{
    <span class="hljs-keyword">var</span> arrRows = [];
    <span class="hljs-keyword">while</span>(Rows.isValidRow()) {
        <span class="hljs-keyword">var</span> obj = {};
        obj.cardName = Rows.fieldByName(<span class="hljs-string">'CardName'</span>);
        obj.comments = Rows.fieldByName(<span class="hljs-string">'Comments'</span>);
        obj.additionalField = Rows.fieldByName(<span class="hljs-string">'AdditionalField'</span>);
        imgFront = Rows.fieldByName(<span class="hljs-string">'FrontImage'</span>);
        obj.imgFront = (imgFront != <span class="hljs-literal">null</span>) ? Ti.Utils.base64decode(imgFront) : <span class="hljs-literal">null</span>;
        imgBack = Rows.fieldByName(<span class="hljs-string">'BackImage'</span>);
        obj.imgBack = (imgBack != <span class="hljs-literal">null</span>) ? Ti.Utils.base64decode(imgBack) : <span class="hljs-literal">null</span>;
        imgQRCode = Rows.fieldByName(<span class="hljs-string">'QRCodeImage'</span>);
        obj.imgQRCode = (imgQRCode != <span class="hljs-literal">null</span>) ? Ti.Utils.base64decode(imgQRCode) : <span class="hljs-literal">null</span>;
        obj.categoryName = Rows.fieldByName(<span class="hljs-string">'CategoryName'</span>);
        thumb = Rows.fieldByName(<span class="hljs-string">'CardThumb'</span>);
        obj.cardThumbnail = (thumb != <span class="hljs-literal">null</span>) ? Ti.Utils.base64decode(thumb) : <span class="hljs-literal">null</span>;
        arrRows.push(obj);
        Rows.next();
    }
    <span class="hljs-keyword">return</span> arrRows;
}
</code></pre><p>and this is the method through which i m fetching the data from database,bt it gives error as the log posted before.Still waiting for a solution.<br>Android : 2.2<br>Titanium SDK : 1.7.5</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="November 14th 2011, 11:40:23 am">November 14th 2011</span>
								by <span class='authorname'>Gagan Tiwari</span><br>
								<a class="icon-bg icon-link" href="../../question/128126/sqlite-exceptiondatabase-error.html#answer-223305" rel="permalink">permalink</a>
							</div>

							<h5>2 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Can you reduce this code down to the smallest amount that reproduces your error?</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 16th 2011, 11:45:39 am">November 16th 2011</span>
											by <span class='authorname'>Tony Lukasavage</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Gagan</p>
<p>Please do not answer your own questions - use the comment facility instead.</p>
<p>Thank you.</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 16th 2011, 1:25:41 pm">November 16th 2011</span>
											by <span class='authorname'>Paul Dowsett</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
