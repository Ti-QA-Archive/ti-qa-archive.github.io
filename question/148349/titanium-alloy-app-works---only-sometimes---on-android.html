<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Titanium Alloy app works - ONLY SOMETIMES - on Android Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Titanium Alloy app works - ONLY SOMETIMES - on Android</h1>
		</header>
		<section>
			<p>I have an app based on the Titanium Alloy project available in &quot;studio&quot;. It is fairly simple. It has one screen with a form and two buttons. a &quot;save&quot; button and a &quot;debug&quot; button. on save, the form&#39;s information is stored on filesystem in json format and shown in an alert dialog. On &quot;debug&quot;, I start a new controller that shows a new view that has 3 buttons. all buttons show some kind of system information in alert dialogs. This is supposed to be a prototype eval for the titanium framework itself. ALL OF THIS WORKS ONCE. however, if i touch the back button and the app exits and then i start app again by touching the launcher icon, it shows me the titanium splash screen and nothing else. the app does not start. there are no error messages or stack traces at the ERROR level in the logs except for this:</p>
<p>[ERROR][TiApplication(  660)] (KrollRuntimeThread) [0,1095] APP PROXY: ti.modules.titanium.app.AppModule@405d5608</p>
<p>Even if I use the task manager to kill my apps and try to start, it does not start. What do I need to do to make this work? Would you guys like to see the code? It is very simple (or so I think).</p>
<p>PLEASE HELP!</p>
<p>Should i refactor the app to not use Alloy and instead use plain jane javascript? I like the alloy mvc concept and the potential of using backbone.js.</p>
<p>Thanks! I appreciate it!</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="February 15th 2013, 6:17:30 pm">February 15th 2013</span>
				by <span class='authorname'>pan griffin</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>alloy</span></li>
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>crash</span></li>
					
						<li><span class='tagname'>device</span></li>
					
						<li><span class='tagname'>fail</span></li>
					
				</ul>
			

			<section>
				<h5>5 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>I have no idea why it says my name as &quot;pan griffin&quot; my name is Sachin Dole. funny!!</p>
</div>
							<div class="author">
								&mdash; commented <span title="February 15th 2013, 6:33:45 pm">February 15th 2013</span>
								by <span class='authorname'>pan griffin</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>code?</p>
</div>
							<div class="author">
								&mdash; commented <span title="February 15th 2013, 6:49:46 pm">February 15th 2013</span>
								by <span class='authorname'>Tony Lukasavage</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Thanks for your comment. I am posting code for one screen here. The other screen is very similar and can post that too if needed.<br>thats the index page:</p>
<pre><code class="hljs"><span class="hljs-tag">&lt;<span class="hljs-title">Alloy</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">Window</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"container"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">View</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"view"</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"topBar"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">Label</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"debugButton"</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"debugButton"</span> <span class="hljs-attribute">onClick</span>=<span class="hljs-value">"doShowDebugPage"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">Label</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">Label</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"title"</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"field appTitle"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">Label</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">View</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">ScrollView</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"form"</span> <span class="hljs-attribute">layout</span>=<span class="hljs-value">"vertical"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">TextField</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"fname"</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"field fName"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">TextField</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">TextField</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"lname"</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"field lName"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">TextField</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">TextField</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"address1"</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"field address1"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">TextField</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">TextField</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"address2"</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"field address2"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">TextField</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">TextField</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"city"</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"field city"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">TextField</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">Picker</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"state"</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"field state"</span> <span class="hljs-attribute">selectionIndicator</span>=<span class="hljs-value">"true"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">Column</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"column2"</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-title">Row</span> <span class="hljs-attribute">title</span>=<span class="hljs-value">"AK"</span>/&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-title">Row</span> <span class="hljs-attribute">title</span>=<span class="hljs-value">"AL"</span>/&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-title">Row</span> <span class="hljs-attribute">title</span>=<span class="hljs-value">"AR"</span>/&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-title">Row</span> <span class="hljs-attribute">title</span>=<span class="hljs-value">"AZ"</span>/&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-title">Column</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-title">Picker</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">TextField</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"zip"</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"field zip"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">TextField</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">TextField</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"phone"</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"field phone"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">TextField</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">TextField</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"email"</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"field email"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">TextField</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">Button</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"save"</span> <span class="hljs-attribute">onClick</span>=<span class="hljs-value">"doRegister"</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"save"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">Button</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">ScrollView</span>&gt;</span>

                <span class="hljs-tag">&lt;<span class="hljs-title">AlertDialog</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"savedFileDialog"</span> <span class="hljs-attribute">title</span>=<span class="hljs-value">"Saved file"</span>
            <span class="hljs-attribute">message</span>=<span class="hljs-value">""</span>&gt;</span>

            <span class="hljs-tag">&lt;<span class="hljs-title">ButtonNames</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">ButtonName</span>&gt;</span>OK<span class="hljs-tag">&lt;/<span class="hljs-title">ButtonName</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-title">ButtonNames</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">AlertDialog</span>&gt;</span>

    <span class="hljs-tag">&lt;/<span class="hljs-title">Window</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">Alloy</span>&gt;</span>
</code></pre><p>this is the index.js</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> stateValue = <span class="hljs-string">"AK"</span>;


<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">doRegister</span>(<span class="hljs-params">e</span>) </span>{

    <span class="hljs-keyword">var</span> registrantInfo = {};
    registrantInfo.fname = $.fname.value;
    registrantInfo.lname= $.lname.value;
    registrantInfo.address1Field = $.address1.value;
    registrantInfo.address2Field = $.address2.value;
    registrantInfo.city = $.city.value;
    registrantInfo.state = stateValue;
    registrantInfo.zip = $.zip.value;
    registrantInfo.phone = $.phone.value;
    registrantInfo.email = $.email.value;

    <span class="hljs-keyword">if</span> (Titanium.Network.networkTypeName === <span class="hljs-string">"NONE"</span>) {
        <span class="hljs-keyword">var</span> file = Ti.Filesystem.getFile(Titanium.Filesystem.applicationDataDirectory+<span class="hljs-string">"/registration.txt"</span>);
        file.write(<span class="hljs-built_in">JSON</span>.stringify(registrantInfo));
        file = <span class="hljs-literal">null</span>;
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">var</span> file = Ti.Filesystem.getFile(Titanium.Filesystem.applicationDataDirectory+<span class="hljs-string">"/registration.txt"</span>);
        file.write(<span class="hljs-built_in">JSON</span>.stringify(registrantInfo));
        file = <span class="hljs-literal">null</span>;
                <span class="hljs-comment">//save to cloud</span>
    }    

    $.savedFileDialog.message = <span class="hljs-built_in">JSON</span>.stringify(registrantInfo);
    $.savedFileDialog.show();


}


<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">doShowDebugPage</span>(<span class="hljs-params">event</span>) </span>{
    Alloy.createController(<span class="hljs-string">'debuginfo'</span>).start();
}

<span class="hljs-comment">/*
var animation = require('alloy/animation');
animation.shake.addEventListener('click', function(e) {
    animation.shake($.view);
});
*/</span>

exports.start = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">duration</span>) </span>{
    $.index.open();

}


$.index.open();
</code></pre><p>This is the index.tss:</p>
<pre><code class="hljs">"<span class="hljs-class">.container</span>": <span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">backgroundColor</span>:<span class="hljs-value"><span class="hljs-string">"white"</span>,
    layout : <span class="hljs-string">"vertical"</span>
</span></span></span>},
"<span class="hljs-tag">Label</span>": <span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">width</span>:<span class="hljs-value"> Ti.UI.SIZE,
    height: Ti.UI.SIZE,
    color: <span class="hljs-string">"#000"</span>
</span></span></span>} ,

"<span class="hljs-class">.fieldName</span>":<span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">font</span>:<span class="hljs-value"> { fontSize:<span class="hljs-string">"10pt"</span> </span></span></span>},
},
"<span class="hljs-class">.appTitle</span>":<span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">font</span>:<span class="hljs-value"> { fontSize:<span class="hljs-string">"13pt"</span> </span></span></span>},
    <span class="hljs-tag">text</span><span class="hljs-pseudo">:L('app_title_text')</span>,
    <span class="hljs-tag">textAlign</span><span class="hljs-pseudo">:"center"</span>,
    <span class="hljs-tag">bottom</span><span class="hljs-pseudo">:0</span>,
    <span class="hljs-tag">color</span><span class="hljs-pseudo">:"white"</span>
},
"<span class="hljs-class">.fName</span>":<span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">hintText</span>:<span class="hljs-value"><span class="hljs-function">L</span>(<span class="hljs-string">'first_name_hint_text'</span>),
</span></span></span>},
"<span class="hljs-class">.lName</span>":<span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">hintText</span>:<span class="hljs-value"><span class="hljs-function">L</span>(<span class="hljs-string">'last_name_hint_text'</span>),
</span></span></span>},
"<span class="hljs-class">.address1</span>":<span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">hintText</span>:<span class="hljs-value"><span class="hljs-function">L</span>(<span class="hljs-string">'address_1_hint_text'</span>),
</span></span></span>},
"<span class="hljs-class">.address2</span>":<span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">hintText</span>:<span class="hljs-value"><span class="hljs-function">L</span>(<span class="hljs-string">'address_2_hint_text'</span>),
</span></span></span>},
"<span class="hljs-class">.city</span>":<span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">hintText</span>:<span class="hljs-value"><span class="hljs-function">L</span>(<span class="hljs-string">'city_hint_text'</span>),
</span></span></span>},
"<span class="hljs-class">.zip</span>":<span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">hintText</span>:<span class="hljs-value"><span class="hljs-function">L</span>(<span class="hljs-string">'zip_hint_text'</span>),
</span></span></span>},
"<span class="hljs-class">.phone</span>":<span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">hintText</span>:<span class="hljs-value"><span class="hljs-function">L</span>(<span class="hljs-string">'phone_hint_text'</span>),
</span></span></span>},
"<span class="hljs-class">.email</span>":<span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">hintText</span>:<span class="hljs-value"><span class="hljs-function">L</span>(<span class="hljs-string">'email_hint_text'</span>),
</span></span></span>},
"<span class="hljs-class">.save</span>":<span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">title</span>:<span class="hljs-value"><span class="hljs-function">L</span>(<span class="hljs-string">"save_button_text"</span>),
    width:<span class="hljs-string">"100dip"</span>
</span></span></span>},
"<span class="hljs-class">.field</span>":<span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">width</span>:<span class="hljs-value"><span class="hljs-string">"200dip"</span>
</span></span></span>},
"<span class="hljs-class">.topBar</span>":<span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">width</span>:<span class="hljs-value"><span class="hljs-string">"100%"</span>,
    textAlign:<span class="hljs-string">"left"</span>,
    layout:<span class="hljs-string">"composite"</span>,
    backgroundColor:<span class="hljs-string">"gray"</span>,
    height:<span class="hljs-string">"64dip"</span>     
</span></span></span>},
"<span class="hljs-class">.debugButton</span>":<span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">text</span>:<span class="hljs-value"><span class="hljs-function">L</span>(<span class="hljs-string">"debug_button_text"</span>),
    left:<span class="hljs-number">0</span>,
    font: { fontSize:<span class="hljs-string">"8pt"</span> </span></span></span>},
    <span class="hljs-tag">color</span><span class="hljs-pseudo">:"white"</span>
},
"<span class="hljs-class">.state</span>":<span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">visibileItems</span>:<span class="hljs-value"><span class="hljs-number">3</span>
</span></span></span>},
"<span class="hljs-class">.appTitle</span><span class="hljs-attr_selector">[platform=ios formFactor=handheld]</span>":<span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">font</span>:<span class="hljs-value"> { fontSize:<span class="hljs-number">24</span> </span></span></span>},
},

"<span class="hljs-class">.debugButton</span><span class="hljs-attr_selector">[platform=ios formFactor=handheld]</span>":<span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">font</span>:<span class="hljs-value"> { fontSize:<span class="hljs-number">18</span> </span></span></span>},
},
</code></pre></div>
							<div class="author">
								&mdash; commented <span title="February 18th 2013, 2:06:06 pm">February 18th 2013</span>
								by <span class='authorname'>pan griffin</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Anybody with any inputs&#x2F;clues? please?</p>
</div>
							<div class="author">
								&mdash; commented <span title="February 19th 2013, 12:41:24 pm">February 19th 2013</span>
								by <span class='authorname'>pan griffin</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>this is a ton of code, which is usually off-putting to people trying to help. Have you tried removing elements from your app until you&#39;ve isolated the problem? Remove as much code as possible to determine where the issue actually is.</p>
</div>
							<div class="author">
								&mdash; commented <span title="February 19th 2013, 12:51:47 pm">February 19th 2013</span>
								by <span class='authorname'>Tony Lukasavage</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-256882">
				
						<section>
							<p>Additionally, The only way, I am able to run and test this app is if I use titanium studio to &quot;relaunch&quot; the debug process.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="February 15th 2013, 6:34:50 pm">February 15th 2013</span>
								by <span class='authorname'>pan griffin</span><br>
								<a class="icon-bg icon-link" href="question/148349/titanium-alloy-app-works---only-sometimes---on-android.html#answer-256882" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>ugh that should have been a comment. I am sorry.</p>
</p>
										<div class="author">
											&mdash; commented <span title="February 15th 2013, 6:35:15 pm">February 15th 2013</span>
											by <span class='authorname'>pan griffin</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
