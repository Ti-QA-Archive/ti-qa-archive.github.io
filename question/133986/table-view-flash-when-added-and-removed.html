<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Table View flash when added and Removed » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Table View flash when added and Removed</h1>
		</header>
		<section>
			<p>I have a Window with a tabbed bar added to its title that navigates through multiple table views through this </p>
<pre><code class="hljs">orderTabbed.addEventListener(<span class="hljs-string">"click"</span>, function(e){
    <span class="hljs-keyword">if</span>(orderTabbed.index===<span class="hljs-number">0</span>){

        winOrders.remove(winOrders.children[<span class="hljs-number">0</span>]);
        winOrders.add(allOrdersTable);


    }
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(orderTabbed.index===<span class="hljs-number">1</span>){

            winOrders.remove(winOrders.children[<span class="hljs-number">0</span>]);
            winOrders.add(saTable);

    }
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(orderTabbed.index===<span class="hljs-number">2</span>){
        <span class="hljs-comment">//winOrders.remove(viewOrders);</span>

        winOrders.remove(winOrders.children[<span class="hljs-number">0</span>]);
        winOrders.add(convTable);

    }
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(orderTabbed.index===<span class="hljs-number">3</span>){

        winOrders.remove(winOrders.children[<span class="hljs-number">0</span>]);
        winOrders.add(repTable);

    }
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(orderTabbed.index===<span class="hljs-number">4</span>){

        winOrders.remove(winOrders.children[<span class="hljs-number">0</span>]);
        winOrders.add(sgTable);

    }
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(orderTabbed.index===<span class="hljs-number">5</span>){

        winOrders.remove(winOrders.children[<span class="hljs-number">0</span>]);
        winOrders.add(tpTable);

    }
});
</code></pre><p>the problem is that when i remove a tableview and add another the window flash due to the time between removing a child and adding another one<br><strong>so what can i do to avoid such flash ?! </strong></p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="March 18th 2012, 7:23:36 am">March 18th 2012</span>
				by <span class='authorname'>Mohamed El-Feky</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>flash</span></li>
					
						<li><span class='tagname'>tableview</span></li>
					
						<li><span class='tagname'>window</span></li>
					
				</ul>
			

			<section>
				<h5>5 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Try to hide old table view and show new one.</p>
</div>
							<div class="author">
								&mdash; commented <span title="March 18th 2012, 7:35:41 am">March 18th 2012</span>
								by <span class='authorname'>Yogin Bhungalia</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p><img src="http:&#x2F;&#x2F;s17.postimage.org&#x2F;5wdqgjfv3&#x2F;Screen_shot_2012_03_18_at_11_47_42_AM.png" alt="alt s"></p>
</div>
							<div class="author">
								&mdash; commented <span title="March 18th 2012, 7:49:45 am">March 18th 2012</span>
								by <span class='authorname'>Mohamed El-Feky</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Yahh, that&#39;s fine. But instead of removing and adding back, use hide and show property of table view.</p>
</div>
							<div class="author">
								&mdash; commented <span title="March 18th 2012, 7:52:59 am">March 18th 2012</span>
								by <span class='authorname'>Yogin Bhungalia</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>seems to be best solution tell now</p>
</div>
							<div class="author">
								&mdash; commented <span title="March 18th 2012, 8:59:28 am">March 18th 2012</span>
								by <span class='authorname'>Mohamed El-Feky</span>
							</div>
						</li>
					
						<li class="comment">
							<div><pre><code class="hljs"><span class="hljs-keyword">var</span> allOrdersTable = Ti.UI.createTableView({
    style: Titanium.UI.iPhone.TableViewStyle.PLAIN,
    <span class="hljs-comment">//top: 15,</span>
    search: searchbar2,
    hideSearchOnSelection: <span class="hljs-literal">true</span>,
    filterAttribute : <span class="hljs-string">'filter'</span>,
    searchHidden: <span class="hljs-literal">false</span>,


});
<span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i&lt;<span class="hljs-number">10</span>; i++){
    <span class="hljs-keyword">var</span> row = Ti.UI.createTableViewRow({
        hasDetail: <span class="hljs-literal">true</span>,
        title: <span class="hljs-string">"Order no"</span>+i,
    });
    <span class="hljs-keyword">var</span> orderLab = Ti.UI.createLabel({
    text: <span class="hljs-string">" Order no."</span>+i,
    left: <span class="hljs-number">20</span>

    });
    row.filter = row.title;
    <span class="hljs-comment">//row.add(orderLab);</span>
    row.addEventListener(<span class="hljs-string">"click"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span></span>{
        <span class="hljs-keyword">var</span> rowWin = Ti.UI.createWindow({
            title: e.rowData.title+<span class="hljs-string">"Details"</span>
        });
        rowWin.close();
        <span class="hljs-comment">//allRepWin.close();</span>
        orders.open(rowWin);
    })
    allOrdersTable.appendRow(row);

}
</code></pre><p>that&#39;s just a small clarification of how i add rows to the table View + that later i&#39;m supposed to translate JSON in the Row<br>so how can i convert this for loop to a model or data source  ?</p>
</div>
							<div class="author">
								&mdash; commented <span title="March 18th 2012, 10:59:56 am">March 18th 2012</span>
								by <span class='authorname'>Mohamed El-Feky</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>-1</span> Votes</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-233697">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<pre><code class="hljs">// create table view data object
var data1 = [
    {title:<span class="hljs-string">'data1 1'</span>},
    {title:<span class="hljs-string">'data1 2'</span>},
    {title:<span class="hljs-string">'data1 3'</span>},
    {title:<span class="hljs-string">'data1 4'</span>}


];
var data2 = [
    {title:<span class="hljs-string">'data2 1'</span>},
    {title:<span class="hljs-string">'data2 2'</span>},
    {title:<span class="hljs-string">'data2 3'</span>},
    {title:<span class="hljs-string">'data2 4'</span>}


];
// create table view
var tableview = Titanium.UI.createTableView({
    data:data1
});
// add table view <span class="hljs-keyword">to</span> the <span class="hljs-keyword">window</span>
Titanium.UI.currentWindow.add(tableview);


orderTabbed.addEventListener(<span class="hljs-string">"click"</span>, <span class="hljs-keyword">function</span>(e){
    tableview.data=data2;
});
</code></pre><p>i think this should work<br>P.S Not tested</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="March 18th 2012, 7:59:30 am">March 18th 2012</span>
								by <span class='authorname'>Mohamed Fouad</span><br>
								<a class="icon-bg icon-link" href="question/133986/table-view-flash-when-added-and-removed#answer-233697" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>not practical because i get the data from JSON ….so i can&#39;t always tell the view what data to show</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 18th 2012, 8:29:01 am">March 18th 2012</span>
											by <span class='authorname'>Mohamed El-Feky</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-233700">
				
						<section>
							<p>i don&#39;t get you. how you can&#39;t &quot;always tell the view what data to show&quot;??<br>just simple tip don&#39;t remove the tableview each time. you must reuse it. just change the source data array each time.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="March 18th 2012, 8:38:27 am">March 18th 2012</span>
								by <span class='authorname'>Mohamed Fouad</span><br>
								<a class="icon-bg icon-link" href="question/133986/table-view-flash-when-added-and-removed#answer-233700" rel="permalink">permalink</a>
							</div>

							<h5>3 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Problem is that i append tableviewRows automatically to the table View</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 18th 2012, 8:55:09 am">March 18th 2012</span>
											by <span class='authorname'>Mohamed El-Feky</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>seperate your concerns: keep track of the data changes you make (like adding rows) in another object (model), then you can change the source data in the table (view) when ever you like.  Simple MVC pattern. You are never going to avoid the &#39;flash&#39; if you are adding and removing the tableView.</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 18th 2012, 9:01:37 am">March 18th 2012</span>
											by <span class='authorname'>Jeff Bonnes</span>
										</div>
									</li>
								
									<li class="comment">
										<p><pre><code class="hljs"><span class="hljs-keyword">var</span> allOrdersTable = Ti.UI.createTableView({
    style: Titanium.UI.iPhone.TableViewStyle.PLAIN,
    <span class="hljs-comment">//top: 15,</span>
    search: searchbar2,
    hideSearchOnSelection: <span class="hljs-literal">true</span>,
    filterAttribute : <span class="hljs-string">'filter'</span>,
    searchHidden: <span class="hljs-literal">false</span>,


});
<span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i&lt;<span class="hljs-number">10</span>; i++){
    <span class="hljs-keyword">var</span> row = Ti.UI.createTableViewRow({
        hasDetail: <span class="hljs-literal">true</span>,
        title: <span class="hljs-string">"Order no"</span>+i,
    });
    <span class="hljs-keyword">var</span> orderLab = Ti.UI.createLabel({
    text: <span class="hljs-string">" Order no."</span>+i,
    left: <span class="hljs-number">20</span>

    });
    row.filter = row.title;
    <span class="hljs-comment">//row.add(orderLab);</span>
    row.addEventListener(<span class="hljs-string">"click"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span></span>{
        <span class="hljs-keyword">var</span> rowWin = Ti.UI.createWindow({
            title: e.rowData.title+<span class="hljs-string">"Details"</span>
        });
        rowWin.close();
        <span class="hljs-comment">//allRepWin.close();</span>
        orders.open(rowWin);
    })
    allOrdersTable.appendRow(row);

}
</code></pre><p>that&#39;s just a small clarification of how i add rows to the table View + that later i&#39;m supposed to translate JSON in the Row<br>so how can i convert this for loop to a model or data source  ?</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 18th 2012, 10:59:34 am">March 18th 2012</span>
											by <span class='authorname'>Mohamed El-Feky</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
