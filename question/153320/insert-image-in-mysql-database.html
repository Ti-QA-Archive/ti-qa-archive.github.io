<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Insert image in mysql database Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Insert image in mysql database</h1>
		</header>
		<section>
			<p>where is the problem here ?</p>
<p> var imageFile = Ti.Filesystem.getFile(anImageView.image);<br>    var oneImage = anImageView.toBlob();<br>     var tempFile = Titanium.Filesystem.createTempFile();<br>tempFile.write(oneImage);<br>var contents = tempFile.read();<br>var x =Ti.Utils.base64encode(contents).toBlob();<br>var y=Ti.Utils.base64encode(oneImage);</p>
<pre><code class="hljs">  uploadReq.open(<span class="hljs-string">"<span class="hljs-keyword">POST</span>"</span>,<span class="hljs-string">"http://10.0.2.2/amsek/prob/insert_prob.php"</span>);  
    var params = 
</code></pre><p> var params = {<br>            username:un,<br>            image:x,<br>            name:TFProblemName.value<br>        };<br>      uploadReq.send(params);</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="June 6th 2013, 3:28:56 pm">June 6th 2013</span>
				by <span class='authorname'>Sara Fathy</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
				</ul>
			

			<section>
				<h5>2 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Hello Sara,</p>
<p>an example about how to do the blob encoding and decoding (to use it, just create a new project and copy=paste the code into the app.js). As you can see, you are getting an image, encoding it into text and then you will be recovering it. In the middle you just need to add your httpclient connection, with the simpler problem of uploading text to your webservice and storing it in the db:</p>
<pre><code class="hljs"><span class="hljs-variable"><span class="hljs-keyword">var</span> win</span> = Ti.UI.createWindow({
    backgroundColor:'white',
});

<span class="hljs-variable"><span class="hljs-keyword">var</span> image</span> = Ti.UI.createImageView({
    image:'KS_nav_ui.png',
    top:<span class="hljs-number">20</span>,
});

<span class="hljs-variable"><span class="hljs-keyword">var</span> blob</span> = image.toBlob();

<span class="hljs-variable"><span class="hljs-keyword">var</span> encoded_blob</span> = Ti.Utils.base64encode(blob);

<span class="hljs-variable"><span class="hljs-keyword">var</span> blob</span> = Ti.Utils.base64decode(encoded_blob);

<span class="hljs-variable"><span class="hljs-keyword">var</span> new_image</span> = Ti.UI.createImageView({
    image:blob,
    top:<span class="hljs-number">60</span>,
});

win.add(image);
win.add(new_image);

win.<span class="hljs-keyword">open</span>();
</code></pre><p>In the <a href="https:&#x2F;&#x2F;github.com&#x2F;appcelerator&#x2F;KitchenSink">kitchensink</a> you can find examples about how to upload stuff using files or httpclients. </p>
<p>In your question, we don&#39;t know what error are you seeing. If this error is on the server side, you must be checking your web service code and maybe test it alone to see if it&#39;s storing the data or no, by itself. </p>
<p>Best,</p>
<p>Mauro</p>
</div>
							<div class="author">
								&mdash; commented <span title="June 6th 2013, 4:13:35 pm">June 6th 2013</span>
								by <span class='authorname'>Mauro Parra</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Any reason to repost your question today?</p>
</div>
							<div class="author">
								&mdash; commented <span title="June 7th 2013, 6:51:45 pm">June 7th 2013</span>
								by <span class='authorname'>Mauro Parra</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>0</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>0 Answers</h3>

	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
