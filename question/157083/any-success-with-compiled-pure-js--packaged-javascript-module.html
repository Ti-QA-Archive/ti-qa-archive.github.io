<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Any success with compiled pure JS / packaged javascript module? » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Any success with compiled pure JS / packaged javascript module?</h1>
		</header>
		<section>
			<p>I would like to be able to create a module that can be shared between a few of my projects.  All of the code currently exists in one of the applications as a &quot;pure JS&quot; CommonJS library.  My UI code does a require on it to be able to use it.  Manually keeping a copy of the js file in multiple projects works but is so wonky it makes my head hurt even considering it.</p>
<p>There does not seem to be an easy way to take my code and package it as a single module.  <a href="http:&#x2F;&#x2F;docs.appcelerator.com&#x2F;titanium&#x2F;latest&#x2F;#!&#x2F;guide&#x2F;Titanium_Module_Concepts-section-35621751_TitaniumModuleConcepts-PackagedJavaScriptandHybridModules">According to the current docs</a>, this should be achievable.</p>
<p>I&#39;ve tried using studio to create separate iOS and Android modules.  That seems to work ok, but still leaves me with needing 2 modules and some stub Objective-C and Java classes.</p>
<p>I&#39;ve tried using the titanium CLI to create a module with andriod and ios targets.  After importing the project to Studio, it gets confused and just won&#39;t let me package it either way.</p>
<p>I&#39;m assuming the &quot;platform: commonjs&quot; used in the manifest for the ti.cloud module (found here: ~Library&#x2F;Application Support&#x2F;Titanium&#x2F;modules&#x2F;commonjs&#x2F;ti.cloud) is something that can&#39;t be used by us mere mortals.</p>
<p>All I want to do is:</p>
<ul>
<li>Have 1 module project that can be used on Android or iOS (like the implementation of ti.cloud)</li>
<li>Have the module project only contain javascript</li>
<li>It would be nice if Studio would be capable of packaging the module (one configuration each for iOS and Android would be ok as well)</li>
</ul>
<p>Any insight would be appreciated.</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="September 11th 2013, 6:27:21 pm">September 11th 2013</span>
				by <span class='authorname'>Scott Dickerson</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>commonjs</span></li>
					
						<li><span class='tagname'>javascript</span></li>
					
						<li><span class='tagname'>module</span></li>
					
						<li><span class='tagname'>packaging</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-268433">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>You my friend are in luck, because I wrote an article on this exact subject that was posted just yesterday…hopefully this helps you out with the method of creating an entry point for the JavaScript module and performing the packaging tasks.</p>
<p><a href="http:&#x2F;&#x2F;mobile.tutsplus.com&#x2F;tutorials&#x2F;appcelerator&#x2F;creating-titanium-mobile-modules-using-commonjs&#x2F;">http:&#x2F;&#x2F;mobile.tutsplus.com&#x2F;tutorials&#x2F;appcelerator&#x2F;creating-titanium-mobile-modules-using-commonjs&#x2F;</a></p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="September 12th 2013, 3:35:57 am">September 12th 2013</span>
								by <span class='authorname'>Boydlee Pollentine</span><br>
								<a class="icon-bg icon-link" href="question/157083/any-success-with-compiled-pure-js--packaged-javascript-module#answer-268433" rel="permalink">permalink</a>
							</div>

							<h5>2 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Thanks for the tutorial, that gets me really close to ideal.</p>
<p>There are 3 things I&#39;d really like to see addressed in your post:</p>
<ol>
<li>How does we use multiple CommonJS files in the module (like if I want to use underscore or moment in the module)?</li>
<li>Have you had any luck getting a single project to build BOTH iOS and Android modules?</li>
<li>Are the auto-generated stub classes still needed or can they be removed?</li>
</ol>
<p>Cheers,<br>Scott</p>
</p>
										<div class="author">
											&mdash; commented <span title="September 18th 2013, 4:55:06 pm">September 18th 2013</span>
											by <span class='authorname'>Scott Dickerson</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>To address your three points:</p>
<p>1) Once you have an entry point, using another CommonJS files in your module is the same as using them in any other Titanium Mobile project. Just include the file, do a require(&#39;filename&#39;) and you&#39;ll have access to it. It&#39;s just the initial entry JS file that is important with regards to naming conventions and the like.</p>
<p>2) Yes, the same I provided should build for both - but you have to create two separate modules and package them individually. That&#39;s a pain, but so far as I know it&#39;s the only current packaging method.</p>
<p>3) Honestly I&#39;m not 100% sure without testing that - delete them and find out :)</p>
</p>
										<div class="author">
											&mdash; commented <span title="September 19th 2013, 8:48:24 am">September 19th 2013</span>
											by <span class='authorname'>Boydlee Pollentine</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>2</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
