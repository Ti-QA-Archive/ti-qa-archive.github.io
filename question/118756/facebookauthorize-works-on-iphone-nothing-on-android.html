<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Facebook.authorize works on iPhone, nothing on Android » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Facebook.authorize works on iPhone, nothing on Android</h1>
		</header>
		<section>
			<p>I&#39;m trying to do do a Titanium.Facebook.authorize(), and it works on iPhone, but I get no reaction on Android.</p>
<p>The login event never get fired. :-&#x2F;<br>Nothing gets printed to the log after &#39;Time to log in&#39;.</p>
<p>Am I missing something?</p>
<pre><code class="hljs">Titanium.Facebook.appid = MY_APP_ID;
Titanium.Facebook.permissions = [<span class="hljs-string">'publish_stream'</span>];
Titanium.Facebook.forceDialogAuth = <span class="hljs-keyword">true</span>; // &lt;<span class="hljs-comment">--- Tried both</span>

<span class="hljs-keyword">if</span> (Titanium.Facebook.loggedIn === <span class="hljs-keyword">true</span>) {
    Ti.API.info(<span class="hljs-string">'Already logged in!'</span>);
} <span class="hljs-keyword">else</span> {
    Titanium.Facebook.addEventListener(<span class="hljs-string">'login'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span></span>{
        <span class="hljs-keyword">if</span> (e.success) {
            Ti.API.info(<span class="hljs-string">'Success!'</span>);
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (e.<span class="hljs-built_in">error</span>) {
            Ti.API.info(<span class="hljs-string">'error: '</span> + e.<span class="hljs-built_in">error</span>);
        } <span class="hljs-keyword">else</span> {
            Ti.API.info(<span class="hljs-string">'Unknown error'</span>);
        }
    });

    Ti.API.info(<span class="hljs-string">'Time to log in'</span>);
    Titanium.Facebook.authorize();
}
</code></pre>
		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="April 20th 2011, 11:40:13 am">April 20th 2011</span>
				by <span class='authorname'>Robin Enhorn</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>authorization</span></li>
					
						<li><span class='tagname'>facebook</span></li>
					
				</ul>
			

			<section>
				<h5>5 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>I have the same problem on Android. Even the Facebook button that &quot;Just Works&quot; is not working… any ideas?</p>
</div>
							<div class="author">
								&mdash; commented <span title="September 19th 2011, 10:34:36 pm">September 19th 2011</span>
								by <span class='authorname'>Keith Paton</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Did anyone ever figure this out? I&#39;m still getting this problem on Titanium 3.1.3 on Android 4.2.2. It works fine on iOS7 though.</p>
</div>
							<div class="author">
								&mdash; commented <span title="November 15th 2013, 7:48:01 am">November 15th 2013</span>
								by <span class='authorname'>James Draper</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>James Draper, exact same thing here with the same setup. Will let you know if I find something. Please update here if you find a solution first.</p>
</div>
							<div class="author">
								&mdash; commented <span title="November 30th 2013, 5:28:58 pm">November 30th 2013</span>
								by <span class='authorname'>Bernardo Oliveira</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Same problem for me. Works fine in iOS7 but nothing in Android 4.2.2 or 4.3. I&#39;m using Titanium SDK 3.1.3. Made sure Facebook hash keys are correct and no errors there. I am able to get the FB login dialog to come up if I completely log out on my device. Login appears to work but no callback&#x2F;response. I&#39;m testing direct on a device and coded alert() with the response. The FB login dialog closes but no permission request alert or custom coded success alert. Anyone have an example of a working Android Facebook login, please respond. Thanks!</p>
</div>
							<div class="author">
								&mdash; commented <span title="December 5th 2013, 10:49:47 am">December 5th 2013</span>
								by <span class='authorname'>Van Eiseman</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Curious if the Class Name attribute in the Facebook App Settings for Native Android App have anything to do with the issue. I have mine set as the same as the Package Name (which is the Application ID property from the tiapp.xml file in Titanium). The FB help icon says it should be the Android &quot;MainActivity&quot; name space. Does anyone know if the Titanium Application ID property maps to the MainActivity name space in Android the way it does the iOS Bundle ID? Are these all same?</p>
</div>
							<div class="author">
								&mdash; commented <span title="December 6th 2013, 9:42:18 am">December 6th 2013</span>
								by <span class='authorname'>Van Eiseman</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>5</span> Votes</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-208616">
				
						<section>
							<p>when i alert() Titanium.Facebook.loggedIn i get a return of 1 and 0 for true and false. Says Boolean value in the doc, but it returns an int. maybe try if (Titanium.Facebook.loggedIn == 0) for false?</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="May 26th 2011, 6:11:26 pm">May 26th 2011</span>
								by <span class='authorname'>Corey Snyder</span><br>
								<a class="icon-bg icon-link" href="question/118756/facebookauthorize-works-on-iphone-nothing-on-android.html#answer-208616" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-218954">
				
						<section>
							<p>Replace === with ==</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="September 16th 2011, 4:55:24 am">September 16th 2011</span>
								by <span class='authorname'>Aleksandar Babic</span><br>
								<a class="icon-bg icon-link" href="question/118756/facebookauthorize-works-on-iphone-nothing-on-android.html#answer-218954" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
