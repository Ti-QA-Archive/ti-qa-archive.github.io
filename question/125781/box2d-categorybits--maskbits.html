<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Box2D: categoryBits &amp; maskBits Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Box2D: categoryBits &amp; maskBits</h1>
		</header>
		<section>
			<p>I know the current Box2D module is beta, but I was wondering if these features are active in this release. I&#39;ve looked through the sourcecode and the function definitions seem to be there, but I can&#39;t get them to work. </p>
<p>Can someone either confirm&#x2F;deny these features are working and&#x2F;or proffer some helpful syntax?</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="September 19th 2011, 4:05:41 pm">September 19th 2011</span>
				by <span class='authorname'>Jeremy Dowell</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>box2d</span></li>
					
						<li><span class='tagname'>categorybits</span></li>
					
						<li><span class='tagname'>collisions</span></li>
					
						<li><span class='tagname'>iphone</span></li>
					
						<li><span class='tagname'>maskbits</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>4</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>4 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-219112">
				
						<section>
							<p>From what I can see, I don&#39;t think it&#39;s been implemented yet in the Titanium module code yet. I think you&#39;d have to do your own filtering logic in the collision events (which I think is what the categoryBits and maskBits are for). </p>
<p>I&#39;ve only had a quick stab at a Box2D based app so far. Trying to make a simple Breakout demo. It hasn&#39;t been that stable ;) (But then, that could be my fault! ;p )</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="September 19th 2011, 4:31:17 pm">September 19th 2011</span>
								by <span class='authorname'>Kosso</span><br>
								<a class="icon-bg icon-link" href="question/125781/box2d-categorybits--maskbits.html#answer-219112" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-219114">
				
						<section>
							<p>I&#39;m working on porting a flash game I wrote earlier this year. It&#39;s a simple 2D game that basically only relies on collisions for decision making. I need to make sure that enemies don&#39;t collide with other enemies. That is, they need to just pass through each other. Box2D uses the filter.categoryBits and filter.maskBits to make those distinctions.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="September 19th 2011, 4:34:52 pm">September 19th 2011</span>
								by <span class='authorname'>Jeremy Dowell</span><br>
								<a class="icon-bg icon-link" href="question/125781/box2d-categorybits--maskbits.html#answer-219114" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-219116">
				
						<section>
							<p>Yes. I see it hasn&#39;t been implemented yet. </p>
<p>From what I can tell (with my limited ObjecteC skills) the ability to define these filters will need to be implemented in the addBody method found in the TiBox2dWorldProxy.mm file so they can be set using the Box2D SetUserData method.</p>
<p>Also, it would then need implementing in the TiContactListener.mm file, after retrieving them using the Box2D GetUserData method - so that the collision events are triggered or not.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="September 19th 2011, 4:58:36 pm">September 19th 2011</span>
								by <span class='authorname'>Kosso</span><br>
								<a class="icon-bg icon-link" href="question/125781/box2d-categorybits--maskbits.html#answer-219116" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-219128">
				
						<section>
							<p>So I setup my walls like:</p>
<pre><code class="hljs">world.rightWall = world.addBody(Ti.UI.createView({
            <span class="hljs-string">backgroundColor :</span> <span class="hljs-string">"#ffffff"</span>,
            <span class="hljs-string">width :</span> <span class="hljs-number">5</span>,
            <span class="hljs-string">right :</span> <span class="hljs-number">0</span>,
            <span class="hljs-string">height :</span> <span class="hljs-number">320</span>,
            <span class="hljs-string">bottom :</span> <span class="hljs-number">0</span>,
<span class="hljs-label">            name:</span> <span class="hljs-string">"rightwall"</span>
        }), {
            <span class="hljs-string">density :</span> <span class="hljs-number">0</span>,
            <span class="hljs-string">friction :</span> <span class="hljs-number">0</span>,
            <span class="hljs-string">restitution :</span> <span class="hljs-number">0</span>,
            <span class="hljs-string">type :</span> <span class="hljs-string">"static"</span>,
<span class="hljs-label">            categoryBits:</span> <span class="hljs-number">4</span>
        });
    walls.push(world.rightWall);
</code></pre><p>And my &quot;player&quot; like:</p>
<pre><code class="hljs">world.ball = world.addBody(Ti.UI.createView({
            <span class="hljs-string">backgroundColor :</span> <span class="hljs-string">"#ffffff"</span>,
            <span class="hljs-string">width :</span> <span class="hljs-number">10</span>,
            <span class="hljs-string">height :</span> <span class="hljs-number">10</span>,
            <span class="hljs-string">right :</span> <span class="hljs-number">230</span>,
            <span class="hljs-string">bottom :</span> <span class="hljs-number">120</span>,  
<span class="hljs-label">            name:</span> <span class="hljs-string">"player"</span>       
        }), {
            <span class="hljs-string">radius :</span> <span class="hljs-number">5</span>,
            <span class="hljs-string">density :</span> <span class="hljs-number">0</span>,
            <span class="hljs-string">friction :</span> <span class="hljs-number">0</span>,
            <span class="hljs-string">restitution :</span> <span class="hljs-number">0</span>,
            <span class="hljs-string">type :</span> <span class="hljs-string">"dynamic"</span>,
<span class="hljs-label">            categoryBits:</span> <span class="hljs-number">4</span>
        });
</code></pre><p>And my enemies thusly:</p>
<pre><code class="hljs">var addEnemy= world.addBody(newEnemy, {
    radius : <span class="hljs-number">10</span>,
    density : <span class="hljs-number">0</span>,
    friction : <span class="hljs-number">0</span>,
    restitution : <span class="hljs-number">1</span>,
    type : <span class="hljs-string">"dynamic"</span>,
    name: <span class="hljs-string">"enemy"</span>,
    categoryBits: <span class="hljs-number">5</span>,
    maskBits: <span class="hljs-number">4</span>
 });
</code></pre><p>Now, the expected behavior here (assuming I have the syntax correctly would be)</p>
<p>Enemies bounce off of the walls and off of the player, but not off of each other.</p>
<p>Correct?</p>
<p>If so, then either A) I have the syntax wrong or B) the category&#x2F;mask bits are not implemented.</p>
<p>Which is the correct one?</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="September 19th 2011, 6:32:07 pm">September 19th 2011</span>
								by <span class='authorname'>Jeremy Dowell</span><br>
								<a class="icon-bg icon-link" href="question/125781/box2d-categorybits--maskbits.html#answer-219128" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Unfortunately, as I said earlier, it hasn&#39;t been implemented yet.</p>
<p>Look at the source here for addBody : https:&#x2F;&#x2F;github.com&#x2F;appcelerator&#x2F;titanium_modules&#x2F;blob&#x2F;master&#x2F;box2d&#x2F;mobile&#x2F;ios&#x2F;Classes&#x2F;TiBox2dWorldProxy.mm#L180</p>
<p>You&#39;ll see there&#39;s no way to set the &#39;categoryBits&#39; or &#39;maskBits&#39;</p>
<p>It currently only supports type, density, restitution, friction, (radius, which would set it to be a circle) and its dimensions and initial position.</p>
</p>
										<div class="author">
											&mdash; commented <span title="September 19th 2011, 6:40:11 pm">September 19th 2011</span>
											by <span class='authorname'>Kosso</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
