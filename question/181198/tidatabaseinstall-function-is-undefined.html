<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Ti.Database.install function is undefined » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Ti.Database.install function is undefined</h1>
		</header>
		<section>
			<p>Hello everyone. I have inherited a project from a third party developer and I&#39;m having difficultly even getting this project to load up in an ios simulator. I&#39;ve never actually used titanium before, I&#39;m a javascript developer trying to help a friend get free of some project nightmares with his current developer. When I load up the project and attempt to run the simulator I get an error message pointing to the Ti.Database.install function as being undefined. The exact error message is this:</p>
<pre><code class="hljs">[ERROR] Script Error {
    backtrace = "#0 () at file:///Users/N8/Library/Developer/CoreSimulator/Devices/268AAAC7-AAC6-496D-<span class="hljs-number">88E6-0E1</span>D773C72AF/data/Containers/Bundle/Application/33EE43BF-EE71-475C-A575-B80CCFC51B73/Pilgrims%20Market.app/alloy.js:72"<span class="hljs-comment">;</span>
    line = 289<span class="hljs-comment">;</span>
    message = "'undefined' is not a function (evaluating 'Alloy.Globals.installDb()')"<span class="hljs-comment">;</span>
    name = TypeError<span class="hljs-comment">;</span>
    sourceId = <span class="hljs-number">303608192</span><span class="hljs-comment">;</span>
    sourceURL = "file:///Users/N8/Library/Developer/CoreSimulator/Devices/268AAAC7-AAC6-496D-<span class="hljs-number">88E6-0E1</span>D773C72AF/data/Containers/Bundle/Application/33EE43BF-EE71-475C-A575-B80CCFC51B73/Pilgrims%20Market.app/alloy/controllers/index.js"<span class="hljs-comment">;</span>
}
</code></pre><p>the Alloy.Globals.installDb() function here: </p>
<pre><code class="hljs">Alloy.Globals.installDb = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-comment">// Alloy.Globals.db = null;</span>
    Ti.API.info(<span class="hljs-string">'Data base ----'</span> + Alloy.Globals.db);
    <span class="hljs-keyword">if</span> (Alloy.Globals.db == <span class="hljs-literal">null</span>) {
        Alloy.Globals.db = Ti.Database.install(<span class="hljs-string">"database/groceryapp.sqlite"</span>, <span class="hljs-string">"grocery_db"</span>);        
    }
};
</code></pre><p>I have tried renaming the sqlite file to .db as some tutorials have suggested and that seems to have no effect. I have what appears to be a master app folder and within that folder the alloy.js file with the global install db function exists. Within there is assets&#x2F;database&#x2F;groceryapp.sqlite file. In the same folder as the app folder there is also a Resources folder with iphone&#x2F;database&#x2F;groceryapp.sqlite. I&#39;ve also tried Resources&#x2F;database&#x2F;groceryapp.sqlite. I get the same error message every time that the install function is undefined when starting the simulator. Can anyone help explain what is going wrong here? Any help is greatly appreciated, thank you very much.</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="March 4th 2015, 12:38:03 am">March 4th 2015</span>
				by <span class='authorname'>ntae sa</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>database install</span></li>
					
						<li><span class='tagname'>simulator</span></li>
					
				</ul>
			

			<section>
				<h5>2 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>the problem is not that Ti.Database.install is undefined, but that Alloy.Globals.installDb() is. Where do you define the installDb function?</p>
</div>
							<div class="author">
								&mdash; commented <span title="March 4th 2015, 9:21:14 am">March 4th 2015</span>
								by <span class='authorname'>Alberto Marcone</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Hello and thanks for your response. Sorry for my slow response. I managed to get passed this error, it seems I didn&#39;t have the right titanium sdk installed that matched what the project was using. Once having that installed I got passed this error message and now I get this one….</p>
<pre><code class="hljs">[<span class="hljs-constant">ERROR</span>] :  <span class="hljs-constant">Failed</span> to load command <span class="hljs-string">"build"</span>
[<span class="hljs-constant">ERROR</span>] :  <span class="hljs-constant">TypeError</span>: <span class="hljs-constant">Cannot</span> call method <span class="hljs-string">'map'</span> <span class="hljs-keyword">of</span> undefined
at <span class="hljs-constant">Object</span>.&lt;anonymous&gt; (<span class="hljs-regexp">/usr/lib</span><span class="hljs-regexp">/node_modules/titanium</span><span class="hljs-regexp">/node_modules/node</span>-appc/<span class="hljs-class"><span class="hljs-keyword">lib</span>/<span class="hljs-title">exception</span>.<span class="hljs-title">js</span>:33:27)</span>
    at <span class="hljs-constant">Module</span>._compile (<span class="hljs-class"><span class="hljs-keyword">module</span>.<span class="hljs-title">js</span>:456:26)</span>
    at <span class="hljs-constant">Module</span>._extensions..js (<span class="hljs-class"><span class="hljs-keyword">module</span>.<span class="hljs-title">js</span>:474:10)</span>
    at <span class="hljs-constant">Module</span>.load (<span class="hljs-class"><span class="hljs-keyword">module</span>.<span class="hljs-title">js</span>:356:32)</span>
    at <span class="hljs-constant">Module</span>._load (<span class="hljs-class"><span class="hljs-keyword">module</span>.<span class="hljs-title">js</span>:312:12)</span>
    at <span class="hljs-constant">Module</span>.<span class="hljs-keyword">require</span> (<span class="hljs-class"><span class="hljs-keyword">module</span>.<span class="hljs-title">js</span>:364:17)</span>
    at <span class="hljs-keyword">require</span> (<span class="hljs-class"><span class="hljs-keyword">module</span>.<span class="hljs-title">js</span>:380:17)</span>
    at <span class="hljs-constant">Object</span>.&lt;anonymous&gt; (<span class="hljs-regexp">/usr/lib</span><span class="hljs-regexp">/node_modules/titanium</span><span class="hljs-regexp">/node_modules/node</span>-appc/<span class="hljs-class"><span class="hljs-keyword">lib</span>/<span class="hljs-title">auth</span>.<span class="hljs-title">js</span>:25:18)</span>
    at <span class="hljs-constant">Module</span>._compile (<span class="hljs-class"><span class="hljs-keyword">module</span>.<span class="hljs-title">js</span>:456:26)</span>
    at <span class="hljs-constant">Module</span>._extensions..js (<span class="hljs-class"><span class="hljs-keyword">module</span>.<span class="hljs-title">js</span>:474:10)</span>
---------------------------------------------
    at <span class="hljs-constant">Object</span>.run (<span class="hljs-regexp">/usr/lib</span><span class="hljs-regexp">/node_modules/titanium</span><span class="hljs-regexp">/node_modules/node</span>-appc/<span class="hljs-class"><span class="hljs-keyword">lib</span>/<span class="hljs-title">subprocess</span>.<span class="hljs-title">js</span>:59:8)</span>
    at find (<span class="hljs-regexp">/usr/lib</span><span class="hljs-regexp">/node_modules/titanium</span><span class="hljs-regexp">/node_modules/node</span>-appc/<span class="hljs-class"><span class="hljs-keyword">lib</span>/<span class="hljs-title">subprocess</span>.<span class="hljs-title">js</span>:96:14)</span>
    at q.process (<span class="hljs-regexp">/usr/lib</span><span class="hljs-regexp">/node_modules/titanium</span><span class="hljs-regexp">/node_modules/async</span><span class="hljs-regexp">/lib/async</span>.<span class="hljs-symbol">js:</span><span class="hljs-number">731</span>:<span class="hljs-number">21</span>)
    at processImmediate (timers.<span class="hljs-symbol">js:</span><span class="hljs-number">345</span>:<span class="hljs-number">15</span>)
[<span class="hljs-constant">ERROR</span>] <span class="hljs-constant">Application</span> <span class="hljs-constant">Installer</span> abnormal process termination. <span class="hljs-constant">Process</span> exit value was <span class="hljs-number">1</span>
</code></pre><p>I made sure the sdk&#39;s matched and I have xcode5 which is what the version this project uses and I did an terminal install of titanium and alloy and yet the issue persists. Seems to be pointing to something to do with node… ? Thanks again for any help.</p>
</div>
							<div class="author">
								&mdash; commented <span title="March 6th 2015, 6:44:59 pm">March 6th 2015</span>
								by <span class='authorname'>ntae sa</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>3</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>3 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-286328">
				
						<section>
							<pre><code class="hljs"><span class="hljs-keyword">and</span> I have xcode5
</code></pre><p>This is precisely why we ask the following:</p>
<p>Missing from your question are a number of important pieces of information. I suggest you take a look at the <a href="https:&#x2F;&#x2F;wiki.appcelerator.org&#x2F;display&#x2F;guides&#x2F;Using+Questions+and+Answers">Using Questions and Answers</a> article, specifically the Q&amp;A Question Checklist.  The missing information is critical to reproducing problems in a test environment and often indicates other factors that cause the undesirable outcome you are experiencing.</p>
<p><a href="http:&#x2F;&#x2F;docs.appcelerator.com&#x2F;titanium&#x2F;3.0&#x2F;#!&#x2F;guide&#x2F;Titanium_Compatibility_Matrix-section-29004837_TitaniumCompatibilityMatrix-Xcode">http:&#x2F;&#x2F;docs.appcelerator.com&#x2F;titanium&#x2F;3.0&#x2F;#!&#x2F;guide&#x2F;Titanium_Compatibility_Matrix-section-29004837_TitaniumCompatibilityMatrix-Xcode</a> &lt;– check the matrix.  Unless you are building for a private enterprise store, you need to be using 3.5.0.GA so you can submit a 64bit compatible binary to the app store. Anything higher than 3.4.0 requires xCode 6.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="March 6th 2015, 6:55:10 pm">March 6th 2015</span>
								by <span class='authorname'>Stephen Feather</span><br>
								<a class="icon-bg icon-link" href="../../question/181198/tidatabaseinstall-function-is-undefined.html#answer-286328" rel="permalink">permalink</a>
							</div>

							<h5>4 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Lot of changes between 3.1.4 and 3.2.</p>
<p>Lot of changes between 3.2 and 3.5.0</p>
<p>And you <strong>have still not submitted to us your current environment</strong> which affects the errors you will see.</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 6th 2015, 7:22:47 pm">March 6th 2015</span>
											by <span class='authorname'>Stephen Feather</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>As for taking a look at the code, seeing what you might need done, hit me on DevLink.</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 6th 2015, 7:23:31 pm">March 6th 2015</span>
											by <span class='authorname'>Stephen Feather</span>
										</div>
									</li>
								
									<li class="comment">
										<p><pre><code class="hljs">[<span class="hljs-type">ERROR</span>] :  <span class="hljs-type">Failed</span> to load command <span class="hljs-string">"build"</span>
[<span class="hljs-type">ERROR</span>] :  <span class="hljs-type">TypeError</span>: <span class="hljs-type">Cannot</span> call <span class="hljs-keyword">method</span> 'map' <span class="hljs-keyword">of</span> undefined
at <span class="hljs-type">Object</span>.&lt;anonymous&gt;
</code></pre><p>commonly comes from running mismatched CLI tooling and SDKs</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 6th 2015, 7:25:06 pm">March 6th 2015</span>
											by <span class='authorname'>Stephen Feather</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>from a terminal:</p>
<pre><code class="hljs"><span class="hljs-title">ti</span> -v
</code></pre><pre><code class="hljs"><span class="hljs-title">ti</span> <span class="hljs-built_in">info</span>
</code></pre><pre><code class="hljs"><span class="hljs-keyword">node</span><span class="hljs-identifier"> </span><span class="hljs-title">-v</span>
</code></pre><pre><code class="hljs">java -<span class="hljs-property">version</span>
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="March 6th 2015, 7:40:29 pm">March 6th 2015</span>
											by <span class='authorname'>Stephen Feather</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-286329">
				
						<section>
							<p>Stephen thanks for responding. I don&#39;t think I explain myself well enough. The whole goal is to get this to compile using the original project development environment so we can upgrade it to the latest SDK&#39;s (In fact the upgrade is driven by the need for 64bit iOS device support, specifically because of the issue your brought up.) But first we have to compile the code to make sure it works before we upgrade.</p>
<p>The project I inherited from a team who were using the following development environment to compile on mac OS using the following:<br>Titanium Studio : 3.1.3<br>Titanium SDK : 3.1.4<br>Xcode: 5.0</p>
<p>I first tried to compile the project using all of the latest versions of the above SDK&#39;s but it failed. So I began to assume that it&#39;s because we are not using the same development environment. So then came the downgrade to the older  SDK&#39;s (the versions above) and it still won&#39;t compile. </p>
<p>That is where we have left off…</p>
<p>In summary, my goal is to replicate their development environment and compile to make sure it works using their SDK&#x2F;Versions of Xcode and Studio. Once I get to that point I know that the code is good and I can work on upgrading it to the latest SDK for 64bit on iOS. But first I need to make sure the git I am pulling from will compile. (We have tried to compile on all of the latest versions but it fails over and over again, so we are assuming that it&#39;s because we are not using the same development environment.)</p>
<p>I really appreciate your help and if you know anyone that would be willing to do a quick upgrade of the code to compile on the latest SDK&#39;s for a fair price please let me know!</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="March 6th 2015, 7:16:57 pm">March 6th 2015</span>
								by <span class='authorname'>ntae sa</span><br>
								<a class="icon-bg icon-link" href="../../question/181198/tidatabaseinstall-function-is-undefined.html#answer-286329" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-286330">
				
						<section>
							<p>Here is what the old developers told me they can compile it with, so I setup the exact same environment:</p>
<p>Application type: Mobile<br>Titanium SDK: version number 3.1.4<br>Platform &amp; version: iOS 6+ and Android3+<br>Device: iOS simulator, Android emulator, Geny Motion, KitKat Android Real device<br>Host Operating System: iOS 10.10 and Linux Mint 17 (Debian)<br>Titanium Studio : 3.1.3<br>Titanium SDK : 3.1.4<br>Xcode: 5.0<br>A simple test case: Compile for emulator (Any emulator) fails</p>
<p>Logs: I am not at my development computer but I will post the entire compile log here. Please refer to the above post. </p>
<p>iOS Packaging: contents of build&#x2F;iphone&#x2F;build&#x2F;build.log (I will post this as soon as possible.)</p>
<p>Studio: contents of menu item Help &gt; Studio &gt; View Log File (contents of &lt;workspace-dir&gt;&#x2F;log file) I will post this soon as well.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="March 6th 2015, 7:30:52 pm">March 6th 2015</span>
								by <span class='authorname'>ntae sa</span><br>
								<a class="icon-bg icon-link" href="../../question/181198/tidatabaseinstall-function-is-undefined.html#answer-286330" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
