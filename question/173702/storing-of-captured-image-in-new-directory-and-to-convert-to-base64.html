<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>storing of captured image in new directory and to convert to base64 Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>storing of captured image in new directory and to convert to base64</h1>
		</header>
		<section>
			<p>Hi,</p>
<p>Need to store the captured images to the new directory and from that directory, convert these images to base64 format. I am able to create directory and storing that image in that particular folder. But once i click on submit needs to get the images that are stored in the new folder and convert these to base64 format. But from my code when i clicked on submit it&#39;s opening gallery, i need to get selected from new directory. How to open new directory&#x2F;folder. i need to send whole folder to the service.</p>
<p>This is my capturing photo and store in new directory</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> filename;
captureButton.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{

    Titanium.Media.showCamera({
         success:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>)
            </span>{
                 <span class="hljs-keyword">var</span> image = event.media;

<span class="hljs-keyword">var</span> dir=Titanium.Filesystem.applicationDataDirectory +<span class="hljs-string">'/newFolder'</span>;
    <span class="hljs-keyword">var</span> folder =Titanium.Filesystem.getFile(dir);
    <span class="hljs-keyword">if</span>(!folder.exists()){
        folder.createDirectory(); 
        alert(<span class="hljs-string">'folder is'</span>+folder);
    }
alert(<span class="hljs-string">'dir is'</span>+dir);

 filename = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>().getTime()+ <span class="hljs-string">"-dam.jpg"</span>;
alert(<span class="hljs-string">'filename------'</span>+filename);
<span class="hljs-comment">// Create the file in the application directory</span>
bgImage = Titanium.Filesystem.getFile(dir, filename);
alert(bgImage);
Ti.API.info(<span class="hljs-string">"capture clicked--------------------"</span>+filename);
<span class="hljs-comment">// Write the image to the new file (image created from camera)</span>
bgImage.write(image);


<span class="hljs-keyword">var</span> imageView1 = Titanium.UI.createImageView({
    height:<span class="hljs-number">50</span>,
    width:<span class="hljs-number">50</span>,
        image:filename.nativePath,

});

                self.add(imageView1);
            }

            saveToPhotoGallery:<span class="hljs-literal">true</span>,
            allowImageEditing:<span class="hljs-literal">true</span>

    });
</code></pre><p>This is my code for getting the image from newFolder and convert to base64</p>
<pre><code class="hljs">submit.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)</span>{

       Titanium.Media.openPhotoGallery({
           success:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>)
</span>{

    <span class="hljs-comment">//var image = event.media;//blob object</span>

    <span class="hljs-keyword">if</span>(Titanium.Filesystem.getFile(Titanium.Filesystem.applicationDataDirectory +<span class="hljs-string">'/newFolder'</span>,filename))
    {
         <span class="hljs-keyword">var</span> icon = Titanium.Filesystem.applicationDataDirectory +<span class="hljs-string">'/newFolder/'</span>+filename;

         <span class="hljs-keyword">var</span> Name = Titanium.Filesystem.getFile(icon);

        <span class="hljs-comment">// var Name=event.media;</span>

         <span class="hljs-keyword">var</span> image = Name.read();<span class="hljs-comment">//blob object</span>

         <span class="hljs-built_in">console</span>.log(image);

         alert(Name.name);

         <span class="hljs-keyword">var</span> image11 = Ti.Utils.base64encode(image);
                 alert(<span class="hljs-string">"image11 ="</span> + image11);
    }

    mediaTypes:[Ti.Media.MEDIA_TYPE_PHOTO]

       });
</code></pre><p>Thanks,<br>Dinakar</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="May 1st 2014, 8:27:37 am">May 1st 2014</span>
				by <span class='authorname'>dinakar raju</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>appcelerator</span></li>
					
						<li><span class='tagname'>camera</span></li>
					
						<li><span class='tagname'>iphone</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-278307">
				
						<section>
							<pre><code class="hljs"> How <span class="hljs-built_in">to</span> <span class="hljs-built_in">open</span> <span class="hljs-built_in">new</span> <span class="hljs-built_in">directory</span>/<span class="hljs-built_in">folder</span>. i need <span class="hljs-built_in">to</span> <span class="hljs-built_in">send</span> <span class="hljs-keyword">whole</span> <span class="hljs-built_in">folder</span> <span class="hljs-built_in">to</span> <span class="hljs-operator">the</span> service.
</code></pre><p>Couple of ways to do this.</p>
<p>First, you could use the compression module and just zip up the folder.  This has the potential to create one massive archive that really would aggravate the user when it comes time to upload to the server.  But its an option.</p>
<p>The second, and probably the approach I&#39;d take, is to <a href="http:&#x2F;&#x2F;docs.appcelerator.com&#x2F;titanium&#x2F;latest&#x2F;#!&#x2F;api&#x2F;Titanium.Filesystem.File-method-getDirectoryListing">read the directory list of the folder containing your images</a>, <a href="http:&#x2F;&#x2F;docs.appcelerator.com&#x2F;titanium&#x2F;latest&#x2F;#!&#x2F;api&#x2F;Titanium.Filesystem.File-method-isFile">check to see if a child is a file</a>, read the image files, encode them, ship to the server.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="May 1st 2014, 10:45:55 am">May 1st 2014</span>
								by <span class='authorname'>Stephen Feather</span><br>
								<a class="icon-bg icon-link" href="question/173702/storing-of-captured-image-in-new-directory-and-to-convert-to-base64.html#answer-278307" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
