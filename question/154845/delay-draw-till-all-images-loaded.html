<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Delay draw till all images loaded Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Delay draw till all images loaded</h1>
		</header>
		<section>
			<p>I have a page in my app that has 3 buttons, the problem is the button text is dependent on language, so I have to set them in the previous page when language is selected. So when the page loads there is a visible delay before the buttons load. How can I prevent this delay from being visible to the end user    ?</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="July 14th 2013, 1:35:25 pm">July 14th 2013</span>
				by <span class='authorname'>Richard Fyffe</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>alloy</span></li>
					
						<li><span class='tagname'>image</span></li>
					
						<li><span class='tagname'>imageview</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-265900">
				
						<section>
							<p>if the buttons are imageviews, you could listen for the event &quot;complete&quot; on all 3 of them.</p>
<p>if the buttons are buttons, it should work the same way. With some more code we could understand better.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="July 15th 2013, 4:16:22 am">July 15th 2013</span>
								by <span class='authorname'>Alberto Marcone</span><br>
								<a class="icon-bg icon-link" href="question/154845/delay-draw-till-all-images-loaded.html#answer-265900" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>What is the syntax for this?</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 16th 2013, 11:20:26 am">July 16th 2013</span>
											by <span class='authorname'>Richard Fyffe</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-265930">
				
						<section>
							<p>It sounds like you are assigning text manually based on language. Why not make use of the builtin properties that use the <code>i18n</code> localization files to change text? Button&#39;s have the <a href="http:&#x2F;&#x2F;docs.appcelerator.com&#x2F;titanium&#x2F;latest&#x2F;#!&#x2F;api&#x2F;Titanium.UI.Button-property-titleid">titleid</a> property which allows you to specify a localization key, which will in turn give the button the appropriate text based on language. For more details on proper localization, checkout this document: <a href="http:&#x2F;&#x2F;docs.appcelerator.com&#x2F;titanium&#x2F;latest&#x2F;#!&#x2F;api&#x2F;Titanium.UI.Button-property-titleid">http:&#x2F;&#x2F;docs.appcelerator.com&#x2F;titanium&#x2F;latest&#x2F;#!&#x2F;api&#x2F;Titanium.UI.Button-property-titleid</a></p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="July 15th 2013, 12:09:28 pm">July 15th 2013</span>
								by <span class='authorname'>Tony Lukasavage</span><br>
								<a class="icon-bg icon-link" href="question/154845/delay-draw-till-all-images-loaded.html#answer-265930" rel="permalink">permalink</a>
							</div>

							<h5>8 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>The text is built into the image.</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 16th 2013, 11:20:50 am">July 16th 2013</span>
											by <span class='authorname'>Richard Fyffe</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Did you try instantiating the window and all the buttons within it <em>before</em> opening the window?</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 16th 2013, 12:11:31 pm">July 16th 2013</span>
											by <span class='authorname'>Tony Lukasavage</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Sorry for the delay on replying. I call:</p>
<pre><code class="hljs"><span class="hljs-type">Alloy</span>.<span class="hljs-type">Globals</span>.<span class="hljs-type">SetImages</span><span class="hljs-literal">()</span>;
var <span class="hljs-type">MainMenu</span> = <span class="hljs-type">Alloy</span>.createController(<span class="hljs-symbol">'MainMenu'</span>).getView<span class="hljs-literal">()</span>;
<span class="hljs-type">MainMenu</span>.<span class="hljs-keyword">open</span><span class="hljs-literal">()</span>;
</code></pre><p>Is there a better way of doing this?</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 21st 2013, 1:50:22 pm">July 21st 2013</span>
											by <span class='authorname'>Richard Fyffe</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>You&#39;ll need to show a little more code to help me understand what the delay is, because nothing I&#39;ve seen so far makes it obvious. A small test case that shows how these images get set and then how they are loaded in your controller would be good. The smallest possible case that exhibits your delay so I can reproduce it on my end.</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 22nd 2013, 12:58:10 pm">July 22nd 2013</span>
											by <span class='authorname'>Tony Lukasavage</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>So the Set image function is as follows: </p>
<pre><code class="hljs"><span class="hljs-constant">Alloy.Globals.SetImages</span> = function SetImage(){
<span class="hljs-constant">Alloy.CFG.LexiqueButtonImage</span> = <span class="hljs-string">"/Art/"</span>    + Alloy.CFG.Platform + <span class="hljs-string">"/"</span> + Alloy.CFG.ChosenLanguage + <span class="hljs-string">"/LexiqueButton.png"</span>;
<span class="hljs-constant">Alloy.CFG.HyperlinksButtonImage</span> = <span class="hljs-string">"/Art/"</span> + Alloy.CFG.Platform + <span class="hljs-string">"/"</span> + Alloy.CFG.ChosenLanguage + <span class="hljs-string">"/HyperliensButton.png"</span>;
<span class="hljs-constant">
Alloy.CFG.RouletteBackImage</span> = <span class="hljs-string">"/Art/"</span>   + Alloy.CFG.Platform + <span class="hljs-string">"/"</span> + Alloy.CFG.ChosenLanguage + <span class="hljs-string">"/Back.png"</span>;
<span class="hljs-constant">Alloy.CFG.RouletteCoverImage</span> = <span class="hljs-string">"/Art/"</span>  + Alloy.CFG.Platform + <span class="hljs-string">"/"</span> + Alloy.CFG.ChosenLanguage + <span class="hljs-string">"/Cover.png"</span>;
<span class="hljs-constant">Alloy.CFG.ProcedureButtonImage</span> = <span class="hljs-string">"/Art/"</span>+ Alloy.CFG.Platform + <span class="hljs-string">"/"</span> + Alloy.CFG.ChosenLanguage + <span class="hljs-string">"/ProcedureButton.png"</span>;
};
</code></pre><p>Platform is just a string that can either be &quot;Tablet&quot; or &quot;Phone&quot; and language is &quot;English&quot; or &quot;French&quot;. And in MainMenu.tss you have the images loading in:</p>
<pre><code class="hljs">"<span class="hljs-id">#LexiqueButton</span>":<span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">image</span>:<span class="hljs-value">Alloy.CFG.LexiqueButtonImage,</span></span></span>
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="July 23rd 2013, 10:31:04 am">July 23rd 2013</span>
											by <span class='authorname'>Richard Fyffe</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Again, nothing here looks out of the ordinary, but it&#39;s going to be hard to provide any detailed feedback without a small, standalone, reproducible test case that I can actually run and see what you are experiencing. I don&#39;t think we&#39;re going to get very far with snippet after snippet like this.</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 23rd 2013, 1:10:47 pm">July 23rd 2013</span>
											by <span class='authorname'>Tony Lukasavage</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Here is the button function it&#39;s set in the .xml</p>
<pre><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">FrenchButPress</span><span class="hljs-params">(e)</span></span>{
    Alloy.CFG.ChosenLanguage = <span class="hljs-string">"French"</span>;
    Alloy.Globals.SetImages();
    <span class="hljs-keyword">var</span> MainMenu = Alloy.createController(<span class="hljs-string">'MainMenu'</span>).getView();
    MainMenu.open();
}
</code></pre><p>Then the set image function posted above.</p>
<p>The images are set in the .tss</p>
<pre><code class="hljs">"<span class="hljs-id">#LexiqueButton</span>":<span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">image</span>:<span class="hljs-value">Alloy.CFG.LexiqueButtonImage,
    width: Alloy.Globals.BlueButtonWidth,
    height:Alloy.Globals.ProcedureButtonHeight,
    top: Alloy.Globals.MidButtonLocation
</span></span></span>},
<span class="hljs-tag">etc</span>
</code></pre><p>Mainmenu.js doesn&#39;t have a start function.</p>
<p>Is there anything more you need?</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 24th 2013, 12:00:13 pm">July 24th 2013</span>
											by <span class='authorname'>Richard Fyffe</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Yes, as I stated a number of times, I need a test case I can run, not just snippets. Please supply a complete, runnable, minimal test case that exhibits your issue.</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 24th 2013, 12:09:38 pm">July 24th 2013</span>
											by <span class='authorname'>Tony Lukasavage</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
