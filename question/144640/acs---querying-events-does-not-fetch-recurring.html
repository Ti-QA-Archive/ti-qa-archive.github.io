<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>ACS - Querying Events does not fetch Recurring » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>ACS - Querying Events does not fetch Recurring</h1>
		</header>
		<section>
			<p>I&#39;ve got several Events that are on the Cloud, many of them are recurring, some weekly, some daily.</p>
<p>When I Query the Events:</p>
<pre><code class="hljs">...
Cloud.Events.query({
            page: <span class="hljs-number">1</span>,
            per_page: <span class="hljs-number">100</span>,
            where: { start_time : { <span class="hljs-variable">$gte</span> : startDate.format(), <span class="hljs-variable">$lt</span> : endDate.format() } }, 
            order: <span class="hljs-string">'start_time'</span> }, 
            <span class="hljs-keyword">function</span> (e) {
                if (e.success) {
</code></pre><p><em>Startdate and EndDate are a span of today till 7 days in the future.</em></p>
<p>The Events that are shown, are <strong>Only those</strong> that have a <code>start_time</code> that falls between the startDate and endDate, ignoring all the events that are recurring.</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="November 12th 2012, 8:23:53 pm">November 12th 2012</span>
				by <span class='authorname'>Joseph Sachs</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>acs</span></li>
					
						<li><span class='tagname'>events</span></li>
					
						<li><span class='tagname'>query</span></li>
					
						<li><span class='tagname'>recurring events</span></li>
					
				</ul>
			

			<section>
				<h5>1 Comment</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>I&#39;ve also tried:</p>
<pre><code class="hljs">Cloud.Events.queryOccurrences({
            page: <span class="hljs-number">1</span>,
            per_page: <span class="hljs-number">200</span>,
            where: { start_time : { <span class="hljs-variable">$gte</span> : startDate.format(), <span class="hljs-variable">$lt</span> : endDate.format() } }, 
            order: <span class="hljs-string">'start_time'</span> }, 
            <span class="hljs-keyword">function</span> (e) {
                if (e.success) {
</code></pre><p>It somehow ignores the <code>where</code> property of start_time &gt; startDate and &lt;endDate, and gives me all the Recurring Events.</p>
<p>Basically what I would like, is to get All Events (recurring or not) that fall between a span of startDate and endDate.</p>
</div>
							<div class="author">
								&mdash; commented <span title="November 12th 2012, 8:43:32 pm">November 12th 2012</span>
								by <span class='authorname'>Joseph Sachs</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>1</span> Vote</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-251014">
				
						<section>
							<p>you can try this:</p>
<p>Cloud.Events.queryOccurrences({<br>            page: 1,<br>            per_page: 200,<br>            where: { start_time : { &quot;$gte&quot; : startDate.format(), &quot;$lt&quot; : endDate.format() } },<br>            order: &#39;start_time&#39; },<br>            function (e) {<br>                if (e.success) {</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="November 13th 2012, 11:44:27 am">November 13th 2012</span>
								by <span class='authorname'>Zhang XueFeng</span><br>
								<a class="icon-bg icon-link" href="../../question/144640/acs---querying-events-does-not-fetch-recurring.html#answer-251014" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Thanks Zhang for your reply. I have tried that code as mentioned above in my comment.</p>
<p>That solution is ignoring the where property of start_time where is is larger than startDate and smaller than endDate, and gives me all the Recurring Events, before the start and after the end. It is also ignoring the Events that don&#39;t have Recurrings, even though, these Single events have a start date that is between startDate and endDate.</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 13th 2012, 12:58:34 pm">November 13th 2012</span>
											by <span class='authorname'>Joseph Sachs</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-251017">
				
						<section>
							<p>{ &quot;$gte&quot; : startDate.format(), &quot;$lt&quot; : endDate.format() } } ? not </p>
<p>{ $gte : startDate.format(), $lt : endDate.format() } }, </p>
<p>could you try it?</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="November 13th 2012, 1:07:23 pm">November 13th 2012</span>
								by <span class='authorname'>Zhang XueFeng</span><br>
								<a class="icon-bg icon-link" href="../../question/144640/acs---querying-events-does-not-fetch-recurring.html#answer-251017" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>I&#39;ve tried that and it is fetching only events that are recurring, not all the events that fall between the start date &amp; end dates.</p>
<p>It&#39;s odd I have to make two queries one for Occurrences and another for 1-time events and then merge the two arrays… Surely I&#39;m missing something?</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 29th 2012, 3:50:05 am">November 29th 2012</span>
											by <span class='authorname'>Joseph Sachs</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
