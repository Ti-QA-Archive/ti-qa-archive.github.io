<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Allow only numbers as input » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Allow only numbers as input</h1>
		</header>
		<section>
			<p>Is it possible to allow only numbers as textinput?</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="July 6th 2011, 7:41:32 am">July 6th 2011</span>
				by <span class='authorname'>Joeri Pansaerts</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>ipad</span></li>
					
						<li><span class='tagname'>regex</span></li>
					
						<li><span class='tagname'>textfield</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>2</span> Votes</div>
			<div class="answers"><span>5</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>5 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-212298">
				
						<section>
							<p>Yes sure. When creating TextField&#x2F;TextArea, define this property in configuration:</p>
<pre><code class="hljs">keyboardType: Ti<span class="hljs-class">.UI</span><span class="hljs-class">.KEYBOARD_NUMBER_PAD</span>
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="July 6th 2011, 7:42:59 am">July 6th 2011</span>
								by <span class='authorname'>Ivan Škugor</span><br>
								<a class="icon-bg icon-link" href="question/122114/allow-only-numbers-as-input.html#answer-212298" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>3</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-212299">
				
						<section>
							<p>yes, but you can still input other signs like (§!ç and that is not allowed</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="July 6th 2011, 7:44:08 am">July 6th 2011</span>
								by <span class='authorname'>Joeri Pansaerts</span><br>
								<a class="icon-bg icon-link" href="question/122114/allow-only-numbers-as-input.html#answer-212299" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>I don&#39;t know for iPad&#x2F;iOS, but on Android you can&#39;t do that. Have you tried to create custom keyboard? iOS can create keyboard toolbar with buttons you want, but I haven&#39;t tried that.</p>
<p>P.S. Don&#39;t answer to yourself. :) Use comments to comment other answers.</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 6th 2011, 7:59:18 am">July 6th 2011</span>
											by <span class='authorname'>Ivan Škugor</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-258933">
				
						<section>
							<p>I ran into this issue today, and this is what I did:</p>
<pre><code class="hljs">    sku_number_txtfield.addEventListener(<span class="hljs-string">'change'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
      e.source.value = e.source.value.replace(<span class="hljs-regexp">/[^0-9]+/</span>,<span class="hljs-string">""</span>); 
    });
</code></pre><p>Works like a charm! Also make sure to default your keyboard to number pad also.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="March 19th 2013, 4:48:41 pm">March 19th 2013</span>
								by <span class='authorname'>Rosabel Weizenblut</span><br>
								<a class="icon-bg icon-link" href="question/122114/allow-only-numbers-as-input.html#answer-258933" rel="permalink">permalink</a>
							</div>

							<h5>5 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>that causes an endless loop on android</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 9th 2014, 2:18:41 pm">April 9th 2014</span>
											by <span class='authorname'>João Serra</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Can you please give me solution for android as it goes in infinite loop.</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 18th 2015, 6:41:10 am">May 18th 2015</span>
											by <span class='authorname'>Resource02 Access2.IT</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>To avoid an infinite loop, add a return after you replace value.</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 26th 2015, 4:54:02 pm">May 26th 2015</span>
											by <span class='authorname'>Bruno Durao</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Actually, return won&#39;t work. Best solution is replacing event listener &#39;change&#39; to &#39;keypressed&#39;. Check my answer below.</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 26th 2015, 6:24:27 pm">May 26th 2015</span>
											by <span class='authorname'>Bruno Durao</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I added return after replace but it still goes in endless loop.</p>
<p>I want to allow only numbers(0-9) and comma and after comma only two digits allowed.I am using sdk 3.5.1.</p>
<p>I really need help on this please help me.</p>
<p>Thanks</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 28th 2015, 4:03:09 am">May 28th 2015</span>
											by <span class='authorname'>Resource02 Access2.IT</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-212300">
				
						<section>
							<p>Make use of the change event. Save the previous value of the texfield or area, compare it to the new value with the change event. If the added character is not numeric change the value to the old value else new value is valid.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="July 6th 2011, 7:53:22 am">July 6th 2011</span>
								by <span class='authorname'>Kami -</span><br>
								<a class="icon-bg icon-link" href="question/122114/allow-only-numbers-as-input.html#answer-212300" rel="permalink">permalink</a>
							</div>

							<h5>3 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>On Android that would not work well. I&#39;ve tried it. The problem is that when you replace value of the text field, cursor returns to the beginning of input (but doesn&#39;t remain at the end). I haven&#39;t figured out how to fix that.</p>
<p>But maybe it will work on iOS …</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 6th 2011, 8:01:59 am">July 6th 2011</span>
											by <span class='authorname'>Ivan Škugor</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>this question is for iPad, so well see if it works on iOS</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 6th 2011, 8:12:12 am">July 6th 2011</span>
											by <span class='authorname'>Kami -</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>you can fix the problem of selection by forcing the field to select the last position(interval) on the textfield </p>
<p>textfield.setSelection(length, length);</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 9th 2014, 2:18:00 pm">April 9th 2014</span>
											by <span class='authorname'>João Serra</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-287493">
				
						<section>
							<p>Instead of using a &quot;change&quot; event, use &quot;keypressed&quot;:</p>
<p><strong>index.xml</strong></p>
<pre><code class="hljs"><span class="hljs-tag">&lt;<span class="hljs-title">Alloy</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">Window</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">TextField</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"my_textfield"</span> <span class="hljs-attribute">hintText</span>=<span class="hljs-value">"My Textfield"</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">Window</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">Alloy</span>&gt;</span>
</code></pre><p><strong>index.tss</strong></p>
<pre><code class="hljs">"<span class="hljs-id">#my_textfield</span>":
<span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">keyboardType</span>:<span class="hljs-value"> Ti.UI.KEYBOARD_NUMBER_PAD
</span></span></span>},
"<span class="hljs-id">#my_textfield</span><span class="hljs-attr_selector">[platform=android]</span>":
<span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">focusable</span>:<span class="hljs-value"> true
</span></span></span>}
</code></pre><p><strong>index.js</strong></p>
<pre><code class="hljs">$.my_textfield.addEventListener(<span class="hljs-string">"keypressed"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)
</span>{
    e.source.value = e.source.value.replace(<span class="hljs-regexp">/[^0-9]+/</span>, <span class="hljs-string">""</span>);

    $.my_textfield.setSelection(e.source.value.length, e.source.value.length);
});
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="May 26th 2015, 6:28:00 pm">May 26th 2015</span>
								by <span class='authorname'>Bruno Durao</span><br>
								<a class="icon-bg icon-link" href="question/122114/allow-only-numbers-as-input.html#answer-287493" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
