<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Take photo with overlay » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Take photo with overlay</h1>
		</header>
		<section>
			<p>Hello everybody,</p>
<p>I want a simple thing, I guess… Take a picture with a png as overlay, and save it. In both, Android and iPhone!</p>
<p>Which is the best way to do that?</p>
<p>What I found:</p>
<pre><code class="hljs"><span class="hljs-comment">//app.js</span>
var cameraoverlay = Titanium.UI.createImageView({
    <span class="hljs-variable">width</span>: <span class="hljs-string">'480dp'</span>,
    <span class="hljs-variable">height</span>: <span class="hljs-string">'320dp'</span>,
    top:<span class="hljs-number">0</span>,
    <span class="hljs-built_in">image</span>:<span class="hljs-string">'images/pig.png'</span>
});

Ti.Media.showCamera({
    overlay: cameraoverlay
});
</code></pre><p>The camera is working and the image is showing over the camera, but in this case, the autofocus doesn&#39;t work and the controls to take a picture and change the camera to back or front doesn&#39;t show. (Android Galaxy Nexus)</p>
<p>PS: I want to merge the overlay (pig.png) with the picture!</p>
<p>I&#39;m using the last version of SDK and Titanium!</p>
<p>Thanks!</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="September 19th 2012, 12:26:09 pm">September 19th 2012</span>
				by <span class='authorname'>Bruno Almeida</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>camera</span></li>
					
						<li><span class='tagname'>iphone</span></li>
					
						<li><span class='tagname'>overlay</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-247547">
				
						<section>
							<p>set the <a href="http:&#x2F;&#x2F;docs.appcelerator.com&#x2F;titanium&#x2F;2.1&#x2F;#!&#x2F;api&#x2F;Titanium.UI.View-property-touchEnabled">touchEnabled</a> to false for the cameraoverlay.</p>
<p>For merging images, see <a href="http:&#x2F;&#x2F;developer.appcelerator.com&#x2F;question&#x2F;18651&#x2F;how-to-merge-multiple-images-into-one">this thread</a></p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="September 19th 2012, 1:00:44 pm">September 19th 2012</span>
								by <span class='authorname'>Soeren Damrau</span><br>
								<a class="icon-bg icon-link" href="question/142406/take-photo-with-overlay.html#answer-247547" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-247549">
				
						<section>
							<p>First, once you add an overlay, you are specifying the controls yourself, the overlay takes the place of the controls. So you can either do without the controls, or add the controls with your overlay. Second, to get the overlay with the image you can either take the photo, then composite the overlay onto the image in a new view, or you can try to just take a screenshot with the overlay up over the camera picture. Not sure if that second option will work or not, I&#39;ve never tried it, but it sounds good in theory. The downside to that would be that you won&#39;t get full camera resolution out of your photo, you&#39;ll just get the screen resolution image.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="September 19th 2012, 1:05:16 pm">September 19th 2012</span>
								by <span class='authorname'>Anthony Decena</span><br>
								<a class="icon-bg icon-link" href="question/142406/take-photo-with-overlay.html#answer-247549" rel="permalink">permalink</a>
							</div>

							<h5>5 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>I&#39;ll take a look for that, than post the results! Thank You</p>
</p>
										<div class="author">
											&mdash; commented <span title="September 20th 2012, 9:58:54 am">September 20th 2012</span>
											by <span class='authorname'>Bruno Almeida</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I tried, but I didn&#39;t found the command to join the images. And when I took a photo, the resolution is always 240x320px and the autofocus doesn&#39;t work!</p>
</p>
										<div class="author">
											&mdash; commented <span title="September 20th 2012, 3:27:17 pm">September 20th 2012</span>
											by <span class='authorname'>Bruno Almeida</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>There is no command to join images, you&#39;d have to do it yourself. Create a view with the image as the background, then add the overlay to the view, then you&#39;d have to export the view with toImage(). </p>
<p>As I said, if you did screenshots, you&#39;d only get the resolution of the screen, it looks like that might be the case regardless.</p>
<p>Your only other option here is to see if there is a module on the marketplace that can do what you need it to do.</p>
</p>
										<div class="author">
											&mdash; commented <span title="September 20th 2012, 4:06:19 pm">September 20th 2012</span>
											by <span class='authorname'>Anthony Decena</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Okay no problem in creating the view and joining the images, but how I save this image?</p>
<p>And i&#39;m testing this with a Galaxy nexus. I don&#39;t want to take a screenshot, just save the photo with the 5mp that Nexus have. Is this possible?</p>
<p>PS: The Image for the overview is already in 5mp.</p>
<p>Anyway, thank you for the attention!</p>
</p>
										<div class="author">
											&mdash; commented <span title="September 20th 2012, 4:12:32 pm">September 20th 2012</span>
											by <span class='authorname'>Bruno Almeida</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I&#39;m having the same problem (320x240  camera output) on Galaxy Nexus. Camera output is correct on Galaxy S. Can be reproduced using the simple code in this bug report:<br>https:&#x2F;&#x2F;jira.appcelerator.org&#x2F;browse&#x2F;TC-1563</p>
</p>
										<div class="author">
											&mdash; commented <span title="February 5th 2013, 6:56:14 pm">February 5th 2013</span>
											by <span class='authorname'>Stephane Menard</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
