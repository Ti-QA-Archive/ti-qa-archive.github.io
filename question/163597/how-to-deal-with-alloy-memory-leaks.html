<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>how to deal with alloy memory leaks Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>how to deal with alloy memory leaks</h1>
		</header>
		<section>
			<p>hi, iam working on alloy project (IOS,android) ,  and i go this window</p>
<pre><code class="hljs"><span class="hljs-tag">&lt;<span class="hljs-title">Alloy</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">Window</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"mainWW"</span> <span class="hljs-attribute">onClose</span>=<span class="hljs-value">"clearMemory"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">Require</span> <span class="hljs-attribute">src</span>=<span class="hljs-value">"topbar"</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"topBar"</span> /&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">ScrollView</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"windowContainer"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">WebView</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"productDesc"</span> /&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">ScrollView</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">Window</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">Alloy</span>&gt;</span>
</code></pre><pre><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">clearMemory</span>(<span class="hljs-params"></span>)</span>{

 $.windowContainer.removeAllChildren();
 $.mainWW.remove($.windowContainer);

$.windowContainer = <span class="hljs-literal">null</span>;
$.topBar = <span class="hljs-literal">null</span>;
$.productDesc = <span class="hljs-literal">null</span>;

}
</code></pre><p>when i open the instrument and open the window then closing  , the objects still in ram living never gets low</p>
<p>what i should to do for </p>
<p>1) how to remove &lt;Require src=&quot;topbar&quot; id=&quot;topBar&quot; &#x2F;&gt; from the window and null it </p>
<p>2) how to null the rest objects (windowContainer,productDesc) and set it to null too<br>?</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="March 16th 2014, 12:15:17 pm">March 16th 2014</span>
				by <span class='authorname'>Ebrahim Sayed</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>alloy</span></li>
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>ios</span></li>
					
						<li><span class='tagname'>memory</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-276574">
				
						<section>
							<p><code>the objects still in ram living never gets low</code></p>
<p>GC is not immediate.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="March 16th 2014, 1:16:56 pm">March 16th 2014</span>
								by <span class='authorname'>Stephen Feather</span><br>
								<a class="icon-bg icon-link" href="../../question/163597/how-to-deal-with-alloy-memory-leaks.html#answer-276574" rel="permalink">permalink</a>
							</div>

							<h5>5 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>GC occurs on window close.</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 16th 2014, 1:18:18 pm">March 16th 2014</span>
											by <span class='authorname'>Stephen Feather</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>iam sorry  what GC means? ,  and when i test i wait after close the window for a while but no thing happens and when open it again the living bytes gets double</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 16th 2014, 1:44:10 pm">March 16th 2014</span>
											by <span class='authorname'>Ebrahim Sayed</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>GC means Garbage Collection. The OS will free from the memory what it doesn&#39;t need anymore, however this is not when you want it but when the OS needs it. So it can be delayed (sometimes a lot).</p>
<p>For Alloy you don&#39;t need to do the cleaning so your function will only add overhead.</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 17th 2014, 7:34:23 am">March 17th 2014</span>
											by <span class='authorname'>Dan Tamas</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>GC = <a href="https:&#x2F;&#x2F;wiki.appcelerator.org&#x2F;display&#x2F;guides&#x2F;Managing+Memory+and+Finding+Leaks">Garbage Collection</a></p>
</p>
										<div class="author">
											&mdash; commented <span title="March 17th 2014, 7:42:51 am">March 17th 2014</span>
											by <span class='authorname'>Anders Dahl Pape</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I agreed with Dan and Stephen here. The garbage collection, while triggered on window close, is never an immediate process.</p>
<p>So my best advice is, let the Framework handle that for you. There are lots of clever folks working around the clock to make sure things run smoothly for you. So there is no news to implement your own memory management.</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 17th 2014, 8:47:08 am">March 17th 2014</span>
											by <span class='authorname'>Christian Brousseau</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>2</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
