<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Android - Should app load all windows&#39;s elements? » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Android - Should app load all windows&#39;s elements?</h1>
		</header>
		<section>
			<p>Hi all,</p>
<p>I have below situation:</p>
<ul>
<li>I have windows A - B - C - D - E</li>
<li>From window A you can go to any window( B C D E ), as the same for B C D E, you can go to any window from your current window</li>
</ul>
<p>This is my code:</p>
<pre><code class="hljs"><span class="hljs-comment">//app.js</span>
Ti<span class="hljs-built_in">.</span>include(<span class="hljs-string">'windows.js'</span>);

<span class="hljs-built_in">var</span> a_display = <span class="hljs-keyword">require</span>(<span class="hljs-string">'a'</span>);
a_display<span class="hljs-built_in">.</span>display();
a_display = <span class="hljs-built_in">null</span>;

<span class="hljs-built_in">var</span> b_display = <span class="hljs-keyword">require</span>(<span class="hljs-string">'b'</span>);
b_display<span class="hljs-built_in">.</span>display();
b_display = <span class="hljs-built_in">null</span>;

<span class="hljs-built_in">var</span> c_display = <span class="hljs-keyword">require</span>(<span class="hljs-string">'c'</span>);
c_display<span class="hljs-built_in">.</span>display();
c_display = <span class="hljs-built_in">null</span>;

<span class="hljs-built_in">var</span> d_display = <span class="hljs-keyword">require</span>(<span class="hljs-string">'d'</span>);
d_display<span class="hljs-built_in">.</span>display();
d_display = <span class="hljs-built_in">null</span>;

<span class="hljs-built_in">var</span> e_display = <span class="hljs-keyword">require</span>(<span class="hljs-string">'e'</span>);
e_display<span class="hljs-built_in">.</span>display();
e_display = <span class="hljs-built_in">null</span>;

a<span class="hljs-built_in">.</span>open();

<span class="hljs-comment">//windows.js</span>
<span class="hljs-built_in">var</span> a = Ti<span class="hljs-built_in">.</span>UI<span class="hljs-built_in">.</span>createWindow({ backgroundCol<span class="hljs-subst">or</span>: <span class="hljs-string">'#f9f9f9'</span>});
<span class="hljs-built_in">var</span> b = Ti<span class="hljs-built_in">.</span>UI<span class="hljs-built_in">.</span>createWindow({ backgroundCol<span class="hljs-subst">or</span>: <span class="hljs-string">'#f9f9f9'</span>});
<span class="hljs-built_in">var</span> c = Ti<span class="hljs-built_in">.</span>UI<span class="hljs-built_in">.</span>createWindow({ backgroundCol<span class="hljs-subst">or</span>: <span class="hljs-string">'#f9f9f9'</span>});
<span class="hljs-built_in">var</span> d = Ti<span class="hljs-built_in">.</span>UI<span class="hljs-built_in">.</span>createWindow({ backgroundCol<span class="hljs-subst">or</span>: <span class="hljs-string">'#f9f9f9'</span>});
<span class="hljs-built_in">var</span> e = Ti<span class="hljs-built_in">.</span>UI<span class="hljs-built_in">.</span>createWindow({ backgroundCol<span class="hljs-subst">or</span>: <span class="hljs-string">'#f9f9f9'</span>});

<span class="hljs-comment">//a.js - The same for b.js c.js d.js e.js</span>
<span class="hljs-built_in">var</span> <span class="hljs-keyword">header</span> = Ti<span class="hljs-built_in">.</span>UI<span class="hljs-built_in">.</span>createView({
      width: LK<span class="hljs-built_in">.</span>width,
    height: LK<span class="hljs-built_in">.</span>title_height,
    backgroundCol<span class="hljs-subst">or</span>: <span class="hljs-string">'#fff100'</span>,
    top: <span class="hljs-number">0</span>,
    left: <span class="hljs-number">0</span>,
    zIndex: <span class="hljs-number">5</span>
});
<span class="hljs-built_in">var</span> body = Ti<span class="hljs-built_in">.</span>UI<span class="hljs-built_in">.</span>createView({
      width: LK<span class="hljs-built_in">.</span>width,
    height: LK<span class="hljs-built_in">.</span>title_height,
    backgroundCol<span class="hljs-subst">or</span>: <span class="hljs-string">'#fff100'</span>,
    top: <span class="hljs-number">0</span>,
    left: <span class="hljs-number">0</span>,
    zIndex: <span class="hljs-number">5</span>
});

a<span class="hljs-built_in">.</span>add(<span class="hljs-keyword">header</span>);
a<span class="hljs-built_in">.</span>add(body);
<span class="hljs-keyword">header</span>= <span class="hljs-built_in">null</span>;
body=<span class="hljs-built_in">null</span>;
</code></pre><p>My question is: &quot;Is it correct to create all windows and load all their elements when app load app.js?&quot;</p>
<p>Because i develop app for iOS first using this method, and it works well. But when i develop app for android it is slow specially when close and open windows. Sometimes, app crash also.</p>
<p>I hope to receive your answer or suggestion!</p>
<p>Ps: This is just the simple code for example, my code have 16 windows and each windows have more than 60 elements as view, scrollview, tableview, imageview,…</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="March 13th 2015, 9:06:59 am">March 13th 2015</span>
				by <span class='authorname'>Iker Tran</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android slow</span></li>
					
						<li><span class='tagname'>app android slow</span></li>
					
						<li><span class='tagname'>open close window</span></li>
					
				</ul>
			

			<section>
				<h5>4 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>I don&#39;t understand this construct:</p>
<pre><code class="hljs">var <span class="hljs-built_in">a_display</span> = require('<span class="hljs-literal">a</span>')<span class="hljs-comment">;</span>
<span class="hljs-built_in">a_display</span>.display()<span class="hljs-comment">;</span>
<span class="hljs-built_in">a_display</span> = null<span class="hljs-comment">;</span>
</code></pre><p>This will crash the app. Ti.include() is obsolete and ugly. And where doyou define a in a.js?</p>
</div>
							<div class="author">
								&mdash; commented <span title="March 13th 2015, 9:15:20 am">March 13th 2015</span>
								by <span class='authorname'>Rainer Schleevoigt</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>@Iker, please clear out your code more precisely as this code does not represent the problem well.<br>As suggested by @Rainer, do not use Ti.include() because it will be deprecated in future as any call to Ti proxy is not safe &amp; memory efficient.</p>
</div>
							<div class="author">
								&mdash; commented <span title="March 13th 2015, 9:29:43 am">March 13th 2015</span>
								by <span class='authorname'>Prashant Saini</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>@Rainer: a.js is just a file with function which create element inside window A</p>
<p>@Prashant: The code is just a example for you guys to understand what i have been doing. My question is &quot;Is it correct to create all windows and load all their elements when app load app.js?&quot;</p>
</div>
							<div class="author">
								&mdash; commented <span title="March 14th 2015, 3:33:43 am">March 14th 2015</span>
								by <span class='authorname'>Iker Tran</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>So sorry guys, i forgot to thank you all! Much appreciate for your help!</p>
</div>
							<div class="author">
								&mdash; commented <span title="March 14th 2015, 3:33:45 am">March 14th 2015</span>
								by <span class='authorname'>Iker Tran</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-286459">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>Hi Iker, This is not how you are supposed to open windows. You need to make sure you open the windows when it is needed using require(); Take a look at the &#39;Defer Script loading&#39; section <a href="http:&#x2F;&#x2F;docs.appcelerator.com&#x2F;titanium&#x2F;3.0&#x2F;#!&#x2F;guide&#x2F;Coding_Best_Practices-section-30082362_CodingBestPractices-Deferscriptloading">here</a> as a best practice</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="March 13th 2015, 10:28:14 am">March 13th 2015</span>
								by <span class='authorname'>Lloyd Dsouza</span><br>
								<a class="icon-bg icon-link" href="question/181403/android---should-app-load-all-windowss-elements#answer-286459" rel="permalink">permalink</a>
							</div>

							<h5>2 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>@Lloyd: Thank you for your tip, so is it mean that the way i have done in my code it totally wrong? Wow, if it is wrong, i will get big trouble! Because i always use Ti.include and it will take very long time to change the code! Do you have any suggestion to solve my issue?</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 14th 2015, 3:41:17 am">March 14th 2015</span>
											by <span class='authorname'>Iker Tran</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Well, you can always tell management that Appcelerator decided to deprecate Ti.include and it was not your fault, however you would need to then completely re-structure you code. Maybe you can use Alloy as well which will help you get the UI done pretty quickly. Unfortunately there is no shortcut and you will need time to do this, hopefully your management team will understand.</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 14th 2015, 5:42:40 am">March 14th 2015</span>
											by <span class='authorname'>Lloyd Dsouza</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
