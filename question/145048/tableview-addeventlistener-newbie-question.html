<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>tableView addEventListener NEWBIE Question » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>tableView addEventListener NEWBIE Question</h1>
		</header>
		<section>
			<p>Hi,</p>
<p>since yesterday i try to implement the addEventListener to a tableView:</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> win = Ti.UI.currentWindow;
<span class="hljs-keyword">var</span> table = Ti.UI.createTableView();
<span class="hljs-keyword">var</span> data = [];

<span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> c=<span class="hljs-number">0</span>; c&lt;<span class="hljs-number">10</span>; c++) 
{
    <span class="hljs-keyword">var</span> row = Ti.UI.createTableViewRow({height:<span class="hljs-number">100</span>});

    <span class="hljs-keyword">var</span> label = Ti.UI.createLabel({
        text: <span class="hljs-string">'Cell at row '</span> + (c+<span class="hljs-number">1</span>),
        color: <span class="hljs-string">'#111'</span>,
        shadowColor:<span class="hljs-string">'#900'</span>,
        shadowOffset:{x:<span class="hljs-number">0</span>,y:<span class="hljs-number">1</span>},
        textAlign:<span class="hljs-string">'left'</span>,
        left:<span class="hljs-number">130</span>,
        font:{fontWeight:<span class="hljs-string">'bold'</span>,fontSize:<span class="hljs-number">18</span>},
        width:<span class="hljs-string">'auto'</span>,
        height:<span class="hljs-string">'auto'</span>
    });
    row.add(label);


    <span class="hljs-keyword">var</span> i = Ti.UI.createImageView({
        image: <span class="hljs-string">"http://www.appcelerator.com/wp-content/uploads/2009/06/titanium_desk.png"</span>,
        top: <span class="hljs-number">10</span>,
        left: <span class="hljs-number">0</span>,
        width:<span class="hljs-number">125</span>,
        height:<span class="hljs-number">89</span>
    });

    row.add(i);

    data[c] = row;
}

<span class="hljs-comment">// create table view</span>
<span class="hljs-keyword">var</span> tableview = Titanium.UI.createTableView({
    data:data
});

<span class="hljs-comment">// create table view event listener</span>
tableview.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)
</span>{
    <span class="hljs-comment">// event data</span>
    <span class="hljs-keyword">var</span> index = e.index;
    <span class="hljs-keyword">var</span> section = e.section;
    <span class="hljs-keyword">var</span> row = e.row;
    <span class="hljs-keyword">var</span> rowdata = e.rowData;
    Titanium.UI.createAlertDialog({title:<span class="hljs-string">'Table View'</span>,message:<span class="hljs-string">'row '</span> + row + <span class="hljs-string">' index '</span> + index + <span class="hljs-string">' section '</span> + section  + <span class="hljs-string">' row data '</span> + rowdata}).show();


    Ti.API.info(<span class="hljs-built_in">JSON</span>.stringify(rowdata));

});

<span class="hljs-comment">// add table view to the window</span>
win.add(tableview);
</code></pre><p>The alert Dialog output is correct.<br>But i want to have the data from the row. (e.g: alerting the images source and alerting the label text)<br>I have tried a lot. </p>
<p>Ti.API.info(JSON.stringify(rowData); outputs only:<br>{&quot;backgroundRepeat&quot;:false,&quot;height&quot;:100}</p>
<p>I other examples i have seen things linke</p>
<p>alert(e.rowData.url)</p>
<p>Thats the point,:  the url above is the index. How can i modify it, so that<br>i can adress a value by their index ? How to set the index ?</p>
<p>Greetings</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="November 25th 2012, 7:26:57 am">November 25th 2012</span>
				by <span class='authorname'>Julian Fuerderer</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>tableview</span></li>
					
				</ul>
			

			<section>
				<h5>1 Comment</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Hi</p>
<p>As you are a newbie you have probably not noticed that you should comment on peoples answers and not create new answers with your comments.  It makes it very hard for people to work out what was being said as the order of the answers can change - so it no longer looks like a conversation.</p>
<p>It also lets the person you intended to receive the comment know it was intended for their answer.</p>
</div>
							<div class="author">
								&mdash; commented <span title="November 25th 2012, 9:21:39 am">November 25th 2012</span>
								by <span class='authorname'>Malcolm Hollingsworth</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>4</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>4 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-251635">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>If I am not wrong, you can add your own property when you create for &quot;createTableViewRow&quot;</p>
<pre><code class="hljs"><span class="hljs-comment">//add own property</span>
var myTableRow = Titanium.UI.createTableViewRow({<span class="hljs-string">height:</span><span class="hljs-number">46</span>, <span class="hljs-string">className:</span><span class="hljs-string">'myTableRow'</span>,<span class="hljs-string">myRowName:</span><span class="hljs-string">'hellorow'</span>});
</code></pre><p>If you want to get value from it. You could try like this:</p>
<pre><code class="hljs"><span class="hljs-tag">alert</span>(<span class="hljs-tag">eventObject</span><span class="hljs-class">.rowData</span><span class="hljs-class">.myRowName</span>);
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="November 25th 2012, 7:40:41 am">November 25th 2012</span>
								by <span class='authorname'>Pye Phyo Han</span><br>
								<a class="icon-bg icon-link" href="question/145048/tableview-addeventlistener-newbie-question#answer-251635" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-251636">
				
						<section>
							<p>Ok…thats works…But it is the best and right way ?</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="November 25th 2012, 8:08:28 am">November 25th 2012</span>
								by <span class='authorname'>Julian Fuerderer</span><br>
								<a class="icon-bg icon-link" href="question/145048/tableview-addeventlistener-newbie-question#answer-251636" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Yes. My live and running app using like this.</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 25th 2012, 8:14:50 am">November 25th 2012</span>
											by <span class='authorname'>Pye Phyo Han</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-251637">
				
						<section>
							<p>ok..thanks…is there a way to speed up tableViews scrolling function?<br>its bit rucky</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="November 25th 2012, 8:15:54 am">November 25th 2012</span>
								by <span class='authorname'>Julian Fuerderer</span><br>
								<a class="icon-bg icon-link" href="question/145048/tableview-addeventlistener-newbie-question#answer-251637" rel="permalink">permalink</a>
							</div>

							<h5>3 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>You may check at <a href="https:&#x2F;&#x2F;github.com&#x2F;appcelerator&#x2F;KitchenSink">Kitchen Sink</a>.<br>KS example also using like this way. But you may need to notice, if your app want to support fo iOS6, don&#39;t use classname. <a href="http:&#x2F;&#x2F;developer.appcelerator.com&#x2F;question&#x2F;142539&#x2F;bug-for-tableview-clickevent-on-ios-6">Here is my previous issue</a>.</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 25th 2012, 9:06:38 am">November 25th 2012</span>
											by <span class='authorname'>Pye Phyo Han</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Hi pyephyo han</p>
<p>I think you will find that particular bug has been fixed now.</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 25th 2012, 9:23:46 am">November 25th 2012</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Hi Julian</p>
<p>When you say &#39;rucky&#39; I am going to assume it judders or otherwise does not appear smooth when scrolling.</p>
<p>What Titanium SDK are you using, which OS are you using; Android, iOS or both, does the problem occur on the simulator&#x2F;emulator or on a device, which platform OS are you using iOS 4, 5 or 6 or Android 2.2, 2.3 … 4.2?</p>
<p>Have you changed your code form the example supplied above or do you see the problem with just those ten rows?</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 25th 2012, 9:26:27 am">November 25th 2012</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-251640">
				
						<section>
							<p>Hi</p>
<p>The answer that <a href="http:&#x2F;&#x2F;developer.appcelerator.com&#x2F;devlink&#x2F;profile&#x2F;874761&#x2F;pyephyo-han">pyephyo han</a> gave is correct and the technique I most often use.</p>
<p>But there is another way to get to the child objects within the row if you need to access then individually.  However for almost every standard reason you would follow the custom row suggestion as it is rare that you will need such low level access to these items.</p>
<pre><code class="hljs">    var label = Ti.UI.createLabel({
        <span class="hljs-built_in">text</span>: <span class="hljs-string">'Cell at row '</span> + (c+<span class="hljs-number">1</span>),
        <span class="hljs-built_in">color</span>: <span class="hljs-string">'#111'</span>,
        shadowColor:<span class="hljs-string">'#900'</span>,
        shadowOffset:{x:<span class="hljs-number">0</span>,y:<span class="hljs-number">1</span>},
        <span class="hljs-built_in">textAlign</span>:<span class="hljs-string">'left'</span>,
        left:<span class="hljs-number">130</span>,
        font:{fontWeight:<span class="hljs-string">'bold'</span>,fontSize:<span class="hljs-number">18</span>},
        touchEnabled: <span class="hljs-keyword">false</span>, <span class="hljs-comment">// add this</span>
        <span class="hljs-variable">width</span>:<span class="hljs-string">'auto'</span>,
        <span class="hljs-variable">height</span>:<span class="hljs-string">'auto'</span>
    });
    row.<span class="hljs-built_in">add</span>(label);
    var i = Ti.UI.createImageView({
        <span class="hljs-built_in">image</span>: <span class="hljs-string">"http://www.appcelerator.com/wp-content/uploads/2009/06/titanium_desk.png"</span>,
        touchEnabled: <span class="hljs-keyword">false</span>, <span class="hljs-comment">// add this</span>
        top: <span class="hljs-number">10</span>,
        left: <span class="hljs-number">0</span>,
        <span class="hljs-variable">width</span>:<span class="hljs-number">125</span>,
        <span class="hljs-variable">height</span>:<span class="hljs-number">89</span>
    });
</code></pre><p>Note the two extra properties <code>touchEnabled</code> this tells the object that you are not interested in THERE events, and then the events bubble up to the row.  This is so this extra line added to your event listener works simply.</p>
<pre><code class="hljs">Ti.API.info(<span class="hljs-string">'label'</span>, e.<span class="hljs-keyword">source</span>.children[<span class="hljs-number">0</span>].<span class="hljs-keyword">text</span>);
</code></pre><p>Place it here (or anywhere really inside here).</p>
<pre><code class="hljs">    tableview.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)
    </span>{
        <span class="hljs-comment">// event data</span>
        <span class="hljs-keyword">var</span> index = e.index;
        <span class="hljs-keyword">var</span> section = e.section;
        <span class="hljs-keyword">var</span> row = e.row;
        <span class="hljs-keyword">var</span> rowdata = e.rowData;
        Ti.API.info(<span class="hljs-string">'label'</span>, e.source.children[<span class="hljs-number">0</span>].text); <span class="hljs-comment">// this line is new</span>
        Titanium.UI.createAlertDialog({title:<span class="hljs-string">'Table View'</span>,message:<span class="hljs-string">'row '</span> + row + <span class="hljs-string">' index '</span> + index + <span class="hljs-string">' section '</span> + section  + <span class="hljs-string">' row data '</span> + rowdata}).show();
        Ti.API.info(<span class="hljs-built_in">JSON</span>.stringify(rowdata));

    });
</code></pre><p>Note the extra info statement.</p>
<ul>
<li><code>e.source</code> lets you access the object that generated the event</li>
<li><code>children[]</code> lets you access the views placed within that object</li>
<li><code>children[0]</code> is the first view you added (the label)</li>
<li><code>children[1]</code> would be the image - as you added it AFTER the label</li>
<li><code>children[0].property</code> where property matches one found on the original object.</li>
</ul>
<p>Using this technique you can access any property, but again this is not a common need when you manage your code and methods to pass data between methods.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="November 25th 2012, 9:19:36 am">November 25th 2012</span>
								by <span class='authorname'>Malcolm Hollingsworth</span><br>
								<a class="icon-bg icon-link" href="question/145048/tableview-addeventlistener-newbie-question#answer-251640" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
