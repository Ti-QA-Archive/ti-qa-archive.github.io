<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Updating picture gallery after adding or deleting a picture » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Updating picture gallery after adding or deleting a picture</h1>
		</header>
		<section>
			<p>I am creating a picture gallery app that allows people to add or delete pictures from the gallery. The main view of the gallery is on a tab within the app uses a gallery.js script to generate the gallery when it is clicked on.</p>
<p>I want to ensure that the gallery.js script is run every time the tab button is clicked (to make sure any changes are reflected in the listing). Therefore I am using the &#39;focus&#39; event to detect when the gallery window has been selected and force the gallery view to update.</p>
<p>The basic structure of my gallery.js script is:</p>
<pre><code class="hljs"><span class="hljs-comment">// Set up window</span>
<span class="hljs-keyword">var</span> win = Titanium.UI.currentWindow;

win.addEventListener(<span class="hljs-string">'focus'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span>
</span>{
    <span class="hljs-comment">// galleryView</span>
    <span class="hljs-keyword">var</span> galleryView = Titanium.UI.createScrollView({
        showVerticalScrollIndicator:<span class="hljs-literal">true</span>,
        contentWidth:<span class="hljs-number">320</span>,
        contentHeight:<span class="hljs-number">396</span>,
        top:<span class="hljs-number">0</span>,
        width:<span class="hljs-number">320</span>,
        height:<span class="hljs-number">366</span>
    });

    <span class="hljs-comment">// A block of code to build the galleryView</span>
    ...

    <span class="hljs-comment">// Add the galleryView to the window</span>
    win.add(galleryView);

    <span class="hljs-comment">// A listener to handle clicking on a picture</span>
    ...

    win.addEventListener(<span class="hljs-string">'blur'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span>
    </span>{
        win.remove(galleryView);
    });
});
</code></pre><p>What I am expecting it to be doing is create the view on focus and remove it on blur. This way the galleryView is always showing the latest pictures (including any additions or deletions).</p>
<p>The script works but in the Titanium Developer I get an ever growing list of warnings:</p>
<pre><code class="hljs">[WARN] called remove <span class="hljs-keyword">for</span> [<span class="hljs-tag">object</span> TiUIScrollView] on [<span class="hljs-tag">object</span> TiUIWindow], but [<span class="hljs-tag">object</span> TiUIScrollView] isn<span class="hljs-string">'t a child or has already been removed</span>
</code></pre><p>Which makes me think that there is some sort of recursion problem going on here. I&#39;ve tried moving the galleryView outside of the focus listener so that I can move the blur listener out of the focus listener too, but this does not seem to work.</p>
<p>Any advice on doing this properly so I don&#39;t get the warnings?</p>
<p>Thanks,</p>
<p>Sean </p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="February 19th 2011, 12:46:36 pm">February 19th 2011</span>
				by <span class='authorname'>Sean Clark</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>iphone</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>0</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>0 Answers</h3>

	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
