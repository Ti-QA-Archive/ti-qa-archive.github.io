<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Compile fails when having both an iPhone and Android module » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Compile fails when having both an iPhone and Android module</h1>
		</header>
		<section>
			<p>Hello,<br>I&#39;m trying to build an app for both iPhone and Android using Titanium mobile. The app needs a module that was developed for both iPhone and Android. Both versions of the module work fine when used separately, however, the iPhone app does not want to compile when both versions are in the application&#x2F;module directory.</p>
<p>When compiling for iPhone simulator (with either Titanium 1.6.2 and 1.7, on MacOS) I get:</p>
<pre><code class="hljs">[INFO] One moment, building ...
[DEBUG] Detecting modules <span class="hljs-keyword">in</span> <span class="hljs-regexp">/My/</span>App<span class="hljs-regexp">/Path/</span>modules
[DEBUG] Detected module <span class="hljs-keyword">for</span> <span class="hljs-string">android:</span> com.test <span class="hljs-number">0.1</span> @ <span class="hljs-regexp">/My/</span>App<span class="hljs-regexp">/Path/</span>modules<span class="hljs-regexp">/android/</span>com.test/<span class="hljs-number">0.1</span>
[DEBUG] Detected module <span class="hljs-keyword">for</span> <span class="hljs-string">iphone:</span> com.test <span class="hljs-number">0.1</span> @ <span class="hljs-regexp">/My/</span>App<span class="hljs-regexp">/Path/</span>modules<span class="hljs-regexp">/iphone/</span>com.test/<span class="hljs-number">0.1</span>
[DEBUG] Detecting modules <span class="hljs-keyword">in</span> <span class="hljs-regexp">/Library/</span>Application Support<span class="hljs-regexp">/Titanium/</span>modules
[DEBUG] Looking <span class="hljs-keyword">for</span> Titanium Module <span class="hljs-string">id:</span> com.test, <span class="hljs-string">version:</span> <span class="hljs-number">0.1</span>, <span class="hljs-string">platform:</span> &lt;any platform&gt;
[ERROR] Third-party <span class="hljs-string">module:</span> com.test<span class="hljs-regexp">/0.1 missing library at /</span>My<span class="hljs-regexp">/App/</span>Path<span class="hljs-regexp">/modules/</span>android<span class="hljs-regexp">/com.test/</span><span class="hljs-number">0.1</span>/libcom.test.a
[ERROR] <span class="hljs-string">Error:</span> Traceback (most recent call last):
  File <span class="hljs-string">"/Library/Application Support/Titanium/mobilesdk/osx/1.7.0/iphone/builder.py"</span>, line <span class="hljs-number">628</span>, <span class="hljs-keyword">in</span> main
    sys.exit(<span class="hljs-number">1</span>)
<span class="hljs-string">SystemExit:</span> <span class="hljs-number">1</span>
</code></pre><p>So both versions of the module have been compiled and tested and are present in &#x2F;My&#x2F;App&#x2F;Path&#x2F;modules.<br>Obviously, from the log, both versions are detected for the right platforms. Still, it seems that (due to a bug?), the compiler is using the android subdirectory instead of the iphone subdirectory.</p>
<p>Anybody could help me solve this issue?<br>If someone else has the same problem, we should probably send a ticket about this.</p>
<p>Thanks</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="April 29th 2011, 7:52:59 am">April 29th 2011</span>
				by <span class='authorname'>Mathieu Gerard</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>iphone</span></li>
					
						<li><span class='tagname'>mobile</span></li>
					
						<li><span class='tagname'>module</span></li>
					
						<li><span class='tagname'>titanium</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-208131">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>When you add the module info to tiapp.xml, set the platform attribute:</p>
<pre><code class="hljs"><span class="hljs-tag">&lt;<span class="hljs-title">modules</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-title">module</span> <span class="hljs-attribute">version</span>=<span class="hljs-value">"0.1"</span> <span class="hljs-attribute">platform</span>=<span class="hljs-value">"iphone"</span>&gt;</span>com.iphonemodule<span class="hljs-tag">&lt;/<span class="hljs-title">module</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-title">module</span> <span class="hljs-attribute">version</span>=<span class="hljs-value">"0.1"</span> <span class="hljs-attribute">platform</span>=<span class="hljs-value">"android"</span>&gt;</span>com.androidmodule<span class="hljs-tag">&lt;/<span class="hljs-title">module</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">modules</span>&gt;</span>
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="May 19th 2011, 4:56:01 pm">May 19th 2011</span>
								by <span class='authorname'>Adam Paxton</span><br>
								<a class="icon-bg icon-link" href="question/119114/compile-fails-when-having-both-an-iphone-and-android-module#answer-208131" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>2</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
