<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>java.lang.NumberFormatException (Android) » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>java.lang.NumberFormatException (Android)</h1>
		</header>
		<section>
			<p>Heyah Folks-</p>
<p>This is an issue I am only seeing on some (older) Android phones - specifically the HTC Thunderbolt - when running on the device in debug or run mode.</p>
<p>I cycle thru 3 identical pages…on the 12th or 13th cycle, I get the following set of errors and the app just shuts down.  It is impossible to regularly replicate - yeah, one of those.</p>
<p>I&#39;ve tried to completely delete the contents of each of the pages in question to try to rule out what&#39;s going on, but it still fails with the following log.  In the following case when it dies, the available memory is at 2000920 - so I assume memory consumption isn&#39;t the issue.</p>
<p>This happens on phones with Android 2.3.4.  Seems to work fine in the 4.0+ versions I have tested.</p>
<p>I am using all the current version of the Appcelerator SDK and Titanium Studio (OSX).</p>
<p>Whenever the app dies, it regularly spits out the following logs.</p>
<p>Any help would be most appreciated!</p>
<p>Thanks in advance.</p>
<p>Ben</p>
<pre><code class="hljs">
[<span class="hljs-link_label">INFO</span>][<span class="hljs-link_reference">ActivityManager( 1645)</span>] Process com.htc.launcher (pid 4172) has died.
[<span class="hljs-link_label">INFO</span>][<span class="hljs-link_reference">WindowManager( 1645)</span>] WIN DEATH: Window{40b4fd60 com.htc.launcher/com.htc.launcher.Launcher paused=false}
[<span class="hljs-link_label">WARN</span>][<span class="hljs-link_reference">TiDrawableReference( 4127)</span>] (main) [756,232855] Bitmap final bounds could not be determined.  If bitmap is loaded, it won't be scaled.
[<span class="hljs-link_label">WARN</span>][<span class="hljs-link_reference">TiDrawableReference( 4127)</span>] (main) [24,232879] Bitmap final bounds could not be determined.  If bitmap is loaded, it won't be scaled.
[<span class="hljs-link_label">WARN</span>][<span class="hljs-link_reference">TiDrawableReference( 4127)</span>] (main) [69,232948] Bitmap final bounds could not be determined.  If bitmap is loaded, it won't be scaled.
[<span class="hljs-link_label">INFO</span>][<span class="hljs-link_reference">TiAPI   ( 4127)</span>]  loading reviews
[<span class="hljs-link_label">INFO</span>][<span class="hljs-link_reference">TiAPI   ( 4127)</span>]  Available memory: 2000920
[<span class="hljs-link_label">INFO</span>][<span class="hljs-link_reference">ActivityManager( 1645)</span>] Starting activity: Intent { cmp=com.stagey.mobile/org.appcelerator.titanium.TiActivity (has extras) } from pid 4127
[<span class="hljs-link_label">WARN</span>][<span class="hljs-link_reference">TiUIActivityIndicator( 4127)</span>] (main) [980,233928] Invalid value "0" for style.
[<span class="hljs-link_label">WARN</span>][<span class="hljs-link_reference">TiUIActivityIndicator( 4127)</span>] (main) [1,233929] Invalid value "0" for style.
[<span class="hljs-link_label">WARN</span>][<span class="hljs-link_reference">TiApplication( 4127)</span>] (main) [205,234134] Scheduling application restart
[<span class="hljs-link_label">INFO</span>][<span class="hljs-link_reference">ActivityManager( 1645)</span>] Start proc com.htc.launcher for activity com.htc.launcher/.Launcher: pid=4416 uid=9999 gids={3003, 3002, 3001, 1015}
[<span class="hljs-link_label">WARN</span>][<span class="hljs-link_reference">dalvikvm( 4416)</span>] Refusing to reopen boot DEX '/system/framework/com.htc.framework.jar'
[<span class="hljs-link_label">INFO</span>][<span class="hljs-link_reference">ActivityThread( 4416)</span>] Pub com.htc.launcher.settings: com.htc.launcher.LauncherProvider
[<span class="hljs-link_label">INFO</span>][<span class="hljs-link_reference">ActivityManager( 1645)</span>] Displayed com.stagey.mobile/org.appcelerator.titanium.TiActivity: +691ms
[<span class="hljs-link_label">INFO</span>][<span class="hljs-link_reference">ActivityThread( 4416)</span>] Pub com.htc.launcher.AllAppsCarouselProvider: com.htc.launcher.AllAppsCarouselProvider
[<span class="hljs-link_label">WARN</span>][<span class="hljs-link_reference">OperatorTabManager( 4416)</span>] OperatorTabResources.updateConfiguration: arg0(conf)=null arg1(dispMetrics)=DisplayMetrics{density=0.0, width=0, height=0, scaledDensity=0.0, xdpi=0.0, ydpi=0.0}
[<span class="hljs-link_label">WARN</span>][<span class="hljs-link_reference">ResourceType( 4416)</span>] Failure getting entry for 0x7f0a009f (t=9 e=159) in package 0 (error -75)
[<span class="hljs-link_label">WARN</span>][<span class="hljs-link_reference">Resources( 4416)</span>] Converting to string: TypedValue{t=0x1/d=0x7f0a009f a=-1 r=0x7f0a009f}
[<span class="hljs-link_label">ERROR</span>][<span class="hljs-link_reference">PagedGridView( 4416)</span>] enableDurationAdjustment: e=java.lang.NumberFormatException: unable to parse '' as integer
[<span class="hljs-link_label">WARN</span>][<span class="hljs-link_reference">System.err( 4416)</span>] java.lang.NumberFormatException: unable to parse '' as integer
[<span class="hljs-link_label">WARN</span>][<span class="hljs-link_reference">System.err( 4416)</span>]     at java.lang.Integer.parseInt(Integer.java:362)
[<span class="hljs-link_label">WARN</span>][<span class="hljs-link_reference">System.err( 4416)</span>]     at java.lang.Integer.parseInt(Integer.java:332)
[<span class="hljs-link_label">WARN</span>][<span class="hljs-link_reference">System.err( 4416)</span>]     at com.htc.widget.PagedGridView.enableDurationAdjustment(PagedGridView.java:288)
[<span class="hljs-link_label">WARN</span>][<span class="hljs-link_reference">System.err( 4416)</span>]     at com.htc.launcher.Launcher.setupViews(Launcher.java:2054)
[<span class="hljs-link_label">WARN</span>][<span class="hljs-link_reference">System.err( 4416)</span>]     at com.htc.launcher.Launcher.onCreate(Launcher.java:631)
[<span class="hljs-link_label">WARN</span>][<span class="hljs-link_reference">System.err( 4416)</span>]     at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1072)
[<span class="hljs-link_label">WARN</span>][<span class="hljs-link_reference">System.err( 4416)</span>]     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1794)
[<span class="hljs-link_label">WARN</span>][<span class="hljs-link_reference">System.err( 4416)</span>]     at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:1851)
[<span class="hljs-link_label">WARN</span>][<span class="hljs-link_reference">System.err( 4416)</span>]     at android.app.ActivityThread.access$1500(ActivityThread.java:132)
[<span class="hljs-link_label">WARN</span>][<span class="hljs-link_reference">System.err( 4416)</span>]     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1038)
[<span class="hljs-link_label">WARN</span>][<span class="hljs-link_reference">System.err( 4416)</span>]     at android.os.Handler.dispatchMessage(Handler.java:99)
[<span class="hljs-link_label">WARN</span>][<span class="hljs-link_reference">System.err( 4416)</span>]     at android.os.Looper.loop(Looper.java:150)
[<span class="hljs-link_label">WARN</span>][<span class="hljs-link_reference">System.err( 4416)</span>]     at android.app.ActivityThread.main(ActivityThread.java:4293)
[<span class="hljs-link_label">WARN</span>][<span class="hljs-link_reference">System.err( 4416)</span>]     at java.lang.reflect.Method.invokeNative(Native Method)
[<span class="hljs-link_label">WARN</span>][<span class="hljs-link_reference">System.err( 4416)</span>]     at java.lang.reflect.Method.invoke(Method.java:507)
[<span class="hljs-link_label">WARN</span>][<span class="hljs-link_reference">System.err( 4416)</span>]     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:839)
[<span class="hljs-link_label">WARN</span>][<span class="hljs-link_reference">System.err( 4416)</span>]     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:597)
[<span class="hljs-link_label">WARN</span>][<span class="hljs-link_reference">System.err( 4416)</span>]     at dalvik.system.NativeStart.main(Native Method)
[<span class="hljs-link_label">INFO</span>][<span class="hljs-link_reference">CarouselTimeLog( 4416)</span>] onStart() finish: 1359352706641
[<span class="hljs-link_label">INFO</span>][<span class="hljs-link_reference">Database( 4416)</span>] sqlite returned: error code = 0, msg = Recovered 12 frames from WAL file /data/data/com.htc.launcher/databases/carousel.db-wal
[<span class="hljs-link_label">INFO</span>][<span class="hljs-link_reference">Database( 4416)</span>] sqlite returned: error code = 0, msg = Recovered 105 frames from WAL file /data/data/com.htc.launcher/databases/launcher.db-wal
[<span class="hljs-link_label">ERROR</span>][<span class="hljs-link_reference">ButtonBarCache( 4416)</span>] buildCache error!!! width = 0, height = 0
</code></pre>
		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="January 28th 2013, 4:14:49 am">January 28th 2013</span>
				by <span class='authorname'>Ben Hill</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>crash</span></li>
					
				</ul>
			

			<section>
				<h5>2 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>any help, folks?  would also love tips on debugging how i can find the source of this error.</p>
</div>
							<div class="author">
								&mdash; commented <span title="January 28th 2013, 4:07:10 pm">January 28th 2013</span>
								by <span class='authorname'>Ben Hill</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Hey Folks.  This is one last plea to anyone who might have an idea how to work around this issue.</p>
<p>So far, this is reproducible over sustained use on HTC&#x2F;Android 2.2.  App is sold as a rock on my LG&#x2F;Android 4.0 phone.</p>
<p>Every time it crashes, the log lists:</p>
<pre><code class="hljs">java.lang.NumberFormatException: unable <span class="hljs-built_in">to</span> parse <span class="hljs-string">''</span> <span class="hljs-keyword">as</span> <span class="hljs-keyword">integer</span>
</code></pre><p>See above for the full log.  The app crashes seemingly randomly on any given page.</p>
<p>There is no correlation to JS code and the app does not break in debug mode.  Any help in just correlating the issue to a particular line of code would also be very welcome.</p>
<p>Hate to push an app to the store with this glaring bug.</p>
<p>Any help would be very much appreciated.  I will even send a six pack to anyone who can help me.  Premium Domestic.  ;)</p>
<p>Thanks, all.</p>
<p>Ben</p>
</div>
							<div class="author">
								&mdash; commented <span title="February 7th 2013, 4:01:43 am">February 7th 2013</span>
								by <span class='authorname'>Ben Hill</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-255638">
				
						<section>
							<p>This seems to be the problem of HTC custom rom present in the phone which might have been fixed in the newer version.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="January 29th 2013, 8:39:06 am">January 29th 2013</span>
								by <span class='authorname'>Perminder Singh Bhatia</span><br>
								<a class="icon-bg icon-link" href="question/147477/javalangnumberformatexception-android#answer-255638" rel="permalink">permalink</a>
							</div>

							<h5>5 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Thank you, sir!  Do you perhaps have a link to the issue?</p>
<p>By &quot;the newest version&quot; do you mean the newest version of the ROM, Android or Titanium?</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 29th 2013, 5:16:26 pm">January 29th 2013</span>
											by <span class='authorname'>Ben Hill</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>No i do not have the link to HTC Android ROM as it is property of HTC and is closed source. By ROM i mean Android OS.</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 30th 2013, 4:40:46 am">January 30th 2013</span>
											by <span class='authorname'>Perminder Singh Bhatia</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Right. What I meant to ask: Is there a link to the bug which might include a workaround? I&#39;d also like more info into the exact nature of the problem so I can endeavor to avoid it.</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 30th 2013, 4:16:58 pm">January 30th 2013</span>
											by <span class='authorname'>Ben Hill</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>So, after spoiling my brain looking at the log following are the observations gathered and i don&#39;t know how much helpful will it be for you:</p>
<p>After looking in the log this is the only line which makes sense</p>
<p><code>[ERROR][PagedGridView( 4416)] enableDurationAdjustment: e=java.lang.NumberFormatException: unable to parse &amp;#39;&amp;#39; as integer</code></p>
<p>After looking at this line it seems there is some custom class which is implementing Paging in a GridView and when enableDurationAdjustment method is called of that class a number format exception is thrown because the page number obtained in the logic of this method is empty string which is throwing number format exception.</p>
<p>I googled this class and found nothing maybe it is HTC specific but not sure.</p>
<p>i hope this helps</p>
</p>
										<div class="author">
											&mdash; commented <span title="February 7th 2013, 9:37:55 am">February 7th 2013</span>
											by <span class='authorname'>Perminder Singh Bhatia</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>the only link found is for a Sencha library: http:&#x2F;&#x2F;www.sencha.com&#x2F;forum&#x2F;showthread.php?59-PagedGridView</p>
</p>
										<div class="author">
											&mdash; commented <span title="February 7th 2013, 9:39:24 am">February 7th 2013</span>
											by <span class='authorname'>Perminder Singh Bhatia</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-255794">
				
						<section>
							<p>Right.  What I meant to ask: Is there a link to the bug which might include a workaround?  I&#39;d also like more info into the exact nature of the problem so I can endeavor to avoid it.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="January 30th 2013, 4:15:52 pm">January 30th 2013</span>
								by <span class='authorname'>Ben Hill</span><br>
								<a class="icon-bg icon-link" href="question/147477/javalangnumberformatexception-android#answer-255794" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>This was meant to be a comment on the above answer.  Odd that there&#39;s no way to delete an answer once posted.  Anyway, reposting as a comment.</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 30th 2013, 4:16:48 pm">January 30th 2013</span>
											by <span class='authorname'>Ben Hill</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
