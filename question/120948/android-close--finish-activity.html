<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Android Close / Finish Activity » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Android Close / Finish Activity</h1>
		</header>
		<section>
			<p>I am currently trying to get the back button to close an app.</p>
<p>I am using Titanium SDK 1.8 (latest drop) and Titanium Studio against Google API 2.3.3 SDK</p>
<p>I require the android app to close on the back button cleanly.</p>
<p>I capture the back button activity and perform the following</p>
<pre><code class="hljs">mainNS.event.closeTheApp                        =    <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(evt)</span>
</span>{
    <span class="hljs-keyword">if</span> (Ti.Platform.osname == <span class="hljs-string">'android'</span>)
    {
        <span class="hljs-keyword">var</span> activity                             =     Ti.Android.currentActivity;
        activity.stop(<span class="hljs-string">"all"</span>);
    }
};
</code></pre><p>This closes the window, but there then appears a blank window which I have to press the back button again for the app to close.</p>
<p>I have tried many approaches including closing the window. If I put exitOnClose on the window itself, it works, but it messes up the app, as the windows are closed when the next one is opened.. It just closes the app on changing screens.</p>
<p>I have a test app I have setup which shows it better… http:&#x2F;&#x2F;pastebin.com&#x2F;dTGJYhd9</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="June 13th 2011, 2:04:35 pm">June 13th 2011</span>
				by <span class='authorname'>Trevor Ward</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>close</span></li>
					
						<li><span class='tagname'>exit</span></li>
					
						<li><span class='tagname'>stop</span></li>
					
				</ul>
			

			<section>
				<h5>4 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>I have frigged this by creating a blank window with exitOnClose set to true and then when final back button pressed it opens this window and then closes it. Actually a nice black screen slides across then the app closes. Would like to close from the main screen though.</p>
</div>
							<div class="author">
								&mdash; commented <span title="June 13th 2011, 2:47:35 pm">June 13th 2011</span>
								by <span class='authorname'>Trevor Ward</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>surely the Android back button closes an app anyway? (if it has no windows left to close?)</p>
</div>
							<div class="author">
								&mdash; commented <span title="June 13th 2011, 3:49:09 pm">June 13th 2011</span>
								by <span class='authorname'>Kosso</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>You would have thought but it appears the Android app opens a basic app window which it returns to after all the titanium app windows have been closed.</p>
</div>
							<div class="author">
								&mdash; commented <span title="June 13th 2011, 5:16:50 pm">June 13th 2011</span>
								by <span class='authorname'>Trevor Ward</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>you should call activity.finish(); <a href="http:&#x2F;&#x2F;developer.appcelerator.com&#x2F;apidoc&#x2F;mobile&#x2F;latest&#x2F;Titanium.Android.Activity.finish-method.html">api doc</a> stop is not a supported method on Activity.</p>
</div>
							<div class="author">
								&mdash; commented <span title="June 15th 2011, 9:37:12 pm">June 15th 2011</span>
								by <span class='authorname'>Don Thorp</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>0</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>0 Answers</h3>

	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
