<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>How to require js file in a pure JS native module » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>How to require js file in a pure JS native module</h1>
		</header>
		<section>
			<p>I&#39;m trying to create a pure JS native module for Titanium.</p>
<p>As explained by Titanium, I have created a file in the assets folder named as my app id (<em>assets&#x2F;comm.foo.js</em>).<br>In this file, I require another file (<em>assets&#x2F;lib&#x2F;bar.js</em>) as follow :</p>
<pre><code class="hljs"><span class="hljs-built_in">require</span>(<span class="hljs-string">'lib/bar'</span>);
</code></pre><p>But when I integrate my compiled module in a new Titanium app, the <em>bar.js</em> file isn&#39;t copied and thus, I have a &quot;Could not find file exception&quot;.</p>
<p>Anyone a solution for this problem ?</p>
<p>Thx in advance !</p>
<p>Romain</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="May 1st 2013, 10:02:42 pm">May 1st 2013</span>
				by <span class='authorname'>Romain Salles</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>module</span></li>
					
						<li><span class='tagname'>require</span></li>
					
				</ul>
			

			<section>
				<h5>3 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Can you post a link where this is described by Titanium, please?</p>
</div>
							<div class="author">
								&mdash; commented <span title="May 2nd 2013, 12:06:34 pm">May 2nd 2013</span>
								by <span class='authorname'>Manuel Lehner</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>With pleasure !</p>
<p>It&#39;s not documented on Internet, but in the <em>README</em> file generated when you create a new Titanium module.</p>
<p>See for example this <a href="https:&#x2F;&#x2F;github.com&#x2F;appcelerator&#x2F;titanium_modules&#x2F;blob&#x2F;master&#x2F;paint&#x2F;mobile&#x2F;ios&#x2F;README">one</a> and search for <em>https:&#x2F;&#x2F;github.com&#x2F;appcelerator&#x2F;titanium_modules&#x2F;blob&#x2F;master&#x2F;paint&#x2F;mobile&#x2F;ios&#x2F;README</em> (<em>ti.paint</em> is the id of the module)</p>
</div>
							<div class="author">
								&mdash; commented <span title="May 2nd 2013, 1:38:05 pm">May 2nd 2013</span>
								by <span class='authorname'>Romain Salles</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>And there is a link where they explain how to create a <a href="http:&#x2F;&#x2F;docs.appcelerator.com&#x2F;titanium&#x2F;2.1&#x2F;#!&#x2F;guide&#x2F;iOS_Module_Development_Guide">Titanium module</a></p>
</div>
							<div class="author">
								&mdash; commented <span title="May 2nd 2013, 1:40:25 pm">May 2nd 2013</span>
								by <span class='authorname'>Romain Salles</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-266769">
				
						<section>
							<p>I was able to finally do this. Instead of requiring via path, require using module id.</p>
<pre><code class="hljs"><span class="hljs-built_in">require</span>(<span class="hljs-string">"com.mycompany.mymodule"</span>);
</code></pre><p>where &quot;com.mycompany.mymodule&quot; is the module ID<br>and there is a file named com.mycompany.mymodule.js in the assets directory.</p>
<p>If you want to require a JS file inside a native module, do this:</p>
<pre><code class="hljs"><span class="hljs-built_in">require</span>(<span class="hljs-string">"com.mycompany.mymodule/mytestfile"</span>);
</code></pre><p>where mytestfile.js is a file that lives in the assets directory.</p>
<p>If you want to require a JS file inside a subdir in the assets directory, do this:</p>
<pre><code class="hljs"><span class="hljs-built_in">require</span>(<span class="hljs-string">"com.mycompany.mymodule/subdir/myothertestfile"</span>);
</code></pre><p>Hope this helps somebody.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 4th 2013, 4:19:19 pm">August 4th 2013</span>
								by <span class='authorname'>gary fong</span><br>
								<a class="icon-bg icon-link" href="../../question/151828/how-to-require-js-file-in-a-pure-js-native-module.html#answer-266769" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-261983">
				
						<section>
							<p>Hi</p>
<p>Make the lib folder in app folder and paste the js file there and then reference it like this</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> bar=<span class="hljs-built_in">require</span>(<span class="hljs-string">'bar'</span>);
</code></pre><p>and you are good to go</p>
<p>Thanks</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="May 1st 2013, 11:39:58 pm">May 1st 2013</span>
								by <span class='authorname'>Muhammad Wahhab Mirza</span><br>
								<a class="icon-bg icon-link" href="../../question/151828/how-to-require-js-file-in-a-pure-js-native-module.html#answer-261983" rel="permalink">permalink</a>
							</div>

							<h5>3 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>did it work?</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 2nd 2013, 1:21:57 am">May 2nd 2013</span>
											by <span class='authorname'>Muhammad Wahhab Mirza</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Thanks for your answer.</p>
<p>I&#39;m not sure I understand your solution.<br>When you make a pure JS native module for Titanium (ie: a module that you will place on the <a href="https:&#x2F;&#x2F;marketplace.appcelerator.com&#x2F;home">Titanium marketplace</a>), you don&#39;t have an <em>app</em> folder, only an <em>asset</em> one.</p>
<p>I quote Titanium README :</p>
<pre><code class="hljs">WRITING <span class="hljs-keyword">PURE</span> JS NATIVE MODULES
------------------------------

You can <span class="hljs-built_in">write</span> a <span class="hljs-keyword">pure</span> JavaScript <span class="hljs-string">"natively compiled"</span> <span class="hljs-keyword">module</span>.  This is nice <span class="hljs-keyword">if</span> you want to distribute a JS <span class="hljs-keyword">module</span> pre-compiled.

To create a <span class="hljs-keyword">module</span>, create a <span class="hljs-keyword">file</span> <span class="hljs-keyword">named</span> com.foo.js under the assets folder.
This <span class="hljs-keyword">file</span> must be <span class="hljs-type">in</span> the <span class="hljs-type">Common</span> JS <span class="hljs-keyword">format</span>.  For example:

    exports.echo = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(s)</span></span>
    {
        <span class="hljs-keyword">return</span> s;
    };

<span class="hljs-built_in">Any</span> functions and properties that are exported will be made available as part of your <span class="hljs-keyword">module</span>.  <span class="hljs-built_in">All</span> other code inside your JS will be <span class="hljs-keyword">private</span> to your <span class="hljs-keyword">module</span>.

For <span class="hljs-keyword">pure</span> JS <span class="hljs-keyword">module</span>, you don<span class="hljs-string">'t need to modify any of the Objective-C module code. You can leave it as-is and build.</span>
</code></pre><p>Nevertheless, I have tried to create an <em>app</em> folder in my <em>assets</em> one (<em>assets&#x2F;app&#x2F;bar.js</em>), but it still doesn&#39;t work.</p>
<p>Thus, I think your telling me that I have to copy the javascript file that I want to be fully integrated in my module in all the apps using this module ? Or maybe have I misunderstood something ?</p>
<p>There is no other way ? Because I don&#39;t like this solution…</p>
<p>Thanks,<br>Romain</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 2nd 2013, 1:39:57 am">May 2nd 2013</span>
											by <span class='authorname'>Romain Salles</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Hi Romain, did you ever find the solution?</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 30th 2013, 2:30:20 pm">July 30th 2013</span>
											by <span class='authorname'>gary fong</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>-1</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
