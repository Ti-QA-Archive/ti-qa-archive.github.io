<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>xml parsing on first load Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>xml parsing on first load</h1>
		</header>
		<section>
			<p>Hi,</p>
<p>I am facing very strange issue in parsing xml. XML parsing fails to parse the xml response on the first loading of application in the ipad simulator as well as device. If I completely quit the application and if reopen it, it works!!!!</p>
<p>On the very first load of application I am getting the following error in the Titanium Appcelerator.</p>
<pre><code class="hljs">[WARN] Exception in event callback. {
expressionBeginOffset = 6394<span class="hljs-comment">;</span>
expressionCaretOffset = 6430<span class="hljs-comment">;</span>
expressionEndOffset = 6435<span class="hljs-comment">;</span>
line = 135<span class="hljs-comment">;</span>
message = "Result of expression 'xmlDoc.getElementsByTagName(\"Count\")' [null] is not an object."<span class="hljs-comment">;</span>
name = TypeError<span class="hljs-comment">;</span>
sourceId = <span class="hljs-number">200357448</span><span class="hljs-comment">;</span>
sourceURL = "file://localhost/Users/manaday.mavani/Library/Application%20Support/iPhone%20Simulator/4.2/Applications/<span class="hljs-number">572185D6-43</span>A5-458F-8D47-B5EE<span class="hljs-number">0A6D3C41</span>/IRApp.app/Helper/Helper.js"<span class="hljs-comment">;</span>
}
[WARN] Exception in event callback. {
expressionBeginOffset = 10019<span class="hljs-comment">;</span>
expressionCaretOffset = 10058<span class="hljs-comment">;</span>
expressionEndOffset = 10063<span class="hljs-comment">;</span>
line = 211<span class="hljs-comment">;</span>
message = "Result of expression 'xmldoc.getElementsByTagName(\"Snapshot\")' [null] is not an object."<span class="hljs-comment">;</span>
name = TypeError<span class="hljs-comment">;</span>
sourceId = <span class="hljs-number">200357448</span><span class="hljs-comment">;</span>
sourceURL = "file://localhost/Users/manaday.mavani/Library/Application%20Support/iPhone%20Simulator/4.2/Applications/<span class="hljs-number">572185D6-43</span>A5-458F-8D47-B5EE<span class="hljs-number">0A6D3C41</span>/IRApp.app/Helper/Helper.js"<span class="hljs-comment">;</span>
}
</code></pre><p>after quitting and relaunching the app works perfectly.</p>
<p>Thanks in advance.</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="March 8th 2011, 11:40:24 am">March 8th 2011</span>
				by <span class='authorname'>Manaday Mavani</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>http</span></li>
					
						<li><span class='tagname'>httprequest</span></li>
					
						<li><span class='tagname'>ipad</span></li>
					
						<li><span class='tagname'>request</span></li>
					
						<li><span class='tagname'>xhr</span></li>
					
						<li><span class='tagname'>xhrrequest</span></li>
					
						<li><span class='tagname'>xml</span></li>
					
				</ul>
			

			<section>
				<h5>2 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>If you also show us the code you&#39;re using to load and parse the XML in your app, it will be a bit more helpful for us to be able to help you out ;)</p>
</div>
							<div class="author">
								&mdash; commented <span title="March 8th 2011, 11:58:36 am">March 8th 2011</span>
								by <span class='authorname'>Kosso</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Hi Kosso,<br>Here I&#39;ve shared the code <strong>http:&#x2F;&#x2F;pastie.org&#x2F;1647446</strong></p>
</div>
							<div class="author">
								&mdash; commented <span title="March 8th 2011, 12:17:56 pm">March 8th 2011</span>
								by <span class='authorname'>Manaday Mavani</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-203872">
				
						<section>
							<p>the first thing I would do is call your handler on the onload event and not the onreadystatechange event, it is a common approach in most httpClient samples I have seen.</p>
<p>change this</p>
<pre><code class="hljs">snapshotxhr.onreadystatechange = <span class="hljs-operator"><span class="hljs-keyword">handler</span>;</span>
</code></pre><p>to this</p>
<pre><code class="hljs">snapshotxhr.onload = <span class="hljs-operator"><span class="hljs-keyword">handler</span>;</span>
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="March 8th 2011, 12:24:39 pm">March 8th 2011</span>
								by <span class='authorname'>Aaron Saunders</span><br>
								<a class="icon-bg icon-link" href="../../question/116962/xml-parsing-on-first-load.html#answer-203872" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Hi Aaron,<br>I already tried that one with no success. I want to make my question more clear that on the very first load of application (means when the application is just has been installed on the ipad and loaded in the simulator) this issue is being raised all the subsequent app load (unless i delete it from the simulator) dont reflects this issue and works fine with no change of code. Very very strange!!!</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 8th 2011, 12:33:59 pm">March 8th 2011</span>
											by <span class='authorname'>Manaday Mavani</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
