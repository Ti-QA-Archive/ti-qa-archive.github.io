<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>&#34;ERROR Unable to read response from site, check site address&#34; What am I doing wrong??? » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>&#34;ERROR Unable to read response from site, check site address&#34; What am I doing wrong???</h1>
		</header>
		<section>
			<p>I&#39;m VERY new to Appcelerator and am trying to figure out why is it that when I click a created button that loads a new screen I get the error &quot;unable to read response from site, check site address&quot;. This code was written for me and I&#39;m trying to figure out how to implement it. Any direction would be helpful. I hope I submitted my question and relevant info below correctly. If not, many apologies.</p>
<p>Application type: mobile,Android<br>Titanium SDK: 2.1.2<br>Platform &amp; version: Android 4.1<br>Device: Android simulator, Android device - GSIII<br>Host Operating System: Windows 7<br>Titanium Studio: Titanium Studio, build: 2.1.2.201208301612<br>(c) Copyright 2012 by Appcelerator, Inc.  All rights reserved.</p>
<p>Build: jenkins-titanium-rcp-master-232 (origin&#x2F;master)<br>Date: 30 August 2012, 16:14:46</p>
<p>a simple test case: `var btnAddNew = Titanium.UI.createButton({<br>    title:&#39;Book an Appointment&#39;,<br>&#x2F;&#x2F;    image:&#39;..&#x2F;images&#x2F;btnbkg.png&#39;,<br>&#x2F;&#x2F;    backgroundImage:&#39;..&#x2F;images&#x2F;Book_0.png&#39;,<br>&#x2F;&#x2F;    backgroundSelectedImage:&#39;..&#x2F;images&#x2F;Book_1.png&#39;,<br>&#x2F;&#x2F;    backgroundSelectedColor:&#39;#f00&#39;,<br>    &#x2F;&#x2F;focusable:true,<br>    font:{fontSize:32},<br>    height:125,<br>    width:350,<br>    &#x2F;&#x2F;top:240<br>    bottom: 500<br>});</p>
<p>var btnMyBookings = Titanium.UI.createButton({<br>    title:&#39;My Mobile Bookings&#39;,<br>&#x2F;&#x2F;    backgroundImage:&#39;..&#x2F;images&#x2F;Book_0.png&#39;,<br>&#x2F;&#x2F;    backgroundSelectedImage:&#39;..&#x2F;images&#x2F;Book_1.png&#39;,<br>    &#x2F;&#x2F;focusable:true,<br>    font:{fontSize:32},<br>    height:125,<br>    width:350,<br>    &#x2F;&#x2F;top:310<br>    bottom: 300<br>});</p>
<p>&#x2F;*var btnMyPoints = Titanium.UI.createButton({<br>    title:&#39;MyPoints&#39;,</p>
<pre><code class="hljs"><span class="hljs-tag">focusable</span><span class="hljs-pseudo">:true</span>,
<span class="hljs-tag">font</span>:<span class="hljs-rules">{<span class="hljs-rule"><span class="hljs-attribute">fontSize</span>:<span class="hljs-value"><span class="hljs-number">18</span></span></span></span>},
<span class="hljs-tag">height</span><span class="hljs-pseudo">:50</span>,
<span class="hljs-tag">width</span><span class="hljs-pseudo">:200</span>,
<span class="hljs-tag">top</span><span class="hljs-pseudo">:390</span>
</code></pre><p>});*&#x2F;</p>
<p>&#x2F;&#x2F; create table view<br>if (Ti.Platform.name != &quot;android&quot;) {<br>    var tableViewOptions = {<br>            data:data,<br>            style:Titanium.UI.iPhone.TableViewStyle.GROUPED,<br>            backgroundImage:&#39;&#x2F;..images&#x2F;background.png&#39;,<br>            rowBackgroundColor:&#39;white&#39;<br>        };</p>
<pre><code class="hljs"><span class="hljs-comment">// create table view</span>
<span class="hljs-keyword">var</span> tableview = Titanium.UI.createTableView(tableViewOptions);

<span class="hljs-comment">// create table view event listener</span>
tableview.addEventListener('click', function(<span class="hljs-keyword">e</span>)
{
    <span class="hljs-keyword">if</span>(<span class="hljs-keyword">e</span>.rowData.gotoScreen == <span class="hljs-string">"prepareBooking"</span>){
        prepareBooking(<span class="hljs-string">"new"</span>);
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">e</span>.rowData.gotoScreen == <span class="hljs-string">"prepareMyBooking"</span>){
        prepareBooking(<span class="hljs-string">"my"</span>);        
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">e</span>.rowData.gotoScreen)
    {
        win2 = Titanium.UI.createWindow({
            url:<span class="hljs-keyword">e</span>.rowData.gotoScreen,
            title:<span class="hljs-keyword">e</span>.rowData.title
        });    
        win2.list_all=<span class="hljs-keyword">e</span>.rowData.list_all; 
        win2.hideTabBar();
        win2.siteLang = siteLang;
        Titanium.UI.currentTab.<span class="hljs-keyword">open</span>(win2,{animated:true});
        actInd.hide();
    }
});


<span class="hljs-keyword">var</span> <span class="hljs-keyword">view</span> = Titanium.UI.createView({
    backgroundColor:'#000',
    opacity:0.7,
    height:30,
    width:250,
    borderRadius:10
});
</code></pre><p>}</p>
<p>if (Ti.Platform.name == &quot;android&quot;) {<br>    &#x2F;&#x2F;scrolling_view.add(imgLogo);<br>    scrolling_view.add(btnAddNew);<br>    scrolling_view.add(btnMyBookings);<br>    &#x2F;&#x2F;scrolling_view.add(btnMyPoints);<br>    win1.add(scrollView);</p>
<p>} else {<br>    Titanium.UI.currentWindow.add(tableview);<br>&#x2F;&#x2F;    win.add(view);<br>}</p>
<p>&#x2F;&#x2F;btnSelectLocal.addEventListener(&#39;click&#39;, function()<br>&#x2F;&#x2F;{<br>&#x2F;&#x2F;    winss = Titanium.UI.createWindow({<br>&#x2F;&#x2F;        url:&quot;screens&#x2F;selectSite.js&quot;,<br>&#x2F;&#x2F;        title:&quot;Select Site&quot;<br>&#x2F;&#x2F;    });<br>&#x2F;&#x2F;    winss.list_all=&quot;No&quot;;<br>&#x2F;&#x2F;    winss.hideTabBar();<br>&#x2F;&#x2F;    Titanium.UI.currentTab.open(winss,{animated:true});<br>&#x2F;&#x2F;    actInd.hide();<br>&#x2F;&#x2F;    return true;<br>&#x2F;&#x2F;<br>&#x2F;&#x2F;});<br>&#x2F;&#x2F;<br>&#x2F;&#x2F;btnSelectAll.addEventListener(&#39;click&#39;, function()<br>&#x2F;&#x2F;{<br>&#x2F;&#x2F;    winss = Titanium.UI.createWindow({<br>&#x2F;&#x2F;        url:&quot;screens&#x2F;selectSite.js&quot;,<br>&#x2F;&#x2F;        title:&quot;Select Site&quot;<br>&#x2F;&#x2F;    });<br>&#x2F;&#x2F;    winss.list_all=&quot;Yes&quot;;<br>&#x2F;&#x2F;    winss.hideTabBar();<br>&#x2F;&#x2F;    Titanium.UI.currentTab.open(winss,{animated:true});<br>&#x2F;&#x2F;    actInd.hide();<br>&#x2F;&#x2F;    return true;<br>&#x2F;&#x2F;<br>&#x2F;&#x2F;});<br>&#x2F;&#x2F;<br>btnAddNew.addEventListener(&#39;click&#39;, function()<br>{<br>    prepareBooking(&quot;new&quot;);<br>    return true;<br>});</p>
<p>btnMyBookings.addEventListener(&#39;click&#39;, function()<br>{<br>    prepareBooking(&quot;my&quot;);<br>    return true;<br>});</p>
<p>&#x2F;&#x2F; add activity indicator<br>var actInd = Titanium.UI.createActivityIndicator({<br>    bottom:10,<br>    height:50,<br>    width:10,<br>    style:Titanium.UI.iPhone.ActivityIndicatorStyle.BIG<br>});<br>actInd.message = &#39;Loading…&#39;;<br>win1.add(actInd);<br>actInd.hide();</p>
<p>function prepareBooking(dest){<br>    &#x2F;&#x2F; which = &#39;new&#39; booking or &#39;my&#39; booking<br>    &#x2F;&#x2F;Ti.API.info(dest);<br>    if(currentSite == &quot;Select a Site&quot;){<br>        alert(&quot;Please Select a Site&quot;);<br>        return;<br>    }<br>    if(Titanium.App.Properties.getString(&#39;bookingSiteURL&#39;) == &quot;&quot;){<br>        alert(&quot;Bad site URL, please select a differet site.&quot;);<br>        return;<br>    }<br>    current_site_access_code = Titanium.App.Properties.getString(&#39;current_site_access_code&#39;);<br>    if(current_site_access_code != &quot;&quot; &amp;&amp; current_site_access_code != null &amp;&amp; current_site_access_code != undefined){<br>        user_site_access_code = Titanium.App.Properties.getString(&#39;user_site_access_code&#39;);<br>        if(current_site_access_code != user_site_access_code ){<br>            alert(&quot;The selected site requires an access code. Your access code, for this site, is either missing or incorrect. Please re-enter the code in your Settings screen&quot;);<br>            return;<br>        }<br>    }<br>    current_site_require_login = Titanium.App.Properties.getString(&#39;current_require_login&#39;);<br>    if(current_site_require_login == &quot;Yes&quot;){<br>        user_site_username = Titanium.App.Properties.getString(&#39;current_site_username&#39;);<br>        &#x2F;&#x2F;Ti.API.info(user_site_username);<br>        if(user_site_username == &quot;&quot; ){<br>            alert(&quot;The selected site requires you to login. Your login information, for this site, is missing or incomplete. Please enter username&#x2F;password in your Settings screen&quot;);<br>            return;<br>        }<br>    }</p>
<pre><code class="hljs">actInd.show();
<span class="hljs-comment">// load site's language file</span>
task = <span class="hljs-string">"get_language_file"</span>;
<span class="hljs-keyword">var</span> nextstep;
<span class="hljs-keyword">if</span>(dest == <span class="hljs-string">"new"</span>){
    nextstep = <span class="hljs-string">"prepareBooking2"</span>;
} <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(dest == <span class="hljs-string">"my"</span>){
    nextstep = <span class="hljs-string">"prepareMyBooking2"</span>;
} <span class="hljs-keyword">else</span> {
    alert(dest);
}
siteURL = Titanium.App.Properties.getString(<span class="hljs-string">'bookingSiteURL'</span>);
</code></pre><p>&#x2F;&#x2F;&#x2F;&#x2F;DEV ONLY<br>&#x2F;&#x2F;siteURL= &quot;http:&#x2F;&#x2F;192.168.0.101&quot;;<br>    svJSON(siteURL, task, &#39;&amp;lang=en-GB&#39;, nextstep);</p>
<p>}</p>
<p>Ti.App.addEventListener(&#39;prepareBooking2&#39;, function(e)<br>{<br>    &#x2F;&#x2F;Titanium.API.info(e);<br>&#x2F;&#x2F;function prepareBooking2(data){<br>    if(e.data == null){<br>        actInd.hide();<br>        alert(&quot;Error accessing server data&quot;);<br>        return;<br>    }<br>    siteLang = e.data;</p>
<pre><code class="hljs"><span class="hljs-comment">// categories?</span>
<span class="hljs-keyword">task</span> = <span class="hljs-string">"get_categories"</span>;
siteURL = Titanium.App.Properties.getString(<span class="hljs-string">'bookingSiteURL'</span>);
svJSON(siteURL, <span class="hljs-keyword">task</span>, <span class="hljs-string">''</span>, <span class="hljs-string">'prepareBooking3'</span>);
</code></pre><p>});</p>
<p>Ti.App.addEventListener(&#39;prepareBooking3&#39;, function(e)<br>{<br>    &#x2F;&#x2F;Titanium.API.info(e.data);<br>&#x2F;&#x2F;function prepareBooking3(data){<br>    if(e.data == null){<br>        actInd.hide();<br>        alert(&quot;Error accessing server data&quot;);<br>        return;<br>    }<br>&#x2F;&#x2F;    actInd.hide();<br>    cats = e.data;<br>    &#x2F;&#x2F;Ti.API.info(cats);<br>    &#x2F;&#x2F;alert(cats.data.length);<br>    if(cats.data.length &gt; 1){<br>        &#x2F;&#x2F; goto categories list<br>        wincat = Titanium.UI.createWindow({<br>            url:&quot;screens&#x2F;selectCategory.js&quot;,<br>            title:siteLang.RS1_INPUT_SCRN_RESOURCE_CATEGORIES<br>        });<br>        wincat.cats = cats;<br>        wincat.siteLang = siteLang;<br>        wincat.hideTabBar();<br>        Titanium.UI.currentTab.open(wincat,{animated:true});<br>        actInd.hide();<br>        return true;</p>
<pre><code class="hljs">} <span class="hljs-keyword">else</span> {
    <span class="hljs-regexp">//</span> get resources (either <span class="hljs-keyword">for</span> one cat <span class="hljs-keyword">or</span> none)
    task = <span class="hljs-string">"list_resources"</span>;
    var cat_id = <span class="hljs-string">""</span>;
    <span class="hljs-keyword">if</span>(cats.data.length == <span class="hljs-number">1</span>){
        cat_id = cats.data[<span class="hljs-number">0</span>].id_categories;
    }
    siteURL = <span class="hljs-constant">Titanium</span>.<span class="hljs-constant">App</span>.<span class="hljs-constant">Properties</span>.getString(<span class="hljs-string">'bookingSiteURL'</span>);
    svJSON(siteURL, task, <span class="hljs-string">'&amp;cat_id='</span>+cat_id, <span class="hljs-string">'result_get_resources'</span>);
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">true</span>;
}
</code></pre><p>});</p>
<p>function do_prepareMyBooking2(e){<br>    var data = e.data;<br>    actInd.hide();<br>    if(data == null){<br>        alert(&quot;Error accessing server data&quot;);<br>        return;<br>    }<br>    siteLang = data;</p>
<pre><code class="hljs">win2 = Titanium.UI.createWindow({
    url:"screens/mybookings.js",
    title:siteLang.RS1_MYBOOKINGS_SCRN_TITLE
})<span class="hljs-comment">;    </span>
win2.hideTabBar()<span class="hljs-comment">;</span>
win2.siteLang = siteLang<span class="hljs-comment">;</span>
Titanium.UI.currentTab.open(win2,{animated:true})<span class="hljs-comment">;</span>
actInd.hide()<span class="hljs-comment">;</span>
</code></pre><p>}<br>Ti.App.addEventListener(&#39;prepareMyBooking2&#39;, do_prepareMyBooking2);</p>
<p>Ti.App.addEventListener(&#39;result_get_resources&#39;, function(e)<br>{<br>    resources = e.data;<br>    actInd.hide();<br>&#x2F;&#x2F;function result_get_resources(resources){<br>     &#x2F;&#x2F;resources (1 - goto booking, &gt; 1 gotto selectResource screen<br>    if(resources.data.length &gt; 1){<br>        winres = Titanium.UI.createWindow({<br>            url:&quot;screens&#x2F;selectResource.js&quot;,<br>            title:siteLang.RS1_INPUT_SCRN_RESOURCE<br>        });<br>        winres.resources = resources;<br>        winres.siteLang = siteLang;<br>        winres.hideTabBar();<br>        Titanium.UI.currentTab.open(winres,{animated:true});<br>        actInd.hide();<br>        return true;</p>
<pre><code class="hljs">} <span class="hljs-keyword">else</span>     <span class="hljs-keyword">if</span>(resources.<span class="hljs-typedef"><span class="hljs-keyword">data</span>.length == 0)<span class="hljs-container">{
    <span class="hljs-title">alert</span>("<span class="hljs-type">No</span> <span class="hljs-title">resources</span> <span class="hljs-title">available</span> <span class="hljs-title">for</span> <span class="hljs-title">booking</span>.");
    <span class="hljs-title">return</span> <span class="hljs-title">true</span>;
}</span> else <span class="hljs-container">{
    <span class="hljs-title">winbook</span> = <span class="hljs-type">Titanium</span>.<span class="hljs-type">UI</span>.<span class="hljs-title">createWindow</span>({
        <span class="hljs-title">url</span>:"<span class="hljs-title">screens</span>/<span class="hljs-title">new_booking</span>.<span class="hljs-title">js</span>",
        <span class="hljs-title">title</span>:<span class="hljs-title">siteLang</span>.<span class="hljs-type">RS1_INPUT_SCRN_NEW_BOOKING</span>
    }</span>);    </span>
    winbook.hideTabBar();
    winbook.siteLang = siteLang;
    winbook.res_id = resources.<span class="hljs-typedef"><span class="hljs-keyword">data</span>[0].id_resources;</span>
    winbook.resource = resources.<span class="hljs-typedef"><span class="hljs-keyword">data</span>[0];</span>
    <span class="hljs-type">Titanium</span>.<span class="hljs-type">UI</span>.currentTab.open(winbook,{animated:true});
    actInd.hide();
    return true;
}
</code></pre><p>});</p>
<p>Ti.App.addEventListener(&#39;newSite&#39;, function(e)<br>{<br>    Ti.API.info(&quot;from site select:&quot;+e.displaySiteURL);<br>    if (e.displaySiteURL != &quot;&quot;){<br>        currentSite = e.displaySiteURL;<br>        &#x2F;&#x2F;tableview.updateRow(2,{title:&#39;New Booking!&#39;, hasChild:true, gotoScreen:&#39;prepareBooking&#39;, header:&#39;Booking at &#39; + currentSite});<br>        labelNewBooking2.text = e.displaySiteURL;<br>        &#x2F;&#x2F; fetch user&#39;s settings for thsi site..<br>        try{<br>            var    db = Titanium.Database.open(&#39;sitesDB&#39;);<br>            db.execute(&#39;CREATE TABLE IF NOT EXISTS sv_sites (id INTEGER PRIMARY KEY AUTOINCREMENT, site_id INTEGER, site_access_code VARCHAR(20) NULL, site_username VARCHAR(150) NULL, site_password VARCHAR(100) NULL)&#39;);<br>            var cur_site_settings = db.execute(&#39;SELECT id,site_id,site_access_code,site_username,site_password FROM sv_sites WHERE site_id = &#39;+e.site_id);<br>            if(cur_site_settings.isValidRow() != 0){<br>                Titanium.App.Properties.setString(&#39;user_site_access_code&#39;,cur_site_settings.fieldByName(&#39;site_access_code&#39;));<br>                Titanium.App.Properties.setString(&#39;current_site_username&#39;,cur_site_settings.fieldByName(&#39;site_username&#39;));<br>                Titanium.App.Properties.setString(&#39;current_site_password&#39;,cur_site_settings.fieldByName(&#39;site_password&#39;));<br>            }<br>            cur_site_settings.close();<br>            db.close();<br>        }<br>        catch(err){<br>            alert(err);<br>        }<br>    }</p>
<p>});`</p>
<p>Logs: [INFO][TiAPI   ( 2713)] http:&#x2F;&#x2F;domsonlineshop.com&#x2F;index.php?option=com_rsappt_pro2&amp;controller=json&amp;task=get_language_file&amp;lang=en-GB&amp;sc=1&amp;fileout=yes&amp;format=raw&amp;usr=domdady&amp;pwd=mymoney1&amp;sac=86346<br>[INFO][Choreographer( 2713)] Skipped 39 frames!  The application may be doing too much work on its main thread.<br>[INFO][Choreographer( 2713)] Skipped 48 frames!  The application may be doing too much work on its main thread.<br>[INFO][Choreographer( 2713)] Skipped 51 frames!  The application may be doing too much work on its main thread.<br>[INFO][Choreographer( 2713)] Skipped 32 frames!  The application may be doing too much work on its main thread.<br>[INFO][TiAPI   ( 2713)] fire callback = prepareMyBooking2<br>[INFO][Choreographer( 2713)] Skipped 43 frames!  The application may be doing too much work on its main thread.<br>[INFO][ALERT   ( 2713)] (KrollRuntimeThread) [445802,476992] ERROR Unable to read response from site, check site address.<br>[INFO][Choreographer( 2713)] Skipped 41 frames!  The application may be doing too much work on its main thread.<br>[INFO][Choreographer( 2713)] Skipped 34 frames!  The application may be doing too much work on its main thread.<br>[WARN][InputMethodManagerService(  168)] Window already focused, ignoring focus gain of: com.android.internal.view.IInputMethodClient$Stub$Proxy@415ca858 attribute=null<br>[INFO][Choreographer( 2713)] Skipped 109 frames!  The application may be doing too much work on its main thread.<br>[ERROR][ThrottleService(  168)] problem during onPollAlarm: java.lang.IllegalStateException: problem parsing stats: java.io.FileNotFoundException: &#x2F;proc&#x2F;net&#x2F;xt_qtaguid&#x2F;iface_stat_all: open failed: ENOENT (No such file or directory)<br>[ERROR][ThrottleService(  168)] problem during onPollAlarm: java.lang.IllegalStateException: problem parsing stats: java.io.FileNotFoundException: &#x2F;proc&#x2F;net&#x2F;xt_qtaguid&#x2F;iface_stat_all: open failed: ENOENT (No such file or directory)<br>[INFO][EventLogService(  344)] Aggregate from 1354033910874 (log), 1354033910874 (data)</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="November 27th 2012, 3:09:55 pm">November 27th 2012</span>
				by <span class='authorname'>Dominick Hall</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>appcelerator</span></li>
					
						<li><span class='tagname'>application</span></li>
					
						<li><span class='tagname'>error</span></li>
					
						<li><span class='tagname'>eventlistener</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-251786">
				
						<section>
							<p>From your code it seems like the property &#39;bookingSiteURL&#39; is not set. Unless you define it in another file, the line <code>Titanium.App.Properties.getString(&amp;#39;bookingSiteURL&amp;#39;);</code> will return undefined or null. </p>
<p>I am not 100% sure though, as your code is quite messy. Next time, please put your code between backticks or between three tildes, as described in the &#39;Markdown Syntax&#39; part of the textarea for posting your question or a comment.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="November 27th 2012, 3:19:51 pm">November 27th 2012</span>
								by <span class='authorname'>Nick Haster</span><br>
								<a class="icon-bg icon-link" href="question/145122/error-unable-to-read-response-from-site-check-site-address-what-am-i-doing-wrong#answer-251786" rel="permalink">permalink</a>
							</div>

							<h5>7 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Good man. Thanks for the quick response. Also, I thought I did the &quot;backticks&quot; at the beginning and end of the code? </p>
<p>&quot;bookingSiteURL&quot; is defined in the &quot;app.js&quot; file. Based on the console log, it shows the booking site url being contacted and a callback event fired. But then I&#39;m guessing that the data returned cannot be read?</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 27th 2012, 3:25:54 pm">November 27th 2012</span>
											by <span class='authorname'>Dominick Hall</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Backticks are for lines of code that you want to display inline. When you want to display blocks of code, you put it like this:</p>
<p>(3x ~)<br>&#x2F;&#x2F; Your code on a new line<br>(3x ~)</p>
<p>which will output</p>
<pre><code class="hljs"><span class="hljs-comment">// Your code on a new line</span>
</code></pre><p>As for your problem, I&#39;m guessing the error is generated in the function &#39;svJSON&#39; which, I think, uses the URL from <code>Titanium.App.Properties.getString(&amp;#39;bookingSiteURL&amp;#39;);</code> to connect to your server.</p>
<p>My guess is that the property is either not set correctly, or cannot be called from where you want. Try setting those variables like <code>Ti.App.bookingSiteURL = &amp;#39;yoururl&amp;#39;</code>. I&#39;m not sure if that will solve your problem, but it&#39;s my best guess.</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 27th 2012, 3:36:37 pm">November 27th 2012</span>
											by <span class='authorname'>Nick Haster</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Try finding the line of code that generates the error in  the function &#39;svJSON&#39; and try displaying the property in the error:</p>
<pre><code class="hljs"><span class="hljs-string">"unable to read response from site, check site address"</span>+Titanium.App.<span class="hljs-keyword">Properties</span>.getString(<span class="hljs-string">'bookingSiteURL'</span>);
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="November 27th 2012, 3:39:06 pm">November 27th 2012</span>
											by <span class='authorname'>Nick Haster</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Thank you for the advice Nick. Here&#39;s what I found in the svJson file, but don&#39;t know what to do next:</p>
<pre><code class="hljs"><span class="hljs-comment">// using GET</span>
    <span class="hljs-keyword">var</span> bookURL = url;
    bookURL += <span class="hljs-string">"/index.php?option=com_rsappt_pro2&amp;controller=ajax&amp;task="</span> + method;
    <span class="hljs-keyword">if</span>(params != <span class="hljs-string">""</span>){
        bookURL += params;
    }
    bookURL += <span class="hljs-string">"&amp;fileout=yes&amp;format=raw"</span>;
    Titanium.API.info(bookURL);
    xhr.open(<span class="hljs-string">'GET'</span>, bookURL);
    xhr.setRequestHeader(<span class="hljs-string">'Content-Type'</span>, <span class="hljs-string">'application/json; charset=utf-8'</span>);
    xhr.send();
    <span class="hljs-comment">//ERROR</span>
    xhr.onerror = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span> </span>{
        alert(<span class="hljs-string">"ERROR "</span> + e.error); 
        Titanium.API.info(<span class="hljs-string">"some error"</span>);
        eval(<span class="hljs-keyword">callback</span>); 
    }; 
    <span class="hljs-comment">//SUCCESS</span>
    xhr.onload = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
        Titanium.API.info(<span class="hljs-keyword">this</span>.responseText);
        <span class="hljs-comment">//Titanium.API.info(this.status);  </span>
        <span class="hljs-keyword">try</span>{
            myData = <span class="hljs-keyword">this</span>.responseText;
            <span class="hljs-comment">//Titanium.API.info(myData);</span>
            <span class="hljs-keyword">if</span>(<span class="hljs-keyword">callback</span> == <span class="hljs-string">"sync"</span>){
                <span class="hljs-keyword">return</span> myData;
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-comment">//eval(callback); </span>
                Ti.App.fireEvent(<span class="hljs-keyword">callback</span>, {data:myData});
                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
            }
        }
        <span class="hljs-keyword">catch</span>(err){
            alert(<span class="hljs-string">"ERROR "</span> + <span class="hljs-string">"Unable to read response from site, check site address. ("</span>+<span class="hljs-keyword">callback</span>+<span class="hljs-string">")"</span>); 
        }
    };
}
</code></pre><p>So yeah… I&#39;m kind of at a loss for what I can glean from this.</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 27th 2012, 3:48:37 pm">November 27th 2012</span>
											by <span class='authorname'>Dominick Hall</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Replace this line</p>
<pre><code class="hljs">alert(<span class="hljs-string">"ERROR "</span> + <span class="hljs-string">"Unable to read response from site, check site address. ("</span>+<span class="hljs-keyword">callback</span>+<span class="hljs-string">")"</span>);
</code></pre><p>with</p>
<pre><code class="hljs">alert<span class="hljs-list">(<span class="hljs-string">"ERROR "</span> + <span class="hljs-string">"Unable to read response from site, check site address: "</span>+url)</span><span class="hljs-comment">;</span>
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="November 27th 2012, 3:51:40 pm">November 27th 2012</span>
											by <span class='authorname'>Nick Haster</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Nothing has changed in the console output as a result of replacing that line. And I get the same pop up alert in the emulator as I have been getting with the previous line of code. I&#39;m guessing that line of code you recommended should have produced what URL is being called as the app runs?</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 27th 2012, 3:58:34 pm">November 27th 2012</span>
											by <span class='authorname'>Dominick Hall</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Yes, the url variable should contain the URL that the app connects to. But it seems I posted my comment a little too soon. The error is produced after the connection was succesful. This bit of code…</p>
<pre><code class="hljs"><span class="hljs-keyword">try</span>{
            myData = <span class="hljs-keyword">this</span>.responseText;
            <span class="hljs-comment">//Titanium.API.info(myData);</span>
            <span class="hljs-keyword">if</span>(<span class="hljs-keyword">callback</span> == <span class="hljs-string">"sync"</span>){
                <span class="hljs-keyword">return</span> myData;
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-comment">//eval(callback); </span>
                Ti.App.fireEvent(<span class="hljs-keyword">callback</span>, {data:myData});
                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
            }
        }
        <span class="hljs-keyword">catch</span>(err){
            alert(<span class="hljs-string">"ERROR "</span> + <span class="hljs-string">"Unable to read response from site, check site address. ("</span>+<span class="hljs-keyword">callback</span>+<span class="hljs-string">")"</span>); 
        }
</code></pre><p>… means the error occurs when the function is unable to fire the event in this line: <code>Ti.App.fireEvent(callback, {data:myData});</code>. Can you check what the value of the variable callback is?</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 27th 2012, 4:04:29 pm">November 27th 2012</span>
											by <span class='authorname'>Nick Haster</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-251787">
				
						<section>
							<p>This is the entire &quot;svJson&quot; file. I cannot see anywhere where &quot;callback&quot; is defined. Does this give any direction?</p>
<pre><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">svJSON</span><span class="hljs-params">(url, method, params, callback)</span>
</span>{
    <span class="hljs-keyword">var</span> xhr = Ti.Network.createHTTPClient();
    <span class="hljs-keyword">var</span> myData = <span class="hljs-literal">null</span>;

    <span class="hljs-keyword">if</span>(Titanium.Network.online == <span class="hljs-literal">false</span>){
        alert(<span class="hljs-string">"Network currently unavailable. Network access is required to run this application"</span>);
        <span class="hljs-comment">//eval(callback); </span>
        <span class="hljs-comment">//Ti.App.fireEvent(callback, {data:myData});</span>
        actInd.hide();
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    }

    <span class="hljs-comment">// using GET</span>
    <span class="hljs-keyword">var</span> bookURL = url;
    bookURL += <span class="hljs-string">"/index.php?option=com_rsappt_pro2&amp;controller=json&amp;task="</span> + method;
    <span class="hljs-keyword">if</span>(params != <span class="hljs-string">""</span>){
        bookURL += params;
    }
    bookURL += <span class="hljs-string">"&amp;sc=1&amp;fileout=yes&amp;format=raw"</span>; <span class="hljs-comment">//sc=1 for semi-custom so the server can know to check sec (site acces code)</span>

    <span class="hljs-keyword">var</span> current_site_require_login = Titanium.App.Properties.getString(<span class="hljs-string">'current_require_login'</span>);    
    <span class="hljs-keyword">if</span>(current_site_require_login == <span class="hljs-string">"Yes"</span> || Titanium.App.Properties.getString(<span class="hljs-string">'current_site_username'</span>)!=<span class="hljs-string">""</span>){
        <span class="hljs-comment">// pass username and password if they are entered in case using user credit but site not set to require login</span>
        <span class="hljs-keyword">var</span> u = Titanium.App.Properties.getString(<span class="hljs-string">'username'</span>);
        <span class="hljs-keyword">var</span> p = Titanium.App.Properties.getString(<span class="hljs-string">'password'</span>);
        bookURL +=<span class="hljs-string">"&amp;usr="</span>+u+<span class="hljs-string">"&amp;pwd="</span>+p;
    }
    <span class="hljs-keyword">if</span>(Ti.App.Properties.getString(<span class="hljs-string">'site_access_code'</span>) != <span class="hljs-string">""</span>){
        bookURL +=<span class="hljs-string">"&amp;sac="</span>+Ti.App.Properties.getString(<span class="hljs-string">'site_access_code'</span>);
    }
    Titanium.API.info(bookURL);
    xhr.setTimeout(<span class="hljs-number">20000</span>);
    xhr.open(<span class="hljs-string">'GET'</span>, bookURL);
    xhr.setRequestHeader(<span class="hljs-string">'Content-Type'</span>, <span class="hljs-string">'application/json; charset=utf-8'</span>);
    xhr.send();
    <span class="hljs-comment">//ERROR</span>
    xhr.onerror = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span> </span>{
        actInd.hide();
        <span class="hljs-keyword">if</span>(e.error == <span class="hljs-string">"Socket is not connected"</span>){
            alert(<span class="hljs-string">"Timeout waiting for server"</span>); 
        } <span class="hljs-keyword">else</span> {
            alert(<span class="hljs-string">"ERROR "</span> + e.error); 
        }
        <span class="hljs-comment">//eval(callback); </span>
        <span class="hljs-comment">//Ti.App.fireEvent(callback, {data:myData});</span>
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    }; 
    <span class="hljs-comment">//SUCCESS</span>
    xhr.onload = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-comment">//Titanium.API.info(this.responseText);</span>
        <span class="hljs-keyword">if</span>(<span class="hljs-keyword">this</span>.responseText.indexOf(<span class="hljs-string">"auth_error"</span>) &gt; -<span class="hljs-number">1</span>){
            <span class="hljs-keyword">var</span> alertDialog = Titanium.UI.createAlertDialog({
                title: <span class="hljs-string">'Server Message'</span>,
                message:<span class="hljs-string">"User Authentication failed"</span>,
                buttonNames: [<span class="hljs-string">'OK'</span>]
                });
            alertDialog.show();
            actInd.hide();
            <span class="hljs-comment">//eval(callback);</span>
            <span class="hljs-comment">//Ti.App.fireEvent(callback, {data:myData});</span>
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
       }
        <span class="hljs-keyword">if</span>(<span class="hljs-keyword">this</span>.responseText.indexOf(<span class="hljs-string">"sac_error"</span>) &gt; -<span class="hljs-number">1</span>){
            <span class="hljs-keyword">var</span> alertDialog = Titanium.UI.createAlertDialog({
                title: <span class="hljs-string">'Server Message'</span>,
                message:<span class="hljs-string">"Site Access Code failed"</span>,
                buttonNames: [<span class="hljs-string">'OK'</span>]
                });
            alertDialog.show();
            actInd.hide();
            <span class="hljs-comment">//eval(callback);</span>
            <span class="hljs-comment">//Ti.App.fireEvent(callback, {data:myData});</span>
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
       }
        <span class="hljs-keyword">try</span>{
            myData = JSON.parse(<span class="hljs-keyword">this</span>.responseText);
            <span class="hljs-keyword">if</span>(<span class="hljs-keyword">callback</span> == <span class="hljs-string">"sync"</span>){
                <span class="hljs-keyword">return</span> myData;
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-comment">//eval(callback); </span>
                Titanium.API.info(<span class="hljs-string">"fire callback = "</span>+<span class="hljs-keyword">callback</span>);  
                <span class="hljs-comment">//Titanium.API.info(myData);  </span>
                Titanium.App.fireEvent(<span class="hljs-keyword">callback</span>, {data:myData});
                <span class="hljs-keyword">return</span>;
            }
        }
        <span class="hljs-keyword">catch</span>(err){
            alert(<span class="hljs-string">"ERROR "</span> + <span class="hljs-string">"Unable to read response from site, check site address."</span>); 
            actInd.hide();
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        }
    };
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">svAJAX</span><span class="hljs-params">(url, method, params, callback)</span>
</span>{
    <span class="hljs-keyword">var</span> xhr = Ti.Network.createHTTPClient();
    <span class="hljs-keyword">var</span> myData = <span class="hljs-literal">null</span>;
    Titanium.API.info(<span class="hljs-string">"entering svAJAX"</span>);  

    <span class="hljs-keyword">if</span>(Titanium.Network.online == <span class="hljs-literal">false</span>){
        alert(<span class="hljs-string">"Network currently unavailable. Network access is required to run this application"</span>);
        <span class="hljs-comment">//eval(callback); </span>
        Ti.App.fireEvent(<span class="hljs-keyword">callback</span>, {data:myData});
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    }

    <span class="hljs-comment">// using GET</span>
    <span class="hljs-keyword">var</span> bookURL = url;
    bookURL += <span class="hljs-string">"/index.php?option=com_rsappt_pro2&amp;controller=ajax&amp;task="</span> + method;
    <span class="hljs-keyword">if</span>(params != <span class="hljs-string">""</span>){
        bookURL += params;
    }
    bookURL += <span class="hljs-string">"&amp;fileout=yes&amp;format=raw"</span>;
    Titanium.API.info(bookURL);
    xhr.open(<span class="hljs-string">'GET'</span>, bookURL);
    xhr.setRequestHeader(<span class="hljs-string">'Content-Type'</span>, <span class="hljs-string">'application/json; charset=utf-8'</span>);
    xhr.send();
    <span class="hljs-comment">//ERROR</span>
    xhr.onerror = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span> </span>{
        alert(<span class="hljs-string">"ERROR "</span> + e.error); 
        Titanium.API.info(<span class="hljs-string">"some error"</span>);
        eval(<span class="hljs-keyword">callback</span>); 
    }; 
    <span class="hljs-comment">//SUCCESS</span>
    xhr.onload = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
        Titanium.API.info(<span class="hljs-keyword">this</span>.responseText);
        <span class="hljs-comment">//Titanium.API.info(this.status);  </span>
        <span class="hljs-keyword">try</span>{
            myData = <span class="hljs-keyword">this</span>.responseText;
            <span class="hljs-comment">//Titanium.API.info(myData);</span>
            <span class="hljs-keyword">if</span>(<span class="hljs-keyword">callback</span> == <span class="hljs-string">"sync"</span>){
                <span class="hljs-keyword">return</span> myData;
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-comment">//eval(callback); </span>
                Ti.App.fireEvent(<span class="hljs-keyword">callback</span>, {data:myData});
                <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
            }
        }
        <span class="hljs-keyword">catch</span>(err){
            alert(<span class="hljs-string">"ERROR "</span> + <span class="hljs-string">"Unable to read response from site, check site address: "</span>+url);
            <span class="hljs-comment">//alert("ERROR " + "Unable to read response from site, check site address. ("+callback+")"); </span>
        }
    };
}
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="November 27th 2012, 4:16:38 pm">November 27th 2012</span>
								by <span class='authorname'>Dominick Hall</span><br>
								<a class="icon-bg icon-link" href="question/145122/error-unable-to-read-response-from-site-check-site-address-what-am-i-doing-wrong#answer-251787" rel="permalink">permalink</a>
							</div>

							<h5>4 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>I&#39;ll have to get back to you on that, workday almost over. I will get back to you as soon as I get home. If you like, you can mail me at <em>support@isisnet.nl</em>. I&#39;m always up for collaborating with other developers.</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 27th 2012, 4:30:24 pm">November 27th 2012</span>
											by <span class='authorname'>Nick Haster</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Nick,</p>
<p>I can&#39;t tell you how much I appreciate your efforts in helping me man. I&#39;m far from a seasoned developer, but am hopefully on my way to a good understanding thanks to folks like you. My workday is just beginning, but I&#39;ll be mailing you in a few hours to see if you think my project can be helped. Thanks a mil! - Dominick</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 27th 2012, 4:59:13 pm">November 27th 2012</span>
											by <span class='authorname'>Dominick Hall</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I&#39;m looking forward to your email, take your time. I won&#39;t email straight back, as its 23:00 over here and 14:00 at your end, so I will answer any mails as soon as I can.</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 27th 2012, 8:12:59 pm">November 27th 2012</span>
											by <span class='authorname'>Nick Haster</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I just wanted to take time and give many thanks to Nick Haster for helping me find, and more importantly - understand the issues I was having.</p>
<p>I doubt this will help anybody else, as this was totally my fault. I had code written in my behalf, that was based on a tabgroup UI. I decided to remove the tabs and use a scrollable UI. But the references to opening tabs were still within the original code, which in turn caused the conflicts I was having.</p>
<p>Nick broke down in very understandable chunks of what to do and why it would work. I couldn&#39;t be happier as a brand new developer being assisted the way I was. Thanks Nick!</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 7th 2012, 2:57:43 am">December 7th 2012</span>
											by <span class='authorname'>Dominick Hall</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
