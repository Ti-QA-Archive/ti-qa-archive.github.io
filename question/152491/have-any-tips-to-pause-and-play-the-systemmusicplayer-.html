<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Have any tips to Pause and play the systemMusicPlayer ? » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Have any tips to Pause and play the systemMusicPlayer ?</h1>
		</header>
		<section>
			<p>I found the following code in the search, and it works most of the time. It skips the third interval, the sound clip fires but the music stops playing, and then resumes playing on the 4th interval and continues. Is there a better way to pause and play the system music player in a loop?</p>
<pre><code class="hljs">        <span class="hljs-keyword">var</span> player = Titanium.Media.systemMusicPlayer;
        <span class="hljs-keyword">var</span> audioPlaying = systemAudioPlaying();

        <span class="hljs-keyword">if</span> (audioPlaying) {
            player.pause();
        }

        PlayAudio(audio[timerRepeat], audioPlaying);

        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">PlayAudio</span><span class="hljs-params">(files, audioplaying)</span> </span>{
            <span class="hljs-comment">//code here to play audio files</span>
            <span class="hljs-keyword">var</span> sound = Titanium.Media.createSound({
                url : <span class="hljs-string">'/sounds/'</span> + files + <span class="hljs-string">'.wav'</span>,
                allowBackground : <span class="hljs-literal">true</span>,
            });
            sound.audioSessionMode = Ti.Media.AUDIO_SESSION_MODE_PLAYBACK;

            sound.play();

            <span class="hljs-comment">//this runs on 'complete' event  of player</span>
            <span class="hljs-keyword">if</span> (audioPlaying) {
                player.play();
            }

        }

        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">systemAudioPlaying</span><span class="hljs-params">()</span> </span>{
                <span class="hljs-keyword">if</span> (player.playbackState == Titanium.Media.MUSIC_PLAYER_STATE_PLAYING) {
                    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
                } <span class="hljs-keyword">else</span> {
                    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
                }

        }
</code></pre><p>This is what I originally had, can someone tell why this would not work. It would pause the music but never play it. </p>
<pre><code class="hljs">        <span class="hljs-keyword">var</span> player = Titanium.Media.systemMusicPlayer;

        <span class="hljs-keyword">if</span> (player.playbackState == Titanium.Media.MUSIC_PLAYER_STATE_PLAYING) {
        player.pause();
        setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
        player.play();
        }, <span class="hljs-number">3000</span>);

        }
</code></pre>
		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="May 16th 2013, 9:24:08 pm">May 16th 2013</span>
				by <span class='authorname'>Michael Zaladonis</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>systemmusicplayer</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>0</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>0 Answers</h3>

	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
