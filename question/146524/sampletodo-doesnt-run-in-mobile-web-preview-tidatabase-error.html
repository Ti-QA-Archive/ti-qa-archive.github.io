<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Sample.Todo Doesn&#39;t run in Mobile Web Preview (Ti.Database Error) » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Sample.Todo Doesn&#39;t run in Mobile Web Preview (Ti.Database Error)</h1>
		</header>
		<section>
			<p>Application type: mobile</p>
<p>Titanium SDK: latest (3.0)</p>
<p>Platform &amp; version: Firefox 17.0.1; Internet Explorer 10.0.9200</p>
<p>Host Operating System: Windows 8 x64</p>
<p>Logs: </p>
<p>From the error console in Firefox:</p>
<pre><code class="hljs">Timestamp: <span class="hljs-number">1</span>/<span class="hljs-number">6</span>/<span class="hljs-number">2013</span> <span class="hljs-number">6</span>:<span class="hljs-number">12</span>:<span class="hljs-number">22</span> PM
Error: TypeError: Ti.Database is undefined
Source File: http:<span class="hljs-comment">//127.0.0.1:8020/index.html</span>
Line: <span class="hljs-number">264</span>
</code></pre><p>Shown on the page in IE:</p>
<pre><code class="hljs">Application Error


Unable <span class="hljs-built_in">to</span> <span class="hljs-built_in">get</span> property <span class="hljs-string">'install'</span> <span class="hljs-operator">of</span> undefined <span class="hljs-operator">or</span> <span class="hljs-constant">null</span> reference <span class="hljs-keyword">at</span> /index.html (<span class="hljs-built_in">line</span> <span class="hljs-number">5</span>)
</code></pre><p>Problem:<br>The sample ToDo list application does not seem to work in the latest Firefox or IE on Windows 8. I think it might have something to do with my install, but I figured it&#39;s probably best to ask the experts over here. I am able to run <em>my</em> app (which does not use a database… yet) in web preview, but once I add a line such as: <code>require(&amp;#39;db&amp;#39;).createDb();</code> (like in the Sample.Todo app), <em>my</em> app will not run either. </p>
<p>Any and all help is appreciated!</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="January 6th 2013, 9:20:11 pm">January 6th 2013</span>
				by <span class='authorname'>Marco Cirillo</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>browser</span></li>
					
						<li><span class='tagname'>database</span></li>
					
						<li><span class='tagname'>mobile</span></li>
					
						<li><span class='tagname'>web preview</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-253955">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>Basic RTFM:</p>
<p><a href="http:&#x2F;&#x2F;docs.appcelerator.com&#x2F;titanium&#x2F;latest&#x2F;#!&#x2F;api&#x2F;Titanium.Database">http:&#x2F;&#x2F;docs.appcelerator.com&#x2F;titanium&#x2F;latest&#x2F;#!&#x2F;api&#x2F;Titanium.Database</a></p>
<p>Ti.Database is iOS and Android only at this point.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="January 6th 2013, 9:32:26 pm">January 6th 2013</span>
								by <span class='authorname'>Stephen Feather</span><br>
								<a class="icon-bg icon-link" href="question/146524/sampletodo-doesnt-run-in-mobile-web-preview-tidatabase-error#answer-253955" rel="permalink">permalink</a>
							</div>

							<h5>7 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>you could try to abstract a database using the offline storage support in browsers.</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 6th 2013, 9:33:37 pm">January 6th 2013</span>
											by <span class='authorname'>Stephen Feather</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>not so much a limitation of Titanium but of browsers in general.</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 6th 2013, 9:34:13 pm">January 6th 2013</span>
											by <span class='authorname'>Stephen Feather</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>@ Stephen RTFM for me as well, spent way too much time explain file references to spot the tree right in front of me!</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 6th 2013, 9:34:54 pm">January 6th 2013</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Sorry! I should have thought to double check the platforms. Thank you for your speedy response.</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 6th 2013, 9:35:01 pm">January 6th 2013</span>
											by <span class='authorname'>Marco Cirillo</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>and by RTFM, there is no negative tone, trust me.<br>Its a huge mother of a changing manual. :(+</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 6th 2013, 9:42:54 pm">January 6th 2013</span>
											by <span class='authorname'>Stephen Feather</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I see nothing wrong with the phrase RTFM - I almost called my old company that - seriously it was on a short-list 17 years ago.</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 6th 2013, 9:46:45 pm">January 6th 2013</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Titanium Mobile Web&#39;s Ti.App.Properties and Ti.Filesystem are built on top of the browser&#39;s localstorage mechanism. It&#39;s the best thing we have today for synchronous persistent storage in mobile web browsers. The only downside is you only get 5MB to store all properties and files (just in the ApplicationDataDirectory, Resources directory is readonly).</p>
<p>If it was me, I&#39;d roll my own Titanium Mobile Web Module that exposes and async API that wraps the IndexedDB API. IndexedDB is key-value based and fast and as far as I know doesn&#39;t have any sort of size limitations. Don&#39;t be surprised if Titanium ships with a new Database API in a year from now that would wrap IndexedDB for Mobile Web.</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 7th 2013, 3:43:42 am">January 7th 2013</span>
											by <span class='authorname'>Chris Barber</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-253956">
				
						<section>
							<p>Hi</p>
<p>If you have the CommonJS file <strong>db.js</strong> in your resources folder root then try the following line;</p>
<pre><code class="hljs">require<span class="hljs-comment">('/db')</span>.createDb<span class="hljs-comment">()</span>;  <span class="hljs-comment">// note the slash prefix to the name</span>
</code></pre><p>If the <strong>db.js</strong> file is not found in the file system as <strong>\resources\db.js</strong> then the require will not work.</p>
<p>Consider that <strong>resources</strong> is the root of your app, so &quot;<strong>&#x2F;db</strong> is in the root whilst <strong>&#x2F;js&#x2F;db</strong> would be in a sub-folder called <strong>js</strong>.</p>
<p>Another thing to note, when referencing CommonJS files you NEVER includ the <strong>.js</strong> but your file MUST have it.  So if you have a filed called <strong>db</strong> it may need to be <strong>db.js</strong>.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="January 6th 2013, 9:33:42 pm">January 6th 2013</span>
								by <span class='authorname'>Malcolm Hollingsworth</span><br>
								<a class="icon-bg icon-link" href="question/146524/sampletodo-doesnt-run-in-mobile-web-preview-tidatabase-error#answer-253956" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
