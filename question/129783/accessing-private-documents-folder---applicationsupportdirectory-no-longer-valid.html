<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Accessing Private Documents folder -  applicationSupportDirectory no longer valid? » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Accessing Private Documents folder -  applicationSupportDirectory no longer valid?</h1>
		</header>
		<section>
			<p>My app has been using the property applicationSupportDirectory to grab the SQL Lite DB file. After upgrading to 1.8 this morning my app crashed after the first run. After the last two hours I&#39;ve discovered that this code below no longer works. Apparently when you build now and open a previously existing DB, it gets moved into a folder called Private Documents. Thus on the second run it fails to find any databases in the applicationSupportDirectory directory. I can&#39;t find a way to access this folder. It doesn&#39;t seem to be one of the Properties available now.</p>
<p>This is for iOS.<br>SDK 1.8.0.1</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> f = Titanium.Filesystem.getFile(Ti.Filesystem.applicationSupportDirectory + <span class="hljs-string">'database/'</span>);
</code></pre>
		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="December 23rd 2011, 12:18:12 pm">December 23rd 2011</span>
				by <span class='authorname'>Jeffrey Morgan</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>filesystem</span></li>
					
				</ul>
			

			<section>
				<h5>1 Comment</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Very nice solution.</p>
</div>
							<div class="author">
								&mdash; commented <span title="December 31st 2011, 4:55:40 pm">December 31st 2011</span>
								by <span class='authorname'>Jeffrey Morgan</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>1</span> Vote</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-225979">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>I ran into this issue myself this morning.</p>
<p>Here is an example in how you can do this with the 1.8+ Titanium SDK</p>
<p>https:&#x2F;&#x2F;gist.github.com&#x2F;1515352</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="December 23rd 2011, 7:09:10 pm">December 23rd 2011</span>
								by <span class='authorname'>Ben Bahrenburg</span><br>
								<a class="icon-bg icon-link" href="../../question/129783/accessing-private-documents-folder---applicationsupportdirectory-no-longer-valid.html#answer-225979" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Solved!!! Thanks!</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 30th 2011, 3:40:20 pm">December 30th 2011</span>
											by <span class='authorname'>Stefano Talotta</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>4</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-227474">
				
						<section>
							<p>We changed the location of where databases are installed internally due to a change required by Apple for app submission. Right now they&#39;re requesting that databases not be placed in <code>Library&amp;#x2F;Application Support</code>, but rather <code>Library&amp;#x2F;Private Documents</code>. This is apparently for iCloud interactions, and you are expected to manually flag your databases to not be backed up on iCloud (if required).</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="January 13th 2012, 9:50:36 pm">January 13th 2012</span>
								by <span class='authorname'>Stephen Tramer</span><br>
								<a class="icon-bg icon-link" href="../../question/129783/accessing-private-documents-folder---applicationsupportdirectory-no-longer-valid.html#answer-227474" rel="permalink">permalink</a>
							</div>

							<h5>7 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Thanks Stephen, it is neat to see how quickly the change was made to support the new update. Are there plans to support the new Private Documents as part of Ti.FileSystem?</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 13th 2012, 9:53:05 pm">January 13th 2012</span>
											by <span class='authorname'>Ben Bahrenburg</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I&#39;ve filed a ticket to add this. In the meantime, you can use the new <code>Ti.Database.DB.file</code> read-only property to get a <code>Ti.Filesystem.File</code> object that points to the database - don&#39;t perform any I&#x2F;O operations on it, but you can set file properties (like, say, <code>remoteBackup</code>).</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 13th 2012, 10:16:40 pm">January 13th 2012</span>
											by <span class='authorname'>Stephen Tramer</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Stephen, in this case should I use IOS SDK 4.3 or 5.0 ? I want my user to be able to use the app starting with 4.0…<br>Thanks</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 15th 2012, 8:15:02 pm">January 15th 2012</span>
											by <span class='authorname'>Armindo Da Silva</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Titanium supports any OS SDK from 4.0 onward. <code>remoteBackup</code> does nothing except on iOS 5.0.1, but the databases must always be placed in the new location.</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 16th 2012, 3:32:34 pm">January 16th 2012</span>
											by <span class='authorname'>Stephen Tramer</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Stephen, so what happens if we have an app &quot;in the wild&quot; build with 1.7.5 that has the DB in <code>Library&amp;#x2F;Application Support</code> and has been accumulating data, and we deploy an update built with 1.8.0.1 ?  Do we have to move the DB ourselves, or does Ti.Database.install() move it automatically the first time, or does it just get left in <code>Library&amp;#x2F;Application Support</code> ?</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 17th 2012, 12:16:16 pm">January 17th 2012</span>
											by <span class='authorname'>Shawn Lipscomb</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I found it moves it the first time but you must update your code to point to the new folder.</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 17th 2012, 12:24:06 pm">January 17th 2012</span>
											by <span class='authorname'>Jeffrey Morgan</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>For apps which already have a database stored with them, it&#39;s moved to the new location the first time that it&#39;s opened.</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 17th 2012, 3:51:47 pm">January 17th 2012</span>
											by <span class='authorname'>Stephen Tramer</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
