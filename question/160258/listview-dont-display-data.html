<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>ListView don&#39;t display data » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>ListView don&#39;t display data</h1>
		</header>
		<section>
			<p>Hello everyone,<br>I would like to show my data in a list, each line must contain an image with a title on the left side (darkgray background and white text).<br>The lines may belong to one of 3 sections (with black background and white text).</p>
<pre><code class="hljs">var scView = Ti.UI.createListView({
    templates: {<span class="hljs-string">'template'</span>: myTemplate },    <span class="hljs-comment">// Maps myTemplate dictionary to 'template' string</span>
    defaultItemTemplate: <span class="hljs-string">'template'</span>
});

<span class="hljs-comment">// Create a custom template that displays an image on the left and a title next to it</span>
var myTemplate = {
    childTemplates: [{                            <span class="hljs-comment">// Image justified left</span>
        type: <span class="hljs-string">'Ti.UI.ImageView'</span>, <span class="hljs-comment">// Use an image view for the image</span>
        bindId: <span class="hljs-string">'pic'</span>,           <span class="hljs-comment">// Maps to a custom pic property of the item data</span>
        properties: {            <span class="hljs-comment">// Sets the image view  properties</span>
            <span class="hljs-variable">width</span>: <span class="hljs-string">'50dp'</span>,
            <span class="hljs-variable">height</span>: <span class="hljs-string">'50dp'</span>, 
            left: <span class="hljs-number">0</span>
        }
    },
    {                            
        type: <span class="hljs-string">'Ti.UI.Label'</span>,     <span class="hljs-comment">// Use a label for the title </span>
        bindId: <span class="hljs-string">'info'</span>,          <span class="hljs-comment">// Maps to a custom info property of the item data</span>
        properties: {            <span class="hljs-comment">// Sets the label properties</span>
            <span class="hljs-built_in">color</span>: <span class="hljs-string">'black'</span>,
            font: {fontSize:<span class="hljs-number">18</span>, fontFamily:<span class="hljs-string">'Helvetica'</span>, fontWeight:<span class="hljs-string">'bold'</span>},
            left: <span class="hljs-string">'60dp'</span>, 
            top: <span class="hljs-number">0</span>
        }
    }]
};

svT0[<span class="hljs-number">3</span>].<span class="hljs-built_in">add</span>(scView); <span class="hljs-comment">//svT0[3] is a view with a label on top</span>

var sections = [];
var <span class="hljs-built_in">str</span> =[];
var colorSet = [];
var urbanEffSet =[];
var resinSet =[];
var nC = <span class="hljs-number">0</span>;
var nU = <span class="hljs-number">0</span>;
var nR = <span class="hljs-number">0</span>;
var l = <span class="hljs-keyword">Object</span>.keys(myObj[scelta1][scelta2][scelta3]).length;
<span class="hljs-keyword">for</span> (var i=<span class="hljs-number">0</span>; i &lt; <span class="hljs-keyword">Object</span>.keys(myObj[scelta1][scelta2][scelta3]).length; i++){
    <span class="hljs-built_in">str</span>[i] = myObj[scelta1][scelta2][scelta3][i];
    <span class="hljs-keyword">if</span> (<span class="hljs-built_in">str</span>[i].charAt(<span class="hljs-number">0</span>) == <span class="hljs-string">'c'</span>){
        nC++;
        var colors = {
            info: {<span class="hljs-built_in">text</span>: <span class="hljs-built_in">str</span>[i].substr(<span class="hljs-number">2</span>, (<span class="hljs-built_in">str</span>[i].length)-<span class="hljs-number">2</span>)},    <span class="hljs-comment">//the text property of info maps to the text property of the title label</span>
            pic: {<span class="hljs-built_in">image</span>: <span class="hljs-built_in">str</span>[i].substr(<span class="hljs-number">2</span>, (<span class="hljs-built_in">str</span>[i].length)-<span class="hljs-number">2</span>)+<span class="hljs-string">'.png'</span>}    <span class="hljs-comment">//the image property of pic maps to the image property of the image view</span>
        };
        colorSet.push(colors);     
    }<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-built_in">str</span>[i].charAt(<span class="hljs-number">0</span>) == <span class="hljs-string">'u'</span>) {
        nU++;
        var urbanEff = {
            info: {<span class="hljs-built_in">text</span>: <span class="hljs-built_in">str</span>[i].substr(<span class="hljs-number">2</span>, (<span class="hljs-built_in">str</span>[i].length)-<span class="hljs-number">2</span>)},    <span class="hljs-comment">//the text property of info maps to the text property of the title label</span>
            pic: {<span class="hljs-built_in">image</span>: <span class="hljs-built_in">str</span>[i].substr(<span class="hljs-number">2</span>, (<span class="hljs-built_in">str</span>[i].length)-<span class="hljs-number">2</span>)+<span class="hljs-string">'.png'</span>}    <span class="hljs-comment">//the image property of pic maps to the image property of the image view</span>
        };
        urbanEffSet.push(urbanEff);     
     }<span class="hljs-keyword">else</span> {
         nR++;
        var resins = {
            info: {<span class="hljs-built_in">text</span>: <span class="hljs-built_in">str</span>[i].substr(<span class="hljs-number">2</span>, (<span class="hljs-built_in">str</span>[i].length)-<span class="hljs-number">2</span>)},    <span class="hljs-comment">//the text property of info maps to the text property of the title label</span>
            pic: {<span class="hljs-built_in">image</span>: <span class="hljs-built_in">str</span>[i].substr(<span class="hljs-number">2</span>, (<span class="hljs-built_in">str</span>[i].length)-<span class="hljs-number">2</span>)+<span class="hljs-string">'.png'</span>}    <span class="hljs-comment">//the image property of pic maps to the image property of the image view</span>
        };
        resinSet.push(resins);     
    }
}
<span class="hljs-keyword">if</span> (nC &gt;= <span class="hljs-number">1</span>){
    var sectC = Titanium.UI.createListSection({
        headerTitle: <span class="hljs-string">'Colors'</span>
    });
    sectC.setItems(colorSet);
    sections.push(sectC);

};
<span class="hljs-keyword">if</span> (nU &gt;= <span class="hljs-number">1</span>){
    var sectU = Titanium.UI.createListSection({
        headerTitle: <span class="hljs-string">'Urban Effects'</span>
    });
    sectU.setItems(urbanEffSet);
    sections.push(sectU);
};
<span class="hljs-keyword">if</span> (nR &gt;= <span class="hljs-number">1</span>){
    sectR = Titanium.UI.createListSection({
        headerTitle: <span class="hljs-string">'Resins'</span>
    });
    sectR.setItems(resinSet);
    sections.push(sectR);
};

scView.setSections(sections);
</code></pre><p>In iOS do not work because it displays sections with wrong background and wrong text and an empty list (right number of rows but white lines), and in Android there is an error after the splashscreen: cannot set property &#39;tiPoxy &#39;of undefined.<br>On iOS debug I see the Set with the correct data and a darkgray list without sections before the last instruction.<br>How can I solve the problems? What is wrong?<br>Thanks</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="December 9th 2013, 8:25:18 am">December 9th 2013</span>
				by <span class='authorname'>Francesca C</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>custom template</span></li>
					
						<li><span class='tagname'>listsection</span></li>
					
						<li><span class='tagname'>listview</span></li>
					
						<li><span class='tagname'>tiproxy</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>0</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>0 Answers</h3>

	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
