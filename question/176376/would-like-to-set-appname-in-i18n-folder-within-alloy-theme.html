<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Would like to set appname in i18n folder within alloy theme » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Would like to set appname in i18n folder within alloy theme</h1>
		</header>
		<section>
			<p>Hi,</p>
<p>I would like to set appname in the app.xml file within the i18n international folder. I have about 20 brands, and I need to set different appnames for different locales within these brand themes. This functionality works if the i18n folders are in the the top-level, but doesn&#39;t work if they are in themes….</p>
<p>Is there some other way I can dynamically change appname? I am trying to make it as easy as possible. I would like to literally change one line of code in the config.json file before deploying the app. (to the theme).</p>
<p>I don&#39;t want to have to edit all of the xml files. Can any of you figure out how I can:</p>
<p>A) Set an appname based on a different theme?<br>B) Where else can I set appname aside from in the i18n folder and tiapp.xml folder?</p>
<p>Thanks,</p>
<p>J</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="July 22nd 2014, 4:34:50 pm">July 22nd 2014</span>
				by <span class='authorname'>Jon Kravetz</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>alloy</span></li>
					
						<li><span class='tagname'>appname</span></li>
					
						<li><span class='tagname'>i18n</span></li>
					
						<li><span class='tagname'>internationalization</span></li>
					
						<li><span class='tagname'>theme</span></li>
					
				</ul>
			

			<section>
				<h5>2 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>https:&#x2F;&#x2F;jira.appcelerator.org&#x2F;browse&#x2F;ALOY-858</p>
</div>
							<div class="author">
								&mdash; commented <span title="July 22nd 2014, 4:49:11 pm">July 22nd 2014</span>
								by <span class='authorname'>Jon Kravetz</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Nevermind…I upgraded alloy to 1.5 dev version and this works! Hooray!</p>
</div>
							<div class="author">
								&mdash; commented <span title="July 22nd 2014, 4:56:15 pm">July 22nd 2014</span>
								by <span class='authorname'>Jon Kravetz</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-280985">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>Hi</p>
<p>After Jon&#39;s question and self answer I just wanted to make it clear to everyone else what is going on here;</p>
<ul>
<li>yes this is possible</li>
<li>it does require using a pre-release version of alloy</li>
</ul>
<p>You may notice my name on that jira, I was one of the people requesting this all that time ago.  We just missed the Alloy 1.4 window, so is rolled back to Alloy 1.5.</p>
<p>So to clarify;</p>
<ul>
<li>the appname can have language specific versions</li>
<li>this is done by editing the international strings files</li>
<li>a detailed step by step and how to is available on a previous answer I gave;<ul>
<li><a href="https:&#x2F;&#x2F;developer.appcelerator.com&#x2F;question&#x2F;176077&#x2F;i18n-internationalization-bug#answer-280630">i18n internationalisation…</a></li>
</ul>
</li>
<li>this is available now and has been for some time, although became a bit easier a few SDK updates ago </li>
</ul>
<p>This question extends that need to involving the use of Alloy Themes.  Only a select few need to combine the two and it is clear Jon is one such person.</p>
<p>Using themes can allow an app to gain multiple looks-and-feels, ideal for an app that serves more than one client where the &#39;engine&#39; is the same but some functionality and branding can change.  With the upcoming Alloy 1.5 (not production ready) two additional folders; platform and i18n join assets and styles already available.</p>
<p>So now by creating more than one theme (persona) an app can be compiled and look as well as act differently when the theme property is changed in the config.json file of an Alloy app.</p>
<p>From the provided link you will note that an app name string is set in platform or i18n but for the same purpose for Android or iOS. So the addition of both folders into themes is great.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="July 22nd 2014, 6:05:51 pm">July 22nd 2014</span>
								by <span class='authorname'>Malcolm Hollingsworth</span><br>
								<a class="icon-bg icon-link" href="question/176376/would-like-to-set-appname-in-i18n-folder-within-alloy-theme#answer-280985" rel="permalink">permalink</a>
							</div>

							<h5>8 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Hi Malcom, thanks for this functionality. It is great. </p>
<p>I am seeing a possible bug. Perhaps you might know the answer.</p>
<p>When I build the app to commence testing in studio, the i18n folder shows up in the project  and I assume it is automatically copied from the themes folder in to the parent.</p>
<p>My xml files, e.g. &quot;strings.xml | fr&quot; aren&#39;t being overwritten….they are being appended.</p>
<p>Here is the file in my theme&#x2F;i18n folder:</p>
<pre><code class="hljs">&lt;<span class="hljs-keyword">string</span> name=<span class="hljs-string">"site_url"</span>&gt;<span class="hljs-keyword">http</span>://m.rexelusa.com&lt;/<span class="hljs-keyword">string</span>&gt;
&lt;<span class="hljs-keyword">string</span> name=<span class="hljs-string">"search_query_url"</span>&gt;<span class="hljs-keyword">http</span>://m.rexelusa.com/mobilesearch.action?freeText=&lt;/<span class="hljs-keyword">string</span>&gt;
    &lt;<span class="hljs-keyword">string</span> name=<span class="hljs-string">"mobile_string1"</span>&gt;m.rexelusa.com&lt;/<span class="hljs-keyword">string</span>&gt;
    &lt;<span class="hljs-keyword">string</span> name=<span class="hljs-string">"mobile_string2"</span>&gt;m.rexelusa.com&lt;/<span class="hljs-keyword">string</span>&gt;
    &lt;<span class="hljs-keyword">string</span> name=<span class="hljs-string">"mobile_string3"</span>&gt;m.rexelusa.com&lt;/<span class="hljs-keyword">string</span>&gt;
    &lt;<span class="hljs-keyword">string</span> name=<span class="hljs-string">"loading_text"</span>&gt;Chargement&lt;/<span class="hljs-keyword">string</span>&gt;
</code></pre><p>When I build 3 times, the parent i18n folder contains &quot;&quot;strings.xml | fr&quot; with the following:</p>
<pre><code class="hljs">
&lt;resources&gt;
 &lt;<span class="hljs-keyword">string</span> name=<span class="hljs-string">"site_url"</span>&gt;<span class="hljs-keyword">http</span>://m.rexelusa.com&lt;/<span class="hljs-keyword">string</span>&gt;
     &lt;<span class="hljs-keyword">string</span> name=<span class="hljs-string">"search_query_url"</span>&gt;<span class="hljs-keyword">http</span>://m.rexelusa.com/mobilesearch.action?freeText=&lt;/<span class="hljs-keyword">string</span>&gt;
    &lt;<span class="hljs-keyword">string</span> name=<span class="hljs-string">"mobile_string1"</span>&gt;m.rexelusa.com&lt;/<span class="hljs-keyword">string</span>&gt;
    &lt;<span class="hljs-keyword">string</span> name=<span class="hljs-string">"mobile_string2"</span>&gt;m.rexelusa.com&lt;/<span class="hljs-keyword">string</span>&gt;
    &lt;<span class="hljs-keyword">string</span> name=<span class="hljs-string">"mobile_string3"</span>&gt;m.rexelusa.com&lt;/<span class="hljs-keyword">string</span>&gt;
    &lt;<span class="hljs-keyword">string</span> name=<span class="hljs-string">"loading_text"</span>&gt;Chargement&lt;/<span class="hljs-keyword">string</span>&gt;
    &lt;<span class="hljs-keyword">string</span> name=<span class="hljs-string">"site_url"</span>&gt;<span class="hljs-keyword">http</span>://m.rexelusa.com&lt;/<span class="hljs-keyword">string</span>&gt;
    &lt;<span class="hljs-keyword">string</span> name=<span class="hljs-string">"search_query_url"</span>&gt;<span class="hljs-keyword">http</span>://m.rexelusa.com/mobilesearch.action?freeText=&lt;/<span class="hljs-keyword">string</span>&gt;
    &lt;<span class="hljs-keyword">string</span> name=<span class="hljs-string">"mobile_string1"</span>&gt;m.rexelusa.com&lt;/<span class="hljs-keyword">string</span>&gt;
    &lt;<span class="hljs-keyword">string</span> name=<span class="hljs-string">"mobile_string2"</span>&gt;m.rexelusa.com&lt;/<span class="hljs-keyword">string</span>&gt;
    &lt;<span class="hljs-keyword">string</span> name=<span class="hljs-string">"mobile_string3"</span>&gt;m.rexelusa.com&lt;/<span class="hljs-keyword">string</span>&gt;
    &lt;<span class="hljs-keyword">string</span> name=<span class="hljs-string">"loading_text"</span>&gt;Chargement&lt;/<span class="hljs-keyword">string</span>&gt;
    &lt;<span class="hljs-keyword">string</span> name=<span class="hljs-string">"site_url"</span>&gt;<span class="hljs-keyword">http</span>://m.rexelusa.com&lt;/<span class="hljs-keyword">string</span>&gt;
    &lt;<span class="hljs-keyword">string</span> name=<span class="hljs-string">"search_query_url"</span>&gt;<span class="hljs-keyword">http</span>://m.rexelusa.com/mobilesearch.action?freeText=&lt;/<span class="hljs-keyword">string</span>&gt;
    &lt;<span class="hljs-keyword">string</span> name=<span class="hljs-string">"mobile_string1"</span>&gt;m.rexelusa.com&lt;/<span class="hljs-keyword">string</span>&gt;
    &lt;<span class="hljs-keyword">string</span> name=<span class="hljs-string">"mobile_string2"</span>&gt;m.rexelusa.com&lt;/<span class="hljs-keyword">string</span>&gt;
    &lt;<span class="hljs-keyword">string</span> name=<span class="hljs-string">"mobile_string3"</span>&gt;m.rexelusa.com&lt;/<span class="hljs-keyword">string</span>&gt;
    &lt;<span class="hljs-keyword">string</span> name=<span class="hljs-string">"loading_text"</span>&gt;Chargement&lt;/<span class="hljs-keyword">string</span>&gt;
&lt;/resources&gt;
</code></pre><p>Is there anything I can do to ensure that the xml file isn&#39;t merely appended to, and that it is completely overwritten? Right now I would have to delete the i18n folder every-time I build to ensure that there aren&#39;t any conflicts with the string vars if one changes.</p>
<p>Any workflow suggestions to keep testing with tiShadow from getting out of hand…we will be starting to test on 20 devices simultaneously…which means 20 builds, and would mean 20 xml file duplications of variables!</p>
<p>Thank you:)</p>
<p>Jon</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 24th 2014, 12:46:03 pm">July 24th 2014</span>
											by <span class='authorname'>Jon Kravetz</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Can you give me the full paths of the files you are accessing, so something like this;</p>
<p><strong>iOS&#x2F;Android shared</strong></p>
<pre><code class="hljs">{appname}/i18n/en/strings.<span class="hljs-keyword">xml</span>
<span class="hljs-title">{appname</span>}/i18n/fr/strings.<span class="hljs-keyword">xml</span>
<span class="hljs-title">{appname</span>}/i18n/es/strings.xml
</code></pre><p>Keep in mind that it is possible to add strings to the Android specific file (the app name one) - do not - only adds to confusion.</p>
<p>I usually run a project clean often during i18n changes, more historical than anything else.</p>
<p>Recent changes to themes have allowed merges during themes but only in Alloy 1.5 (not publicly released) so that could cause issues if involved - as either part of the themes change or a related bug.</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 24th 2014, 1:14:00 pm">July 24th 2014</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Here is where the <strong>strings.xml</strong> files are being stored.</p>
<pre><code class="hljs">{appname}/themes/{brandname}/i18n/en/strings.<span class="hljs-keyword">xml</span>
<span class="hljs-title">{appname</span>}/themes/{brandname}/i18n/de/strings.<span class="hljs-keyword">xml</span>
<span class="hljs-title">{appname</span>}/themes/{brandname}/i18n/fr/strings.xml
</code></pre><p>When I click <em>&quot;Run&quot;</em>, the compiler puts an <strong>i18n</strong> folder here:</p>
<pre><code class="hljs">{appname}/i18n/en/strings.<span class="hljs-keyword">xml</span>
<span class="hljs-title">{appname</span>}/i18n/de/strings.<span class="hljs-keyword">xml</span>
<span class="hljs-title">{appname</span>}/i18n/fr/strings.xml
</code></pre><p>If i click <em>&quot;Run&quot;</em> again, whether for ios or android…it appends into each <strong>strings.xml</strong> file as above as opposed to overwriting the file. I am using <strong>cutting edge Alloy 1.5</strong>, downloaded yesterday. It is functional, however…i would have to delete the <strong>i18n</strong> folder in the appname folder before each <em>&quot;Run&quot;</em> and if I am simultaneously running on multiple devices, my <strong>strings.xml</strong> files will have multiple sets of xml objects.</p>
<p>Where ( x <em>&quot;Runs&quot;</em>) = x sets of xml objects in each language&#39;s  <strong>strings.xml</strong> file)</p>
<p>Here is my <strong>config.json</strong>. Essentially whenever I need to change the brand, i just replace <strong>{brandname}</strong> with the theme name coinciding with the folder name in the <strong>themes</strong> folder.</p>
<p><strong>config.json:</strong></p>
<pre><code class="hljs">{
    "<span class="hljs-attribute">global</span>": <span class="hljs-value">{
        "<span class="hljs-attribute">theme</span>":<span class="hljs-value"><span class="hljs-string">"{brandname}"</span>
    </span>}</span>, 
    "<span class="hljs-attribute">env:development</span>": <span class="hljs-value">{}</span>, 
    "<span class="hljs-attribute">env:test</span>": <span class="hljs-value">{}</span>, 
    "<span class="hljs-attribute">env:production</span>": <span class="hljs-value">{}</span>, 
    "<span class="hljs-attribute">os:android</span>": <span class="hljs-value">{}</span>,
    "<span class="hljs-attribute">os:blackberry</span>": <span class="hljs-value">{}</span>,
    "<span class="hljs-attribute">os:ios</span>": <span class="hljs-value">{}</span>,
    "<span class="hljs-attribute">os:mobileweb</span>": <span class="hljs-value">{}</span>,
    "<span class="hljs-attribute">dependencies</span>": <span class="hljs-value">{
        "<span class="hljs-attribute">com.mattmcfarland.fontawesome</span>":<span class="hljs-value"><span class="hljs-string">"1.2.0"</span>
    </span>}
</span>}
</code></pre><p>Thanks for your help, Malcom. It is greatly appreciated.</p>
<p>Kindly,</p>
<p>Jon</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 24th 2014, 4:27:55 pm">July 24th 2014</span>
											by <span class='authorname'>Jon Kravetz</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Aggh…mistake.</p>
<p>I put the original theme&#39;s  <strong>i18n</strong>  files here:</p>
<p><strong>{appname}&#x2F;app&#x2F;themes&#x2F;{brandname}&#x2F;i18n</strong></p>
<pre><code class="hljs">{appname}<span class="hljs-regexp">/app/</span>themes<span class="hljs-regexp">/{brandname}/i</span>18n<span class="hljs-regexp">/en/</span>strings.xml
{appname}<span class="hljs-regexp">/app/</span>themes<span class="hljs-regexp">/{brandname}/i</span>18n<span class="hljs-regexp">/de/</span>strings.xml
{appname}<span class="hljs-regexp">/app/</span>themes<span class="hljs-regexp">/{brandname}/i</span>18n<span class="hljs-regexp">/fr/</span>strings.xml
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="July 24th 2014, 4:30:48 pm">July 24th 2014</span>
											by <span class='authorname'>Jon Kravetz</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>You are welcome, I figured that 1.5 was in the mix BTW &quot;cutting edge Alloy 1.5&quot; === &quot;pre-release Alloy 1.5&quot; - you like living on the edge it seems.</p>
<p>I have the same need for the same reason.</p>
<p>I have passed the problem up the chain as this does look like a bug and was with themes i18n as I thought.  It will be reviewed by an Appcelerator guy shortly, he is just in the process of doing something else I kinda caused :-)</p>
<p>The last hurdle is the app id and some tiapp.xml settings as they are not &quot;theme-able&quot; yet.  However I do not come empty handed;</p>
<ul>
<li><a href="https:&#x2F;&#x2F;github.com&#x2F;tonylukasavage&#x2F;tiapp.xml">A node.js parsing and manipulation API module for Appcelerator&#39;s Titanium tiapp.xml configuration file.</a></li>
</ul>
<p>I have not had chance to play with this myself yet but it should allow the things needed.  It is written by Tony Lukasavage - the guy who created Alloy.</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 24th 2014, 6:21:26 pm">July 24th 2014</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Just so you know the process should be a merge and append but it is clear somewhere the process is not resetting the original file on each compile.</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 24th 2014, 6:23:34 pm">July 24th 2014</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Jon, it looks like you might have found a bug. Would you file a <a href="https:&#x2F;&#x2F;jira.appcelerator.org">Jira ticket</a>? Please supply a simple, minimal app that demonstrates the problem. You can link to this Q&amp;A thread to provide some context too. That will help our folks who triage new tickets.</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 24th 2014, 6:38:04 pm">July 24th 2014</span>
											by <span class='authorname'>Tim Poulsen</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Please post the jira link back here so I can watch it as well.  BTW if you do not know JIRA tickets are bug&#x2F;feature requests&#x2F;updates required - a central system Appcelerator uses.  Basically , log in start a new ticket, add a reasonable description (your first comment on the question is a good start) and link this question url as it has lot of info.  It will then be picked up by someone to check and resolve if a bug is found - or update you if they need anything else.</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 24th 2014, 6:50:54 pm">July 24th 2014</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
