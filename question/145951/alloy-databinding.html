<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Alloy databinding » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Alloy databinding</h1>
		</header>
		<section>
			<p>Hi!, </p>
<p>I&#39;m trying to create a view with databinding. Using the new 3.0.0GA SDK.</p>
<p>This is an example taken from the alloy documentation</p>
<pre><code class="hljs"><span class="hljs-tag">&lt;<span class="hljs-title">Alloy</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">Collection</span> <span class="hljs-attribute">src</span>=<span class="hljs-value">"book"</span> /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">Window</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"container"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">TableView</span> <span class="hljs-attribute">dataCollection</span>=<span class="hljs-value">"book"</span> <span class="hljs-attribute">dataTransform</span>=<span class="hljs-value">"transformFunction"</span> <span class="hljs-attribute">dataFilter</span>=<span class="hljs-value">"filterFunction"</span>&gt;</span>
            <span class="hljs-comment">&lt;!-- Also can use Require --&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">TableViewRow</span> <span class="hljs-attribute">title</span>=<span class="hljs-value">"{title}"</span> /&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">TableView</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">Window</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">Alloy</span>&gt;</span>
</code></pre><p>The docs also said that that I can bind a single model instead of a collection…</p>
<p><em>Quote: In Alloy, collection data can be synchronized to a TableView or View object, or a single model can be bound to a view component.</em></p>
<p>I tryied this, but it doesn&#39;t work. I don&#39;t really know how to do it since is missing in the documentation</p>
<pre><code class="hljs"><span class="hljs-tag">&lt;<span class="hljs-title">Alloy</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">Model</span> <span class="hljs-attribute">src</span>=<span class="hljs-value">"book"</span> /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">Window</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"container"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">View</span> <span class="hljs-attribute">dataModel</span>=<span class="hljs-value">"book"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">Label</span> <span class="hljs-attribute">text</span>=<span class="hljs-value">"{title}"</span> /&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">View</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">Window</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">Alloy</span>&gt;</span>
</code></pre><p>Any idea on how this can be done??<br>thanks!</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="December 19th 2012, 2:31:24 pm">December 19th 2012</span>
				by <span class='authorname'>Juan Ignacio Donoso</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>alloy</span></li>
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>databinding</span></li>
					
						<li><span class='tagname'>model</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>2</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-253113">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>This is not implemented yet, but it will be very soon. Single model binding will be available in Alloy 0.3.4. Your aabove code would look like this:</p>
<pre><code class="hljs"><span class="hljs-tag">&lt;<span class="hljs-title">Alloy</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">Model</span> <span class="hljs-attribute">src</span>=<span class="hljs-value">"book"</span> /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">Window</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"container"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">View</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">Label</span> <span class="hljs-attribute">text</span>=<span class="hljs-value">"{book.title}"</span> /&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">View</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">Window</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">Alloy</span>&gt;</span>
</code></pre><p>With single model binding, you&#39;ll prefix the property with the name of the model. This will allow the use of multiple models without conflicts. In the above case you&#39;d be using a global reference to the &quot;book&quot; model available in code at Alloy.Models.book. If you wanted to create a model constrained to the controller, you would do the following:</p>
<pre><code class="hljs"><span class="hljs-tag">&lt;<span class="hljs-title">Alloy</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">Model</span> <span class="hljs-attribute">src</span>=<span class="hljs-value">"book"</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"modelId"</span> <span class="hljs-attribute">instance</span>=<span class="hljs-value">"true"</span>/&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">Window</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"container"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">View</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">Label</span> <span class="hljs-attribute">text</span>=<span class="hljs-value">"{$.modelId.title}"</span> /&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">View</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">Window</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">Alloy</span>&gt;</span>
</code></pre><p>Notice the changes to the &lt;Model&gt; element and the fact that the binding now has the &quot;$.modelId&quot; prefix, indicating that you are referencing the controller instance of the model, not the global reference.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="December 19th 2012, 2:38:54 pm">December 19th 2012</span>
								by <span class='authorname'>Tony Lukasavage</span><br>
								<a class="icon-bg icon-link" href="question/145951/alloy-databinding#answer-253113" rel="permalink">permalink</a>
							</div>

							<h5>9 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Thanks!, Any estimated time for 0.3.4?</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 19th 2012, 4:24:22 pm">December 19th 2012</span>
											by <span class='authorname'>Juan Ignacio Donoso</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>with a little luck, in the next couple hours. :)</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 19th 2012, 4:32:15 pm">December 19th 2012</span>
											by <span class='authorname'>Tony Lukasavage</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Nice!</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 19th 2012, 5:16:44 pm">December 19th 2012</span>
											by <span class='authorname'>Juan Ignacio Donoso</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Now I&#39;ve tested this and it worked fine!, Thanks!</p>
<p>The only think it didn&#39;t work as I expected was to set the binding in the text node.</p>
<p>Something like this</p>
<pre><code class="hljs"><span class="hljs-tag">&lt;<span class="hljs-title">Alloy</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">Model</span> <span class="hljs-attribute">src</span>=<span class="hljs-value">"book"</span> /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">Window</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"container"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">View</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">Label</span>&gt;</span>{book.title}<span class="hljs-tag">&lt;/<span class="hljs-title">Label</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">View</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">Window</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">Alloy</span>&gt;</span>
</code></pre><p>Maybe this could be a good enhancement.</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 28th 2012, 1:07:41 pm">December 28th 2012</span>
											by <span class='authorname'>Juan Ignacio Donoso</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>At this time, you <strong>MUST</strong> use XML attributes for the binding. The XML element value shortcuts won&#39;t work. You could just do:</p>
<pre><code class="hljs"><span class="hljs-tag">&lt;<span class="hljs-title">Alloy</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">Model</span> <span class="hljs-attribute">src</span>=<span class="hljs-value">"book"</span> /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">Window</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"container"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">View</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">Label</span> <span class="hljs-attribute">text</span>=<span class="hljs-value">"{book.title}"</span>/&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">View</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">Window</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">Alloy</span>&gt;</span>
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="December 28th 2012, 3:59:51 pm">December 28th 2012</span>
											by <span class='authorname'>Tony Lukasavage</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>It would be nice if the documentation could be updated to reflect the current state of alloy. With the docs being the main source information on how to use it, it has been frustrating when the docs are a bit out of whack.</p>
<p>(a <a href="http:&#x2F;&#x2F;developer.appcelerator.com&#x2F;question&#x2F;146487&#x2F;inconsistencies-with-alloy-model-documentation">small mistake in the docs code</a> which took a while to figure out)</p>
<p>But cheers for the awesome work on alloy, much appreciated!</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 6th 2013, 7:06:44 am">January 6th 2013</span>
											by <span class='authorname'>Ashok Fernandez</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Tony? There is any way to apply a dataTransform function to a model with a Single model binding</p>
<p>something like this?</p>
<pre><code class="hljs"><span class="hljs-tag">&lt;<span class="hljs-title">Alloy</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">Model</span> <span class="hljs-attribute">src</span>=<span class="hljs-value">"book"</span> <span class="hljs-attribute">dataTransform</span>=<span class="hljs-value">"bookForTemplate"</span> /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">Window</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"container"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">View</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">Label</span> <span class="hljs-attribute">text</span>=<span class="hljs-value">"{book.title}"</span>/&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">View</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">Window</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">Alloy</span>&gt;</span>
</code></pre><p>thanks!</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 8th 2013, 5:37:31 pm">January 8th 2013</span>
											by <span class='authorname'>Juan Ignacio Donoso</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Not yet. It may be in the form of a dataTransform attribute, but there&#39;s some other shortcuts I&#39;m working on as well. Being able to use more complex binding notation will allow for simple transforms inline, stuff like this:</p>
<pre><code class="hljs">&lt;Label <span class="hljs-type">text</span>=<span class="hljs-string">"{book.title} by {book.author}"</span>/&gt;
</code></pre><p>Also I&#39;d like to allow a default transformation function in the model definition (in the extendModel) where you can specify a function that will transform all instances of this Model by default when they are used with binding.</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 8th 2013, 8:02:22 pm">January 8th 2013</span>
											by <span class='authorname'>Tony Lukasavage</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Nice,<br>It also be nice i I can do something like this…</p>
<pre><code class="hljs">&lt;<span class="hljs-built_in">Label</span> text="{book.<span class="hljs-built_in">title</span>} by {book.price * <span class="hljs-number">0</span>.<span class="hljs-number">9</span>}"/&gt;
&lt;<span class="hljs-built_in">Label</span> text="{book.<span class="hljs-built_in">title</span>} by {myLib.<span class="hljs-built_in">format</span>.money(book.price * <span class="hljs-number">0</span>.<span class="hljs-number">9</span>)}"/&gt;
</code></pre><p>use javascript inside the <code>{}</code></p>
</p>
										<div class="author">
											&mdash; commented <span title="January 9th 2013, 4:37:25 pm">January 9th 2013</span>
											by <span class='authorname'>Juan Ignacio Donoso</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>5</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
