<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>passing data database database populated TableView- using master - detailed templates Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>passing data database database populated TableView- using master - detailed templates</h1>
		</header>
		<section>
			<p>I am using Master detailed with (multi tabs) in small application- based on the master detailed templates provided by Appcelerator ( using modules) </p>
<p>I was able to load successfully the database in all the tabs, but I am having problems in passing the data from the master to the details. (please note that currentwindow is not used in these preset templets as used in your video.</p>
<p>&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;<br>here is the code for master:</p>
<p>&#x2F;&#x2F;Master View Component Constructor<br>function MasterView() {<br>&#x2F;&#x2F;create object instance, parasitic subclass of Observable<br>var self = Ti.UI.createView({<br>backgroundColor:&#39;white&#39;<br>});</p>
<p>&#x2F;*</p>
<ul>
<li>getRows() queries the database and builds the rows of our table<br>the database already installed in app.js&#x2F;</li>
</ul>
<p>var db = Ti.Database.open(&#39;v1&#39;);<br>var data = [];<br>var rs = db.execute(&#39;SELECT id, name, email,photo FROM main where class = 1 ORDER BY id&#39;);<br>while(rs.isValidRow()) {<br>var tblRow = Ti.UI.createTableViewRow({<br>minRowHeight:40,<br>hasChild:true,     &#x2F;&#x2F;Renders an arrow on the right<br>});</p>
<p>tblRow.add(Ti.UI.createLabel({<br>text: rs.fieldByName(&#39;name&#39;),<br>font:{<br>fontWeight:&#39;bold&#39;,<br>fontSize:14<br>},<br>color:&#39;black&#39;,<br>left:100,<br>top:30<br>}));<br>data.push(tblRow);<br>rs.next();<br>}<br>rs.close();<br>db.close();</p>
<p>var table = Ti.UI.createTableView({<br>        search:searchBar,&#x2F;&#x2F;Set the search bar object here<br>        filterAttribute:&quot;searchFilter&quot;, &#x2F;&#x2F;What attribute to search for data in<br>        data:data<br>    });<br>self.add(table);</p>
<p>table.addEventListener(&#39;click&#39;, function(e) {<br>self.fireEvent(&#39;itemSelected&#39;, {<br>name:   &#x2F;&#x2F; <strong><strong>*</strong></strong>I want to pas the name from data base to the detailed page here<em>*</em>???<br>});<br>});<br>return self;<br>};<br>module.exports = MasterView;</p>
<p>&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;</p>
<p><em>*</em>in the detailed file</p>
<p>function DetailView() {<br>var self = Ti.UI.createView({<br>backgroundColor:&#39;e3e3e3&#39;<br>});</p>
<p>var lbl = Ti.UI.createLabel({<br>text:&#39;Please select an item&#39;,<br>height:&#39;auto&#39;,<br>width:&#39;auto&#39;,<br>color:&#39;#000&#39;<br>});<br>self.add(lbl);</p>
<p>self.addEventListener(&#39;itemSelected&#39;, function(e) {<br>lbl.text =  &#x2F;<strong><strong><strong><em>**</em></strong></strong></strong> I want to collect  the name result pull from data base here **</p>
<p>});</p>
<p>return self;<br>};</p>
<p>module.exports = DetailView;</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="April 30th 2014, 6:10:01 pm">April 30th 2014</span>
				by <span class='authorname'>Mahammad suoud</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>data</span></li>
					
						<li><span class='tagname'>database</span></li>
					
						<li><span class='tagname'>eventlistener</span></li>
					
						<li><span class='tagname'>ios</span></li>
					
						<li><span class='tagname'>tableview</span></li>
					
				</ul>
			

			<section>
				<h5>1 Comment</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Code must be pasted in using the code syntax otherwise becomes unreadable and as it is in this case; comments and line breaks get merged to the point the code cannot be trusted to differentiate between them.</p>
<p>Ipress the <strong>code</strong> link in the mark down editor for example.</p>
</div>
							<div class="author">
								&mdash; commented <span title="April 30th 2014, 8:08:13 pm">April 30th 2014</span>
								by <span class='authorname'>Malcolm Hollingsworth</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-278288">
				
						<section>
							<p>Sorry about the previous unformatted post. </p>
<p>I am using Master detailed with (multi tabs) in small application- based on the master detailed templates provided by Appcelerator ( using modules) I was able to load successfully the database in all the tabs, but I am having problems in passing the data from the master to the details. (please note that currentwindow is not used in these preset templets as used in your video.</p>
<p>&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F; here is the code for master&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;</p>
<p>&#x2F;&#x2F;Master View Component Constructor<br>function MasterView() {<br>    &#x2F;&#x2F;create object instance, parasitic subclass of Observable<br>    var self = Ti.UI.createView({<br>        backgroundColor:&#39;white&#39;<br>    });</p>
<p>var searchBar = Titanium.UI.createSearchBar({<br>    showCancel:true,<br>    hintText:&quot;Search for faculty by name&quot;<br>});</p>
<p>&#x2F;*</p>
<ul>
<li><p>getRows() queries the database and builds the rows of our xxx table<br>*&#x2F;</p>
<p> var db = Ti.Database.open(&#39;v1&#39;);<br> var data = [];<br> var rs = db.execute(&#39;SELECT id, name, email,photo FROM main where class = 1 ORDER BY id&#39;);<br> while(rs.isValidRow()) {</p>
<pre><code class="hljs"> var tblRow = Ti.UI.createTableViewRow({
     minRowHeight:<span class="hljs-number">40</span>,
     hasChild:<span class="hljs-keyword">true</span>,                    <span class="hljs-comment">//Renders an arrow on the right</span>
     searchFilter:rs.fieldByName(<span class="hljs-string">'name'</span>)        <span class="hljs-comment">//The search bar will look at this property when searching</span>
 });
 tblRow.<span class="hljs-built_in">add</span>(Ti.UI.createImageView({

     <span class="hljs-built_in">image</span>:  <span class="hljs-string">"images/"</span>+ rs.fieldByName(<span class="hljs-string">'photo'</span>)+<span class="hljs-string">".png"</span>,
     <span class="hljs-variable">width</span>:<span class="hljs-number">80</span>,
         <span class="hljs-variable">height</span>:<span class="hljs-number">80</span>,
     left:<span class="hljs-number">2</span>,
     top:<span class="hljs-number">2</span>
 }));
 tblRow.<span class="hljs-built_in">add</span>(Ti.UI.createLabel({
     <span class="hljs-built_in">text</span>: rs.fieldByName(<span class="hljs-string">'name'</span>),
     font:{
         fontWeight:<span class="hljs-string">'bold'</span>,
         fontSize:<span class="hljs-number">14</span>
     },
     <span class="hljs-built_in">color</span>:<span class="hljs-string">'black'</span>,
     left:<span class="hljs-number">100</span>,
     top:<span class="hljs-number">30</span>
 }));

 data.push(tblRow);
 rs.next();
</code></pre><p> }<br> rs.close();<br> db.close();</p>
</li>
</ul>
<pre><code class="hljs">var table = Ti.UI.createTableView({
    search:searchBar,//Set the search bar object here
    filterAttribute:<span class="hljs-string">"searchFilter"</span>, //What attribute to search for data in
    data:data
});
self.add(table);


table.addEventListener('click', function(e) {
    self.fireEvent('itemSelected', {
        name: <span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span>NEED TO HAVE NAME PASSD HERE FROM DATABASE ROW  TO DETAILED, HOW <span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span>??

    });
});
return self;
</code></pre><p>};</p>
<p>module.exports = MasterView;</p>
<p>&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F; here is the code for details:&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;</p>
<p>function DetailView() {<br>    var self = Ti.UI.createView({<br>        backgroundColor:&#39;e3e3e3&#39;<br>    });</p>
<pre><code class="hljs">var lbl = Ti.UI.createLabel({
    text:'Please select an item',
    height:'auto',
    width:'auto',
    color:'<span class="hljs-comment">#000'</span>
});

self.add(lbl);

self.addEventListener('itemSelected', function(e) {

lbl.text =  <span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span>NEED TO HAVE NAME RETURNED HERE FROM DATABASE<span class="hljs-keyword">*</span><span class="hljs-keyword">*</span> HOW??

});

return self;
</code></pre><p>};</p>
<p>module.exports = DetailView;</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="April 30th 2014, 9:00:46 pm">April 30th 2014</span>
								by <span class='authorname'>Mahammad suoud</span><br>
								<a class="icon-bg icon-link" href="question/173622/passing-data-database-database-populated-tableview--using-master---detailed-templates.html#answer-278288" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>You have the same thing again, the code (like other posts) should look like this style that honours line breaks and colour codes so the code is very readable rather than this mis mash.</p>
<pre><code class="hljs">alert<span class="hljs-comment">('like this')</span>;
</code></pre><p>You also added the update as an answer and not aim net, this not an answer so needs to be added with your question.</p>
<p>Please try again, review the preview to see that the code is not a mess of text on a white background and place it in the original question, not as an answer or a comment to this answer TOP OF PAGE.</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 1st 2014, 4:23:37 am">May 1st 2014</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
