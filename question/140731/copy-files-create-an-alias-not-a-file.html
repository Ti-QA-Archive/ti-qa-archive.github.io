<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>copy files create an alias not a file Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>copy files create an alias not a file</h1>
		</header>
		<section>
			<p>when i try to copy files from temps directory in my app to resourceDirectory it&#39;s creating a alias files not original file .</p>
<p>Any ideas ?? thanks</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> oldfile = Ti.Filesystem.getFile(Ti.Filesystem.applicationDataDirectory,<span class="hljs-string">'old.txt'</span>);
<span class="hljs-keyword">var</span> newfile = Ti.Filesystem.getFile(Ti.Filesystem.applicationDataDirectory, <span class="hljs-string">'new.txt'</span>);
newfile.<span class="hljs-keyword">write</span>(oldfile.<span class="hljs-keyword">read</span>()); <span class="hljs-comment">// both old.txt and new.txt exist now</span>
</code></pre>
		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="August 8th 2012, 3:58:43 pm">August 8th 2012</span>
				by <span class='authorname'>guellai farid</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>alias</span></li>
					
						<li><span class='tagname'>file</span></li>
					
						<li><span class='tagname'>filesystem</span></li>
					
						<li><span class='tagname'>ipad</span></li>
					
						<li><span class='tagname'>iphone</span></li>
					
				</ul>
			

			<section>
				<h5>1 Comment</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Missing from your question are a number of important pieces of information. I suggest you take a look at the <a href="https:&#x2F;&#x2F;wiki.appcelerator.org&#x2F;display&#x2F;guides&#x2F;Using+Questions+and+Answers">Using Questions and Answers</a> article, specifically the Q&amp;A Question Checklist.  The missing information is critical to reproducing problems in a test environment and often indicates other factors that cause the undesirable outcome you are experiencing.</p>
</div>
							<div class="author">
								&mdash; commented <span title="August 8th 2012, 7:54:11 pm">August 8th 2012</span>
								by <span class='authorname'>Stephen Feather</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>3</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>3 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-244792">
				
						<section>
							<p>You&#39;re creating a new file and writing the old data to that new file, so both files will exist. If you don&#39;t want the old file any more, just delete it.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 8th 2012, 6:26:12 pm">August 8th 2012</span>
								by <span class='authorname'>Anthony Decena</span><br>
								<a class="icon-bg icon-link" href="question/140731/copy-files-create-an-alias-not-a-file#answer-244792" rel="permalink">permalink</a>
							</div>

							<h5>14 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>the problem is that when titanium create the new files it&#39;s an alias not a files</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 8th 2012, 7:25:15 pm">August 8th 2012</span>
											by <span class='authorname'>guellai farid</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>How are you determining that the file is an alias?</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 8th 2012, 7:58:19 pm">August 8th 2012</span>
											by <span class='authorname'>Anthony Decena</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>no i juste copy the file with the method showed below</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 8th 2012, 7:59:32 pm">August 8th 2012</span>
											by <span class='authorname'>guellai farid</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Im asking you how you know that the file is an alias.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 8th 2012, 8:02:14 pm">August 8th 2012</span>
											by <span class='authorname'>Anthony Decena</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>ahhh excuse moi when i check in the iphonesimulator directory it&#39;s shown as alias</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 8th 2012, 8:03:36 pm">August 8th 2012</span>
											by <span class='authorname'>guellai farid</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>This is the way that the simulator deals with files from your project directory to use them in the simulator instance that is launched. Again, deleting the old file (as long as it doesn&#39;t exist in your resources directory on launch), removes the alias that you would see in the filesystem:</p>
<pre><code class="hljs">var oldfile = <span class="hljs-type">Ti</span>.<span class="hljs-type">Filesystem</span>.getFile(<span class="hljs-type">Ti</span>.<span class="hljs-type">Filesystem</span>.applicationDataDirectory, <span class="hljs-symbol">'old</span>.txt');
oldfile.write(<span class="hljs-string">"WHAT JUST HAPPENED!"</span>);
var newfile = <span class="hljs-type">Ti</span>.<span class="hljs-type">Filesystem</span>.getFile(<span class="hljs-type">Ti</span>.<span class="hljs-type">Filesystem</span>.applicationDataDirectory, <span class="hljs-symbol">'new</span>.txt');
newfile.write(oldfile.read<span class="hljs-literal">()</span>);
oldfile.deleteFile<span class="hljs-literal">()</span>;
</code></pre><p>And of course, this works differently on device than it does in the actual sim.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 8th 2012, 9:02:48 pm">August 8th 2012</span>
											by <span class='authorname'>Anthony Decena</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>thanks i&#39;ll try :)</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 8th 2012, 9:11:09 pm">August 8th 2012</span>
											by <span class='authorname'>guellai farid</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Anthony i tested by it&#39;s didn&#39;t work i think it&#39;s because de ressourseDirectory it&#39;s in read only</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 13th 2012, 7:47:46 pm">August 13th 2012</span>
											by <span class='authorname'>guellai farid</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I copy my files from the resourcedirectory</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 13th 2012, 7:48:55 pm">August 13th 2012</span>
											by <span class='authorname'>guellai farid</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>In your original question, you were copying from the app data directory. In that case, the above example will work as you expect. However, as I said before, dealing with files from the resources directory you will have both files as visible with one as an alias file so only one file really has to exist. Regardless, on the device, you file will exist as expected, so there really isn&#39;t a problem.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 13th 2012, 7:58:27 pm">August 13th 2012</span>
											by <span class='authorname'>Anthony Decena</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I copy xml files from the resourceDirectory to DataDirectory but the iPhone or the iPad dont read the file when it is in alias that why i trying to found a solution for that</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 13th 2012, 8:00:52 pm">August 13th 2012</span>
											by <span class='authorname'>guellai farid</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Do the files get edited? What is the purpose for copying the file from the resources dir to the data dir?</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 13th 2012, 8:10:31 pm">August 13th 2012</span>
											by <span class='authorname'>Anthony Decena</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>no i want only use an offline use of the app it&#39;s mean that i start with temp files to start the app after if there is internet the app update those files</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 13th 2012, 8:12:32 pm">August 13th 2012</span>
											by <span class='authorname'>guellai farid</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Ok, so you can leave the files in the resources dir. If there is no internet on first run then just read from the resources dir. When you have internet, download your files and store them in the data dir. You should be able to read that file from then on.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 13th 2012, 8:17:39 pm">August 13th 2012</span>
											by <span class='authorname'>Anthony Decena</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-245229">
				
						<section>
							<p>yeah your right, thanks but i found the solution by creating first the files after that append it by the data&#39;s thank a lot man :)</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 13th 2012, 8:23:31 pm">August 13th 2012</span>
								by <span class='authorname'>guellai farid</span><br>
								<a class="icon-bg icon-link" href="question/140731/copy-files-create-an-alias-not-a-file#answer-245229" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-254948">
				
						<section>
							<p>Using the Stream API you can avoid creating the alias.</p>
<p>Below is a sample that shows this. The nativePath is the reference to the file you are reading from. The newPath this the path you want to write to. </p>
<pre><code class="hljs">                <span class="hljs-variable"><span class="hljs-keyword">var</span> sourceFile</span> = Ti.Filesystem.getFile(nativePath);
                <span class="hljs-variable"><span class="hljs-keyword">var</span> instream</span> = sourceFile.<span class="hljs-keyword">open</span>(Titanium.Filesystem.MODE_READ);        
                <span class="hljs-variable"><span class="hljs-keyword">var</span> newFile</span> = Ti.Filesystem.getFile(newPath);
                <span class="hljs-keyword">if</span>(newFile.exists()){
                    newFile.deleteFile();
                }
                <span class="hljs-variable"><span class="hljs-keyword">var</span> outstream</span> = newFile.<span class="hljs-keyword">open</span>(Titanium.Filesystem.MODE_WRITE);
                <span class="hljs-variable"><span class="hljs-keyword">var</span> buffer</span> = Titanium.createBuffer({length: <span class="hljs-number">1024</span>});
                <span class="hljs-variable"><span class="hljs-keyword">var</span> size</span> = <span class="hljs-number">0</span>;
                <span class="hljs-keyword">while</span> ((size = instream.read(buffer)) &gt; -<span class="hljs-number">1</span>) {
                  outstream.write(buffer);
                }

                <span class="hljs-comment">// Cleanup.</span>
                instream.close();
                outstream.close();
                sourceFile = <span class="hljs-literal">null</span>;
                newFile = <span class="hljs-literal">null</span>;
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="January 20th 2013, 3:22:42 am">January 20th 2013</span>
								by <span class='authorname'>Ben Bahrenburg</span><br>
								<a class="icon-bg icon-link" href="question/140731/copy-files-create-an-alias-not-a-file#answer-254948" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
