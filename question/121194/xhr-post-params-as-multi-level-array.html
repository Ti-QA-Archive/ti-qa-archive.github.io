<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>XHR POST params as multi-level array Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>XHR POST params as multi-level array</h1>
		</header>
		<section>
			<pre><code class="hljs"><span class="hljs-tag">Ti</span><span class="hljs-class">.SDK</span> 1<span class="hljs-class">.6</span><span class="hljs-class">.2</span>
<span class="hljs-tag">iOS</span> 4<span class="hljs-class">.3</span>
</code></pre><p>I have a web application that receives post data as multi-level arrays.</p>
<pre><code class="hljs"><span class="hljs-keyword">Array</span>
(
    [User] =&gt; <span class="hljs-keyword">Array</span>
        (
            [name] =&gt; Josey Morton
            [username] =&gt; jmorton
            [password] =&gt; <span class="hljs-comment">########</span>
        )

    [Product] =&gt; <span class="hljs-keyword">Array</span>
        (
            [name] =&gt; Pro Drupal Development
            [type] =&gt; Book
            [price] =&gt; <span class="hljs-number">49.99</span>
        )

)
</code></pre><p>My serverside app then takes the contents of &quot;User&quot; and &quot;Product&quot; and parses them differently, storing them in their respective databases.</p>
<p>###My question:<br>How can I pass this format as the HTTPClient send params so no adjustment is needed on the server side?</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="June 16th 2011, 7:51:28 pm">June 16th 2011</span>
				by <span class='authorname'>Josey Morton</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>array</span></li>
					
						<li><span class='tagname'>data</span></li>
					
						<li><span class='tagname'>forms</span></li>
					
						<li><span class='tagname'>xhr</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>3</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>3 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-210546">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>You need to searialize the datastructure in to a transportable format, and then deserialize it on the server side. The quickest way to so this is with JSON. In the app, run the array through JSON.stringify. This will give you a string you can put in your xhr.send call. Then on the server, use your platforms JSON library to deserialize the data structure back in to an array.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="June 16th 2011, 8:03:39 pm">June 16th 2011</span>
								by <span class='authorname'>Todd Wade</span><br>
								<a class="icon-bg icon-link" href="../../question/121194/xhr-post-params-as-multi-level-array.html#answer-210546" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>I figured this was the only viable solution. Thank you for being so quick to respond.</p>
</p>
										<div class="author">
											&mdash; commented <span title="June 16th 2011, 9:13:20 pm">June 16th 2011</span>
											by <span class='authorname'>Josey Morton</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>2</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-210547">
				
						<section>
							<p>How about using JSON.stringify on the JSON array and then parsing and reconstructing it on the other end?</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="June 16th 2011, 8:11:58 pm">June 16th 2011</span>
								by <span class='authorname'>Kosso</span><br>
								<a class="icon-bg icon-link" href="../../question/121194/xhr-post-params-as-multi-level-array.html#answer-210547" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Aye, this looks to be the only decent solution. Was hoping to be able to bypass any serverside reconfiguration but at least this is minimal.</p>
</p>
										<div class="author">
											&mdash; commented <span title="June 16th 2011, 9:13:59 pm">June 16th 2011</span>
											by <span class='authorname'>Josey Morton</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-266655">
				
						<section>
							<p>no, this is not solution, because i need to connect to service required application&#x2F;json content type and correctmulti-level json object in post, i can connect with curl but not with HttpClient, this is a bug</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 1st 2013, 7:01:42 am">August 1st 2013</span>
								by <span class='authorname'>andrei perv</span><br>
								<a class="icon-bg icon-link" href="../../question/121194/xhr-post-params-as-multi-level-array.html#answer-266655" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
