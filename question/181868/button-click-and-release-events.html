<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Button click and release events Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Button click and release events</h1>
		</header>
		<section>
			<p>Hi,</p>
<p>I am trying to create an interface that can record vibration on touch of a control, for example, till the user presses the control, its a vibrate period, when he releases the control, its a silence period till he presses again. I am thinking of using a variable to increment it when the user presses the control and pushing it to an array for Ti.Media.vibrate. This can record the vibration, but the silence period should start when the user releases the control, untill it presses it again. Can anybody please suggest how can I fire a functionality when the user releases the control? Any other suggestion for the intended implementation would be great as well.<br>Below is the code to give an indication of my logic.</p>
<p>Thanks!</p>
<p>var vibrateRecording = [];</p>
<p>var vibrateDuration = 0;</p>
<p>var silentDuration = 0;</p>
<p>var record = Ti.UI.createButton({<br>    bottom:&#39;0&#39;<br>});</p>
<p>record.addEventListener(&#39;click&#39;, function() {</p>
<pre><code class="hljs">Ti.Media.vibrate(<span class="hljs-number">0</span>,<span class="hljs-number">10</span>);  <span class="hljs-comment">//just to give the user a the sense of vibration on click</span>

vibrateDuration++;    

    vibrateRecording.push(vibrateDuration);  <span class="hljs-comment">//this vibrateRecording can be passed</span>
                                            <span class="hljs-comment">// to Ti.Media.vibrate after saving the </span>
                                           <span class="hljs-comment">// recording.</span>
</code></pre><p>});</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="April 6th 2015, 7:46:57 pm">April 6th 2015</span>
				by <span class='authorname'>Shantanu Saxena</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>callbacks</span></li>
					
						<li><span class='tagname'>events</span></li>
					
						<li><span class='tagname'>record vibration</span></li>
					
						<li><span class='tagname'>titanium</span></li>
					
						<li><span class='tagname'>vibrate</span></li>
					
				</ul>
			

			<section>
				<h5>2 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Sorry for the poor formatting, I tried my best to make it as readable as possible in preview.</p>
</div>
							<div class="author">
								&mdash; commented <span title="April 6th 2015, 7:49:58 pm">April 6th 2015</span>
								by <span class='authorname'>Shantanu Saxena</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>@Shantanu, next time you write the code here, use this format:</p>
<p>&#x2F;&#x2F; ~~~<br>var vibrateRecording = [];</p>
<p>var vibrateDuration = 0;</p>
<p>var silentDuration = 0;</p>
<p>var record = Ti.UI.createButton({ bottom:&#39;0&#39; });</p>
<p>record.addEventListener(&#39;click&#39;, function() {</p>
<p>Ti.Media.vibrate(0,10);  &#x2F;&#x2F;just to give the user a the sense of vibration on click</p>
<p>vibrateDuration++;  </p>
<pre><code class="hljs">vibrateRecording.<span class="hljs-keyword">push</span>(vibrateDuration);  <span class="hljs-comment">//this vibrateRecording can be passed</span>
                                        <span class="hljs-comment">// to Ti.Media.vibrate after saving the </span>
                                       <span class="hljs-comment">// recording.</span>
</code></pre><p>});</p>
<p>&#x2F;&#x2F; ~~~</p>
<p>Now just remove the 2 slashes before 3 tildes from top of the code &amp; from bottom also.</p>
<p>Thanks</p>
</div>
							<div class="author">
								&mdash; commented <span title="April 7th 2015, 2:48:05 am">April 7th 2015</span>
								by <span class='authorname'>Prashant Saini</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>-1</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-286916">
				
						<section>
							<p>Hi Shantanu,</p>
<p>When you using click event then it&#39;s fired when press and release it.. if you want to fire separate event for press and release then you can use <code>touchstart</code> and <code>touchend</code> event for button</p>
<p>Thanks</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="April 7th 2015, 11:46:52 am">April 7th 2015</span>
								by <span class='authorname'>Nilesh Patel</span><br>
								<a class="icon-bg icon-link" href="../../question/181868/button-click-and-release-events.html#answer-286916" rel="permalink">permalink</a>
							</div>

							<h5>4 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>But the touch event would only be fired once, so I wont be able to record the silence period continuously.</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 8th 2015, 1:10:29 am">April 8th 2015</span>
											by <span class='authorname'>Shantanu Saxena</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>But you can do it manually start executing whatever you want in touchstart event and stop it in touchend event.</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 8th 2015, 3:20:18 am">April 8th 2015</span>
											by <span class='authorname'>Nilesh Patel</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>By touchstart event, I can record vibration, the moment user releases the button,  touchend event is fired, but only once. So the silence period will not be recorded for the time the button is unpressed. There must be silence period variable increment till the time user presses the button again. So the silence period variable is incremented only once. Also, if a callback function is in process, no other event can be fired until it finishes its cycle, so manipulating variables from other callback functions does not work as well..</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 8th 2015, 4:33:31 am">April 8th 2015</span>
											by <span class='authorname'>Shantanu Saxena</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>means you want to create like default silent functionality of device. like toggle button.. right.???????</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 8th 2015, 5:28:45 am">April 8th 2015</span>
											by <span class='authorname'>Nilesh Patel</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
