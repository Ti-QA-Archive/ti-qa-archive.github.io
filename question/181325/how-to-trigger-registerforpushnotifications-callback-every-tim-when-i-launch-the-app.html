<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>how to trigger registerForPushNotifications callback every tim when I launch the app » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>how to trigger registerForPushNotifications callback every tim when I launch the app</h1>
		</header>
		<section>
			<p>Hi,<br>I am using urban airship module in my application for notifications. I am registering the device on successful login.It works fine and callback function is triggered overtime I receive a notification. But the problem is when I kill the application and the callback function is not being triggered when I open the application after receiving a notification. So, Please let me know how to trigger the callback function every time without registering the device again and again.</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="March 10th 2015, 4:25:38 am">March 10th 2015</span>
				by <span class='authorname'>Bhargav B K S</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>alloy</span></li>
					
						<li><span class='tagname'>ios</span></li>
					
						<li><span class='tagname'>urbanairship</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-286391">
				
						<section>
							<p>Hi Bhargav,</p>
<p>You can avoid it by storing device token into property when it get first time. So you can test device token is stored or not if it is stored then don&#39;t call registerForPushnotification.</p>
<p>e.g</p>
<pre><code class="hljs">

<span class="stata">function deviceTokenSuccess(<span class="hljs-keyword">e</span>) {
    deviceToken = <span class="hljs-keyword">e</span>.deviceToken;
    Ti.<span class="hljs-keyword">App</span>.Properties.setString(<span class="hljs-string">"deviceToken"</span>,deviceToken);
}

<span class="hljs-keyword">if</span>(Ti.<span class="hljs-keyword">App</span>.Properties.hasProperty(<span class="hljs-string">"deviceToken"</span>)){
    deviceToken = Ti.<span class="hljs-keyword">App</span>.Properties.getString(<span class="hljs-string">"deviceToken"</span>);
} <span class="hljs-keyword">else</span> {
    Ti.Network.registerForPushNotifications({
        success: deviceTokenSuccess,
        <span class="hljs-keyword">error</span>: deviceTokenError,
        callback: receivePush
     });
}</span>
</code></pre><p>Thanks</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="March 10th 2015, 4:43:49 am">March 10th 2015</span>
								by <span class='authorname'>Nilesh Patel</span><br>
								<a class="icon-bg icon-link" href="question/181325/how-to-trigger-registerforpushnotifications-callback-every-tim-when-i-launch-the-app#answer-286391" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-286393">
				
						<section>
							<p>Hi Nilesh,<br>I am doing this but I want to know how to trigger callback function once device is registered</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="March 10th 2015, 5:36:37 am">March 10th 2015</span>
								by <span class='authorname'>Bhargav B K S</span><br>
								<a class="icon-bg icon-link" href="question/181325/how-to-trigger-registerforpushnotifications-callback-every-tim-when-i-launch-the-app#answer-286393" rel="permalink">permalink</a>
							</div>

							<h5>3 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>don&#39;t post new answer if you have any query regarding any answer just add comment… </p>
<p>which callbackfunction you want to trigger.?</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 10th 2015, 5:38:50 am">March 10th 2015</span>
											by <span class='authorname'>Nilesh Patel</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I want to trigger registerForPushNotification callback function.</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 10th 2015, 8:38:53 am">March 10th 2015</span>
											by <span class='authorname'>Bhargav B K S</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Callback function it self created by you so you can call it any time.. for example in code which i sent you there is deviceTokenSuccess function is callback function of success.</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 10th 2015, 9:37:12 am">March 10th 2015</span>
											by <span class='authorname'>Nilesh Patel</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
