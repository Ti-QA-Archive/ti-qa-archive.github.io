<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Android - Images show up on rotate device » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Android - Images show up on rotate device</h1>
		</header>
		<section>
			<p>Mobile<br>Titanium 3.1.2<br>Android SDK 2.3.3 Device - Samsung Galaxy Player<br>Mac OS X</p>
<p>I have a tableview with remote images and text that works fine in ios.  In android the images won&#39;t show up at all - unless I rotate the phone into landscape mode, and then they show up instantly.  I need to have the orientation portrait only, so I can&#39;t keep rotating to get elements to show up.  (And I wouldn&#39;t want the user to have to do that every time).  The images stay showing when I rotate back to portrait mode.   Here is some sample code:</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> onSuccessCallback = function(<span class="hljs-keyword">e</span>) {

        Ti.API.info(<span class="hljs-keyword">e</span>.data);

        Ti.API.info(<span class="hljs-keyword">e</span>.status);

        <span class="hljs-keyword">var</span> <span class="hljs-keyword">post</span> = JSON.<span class="hljs-keyword">parse</span>(<span class="hljs-keyword">e</span>.data);

        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">e</span>.data != <span class="hljs-string">"[]"</span> &amp;&amp; <span class="hljs-keyword">e</span>.data != null) {

            $.tableview.show();
            $.activityIndicator.show();
            items = [];

        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i = 0; i &lt; <span class="hljs-keyword">post</span>.length; ++i) {

            <span class="hljs-keyword">var</span> postData = {};
            postData.title = <span class="hljs-keyword">post</span>[i].title;
            postData.date_time = <span class="hljs-keyword">post</span>[i].date_time;
            postData.pic = <span class="hljs-keyword">post</span>[i].pic;
            postData.audio = <span class="hljs-keyword">post</span>[i].audio;
            postData.postId = <span class="hljs-keyword">post</span>[i].id;
            Ti.<span class="hljs-keyword">App</span>.Properties.setObject('postObj', postData);
            Ti.API.info('postData.audio' + postData.audio);

        items.push(newRow(<span class="hljs-keyword">post</span>[i]));
        }    

        $.tableview.data = items;
        $.activityIndicator.hide();

    function newRow(<span class="hljs-keyword">e</span>) {

        <span class="hljs-keyword">var</span> row = Ti.UI.createTableViewRow({
            height:<span class="hljs-string">"40%"</span>,
            top:<span class="hljs-string">"9%"</span>,
            width:<span class="hljs-string">"100%"</span>,
            className:'manage'    
        });
        row.rowId = postData.postId;
        row.message = postData.title;
        row.pic = postData.pic;
        row.audio = postData.audio;
        row.date = postData.date_time;

        <span class="hljs-keyword">if</span>(Ti.Platform.osname == 'android'){
            row.height = Ti.Platform.displayCaps.platformHeight/3.5;        
        }

        <span class="hljs-keyword">var</span> lovImage = Ti.UI.createView({
            backgroundColor:<span class="hljs-string">"red"</span>,
            top:<span class="hljs-string">"4.5%"</span>,
            left:<span class="hljs-string">"3%"</span>,
            height:<span class="hljs-string">"31.5%"</span>,
            width:<span class="hljs-string">"15%"</span>,
        });
        row.add(lovImage);

        <span class="hljs-keyword">if</span>(postData.pic != <span class="hljs-string">""</span>){
            lovImage.backgroundImage = 'http:<span class="hljs-comment">//108.166.87.132/newapi/' + postData.pic;</span>
            }
            <span class="hljs-keyword">else</span>{
            lovImage.backgroundImage = <span class="hljs-string">"/images/background/appicon.png"</span>;    
            }

        <span class="hljs-keyword">var</span> playPause = Ti.UI.createButton({
            backgroundImage:<span class="hljs-string">"/images/buttons/button_playPause_up.png"</span>,
            top:<span class="hljs-string">"6.5%"</span>,
            left:<span class="hljs-string">"20%"</span>,
            height:<span class="hljs-string">"27%"</span>,
            width:<span class="hljs-string">"12%"</span>,
        });
        row.add(playPause);
</code></pre><p>etc….  I have the className property set…. what am I missing?</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="September 3rd 2013, 7:14:49 pm">September 3rd 2013</span>
				by <span class='authorname'>Jenna Harris</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>mobile</span></li>
					
						<li><span class='tagname'>rotate</span></li>
					
						<li><span class='tagname'>tableview</span></li>
					
				</ul>
			

			<section>
				<h5>4 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Actually it seems that the elements show up on rotate period, regardless of which orientation the phone starts.  So if the phone is in landscape, rotation to portrait will make the elements show up.  If the phone starts in portrait, rotation to landscape will make the elements show up.  The only element that shows up all the time from the beginning is the slider.</p>
</div>
							<div class="author">
								&mdash; commented <span title="September 3rd 2013, 7:21:18 pm">September 3rd 2013</span>
								by <span class='authorname'>Jenna Harris</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>And more observation - if I leave the page and come back sometimes the elements will show up then.  Just seems like initial load is the problem…</p>
</div>
							<div class="author">
								&mdash; commented <span title="September 3rd 2013, 7:28:31 pm">September 3rd 2013</span>
								by <span class='authorname'>Jenna Harris</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Hello,<br>does the same happens if you create an imageview instead of a view?</p>
<p>Best,</p>
<p>Mauro</p>
</div>
							<div class="author">
								&mdash; commented <span title="September 4th 2013, 1:54:29 am">September 4th 2013</span>
								by <span class='authorname'>Mauro Parra</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>yes the same thing happens with imageView unfortunately.  And it appears that on Android if I have images on top of an imageView they don&#39;t show up, so it has to be a view anyway.  </p>
<p>I have figured out that by making changing the element dimensions to variables of Ti.Properties.displayCaps.platformHeight and Width that they show up as expected now.  </p>
<p>The row height was set using Ti.Properties.displayCaps.platformHeight before hand, and at first it seemed that was enough of a set parameter for android to make the other elements show up.  The other elements were styled in percentages.  It seems that android just doesn&#39;t do well with percentages anywhere.  Lesson learned!</p>
</div>
							<div class="author">
								&mdash; commented <span title="September 4th 2013, 1:48:23 pm">September 4th 2013</span>
								by <span class='authorname'>Jenna Harris</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>0</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>0 Answers</h3>

	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
