<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>DB wont update. » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>DB wont update.</h1>
		</header>
		<section>
			<p>Hi.<br>I am making an app that makes heavy use of data in an sqlite database.</p>
<p>One of the tables in the database did not have data when i started the app.<br>Now it does.</p>
<p>I want the database on the app to reflect this, but no matter what i do, it fails to pick up the new DB.</p>
<p>I have cleaned the project in studio, i have deleted the app from the simulator.<br>I have opened the running database and the one in the Resources folder side by side and run the same query and it fails in the app DB.</p>
<p>Is there any sure way to remove the old database. I cannot see where it has been caching it, but it must be as i have even restarted the machine between builds and still the same.</p>
<p>Any ideas anyone?</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="August 18th 2011, 5:51:16 pm">August 18th 2011</span>
				by <span class='authorname'>Jez Manser</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>database</span></li>
					
						<li><span class='tagname'>sqlite</span></li>
					
						<li><span class='tagname'>studio</span></li>
					
				</ul>
			

			<section>
				<h5>1 Comment</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>When running the app on Android, it helpfully says the DB is corrupt. This is not the first time i have run into DB corruption issues with the mobile side of things.<br>Unfortunately when the database has 75,000 entries rebuilding every time is a bit of a pain.</p>
</div>
							<div class="author">
								&mdash; commented <span title="August 18th 2011, 6:09:12 pm">August 18th 2011</span>
								by <span class='authorname'>Jez Manser</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-216917">
				
						<section>
							<p>Jez</p>
<p>I have never experienced a corrupted database before. I would like to help you with it, but I need some way to reliably reproduce the issue in order to begin troubleshooting. Are you able to provide <a href="http:&#x2F;&#x2F;wiki.appcelerator.org&#x2F;display&#x2F;guides&#x2F;Contributing+to+Titanium#ContributingtoTitanium-CreatingGoodUsecases">a usecase</a>?</p>
<p>Thanks</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 19th 2011, 9:16:16 am">August 19th 2011</span>
								by <span class='authorname'>Paul Dowsett</span><br>
								<a class="icon-bg icon-link" href="question/124452/db-wont-update#answer-216917" rel="permalink">permalink</a>
							</div>

							<h5>4 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>It is something that has happened to me on two occasions now.</p>
<p>I cannot provide a reliable use case, but…</p>
<p>The main cause is a large database.<br>The second ingredient is a database change outside of the app. Often when you have quite a large database it is pre-loaded for the app, if the database is finished and complete before starting development on the app then all is often well.</p>
<p>If you need to change the database either by loading new data or changing the structure, then it can cause an error in the app when you try and use the new content - which may or may not be there yet. </p>
<p>This is the point that the database corrupts usually since normal operations do not complete and you get a DB error in the console (missing table or similar).</p>
<p>The fix is then to re-build the database and ensure it is complete. Delete the old database in the Resources folder and run the app to ensure that it is clear and gone.<br>Then on replacing the db things usually go ok from then on.</p>
<p>Thanks,</p>
<p>Jez</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 19th 2011, 9:26:15 am">August 19th 2011</span>
											by <span class='authorname'>Jez Manser</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Jez</p>
<p>I empathize, but it is probably simply a generic database coding issue. Please see <a href="http:&#x2F;&#x2F;www.sqlite.org&#x2F;faq.html#q11">How do I add or delete columns from an existing table in SQLite.</a> from the official SQLite documentation.</p>
<p>Cheers</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 19th 2011, 10:13:34 am">August 19th 2011</span>
											by <span class='authorname'>Paul Dowsett</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Much appreciated!<br>I did kinda realise it was something i need to sort on the DB side when i saw the corrupted message.</p>
<p>Fortunately this is only something that comes up during development so it is not a &#39;show stopper&#39;.</p>
<p>Thanks,</p>
<p>Jez</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 19th 2011, 10:33:34 am">August 19th 2011</span>
											by <span class='authorname'>Jez Manser</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Thanks, and you&#39;re welcome, Jez! :)</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 19th 2011, 11:06:54 am">August 19th 2011</span>
											by <span class='authorname'>Paul Dowsett</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-223798">
				
						<section>
							<p>So firstly to if there is persistent data on the phone it is because you need to reset the simulator. That will wipe the project and database off the phone. On the &quot;run&quot; of the app the DB will be re-installed with changes…</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="November 20th 2011, 9:39:37 am">November 20th 2011</span>
								by <span class='authorname'>ilan perez</span><br>
								<a class="icon-bg icon-link" href="question/124452/db-wont-update#answer-223798" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
