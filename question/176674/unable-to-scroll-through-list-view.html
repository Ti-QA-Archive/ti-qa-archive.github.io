<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Unable to scroll through list view » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Unable to scroll through list view</h1>
		</header>
		<section>
			<p>I am making use of this widget for pull to refresh list view for android <a href="https:&#x2F;&#x2F;github.com&#x2F;jolicode&#x2F;Alloy-PullToRefresh">jolicode</a> but my list view has stopped scrolling . Has any using this widget experienced a similar problem? I am really stuck on this issue.</p>
<pre><code class="hljs"><span class="hljs-tag">&lt;<span class="hljs-title">Alloy</span>&gt;</span>    
        <span class="hljs-tag">&lt;<span class="hljs-title">View</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"containerWidget"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">Widget</span> <span class="hljs-attribute">src</span>=<span class="hljs-value">"com.jolicode.pullToRefresh"</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"pulltorefresh"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">Widget</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">View</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">Alloy</span>&gt;</span>
</code></pre><p>widget.xml</p>
<pre><code class="hljs"><span class="hljs-tag">&lt;<span class="hljs-title">Alloy</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">View</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"allJobsScreen"</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"ver"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">View</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"topBarView"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">ImageView</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"settingImg"</span>/&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">ImageView</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"logoImg"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">ImageView</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-title">View</span>&gt;</span> --&gt;
            <span class="hljs-tag">&lt;<span class="hljs-title">View</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"pulltorefresh"</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"container"</span> &gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">ScrollView</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"container"</span> <span class="hljs-attribute">platform</span>=<span class="hljs-value">"android"</span> &gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">ScrollView</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-title">View</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">View</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">Alloy</span>&gt;</span>
</code></pre>
		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="August 1st 2014, 8:02:24 am">August 1st 2014</span>
				by <span class='authorname'>Vishnu Khaunte</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>alloy</span></li>
					
						<li><span class='tagname'>titanium</span></li>
					
						<li><span class='tagname'>titanium studio</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-281374">
				
						<section>
							<p>Hi</p>
<p>You said &quot;…it stopped scrolling…&quot;, does this mean it was previously scrolling?</p>
<p>When it previously scrolled as you would wished - what changes have you made to the XML or the amount of child views on the ScrollVIew?</p>
<p>Depending on the total size taken up by the child views within a ScrollView you will experience scrolling, however if the total height or width (depending on needs) doe snot exceed that direction - the contents will NOT appear to scroll as there is nothing to move around.</p>
<p>If you believe this to be the case here, add a big child view to force the internal size to exceed the ScrollView actual width and height.  If it scrolls then - then this is the answer.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 2nd 2014, 11:42:09 am">August 2nd 2014</span>
								by <span class='authorname'>Malcolm Hollingsworth</span><br>
								<a class="icon-bg icon-link" href="question/176674/unable-to-scroll-through-list-view.html#answer-281374" rel="permalink">permalink</a>
							</div>

							<h5>3 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>I had to increase the content height of the scroll view everytime the items in the list view increase. But since this widget takes &#39;controller&#39; as a parameter , the list view is refreshed and i am not able to show the previous loaded records which i was able to do prior to using this widget.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 4th 2014, 3:36:37 am">August 4th 2014</span>
											by <span class='authorname'>Vishnu Khaunte</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I do not understand your follow up content.  Can you provide a code snippets with explanations and I see what I can work out.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 4th 2014, 7:29:16 am">August 4th 2014</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>The allJobsList.xml</p>
<pre><code class="hljs"><span class="hljs-tag">&lt;<span class="hljs-title">Alloy</span>&gt;</span>    
        <span class="hljs-tag">&lt;<span class="hljs-title">View</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"containerWidget"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">Widget</span> <span class="hljs-attribute">src</span>=<span class="hljs-value">"com.jolicode.pullToRefresh"</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"pulltorefresh"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">Widget</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">View</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">Alloy</span>&gt;</span>
</code></pre><p>allJobsList.js</p>
<pre><code class="hljs">
var args = arguments[<span class="hljs-number">0</span>] || {};


var api = {

    initialize: function() {
        $.pulltorefresh.initialize({

            controller: <span class="hljs-string">'/listView'</span>,

            iosRefreshControl: {
                tintColor : <span class="hljs-string">'#FF7A00'</span>,
            },

            headerPullView : {
                arrow : {
                    bottom: <span class="hljs-number">10</span>,
                    height: <span class="hljs-number">46</span>,
                    left: <span class="hljs-number">35</span>,
                    width: <span class="hljs-number">11</span>
                },
                border : {
                    backgroundColor: <span class="hljs-string">'#FF7A00'</span>,
                },
                lastUpdate : {
                    color: <span class="hljs-string">"#FF7A00"</span>,
                },
                status : {
                    color: <span class="hljs-string">'#FF7A00'</span>,
                },
            }
        });
    }


};

api.initialize();
</code></pre><p>In alljobsList.js i am passing a parameter controller with a value &#39;&#x2F;ListView&#39;</p>
<p>listView.xml</p>
<pre><code class="hljs">
<span class="hljs-tag">&lt;<span class="hljs-title">Alloy</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">ListView</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"listView"</span> <span class="hljs-attribute">defaultItemTemplate</span>=<span class="hljs-value">"template1"</span>   &gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">Templates</span> &gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">ItemTemplate</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"span1 top2 cellbackgrd"</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"template1"</span> <span class="hljs-attribute">height</span>=<span class="hljs-value">"220"</span>&gt;</span>

                    <span class="hljs-tag">&lt;<span class="hljs-title">Label</span> <span class="hljs-attribute">bindId</span>=<span class="hljs-value">"jobDescription"</span> <span class="hljs-attribute">left</span>=<span class="hljs-value">"3%"</span> <span class="hljs-attribute">top</span>=<span class="hljs-value">"5%"</span>  <span class="hljs-attribute">class</span>=<span class="hljs-value">"itemTitle"</span> /&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-title">ImageView</span> <span class="hljs-attribute">left</span>=<span class="hljs-value">"3%"</span> <span class="hljs-attribute">top</span>=<span class="hljs-value">"32%"</span> <span class="hljs-attribute">image</span>=<span class="hljs-value">"/images/global/time.png"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">ImageView</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-title">Label</span> <span class="hljs-attribute">bindId</span>=<span class="hljs-value">"jobTime"</span> <span class="hljs-attribute">left</span>=<span class="hljs-value">"8%"</span> <span class="hljs-attribute">top</span>=<span class="hljs-value">"30%"</span>  <span class="hljs-attribute">class</span>=<span class="hljs-value">"itemDes"</span> /&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-title">ImageView</span> <span class="hljs-attribute">left</span>=<span class="hljs-value">"47%"</span> <span class="hljs-attribute">top</span>=<span class="hljs-value">"32%"</span> <span class="hljs-attribute">image</span>=<span class="hljs-value">"/images/global/user.png"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">ImageView</span>&gt;</span>

                    <span class="hljs-tag">&lt;/<span class="hljs-title">View</span>&gt;</span>

                <span class="hljs-tag">&lt;/<span class="hljs-title">ItemTemplate</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-title">Templates</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">ListSection</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"section"</span> <span class="hljs-attribute">dataCollection</span>=<span class="hljs-value">"job"</span> <span class="hljs-attribute">dataTransform</span>=<span class="hljs-value">"transformFunction"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">ListItem</span>  <span class="hljs-attribute">jobDescription:text</span>=<span class="hljs-value">"{post_name}"</span> <span class="hljs-attribute">jobTime:text</span>=<span class="hljs-value">"{job_start_time}"</span> &gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">ListItem</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-title">ListSection</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">ListView</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">Alloy</span>&gt;</span>
</code></pre><p>listView.js</p>
<pre><code class="hljs">var api = {
    <span class="hljs-type">data</span> : (<span class="hljs-string">"abcpq"</span>),

    initialize: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span></span> {
        <span class="hljs-keyword">if</span> (args.pulltorefresh) {
            args.pulltorefresh.setCallback(this.doRefresh);
        }

     //   this.updateListView(api.<span class="hljs-type">data</span>);
    },

    doRefresh: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span></span> {
        // <span class="hljs-keyword">Call</span> your updateListView <span class="hljs-function"><span class="hljs-keyword">function</span></span>
        updateListView();

    },

    updateListView: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span></span> {
        <span class="hljs-keyword">if</span> (args.pulltorefresh &amp;&amp; api.<span class="hljs-type">data</span>) {
            args.pulltorefresh.<span class="hljs-keyword">stop</span>(showView, <span class="hljs-number">20</span>);
        }

        console.<span class="hljs-built_in">log</span>(<span class="hljs-string">'UPDATE'</span>);
    }
};


 api.initialize();


var updateListView= <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span></span> {
        <span class="hljs-keyword">if</span> (args.pulltorefresh &amp;&amp; api.<span class="hljs-type">data</span>) {
            args.pulltorefresh.<span class="hljs-keyword">stop</span>(showView, <span class="hljs-number">20</span>);
        }

        console.<span class="hljs-built_in">log</span>(<span class="hljs-string">'UPDATE CALLED'</span>);
   };
</code></pre><p>Defined updateListView twice because it was saying no function found.</p>
<p>The following condition i had written , if any records are already fetched do not fetch them twice.<br>After using this widget i had to add this extra line <code>args.pulltorefresh.stop(showView, 20);</code> so that i could scroll through all the list view items. Works partially and the reason i am saying this is beacuse then the list views marker event gets called automatically.</p>
<pre><code class="hljs"><span class="hljs-comment">/*
 * Fetch all jobs when
 * controller is opened
 */</span>
<span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Collection SIZE::'</span> + _.size(jobCollection.models));
<span class="hljs-keyword">if</span> (_.isEmpty(jobCollection.models)) {

    jobCollection.fetch({
        reset : <span class="hljs-literal">false</span>,
        unique : <span class="hljs-literal">true</span>,
        success : <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">collection, response, options</span>) </span>{


            jobCollection.add(collection.models);

            <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">JSON</span>.stringify(collection));

            <span class="hljs-comment">// Set the initial item threshold</span>
            $.listView.setMarker({
                sectionIndex : <span class="hljs-number">0</span>,
                itemIndex : (_.size(collection.models) - <span class="hljs-number">1</span>)
            });
        },
        error : <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{

        }
    });
} <span class="hljs-keyword">else</span> {
    jobCollection.trigger(<span class="hljs-string">'change'</span>);
    args.pulltorefresh.stop(showView, <span class="hljs-number">20</span>);
}


<span class="hljs-comment">// Load more data and set a new threshold when item threshold is reached</span>
$.listView.addEventListener(<span class="hljs-string">'marker'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{


       i=i+<span class="hljs-number">1</span>;
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'marker event called'</span>);
    jobCollection.fetch({
        remove : <span class="hljs-literal">false</span>,
        add : <span class="hljs-literal">true</span>,
        reset : <span class="hljs-literal">false</span>,
        unique : <span class="hljs-literal">true</span>,
        success : <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">collection, response, options</span>) </span>{

            <span class="hljs-keyword">if</span> (response.length&gt;<span class="hljs-number">0</span>) {
                showView=Titanium.Platform.displayCaps.platformHeight*i;
                args.pulltorefresh.stop(showView, <span class="hljs-number">20</span>);
            };
            jobCollection.add(collection.models);

                      api.initialize();
            <span class="hljs-comment">//  console.log('collection size: '+_.size(collection));</span>

            _.delay(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                $.listView.setMarker({
                    sectionIndex : <span class="hljs-number">0</span>,
                    itemIndex : (_.size(collection.models) - <span class="hljs-number">1</span>)
                });
            }, <span class="hljs-number">1000</span>);

        <span class="hljs-comment">//    jobCollection.trigger('change');</span>
        },
        error : <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
            <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'wrong print:'</span> + <span class="hljs-built_in">JSON</span>.stringify(e));
        }
    });

});
</code></pre><p>widget.xml</p>
<pre><code class="hljs"><span class="hljs-tag">&lt;<span class="hljs-title">Alloy</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">View</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"allJobsScreen"</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"ver"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">View</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"topBarView"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">ImageView</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"settingImg"</span>/&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">ImageView</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"logoImg"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">ImageView</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-title">View</span>&gt;</span> --&gt;
            <span class="hljs-tag">&lt;<span class="hljs-title">View</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"pulltorefresh"</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"container"</span> &gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">ScrollView</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"container"</span> <span class="hljs-attribute">platform</span>=<span class="hljs-value">"android"</span> &gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">ScrollView</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-title">View</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">View</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">Alloy</span>&gt;</span>
</code></pre><p>alloy.js</p>
<pre><code class="hljs"><span class="hljs-variable"><span class="hljs-keyword">var</span> jobCollection</span> = Alloy.Collections.instance('job');
<span class="hljs-variable"><span class="hljs-keyword">var</span> i</span>=<span class="hljs-number">1</span>;
<span class="hljs-variable"><span class="hljs-keyword">var</span> showView</span>=Titanium.Platform.displayCaps.platformHeight;
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="August 4th 2014, 7:57:16 am">August 4th 2014</span>
											by <span class='authorname'>Vishnu Khaunte</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
