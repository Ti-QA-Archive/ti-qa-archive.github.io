<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>how to use an active access token to query information about the current user Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>how to use an active access token to query information about the current user</h1>
		</header>
		<section>
			<p>so i wrote this bit of code:</p>
<p>Ti.Facebook.requestWithGraphPath(&#39;me?fields=name,picture&#39;, {}, &#39;GET&#39;, function(e) {<br>    if (e.success) {<br>        var response = JSON.parse(e.result);<br>    } else if (e.error) {<br>           alert(&quot;Error = &quot;+e.error);<br>    } else {<br>      alert(&#39;Unknown response&#39;);<br>    }<br>});</p>
<p>var profileView = Ti.UI.createImageView({<br>    image:&#39;https:&#x2F;&#x2F;graph.facebook.com&#x2F;&#39;+Ti.Facebook.uid+&#39;&#x2F;picture?type=square&#39;,<br>    top: 65,<br>    left: 20,<br>    height:70,<br> });</p>
<p>var url = &#39;https:&#x2F;&#x2F;graph.facebook.com&#x2F;me&#x2F;name&#39;;</p>
<p>var httpClient = Titanium.Network.createHTTPClient({<br>    onload: function() {<br>    var reply = JSON.stringify(this.responseText);<br>    Ti.API.info(&#39;user id &#39; + Titanium.Facebook.uid);<br>    Ti.API.info(&#39;user name: &#39; + reply);<br>    Ti.API.info(&#39;access token: &#39; + Ti.Facebook.accessToken);</p>
<pre><code class="hljs">callback(reply)<span class="hljs-comment">;         </span>
   }
</code></pre><p>});<br>httpClient.open(&quot;GET&quot;,url);<br>httpClient.send();</p>
<p>basically what i want to achieve is to show the users name from Facebook</p>
<p>upon running the app i get the following error:</p>
<p>[INFO]<br>user name: &quot;{\&quot;error\&quot;:{\&quot;message\&quot;:\&quot;An active access token must be used to query information about thecurrent user.\&quot;,\&quot;type\&quot;:\&quot;OAuthException\&quot;,\&quot;code\&quot;:2500}}&quot;</p>
<p>my question is where to i place the access token (as you can see i have found what the access token is via    Ti.API.info(&#39;access token: &#39; + Ti.Facebook.accessToken);</p>
<p>but i don&#39;t now how to implement it</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="August 2nd 2012, 3:28:18 am">August 2nd 2012</span>
				by <span class='authorname'>Napp Dev</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>acces token</span></li>
					
						<li><span class='tagname'>error</span></li>
					
						<li><span class='tagname'>facebook</span></li>
					
						<li><span class='tagname'>httpclient</span></li>
					
						<li><span class='tagname'>json</span></li>
					
				</ul>
			

			<section>
				<h5>1 Comment</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>i have tried and couldn&#39;t find :( still trying</p>
</div>
							<div class="author">
								&mdash; commented <span title="August 2nd 2012, 6:27:05 am">August 2nd 2012</span>
								by <span class='authorname'>Graham Jeffrey</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-244299">
				
						<section>
							<p>what aren&#39;t you using the buit in Facebook API calls?</p>
<p><a href="http:&#x2F;&#x2F;docs.appcelerator.com&#x2F;titanium&#x2F;2.1&#x2F;#!&#x2F;api&#x2F;Titanium.Facebook">http:&#x2F;&#x2F;docs.appcelerator.com&#x2F;titanium&#x2F;2.1&#x2F;#!&#x2F;api&#x2F;Titanium.Facebook</a></p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 2nd 2012, 9:42:34 am">August 2nd 2012</span>
								by <span class='authorname'>Aaron Saunders</span><br>
								<a class="icon-bg icon-link" href="question/140458/how-to-use-an-active-access-token-to-query-information-about-the-current-user.html#answer-244299" rel="permalink">permalink</a>
							</div>

							<h5>2 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Hi</p>
<p>What do you mean? I dont understand the question.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 2nd 2012, 9:58:55 am">August 2nd 2012</span>
											by <span class='authorname'>Napp Dev</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>sorry for the spelling, errors.. also why are you asking the same question twice in two different places?</p>
<p><a href="http:&#x2F;&#x2F;developer.appcelerator.com&#x2F;question&#x2F;140542&#x2F;need-help-with-accesstoken-facebook">http:&#x2F;&#x2F;developer.appcelerator.com&#x2F;question&#x2F;140542&#x2F;need-help-with-accesstoken-facebook</a></p>
<p>this makes the QA forum more confusing and lesss valuable to others. If this question has been answered mark it so or close it out so everyone can get value from the community</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 4th 2012, 10:26:36 am">August 4th 2012</span>
											by <span class='authorname'>Aaron Saunders</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-244451">
				
						<section>
							<p><a href="https:&#x2F;&#x2F;github.com&#x2F;appcelerator&#x2F;KitchenSink&#x2F;tree&#x2F;master&#x2F;Resources&#x2F;ui&#x2F;common&#x2F;mashups">https:&#x2F;&#x2F;github.com&#x2F;appcelerator&#x2F;KitchenSink&#x2F;tree&#x2F;master&#x2F;Resources&#x2F;ui&#x2F;common&#x2F;mashups</a></p>
<p>look at the facebook samples</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 4th 2012, 10:28:52 am">August 4th 2012</span>
								by <span class='authorname'>Aaron Saunders</span><br>
								<a class="icon-bg icon-link" href="question/140458/how-to-use-an-active-access-token-to-query-information-about-the-current-user.html#answer-244451" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
