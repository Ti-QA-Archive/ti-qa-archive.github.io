<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Animation not moving image on iPhone » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Animation not moving image on iPhone</h1>
		</header>
		<section>
			<p>So I have an animation that zooms and moves and image at the same time: </p>
<pre><code class="hljs">zoomMatrix = Ti.UI.create2DMatrix()<span class="hljs-comment">;</span>
zoomMatrix = zoomMatrix.scale(ZoomFactor)<span class="hljs-comment">;</span>
zoomAnimation.transform = zoomMatrix<span class="hljs-comment">;</span>
zoomAnimation.center = {x:WheelCenterX, y:WheelCenterY}<span class="hljs-comment">;</span>
zoomAnimation.duration = 400<span class="hljs-comment">;</span>
 $.RouletteBack.animate(zoomAnimation)<span class="hljs-comment">;</span>
</code></pre><p>This works fine on Android, however on iOS the image zooms but does not move. I have tried changing the x&#x2F;y input and seen no difference in its final position.</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="March 23rd 2014, 3:12:56 pm">March 23rd 2014</span>
				by <span class='authorname'>Richard Fyffe</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>animation</span></li>
					
						<li><span class='tagname'>image</span></li>
					
						<li><span class='tagname'>imageview</span></li>
					
						<li><span class='tagname'>ios</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-276864">
				
						<section>
							<p>Hi</p>
<p>This works fine for me;</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> zoomMatrix = Ti.UI.create2DMatrix();
zoomMatrix = zoomMatrix.scale(<span class="hljs-number">2</span>);

$.RouletteBack.animate({
    center: {
        x: <span class="hljs-number">10</span>,
        y: <span class="hljs-number">10</span>
    },
    duration: <span class="hljs-number">400</span>
}, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
    $.btn.animate({
        transform: zoomMatrix,
        duration: <span class="hljs-number">400</span>
    });
});
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="March 23rd 2014, 4:14:43 pm">March 23rd 2014</span>
								by <span class='authorname'>Malcolm Hollingsworth</span><br>
								<a class="icon-bg icon-link" href="question/163852/animation-not-moving-image-on-iphone#answer-276864" rel="permalink">permalink</a>
							</div>

							<h5>7 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>That doesn&#39;t work for me.</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 23rd 2014, 4:26:33 pm">March 23rd 2014</span>
											by <span class='authorname'>Richard Fyffe</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I have a button on my iOS app centred on the device screen.  I named it <strong>RouletteBack</strong> for simplicity with your code.  Clicked the button (animation triggered on that button press) and the animation started by moving to the top left of the device and then scaled twice its original size.</p>
<p>You said the issue was on iOS - correct?</p>
<p>Make sure you have done a project clean;</p>
<ul>
<li>Backup your project</li>
<li>Studio &gt; Menu &gt; Project &gt; Clean &gt; Choose Project &gt; Confirm</li>
<li><strong>ONLY IF USING ALLOY</strong>, delete the contents of the resources folder (recreated each run)</li>
</ul>
</p>
										<div class="author">
											&mdash; commented <span title="March 23rd 2014, 4:33:57 pm">March 23rd 2014</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Yes it only effects iOS. I&#39;ve cleaned the project and deleted the resources folder but it still won&#39;t work. I&#39;ve tried it with other imageviews and it still won&#39;t move them.</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 23rd 2014, 4:41:16 pm">March 23rd 2014</span>
											by <span class='authorname'>Richard Fyffe</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>OK that is very weird, to test I adapted an answer from a question from earlier today.</p>
<pre><code class="hljs"><span class="hljs-tag">&lt;<span class="hljs-title">Alloy</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">TabGroup</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"nav"</span> <span class="hljs-attribute">navBarHidden</span>=<span class="hljs-value">"True"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">Tab</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"tab1"</span> <span class="hljs-attribute">title</span>=<span class="hljs-value">"Tab 1"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">Window</span> <span class="hljs-attribute">title</span>=<span class="hljs-value">"Window 1"</span> <span class="hljs-attribute">backgroundColor</span>=<span class="hljs-value">"#fff"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">TextField</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"tempo"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">TextField</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">Button</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"btn"</span> <span class="hljs-attribute">color</span>=<span class="hljs-value">"#000"</span> <span class="hljs-attribute">title</span>=<span class="hljs-value">"Press Me"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">Button</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-title">Window</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">Tab</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">TabGroup</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">Alloy</span>&gt;</span>
</code></pre><pre><code class="hljs">$.btn.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) </span>{
    <span class="hljs-keyword">var</span> zoomMatrix = Ti.UI.create2DMatrix();
    zoomMatrix = zoomMatrix.scale(<span class="hljs-number">2</span>);

    $.btn.animate({
        center: {
            x: <span class="hljs-number">10</span>,
            y: <span class="hljs-number">10</span>
        },
        duration: <span class="hljs-number">400</span>
    }, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        $.btn.animate({
            transform: zoomMatrix,
            duration: <span class="hljs-number">400</span>
        });
    });
});
$.nav.open();
</code></pre><p>If this works then it must be something with how you added the thing you are trying to animate.</p>
<p>Let me know what happens.</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 23rd 2014, 4:46:57 pm">March 23rd 2014</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Well time for more weirdness. I copied your code in and it worked. The button moved and scaled. So I change the $.btn.animate to $.RouletteBack.animate and it scale but didn&#39;t move. So I changed rouletteback to a button, but now the image is just blue.</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 23rd 2014, 4:53:56 pm">March 23rd 2014</span>
											by <span class='authorname'>Richard Fyffe</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Just checking you changed all four of the names <strong>btn&#x2F;rouletteback</strong>;</p>
<pre><code class="hljs">&lt;Button id=<span class="hljs-string">"btn"</span> color=<span class="hljs-string">"#000"</span> title=<span class="hljs-string">"Press Me"</span>&gt;&lt;/Button&gt;
// <span class="hljs-keyword">and</span> <span class="hljs-keyword">then</span>
$.btn.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(e)</span></span> {
...
    $.btn.animate({
...
    }, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span></span> {
        $.btn.animate({
...
});
</code></pre><p>Missed one?</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 23rd 2014, 5:01:23 pm">March 23rd 2014</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I meant simply changing</p>
<pre><code class="hljs">&lt;ImageView <span class="hljs-property">id</span>=<span class="hljs-string">"RouletteBack"</span>/&gt;
</code></pre><p>To</p>
<pre><code class="hljs"><span class="hljs-tag">&lt;<span class="hljs-title">Button</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"RouletteBack"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">Button</span>&gt;</span>
</code></pre><p>Results in the image breaking.</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 23rd 2014, 5:11:23 pm">March 23rd 2014</span>
											by <span class='authorname'>Richard Fyffe</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-276861">
				
						<section>
							<p>Hello Richard,</p>
<p>Thanks for raising your issues. Here I added sample code for animation. Its tested in my device and simulator with latest Ti SDK 3.2.2.GA. Please check my sample code. I hope it’s solving your problem. If you have this problem please post your code.</p>
<pre><code class="hljs">var win = Ti.UI.createWindow({
    <span class="hljs-string">backgroundColor :</span> <span class="hljs-string">'white'</span>
});

var animate = Ti.UI.createButton({
    <span class="hljs-string">title :</span> <span class="hljs-string">'animate'</span>,
    <span class="hljs-string">top :</span> <span class="hljs-number">10</span>,
});

win.add(animate);

view = Ti.UI.createImageView({
    <span class="hljs-string">backgroundColor :</span> <span class="hljs-string">'red'</span>,
    <span class="hljs-string">image :</span> <span class="hljs-string">'/images/pin.png'</span>,
    <span class="hljs-string">width :</span> <span class="hljs-number">200</span>,
    <span class="hljs-string">height :</span> <span class="hljs-number">200</span>,
    <span class="hljs-string">top :</span> <span class="hljs-number">100</span>,
    <span class="hljs-string">left :</span> <span class="hljs-number">100</span>,
});
win.add(view);

animate.addEventListener(<span class="hljs-string">'click'</span>, function(e) {

    view.animate({
        <span class="hljs-string">top :</span> <span class="hljs-number">200</span>,
        <span class="hljs-string">right :</span> <span class="hljs-number">300</span>,
        <span class="hljs-string">duration :</span> <span class="hljs-number">500</span>
    }, function() {
        view.animate({
            <span class="hljs-string">top :</span> <span class="hljs-number">100</span>,
            <span class="hljs-string">left :</span> <span class="hljs-number">10</span>,
            <span class="hljs-string">duration :</span> <span class="hljs-number">500</span>
        });
    });
});

win.open();
</code></pre><p>Thanks</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="March 23rd 2014, 3:46:37 pm">March 23rd 2014</span>
								by <span class='authorname'>Md. Mostafizur Rahman</span><br>
								<a class="icon-bg icon-link" href="question/163852/animation-not-moving-image-on-iphone#answer-276861" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>So your code works perfectly, so I subbed in:</p>
<pre><code class="hljs">        $.RouletteBack.animate({
        center:{x:WheelCenterX, y:WheelCenterY},
        duration : <span class="hljs-number">400</span>
        }, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        $.RouletteBack.animate({
            transform: zoomMatrix,
            duration : <span class="hljs-number">400</span>
            });
        });
</code></pre><p>And the zoom worked, but the movement didn&#39;t. I&#39;ve check the appcelerator docs and it says center works on iOS. (again I tried different values of x and y)</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 23rd 2014, 3:55:24 pm">March 23rd 2014</span>
											by <span class='authorname'>Richard Fyffe</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
