<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>How to Extract values from web page source code div tags... » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>How to Extract values from web page source code div tags...</h1>
		</header>
		<section>
			<p>Hello all,<br>I want to extract usefull contents from this <a href="http:&#x2F;&#x2F;appmaster.gr&#x2F;?page_id=21">webpage</a>  source code div tags.<br>The data I want to access is icons image path, application names such as Bubble Witch Saga, MyCalendar Mobile … ect and its reviews value… Please help me how to do this.</p>
<p>Thanks in advance.</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="August 2nd 2012, 9:21:49 pm">August 2nd 2012</span>
				by <span class='authorname'>Moiz Chhatriwala</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>div</span></li>
					
						<li><span class='tagname'>information</span></li>
					
						<li><span class='tagname'>retrive</span></li>
					
						<li><span class='tagname'>tags</span></li>
					
						<li><span class='tagname'>webpage</span></li>
					
				</ul>
			

			<section>
				<h5>2 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>I&#39;d write a ruby script and use the mechanize gem.  It does wonders!</p>
</div>
							<div class="author">
								&mdash; commented <span title="August 2nd 2012, 9:48:22 pm">August 2nd 2012</span>
								by <span class='authorname'>Paul Nelson</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>I haven&#39;t work in ruby and I want this to be used for iphone app development …. please help me out Paul.</p>
</div>
							<div class="author">
								&mdash; commented <span title="August 2nd 2012, 10:24:52 pm">August 2nd 2012</span>
								by <span class='authorname'>Moiz Chhatriwala</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-244355">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>Hi Moiz</p>
<p>Do you have their permission to &#39;scrape&#39; their website?</p>
<p>There are a few ways, some on a mobile and some off, but the legality of it will most likely stop you in your tracks, and if done on an iOS device will almost certainly have your app removed from the store at least and your account banned at worst.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 2nd 2012, 10:06:00 pm">August 2nd 2012</span>
								by <span class='authorname'>Malcolm Hollingsworth</span><br>
								<a class="icon-bg icon-link" href="question/140501/how-to-extract-values-from-web-page-source-code-div-tags#answer-244355" rel="permalink">permalink</a>
							</div>

							<h5>8 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Thanks for reply , please provide both of the ways of doing it and let me know how to add permission to scrape the website…</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 2nd 2012, 10:21:13 pm">August 2nd 2012</span>
											by <span class='authorname'>Moiz Chhatriwala</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Hi Malcolm,  I was thinking to get it done by getting http response and parse the script… is that good way of getting data …. and can u please help in parsing the script and also let me know other ways of doing it.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 2nd 2012, 10:34:54 pm">August 2nd 2012</span>
											by <span class='authorname'>Moiz Chhatriwala</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>In both server side scripting and on the app you will need to use regular expressions to help you parse the HTML.  You could also load the page into a webview, include a reference to jQuery and use its powerful selectors.  You would need to send messages to the webview and receive events with data back - great examples in the Kitchen Sink app.</p>
<p>I will not be able to write the solution for you - that is a lot of work, but if you have specific questions after you have gone through it yourself I am sure people will give you specific pointers.</p>
<p>You cannot &#39;add permission&#39; you will HAVE to contact the site owner, explain what you are planning and enter into an agreement with them - which may well mean some equity share if you plan to earn money from the app.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 3rd 2012, 7:41:55 am">August 3rd 2012</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I have made regular expression in following ways , but its giving null in output</p>
<p>Please check whats wrong in this </p>
<pre><code class="hljs">
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getDivContent</span><span class="hljs-params">(url,className)</span> </span>{
    <span class="hljs-keyword">var</span> client = Ti.Network.createHTTPClient();

    client.open(<span class="hljs-string">'GET'</span>, url);
    client.onload = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span></span>{
          alert(<span class="hljs-string">'&lt;div style="width: 300px;" class=\"'</span> + className + <span class="hljs-string">'"&gt;'</span>);
        <span class="hljs-comment">//get content of url in string</span>
        <span class="hljs-keyword">var</span> doc = <span class="hljs-keyword">this</span>.responseText;
        <span class="hljs-comment">//create RegEx expresison to search for div tags</span>
        <span class="hljs-keyword">var</span> pattern = <span class="hljs-keyword">new</span> RegExp(<span class="hljs-string">'&lt;div style="width: 300px;" class=\"'</span> + className + <span class="hljs-string">'"&gt;[\\s\\S]&lt;\/div&gt;'</span>);
        <span class="hljs-keyword">var</span> content = <span class="hljs-string">"&lt;head&gt;&lt;meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\" /&gt;&lt;/head&gt;&lt;body&gt;"</span> + pattern.exec(doc) + <span class="hljs-string">"&lt;/body&gt;"</span>;
       Ti.API.info(<span class="hljs-string">'Store: '</span>+ content);
       <span class="hljs-comment">//replace webview content</span>
    }
    client.send();  
}

I am calling <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-type">:

getDivContent</span><span class="hljs-params">(<span class="hljs-string">"http://appmaster.gr/?page_id=21"</span>,<span class="hljs-string">"side-item"</span>)</span></span>;
</code></pre><p>The output I am getting from content is null  in content , Please help me.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 3rd 2012, 9:04:49 am">August 3rd 2012</span>
											by <span class='authorname'>Moiz Chhatriwala</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>This are your starting points, you need to work through this yourself.</p>
<p>Your regex is looking for way to much structure and order within your match - if they change one attributes order your code fails.</p>
<pre><code class="hljs"><span class="hljs-variable">&lt;div[^&gt;</span>]<span class="hljs-keyword">*</span>&gt;(.<span class="hljs-keyword">*</span>?)<span class="hljs-variable">&lt;\/div&gt;</span>
</code></pre><p>This is a regular expression that will find ALL divs that start and end and places the internal section as a match.</p>
<p>You MUST UNDERSTAND that whilst regular expressions are very powerful a web page can very quickly trip them up as regex does NOT understand nested tags and will simply giv you the first open to the first closing tag.</p>
<p>I suggest you look for specific patterns within the html for example unicode ids or class names.</p>
<p>If this proves too difficult then you will need to go the route of jQuery.</p>
<p>You should alos make us of this <a href="http:&#x2F;&#x2F;myregexp.com&#x2F;signedJar.html">online reg tool</a> (or other).  Trying to debug in the app will be a nightmare, get it right in this editor and then add it to your app.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 3rd 2012, 9:33:31 am">August 3rd 2012</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Thanks for your support , but I implemented this via Titanium.Yahoo.yql. This is very easy way to scrap website.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 5th 2012, 9:28:51 am">August 5th 2012</span>
											by <span class='authorname'>Moiz Chhatriwala</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Hi Moiz</p>
<p>You are very welcome - glad you have an answer.  I suggest you mark the question as answered so other can see the thought process and eventual solution you chose - so they can benefit in the future.</p>
<p>Cheers</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 5th 2012, 9:33:54 am">August 5th 2012</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Okk fine. :)</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 5th 2012, 9:42:18 am">August 5th 2012</span>
											by <span class='authorname'>Moiz Chhatriwala</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
