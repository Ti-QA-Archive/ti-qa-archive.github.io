<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Mapview zoom level different on Android &amp; iPhone » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Mapview zoom level different on Android &amp; iPhone</h1>
		</header>
		<section>
			<p>I am using Titanium 1.7 on iOS 4.2 and Android 2.2.</p>
<p>On a standard mapview created with <em>{regionFit: true}</em>, I add a few annotations. I calculate the bounding box for these annotations and call <em>setLocation</em> with the corresponding <em>latitude</em>, <em>longitude</em>, <em>latitudeDelta</em> &amp; <em>longitudeDelta</em>. These calculated values are the same on both iOS and Android.</p>
<p>Despite this, I see that the zoom on iOS is one level lesser than the zoom on Android. So the zoom on Android looks just about right while on the iOS, I am zoomed out by one level.</p>
<p>Is this expected behaviour? Or am I doing something wrong? What is the recommended approach to ensure all annotations are visible within the viewport?</p>
<p>Thanks!</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="July 6th 2011, 4:20:51 pm">July 6th 2011</span>
				by <span class='authorname'>Taazza Dev</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>iphone</span></li>
					
						<li><span class='tagname'>map</span></li>
					
						<li><span class='tagname'>mobile</span></li>
					
						<li><span class='tagname'>zoom</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-213050">
				
						<section>
							<p>&quot;Zoomed out by one level&quot; - can you provide screenshots to let us know what you mean by that precisely?  Thanks…</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="July 13th 2011, 4:16:01 pm">July 13th 2011</span>
								by <span class='authorname'>Kevin Whinnery</span><br>
								<a class="icon-bg icon-link" href="../../question/122149/mapview-zoom-level-different-on-android--iphone.html#answer-213050" rel="permalink">permalink</a>
							</div>

							<h5>9 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Here are the screenshots - &lt;http:&#x2F;&#x2F;imgur.com&#x2F;a&#x2F;koGJC#iNXBZ&gt;</p>
<ol>
<li><em>Android Actual Map</em> is the actual map seen on Android</li>
<li><em>iPhone Actual Map</em> is the &quot;zoomed out by one level&quot; map as seen on iPhone</li>
<li><em>iPhone Expected Map</em> is the result of zooming in once on the <em>iPhone Actual Map</em> view. As you can see, 1 &amp; 3 look the same.</li>
</ol>
<p>The code for the mapview is the same and the calculated bounding box is the same (the same annotations). Yet the zoom level is different on iPhone&#x2F;Android. Please let me know if you need more information.</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 15th 2011, 4:30:53 pm">July 15th 2011</span>
											by <span class='authorname'>Taazza Dev</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I don&#39;t know why this would be beyond differences in the MapView implementations on Android and iOS.  I can ping the platform guys and see if they have any ideas.</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 15th 2011, 6:02:44 pm">July 15th 2011</span>
											by <span class='authorname'>Kevin Whinnery</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>just to be clear, the latitude and longitude delta values are the same on both platforms, right?  You&#39;ve confirmed that to be the case?</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 15th 2011, 6:04:29 pm">July 15th 2011</span>
											by <span class='authorname'>Kevin Whinnery</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Yes, the lat&#x2F;long&#x2F;delta values are the same.</p>
<p>I was playing around with the code over the weekend when I realized that we were setting the <em>region</em> attribute to a default region after we created the map with <em>regionFit</em> set to <em>true</em>. Then we would add annotations &amp; finally use <em>setLocation</em> to set the actual bounding box.</p>
<p>I replaced the redundant <em>region</em> assignment with the <em>setLocation</em> call &amp; also removed <em>{regionFit: true}</em> from the map constructor. After this, the zoom levels on iPhone &amp; Android are the same!</p>
<p>At this point, I don&#39;t know whether this issue was a result of something we didn&#39;t understand about MapView or whether there is an actual difference in the implementations. Thoughts?</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 18th 2011, 3:47:02 pm">July 18th 2011</span>
											by <span class='authorname'>Taazza Dev</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Difficult to say without looking at the code, but it could be that there are some API differences we either need to fix or call out in the docs.  If you can put together a sample which shows the discrepancy we can definitely get a JIRA put together for it.</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 18th 2011, 3:58:17 pm">July 18th 2011</span>
											by <span class='authorname'>Kevin Whinnery</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Same problem here, difference between iPhone and Android on 1.8.2.<br>Also strange delta behaviour, the zoom is not as expected.<br>I need to view all annotations on the map, for this I calculate the bounding box.<br>For region center and deltas I use this formula :</p>
<pre><code class="lang-~"><span class="hljs-variable"><span class="hljs-keyword">var</span> decMapBoundaryLatitude</span> = (decLatitudeMax + decLatitudeMin) / <span class="hljs-number">2</span>;
    <span class="hljs-variable"><span class="hljs-keyword">var</span> decMapBoundaryLongitude</span> = (decLongitudeMax + decLongitudeMin) / <span class="hljs-number">2</span>;
    <span class="hljs-variable"><span class="hljs-keyword">var</span> decMapBoundaryLatitudeDelta</span> = (decLatitudeMax - decLatitudeMin);
    <span class="hljs-variable"><span class="hljs-keyword">var</span> decMapBoundaryLongitudeDelta</span> = (decLongitudeMax - decLongitudeMin);
</code></pre>
</p>
										<div class="author">
											&mdash; commented <span title="March 12th 2012, 10:55:11 am">March 12th 2012</span>
											by <span class='authorname'>Armindo Da Silva</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>houps bad formatting.</p>
<pre><code class="hljs"><span class="hljs-variable"><span class="hljs-keyword">var</span> decMapBoundaryLatitude</span> = (decLatitudeMax + decLatitudeMin) / <span class="hljs-number">2</span>; <span class="hljs-variable"><span class="hljs-keyword">var</span> decMapBoundaryLongitude</span> = (decLongitudeMax + decLongitudeMin) / <span class="hljs-number">2</span>; <span class="hljs-variable"><span class="hljs-keyword">var</span> decMapBoundaryLatitudeDelta</span> = (decLatitudeMax - decLatitudeMin); <span class="hljs-variable"><span class="hljs-keyword">var</span> decMapBoundaryLongitudeDelta</span> = (decLongitudeMax - decLongitudeMin);
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="March 12th 2012, 10:56:04 am">March 12th 2012</span>
											by <span class='authorname'>Armindo Da Silva</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I am also having the exact same problem using Titanium SDK 1.8.2. My coordinates and deltas are identical on Android and iPhone but the iPhone version is much more zoomed out.</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 31st 2012, 9:02:17 pm">March 31st 2012</span>
											by <span class='authorname'>David Riggleman</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I&#39;m having the exact same problem here with Titanium SDK 1.8.2 too!</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 1st 2012, 9:21:49 pm">April 1st 2012</span>
											by <span class='authorname'>Stéphane Lacasse</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
