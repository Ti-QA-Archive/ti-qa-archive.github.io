<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Android version of my app crashes when opening a window » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Android version of my app crashes when opening a window</h1>
		</header>
		<section>
			<p>I have an app that was made for iOS in titanium that pulls in a (sometimes large) json string and parses that into rows in a tableview. On iOS the app never had any problems handling large json strings and it never crashed.</p>
<p>Recently I&#39;ve been doing the work to make the same app work for Android devices. For the most part that just entailed moving around some of the UI and changing how push notifications work. But now for some reason the app will crash when loading particularly long json strings (which was never a problem for the iOS version). When it doesn&#39;t crash from loading, it&#39;ll crash when I tap on a row to open a window (which again, itsn&#39;t ever a problem in the ios version).</p>
<p>When I try loading smaller json strings of the same information, the app will be slow, but it wont crash.</p>
<p>Is there something specific for Android titanium apps I should be doing to handle memory problems like this?</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="September 4th 2014, 2:35:51 pm">September 4th 2014</span>
				by <span class='authorname'>Brendan Young</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>crash</span></li>
					
						<li><span class='tagname'>json</span></li>
					
				</ul>
			

			<section>
				<h5>5 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Here is the &quot;error messages&quot; I get when it crashes.</p>
<p>Crashing from loading:</p>
<pre><code class="hljs"><span class="hljs-list">[<span class="hljs-keyword">INFO</span>] :   dalvikvm: threadid=3: reacting to signal <span class="hljs-number">3</span>
<span class="hljs-list">[<span class="hljs-keyword">INFO</span>] :   dalvikvm: Wrote stack traces to <span class="hljs-variable">'/data/anr/traces.txt</span>'
<span class="hljs-list">[<span class="hljs-keyword">ERROR</span>] :  dalvikvm: JNI ERROR <span class="hljs-list">(<span class="hljs-keyword">app</span> bug)</span>: local reference table overflow <span class="hljs-list">(<span class="hljs-keyword">max=512</span>)</span>
<span class="hljs-list">[<span class="hljs-keyword">WARN</span>] :   dalvikvm: JNI local reference table <span class="hljs-list">(<span class="hljs-keyword">0x2a2e8bc8</span>)</span> dump:
<span class="hljs-list">[<span class="hljs-keyword">WARN</span>] :   dalvikvm:   Last <span class="hljs-number">10</span> entries <span class="hljs-list">(<span class="hljs-keyword">of</span> <span class="hljs-number">512</span>)</span>:
<span class="hljs-list">[<span class="hljs-keyword">WARN</span>] :   dalvikvm:       <span class="hljs-number">511</span>: <span class="hljs-number">0</span>x412b4598 java.lang.String <span class="hljs-string">"keepScreenOn"</span>
<span class="hljs-list">[<span class="hljs-keyword">WARN</span>] :   dalvikvm:       <span class="hljs-number">510</span>: <span class="hljs-number">0</span>x416413d8 org.appcelerator.kroll.runtime.v8.V8Object
<span class="hljs-list">[<span class="hljs-keyword">WARN</span>] :   dalvikvm:       <span class="hljs-number">509</span>: <span class="hljs-number">0</span>x41642110 ti.modules.titanium.ui.ViewProxy
<span class="hljs-list">[<span class="hljs-keyword">WARN</span>] :   dalvikvm:       <span class="hljs-number">508</span>: <span class="hljs-number">0</span>x4163fee0 ti.modules.titanium.ui.ImageViewProxy
<span class="hljs-list">[<span class="hljs-keyword">WARN</span>] :   dalvikvm:       <span class="hljs-number">507</span>: <span class="hljs-number">0</span>x4163eec8 ti.modules.titanium.ui.ImageViewProxy
<span class="hljs-list">[<span class="hljs-keyword">WARN</span>] :   dalvikvm:       <span class="hljs-number">506</span>: <span class="hljs-number">0</span>x4163df48 ti.modules.titanium.ui.LabelProxy
<span class="hljs-list">[<span class="hljs-keyword">WARN</span>] :   dalvikvm:       <span class="hljs-number">505</span>: <span class="hljs-number">0</span>x4163cb50 ti.modules.titanium.ui.LabelProxy
<span class="hljs-list">[<span class="hljs-keyword">ERROR</span>] :  dalvikvm: Failed adding to JNI local ref table <span class="hljs-list">(<span class="hljs-keyword">has</span> <span class="hljs-number">512</span> entries)</span>
<span class="hljs-list">[<span class="hljs-keyword">ERROR</span>] :  dalvikvm: VM aborting
<span class="hljs-list">[<span class="hljs-keyword">WARN</span>] :   dalvikvm:       <span class="hljs-number">504</span>: <span class="hljs-number">0</span>x4163a888 ti.modules.titanium.ui.ViewProxy
<span class="hljs-list">[<span class="hljs-keyword">WARN</span>] :   dalvikvm:       <span class="hljs-number">503</span>: <span class="hljs-number">0</span>x41638650 ti.modules.titanium.ui.ImageViewProxy
<span class="hljs-list">[<span class="hljs-keyword">WARN</span>] :   dalvikvm:       <span class="hljs-number">502</span>: <span class="hljs-number">0</span>x41637638 ti.modules.titanium.ui.ImageViewProxy
<span class="hljs-list">[<span class="hljs-keyword">WARN</span>] :   dalvikvm:   Summary:
<span class="hljs-list">[<span class="hljs-keyword">WARN</span>] :   dalvikvm:         <span class="hljs-number">1</span> of java.lang.Class
<span class="hljs-list">[<span class="hljs-keyword">WARN</span>] :   dalvikvm:         <span class="hljs-number">1</span> of java.lang.Object<span class="hljs-list">[] <span class="hljs-list">(<span class="hljs-keyword">1</span> elements)</span>
<span class="hljs-list">[<span class="hljs-keyword">WARN</span>] :   dalvikvm:         <span class="hljs-number">2</span> of java.lang.String <span class="hljs-list">(<span class="hljs-keyword">2</span> unique instances)</span>
<span class="hljs-list">[<span class="hljs-keyword">WARN</span>] :   dalvikvm:         <span class="hljs-number">1</span> of org.appcelerator.kroll.runtime.v8.V8Object
<span class="hljs-list">[<span class="hljs-keyword">WARN</span>] :   dalvikvm:         <span class="hljs-number">1</span> of ti.modules.titanium.network.HTTPClientProxy
<span class="hljs-list">[<span class="hljs-keyword">WARN</span>] :   dalvikvm:        <span class="hljs-number">41</span> of ti.modules.titanium.ui.ViewProxy <span class="hljs-list">(<span class="hljs-keyword">41</span> unique instances)</span>
<span class="hljs-list">[<span class="hljs-keyword">WARN</span>] :   dalvikvm:        <span class="hljs-number">80</span> of ti.modules.titanium.ui.LabelProxy <span class="hljs-list">(<span class="hljs-keyword">80</span> unique instances)</span>
<span class="hljs-list">[<span class="hljs-keyword">WARN</span>] :   dalvikvm:       <span class="hljs-number">304</span> of ti.modules.titanium.ui.TableViewRowProxy <span class="hljs-list">(<span class="hljs-keyword">303</span> unique instances)</span>
<span class="hljs-list">[<span class="hljs-keyword">WARN</span>] :   dalvikvm:        <span class="hljs-number">80</span> of ti.modules.titanium.ui.ImageViewProxy <span class="hljs-list">(<span class="hljs-keyword">80</span> unique instances)</span>
<span class="hljs-list">[<span class="hljs-keyword">INFO</span>] :   dalvikvm: <span class="hljs-string">"KrollRuntimeThread"</span> prio=5 tid=11 RUNNABLE
<span class="hljs-list">[<span class="hljs-keyword">INFO</span>] :   dalvikvm:   | group=<span class="hljs-string">"main"</span> sCount=0 dsCount=0 obj=0x41310c10 self=0x2a1331d0
<span class="hljs-list">[<span class="hljs-keyword">INFO</span>] :   dalvikvm:   | sysTid=1423 nice=0 sched=0/0 cgrp=apps handle=705615688
<span class="hljs-list">[<span class="hljs-keyword">INFO</span>] :   dalvikvm:   | schedstat=<span class="hljs-list">( <span class="hljs-number">19291217916</span> <span class="hljs-number">23665192378</span> <span class="hljs-number">7472</span> )</span> utm=1842 stm=87 core=0
<span class="hljs-list">[<span class="hljs-keyword">INFO</span>] :   dalvikvm:   at org.appcelerator.kroll.runtime.v8.V8Object.nativeSetProperty<span class="hljs-list">(<span class="hljs-keyword">Native</span> Method)</span>
<span class="hljs-list">[<span class="hljs-keyword">INFO</span>] :   dalvikvm:   at org.appcelerator.kroll.runtime.v8.V8Object.setProperty<span class="hljs-list">(<span class="hljs-keyword">V8Object.java:49</span>)</span>
<span class="hljs-list">[<span class="hljs-keyword">INFO</span>] :   dalvikvm:   at org.appcelerator.kroll.KrollProxy.doSetProperty<span class="hljs-list">(<span class="hljs-keyword">KrollProxy.java:694</span>)</span>
<span class="hljs-list">[<span class="hljs-keyword">INFO</span>] :   dalvikvm:   at org.appcelerator.kroll.KrollProxy.setProperty<span class="hljs-list">(<span class="hljs-keyword">KrollProxy.java:577</span>)</span>
<span class="hljs-list">[<span class="hljs-keyword">INFO</span>] :   dalvikvm:   at org.appcelerator.titanium.proxy.TiViewProxy.getKeepScreenOn<span class="hljs-list">(<span class="hljs-keyword">TiViewProxy.java:1072</span>)</span>
<span class="hljs-list">[<span class="hljs-keyword">INFO</span>] :   dalvikvm:   at org.appcelerator.kroll.runtime.v8.V8Object.nativeCallProperty<span class="hljs-list">(<span class="hljs-keyword">Native</span> Method)</span>
<span class="hljs-list">[<span class="hljs-keyword">INFO</span>] :   dalvikvm:   at org.appcelerator.kroll.runtime.v8.V8Object.callProperty<span class="hljs-list">(<span class="hljs-keyword">V8Object.java:69</span>)</span>
<span class="hljs-list">[<span class="hljs-keyword">INFO</span>] :   dalvikvm:   at org.appcelerator.kroll.KrollProxy.handleMessage<span class="hljs-list">(<span class="hljs-keyword">KrollProxy.java:1121</span>)</span>
<span class="hljs-list">[<span class="hljs-keyword">INFO</span>] :   dalvikvm:   at android.os.Handler.dispatchMessage<span class="hljs-list">(<span class="hljs-keyword">Handler.java:95</span>)</span>
<span class="hljs-list">[<span class="hljs-keyword">INFO</span>] :   dalvikvm:   at android.os.Looper.loop<span class="hljs-list">(<span class="hljs-keyword">Looper.java:137</span>)</span>
<span class="hljs-list">[<span class="hljs-keyword">INFO</span>] :   dalvikvm:   at org.appcelerator.kroll.KrollRuntime$KrollRuntimeThread.run<span class="hljs-list">(<span class="hljs-keyword">KrollRuntime.java:112</span>)</span>
<span class="hljs-list">[<span class="hljs-keyword">INFO</span>] :   dalvikvm:
<span class="hljs-list">[<span class="hljs-keyword">INFO</span>] :   libc: Fatal signal <span class="hljs-number">11</span> <span class="hljs-list">(<span class="hljs-keyword">SIGSEGV</span>)</span> at <span class="hljs-number">0</span>xdeadd00d <span class="hljs-list">(<span class="hljs-keyword">code=1</span>)</span>, thread <span class="hljs-number">1423</span> <span class="hljs-list">(<span class="hljs-keyword">KrollRuntimeThr</span>)</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span>
</code></pre><p>Crashing from opening a window:</p>
<pre><code class="hljs"><span class="hljs-list">[<span class="hljs-keyword">WARN</span>] :   dalvikvm: threadid=1: thread exiting with uncaught exception <span class="hljs-list">(<span class="hljs-keyword">group=0x40a13300</span>)</span>
<span class="hljs-list">[<span class="hljs-keyword">ERROR</span>] :  TiApplication: <span class="hljs-list">(<span class="hljs-keyword">main</span>)</span> <span class="hljs-list">[<span class="hljs-keyword">10983</span>,<span class="hljs-number">20926</span>] Sending event: exception on thread: main msg:java.lang.NullPointerException<span class="hljs-comment">; Titanium 3.3.0,2014/07/11 12:36,787cd39</span>
<span class="hljs-list">[<span class="hljs-keyword">ERROR</span>] :  TiApplication: java.lang.NullPointerException
<span class="hljs-list">[<span class="hljs-keyword">ERROR</span>] :  TiApplication:     at org.appcelerator.titanium.util.TiConvert.toBoolean<span class="hljs-list">(<span class="hljs-keyword">TiConvert.java:370</span>)</span>
<span class="hljs-list">[<span class="hljs-keyword">ERROR</span>] :  TiApplication:     at ti.modules.titanium.ui.WindowProxy.handleOpen<span class="hljs-list">(<span class="hljs-keyword">WindowProxy.java:135</span>)</span>
<span class="hljs-list">[<span class="hljs-keyword">ERROR</span>] :  TiApplication:     at org.appcelerator.titanium.proxy.TiWindowProxy.handleMessage<span class="hljs-list">(<span class="hljs-keyword">TiWindowProxy.java:88</span>)</span>
<span class="hljs-list">[<span class="hljs-keyword">ERROR</span>] :  TiApplication:     at ti.modules.titanium.ui.WindowProxy.handleMessage<span class="hljs-list">(<span class="hljs-keyword">WindowProxy.java:399</span>)</span>
<span class="hljs-list">[<span class="hljs-keyword">ERROR</span>] :  TiApplication:     at android.os.Handler.dispatchMessage<span class="hljs-list">(<span class="hljs-keyword">Handler.java:95</span>)</span>
<span class="hljs-list">[<span class="hljs-keyword">ERROR</span>] :  TiApplication:     at android.os.Looper.loop<span class="hljs-list">(<span class="hljs-keyword">Looper.java:137</span>)</span>
<span class="hljs-list">[<span class="hljs-keyword">ERROR</span>] :  TiApplication:     at android.app.ActivityThread.main<span class="hljs-list">(<span class="hljs-keyword">ActivityThread.java:4745</span>)</span>
<span class="hljs-list">[<span class="hljs-keyword">ERROR</span>] :  TiApplication:     at java.lang.reflect.Method.invokeNative<span class="hljs-list">(<span class="hljs-keyword">Native</span> Method)</span>
<span class="hljs-list">[<span class="hljs-keyword">ERROR</span>] :  TiApplication:     at java.lang.reflect.Method.invoke<span class="hljs-list">(<span class="hljs-keyword">Method.java:511</span>)</span>
<span class="hljs-list">[<span class="hljs-keyword">ERROR</span>] :  TiApplication:     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run<span class="hljs-list">(<span class="hljs-keyword">ZygoteInit.java:786</span>)</span>
<span class="hljs-list">[<span class="hljs-keyword">ERROR</span>] :  TiApplication:     at com.android.internal.os.ZygoteInit.main<span class="hljs-list">(<span class="hljs-keyword">ZygoteInit.java:553</span>)</span>
<span class="hljs-list">[<span class="hljs-keyword">ERROR</span>] :  TiApplication:     at dalvik.system.NativeStart.main<span class="hljs-list">(<span class="hljs-keyword">Native</span> Method)</span>
<span class="hljs-list">[<span class="hljs-keyword">ERROR</span>] :  AndroidRuntime: FATAL EXCEPTION: main
<span class="hljs-list">[<span class="hljs-keyword">ERROR</span>] :  AndroidRuntime: java.lang.NullPointerException
<span class="hljs-list">[<span class="hljs-keyword">ERROR</span>] :  AndroidRuntime:     at org.appcelerator.titanium.util.TiConvert.toBoolean<span class="hljs-list">(<span class="hljs-keyword">TiConvert.java:370</span>)</span>
<span class="hljs-list">[<span class="hljs-keyword">ERROR</span>] :  AndroidRuntime:     at ti.modules.titanium.ui.WindowProxy.handleOpen<span class="hljs-list">(<span class="hljs-keyword">WindowProxy.java:135</span>)</span>
<span class="hljs-list">[<span class="hljs-keyword">ERROR</span>] :  AndroidRuntime:     at org.appcelerator.titanium.proxy.TiWindowProxy.handleMessage<span class="hljs-list">(<span class="hljs-keyword">TiWindowProxy.java:88</span>)</span>
<span class="hljs-list">[<span class="hljs-keyword">ERROR</span>] :  AndroidRuntime:     at ti.modules.titanium.ui.WindowProxy.handleMessage<span class="hljs-list">(<span class="hljs-keyword">WindowProxy.java:399</span>)</span>
<span class="hljs-list">[<span class="hljs-keyword">ERROR</span>] :  AndroidRuntime:     at android.os.Handler.dispatchMessage<span class="hljs-list">(<span class="hljs-keyword">Handler.java:95</span>)</span>
<span class="hljs-list">[<span class="hljs-keyword">ERROR</span>] :  AndroidRuntime:     at android.os.Looper.loop<span class="hljs-list">(<span class="hljs-keyword">Looper.java:137</span>)</span>
<span class="hljs-list">[<span class="hljs-keyword">ERROR</span>] :  AndroidRuntime:     at android.app.ActivityThread.main<span class="hljs-list">(<span class="hljs-keyword">ActivityThread.java:4745</span>)</span>
<span class="hljs-list">[<span class="hljs-keyword">ERROR</span>] :  AndroidRuntime:     at java.lang.reflect.Method.invokeNative<span class="hljs-list">(<span class="hljs-keyword">Native</span> Method)</span>
<span class="hljs-list">[<span class="hljs-keyword">ERROR</span>] :  AndroidRuntime:     at java.lang.reflect.Method.invoke<span class="hljs-list">(<span class="hljs-keyword">Method.java:511</span>)</span>
<span class="hljs-list">[<span class="hljs-keyword">ERROR</span>] :  AndroidRuntime:     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run<span class="hljs-list">(<span class="hljs-keyword">ZygoteInit.java:786</span>)</span>
<span class="hljs-list">[<span class="hljs-keyword">ERROR</span>] :  AndroidRuntime:     at com.android.internal.os.ZygoteInit.main<span class="hljs-list">(<span class="hljs-keyword">ZygoteInit.java:553</span>)</span>
<span class="hljs-list">[<span class="hljs-keyword">ERROR</span>] :  AndroidRuntime:     at dalvik.system.NativeStart.main<span class="hljs-list">(<span class="hljs-keyword">Native</span> Method)</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span>
</code></pre></div>
							<div class="author">
								&mdash; commented <span title="September 4th 2014, 2:45:32 pm">September 4th 2014</span>
								by <span class='authorname'>Brendan Young</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Create the smallest use case that demonstrates the problem in Android and post it</p>
</div>
							<div class="author">
								&mdash; commented <span title="September 4th 2014, 3:04:43 pm">September 4th 2014</span>
								by <span class='authorname'>Nick Milner</span>
							</div>
						</li>
					
						<li class="comment">
							<div><pre><code class="hljs"><span class="hljs-attr_selector">[ERROR]</span> :  <span class="hljs-tag">TiApplication</span>:   <span class="hljs-tag">at</span> <span class="hljs-tag">org</span><span class="hljs-class">.appcelerator</span><span class="hljs-class">.titanium</span><span class="hljs-class">.util</span><span class="hljs-class">.TiConvert</span><span class="hljs-class">.toBoolean</span>(<span class="hljs-tag">TiConvert</span><span class="hljs-class">.java</span><span class="hljs-pseudo">:370)</span>
</code></pre><p>I had once a similar problem when using a switch with a integer value instead of boolean. Works on iOS but not on Android. You should check your tableview content.</p>
</div>
							<div class="author">
								&mdash; commented <span title="September 5th 2014, 6:13:24 am">September 5th 2014</span>
								by <span class='authorname'>Danny Pham</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Show us lines of code that can reproduce the problem would be helpful…</p>
</div>
							<div class="author">
								&mdash; commented <span title="September 8th 2014, 3:49:46 am">September 8th 2014</span>
								by <span class='authorname'>Jiale He</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Hello, Brendan young, Thais is not the proper way to ask for solution of a problem that we can&#39;t reproduce. Provide us a Code sample for android which reproduce the above error in android.</p>
<p>Thank you.</p>
</div>
							<div class="author">
								&mdash; commented <span title="September 8th 2014, 4:09:46 am">September 8th 2014</span>
								by <span class='authorname'>Amimul Hossain</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>0</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>0 Answers</h3>

	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
