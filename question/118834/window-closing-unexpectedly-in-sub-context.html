<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Window closing unexpectedly in sub-context » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Window closing unexpectedly in sub-context</h1>
		</header>
		<section>
			<p>I&#39;d greatly appreciate your expert guidance on what I&#39;m doing wrong here. My intention is that the winMain is closed when the sub-context newstuff.js is started. What happens is that the window in newstuff.js closes shortly after it is invoked and winMain reappears. This happens whether the winMain.close statement is before or after the createWindow statement that starts newstuff.js.</p>
<p>I&#39;m puzzled…but I expect there&#39;s a simple fix! </p>
<p>app.js</p>
<pre><code class="hljs">
<span class="hljs-keyword">var</span> winMain = Titanium.UI.createWindow();
winMain.open();

<span class="hljs-comment">// do stuff //</span>

<span class="hljs-keyword">var</span> button = Titanium.UI.createButton({
    title: <span class="hljs-string">'Click me'</span>
        });
    button.addEventListener(<span class="hljs-string">'click'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span>
    </span>{
        <span class="hljs-keyword">var</span> winNew = Titanium.UI.createWindow({url:<span class="hljs-string">'newstuff.js'</span>});
        winNew.open();
        winMain.close();
        });
winMain.add(button);
</code></pre><p>newstuff.js</p>
<pre><code class="hljs"><span class="hljs-variable"><span class="hljs-keyword">var</span> winNew</span> = Ti.UI.currentWindow;

<span class="hljs-comment">// do more stuff //</span>
</code></pre><p>(SDK 4.2 TI SDK 1.6.1)</p>
<p>Thanks for any help.</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="April 21st 2011, 6:12:56 pm">April 21st 2011</span>
				by <span class='authorname'>Adrian Hampshire</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>mobile</span></li>
					
						<li><span class='tagname'>sub-context</span></li>
					
						<li><span class='tagname'>window</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-206662">
				
						<section>
							<p>Adrian, it seem that you have an error in your newstuff.js.  </p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="April 21st 2011, 6:30:33 pm">April 21st 2011</span>
								by <span class='authorname'>Luc Martin</span><br>
								<a class="icon-bg icon-link" href="../../question/118834/window-closing-unexpectedly-in-sub-context.html#answer-206662" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Luc, can you expand on this answer? If I remove the first line of newstuff.js and run it as a standalone module, it runs just fine suggesting the it&#39;s OK itself.</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 22nd 2011, 4:51:35 am">April 22nd 2011</span>
											by <span class='authorname'>Adrian Hampshire</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
