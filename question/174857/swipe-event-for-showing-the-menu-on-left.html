<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Swipe event for showing the menu on left Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Swipe event for showing the menu on left</h1>
		</header>
		<section>
			<p>Hi All,<br> I have a window with menu view on left side and showing ListView after clicked one of the menu options. I am coding for showing the Left menu at the time of Swipe left and&#x2F;or Right. This is working fine on iOS. But Android having the issue. When i Scroll the ListView page to see more items. the Swipe event is firing and showing the Left Menu option.</p>
<p>I have restricted the Swipe direction of up and down. But it&#39;s showing the Left menu when i scroll the list view page. ( PS: I am Scrolling the page by Thumb finger from bottom to up&#x2F;right)..</p>
<pre><code class="hljs">mainView.addEventListener(<span class="hljs-string">'swipe'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span></span>{
        <span class="hljs-keyword">if</span>((e.direction!==<span class="hljs-string">'up'</span>)&amp;&amp;(e.direction!==<span class="hljs-string">'down'</span>))
        {                 
        <span class="hljs-keyword">if</span>((e.direction === <span class="hljs-string">'right'</span> &amp;&amp; menuIsOpen === <span class="hljs-literal">false</span>) || (e.direction === <span class="hljs-string">'left'</span> &amp;&amp; menuIsOpen === <span class="hljs-literal">true</span>)){
            Ti.API.info(<span class="hljs-string">" x: "</span>+e.x+<span class="hljs-string">" y: "</span>+e.y+<span class="hljs-string">" Direction: "</span>+e.direction);
             mainView.showMenu();        
            }    
        }                    
    });
</code></pre><p>Please suggest me if you have any solutions.<br>1.Application Type : mobile, 2.Titanium SDK: 3.2.3.GA, 3.Platform : iOS,Android, 4.Device : iOS simulator, Android emulator and physical device, 5.Host Operating System: OS X 10.9.2, 6.Titanium Studio: build: 3.2.3.201404181442</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="June 4th 2014, 11:01:37 am">June 4th 2014</span>
				by <span class='authorname'>Silambarasan Raman</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>appcelerator</span></li>
					
						<li><span class='tagname'>menu</span></li>
					
						<li><span class='tagname'>swipe</span></li>
					
						<li><span class='tagname'>titanium</span></li>
					
				</ul>
			

			<section>
				<h5>2 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Do you only want to show and hide the Left Menu based on a left or right swipe relative to whether the menu is open or not?</p>
<p>Sorry just trying to gain a little more clarity.</p>
</div>
							<div class="author">
								&mdash; commented <span title="June 4th 2014, 7:14:05 pm">June 4th 2014</span>
								by <span class='authorname'>Luke Taylor</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Yes, Luke,</p>
<p> I just want to left and right swipe for show and hide the Left side Menu View based on the menu is open or not.</p>
<p>Thanks for your help.</p>
</div>
							<div class="author">
								&mdash; commented <span title="June 5th 2014, 4:16:05 am">June 5th 2014</span>
								by <span class='authorname'>Silambarasan Raman</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>-1</span> Votes</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-279449">
				
						<section>
							<p>Regardless of your posted problem, if you only care about left and right, why bother with vertical swipes at all? And why nest right&#x2F;left inside of the negated up&#x2F;down? Weird.</p>
<p>You are performing 2 if statements when you don&#39;t need to. Thats just poor programming.</p>
<p>Next, I (as would most users) would expect a swipe against a list row (or, in this case, a list of rows) to perform an action specific (delete, archive, etc) to that row.  It is unexpected that a swipe against a vertically scrolling list would open a large app level menu.</p>
<p>Now, android !== ios, so I rarely expect the same behavior out of them.</p>
<p>To take the above into account, bubbleParent: false on the list view, or use a full drawer system such as napp drawer and don&#39;t use something you hobbled together on your own.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="June 4th 2014, 10:48:24 pm">June 4th 2014</span>
								by <span class='authorname'>Stephen Feather</span><br>
								<a class="icon-bg icon-link" href="question/174857/swipe-event-for-showing-the-menu-on-left.html#answer-279449" rel="permalink">permalink</a>
							</div>

							<h5>2 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Hi Stephen,</p>
<p> Thanks for your comment. and i agree with you, there is no use of 2 if conditions. I just added</p>
<pre><code class="hljs">if<span class="hljs-list">(<span class="hljs-list">(<span class="hljs-keyword">e</span>.direction!==<span class="hljs-quoted">'up</span>')</span><span class="hljs-keyword">&amp;&amp;</span><span class="hljs-list">(<span class="hljs-keyword">e</span>.direction!==<span class="hljs-quoted">'down</span>')</span>)</span>
</code></pre><p>this case for testing by fetching x and y co ordinates. i thought by using that x &amp; y values we could restrict the Menu view show and hide.</p>
<p>Also, From your comment, bubbleParent : false won&#39;t work anymore. Because that won&#39;t bubble the event to Window Right.? So how the Swipe over the View or ListView bubble that swipe event to its Parent.</p>
<p>And you are correct. android !==  ios, Also i am in a Releasing stage of my app into store&#39;s. So i can&#39;t change the Structure by implementing new modules for this. Please let me know if you have any other idea&#39;s. Your comments and suggestions are always welcome.</p>
</p>
										<div class="author">
											&mdash; commented <span title="June 5th 2014, 4:39:18 am">June 5th 2014</span>
											by <span class='authorname'>Silambarasan Raman</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Also i have removed that fetching x and y co ordinates out of the up and down case.. Sorry i forget to remove that code.</p>
</p>
										<div class="author">
											&mdash; commented <span title="June 5th 2014, 5:26:34 am">June 5th 2014</span>
											by <span class='authorname'>Silambarasan Raman</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-279477">
				
						<section>
							<p>Hi</p>
<p>So as @Stephen Feather says you have unnecessary code. I imagine you are trying to create a menu show&#x2F;hide similar to that of Youtube app or LinkedIn app.</p>
<p>As such I would clean up your code like so:</p>
<pre><code class="hljs">mainView.addEventListener(<span class="hljs-string">'swipe'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(e)</span> </span>{               
    <span class="hljs-keyword">if</span> (e.direction === <span class="hljs-string">'left'</span> || e.direction === <span class="hljs-string">'right'</span>) {
        mainView.showMenu();   
    }                   
});
</code></pre><p>I removed your boolean because it doesn&#39;t add anything to the process, as you simply call your function &#39;showMenu&#39; based on a left or right swipe. It&#39;s the function itself that would determine whether the menu is open or not from the boolean.</p>
<p>My next thought is, have you tried attaching your function to a button click to make sure that everything is happening the way you would expect it to?</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="June 5th 2014, 6:34:10 am">June 5th 2014</span>
								by <span class='authorname'>Luke Taylor</span><br>
								<a class="icon-bg icon-link" href="question/174857/swipe-event-for-showing-the-menu-on-left.html#answer-279477" rel="permalink">permalink</a>
							</div>

							<h5>5 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Hi Luke,<br>Yes, Exactly i want the Linked in app Swipe.  Swipe to left&#x2F; right is working fine to show and hide the Menu&#39;s. But the problem is with Scrolling the Details View from top to bottom(it&#39;s Showing the Menu View - This is because swipe to right is firing at that scrolling on Detail View-)</p>
<p>Eg: The user usually won&#39;t scroll the page from bottom to top as a straight vertical line  instead  the user use to scroll from bottom to top with slightly move the finger towards Right side at this  scenario i am facing this issue. </p>
<p>Hope you get my issue correctly.</p>
</p>
										<div class="author">
											&mdash; commented <span title="June 5th 2014, 7:53:20 am">June 5th 2014</span>
											by <span class='authorname'>Silambarasan Raman</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Ok, so as well as the direction of the swipe, you will need to grab the x value. So you can work out a tolerance before firing your &#39;showMenu()&#39; function.</p>
<p>Not tested it but I imagine something along the lines of this should do the trick:</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> posX = <span class="hljs-number">0</span>,
    tolerance = <span class="hljs-number">150</span>,
    boolDirection = <span class="hljs-literal">false</span>;

mainView.addEventListener(<span class="hljs-string">'swipe'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) </span>{               
    <span class="hljs-keyword">if</span> (e.direction === <span class="hljs-string">'left'</span> || e.direction === <span class="hljs-string">'right'</span>) {
        posX = e.x;
        boolDirection = <span class="hljs-literal">true</span>;
    }                   
});

mainView.addEventListener(<span class="hljs-string">'touchend'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) </span>{
    <span class="hljs-keyword">if</span> (boolDirection) {
        <span class="hljs-keyword">if</span> (<span class="hljs-built_in">Math</span>.abs(posX - e.x) &gt;= tolerance) {
            mainView.showMenu();
            boolDirection = <span class="hljs-literal">false</span>;
        }
    }
});
</code></pre><p>Hope this helps!</p>
</p>
										<div class="author">
											&mdash; commented <span title="June 5th 2014, 9:15:11 am">June 5th 2014</span>
											by <span class='authorname'>Luke Taylor</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Hi Luke,<br>I assume Really you can help me for this issue. Because your above code&#x2F;logic is nearly worked fine for the View(Search page) page. But its not working on the ListView page(Shop page). Because <strong>touchend</strong> event not firing on the ListView page.</p>
<p>Hirarchy of that page is,</p>
<pre><code class="hljs"><span class="hljs-tag">Window</span>
<span class="hljs-tag">mainView</span><span class="hljs-class">.add</span>(<span class="hljs-tag">Window</span>);
<span class="hljs-tag">ShopView</span><span class="hljs-class">.add</span>(<span class="hljs-tag">mainView</span>);
<span class="hljs-tag">ListView</span><span class="hljs-class">.add</span>(<span class="hljs-tag">ShopView</span>);
</code></pre><p>I tried by calling the above code for both Window and mainView</p>
</p>
										<div class="author">
											&mdash; commented <span title="June 5th 2014, 10:59:12 am">June 5th 2014</span>
											by <span class='authorname'>Silambarasan Raman</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Hi</p>
<p>Reading through your hierarchy, and I think you wrote it out backwards, but I understand what you are saying.</p>
<p>I&#39;m thinking that the swipe gesture to open&#x2F;close the menu needs to be applied to the Window or parent view of the ListView, so that it can bubble up and you can listen out for the event there.</p>
<p>Without testing myself, I can&#39;t determine what is preventing the events from firing though. I might be able to test this later, to help you out further.</p>
</p>
										<div class="author">
											&mdash; commented <span title="June 6th 2014, 7:26:43 am">June 6th 2014</span>
											by <span class='authorname'>Luke Taylor</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Hi Luke,</p>
<p> Thanks, I have called the swipe gesture event on the window and parentview of Listview respectively. </p>
<pre><code class="hljs"><span class="hljs-type">Window</span>.addEventListener('swipe',function(e)<span class="hljs-decorator">{..}</span>);
</code></pre><p>and</p>
<pre><code class="hljs">mainView.addEventListener('swipe',function(e)<span class="hljs-decorator">{..}</span>);
</code></pre><p>also on the </p>
<pre><code class="hljs"><span class="hljs-type">ShopView</span>.addEventListener('swipe',function(e)<span class="hljs-decorator">{..}</span>);
</code></pre><p>All are producing same issue. Please help me after test it from your end.</p>
</p>
										<div class="author">
											&mdash; commented <span title="June 6th 2014, 11:15:14 am">June 6th 2014</span>
											by <span class='authorname'>Silambarasan Raman</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
