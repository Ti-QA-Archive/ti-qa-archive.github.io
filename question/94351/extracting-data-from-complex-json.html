<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>extracting data from complex json Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>extracting data from complex json</h1>
		</header>
		<section>
			<p>I&#39;ve noticed that most of the examples that show json data show very simple json.</p>
<p>I&#39;m trying to pull content from a more complex nested json file and can&#39;t seem to do it. Can anyone look at my example and point out where I am going wrong?</p>
<p>http:&#x2F;&#x2F;pastie.org&#x2F;1410313</p>
<p>Thanks.</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="December 28th 2010, 3:06:13 am">December 28th 2010</span>
				by <span class='authorname'>Forrest Frazier</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>json</span></li>
					
						<li><span class='tagname'>nested</span></li>
					
						<li><span class='tagname'>webview</span></li>
					
				</ul>
			

			<section>
				<h5>1 Comment</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>I was thinking that in this json example that returns one result</p>
<pre><code class="hljs"><span class="hljs-variable"><span class="hljs-keyword">var</span> sampleJSON</span> = '[{<span class="hljs-string">"Location"</span>:{<span class="hljs-string">"state"</span>:<span class="hljs-string">"MA"</span>,<span class="hljs-string">"city"</span>:<span class="hljs-string">"Boston"</span>},<span class="hljs-string">"User"</span>:{<span class="hljs-string">"username"</span>:<span class="hljs-string">"person1"</span>},<span class="hljs-string">"Comment"</span>:[{<span class="hljs-string">"id"</span>:<span class="hljs-string">"10"</span>,<span class="hljs-string">"user_id"</span>:<span class="hljs-string">"194"</span>,<span class="hljs-string">"created"</span>:<span class="hljs-string">"2010-04-30 09:20:09"</span>,<span class="hljs-string">"content"</span>:<span class="hljs-string">"I love that city."</span>}],<span class="hljs-string">"Rating"</span>:[{<span class="hljs-string">"id"</span>:<span class="hljs-string">"103"</span>,<span class="hljs-string">"user_id"</span>:<span class="hljs-string">"194"</span>,<span class="hljs-string">"model_id"</span>:<span class="hljs-string">"1"</span>,<span class="hljs-string">"model"</span>:<span class="hljs-string">"state"</span>,<span class="hljs-string">"rating"</span>:<span class="hljs-string">"4"</span>,<span class="hljs-string">"name"</span>:<span class="hljs-string">"default"</span>,<span class="hljs-string">"created"</span>:<span class="hljs-string">"2010-04-30 09:15:56"</span>,<span class="hljs-string">"modified"</span>:<span class="hljs-string">"2010-04-30 09:15:56"</span>}]}]';
</code></pre><p>I could get out the username using something like</p>
<pre><code class="hljs"><span class="hljs-tag">var</span> username = sampleJSON[<span class="hljs-number">0</span>]<span class="hljs-class">.User</span><span class="hljs-class">.username</span>
</code></pre><p>But that doesn&#39;t account for the &quot;User&quot; parent of &quot;Location&quot;.</p>
</div>
							<div class="author">
								&mdash; commented <span title="December 28th 2010, 1:23:47 pm">December 28th 2010</span>
								by <span class='authorname'>Forrest Frazier</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>6</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>6 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-169551">
				
						<section>
							<p>try it with a simple json object first and see if that is working; if it is then move on to the complex one.</p>
<p>what error do you get by the way?</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="December 28th 2010, 3:39:36 am">December 28th 2010</span>
								by <span class='authorname'>daniyal hamid</span><br>
								<a class="icon-bg icon-link" href="question/94351/extracting-data-from-complex-json.html#answer-169551" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-169571">
				
						<section>
							<p>The simple json object is working fine. </p>
<p>I&#39;m having one of two problems, either I get nothing at all. or I get an error stating Result of expression &#39;myVar&#39; [undefined] is not an object.&quot;</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="December 28th 2010, 4:08:42 am">December 28th 2010</span>
								by <span class='authorname'>Forrest Frazier</span><br>
								<a class="icon-bg icon-link" href="question/94351/extracting-data-from-complex-json.html#answer-169571" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-170061">
				
						<section>
							<p>I&#39;ve spent all day working on this and I still don&#39;t have an answer. Apparently its not only an issue with titanium but many Objective-C&#x2F;iPhone&#x2F;Xcode developers are having problems with this too. </p>
<p>Maybe my code is a bad example, if anyone has a working example to share or some suggestions please let me know.</p>
<p>Thanks.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="December 29th 2010, 2:29:41 am">December 29th 2010</span>
								by <span class='authorname'>Forrest Frazier</span><br>
								<a class="icon-bg icon-link" href="question/94351/extracting-data-from-complex-json.html#answer-170061" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-170181">
				
						<section>
							<p>try editing tiapp.xml file to force a full re-build .. this resolves most of the issues with titanium mobile .. post back if it works for you</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="December 29th 2010, 10:58:03 am">December 29th 2010</span>
								by <span class='authorname'>daniyal hamid</span><br>
								<a class="icon-bg icon-link" href="question/94351/extracting-data-from-complex-json.html#answer-170181" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>I edited tiapp.xml but it didn&#39;t help.  I don&#39;t think the problem is with the build, its with how I&#39;m trying to parse the json.</p>
<p>Thanks for the suggestion.</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 29th 2010, 12:57:36 pm">December 29th 2010</span>
											by <span class='authorname'>Forrest Frazier</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-172211">
				
						<section>
							<p>I&#39;m still trying to figure this out. I&#39;m sure someone else has done this before but I&#39;m stumped. Any ideas? Anyone?</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="January 3rd 2011, 6:09:15 pm">January 3rd 2011</span>
								by <span class='authorname'>Forrest Frazier</span><br>
								<a class="icon-bg icon-link" href="question/94351/extracting-data-from-complex-json.html#answer-172211" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-208358">
				
						<section>
							<p>I&#39;m working on an app that uses very complex JSON data to work and i&#39;m having some problems.</p>
<p>may JSON may be very deep, i mean for example:</p>
<pre><code class="hljs"><span class="hljs-tag">json</span><span class="hljs-class">.first</span><span class="hljs-attr_selector">[i]</span><span class="hljs-class">.second</span><span class="hljs-attr_selector">[j]</span><span class="hljs-class">.third</span><span class="hljs-attr_selector">[k]</span><span class="hljs-class">.fourth</span><span class="hljs-attr_selector">[l]</span>
</code></pre><p>where i, j, k, l are variables that increment by 1 starting from 0 until an object is &quot;undefined&quot;<br>so this way i can pass through all the data in my json.<br>to check for &quot;undefined&quot; typeof object to end a certain loop or don&#39;t do it at all i do the following:</p>
<pre><code class="hljs"><span class="hljs-keyword">if</span>( typeof(json.<span class="hljs-keyword">first</span>[i]) != <span class="hljs-string">"undefined"</span>)
{
   <span class="hljs-keyword">while</span> (typeof(json.<span class="hljs-keyword">first</span>[i]) != <span class="hljs-string">"undefined"</span>)
   {
        <span class="hljs-keyword">if</span>( typeof(json.<span class="hljs-keyword">first</span>[i].<span class="hljs-keyword">second</span>[j]) != <span class="hljs-string">"undefined"</span>)
        {
                <span class="hljs-keyword">while</span> ( ......
        }
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (typeof(json.<span class="hljs-keyword">first</span>[i].<span class="hljs-keyword">second</span>) != <span class="hljs-string">"undefined"</span>)
        {
               ......
        }
   }
}
<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>( typeof(json.<span class="hljs-keyword">first</span>) != <span class="hljs-string">"undefined"</span>)
{
        <span class="hljs-keyword">if</span>( typeof(json.<span class="hljs-keyword">first</span>.<span class="hljs-keyword">second</span>[j]) != <span class="hljs-string">"undefined"</span>)
        {
                <span class="hljs-keyword">while</span> ( ......
        }
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> ( typeof(json.<span class="hljs-keyword">first</span>.<span class="hljs-keyword">second</span>) != <span class="hljs-string">"undefined"</span>)
        {
               ......
        }
}
</code></pre><p>the problem in this is that, except that the code becomes something unthinkable in terms of managing editing and coding, it works only in some cases but in most cases this way it doesn&#39;t work</p>
<p>thanks in advance</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="May 23rd 2011, 7:51:02 pm">May 23rd 2011</span>
								by <span class='authorname'>Eni Sinanaj</span><br>
								<a class="icon-bg icon-link" href="question/94351/extracting-data-from-complex-json.html#answer-208358" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
