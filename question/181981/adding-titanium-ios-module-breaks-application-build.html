<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Adding titanium iOS module breaks application build Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Adding titanium iOS module breaks application build</h1>
		</header>
		<section>
			<p>I created a new iOS module and added it to the Titanium SDK. </p>
<p>The module built successfully and I was able to add it to an existing Titanium project.<br>But when I try to run the project in iOS simulator, it fails with the following errors (below)</p>
<p>The module id is com.example.tipdf. I verified with xcrun that it has 64 bit support.<br>Removing this module from the dependencies causes the project to build and run as expected.</p>
<p>Can someone tell me what is wrong? Am I missing something during packaging of the module?</p>
<pre><code class="hljs">Titanium Command-Line Interface, CLI version 3.4.2, Titanium SDK version 3.5.1.GA
Copyright (c) 2012-2015, Appcelerator, Inc.  All Rights Reserved.
Please report bugs to http://jira.appcelerator.org/
4/13/2015, 11:00:39 AM
Operating System
  Name                        = Mac OS X
  Version                     = 10.10.2
  Architecture                = 64bit
  # CPUs                      = 8
  Memory                      = 8589934592
Node.js
  Node.js Version             = 0.12.0
  npm Version                 = 2.7.0
Titanium CLI
  CLI Version                 = 3.4.2
Titanium SDK
  SDK Version                 = 3.5.1.GA
  SDK Path                    = /Users/xxxxx/Library/Application Support/Titanium/mobilesdk/osx/3.5.1.GA
  Target Platform             = iphone
Command
  /usr/local/bin/node /usr/local/bin/titanium <span class="hljs-comment">--no-colors --no-progress-bars --no-prompt build --platform iphone --log-level trace --sdk 3.5.1.GA --project-dir /Users/xxxxx/Documents/Titanium_Studio_Workspace/TestApp --target simulator --ios-version 8.2 --device-family universal --deploy-type development --sim-type iphone --sim-version 8.2 --device-id 67FECCB2-A2B2-4E60-BE94-24A38EDA2007 --skip-js-minify --skip-js-minify</span>
[INFO] :   Found Titanium module id=ti.paint version=1.4.0 platform=iphone deploy-type=development path=/Users/xxxxx/Library/Application Support/Titanium/modules/iphone/ti.paint/1.4.0
[INFO] :   Found Titanium module id=ti.imagefactory version=1.2.0 platform=iphone deploy-type=development path=/Users/xxxxx/Library/Application Support/Titanium/modules/iphone/ti.imagefactory/1.2.0
[INFO] :   Found Titanium module id=com.example.tipdf version=1.0.0 platform=iphone deploy-type=development path=/Users/xxxxx/Library/Application Support/Titanium/modules/iphone/com.example.tipdf/1.0.0
[INFO] :   Found Titanium plugin id=ti.alloy version=1.0 
[INFO] :   Deploy type: development
[INFO] :   Building for target: simulator
[INFO] :   Building using iOS SDK: 8.2
[INFO] :   Building for iOS Simulator: iPhone 5
[INFO] :   Building for device family: universal
[INFO] :   Minimum iOS version: 7.0
[INFO] :   Debugging disabled
[INFO] :   Profiler disabled
[INFO] :   Forcing rebuild: /Users/xxxxx/Documents/Titanium_Studio_Workspace/TestApp/build/iphone/build-manifest.json does not exist
[INFO] :   Initiating <span class="hljs-operator"><span class="hljs-keyword">prepare</span> phase
[INFO] :   <span class="hljs-keyword">Found</span> Alloy app <span class="hljs-keyword">in</span> /<span class="hljs-keyword">Users</span>/xxxxx/Documents/Titanium_Studio_Workspace/TestApp/app
[INFO] :   Executing Alloy compile: /usr/<span class="hljs-keyword">local</span>/<span class="hljs-keyword">bin</span>/node /usr/<span class="hljs-keyword">local</span>/<span class="hljs-keyword">bin</span>/alloy compile /<span class="hljs-keyword">Users</span>/xxxxx/Documents/Titanium_Studio_Workspace/TestApp/app <span class="hljs-comment">--config platform=ios,version=0,simtype=none,devicefamily=universal,deploytype=development,target=simulator --no-colors</span>
[INFO] :   [config.<span class="hljs-keyword">json</span>] config.<span class="hljs-keyword">json</span> unchanged, <span class="hljs-keyword">using</span> cached config.<span class="hljs-keyword">json</span>...
[INFO] :   <span class="hljs-comment">----- MVC GENERATION -----</span>
[INFO] :   [<span class="hljs-keyword">global</span> <span class="hljs-keyword">style</span>] loading <span class="hljs-keyword">from</span> <span class="hljs-keyword">cache</span>...
[INFO] :   [<span class="hljs-keyword">index</span>.<span class="hljs-keyword">xml</span>] <span class="hljs-keyword">view</span> processing...
[INFO] :   <span class="hljs-keyword">style</span>:      <span class="hljs-string">"index.tss"</span>
[INFO] :   <span class="hljs-keyword">view</span>:       <span class="hljs-string">"index.xml"</span>
[INFO] :   controller: <span class="hljs-string">"index.js"</span>
[INFO] :   created:    <span class="hljs-string">"Resources/iphone/alloy/controllers/index.js"</span>
[INFO] :   created:     <span class="hljs-string">"Resources/iphone/alloy/styles/index.js"</span>
[INFO] :   [signature.<span class="hljs-keyword">xml</span>] <span class="hljs-keyword">view</span> processing...
[INFO] :   <span class="hljs-keyword">style</span>:      <span class="hljs-string">"signature.tss"</span>
[INFO] :   <span class="hljs-keyword">view</span>:       <span class="hljs-string">"signature.xml"</span>
[INFO] :   controller: <span class="hljs-string">"signature.js"</span>
[INFO] :   created:    <span class="hljs-string">"Resources/iphone/alloy/controllers/signature.js"</span>
[INFO] :   created:     <span class="hljs-string">"Resources/iphone/alloy/styles/signature.js"</span>
[INFO] :   
[INFO] :   [app.js] <span class="hljs-keyword">using</span> cached app.js...
[INFO] :   
[INFO] :   <span class="hljs-comment">----- OPTIMIZING -----</span>
[INFO] :   - iphone/alloy.js
[INFO] :   - iphone/alloy/<span class="hljs-keyword">sync</span>/localStorage.js
[INFO] :   - iphone/alloy/<span class="hljs-keyword">sync</span>/properties.js
[INFO] :   - iphone/alloy/<span class="hljs-keyword">sync</span>/<span class="hljs-keyword">sql</span>.js
[INFO] :   
[INFO] :   Alloy <span class="hljs-keyword">compiled</span> <span class="hljs-keyword">in</span> <span class="hljs-number">0.58703</span>s
[INFO] :   Alloy compiler completed successfully
[INFO] :   Cleaning <span class="hljs-keyword">old</span> <span class="hljs-keyword">build</span> <span class="hljs-keyword">directory</span>
[INFO] :   Performing <span class="hljs-keyword">full</span> <span class="hljs-keyword">rebuild</span>
[INFO] :   Copying Xcode iOS files
[INFO] :   Creating Xcode <span class="hljs-keyword">project</span> <span class="hljs-keyword">directory</span>: /<span class="hljs-keyword">Users</span>/xxxxx/Documents/Titanium_Studio_Workspace/TestApp/<span class="hljs-keyword">build</span>/iphone/TestApp.xcodeproj
[INFO] :   Writing Xcode <span class="hljs-keyword">project</span> <span class="hljs-keyword">data</span> <span class="hljs-keyword">file</span>: Titanium.xcodeproj/<span class="hljs-keyword">project</span>.pbxproj
[INFO] :   Writing Xcode <span class="hljs-keyword">project</span> configuration: <span class="hljs-keyword">project</span>.xcconfig
[INFO] :   Writing Xcode <span class="hljs-keyword">module</span> configuration: <span class="hljs-keyword">module</span>.xcconfig
[INFO] :   Injecting <span class="hljs-keyword">native</span> libraries <span class="hljs-keyword">into</span> Xcode <span class="hljs-keyword">project</span> <span class="hljs-keyword">file</span>
[INFO] :   Forcing <span class="hljs-keyword">rebuild</span>: ApplicationDefaults.<span class="hljs-keyword">m</span> has <span class="hljs-keyword">changed</span> since <span class="hljs-keyword">last</span> <span class="hljs-keyword">build</span>
[INFO] :   Writing application <span class="hljs-keyword">defaults</span>: /<span class="hljs-keyword">Users</span>/xxxxx/Documents/Titanium_Studio_Workspace/TestApp/<span class="hljs-keyword">build</span>/iphone/Classes/ApplicationDefaults.<span class="hljs-keyword">m</span>
[INFO] :   Initiating Xcode pre-compile phase
[INFO] :   Processing JavaScript files
[INFO] :   Processing Titanium namespace resources
[INFO] :   Invoking xcodebuild
[<span class="hljs-keyword">ERROR</span>] :  <span class="hljs-number">2015</span>-<span class="hljs-number">04</span>-<span class="hljs-number">13</span> <span class="hljs-number">11</span>:<span class="hljs-number">00</span>:<span class="hljs-number">42.029</span> xcodebuild[<span class="hljs-number">27617</span>:<span class="hljs-number">125984</span>]  DeveloperPortal: <span class="hljs-keyword">Using</span> pre-existing <span class="hljs-keyword">current</span> <span class="hljs-keyword">store</span> <span class="hljs-keyword">at</span> <span class="hljs-keyword">URL</span> (<span class="hljs-keyword">file</span>:///<span class="hljs-keyword">Users</span>/xxxxx/<span class="hljs-keyword">Library</span>/Developer/Xcode/DeveloperPortal%<span class="hljs-number">206.2</span>.db).
[<span class="hljs-keyword">ERROR</span>] :  ** <span class="hljs-keyword">BUILD</span> <span class="hljs-keyword">FAILED</span> **
[<span class="hljs-keyword">ERROR</span>] :  The <span class="hljs-keyword">following</span> <span class="hljs-keyword">build</span> commands <span class="hljs-keyword">failed</span>:
[<span class="hljs-keyword">ERROR</span>] :      Ld <span class="hljs-keyword">build</span>/TestApp.<span class="hljs-keyword">build</span>/Debug-iphonesimulator/TestApp-universal.<span class="hljs-keyword">build</span>/Objects-<span class="hljs-keyword">normal</span>/i386/TestApp <span class="hljs-keyword">normal</span> i386
[<span class="hljs-keyword">ERROR</span>] :      Ld <span class="hljs-keyword">build</span>/TestApp.<span class="hljs-keyword">build</span>/Debug-iphonesimulator/TestApp-universal.<span class="hljs-keyword">build</span>/Objects-<span class="hljs-keyword">normal</span>/x86_64/TestApp <span class="hljs-keyword">normal</span> x86_64
[<span class="hljs-keyword">ERROR</span>] :  (<span class="hljs-number">2</span> failures)</span>
</code></pre>
		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="April 13th 2015, 3:53:27 am">April 13th 2015</span>
				by <span class='authorname'>Hari G</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>error</span></li>
					
						<li><span class='tagname'>ios</span></li>
					
						<li><span class='tagname'>iphone</span></li>
					
						<li><span class='tagname'>mobile</span></li>
					
						<li><span class='tagname'>module</span></li>
					
				</ul>
			

			<section>
				<h5>4 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>In this case one of your modules are not in 64bit. You can test it with ti-64. Here the syntax:</p>
<pre><code class="hljs">Rainers-MBP:touchgallery fuerst$ ti-64 -h

  Usage: ti-64 <span class="hljs-keyword">[</span>options] <span class="hljs-keyword">[</span>path]

  Check all Appcelerator Titanium project<span class="hljs-instruction"> and/or </span>global modules for 64-bit iOS support.

  Options:

    -h, --help                output usage information
    -v, --version             output the version number
    -d, --project-dir &lt;path&gt;  the directory containing the project <span class="hljs-keyword">[</span>.]
    -g, --global             <span class="hljs-instruction"> check </span>all global modules
    -o, --output &lt;value&gt;      output format <span class="hljs-keyword">[</span>report, json]
</code></pre></div>
							<div class="author">
								&mdash; commented <span title="April 13th 2015, 7:58:13 am">April 13th 2015</span>
								by <span class='authorname'>Rainer Schleevoigt</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>You can install by:</p>
<pre><code class="hljs">Rainers-MBP:touchgallery fuerst$ npm install ti-<span class="hljs-number">64</span> 
ti-<span class="hljs-number">64</span>@<span class="hljs-number">2.1</span><span class="hljs-number">.3</span> node_modules/ti-<span class="hljs-number">64</span>
??? async@<span class="hljs-number">0.9</span><span class="hljs-number">.0</span>
??? lodash@<span class="hljs-number">2.4</span><span class="hljs-number">.1</span>
??? commander@<span class="hljs-number">2.7</span><span class="hljs-number">.1</span> (graceful-readlink@<span class="hljs-number">1.0</span><span class="hljs-number">.1</span>)
??? chalk@<span class="hljs-number">1.0</span><span class="hljs-number">.0</span> (escape-<span class="hljs-built_in">string</span>-regexp@<span class="hljs-number">1.0</span><span class="hljs-number">.3</span>, ansi-styles@<span class="hljs-number">2.0</span><span class="hljs-number">.1</span>, supports-color@<span class="hljs-number">1.3</span><span class="hljs-number">.1</span>, strip-ansi@<span class="hljs-number">2.0</span><span class="hljs-number">.1</span>, has-ansi@<span class="hljs-number">1.0</span><span class="hljs-number">.3</span>)
??? glob@<span class="hljs-number">4.5</span><span class="hljs-number">.3</span> (inherits@<span class="hljs-number">2.0</span><span class="hljs-number">.1</span>, once@<span class="hljs-number">1.3</span><span class="hljs-number">.1</span>, inflight@<span class="hljs-number">1.0</span><span class="hljs-number">.4</span>, minimatch@<span class="hljs-number">2.0</span><span class="hljs-number">.4</span>)
??? timodules@<span class="hljs-number">0.1</span><span class="hljs-number">.1</span> (tiapp@<span class="hljs-number">0.0</span><span class="hljs-number">.1</span>, colors@<span class="hljs-number">0.6</span><span class="hljs-number">.2</span>, underscore@<span class="hljs-number">1.5</span><span class="hljs-number">.2</span>, term-<span class="hljs-built_in">list</span>@<span class="hljs-number">0.2</span><span class="hljs-number">.1</span>, xml2js@<span class="hljs-number">0.2</span><span class="hljs-number">.8</span>)
??? update-notifier@<span class="hljs-number">0.2</span><span class="hljs-number">.2</span> (is-npm@<span class="hljs-number">1.0</span><span class="hljs-number">.0</span>, <span class="hljs-built_in">string</span>-length@<span class="hljs-number">1.0</span><span class="hljs-number">.0</span>, chalk@<span class="hljs-number">0.5</span><span class="hljs-number">.1</span>, semver-diff@<span class="hljs-number">2.0</span><span class="hljs-number">.0</span>, latest-version@<span class="hljs-number">1.0</span><span class="hljs-number">.0</span>, configstore@<span class="hljs-number">0.3</span><span class="hljs-number">.2</span>)
</code></pre><p>npm you can install <a href="http:&#x2F;&#x2F;coolestguidesontheplanet.com&#x2F;installing-node-js-osx-10-9-mavericks&#x2F;">following this instruction</a></p>
</div>
							<div class="author">
								&mdash; commented <span title="April 13th 2015, 8:01:58 am">April 13th 2015</span>
								by <span class='authorname'>Rainer Schleevoigt</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Thanks Rainer, I checked using ti-64 as you said and the project and all modules supported arm64.</p>
<p>I managed to solve the problem. It was due to a static library not being properly linked inside the module code. Now the module and my test project are up and running.</p>
</div>
							<div class="author">
								&mdash; commented <span title="April 13th 2015, 8:35:01 am">April 13th 2015</span>
								by <span class='authorname'>Hari G</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>could you show the code that you used please I think i have a similar problem</p>
</div>
							<div class="author">
								&mdash; commented <span title="July 2nd 2015, 4:02:39 pm">July 2nd 2015</span>
								by <span class='authorname'>Michael Warnes</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>0</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>0 Answers</h3>

	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
