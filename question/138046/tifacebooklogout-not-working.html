<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Ti.Facebook.logout() not working! » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Ti.Facebook.logout() not working!</h1>
		</header>
		<section>
			<p>Hi guys,<br>I&#39;m developing for iPhone, and the Ti.Facebook.logout() just doesn&#39;t works!</p>
<p>My app is &quot;always online&quot; so whenever i logout, the event listener checks this and calls Ti.Facebook.authorize(); again… the Facebook window pops up.. but instead of asking for the credentials again (so another user could log in), the windows just disappear and the last user logs in again automatically (auto-login)</p>
<p>I&#39;ve already tried to put Ti.Facebook.setAccessToken=null; and everything as soon as i detect that the first user logged off, but this &quot;auto login&quot; keeps happening every time, even on device..</p>
<p>Any thoughts?</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="June 7th 2012, 6:07:36 pm">June 7th 2012</span>
				by <span class='authorname'>Leno Lima</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>facebook</span></li>
					
						<li><span class='tagname'>iphone</span></li>
					
				</ul>
			

			<section>
				<h5>4 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Same thing happens if i use<br><code>win.add(Ti.Facebook.createLoginButton)</code></p>
<p>The logout event is detected, but shortly after (2 or 3 secs) the user is logged in back again, automatically…</p>
</div>
							<div class="author">
								&mdash; commented <span title="June 7th 2012, 6:15:38 pm">June 7th 2012</span>
								by <span class='authorname'>Leno Lima</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Actually, in that case, not automatically.. i have to click on the blue &quot;Login with Facebook&quot; button… but then it just logs in, without asking for the credentials - i can&#39;t change users that way…</p>
</div>
							<div class="author">
								&mdash; commented <span title="June 7th 2012, 6:19:11 pm">June 7th 2012</span>
								by <span class='authorname'>Leno Lima</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Strange, I had a client report this same issue today, though I am currently unable to reproduce.  We are using Ti.Facebook.authorize() and not the button.</p>
<p>What SDK are you building against?  For me: Ti SDK: 2.0.1GA2, iOS SDK 5.1</p>
</div>
							<div class="author">
								&mdash; commented <span title="June 7th 2012, 6:29:02 pm">June 7th 2012</span>
								by <span class='authorname'>Adam Paxton</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Hi Adam It seems it&#39;s happening with users with secure browsing activated on FB (https). Yes, it is a bug…<br>I&#39;ve fixed by clearing the cache (@ https:&#x2F;&#x2F;login.facebook) when the user logs out..</p>
</div>
							<div class="author">
								&mdash; commented <span title="June 7th 2012, 9:19:55 pm">June 7th 2012</span>
								by <span class='authorname'>Leno Lima</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>1</span> Vote</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-240428">
				
						<section>
							<p>Hi Adam<br>It seems it&#39;s happening with users with secure browsing activated on FB (https). Yes, it is a bug…</p>
<p>I&#39;ve fixed by clearing the cache (@ https:&#x2F;&#x2F;login.facebook) when the user logs out..</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="June 7th 2012, 9:19:24 pm">June 7th 2012</span>
								by <span class='authorname'>Leno Lima</span><br>
								<a class="icon-bg icon-link" href="../../question/138046/tifacebooklogout-not-working.html#answer-240428" rel="permalink">permalink</a>
							</div>

							<h5>2 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Thanks for the update.  How are you clearing the cache?</p>
</p>
										<div class="author">
											&mdash; commented <span title="June 7th 2012, 9:24:32 pm">June 7th 2012</span>
											by <span class='authorname'>Adam Paxton</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Well, i&#39;m not sure its 100% okay yet, i&#39;m still testing, but:</p>
<p><code>var url = &amp;#39;https:&amp;#x2F;&amp;#x2F;login.facebook.com&amp;#39;;</code></p>
<p><code>var client = Titanium.Network.createHTTPClient();</code></p>
<p><code>client.clearCookies(url);</code></p>
<p>But i&#39;m still open to suggestions</p>
</p>
										<div class="author">
											&mdash; commented <span title="June 7th 2012, 9:31:37 pm">June 7th 2012</span>
											by <span class='authorname'>Leno Lima</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
