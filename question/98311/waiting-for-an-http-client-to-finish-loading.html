<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Waiting for an HTTP Client to finish loading? » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Waiting for an HTTP Client to finish loading?</h1>
		</header>
		<section>
			<p>I am trying to build an app that is 100% based around getting information from web pages.  I am brand new to Appcelerator.</p>
<p>Right now according to my logging, my app tries to get the information from the web page, then leaves the function and displays that the function returned NULL.  Then the logging displays the information logged within the HTTPClient.onload method (which should happen before it returns from the function).</p>
<p>Basically, I don&#39;t want this to be happening asynchronously.  How can I make my app wait until the page has returned data first?</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="January 8th 2011, 1:28:13 pm">January 8th 2011</span>
				by <span class='authorname'>James Wright</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>http</span></li>
					
						<li><span class='tagname'>iphone</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>-1</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-175271">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>The best solution is to execute the http send on the http.client and do not move forward until your onerror method or onload method is complete.</p>
<p><a href="http:&#x2F;&#x2F;developer.appcelerator.com&#x2F;question&#x2F;94661&#x2F;blocking-on-http-results---best-practice">http:&#x2F;&#x2F;developer.appcelerator.com&#x2F;question&#x2F;94661&#x2F;blocking-on-http-results—best-practice</a></p>
<pre><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">myLoginFunction</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">var</span> httpClient = Titanium.Network.createHTTPClient();
    httpClient.onload = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
        startApplication();
    };

    httpClient.onerror = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
        alert(<span class="hljs-string">"Error happened, app will not start"</span>);
    };

    <span class="hljs-comment">// open the client</span>
    httpClient.open(<span class="hljs-string">'GET'</span>,<span class="hljs-string">'http://someurl.com'</span>);

    <span class="hljs-comment">// send the data</span>
    httpClient.send({});    
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">startApplication</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-comment">// start the main application function here</span>
}

myLoginFunction();
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="January 8th 2011, 4:39:56 pm">January 8th 2011</span>
								by <span class='authorname'>Aaron Saunders</span><br>
								<a class="icon-bg icon-link" href="../../question/98311/waiting-for-an-http-client-to-finish-loading.html#answer-175271" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>I use your answer, it working on iOS but in android onload not call at all.</p>
</p>
										<div class="author">
											&mdash; commented <span title="September 25th 2014, 1:16:17 pm">September 25th 2014</span>
											by <span class='authorname'>jehat sadeeq</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
