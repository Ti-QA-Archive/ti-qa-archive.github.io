<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>java.lang.NullPointerException on TiUIActivityIndicator.setStyle(TiUIActivityIndicator.java:164) Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>java.lang.NullPointerException on TiUIActivityIndicator.setStyle(TiUIActivityIndicator.java:164)</h1>
		</header>
		<section>
			<p>Hello Folks,</p>
<p>I currently have an application in the google play store and recevied a crash with the following stacktrace:</p>
<pre><code class="hljs">java<span class="hljs-class">.lang</span><span class="hljs-class">.NullPointerException</span>
at ti<span class="hljs-class">.modules</span><span class="hljs-class">.titanium</span><span class="hljs-class">.ui</span><span class="hljs-class">.widget</span><span class="hljs-class">.TiUIActivityIndicator</span><span class="hljs-class">.setStyle</span>(TiUIActivityIndicator<span class="hljs-class">.java</span>:<span class="hljs-number">164</span>)
at ti<span class="hljs-class">.modules</span><span class="hljs-class">.titanium</span><span class="hljs-class">.ui</span><span class="hljs-class">.widget</span><span class="hljs-class">.TiUIActivityIndicator</span><span class="hljs-class">.processProperties</span>(TiUIActivityIndicator<span class="hljs-class">.java</span>:<span class="hljs-number">86</span>)
at org<span class="hljs-class">.appcelerator</span><span class="hljs-class">.kroll</span><span class="hljs-class">.KrollProxy</span><span class="hljs-class">.setModelListener</span>(KrollProxy<span class="hljs-class">.java</span>:<span class="hljs-number">1185</span>)
at org<span class="hljs-class">.appcelerator</span><span class="hljs-class">.titanium</span><span class="hljs-class">.proxy</span><span class="hljs-class">.TiViewProxy</span><span class="hljs-class">.realizeViews</span>(TiViewProxy<span class="hljs-class">.java</span>:<span class="hljs-number">480</span>)
at org<span class="hljs-class">.appcelerator</span><span class="hljs-class">.titanium</span><span class="hljs-class">.proxy</span><span class="hljs-class">.TiViewProxy</span><span class="hljs-class">.handleGetView</span>(TiViewProxy<span class="hljs-class">.java</span>:<span class="hljs-number">471</span>)
at org<span class="hljs-class">.appcelerator</span><span class="hljs-class">.titanium</span><span class="hljs-class">.proxy</span><span class="hljs-class">.TiViewProxy</span><span class="hljs-class">.getOrCreateView</span>(TiViewProxy<span class="hljs-class">.java</span>:<span class="hljs-number">449</span>)
at ti<span class="hljs-class">.modules</span><span class="hljs-class">.titanium</span><span class="hljs-class">.ui</span><span class="hljs-class">.ActivityIndicatorProxy</span><span class="hljs-class">.handleHide</span>(ActivityIndicatorProxy<span class="hljs-class">.java</span>:<span class="hljs-number">94</span>)
at org<span class="hljs-class">.appcelerator</span><span class="hljs-class">.titanium</span><span class="hljs-class">.proxy</span><span class="hljs-class">.TiViewProxy</span><span class="hljs-class">.handleMessage</span>(TiViewProxy<span class="hljs-class">.java</span>:<span class="hljs-number">241</span>)
at ti<span class="hljs-class">.modules</span><span class="hljs-class">.titanium</span><span class="hljs-class">.ui</span><span class="hljs-class">.ActivityIndicatorProxy</span><span class="hljs-class">.handleMessage</span>(ActivityIndicatorProxy<span class="hljs-class">.java</span>:<span class="hljs-number">67</span>)
at android<span class="hljs-class">.os</span><span class="hljs-class">.Handler</span><span class="hljs-class">.dispatchMessage</span>(Handler<span class="hljs-class">.java</span>:<span class="hljs-number">95</span>)
at android<span class="hljs-class">.os</span><span class="hljs-class">.Looper</span><span class="hljs-class">.loop</span>(Looper<span class="hljs-class">.java</span>:<span class="hljs-number">137</span>)
at android<span class="hljs-class">.app</span><span class="hljs-class">.ActivityThread</span><span class="hljs-class">.main</span>(ActivityThread<span class="hljs-class">.java</span>:<span class="hljs-number">5039</span>)
at java<span class="hljs-class">.lang</span><span class="hljs-class">.reflect</span><span class="hljs-class">.Method</span><span class="hljs-class">.invokeNative</span>(Native Method)
at java<span class="hljs-class">.lang</span><span class="hljs-class">.reflect</span><span class="hljs-class">.Method</span><span class="hljs-class">.invoke</span>(Method<span class="hljs-class">.java</span>:<span class="hljs-number">511</span>)
at com<span class="hljs-class">.android</span><span class="hljs-class">.internal</span><span class="hljs-class">.os</span><span class="hljs-class">.ZygoteInit</span><span class="hljs-variable">$MethodAndArgsCaller</span>.<span class="hljs-function"><span class="hljs-title">run</span><span class="hljs-params">(ZygoteInit.java:<span class="hljs-number">793</span>)</span></span>
at com<span class="hljs-class">.android</span><span class="hljs-class">.internal</span><span class="hljs-class">.os</span><span class="hljs-class">.ZygoteInit</span><span class="hljs-class">.main</span>(ZygoteInit<span class="hljs-class">.java</span>:<span class="hljs-number">560</span>)
at dalvik<span class="hljs-class">.system</span><span class="hljs-class">.NativeStart</span><span class="hljs-class">.main</span>(Native Method)
</code></pre><p>Checking https:&#x2F;&#x2F;github.com&#x2F;appcelerator&#x2F;titanium_mobile&#x2F;blob&#x2F;master&#x2F;android&#x2F;modules&#x2F;ui&#x2F;src&#x2F;java&#x2F;ti&#x2F;modules&#x2F;titanium&#x2F;ui&#x2F;widget&#x2F;TiUIActivityIndicator.java#L164, the code goes wrong on view.removeAllViews().</p>
<p>This indicates that the view equals null. When you check the class&#39; properties, the view refers to a LinearLayout, which means the LinearLayout, where the message and indicator are wrapped in, is null.</p>
<p>In my application I have a few activity indicators, but always defined like:</p>
<pre><code class="hljs">var indicator = <span class="hljs-filename">Ti.UI.createActivityIndicator({
    style</span>:  <span class="hljs-filename">Ti.Android ? Ti.UI.ActivityIndicatorStyle.BIG_DARK </span>: <span class="hljs-filename">Ti.UI.iPhone.ActivityIndicatorStyle.DARK,
    width</span>:  <span class="hljs-number">100</span>,    
    height: <span class="hljs-number">100</span>,
    message: <span class="hljs-string">" Loading.."</span>    
});
</code></pre><p>Any idea what the error is causing? I can&#39;t reproduce it myself on the devices I test with.</p>
<p>Specs:</p>
<ul>
<li>Android Version: 4.2 </li>
<li>Android Device: ASUS MeMO Pad Smart 10 (ME301T)</li>
<li>Ti.SDK: 3.2.3 GA</li>
</ul>
<p>Thanks in advance,<br>Patrick van Vuuren</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="June 4th 2014, 7:53:29 am">June 4th 2014</span>
				by <span class='authorname'>Patrick van Vuuren</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>activityindicator</span></li>
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>nullpointer</span></li>
					
						<li><span class='tagname'>setstyle</span></li>
					
						<li><span class='tagname'>titanium</span></li>
					
				</ul>
			

			<section>
				<h5>12 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Link to Titanium activityindicator class:<br><a href="https:&#x2F;&#x2F;github.com&#x2F;appcelerator&#x2F;titanium_mobile&#x2F;blob&#x2F;master&#x2F;android&#x2F;modules&#x2F;ui&#x2F;src&#x2F;java&#x2F;ti&#x2F;modules&#x2F;titanium&#x2F;ui&#x2F;widget&#x2F;TiUIActivityIndicator.java#L164">TiUIActivityIndicator</a></p>
</div>
							<div class="author">
								&mdash; commented <span title="June 4th 2014, 7:54:37 am">June 4th 2014</span>
								by <span class='authorname'>Patrick van Vuuren</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Hey, did you by any chance get a fix for this?</p>
</div>
							<div class="author">
								&mdash; commented <span title="June 17th 2014, 2:40:05 am">June 17th 2014</span>
								by <span class='authorname'>vivek keviv</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>I checked all my activity indicators to see if the correct properties have been added.</p>
<p>Due to it being on a device I don&#39;t possess and being reported only once, I documented the error for future references incase it happens again. </p>
<p>Did you come across this issue?</p>
</div>
							<div class="author">
								&mdash; commented <span title="June 17th 2014, 5:03:19 am">June 17th 2014</span>
								by <span class='authorname'>Patrick van Vuuren</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>I just saw this error come up on my Nexus 7 (2012) with Ti.SDK 3.3.0 RC.</p>
<p>In my case, seems to be coming from calling <code>activityInd.hide()</code> in the close event handler attached to the containing window (which is an activity).  Once I commented out the <code>.hide()</code> call, my app stopped crashing.</p>
<p>Doesn&#39;t happen with Ti.SDK 3.2.3 GA.</p>
</div>
							<div class="author">
								&mdash; commented <span title="July 4th 2014, 3:47:55 am">July 4th 2014</span>
								by <span class='authorname'>Scott Dickerson</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Allright, I will keep that in mind the next time I see the error.<br>Thanks for responding</p>
</div>
							<div class="author">
								&mdash; commented <span title="July 4th 2014, 4:39:36 am">July 4th 2014</span>
								by <span class='authorname'>Patrick van Vuuren</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Getting similar error since I update to 3.3.0GA from 3.2.3GA, in my case when using the <strong>nl.fokkezb.loading widget</strong>, that basically is a new window with a spinning animation to avoid users interaction meantime (instead of use the ActivityIndicator).</p>
<p>If I set the animation while starting the app, then it crashes. For now I&#39;m not using the widget till find a solution</p>
</div>
							<div class="author">
								&mdash; commented <span title="July 28th 2014, 9:04:45 am">July 28th 2014</span>
								by <span class='authorname'>Manuel Conde Vendrell</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Hello Manuel, sorry for the late response,</p>
<p>But if you use that widget how are you getting the same error if it&#39;s a different class (i.e. proxy)?</p>
<p>I didn&#39;t come across this issue anymore but I&#39;ll leave the topic open for further discussion if people come across this issue.</p>
</div>
							<div class="author">
								&mdash; commented <span title="August 13th 2014, 5:18:48 am">August 13th 2014</span>
								by <span class='authorname'>Patrick van Vuuren</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Patrick, we are seeing the same error on Android.  Did you ever find the fix for this?</p>
</div>
							<div class="author">
								&mdash; commented <span title="October 14th 2014, 3:09:09 pm">October 14th 2014</span>
								by <span class='authorname'>Erik Seilnacht</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>I haven&#39;t seen this error for myself in a long time. Probably for me it was caused by setting some kind of style of the indicator after it was already removed.</p>
</div>
							<div class="author">
								&mdash; commented <span title="October 21st 2014, 5:06:52 am">October 21st 2014</span>
								by <span class='authorname'>Patrick van Vuuren</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>With about 80K installs of our app, I&#39;m seeing nearly 100 of these daily.</p>
<p>We don&#39;t directly hide&#x2F;show the activityindicator (we have it wrapped in a CommonJS module that builds a modal popup with the activityindicator added to it).  But we have a couple of places where we hide&#x2F;show the modal popup.  I&#39;ll try modifying that code to see if it helps cut down the crashes.</p>
</div>
							<div class="author">
								&mdash; commented <span title="February 23rd 2015, 4:37:24 pm">February 23rd 2015</span>
								by <span class='authorname'>Jason Priebe</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Saw similar when trying to build a 2 year old codebase (not a crash, but an error entry in the device logs)</p>
<p>Will see if I can isolate ous.</p>
</div>
							<div class="author">
								&mdash; commented <span title="February 24th 2015, 11:58:58 pm">February 24th 2015</span>
								by <span class='authorname'>Stephen Feather</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Seeing many of these crash reports in prod using SDK 4.1.0.v20150506202053. Have seen them since the 3.1.X and 3.2.X days as well. We skipped 3.3.X, going from 3.2.4 straight to 4.0.0.RC. Same as everyone else, no idea what&#39;s causing this, but will report back if I can figure it out.</p>
<p>Off topic, does anyone else build the SDK from source using scons? When I build my app with a custom build SDK, the APK size is 43mb vs 21mb when using an SDK from Appcelerator.</p>
</div>
							<div class="author">
								&mdash; commented <span title="May 12th 2015, 7:19:46 pm">May 12th 2015</span>
								by <span class='authorname'>Alejandro Thorne</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-287359">
				
						<section>
							<p>I think this may be related to trying to hide a loading indicator after the window it was added to has been destroyed. Testing that theory out now.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="May 12th 2015, 8:15:55 pm">May 12th 2015</span>
								by <span class='authorname'>Alejandro Thorne</span><br>
								<a class="icon-bg icon-link" href="question/174850/javalangnullpointerexception-on-tiuiactivityindicatorsetstyletiuiactivityindicatorjava164.html#answer-287359" rel="permalink">permalink</a>
							</div>

							<h5>2 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Whoops, meant that to be a comment.</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 12th 2015, 8:15:08 pm">May 12th 2015</span>
											by <span class='authorname'>Alejandro Thorne</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Not related.</p>
</p>
										<div class="author">
											&mdash; commented <span title="September 13th 2015, 7:50:26 pm">September 13th 2015</span>
											by <span class='authorname'>Alejandro Thorne</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
