<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Alloy/Backbone Models with Compound Key » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Alloy/Backbone Models with Compound Key</h1>
		</header>
		<section>
			<p>Are there any tactics to using alloy and backbone with compound primary keys? I would like to implement a REST adapter, currently using <a href="https:&#x2F;&#x2F;github.com&#x2F;viezel&#x2F;napp.alloy.adapter.restsql">restsql</a> which works great with a single id field. I found <a href="https:&#x2F;&#x2F;github.com&#x2F;caseywebdev&#x2F;backbone-composite-keys">this</a> extension for backbone which seems to resolve the issue on the backbone end, allowing you to define an array for the idAttribute field in your model. However, restsql will break with array in idAttribute. Just wondering if this has been tried before or if I will have to write something custom.</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="January 30th 2014, 12:49:53 pm">January 30th 2014</span>
				by <span class='authorname'>Nicholas Thurston</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>alloy</span></li>
					
						<li><span class='tagname'>backbone</span></li>
					
						<li><span class='tagname'>models</span></li>
					
				</ul>
			

			<section>
				<h5>4 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Have you finally succesed at making all this work? Does backbone-composite-keys manage well the URLs when doing save()?</p>
<p>Thanks in advance from a Javascript beginner</p>
</div>
							<div class="author">
								&mdash; commented <span title="March 19th 2014, 2:23:50 pm">March 19th 2014</span>
								by <span class='authorname'>Martin Torre Castro</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>I ended up making my own composite field and not using backbone-composite-keys at all.<br>So I made the id field something like [key_field_1]$[key_field_2], then I just split it around the &quot;$&quot; character in my rest api. You just have to make sure to set that field properly when you&#39;re building your models. So for example say I have itemNumber and seqNumber as a composite key, you&#39;d make an additional field called itemNumber$seqNumber and you set that like ITEM1$1, ITEM1$2, etc. Then you accomodate for it in your API. Works for me, but really wish backbone&#x2F;alloy would make a better solution.</p>
<p>Let me know if that doesn&#39;t make sense, I&#39;d be glad to help as I tore my hair out figuring out a workaround.</p>
</div>
							<div class="author">
								&mdash; commented <span title="March 19th 2014, 2:48:41 pm">March 19th 2014</span>
								by <span class='authorname'>Nicholas Thurston</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>I have a composite-key problem at my project: We thought on doing the same thing you did, but we&#39;re still trying to using some library and backbone-composite-keys is our only chance.</p>
<p>You&#39;re truly right when you say this is not a proper solution: Bkacbone should have something implemented for this.</p>
</div>
							<div class="author">
								&mdash; commented <span title="March 19th 2014, 3:53:21 pm">March 19th 2014</span>
								by <span class='authorname'>Martin Torre Castro</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>I&#39;m pretty sure this is essentially what backbone-composite-keys is doing behind the scenes. It joins with a &quot;-&quot; character, and changes backbone model set&#x2F;get functionality. But I think it does not account for sync actions, which is probably why you&#39;re having issue with save.</p>
</div>
							<div class="author">
								&mdash; commented <span title="March 19th 2014, 4:30:03 pm">March 19th 2014</span>
								by <span class='authorname'>Nicholas Thurston</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>1</span> Vote</div>
			<div class="answers"><span>0</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>0 Answers</h3>

	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
