<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Get DATA JSON with loop » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Get DATA JSON with loop</h1>
		</header>
		<section>
			<p>Hello everyone.</p>
<p>I manage to retrieve information from my JSON file.<br>But I would like to know how I can retrieve information with a FOR loop.</p>
<p>Thank you.</p>
<p>my controller agenda.js:</p>
<pre><code class="hljs">$.bt_yes.addEventListener(<span class="hljs-string">'click'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{    
      <span class="hljs-keyword">var</span> json = Ti.Filesystem.getFile(Ti.Filesystem.resourcesDirectory, <span class="hljs-string">'extras/agenda.json'</span>); 
      <span class="hljs-keyword">if</span>(json.exists()){
            <span class="hljs-keyword">var</span> response = <span class="hljs-built_in">JSON</span>.parse(json.read().text);  
          alert(response);
      }
        <span class="hljs-keyword">else</span>{alert(<span class="hljs-string">"pas de fichier"</span>);};
});
</code></pre><p>my file JSON agenda.json:</p>
<pre><code class="hljs">{
    "<span class="hljs-attribute">lundi</span>":<span class="hljs-value">[
        {
            "<span class="hljs-attribute">focus</span>":<span class="hljs-value"><span class="hljs-string">"true"</span></span>,
            "<span class="hljs-attribute">dateJ</span>":<span class="hljs-value"><span class="hljs-string">"25"</span></span>,
            "<span class="hljs-attribute">dateM</span>":<span class="hljs-value"><span class="hljs-string">"Juin"</span></span>,
            "<span class="hljs-attribute">facebook</span>":<span class="hljs-value"><span class="hljs-string">"https://www.facebook.com/pages/Spin-Smashers/141952902582238?fref=ts"</span></span>,
            "<span class="hljs-attribute">imgFocus</span>":<span class="hljs-value"><span class="hljs-string">"img_focus.png"</span></span>,
            "<span class="hljs-attribute">heure</span>":<span class="hljs-value"><span class="hljs-string">"15h"</span></span>,
            "<span class="hljs-attribute">spectacle</span>":<span class="hljs-value"><span class="hljs-string">"SPIN SMASHER"</span></span>,
            "<span class="hljs-attribute">style</span>":<span class="hljs-value"><span class="hljs-string">"éléctro"</span></span>,
            "<span class="hljs-attribute">salle</span>":<span class="hljs-value"><span class="hljs-string">"MC DAID'S"</span></span>,
            "<span class="hljs-attribute">adresse</span>":<span class="hljs-value"><span class="hljs-string">"97 Rue Paul Doumer, 76600 Le Havre"</span></span>,
            "<span class="hljs-attribute">tel</span>":<span class="hljs-value"><span class="hljs-string">"02 35 41 30 40"</span></span>,
            "<span class="hljs-attribute">pub</span>":<span class="hljs-value"><span class="hljs-string">""</span></span>,
            "<span class="hljs-attribute">tarif</span>":<span class="hljs-value"><span class="hljs-string">"0€"</span></span>,
            "<span class="hljs-attribute">texte</span>":<span class="hljs-value"><span class="hljs-string">"Lorem ipsum dolor sit amet, consectetur adipiscing elit. In ut sapien est. Pellentesque ornare condimentum posuere. Morbi nec arcu orci. Pellentesque at luctus dui.Lorem ipsum dolor sit amet, consectetur adipiscing elit. In ut sapien est. Pellentesque ornare condimentum posuere. Morbi nec arcu orci. Pellentesque at luctus dui."</span>
        </span>},
        {
            "<span class="hljs-attribute">focus</span>":<span class="hljs-value"><span class="hljs-string">"true"</span></span>,
            "<span class="hljs-attribute">dateJ</span>":<span class="hljs-value"><span class="hljs-string">"25"</span></span>,
            "<span class="hljs-attribute">dateM</span>":<span class="hljs-value"><span class="hljs-string">"Juin"</span></span>,
            "<span class="hljs-attribute">facebook</span>":<span class="hljs-value"><span class="hljs-string">"https://www.facebook.com/pages/Spin-Smashers/141952902582238?fref=ts"</span></span>,
            "<span class="hljs-attribute">imgFocus</span>":<span class="hljs-value"><span class="hljs-string">"img_focus.png"</span></span>,
            "<span class="hljs-attribute">heure</span>":<span class="hljs-value"><span class="hljs-string">"18h"</span></span>,
            "<span class="hljs-attribute">spectacle</span>":<span class="hljs-value"><span class="hljs-string">"Tombola party"</span></span>,
            "<span class="hljs-attribute">style</span>":<span class="hljs-value"><span class="hljs-string">"éléctro pop"</span></span>,
            "<span class="hljs-attribute">salle</span>":<span class="hljs-value"><span class="hljs-string">"Salle de france"</span></span>,
            "<span class="hljs-attribute">adresse</span>":<span class="hljs-value"><span class="hljs-string">"97 Rue Paul Doumer, 76600 Le Havre"</span></span>,
            "<span class="hljs-attribute">tel</span>":<span class="hljs-value"><span class="hljs-string">"02 35 41 30 40"</span></span>,
            "<span class="hljs-attribute">pub</span>":<span class="hljs-value"><span class="hljs-string">""</span></span>,
            "<span class="hljs-attribute">tarif</span>":<span class="hljs-value"><span class="hljs-string">"0€"</span></span>,
            "<span class="hljs-attribute">texte</span>":<span class="hljs-value"><span class="hljs-string">"Lorem ipsum dolor sit amet, consectetur adipiscing elit. In ut sapien est. Pellentesque ornare condimentum posuere. Morbi nec arcu orci. Pellentesque at luctus dui.Lorem ipsum dolor sit amet, consectetur adipiscing elit. In ut sapien est. Pellentesque ornare condimentum posuere. Morbi nec arcu orci. Pellentesque at luctus dui."</span>
        </span>},
        {
            "<span class="hljs-attribute">focus</span>":<span class="hljs-value"><span class="hljs-string">"true"</span></span>,
            "<span class="hljs-attribute">dateJ</span>":<span class="hljs-value"><span class="hljs-string">"25"</span></span>,
            "<span class="hljs-attribute">dateM</span>":<span class="hljs-value"><span class="hljs-string">"Juin"</span></span>,
            "<span class="hljs-attribute">facebook</span>":<span class="hljs-value"><span class="hljs-string">"https://www.facebook.com/pages/Spin-Smashers/141952902582238?fref=ts"</span></span>,
            "<span class="hljs-attribute">imgFocus</span>":<span class="hljs-value"><span class="hljs-string">"img_focus.png"</span></span>,
            "<span class="hljs-attribute">heure</span>":<span class="hljs-value"><span class="hljs-string">"23h"</span></span>,
            "<span class="hljs-attribute">spectacle</span>":<span class="hljs-value"><span class="hljs-string">"Tombola party"</span></span>,
            "<span class="hljs-attribute">style</span>":<span class="hljs-value"><span class="hljs-string">"éléctro pop"</span></span>,
            "<span class="hljs-attribute">salle</span>":<span class="hljs-value"><span class="hljs-string">"Salle de france"</span></span>,
            "<span class="hljs-attribute">adresse</span>":<span class="hljs-value"><span class="hljs-string">"97 Rue Paul Doumer, 76600 Le Havre"</span></span>,
            "<span class="hljs-attribute">tel</span>":<span class="hljs-value"><span class="hljs-string">"02 35 41 30 40"</span></span>,
            "<span class="hljs-attribute">pub</span>":<span class="hljs-value"><span class="hljs-string">""</span></span>,
            "<span class="hljs-attribute">tarif</span>":<span class="hljs-value"><span class="hljs-string">"0€"</span></span>,
            "<span class="hljs-attribute">texte</span>":<span class="hljs-value"><span class="hljs-string">"Lorem ipsum dolor sit amet, consectetur adipiscing elit. In ut sapien est. Pellentesque ornare condimentum posuere. Morbi nec arcu orci. Pellentesque at luctus dui.Lorem ipsum dolor sit amet, consectetur adipiscing elit. In ut sapien est. Pellentesque ornare condimentum posuere. Morbi nec arcu orci. Pellentesque at luctus dui."</span>
        </span>}



    ]</span>,
    "<span class="hljs-attribute">mardi</span>":<span class="hljs-value">[
        {
            "<span class="hljs-attribute">focus</span>":<span class="hljs-value"><span class="hljs-string">"true"</span></span>,
            "<span class="hljs-attribute">dateJ</span>":<span class="hljs-value"><span class="hljs-string">"25"</span></span>,
            "<span class="hljs-attribute">dateM</span>":<span class="hljs-value"><span class="hljs-string">"Juin"</span></span>,
            "<span class="hljs-attribute">facebook</span>":<span class="hljs-value"><span class="hljs-string">"https://www.facebook.com/pages/Spin-Smashers/141952902582238?fref=ts"</span></span>,
            "<span class="hljs-attribute">imgFocus</span>":<span class="hljs-value"><span class="hljs-string">"img_focus.png"</span></span>,
            "<span class="hljs-attribute">heure</span>":<span class="hljs-value"><span class="hljs-string">"15h"</span></span>,
            "<span class="hljs-attribute">spectacle</span>":<span class="hljs-value"><span class="hljs-string">"SPIN SMASHER"</span></span>,
            "<span class="hljs-attribute">style</span>":<span class="hljs-value"><span class="hljs-string">"éléctro"</span></span>,
            "<span class="hljs-attribute">salle</span>":<span class="hljs-value"><span class="hljs-string">"MC DAID'S"</span></span>,
            "<span class="hljs-attribute">adresse</span>":<span class="hljs-value"><span class="hljs-string">"97 Rue Paul Doumer, 76600 Le Havre"</span></span>,
            "<span class="hljs-attribute">tel</span>":<span class="hljs-value"><span class="hljs-string">"02 35 41 30 40"</span></span>,
            "<span class="hljs-attribute">pub</span>":<span class="hljs-value"><span class="hljs-string">""</span></span>,
            "<span class="hljs-attribute">tarif</span>":<span class="hljs-value"><span class="hljs-string">"0€"</span></span>,
            "<span class="hljs-attribute">texte</span>":<span class="hljs-value"><span class="hljs-string">"Lorem ipsum dolor sit amet, consectetur adipiscing elit. In ut sapien est. Pellentesque ornare condimentum posuere. Morbi nec arcu orci. Pellentesque at luctus dui.Lorem ipsum dolor sit amet, consectetur adipiscing elit. In ut sapien est. Pellentesque ornare condimentum posuere. Morbi nec arcu orci. Pellentesque at luctus dui."</span>
        </span>},
        {
            "<span class="hljs-attribute">focus</span>":<span class="hljs-value"><span class="hljs-string">"true"</span></span>,
            "<span class="hljs-attribute">dateJ</span>":<span class="hljs-value"><span class="hljs-string">"25"</span></span>,
            "<span class="hljs-attribute">dateM</span>":<span class="hljs-value"><span class="hljs-string">"Juin"</span></span>,
            "<span class="hljs-attribute">facebook</span>":<span class="hljs-value"><span class="hljs-string">"https://www.facebook.com/pages/Spin-Smashers/141952902582238?fref=ts"</span></span>,
            "<span class="hljs-attribute">imgFocus</span>":<span class="hljs-value"><span class="hljs-string">"img_focus.png"</span></span>,
            "<span class="hljs-attribute">heure</span>":<span class="hljs-value"><span class="hljs-string">"18h"</span></span>,
            "<span class="hljs-attribute">spectacle</span>":<span class="hljs-value"><span class="hljs-string">"Tombola party"</span></span>,
            "<span class="hljs-attribute">style</span>":<span class="hljs-value"><span class="hljs-string">"éléctro pop"</span></span>,
            "<span class="hljs-attribute">salle</span>":<span class="hljs-value"><span class="hljs-string">"Salle de france"</span></span>,
            "<span class="hljs-attribute">adresse</span>":<span class="hljs-value"><span class="hljs-string">"97 Rue Paul Doumer, 76600 Le Havre"</span></span>,
            "<span class="hljs-attribute">tel</span>":<span class="hljs-value"><span class="hljs-string">"02 35 41 30 40"</span></span>,
            "<span class="hljs-attribute">pub</span>":<span class="hljs-value"><span class="hljs-string">""</span></span>,
            "<span class="hljs-attribute">tarif</span>":<span class="hljs-value"><span class="hljs-string">"0€"</span></span>,
            "<span class="hljs-attribute">texte</span>":<span class="hljs-value"><span class="hljs-string">"Lorem ipsum dolor sit amet, consectetur adipiscing elit. In ut sapien est. Pellentesque ornare condimentum posuere. Morbi nec arcu orci. Pellentesque at luctus dui.Lorem ipsum dolor sit amet, consectetur adipiscing elit. In ut sapien est. Pellentesque ornare condimentum posuere. Morbi nec arcu orci. Pellentesque at luctus dui."</span>
        </span>},
        {
            "<span class="hljs-attribute">focus</span>":<span class="hljs-value"><span class="hljs-string">"true"</span></span>,
            "<span class="hljs-attribute">dateJ</span>":<span class="hljs-value"><span class="hljs-string">"25"</span></span>,
            "<span class="hljs-attribute">dateM</span>":<span class="hljs-value"><span class="hljs-string">"Juin"</span></span>,
            "<span class="hljs-attribute">facebook</span>":<span class="hljs-value"><span class="hljs-string">"https://www.facebook.com/pages/Spin-Smashers/141952902582238?fref=ts"</span></span>,
            "<span class="hljs-attribute">imgFocus</span>":<span class="hljs-value"><span class="hljs-string">"img_focus.png"</span></span>,
            "<span class="hljs-attribute">heure</span>":<span class="hljs-value"><span class="hljs-string">"23h"</span></span>,
            "<span class="hljs-attribute">spectacle</span>":<span class="hljs-value"><span class="hljs-string">"Tombola party"</span></span>,
            "<span class="hljs-attribute">style</span>":<span class="hljs-value"><span class="hljs-string">"éléctro pop"</span></span>,
            "<span class="hljs-attribute">salle</span>":<span class="hljs-value"><span class="hljs-string">"Salle de france"</span></span>,
            "<span class="hljs-attribute">adresse</span>":<span class="hljs-value"><span class="hljs-string">"97 Rue Paul Doumer, 76600 Le Havre"</span></span>,
            "<span class="hljs-attribute">tel</span>":<span class="hljs-value"><span class="hljs-string">"02 35 41 30 40"</span></span>,
            "<span class="hljs-attribute">pub</span>":<span class="hljs-value"><span class="hljs-string">""</span></span>,
            "<span class="hljs-attribute">tarif</span>":<span class="hljs-value"><span class="hljs-string">"0€"</span></span>,
            "<span class="hljs-attribute">texte</span>":<span class="hljs-value"><span class="hljs-string">"Lorem ipsum dolor sit amet, consectetur adipiscing elit. In ut sapien est. Pellentesque ornare condimentum posuere. Morbi nec arcu orci. Pellentesque at luctus dui.Lorem ipsum dolor sit amet, consectetur adipiscing elit. In ut sapien est. Pellentesque ornare condimentum posuere. Morbi nec arcu orci. Pellentesque at luctus dui."</span>
        </span>}



    ]
</span>}
</code></pre>
		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="October 25th 2013, 11:25:48 am">October 25th 2013</span>
				by <span class='authorname'>stephane marry</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>alloy</span></li>
					
						<li><span class='tagname'>data</span></li>
					
						<li><span class='tagname'>json</span></li>
					
						<li><span class='tagname'>loop</span></li>
					
						<li><span class='tagname'>parse</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-270440">
				
						<section>
							<p>Since you&#39;ve tagged this Alloy, you can do this easily:</p>
<pre><code class="hljs">$.bt_yes.addEventListener(<span class="hljs-string">'click'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{   
  <span class="hljs-keyword">var</span> json = Ti.Filesystem.getFile(Ti.Filesystem.resourcesDirectory, <span class="hljs-string">'extras/agenda.json'</span>); 
  <span class="hljs-keyword">if</span>(json.exists()) {
    <span class="hljs-keyword">var</span> response = <span class="hljs-built_in">JSON</span>.parse(json.read().text);
    _.each(response, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">value, key</span>) </span>{
        <span class="hljs-comment">// now you can operate on each key/value pair</span>
    } 
  } <span class="hljs-keyword">else</span> { 
      alert(<span class="hljs-string">"pas de fichier"</span>);
  }
});
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="October 25th 2013, 11:43:44 am">October 25th 2013</span>
								by <span class='authorname'>Tony Lukasavage</span><br>
								<a class="icon-bg icon-link" href="question/158784/get-data-json-with-loop#answer-270440" rel="permalink">permalink</a>
							</div>

							<h5>12 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>@Tony - Nice, must admit I had not spotted <strong>each</strong>, another thing to add to my Alloy KB.</p>
</p>
										<div class="author">
											&mdash; commented <span title="October 25th 2013, 11:54:48 am">October 25th 2013</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I prefer your way even though the question was specifically how to use FOR ;-)</p>
</p>
										<div class="author">
											&mdash; commented <span title="October 25th 2013, 11:59:27 am">October 25th 2013</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>i try this, but i have an syntax error &quot;{&quot;. I don&quot;t  know how write with &quot;_.each&quot;.</p>
<pre><code class="hljs"> <span class="hljs-keyword">if</span>(json.exists()) {
    <span class="hljs-keyword">var</span> response = JSON.parse(json.read().text);
    _.<span class="hljs-keyword">each</span>(response, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(value, key)</span> </span>{
        <span class="hljs-comment">// now you can operate on each key/value pair</span>
    } 
  } <span class="hljs-keyword">else</span> { 
    alert(<span class="hljs-string">"pas de fichier"</span>);
  }
});
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="October 25th 2013, 12:42:39 pm">October 25th 2013</span>
											by <span class='authorname'>stephane marry</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>i get it. Thanks</p>
<pre><code class="hljs">   <span class="hljs-keyword">var</span> response = JSON.parse(json.read().text);
        _.<span class="hljs-keyword">each</span>(response, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(value, key)</span> </span>{
           alert(key);
         )};
      } <span class="hljs-keyword">else</span> { 
        alert(<span class="hljs-string">"pas de fichier"</span>);
      }
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="October 25th 2013, 1:39:58 pm">October 25th 2013</span>
											by <span class='authorname'>stephane marry</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Now i&#39;m other problems :</p>
<pre><code class="hljs">[<span class="hljs-constant">INFO</span>] :   ----- <span class="hljs-constant">MVC</span> <span class="hljs-constant">GENERATION</span> -----
[<span class="hljs-constant">INFO</span>] :   [agenda.xml] view processing...
[<span class="hljs-constant">INFO</span>] :     <span class="hljs-symbol">style:</span>      <span class="hljs-string">"agenda.tss"</span>
[<span class="hljs-constant">INFO</span>] :     <span class="hljs-symbol">view:</span>       <span class="hljs-string">"agenda.xml"</span>
[<span class="hljs-constant">INFO</span>] :     <span class="hljs-symbol">controller:</span> <span class="hljs-string">"agenda.js"</span>
[<span class="hljs-constant">WARN</span>] :   : <span class="hljs-constant">ERROR</span>: <span class="hljs-constant">Unexpected</span> <span class="hljs-symbol">token:</span> punc ()) [<span class="hljs-symbol">null:</span><span class="hljs-number">7</span>,<span class="hljs-number">6</span>]
[<span class="hljs-constant">ERROR</span>] :  (message, line, col, pos);
[<span class="hljs-constant">ERROR</span>] :  
[<span class="hljs-constant">ERROR</span>] :  (<span class="hljs-regexp">/usr/local</span><span class="hljs-regexp">/lib/node</span>_modules/alloy/node_modules/uglify-js/<span class="hljs-class"><span class="hljs-keyword">lib</span>/<span class="hljs-title">parse</span>.<span class="hljs-title">js</span>:185:18)</span>
[<span class="hljs-constant">ERROR</span>] :  (<span class="hljs-regexp">/usr/local</span><span class="hljs-regexp">/lib/node</span>_modules/alloy/node_modules/uglify-js/<span class="hljs-class"><span class="hljs-keyword">lib</span>/<span class="hljs-title">parse</span>.<span class="hljs-title">js</span>:199:11)</span>
[<span class="hljs-constant">ERROR</span>] :  (<span class="hljs-regexp">/usr/local</span><span class="hljs-regexp">/lib/node</span>_modules/alloy/node_modules/uglify-js/<span class="hljs-class"><span class="hljs-keyword">lib</span>/<span class="hljs-title">parse</span>.<span class="hljs-title">js</span>:638:9)</span>
[<span class="hljs-constant">ERROR</span>] :  <span class="hljs-constant">Alloy</span> compiler failed
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="October 25th 2013, 1:46:14 pm">October 25th 2013</span>
											by <span class='authorname'>stephane marry</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I think you got confused with the syntax, try this;</p>
<pre><code class="hljs"><span class="hljs-keyword">if</span> (json.exists()) {
    <span class="hljs-keyword">var</span> response = JSON.parse(json.read().text);
    _.<span class="hljs-keyword">each</span>(response, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(value, key)</span> </span>{
       alert(key);
    )};
} <span class="hljs-keyword">else</span> { 
    alert(<span class="hljs-string">"pas de fichier"</span>);
}
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="October 25th 2013, 1:50:17 pm">October 25th 2013</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>It&#39;s ok but, i&#39; have an error. You can look my last comment please?<br>Thanks, i don&#39;t understand this error…</p>
</p>
										<div class="author">
											&mdash; commented <span title="October 25th 2013, 1:59:08 pm">October 25th 2013</span>
											by <span class='authorname'>stephane marry</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>That error could be anywhere in your agenda.js file (but I would start with line 7, column 6 based on the error), but the following syntax should be valid:</p>
<pre><code class="hljs">$.bt_yes.addEventListener(<span class="hljs-string">'click'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{   
  <span class="hljs-keyword">var</span> json = Ti.Filesystem.getFile(Ti.Filesystem.resourcesDirectory, <span class="hljs-string">'extras/agenda.json'</span>); 
  <span class="hljs-keyword">if</span>(json.exists()) {
    <span class="hljs-keyword">var</span> response = <span class="hljs-built_in">JSON</span>.parse(json.read().text);
    _.each(response, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">value, key</span>) </span>{
        <span class="hljs-comment">// now you can operate on each key/value pair</span>
    });
  } <span class="hljs-keyword">else</span> { 
    alert(<span class="hljs-string">"pas de fichier"</span>);
  }
});
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="October 25th 2013, 2:11:21 pm">October 25th 2013</span>
											by <span class='authorname'>Tony Lukasavage</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I try with agenda.json of application CodeStrong and i have as error.<br>I don&#39;t understand…</p>
</p>
										<div class="author">
											&mdash; commented <span title="October 25th 2013, 2:24:46 pm">October 25th 2013</span>
											by <span class='authorname'>stephane marry</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Still I have the same problem. Someone there an answer? Please :(</p>
</p>
										<div class="author">
											&mdash; commented <span title="October 27th 2013, 8:32:43 am">October 27th 2013</span>
											by <span class='authorname'>stephane marry</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Your problem no longer appears related to the code you asked us to help with, both Tony and I have provided different methods to help with that and both should work fine.</p>
<p>As Tony pointed out the error you are getting is pointing to a line of code that you should investigate, if you cannot see the error from there provide your code that includes that line (indicating which line had the error), keep in mind we do NOT want all the code - just the code related to where the error line number is pointing and anything that code is dependant on, likely no more than 20 - 30 lines of code.</p>
</p>
										<div class="author">
											&mdash; commented <span title="October 27th 2013, 9:57:52 am">October 27th 2013</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>First: I do not want all that you give me the code, this is not the question.</p>
<p>second:<br>Here is the error that the compiler gives me:</p>
<pre><code class="hljs">[<span class="hljs-constant">INFO</span>] :   ----- <span class="hljs-constant">MVC</span> <span class="hljs-constant">GENERATION</span> -----
[<span class="hljs-constant">INFO</span>] :   [agenda.xml] view processing...
[<span class="hljs-constant">INFO</span>] :     <span class="hljs-symbol">style:</span>      <span class="hljs-string">"agenda.tss"</span>
[<span class="hljs-constant">INFO</span>] :     <span class="hljs-symbol">view:</span>       <span class="hljs-string">"agenda.xml"</span>
[<span class="hljs-constant">INFO</span>] :     <span class="hljs-symbol">controller:</span> <span class="hljs-string">"agenda.js"</span>
[<span class="hljs-constant">WARN</span>] :   : <span class="hljs-constant">ERROR</span>: <span class="hljs-constant">Unexpected</span> <span class="hljs-symbol">token:</span> punc ()) [<span class="hljs-symbol">null:</span><span class="hljs-number">8</span>,<span class="hljs-number">6</span>]
[<span class="hljs-constant">ERROR</span>] :  (message, line, col, pos);
[<span class="hljs-constant">ERROR</span>] :  
[<span class="hljs-constant">ERROR</span>] :  (<span class="hljs-regexp">/usr/local</span><span class="hljs-regexp">/lib/node</span>_modules/alloy/node_modules/uglify-js/<span class="hljs-class"><span class="hljs-keyword">lib</span>/<span class="hljs-title">parse</span>.<span class="hljs-title">js</span>:185:18)</span>
[<span class="hljs-constant">ERROR</span>] :  (<span class="hljs-regexp">/usr/local</span><span class="hljs-regexp">/lib/node</span>_modules/alloy/node_modules/uglify-js/<span class="hljs-class"><span class="hljs-keyword">lib</span>/<span class="hljs-title">parse</span>.<span class="hljs-title">js</span>:199:11)</span>
[<span class="hljs-constant">ERROR</span>] :  (<span class="hljs-regexp">/usr/local</span><span class="hljs-regexp">/lib/node</span>_modules/alloy/node_modules/uglify-js/<span class="hljs-class"><span class="hljs-keyword">lib</span>/<span class="hljs-title">parse</span>.<span class="hljs-title">js</span>:638:9)</span>
[<span class="hljs-constant">ERROR</span>] :  <span class="hljs-constant">Alloy</span> compiler failed
</code></pre><p>And here my code controler agenda.js</p>
<pre><code class="hljs">$.bt_yes.addEventListener(<span class="hljs-string">'click'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{    
      <span class="hljs-keyword">var</span> json = Ti.Filesystem.getFile(Ti.Filesystem.resourcesDirectory, <span class="hljs-string">'extras/agenda.json'</span>); 
      <span class="hljs-keyword">if</span>(json.exists()) {
        <span class="hljs-keyword">var</span> response = <span class="hljs-built_in">JSON</span>.parse(json.read().text);
        _.each(response, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">key,value</span>) </span>{
            alert(value);
           <span class="hljs-comment">//</span>
         )};
      } <span class="hljs-keyword">else</span> { 
        alert(<span class="hljs-string">"pas de fichier"</span>);
      }
});
</code></pre><p>The error can only come from the controller or json file, knowing that I tried a json file codeStrong the application and it shows me the same error, I guess it does not come from the JSON file.<br>And in the controller I have nothing more than the lines that I copied above.<br>I&#39;m really sorry, but I really do not understand how. Knowing that for me the error can not be on these two files.<br>Thank you again for your help and sorry again for the inconvenience.</p>
</p>
										<div class="author">
											&mdash; commented <span title="October 28th 2013, 7:14:26 am">October 28th 2013</span>
											by <span class='authorname'>stephane marry</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-270439">
				
						<section>
							<p>Hi</p>
<p>You actually have two arrays inside that data structure that you would us a for next loop for - here is some basic code using your data to show you how.</p>
<pre><code class="hljs">var intItem = 0;
var intItems = response.lundi.length; // how many items do we need to loop
var item = {}; // will hold each item in loop - for simplicity only
// loop all items in this<span class="hljs-instruction"> array
</span>for<span class="hljs-function"> (</span>intItem = 0; intItem &lt; intItems; intItem = intItem + 1<span class="hljs-function">)</span> {
    item = response.lundi<span class="hljs-keyword">[</span>intItem]; // set current<span class="hljs-instruction"> array </span>element into a cache variable
    // show the node <span class="hljs-string">"spectacle"</span> in the console for each entry
   <span class="hljs-function"> Ti.API.info(</span>'data.spectacle: <span class="hljs-string">" + data.spectacle);
}</span>
</code></pre><p>The cache variable <strong>data</strong> now directly accesses each array element as it loops, so the first loop it can access any of these;</p>
<pre><code class="hljs">{
    "<span class="hljs-attribute">focus</span>": <span class="hljs-value"><span class="hljs-string">"true"</span></span>,
    "<span class="hljs-attribute">dateJ</span>": <span class="hljs-value"><span class="hljs-string">"25"</span></span>,
    "<span class="hljs-attribute">dateM</span>": <span class="hljs-value"><span class="hljs-string">"Juin"</span></span>,
    "<span class="hljs-attribute">facebook</span>": <span class="hljs-value"><span class="hljs-string">"https://www.facebook.com/pages/Spin-Smashers/141952902582238?fref=ts"</span></span>,
    "<span class="hljs-attribute">imgFocus</span>": <span class="hljs-value"><span class="hljs-string">"img_focus.png"</span></span>,
    "<span class="hljs-attribute">heure</span>": <span class="hljs-value"><span class="hljs-string">"15h"</span></span>,
    "<span class="hljs-attribute">spectacle</span>": <span class="hljs-value"><span class="hljs-string">"SPIN SMASHER"</span></span>,
    "<span class="hljs-attribute">style</span>": <span class="hljs-value"><span class="hljs-string">"éléctro"</span></span>,
    "<span class="hljs-attribute">salle</span>": <span class="hljs-value"><span class="hljs-string">"MC DAID'S"</span></span>,
    "<span class="hljs-attribute">adresse</span>": <span class="hljs-value"><span class="hljs-string">"97 Rue Paul Doumer, 76600 Le Havre"</span></span>,
    "<span class="hljs-attribute">tel</span>": <span class="hljs-value"><span class="hljs-string">"02 35 41 30 40"</span></span>,
    "<span class="hljs-attribute">pub</span>": <span class="hljs-value"><span class="hljs-string">""</span></span>,
    "<span class="hljs-attribute">tarif</span>": <span class="hljs-value"><span class="hljs-string">"0€"</span></span>,
    "<span class="hljs-attribute">texte</span>": <span class="hljs-value"><span class="hljs-string">"Lorem ipsum dolor sit amet, consectetur adipiscing elit. In ut sapien est. Pellentesque ornare condimentum posuere. Morbi nec arcu orci. Pellentesque at luctus dui.Lorem ipsum dolor sit amet, consectetur adipiscing elit. In ut sapien est. Pellentesque ornare condimentum posuere. Morbi nec arcu orci. Pellentesque at luctus dui."</span>
</span>}
</code></pre><p>As this is the first entry in the raw json data.</p>
<p>You can then repeat this process when you want to access the <em>mardi</em> branch.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="October 25th 2013, 11:40:13 am">October 25th 2013</span>
								by <span class='authorname'>Malcolm Hollingsworth</span><br>
								<a class="icon-bg icon-link" href="question/158784/get-data-json-with-loop#answer-270439" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
