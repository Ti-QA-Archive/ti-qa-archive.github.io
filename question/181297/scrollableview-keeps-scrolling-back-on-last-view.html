<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>ScrollableView keeps scrolling back on last view Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>ScrollableView keeps scrolling back on last view</h1>
		</header>
		<section>
			<p>Hi, on iOS (iPad) I have a scrollableView</p>
<pre><code class="hljs"> <span class="hljs-tag">&lt;<span class="hljs-title">ScrollableView</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"scrollableView"</span> <span class="hljs-attribute">showPagingControl</span>=<span class="hljs-value">"true"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">View</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"view1"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">Button</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"fa-button btn_next"</span> <span class="hljs-attribute">onClick</span>=<span class="hljs-value">"nextV"</span> <span class="hljs-attribute">icon</span>=<span class="hljs-value">"fa-angle-right"</span>&gt;</span>NXT<span class="hljs-tag">&lt;/<span class="hljs-title">Button</span>&gt;</span> 
    <span class="hljs-tag">&lt;/<span class="hljs-title">View</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">View</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"view2"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">Button</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"fa-button btn_prev"</span> <span class="hljs-attribute">onClick</span>=<span class="hljs-value">"previousV"</span> <span class="hljs-attribute">icon</span>=<span class="hljs-value">"fa-angle-left"</span>&gt;</span>PREV<span class="hljs-tag">&lt;/<span class="hljs-title">Button</span>&gt;</span>  
        <span class="hljs-tag">&lt;<span class="hljs-title">Button</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"fa-button btn_next"</span> <span class="hljs-attribute">onClick</span>=<span class="hljs-value">"nextV"</span> <span class="hljs-attribute">icon</span>=<span class="hljs-value">"fa-angle-right"</span>&gt;</span>NXT<span class="hljs-tag">&lt;/<span class="hljs-title">Button</span>&gt;</span> 
    <span class="hljs-tag">&lt;/<span class="hljs-title">View</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">View</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"view3"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">Button</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"fa-button btn_prev"</span> <span class="hljs-attribute">onClick</span>=<span class="hljs-value">"previousV"</span> <span class="hljs-attribute">icon</span>=<span class="hljs-value">"fa-angle-left"</span>&gt;</span>PREV<span class="hljs-tag">&lt;/<span class="hljs-title">Button</span>&gt;</span>  
        <span class="hljs-tag">&lt;<span class="hljs-title">Button</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"fa-button btn_next"</span> <span class="hljs-attribute">onClick</span>=<span class="hljs-value">"nextV"</span> <span class="hljs-attribute">icon</span>=<span class="hljs-value">"fa-angle-right"</span>&gt;</span>NXT<span class="hljs-tag">&lt;/<span class="hljs-title">Button</span>&gt;</span> 
    <span class="hljs-tag">&lt;/<span class="hljs-title">View</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">View</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"view4"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">Button</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"fa-button btn_prev"</span> <span class="hljs-attribute">onClick</span>=<span class="hljs-value">"previousV"</span> <span class="hljs-attribute">icon</span>=<span class="hljs-value">"fa-angle-left"</span>&gt;</span>PREV<span class="hljs-tag">&lt;/<span class="hljs-title">Button</span>&gt;</span>  
        <span class="hljs-tag">&lt;<span class="hljs-title">Button</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"fa-button btn_next"</span> <span class="hljs-attribute">onClick</span>=<span class="hljs-value">"nextV"</span> <span class="hljs-attribute">icon</span>=<span class="hljs-value">"fa-angle-right"</span>&gt;</span>NXT<span class="hljs-tag">&lt;/<span class="hljs-title">Button</span>&gt;</span> 
    <span class="hljs-tag">&lt;/<span class="hljs-title">View</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">View</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"view5"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">Button</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"fa-button btn_prev"</span> <span class="hljs-attribute">onClick</span>=<span class="hljs-value">"previousV"</span> <span class="hljs-attribute">icon</span>=<span class="hljs-value">"fa-angle-left"</span>&gt;</span>PREV<span class="hljs-tag">&lt;/<span class="hljs-title">Button</span>&gt;</span>  
    <span class="hljs-tag">&lt;/<span class="hljs-title">View</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">ScrollableView</span>&gt;</span>
</code></pre><p>Then I use both a button and the swipe gestire to ge to  the next&#x2F;previous page:</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> viewIndex =<span class="hljs-number">0</span>;

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">nextV</span>(<span class="hljs-params">e</span>)</span>{
    viewIndex++;
    $.scrollableView.scrollToView(viewIndex);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">previousV</span>(<span class="hljs-params">e</span>)</span>{
    viewIndex--;
    $.scrollableView.scrollToView(viewIndex);
}

$.scrollableView.addEventListener(<span class="hljs-string">'scrollEnd'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
    <span class="hljs-comment">// we make sure that the event was triggered by the main scroller. </span>
    <span class="hljs-keyword">if</span>( !e.source.mainScroller ){
      <span class="hljs-keyword">return</span>;
    }
    viewIndex = $.scrollableView.currentPage;
});
</code></pre><p>Everything works perfectly except on the 4th view, clicking next systematically goes to the 5th view and straight back to the 4th. If I press it 4, sometimes 6, sometimes 3 times, it does go to destination.</p>
<p>This is making me crazy. Can anyone help?</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="March 9th 2015, 5:40:58 am">March 9th 2015</span>
				by <span class='authorname'>Gary Fletcher</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>ios</span></li>
					
						<li><span class='tagname'>scrollableview</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-286369">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>Hi Gary Fletcher,</p>
<p>Increase and decrease view index only if it is in range means &gt;0 and &lt; total number of views.<br> because if you set view index &lt; 0 it&#39;s set zero and if you set &gt; total number views it set last page by default.</p>
<p>i changed in your code<br>e.g</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> viewIndex = <span class="hljs-number">0</span>;
<span class="hljs-keyword">var</span> viewLength = $.scrollableView.views.length;
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">nextV</span>(<span class="hljs-params">e</span>) </span>{
    viewIndex++;
    <span class="hljs-keyword">if</span> (viewIndex &gt;= viewLength) {
        viewIndex = viewLength-<span class="hljs-number">1</span>;
        alert(<span class="hljs-string">"This is the last page"</span>);
    } <span class="hljs-keyword">else</span> {
        $.scrollableView.scrollToView(viewIndex);
    }
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">previousV</span>(<span class="hljs-params">e</span>) </span>{
    viewIndex--;
    <span class="hljs-keyword">if</span> (viewIndex &gt;= <span class="hljs-number">0</span>) {
        $.scrollableView.scrollToView(viewIndex);
    } <span class="hljs-keyword">else</span> {
        viewIndex = <span class="hljs-number">0</span>;
        alert(<span class="hljs-string">"This is the first page"</span>);
    }
}

$.scrollableView.addEventListener(<span class="hljs-string">'scrollEnd'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
    <span class="hljs-comment">// we make sure that the event was triggered by the main scroller.</span>
    <span class="hljs-keyword">if</span> (!e.source.mainScroller) {
        <span class="hljs-keyword">return</span>;
    }
    <span class="hljs-comment">//viewIndex = $.scrollableView.currentPage;</span>
});
</code></pre><p> try this one</p>
<p>Thanks</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="March 9th 2015, 7:52:13 am">March 9th 2015</span>
								by <span class='authorname'>Nilesh Patel</span><br>
								<a class="icon-bg icon-link" href="../../question/181297/scrollableview-keeps-scrolling-back-on-last-view.html#answer-286369" rel="permalink">permalink</a>
							</div>

							<h5>3 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Thanks Nilesh. However it didn&#39;t change anything. I&#39;m not going beyond the number of views (I track it in the debug console) so there is something elseâ¦</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 9th 2015, 9:23:39 am">March 9th 2015</span>
											by <span class='authorname'>Gary Fletcher</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Yes actually i tried with creating two buttons only and which is added on scrollable view not in every views.. and it&#39;s working fine so if possible try to add two buttons only..  As per your code there is no any mistake but try other way because it is also not good to add button to in each viewsâ¦ so if possible change and check it&#39;s working or not</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 9th 2015, 9:52:16 am">March 9th 2015</span>
											by <span class='authorname'>Nilesh Patel</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Well taking the buttons out of each view into one common set fixed the issue (together with the code above). I don&#39;t know why it cannot work the other way but hey, let&#39;s not complain! I have a lot of code in there and I wanted to avoid taking the buttons out (also because they&#39;re not always the same on each page) but now it&#39;s fixed so that&#39;s good.</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 10th 2015, 12:01:29 am">March 10th 2015</span>
											by <span class='authorname'>Gary Fletcher</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
