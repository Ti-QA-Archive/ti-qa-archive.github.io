<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>How to use a value attained from a webview » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>How to use a value attained from a webview</h1>
		</header>
		<section>
			<p>I have a titanium app that is a combination of web views and titanium views. I know how to get a value<br>from a web view but I can not seem to figure out how to use the value in a function in the titanium app.<br>Basically I have a list that needs to be filtered based on the string value that is selected from the drop down in the web view. The code that generates the list is in the titanium part of the app. Thanks</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="September 29th 2014, 1:10:48 am">September 29th 2014</span>
				by <span class='authorname'>Jeremy Dubicki</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>titanium</span></li>
					
						<li><span class='tagname'>webview</span></li>
					
				</ul>
			

			<section>
				<h5>2 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Could you please provide a code sample of what you have tried so far?</p>
</div>
							<div class="author">
								&mdash; commented <span title="September 29th 2014, 1:41:39 am">September 29th 2014</span>
								by <span class='authorname'>Patrick Seda</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>This is an example of what I have and what I want to do.</p>
<p>&#x2F;&#x2F; What I have so far; I can get the value from the web view and log it t the console<br>&#x2F;&#x2F; The dropdown consists of three options; name, speciality, and distance</p>
<p>Ti.App.addEventListener(&#39;app:sortWebView&#39;, function(f) {<br>    var filterResult = f.message;<br>    console.log(&quot;====&gt; &quot; + filterResult);<br>});</p>
<p>&#x2F;&#x2F; This is what I want to add</p>
<p>if (filterResult == &quot;name&quot; {<br>    &#x2F;&#x2F; Filter by name<br>} else if (filterResult == &quot;speciality&quot;) {<br>    &#x2F;&#x2F; Filter by speciality<br>}</p>
<p>} else if (filterResult == &quot;distance&quot;) {<br>    &#x2F;&#x2F; Filter by distance<br>}</p>
</div>
							<div class="author">
								&mdash; commented <span title="September 29th 2014, 10:52:16 am">September 29th 2014</span>
								by <span class='authorname'>Jeremy Dubicki</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-282737">
				
						<section>
							<p>so i think you can use global variable to store value and then call the titanium function within the web view code.</p>
<p>to store value globally, you can use <code>Ti.App.Properties</code>.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="September 29th 2014, 5:15:30 am">September 29th 2014</span>
								by <span class='authorname'>Mitul Bhalia</span><br>
								<a class="icon-bg icon-link" href="question/178023/how-to-use-a-value-attained-from-a-webview#answer-282737" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-282754">
				
						<section>
							<p>Your question is a little perplexing, since you seem to have all the pieces in your example. (You also have an additional &quot;}&quot; before your last &quot;else if&quot;; I don&#39;t know if that&#39;s part of your problem or just a typo when you posted the code).</p>
<p>Just add the logic to the event listener function.  I find that when you want to do a lot of work in the event listener, it can be helpful to declare the function with a name rather than using an anonymous function.</p>
<pre><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">onwebviewsort</span> (<span class="hljs-params">e</span>)
</span>{
    <span class="hljs-keyword">var</span> filterResult = e.message;
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"====&gt; "</span> + filterResult);
    <span class="hljs-keyword">if</span> (filterResult == <span class="hljs-string">"name"</span> { 
        <span class="hljs-comment">// Filter by name </span>
    }
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (filterResult == <span class="hljs-string">"speciality"</span>) {
        <span class="hljs-comment">// Filter by speciality</span>
    }
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (filterResult == <span class="hljs-string">"distance"</span>) {
        <span class="hljs-comment">// Filter by distance</span>
    }
}

Ti.App.addEventListener(<span class="hljs-string">'app:sortWebView'</span>, onwebviewsort);
</code></pre><p>Note – I changed &quot;f&quot; to &quot;e&quot;, as &quot;e&quot; is a more typical variable name for the event passed to an event listener function.  Also, &quot;message&quot; is not a good name for the property that you&#39;re using to pass the value back from the WebView.  </p>
<p>Something like <code>e.selected_value</code> would make more sense.  I didn&#39;t change that because that would require a change to the code running inside the WebView, which you don&#39;t present here. </p>
<p>BTW – take a good look at the markdown syntax for the Q&amp;A; it will format your code to make it much easier for us to read it and give advice.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="September 29th 2014, 11:38:07 pm">September 29th 2014</span>
								by <span class='authorname'>Jason Priebe</span><br>
								<a class="icon-bg icon-link" href="question/178023/how-to-use-a-value-attained-from-a-webview#answer-282754" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
