<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Trying to Set GPS as location provider (Android) » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Trying to Set GPS as location provider (Android)</h1>
		</header>
		<section>
			<p>here is the code i&#39;ve try&#39;ed</p>
<pre><code class="hljs">cmdGetcords.addEventListener(<span class="hljs-string">'click'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span></span>{

Titanium.Geolocation.getCurrentPosition(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span>
    </span>{    
        Titanium.Geolocation.ACCURACY_BEST;
        Titanium.Geolocation.preferredProvider = Titanium.Geolocation.PROVIDER_GPS;
        Titanium.Geolocation.PROVIDER_GPS;
</code></pre><p>I&#39;m really confused on this… Any help?</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="October 17th 2011, 4:11:50 pm">October 17th 2011</span>
				by <span class='authorname'>Reilly Schreiber</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>gps</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-221148">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>I think what you want is the location event handler, not getCurrentPosition.  getCurrentPosition returns the last known position it doesn&#39;t really get the current position.</p>
<pre><code class="hljs">Titanium.Geolocation.ACCURACY_BEST<span class="hljs-comment">;</span>
Titanium.Geolocation.preferredProvider = Titanium.Geolocation.PROVIDER_GPS<span class="hljs-comment">;</span>
Titanium.Geolocation.addEventListener('location',handleNewLocation)<span class="hljs-comment">;</span>
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="October 17th 2011, 4:25:56 pm">October 17th 2011</span>
								by <span class='authorname'>Frank A</span><br>
								<a class="icon-bg icon-link" href="question/126964/trying-to-set-gps-as-location-provider-android#answer-221148" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>2</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-221263">
				
						<section>
							<p>okay if I put down,</p>
<pre><code class="hljs">Titanium.Geolocation.addEventListener(<span class="hljs-string">'location'</span>, handleNewLocation);
</code></pre><p>I&#39;m getting handleNewLocation is not defined….</p>
<p>Is there something I&#39;m compleatly overlooking thats very simple. I tend to focus on things to much…</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="October 18th 2011, 3:35:59 pm">October 18th 2011</span>
								by <span class='authorname'>Reilly Schreiber</span><br>
								<a class="icon-bg icon-link" href="question/126964/trying-to-set-gps-as-location-provider-android#answer-221263" rel="permalink">permalink</a>
							</div>

							<h5>5 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Sorry, I didn&#39;t include handleNewLocation, that would be a function where you handle the new location :-)</p>
<pre><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">handleNewLocation</span><span class="hljs-params">(e)</span>
</span>{
<span class="hljs-comment">//your code</span>
}
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="October 18th 2011, 4:04:56 pm">October 18th 2011</span>
											by <span class='authorname'>Frank A</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Well, i&#39;m still not getting any action happening when i click my button, but no error either, Is there some peace of code that i&#39;m missing to make my app use the gps? my gps on my phone is on… but when an app uses my phone it usually shows the gps flashing in the notification bar…. any thought on this?</p>
<p>here is my button and the code…</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> latitude ;
<span class="hljs-keyword">var</span> longitude ;


cmdGetcords.addEventListener(<span class="hljs-string">'click'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span></span>{

        Titanium.Geolocation.ACCURACY_BEST;
        Titanium.Geolocation.preferredProvider = Titanium.Geolocation.PROVIDER_GPS;
        Titanium.Geolocation.addEventListener(<span class="hljs-string">'location'</span>, handleNewLocation);
            <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">handleNewLocation</span><span class="hljs-params">(e)</span>
            </span>{
            longitude = e.coords.longitude;
            latitude = e.coords.latitude;
            Ti.App.fireEvent(<span class="hljs-string">"app:getCoords"</span>, e.coords);

            txtCords.text = <span class="hljs-string">'longitude: '</span> + longitude + <span class="hljs-string">' latitude: '</span> + latitude;
            }
});
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="October 20th 2011, 3:24:29 pm">October 20th 2011</span>
											by <span class='authorname'>Reilly Schreiber</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Any help on this?</p>
</p>
										<div class="author">
											&mdash; commented <span title="October 21st 2011, 3:22:18 pm">October 21st 2011</span>
											by <span class='authorname'>Reilly Schreiber</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Any help on this?</p>
</p>
										<div class="author">
											&mdash; commented <span title="October 24th 2011, 3:26:28 pm">October 24th 2011</span>
											by <span class='authorname'>Reilly Schreiber</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Any help on this?</p>
</p>
										<div class="author">
											&mdash; commented <span title="October 25th 2011, 3:34:48 pm">October 25th 2011</span>
											by <span class='authorname'>Reilly Schreiber</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
