<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Ti.UI.Switch switching to &#34;off&#34; upon resume » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Ti.UI.Switch switching to &#34;off&#34; upon resume</h1>
		</header>
		<section>
			<p>I&#39;m developing an iPad app using the latest Mobile SDK version 2.1.3.GA, and when building to iPad on the simulator and on the actual device (I haven&#39;t tried on iPhone or Android), my Ti.UI.Switch elements always switch back to the &quot;off&quot; position, no matter what their state was when the app comes back to active after being in the background.</p>
<p>For example, I have a layer switching dialog (a Popover) which allows users to turn things on and off. If they make the popover display that holds the switches, then hit the home button to return to the home screen, then come back into the app, you can watch all the switches that were in the &quot;on&quot; position animate to &quot;off&quot;. There is no event fired for the switch event either, it just happens silently.</p>
<p>My current &quot;fix&quot; is to keep track of what the value of the switch <em>should</em> be, and then on capturing the &quot;resume&quot; event from the app, ensuring the switch is flipped to the correct state:</p>
<pre><code class="hljs">Ti.App.addEventListener(<span class="hljs-string">'resume'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span></span>{
    <span class="hljs-keyword">if</span>(obj.isOn != obj.sw.getValue()){
        obj.sw.setValue(obj.isOn);
    }
});
</code></pre><p>I&#39;m thinking this must be a bug unless I haven&#39;t seen some configuration parameter that would force this kind of behavior. Does anyone else see this? I haven&#39;t been able to find any bugs posted on jira about this, and also I can&#39;t see how to post a bug for the Mobile project, just some others that aren&#39;t relevant.</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="October 9th 2012, 11:02:02 am">October 9th 2012</span>
				by <span class='authorname'>Matt Mendick</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>bug</span></li>
					
						<li><span class='tagname'>mobile</span></li>
					
						<li><span class='tagname'>resume</span></li>
					
						<li><span class='tagname'>switch</span></li>
					
				</ul>
			

			<section>
				<h5>2 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Hi Matt, though i did not find any scenario like this, but it seems interesting so just want to ensure one thing. You are just putting app in the background by pressing home button? and not killing the app in the background? and result is like this which you described here.</p>
</div>
							<div class="author">
								&mdash; commented <span title="October 9th 2012, 6:24:38 pm">October 9th 2012</span>
								by <span class='authorname'>Ashish Nigam</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Ashish, yes, I&#39;m sorry I didn&#39;t specify that at first, but yes, I&#39;m putting the app into the background by pressing the home button. This also occurs if the device is allowed to sit idle so that the screen turns off. When you awaken the iPad the same effect occurs. Thanks for your interest!</p>
</div>
							<div class="author">
								&mdash; commented <span title="October 9th 2012, 6:31:38 pm">October 9th 2012</span>
								by <span class='authorname'>Matt Mendick</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-253134">
				
						<section>
							<p>How does your app load the window? If you have used the switch.value property then it may be set to refresh the screen on reload and reload that value set? Maybe take out the switch.value property and test again?</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="December 20th 2012, 1:35:24 am">December 20th 2012</span>
								by <span class='authorname'>Andy Leavers</span><br>
								<a class="icon-bg icon-link" href="question/143261/tiuiswitch-switching-to-off-upon-resume#answer-253134" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Thanks for the response, Andy. I&#39;ll give that a try when I am able to go back to that.</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 20th 2012, 11:14:57 am">December 20th 2012</span>
											by <span class='authorname'>Matt Mendick</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
