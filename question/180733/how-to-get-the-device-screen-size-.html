<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>How to get the device screen size ? » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>How to get the device screen size ?</h1>
		</header>
		<section>
			<p>Hello everybody !<br>I&#39;m here because I&#39;ve got a problem.<br>I want to get the device screen height and width.<br>I&#39;ve tried</p>
<pre><code class="hljs">screenHeight = Ti.Platform.displayCaps.platformHeight<span class="hljs-comment">;</span>
screenWidth = Ti.Platform.displayCaps.platformWidth<span class="hljs-comment">;</span>
</code></pre><p>I work with a Samsung Galaxy S5, and when I do that, it returns me 1080*1920.<br>But, when I try to move an image like this :</p>
<pre><code class="hljs"><span class="hljs-function"><span class="hljs-title">if</span><span class="hljs-params">(image.bottom &lt; screenHeight)</span></span>
<span class="hljs-comment">//move the image</span>
</code></pre><p>it doesn&#39;t work ! </p>
<p>I&#39;m just trying to make a Flappy Bird, and I can&#39;t do it because of this problem. My bird can always exit ofthe screen.<br>More, I need to adapt my code for each type of Android phone (and IOS next).<br>Can somebody help me ?</p>
<p>Thanks a lot.</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="February 9th 2015, 6:58:18 pm">February 9th 2015</span>
				by <span class='authorname'>Axel LATOUR</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>device</span></li>
					
						<li><span class='tagname'>image</span></li>
					
						<li><span class='tagname'>size</span></li>
					
				</ul>
			

			<section>
				<h5>2 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Hi Axel Latour,</p>
<p>Your code is not enough to understand your exact problem because no one can know about image property and all that.. so if possible describe it.. and provide your code so any one can helps you..</p>
</div>
							<div class="author">
								&mdash; commented <span title="February 10th 2015, 3:02:22 am">February 10th 2015</span>
								by <span class='authorname'>Nilesh Patel</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Sorry for my mistake !<br>Here is my complete code.</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> screenHeight = Ti.Platform.displayCaps.platformHeight;
<span class="hljs-keyword">var</span> screenWidth = Ti.Platform.displayCaps.platformWidth;

<span class="hljs-keyword">var</span> timer;
<span class="hljs-keyword">var</span> gravity;
<span class="hljs-keyword">var</span> jump;
<span class="hljs-keyword">var</span> end = <span class="hljs-literal">false</span>;

<span class="hljs-keyword">var</span> win = Titanium.UI.createWindow({ 
    backgroundColor:<span class="hljs-string">'#fff'</span>,
    backgroundImage: <span class="hljs-string">'images/fond.jpg'</span>,
    orientationModes: [ Titanium.UI.PORTRAIT ], <span class="hljs-comment">// UI restricted to portrait mode</span>
    width: <span class="hljs-string">'100%'</span>,
    height: <span class="hljs-string">'100%'</span>,
      fullscreen: <span class="hljs-literal">true</span>
});

<span class="hljs-comment">// Create the penguin view</span>
<span class="hljs-keyword">var</span> penguin = Titanium.UI.createImageView({
    image: <span class="hljs-string">'images/normal3.PNG'</span>,
    width: <span class="hljs-number">40</span>,
    height: <span class="hljs-number">40</span>,
    bottom: <span class="hljs-number">100</span>,
    left: <span class="hljs-number">50</span>
});

win.addEventListener(<span class="hljs-string">"click"</span>, fly);

<span class="hljs-comment">// Initialize the var for each click, and animate the penguin.</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">fly</span><span class="hljs-params">()</span>
</span>{
    <span class="hljs-keyword">if</span>(!end)
    {
        gravity = <span class="hljs-number">0.225</span>;
        jump = -<span class="hljs-number">5</span>;
        penguin.image = <span class="hljs-string">'images/haut.png'</span>;
        animate();
    }

}

<span class="hljs-comment">// Animate the flying penguin</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">animate</span><span class="hljs-params">()</span>
</span>{
    clearTimeout(timer);

    <span class="hljs-keyword">if</span>(penguin.bottom &lt;= <span class="hljs-number">0</span>)
    {
        end = <span class="hljs-literal">true</span>;
    }

    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(penguin.bottom &gt; screenHeight)
    {
        Ti.API.info(<span class="hljs-string">'penguin.bottom &gt; screenHeight !'</span>);
        end = <span class="hljs-literal">true</span>;
    }

    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(penguin.bottom &gt; <span class="hljs-number">0</span> &amp;&amp; !end)
    {    
        <span class="hljs-keyword">if</span>(jump &gt;= <span class="hljs-number">6</span>) 
        {
            penguin.image = <span class="hljs-string">'images/bas.png'</span>;
        }

        penguin.bottom -= jump;
        jump += gravity;
        timer = setTimeout(animate, <span class="hljs-number">15</span>);
    }

    <span class="hljs-keyword">if</span>(end)
    {
        clearTimeout(timer);
    }
}

win.add(penguin);
win.open();
</code></pre><p>So, when I click on the window, my penguin starts to fly.<br>My background image is 207x405 px, but I put &#39;100%&#39; for width and height because I want the background to take all the screen, on every mobile size.<br>But in my function animate(), in the second condition, I always go out of the screen !<br>Approximately, my penguin goes out of the screen at penguin.bottom = 570.<br>How can I find this value ?</p>
<p>I hope I&#39;m clear !<br>Thanks a lot for your answeer.</p>
</div>
							<div class="author">
								&mdash; commented <span title="February 10th 2015, 6:20:21 am">February 10th 2015</span>
								by <span class='authorname'>Axel LATOUR</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-285725">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>Hi Axel LATOUR</p>
<p>Actually you compare exact bottom property.. so it only occur when image completely goes up.. so you need to add it hight and then try to compare it..</p>
<p>i made some changes in your code.. i also replace <code>click</code> event by <code>touchstart</code>. because touch event not reflect quick…..</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> screenHeight = Ti.Platform.displayCaps.platformHeight;
<span class="hljs-keyword">var</span> screenWidth = Ti.Platform.displayCaps.platformWidth;

<span class="hljs-keyword">var</span> timer;
<span class="hljs-keyword">var</span> gravity;
<span class="hljs-keyword">var</span> jump;
<span class="hljs-keyword">var</span> end = <span class="hljs-literal">false</span>;

<span class="hljs-comment">// Create the penguin view</span>
<span class="hljs-keyword">var</span> penguin = Titanium.UI.createImageView({
    image : <span class="hljs-string">'images/normal3.PNG'</span>,
    width : <span class="hljs-number">40</span>,
    height : <span class="hljs-number">40</span>,
    bottom : <span class="hljs-number">100</span>,
    left : <span class="hljs-number">50</span>
});

$.winIndex.addEventListener(<span class="hljs-string">"touchstart"</span>, fly);

<span class="hljs-comment">// Initialize the var for each click, and animate the penguin.</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">fly</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">if</span> (!end) {
        gravity = <span class="hljs-number">0.225</span>;
        jump = -<span class="hljs-number">5</span>;
        penguin.image = <span class="hljs-string">'images/haut.png'</span>;
        animate();
    }

}

<span class="hljs-comment">// Animate the flying penguin</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">animate</span>(<span class="hljs-params"></span>) </span>{
    clearTimeout(timer);
    <span class="hljs-comment">// Ti.API.info('Penguin = ' + penguin.bottom + " Height " + screenHeight);</span>
    <span class="hljs-keyword">if</span> (penguin.bottom &lt;= <span class="hljs-number">0</span>) {
        end = <span class="hljs-literal">true</span>;
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> ((penguin.bottom + penguin.height) &gt; screenHeight) {
        Ti.API.info(<span class="hljs-string">'penguin.bottom &gt; screenHeight !'</span>);
        end = <span class="hljs-literal">true</span>;
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (penguin.bottom &gt; <span class="hljs-number">0</span> &amp;&amp; !end) {
        <span class="hljs-keyword">if</span> (jump &gt;= <span class="hljs-number">6</span>) {
            penguin.image = <span class="hljs-string">'images/bas.png'</span>;
        }
        penguin.bottom -= jump;
        jump += gravity;
        timer = setTimeout(animate, <span class="hljs-number">15</span>);
    }

    <span class="hljs-keyword">if</span> (end) {
        clearTimeout(timer);
    }
}

$.winIndex.add(penguin);
$.winIndex.open();
</code></pre><p>Thanks</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="February 10th 2015, 7:24:34 am">February 10th 2015</span>
								by <span class='authorname'>Nilesh Patel</span><br>
								<a class="icon-bg icon-link" href="../../question/180733/how-to-get-the-device-screen-size-.html#answer-285725" rel="permalink">permalink</a>
							</div>

							<h5>10 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Sorry means click event not reflect quick….</p>
</p>
										<div class="author">
											&mdash; commented <span title="February 10th 2015, 7:30:52 am">February 10th 2015</span>
											by <span class='authorname'>Nilesh Patel</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Thanks for your answer, I&#39;ll change my event, it&#39;s better like that.<br>But, for the screen height, it doesn&#39;t solve my problem.<br>I didn&#39;t use the penguin height before because it&#39;s a basic code for the moment, I just want to get the height size of the device screen.<br>The screenHeight value is 1920, but my penguin is on the top on the screen at approximately 600 px from the bottom. So, with my condition</p>
<pre><code class="hljs"> <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> ((penguin<span class="hljs-class">.bottom</span> + penguin.<span class="hljs-attribute">height</span>) &gt; screenHeight)
</code></pre><p> it continues to jump until bottom = 1920 !<br>You see the problem ? I don&#39;t know if I&#39;m really clear.</p>
</p>
										<div class="author">
											&mdash; commented <span title="February 10th 2015, 7:44:06 am">February 10th 2015</span>
											by <span class='authorname'>Axel LATOUR</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>So may bi its problem of px or dp. Because when you try to fetch screen height and it is return always in terms of pixels. And if you set bottom property directly so might be it set in terms of dp. It&#39;s depends on default unit property in tiapp.xml.  So check it</p>
</p>
										<div class="author">
											&mdash; commented <span title="February 10th 2015, 9:05:49 am">February 10th 2015</span>
											by <span class='authorname'>Nilesh Patel</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>It&#39;s changing everything now, I was working with dp and I put px. I&#39;m going to try to work with px !<br>Thanks a lot for your help Nilesh !</p>
</p>
										<div class="author">
											&mdash; commented <span title="February 10th 2015, 11:56:26 am">February 10th 2015</span>
											by <span class='authorname'>Axel LATOUR</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>It&#39;s working.?</p>
</p>
										<div class="author">
											&mdash; commented <span title="February 10th 2015, 12:02:25 pm">February 10th 2015</span>
											by <span class='authorname'>Nilesh Patel</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I need to resize the images I&#39;ve used because now they appear too small on the screen ! I need to adapt my code for px unity.</p>
</p>
										<div class="author">
											&mdash; commented <span title="February 10th 2015, 12:10:18 pm">February 10th 2015</span>
											by <span class='authorname'>Axel LATOUR</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>And also if you need to change dp to px or px to dp then <a href="https:&#x2F;&#x2F;developer.appcelerator.com&#x2F;question&#x2F;125317&#x2F;calculate-apps-density-pixel-width--height-using-titaniumplatformdisplaycapsdpi">use this one</a></p>
</p>
										<div class="author">
											&mdash; commented <span title="February 10th 2015, 12:22:29 pm">February 10th 2015</span>
											by <span class='authorname'>Nilesh Patel</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Oh my god, it works absolutely perfectly like this. So I don&#39;t need to resize all my images and keep working with dp. Thanks a lot !!</p>
</p>
										<div class="author">
											&mdash; commented <span title="February 10th 2015, 12:33:23 pm">February 10th 2015</span>
											by <span class='authorname'>Axel LATOUR</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>So now its working perfectly?</p>
</p>
										<div class="author">
											&mdash; commented <span title="February 10th 2015, 1:01:44 pm">February 10th 2015</span>
											by <span class='authorname'>Nilesh Patel</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Yes !</p>
</p>
										<div class="author">
											&mdash; commented <span title="February 10th 2015, 1:42:27 pm">February 10th 2015</span>
											by <span class='authorname'>Axel LATOUR</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
