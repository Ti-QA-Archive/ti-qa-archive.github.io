<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>createPicker: action on selected row Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>createPicker: action on selected row</h1>
		</header>
		<section>
			<p>Hello!!</p>
<p>I have a button that displays a picker which at the same time I would like that when the user clicks on an option it does something, as for example, &quot;closes the window&quot;, example:</p>
<pre><code class="hljs"><span class="hljs-comment">// Button and listener to close window</span>
<span class="hljs-keyword">var</span> close = Ti.UI.createButton({
    font : { fontSize : <span class="hljs-number">8</span> },
    color: <span class="hljs-string">'blue'</span>,
    title: <span class="hljs-string">'Cerrar'</span>,
    width: <span class="hljs-number">25</span>,
    top: <span class="hljs-number">20</span>,
    left: <span class="hljs-number">10</span>
});
close.addEventListener(<span class="hljs-string">'click'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span></span>{
    win.close();
});

<span class="hljs-comment">// Button and listener that opens the picker</span>
<span class="hljs-keyword">var</span> Menu = Ti.UI.createButton({
   borderTop: <span class="hljs-literal">true</span>,
   borderWidth: <span class="hljs-number">1</span>,
   borderColor: <span class="hljs-string">"#888"</span>,
   backgroundColor: <span class="hljs-string">'black'</span>,
   title: <span class="hljs-string">'Menu'</span>,
   color : <span class="hljs-string">'white'</span>,
   bottom: <span class="hljs-number">10</span>,
   left: <span class="hljs-number">10</span>,
   width: <span class="hljs-number">25</span>,
   height: <span class="hljs-number">25</span>
});
Menu.addEventListener(<span class="hljs-string">'click'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span>
</span>{

    <span class="hljs-keyword">var</span> picker = Ti.UI.createPicker({
      top:<span class="hljs-number">50</span>
    });

    <span class="hljs-keyword">var</span> data = [];
    data[<span class="hljs-number">0</span>]=Ti.UI.createPickerRow({title:<span class="hljs-string">'Bananas'</span>});
    data[<span class="hljs-number">1</span>]=Ti.UI.createPickerRow({title:<span class="hljs-string">'Strawberries'</span>});
    data[<span class="hljs-number">2</span>]=Ti.UI.createPickerRow({title:<span class="hljs-string">'Mangos'</span>});
    data[<span class="hljs-number">3</span>]=Ti.UI.createPickerRow({title:<span class="hljs-string">'Grapes'</span>});
    data[<span class="hljs-number">4</span>]=Ti.UI.createPickerRow({title: <span class="hljs-string">'Cerrar'</span>},close); <span class="hljs-comment">// &lt;&lt;---- Here I would like that when selected it closes the win with my listener "close", also i would like to add other actions to the other rows</span>

    picker.add(data);
    picker.selectionIndicator = <span class="hljs-literal">true</span>;

    win.add(picker);
});
</code></pre><p>I appreciate very much whoever takes the time to solve my question, thank you :D</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="April 17th 2014, 5:28:46 pm">April 17th 2014</span>
				by <span class='authorname'>Mario Andres Perez Gutierrez</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>action on picker</span></li>
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>createpicker</span></li>
					
						<li><span class='tagname'>iphone</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-277971">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>Hello Mario,</p>
<p>I think you need something like below.<br>try this :</p>
<pre><code class="hljs">
Menu.addEventListener(<span class="hljs-string">'click'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span>
</span>{
    <span class="hljs-keyword">var</span> picker = Ti.UI.createPicker({
      top:<span class="hljs-number">50</span>
    });

    <span class="hljs-keyword">var</span> data = [];
    data[<span class="hljs-number">0</span>]=Ti.UI.createPickerRow({title:<span class="hljs-string">'Bananas'</span>});
    data[<span class="hljs-number">1</span>]=Ti.UI.createPickerRow({title:<span class="hljs-string">'Strawberries'</span>});
    data[<span class="hljs-number">2</span>]=Ti.UI.createPickerRow({title:<span class="hljs-string">'Mangos'</span>});
    data[<span class="hljs-number">3</span>]=Ti.UI.createPickerRow({title:<span class="hljs-string">'Grapes'</span>});
    data[<span class="hljs-number">4</span>]=Ti.UI.createPickerRow({title: <span class="hljs-string">'Cerrar'</span>},close); <span class="hljs-comment">// &lt;&lt;---- Here I would like that when selected it closes the win with my listener "close", also i would like to add other actions to the other rows</span>

    picker.add(data);
    picker.selectionIndicator = <span class="hljs-literal">true</span>;


    <span class="hljs-comment">// Add this event in your code</span>
    picker.addEventListener(<span class="hljs-string">"change"</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span></span>{
    <span class="hljs-keyword">var</span> alert = Ti.UI.createAlertDialog({
        title : <span class="hljs-string">'Application'</span>,
        message : <span class="hljs-string">"Do you want to close this application?"</span>,
        buttonNames : [<span class="hljs-string">'wait'</span>, <span class="hljs-string">'ok'</span>]
    });
    alert.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span> </span>{
        <span class="hljs-keyword">if</span> (e.index == <span class="hljs-number">1</span>) {
            win.close();
        }
    });
    alert.show();
});
    win.add(picker);
});
</code></pre><p>i hope this helps. thanks.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="April 21st 2014, 4:04:23 am">April 21st 2014</span>
								by <span class='authorname'>Sanat Mamtora</span><br>
								<a class="icon-bg icon-link" href="../../question/165524/createpicker-action-on-selected-row.html#answer-277971" rel="permalink">permalink</a>
							</div>

							<h5>2 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>also try this :</p>
<pre><code class="hljs">picker.addEventListener(<span class="hljs-string">"change"</span>,function(e<span class="hljs-function">)</span>{
       <span class="hljs-function"> Ti.API.info(</span><span class="hljs-string">"&gt;&gt; Index ::  "</span> + e.index<span class="hljs-function">)</span>;        

//  you can<span class="hljs-instruction"> check </span>index of picker<span class="hljs-instruction"> add </span>perform action on particular row using --&gt; e.index 
}<span class="hljs-function">)</span>;
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="April 21st 2014, 4:06:53 am">April 21st 2014</span>
											by <span class='authorname'>Sanat Mamtora</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Hey dude! Thanks alot, you always save me :D </p>
<p>Your code works perfectly for how I wanted it to work but to be honest I think it might not be a good idea to use a picker as a Menu. Let me explain: I have a window which performs a calculation, but I want to show a menu button (top left position) which drops down a menu and then perform an action on the element selected. The only thing that was kind of easy to use (&quot;easy&quot; because I am new on this thing) was the picker, but it&#39;s behavior is not like very desirable. </p>
<p>You might have done something like this before, could you give me a tip or an advice?</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 26th 2014, 8:20:06 pm">April 26th 2014</span>
											by <span class='authorname'>Mario Andres Perez Gutierrez</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-277954">
				
						<section>
							<pre><code class="hljs">data[<span class="hljs-number">4</span>].addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span></span>{
});
</code></pre><p>However, I think you are going about this wrong.  You need to be listening to an event on the picker, check the index to see if what was selected matches your special case, then perform an action.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="April 20th 2014, 11:13:06 am">April 20th 2014</span>
								by <span class='authorname'>Stephen Feather</span><br>
								<a class="icon-bg icon-link" href="../../question/165524/createpicker-action-on-selected-row.html#answer-277954" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Thank you man!</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 26th 2014, 8:13:28 pm">April 26th 2014</span>
											by <span class='authorname'>Mario Andres Perez Gutierrez</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
