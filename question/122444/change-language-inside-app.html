<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Change language inside app » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Change language inside app</h1>
		</header>
		<section>
			<p>Hi,</p>
<p>I would like to know if it is possible to change locale&#x2F;language inside an app. I want it to be like in Appcelerator Developer Blog wher you can set the language of the page to English or Japanese.</p>
<p>I know how to use Ti.Locale, when i change the locale in the Android Menu Preferences, everything works fine. But when I try &quot;Ti.Locale.currentLanguage = &#39;fr&#39; &quot; it won&#39;t work wich is normal because the documentation says it is readonly.</p>
<p>can anyone help me with that?</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="July 12th 2011, 12:01:21 pm">July 12th 2011</span>
				by <span class='authorname'>Amadeus INTERN</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>internationalisation</span></li>
					
						<li><span class='tagname'>locale</span></li>
					
						<li><span class='tagname'>localisation</span></li>
					
						<li><span class='tagname'>preferences</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>1</span> Vote</div>
			<div class="answers"><span>4</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>4 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-212910">
				
						<section>
							<p>it is my way to do  that</p>
<ol>
<li>build xml file to set your labels title and keywords like this <pre><code class="hljs"><span class="hljs-tag">&lt;<span class="hljs-title">app-name</span>&gt;</span>somthing here<span class="hljs-tag">&lt;/<span class="hljs-title">app-nam</span>&gt;</span>
</code></pre>name it en.xml or ar.xml specfic to language you hold.</li>
<li>make user to switch between language as you like</li>
<li>behind user switching , assign value to application variale about user current language.</li>
<li>build a function to read from xml file related to this variable<br>~~~<br>function L(text) {<br> var langFile = Titanium.App.Properties.getString(&quot;lang&quot;);<br> var file = Ti.Filesystem.getFile(Ti.Filesystem.resourcesDirectory,&#39;templates&#x2F;languages&#x2F;&#39;+langFile+&#39;.xml&#39;);<br> var xmltext = file.read().text;<br> var xmldata=Titanium.XML.parseString(xmltext);<br> var data = xmldata.documentElement.getElementsByTagName(text);</li>
</ol>
<p>return data.item(0).text;<br>}</p>
<pre><code class="hljs">
<span class="hljs-number">5.</span> <span class="hljs-built_in">set</span> label title <span class="hljs-keyword">using</span> <span class="hljs-keyword">this</span>
</code></pre><p>var titleLabel = Titanium.UI.createLabel({<br>    text:L(&quot;app-name&quot;),<br>    color:&#39;#fff&#39;,<br>    width:&#39;auto&#39;,<br>    height:&#39;auto&#39;<br>});<br>~~~</p>
<ol>
<li>i hope it work :)</li>
</ol>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="July 12th 2011, 1:09:47 pm">July 12th 2011</span>
								by <span class='authorname'>sayed fathey</span><br>
								<a class="icon-bg icon-link" href="question/122444/change-language-inside-app#answer-212910" rel="permalink">permalink</a>
							</div>

							<h5>2 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Sayed, your solution works excellently. Thank you! I do have a quick question for you or Amadeus: Do you use this in-app localization in any Android products? If so, how do you handle changing the text of the tabGroup tabs? For some reason, this works perfectly on iOS, but not Android. Please see my question and details on my <a href="http:&#x2F;&#x2F;stackoverflow.com&#x2F;questions&#x2F;8162552&#x2F;titanium-studio-cannot-change-the-button-text-of-my-tabs-on-android-devices">stackoverflow question</a>.</p>
<p>Thanks!</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 17th 2011, 5:52:50 am">November 17th 2011</span>
											by <span class='authorname'>Joel Hulen</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Just started playing with this yesterday &amp; finally got it going to my tablet today, anyways.. . I was playing with tabs demo and seeing L(&#39;cammleCase&#39;); all over.. just no xml translation file or translator. It makes much more sense now.. thank you.. I&#39;m so glad I slaw this. +1</p>
<p>Completely self explanatory when you see your passing the text to transliterate with the L call.. if you do a: </p>
<p>lang.js </p>
<pre><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">L</span>(<span class="hljs-params">text</span>) </span>{
    <span class="hljs-keyword">var</span> langFile = Titanium.App.Properties.getString(<span class="hljs-string">"lang"</span>);
    <span class="hljs-keyword">var</span> file = Ti.Filesystem.getFile(Ti.Filesystem.resourcesDirectory,<span class="hljs-string">'templates/languages/'</span>+langFile+<span class="hljs-string">'.xml'</span>);
    <span class="hljs-keyword">var</span> xmltext = file.read().text;
    <span class="hljs-keyword">var</span> xmldata=Titanium.XML.parseString(xmltext);
    <span class="hljs-keyword">var</span> data = xmldata.documentElement.getElementsByTagName(text);

<span class="hljs-keyword">return</span> data.item(<span class="hljs-number">0</span>).text;
}
<span class="hljs-built_in">module</span>.exports = L;
</code></pre><p>You can run it anywhere with a drag &amp; a drop and a<br><code>var L = require(&amp;#39;ui&amp;#x2F;lang&amp;#39;);</code><br>To call it. I&#39;ll test it in a bit. Thanks again!</p>
</p>
										<div class="author">
											&mdash; commented <span title="February 12th 2012, 6:22:03 am">February 12th 2012</span>
											by <span class='authorname'>ransom bot</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>9</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-230093">
				
						<section>
							<p>My variation<br>Language (lang) should be the target language en.xml for example<br>(lang).xml </p>
<pre><code class="hljs"><span class="hljs-tag">&lt;<span class="hljs-title">words</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">appName</span>&gt;</span>Best App Ever!<span class="hljs-tag">&lt;/<span class="hljs-title">appName</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">twitterText</span>&gt;</span>Twitter<span class="hljs-tag">&lt;/<span class="hljs-title">twitterText</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">aboutText</span>&gt;</span>About the Best App Ever!<span class="hljs-tag">&lt;/<span class="hljs-title">aboutText</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">buttonAbout</span>&gt;</span>About us<span class="hljs-tag">&lt;/<span class="hljs-title">buttonAbout</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">words</span>&gt;</span>
</code></pre><p>I like this way a bit better it&#39;s automatic &amp; is more transparent to the user.<br>lang.js</p>
<pre><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">L</span>(<span class="hljs-params">text</span>) </span>{
    <span class="hljs-keyword">var</span> langFile = Titanium.Locale.currentLanguage; <span class="hljs-comment">// grab language from device</span>
    <span class="hljs-keyword">if</span> (Ti.Filesystem.getFile(Ti.Filesystem.resourcesDirectory,<span class="hljs-string">'templates/languages/'</span>+langFile+<span class="hljs-string">'.xml'</span>)&gt;<span class="hljs-number">0</span>) { <span class="hljs-comment">// file is found</span>
        <span class="hljs-keyword">var</span> file = Ti.Filesystem.getFile(Ti.Filesystem.resourcesDirectory,<span class="hljs-string">'templates/languages/'</span>+langFile+<span class="hljs-string">'.xml'</span>);
    } <span class="hljs-keyword">else</span> { <span class="hljs-comment">// file is not found</span>
        <span class="hljs-keyword">var</span> langFile = <span class="hljs-string">"en"</span>;  <span class="hljs-comment">// default language.</span>
        <span class="hljs-keyword">var</span> file = Ti.Filesystem.getFile(Ti.Filesystem.resourcesDirectory,<span class="hljs-string">'templates/languages/'</span>+langFile+<span class="hljs-string">'.xml'</span>);
    }
    <span class="hljs-keyword">var</span> xmltext = file.read().text; <span class="hljs-comment">// grab it &amp; use it</span>
    <span class="hljs-keyword">var</span> xmldata=Titanium.XML.parseString(xmltext);
    <span class="hljs-keyword">var</span> data = xmldata.documentElement.getElementsByTagName(text);
<span class="hljs-keyword">return</span> data.item(<span class="hljs-number">0</span>).text;
}
<span class="hljs-built_in">module</span>.exports = L;
</code></pre><p>Use:<br><code>var L = require(&amp;#39;lang&amp;#39;);</code></p>
<p>where you need to import the L command for language translation and:</p>
<p><code>var win1 = new AppWindow(L(&amp;#39;twitterText&amp;#39;)),</code>  </p>
<p>I tried also pushing an alert up about the language being missing however it crashes because the application is still loading. Can shove a notification through probably on android but that would neglect iPhone. This way has the added advantage of loading right the first time (if you have the language.) The XML is not strict but works well &amp; keeps it small even room for mummification at the end. Shave some time off the users download &amp; memory probably make up for that extra bit of time it takes to load the languages.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="February 12th 2012, 12:25:39 pm">February 12th 2012</span>
								by <span class='authorname'>ransom bot</span><br>
								<a class="icon-bg icon-link" href="question/122444/change-language-inside-app#answer-230093" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-213100">
				
						<section>
							<p>Hi Sayed,</p>
<p>thank&#39;s for your help, if I understand what you do here, you create your own process that handles internationalization, you do not use Ti.Locale that is delivered by Titanium right?</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="July 14th 2011, 8:12:12 am">July 14th 2011</span>
								by <span class='authorname'>Amadeus INTERN</span><br>
								<a class="icon-bg icon-link" href="question/122444/change-language-inside-app#answer-213100" rel="permalink">permalink</a>
							</div>

							<h5>2 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Exactly:) . my idea behind that Ti.local depend on device language. user can not switching between language inside your app. Using my idea you can male user changing language through your app.</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 15th 2011, 7:07:20 am">July 15th 2011</span>
											by <span class='authorname'>sayed fathey</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>accept this answer Amadeus…</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 30th 2014, 4:20:41 am">December 30th 2014</span>
											by <span class='authorname'>Asfandyar Barki</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-270227">
				
						<section>
							<p>Answers above no longer apply, in Titanium alloy the folder that the language files go to is compiled from i18n to en.lproj and from strings.xml into Localizable.strings, therefore all that code above just breaks bcs the titanium XML parser can not parse the .strins file anymore.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="October 21st 2013, 4:00:15 pm">October 21st 2013</span>
								by <span class='authorname'>Stevo Perisic</span><br>
								<a class="icon-bg icon-link" href="question/122444/change-language-inside-app#answer-270227" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>-2</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
