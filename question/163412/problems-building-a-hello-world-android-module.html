<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Problems building a Hello World Android module » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Problems building a Hello World Android module</h1>
		</header>
		<section>
			<p>I&#39;m trying to wrap my head around modules, but I&#39;m running into some build problems with Android. </p>
<p>I believe I&#39;ve got the build.xml and build.properties all pointing at the correct places, but when I try to build, I get the following error during the build:</p>
<p><code>Missing LOCAL_MODULE before including BUILD_SHARED_LIBRARY in jni&amp;#x2F;Android.mk</code></p>
<p>At that point, the build fails.</p>
<p>That&#39;s as far as I&#39;ve gotten. I also tried using the moddevguide Android module from Appcelerator&#39;s git repository, but whenever I try to build it with ant, I get:</p>
<p><code>package org.mozilla.javascript does not exist</code></p>
<p>Specifics:<br>TI SDK: 3.2.2.GA<br>Android SDK: 4.4</p>
<p>Any suggestions? I&#39;d love to play around with module dev, but the setup has been pretty frustrating so far.</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="March 11th 2014, 5:19:41 pm">March 11th 2014</span>
				by <span class='authorname'>Adam Pash</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>module</span></li>
					
						<li><span class='tagname'>ndk</span></li>
					
						<li><span class='tagname'>sdk</span></li>
					
				</ul>
			

			<section>
				<h5>1 Comment</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Some progress: I believe my Android source code needs to be in the src directory inside the android folder (for whatever reason, when I generate the module with the titanium cli tool, this is not what happens). Having done that (and having made some other empty dirs it expects me to have — assets, lib, etc), I was able to make a little headway.</p>
<p>Now I get the following error:</p>
<pre><code class="hljs">    <span class="hljs-list">[<span class="hljs-keyword">javac</span>] An annotation processor threw an uncaught exception.
    <span class="hljs-list">[<span class="hljs-keyword">javac</span>] Consult the following stack trace for details.
    <span class="hljs-list">[<span class="hljs-keyword">javac</span>] java.lang.IllegalArgumentException
    <span class="hljs-list">[<span class="hljs-keyword">javac</span>]     at java.net.URI.create<span class="hljs-list">(<span class="hljs-keyword">URI.java:841</span>)</span>
    <span class="hljs-list">[<span class="hljs-keyword">javac</span>]     at com.sun.tools.javac.util.DefaultFileManager.getFileForOutput<span class="hljs-list">(<span class="hljs-keyword">DefaultFileManager.java:1067</span>)</span>
    <span class="hljs-list">[<span class="hljs-keyword">javac</span>]     at com.sun.tools.javac.processing.JavacFiler.createResource<span class="hljs-list">(<span class="hljs-keyword">JavacFiler.java:404</span>)</span>
    <span class="hljs-list">[<span class="hljs-keyword">javac</span>]     at org.appcelerator.kroll.annotations.generator.KrollJSONGenerator.generateJSON<span class="hljs-list">(<span class="hljs-keyword">KrollJSONGenerator.java:742</span>)</span>
    <span class="hljs-list">[<span class="hljs-keyword">javac</span>]     at org.appcelerator.kroll.annotations.generator.KrollJSONGenerator.process<span class="hljs-list">(<span class="hljs-keyword">KrollJSONGenerator.java:111</span>)</span>
    <span class="hljs-list">[<span class="hljs-keyword">javac</span>]     at com.sun.tools.javac.processing.JavacProcessingEnvironment.callProcessor<span class="hljs-list">(<span class="hljs-keyword">JavacProcessingEnvironment.java:627</span>)</span>
    <span class="hljs-list">[<span class="hljs-keyword">javac</span>]     at com.sun.tools.javac.processing.JavacProcessingEnvironment.access$000<span class="hljs-list">(<span class="hljs-keyword">JavacProcessingEnvironment.java:70</span>)</span>
    <span class="hljs-list">[<span class="hljs-keyword">javac</span>]     at com.sun.tools.javac.processing.JavacProcessingEnvironment$DiscoveredProcessors$ProcessorStateIterator.runContributingProcs<span class="hljs-list">(<span class="hljs-keyword">JavacProcessingEnvironment.java:487</span>)</span>
    <span class="hljs-list">[<span class="hljs-keyword">javac</span>]     at com.sun.tools.javac.processing.JavacProcessingEnvironment.runLastRound<span class="hljs-list">(<span class="hljs-keyword">JavacProcessingEnvironment.java:848</span>)</span>
    <span class="hljs-list">[<span class="hljs-keyword">javac</span>]     at com.sun.tools.javac.processing.JavacProcessingEnvironment.doProcessing<span class="hljs-list">(<span class="hljs-keyword">JavacProcessingEnvironment.java:775</span>)</span>
    <span class="hljs-list">[<span class="hljs-keyword">javac</span>]     at com.sun.tools.javac.main.JavaCompiler.processAnnotations<span class="hljs-list">(<span class="hljs-keyword">JavaCompiler.java:987</span>)</span>
    <span class="hljs-list">[<span class="hljs-keyword">javac</span>]     at com.sun.tools.javac.main.JavaCompiler.compile<span class="hljs-list">(<span class="hljs-keyword">JavaCompiler.java:727</span>)</span>
    <span class="hljs-list">[<span class="hljs-keyword">javac</span>]     at com.sun.tools.javac.main.Main.compile<span class="hljs-list">(<span class="hljs-keyword">Main.java:353</span>)</span>
    <span class="hljs-list">[<span class="hljs-keyword">javac</span>]     at com.sun.tools.javac.main.Main.compile<span class="hljs-list">(<span class="hljs-keyword">Main.java:279</span>)</span>
    <span class="hljs-list">[<span class="hljs-keyword">javac</span>]     at com.sun.tools.javac.main.Main.compile<span class="hljs-list">(<span class="hljs-keyword">Main.java:270</span>)</span>
    <span class="hljs-list">[<span class="hljs-keyword">javac</span>]     at com.sun.tools.javac.Main.compile<span class="hljs-list">(<span class="hljs-keyword">Main.java:69</span>)</span>
    <span class="hljs-list">[<span class="hljs-keyword">javac</span>]     at sun.reflect.NativeMethodAccessorImpl.invoke0<span class="hljs-list">(<span class="hljs-keyword">Native</span> Method)</span>
    <span class="hljs-list">[<span class="hljs-keyword">javac</span>]     at sun.reflect.NativeMethodAccessorImpl.invoke<span class="hljs-list">(<span class="hljs-keyword">NativeMethodAccessorImpl.java:39</span>)</span>
    <span class="hljs-list">[<span class="hljs-keyword">javac</span>]     at sun.reflect.DelegatingMethodAccessorImpl.invoke<span class="hljs-list">(<span class="hljs-keyword">DelegatingMethodAccessorImpl.java:25</span>)</span>
    <span class="hljs-list">[<span class="hljs-keyword">javac</span>]     at java.lang.reflect.Method.invoke<span class="hljs-list">(<span class="hljs-keyword">Method.java:597</span>)</span>
    <span class="hljs-list">[<span class="hljs-keyword">javac</span>]     at org.apache.tools.ant.taskdefs.compilers.Javac13.execute<span class="hljs-list">(<span class="hljs-keyword">Javac13.java:56</span>)</span>
    <span class="hljs-list">[<span class="hljs-keyword">javac</span>]     at org.apache.tools.ant.taskdefs.Javac.compile<span class="hljs-list">(<span class="hljs-keyword">Javac.java:1153</span>)</span>
    <span class="hljs-list">[<span class="hljs-keyword">javac</span>]     at org.apache.tools.ant.taskdefs.Javac.execute<span class="hljs-list">(<span class="hljs-keyword">Javac.java:930</span>)</span>
    <span class="hljs-list">[<span class="hljs-keyword">javac</span>]     at org.apache.tools.ant.UnknownElement.execute<span class="hljs-list">(<span class="hljs-keyword">UnknownElement.java:291</span>)</span>
    <span class="hljs-list">[<span class="hljs-keyword">javac</span>]     at sun.reflect.GeneratedMethodAccessor4.invoke<span class="hljs-list">(<span class="hljs-keyword">Unknown</span> Source)</span>
    <span class="hljs-list">[<span class="hljs-keyword">javac</span>]     at sun.reflect.DelegatingMethodAccessorImpl.invoke<span class="hljs-list">(<span class="hljs-keyword">DelegatingMethodAccessorImpl.java:25</span>)</span>
    <span class="hljs-list">[<span class="hljs-keyword">javac</span>]     at java.lang.reflect.Method.invoke<span class="hljs-list">(<span class="hljs-keyword">Method.java:597</span>)</span>
    <span class="hljs-list">[<span class="hljs-keyword">javac</span>]     at org.apache.tools.ant.dispatch.DispatchUtils.execute<span class="hljs-list">(<span class="hljs-keyword">DispatchUtils.java:106</span>)</span>
    <span class="hljs-list">[<span class="hljs-keyword">javac</span>]     at org.apache.tools.ant.Task.perform<span class="hljs-list">(<span class="hljs-keyword">Task.java:348</span>)</span>
    <span class="hljs-list">[<span class="hljs-keyword">javac</span>]     at org.apache.tools.ant.Target.execute<span class="hljs-list">(<span class="hljs-keyword">Target.java:392</span>)</span>
    <span class="hljs-list">[<span class="hljs-keyword">javac</span>]     at org.apache.tools.ant.Target.performTasks<span class="hljs-list">(<span class="hljs-keyword">Target.java:413</span>)</span>
    <span class="hljs-list">[<span class="hljs-keyword">javac</span>]     at org.apache.tools.ant.Project.executeSortedTargets<span class="hljs-list">(<span class="hljs-keyword">Project.java:1399</span>)</span>
    <span class="hljs-list">[<span class="hljs-keyword">javac</span>]     at org.apache.tools.ant.Project.executeTarget<span class="hljs-list">(<span class="hljs-keyword">Project.java:1368</span>)</span>
    <span class="hljs-list">[<span class="hljs-keyword">javac</span>]     at org.apache.tools.ant.helper.DefaultExecutor.executeTargets<span class="hljs-list">(<span class="hljs-keyword">DefaultExecutor.java:41</span>)</span>
    <span class="hljs-list">[<span class="hljs-keyword">javac</span>]     at org.eclipse.ant.internal.launching.remote.EclipseDefaultExecutor.executeTargets<span class="hljs-list">(<span class="hljs-keyword">EclipseDefaultExecutor.java:32</span>)</span>
    <span class="hljs-list">[<span class="hljs-keyword">javac</span>]     at org.apache.tools.ant.Project.executeTargets<span class="hljs-list">(<span class="hljs-keyword">Project.java:1251</span>)</span>
    <span class="hljs-list">[<span class="hljs-keyword">javac</span>]     at org.eclipse.ant.internal.launching.remote.InternalAntRunner.run<span class="hljs-list">(<span class="hljs-keyword">InternalAntRunner.java:424</span>)</span>
    <span class="hljs-list">[<span class="hljs-keyword">javac</span>]     at org.eclipse.ant.internal.launching.remote.InternalAntRunner.main<span class="hljs-list">(<span class="hljs-keyword">InternalAntRunner.java:138</span>)</span>
    <span class="hljs-list">[<span class="hljs-keyword">javac</span>] Caused by: java.net.URISyntaxException: Illegal character in path at index <span class="hljs-number">1</span>: ${manifest.name}.json
    <span class="hljs-list">[<span class="hljs-keyword">javac</span>]     at java.net.URI$Parser.fail<span class="hljs-list">(<span class="hljs-keyword">URI.java:2810</span>)</span>
    <span class="hljs-list">[<span class="hljs-keyword">javac</span>]     at java.net.URI$Parser.checkChars<span class="hljs-list">(<span class="hljs-keyword">URI.java:2983</span>)</span>
    <span class="hljs-list">[<span class="hljs-keyword">javac</span>]     at java.net.URI$Parser.parseHierarchical<span class="hljs-list">(<span class="hljs-keyword">URI.java:3067</span>)</span>
    <span class="hljs-list">[<span class="hljs-keyword">javac</span>]     at java.net.URI$Parser.parse<span class="hljs-list">(<span class="hljs-keyword">URI.java:3025</span>)</span>
    <span class="hljs-list">[<span class="hljs-keyword">javac</span>]     at java.net.URI.&lt;init&gt;<span class="hljs-list">(<span class="hljs-keyword">URI.java:577</span>)</span>
    <span class="hljs-list">[<span class="hljs-keyword">javac</span>]     at java.net.URI.create<span class="hljs-list">(<span class="hljs-keyword">URI.java:839</span>)</span>
    <span class="hljs-list">[<span class="hljs-keyword">javac</span>]     ... <span class="hljs-number">37</span> more

BUILD FAILED
/Users/ap/Library/Application Support/Titanium/mobilesdk/osx/3.2.2.GA/module/android/build.xml:163: Compile failed<span class="hljs-comment">; see the compiler error output for details.</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span>
</code></pre><p>Any ideas?</p>
</div>
							<div class="author">
								&mdash; commented <span title="March 11th 2014, 6:07:31 pm">March 11th 2014</span>
								by <span class='authorname'>Adam Pash</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-276321">
				
						<section>
							<p>Okay, after a decent amount of head-scratching, I&#39;ve figured out what I was doing wrong. From the documentation:</p>
<p>&gt; To use the legacy command-line interface to create and build modules, you may want to add an alias to titanium.py. Follow the instructions in the Legacy Command-Line Interface Environment Setup section. The new CLI does not yet support building modules.</p>
<p>Apparently the current version of the titanium cli tool doesn&#39;t work with modules, so you have to use the legacy titanium.py, which is available inside the SDK path. So all the errors above (missing dirs that should be there, etc) were caused by me using a toolchain that doesn&#39;t fully support modules yet.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="March 11th 2014, 6:27:24 pm">March 11th 2014</span>
								by <span class='authorname'>Adam Pash</span><br>
								<a class="icon-bg icon-link" href="../../question/163412/problems-building-a-hello-world-android-module.html#answer-276321" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-276323">
				
						<section>
							<p>You&#39;re right, the CLI doesn&#39;t support compiling modules.  But you don&#39;t have to use titanium.py, use ant.  Simply run ant from the folder that has build.xml.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="March 11th 2014, 9:07:22 pm">March 11th 2014</span>
								by <span class='authorname'>Ricardo Alcocer</span><br>
								<a class="icon-bg icon-link" href="../../question/163412/problems-building-a-hello-world-android-module.html#answer-276323" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Sorry, I got a little sloppy with my words. I wasn&#39;t using titanium.py to build the project — I should have clarified that I needed to use titanium.py to generate the project. </p>
<p>That is, you have to use the legacy titanium.py if you want to generate a new module from the command line. Ant was working for me to build after I figured that out.</p>
<p>Thanks!</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 12th 2014, 2:42:09 pm">March 12th 2014</span>
											by <span class='authorname'>Adam Pash</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
