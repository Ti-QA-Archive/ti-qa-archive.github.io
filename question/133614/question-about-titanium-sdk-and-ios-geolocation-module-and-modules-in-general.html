<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Question about Titanium SDK and iOS Geolocation module and modules in general. » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Question about Titanium SDK and iOS Geolocation module and modules in general.</h1>
		</header>
		<section>
			<p>It seems that there aren&#39;t many developers which are creating modules.</p>
<p>My needs: get accurate GPS location all the time (navigation).</p>
<p>I opened a <a href="http:&#x2F;&#x2F;developer.appcelerator.com&#x2F;question&#x2F;133560&#x2F;how-to-continuously-get-the-best-gps-location">question</a> and hopped that some of the developers which are working on SDK will answer me but I guess this isn&#39;t the place (didn&#39;t find any &quot;requests page&quot;)</p>
<p>Then I didn&#39;t want to wait so I crated my own module and a <a href="http:&#x2F;&#x2F;developer.appcelerator.com&#x2F;question&#x2F;133582&#x2F;ios-module-for-fetching-current-location-is-not-working">question</a>.</p>
<p>So this question is for those who are working on Titanium SDK.</p>
<p>I understand that when I create blank titanium module for iOS some of the frameworks are included already. Because I use CoreLocation and CoreMotion in my module and I only need to put CoreMotion in <code>module.xcconfig</code> so I guess that CoreLocation is already included and titanium builder knows about it.</p>
<p>More specific question is about Geolocation module on iOS side.</p>
<p>Is there something that is being done with CoreLocation in Geolocation module for it to work (update location)?</p>
<p>Because if you read my second linked question you will see that my problem is that CoreLocationManager is not updating it&#39;s location. I even tried code with delegate and it is never being called so that means that location is not being updated at all.</p>
<p>Code is right 100% because I did a native app which reads every 0.2 seconds for <code>locationManager.location</code> property and it is being updated so that means that location can be pulled so I don&#39;t have to make a delegate and fire events each time location is updated.</p>
<p>Please answer, because I&#39;ve tried everything and I reached a dead end here.</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="March 11th 2012, 10:23:52 pm">March 11th 2012</span>
				by <span class='authorname'>Dino Bartosak</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>geolocation</span></li>
					
						<li><span class='tagname'>ios</span></li>
					
						<li><span class='tagname'>module</span></li>
					
						<li><span class='tagname'>sdk</span></li>
					
						<li><span class='tagname'>titanium</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>1</span> Vote</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-233009">
				
						<section>
							<p>Hi Dino, I guess the problem with your questions is that they look somewhat like &quot;who wants to debug my module?&quot;.</p>
<p>This kind of questions very rarely receive any answer, because they involve quite a lot of work from the part of those wanting to help (e.g. downloading the module, create a test project, copying the super long app.js you provided, start debugging, etc.). So, if you want to receive a relevant answer, my suggestion is to provide a very minimal test case that showcases the problem you&#39;re encountering; this would help whoever has enough time &amp; will to lend a hand.</p>
<p>Telling &quot;Code is right 100% because I did a native app…&quot; means nothing, because in Titanium there is a very thick layer at the interface between your JS code and your native module. You should start inspecting where the problem is.</p>
<p>So, the answer is: have you checked out with the debugger what happens? You should start putting breakpoints in your module&#39;s code and see why you&#39;re not getting the expected results. Keep you test app at a very minimum (e.g even without UI in your case). Build a debug version of the module. Open the Xcode project generated for the app you find in the <code>build&amp;#x2F;iphone</code> directory and start debugging.</p>
<p>So, once you&#39;ve done your homework, we&#39;re here to help ;-)</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="March 12th 2012, 6:07:51 am">March 12th 2012</span>
								by <span class='authorname'>Olivier Morandi</span><br>
								<a class="icon-bg icon-link" href="question/133614/question-about-titanium-sdk-and-ios-geolocation-module-and-modules-in-general#answer-233009" rel="permalink">permalink</a>
							</div>

							<h5>4 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Hi, well I guess saying &quot;Code is right 100% because I did a native app…&quot; is not OK since my module is not working :) But I was expecting from Titanium that you can really extend it with modules just like you would do it on the native side. Apparently it is not the case and there are complications. I forgot completely about generated project, I&#39;ll debug it and try to see what is going on.</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 12th 2012, 9:19:57 am">March 12th 2012</span>
											by <span class='authorname'>Dino Bartosak</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>@Oliver why I am not seeing in builded project my code from module and generated code with labels etc?</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 12th 2012, 9:31:36 am">March 12th 2012</span>
											by <span class='authorname'>Dino Bartosak</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>There is a bunch of possible approaches to step into your module. The quickest is to create an extremely simple test case for the module API in the <code>example&amp;#x2F;</code> directory of the module project, then open the Xcode project an run the &quot;build &amp; test&quot; target. Put breakpoints in your code and you&#39;re ready to go.</p>
<p>More complex scenarios involve modifying the build.py script in order to make it build a Debug version of the module (in this case suitable for both the simulator and the device), install the module by unzipping the package in the proper Ti SDK directory, (usually <code>&amp;#x2F;Library&amp;#x2F;Application\ Support&amp;#x2F;Titanium</code>, run the app project once and open its Xcode project, import the module Xcode project in the app Xcode project workspace and start debugging.</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 13th 2012, 7:37:56 am">March 13th 2012</span>
											by <span class='authorname'>Olivier Morandi</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>That <code>example</code> folder, is it the same where that <code>app.js</code> file was generated? So I should modify that <code>app.js</code> file with test case not writing and ObjC test case class in Xcode?</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 13th 2012, 3:51:35 pm">March 13th 2012</span>
											by <span class='authorname'>Dino Bartosak</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-233214">
				
						<section>
							<p>right!</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="March 14th 2012, 5:52:32 am">March 14th 2012</span>
								by <span class='authorname'>Olivier Morandi</span><br>
								<a class="icon-bg icon-link" href="question/133614/question-about-titanium-sdk-and-ios-geolocation-module-and-modules-in-general#answer-233214" rel="permalink">permalink</a>
							</div>

							<h5>4 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>sorry, this was meant to be a comment to your last question…</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 14th 2012, 5:53:55 am">March 14th 2012</span>
											by <span class='authorname'>Olivier Morandi</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>It&#39;s OK, now the question will be viral :D</p>
<p>I did that and still nothing. This is what I did:</p>
<p>Made module. Modified <code>app.js</code> that just fetches that location data and writes it on 3 labels. Then I type in console <code>.&amp;#x2F;build.py</code> and then <code>titanium run</code> and it doesn&#39;t stop on my break points. If I just go to &#39;build&#39; in Xcode, it just builds it but nothing happens (no simulator is started etc..) because I think it doesn&#39;t know about that <code>app.js</code> file.</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 14th 2012, 9:00:19 am">March 14th 2012</span>
											by <span class='authorname'>Dino Bartosak</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Ok, in the module project you have two schemes, you can select &quot;Build &amp; test&quot; and run that one, which will do more or less the same than <code>titanium run</code>, but inside Xcode. It&#39;s highly possible that the current selected scheme is the one with the name of your module. Checkout <a href="https:&#x2F;&#x2F;skitch.com&#x2F;omorandi&#x2F;8j747&#x2F;xcode">this picture</a> for how to change the current scheme.</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 14th 2012, 10:56:56 am">March 14th 2012</span>
											by <span class='authorname'>Olivier Morandi</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>That started the app defined in <code>app.js</code> but the execution is not being paused on breakpoints.</p>
<p>But I think I found my real problem. As stated in iOS Module development guide, module code is executing in separated thread. And from online resources and iOS documentation, CLLocationManager must be run from the main thread. Now I&#39;ll have to figure how to force it. I see some macros in Xcode template so I&#39;ll play with it.</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 14th 2012, 11:42:56 am">March 14th 2012</span>
											by <span class='authorname'>Dino Bartosak</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
