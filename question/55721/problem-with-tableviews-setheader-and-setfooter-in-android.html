<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Problem with tableView&#39;s setHeader and setFooter in Android » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Problem with tableView&#39;s setHeader and setFooter in Android</h1>
		</header>
		<section>
			<p>Hi to all,<br>I have a problem with setting the header and the footer in a tableView. When I set the property when creating the table object it keeps crashing with strange NullPointer exception. Can anyone show me the simplest WORKING example on Android how to set header and footer in using a view in a tableView or maybe some workaround.</p>
<p>Your help is much appreciated.</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="August 26th 2010, 5:17:40 am">August 26th 2010</span>
				by <span class='authorname'>Daniel Kareski</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>setfooter</span></li>
					
						<li><span class='tagname'>setheader</span></li>
					
						<li><span class='tagname'>tableview</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-105921">
				
						<section>
							<p>From the Kitchen Sink there&#39;s an example where the table properties are being set from an object like this:</p>
<pre><code class="hljs">// <span class="hljs-operator"><span class="hljs-keyword">create</span> <span class="hljs-keyword">table</span> <span class="hljs-keyword">view</span>
<span class="hljs-keyword">var</span> tableViewOptions = {
    <span class="hljs-keyword">data</span>:<span class="hljs-keyword">data</span>,
    <span class="hljs-keyword">style</span>:Titanium.UI.iPhone.TableViewStyle.GROUPED,
    headerTitle:<span class="hljs-string">'TableView examples and test cases'</span>,
    footerTitle:<span class="hljs-string">"Wow. That was cool!"</span>,
    backgroundColor:<span class="hljs-string">'transparent'</span>,
    rowBackgroundColor:<span class="hljs-string">'white'</span>
};</span>


var tableview = Titanium.UI.createTableView(tableViewOptions);
</code></pre><p>Try this, it might work.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 26th 2010, 5:31:50 am">August 26th 2010</span>
								by <span class='authorname'>Richard Venneman</span><br>
								<a class="icon-bg icon-link" href="question/55721/problem-with-tableviews-setheader-and-setfooter-in-android#answer-105921" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>This example does NOT run in the android emulator and, when trying to run the Kitchen Sink app in the android emulator to see if that app also crashes, I find that Kitchen Sink won&#39;t even run in the android emulator!!</p>
<p>What are you guys doing? I&#39;m running Titanium Studio on Mac OSX 10.6.8 with the android 2.2 SDK.</p>
<p>If I can only create this type of tableview in an iPhone app and can&#39;t even create a simple tableview on android using Titanium.UI.createTableView({data:data}) - yes, also crashes -  then I&#39;d be a lot happier going back to native dev.</p>
<p>The amount I time I&#39;ve had to invest in what is a very simple App with Appcelerator Titanium is ridiculous when put in this context. Objective-C would have been much quicker given that my app won&#39;t run on android anyway!</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 23rd 2011, 1:32:41 pm">August 23rd 2011</span>
											by <span class='authorname'>Robert Turrall</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-105931">
				
						<section>
							<p>Thanks for the reply. </p>
<p>The problem that I encountered was setting a whole custom made view(with labels and images) as a header or footer. I am sorry if I was not clear enough. The code above works fine. </p>
<p>Later I realized that this code works and it shows the header just fine:</p>
<pre><code class="hljs">
var headerView = Ti.UI.createView({
    <span class="hljs-variable">height</span>: <span class="hljs-string">'auto'</span>,
    <span class="hljs-variable">width</span>: Ti.Platform.displayCaps.platformWidth - <span class="hljs-number">20</span>,
    left: <span class="hljs-number">10</span>,
    top: <span class="hljs-number">10</span>
});

headerView.<span class="hljs-built_in">add</span>(Titanium.UI.createLabel({
    <span class="hljs-built_in">color</span>:<span class="hljs-string">'#999'</span>,
    <span class="hljs-built_in">text</span>:<span class="hljs-string">'header'</span>,
    font:{fontSize:<span class="hljs-number">20</span>,fontFamily:<span class="hljs-string">'Helvetica Neue'</span>},
    <span class="hljs-built_in">textAlign</span>:<span class="hljs-string">'center'</span>,
    <span class="hljs-variable">width</span>:<span class="hljs-string">'auto'</span>
}));

var ob = Titanium.UI.createTableView({
    backgroundColor: <span class="hljs-string">'transparent'</span>,
    top: <span class="hljs-number">0</span>,
    left: <span class="hljs-number">0</span>,
    bottom: <span class="hljs-number">0</span>,
    right: <span class="hljs-number">0</span>,
    rowHeight: <span class="hljs-string">'auto'</span>,
    separatorColor: <span class="hljs-string">'black'</span>,
    headerView: headerView
});
</code></pre><p>and this code simply does not show the header at all:</p>
<pre><code class="hljs">var headerView = Ti.UI.createView({
    <span class="hljs-variable">height</span>: <span class="hljs-string">'auto'</span>,
    <span class="hljs-variable">width</span>: Ti.Platform.displayCaps.platformWidth - <span class="hljs-number">20</span>,
    left: <span class="hljs-number">10</span>,
    top: <span class="hljs-number">10</span>
});

headerView.<span class="hljs-built_in">add</span>(Titanium.UI.createLabel({
    <span class="hljs-built_in">color</span>:<span class="hljs-string">'#999'</span>,
    <span class="hljs-built_in">text</span>:<span class="hljs-string">'header'</span>,
    font:{fontSize:<span class="hljs-number">20</span>,fontFamily:<span class="hljs-string">'Helvetica Neue'</span>},
    <span class="hljs-built_in">textAlign</span>:<span class="hljs-string">'center'</span>,
    <span class="hljs-variable">width</span>:<span class="hljs-string">'auto'</span>
}));

var ob = Titanium.UI.createTableView({
    backgroundColor: <span class="hljs-string">'transparent'</span>,
    top: <span class="hljs-number">0</span>,
    left: <span class="hljs-number">0</span>,
    bottom: <span class="hljs-number">0</span>,
    right: <span class="hljs-number">0</span>,
    rowHeight: <span class="hljs-string">'auto'</span>,
    separatorColor: <span class="hljs-string">'black'</span>,
});

ob.headerView = headerView;
</code></pre><p>Any thoughts about that?</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 26th 2010, 6:03:35 am">August 26th 2010</span>
								by <span class='authorname'>Daniel Kareski</span><br>
								<a class="icon-bg icon-link" href="question/55721/problem-with-tableviews-setheader-and-setfooter-in-android#answer-105931" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Are you by any chance, in the last example, adding the TableView to the window before adding the headerView to it? That might explain the problem. Otherwise, I wouldn&#39;t know.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 26th 2010, 6:49:32 am">August 26th 2010</span>
											by <span class='authorname'>Richard Venneman</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
