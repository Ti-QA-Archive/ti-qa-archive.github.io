<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>layout property causing view to disappear on iOS » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>layout property causing view to disappear on iOS</h1>
		</header>
		<section>
			<p>I have created an Android application and tried to simply run it on an iOS simulator. I didn&#39;t use any Android-specific APIs, so I expected it to work with just a few tweaks. The first look at the app on the iOS simulator was quite shocking because it contained almost none of my views and their layout was horrible. The question I want to ask here is why the <code>layout</code> property on a view causes the whole view to disappear?</p>
<p>Here is some sample code that works on Android, but on iOS, nothing is visible.</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> <span class="hljs-keyword">win</span> = Ti.UI.createWindow(pu.combine(pu.ui.properties.<span class="hljs-keyword">Window</span>,{
    backgroundColor: '#BCBCBC',
    navBarHidden: true,
    exitOnClose: true,
    orientationModes: [Ti.UI.PORTRAIT]
}));
<span class="hljs-keyword">var</span> <span class="hljs-keyword">view</span> = Ti.UI.createView({
    layout: 'vertical'
});
<span class="hljs-keyword">var</span> img = Ti.UI.createImageView({
    image: '/images/img.png'
});
<span class="hljs-keyword">var</span> img2 = Ti.UI.createImageView({
    image: '/images/img2.png'
});
<span class="hljs-keyword">view</span>.add(img);
<span class="hljs-keyword">view</span>.add(img2);
<span class="hljs-keyword">win</span>.add(<span class="hljs-keyword">view</span>);
<span class="hljs-keyword">win</span>.<span class="hljs-keyword">open</span>();
</code></pre><p>As soon as I remove the <code>layout</code> property from the view, everything is visible, but I need it to achieve the layout I want.</p>
<p>Is there an error in my code or is the <code>layout</code> property simply not working correctly on iOS?</p>
<p>SDK version: 1.8.2 (up to date), iOS version: 4.3</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="April 12th 2012, 4:25:18 am">April 12th 2012</span>
				by <span class='authorname'>Christian Anger</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>ios</span></li>
					
						<li><span class='tagname'>iphone</span></li>
					
						<li><span class='tagname'>layout</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>-1</span> Votes</div>
			<div class="answers"><span>4</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>4 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-235836">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>hi Christian,</p>
<p>just try to set the height:&#39;auto&#39; and width:&#39;auto&#39; properties of view</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="April 12th 2012, 4:39:01 am">April 12th 2012</span>
								by <span class='authorname'>Mitul Bhalia</span><br>
								<a class="icon-bg icon-link" href="question/135255/layout-property-causing-view-to-disappear-on-ios#answer-235836" rel="permalink">permalink</a>
							</div>

							<h5>10 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>and one more thing <strong>exitOnlose</strong> is onlu for android</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 12th 2012, 4:58:15 am">April 12th 2012</span>
											by <span class='authorname'>Mitul Bhalia</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Hi Mitul, thanks for your answer. Unfortunately, the content is still not visible with height:&#39;auto&#39; and width:&#39;auto&#39;. The only change I get is the following log output:</p>
<pre><code class="hljs"><span class="hljs-attr_selector">[WARN]</span> <span class="hljs-attr_selector">[object TiUIView]</span> has an <span class="hljs-attribute">auto</span> <span class="hljs-attribute">width</span> value of 0, meaning this view may not be <span class="hljs-value">visible</span>.
<span class="hljs-attr_selector">[WARN]</span> <span class="hljs-attr_selector">[object TiUIView]</span> has an <span class="hljs-attribute">auto</span> <span class="hljs-attribute">height</span> value of 0, meaning this view may not be <span class="hljs-value">visible</span>.
<span class="hljs-attr_selector">[WARN]</span> <span class="hljs-attr_selector">[object TiUIView]</span> has an <span class="hljs-attribute">auto</span> <span class="hljs-attribute">width</span> value of 0, meaning this view may not be <span class="hljs-value">visible</span>.
<span class="hljs-attr_selector">[WARN]</span> <span class="hljs-attr_selector">[object TiUIView]</span> has an <span class="hljs-attribute">auto</span> <span class="hljs-attribute">height</span> value of 0, meaning this view may not be <span class="hljs-value">visible</span>.
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="April 12th 2012, 5:06:57 am">April 12th 2012</span>
											by <span class='authorname'>Christian Anger</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>ok then also set the imageView&#39;s height and width to &#39;auto&#39;</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 12th 2012, 7:53:28 am">April 12th 2012</span>
											by <span class='authorname'>Mitul Bhalia</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Now they are visible but much too large. They are not scaled to their container (the view). Even setting the view&#39;s size to fix values does not help, the images remain unscaled and thus too large.</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 12th 2012, 8:32:18 am">April 12th 2012</span>
											by <span class='authorname'>Christian Anger</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>yes that is right if your image size is larger than the view then also it should not visible so you should set the fix height and width of the imageView</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 12th 2012, 8:38:18 am">April 12th 2012</span>
											by <span class='authorname'>Mitul Bhalia</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>but you main problem is solved right…?</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 12th 2012, 8:51:43 am">April 12th 2012</span>
											by <span class='authorname'>Mitul Bhalia</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Yes, my main problem is solved, thanks!</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 12th 2012, 9:04:23 am">April 12th 2012</span>
											by <span class='authorname'>Christian Anger</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>can you mark this answer as accepted…?</p>
<p>so this can be useful to everyone in future</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 12th 2012, 9:15:43 am">April 12th 2012</span>
											by <span class='authorname'>Mitul Bhalia</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>done so a minute ago ;)</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 12th 2012, 9:18:01 am">April 12th 2012</span>
											by <span class='authorname'>Christian Anger</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>thnx</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 12th 2012, 9:25:44 am">April 12th 2012</span>
											by <span class='authorname'>Mitul Bhalia</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-235847">
				
						<section>
							<p>Hi Christian,</p>
<p>Try this code…</p>
<pre><code class="hljs">var win = Ti.UI.createWindow(pu.combine(pu.ui.properties.Window,{
    backgroundColor: <span class="hljs-string">'#BCBCBC'</span>,
    navBarHidden: <span class="hljs-keyword">true</span>,
    exitOnClose: <span class="hljs-keyword">true</span>,
    orientationModes: [Ti.UI.PORTRAIT]
}));
var view = Ti.UI.createView({
    layout: <span class="hljs-string">'vertical'</span>
});
var img = Ti.UI.createImageView({
    <span class="hljs-built_in">image</span>: <span class="hljs-string">'/images/img.png'</span>,
    <span class="hljs-variable">height</span> :<span class="hljs-string">'auto'</span>
});
var img2 = Ti.UI.createImageView({
    <span class="hljs-built_in">image</span>: <span class="hljs-string">'/images/img2.png'</span>,
    <span class="hljs-variable">height</span> :<span class="hljs-string">'auto'</span>
});

view.<span class="hljs-built_in">add</span>(img);
view.<span class="hljs-built_in">add</span>(img2);
win.<span class="hljs-built_in">add</span>(view);
win.<span class="hljs-built_in">open</span>();
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="April 12th 2012, 6:34:02 am">April 12th 2012</span>
								by <span class='authorname'>Nitin Chavda</span><br>
								<a class="icon-bg icon-link" href="question/135255/layout-property-causing-view-to-disappear-on-ios#answer-235847" rel="permalink">permalink</a>
							</div>

							<h5>5 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Thx but not working, still not visible</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 12th 2012, 8:34:26 am">April 12th 2012</span>
											by <span class='authorname'>Christian Anger</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Which Platform?.</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 12th 2012, 8:39:52 am">April 12th 2012</span>
											by <span class='authorname'>Nitin Chavda</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>iOS</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 12th 2012, 8:45:37 am">April 12th 2012</span>
											by <span class='authorname'>Christian Anger</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I have tested it in IOS 5.0 and SDK 1.8.0 it works fine for me.</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 12th 2012, 8:51:41 am">April 12th 2012</span>
											by <span class='authorname'>Nitin Chavda</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>It seems to only work if all images fit into the window. It worked for me as well in iOS 4.3 and SDK 1.8.2, but only with layout: &#39;vertical&#39;. Changing it to layout: &#39;horizontal&#39; made the images disappear again.</p>
<p>The answers to my question showed that I&#39;ll have to use fix width and height values anyway, so this approach won&#39;t solve my exact problem. </p>
<p>Thanks for the help!</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 12th 2012, 9:14:21 am">April 12th 2012</span>
											by <span class='authorname'>Christian Anger</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-235862">
				
						<section>
							<p>hi Christian,</p>
<p>you can get the height and width value while setting these as &#39;auto&#39; by </p>
<pre><code class="hljs"><span class="hljs-tag">img</span><span class="hljs-class">.toImage</span>()<span class="hljs-class">.width</span>;
<span class="hljs-tag">img</span><span class="hljs-class">.toImage</span>()<span class="hljs-class">.height</span>;
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="April 12th 2012, 8:30:04 am">April 12th 2012</span>
								by <span class='authorname'>Mitul Bhalia</span><br>
								<a class="icon-bg icon-link" href="question/135255/layout-property-causing-view-to-disappear-on-ios#answer-235862" rel="permalink">permalink</a>
							</div>

							<h5>2 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Thank you for the tip, this works well to determine the dimensions of an image on Android. The only thing I am worried about is the performance if I have to do this for every single image …</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 12th 2012, 8:53:43 am">April 12th 2012</span>
											by <span class='authorname'>Christian Anger</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>yes this is for android as well as ios also.</p>
<p>when size method does not work then toImage() will help you</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 12th 2012, 9:14:05 am">April 12th 2012</span>
											by <span class='authorname'>Mitul Bhalia</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-235839">
				
						<section>
							<p>Hi Christian,</p>
<p>Have you tried using fix height and width for testing?.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="April 12th 2012, 5:27:14 am">April 12th 2012</span>
								by <span class='authorname'>Nitin Chavda</span><br>
								<a class="icon-bg icon-link" href="question/135255/layout-property-causing-view-to-disappear-on-ios#answer-235839" rel="permalink">permalink</a>
							</div>

							<h5>4 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Thanks for the suggestion. It turns out that the imageViews are only shown with fix height and width values. This is very frustrating because it means that you can&#39;t use different images for different screen resolutions. You always have to know the exact dimension of the image (imageView.width and imageView.height does not work on Android).</p>
<p>Or is there already an acceptable workaround for this issue?</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 12th 2012, 6:07:49 am">April 12th 2012</span>
											by <span class='authorname'>Christian Anger</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Re: (imageView.width and imageView.height does not work on Android)</p>
<p>You need to use imageView.size.height and imageView.size.width. When you set height&#x2F;width you can use imageView.height&#x2F;width, but when reading (or &#39;getting&#39;) dimensions you need to use the size object</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 12th 2012, 7:43:32 am">April 12th 2012</span>
											by <span class='authorname'>Esben Maaløe</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>That&#39;s one of the things I tried on Android, but imageView.size.height and imageView.size.width doesn&#39;t work either. The earliest point at which I get reasonable values is after a window opened, but this would mean that I had to do the whole layout in the window open listener.</p>
<p>Here is a sample code:</p>
<pre><code class="hljs">var win = Ti.UI.createWindow();
var img = Ti.UI.createImageView({
    <span class="hljs-variable">width</span>: <span class="hljs-string">'auto'</span>,
    <span class="hljs-variable">height</span>: <span class="hljs-string">'auto'</span>,
    <span class="hljs-built_in">image</span>: <span class="hljs-string">'/images/img.png'</span>
});
win.<span class="hljs-built_in">add</span>(img);
Ti.API.info(<span class="hljs-string">'Size1: w='</span> + img.<span class="hljs-built_in">size</span>.<span class="hljs-variable">width</span> + <span class="hljs-string">', h='</span> + img.<span class="hljs-built_in">size</span>.<span class="hljs-variable">height</span>);

win.addEventListener(<span class="hljs-string">'open'</span>, function(e) {
    Ti.API.info(<span class="hljs-string">'Size2: w='</span> + img.<span class="hljs-built_in">size</span>.<span class="hljs-variable">width</span> + <span class="hljs-string">', h='</span> + img.<span class="hljs-built_in">size</span>.<span class="hljs-variable">height</span>);
});
win.<span class="hljs-built_in">open</span>();
</code></pre><p>Running this code produces the following output (30x30 is the actual size):</p>
<pre><code class="hljs">[INFO] Size1: w=<span class="hljs-number">0</span>, h=<span class="hljs-number">0</span>
[INFO] Size1: w=<span class="hljs-number">30</span>, h=<span class="hljs-number">30</span>
</code></pre><p>Do you have a sample on how the img.size object can be used (e.g. to compute the position of other UI elements) without having to compute everything within the window open event?</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 12th 2012, 8:21:53 am">April 12th 2012</span>
											by <span class='authorname'>Christian Anger</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>the second log output is Size2 of course ;)</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 12th 2012, 8:36:05 am">April 12th 2012</span>
											by <span class='authorname'>Christian Anger</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>-1</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
