<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Ti.Network.HTTPClient, Android strange behavior with the responseXML » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Ti.Network.HTTPClient, Android strange behavior with the responseXML</h1>
		</header>
		<section>
			<p>Hello !</p>
<p>I currently have 2 urls :</p>
<p><a href="http:&#x2F;&#x2F;ars.dev.oblady.com&#x2F;?eID=get_ttnews&amp;order=tx_xmlfeeder_categories%20DESC">http:&#x2F;&#x2F;ars.dev.oblady.com&#x2F;?eID=get_ttnews&amp;order=tx_xmlfeeder_categories DESC</a><br><a href="http:&#x2F;&#x2F;ars.dev.oblady.com&#x2F;?eID=get_ttnews&amp;order=tx_xmlfeeder_area%20ASC">http:&#x2F;&#x2F;ars.dev.oblady.com&#x2F;?eID=get_ttnews&amp;order=tx_xmlfeeder_area ASC</a></p>
<p>Each one is giving me a newsfeed ordered differently.</p>
<p>I&#39;m using it like this :<br>On the one hand I have :</p>
<pre><code class="hljs">var xhr = Ti.Network.createHTTPClient();
xhr.open(<span class="hljs-string">"<span class="hljs-keyword">GET</span>"</span>,<span class="hljs-string">"http://ars.dev.oblady.com/?eID=get_ttnews&amp;order=tx_xmlfeeder_categories DESC"</span>);
xhr.send();
</code></pre><p>One the other :</p>
<pre><code class="hljs">xhr.open(<span class="hljs-string">"<span class="hljs-keyword">GET</span>"</span>,<span class="hljs-string">"http://ars.dev.oblady.com/?eID=get_ttnews&amp;order=tx_xmlfeeder_area%20ASC"</span>);
xhr.send();
</code></pre><p>I&#39;m processing those two requests this way:</p>
<pre><code class="hljs">xhr.onload = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)
</span>{
    <span class="hljs-keyword">try</span>
    {
        <span class="hljs-keyword">var</span> doc = <span class="hljs-keyword">this</span>.responseXML.documentElement;
        <span class="hljs-keyword">var</span> items = doc.getElementsByTagName(<span class="hljs-string">"item"</span>);
        <span class="hljs-keyword">var</span> x = <span class="hljs-number">0</span>;
        Ti.API.info(doc.getElementsByTagName(<span class="hljs-string">"item"</span>).item(<span class="hljs-number">0</span>).getElementsByTagName(<span class="hljs-string">'uid'</span>).item(<span class="hljs-number">0</span>).text);
    [... rest <span class="hljs-keyword">of</span> the code ... ] }
</code></pre><p>The thing is : on an iPhone I get the following results :<br>10 and 9 (The first ID for each request)<br>But on the Android I got 10 and 10.</p>
<p>I have displayed the responseText and it IS in the correct order ( 10 and 9 ) so it seems that the issue comes from the responseXML parsing or the object generated by getElementsByTagName().<br>Maybe it&#39;s sorting it in some way ?</p>
<p>As there are no ways of displaying an object in Titanium (seriously, how is it even possible ? There is no console.log equivalent or anything likely ? All I can get is [Ti documentElement] and other things. I can&#39;t have a proper view on all the properties or the content of an object. Bummer. ) I don&#39;t know what is causing this issue.</p>
<p>If anyone has any idea, I will take it.</p>
<p>Thanks.</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="February 27th 2012, 1:37:23 pm">February 27th 2012</span>
				by <span class='authorname'>Gabriel Dehan</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>httpclient</span></li>
					
						<li><span class='tagname'>mobile</span></li>
					
						<li><span class='tagname'>xml</span></li>
					
				</ul>
			

			<section>
				<h5>1 Comment</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Did you check the RSS example in the Kitchen Sink? Maybe can get you more ideas… </p>
<p>Best,</p>
<p>Mauro</p>
</div>
							<div class="author">
								&mdash; commented <span title="February 27th 2012, 8:29:16 pm">February 27th 2012</span>
								by <span class='authorname'>Mauro Parra</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>3</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>3 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-231699">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>Try:</p>
<pre><code class="hljs">
<span class="hljs-variable"><span class="hljs-keyword">var</span> doc</span> = Ti.XML.parseString(xml_string);
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="February 27th 2012, 6:53:53 pm">February 27th 2012</span>
								by <span class='authorname'>Darren Adams</span><br>
								<a class="icon-bg icon-link" href="question/132824/tinetworkhttpclient-android-strange-behavior-with-the-responsexml#answer-231699" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>It perfectly works, thank you so much !</p>
<p>Any idea why the original code is doing this ?</p>
</p>
										<div class="author">
											&mdash; commented <span title="February 28th 2012, 7:31:32 am">February 28th 2012</span>
											by <span class='authorname'>Gabriel Dehan</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-231665">
				
						<section>
							<p>&quot;There is no console.log equivalent or anything likely&quot;</p>
<pre><code class="hljs">Ti.API.info('This <span class="hljs-keyword">is</span> a <span class="hljs-command">log</span> message');
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="February 27th 2012, 1:47:37 pm">February 27th 2012</span>
								by <span class='authorname'>Nick Milner</span><br>
								<a class="icon-bg icon-link" href="question/132824/tinetworkhttpclient-android-strange-behavior-with-the-responsexml#answer-231665" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Well, as I&#39;m using it in my code sample, you can guess I knew this one.<br>Console.log() also displays the contents of objects, there properties, and so on and so on ;)</p>
</p>
										<div class="author">
											&mdash; commented <span title="February 27th 2012, 1:53:00 pm">February 27th 2012</span>
											by <span class='authorname'>Gabriel Dehan</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-231666">
				
						<section>
							<p>Here to log an object</p>
<pre><code class="hljs"><span class="hljs-tag">Ti</span><span class="hljs-class">.API</span><span class="hljs-class">.info</span>( <span class="hljs-tag">JSON</span><span class="hljs-class">.stringify</span>(<span class="hljs-tag">this</span><span class="hljs-class">.responseXML</span>) );
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="February 27th 2012, 1:48:07 pm">February 27th 2012</span>
								by <span class='authorname'>Minh Nguyen</span><br>
								<a class="icon-bg icon-link" href="question/132824/tinetworkhttpclient-android-strange-behavior-with-the-responsexml#answer-231666" rel="permalink">permalink</a>
							</div>

							<h5>2 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>That might help, I will give it a try, thanks !</p>
</p>
										<div class="author">
											&mdash; commented <span title="February 27th 2012, 1:53:25 pm">February 27th 2012</span>
											by <span class='authorname'>Gabriel Dehan</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>This ain&#39;t working, the application just doesn&#39;t execute the code in the block where this line is. The application does not crash, nor it display any error. Instead it just stops, waiting for me to do something (like changing the tab to access another part of the application, or kill the application).</p>
<p>Quite logical in fact, XML cannot be stringified as JSON.</p>
</p>
										<div class="author">
											&mdash; commented <span title="February 27th 2012, 2:10:02 pm">February 27th 2012</span>
											by <span class='authorname'>Gabriel Dehan</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
