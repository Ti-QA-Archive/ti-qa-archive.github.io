<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Alloy XML Markup and Collection / Model Elements not working » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Alloy XML Markup and Collection / Model Elements not working</h1>
		</header>
		<section>
			<p>Hi, I am trying to use the Collection Element for Alloys XML markup. </p>
<p>This is my accountings.xml:</p>
<pre><code class="hljs"><span class="hljs-tag">&lt;<span class="hljs-title">Alloy</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">Collection</span> <span class="hljs-attribute">src</span>=<span class="hljs-value">"Accounting"</span> /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">View</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"container"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">TableView</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"accountingTable"</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"table"</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">View</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">Alloy</span>&gt;</span>
</code></pre><p>which gives me a<br>&gt; [ERROR] :  Script Error = &#39;undefined&#39; is not an object (evaluating &#39;Alloy.Collections&#39;) at accountings.js (line 10).</p>
<p>So i tried to first try an example of the docs from http:&#x2F;&#x2F;docs.appcelerator.com&#x2F;titanium&#x2F;latest&#x2F;#!&#x2F;guide&#x2F;Alloy_XML_Markup-section-35621528_AlloyXMLMarkup-CollectionElement what i then noticed is that in all those examples the Alloy element is not getting closed correctly like this example shows:</p>
<pre><code class="hljs"><span class="hljs-tag">&lt;<span class="hljs-title">Alloy</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">Collection</span> <span class="hljs-attribute">src</span>=<span class="hljs-value">"book"</span> /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">Window</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">TableView</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"table"</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">Window</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">Alloy</span>&gt;</span>
</code></pre><p>If i try to use it like that the &#39;undefined&#39; error won&#39;t be thrown but i will be unable to do stuff like this:</p>
<pre><code class="hljs"><span class="hljs-variable">$.</span>accountings = <span class="hljs-constant">Alloy.</span>createController(<span class="hljs-string">'accountings'</span>);
<span class="hljs-variable">$.</span>index.add(<span class="hljs-variable">$.</span>accountings.getView());
</code></pre><p>which then will give me<br>&gt;[ERROR] :  Script Error = -[NSNull krollObjectForBridge:]: unrecognized selector sent to instance 0x36a3678 at index.js (line 15).</p>
<p>I am using Titanium Studio 3.0.1, Alloy, iOS 6 simulator</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="January 24th 2013, 2:13:02 pm">January 24th 2013</span>
				by <span class='authorname'>Jan Pretzel</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>alloy</span></li>
					
						<li><span class='tagname'>view</span></li>
					
						<li><span class='tagname'>xml</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>3</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>3 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-255265">
				
						<section>
							<p>It sounds like you have an old version of Alloy. Update it and try again:</p>
<pre><code class="hljs">sudo npm <span class="hljs-operator"><span class="hljs-keyword">install</span> -<span class="hljs-keyword">g</span> alloy</span>
</code></pre><p>As for the documentation issue, I just logged a ticket to get it fixed: <a href="https:&#x2F;&#x2F;jira.appcelerator.org&#x2F;browse&#x2F;TIDOC-989">https:&#x2F;&#x2F;jira.appcelerator.org&#x2F;browse&#x2F;TIDOC-989</a></p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="January 24th 2013, 2:29:34 pm">January 24th 2013</span>
								by <span class='authorname'>Tony Lukasavage</span><br>
								<a class="icon-bg icon-link" href="question/147354/alloy-xml-markup-and-collection--model-elements-not-working#answer-255265" rel="permalink">permalink</a>
							</div>

							<h5>7 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>I just installed the SDK because of a HDD switch. Version is 0.3.6 same after running </p>
<pre><code class="hljs">sudo npm <span class="hljs-operator"><span class="hljs-keyword">install</span> -<span class="hljs-keyword">g</span> alloy</span>
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="January 24th 2013, 2:37:04 pm">January 24th 2013</span>
											by <span class='authorname'>Jan Pretzel</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Make sure you don&#39;t have multiple Alloy versions installed. Try</p>
<pre><code class="hljs">alloy <span class="hljs-comment">--version</span>
</code></pre><p>just to make sure the alloy on your PATH is actually at 0.3.6. The undefined error for Alloy.Collections should only occur if you are using an older version of Alloy, or if you haven&#39;t actually defined the model you are referencing with the src attribute.</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 24th 2013, 2:54:15 pm">January 24th 2013</span>
											by <span class='authorname'>Tony Lukasavage</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>That&#39;s where i got the version from in the first place.<br>When you use a not defined model you&#39;ll get something like</p>
<pre><code class="hljs">[<span class="hljs-keyword">ERROR</span>] :  [<span class="hljs-keyword">ERROR</span>] <span class="hljs-keyword">Error</span> with &lt;Collection&gt; at <span class="hljs-keyword">line</span> 2
[<span class="hljs-keyword">ERROR</span>] :  [<span class="hljs-keyword">ERROR</span>] <span class="hljs-string">"src"</span> attribute's model <span class="hljs-string">"Accountings"</span> does not exist <span class="hljs-keyword">in</span> <span class="hljs-keyword">app</span>/models
[<span class="hljs-keyword">ERROR</span>] :  [<span class="hljs-keyword">ERROR</span>] Valid models: [Accounting,Milestone,Project]
[<span class="hljs-keyword">ERROR</span>] :  Alloy compiler failed
</code></pre><p>Sorry for the double post</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 24th 2013, 3:38:08 pm">January 24th 2013</span>
											by <span class='authorname'>Jan Pretzel</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Says right there in the error output. You are adding an &quot;s&quot; to the name of the model. It&#39;s supposed to be &quot;Accounting&quot;, not &quot;Accountings&quot;</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 24th 2013, 3:44:31 pm">January 24th 2013</span>
											by <span class='authorname'>Tony Lukasavage</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>No I just did this to test what you where saying in the comment before to show you that you&#39;ll get another error and not the &#39;undefined&#39; one. </p>
<p>But when I use &quot;Accounting&quot; like the actual Question suggests I&#39;ll get </p>
<pre><code class="hljs"><span class="hljs-list">[<span class="hljs-keyword">ERROR</span>] : Script Error = <span class="hljs-variable">'undefined</span>' is not an object <span class="hljs-list">(<span class="hljs-keyword">evaluating</span> <span class="hljs-variable">'Alloy.Collections</span>')</span> at accountings.js <span class="hljs-list">(<span class="hljs-keyword">line</span> <span class="hljs-number">10</span>)</span></span>
</code></pre><p>and not</p>
<pre><code class="hljs">[<span class="hljs-keyword">ERROR</span>] :  [<span class="hljs-keyword">ERROR</span>] <span class="hljs-keyword">Error</span> with &lt;Collection&gt; at <span class="hljs-keyword">line</span> 2
[<span class="hljs-keyword">ERROR</span>] :  [<span class="hljs-keyword">ERROR</span>] <span class="hljs-string">"src"</span> attribute's model <span class="hljs-string">"Accountings"</span> does not exist <span class="hljs-keyword">in</span> <span class="hljs-keyword">app</span>/models
[<span class="hljs-keyword">ERROR</span>] :  [<span class="hljs-keyword">ERROR</span>] Valid models: [Accounting,Milestone,Project]
[<span class="hljs-keyword">ERROR</span>] :  Alloy compiler failed
</code></pre><p>so i guess the model i reference in the src attribute is defined, right?</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 24th 2013, 3:50:49 pm">January 24th 2013</span>
											by <span class='authorname'>Jan Pretzel</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Need a test case at this point, because your sample looks like it is saying Alloy or Alloy.Collections is not defined. The former should never be the case in a model, the latter should never be the case in Alloy 0.3.6. Put together a small small that reproduces this so I can test it on my end.</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 24th 2013, 4:12:42 pm">January 24th 2013</span>
											by <span class='authorname'>Tony Lukasavage</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Actually I found the reason while reproducing the error into a smaller example. Somehow I copied over a</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> Alloy = <span class="hljs-built_in">require</span>(<span class="hljs-string">'alloy'</span>);
</code></pre><p>in my accountings.js controller, which caused the error.</p>
<p>Thank you all the same!</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 24th 2013, 5:49:04 pm">January 24th 2013</span>
											by <span class='authorname'>Jan Pretzel</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-255267">
				
						<section>
							<p>That&#39;s where i got the version from in the first place.</p>
<p>When you use a not defined model you&#39;ll get something like</p>
<pre><code class="hljs">[<span class="hljs-keyword">ERROR</span>] :  [<span class="hljs-keyword">ERROR</span>] <span class="hljs-keyword">Error</span> with &lt;Collection&gt; at <span class="hljs-keyword">line</span> 2
[<span class="hljs-keyword">ERROR</span>] :  [<span class="hljs-keyword">ERROR</span>] <span class="hljs-string">"src"</span> attribute's model <span class="hljs-string">"Accountings"</span> does not exist <span class="hljs-keyword">in</span> <span class="hljs-keyword">app</span>/models
[<span class="hljs-keyword">ERROR</span>] :  [<span class="hljs-keyword">ERROR</span>] Valid models: [Accounting,Milestone,Project]
[<span class="hljs-keyword">ERROR</span>] :  Alloy compiler failed
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="January 24th 2013, 3:17:38 pm">January 24th 2013</span>
								by <span class='authorname'>Jan Pretzel</span><br>
								<a class="icon-bg icon-link" href="question/147354/alloy-xml-markup-and-collection--model-elements-not-working#answer-255267" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>The post was meant to be a comment to the 2 comment of the first answer</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 24th 2013, 3:19:03 pm">January 24th 2013</span>
											by <span class='authorname'>Jan Pretzel</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-255276">
				
						<section>
							<p>The Problem was caused in the corresponding controller.<br>The line</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> Alloy = <span class="hljs-built_in">require</span>(<span class="hljs-string">'alloy'</span>);
</code></pre><p>caused it.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="January 24th 2013, 5:50:45 pm">January 24th 2013</span>
								by <span class='authorname'>Jan Pretzel</span><br>
								<a class="icon-bg icon-link" href="question/147354/alloy-xml-markup-and-collection--model-elements-not-working#answer-255276" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
