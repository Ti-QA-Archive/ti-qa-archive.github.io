<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>JNI ERROR (app bug): local reference table overflow (max=512) » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>JNI ERROR (app bug): local reference table overflow (max=512)</h1>
		</header>
		<section>
			<p>Does anyone had this error on launching their app on android emulator and&#x2F;or does anyone know how to fix this?</p>
<p>Thank you.</p>
<p>###[ERROR][dalvikvm( 1746)] JNI ERROR (app bug): local reference table overflow (max=512)</p>
<pre><code class="hljs">[<span class="hljs-link_label">WARN</span>][<span class="hljs-link_reference">dalvikvm( 1746)</span>] JNI local reference table (0x2a29b350) dump:
[<span class="hljs-link_label">WARN</span>][<span class="hljs-link_reference">dalvikvm( 1746)</span>]   Last 10 entries (of 512):
[<span class="hljs-link_label">WARN</span>][<span class="hljs-link_reference">dalvikvm( 1746)</span>]       511: 0x417b3d20 org.appcelerator.kroll.KrollDict
[<span class="hljs-link_label">WARN</span>][<span class="hljs-link_reference">dalvikvm( 1746)</span>]       510: 0x4178e4f0 org.appcelerator.titanium.proxy.ActivityProxy
[<span class="hljs-link_label">WARN</span>][<span class="hljs-link_reference">dalvikvm( 1746)</span>]       509: 0x417c3960 ti.modules.titanium.ui.TabGroupProxy
[<span class="hljs-link_label">WARN</span>][<span class="hljs-link_reference">dalvikvm( 1746)</span>]       508: 0x41ab9f40 org.appcelerator.titanium.proxy.ActionBarProxy
[<span class="hljs-link_label">WARN</span>][<span class="hljs-link_reference">dalvikvm( 1746)</span>]       507: 0x417a7820 ti.modules.titanium.ui.TabProxy
[<span class="hljs-link_label">WARN</span>][<span class="hljs-link_reference">dalvikvm( 1746)</span>]       506: 0x4178e4f0 org.appcelerator.titanium.proxy.ActivityProxy
[<span class="hljs-link_label">WARN</span>][<span class="hljs-link_reference">dalvikvm( 1746)</span>]       505: 0x417c3960 ti.modules.titanium.ui.TabGroupProxy
[<span class="hljs-link_label">WARN</span>][<span class="hljs-link_reference">dalvikvm( 1746)</span>]       504: 0x41ab9f40 org.appcelerator.titanium.proxy.ActionBarProxy
[<span class="hljs-link_label">WARN</span>][<span class="hljs-link_reference">dalvikvm( 1746)</span>]       503: 0x417a7820 ti.modules.titanium.ui.TabProxy
[<span class="hljs-link_label">WARN</span>][<span class="hljs-link_reference">dalvikvm( 1746)</span>]       502: 0x4178e4f0 org.appcelerator.titanium.proxy.ActivityProxy
[<span class="hljs-link_label">WARN</span>][<span class="hljs-link_reference">dalvikvm( 1746)</span>]   Summary:
[<span class="hljs-link_label">WARN</span>][<span class="hljs-link_reference">dalvikvm( 1746)</span>]         1 of java.lang.String
[<span class="hljs-link_label">WARN</span>][<span class="hljs-link_reference">dalvikvm( 1746)</span>]         1 of java.util.HashMap$KeySet
[<span class="hljs-link_label">WARN</span>][<span class="hljs-link_reference">dalvikvm( 1746)</span>]       127 of ti.modules.titanium.ui.TabGroupProxy (1 unique instances)
[<span class="hljs-link_label">WARN</span>][<span class="hljs-link_reference">dalvikvm( 1746)</span>]         2 of org.appcelerator.kroll.KrollDict (2 unique instances)
[<span class="hljs-link_label">WARN</span>][<span class="hljs-link_reference">dalvikvm( 1746)</span>]       127 of org.appcelerator.titanium.proxy.ActivityProxy (1 unique instances)
[<span class="hljs-link_label">WARN</span>][<span class="hljs-link_reference">dalvikvm( 1746)</span>]       127 of ti.modules.titanium.ui.TabProxy (1 unique instances)
[<span class="hljs-link_label">WARN</span>][<span class="hljs-link_reference">dalvikvm( 1746)</span>]         2 of org.appcelerator.kroll.runtime.v8.V8Object (2 unique instances)
[<span class="hljs-link_label">WARN</span>][<span class="hljs-link_reference">dalvikvm( 1746)</span>]       125 of org.appcelerator.titanium.proxy.ActionBarProxy (1 unique instances)
[<span class="hljs-link_label">ERROR</span>][<span class="hljs-link_reference">dalvikvm( 1746)</span>] Failed adding to JNI local ref table (has 512 entries)
[<span class="hljs-link_label">INFO</span>][<span class="hljs-link_reference">dalvikvm( 1746)</span>] "KrollRuntimeThread" prio=5 tid=12 RUNNABLE
[<span class="hljs-link_label">INFO</span>][<span class="hljs-link_reference">dalvikvm( 1746)</span>]   | group="main" sCount=0 dsCount=0 obj=0x417dd180 self=0x2a054000
[<span class="hljs-link_label">INFO</span>][<span class="hljs-link_reference">dalvikvm( 1746)</span>]   | sysTid=1768 nice=0 sched=0/0 cgrp=apps handle=704993600
[<span class="hljs-link_label">INFO</span>][<span class="hljs-link_reference">dalvikvm( 1746)</span>]   | state=R schedstat=( 3694042358 1815126192 5037 ) utm=337 stm=32 core=0
[<span class="hljs-link_label">INFO</span>][<span class="hljs-link_reference">dalvikvm( 1746)</span>]   at org.appcelerator.kroll.runtime.v8.V8Object.nativeFireEvent(Native Method)
[<span class="hljs-link_label">INFO</span>][<span class="hljs-link_reference">dalvikvm( 1746)</span>]   at org.appcelerator.kroll.runtime.v8.V8Object.fireEvent(V8Object.java:64)
[<span class="hljs-link_label">INFO</span>][<span class="hljs-link_reference">dalvikvm( 1746)</span>]   at org.appcelerator.kroll.KrollProxy.doFireEvent(KrollProxy.java:861)
[<span class="hljs-link_label">INFO</span>][<span class="hljs-link_reference">dalvikvm( 1746)</span>]   at org.appcelerator.kroll.KrollProxy.handleMessage(KrollProxy.java:1084)
[<span class="hljs-link_label">INFO</span>][<span class="hljs-link_reference">dalvikvm( 1746)</span>]   at org.appcelerator.titanium.proxy.TiViewProxy.handleMessage(TiViewProxy.java:316)
[<span class="hljs-link_label">INFO</span>][<span class="hljs-link_reference">dalvikvm( 1746)</span>]   at org.appcelerator.titanium.proxy.TiWindowProxy.handleMessage(TiWindowProxy.java:100)
[<span class="hljs-link_label">INFO</span>][<span class="hljs-link_reference">dalvikvm( 1746)</span>]   at ti.modules.titanium.ui.TabGroupProxy.handleMessage(TabGroupProxy.java:103)
[<span class="hljs-link_label">INFO</span>][<span class="hljs-link_reference">dalvikvm( 1746)</span>]   at android.os.Handler.dispatchMessage(Handler.java:95)
[<span class="hljs-link_label">INFO</span>][<span class="hljs-link_reference">dalvikvm( 1746)</span>]   at android.os.Looper.loop(Looper.java:137)
[<span class="hljs-link_label">INFO</span>][<span class="hljs-link_reference">dalvikvm( 1746)</span>]   at org.appcelerator.kroll.KrollRuntime$KrollRuntimeThread.run(KrollRuntime.java:112)
[<span class="hljs-link_label">INFO</span>][<span class="hljs-link_reference">dalvikvm( 1746)</span>] 
[<span class="hljs-link_label">ERROR</span>][<span class="hljs-link_reference">dalvikvm( 1746)</span>] VM aborting
F/libc    ( 1746): Fatal signal 11 (SIGSEGV) at 0xdeadd00d (code=1), thread 1768 (KrollRuntimeThr)
</code></pre><p>Application type: mobile<br>Titanium SDK version: 3.1.1 (06&#x2F;15&#x2F;13 16:09 f7592c1)<br>Platform &amp; version:  Android 4.3 and 2.3.3<br>Device: Android emulator<br>Host Operating System: OSX 10.8.4 Mountain Lion<br>Titanium Studio: build: 3.1.1.201306112235</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="September 24th 2013, 7:29:17 am">September 24th 2013</span>
				by <span class='authorname'>Mihai Marginean</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>emulator</span></li>
					
						<li><span class='tagname'>error</span></li>
					
						<li><span class='tagname'>jni</span></li>
					
						<li><span class='tagname'>titanium</span></li>
					
				</ul>
			

			<section>
				<h5>1 Comment</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Hello Mihai,</p>
<p>I&#39;m sure you&#39;ll agree, that your question doesn&#39;t give us much to work with. I strongly suggest you have a look at <a href="http:&#x2F;&#x2F;developer.appcelerator.com&#x2F;question&#x2F;ask">the guidelines to follow</a> when asking a question.</p>
<p>Also, please include some code detailing what you are trying to achieve. This will give everyone a better understanding of the problem you are facing.</p>
</div>
							<div class="author">
								&mdash; commented <span title="September 24th 2013, 7:40:10 am">September 24th 2013</span>
								by <span class='authorname'>Christian Brousseau</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>2</span> Votes</div>
			<div class="answers"><span>3</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>3 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-282070">
				
						<section>
							<p>Although your question is 12 months old, I found this page because of the same error, and I figured it out.</p>
<p>I got the same error because I was sending too much information to the <code>console.log()</code> function. (same as the <code>.info()</code> function). It couldn&#39;t handle the data.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="September 1st 2014, 12:58:54 pm">September 1st 2014</span>
								by <span class='authorname'>Rene Pot</span><br>
								<a class="icon-bg icon-link" href="question/157555/jni-error-app-bug-local-reference-table-overflow-max512.html#answer-282070" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>2</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-269068">
				
						<section>
							<p>Hello,</p>
<p>I solved this problem. In my case the problem was generated by improper cleaning of tableView data. I had 19 TI.UI.TableViewRow created with a code like this:</p>
<pre><code class="hljs">function createData(){

var data = [];

    var row = Ti.UI.createTableViewRow({
        selectedBackgroundColor : <span class="hljs-string">'#5E5959'</span>,
        <span class="hljs-variable">height</span> : <span class="hljs-string">'60dp'</span>,
        className : <span class="hljs-string">'datarow'</span>,
        clickName : <span class="hljs-string">'Park - Group'</span>,
        selectedColor : <span class="hljs-string">'#fff'</span>,
        backgroundColor : bgcolor,

    });

    var photo = Ti.UI.createView({
        backgroundImage : <span class="hljs-string">'icons/park.png'</span>,
        top:<span class="hljs-string">'9dp'</span>,
        left: <span class="hljs-string">'10dp'</span>,
        <span class="hljs-variable">width</span>: <span class="hljs-string">'40dp'</span>,
        <span class="hljs-variable">height</span>: <span class="hljs-string">'40dp'</span>,
        clickName:<span class="hljs-string">'photo'</span>
    });
    row.<span class="hljs-built_in">add</span>(photo);
    var user = Ti.UI.createLabel({
        <span class="hljs-built_in">color</span>:<span class="hljs-string">'#E7E7E7'</span>,
        font: {
            fontSize: <span class="hljs-string">'20dp'</span>,
            fontWeight:<span class="hljs-string">'bold'</span>,
            fontFamily:<span class="hljs-string">'Arial'</span>
        },
        left: <span class="hljs-string">'85dp'</span>,
        top: <span class="hljs-string">'9dp'</span>,
        <span class="hljs-variable">height</span>: <span class="hljs-string">'40dp'</span>,
        right: <span class="hljs-string">'10dp'</span>,
        <span class="hljs-built_in">text</span>:<span class="hljs-string">'Park - Group'</span>
    });
    row.<span class="hljs-built_in">add</span>(user);
    data.push(row);

    <span class="hljs-comment">//repeat that 19 times for different rows</span>
    <span class="hljs-keyword">return</span> data;
}
</code></pre><p>than i had a tableView created like this:</p>
<pre><code class="hljs"><span class="hljs-built_in">var</span> tableView = Titanium<span class="hljs-built_in">.</span>UI<span class="hljs-built_in">.</span>createTableView({
        <span class="hljs-built_in">data</span>:createData(),
        backgroundCol<span class="hljs-subst">or</span>:<span class="hljs-string">'#000'</span>,
        allowsSelection:<span class="hljs-literal">true</span>,
        scrollable:<span class="hljs-literal">true</span>
    });
</code></pre><p>and I tried to clean tableView data like this:</p>
<pre><code class="hljs"><span class="hljs-tag">tableView</span><span class="hljs-class">.setData</span>(<span class="hljs-attr_selector">[]</span>);
<span class="hljs-tag">win</span><span class="hljs-class">.remove</span>(<span class="hljs-tag">tableView</span>);
<span class="hljs-tag">win</span><span class="hljs-class">.close</span>();
</code></pre><p>then I changed the cleaning of the tableView to look like this:</p>
<pre><code class="hljs">win.remove(<span class="hljs-built_in">table</span>View);
win.close();
<span class="hljs-keyword">for</span> (var i = <span class="hljs-built_in">table</span>View.data[<span class="hljs-number">0</span>].rows.length-<span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">0</span>; i--) {
       <span class="hljs-built_in">table</span>View.deleteRow(i);
}
<span class="hljs-built_in">table</span>View.<span class="hljs-built_in">set</span>Data([]);
</code></pre><p>Problem solved.      </p>
<p>PS. The error I received at first looked like the one in my first post but in the logs there was also something like this:</p>
<pre><code class="hljs">[<span class="hljs-link_label">ERROR</span>][<span class="hljs-link_reference">dalvikvm(18879)</span>] JNI ERROR (app bug): local reference table overflow (max=512)
[<span class="hljs-link_label">WARN</span>][<span class="hljs-link_reference">dalvikvm(18879)</span>] JNI local reference table (0x2a262df8) dump:
[<span class="hljs-link_label">WARN</span>][<span class="hljs-link_reference">dalvikvm(18879)</span>]   Last 10 entries (of 512):
[<span class="hljs-link_label">WARN</span>][<span class="hljs-link_reference">dalvikvm(18879)</span>]       511: 0x41e68748 ti.modules.titanium.ui.TableViewRowProxy
[<span class="hljs-link_label">WARN</span>][<span class="hljs-link_reference">dalvikvm(18879)</span>]       510: 0x41e652e8 ti.modules.titanium.ui.TableViewRowProxy
[<span class="hljs-link_label">WARN</span>][<span class="hljs-link_reference">dalvikvm(18879)</span>]       509: 0x41e61ef0 ti.modules.titanium.ui.TableViewRowProxy
[<span class="hljs-link_label">WARN</span>][<span class="hljs-link_reference">dalvikvm(18879)</span>]       508: 0x41e5eb00 ti.modules.titanium.ui.TableViewRowProxy
[<span class="hljs-link_label">WARN</span>][<span class="hljs-link_reference">dalvikvm(18879)</span>]       507: 0x41e5b708 ti.modules.titanium.ui.TableViewRowProxy
[<span class="hljs-link_label">WARN</span>][<span class="hljs-link_reference">dalvikvm(18879)</span>]       506: 0x41e58318 ti.modules.titanium.ui.TableViewRowProxy
[<span class="hljs-link_label">WARN</span>][<span class="hljs-link_reference">dalvikvm(18879)</span>]       505: 0x41e54f10 ti.modules.titanium.ui.TableViewRowProxy
[<span class="hljs-link_label">WARN</span>][<span class="hljs-link_reference">dalvikvm(18879)</span>]       504: 0x41e51b08 ti.modules.titanium.ui.TableViewRowProxy
[<span class="hljs-link_label">WARN</span>][<span class="hljs-link_reference">dalvikvm(18879)</span>]       503: 0x41e4e6d0 ti.modules.titanium.ui.TableViewRowProxy
[<span class="hljs-link_label">WARN</span>][<span class="hljs-link_reference">dalvikvm(18879)</span>]       502: 0x41e4b2d0 ti.modules.titanium.ui.TableViewRowProxy
[<span class="hljs-link_label">WARN</span>][<span class="hljs-link_reference">dalvikvm(18879)</span>]   Summary:
[<span class="hljs-link_label">WARN</span>][<span class="hljs-link_reference">dalvikvm(18879)</span>]         1 of java.lang.Object[]
[<span class="hljs-link_label">WARN</span>][<span class="hljs-link_reference">dalvikvm(18879)</span>]         1 of ti.modules.titanium.ui.TableViewRowProxy[] (19 elements)
[<span class="hljs-link_label">WARN</span>][<span class="hljs-link_reference">dalvikvm(18879)</span>]         8 of ti.modules.titanium.ui.LabelProxy (8 unique instances)
[<span class="hljs-link_label">WARN</span>][<span class="hljs-link_reference">dalvikvm(18879)</span>]         1 of org.appcelerator.kroll.runtime.v8.V8Function
[<span class="hljs-link_label">WARN</span>][<span class="hljs-link_reference">dalvikvm(18879)</span>]       493 of ti.modules.titanium.ui.TableViewRowProxy (19 unique instances)
[<span class="hljs-link_label">WARN</span>][<span class="hljs-link_reference">dalvikvm(18879)</span>]         8 of ti.modules.titanium.ui.ViewProxy (8 unique instances)
[<span class="hljs-link_label">ERROR</span>][<span class="hljs-link_reference">dalvikvm(18879)</span>] Failed adding to JNI local ref table (has 512 entries)
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="September 24th 2013, 11:56:11 am">September 24th 2013</span>
								by <span class='authorname'>Mihai Marginean</span><br>
								<a class="icon-bg icon-link" href="question/157555/jni-error-app-bug-local-reference-table-overflow-max512.html#answer-269068" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-288050">
				
						<section>
							<p>I also found this question because of the same error, I&#39;m posting just in case someone else finds this.</p>
<p>In my case it was because I was passing the reference of a view (menu) that had a table inside to another controller:</p>
<p><code>Alloy.createController(viewName, {menu: $.menu}).getView()</code></p>
<p>Since I only needed to change the menu name, I passed the labelView reference instead of the whole thing.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="September 23rd 2015, 7:20:17 pm">September 23rd 2015</span>
								by <span class='authorname'>Miguel Suárez</span><br>
								<a class="icon-bg icon-link" href="question/157555/jni-error-app-bug-local-reference-table-overflow-max512.html#answer-288050" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
