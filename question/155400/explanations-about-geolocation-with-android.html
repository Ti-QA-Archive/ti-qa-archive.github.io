<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Explanations about Geolocation with Android » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Explanations about Geolocation with Android</h1>
		</header>
		<section>
			<p>Hello,<br>I&#39;m developing an app based on the geolocation.<br>Right now I&#39;m developing just for Android and I have a lot of doubts that guides has&#39;t filled at all.</p>
<p>I would like to know several things like:</p>
<p> 1) If I decide to user Geolocation in simple mode (with manualMode set on false) can set updates rules anyhow? (like distanceFilter for iOS?)</p>
<p> 2) (in simple mode again) which is the criterion on which the system decides which location provider use for the gelocation?</p>
<p>Thank you in advance,</p>
<p>Luca</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="July 29th 2013, 12:21:43 pm">July 29th 2013</span>
				by <span class='authorname'>Luca Marzi</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>geolocation</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-266503">
				
						<section>
							<p>Straight from the <a href="http:&#x2F;&#x2F;docs.appcelerator.com&#x2F;titanium&#x2F;latest&#x2F;#!&#x2F;api&#x2F;Titanium.Geolocation.Android">doc</a></p>
<p><em>When manualMode is false, the accuracy, frequency and preferredProvider settings from Titanium.Geolocation are used to configure location updates. Any location providers and location rules set in Titanium.Geolocation.Android are retained, but they have no effect.</em></p>
<p>This answers both questions:</p>
<ol>
<li><p><strong>Ti.Geolocation.Android</strong>&#39;s rules are saved but have no effect (btw the distanceFilter is iOS only).</p>
</li>
<li><p>the chosen criteria would be the one set in <strong>Ti.Geolocation</strong> (and not in <strong>Ti.Geolocation.Android</strong>)</p>
</li>
</ol>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="July 29th 2013, 6:18:40 pm">July 29th 2013</span>
								by <span class='authorname'>Alberto Marcone</span><br>
								<a class="icon-bg icon-link" href="question/155400/explanations-about-geolocation-with-android#answer-266503" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-266606">
				
						<section>
							<p>Ok but I have still a problem… I have tried to use geolocation in simple mode (with ACCURACY_HIGH .. using just the network provider) and I noticed that the location event fires only if he wifi is enabled. It dosn&#39;t fire if there&#39;s just the 3g enabled….. what could be the problem?</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="July 31st 2013, 8:01:00 am">July 31st 2013</span>
								by <span class='authorname'>Luca Marzi</span><br>
								<a class="icon-bg icon-link" href="question/155400/explanations-about-geolocation-with-android#answer-266606" rel="permalink">permalink</a>
							</div>

							<h5>2 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>don&#39;t create a new answer, just comment my answer. This looks like a bug to me. Can you present an easily reproducible scenario?</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 31st 2013, 9:05:31 am">July 31st 2013</span>
											by <span class='authorname'>Alberto Marcone</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I&#39;m sorry….<br>I have a lot of trouble with the location event.<br>I explain what I&#39;m doing:<br>My application has to know the effective position of the user (and not the currentPosition, the cached one for android) so in app.js I start the Geolocation event listener (location) and I open a window that shows a loader img.<br>I use a callBackFunction for the listener and this callBackFunction can know if the system has already received a position or if it is stille waiting for it.<br>What&#39;s the problem?<br>This is my geolocation configuration:</p>
<pre><code class="hljs"><span class="hljs-constant">Titanium.Geolocation.Android.manualMode</span> = <span class="hljs-literal">false</span>;
<span class="hljs-constant">Titanium.Geolocation.accuracy</span> = Titanium.Geolocation.ACCURACY_HIGH;
</code></pre><p>I have noticed that when just the 3g is enabled the location listener fires twice:</p>
<pre><code class="hljs"><span class="hljs-number">1</span>) <span class="hljs-keyword">for</span> <span class="hljs-keyword">the</span> cached position (<span class="hljs-keyword">if</span> there's one) <span class="hljs-keyword">or</span> <span class="hljs-keyword">for</span> an <span class="hljs-keyword">error</span> <span class="hljs-keyword">that</span> says (<span class="hljs-keyword">the</span> gps <span class="hljs-keyword">is</span> turned off)
<span class="hljs-number">2</span>) <span class="hljs-keyword">for</span> <span class="hljs-keyword">the</span> effective position <span class="hljs-keyword">of</span> <span class="hljs-keyword">the</span> user
</code></pre><p>And, eventually, it never fires again.<br>Just if I enable wifi and 3g all together it works fine…. I really don&#39;t understand the why.</p>
<p>Luca</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 31st 2013, 1:05:02 pm">July 31st 2013</span>
											by <span class='authorname'>Luca Marzi</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
