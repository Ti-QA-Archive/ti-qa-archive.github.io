<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Ti.Map.View in ListView Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Ti.Map.View in ListView</h1>
		</header>
		<section>
			<p>We are currently updating an older app built in Titanium to leverage ListViews instead of the TableView component. This has had a great effect on the apps responsiveness, however has introduced an issue not present when using the TableView as follows.</p>
<p>It seems when using a Ti.Map.View in a ListView template, it is rendered as expected using the following template.</p>
<pre><code class="hljs">var mapTemplate = {
    childTemplates: [
        {
            <span class="hljs-built_in">type</span>: <span class="hljs-string">'Ti.Map.View'</span>,
            <span class="hljs-built_in">bind</span>Id: <span class="hljs-string">'map'</span>,
            properties: {
                width: <span class="hljs-string">'100%'</span>,
                height: <span class="hljs-string">'150dp'</span>,
                mapType: Titanium.Map.STANDARD_TYPE,
                animate: <span class="hljs-literal">true</span>,
                regionFit: <span class="hljs-literal">true</span>,
                userLocation: <span class="hljs-literal">false</span>
            }
        }
    ],
    properties: {
        backgroundColor: <span class="hljs-string">'#ccc'</span>
    }
}
</code></pre><p>However, when closing the window, and later returning, the following error occurs.</p>
<p><strong>Android can support one MapView per Application.</strong></p>
<p>Although I understand the limitations of the V1 maps API here, previously we were able to remove the Map and nullify any references to help avoid this issue. With ListView, no such work-around seems possible.</p>
<p>If anyone has come across this, suggestions would be appreciated. Also note I have another question on here relating to using V2 maps modules, which although should fix the issue does not seem possible to use in a ListView at all.</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="October 29th 2013, 5:13:38 am">October 29th 2013</span>
				by <span class='authorname'>Michael Walsh</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>listview</span></li>
					
						<li><span class='tagname'>map</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-270868">
				
						<section>
							<p>I don&#39;t think we can add maps in a ListView. or open a MapView with multiple instance.<br>What exactly you trying to show in a ListView with maps ? Is it required any user input like &#39;click&#39;,&#39;regionChanged&#39;. If not, may be we have to figure it out if there is any chance of creating a map image and displaying it in the ListView.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="November 4th 2013, 7:26:51 pm">November 4th 2013</span>
								by <span class='authorname'>Ranjith Kumar Nagella</span><br>
								<a class="icon-bg icon-link" href="../../question/158892/timapview-in-listview.html#answer-270868" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Hi Ranjith,</p>
<p>Thank-you for your time.</p>
<p>Yes, since posting the above question I managed to track down a post by Appcelerator relating to this. The team mention that MapView is not supported in ListViews at all, and documentation is due to be updated to reflect this. Interestingly MapView does however work in a ListView, the issue is when closing a window then returning to that window later the MapView is not disposed of correctly, causing a duplicate MapView issue (only one map on Android).</p>
<p>In terms of my requirements, I do not need to support &#39;click&#39; or &#39;regionChanged&#39;, and only ever need display one map at a time. I think I will move forward with the MapView.toImage() function here, although I have had issues with this in the past.</p>
<p>Thanks again for your reply.</p>
<p>Michael</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 10th 2013, 8:07:21 pm">November 10th 2013</span>
											by <span class='authorname'>Michael Walsh</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
