<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>How to clear/remove rows from a picker? » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>How to clear/remove rows from a picker?</h1>
		</header>
		<section>
			<p>I have an app that has two picker controls in it, where selecting a value from the first picker should alter the rows in the second picker. However, I don&#39;t know how to remove existing rows from the second picker (or clear it out completely), I only know how to add new rows. So, each time the value is changed in the first picker, the new rows are tacked onto the second picker along with the old ones, instead of replacing them.</p>
<p>Anyone know how to clear out a picker? And please don&#39;t say I need to create a new picker each time I want to change the rows, because that seems pretty ridiculous.</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="November 26th 2010, 4:01:31 am">November 26th 2010</span>
				by <span class='authorname'>Bill Labus</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>clear</span></li>
					
						<li><span class='tagname'>data</span></li>
					
						<li><span class='tagname'>delete</span></li>
					
						<li><span class='tagname'>picker</span></li>
					
						<li><span class='tagname'>remove</span></li>
					
						<li><span class='tagname'>reset</span></li>
					
						<li><span class='tagname'>rows</span></li>
					
				</ul>
			

			<section>
				<h5>1 Comment</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>I updated my original response below…</p>
</div>
							<div class="author">
								&mdash; commented <span title="November 26th 2010, 4:36:06 pm">November 26th 2010</span>
								by <span class='authorname'>Aaron Saunders</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>1</span> Vote</div>
			<div class="answers"><span>8</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>8 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-176621">
				
						<section>
							<p>I also recieved the error &quot;Result of expression &#39;_col&#39; [undefined] is not an object.&quot;;</p>
<p>but I figured out that I ran the code before I populated my picker. So I&#39;m doing a check before if columns[0] exists.</p>
<pre><code class="hljs"><span class="hljs-keyword">if</span>(picker.columns[<span class="hljs-number">0</span>]) {
    <span class="hljs-variable"><span class="hljs-keyword">var</span> _col</span> = picker.columns[<span class="hljs-number">0</span>];
        <span class="hljs-variable"><span class="hljs-keyword">var</span> len</span> = _col.rowCount;
        <span class="hljs-keyword">for</span>(<span class="hljs-variable"><span class="hljs-keyword">var</span> x</span> = len-<span class="hljs-number">1</span>; x &gt;= <span class="hljs-number">0</span>; x-- ){
                <span class="hljs-variable"><span class="hljs-keyword">var</span> _row</span> = _col.rows[x];
                _col.removeRow(_row);
        }
<span class="hljs-comment">//picker.reloadColumn(_col);</span>
}
</code></pre><p>I also removed the reloadColumn, because it seemed to hang my app, and it&#39;s not needed afaik.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="January 11th 2011, 9:05:01 am">January 11th 2011</span>
								by <span class='authorname'>Ted Sundin</span><br>
								<a class="icon-bg icon-link" href="question/83301/how-to-clearremove-rows-from-a-picker#answer-176621" rel="permalink">permalink</a>
							</div>

							<h5>5 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>thanks a lot<br>it is working now :)</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 17th 2011, 5:56:26 pm">January 17th 2011</span>
											by <span class='authorname'>Somesh pandit</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Awesome….its working…thanks a lot !!</p>
</p>
										<div class="author">
											&mdash; commented <span title="September 13th 2011, 7:33:34 am">September 13th 2011</span>
											by <span class='authorname'>Anika Kalia</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>This works perfectly fine, why this is not marked as best ?</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 25th 2013, 4:42:13 am">March 25th 2013</span>
											by <span class='authorname'>Nabeel  Munawar</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>It&#39;s Working Perfect. Thanks a lot Mr.Ted</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 19th 2014, 10:31:36 am">March 19th 2014</span>
											by <span class='authorname'>Santhosekumar Subramanian</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Thank you so much..it works fine..</p>
</p>
										<div class="author">
											&mdash; commented <span title="June 2nd 2014, 4:45:28 am">June 2nd 2014</span>
											by <span class='authorname'>Rama krishna</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>6</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-190931">
				
						<section>
							<p>I saw the following comment :</p>
<p>This is not working , i am getting below error message = &quot;Result of expression &#39;_col&#39; [undefined] is not an object.&quot;; i am using Ti 1.5.1 SDK , iOS SDK 4.2</p>
<p>This is because you are not binding the picker the correct way for that code to work. What you need to do is use PickerRows and PickerColumns. So create your picker as such:</p>
<pre><code class="hljs">var picker = Ti.UI.createPicker()<span class="hljs-comment">; </span>

picker.add([Titanium.UI.createPickerColumn()])<span class="hljs-comment">;</span>

picker.selectionIndicator = true<span class="hljs-comment">;</span>
</code></pre><p>Then you need to bind your picker. Now.. I am not an Appcelerator expert so this may or may not be the right way to do it. Also the documentation is doodie and I am not a rich man to shell out 2k for the support. At any rate… I created the following two functions:</p>
<pre><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">removeAllPickerRows</span><span class="hljs-params">(picker)</span></span>{

    <span class="hljs-keyword">var</span> _col = picker.columns[<span class="hljs-number">0</span>];
        <span class="hljs-keyword">var</span> len = _col.rowCount;
        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> x = len-<span class="hljs-number">1</span>; x &gt;= <span class="hljs-number">0</span>; x-- ){
            <span class="hljs-keyword">var</span> _row = _col.rows[x]
            _col.removeRow(_row);
        }
        picker.reloadColumn(_col); 
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">addPickerRows</span><span class="hljs-params">(_col,data)</span></span>{

    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> x = <span class="hljs-number">0</span>; x &lt; data.length; x++ ){

        _col.addRow(data[x]);

    }

}
</code></pre><p>I had a string array called [choices] and I wanted to turn that to rows in the picker. So I did this:</p>
<pre><code class="hljs"><span class="hljs-comment">//-- </span>

for<span class="hljs-comment">(i = 0; i &lt; choices.length; i++)</span>{

    data[i] = Ti.UI.createPickerRow<span class="hljs-comment">({title:choices[i].substring(0,20)</span> + <span class="hljs-string">'...'</span>,value:choices[i]});

}
</code></pre><p>I suppose I could just pass the string array to the addPickerRow function however I wanted a more generic function for my future purposes. So that said.. I bound my picker like this:</p>
<pre><code class="hljs">removeAllPickerRows(picker)<span class="hljs-comment">;</span>

var _col = picker.columns[0]<span class="hljs-comment">;</span>

addPickerRows(_col,data)<span class="hljs-comment">;</span>
</code></pre><p>Hope that helps and that I haven&#39;t missed anything. </p>
<p>Good Luck… </p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="February 2nd 2011, 8:19:37 pm">February 2nd 2011</span>
								by <span class='authorname'>Adrian Pavelescu</span><br>
								<a class="icon-bg icon-link" href="question/83301/how-to-clearremove-rows-from-a-picker#answer-190931" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-150671">
				
						<section>
							<p>UPDATED: Sorry about the original answer… looping through the values and deleting the rows seems to work as expected</p>
<pre><code class="hljs">    <span class="hljs-variable"><span class="hljs-keyword">var</span> _col</span> = picker.columns[<span class="hljs-number">0</span>];
    <span class="hljs-variable"><span class="hljs-keyword">var</span> len</span> = _col.rowCount;
    <span class="hljs-keyword">for</span>(<span class="hljs-variable"><span class="hljs-keyword">var</span> x</span> = len-<span class="hljs-number">1</span>; x &gt;= <span class="hljs-number">0</span>; x-- ){
        <span class="hljs-variable"><span class="hljs-keyword">var</span> _row</span> = _col.rows[x]
        _col.removeRow(_row);
    }
    picker.reloadColumn(_col);
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="November 26th 2010, 3:10:41 pm">November 26th 2010</span>
								by <span class='authorname'>Aaron Saunders</span><br>
								<a class="icon-bg icon-link" href="question/83301/how-to-clearremove-rows-from-a-picker#answer-150671" rel="permalink">permalink</a>
							</div>

							<h5>5 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>That just causes the app to crash when those statements are encountered.</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 26th 2010, 3:39:44 pm">November 26th 2010</span>
											by <span class='authorname'>Bill Labus</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>post some code…</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 26th 2010, 4:03:58 pm">November 26th 2010</span>
											by <span class='authorname'>Aaron Saunders</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>This is not working , i am getting below error message = &quot;Result of expression &#39;_col&#39; [undefined] is not an object.&quot;; i am using Ti 1.5.1 SDK , iOS SDK 4.2</p>
<p>Somesh</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 4th 2011, 8:10:25 am">January 4th 2011</span>
											by <span class='authorname'>Somesh pandit</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>hi.<br>this is supposed to reload the previously loaded rows when the picker has been created?<br>A.</p>
</p>
										<div class="author">
											&mdash; commented <span title="February 18th 2011, 1:19:38 pm">February 18th 2011</span>
											by <span class='authorname'>alberto monteiro</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>meanwhile, I&#39;ve successfully done it:</p>
<pre><code class="hljs"><span class="hljs-variable"><span class="hljs-keyword">var</span> _col</span> = wpkTypesPicker.columns[<span class="hljs-number">0</span>];
<span class="hljs-variable"><span class="hljs-keyword">var</span> len</span> = _col.rowCount;
<span class="hljs-keyword">for</span>(<span class="hljs-variable"><span class="hljs-keyword">var</span> x</span> = len-<span class="hljs-number">1</span>; x &gt;= <span class="hljs-number">0</span>; x-- ){
    <span class="hljs-variable"><span class="hljs-keyword">var</span> _row</span> = _col.rows[x]
    _col.removeRow(_row);
}
</code></pre><p>&#x2F;&#x2F;—– wpkTypesPicker.reloadColumn(_col); (I had to remove this, so it works)<br>    wpkTypesPicker.add(getWandTypes()); &#x2F;&#x2F; get rows data again</p>
</p>
										<div class="author">
											&mdash; commented <span title="February 18th 2011, 1:51:14 pm">February 18th 2011</span>
											by <span class='authorname'>alberto monteiro</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-150731">
				
						<section>
							<p>I have been trying all day to do exactly the same thing Bill, but from reading similar posts on this forum it appears that there are bugs in the Picker API which make what ought to be simple into something darn near impossible.</p>
<p>After spending the best part of 8 hours on it I gave up and went and did something useful like watching the TV.</p>
<p>Come on Accelerator, these bugs make the product look shoddy when we know it has so much potential.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="November 26th 2010, 8:23:23 pm">November 26th 2010</span>
								by <span class='authorname'>Patrick Mounteney</span><br>
								<a class="icon-bg icon-link" href="question/83301/how-to-clearremove-rows-from-a-picker#answer-150731" rel="permalink">permalink</a>
							</div>

							<h5>2 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Patrick, the code below works, I edited the post instead of posting a new answer which I guess is kind of confusing to new users coming to look at the question.</p>
<pre><code class="hljs"><span class="hljs-variable"><span class="hljs-keyword">var</span> _col</span> = picker.columns[<span class="hljs-number">0</span>];
    <span class="hljs-variable"><span class="hljs-keyword">var</span> len</span> = _col.rowCount;
    <span class="hljs-keyword">for</span>(<span class="hljs-variable"><span class="hljs-keyword">var</span> x</span> = len-<span class="hljs-number">1</span>; x &gt;= <span class="hljs-number">0</span>; x-- ){
        <span class="hljs-variable"><span class="hljs-keyword">var</span> _row</span> = _col.rows[x]
        _col.removeRow(_row);
    }
    picker.reloadColumn(_col);
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="November 26th 2010, 9:14:43 pm">November 26th 2010</span>
											by <span class='authorname'>Aaron Saunders</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Most odd Aaron, as when I try the code it just throws an exception with an error message of:<br>&quot;Result of expression &#39;picker.reloadColumn&#39; [undefined] is not a function.&quot;;<br>I&#39;ve check we are dealing with a TiUIPickerColumn object up to just before the last line - we are - and it still won&#39;t oblige! I wonder if you are on a different build of Titanium SDK? - I&#39;m on 1.4.2 and iOS 4.1 SDK.</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 27th 2010, 4:37:56 pm">November 27th 2010</span>
											by <span class='authorname'>Patrick Mounteney</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-150861">
				
						<section>
							<p>I have been trying all day to do exactly the same thing Bill, but from reading similar posts on this forum it appears that there are bugs in the Picker API which make what ought to be simple into something darn near impossible.</p>
<p>After spending the best part of 8 hours on it I gave up and went and did something useful like watching the TV.</p>
<p>Come on Accelerator, these bugs make the product look shoddy when we know it has so much potential.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="November 27th 2010, 7:25:15 am">November 27th 2010</span>
								by <span class='authorname'>Patrick Mounteney</span><br>
								<a class="icon-bg icon-link" href="question/83301/how-to-clearremove-rows-from-a-picker#answer-150861" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-176811">
				
						<section>
							<p>doublepost, see below</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="January 11th 2011, 1:37:23 pm">January 11th 2011</span>
								by <span class='authorname'>Ted Sundin</span><br>
								<a class="icon-bg icon-link" href="question/83301/how-to-clearremove-rows-from-a-picker#answer-176811" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-207545">
				
						<section>
							<p>This works for simple pickers in iPhone Simulator.  See my answer here:</p>
<p><a href="http:&#x2F;&#x2F;developer.appcelerator.com&#x2F;question&#x2F;57481&#x2F;how-to-remove-all-rows-from-picker#207542">Clear Rows from Picker</a></p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="May 10th 2011, 12:35:13 pm">May 10th 2011</span>
								by <span class='authorname'>David Wilson</span><br>
								<a class="icon-bg icon-link" href="question/83301/how-to-clearremove-rows-from-a-picker#answer-207545" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-170781">
				
						<section>
							<p>I just tested Aaron&#39;s remove&#x2F;reload code in Ti SDK 1.5.1 – and it works!  Thanks Titanium guys!</p>
<p>Mark</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="December 30th 2010, 1:03:17 pm">December 30th 2010</span>
								by <span class='authorname'>Mark Pemburn</span><br>
								<a class="icon-bg icon-link" href="question/83301/how-to-clearremove-rows-from-a-picker#answer-170781" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>this is still not working for me<br>i am getting  below error<br>message = &quot;Result of expression &#39;_col&#39; [undefined] is not an object.&quot;;<br>i am using Ti 1.5.1 SDK<br>Please tell me is anything else needs to be done to run the code</p>
<p>Somesh</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 2nd 2011, 3:58:03 pm">January 2nd 2011</span>
											by <span class='authorname'>Somesh pandit</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>-1</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
