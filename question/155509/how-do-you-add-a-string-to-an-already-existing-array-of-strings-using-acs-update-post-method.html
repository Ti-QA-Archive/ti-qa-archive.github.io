<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>How do you add a string to an already existing array of strings using ACS Update Post method? » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>How do you add a string to an already existing array of strings using ACS Update Post method?</h1>
		</header>
		<section>
			<p>When using this code, the update function just changes the value of the first element in the array of strings instead of adding it to the end of the array as a new value. How would I get it to add instead of replace?</p>
<pre><code class="hljs">exports.addPostComment = function addPostComment()
{
    Cloud.Posts.<span class="hljs-keyword">update</span>({
        post_id: postId,
        custom_fields: {
            <span class="hljs-string">"comments"</span>: ['Howdy']
    }
}, function (<span class="hljs-keyword">e</span>) {
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">e</span>.success) {
        <span class="hljs-keyword">var</span> <span class="hljs-keyword">post</span> = <span class="hljs-keyword">e</span>.posts[0];
        alert('Success:\<span class="hljs-keyword">n</span>' +
            'id: ' + <span class="hljs-keyword">post</span>.id + '\<span class="hljs-keyword">n</span>' +
            'title: ' + <span class="hljs-keyword">post</span>.title + '\<span class="hljs-keyword">n</span>' +
            'content: ' + <span class="hljs-keyword">post</span>.content + '\<span class="hljs-keyword">n</span>' +
            'updated_at: ' + <span class="hljs-keyword">post</span>.updated_at);
    } <span class="hljs-keyword">else</span> {
        alert('<span class="hljs-keyword">Error</span>:\<span class="hljs-keyword">n</span>' +
            ((<span class="hljs-keyword">e</span>.<span class="hljs-keyword">error</span> &amp;&amp; <span class="hljs-keyword">e</span>.message) || JSON.stringify(<span class="hljs-keyword">e</span>)));
    }
});
};
</code></pre><p>Any ideas&#x2F;thought appreciated!</p>
<p>Thanks</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="July 31st 2013, 2:35:20 pm">July 31st 2013</span>
				by <span class='authorname'>Alec Bergeski</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>acs</span></li>
					
						<li><span class='tagname'>array</span></li>
					
						<li><span class='tagname'>update</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-266629">
				
						<section>
							<p>Hello Alec Bergeski    , </p>
<p>In you code, you went to used custom_fields. As per documentation, custom_fields should be hash formated. Please update your code by my code. </p>
<pre><code class="hljs">  <span class="hljs-string">"comments"</span>: [
        { ‘key_name’:<span class="hljs-string">'Howdy'</span>},
        { ‘key_name’:<span class="hljs-string">'Alec'</span>},
        { ‘key_name’:<span class="hljs-string">'Bergeski'</span>},
            ]  ,
</code></pre><p>For more help please visit following link: <a href="http:&#x2F;&#x2F;docs.appcelerator.com&#x2F;cloud&#x2F;latest&#x2F;#!&#x2F;guide&#x2F;customfields">customfields</a> and <a href="http:&#x2F;&#x2F;docs.appcelerator.com&#x2F;cloud&#x2F;latest&#x2F;#!&#x2F;api&#x2F;CustomObjects">CustomObjects</a></p>
<p>Thanks</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="July 31st 2013, 3:52:18 pm">July 31st 2013</span>
								by <span class='authorname'>Md Mostafizur Rahman</span><br>
								<a class="icon-bg icon-link" href="question/155509/how-do-you-add-a-string-to-an-already-existing-array-of-strings-using-acs-update-post-method#answer-266629" rel="permalink">permalink</a>
							</div>

							<h5>2 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Hi Md Mostafizur Rahman,</p>
<p>In the customfields link you provided, it states that arrays are a supported Data Type for customfields and nowhere does it say that they must contain hashes. In the Array Data Type example it has [&quot;nissan&quot;, &quot;honda&quot;], which clearly is not a hash. I just want an array of strings (which this example is) and I want to add a &quot;comments&quot; that a user inputs into that array.</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 31st 2013, 3:57:03 pm">July 31st 2013</span>
											by <span class='authorname'>Alec Bergeski</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Hello Alec,</p>
<p>If you visit post objects in following link <a href="http:&#x2F;&#x2F;docs.appcelerator.com&#x2F;cloud&#x2F;latest&#x2F;#!&#x2F;api&#x2F;Posts">Post</a> , then you can see custom_fields field data type &quot;String&#x2F;Hash&quot;. So its accepts only String&#x2F;Hash formatted data. its cleared custom_fileds will not accept array.</p>
<p>Thanks</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 31st 2013, 4:21:00 pm">July 31st 2013</span>
											by <span class='authorname'>Md. Mostafizur Rahman</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
