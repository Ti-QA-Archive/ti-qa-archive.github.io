<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Titanium   orientation  change problem Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Titanium   orientation  change problem</h1>
		</header>
		<section>
			<p>Hello everyone I m developing Android app. using Titanium 3.1.3 . I have problem with  orientiation change. When orientation change I want to change view height and width .but its not work. or I m searching another solution.</p>
<pre><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">FotoGaleri</span> <span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">var</span> <span class="hljs-keyword">self</span>=Ti.UI.createView({
     backgroundColor:<span class="hljs-string">'white'</span>,    

    });

    <span class="hljs-keyword">var</span> scrollData=[];
<span class="hljs-keyword">var</span> imageGallery=[];
<span class="hljs-keyword">var</span> resimWidth=<span class="hljs-number">100</span>;
<span class="hljs-keyword">var</span> resimHeight=<span class="hljs-number">90</span>;





 <span class="hljs-keyword">var</span> ResimScroll=Ti.UI.createScrollableView({

             showPagingControl:<span class="hljs-keyword">true</span>,

             backgroundColor:<span class="hljs-string">'white'</span>,
             width:<span class="hljs-string">'300dp'</span>,
             height:<span class="hljs-string">'300dp'</span>,
        });
<span class="hljs-keyword">var</span> GaleriScroll=Ti.UI.createScrollView({
    width:<span class="hljs-string">'auto'</span>,
    top:<span class="hljs-number">0</span>,
    left:<span class="hljs-number">0</span>,
    backgroundColor:<span class="hljs-string">'#123456'</span>,
    showVerticalScrollIndicator:<span class="hljs-keyword">true</span>,

});


<span class="hljs-keyword">var</span> a=<span class="hljs-number">0</span>;
<span class="hljs-keyword">var</span> GaleriTop=<span class="hljs-number">0</span>;
<span class="hljs-keyword">var</span> GaleriLeft=<span class="hljs-number">0</span>;
<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i=<span class="hljs-number">0</span>; i&lt;=<span class="hljs-number">130</span>; i++){

    <span class="hljs-keyword">if</span>(i%<span class="hljs-number">3</span>==<span class="hljs-number">0</span>){

       GaleriTop=<span class="hljs-number">5</span>+a;
       GaleriLeft=<span class="hljs-number">5</span>;         
        }

    <span class="hljs-keyword">if</span>(i%<span class="hljs-number">3</span>==<span class="hljs-number">1</span>){

        GaleriTop=<span class="hljs-number">5</span>+a;
        GaleriLeft=<span class="hljs-number">110</span>;

    }
    <span class="hljs-keyword">if</span>(i%<span class="hljs-number">3</span>==<span class="hljs-number">2</span>){

        GaleriTop=<span class="hljs-number">5</span>+a;
        GaleriLeft=<span class="hljs-number">215</span>;
        a=a+<span class="hljs-number">100</span>;
    }
 imageGallery[i]=Ti.UI.createView({
    width:resimWidth+<span class="hljs-string">'dp'</span>,
    height:resimHeight+<span class="hljs-string">'dp'</span>,
    left:GaleriLeft+<span class="hljs-string">'dp'</span>,
    top:GaleriTop+<span class="hljs-string">'dp'</span>,
    backgroundColor:<span class="hljs-string">'#FE2EC8'</span>,
    id:i,
});

ResimClick(imageGallery[i]);

<span class="hljs-keyword">var</span> label=Ti.UI.createLabel({
    text:i,
});
 imageGallery[i].add(label);

     GaleriScroll.add(imageGallery[i]);
      ResimScroll.views=imageGallery[i];

}
<span class="hljs-keyword">self</span>.add(ResimScroll);

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ResimClick</span><span class="hljs-params">(resimclick)</span></span>{

    resimclick.addEventListener(<span class="hljs-string">'click'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span></span>{

     alert(resimclick.id);



    });

}
Ti.Gesture.addEventListener(<span class="hljs-string">'orientationchange'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(ev)</span> </span>{
  <span class="hljs-keyword">if</span> (Ti.Gesture.isLandscape(ev.orientation)) {
    alert(<span class="hljs-string">'yatay'</span>);
    resimHeight=<span class="hljs-number">320</span>;

  } <span class="hljs-keyword">else</span> {
      alert(<span class="hljs-string">'dikey'</span>);
    <span class="hljs-comment">// Update your UI for portrait orientation</span>
  }
});


<span class="hljs-keyword">self</span>.add(GaleriScroll);


  <span class="hljs-keyword">return</span> <span class="hljs-keyword">self</span>;
}
module.exports=FotoGaleri;
</code></pre>
		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="November 24th 2013, 7:20:43 am">November 24th 2013</span>
				by <span class='authorname'>nazir dogan</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>orientation</span></li>
					
						<li><span class='tagname'>titanium</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-271697">
				
						<section>
							<p>Hi, when you are changing orientation then control comes in Ti.Gesture.addEventListener listener, so in that listener you need to assign changes width and height to your views, here what you are doing is changing the value of resimHeight=320; so this will not effect to your views, because this is simply a variable not view. After you assign value to this variable you must also assign this variable to the view object whose height you need to change.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="November 24th 2013, 8:30:09 am">November 24th 2013</span>
								by <span class='authorname'>Moiz Chhatriwala</span><br>
								<a class="icon-bg icon-link" href="question/159781/titanium-orientation-change-problem.html#answer-271697" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Wrong;</p>
<pre><code class="hljs">resimHeight=<span class="hljs-number">320</span>;
</code></pre><p>Right</p>
<pre><code class="hljs">resimHeight<span class="hljs-string">[i]</span>=<span class="hljs-number">320</span>;
</code></pre><p>You will need to loop through all your thumbs to get this to work though.</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 24th 2013, 10:16:01 am">November 24th 2013</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-271702">
				
						<section>
							<p>Hi</p>
<p>I just +1&#39;ed the answer given by Moiz as it is correct for your code.  HOWEVER I cannot let the fact you are planning to resize 130 thumbs during an orientation change go without pointing out something that I hoped would have been obvious.</p>
<ul>
<li>Thumbnail sizes should NOT resize during orientation changes</li>
<li>Main UI elements should change, internal items should only ever change if there is no other solution</li>
<li>The parent view holding the Thumbnails should change during orientation changes and the thumbs should then automatically flow into the revised space that change makes</li>
<li>You should NOT create a grid of thumbnails by manually working out where they appear in a row and columns layout - this is a pointless process the UI can handle for you and means the 3rd point here works automatically.</li>
</ul>
<p>If you use a parent view with a <strong>layout</strong> property of <strong>horizontal</strong> then the child views will fill in from the top left, flow to the right until there is no space left and then automatically pushes down to the next clear space.  The properties; top, left, bottom and right then act as margins from the previous child views.</p>
<p>Something simple as this will simplify your code in so many ways;</p>
<pre><code class="hljs">var parent = Ti.UI.createScrollView({
    contentHeight: Ti.UI.SIZE,
    contentWidth: Ti.UI.FILL,
    <span class="hljs-variable">height</span>: Ti.UI.FILL,
    layout: <span class="hljs-string">'horizontal'</span>,
    <span class="hljs-variable">width</span>: Ti.UI.FILL
});
var intThumb = <span class="hljs-number">0</span>, intThumbs = <span class="hljs-number">130</span>;
<span class="hljs-keyword">for</span> (intThumb = <span class="hljs-number">0</span>; intThumb &lt; intThumbs; intThumb = intThumb + <span class="hljs-number">1</span>) {
    parent.<span class="hljs-built_in">add</span>(Ti.UI.createView({
        backgroundColor: <span class="hljs-string">'#FE2EC8'</span>,
        bottom: <span class="hljs-string">'2dp'</span>,
        <span class="hljs-variable">height</span>: <span class="hljs-string">'100dp'</span>,
        id: intThumb,
        left: <span class="hljs-string">'2dp'</span>,
        right: <span class="hljs-string">'2dp'</span>,
        top: <span class="hljs-string">'2dp'</span>,
        <span class="hljs-variable">width</span>: <span class="hljs-string">'100dp'</span>
    }));
}
</code></pre><p>As I said the; top, left, bottom and right as as margins padding out the item from the previous one so tweak these to determine the spacing you want.</p>
<p>One great benefit of this technique is the is no need to change anything in the orientation gesture - the parent uses Ti.UI.Fill for width and height so these will change automatically on an orientation change and the child views will change automatically.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="November 24th 2013, 10:28:57 am">November 24th 2013</span>
								by <span class='authorname'>Malcolm Hollingsworth</span><br>
								<a class="icon-bg icon-link" href="question/159781/titanium-orientation-change-problem.html#answer-271702" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Did this help answer your question? If so please mark the answer that helped answer it best.</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 30th 2013, 10:17:51 am">November 30th 2013</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
