<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>problem with a column into my DATABASE » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>problem with a column into my DATABASE</h1>
		</header>
		<section>
			<p>hello everyone,<br>I am trying to access my database with this Titanium code:</p>
<pre><code class="hljs">var win = Ti.UI.currentWindow;

var button = Titanium.UI.createButton({

        title:<span class="hljs-string">"Hit"</span>,
        height:80,
        width:80,
        top:40,
        left:150    
});


Titanium.Database.install(<span class="hljs-string">"questions.sqlite"</span>,<span class="hljs-string">"mydb"</span>);

win.add(button);

win.addEventListener(<span class="hljs-string">"open"</span>,function(e){

    var levelq = 1;


    /<span class="hljs-keyword">*</span>

    SOME OTHER CODE    

    <span class="hljs-keyword">*</span>/    

    /<span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span>GET QUESTION <span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span>/

    function getQuestion(){

    var dbGetName=Titanium.Database.open(<span class="hljs-string">"mydb"</span>);
    var rows = dbGetName.execute('SELECT question FROM testdb where niveau=<span class="hljs-string">"'+ levelq + '"</span>');

    if (rows.getRowCount() == 0){
        textAreaAnswer.value = <span class="hljs-string">"No match"</span>;
    }

    if (rows.getRowCount() &gt; 0){
        textAreaAnswer.value = <span class="hljs-string">""</span>;
        while (rows.isValidRow()){
        //textAreaAnswer.value = textAreaAnswer.value + rows.fieldByName(<span class="hljs-string">"surname"</span>) + <span class="hljs-string">" "</span>;
        alert(<span class="hljs-string">"Question "</span>+rows.fieldByName(<span class="hljs-string">"question"</span>));
        rows.next();    
        }
    }

    };
    /<span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span>/
    button.addEventListener(<span class="hljs-string">"click"</span>, getQuestion());
    win.add(questionImage);


});
</code></pre><p>The problem is when I start my application, and even BEFORE I CLICK on the button, I&#39;ve got this error message</p>
<p>( no such column : question: , while compiling: SELECT question from testdb WHERE niveau=&quot;1&quot; ).</p>
<p>I have created a database file, named (questions.sqlite), with sqlite3:</p>
<pre><code class="hljs"><span class="hljs-operator"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> testdb (<span class="hljs-keyword">id</span> <span class="hljs-built_in">INTEGER</span> PRIMARY <span class="hljs-keyword">KEY</span>, question <span class="hljs-built_in">TEXT</span>, niveau <span class="hljs-built_in">INTEGER</span>)</span>
</code></pre><p>and I have inserted some records…</p>
<p>What&#39;s wrong with my code?<br>thanks in advance.</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="December 12th 2012, 9:09:04 am">December 12th 2012</span>
				by <span class='authorname'>Karray Gargouri</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>column</span></li>
					
						<li><span class='tagname'>database</span></li>
					
						<li><span class='tagname'>select</span></li>
					
						<li><span class='tagname'>sqlite3</span></li>
					
						<li><span class='tagname'>titanium 2.1.0ga</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>5</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>5 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-252585">
				
						<section>
							<p>hi,<br>first of all you fire a query on window&#39;s open event that is why you got error.<br>second no need to open database when you use install method to install database so<br><strong>either close database after installing database or just use that open connection</strong></p>
<pre><code class="hljs"><span class="hljs-variable"><span class="hljs-keyword">var</span> db</span> = Titanium.Database.install(<span class="hljs-string">"questions.sqlite"</span>,<span class="hljs-string">"mydb"</span>);
</code></pre><p>remove this line <strong>var dbGetName=Titanium.Database.open(&quot;mydb&quot;);</strong></p>
<p>fire query in this way</p>
<pre><code class="hljs"><span class="hljs-built_in">var</span> <span class="hljs-keyword">rows</span> = db<span class="hljs-built_in">.</span>execute(<span class="hljs-string">'SELECT question FROM testdb where niveau="'</span>+ levelq + <span class="hljs-string">'"'</span>);
</code></pre><p>then do not forget to close database connection.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="December 12th 2012, 9:14:20 am">December 12th 2012</span>
								by <span class='authorname'>Mitul Bhalia</span><br>
								<a class="icon-bg icon-link" href="question/145644/problem-with-a-column-into-my-database.html#answer-252585" rel="permalink">permalink</a>
							</div>

							<h5>5 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>and after that clean build you project and also delete app from simulator and then try to execute</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 12th 2012, 9:15:40 am">December 12th 2012</span>
											by <span class='authorname'>Mitul Bhalia</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Unfortunately, it&#39;s the same error ….</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 12th 2012, 9:28:57 am">December 12th 2012</span>
											by <span class='authorname'>Karray Gargouri</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>so just try to open your database in database editor and see that this column exists or not..?</p>
<p>and also see that your database path is correct from your current window….</p>
<p>if possible try to put your database file in resource folder and install database in app.js like you are doing right now and then open database in your current window with open statement</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 12th 2012, 9:33:07 am">December 12th 2012</span>
											by <span class='authorname'>Mitul Bhalia</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>check this screen-shot from my PC:<br>http:&#x2F;&#x2F;img15.hostingpics.net&#x2F;pics&#x2F;714721erreur.png</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 12th 2012, 9:39:01 am">December 12th 2012</span>
											by <span class='authorname'>Karray Gargouri</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>ok have you clean build your project and delete application from simulator and test.</p>
<p>and where you put your database and also check that is database installed in your application which is created in your iphone simulator folder</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 12th 2012, 10:04:44 am">December 12th 2012</span>
											by <span class='authorname'>Mitul Bhalia</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-252594">
				
						<section>
							<p>Where are you calling this from i.e. the parent window definition and the open statement.</p>
<p>It looks like your opening your window before this additional info has been fully loaded…</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="December 12th 2012, 11:48:54 am">December 12th 2012</span>
								by <span class='authorname'>Trevor Ward</span><br>
								<a class="icon-bg icon-link" href="question/145644/problem-with-a-column-into-my-database.html#answer-252594" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-252638">
				
						<section>
							<p>Hi,</p>
<p>I managed to make ti work! my fault was in the path call … I must add the &#x2F; before:</p>
<pre><code class="hljs"><span class="hljs-variable"><span class="hljs-keyword">var</span> db</span> = Titanium.Database.install(<span class="hljs-string">"/questions.sqlite"</span>,<span class="hljs-string">"mydb"</span>);
</code></pre><p>Thanks for you !</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="December 12th 2012, 8:09:33 pm">December 12th 2012</span>
								by <span class='authorname'>Karray Gargouri</span><br>
								<a class="icon-bg icon-link" href="question/145644/problem-with-a-column-into-my-database.html#answer-252638" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>that&#39;s why i told you that check database path from your current window..</p>
<p>anyway …good thing is that problem is solved…… cheers :)</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 13th 2012, 2:59:35 am">December 13th 2012</span>
											by <span class='authorname'>Mitul Bhalia</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-252659">
				
						<section>
							<p>By the way, after fetching my SELECT result, I am displaying it with this instructions:</p>
<pre><code class="hljs">labelq.<span class="hljs-type">text</span>=rows.fieldByName(<span class="hljs-string">"question"</span>);
</code></pre><p>once the question is displayed, the application stop working (I get the message of &quot;this application is not responding…..&quot;)</p>
<p>I didn&#39;t find out why?</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="December 13th 2012, 7:12:10 am">December 13th 2012</span>
								by <span class='authorname'>Karray Gargouri</span><br>
								<a class="icon-bg icon-link" href="question/145644/problem-with-a-column-into-my-database.html#answer-252659" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-252780">
				
						<section>
							<p>I didn&#39;t still managed to solve this issue :( … I&#39;ve got the (continue&#x2F;kill) window and when I click on &quot;kill&quot;, the application exit and re-start…. </p>
<p>Any ideas?</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="December 14th 2012, 2:07:47 pm">December 14th 2012</span>
								by <span class='authorname'>Karray Gargouri</span><br>
								<a class="icon-bg icon-link" href="question/145644/problem-with-a-column-into-my-database.html#answer-252780" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
