<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Dynamic form &amp; multidimensional array » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Dynamic form &amp; multidimensional array</h1>
		</header>
		<section>
			<p>Hello! I&#39;ve created a form with 6 rows of fields, example of 1 row:</p>
<pre><code class="hljs">var Row1 ={
        <span class="hljs-number">0</span> : Ti.UI.createTextField({
            [Properties ...]
        }),
        <span class="hljs-number">1</span> : Ti.UI.createTextField({
            [Properties ...]
        }),
        <span class="hljs-number">2</span> : Ti.UI.createTextField({
            [Properties ...]
        }),
        <span class="hljs-number">3</span> : Ti.UI.createTextField({
            [Properties ...]
        }),
        <span class="hljs-number">4</span> : Ti.UI.createTextField({
            [Properties ...]
        }),
        <span class="hljs-number">5</span> : Ti.UI.createTextField({
            [Properties ...]
        })
};
<span class="hljs-comment">// Plus 5 times more with Row2, Row3</span>
</code></pre><p>So what I am trying to do is to read the values given and putting it into a multi-dimensional array, please read the comments in the code so you can follow me</p>
<pre><code class="hljs">    <span class="hljs-keyword">var</span> data = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>();
    <span class="hljs-comment">// I am running a for look that follows "6" rows</span>
    <span class="hljs-keyword">for</span>( <span class="hljs-keyword">var</span> a = <span class="hljs-number">1</span>; a &lt;= <span class="hljs-number">6</span>; a++){
        <span class="hljs-comment">// need to set data["RowX"] cuz appcelerator doesn't recognize it</span>
        data[<span class="hljs-string">"Row"</span>+a] = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>(); 
        <span class="hljs-keyword">var</span> row = <span class="hljs-built_in">eval</span>(<span class="hljs-string">"Row"</span> +a); <span class="hljs-comment">// Need to do this so I can set the dynamic variable name</span>
        <span class="hljs-comment">// Then I try to get the values from each row within another for loop counting Row1 fields</span>
        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> b = <span class="hljs-number">0</span>; b &lt; row.length; b++){
            <span class="hljs-comment">// Then I try to set the values</span>
            data[<span class="hljs-string">"row"</span>+a].push(row[b].value);
        }  

    }
    <span class="hljs-comment">// Here I write in console data and I get NOTHING :/</span>
</code></pre><p>What I wish to do is to save all 6 textfields values in the index of the row that they belong so I can then JSON.stringify and send through XHR to a PHP that will take the values from there…</p>
<p>Can anyone be kind enough to help me? I&#39;ve tried many things, also for( var key in num) and then get values but it results the same…</p>
<p>Thanks anyone for reading anyway :)</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="March 5th 2014, 2:05:54 am">March 5th 2014</span>
				by <span class='authorname'>Mario Andres Perez Gutierrez</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>array</span></li>
					
						<li><span class='tagname'>dynamic array</span></li>
					
						<li><span class='tagname'>iphone</span></li>
					
						<li><span class='tagname'>multi-dimensional</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>-1</span> Votes</div>
			<div class="answers"><span>8</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>8 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-275967">
				
						<section>
							<p>Hi Mario,<br>I think there is some problem in your second for loop</p>
<p>~~</p>
<p>for(var b = 0; b &lt; row.length; b++){<br>            &#x2F;&#x2F; Then I try to set the values<br>            data[&quot;row&quot;+a].push(row[b].value);<br>        }<br>&#x2F;&#x2F; you defined var row=eval(&quot;Row&quot;+a); and then you are taking length of it. is it possible, i think your 2nd for loop will never get executed</p>
<p>~~~</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="March 5th 2014, 2:38:08 am">March 5th 2014</span>
								by <span class='authorname'>Ishan Singh</span><br>
								<a class="icon-bg icon-link" href="question/163187/dynamic-form--multidimensional-array#answer-275967" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Hi Mario,<br>I think there is some problem in your second for loop</p>
<pre><code class="hljs">
<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> b = <span class="hljs-number">0</span>; b &lt; row.length; b++){
            <span class="hljs-comment">// Then I try to set the values</span>
            data[<span class="hljs-string">"row"</span>+a].push(row[b].<span class="hljs-keyword">value</span>);
        }  
<span class="hljs-comment">// you defined var row=eval("Row"+a); and then you are taking length of it. is it possible, i think your 2nd for loop will never get executed</span>
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="March 5th 2014, 2:39:07 am">March 5th 2014</span>
											by <span class='authorname'>Ishan Singh</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-276148">
				
						<section>
							<p>Hi,<br>I spent some time and got some and came with a solution, you may be want to do something like this</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> row1 = {
    <span class="hljs-number">0</span> : Ti.UI.createTextField({
        <span class="hljs-keyword">value</span> : <span class="hljs-string">'textfield1'</span>
    }),
    <span class="hljs-number">1</span> : Ti.UI.createTextField({
        <span class="hljs-keyword">value</span> : <span class="hljs-string">'textfield2'</span>
    }),
    <span class="hljs-number">2</span> : Ti.UI.createTextField({
        <span class="hljs-keyword">value</span> : <span class="hljs-string">'textfield3'</span>
    }),
    <span class="hljs-number">3</span> : Ti.UI.createTextField({
        <span class="hljs-keyword">value</span> : <span class="hljs-string">'textfield4'</span>
    }),
    <span class="hljs-number">4</span> : Ti.UI.createTextField({
        <span class="hljs-keyword">value</span> : <span class="hljs-string">'textfield5'</span>
    }),
    <span class="hljs-number">5</span> : Ti.UI.createTextField({
        <span class="hljs-keyword">value</span> : <span class="hljs-string">'textfield6'</span>
    })
};

<span class="hljs-keyword">var</span> data = <span class="hljs-keyword">new</span> Array();

<span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> a = <span class="hljs-number">0</span>; a &lt; <span class="hljs-number">1</span>; a++) {

    data[a] = <span class="hljs-keyword">new</span> Array();
    <span class="hljs-keyword">var</span> row = eval(<span class="hljs-string">"row"</span> + (a + <span class="hljs-number">1</span>));

    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> b <span class="hljs-keyword">in</span> row) {
        data[a].push(row[b].<span class="hljs-keyword">value</span>);
    }

}

Ti.API.info(data);
</code></pre><p>I just modified your code a bit and actually you were doing it in a wrong way, Please feel free to ask if any confusion. This code is for variable object row1, similarly you can have same code working for more objects just increase the camparison value by 1 everytime you need to manipulate a new var like row2 row3.</p>
<p>Please mark the answer if this is the solution you were looking for. Just copy paste this code you will get it working</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="March 7th 2014, 4:55:24 pm">March 7th 2014</span>
								by <span class='authorname'>Ishan Singh</span><br>
								<a class="icon-bg icon-link" href="question/163187/dynamic-form--multidimensional-array#answer-276148" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-276206">
				
						<section>
							<p>Hi Mario ,<br>Thanks, but if your problem is solved then mar the answer so that others may find their answers too :)</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="March 9th 2014, 4:58:09 pm">March 9th 2014</span>
								by <span class='authorname'>Ishan Singh</span><br>
								<a class="icon-bg icon-link" href="question/163187/dynamic-form--multidimensional-array#answer-276206" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-276016">
				
						<section>
							<p>Hey Thanks for answering, I actually have no idea how to make it work then, I am new in this thing, could you advice me of how to make this work?</p>
<p>And answering your question, it is posible to count with eval, eval just concatenate the string and the &quot;a&quot; which in this case is the var that it&#39;s been looping.. so row is not &quot;Row&quot;+a, it is RowX, at least in the tests I&#39;ve made it is posible, but I havent really use a for like that i did something like</p>
<pre><code class="hljs"><span class="hljs-tag">for</span>(var key in row){ <span class="hljs-comment">// As second loop</span>

    <span class="hljs-attr_selector">[code ...]</span>

}
</code></pre><p>I just need it to have a single variable that holds 6 indexes, and each index the 6 values of each row.<br>I&#39;ve tried many things but I am out of ideas now :&#x2F;</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="March 5th 2014, 9:21:56 pm">March 5th 2014</span>
								by <span class='authorname'>Mario Andres Perez Gutierrez</span><br>
								<a class="icon-bg icon-link" href="question/163187/dynamic-form--multidimensional-array#answer-276016" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>-1</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-276203">
				
						<section>
							<p>Dude! U&#39;re awesome! :) Thank u very much :D you solved my life xD thank u :D</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="March 9th 2014, 3:28:05 pm">March 9th 2014</span>
								by <span class='authorname'>Mario Andres Perez Gutierrez</span><br>
								<a class="icon-bg icon-link" href="question/163187/dynamic-form--multidimensional-array#answer-276203" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>-1</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-276204">
				
						<section>
							<p>Hey actually after doing some testing I realized that is not what I am actually looking for, I mean it&#39;s all right, but whats left to do is to add an Index for each row of fields.. I should get something like this:</p>
<pre><code class="hljs"><span class="hljs-list">(
    <span class="hljs-collection">[<span class="hljs-string">"row1"</span>]</span><span class="hljs-list">(
        val1,
        val2,
        val3,
        ....
    )</span>,
    <span class="hljs-collection">[<span class="hljs-string">"row2"</span>]</span><span class="hljs-list">(
        val1,
        val2,
        val3,
        ...
    )</span>

)</span>
</code></pre><p>It might be not the right syntax but I am sure it gives you an idea of what I&#39;m trying to do.<br>I want this this way so I can jsonify it and then send it to a php and then json_decode so I can have a multidimensional array and the get the values from row1, row2, row3, and so on.</p>
<p>I appreciate very much you took time on doing the last code, it actually gave me a better idea of how doing it, I am gonna keep trying and if I get the solution first I will post the answer :D anyway thank you very much! :)</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="March 9th 2014, 3:42:15 pm">March 9th 2014</span>
								by <span class='authorname'>Mario Andres Perez Gutierrez</span><br>
								<a class="icon-bg icon-link" href="question/163187/dynamic-form--multidimensional-array#answer-276204" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>-1</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-276213">
				
						<section>
							<p>Yeah I will, but it is not the right answer for this issue.<br>With your help I found a way to do it but still doesn&#39;t work as I pretend.<br>It actually sets the main index to the values of the row, but it sets too into the same index the values of the rest rows, then it sets the second index (I updated the for loop to 2) with, again, all of the values again :(<br>Here&#39;s the code:</p>
<pre><code class="hljs">        var data = new Array<span class="hljs-list">()</span><span class="hljs-comment">;</span>
        var data2send = new Array<span class="hljs-list">()</span><span class="hljs-comment">;</span>

        for <span class="hljs-list">(<span class="hljs-keyword">var</span> a = <span class="hljs-number">0</span><span class="hljs-comment">; a &lt; 2; a++) {</span>

            data[a] = new Array<span class="hljs-list">()</span><span class="hljs-comment">;</span>
            var row = eval<span class="hljs-list">(<span class="hljs-string">"row"</span> + <span class="hljs-list">(<span class="hljs-keyword">a</span> + <span class="hljs-number">1</span>)</span>)</span><span class="hljs-comment">;</span>

            for <span class="hljs-list">(<span class="hljs-keyword">var</span> b in row)</span> {
                data[a].push<span class="hljs-list">(<span class="hljs-keyword">row</span>[b].value)</span><span class="hljs-comment">;</span>
            }
            data2send.push<span class="hljs-list">(<span class="hljs-string">"row"</span>+<span class="hljs-list">(<span class="hljs-keyword">a+1</span>)</span>,data)</span><span class="hljs-comment">;</span>
        }

        Ti.API.info<span class="hljs-list">(<span class="hljs-keyword">data2send</span>)</span><span class="hljs-comment">;</span></span>
</code></pre><p>Here what I get on console:</p>
<pre><code class="hljs"><span class="hljs-string">[INFO]</span> :   (
<span class="hljs-string">[INFO]</span> :       row1,
<span class="hljs-string">[INFO]</span> :           (
<span class="hljs-string">[INFO]</span> :                   (
<span class="hljs-string">[INFO]</span> :               <span class="hljs-number">1</span>,
<span class="hljs-string">[INFO]</span> :               <span class="hljs-number">1</span>,
<span class="hljs-string">[INFO]</span> :               <span class="hljs-number">1</span>,
<span class="hljs-string">[INFO]</span> :               <span class="hljs-number">1</span>,
<span class="hljs-string">[INFO]</span> :               <span class="hljs-number">1</span>,
<span class="hljs-string">[INFO]</span> :               <span class="hljs-number">1</span>,
<span class="hljs-string">[INFO]</span> :               <span class="hljs-number">1</span>
<span class="hljs-string">[INFO]</span> :           ),
<span class="hljs-string">[INFO]</span> :                   (
<span class="hljs-string">[INFO]</span> :               <span class="hljs-number">1</span>,
<span class="hljs-string">[INFO]</span> :               <span class="hljs-number">1</span>,
<span class="hljs-string">[INFO]</span> :               <span class="hljs-number">1</span>,
<span class="hljs-string">[INFO]</span> :               <span class="hljs-number">1</span>,
<span class="hljs-string">[INFO]</span> :               <span class="hljs-number">1</span>,
<span class="hljs-string">[INFO]</span> :               <span class="hljs-number">1</span>,
<span class="hljs-string">[INFO]</span> :               <span class="hljs-number">1</span>
<span class="hljs-string">[INFO]</span> :           )
<span class="hljs-string">[INFO]</span> :       ),
<span class="hljs-string">[INFO]</span> :       row2,
<span class="hljs-string">[INFO]</span> :           (
<span class="hljs-string">[INFO]</span> :                   (
<span class="hljs-string">[INFO]</span> :               <span class="hljs-number">1</span>,
<span class="hljs-string">[INFO]</span> :               <span class="hljs-number">1</span>,
<span class="hljs-string">[INFO]</span> :               <span class="hljs-number">1</span>,
<span class="hljs-string">[INFO]</span> :               <span class="hljs-number">1</span>,
<span class="hljs-string">[INFO]</span> :               <span class="hljs-number">1</span>,
<span class="hljs-string">[INFO]</span> :               <span class="hljs-number">1</span>,
<span class="hljs-string">[INFO]</span> :               <span class="hljs-number">1</span>
<span class="hljs-string">[INFO]</span> :           ),
<span class="hljs-string">[INFO]</span> :                   (
<span class="hljs-string">[INFO]</span> :               <span class="hljs-number">1</span>,
<span class="hljs-string">[INFO]</span> :               <span class="hljs-number">1</span>,
<span class="hljs-string">[INFO]</span> :               <span class="hljs-number">1</span>,
<span class="hljs-string">[INFO]</span> :               <span class="hljs-number">1</span>,
<span class="hljs-string">[INFO]</span> :               <span class="hljs-number">1</span>,
<span class="hljs-string">[INFO]</span> :               <span class="hljs-number">1</span>,
<span class="hljs-string">[INFO]</span> :               <span class="hljs-number">1</span>
<span class="hljs-string">[INFO]</span> :           )
<span class="hljs-string">[INFO]</span> :       )
<span class="hljs-string">[INFO]</span> :   )
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="March 9th 2014, 9:38:48 pm">March 9th 2014</span>
								by <span class='authorname'>Mario Andres Perez Gutierrez</span><br>
								<a class="icon-bg icon-link" href="question/163187/dynamic-form--multidimensional-array#answer-276213" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>-1</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-276214">
				
						<section>
							<p>Hey! Sorry for overloading this post, it&#39;s just that I found how to do it and it does it very well, the code I just posted it&#39;s all right just need to modify the line <code>data2send.push(&amp;quot;row&amp;quot;+(a+1),data);</code> to <code>data2send.push(&amp;quot;row&amp;quot;+(a+1),data[a]);</code> and it will run correctly. Can you tell me now how to send it as a JSON array? Please? :D</p>
<p>NOTE: As I cannot mark my own answers as &quot;best answer&quot; and yours wasn&#39;t completely what I meant I will mark your next answer, please include the working code so everyone can sees it, and again, thank you very much for your time.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="March 9th 2014, 9:47:52 pm">March 9th 2014</span>
								by <span class='authorname'>Mario Andres Perez Gutierrez</span><br>
								<a class="icon-bg icon-link" href="question/163187/dynamic-form--multidimensional-array#answer-276214" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>-1</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
