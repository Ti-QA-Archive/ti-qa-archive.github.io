<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Random empty items in listview Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Random empty items in listview</h1>
		</header>
		<section>
			<p>Hello community,</p>
<p>I have a small big problem with custom listview templates. Some listitems appears randomly blank.</p>
<p>Here are my technical details:</p>
<pre><code class="hljs">Operating System
  Name                        = Mac OS X
  Version                     = <span class="hljs-number">10.10</span><span class="hljs-number">.3</span>
  Architecture                = <span class="hljs-number">64</span>bit
  <span class="hljs-preprocessor"># CPUs                      = <span class="hljs-number">8</span></span>
  Memory                      = <span class="hljs-number">17179869184</span>

Node.js
  Node.js Version             = <span class="hljs-number">0.10</span><span class="hljs-number">.26</span>
  npm Version                 = <span class="hljs-number">2.0</span><span class="hljs-number">.2</span>

Titanium CLI
  CLI Version                 = <span class="hljs-number">3.4</span><span class="hljs-number">.1</span>

Titanium SDK
  SDK Version                 = <span class="hljs-number">3.5</span><span class="hljs-number">.0</span>.GA
  SDK Path                    = /Volumes/Data/Users/sebastian/Library/Application Support/Titanium/mobilesdk/osx/<span class="hljs-number">3.5</span><span class="hljs-number">.0</span>.GA
  Target Platform             = iphone
</code></pre><p>I do NOT use separatorColor or separatorStyle what could be a solution mention here: <a href="https:&#x2F;&#x2F;jira.appcelerator.org&#x2F;browse&#x2F;TC-4787">JIRA</a></p>
<p>My code would not be helpful, but I will post it</p>
<p>My view:</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> listView = Ti.UI.createListView({
        top: <span class="hljs-number">0</span>,
        searchView: search,
        searchHidden: <span class="hljs-keyword">false</span>,
        footerView: Ti.UI.createView({height: <span class="hljs-number">1</span>}),
        templates: {
            <span class="hljs-keyword">default</span>: <span class="hljs-keyword">require</span>(<span class="hljs-string">'/lib/listViews'</span>).libraryEntry(navController)
        },
        defaultItemTemplate: <span class="hljs-string">'default'</span>
    });
    <span class="hljs-keyword">self</span>.add(listView);

    Ti.App.database.get({
        table: <span class="hljs-string">'library l, series_part sp'</span>,
        fields: <span class="hljs-string">'l.*,sp.id as partId, sp.part'</span>,
        joiner: <span class="hljs-string">'l'</span>,
        where: <span class="hljs-string">'sp.series_id='</span> + serie.id + <span class="hljs-string">' AND l.id=sp.entry_id'</span>,
        order: <span class="hljs-string">'sp.part ASC'</span>
    }, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(entries)</span> </span>{
        <span class="hljs-keyword">var</span> section = Ti.UI.createListSection();
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; entries.length; i++) {
            <span class="hljs-keyword">var</span> entry = entries[i];

            <span class="hljs-keyword">var</span> item = {
                properties: {
                    canEdit: <span class="hljs-keyword">false</span>,
                    itemId: entry.id
                },
                partCounter: {
                    width: <span class="hljs-number">25</span>,
                    text: entry.part
                },
                cover: {
                    image: Ti.App.helper.getImage(entry, <span class="hljs-string">'medium'</span>)
                },
                title: {
                    text: entry.title
                },
                detailInfo: {
                    text: Ti.App.helper.getRowDetailInfo(entry)
                },
                subtitle: {
                    text: Ti.App.helper.getCategoryString(entry.category)
                }
            };
            section.appendItems([item]);
        }

        listView.setSections([section]);
    });
</code></pre><p>Does anyone before had this strange behaviour? And maybe a solution for that?</p>
<p><img src="https:&#x2F;&#x2F;s3.amazonaws.com&#x2F;f.cl.ly&#x2F;items&#x2F;2R413E0H0r1I3s1A052b&#x2F;Image%202015-02-23%20at%209.49.29%20vorm..png" alt="example"></p>
<p>If you want to see more details, please comment!</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="February 23rd 2015, 8:14:54 am">February 23rd 2015</span>
				by <span class='authorname'>Sebastian Klaus</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>blank</span></li>
					
						<li><span class='tagname'>listitem</span></li>
					
						<li><span class='tagname'>listview</span></li>
					
				</ul>
			

			<section>
				<h5>4 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Also set classNames in the template. With no other result.</p>
</div>
							<div class="author">
								&mdash; commented <span title="February 23rd 2015, 8:26:25 am">February 23rd 2015</span>
								by <span class='authorname'>Sebastian Klaus</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Hi Sebastian,</p>
<p>Have you check response of database. because Single template is use for all rows so may be it&#39;s return blank..</p>
</div>
							<div class="author">
								&mdash; commented <span title="February 23rd 2015, 8:31:10 am">February 23rd 2015</span>
								by <span class='authorname'>Nilesh Patel</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>console.log gives me the complete entry</p>
<p>This one is shown:</p>
<pre><code class="hljs">{
    "<span class="hljs-attribute">id</span>": <span class="hljs-value"><span class="hljs-number">118</span></span>,
    "<span class="hljs-attribute">ean</span>": <span class="hljs-value"><span class="hljs-string">"4030521735194"</span></span>,
    "<span class="hljs-attribute">title</span>": <span class="hljs-value"><span class="hljs-string">"Amazing Spider-Man 2: Rise of Electro, The"</span></span>,
    "<span class="hljs-attribute">image_small</span>": <span class="hljs-value"><span class="hljs-string">"http://ecx.images-amazon.com/images/I/61mymx47%2BYL._SL75_.jpg"</span></span>,
    "<span class="hljs-attribute">image_medium</span>": <span class="hljs-value"><span class="hljs-string">"http://ecx.images-amazon.com/images/I/61mymx47%2BYL._SL160_.jpg"</span></span>,
    "<span class="hljs-attribute">image_big</span>": <span class="hljs-value"><span class="hljs-string">"http://ecx.images-amazon.com/images/I/61mymx47%2BYL.jpg"</span></span>,
    "<span class="hljs-attribute">asin</span>": <span class="hljs-value"><span class="hljs-string">"B00JPI2I7Q"</span></span>,
    "<span class="hljs-attribute">category</span>": <span class="hljs-value"><span class="hljs-string">",1,"</span></span>,
    "<span class="hljs-attribute">originalcategory</span>": <span class="hljs-value"><span class="hljs-number">1</span></span>,
    "<span class="hljs-attribute">library_id</span>": <span class="hljs-value"><span class="hljs-number">0</span>
</span>}
</code></pre><p>this one not</p>
<pre><code class="hljs">{
    "<span class="hljs-attribute">id</span>": <span class="hljs-value"><span class="hljs-number">117</span></span>,
    "<span class="hljs-attribute">ean</span>": <span class="hljs-value"><span class="hljs-string">"4030521726802"</span></span>,
    "<span class="hljs-attribute">title</span>": <span class="hljs-value"><span class="hljs-string">"Amazing Spider-Man, The"</span></span>,
    "<span class="hljs-attribute">image_small</span>": <span class="hljs-value"><span class="hljs-string">"http://ecx.images-amazon.com/images/I/618zj5LMr8L._SL75_.jpg"</span></span>,
    "<span class="hljs-attribute">image_medium</span>": <span class="hljs-value"><span class="hljs-string">"http://ecx.images-amazon.com/images/I/618zj5LMr8L._SL160_.jpg"</span></span>,
    "<span class="hljs-attribute">image_big</span>": <span class="hljs-value"><span class="hljs-string">"http://ecx.images-amazon.com/images/I/618zj5LMr8L.jpg"</span></span>,
    "<span class="hljs-attribute">asin</span>": <span class="hljs-value"><span class="hljs-string">"B008EQK32C"</span></span>,
    "<span class="hljs-attribute">category</span>": <span class="hljs-value"><span class="hljs-string">",1,"</span></span>,
    "<span class="hljs-attribute">originalcategory</span>": <span class="hljs-value"><span class="hljs-number">1</span></span>,
    "<span class="hljs-attribute">library_id</span>": <span class="hljs-value"><span class="hljs-number">0</span>
</span>}
</code></pre></div>
							<div class="author">
								&mdash; commented <span title="February 23rd 2015, 8:40:25 am">February 23rd 2015</span>
								by <span class='authorname'>Sebastian Klaus</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>This is my template:</p>
<p><a href="http:&#x2F;&#x2F;pastie.org&#x2F;9974342">pastie.org</a></p>
</div>
							<div class="author">
								&mdash; commented <span title="February 23rd 2015, 8:43:09 am">February 23rd 2015</span>
								by <span class='authorname'>Sebastian Klaus</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-286085">
				
						<section>
							<p>Hello Sebastian Klaus,</p>
<p>Just remove   <code>selectionStyle: Ti.UI.iPhone.ListViewCellSelectionStyle.NONE</code> form your template and try then let me know. Or you can also follow my sample code.</p>
<pre><code class="hljs">var myTemplate = {
    <span class="hljs-string">properties :</span> {
        <span class="hljs-string">height :</span> <span class="hljs-number">60</span>,
        <span class="hljs-comment">//selectionStyle : Ti.UI.iPhone.ListViewCellSelectionStyle.NONE</span>
    },
    <span class="hljs-string">childTemplates :</span> [{<span class="hljs-comment">// Image justified left</span>
        <span class="hljs-string">type :</span> <span class="hljs-string">'Ti.UI.ImageView'</span>, <span class="hljs-comment">// Use an image view for the image</span>
        <span class="hljs-string">bindId :</span> <span class="hljs-string">'pic'</span>, <span class="hljs-comment">// Maps to a custom pic property of the item data</span>
        <span class="hljs-string">properties :</span> {<span class="hljs-comment">// Sets the image view  properties</span>
            <span class="hljs-string">width :</span> <span class="hljs-string">'50dp'</span>,
            <span class="hljs-string">height :</span> <span class="hljs-string">'50dp'</span>,
            <span class="hljs-string">left :</span> <span class="hljs-number">0</span>
        }
    }, {<span class="hljs-comment">// Title</span>
        <span class="hljs-string">type :</span> <span class="hljs-string">'Ti.UI.Label'</span>, <span class="hljs-comment">// Use a label for the title</span>
        <span class="hljs-string">bindId :</span> <span class="hljs-string">'info'</span>, <span class="hljs-comment">// Maps to a custom info property of the item data</span>
        <span class="hljs-string">properties :</span> {<span class="hljs-comment">// Sets the label properties</span>
            <span class="hljs-string">color :</span> <span class="hljs-string">'black'</span>,
            <span class="hljs-string">font :</span> {
                <span class="hljs-string">fontFamily :</span> <span class="hljs-string">'Arial'</span>,
                <span class="hljs-string">fontSize :</span> <span class="hljs-string">'20dp'</span>,
                <span class="hljs-string">fontWeight :</span> <span class="hljs-string">'bold'</span>
            },
            <span class="hljs-string">left :</span> <span class="hljs-string">'60dp'</span>,
            <span class="hljs-string">top :</span> <span class="hljs-number">0</span>,
        }
    }, {<span class="hljs-comment">// Subtitle</span>
        <span class="hljs-string">type :</span> <span class="hljs-string">'Ti.UI.Label'</span>, <span class="hljs-comment">// Use a label for the subtitle</span>
        <span class="hljs-string">bindId :</span> <span class="hljs-string">'es_info'</span>, <span class="hljs-comment">// Maps to a custom es_info property of the item data</span>
        <span class="hljs-string">properties :</span> {<span class="hljs-comment">// Sets the label properties</span>
            <span class="hljs-string">color :</span> <span class="hljs-string">'gray'</span>,
            <span class="hljs-string">font :</span> {
                <span class="hljs-string">fontFamily :</span> <span class="hljs-string">'Arial'</span>,
                <span class="hljs-string">fontSize :</span> <span class="hljs-string">'14dp'</span>
            },
            <span class="hljs-string">left :</span> <span class="hljs-string">'60dp'</span>,
            <span class="hljs-string">top :</span> <span class="hljs-string">'25dp'</span>,
        }
    }]
};

var itemData = [];

<span class="hljs-keyword">for</span> (var i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">5</span>; i++) {
    itemData.push({
        <span class="hljs-string">pic :</span> {
            <span class="hljs-string">image :</span> <span class="hljs-string">'appicon.png'</span>
        },
        <span class="hljs-string">info :</span> {
            <span class="hljs-string">text :</span> <span class="hljs-string">'How Are You?'</span>
        },
        <span class="hljs-string">es_info :</span> {
            <span class="hljs-string">text :</span> <span class="hljs-string">'I am OK'</span>
        }

    });
}

var section = Ti.UI.createListSection({});
section.setItems(itemData);

var control = Ti.UI.createRefreshControl({
    <span class="hljs-string">tintColor :</span> <span class="hljs-string">'red'</span>
});

var list = Ti.UI.createListView({
    <span class="hljs-string">sections :</span> [section],
    <span class="hljs-string">templates :</span> {
        <span class="hljs-string">'template'</span> : myTemplate
    },
    <span class="hljs-string">defaultItemTemplate :</span> <span class="hljs-string">'template'</span>,
    <span class="hljs-string">top :</span> <span class="hljs-number">20</span>,
    <span class="hljs-string">refreshControl :</span> control
});

control.addEventListener(<span class="hljs-string">'refreshstart'</span>, function(e) {
    Ti.API.info(<span class="hljs-string">'refreshstart'</span>);

    setTimeout(function() {
        Ti.API.debug(<span class="hljs-string">'Timeout'</span>);
        section.appendItems(itemData);
        control.endRefreshing();
    }, <span class="hljs-number">2000</span>);
});

var win = Ti.UI.createWindow({
    <span class="hljs-string">title :</span> <span class="hljs-string">'ListView'</span>
});
win.add(list);
win.open();
</code></pre><p>Thanks.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="February 24th 2015, 3:45:41 am">February 24th 2015</span>
								by <span class='authorname'>Motiur Rahman</span><br>
								<a class="icon-bg icon-link" href="../../question/181039/random-empty-items-in-listview.html#answer-286085" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>That&#39;s unfortunately not the answer. There seems to be problems with vertical and horizontal layouts in custom listitems</p>
</p>
										<div class="author">
											&mdash; commented <span title="February 24th 2015, 4:52:51 am">February 24th 2015</span>
											by <span class='authorname'>Sebastian Klaus</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
