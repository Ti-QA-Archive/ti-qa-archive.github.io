<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Database FileSystem getFile location? » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Database FileSystem getFile location?</h1>
		</header>
		<section>
			<p>Hi,</p>
<p>I&#39;m trying (desperately hard) to download a database from the internet (my web server) and have it installed (well, replace at least) the existing database in the iPhone.</p>
<p>I need to know the file location where I&#39;m meant to put the database? We cannot write to the resources directory?</p>
<p>I&#39;ve tried the following, and nothing works:</p>
<pre><code class="hljs"><span class="hljs-variable"><span class="hljs-keyword">var</span> f</span> = Titanium.Filesystem.getFile(Titanium.Filesystem.applicationDataDirectory, dbName);

<span class="hljs-variable"><span class="hljs-keyword">var</span> f</span> = Titanium.Filesystem.getFile(Titanium.Filesystem.applicationDirectory, dbName);

<span class="hljs-variable"><span class="hljs-keyword">var</span> f</span> = Titanium.Filesystem.getFile(Titanium.Filesystem.applicationDataDirectory, dbName);

<span class="hljs-variable"><span class="hljs-keyword">var</span> f</span> = Ti.Filesystem.getFile(Ti.Filesystem.applicationDataDirectory, '../Library/Application Support/database/'+dbName); <span class="hljs-comment">// cocoa error 4</span>

<span class="hljs-variable"><span class="hljs-keyword">var</span> f</span> = Titanium.Filesystem.getFile(Titanium.Filesystem.applicationSupportDirectory+'/database/', dbName);

<span class="hljs-variable"><span class="hljs-keyword">var</span> f</span> = Ti.Filesystem.getFile(Ti.Filesystem.resourcesDirectory, dbName);

<span class="hljs-variable"><span class="hljs-keyword">var</span> f</span> = Ti.Filesystem.getFile(privateDir, dbName);
</code></pre><p>Music files work OK, text files OK… but the database file isn&#39;t being installed.</p>
<p>Before I do get the DATABASE file, I&#39;m closing the database.</p>
<p>As you can see from the above code, I&#39;m getting cocoa error 4 with all these cases. </p>
<p>Of course, only 1 var f is uncommented during the build… i just uncommented them all so you can see what I was doing.</p>
<p>Thanks</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="March 31st 2012, 7:29:55 pm">March 31st 2012</span>
				by <span class='authorname'>E B</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>database install</span></li>
					
						<li><span class='tagname'>remote</span></li>
					
						<li><span class='tagname'>url</span></li>
					
				</ul>
			

			<section>
				<h5>2 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>which Ti SDK are you using…?</p>
</div>
							<div class="author">
								&mdash; commented <span title="April 2nd 2012, 7:37:57 am">April 2nd 2012</span>
								by <span class='authorname'>Mitul Bhalia</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Hi Mitul!<br>I&#39;m using SDK version 1.8.2<br>iOS target = 4.3</p>
<p>I&#39;m getting desperate. Any ideas? I will post more code later…<br>But generally speaking, the database IS being downloaded from the internet. Its not being replaced, however. </p>
<p>I&#39;m not getting ANY error messages either.</p>
<p>I think, I&#39;m not sure, that when i do a Ti.Database.install(&#39;database.sqlite&#39;, database); it installs the database in the &#x2F;private documents&#x2F; folder - no? </p>
<p>I don&#39;t think I need to install it in the private directory? </p>
<p>Essentially, the database starts stored locally on the iPhone. I create it and have it in the &#x2F;Resources directory in the compiler. </p>
<p>During compile and installation on a test iPhone, that database is not only found in the myApp.app&#x2F;Resources directory on the iPhone, but its found in the &#x2F;private documents&#x2F; folder OUTSIDE the .app directory. </p>
<p>I&#39;ve read that I cannot write to the &#x2F;Resources directory, nor anywhere in the .app directory. I&#39;ve tried to write the database file to a temp directory and then install it from there.. but it does not OVERRIDE the existing one.</p>
<p>Thanks for any pointers you can provide.</p>
</div>
							<div class="author">
								&mdash; commented <span title="April 2nd 2012, 7:43:38 am">April 2nd 2012</span>
								by <span class='authorname'>E B</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>-1</span> Votes</div>
			<div class="answers"><span>4</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>4 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-235202">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>ok, do one thing put the below code in your app.js </p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> db = <span class="hljs-type">Ti</span>.<span class="hljs-type">Database</span>.install('<span class="hljs-type">MyAppDatabase</span>.sqlite', '<span class="hljs-type">MyAppDatabase</span>');
db.close();
//so use install <span class="hljs-keyword">method</span> only once <span class="hljs-keyword">in</span> your app
</code></pre><p>now whenever you want to use database just open the database by</p>
<pre><code class="hljs"><span class="hljs-variable"><span class="hljs-keyword">var</span> db</span> = Ti.Database.<span class="hljs-keyword">open</span>('MyAppDatabase');
</code></pre><p>then on the click event </p>
<pre><code class="hljs">var path = Ti.Filesystem.applicationDataDirectory;
path = path.replace(<span class="hljs-attribute">'Documents</span>', <span class="hljs-attribute">'Library</span>');
path = path + <span class="hljs-attribute">'Private</span>%<span class="hljs-number">20</span>Documents/' + <span class="hljs-attribute">'MyAppDatabase</span>.sqlite'; // where **MyAppDatabase** <span class="hljs-keyword">is</span> <span class="hljs-keyword">alias</span> name.

var f = Ti.Filesystem.getFile(path);// no need <span class="hljs-keyword">to</span> give <span class="hljs-keyword">file</span> name it<span class="hljs-attribute">'s</span> already given <span class="hljs-keyword">in</span> the path <span class="hljs-keyword">variable</span>
</code></pre><p>so in your new window where query is fired use this line </p>
<pre><code class="hljs"><span class="hljs-variable"><span class="hljs-keyword">var</span> db</span> = Ti.Database.<span class="hljs-keyword">open</span>('MyAppDatabase');
</code></pre><p>because after downloading the database and put it in the Private Documents folder if you use <strong>var db = Ti.Database.install(&#39;MyAppDatabase.sqlite&#39;, &#39;MyAppDatabase&#39;);</strong> then it overwrites your downloaded database with old one</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="April 4th 2012, 6:50:02 am">April 4th 2012</span>
								by <span class='authorname'>Mitul Bhalia</span><br>
								<a class="icon-bg icon-link" href="question/134714/database-filesystem-getfile-location#answer-235202" rel="permalink">permalink</a>
							</div>

							<h5>8 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Mitul,</p>
<p>I can&#39;t thank you enough for your support, but it does not work. The new database is being downloaded, yet for some reason, the new one is is not being shown. Its still the old. I&#39;ve been looking around at code that deletes the database from the cache. Perhaps this is the problem? </p>
<p>My database.install(…) is in the app.js. I do a db.close(); after it is installed. No matter what I do, i&#39;m not over-writing the old database with the new.</p>
<p>I did discover one thing:</p>
<p>I did an Ti.API.info(&quot;show f&quot;) - and on the iPhone , it points to the following path:</p>
<pre><code class="hljs">file://localhost/var/mobile/Applications/<span class="hljs-number">3C9c92343</span><span class="hljs-number">3-3234-34</span><span class="hljs-number">3-32434234</span>32/Library/Private%20Documents/
</code></pre><p>I don&#39;t think this right?? is it?</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 4th 2012, 2:23:17 pm">April 4th 2012</span>
											by <span class='authorname'>E B</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>so can you give me your database with the remote url..? so i can create a demo for you..</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 4th 2012, 3:00:45 pm">April 4th 2012</span>
											by <span class='authorname'>Mitul Bhalia</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Mitul, I really can&#39;t trouble you this way. I followed the instructions you suggested. </p>
<p>App.js –&gt; we have our<br>database.install(…)<br>database.close() </p>
<p>in my updateDatabase Function() [ called when a user wants to refresh the database:]</p>
<p>We have : the XHR processes that fetches the database from the URL and put in in f with path  &quot;PATH&quot; - where the path is the &#x2F;private documents directory. </p>
<p>In my MyDatabaseApp.js file, I have the Ti.Database.open(&#39;myDatabase&#39;);<br>where what is happening is that no matter how many times I download the database, it does not update.</p>
<p>I would give up on this feature, but its literally essential. </p>
<p>Please advise, what I can I do? I know appcelerator well enough now to execute the commands people advise me. </p>
<p>What do you suggest??</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 4th 2012, 3:06:23 pm">April 4th 2012</span>
											by <span class='authorname'>E B</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>ok let&#39;s start to debug..</p>
<p>during the debug process open your private document folder in finder and check that on the click event of the button database will be deleted or not..?</p>
<p>then download the new database so you can see that the new database will be written or not</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 4th 2012, 3:31:51 pm">April 4th 2012</span>
											by <span class='authorname'>Mitul Bhalia</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Hi,<br>Yes, I forgot to mention: I did open the finder window during a simulation. I went to the private docs folder. Indeed my database is being erased and recreated. </p>
<p>I checked the date and time of the SQLite file. It was being updated. </p>
<p>I think when I do a database install, the old database is persistently cached and referenced.</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 4th 2012, 3:37:13 pm">April 4th 2012</span>
											by <span class='authorname'>E B</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>so do one more thing after downloading new database store it in the applicationDataDirectory then install the new database with that path</p>
<p>like..</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> f1 = Ti.Filesystem.getFile(Ti.Filesystem.applicationDataDirectory,<span class="hljs-string">'MyAppDatabase.sqlite'</span>);
f1.write(<span class="hljs-keyword">this</span>.responseData);

<span class="hljs-keyword">var</span> db = Ti.Database.install(f1.nativePath, <span class="hljs-string">'MyAppDatabase'</span>);
db.close();
</code></pre><p><strong>do this after deleting the old file logic</strong></p>
</p>
										<div class="author">
											&mdash; commented <span title="April 4th 2012, 3:51:47 pm">April 4th 2012</span>
											by <span class='authorname'>Mitul Bhalia</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Hi Mitul,<br>Sorry my friend, you&#39;ve lost me. How does f1 fit in with f? </p>
<p>f was the path to the database in &#x2F;private docs&#x2F;<br>Do I download f or f1?</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 4th 2012, 5:03:57 pm">April 4th 2012</span>
											by <span class='authorname'>E B</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>no actually f is to delete the database from private docs and f1 is for installing new database </p>
<p>what i want is to delete the old database and then download new database and put it into applicationDataDirectory folder then again install new database from the applicationDataDirectory</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 5th 2012, 6:50:36 am">April 5th 2012</span>
											by <span class='authorname'>Mitul Bhalia</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-235013">
				
						<section>
							<p>ok,</p>
<p>at the time of replacement firts check that your old database is there i mean in the private document folder then delete it first..</p>
<pre><code class="hljs">var path = Ti.Filesystem.applicationDataDirectory;
path = path.replace(<span class="hljs-string">'Documents'</span>, <span class="hljs-string">'Library'</span>);
path = path + <span class="hljs-string">'Private%20Documents/'</span> + &lt;database <span class="hljs-keyword">alias</span> name you used at the time <span class="hljs-keyword">of</span> install database &gt;;

var f = Ti.Filesystem.getFile(path);
<span class="hljs-keyword">if</span>(f.<span class="hljs-keyword">exists</span>()){
    f.deleteFile();
}
<span class="hljs-comment">//then after downloading the new database just put it in the same folder by</span>

f.write(<span class="hljs-keyword">this</span>.responseData);
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="April 2nd 2012, 8:33:21 am">April 2nd 2012</span>
								by <span class='authorname'>Mitul Bhalia</span><br>
								<a class="icon-bg icon-link" href="question/134714/database-filesystem-getfile-location#answer-235013" rel="permalink">permalink</a>
							</div>

							<h5>9 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Thanks Mitul,</p>
<p>I had done this before actually (I read similar threads stating that we ought to cd into the &#x2F;private docs&#x2F; directory)… but I tried to find another solution as I received the following error whenever I run this code:</p>
<pre><code class="hljs"><span class="xml">
[ERROR] Could not retrieve attributes. Error Domain=NSCocoaErrorDomain Code=260 "The operation couldn’t be completed. (Cocoa error 260.)" UserInfo=0x88a6070 </span><span class="hljs-expression">{<span class="hljs-variable">NSFilePath</span>=<span class="hljs-end-block">/Users</span><span class="hljs-end-block">/edwardb</span><span class="hljs-end-block">/Library</span><span class="hljs-end-block">/Application Support</span><span class="hljs-end-block">/iPhone Simulator</span>/4<span class="hljs-variable">.</span>3<span class="hljs-variable">.</span>2<span class="hljs-end-block">/Applications</span><span class="hljs-end-block">/E</span>957<span class="hljs-variable">D</span>930<span class="hljs-variable">-D</span>1<span class="hljs-variable">F</span>1<span class="hljs-variable">-</span>4<span class="hljs-variable">C</span>9<span class="hljs-variable">A-</span>8<span class="hljs-variable">A</span>66<span class="hljs-variable">-</span>68246<span class="hljs-variable">A</span>9810<span class="hljs-variable">F</span>2<span class="hljs-end-block">/myApp.app</span><span class="hljs-end-block">/Users</span><span class="hljs-end-block">/edwardb</span><span class="hljs-end-block">/Library</span><span class="hljs-end-block">/Application Support</span><span class="hljs-end-block">/iPhone Simulator</span>/4<span class="hljs-variable">.</span>3<span class="hljs-variable">.</span>2<span class="hljs-end-block">/Applications</span><span class="hljs-end-block">/E</span>957<span class="hljs-variable">D</span>930<span class="hljs-variable">-D</span>1<span class="hljs-variable">F</span>1<span class="hljs-variable">-</span>4<span class="hljs-variable">C</span>9<span class="hljs-variable">A-</span>8<span class="hljs-variable">A</span>66<span class="hljs-variable">-</span>68246<span class="hljs-variable">A</span>9810<span class="hljs-variable">G</span>1<span class="hljs-end-block">/Library</span><span class="hljs-end-block">/Private Documents</span><span class="hljs-end-block">/dbName.sqlite</span>, <span class="hljs-variable">NSUnderlyingError</span>=0<span class="hljs-variable">x</span>88<span class="hljs-variable">a</span>6920 <span class="hljs-string">"The operation couldn’t be completed. No such file or directory"</span>}</span><span class="xml">  in -[TiDatabaseProxy install:name:] (TiDatabaseProxy.m:126)</span>
</code></pre><p>Is this error ONLY for the simulator? </p>
<p>I will post later the code (end to end) for this entire process. Its very similar to what you&#39;ve given. In fact, its a standard process for downloading - I don&#39;t think I&#39;m doing anything different.</p>
<p>When I do a database install - do i install from the Private Docs directory??? Or what?</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 2nd 2012, 9:37:04 am">April 2nd 2012</span>
											by <span class='authorname'>E B</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>no when you use install method it actually copy your database from your path and paste it to private documents directory so you can replace that database later or you can install new after deleting old one</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 2nd 2012, 9:43:37 am">April 2nd 2012</span>
											by <span class='authorname'>Mitul Bhalia</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Maybe this is the problem??</p>
<p>That when I&#39;m downloading an updated database from the internet, I&#39;m erasing the database from the PRIVATE DOCUMENTS directory, writing the UPDATED database there, and yet, because the original was installed in the APP (in the resources directory) - an install is then OVERRIDING the updated with what was there before?? </p>
<p>Do you see what I mean?</p>
<p>The original database is already in the bundle. An a Ti.Database install will take the database from the bundle and just overwrite what i&#39;ve just downloaded.</p>
<p>How do I overcome this issue???</p>
<p>Should I therefore NOT install the database from the private directory??</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 2nd 2012, 9:53:24 am">April 2nd 2012</span>
											by <span class='authorname'>E B</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>no </p>
<p>you can download and upadate the new one after installing database from resource directory</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 2nd 2012, 9:57:59 am">April 2nd 2012</span>
											by <span class='authorname'>Mitul Bhalia</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>So, if I understand correctly, the UPDATED , or recently downloaded database needs to be installed from the path directory that we&#39;ve established above?</p>
<p>i.e.</p>
<pre><code class="hljs"><span class="hljs-variable"><span class="hljs-keyword">var</span> rdbms</span> = Ti.Database.install(path, dbAlias);
</code></pre><p>You agree? or have i misunderstood?</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 2nd 2012, 10:03:37 am">April 2nd 2012</span>
											by <span class='authorname'>E B</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>you do not need to install database again you just need to replace you old database with new using your database alias name</p>
<p>like</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> rdbms = Ti.Database.install(path, dbAlias);

.
.
.
.
.
.
<span class="hljs-comment">//check condition</span>
<span class="hljs-comment">//download new database</span>
<span class="hljs-comment">//delete old one</span>
<span class="hljs-comment">//replace it </span>

<span class="hljs-keyword">var</span> path = Ti.Filesystem.applicationDataDirectory;
path = path.replace(<span class="hljs-string">'Documents'</span>, <span class="hljs-string">'Library'</span>);
path = path + <span class="hljs-string">'Private%20Documents/'</span> + &lt;dbAlias&gt;.&lt;<span class="hljs-keyword">extension</span>&gt;;

<span class="hljs-keyword">var</span> f = Ti.Filesystem.getFile(path);
<span class="hljs-keyword">if</span>(f.exists())<span class="hljs-comment">{
    f.deleteFile();
}</span>
<span class="hljs-comment">//then after downloading the new database just put it in the same folder by</span>

f.<span class="hljs-keyword">write</span>(this.responseData);
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="April 2nd 2012, 10:14:27 am">April 2nd 2012</span>
											by <span class='authorname'>Mitul Bhalia</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>this isn&#39;t working out for me. </p>
<p>I have no idea what to do. I&#39;&#39;m trying. If I find an answer, I think I&#39;ll post it to help everyone. For some reason, my database is not being overwritten by the downloaded one.</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 2nd 2012, 8:19:57 pm">April 2nd 2012</span>
											by <span class='authorname'>E B</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>ok, share portion of code</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 3rd 2012, 6:33:27 am">April 3rd 2012</span>
											by <span class='authorname'>Mitul Bhalia</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Hi Mitul,</p>
<p>I&#39;m dead. lol.. i&#39;ve tried everything. Here&#39;s the code that I&#39;m using:</p>
<pre><code class="hljs">
<span class="hljs-keyword">var</span> path = Ti.Filesystem.applicationDataDirectory;
        path = path.replace(<span class="hljs-string">'Documents'</span>, <span class="hljs-string">'Library'</span>);
        path = path + <span class="hljs-string">'Private%20Documents/'</span> + dbName;

        <span class="hljs-keyword">var</span> f = Ti.Filesystem.getFile(path, dbName);


        <span class="hljs-keyword">if</span>(f.exists())
        {
            f.deleteFile();

        }


        <span class="hljs-keyword">var</span> xhr = Titanium.Network.createHTTPClient();

        xhr.setTimeout(<span class="hljs-number">10000</span>);

        xhr.onload = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(ol)</span>
        </span>{
            f.write(<span class="hljs-keyword">this</span>.responseData);

        };


        xhr.open(<span class="hljs-string">'GET'</span>, remote_url);

        xhr.file = f;

        xhr.send();
</code></pre><p>variable <del>~dbName</del>~ is given as something like MyAppDatabase.sqlite… that&#39;s it.</p>
<p>All this is in a button addEventListener call so the user clicks this, it gets a copy of the Database (MyAppDatabase.sqlite) and then installs it. </p>
<p>When the user clicks on the icon that takes them to the window where the database is queried: </p>
<p>The database commands are:</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> db = Ti.Database.install(<span class="hljs-string">'MyAppDatabase.sqlite'</span>, <span class="hljs-string">'MyAppDatabase'</span>);
</code></pre><p>Please tell me what I&#39;m doing wrong?? I&#39;ve heard that it could be my SDK version? I&#39;m using SDK 1.8.2 ?? Is that OK? Is there a bug in Ti??</p>
<p>I would be extremely grateful for any help. I&#39;ve already spent nearly 3 days trying to figure this out.</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 3rd 2012, 5:55:51 pm">April 3rd 2012</span>
											by <span class='authorname'>E B</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-235341">
				
						<section>
							<p>Hi Mitul,</p>
<p>OK.. so var f was deleting the database from &#x2F;private docs&#x2F; and<br>var f1 is creating (writing) the new database to the applicationDataDirectory.</p>
<p>It still doesn&#39;t work.</p>
<p>I get this error:</p>
<pre><code class="hljs">
[ERROR] Could not retrieve attributes. Error Domain=NSCocoaErrorDomain Code=<span class="hljs-number">260</span> <span class="hljs-string">"The operation couldn’t be completed. (Cocoa error 260.)"</span> UserInfo=<span class="hljs-number">0x6e7de60</span> {NSFilePath=/Users/eb/Library/Application Support/iPhone Simulator/<span class="hljs-number">4.3</span><span class="hljs-number">.2</span>/Applications/<span class="hljs-number">15</span>AE5D56-<span class="hljs-number">6</span>A30-<span class="hljs-number">4F</span>EC-A95D-<span class="hljs-number">84F</span>129A56669/Documents/myDATABASE.sqlite, NSUnderlyingError=<span class="hljs-number">0x6e60e40</span> <span class="hljs-string">"The operation couldn’t be completed. No such file or directory"</span>}  in -[TiDatabaseProxy install:name:] (TiDatabaseProxy.m:<span class="hljs-number">126</span>)
</code></pre><p>Now… that directory exists - but the database wasn&#39;t written to it. </p>
<p>Any ideas? </p>
<p>Thanks Mitul.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="April 5th 2012, 8:21:50 pm">April 5th 2012</span>
								by <span class='authorname'>E B</span><br>
								<a class="icon-bg icon-link" href="question/134714/database-filesystem-getfile-location#answer-235341" rel="permalink">permalink</a>
							</div>

							<h5>7 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>there should be some very minor problem because i have tested at my side and works fine</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 6th 2012, 8:02:36 am">April 6th 2012</span>
											by <span class='authorname'>Mitul Bhalia</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>this is something like database is not written in the applicationDataDirectory</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 6th 2012, 8:05:08 am">April 6th 2012</span>
											by <span class='authorname'>Mitul Bhalia</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Hi Mitul,</p>
<p>I got it to work.. but i&#39;m deeply concerned.</p>
<p>I got it to work by removing the app from the simulator and rebuilding it.<br>It worked.</p>
<p>Why am I concerned? </p>
<p>Because of current users… are they expected to delete the apps from their iPhones when a new release is given to them?? </p>
<p>Oh dear.</p>
<p>But your advice has been extremely valuable and i&#39;m so indebted to you. </p>
<p>Thanks</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 6th 2012, 8:23:01 am">April 6th 2012</span>
											by <span class='authorname'>E B</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>oh.. i removed the build directory also… and just rebuilt the whole thing (for anyone who needs to know)</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 6th 2012, 8:23:43 am">April 6th 2012</span>
											by <span class='authorname'>E B</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>oh…….<br>very minor mistake ….sometimes error is very small but we treat as a very big problem anyway the thing is problem is solved… yeah……..  :)</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 6th 2012, 8:29:03 am">April 6th 2012</span>
											by <span class='authorname'>Mitul Bhalia</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Mitul, but a problem remains:</p>
<p>Users are now expected to erase the current app version from their iPhones for a new one to be installed in order for them to benefit from a database refresh functionality.</p>
<p>I know for sure that Apple hate this. They won&#39;t allow that, and I can&#39;t blame them.. you don&#39;t users erasing apps to install new updates of their apps. </p>
<p>Is there a way we can refresh the cache or whatever is causing this persistency without having to re-install the app on the phone?</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 6th 2012, 8:42:09 am">April 6th 2012</span>
											by <span class='authorname'>E B</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>oh….i think there is no way to clear the cache or if available then i do not know….. sorry :(</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 6th 2012, 9:13:27 am">April 6th 2012</span>
											by <span class='authorname'>Mitul Bhalia</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-267268">
				
						<section>
							<p>Perfectly Working and easy tutorial for this is <a href="http:&#x2F;&#x2F;mobile.tutsplus.com&#x2F;tutorials&#x2F;appcelerator&#x2F;titanium-mobile-database-driven-tables-with-sqlite&#x2F;">here</a>.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 16th 2013, 2:55:37 am">August 16th 2013</span>
								by <span class='authorname'>Akshay Taru</span><br>
								<a class="icon-bg icon-link" href="question/134714/database-filesystem-getfile-location#answer-267268" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
