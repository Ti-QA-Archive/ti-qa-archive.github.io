<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Adding a event to Android calendar. How to set start and end time? Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Adding a event to Android calendar. How to set start and end time?</h1>
		</header>
		<section>
			<p>Hi,<br>I am using Titanium SDK 3.1.2.GA. I am trying to add a event to the Android calendar. When I try to do that the calendar is opening and the Title, Description and Location is set into the new event. But the start and end time is always the current date and time. I am setting the start and end time as milliseconds. Here is a part of my code:</p>
<pre><code class="hljs">var <span class="hljs-type">intent</span> = Ti.Android.createIntent({
        <span class="hljs-keyword">action</span> : Ti.Android.ACTION_EDIT });
<span class="hljs-type">intent</span>.setType(<span class="hljs-string">"vnd.android.cursor.item/event"</span>); 

<span class="hljs-type">intent</span>.putExtra(<span class="hljs-string">"title"</span>, title);
<span class="hljs-type">intent</span>.putExtra(<span class="hljs-string">"description"</span>, content);
<span class="hljs-type">intent</span>.putExtra(<span class="hljs-string">"eventLocation"</span>, location);
<span class="hljs-type">intent</span>.putExtra(<span class="hljs-string">"beginTime"</span>, startTimeMM);
<span class="hljs-type">intent</span>.putExtra(<span class="hljs-string">"endtime"</span>, endTimeMM);

Ti.Android.currentActivity.startActivity(<span class="hljs-type">intent</span>);
</code></pre><p>Can anyone help me to set the start and end time?</p>
<p>Thanks</p>
<p>Olaf</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="November 3rd 2013, 1:54:26 pm">November 3rd 2013</span>
				by <span class='authorname'>Olaf Grumptmann</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>calendar</span></li>
					
						<li><span class='tagname'>intent</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-270813">
				
						<section>
							<p>I&#39;ve been trying to get this working. I have been seeing this error</p>
<pre><code class="hljs">Key beginTime expected Long but value was <span class="hljs-tag">a</span> java<span class="hljs-class">.lang</span><span class="hljs-class">.Integer</span>.  The default value -<span class="hljs-number">1</span> was returned.
</code></pre><p>And this lead me to <a href="https:&#x2F;&#x2F;developer.appcelerator.com&#x2F;question&#x2F;144484&#x2F;androdir-error-trying-to-add-a-calendar-event-javalangdouble-cannot-be-cast-to-javalanglong">this question</a> which may be what you are seeing too ?  There&#39;s even a <a href="https:&#x2F;&#x2F;jira.appcelerator.org&#x2F;browse&#x2F;TIMOB-5842">JIRA</a> on it which is still open, so I can only conclude it&#39;s not possible unless <a href="https:&#x2F;&#x2F;github.com&#x2F;zman0900&#x2F;titanium-improvedintent">this module</a> helps</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="November 3rd 2013, 3:06:37 pm">November 3rd 2013</span>
								by <span class='authorname'>Nick Milner</span><br>
								<a class="icon-bg icon-link" href="../../question/159068/adding-a-event-to-android-calendar-how-to-set-start-and-end-time.html#answer-270813" rel="permalink">permalink</a>
							</div>

							<h5>4 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>I just spotted the <a href="https:&#x2F;&#x2F;github.com&#x2F;zman0900&#x2F;titanium-improvedintent&#x2F;blob&#x2F;master&#x2F;example&#x2F;app.js">example</a> in that module - It&#39;s exactly what you are after</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 3rd 2013, 3:23:41 pm">November 3rd 2013</span>
											by <span class='authorname'>Nick Milner</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Looks like thats what I need. Thanks for the help. Now the only problem is that I have to find out how to compile the java source code into a module. I will ask the guy who created the module if he can provide the binary module.</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 4th 2013, 6:10:33 pm">November 4th 2013</span>
											by <span class='authorname'>Olaf Grumptmann</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>i have use this module but it does not set correct &quot;endTime&quot; in calendar event</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 25th 2014, 8:21:30 am">January 25th 2014</span>
											by <span class='authorname'>Ritesh Popat</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>it runs perfect on android emulator but while i m running on device it cant set correct &quot;endTime&quot; please help me to get out of this.</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 25th 2014, 8:25:51 am">January 25th 2014</span>
											by <span class='authorname'>Ritesh Popat</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
