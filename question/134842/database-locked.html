<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Database locked » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Database locked</h1>
		</header>
		<section>
			<p>IN my iphone app am using sqllite db and i can perform select,insert query but I    cant perform delete ,each time I perform delete an row by using where condition  am getting  this error </p>
<p>message = &quot;Error occurred calling next on a PLSqliteResultSet. SQLite error: &#39;database is locked&#39; for &#39;delete from InteractionType where CustomerName=\&quot;Kuf\&quot;&#39;&quot;;</p>
<p>This is my code</p>
<pre><code class="hljs">var btnSub = Ti.UI.createButton({
    title : <span class="hljs-string">'Submit'</span>,
    top : <span class="hljs-number">190</span>,
    height : <span class="hljs-number">50</span>,
    width : <span class="hljs-number">100</span>
});
btnSub.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span></span> {
 var db = Titanium.Database.install(<span class="hljs-string">'Interaction.sqlite3'</span>, <span class="hljs-string">'insertDB'</span>);
    /*var db = Titanium.Database.open(<span class="hljs-string">'insertDB'</span>);
    var dbq = db.execute(<span class="hljs-string">'select CustomerName from InteractionType'</span>);
    <span class="hljs-keyword">while</span>(dbq.isValidRow()){
         Ti.API.info(<span class="hljs-string">'CustomerName : '</span>+dbq.fieldByName(<span class="hljs-string">'CustomerName'</span>));
         dbq.<span class="hljs-built_in">next</span>();
    }*/
   //var dbq = db.execute(<span class="hljs-string">'select * from InteractionType'</span>);
   // alert(dbq.getRowCount());e
db.execute(<span class="hljs-string">'delete from InteractionType where CustomerName="Kuf"'</span>);

//alert(row deleted);
});
 db.close();
</code></pre>
		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="April 3rd 2012, 6:28:19 am">April 3rd 2012</span>
				by <span class='authorname'>anand jh</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>database</span></li>
					
						<li><span class='tagname'>iphone</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>8</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>8 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-235114">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>have you tried this one…?</p>
<pre><code class="hljs">btnSub.addEventListener('click', function(<span class="hljs-keyword">e</span>) {

    <span class="hljs-keyword">var</span> <span class="hljs-keyword">db</span> = Titanium.Database.<span class="hljs-keyword">open</span>('insertDB');

<span class="hljs-keyword">db</span>.execute('delete from InteractionType where CustomerName=<span class="hljs-string">"Kuf"</span>');

<span class="hljs-comment">//alert(row deleted);</span>
<span class="hljs-keyword">db</span>.<span class="hljs-keyword">close</span>();
});
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="April 3rd 2012, 8:08:56 am">April 3rd 2012</span>
								by <span class='authorname'>Mitul Bhalia</span><br>
								<a class="icon-bg icon-link" href="question/134842/database-locked#answer-235114" rel="permalink">permalink</a>
							</div>

							<h5>10 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>not working am getting this error</p>
<pre><code class="hljs">[WARN] Exception in event callback. {
    line = 96<span class="hljs-comment">;</span>
    message = "Error occurred calling next on a PLSqliteResultSet. SQLite error: 'database is locked' for 'delete from InteractionType where CustomerName=\"Kuf\"'"<span class="hljs-comment">;</span>
    sourceId = <span class="hljs-number">239107744</span><span class="hljs-comment">;</span>
    sourceURL = "file://localhost/Users/Admin/Library/Application%20Support/iPhone%20Simulator/5.0/Applications/0808CF22-E7D0-46BA-A41C-CB<span class="hljs-number">35564C1B97</span>/test.app/files/Info.js"<span class="hljs-comment">;</span>
}
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="April 3rd 2012, 8:16:10 am">April 3rd 2012</span>
											by <span class='authorname'>anand jh</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>have you used database anywhere else…?</p>
<p>and also try to clean the project first then re build your app</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 3rd 2012, 8:18:38 am">April 3rd 2012</span>
											by <span class='authorname'>Mitul Bhalia</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>no am not using the db anywhere else</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 3rd 2012, 8:22:24 am">April 3rd 2012</span>
											by <span class='authorname'>anand jh</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Am getting the same error after cleaning the project</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 3rd 2012, 8:30:32 am">April 3rd 2012</span>
											by <span class='authorname'>anand jh</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>can you tell me your sequence of execution…?</p>
<p>first put this line in app.js file<br>then all your window where you use database just open and close connection</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> db = Titanium.Database.install(<span class="hljs-string">'Interaction.sqlite3'</span>,<span class="hljs-string">'insertDB'</span>);
db.<span class="hljs-built_in">close</span>();
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="April 3rd 2012, 8:30:37 am">April 3rd 2012</span>
											by <span class='authorname'>Mitul Bhalia</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>is any other way for delete</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 3rd 2012, 8:31:51 am">April 3rd 2012</span>
											by <span class='authorname'>anand jh</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>no, without using query how can you delete the record…? </p>
<p>try to fire any other query except delete just to test</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 3rd 2012, 8:41:35 am">April 3rd 2012</span>
											by <span class='authorname'>Mitul Bhalia</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I checked it with select query and it worked well.</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 3rd 2012, 8:48:05 am">April 3rd 2012</span>
											by <span class='authorname'>anand jh</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Now its working I closed all the db connections in the projects and<br>cleaned the whole project directory…<br>Thanks Mitul Bhalia</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 3rd 2012, 9:03:00 am">April 3rd 2012</span>
											by <span class='authorname'>anand jh</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>yeah, greate, so remember that whenever you use database just install it once and after only use open and close the connection</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 3rd 2012, 9:09:31 am">April 3rd 2012</span>
											by <span class='authorname'>Mitul Bhalia</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>-1</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-235096">
				
						<section>
							<p>hi Anand,</p>
<p>because you close the database before execute the query</p>
<pre><code class="hljs">btnSub.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span></span> {
 var db = Titanium.Database.install(<span class="hljs-string">'Interaction.sqlite3'</span>, <span class="hljs-string">'insertDB'</span>);
    /*var db = Titanium.Database.open(<span class="hljs-string">'insertDB'</span>);
    var dbq = db.execute(<span class="hljs-string">'select CustomerName from InteractionType'</span>);
    <span class="hljs-keyword">while</span>(dbq.isValidRow()){
         Ti.API.info(<span class="hljs-string">'CustomerName : '</span>+dbq.fieldByName(<span class="hljs-string">'CustomerName'</span>));
         dbq.<span class="hljs-built_in">next</span>();
    }*/
   //var dbq = db.execute(<span class="hljs-string">'select * from InteractionType'</span>);
   // alert(dbq.getRowCount());e
db.execute(<span class="hljs-string">'delete from InteractionType where CustomerName="Kuf"'</span>);

//alert(row deleted);
});
db.close();
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="April 3rd 2012, 6:47:23 am">April 3rd 2012</span>
								by <span class='authorname'>Mitul Bhalia</span><br>
								<a class="icon-bg icon-link" href="question/134842/database-locked#answer-235096" rel="permalink">permalink</a>
							</div>

							<h5>2 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>oopss mistake..</p>
<pre><code class="hljs">btnSub.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span></span> {
 var db = Titanium.Database.install(<span class="hljs-string">'Interaction.sqlite3'</span>, <span class="hljs-string">'insertDB'</span>);
    /*var db = Titanium.Database.open(<span class="hljs-string">'insertDB'</span>);
    var dbq = db.execute(<span class="hljs-string">'select CustomerName from InteractionType'</span>);
    <span class="hljs-keyword">while</span>(dbq.isValidRow()){
         Ti.API.info(<span class="hljs-string">'CustomerName : '</span>+dbq.fieldByName(<span class="hljs-string">'CustomerName'</span>));
         dbq.<span class="hljs-built_in">next</span>();
    }*/
   //var dbq = db.execute(<span class="hljs-string">'select * from InteractionType'</span>);
   // alert(dbq.getRowCount());e
db.execute(<span class="hljs-string">'delete from InteractionType where CustomerName="Kuf"'</span>);

//alert(row deleted);
db.close();
});
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="April 3rd 2012, 6:47:55 am">April 3rd 2012</span>
											by <span class='authorname'>Mitul Bhalia</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>remember one thing that whenever you open or install database then close your open connection after firing a query</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 3rd 2012, 6:51:27 am">April 3rd 2012</span>
											by <span class='authorname'>Mitul Bhalia</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-235097">
				
						<section>
							<p>Yep, make sure you haven&#39;t got the DB open in another program - I always forget to close it 1st!</p>
<hr>
<p><a href="http:&#x2F;&#x2F;www.LearningTitanium.com">LearningTitanium.com</a> | <a href="http:&#x2F;&#x2F;www.BuiltWithTitanium.com">BuiltWithTitanium.com</a> | <a href="http:&#x2F;&#x2F;www.tidesdk.org">TideSDK</a></p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="April 3rd 2012, 6:50:11 am">April 3rd 2012</span>
								by <span class='authorname'>Sharry Stowell</span><br>
								<a class="icon-bg icon-link" href="question/134842/database-locked#answer-235097" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>one of my js file is also using this db but their i closed the connection.Still am getting the same error </p>
<p>The code for other js </p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> db = Titanium.Database.install(<span class="hljs-string">'Interaction.sqlite3'</span>,<span class="hljs-string">'insertDB'</span>);
    <span class="hljs-keyword">var</span> db = Titanium.Database.open(<span class="hljs-string">'insertDB'</span>);
    <span class="hljs-keyword">var</span> Qry = <span class="hljs-string">"INSERT INTO InteractionType(CustomerName,Focus,InteractionType,InteractionMethod,Summary,CustomerSiteId,EMCContacts,"</span> +
                <span class="hljs-string">" CustomerContacts,ProductOrg,ProductName,Feature,Notes,ThirdParty,Platform,CrossCharged,CostCenter,"</span> +
                <span class="hljs-string">" TravelRequirement,TravelExpenditure,DealValue,InteractionDate,SRNumber) VALUES ('"</span> + customername_text.<span class="hljs-keyword">value</span> + <span class="hljs-string">"','"</span> + Focus_text.<span class="hljs-keyword">value</span> + <span class="hljs-string">"','"</span> + my_combo.<span class="hljs-keyword">value</span> + <span class="hljs-string">"','"</span> + my_combo1.<span class="hljs-keyword">value</span> + <span class="hljs-string">"' "</span>+
                <span class="hljs-string">" ,'"</span> + summary_text.<span class="hljs-keyword">value</span> + <span class="hljs-string">"','"</span> + customersiteid_text.<span class="hljs-keyword">value</span> + <span class="hljs-string">"','"</span> + emccontacts_text.<span class="hljs-keyword">value</span> + <span class="hljs-string">"','"</span> + customercontacts_text.<span class="hljs-keyword">value</span> + <span class="hljs-string">"','"</span> + productorg_text.<span class="hljs-keyword">value</span> + <span class="hljs-string">"' "</span>+
                <span class="hljs-string">" ,'"</span> + productname_text.<span class="hljs-keyword">value</span> + <span class="hljs-string">"','"</span> + Feature_text.<span class="hljs-keyword">value</span> + <span class="hljs-string">"','"</span> + notes_text.<span class="hljs-keyword">value</span> + <span class="hljs-string">"','"</span> + ThirdParty_text.<span class="hljs-keyword">value</span> + <span class="hljs-string">"','"</span> + Platform_text.<span class="hljs-keyword">value</span> + <span class="hljs-string">"' "</span> +
                <span class="hljs-string">" ,'"</span> + Crosscharge_text.<span class="hljs-keyword">value</span> + <span class="hljs-string">"','"</span> + Costcenter_text.<span class="hljs-keyword">value</span> + <span class="hljs-string">"','"</span> + Travelreq_text.<span class="hljs-keyword">value</span> + <span class="hljs-string">"','"</span> + Travelexp_text.<span class="hljs-keyword">value</span> + <span class="hljs-string">"','"</span> + Dealval_text.<span class="hljs-keyword">value</span> + <span class="hljs-string">"' "</span> +
                <span class="hljs-string">" ,'"</span> + interactiondate_text.<span class="hljs-keyword">value</span> + <span class="hljs-string">"','"</span> + srnum_text.<span class="hljs-keyword">value</span> + <span class="hljs-string">"')"</span>;
    <span class="hljs-keyword">var</span> row = db.execute(Qry);
    Ti.API.info(<span class="hljs-string">'Query Executed'</span>);
    <span class="hljs-keyword">var</span> selectQry = <span class="hljs-string">" SELECT CustomerName,Focus,InteractionType,InteractionMethod,Summary,CustomerSiteId,EMCContacts,"</span> +
                <span class="hljs-string">" CustomerContacts,ProductOrg,ProductName,Feature,Notes,ThirdParty,Platform,CrossCharged,CostCenter,"</span> +
                <span class="hljs-string">" TravelRequirement,TravelExpenditure,DealValue,InteractionDate,SRNumber from InteractionType"</span>;
    <span class="hljs-keyword">var</span> rows2 = db.execute(selectQry);
    <span class="hljs-keyword">while</span>(rows2.isValidRow()) {
        Ti.API.info(<span class="hljs-string">'-------CustomerName :'</span> + rows2.fieldByName(<span class="hljs-string">'CustomerName'</span>));
        Ti.API.info(<span class="hljs-string">'-------Focus :'</span> + rows2.fieldByName(<span class="hljs-string">'Focus'</span>));
        Ti.API.info(<span class="hljs-string">'-------InteractionType :'</span> + rows2.fieldByName(<span class="hljs-string">'InteractionType'</span>));
        Ti.API.info(<span class="hljs-string">'-------InteractionMethod :'</span> + rows2.fieldByName(<span class="hljs-string">'InteractionMethod'</span>));
        Ti.API.info(<span class="hljs-string">'-------Summary :'</span> + rows2.fieldByName(<span class="hljs-string">'Summary'</span>));
        Ti.API.info(<span class="hljs-string">'-------CustomerSiteId :'</span> + rows2.fieldByName(<span class="hljs-string">'CustomerSiteId'</span>));
        Ti.API.info(<span class="hljs-string">'-------EMCContacts :'</span> + rows2.fieldByName(<span class="hljs-string">'EMCContacts'</span>));
        Ti.API.info(<span class="hljs-string">'-------CustomerContacts :'</span> + rows2.fieldByName(<span class="hljs-string">'CustomerContacts'</span>));
        Ti.API.info(<span class="hljs-string">'-------ProductOrg :'</span> + rows2.fieldByName(<span class="hljs-string">'ProductOrg'</span>));
        Ti.API.info(<span class="hljs-string">'-------ProductName :'</span> + rows2.fieldByName(<span class="hljs-string">'ProductName'</span>));
        rows2.next();
    }
    alert(<span class="hljs-string">'Data Submitted Successfully'</span>);
    intReset();proReset();cusReset();notesReset();
    interactiondate_text.<span class="hljs-keyword">value</span> = <span class="hljs-string">''</span>;
    my_combo.<span class="hljs-keyword">value</span> = <span class="hljs-string">''</span>;
    my_combo1.<span class="hljs-keyword">value</span> = <span class="hljs-string">''</span>;
    win4.hide();
    Interaction_but.borderColor = <span class="hljs-string">'transparent'</span>; win.add(Interaction_but);
    Interaction_but.enabled = <span class="hljs-keyword">false</span>;    
    Customerdetails_but.enabled = <span class="hljs-keyword">false</span>;
    Productdetails_but.enabled = <span class="hljs-keyword">false</span>;
    Notes_summary_but.enabled = <span class="hljs-keyword">false</span>;
    Interaction_but.borderColor = <span class="hljs-string">'transparent'</span>;
     Productdetails_but.borderColor = <span class="hljs-string">'transparent'</span>;
    Customerdetails_but.borderColor = <span class="hljs-string">'transparent'</span>;
    Notes_summary_but.borderColor = <span class="hljs-string">'transparent'</span>;
    win.remove(Submit_but); win.remove(Reset_but1); win.remove(prevbut); win.remove(nextbut);
    }
    db.close();
})


<span class="hljs-function">function <span class="hljs-title">currentDate</span>(<span class="hljs-params"></span>)</span>{
    <span class="hljs-keyword">var</span> d = <span class="hljs-keyword">new</span> Date();
    <span class="hljs-keyword">var</span> month = d.getMonth()+<span class="hljs-number">1</span>;
    <span class="hljs-keyword">var</span> year = d.getFullYear();
    interactiondate_text.<span class="hljs-keyword">value</span> = <span class="hljs-string">''</span>+month+<span class="hljs-string">'/'</span>+d.getDate()+<span class="hljs-string">'/'</span>+d.getFullYear();
}

})
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="April 3rd 2012, 7:05:27 am">April 3rd 2012</span>
											by <span class='authorname'>anand jh</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-235105">
				
						<section>
							<p>remember when you install the database the database remains open at that time so close that connection first</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> <span class="hljs-keyword">db</span> = Titanium.Database.install('Interaction.sqlite3','insertDB');
<span class="hljs-keyword">db</span>.<span class="hljs-keyword">close</span>();

<span class="hljs-keyword">var</span> <span class="hljs-keyword">db</span> = Titanium.Database.<span class="hljs-keyword">open</span>('insertDB');
<span class="hljs-comment">//query1</span>
<span class="hljs-keyword">db</span>.<span class="hljs-keyword">close</span>();

<span class="hljs-keyword">var</span> <span class="hljs-keyword">db</span> = Titanium.Database.<span class="hljs-keyword">open</span>('insertDB');
<span class="hljs-comment">//query2</span>
<span class="hljs-keyword">db</span>.<span class="hljs-keyword">close</span>();
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="April 3rd 2012, 7:32:45 am">April 3rd 2012</span>
								by <span class='authorname'>Mitul Bhalia</span><br>
								<a class="icon-bg icon-link" href="question/134842/database-locked#answer-235105" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><pre><code class="hljs"><span class="hljs-keyword">var</span> db = Titanium.Database.install(<span class="hljs-string">'Interaction.sqlite3'</span>,<span class="hljs-string">'insertDB'</span>);
    <span class="hljs-keyword">var</span> db = Titanium.Database.open(<span class="hljs-string">'insertDB'</span>);
    <span class="hljs-keyword">var</span> Qry = <span class="hljs-string">"INSERT INTO InteractionType(CustomerName,Focus,InteractionType,InteractionMethod,Summary,CustomerSiteId,EMCContacts,"</span> +
                <span class="hljs-string">" CustomerContacts,ProductOrg,ProductName,Feature,Notes,ThirdParty,Platform,CrossCharged,CostCenter,"</span> +
                <span class="hljs-string">" TravelRequirement,TravelExpenditure,DealValue,InteractionDate,SRNumber) VALUES ('"</span> + customername_text.<span class="hljs-keyword">value</span> + <span class="hljs-string">"','"</span> + Focus_text.<span class="hljs-keyword">value</span> + <span class="hljs-string">"','"</span> + my_combo.<span class="hljs-keyword">value</span> + <span class="hljs-string">"','"</span> + my_combo1.<span class="hljs-keyword">value</span> + <span class="hljs-string">"' "</span>+
                <span class="hljs-string">" ,'"</span> + summary_text.<span class="hljs-keyword">value</span> + <span class="hljs-string">"','"</span> + customersiteid_text.<span class="hljs-keyword">value</span> + <span class="hljs-string">"','"</span> + emccontacts_text.<span class="hljs-keyword">value</span> + <span class="hljs-string">"','"</span> + customercontacts_text.<span class="hljs-keyword">value</span> + <span class="hljs-string">"','"</span> + productorg_text.<span class="hljs-keyword">value</span> + <span class="hljs-string">"' "</span>+
                <span class="hljs-string">" ,'"</span> + productname_text.<span class="hljs-keyword">value</span> + <span class="hljs-string">"','"</span> + Feature_text.<span class="hljs-keyword">value</span> + <span class="hljs-string">"','"</span> + notes_text.<span class="hljs-keyword">value</span> + <span class="hljs-string">"','"</span> + ThirdParty_text.<span class="hljs-keyword">value</span> + <span class="hljs-string">"','"</span> + Platform_text.<span class="hljs-keyword">value</span> + <span class="hljs-string">"' "</span> +
                <span class="hljs-string">" ,'"</span> + Crosscharge_text.<span class="hljs-keyword">value</span> + <span class="hljs-string">"','"</span> + Costcenter_text.<span class="hljs-keyword">value</span> + <span class="hljs-string">"','"</span> + Travelreq_text.<span class="hljs-keyword">value</span> + <span class="hljs-string">"','"</span> + Travelexp_text.<span class="hljs-keyword">value</span> + <span class="hljs-string">"','"</span> + Dealval_text.<span class="hljs-keyword">value</span> + <span class="hljs-string">"' "</span> +
                <span class="hljs-string">" ,'"</span> + interactiondate_text.<span class="hljs-keyword">value</span> + <span class="hljs-string">"','"</span> + srnum_text.<span class="hljs-keyword">value</span> + <span class="hljs-string">"')"</span>;
    <span class="hljs-keyword">var</span> row = db.execute(Qry);
    Ti.API.info(<span class="hljs-string">'Query Executed'</span>);
    <span class="hljs-keyword">var</span> selectQry = <span class="hljs-string">" SELECT CustomerName,Focus,InteractionType,InteractionMethod,Summary,CustomerSiteId,EMCContacts,"</span> +
                <span class="hljs-string">" CustomerContacts,ProductOrg,ProductName,Feature,Notes,ThirdParty,Platform,CrossCharged,CostCenter,"</span> +
                <span class="hljs-string">" TravelRequirement,TravelExpenditure,DealValue,InteractionDate,SRNumber from InteractionType"</span>;
    <span class="hljs-keyword">var</span> rows2 = db.execute(selectQry);
    <span class="hljs-keyword">while</span>(rows2.isValidRow()) {
        Ti.API.info(<span class="hljs-string">'-------CustomerName :'</span> + rows2.fieldByName(<span class="hljs-string">'CustomerName'</span>));
        Ti.API.info(<span class="hljs-string">'-------Focus :'</span> + rows2.fieldByName(<span class="hljs-string">'Focus'</span>));
        Ti.API.info(<span class="hljs-string">'-------InteractionType :'</span> + rows2.fieldByName(<span class="hljs-string">'InteractionType'</span>));
        Ti.API.info(<span class="hljs-string">'-------InteractionMethod :'</span> + rows2.fieldByName(<span class="hljs-string">'InteractionMethod'</span>));
        Ti.API.info(<span class="hljs-string">'-------Summary :'</span> + rows2.fieldByName(<span class="hljs-string">'Summary'</span>));
        Ti.API.info(<span class="hljs-string">'-------CustomerSiteId :'</span> + rows2.fieldByName(<span class="hljs-string">'CustomerSiteId'</span>));
        Ti.API.info(<span class="hljs-string">'-------EMCContacts :'</span> + rows2.fieldByName(<span class="hljs-string">'EMCContacts'</span>));
        Ti.API.info(<span class="hljs-string">'-------CustomerContacts :'</span> + rows2.fieldByName(<span class="hljs-string">'CustomerContacts'</span>));
        Ti.API.info(<span class="hljs-string">'-------ProductOrg :'</span> + rows2.fieldByName(<span class="hljs-string">'ProductOrg'</span>));
        Ti.API.info(<span class="hljs-string">'-------ProductName :'</span> + rows2.fieldByName(<span class="hljs-string">'ProductName'</span>));
        rows2.next();
        db.close();
    }
    alert(<span class="hljs-string">'Data Submitted Successfully'</span>);
    intReset();proReset();cusReset();notesReset();
    interactiondate_text.<span class="hljs-keyword">value</span> = <span class="hljs-string">''</span>;
    my_combo.<span class="hljs-keyword">value</span> = <span class="hljs-string">''</span>;
    my_combo1.<span class="hljs-keyword">value</span> = <span class="hljs-string">''</span>;
    win4.hide();
    Interaction_but.borderColor = <span class="hljs-string">'transparent'</span>; win.add(Interaction_but);
    Interaction_but.enabled = <span class="hljs-keyword">false</span>;    
    Customerdetails_but.enabled = <span class="hljs-keyword">false</span>;
    Productdetails_but.enabled = <span class="hljs-keyword">false</span>;
    Notes_summary_but.enabled = <span class="hljs-keyword">false</span>;
    Interaction_but.borderColor = <span class="hljs-string">'transparent'</span>;
     Productdetails_but.borderColor = <span class="hljs-string">'transparent'</span>;
    Customerdetails_but.borderColor = <span class="hljs-string">'transparent'</span>;
    Notes_summary_but.borderColor = <span class="hljs-string">'transparent'</span>;
    win.remove(Submit_but); win.remove(Reset_but1); win.remove(prevbut); win.remove(nextbut);
    }

})
</code></pre><p>Is it ok now</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 3rd 2012, 7:43:02 am">April 3rd 2012</span>
											by <span class='authorname'>anand jh</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-235109">
				
						<section>
							<pre><code class="hljs"><span class="hljs-keyword">var</span> db = Titanium.Database.install(<span class="hljs-string">'Interaction.sqlite3'</span>,<span class="hljs-string">'insertDB'</span>);
db.close();
    <span class="hljs-keyword">var</span> db = Titanium.Database.open(<span class="hljs-string">'insertDB'</span>);
    <span class="hljs-keyword">var</span> Qry = <span class="hljs-string">"INSERT INTO InteractionType(CustomerName,Focus,InteractionType,InteractionMethod,Summary,CustomerSiteId,EMCContacts,"</span> +
                <span class="hljs-string">" CustomerContacts,ProductOrg,ProductName,Feature,Notes,ThirdParty,Platform,CrossCharged,CostCenter,"</span> +
                <span class="hljs-string">" TravelRequirement,TravelExpenditure,DealValue,InteractionDate,SRNumber) VALUES ('"</span> + customername_text.<span class="hljs-keyword">value</span> + <span class="hljs-string">"','"</span> + Focus_text.<span class="hljs-keyword">value</span> + <span class="hljs-string">"','"</span> + my_combo.<span class="hljs-keyword">value</span> + <span class="hljs-string">"','"</span> + my_combo1.<span class="hljs-keyword">value</span> + <span class="hljs-string">"' "</span>+
                <span class="hljs-string">" ,'"</span> + summary_text.<span class="hljs-keyword">value</span> + <span class="hljs-string">"','"</span> + customersiteid_text.<span class="hljs-keyword">value</span> + <span class="hljs-string">"','"</span> + emccontacts_text.<span class="hljs-keyword">value</span> + <span class="hljs-string">"','"</span> + customercontacts_text.<span class="hljs-keyword">value</span> + <span class="hljs-string">"','"</span> + productorg_text.<span class="hljs-keyword">value</span> + <span class="hljs-string">"' "</span>+
                <span class="hljs-string">" ,'"</span> + productname_text.<span class="hljs-keyword">value</span> + <span class="hljs-string">"','"</span> + Feature_text.<span class="hljs-keyword">value</span> + <span class="hljs-string">"','"</span> + notes_text.<span class="hljs-keyword">value</span> + <span class="hljs-string">"','"</span> + ThirdParty_text.<span class="hljs-keyword">value</span> + <span class="hljs-string">"','"</span> + Platform_text.<span class="hljs-keyword">value</span> + <span class="hljs-string">"' "</span> +
                <span class="hljs-string">" ,'"</span> + Crosscharge_text.<span class="hljs-keyword">value</span> + <span class="hljs-string">"','"</span> + Costcenter_text.<span class="hljs-keyword">value</span> + <span class="hljs-string">"','"</span> + Travelreq_text.<span class="hljs-keyword">value</span> + <span class="hljs-string">"','"</span> + Travelexp_text.<span class="hljs-keyword">value</span> + <span class="hljs-string">"','"</span> + Dealval_text.<span class="hljs-keyword">value</span> + <span class="hljs-string">"' "</span> +
                <span class="hljs-string">" ,'"</span> + interactiondate_text.<span class="hljs-keyword">value</span> + <span class="hljs-string">"','"</span> + srnum_text.<span class="hljs-keyword">value</span> + <span class="hljs-string">"')"</span>;
    <span class="hljs-keyword">var</span> row = db.execute(Qry);
    db.close();
    <span class="hljs-keyword">var</span> db = Titanium.Database.open(<span class="hljs-string">'insertDB'</span>);
    Ti.API.info(<span class="hljs-string">'Query Executed'</span>);
    <span class="hljs-keyword">var</span> selectQry = <span class="hljs-string">" SELECT CustomerName,Focus,InteractionType,InteractionMethod,Summary,CustomerSiteId,EMCContacts,"</span> +
                <span class="hljs-string">" CustomerContacts,ProductOrg,ProductName,Feature,Notes,ThirdParty,Platform,CrossCharged,CostCenter,"</span> +
                <span class="hljs-string">" TravelRequirement,TravelExpenditure,DealValue,InteractionDate,SRNumber from InteractionType"</span>;
    <span class="hljs-keyword">var</span> rows2 = db.execute(selectQry);
    <span class="hljs-keyword">while</span>(rows2.isValidRow()) {
        Ti.API.info(<span class="hljs-string">'-------CustomerName :'</span> + rows2.fieldByName(<span class="hljs-string">'CustomerName'</span>));
        Ti.API.info(<span class="hljs-string">'-------Focus :'</span> + rows2.fieldByName(<span class="hljs-string">'Focus'</span>));
        Ti.API.info(<span class="hljs-string">'-------InteractionType :'</span> + rows2.fieldByName(<span class="hljs-string">'InteractionType'</span>));
        Ti.API.info(<span class="hljs-string">'-------InteractionMethod :'</span> + rows2.fieldByName(<span class="hljs-string">'InteractionMethod'</span>));
        Ti.API.info(<span class="hljs-string">'-------Summary :'</span> + rows2.fieldByName(<span class="hljs-string">'Summary'</span>));
        Ti.API.info(<span class="hljs-string">'-------CustomerSiteId :'</span> + rows2.fieldByName(<span class="hljs-string">'CustomerSiteId'</span>));
        Ti.API.info(<span class="hljs-string">'-------EMCContacts :'</span> + rows2.fieldByName(<span class="hljs-string">'EMCContacts'</span>));
        Ti.API.info(<span class="hljs-string">'-------CustomerContacts :'</span> + rows2.fieldByName(<span class="hljs-string">'CustomerContacts'</span>));
        Ti.API.info(<span class="hljs-string">'-------ProductOrg :'</span> + rows2.fieldByName(<span class="hljs-string">'ProductOrg'</span>));
        Ti.API.info(<span class="hljs-string">'-------ProductName :'</span> + rows2.fieldByName(<span class="hljs-string">'ProductName'</span>));
        rows2.next();        
    }
    db.close();
    alert(<span class="hljs-string">'Data Submitted Successfully'</span>);
    intReset();proReset();cusReset();notesReset();
    interactiondate_text.<span class="hljs-keyword">value</span> = <span class="hljs-string">''</span>;
    my_combo.<span class="hljs-keyword">value</span> = <span class="hljs-string">''</span>;
    my_combo1.<span class="hljs-keyword">value</span> = <span class="hljs-string">''</span>;
    win4.hide();
    Interaction_but.borderColor = <span class="hljs-string">'transparent'</span>; win.add(Interaction_but);
    Interaction_but.enabled = <span class="hljs-keyword">false</span>;    
    Customerdetails_but.enabled = <span class="hljs-keyword">false</span>;
    Productdetails_but.enabled = <span class="hljs-keyword">false</span>;
    Notes_summary_but.enabled = <span class="hljs-keyword">false</span>;
    Interaction_but.borderColor = <span class="hljs-string">'transparent'</span>;
    Productdetails_but.borderColor = <span class="hljs-string">'transparent'</span>;
    Customerdetails_but.borderColor = <span class="hljs-string">'transparent'</span>;
    Notes_summary_but.borderColor = <span class="hljs-string">'transparent'</span>;
    win.remove(Submit_but); win.remove(Reset_but1); win.remove(prevbut); win.remove(nextbut);
    }

})
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="April 3rd 2012, 7:51:09 am">April 3rd 2012</span>
								by <span class='authorname'>Mitul Bhalia</span><br>
								<a class="icon-bg icon-link" href="question/134842/database-locked#answer-235109" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>It&#39;s not working am getting the same error</p>
<pre><code class="hljs">[WARN] Exception in event callback. {
    line = 102<span class="hljs-comment">;</span>
    message = "Error occurred calling next on a PLSqliteResultSet. SQLite error: 'database is locked' for 'delete from InteractionType where CustomerName=\"Kuf\"'"<span class="hljs-comment">;</span>
    sourceId = <span class="hljs-number">239083168</span><span class="hljs-comment">;</span>
    sourceURL = "file://localhost/Users/Admin/Library/Application%20Support/iPhone%20Simulator/5.0/Applications/0808CF22-E7D0-46BA-A41C-CB<span class="hljs-number">35564C1B97</span>/test.app/files/Info.js"<span class="hljs-comment">;</span>
}
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="April 3rd 2012, 7:59:06 am">April 3rd 2012</span>
											by <span class='authorname'>anand jh</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-235118">
				
						<section>
							<p>This is my app.js</p>
<pre><code class="hljs"><span class="hljs-comment">// this sets the background color of the master UIView (when there are no windows/tab groups on it)</span>
Titanium.UI.setBackgroundColor(<span class="hljs-string">'white'</span>);


<span class="hljs-keyword">var</span> inte = <span class="hljs-number">0</span>, prod =<span class="hljs-number">0</span>, cust =<span class="hljs-number">0</span>, notes =<span class="hljs-number">0</span>, head  =<span class="hljs-number">0</span>, keyboard=<span class="hljs-string">''</span>, tableapp1 = <span class="hljs-literal">false</span>; tableapp2 = <span class="hljs-literal">false</span>;;
<span class="hljs-keyword">var</span> id = []; <span class="hljs-keyword">var</span> pwd = [];

    Ti.<span class="hljs-keyword">include</span>(<span class="hljs-string">'/files/Interaction.js'</span>);   <span class="hljs-comment">// Includes Interaction.js to the click event</span>
    Ti.<span class="hljs-keyword">include</span>(<span class="hljs-string">'/files/Product.js'</span>);   <span class="hljs-comment">// Includes Product.js to the click event</span>
    Ti.<span class="hljs-keyword">include</span>(<span class="hljs-string">'/files/CustomerDetails.js'</span>);   <span class="hljs-comment">// Includes CustomerDetails.js to the click event</span>
    Ti.<span class="hljs-keyword">include</span>(<span class="hljs-string">'/files/Notes.js'</span>)   <span class="hljs-comment">// Includes Notes.js to the click event</span>
    Ti.<span class="hljs-keyword">include</span>(<span class="hljs-string">'/files/Info.js'</span>)   <span class="hljs-comment">// Includes Info button.js to the click event</span>
    Ti.<span class="hljs-keyword">include</span>(<span class="hljs-string">'/files/Authenticate.js'</span>)
<span class="hljs-keyword">var</span> db = Titanium.Database.install(<span class="hljs-string">'Interaction.sqlite3'</span>,<span class="hljs-string">'insertDB'</span>);
db.close();
<span class="hljs-keyword">var</span> win = Titanium.UI.createWindow({
    backgroundColor:<span class="hljs-string">'white'</span>,
    navBarHidden:<span class="hljs-literal">true</span>,
    backgroundImage:<span class="hljs-string">'/Images/emc.png'</span>,
    <span class="hljs-comment">//modal : true,</span>
    <span class="hljs-comment">//modalTransitionStyle: Ti.UI.iPhone.MODAL_TRANSITION_STYLE_FLIP_HORIZONTAL,</span>
    <span class="hljs-comment">//modalStyle: Ti.UI.iPhone.MODAL_PRESENTATION_FORMSHEET</span>
});
<span class="hljs-keyword">var</span> wid=Ti.Platform.displayCaps.platformWidth;
    <span class="hljs-keyword">var</span> hei=Ti.Platform.displayCaps.platformHeight;
    Ti.API.info(<span class="hljs-string">'Width : '</span>+wid);
    Ti.API.info(<span class="hljs-string">'Height : '</span>+hei);

<span class="hljs-keyword">var</span> top_heading = Ti.UI.createView({

    backgroundImage:<span class="hljs-string">'/Images/newemc.png'</span>,
    height:<span class="hljs-number">0.0625</span>*hei,
    left:<span class="hljs-number">0</span>,
    right:<span class="hljs-number">0</span>,
    top:<span class="hljs-number">0</span>
});

<span class="hljs-keyword">var</span> tab_heading = Ti.UI.createView({

    backgroundImage:<span class="hljs-string">'/Images/nav.png'</span>,
    height:<span class="hljs-number">0.0625</span>*hei,
    left:<span class="hljs-number">0</span>,
    right:<span class="hljs-number">0</span>,
    top:<span class="hljs-number">0.0625</span>*hei
});

<span class="hljs-keyword">var</span> tab_heading1 = Ti.UI.createView({

    backgroundImage:<span class="hljs-string">'/Images/nav.png'</span>,
    height:<span class="hljs-number">0.0729</span>*hei,
    left:<span class="hljs-number">0</span>,
    right:<span class="hljs-number">0</span>,
    top:<span class="hljs-number">0.125</span>*hei
});

<span class="hljs-keyword">var</span> bottom_heading = Ti.UI.createView({

    backgroundImage:<span class="hljs-string">'/Images/nav.png'</span>,
    height:<span class="hljs-number">0.0625</span>*hei,
    left:<span class="hljs-number">0</span>,
    right:<span class="hljs-number">0</span>,
    bottom:<span class="hljs-number">0</span>
});

<span class="hljs-keyword">var</span> heading_label = Ti.UI.createLabel({
    top:<span class="hljs-number">0.00625</span>*hei,
    text:<span class="hljs-string">'          ESD Customer Interactions'</span>,
    textAlign:<span class="hljs-string">'center'</span>,
    color:<span class="hljs-string">'white'</span>,
    font:{
        fontSize:<span class="hljs-number">0.0375</span>*hei,
        fontStyle:<span class="hljs-string">'bold'</span>
    }
});

top_heading.add(heading_label);

<span class="hljs-keyword">var</span> settings_but = Titanium.UI.createButton({
    bottom:<span class="hljs-number">0</span>,
    left:<span class="hljs-number">0</span>,
    backgroundImage:<span class="hljs-string">'/Images/setting.png'</span>,
    width:<span class="hljs-number">50</span>,
    height:<span class="hljs-number">0.0625</span>*hei
});

<span class="hljs-keyword">var</span> info_but = Titanium.UI.createButton({
    bottom:<span class="hljs-number">0</span>,
    right:<span class="hljs-number">0</span>,
    backgroundImage:<span class="hljs-string">'/Images/info_lastpix.png'</span>,
    width:<span class="hljs-number">0.125</span>*wid,
    height:<span class="hljs-number">0.0625</span>*hei
})

<span class="hljs-keyword">var</span> loginWin = Titanium.UI.createWindow({
    <span class="hljs-comment">//modal : true,</span>
    <span class="hljs-comment">//backgroundColor:'transparent',</span>
    <span class="hljs-comment">//backgroundImage:'/Images/cloud.png'</span>
});

<span class="hljs-keyword">var</span> w = Titanium.UI.createView({

    height:<span class="hljs-number">195</span>,
    width:<span class="hljs-number">300</span>,
    backgroundImage:<span class="hljs-string">'/Images/emcw.png'</span>,
            backgroundColor:<span class="hljs-string">'transparent'</span>,
            borderWidth:<span class="hljs-number">1</span>,
            borderRadius:<span class="hljs-number">0.050</span>*hei,
            title:<span class="hljs-string">'Login'</span>,
            borderColor:<span class="hljs-string">'#0099CC'</span>,
            left:<span class="hljs-number">0.0625</span>*hei,
            right:<span class="hljs-number">0.0625</span>*hei,
            top:<span class="hljs-number">0.3125</span>*hei,
            bottom:<span class="hljs-number">0.3125</span>*hei,
            layout:<span class="hljs-string">'vertical'</span>,

        });

<span class="hljs-keyword">var</span> login_label= Titanium.UI.createLabel({
    text:<span class="hljs-string">'Login ID'</span>,
    backgroundColor:<span class="hljs-string">'transparent'</span>,
    color:<span class="hljs-string">'#0099CC'</span>,
    height:<span class="hljs-number">0.0625</span>*hei,
    top:<span class="hljs-number">0.04375</span>*hei,
    left:<span class="hljs-number">10</span>,
    font:{
        fontSize:<span class="hljs-number">0.025</span>*hei,
        fontStyle:<span class="hljs-string">'bold'</span>
    }
});

<span class="hljs-keyword">var</span> loginid_text = Titanium.UI.createTextField({
    editable:<span class="hljs-string">'true'</span>,
    top:-<span class="hljs-number">0.05625</span>*hei,
    left:<span class="hljs-number">0.1875</span>*hei,
    right:<span class="hljs-number">0.075</span>*hei,
    height:<span class="hljs-number">0.0625</span>*hei,
    color:<span class="hljs-string">'black'</span>,
    paddingLeft:<span class="hljs-number">0.0125</span>*hei,
    borderWidth:<span class="hljs-number">0.0002</span>*wid,
    borderRadius:<span class="hljs-number">0.01875</span>*hei,
    width:<span class="hljs-number">0.625</span>*wid,
    hintText:<span class="hljs-string">'Required'</span>,
    font:{fontSize:<span class="hljs-number">0.025</span>*hei},
    keyboardType:Titanium.UI.KEYBOARD_DEFAULT,
    returnKeyType:Titanium.UI.RETURNKEY_DEFAULT,
    borderStyle:Titanium.UI.INPUT_BORDERSTYLE_ROUNDED,
    clearButtonMode :Titanium.UI.INPUT_BUTTONMODE_ALWAYS
});

<span class="hljs-keyword">var</span> pwd_label= Titanium.UI.createLabel({
    text:<span class="hljs-string">'Password'</span>,
    backgroundColor:<span class="hljs-string">'transparent'</span>,
    color:<span class="hljs-string">'#0099CC'</span>,
    height:<span class="hljs-number">0.0625</span>*hei,
    top:<span class="hljs-number">0.025</span>*hei,
    left:<span class="hljs-number">10</span>,
    font:{
        fontSize:<span class="hljs-number">0.025</span>*hei,
        fontStyle:<span class="hljs-string">'bold'</span>
    }
});

<span class="hljs-keyword">var</span> pwd_text = Titanium.UI.createTextField({
    editable:<span class="hljs-string">'true'</span>,
    top:-<span class="hljs-number">0.05375</span>*hei,
    left:<span class="hljs-number">0.1875</span>*hei,
    right:<span class="hljs-number">0.075</span>*hei,
    height:<span class="hljs-number">0.0625</span>*hei,
    color:<span class="hljs-string">'black'</span>,
    paddingLeft:<span class="hljs-number">0.0125</span>*hei,
    passwordMask:<span class="hljs-literal">true</span>,
    borderWidth:<span class="hljs-number">0.0002</span>*wid,
    borderRadius:<span class="hljs-number">0.01875</span>*hei,
    width:<span class="hljs-number">0.625</span>*wid,
    hintText:<span class="hljs-string">'Required'</span>,
    font:{fontSize:<span class="hljs-number">0.025</span>*hei},
    keyboardType:Titanium.UI.KEYBOARD_DEFAULT,
    returnKeyType:Titanium.UI.RETURNKEY_DEFAULT,
    borderStyle:Titanium.UI.INPUT_BORDERSTYLE_ROUNDED,
    clearButtonMode :Titanium.UI.INPUT_BUTTONMODE_ALWAYS
});

<span class="hljs-keyword">var</span> remember_button = Titanium.UI.createButton({
    top:<span class="hljs-number">0.03125</span>*hei,
    left : <span class="hljs-number">0.0208</span>*hei,
    backgroundImage:<span class="hljs-string">'/Images/1702/check.png'</span>,
    height : <span class="hljs-number">20</span>,
    width : <span class="hljs-number">20</span>
});


<span class="hljs-keyword">var</span> remember_label = Titanium.UI.createLabel({
    top:-<span class="hljs-number">0.0416</span>*hei,
    <span class="hljs-comment">//left : 0.0520*hei,</span>
    left : <span class="hljs-number">50</span>,
    height : <span class="hljs-number">20</span>,
    text : <span class="hljs-string">'Remember me'</span>,
    font : {fontSize : <span class="hljs-number">12</span>}
});

<span class="hljs-keyword">var</span> login_but = Titanium.UI.createButton({
    top:<span class="hljs-number">0.07375</span>*hei,
    left:<span class="hljs-number">70</span>,
    color:<span class="hljs-string">'white'</span>,
    height:<span class="hljs-number">0.05</span>*hei,
    width:<span class="hljs-number">0.2083</span>*wid,
    backgroundImage:<span class="hljs-string">'/Images/loginbut.png'</span>,
    font:{fontSize:<span class="hljs-number">0.025</span>*hei}
});

<span class="hljs-keyword">var</span> clear_but = Titanium.UI.createButton({
    top:-<span class="hljs-number">0.05125</span>*hei,
    left:<span class="hljs-number">160</span>,
    color:<span class="hljs-string">'white'</span>,
    height:<span class="hljs-number">0.05</span>*hei,
    width:<span class="hljs-number">0.2083</span>*wid,
    backgroundImage:<span class="hljs-string">'/Images/clearbut.png'</span>,
    font:{fontSize:<span class="hljs-number">0.025</span>*hei}
});

<span class="hljs-keyword">var</span> rem =<span class="hljs-number">0</span>;

info_but.addEventListener(<span class="hljs-string">'click'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>
</span>{

 <span class="hljs-keyword">var</span> db = Titanium.Database.install(<span class="hljs-string">'Interaction.sqlite3'</span>,<span class="hljs-string">'insertDB'</span>);
 <span class="hljs-keyword">var</span> db = Titanium.Database.open(<span class="hljs-string">'insertDB'</span>);
 <span class="hljs-keyword">var</span> db = db.execute(<span class="hljs-string">'SELECT count(*) FROM InteractionType'</span>);
 <span class="hljs-comment">//Ti.API.info('&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;??????????????////////////////'+db.length);</span>
    <span class="hljs-comment">//win.add(infoWin);</span>
    infoWin.open();
});

settings_but.addEventListener(<span class="hljs-string">'click'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>
</span>{
    win.opacity = <span class="hljs-number">0.4</span>;
    <span class="hljs-keyword">if</span>(rem==<span class="hljs-number">0</span>)
    {
        <span class="hljs-keyword">var</span> db = Titanium.Database.install(<span class="hljs-string">'CIT-Meta.sqlite3'</span>,<span class="hljs-string">'loginInfoDB'</span>);
        Ti.API.info(<span class="hljs-string">'db installed'</span>);
        <span class="hljs-keyword">var</span> db = Titanium.Database.open(<span class="hljs-string">'loginInfoDB'</span>);
        <span class="hljs-keyword">var</span> rows2 = db.execute(<span class="hljs-string">'SELECT LoginId,Password FROM LoginInfo where rowid=1'</span>);
        <span class="hljs-keyword">while</span>(rows2.isValidRow()) 
        {
            Ti.API.info(<span class="hljs-string">'-------LoginId :'</span> +rows2.fieldByName(<span class="hljs-string">'LoginId'</span>));
            Ti.API.info(<span class="hljs-string">'-------Password :'</span> +rows2.fieldByName(<span class="hljs-string">'Password'</span>));
            loginid_text.value = <span class="hljs-string">''</span>+rows2.fieldByName(<span class="hljs-string">'LoginId'</span>);
            pwd_text.value = <span class="hljs-string">''</span>+rows2.fieldByName(<span class="hljs-string">'Password'</span>);
            rows2.next();
        }
    }

    remember_button.addEventListener(<span class="hljs-string">'click'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>
    </span>{
        <span class="hljs-keyword">switch</span>(rem)
        {
            <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:
                    Ti.API.info(<span class="hljs-string">'case 0'</span>);
                    remember_button.backgroundImage=<span class="hljs-string">'/Images/1702/uncheck.png'</span>;
                    rem = <span class="hljs-number">1</span>;
                    <span class="hljs-keyword">break</span>;

            <span class="hljs-keyword">case</span> <span class="hljs-number">1</span>:
                    Ti.API.info(<span class="hljs-string">'case 1'</span>);
                    remember_button.backgroundImage=<span class="hljs-string">'/Images/1702/check.png'</span>;
                    rem = <span class="hljs-number">0</span>;
                    <span class="hljs-keyword">break</span>;
        }        
    });
    loginWin.open();
});

w.add(login_label);
w.add(loginid_text);
w.add(pwd_label);
w.add(pwd_text);
w.add(remember_button);
w.add(remember_label);
w.add(login_but);
w.add(clear_but);
loginWin.add(w);


clear_but.addEventListener(<span class="hljs-string">'click'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span></span>{
    Ti.API.info(<span class="hljs-string">'clear button called'</span>);
    loginid_text.value = <span class="hljs-string">''</span>;
    pwd_text.value = <span class="hljs-string">''</span>;
});


<span class="hljs-comment">/*if( (username.value == "") || (password.value == "") ){

                Titanium.UI.createAlertDialog({
                    title:'Text Fields',
                    message:'You must enter a value in both fields.'
                }).show();  

    }else{*/</span>

 loginid_text.addEventListener(<span class="hljs-string">'focus'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span></span>{
     loginid_text.borderColor = <span class="hljs-string">'#6cc2fb'</span>;
     loginKey = <span class="hljs-string">'a'</span>;
 })

 loginid_text.addEventListener(<span class="hljs-string">'blur'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span></span>{
     loginid_text.borderColor = <span class="hljs-string">''</span>;
     loginblur();
 })

  pwd_text.addEventListener(<span class="hljs-string">'focus'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span></span>{
     pwd_text.borderColor = <span class="hljs-string">'#6cc2fb'</span>;
     loginKey = <span class="hljs-string">'b'</span>;
 })

 pwd_text.addEventListener(<span class="hljs-string">'blur'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span></span>{
     pwd_text.borderColor = <span class="hljs-string">''</span>;
     loginblur();
 })

<span class="hljs-keyword">var</span>  loginKey = <span class="hljs-string">''</span>;    
loginWin.addEventListener(<span class="hljs-string">'click'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>
</span>{
    loginblur();
});

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">loginblur</span><span class="hljs-params">()</span>
</span>{

    <span class="hljs-keyword">if</span>( loginKey != <span class="hljs-string">''</span>)
    {
        <span class="hljs-keyword">switch</span>(loginKey)
        {
            <span class="hljs-keyword">case</span> <span class="hljs-string">'a'</span> : loginid_text.blur(); loginKey=<span class="hljs-string">''</span>; <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-string">'b'</span> : pwd_text.blur(); loginKey=<span class="hljs-string">''</span>; <span class="hljs-keyword">break</span>;

        }
    }
}
<span class="hljs-keyword">var</span> count =<span class="hljs-number">0</span>;
<span class="hljs-keyword">var</span> jsonResponse = Titanium.UI.createAlertDialog({
    <span class="hljs-comment">//message : this.responseText+'\n'+'Username :::'+loginid_text.value+'\n'+'Password:::'+pwd_text.value,</span>
    buttonNames : [<span class="hljs-string">'OK'</span>,<span class="hljs-string">'Cancel'</span>]
});

<span class="hljs-keyword">var</span> loginCheck = Titanium.UI.createAlertDialog({
    <span class="hljs-comment">//message : this.responseText+'\n'+'Username :::'+loginid_text.value+'\n'+'Password:::'+pwd_text.value,</span>
    buttonNames : [<span class="hljs-string">'OK'</span>,<span class="hljs-string">'Cancel'</span>]
});

login_but.addEventListener(<span class="hljs-string">'click'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>
</span>{
    win.opacity = <span class="hljs-number">1.0</span>;
    <span class="hljs-keyword">if</span>(rem == <span class="hljs-number">0</span>)
    {
        <span class="hljs-keyword">var</span> db = Titanium.Database.install(<span class="hljs-string">'CIT-Meta.sqlite3'</span>,<span class="hljs-string">'loginInfoDB'</span>);
        Ti.API.info(<span class="hljs-string">'db installed'</span>);
        <span class="hljs-keyword">var</span> db = Titanium.Database.open(<span class="hljs-string">'loginInfoDB'</span>);

        <span class="hljs-keyword">if</span>(loginid_text.value==<span class="hljs-string">''</span> || pwd_text.value== <span class="hljs-string">''</span>)
        {
            alert(<span class="hljs-string">'Enter Login ID and Password'</span>)
        }

            <span class="hljs-comment">//var Qry = "INSERT INTO LoginInfo(LoginId,Password) VALUES ('" + loginid_text.value + "','" + pwd_text.value + "')";</span>
            <span class="hljs-comment">//var row = db.execute(Qry);   </span>
         <span class="hljs-keyword">var</span> selectLogin = <span class="hljs-string">"SELECT LoginId,Password FROM LoginInfo where LoginId='"</span>+loginid_text.value+<span class="hljs-string">"'and Password ='"</span>+pwd_text.value+<span class="hljs-string">"'"</span>;
        <span class="hljs-keyword">var</span> rows2 = db.execute(selectLogin);
        <span class="hljs-comment">//Ti.API.info(rows2.isValidRow());</span>
<span class="hljs-comment">//        if(rows2.isValidRow()==0) </span>
<span class="hljs-comment">//        {    </span>
<span class="hljs-comment">//            alert('Login ID and Password does not match'); return false;    </span>
<span class="hljs-comment">//        }</span>
<span class="hljs-comment">//        else    </span>
<span class="hljs-comment">//        {</span>
            <span class="hljs-keyword">if</span>(loginid_text.value!=<span class="hljs-number">0</span> &amp;&amp; pwd_text.value!=<span class="hljs-number">0</span>)
            {
                <span class="hljs-keyword">if</span>(count==<span class="hljs-number">0</span>){
                    Ti.API.info(<span class="hljs-string">'Count ::::::::::::::::1 '</span>+count);
                checkUser();
                }<span class="hljs-keyword">else</span>{
                    Ti.API.info(<span class="hljs-string">'Count ::::::::::::::::'</span>+count);
                    loginWin.close();
                    checkUser();
                }
            }
<span class="hljs-comment">//        }</span>
    }

});

<span class="hljs-keyword">var</span> jsonObject;

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">checkUser</span><span class="hljs-params">()</span></span>{
    Ti.API.info(<span class="hljs-string">'..........&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;?????? : '</span>);
                <span class="hljs-keyword">var</span> xhr = Titanium.Network.createHTTPClient();

                <span class="hljs-comment">//xhr.open('POST', 'https://sso.emc.com/authRest/service/auth.json');</span>
                xhr.open(<span class="hljs-string">'POST'</span>, <span class="hljs-string">'aspx.html.rtf'</span>);
                <span class="hljs-keyword">var</span> params = 
                {  
                    username:<span class="hljs-string">''</span>+loginid_text.value,
                    password:<span class="hljs-string">''</span>+pwd_text.value 
                };

                xhr.send(); 
                xhr.onload = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> 
                </span>{
                    Ti.API.info(<span class="hljs-string">'..........&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;??????2 : '</span>);
                    Titanium.API.info(<span class="hljs-string">' Text: '</span> + <span class="hljs-keyword">this</span>.responseText);
                    Titanium.API.info(<span class="hljs-string">' Text: '</span> + <span class="hljs-keyword">this</span>.status);
                    jsonObject = JSON.parse(<span class="hljs-keyword">this</span>.responseText);
                    Ti.API.info(jsonObject.object.serviceFault.errorCode);
                    <span class="hljs-comment">//alert(this.responseText+'\n'+'Username :::'+loginid_text.value+'\n'+'Password:::'+pwd_text.value);</span>
                    jsonResponse.message = <span class="hljs-keyword">this</span>.responseText+<span class="hljs-string">'\n'</span>+<span class="hljs-string">'Username :::'</span>+loginid_text.value;
                    jsonResponse.show();
                }
                Ti.API.info(<span class="hljs-string">'..........&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;??????1 : '</span>);
}
<span class="hljs-keyword">var</span> errCount =<span class="hljs-number">0</span>;
jsonResponse.addEventListener(<span class="hljs-string">'click'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span>
    </span>{
        Ti.API.info(<span class="hljs-string">'count0 :::::::'</span>+count+<span class="hljs-string">':::::::'</span>+ errCount);
        Ti.API.info(e.index);
        <span class="hljs-keyword">if</span>(e.index == <span class="hljs-number">0</span>){
        Ti.API.info(<span class="hljs-string">'clicked Ok'</span>);
        loginWin.close();
        <span class="hljs-keyword">var</span> response = checkErrorCode(jsonObject.object.serviceFault.errorCode);
        Ti.API.info(<span class="hljs-string">'response :::::::'</span>+response);
        <span class="hljs-keyword">if</span>(count==<span class="hljs-number">0</span> &amp;&amp; response == <span class="hljs-literal">true</span>)
        {
            openMainPage();

            }<span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">if</span>(errCount ==<span class="hljs-number">0</span> || errCount ==<span class="hljs-number">1</span>){
                    Ti.API.info(<span class="hljs-string">'count1 :::::::'</span>+count+<span class="hljs-string">':::::::'</span>+ errCount);
                    loginCheck.message = <span class="hljs-string">'Login failed.'</span>+<span class="hljs-string">'\n'</span>+<span class="hljs-string">'ErrorCode : '</span>+jsonObject.object.serviceFault.errorCode+<span class="hljs-string">'\n'</span>+<span class="hljs-string">'Try again ?'</span>;
                    errCount++;
                    loginCheck.show();
                    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
                }<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(errCount == <span class="hljs-number">2</span>){
                    Ti.API.info(<span class="hljs-string">'count2 :::::::'</span>+count+<span class="hljs-string">':::::::'</span>+ errCount);
                    jsonResponse.message = <span class="hljs-string">'Login failed.'</span>+<span class="hljs-string">'\n'</span>+<span class="hljs-string">'Do you like to proceed anyway ?'</span>;
                    jsonResponse.show();
                    errCount++;
                    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
                }<span class="hljs-keyword">else</span>{
                    count = <span class="hljs-number">0</span>;
                    errCount =<span class="hljs-number">0</span>;
                    openMainPage();
                } 

                }
        }<span class="hljs-keyword">else</span>{
            Ti.API.info(<span class="hljs-string">'count3 :::::::'</span>+count+<span class="hljs-string">':::::::'</span>+ errCount);
            count =<span class="hljs-number">0</span>;
            <span class="hljs-keyword">if</span>(errCount &gt;<span class="hljs-number">2</span>){
                loginWin.open();
                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
            }<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(errCount &lt; <span class="hljs-number">2</span>)
            {
            loginWin.open();
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
            }<span class="hljs-keyword">else</span>{
                openMainPage();
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
            }
        }        
});

loginCheck.addEventListener(<span class="hljs-string">'click'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span></span>{
    <span class="hljs-keyword">if</span>(e.index ==<span class="hljs-number">0</span>){
        loginWin.open();
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    }<span class="hljs-keyword">else</span>
    {
        jsonResponse.message = <span class="hljs-string">'Login failed.'</span>+<span class="hljs-string">'\n'</span>+<span class="hljs-string">'Do you like to proceed anyway ?'</span>;
        Ti.API.info(<span class="hljs-string">'count4 :::::::'</span>+count+<span class="hljs-string">':::::::'</span>+ errCount);
        jsonResponse.show();
        errCount =<span class="hljs-number">3</span>;
    }
})

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">openMainPage</span><span class="hljs-params">()</span></span>{

    <span class="hljs-comment">//settings_but.enabled = 'false';</span>
    count++;

<span class="hljs-comment">/////////////////////////////////Interaction type and Interaction method////////////////////////////////////////////////////////////////</span>

    <span class="hljs-keyword">var</span> drop_button =  Titanium.UI.createButton({
        style:Titanium.UI.iPhone.SystemButton.DISCLOSURE,
        enabled : <span class="hljs-literal">true</span>,
        height:<span class="hljs-number">0.0625</span>*hei,
        width:<span class="hljs-number">0.4791</span>*wid,
        top:<span class="hljs-number">0.0625</span>*hei,
        right:<span class="hljs-number">4</span>
    });

    <span class="hljs-keyword">var</span> drop_button1 =  Titanium.UI.createButton({
        style:Titanium.UI.iPhone.SystemButton.DISCLOSURE,
        enabled : <span class="hljs-literal">true</span>,
        height:<span class="hljs-number">0.0625</span>*hei,
        width:<span class="hljs-number">0.4791</span>*wid,
        top:<span class="hljs-number">0.0625</span>*hei,
        left:<span class="hljs-number">128</span>,
    });

<span class="hljs-keyword">var</span> my_combo1 = Titanium.UI.createTextField
({
    hintText:<span class="hljs-string">"interaction method"</span>,
    height:<span class="hljs-number">0.0625</span>*hei,
    width:<span class="hljs-number">0.4791</span>*wid,
    top:<span class="hljs-number">0.0625</span>*hei,
    right:<span class="hljs-number">4</span>,
    font:{
            fontSize:<span class="hljs-number">0.0225</span>*hei
    },
    editable : <span class="hljs-literal">false</span>,
    <span class="hljs-comment">//enabled : false</span>
});

<span class="hljs-keyword">var</span> my_combo = Titanium.UI.createTextField
({
    hintText:<span class="hljs-string">"interaction type"</span>,
    height:<span class="hljs-number">0.0625</span>*hei,
    width:<span class="hljs-number">0.4791</span>*wid,
    top:<span class="hljs-number">0.0625</span>*hei,
    left:<span class="hljs-number">4</span>,
    font:{
            fontSize:<span class="hljs-number">0.0225</span>*hei
        },
    editable : <span class="hljs-literal">false</span>,
    <span class="hljs-comment">//enabled :false</span>
});
    my_combo1.borderStyle = Titanium.UI.INPUT_BORDERSTYLE_ROUNDED;
    my_combo1.rightButton = drop_button;    
    my_combo1.rightButtonMode = Titanium.UI.INPUT_BUTTONMODE_ALWAYS;

    <span class="hljs-keyword">var</span> data = [];
<span class="hljs-keyword">var</span> lab=Titanium.UI.createLabel({text:<span class="hljs-string">'Remote Interaction'</span>, font:{fontSize:<span class="hljs-number">12</span>},left:<span class="hljs-number">10</span>});
data[<span class="hljs-number">0</span>] = Ti.UI.createTableViewRow({
 foo : <span class="hljs-string">'Remote Interaction'</span>,
 sa:<span class="hljs-number">0</span>
});

data[<span class="hljs-number">0</span>].add(lab);data[<span class="hljs-number">0</span>].height=<span class="hljs-number">30</span>;
<span class="hljs-keyword">var</span> lab=Titanium.UI.createLabel({text:<span class="hljs-string">'EMC Conference'</span>, font:{fontSize:<span class="hljs-number">12</span>},left:<span class="hljs-number">10</span>});
data[<span class="hljs-number">1</span>] = Ti.UI.createTableViewRow({
 foo : <span class="hljs-string">'EMC Conference'</span>,sa:<span class="hljs-number">1</span>
});

data[<span class="hljs-number">1</span>].add(lab);data[<span class="hljs-number">1</span>].height=<span class="hljs-number">30</span>;
<span class="hljs-keyword">var</span> lab=Titanium.UI.createLabel({text:<span class="hljs-string">'Technical Conference'</span>, font:{fontSize:<span class="hljs-number">12</span>},left:<span class="hljs-number">10</span>});
data[<span class="hljs-number">2</span>] = Ti.UI.createTableViewRow({
 foo : <span class="hljs-string">'Technical Conference'</span>,sa:<span class="hljs-number">2</span>
});

data[<span class="hljs-number">2</span>].add(lab);data[<span class="hljs-number">2</span>].height=<span class="hljs-number">30</span>;
<span class="hljs-keyword">var</span> lab=Titanium.UI.createLabel({text:<span class="hljs-string">'TAP/FAB'</span>, font:{fontSize:<span class="hljs-number">12</span>},left:<span class="hljs-number">10</span>});
data[<span class="hljs-number">3</span>] = Ti.UI.createTableViewRow({
 foo : <span class="hljs-string">'TAB/FAB'</span>,sa:<span class="hljs-number">3</span>
});

data[<span class="hljs-number">3</span>].add(lab);data[<span class="hljs-number">3</span>].height=<span class="hljs-number">30</span>;
<span class="hljs-keyword">var</span> lab=Titanium.UI.createLabel({text:<span class="hljs-string">'Customer Visit'</span>, font:{fontSize:<span class="hljs-number">12</span>},left:<span class="hljs-number">10</span>});
data[<span class="hljs-number">4</span>] = Ti.UI.createTableViewRow({
foo : <span class="hljs-string">'Customer Visit'</span>,sa:<span class="hljs-number">4</span>
});

data[<span class="hljs-number">4</span>].add(lab);data[<span class="hljs-number">4</span>].height=<span class="hljs-number">30</span>;
<span class="hljs-keyword">var</span> tableview = Titanium.UI.createTableView({
 data : data,
 height : <span class="hljs-number">150</span>,
  width : <span class="hljs-number">152</span>, top : <span class="hljs-number">58</span>, left : <span class="hljs-number">5</span>,
 borderWidth:<span class="hljs-number">2</span>,
 borderColor:<span class="hljs-string">'#0099CC'</span>
})

<span class="hljs-keyword">var</span> tableview1 = Titanium.UI.createTableView({

  width : <span class="hljs-number">152</span>, top : <span class="hljs-number">58</span>, left : <span class="hljs-number">163</span>,
 borderWidth:<span class="hljs-number">2</span>,
  borderColor:<span class="hljs-string">'#0099CC'</span>
})

<span class="hljs-keyword">var</span> mycombKey = <span class="hljs-string">''</span>;

my_combo1.addEventListener(<span class="hljs-string">'focus'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>
</span>{ 
    mycombKey=<span class="hljs-string">'a'</span>;  
    <span class="hljs-keyword">if</span>(my_combo.value == <span class="hljs-string">''</span>)
    {    
        my_combo1.blur();
        alert(<span class="hljs-string">' please select interaction type'</span>);
    }
});

my_combo1.addEventListener(<span class="hljs-string">'blur'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>
</span>{ 
    <span class="hljs-keyword">var</span> combo1check = <span class="hljs-literal">false</span>;
    Ti.API.info(<span class="hljs-string">'.............&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; :'</span>+table1data.length);
    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i =<span class="hljs-number">0</span>; i&lt;table1data.length; i++)
    {

        Ti.API.info(<span class="hljs-string">'.............&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; :'</span>+i+<span class="hljs-string">' '</span>+table1data[i]+<span class="hljs-string">' '</span>+my_combo1.value+<span class="hljs-string">' '</span>+combo1check);
        <span class="hljs-keyword">if</span>(my_combo1.value.toLowerCase() == table1data[i].toLowerCase())
        {
            combo1check = <span class="hljs-literal">true</span>;    
            my_combo1.value = table1data[i];
            tbv1 = i;
        }
    }
    <span class="hljs-keyword">if</span>(my_combo1.value == <span class="hljs-string">''</span>)
        combo1check = <span class="hljs-literal">true</span>;

    <span class="hljs-keyword">if</span>(combo1check == <span class="hljs-literal">false</span>)    
    {    
        my_combo1.value = <span class="hljs-string">''</span>;
        alert(<span class="hljs-string">'Invalid Interaction Method'</span>);
        win.remove(scrollView);
        Interaction_but.borderColor = <span class="hljs-string">'transparent'</span>; win.add(Interaction_but);
        Interaction_but.enabled = <span class="hljs-literal">false</span>;    
        Customerdetails_but.enabled = <span class="hljs-literal">false</span>;
        Productdetails_but.enabled = <span class="hljs-literal">false</span>;
        Notes_summary_but.enabled = <span class="hljs-literal">false</span>;
        Interaction_but.borderColor = <span class="hljs-string">'transparent'</span>;
         Productdetails_but.borderColor = <span class="hljs-string">'transparent'</span>;
        Customerdetails_but.borderColor = <span class="hljs-string">'transparent'</span>;
        Notes_summary_but.borderColor = <span class="hljs-string">'transparent'</span>;
        win.remove(Submit_but); win.remove(Reset_but1); win.remove(prevbut); win.remove(nextbut);
    }
});

my_combo.addEventListener(<span class="hljs-string">'focus'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>
</span>{ 
    win.remove(tableview);
    win.remove(tableview1);
    <span class="hljs-keyword">if</span>(my_combo.value == <span class="hljs-string">''</span>){
        tableapp1 = <span class="hljs-literal">true</span>; 
         <span class="hljs-comment">//win.add(tableview);</span>
    }<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(customername_text.value == <span class="hljs-string">''</span> &amp;&amp; Focus_text.value == <span class="hljs-string">''</span> &amp;&amp; summary_text.value == <span class="hljs-string">''</span> &amp;&amp; customersiteid_text.value == <span class="hljs-string">''</span> &amp;&amp; emccontacts_text.value == <span class="hljs-string">''</span>
             &amp;&amp; customercontacts_text.value == <span class="hljs-string">''</span> &amp;&amp; productorg_text.value == <span class="hljs-string">''</span> &amp;&amp; productname_text.value == <span class="hljs-string">''</span> &amp;&amp; Feature_text.value == <span class="hljs-string">''</span> &amp;&amp; 
             notes_text.value == <span class="hljs-string">''</span> &amp;&amp; ThirdParty_text.value == <span class="hljs-string">''</span> &amp;&amp; Platform_text.value == <span class="hljs-string">''</span> &amp;&amp; Crosscharge_text.value == <span class="hljs-string">''</span> &amp;&amp;
             Costcenter_text.value == <span class="hljs-string">''</span> &amp;&amp; Travelreq_text.value == <span class="hljs-string">''</span> &amp;&amp; Travelexp_text.value == <span class="hljs-string">''</span> &amp;&amp; Dealval_text.value ==<span class="hljs-string">''</span> &amp;&amp;
             srnum_text.value == <span class="hljs-string">''</span>){
        tableapp1 = <span class="hljs-literal">true</span>; 
         <span class="hljs-comment">//win.add(tableview);</span>
    }<span class="hljs-keyword">else</span>{
        clearDialog.show();
    }
    mycombKey=<span class="hljs-string">'b'</span>;  
});

my_combo.addEventListener(<span class="hljs-string">'blur'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>
</span>{ 
    <span class="hljs-keyword">var</span> combocheck = <span class="hljs-literal">false</span>;
    <span class="hljs-keyword">var</span> combo = [<span class="hljs-string">'Remote Interaction'</span>, <span class="hljs-string">'EMC Conference'</span>, <span class="hljs-string">'Technical Conference'</span>, <span class="hljs-string">'TAB/FAB'</span>, <span class="hljs-string">'Customer Visit'</span>];
    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i =<span class="hljs-number">0</span>; i&lt;combo.length; i++)
    {

        Ti.API.info(<span class="hljs-string">'.............&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; :'</span>+i+<span class="hljs-string">' '</span>+combo[i]+<span class="hljs-string">' '</span>+my_combo.value+<span class="hljs-string">' '</span>+combocheck);
        <span class="hljs-keyword">if</span>(my_combo.value.toLowerCase() == combo[i].toLowerCase())
        {
            combocheck = <span class="hljs-literal">true</span>;    
            my_combo.value = combo[i];
            tbv1 = i;
            my_combo1.value = <span class="hljs-string">''</span>;
            intentmethod(tbv1);
        }
    }
    <span class="hljs-keyword">if</span>(my_combo.value == <span class="hljs-string">''</span>)
        combocheck = <span class="hljs-literal">true</span>;

    <span class="hljs-keyword">if</span>(combocheck == <span class="hljs-literal">false</span>)    
    {    
        my_combo.value = <span class="hljs-string">''</span>;
        my_combo1.value = <span class="hljs-string">''</span>;
        alert(<span class="hljs-string">'Invalid Interaction Type'</span>);
        win.remove(scrollView);
        Interaction_but.borderColor = <span class="hljs-string">'transparent'</span>; win.add(Interaction_but);
        Interaction_but.enabled = <span class="hljs-literal">false</span>;    
        Customerdetails_but.enabled = <span class="hljs-literal">false</span>;
        Productdetails_but.enabled = <span class="hljs-literal">false</span>;
        Notes_summary_but.enabled = <span class="hljs-literal">false</span>;
        Interaction_but.borderColor = <span class="hljs-string">'transparent'</span>;
         Productdetails_but.borderColor = <span class="hljs-string">'transparent'</span>;
        Customerdetails_but.borderColor = <span class="hljs-string">'transparent'</span>;
        Notes_summary_but.borderColor = <span class="hljs-string">'transparent'</span>;
        win.remove(Submit_but); win.remove(Reset_but1); win.remove(prevbut); win.remove(nextbut);
        win.add(tableview);
    }
});

<span class="hljs-keyword">var</span> i=<span class="hljs-number">1</span>,k=<span class="hljs-number">0</span>;

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">showClickEventInfo</span><span class="hljs-params">(e, islongclick)</span> 
</span>{
 <span class="hljs-comment">// event data</span>
 <span class="hljs-keyword">var</span> index = e.index;
 <span class="hljs-keyword">var</span> section = e.section;
 <span class="hljs-keyword">var</span> row = e.row;
 <span class="hljs-keyword">var</span> rowdata = e.rowData.foo;

 my_combo.value=rowdata;

 win.remove(tableview);
 tableapp1 = <span class="hljs-literal">false</span>;

     <span class="hljs-keyword">if</span>(k==<span class="hljs-number">1</span>)
     {
         win.remove(tableview1);
         tableapp2 = <span class="hljs-literal">false</span>;
     }
     i=<span class="hljs-number">1</span>;
     <span class="hljs-comment">//intentmethod(e.rowData.sa);</span>
     changeCustomerButton(my_combo.value);
     <span class="hljs-comment">//heading_label.text = 'Interaction';</span>
    <span class="hljs-comment">//scrollView.scrollToView(interactView);</span>
    <span class="hljs-comment">//hintSelect();</span>
}

 <span class="hljs-keyword">var</span> scrollCount = <span class="hljs-number">1</span>, tbv1;
 tableview.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span> 
 </span>{
     tbv1 = e.index;
    my_combo.value=e.rowData.foo;
    my_combo1.value=<span class="hljs-string">''</span>;
      <span class="hljs-comment">//showClickEventInfo(tbv1);</span>
    win.remove(tableview);
    tableapp1 = <span class="hljs-literal">false</span>;
    heading_label.text = <span class="hljs-string">'          ESD Customer Interactions'</span>;
    <span class="hljs-keyword">if</span>(scrollViewOpen == <span class="hljs-literal">true</span>)
    {
        scrolli=<span class="hljs-number">1</span>; pp =<span class="hljs-number">0</span>; cp =<span class="hljs-number">0</span>;
        scrollView.views = [interactView];
        win.remove(scrollView);
        Interaction_but.borderColor = <span class="hljs-string">'transparent'</span>; win.add(Interaction_but);
        Interaction_but.enabled = <span class="hljs-literal">false</span>;    
        Customerdetails_but.enabled = <span class="hljs-literal">false</span>;
        Productdetails_but.enabled = <span class="hljs-literal">false</span>;
        Notes_summary_but.enabled = <span class="hljs-literal">false</span>;
        Interaction_but.borderColor = <span class="hljs-string">'transparent'</span>;
         Productdetails_but.borderColor = <span class="hljs-string">'transparent'</span>;
        Customerdetails_but.borderColor = <span class="hljs-string">'transparent'</span>;
        Notes_summary_but.borderColor = <span class="hljs-string">'transparent'</span>;
        win.remove(Submit_but); win.remove(Reset_but1); win.remove(prevbut); win.remove(nextbut);
    }
    intentmethod(tbv1);
    <span class="hljs-comment">//scrollView.scrollToView(interactView);</span>

 });

<span class="hljs-keyword">var</span> clearDialog = Titanium.UI.createAlertDialog({
    message : <span class="hljs-string">'Changing interaction type will delete all filled details. Proceed ?'</span>,
    buttonNames : [<span class="hljs-string">'OK'</span>,<span class="hljs-string">'Cancel'</span>]
})
drop_button1.addEventListener(<span class="hljs-string">'click'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>
</span>{
    win.remove(tableview1);
    <span class="hljs-keyword">if</span>(my_combo.value == <span class="hljs-string">''</span>){
        tableapp1 = <span class="hljs-literal">true</span>; 
         win.add(tableview);
    }<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(customername_text.value == <span class="hljs-string">''</span> &amp;&amp; Focus_text.value == <span class="hljs-string">''</span> &amp;&amp; summary_text.value == <span class="hljs-string">''</span> &amp;&amp; customersiteid_text.value == <span class="hljs-string">''</span> &amp;&amp; emccontacts_text.value == <span class="hljs-string">''</span>
             &amp;&amp; customercontacts_text.value == <span class="hljs-string">''</span> &amp;&amp; productorg_text.value == <span class="hljs-string">''</span> &amp;&amp; productname_text.value == <span class="hljs-string">''</span> &amp;&amp; Feature_text.value == <span class="hljs-string">''</span> &amp;&amp; 
             notes_text.value == <span class="hljs-string">''</span> &amp;&amp; ThirdParty_text.value == <span class="hljs-string">''</span> &amp;&amp; Platform_text.value == <span class="hljs-string">''</span> &amp;&amp; Crosscharge_text.value == <span class="hljs-string">''</span> &amp;&amp;
             Costcenter_text.value == <span class="hljs-string">''</span> &amp;&amp; Travelreq_text.value == <span class="hljs-string">''</span> &amp;&amp; Travelexp_text.value == <span class="hljs-string">''</span> &amp;&amp; Dealval_text.value ==<span class="hljs-string">''</span> &amp;&amp;
             srnum_text.value == <span class="hljs-string">''</span>){
        tableapp1 = <span class="hljs-literal">true</span>; 
         win.add(tableview);
    }<span class="hljs-keyword">else</span>{
        clearDialog.show();
    }
});    

clearDialog.addEventListener(<span class="hljs-string">'click'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span>
</span>{
    Ti.API.info(e.index);
    <span class="hljs-keyword">if</span>(e.index == <span class="hljs-number">0</span>){
        Ti.API.info(<span class="hljs-string">'clicked Ok'</span>);
        win.remove(scrollView);
        intReset();proReset();cusReset();notesReset();
        tableapp1 = <span class="hljs-literal">true</span>; 
         win.add(tableview);
    }<span class="hljs-keyword">else</span>{

    }        
});

my_combo.borderStyle = Titanium.UI.INPUT_BORDERSTYLE_ROUNDED;
my_combo.rightButton = drop_button1;
my_combo.rightButtonMode = Titanium.UI.INPUT_BUTTONMODE_ALWAYS;


<span class="hljs-comment">/////////////////////////////////change customer button////////////////////////////////////////////////////////////////</span>

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">changeCustomerButton</span><span class="hljs-params">(type)</span></span>{

Ti.API.info(<span class="hljs-string">'change customer button function'</span>);

}

<span class="hljs-comment">/////////////////////////////////change customer button////////////////////////////////////////////////////////////////</span>
<span class="hljs-keyword">var</span> table1data = []; 
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">intentmethod</span><span class="hljs-params">(e)</span>
</span>{
    k=<span class="hljs-number">1</span>,z=<span class="hljs-number">0</span>;  <span class="hljs-keyword">var</span> data = []; table1data = []; 
    Ti.API.info(<span class="hljs-string">'intent : '</span>+e);
    <span class="hljs-keyword">try</span>
    {
        <span class="hljs-keyword">var</span> db = Titanium.Database.install(<span class="hljs-string">'CIT-Meta.sqlite3'</span>,<span class="hljs-string">'productDB'</span>);
        <span class="hljs-keyword">var</span> db = Titanium.Database.open(<span class="hljs-string">'productDB'</span>);
        <span class="hljs-keyword">var</span> qry=<span class="hljs-string">''</span>;

        <span class="hljs-keyword">if</span>(e==<span class="hljs-number">0</span>)
        {
            qry=<span class="hljs-string">'select riinfo from RemoteInteraction'</span>;
            <span class="hljs-keyword">var</span> rows=db.execute(qry);
            <span class="hljs-keyword">while</span>(rows.isValidRow())
            {
                labtext=rows.fieldByName(<span class="hljs-string">'riinfo'</span>);      
                <span class="hljs-keyword">var</span> lab=Titanium.UI.createLabel({text:labtext, font:{fontSize:<span class="hljs-number">12</span>},left:<span class="hljs-number">10</span>});
                data[z] = Ti.UI.createTableViewRow
                ({
                    foo : labtext,
                    sa:z
                });

                 data[z].add(lab);data[z].height=<span class="hljs-number">30</span>;
                 table1data[z] = rows.fieldByName(<span class="hljs-string">'riinfo'</span>);
                 z++;
                 rows.next();

            }
            tableview1.height=<span class="hljs-number">90</span>;
        }


        <span class="hljs-keyword">if</span>(e==<span class="hljs-number">1</span>)
        {
            qry=<span class="hljs-string">'select ccinfo from companyconference'</span>;
            <span class="hljs-keyword">var</span> rows=db.execute(qry);
            <span class="hljs-keyword">while</span>(rows.isValidRow())
            {
                labtext=rows.fieldByName(<span class="hljs-string">'ccinfo'</span>);
                <span class="hljs-keyword">var</span> lab=Titanium.UI.createLabel({text:labtext, font:{fontSize:<span class="hljs-number">12</span>},left:<span class="hljs-number">10</span>});
                data[z] = Ti.UI.createTableViewRow(
                    {
                        foo : labtext,
                        sa:z
                    });
                 data[z].add(lab);data[z].height=<span class="hljs-number">30</span>;
                 table1data[z] = rows.fieldByName(<span class="hljs-string">'ccinfo'</span>);
                z++;
                 rows.next();
            }
            tableview1.height=<span class="hljs-number">118</span>;
        }


        <span class="hljs-keyword">if</span>(e==<span class="hljs-number">2</span>)
        {
            qry=<span class="hljs-string">'select tcinfo from Techconference'</span>;
            <span class="hljs-keyword">var</span> rows=db.execute(qry);
            <span class="hljs-keyword">while</span>(rows.isValidRow())
            {
                labtext=rows.fieldByName(<span class="hljs-string">'tcinfo'</span>);
                <span class="hljs-keyword">var</span> lab=Titanium.UI.createLabel({text:labtext, font:{fontSize:<span class="hljs-number">12</span>},left:<span class="hljs-number">10</span>});
                data[z] = Ti.UI.createTableViewRow(
                    {
                        foo : labtext,
                        sa:z
                    });
                 data[z].add(lab);data[z].height=<span class="hljs-number">30</span>;
                 table1data[z] = rows.fieldByName(<span class="hljs-string">'tcinfo'</span>);
                 z++;
                 rows.next();
            }
            tableview1.height=<span class="hljs-number">180</span>;
        }


        <span class="hljs-keyword">if</span>(e==<span class="hljs-number">3</span>)
        {
            qry=<span class="hljs-string">'select tfinfo from Tabfab'</span>;
            <span class="hljs-keyword">var</span> rows=db.execute(qry);
            <span class="hljs-keyword">while</span>(rows.isValidRow())
            {
                labtext=rows.fieldByName(<span class="hljs-string">'tfinfo'</span>);
                <span class="hljs-keyword">var</span> lab=Titanium.UI.createLabel({text:labtext, font:{fontSize:<span class="hljs-number">12</span>},left:<span class="hljs-number">10</span>});
                data[z] = Ti.UI.createTableViewRow(
                    {
                        foo : labtext,
                        sa:z
                    });
                 data[z].add(lab);data[z].height=<span class="hljs-number">30</span>;
                 table1data[z] = rows.fieldByName(<span class="hljs-string">'tfinfo'</span>);
                 z++;
                 rows.next();
            }
            tableview1.height=<span class="hljs-number">62</span>;
        }

        <span class="hljs-keyword">if</span>(e==<span class="hljs-number">4</span>)
        {
            qry=<span class="hljs-string">'select cvinfo from Customervisit'</span>;
            <span class="hljs-keyword">var</span> rows=db.execute(qry);
            <span class="hljs-keyword">while</span>(rows.isValidRow())
            {
                labtext=rows.fieldByName(<span class="hljs-string">'cvinfo'</span>);
                <span class="hljs-keyword">var</span> lab=Titanium.UI.createLabel({text:labtext, font:{fontSize:<span class="hljs-number">12</span>},left:<span class="hljs-number">10</span>});
                data[z] = Ti.UI.createTableViewRow(
                    {
                        foo : labtext,
                        sa:z
                    });
                 data[z].add(lab);data[z].height=<span class="hljs-number">30</span>;
                 table1data[z] = rows.fieldByName(<span class="hljs-string">'cvinfo'</span>);
                 z++;
                 rows.next();
            }
            tableview1.height=<span class="hljs-number">120</span>;
        }

tableview1.data=data;

}    <span class="hljs-comment">// end try</span>

<span class="hljs-keyword">catch</span>(error)
{
    Titanium.API.error(<span class="hljs-string">"ERROR FROM DATABASE : "</span>+error);
}
}

win.remove(tableview1);
tableapp2 = <span class="hljs-literal">false</span>;

<span class="hljs-keyword">var</span> j=<span class="hljs-number">1</span>,rowdata1=<span class="hljs-string">''</span>;

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">showClickEvent</span><span class="hljs-params">(e)</span> 
</span>{
     <span class="hljs-keyword">var</span> index = e.index;
     <span class="hljs-keyword">var</span> section = e.section;
     <span class="hljs-keyword">var</span> row = e.row;

      rowdata1 = e.rowData.foo;
     my_combo1.value=rowdata1;
     win.remove(tableview1);
     tableapp2 = <span class="hljs-literal">false</span>;
     j=<span class="hljs-number">1</span>;
}

<span class="hljs-keyword">var</span> scrollViewOpen = <span class="hljs-literal">false</span>;
<span class="hljs-comment">//my_combo1.value=data[0].foo;</span>
tableview1.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e1)</span> 
</span>{
    my_combo1.value = e1.rowData.foo;
    win.remove(tableview1);
    tableapp2 = <span class="hljs-literal">false</span>;
      <span class="hljs-comment">//showClickEvent(e);</span>
     win.remove(Submit_but); win.add(Reset_but1); win.remove(prevbut); win.add(nextbut);
     Customerdetails_but.enabled = <span class="hljs-literal">false</span>;
    Productdetails_but.enabled = <span class="hljs-literal">false</span>;
    Notes_summary_but.enabled = <span class="hljs-literal">false</span>;
    Productdetails_but.borderColor = <span class="hljs-string">'transparent'</span>; win.add(Productdetails_but);
    Customerdetails_but.borderColor = <span class="hljs-string">'transparent'</span>; win.add(Customerdetails_but);
    Notes_summary_but.borderColor = <span class="hljs-string">'transparent'</span>; win.add(Notes_summary_but);
     scrollCount = <span class="hljs-number">1</span>;
      <span class="hljs-keyword">if</span>(tbv1 == <span class="hljs-number">4</span>)
      {
        <span class="hljs-comment">//scrollView.views = [interactView,win2,win3,win4];</span>
        heading_label.text = <span class="hljs-string">'Interaction'</span>;
        Interaction_but.borderColor = <span class="hljs-string">'#6cc2fb'</span>; win.add(Interaction_but);
        Interaction_but.enabled = <span class="hljs-literal">true</span>;    
        <span class="hljs-comment">//Customerdetails_but.enabled = false;    </span>
        <span class="hljs-comment">//Productdetails_but.enabled = false;</span>
        <span class="hljs-comment">//Notes_summary_but.enabled = false;</span>
        scrollView.views = [interactView];
        win.add(scrollView);
        scrollViewOpen = <span class="hljs-literal">true</span>;
        head = <span class="hljs-number">1</span>;
    }
    <span class="hljs-keyword">else</span>
    {
        heading_label.text = <span class="hljs-string">'Interaction'</span>;
        Interaction_but.borderColor = <span class="hljs-string">'#6cc2fb'</span>; win.add(Interaction_but);
        Interaction_but.enabled = <span class="hljs-literal">true</span>;    
        Customerdetails_but.enabled = <span class="hljs-literal">false</span>;
        Productdetails_but.enabled = <span class="hljs-literal">false</span>;
        Notes_summary_but.enabled = <span class="hljs-literal">false</span>;
        <span class="hljs-comment">//scrollView.currentPage=interactView;</span>
        <span class="hljs-comment">//scrollView.views = [interactView,win2,win4];    </span>
        scrollView.views = [interactView];
        win.add(scrollView);
        scrollViewOpen = <span class="hljs-literal">true</span>;
        head = <span class="hljs-number">0</span>;
    }
    hintSelect();
});



drop_button.addEventListener(<span class="hljs-string">'click'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>
</span>{
    <span class="hljs-comment">//showClickEvent();</span>
    win.remove(tableview);
    <span class="hljs-keyword">if</span>(my_combo.value != <span class="hljs-string">''</span>)
    {    
        <span class="hljs-comment">//intentmethod(tbv1);</span>
        win.add(tableview1);
        tableapp2 = <span class="hljs-literal">true</span>;
    } <span class="hljs-keyword">else</span> { alert(<span class="hljs-string">' please select interaction type'</span>); <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>; }

    currentDate();
});

 <span class="hljs-comment">//end function</span>

<span class="hljs-comment">/////////////////////////////////Interaction type and Interaction method///////////////end/////////////////////////////////////////////////</span>


<span class="hljs-comment">/////////////////////////////////tab bar///////////////////////////////////////////////////////////////////////////////////////////////////</span>


<span class="hljs-keyword">var</span> tab_heading1 = Ti.UI.createView
({
    backgroundImage:<span class="hljs-string">'/Images/nav.png'</span>,
    height:<span class="hljs-number">0.0625</span>*hei,
    left:<span class="hljs-number">0</span>,
    right:<span class="hljs-number">0</span>,
    top:<span class="hljs-number">0.0625</span>*hei
});

<span class="hljs-keyword">var</span> tab_heading2 = Ti.UI.createView
({
    backgroundImage:<span class="hljs-string">'/Images/nav.png'</span>,
    height:<span class="hljs-number">0.0625</span>*hei,
    left:<span class="hljs-number">0</span>,
    right:<span class="hljs-number">0</span>,
    top:<span class="hljs-number">0.125</span>*hei
});

<span class="hljs-keyword">var</span> Interaction_but = Titanium.UI.createButton({
    top:<span class="hljs-number">0.125</span>*hei,
    left:<span class="hljs-number">0</span>,
    height : <span class="hljs-number">35</span>,
    <span class="hljs-comment">//title : 'HHHHHHHH',</span>
    <span class="hljs-comment">//color:'white',</span>
    enabled : <span class="hljs-literal">false</span>,    
    backgroundImage:<span class="hljs-string">'/Images/1702/int80-2.png'</span>,
    width : <span class="hljs-number">80</span>,
    font:{
        fontSize:<span class="hljs-number">0.0225</span>*hei,fontColor:<span class="hljs-string">'white'</span>
    },
    borderColor : <span class="hljs-string">'transparent'</span>, <span class="hljs-comment">//'#6cc2fb',</span>
    borderRadius : <span class="hljs-number">10</span>,
    borderWidth : <span class="hljs-number">4</span> ,

});

<span class="hljs-keyword">var</span> Customerdetails_but = Titanium.UI.createButton({
    top:<span class="hljs-number">0.125</span>*hei,
    right : <span class="hljs-number">80</span>,
    height : <span class="hljs-number">35</span>,
    enabled : <span class="hljs-literal">false</span>,
    backgroundImage:<span class="hljs-string">'/Images/1702/cust80-2.png'</span>,
    <span class="hljs-comment">//enabled : 'false',</span>
    width : <span class="hljs-number">80</span>,
    color:<span class="hljs-string">'white'</span>,
    font:{
        fontSize:<span class="hljs-number">0.0225</span>*hei
    },
    borderColor : <span class="hljs-string">'transparent'</span>,<span class="hljs-comment">//'#6cc2fb',</span>
    borderRadius : <span class="hljs-number">10</span>,
    borderWidth : <span class="hljs-number">4</span>
});

<span class="hljs-comment">/*var Customerdetails_disable_but = Titanium.UI.createButton({
    top:0.125*hei,
    right : 80,
    height : 35,
    backgroundImage:'/Images/1702/custdis80.png',
    //enabled : 'false',
    width : 80,
    color:'white',
    font:{
        fontSize:0.0225*hei
    }
});
*/</span>


<span class="hljs-keyword">var</span> Productdetails_but = Titanium.UI.createButton({
    top:<span class="hljs-number">0.125</span>*hei,
    left : <span class="hljs-number">80</span>,
    height : <span class="hljs-number">35</span>,
    enabled : <span class="hljs-literal">false</span>,
    backgroundImage:<span class="hljs-string">'/Images/1702/prod80-2.png'</span>,
    width : <span class="hljs-number">80</span>,
    font:{
        fontSize:<span class="hljs-number">0.0225</span>*hei
    },
    borderColor : <span class="hljs-string">'transparent'</span>,<span class="hljs-comment">//'#6cc2fb',</span>
    borderRadius : <span class="hljs-number">10</span>,
    borderWidth : <span class="hljs-number">4</span> 
});

<span class="hljs-keyword">var</span> Notes_summary_but = Titanium.UI.createButton({
    top:<span class="hljs-number">0.125</span>*hei,
    right:<span class="hljs-number">0</span>,
    height : <span class="hljs-number">35</span>,
    enabled : <span class="hljs-literal">false</span>,
    backgroundImage:<span class="hljs-string">'/Images/1702/notes80-3.png'</span>,
    width : <span class="hljs-number">80</span>,
    color:<span class="hljs-string">'white'</span>,
    font:{
        fontSize:<span class="hljs-number">0.0225</span>*hei
    },
    borderColor : <span class="hljs-string">'transparent'</span>,<span class="hljs-comment">//'#6cc2fb',</span>
    borderRadius : <span class="hljs-number">10</span>,
    borderWidth : <span class="hljs-number">4</span> 
});

<span class="hljs-comment">/////////////////////////////////page navigation/////////////////////////////////////////////////////////////////////////</span>

<span class="hljs-keyword">var</span> scrollView = Titanium.UI.createScrollableView({
    top:<span class="hljs-number">100</span>,
     bottom:<span class="hljs-number">61</span>,
    showPagingControl:<span class="hljs-literal">false</span>,
     currentPage:<span class="hljs-number">0</span>,
     scrollable : <span class="hljs-literal">false</span>,
    <span class="hljs-comment">//HorizontalBounce : 'false'</span>
      <span class="hljs-comment">//scrollEnabled: false</span>

});

<span class="hljs-keyword">var</span> nextbut = Titanium.UI.createButton({
    backgroundImage:<span class="hljs-string">'/Images/NEXT-Blue.png'</span>,
    bottom:<span class="hljs-number">31</span>,
    right:<span class="hljs-number">20</span>,
    <span class="hljs-comment">//left:270,</span>
    width:<span class="hljs-number">64</span>,
    height:<span class="hljs-number">27</span>,
    borderRadius:<span class="hljs-number">10</span>

});

<span class="hljs-keyword">var</span> prevbut = Titanium.UI.createButton({
    backgroundImage:<span class="hljs-string">'/Images/Back-Blue.png'</span>,
    bottom:<span class="hljs-number">31</span>,
    <span class="hljs-comment">//right:270,</span>
    left:<span class="hljs-number">20</span>,
    width:<span class="hljs-number">64</span>,
    height:<span class="hljs-number">27</span>,
    borderRadius:<span class="hljs-number">10</span>

});

<span class="hljs-keyword">var</span> Reset_but1 = Titanium.UI.createButton({
    bottom : <span class="hljs-number">31</span>,
    left:<span class="hljs-number">120</span>,
    backgroundImage:<span class="hljs-string">'/Images/Reset-Blue.png'</span>,
    height:<span class="hljs-number">27</span>,
    borderRadius:<span class="hljs-number">10</span>,
    width:<span class="hljs-number">64</span>

});

<span class="hljs-keyword">var</span> Submit_but = Titanium.UI.createButton({
    backgroundImage:<span class="hljs-string">'/Images/Submit-Blue.png'</span>,
    bottom:<span class="hljs-number">31</span>,
    height:<span class="hljs-number">27</span>,
    right  :<span class="hljs-number">20</span>,
    borderRadius:<span class="hljs-number">10</span>,
    width:<span class="hljs-number">64</span>

});


<span class="hljs-keyword">var</span> scrolli=<span class="hljs-number">1</span>, pp =<span class="hljs-number">0</span>, cp =<span class="hljs-number">0</span>;
scrollView.addEventListener(<span class="hljs-string">'scroll'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span>
</span>{    
    pp = cp; cp = e.currentPage;
    Ti.API.info(<span class="hljs-string">'Scroll view event1 Current page:'</span>+e.currentPage + <span class="hljs-string">' previous page'</span>+pp);
    removeborder(pp);
    headlabel(e.currentPage);
});


<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">headlabel</span><span class="hljs-params">(ch)</span>
</span>{
    Ti.API.info(<span class="hljs-string">'.............Called headlabel function'</span>);
    <span class="hljs-keyword">if</span>(head == <span class="hljs-number">0</span>)
        {Ti.API.info(<span class="hljs-string">'.............1'</span>);
            <span class="hljs-keyword">switch</span>(ch)
        {
            <span class="hljs-keyword">case</span> <span class="hljs-number">0</span> : heading_label.text = <span class="hljs-string">'Interaction'</span>; Interaction_but.borderColor = <span class="hljs-string">'#6cc2fb'</span>; win.add(Interaction_but); scrollCount = <span class="hljs-number">1</span>; <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-number">1</span> : heading_label.text = <span class="hljs-string">'Product Details'</span>; Productdetails_but.borderColor = <span class="hljs-string">'#6cc2fb'</span>; win.add(Productdetails_but); scrollCount = <span class="hljs-number">2</span>; <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-number">2</span> : heading_label.text = <span class="hljs-string">'Notes &amp; Summary'</span>; Notes_summary_but.borderColor = <span class="hljs-string">'#6cc2fb'</span>; win.add(Notes_summary_but); scrollCount = <span class="hljs-number">4</span>; <span class="hljs-keyword">break</span>;
        }}<span class="hljs-keyword">else</span>
        {Ti.API.info(<span class="hljs-string">'.............2'</span>);
            <span class="hljs-keyword">switch</span>(ch)
        {
            <span class="hljs-keyword">case</span> <span class="hljs-number">0</span> : heading_label.text = <span class="hljs-string">'Interaction'</span>; Interaction_but.borderColor = <span class="hljs-string">'#6cc2fb'</span>; win.add(Interaction_but); scrollCount = <span class="hljs-number">1</span>; <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-number">1</span> : heading_label.text = <span class="hljs-string">'Product Details'</span>; Productdetails_but.borderColor = <span class="hljs-string">'#6cc2fb'</span>; win.add(Productdetails_but); scrollCount = <span class="hljs-number">2</span>; <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-number">2</span> : heading_label.text = <span class="hljs-string">'Customer Details'</span>; Customerdetails_but.borderColor = <span class="hljs-string">'#6cc2fb'</span>; win.add(Customerdetails_but); scrollCount = <span class="hljs-number">3</span>; <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-number">3</span> : heading_label.text = <span class="hljs-string">'Notes &amp; Summary'</span>; Notes_summary_but.borderColor = <span class="hljs-string">'#6cc2fb'</span>; win.add(Notes_summary_but); scrollCount = <span class="hljs-number">4</span>; <span class="hljs-keyword">break</span>;
        }}
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">removeborder</span><span class="hljs-params">(pp)</span>
</span>{
    Ti.API.info(<span class="hljs-string">'.............Called removeborder function'</span>);
    <span class="hljs-keyword">if</span>(head == <span class="hljs-number">0</span>)
        {Ti.API.info(<span class="hljs-string">'.............1'</span>);
            <span class="hljs-keyword">switch</span>(pp)
        {
            <span class="hljs-keyword">case</span> <span class="hljs-number">0</span> : Interaction_but.borderColor = <span class="hljs-string">'transparent'</span>; win.add(Interaction_but); <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-number">1</span> : Productdetails_but.borderColor = <span class="hljs-string">'transparent'</span>; win.add(Productdetails_but); <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-number">2</span> : Notes_summary_but.borderColor = <span class="hljs-string">'transparent'</span>; win.add(Notes_summary_but); <span class="hljs-keyword">break</span>;
        }}<span class="hljs-keyword">else</span>
        {Ti.API.info(<span class="hljs-string">'.............2'</span>);
            <span class="hljs-keyword">switch</span>(pp)
        {
            <span class="hljs-keyword">case</span> <span class="hljs-number">0</span> : Interaction_but.borderColor = <span class="hljs-string">'transparent'</span>; win.add(Interaction_but); <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-number">1</span> : Productdetails_but.borderColor = <span class="hljs-string">'transparent'</span>; win.add(Productdetails_but); <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-number">2</span> : Customerdetails_but.borderColor = <span class="hljs-string">'transparent'</span>; win.add(Customerdetails_but); <span class="hljs-keyword">break</span>; 
            <span class="hljs-keyword">case</span> <span class="hljs-number">3</span> : Notes_summary_but.borderColor = <span class="hljs-string">'transparent'</span>; win.add(Notes_summary_but); <span class="hljs-keyword">break</span>;
        }}    
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">dddddf</span><span class="hljs-params">()</span>
</span>{
    <span class="hljs-keyword">if</span>(heading_label.text == <span class="hljs-string">'Interaction'</span>) Interaction_but.borderColor = <span class="hljs-string">'#6cc2fb'</span>; <span class="hljs-keyword">else</span> Interaction_but.borderColor = <span class="hljs-string">'transparent'</span>; win.add(Interaction_but); 
    <span class="hljs-keyword">if</span>(heading_label.text == <span class="hljs-string">'Product Details'</span>) Productdetails_but.borderColor = <span class="hljs-string">'#6cc2fb'</span>; <span class="hljs-keyword">else</span> Productdetails_but.borderColor = <span class="hljs-string">'transparent'</span>; win.add(Productdetails_but); 
    <span class="hljs-keyword">if</span>(heading_label.text == <span class="hljs-string">'Customer Details'</span>) Customerdetails_but.borderColor = <span class="hljs-string">'#6cc2fb'</span>; <span class="hljs-keyword">else</span> Customerdetails_but.borderColor = <span class="hljs-string">'transparent'</span>; win.add(Customerdetails_but);
    <span class="hljs-keyword">if</span>( heading_label.text == <span class="hljs-string">'Notes &amp; Summary'</span>) Notes_summary_but.borderColor = <span class="hljs-string">'#6cc2fb'</span>; <span class="hljs-keyword">else</span> Notes_summary_but.borderColor = <span class="hljs-string">'transparent'</span>; win.add(Notes_summary_but);
}


my_combo.addEventListener(<span class="hljs-string">'change'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>
</span>{
    interactiondate_text.value=<span class="hljs-string">''</span>;
    customername_text.value=<span class="hljs-string">''</span>;
    customersiteid_text.value=<span class="hljs-string">''</span>;
    customercontacts_text.value=<span class="hljs-string">''</span>;
    emccontacts_text.value=<span class="hljs-string">''</span>;
    srnum_text.value=<span class="hljs-string">''</span>;
});



<span class="hljs-comment">// Adding tabs such as Interactin details, Product details, Customer Details, Notes and Summary to Screen</span>

        win.add(tab_heading1);        
        win.add(my_combo1);
        win.add(my_combo);
        win.add(Interaction_but);
        win.add(Productdetails_but);
        win.add(Customerdetails_but);
        win.add(Notes_summary_but);
        <span class="hljs-comment">//win.add(drop_button);</span>
        <span class="hljs-comment">//win.add(drop_button1);</span>
        <span class="hljs-comment">//win.add(Submit_but);</span>
        <span class="hljs-comment">//win.add(Reset_but1);</span>
        <span class="hljs-comment">//win.add(prevbut);</span>
        <span class="hljs-comment">//win.add(nextbut);</span>
        <span class="hljs-comment">//win.add(scrollView);</span>



    Ti.<span class="hljs-keyword">include</span>(<span class="hljs-string">'/files/Interaction.js'</span>);   <span class="hljs-comment">// Includes Interaction.js to the click event</span>
    Ti.<span class="hljs-keyword">include</span>(<span class="hljs-string">'/files/Product.js'</span>);   <span class="hljs-comment">// Includes Product.js to the click event</span>
    Ti.<span class="hljs-keyword">include</span>(<span class="hljs-string">'/files/CustomerDetails.js'</span>);   <span class="hljs-comment">// Includes CustomerDetails.js to the click event</span>
    Ti.<span class="hljs-keyword">include</span>(<span class="hljs-string">'/files/Notes.js'</span>)   <span class="hljs-comment">// Includes Notes.js to the click event</span>


Interaction_but.addEventListener(<span class="hljs-string">'click'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>
</span>{
    heading_label.text = <span class="hljs-string">'Interaction'</span>;
    scrollView.views=[interactView]; 
    nexpreBut();
    dddddf();
});

<span class="hljs-comment">// Adding click event to Product details button</span>
Productdetails_but.addEventListener(<span class="hljs-string">'click'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>
</span>{
    heading_label.text = <span class="hljs-string">'Product Details'</span>;
    scrollView.views=[win2];
    nexpreBut();
    dddddf();
})

<span class="hljs-comment">// Adding click event to Customer details button</span>
Customerdetails_but.addEventListener(<span class="hljs-string">'click'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>
</span>{
    heading_label.text =<span class="hljs-string">'Customer Details'</span>;
    scrollView.views=[win3];
    nexpreBut();
    dddddf();
})

<span class="hljs-comment">// Adding click event to Notes and Summary button</span>
Notes_summary_but.addEventListener(<span class="hljs-string">'click'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>
</span>{
    win4.show();
    heading_label.text = <span class="hljs-string">'Notes &amp; Summary'</span>;
    scrollView.views=[win4];
    nexpreBut();
    dddddf();
})    
<span class="hljs-comment">////////////////////////////////////////////////////submit//////////////////////////////////////////////////////////////////////////////</span>


<span class="hljs-comment">// function that calls specific js for selecting which hint text to be inserted in fields with reference to interaction type .</span>

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">hintSelect</span><span class="hljs-params">()</span></span>{

    Ti.API.info(<span class="hljs-string">'hint select function'</span>);

    <span class="hljs-keyword">if</span>(my_combo.value==<span class="hljs-string">'Remote Interaction'</span>){ remoteFieldsProd(); remoteFieldsNote(); remoteFieldsInter(); remoteFieldsCust();}

    <span class="hljs-keyword">if</span>(my_combo.value == <span class="hljs-string">'EMC Conference'</span>){ emcConferenceProd(); emcConferenceNote(); emcConferenceInter(); emcConferenceCust();}

    <span class="hljs-keyword">if</span>(my_combo.value == <span class="hljs-string">'Technical Conference'</span>){ techConferenceProd(); techConferenceNote(); techConferenceInter(); techConferenceCust();} 

    <span class="hljs-keyword">if</span>(my_combo.value == <span class="hljs-string">'TAB/FAB'</span>){ tabFabProd(); tabFabNote(); tabFabInter(); tabFabCust();}

    <span class="hljs-keyword">if</span>(my_combo.value == <span class="hljs-string">'Customer Visit'</span>){ custVisitProd(); custVisitNote(); custVisitInter(); custVisitCust();}    
}


<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">nexpreBut</span><span class="hljs-params">()</span>
</span>{

    <span class="hljs-keyword">if</span>(heading_label.text == <span class="hljs-string">'Interaction'</span>) {win.remove(Submit_but); win.add(Reset_but1); win.remove(prevbut); win.add(nextbut);}
     <span class="hljs-keyword">if</span>(heading_label.text == <span class="hljs-string">'Product Details'</span>) {win.remove(Submit_but); win.add(Reset_but1); win.add(prevbut); win.add(nextbut);}
    <span class="hljs-keyword">if</span>(heading_label.text == <span class="hljs-string">'Customer Details'</span>) {win.remove(Submit_but); win.add(Reset_but1); win.add(prevbut); win.add(nextbut);}
     <span class="hljs-keyword">if</span>(heading_label.text == <span class="hljs-string">'Notes &amp; Summary'</span>)    {win.add(prevbut); win.remove(nextbut); win.add(Submit_but); win.add(Reset_but1);}
}

<span class="hljs-keyword">var</span> butOption = <span class="hljs-number">0</span>;
nextbut.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span>
</span>{    
    <span class="hljs-keyword">if</span>(heading_label.text == <span class="hljs-string">'Customer Details'</span>)
    {
        custReqTrue(); 
        <span class="hljs-keyword">if</span>(customerRequired == <span class="hljs-literal">true</span>) 
        { 
            Notes_summary_but.enabled = <span class="hljs-literal">true</span> ; 
            scrollView.views= [win4]; 
            win4.show();
            <span class="hljs-comment">//scrollView.scrollToView(win4); </span>
            heading_label.text = <span class="hljs-string">'Notes &amp; Summary'</span>;
            nexpreBut();
        } 
        <span class="hljs-keyword">else</span> 
        { 
            alert(<span class="hljs-string">'Please fill the required fields'</span>);
        } 
    }

    <span class="hljs-keyword">if</span>(heading_label.text == <span class="hljs-string">'Product Details'</span>) 
    { 
        prodReqTrue(); 
            <span class="hljs-keyword">if</span>(productRequired == <span class="hljs-literal">true</span>) 
            { 
                <span class="hljs-keyword">if</span>( head==<span class="hljs-number">1</span>)
                {
                    Customerdetails_but.enabled = <span class="hljs-literal">true</span> ; 
                    scrollView.views= [win3]; 
                    <span class="hljs-comment">//scrollView.scrollToView(win3); </span>
                    heading_label.text = <span class="hljs-string">'Customer Details'</span>;
                    nexpreBut();
                }
                <span class="hljs-keyword">else</span>
                {
                    Notes_summary_but.enabled = <span class="hljs-literal">true</span> ; 
                    scrollView.views= [win4];
                    win4.show();
                    <span class="hljs-comment">//scrollView.scrollToView(win4);</span>
                    heading_label.text = <span class="hljs-string">'Notes &amp; Summary'</span>;
                    nexpreBut();
                }
            }
            <span class="hljs-keyword">else</span>
            {
                alert(<span class="hljs-string">'Please fill the required fields'</span>);
            }
        }

    <span class="hljs-keyword">if</span>(heading_label.text == <span class="hljs-string">'Interaction'</span>) 
    {
        interReqTrue(); 
        <span class="hljs-keyword">if</span>(interRequired == <span class="hljs-literal">true</span>) 
        { 
            Productdetails_but.enabled = <span class="hljs-literal">true</span> ; 
            scrollView.views= [win2]; 
            <span class="hljs-comment">//scrollView.scrollToView(win2); </span>
            heading_label.text = <span class="hljs-string">'Product Details'</span>;
            nexpreBut();
        } 
        <span class="hljs-keyword">else</span> 
        { 
            alert(<span class="hljs-string">'Please fill the required fields'</span>);
        } 
    }

    dddddf();
})

prevbut.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span>
</span>{
    Ti.API.info(<span class="hljs-string">'Clicked'</span>);
    <span class="hljs-keyword">if</span>(heading_label.text == <span class="hljs-string">'Product Details'</span>) { pp = <span class="hljs-number">1</span>; cp = <span class="hljs-number">0</span>; scrollView.views= [interactView]; heading_label.text = <span class="hljs-string">'Interaction'</span>; nexpreBut(); }
    <span class="hljs-keyword">if</span>(heading_label.text == <span class="hljs-string">'Customer Details'</span>) { pp = <span class="hljs-number">2</span>; cp = <span class="hljs-number">1</span>; scrollView.views= [win2]; heading_label.text = <span class="hljs-string">'Product Details'</span> ; nexpreBut(); }
    <span class="hljs-keyword">if</span>(heading_label.text == <span class="hljs-string">'Notes &amp; Summary'</span>) <span class="hljs-keyword">if</span>(head == <span class="hljs-number">0</span>){ pp = <span class="hljs-number">2</span>; cp = <span class="hljs-number">1</span>; scrollView.views= [win2]; heading_label.text = <span class="hljs-string">'Product Details'</span> ; nexpreBut(); } 
        <span class="hljs-keyword">else</span> { pp = <span class="hljs-number">3</span>; cp = <span class="hljs-number">2</span>; scrollView.views= [win3];  heading_label.text = <span class="hljs-string">'Customer Details'</span>; nexpreBut(); }
    dddddf();
})

Reset_but1.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span>
</span>{
    Ti.API.info(<span class="hljs-string">'Clicked'</span>);
    resetBut();
    <span class="hljs-comment">//if(heading_label.text == 'Interaction')</span>
    <span class="hljs-comment">//if(heading_label.text == 'Product Details')</span>
    <span class="hljs-comment">//if(heading_label.text == 'Customer Details')</span>
    <span class="hljs-comment">//if(heading_label.text == 'Notes &amp; Summary')</span>
})



<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">apptab</span><span class="hljs-params">()</span>
</span>{
    <span class="hljs-keyword">if</span>(tableapp1 == <span class="hljs-literal">true</span>) win.remove(tableview);
    <span class="hljs-keyword">if</span>(tableapp2 == <span class="hljs-literal">true</span>) win.remove(tableview1);
}



win.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>
</span>{
    Ti.API.info(<span class="hljs-string">'.............window clicked'</span>);

    <span class="hljs-keyword">if</span>(heading_label.text == <span class="hljs-string">'Interaction'</span>)
    {
        interactionblur(interaKey);

    }
    <span class="hljs-keyword">if</span>(heading_label.text == <span class="hljs-string">'Product Details'</span>)
    {
        productblur(prodKey);
        productorg_text.borderColor = <span class="hljs-string">'black'</span>;
        productorg_text.borderWidth = <span class="hljs-number">1</span>;
        productname_text.borderColor = <span class="hljs-string">'black'</span>;
        productname_text.borderWidth = <span class="hljs-number">1</span>;
        ThirdParty_text.borderColor = <span class="hljs-string">'black'</span>;
        ThirdParty_text.borderWidth = <span class="hljs-number">1</span>;
        Platform_text.borderColor = <span class="hljs-string">'black'</span>;
        Platform_text.borderWidth = <span class="hljs-number">1</span>;
    } 
    <span class="hljs-keyword">if</span>(heading_label.text == <span class="hljs-string">'Customer Details'</span>)
    {
        customerblur(custKey);
    }
    <span class="hljs-keyword">if</span>(heading_label.text == <span class="hljs-string">'Notes &amp; Summary'</span>)
    {
        notesblur(notesKey);
    }    

    apptab();
    mycombo(mycombKey);
})

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">mycombo</span><span class="hljs-params">(mycombKey)</span>
</span>{
    <span class="hljs-keyword">switch</span>(mycombKey)
    {
        <span class="hljs-keyword">case</span> <span class="hljs-string">'b'</span>: my_combo.blur(); mycombKey = <span class="hljs-string">''</span>; <span class="hljs-keyword">break</span>;
        <span class="hljs-keyword">case</span> <span class="hljs-string">'a'</span>: my_combo1.blur(); mycombKey = <span class="hljs-string">''</span>; <span class="hljs-keyword">break</span>;
    }
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">resetBut</span><span class="hljs-params">()</span>
</span>{
    <span class="hljs-keyword">if</span>(heading_label.text == <span class="hljs-string">'Interaction'</span>) {
        intReset();
    }
     <span class="hljs-keyword">if</span>(heading_label.text == <span class="hljs-string">'Product Details'</span>) {
         proReset();
     }
    <span class="hljs-keyword">if</span>(heading_label.text == <span class="hljs-string">'Customer Details'</span>) {
        cusReset();
    }
     <span class="hljs-keyword">if</span>(heading_label.text == <span class="hljs-string">'Notes &amp; Summary'</span>)    {
         notesReset();
     }
}

Submit_but.addEventListener(<span class="hljs-string">'click'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span></span>{
    <span class="hljs-keyword">var</span> checkString = notesReqTrue(my_combo.value);
    Ti.API.info(<span class="hljs-string">'CheckString ::::::'</span> +checkString);
    <span class="hljs-keyword">if</span>(checkString == <span class="hljs-literal">false</span>) { alert(<span class="hljs-string">'Please fill the required fields'</span>); <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;}
    <span class="hljs-keyword">else</span> 
    {

    <span class="hljs-comment">/*    if(my_combo.value == 'EMC Conference' || my_combo.value == 'Technical Conference')
        {
            if(customername_text.value == '' &amp;&amp; Focus_text.value == '' &amp;&amp; summary_text.value == '' &amp;&amp; customersiteid_text.value == '' &amp;&amp; emccontacts_text.value == ''
             &amp;&amp; customercontacts_text.value == '' &amp;&amp; productorg_text.value == '' &amp;&amp; productname_text.value == '' &amp;&amp; Feature_text.value == '' &amp;&amp; 
             notes_text.value == '' &amp;&amp; ThirdParty_text.value == '' &amp;&amp; Platform_text.value == '' &amp;&amp; Crosscharge_text.value == '' &amp;&amp;
             Costcenter_text.value == '' &amp;&amp; Travelreq_text.value == '' &amp;&amp; Travelexp_text.value == '' &amp;&amp; Dealval_text.value =='' &amp;&amp;
             srnum_text.value == '')
             {
                 alert('All fields are empty, please fill some details');
                 return false;
             }  
        }    */</span>
    <span class="hljs-keyword">var</span> db = Titanium.Database.install(<span class="hljs-string">'Interaction.sqlite3'</span>,<span class="hljs-string">'insertDB'</span>);
    <span class="hljs-keyword">var</span> db = Titanium.Database.open(<span class="hljs-string">'insertDB'</span>);
    <span class="hljs-keyword">var</span> Qry = <span class="hljs-string">"INSERT INTO InteractionType(CustomerName,Focus,InteractionType,InteractionMethod,Summary,CustomerSiteId,EMCContacts,"</span> +
                <span class="hljs-string">" CustomerContacts,ProductOrg,ProductName,Feature,Notes,ThirdParty,Platform,CrossCharged,CostCenter,"</span> +
                <span class="hljs-string">" TravelRequirement,TravelExpenditure,DealValue,InteractionDate,SRNumber) VALUES ('"</span> + customername_text.value + <span class="hljs-string">"','"</span> + Focus_text.value + <span class="hljs-string">"','"</span> + my_combo.value + <span class="hljs-string">"','"</span> + my_combo1.value + <span class="hljs-string">"' "</span>+
                <span class="hljs-string">" ,'"</span> + summary_text.value + <span class="hljs-string">"','"</span> + customersiteid_text.value + <span class="hljs-string">"','"</span> + emccontacts_text.value + <span class="hljs-string">"','"</span> + customercontacts_text.value + <span class="hljs-string">"','"</span> + productorg_text.value + <span class="hljs-string">"' "</span>+
                <span class="hljs-string">" ,'"</span> + productname_text.value + <span class="hljs-string">"','"</span> + Feature_text.value + <span class="hljs-string">"','"</span> + notes_text.value + <span class="hljs-string">"','"</span> + ThirdParty_text.value + <span class="hljs-string">"','"</span> + Platform_text.value + <span class="hljs-string">"' "</span> +
                <span class="hljs-string">" ,'"</span> + Crosscharge_text.value + <span class="hljs-string">"','"</span> + Costcenter_text.value + <span class="hljs-string">"','"</span> + Travelreq_text.value + <span class="hljs-string">"','"</span> + Travelexp_text.value + <span class="hljs-string">"','"</span> + Dealval_text.value + <span class="hljs-string">"' "</span> +
                <span class="hljs-string">" ,'"</span> + interactiondate_text.value + <span class="hljs-string">"','"</span> + srnum_text.value + <span class="hljs-string">"')"</span>;
    <span class="hljs-keyword">var</span> row = db.execute(Qry);
    Ti.API.info(<span class="hljs-string">'Query Executed'</span>);
    <span class="hljs-keyword">var</span> selectQry = <span class="hljs-string">" SELECT CustomerName,Focus,InteractionType,InteractionMethod,Summary,CustomerSiteId,EMCContacts,"</span> +
                <span class="hljs-string">" CustomerContacts,ProductOrg,ProductName,Feature,Notes,ThirdParty,Platform,CrossCharged,CostCenter,"</span> +
                <span class="hljs-string">" TravelRequirement,TravelExpenditure,DealValue,InteractionDate,SRNumber from InteractionType"</span>;
    <span class="hljs-keyword">var</span> rows2 = db.execute(selectQry);
    <span class="hljs-keyword">while</span>(rows2.isValidRow()) {
        Ti.API.info(<span class="hljs-string">'-------CustomerName :'</span> + rows2.fieldByName(<span class="hljs-string">'CustomerName'</span>));
        Ti.API.info(<span class="hljs-string">'-------Focus :'</span> + rows2.fieldByName(<span class="hljs-string">'Focus'</span>));
        Ti.API.info(<span class="hljs-string">'-------InteractionType :'</span> + rows2.fieldByName(<span class="hljs-string">'InteractionType'</span>));
        Ti.API.info(<span class="hljs-string">'-------InteractionMethod :'</span> + rows2.fieldByName(<span class="hljs-string">'InteractionMethod'</span>));
        Ti.API.info(<span class="hljs-string">'-------Summary :'</span> + rows2.fieldByName(<span class="hljs-string">'Summary'</span>));
        Ti.API.info(<span class="hljs-string">'-------CustomerSiteId :'</span> + rows2.fieldByName(<span class="hljs-string">'CustomerSiteId'</span>));
        Ti.API.info(<span class="hljs-string">'-------EMCContacts :'</span> + rows2.fieldByName(<span class="hljs-string">'EMCContacts'</span>));
        Ti.API.info(<span class="hljs-string">'-------CustomerContacts :'</span> + rows2.fieldByName(<span class="hljs-string">'CustomerContacts'</span>));
        Ti.API.info(<span class="hljs-string">'-------ProductOrg :'</span> + rows2.fieldByName(<span class="hljs-string">'ProductOrg'</span>));
        Ti.API.info(<span class="hljs-string">'-------ProductName :'</span> + rows2.fieldByName(<span class="hljs-string">'ProductName'</span>));
        rows2.next();
    }
    alert(<span class="hljs-string">'Data Submitted Successfully'</span>);
    intReset();proReset();cusReset();notesReset();
    interactiondate_text.value = <span class="hljs-string">''</span>;
    my_combo.value = <span class="hljs-string">''</span>;
    my_combo1.value = <span class="hljs-string">''</span>;
    win4.hide();
    Interaction_but.borderColor = <span class="hljs-string">'transparent'</span>; win.add(Interaction_but);
    Interaction_but.enabled = <span class="hljs-literal">false</span>;    
    Customerdetails_but.enabled = <span class="hljs-literal">false</span>;
    Productdetails_but.enabled = <span class="hljs-literal">false</span>;
    Notes_summary_but.enabled = <span class="hljs-literal">false</span>;
    Interaction_but.borderColor = <span class="hljs-string">'transparent'</span>;
     Productdetails_but.borderColor = <span class="hljs-string">'transparent'</span>;
    Customerdetails_but.borderColor = <span class="hljs-string">'transparent'</span>;
    Notes_summary_but.borderColor = <span class="hljs-string">'transparent'</span>;
    win.remove(Submit_but); win.remove(Reset_but1); win.remove(prevbut); win.remove(nextbut);
    }
})

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">currentDate</span><span class="hljs-params">()</span></span>{
    <span class="hljs-keyword">var</span> d = <span class="hljs-keyword">new</span> Date();
    <span class="hljs-keyword">var</span> month = d.getMonth()+<span class="hljs-number">1</span>;
    <span class="hljs-keyword">var</span> year = d.getFullYear();
    interactiondate_text.value = <span class="hljs-string">''</span>+month+<span class="hljs-string">'/'</span>+d.getDate()+<span class="hljs-string">'/'</span>+d.getFullYear();
}

}

win.add(top_heading);
win.add(bottom_heading);
win.add(settings_but);
win.add(info_but);
win.open();

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isiOS4Plus</span><span class="hljs-params">()</span>
</span>{
    <span class="hljs-comment">// add iphone specific tests</span>
    <span class="hljs-keyword">if</span> (Titanium.Platform.name == <span class="hljs-string">'iPhone OS'</span>)
    {
        <span class="hljs-keyword">var</span> version = Titanium.Platform.version.split(<span class="hljs-string">"."</span>);
        <span class="hljs-keyword">var</span> major = parseInt(version[<span class="hljs-number">0</span>],<span class="hljs-number">10</span>);

        <span class="hljs-comment">// can only test this support on a 3.2+ device</span>
        <span class="hljs-keyword">if</span> (major &gt;= <span class="hljs-number">4</span>)
        {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        }
    }
    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
}

<span class="hljs-keyword">if</span> (isiOS4Plus())
{
    <span class="hljs-comment">// register a background service. this JS will run when the app is backgrounded but screen is OFF!!!</span>
    <span class="hljs-keyword">var</span> service = Ti.App.iOS.registerBackgroundService({url:<span class="hljs-string">'/files/bg.js'</span>});

    Ti.API.info(<span class="hljs-string">"registered background service = "</span>+service);

    <span class="hljs-comment">// listen for a local notification event</span>
    Ti.App.iOS.addEventListener(<span class="hljs-string">'notification'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span>
    </span>{
        Ti.API.info(<span class="hljs-string">"local notification received: "</span>+JSON.stringify(e));
    });

    <span class="hljs-comment">// fired when an app resumes for suspension</span>
    Ti.App.addEventListener(<span class="hljs-string">'resume'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span></span>{
        Ti.API.info(<span class="hljs-string">"app is resuming from the background"</span>);
    });
    Ti.App.addEventListener(<span class="hljs-string">'resumed'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span></span>{
        Ti.API.info(<span class="hljs-string">"app has resumed from the background"</span>);
    });

    <span class="hljs-comment">//This event determines that the app it was just paused</span>
    Ti.App.addEventListener(<span class="hljs-string">'pause'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span></span>{
        Ti.API.info(<span class="hljs-string">"app was paused from the foreground"</span>);
    });
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">resethide</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">if</span>(customername_text.value== <span class="hljs-string">''</span> &amp;&amp; customersiteid_text.value== <span class="hljs-string">''</span> &amp;&amp; customercontacts_text.value== <span class="hljs-string">''</span> &amp;&amp; emccontacts_text.value== <span class="hljs-string">''</span> &amp;&amp; srnum_text.value == <span class="hljs-string">''</span>)
    {
        Ti.API.info(<span class="hljs-string">'qqqqwwwwweeee'</span>);
        win.remove(Reset_but1);
        }

    <span class="hljs-keyword">else</span>

    {
        Reset_but1.show();
        }


}
customername_text.addEventListener(<span class="hljs-string">'blur'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span></span>{
    Ti.API.info(<span class="hljs-string">'qqqqwwwwweeee1111'</span>);
    interactView.animate({top : <span class="hljs-number">0</span>,
    bottom : <span class="hljs-number">0</span> })
    customername_text.borderColor = <span class="hljs-string">'black'</span>;
     customername_text.borderWidth = <span class="hljs-number">1</span>;
   interReqTrue();
    resethide();
});
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="April 3rd 2012, 8:38:20 am">April 3rd 2012</span>
								by <span class='authorname'>anand jh</span><br>
								<a class="icon-bg icon-link" href="question/134842/database-locked#answer-235118" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-235119">
				
						<section>
							<pre><code class="hljs">
Titanium.UI.setBackgroundColor(<span class="hljs-string">'white'</span>);


<span class="hljs-keyword">var</span> inte = <span class="hljs-number">0</span>, prod =<span class="hljs-number">0</span>, cust =<span class="hljs-number">0</span>, notes =<span class="hljs-number">0</span>, head  =<span class="hljs-number">0</span>, keyboard=<span class="hljs-string">''</span>, tableapp1 = <span class="hljs-literal">false</span>; tableapp2 = <span class="hljs-literal">false</span>;;
<span class="hljs-keyword">var</span> id = []; <span class="hljs-keyword">var</span> pwd = [];

    Ti.<span class="hljs-keyword">include</span>(<span class="hljs-string">'/files/Interaction.js'</span>);   <span class="hljs-comment">// Includes Interaction.js to the click event</span>
    Ti.<span class="hljs-keyword">include</span>(<span class="hljs-string">'/files/Product.js'</span>);   <span class="hljs-comment">// Includes Product.js to the click event</span>
    Ti.<span class="hljs-keyword">include</span>(<span class="hljs-string">'/files/CustomerDetails.js'</span>);   <span class="hljs-comment">// Includes CustomerDetails.js to the click event</span>
    Ti.<span class="hljs-keyword">include</span>(<span class="hljs-string">'/files/Notes.js'</span>)   <span class="hljs-comment">// Includes Notes.js to the click event</span>
    Ti.<span class="hljs-keyword">include</span>(<span class="hljs-string">'/files/Info.js'</span>)   <span class="hljs-comment">// Includes Info button.js to the click event</span>
    Ti.<span class="hljs-keyword">include</span>(<span class="hljs-string">'/files/Authenticate.js'</span>)
<span class="hljs-keyword">var</span> db = Titanium.Database.install(<span class="hljs-string">'Interaction.sqlite3'</span>,<span class="hljs-string">'insertDB'</span>);
db.close();
<span class="hljs-keyword">var</span> win = Titanium.UI.createWindow({
    backgroundColor:<span class="hljs-string">'white'</span>,
    navBarHidden:<span class="hljs-literal">true</span>,
    backgroundImage:<span class="hljs-string">'/Images/emc.png'</span>,
    <span class="hljs-comment">//modal : true,</span>
    <span class="hljs-comment">//modalTransitionStyle: Ti.UI.iPhone.MODAL_TRANSITION_STYLE_FLIP_HORIZONTAL,</span>
    <span class="hljs-comment">//modalStyle: Ti.UI.iPhone.MODAL_PRESENTATION_FORMSHEET</span>
});
<span class="hljs-keyword">var</span> wid=Ti.Platform.displayCaps.platformWidth;
    <span class="hljs-keyword">var</span> hei=Ti.Platform.displayCaps.platformHeight;
    Ti.API.info(<span class="hljs-string">'Width : '</span>+wid);
    Ti.API.info(<span class="hljs-string">'Height : '</span>+hei);

<span class="hljs-keyword">var</span> top_heading = Ti.UI.createView({

    backgroundImage:<span class="hljs-string">'/Images/newemc.png'</span>,
    height:<span class="hljs-number">0.0625</span>*hei,
    left:<span class="hljs-number">0</span>,
    right:<span class="hljs-number">0</span>,
    top:<span class="hljs-number">0</span>
});

<span class="hljs-keyword">var</span> tab_heading = Ti.UI.createView({

    backgroundImage:<span class="hljs-string">'/Images/nav.png'</span>,
    height:<span class="hljs-number">0.0625</span>*hei,
    left:<span class="hljs-number">0</span>,
    right:<span class="hljs-number">0</span>,
    top:<span class="hljs-number">0.0625</span>*hei
});

<span class="hljs-keyword">var</span> tab_heading1 = Ti.UI.createView({

    backgroundImage:<span class="hljs-string">'/Images/nav.png'</span>,
    height:<span class="hljs-number">0.0729</span>*hei,
    left:<span class="hljs-number">0</span>,
    right:<span class="hljs-number">0</span>,
    top:<span class="hljs-number">0.125</span>*hei
});

<span class="hljs-keyword">var</span> bottom_heading = Ti.UI.createView({

    backgroundImage:<span class="hljs-string">'/Images/nav.png'</span>,
    height:<span class="hljs-number">0.0625</span>*hei,
    left:<span class="hljs-number">0</span>,
    right:<span class="hljs-number">0</span>,
    bottom:<span class="hljs-number">0</span>
});

<span class="hljs-keyword">var</span> heading_label = Ti.UI.createLabel({
    top:<span class="hljs-number">0.00625</span>*hei,
    text:<span class="hljs-string">'          ESD Customer Interactions'</span>,
    textAlign:<span class="hljs-string">'center'</span>,
    color:<span class="hljs-string">'white'</span>,
    font:{
        fontSize:<span class="hljs-number">0.0375</span>*hei,
        fontStyle:<span class="hljs-string">'bold'</span>
    }
});

top_heading.add(heading_label);

<span class="hljs-keyword">var</span> settings_but = Titanium.UI.createButton({
    bottom:<span class="hljs-number">0</span>,
    left:<span class="hljs-number">0</span>,
    backgroundImage:<span class="hljs-string">'/Images/setting.png'</span>,
    width:<span class="hljs-number">50</span>,
    height:<span class="hljs-number">0.0625</span>*hei
});

<span class="hljs-keyword">var</span> info_but = Titanium.UI.createButton({
    bottom:<span class="hljs-number">0</span>,
    right:<span class="hljs-number">0</span>,
    backgroundImage:<span class="hljs-string">'/Images/info_lastpix.png'</span>,
    width:<span class="hljs-number">0.125</span>*wid,
    height:<span class="hljs-number">0.0625</span>*hei
})

<span class="hljs-keyword">var</span> loginWin = Titanium.UI.createWindow({
    <span class="hljs-comment">//modal : true,</span>
    <span class="hljs-comment">//backgroundColor:'transparent',</span>
    <span class="hljs-comment">//backgroundImage:'/Images/cloud.png'</span>
});

<span class="hljs-keyword">var</span> w = Titanium.UI.createView({

    height:<span class="hljs-number">195</span>,
    width:<span class="hljs-number">300</span>,
    backgroundImage:<span class="hljs-string">'/Images/emcw.png'</span>,
            backgroundColor:<span class="hljs-string">'transparent'</span>,
            borderWidth:<span class="hljs-number">1</span>,
            borderRadius:<span class="hljs-number">0.050</span>*hei,
            title:<span class="hljs-string">'Login'</span>,
            borderColor:<span class="hljs-string">'#0099CC'</span>,
            left:<span class="hljs-number">0.0625</span>*hei,
            right:<span class="hljs-number">0.0625</span>*hei,
            top:<span class="hljs-number">0.3125</span>*hei,
            bottom:<span class="hljs-number">0.3125</span>*hei,
            layout:<span class="hljs-string">'vertical'</span>,

        });

<span class="hljs-keyword">var</span> login_label= Titanium.UI.createLabel({
    text:<span class="hljs-string">'Login ID'</span>,
    backgroundColor:<span class="hljs-string">'transparent'</span>,
    color:<span class="hljs-string">'#0099CC'</span>,
    height:<span class="hljs-number">0.0625</span>*hei,
    top:<span class="hljs-number">0.04375</span>*hei,
    left:<span class="hljs-number">10</span>,
    font:{
        fontSize:<span class="hljs-number">0.025</span>*hei,
        fontStyle:<span class="hljs-string">'bold'</span>
    }
});

<span class="hljs-keyword">var</span> loginid_text = Titanium.UI.createTextField({
    editable:<span class="hljs-string">'true'</span>,
    top:-<span class="hljs-number">0.05625</span>*hei,
    left:<span class="hljs-number">0.1875</span>*hei,
    right:<span class="hljs-number">0.075</span>*hei,
    height:<span class="hljs-number">0.0625</span>*hei,
    color:<span class="hljs-string">'black'</span>,
    paddingLeft:<span class="hljs-number">0.0125</span>*hei,
    borderWidth:<span class="hljs-number">0.0002</span>*wid,
    borderRadius:<span class="hljs-number">0.01875</span>*hei,
    width:<span class="hljs-number">0.625</span>*wid,
    hintText:<span class="hljs-string">'Required'</span>,
    font:{fontSize:<span class="hljs-number">0.025</span>*hei},
    keyboardType:Titanium.UI.KEYBOARD_DEFAULT,
    returnKeyType:Titanium.UI.RETURNKEY_DEFAULT,
    borderStyle:Titanium.UI.INPUT_BORDERSTYLE_ROUNDED,
    clearButtonMode :Titanium.UI.INPUT_BUTTONMODE_ALWAYS
});

<span class="hljs-keyword">var</span> pwd_label= Titanium.UI.createLabel({
    text:<span class="hljs-string">'Password'</span>,
    backgroundColor:<span class="hljs-string">'transparent'</span>,
    color:<span class="hljs-string">'#0099CC'</span>,
    height:<span class="hljs-number">0.0625</span>*hei,
    top:<span class="hljs-number">0.025</span>*hei,
    left:<span class="hljs-number">10</span>,
    font:{
        fontSize:<span class="hljs-number">0.025</span>*hei,
        fontStyle:<span class="hljs-string">'bold'</span>
    }
});

<span class="hljs-keyword">var</span> pwd_text = Titanium.UI.createTextField({
    editable:<span class="hljs-string">'true'</span>,
    top:-<span class="hljs-number">0.05375</span>*hei,
    left:<span class="hljs-number">0.1875</span>*hei,
    right:<span class="hljs-number">0.075</span>*hei,
    height:<span class="hljs-number">0.0625</span>*hei,
    color:<span class="hljs-string">'black'</span>,
    paddingLeft:<span class="hljs-number">0.0125</span>*hei,
    passwordMask:<span class="hljs-literal">true</span>,
    borderWidth:<span class="hljs-number">0.0002</span>*wid,
    borderRadius:<span class="hljs-number">0.01875</span>*hei,
    width:<span class="hljs-number">0.625</span>*wid,
    hintText:<span class="hljs-string">'Required'</span>,
    font:{fontSize:<span class="hljs-number">0.025</span>*hei},
    keyboardType:Titanium.UI.KEYBOARD_DEFAULT,
    returnKeyType:Titanium.UI.RETURNKEY_DEFAULT,
    borderStyle:Titanium.UI.INPUT_BORDERSTYLE_ROUNDED,
    clearButtonMode :Titanium.UI.INPUT_BUTTONMODE_ALWAYS
});

<span class="hljs-keyword">var</span> remember_button = Titanium.UI.createButton({
    top:<span class="hljs-number">0.03125</span>*hei,
    left : <span class="hljs-number">0.0208</span>*hei,
    backgroundImage:<span class="hljs-string">'/Images/1702/check.png'</span>,
    height : <span class="hljs-number">20</span>,
    width : <span class="hljs-number">20</span>
});


<span class="hljs-keyword">var</span> remember_label = Titanium.UI.createLabel({
    top:-<span class="hljs-number">0.0416</span>*hei,
    <span class="hljs-comment">//left : 0.0520*hei,</span>
    left : <span class="hljs-number">50</span>,
    height : <span class="hljs-number">20</span>,
    text : <span class="hljs-string">'Remember me'</span>,
    font : {fontSize : <span class="hljs-number">12</span>}
});

<span class="hljs-keyword">var</span> login_but = Titanium.UI.createButton({
    top:<span class="hljs-number">0.07375</span>*hei,
    left:<span class="hljs-number">70</span>,
    color:<span class="hljs-string">'white'</span>,
    height:<span class="hljs-number">0.05</span>*hei,
    width:<span class="hljs-number">0.2083</span>*wid,
    backgroundImage:<span class="hljs-string">'/Images/loginbut.png'</span>,
    font:{fontSize:<span class="hljs-number">0.025</span>*hei}
});

<span class="hljs-keyword">var</span> clear_but = Titanium.UI.createButton({
    top:-<span class="hljs-number">0.05125</span>*hei,
    left:<span class="hljs-number">160</span>,
    color:<span class="hljs-string">'white'</span>,
    height:<span class="hljs-number">0.05</span>*hei,
    width:<span class="hljs-number">0.2083</span>*wid,
    backgroundImage:<span class="hljs-string">'/Images/clearbut.png'</span>,
    font:{fontSize:<span class="hljs-number">0.025</span>*hei}
});

<span class="hljs-keyword">var</span> rem =<span class="hljs-number">0</span>;

info_but.addEventListener(<span class="hljs-string">'click'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>
</span>{

 <span class="hljs-keyword">var</span> db = Titanium.Database.install(<span class="hljs-string">'Interaction.sqlite3'</span>,<span class="hljs-string">'insertDB'</span>);
 <span class="hljs-keyword">var</span> db = Titanium.Database.open(<span class="hljs-string">'insertDB'</span>);
 <span class="hljs-keyword">var</span> db = db.execute(<span class="hljs-string">'SELECT count(*) FROM InteractionType'</span>);
 <span class="hljs-comment">//Ti.API.info('&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;??????????????////////////////'+db.length);</span>
    <span class="hljs-comment">//win.add(infoWin);</span>
    infoWin.open();
});

settings_but.addEventListener(<span class="hljs-string">'click'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>
</span>{
    win.opacity = <span class="hljs-number">0.4</span>;
    <span class="hljs-keyword">if</span>(rem==<span class="hljs-number">0</span>)
    {
        <span class="hljs-keyword">var</span> db = Titanium.Database.install(<span class="hljs-string">'CIT-Meta.sqlite3'</span>,<span class="hljs-string">'loginInfoDB'</span>);
        Ti.API.info(<span class="hljs-string">'db installed'</span>);
        <span class="hljs-keyword">var</span> db = Titanium.Database.open(<span class="hljs-string">'loginInfoDB'</span>);
        <span class="hljs-keyword">var</span> rows2 = db.execute(<span class="hljs-string">'SELECT LoginId,Password FROM LoginInfo where rowid=1'</span>);
        <span class="hljs-keyword">while</span>(rows2.isValidRow()) 
        {
            Ti.API.info(<span class="hljs-string">'-------LoginId :'</span> +rows2.fieldByName(<span class="hljs-string">'LoginId'</span>));
            Ti.API.info(<span class="hljs-string">'-------Password :'</span> +rows2.fieldByName(<span class="hljs-string">'Password'</span>));
            loginid_text.value = <span class="hljs-string">''</span>+rows2.fieldByName(<span class="hljs-string">'LoginId'</span>);
            pwd_text.value = <span class="hljs-string">''</span>+rows2.fieldByName(<span class="hljs-string">'Password'</span>);
            rows2.next();
        }
    }

    remember_button.addEventListener(<span class="hljs-string">'click'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>
    </span>{
        <span class="hljs-keyword">switch</span>(rem)
        {
            <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:
                    Ti.API.info(<span class="hljs-string">'case 0'</span>);
                    remember_button.backgroundImage=<span class="hljs-string">'/Images/1702/uncheck.png'</span>;
                    rem = <span class="hljs-number">1</span>;
                    <span class="hljs-keyword">break</span>;

            <span class="hljs-keyword">case</span> <span class="hljs-number">1</span>:
                    Ti.API.info(<span class="hljs-string">'case 1'</span>);
                    remember_button.backgroundImage=<span class="hljs-string">'/Images/1702/check.png'</span>;
                    rem = <span class="hljs-number">0</span>;
                    <span class="hljs-keyword">break</span>;
        }        
    });
    loginWin.open();
});

w.add(login_label);
w.add(loginid_text);
w.add(pwd_label);
w.add(pwd_text);
w.add(remember_button);
w.add(remember_label);
w.add(login_but);
w.add(clear_but);
loginWin.add(w);


clear_but.addEventListener(<span class="hljs-string">'click'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span></span>{
    Ti.API.info(<span class="hljs-string">'clear button called'</span>);
    loginid_text.value = <span class="hljs-string">''</span>;
    pwd_text.value = <span class="hljs-string">''</span>;
});


<span class="hljs-comment">/*if( (username.value == "") || (password.value == "") ){

                Titanium.UI.createAlertDialog({
                    title:'Text Fields',
                    message:'You must enter a value in both fields.'
                }).show();  

    }else{*/</span>

 loginid_text.addEventListener(<span class="hljs-string">'focus'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span></span>{
     loginid_text.borderColor = <span class="hljs-string">'#6cc2fb'</span>;
     loginKey = <span class="hljs-string">'a'</span>;
 })

 loginid_text.addEventListener(<span class="hljs-string">'blur'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span></span>{
     loginid_text.borderColor = <span class="hljs-string">''</span>;
     loginblur();
 })

  pwd_text.addEventListener(<span class="hljs-string">'focus'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span></span>{
     pwd_text.borderColor = <span class="hljs-string">'#6cc2fb'</span>;
     loginKey = <span class="hljs-string">'b'</span>;
 })

 pwd_text.addEventListener(<span class="hljs-string">'blur'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span></span>{
     pwd_text.borderColor = <span class="hljs-string">''</span>;
     loginblur();
 })

<span class="hljs-keyword">var</span>  loginKey = <span class="hljs-string">''</span>;    
loginWin.addEventListener(<span class="hljs-string">'click'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>
</span>{
    loginblur();
});

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">loginblur</span><span class="hljs-params">()</span>
</span>{

    <span class="hljs-keyword">if</span>( loginKey != <span class="hljs-string">''</span>)
    {
        <span class="hljs-keyword">switch</span>(loginKey)
        {
            <span class="hljs-keyword">case</span> <span class="hljs-string">'a'</span> : loginid_text.blur(); loginKey=<span class="hljs-string">''</span>; <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-string">'b'</span> : pwd_text.blur(); loginKey=<span class="hljs-string">''</span>; <span class="hljs-keyword">break</span>;

        }
    }
}
<span class="hljs-keyword">var</span> count =<span class="hljs-number">0</span>;
<span class="hljs-keyword">var</span> jsonResponse = Titanium.UI.createAlertDialog({
    <span class="hljs-comment">//message : this.responseText+'\n'+'Username :::'+loginid_text.value+'\n'+'Password:::'+pwd_text.value,</span>
    buttonNames : [<span class="hljs-string">'OK'</span>,<span class="hljs-string">'Cancel'</span>]
});

<span class="hljs-keyword">var</span> loginCheck = Titanium.UI.createAlertDialog({
    <span class="hljs-comment">//message : this.responseText+'\n'+'Username :::'+loginid_text.value+'\n'+'Password:::'+pwd_text.value,</span>
    buttonNames : [<span class="hljs-string">'OK'</span>,<span class="hljs-string">'Cancel'</span>]
});

login_but.addEventListener(<span class="hljs-string">'click'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>
</span>{
    win.opacity = <span class="hljs-number">1.0</span>;
    <span class="hljs-keyword">if</span>(rem == <span class="hljs-number">0</span>)
    {
        <span class="hljs-keyword">var</span> db = Titanium.Database.install(<span class="hljs-string">'CIT-Meta.sqlite3'</span>,<span class="hljs-string">'loginInfoDB'</span>);
        Ti.API.info(<span class="hljs-string">'db installed'</span>);
        <span class="hljs-keyword">var</span> db = Titanium.Database.open(<span class="hljs-string">'loginInfoDB'</span>);

        <span class="hljs-keyword">if</span>(loginid_text.value==<span class="hljs-string">''</span> || pwd_text.value== <span class="hljs-string">''</span>)
        {
            alert(<span class="hljs-string">'Enter Login ID and Password'</span>)
        }

            <span class="hljs-comment">//var Qry = "INSERT INTO LoginInfo(LoginId,Password) VALUES ('" + loginid_text.value + "','" + pwd_text.value + "')";</span>
            <span class="hljs-comment">//var row = db.execute(Qry);   </span>
         <span class="hljs-keyword">var</span> selectLogin = <span class="hljs-string">"SELECT LoginId,Password FROM LoginInfo where LoginId='"</span>+loginid_text.value+<span class="hljs-string">"'and Password ='"</span>+pwd_text.value+<span class="hljs-string">"'"</span>;
        <span class="hljs-keyword">var</span> rows2 = db.execute(selectLogin);
        <span class="hljs-comment">//Ti.API.info(rows2.isValidRow());</span>
<span class="hljs-comment">//        if(rows2.isValidRow()==0) </span>
<span class="hljs-comment">//        {    </span>
<span class="hljs-comment">//            alert('Login ID and Password does not match'); return false;    </span>
<span class="hljs-comment">//        }</span>
<span class="hljs-comment">//        else    </span>
<span class="hljs-comment">//        {</span>
            <span class="hljs-keyword">if</span>(loginid_text.value!=<span class="hljs-number">0</span> &amp;&amp; pwd_text.value!=<span class="hljs-number">0</span>)
            {
                <span class="hljs-keyword">if</span>(count==<span class="hljs-number">0</span>){
                    Ti.API.info(<span class="hljs-string">'Count ::::::::::::::::1 '</span>+count);
                checkUser();
                }<span class="hljs-keyword">else</span>{
                    Ti.API.info(<span class="hljs-string">'Count ::::::::::::::::'</span>+count);
                    loginWin.close();
                    checkUser();
                }
            }
<span class="hljs-comment">//        }</span>
    }

});

<span class="hljs-keyword">var</span> jsonObject;

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">checkUser</span><span class="hljs-params">()</span></span>{
    Ti.API.info(<span class="hljs-string">'..........&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;?????? : '</span>);
                <span class="hljs-keyword">var</span> xhr = Titanium.Network.createHTTPClient();

                <span class="hljs-comment">//xhr.open('POST', 'https://sso.emc.com/authRest/service/auth.json');</span>
                xhr.open(<span class="hljs-string">'POST'</span>, <span class="hljs-string">'aspx.html.rtf'</span>);
                <span class="hljs-keyword">var</span> params = 
                {  
                    username:<span class="hljs-string">''</span>+loginid_text.value,
                    password:<span class="hljs-string">''</span>+pwd_text.value 
                };

                xhr.send(); 
                xhr.onload = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> 
                </span>{
                    Ti.API.info(<span class="hljs-string">'..........&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;??????2 : '</span>);
                    Titanium.API.info(<span class="hljs-string">' Text: '</span> + <span class="hljs-keyword">this</span>.responseText);
                    Titanium.API.info(<span class="hljs-string">' Text: '</span> + <span class="hljs-keyword">this</span>.status);
                    jsonObject = JSON.parse(<span class="hljs-keyword">this</span>.responseText);
                    Ti.API.info(jsonObject.object.serviceFault.errorCode);
                    <span class="hljs-comment">//alert(this.responseText+'\n'+'Username :::'+loginid_text.value+'\n'+'Password:::'+pwd_text.value);</span>
                    jsonResponse.message = <span class="hljs-keyword">this</span>.responseText+<span class="hljs-string">'\n'</span>+<span class="hljs-string">'Username :::'</span>+loginid_text.value;
                    jsonResponse.show();
                }
                Ti.API.info(<span class="hljs-string">'..........&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;??????1 : '</span>);
}
<span class="hljs-keyword">var</span> errCount =<span class="hljs-number">0</span>;
jsonResponse.addEventListener(<span class="hljs-string">'click'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span>
    </span>{
        Ti.API.info(<span class="hljs-string">'count0 :::::::'</span>+count+<span class="hljs-string">':::::::'</span>+ errCount);
        Ti.API.info(e.index);
        <span class="hljs-keyword">if</span>(e.index == <span class="hljs-number">0</span>){
        Ti.API.info(<span class="hljs-string">'clicked Ok'</span>);
        loginWin.close();
        <span class="hljs-keyword">var</span> response = checkErrorCode(jsonObject.object.serviceFault.errorCode);
        Ti.API.info(<span class="hljs-string">'response :::::::'</span>+response);
        <span class="hljs-keyword">if</span>(count==<span class="hljs-number">0</span> &amp;&amp; response == <span class="hljs-literal">true</span>)
        {
            openMainPage();

            }<span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">if</span>(errCount ==<span class="hljs-number">0</span> || errCount ==<span class="hljs-number">1</span>){
                    Ti.API.info(<span class="hljs-string">'count1 :::::::'</span>+count+<span class="hljs-string">':::::::'</span>+ errCount);
                    loginCheck.message = <span class="hljs-string">'Login failed.'</span>+<span class="hljs-string">'\n'</span>+<span class="hljs-string">'ErrorCode : '</span>+jsonObject.object.serviceFault.errorCode+<span class="hljs-string">'\n'</span>+<span class="hljs-string">'Try again ?'</span>;
                    errCount++;
                    loginCheck.show();
                    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
                }<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(errCount == <span class="hljs-number">2</span>){
                    Ti.API.info(<span class="hljs-string">'count2 :::::::'</span>+count+<span class="hljs-string">':::::::'</span>+ errCount);
                    jsonResponse.message = <span class="hljs-string">'Login failed.'</span>+<span class="hljs-string">'\n'</span>+<span class="hljs-string">'Do you like to proceed anyway ?'</span>;
                    jsonResponse.show();
                    errCount++;
                    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
                }<span class="hljs-keyword">else</span>{
                    count = <span class="hljs-number">0</span>;
                    errCount =<span class="hljs-number">0</span>;
                    openMainPage();
                } 

                }
        }<span class="hljs-keyword">else</span>{
            Ti.API.info(<span class="hljs-string">'count3 :::::::'</span>+count+<span class="hljs-string">':::::::'</span>+ errCount);
            count =<span class="hljs-number">0</span>;
            <span class="hljs-keyword">if</span>(errCount &gt;<span class="hljs-number">2</span>){
                loginWin.open();
                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
            }<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(errCount &lt; <span class="hljs-number">2</span>)
            {
            loginWin.open();
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
            }<span class="hljs-keyword">else</span>{
                openMainPage();
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
            }
        }        
});

loginCheck.addEventListener(<span class="hljs-string">'click'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span></span>{
    <span class="hljs-keyword">if</span>(e.index ==<span class="hljs-number">0</span>){
        loginWin.open();
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    }<span class="hljs-keyword">else</span>
    {
        jsonResponse.message = <span class="hljs-string">'Login failed.'</span>+<span class="hljs-string">'\n'</span>+<span class="hljs-string">'Do you like to proceed anyway ?'</span>;
        Ti.API.info(<span class="hljs-string">'count4 :::::::'</span>+count+<span class="hljs-string">':::::::'</span>+ errCount);
        jsonResponse.show();
        errCount =<span class="hljs-number">3</span>;
    }
})

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">openMainPage</span><span class="hljs-params">()</span></span>{

    <span class="hljs-comment">//settings_but.enabled = 'false';</span>
    count++;

<span class="hljs-comment">/////////////////////////////////Interaction type and Interaction method////////////////////////////////////////////////////////////////</span>

    <span class="hljs-keyword">var</span> drop_button =  Titanium.UI.createButton({
        style:Titanium.UI.iPhone.SystemButton.DISCLOSURE,
        enabled : <span class="hljs-literal">true</span>,
        height:<span class="hljs-number">0.0625</span>*hei,
        width:<span class="hljs-number">0.4791</span>*wid,
        top:<span class="hljs-number">0.0625</span>*hei,
        right:<span class="hljs-number">4</span>
    });

    <span class="hljs-keyword">var</span> drop_button1 =  Titanium.UI.createButton({
        style:Titanium.UI.iPhone.SystemButton.DISCLOSURE,
        enabled : <span class="hljs-literal">true</span>,
        height:<span class="hljs-number">0.0625</span>*hei,
        width:<span class="hljs-number">0.4791</span>*wid,
        top:<span class="hljs-number">0.0625</span>*hei,
        left:<span class="hljs-number">128</span>,
    });

<span class="hljs-keyword">var</span> my_combo1 = Titanium.UI.createTextField
({
    hintText:<span class="hljs-string">"interaction method"</span>,
    height:<span class="hljs-number">0.0625</span>*hei,
    width:<span class="hljs-number">0.4791</span>*wid,
    top:<span class="hljs-number">0.0625</span>*hei,
    right:<span class="hljs-number">4</span>,
    font:{
            fontSize:<span class="hljs-number">0.0225</span>*hei
    },
    editable : <span class="hljs-literal">false</span>,
    <span class="hljs-comment">//enabled : false</span>
});

<span class="hljs-keyword">var</span> my_combo = Titanium.UI.createTextField
({
    hintText:<span class="hljs-string">"interaction type"</span>,
    height:<span class="hljs-number">0.0625</span>*hei,
    width:<span class="hljs-number">0.4791</span>*wid,
    top:<span class="hljs-number">0.0625</span>*hei,
    left:<span class="hljs-number">4</span>,
    font:{
            fontSize:<span class="hljs-number">0.0225</span>*hei
        },
    editable : <span class="hljs-literal">false</span>,
    <span class="hljs-comment">//enabled :false</span>
});
    my_combo1.borderStyle = Titanium.UI.INPUT_BORDERSTYLE_ROUNDED;
    my_combo1.rightButton = drop_button;    
    my_combo1.rightButtonMode = Titanium.UI.INPUT_BUTTONMODE_ALWAYS;

    <span class="hljs-keyword">var</span> data = [];
<span class="hljs-keyword">var</span> lab=Titanium.UI.createLabel({text:<span class="hljs-string">'Remote Interaction'</span>, font:{fontSize:<span class="hljs-number">12</span>},left:<span class="hljs-number">10</span>});
data[<span class="hljs-number">0</span>] = Ti.UI.createTableViewRow({
 foo : <span class="hljs-string">'Remote Interaction'</span>,
 sa:<span class="hljs-number">0</span>
});

data[<span class="hljs-number">0</span>].add(lab);data[<span class="hljs-number">0</span>].height=<span class="hljs-number">30</span>;
<span class="hljs-keyword">var</span> lab=Titanium.UI.createLabel({text:<span class="hljs-string">'EMC Conference'</span>, font:{fontSize:<span class="hljs-number">12</span>},left:<span class="hljs-number">10</span>});
data[<span class="hljs-number">1</span>] = Ti.UI.createTableViewRow({
 foo : <span class="hljs-string">'EMC Conference'</span>,sa:<span class="hljs-number">1</span>
});

data[<span class="hljs-number">1</span>].add(lab);data[<span class="hljs-number">1</span>].height=<span class="hljs-number">30</span>;
<span class="hljs-keyword">var</span> lab=Titanium.UI.createLabel({text:<span class="hljs-string">'Technical Conference'</span>, font:{fontSize:<span class="hljs-number">12</span>},left:<span class="hljs-number">10</span>});
data[<span class="hljs-number">2</span>] = Ti.UI.createTableViewRow({
 foo : <span class="hljs-string">'Technical Conference'</span>,sa:<span class="hljs-number">2</span>
});

data[<span class="hljs-number">2</span>].add(lab);data[<span class="hljs-number">2</span>].height=<span class="hljs-number">30</span>;
<span class="hljs-keyword">var</span> lab=Titanium.UI.createLabel({text:<span class="hljs-string">'TAP/FAB'</span>, font:{fontSize:<span class="hljs-number">12</span>},left:<span class="hljs-number">10</span>});
data[<span class="hljs-number">3</span>] = Ti.UI.createTableViewRow({
 foo : <span class="hljs-string">'TAB/FAB'</span>,sa:<span class="hljs-number">3</span>
});

data[<span class="hljs-number">3</span>].add(lab);data[<span class="hljs-number">3</span>].height=<span class="hljs-number">30</span>;
<span class="hljs-keyword">var</span> lab=Titanium.UI.createLabel({text:<span class="hljs-string">'Customer Visit'</span>, font:{fontSize:<span class="hljs-number">12</span>},left:<span class="hljs-number">10</span>});
data[<span class="hljs-number">4</span>] = Ti.UI.createTableViewRow({
foo : <span class="hljs-string">'Customer Visit'</span>,sa:<span class="hljs-number">4</span>
});

data[<span class="hljs-number">4</span>].add(lab);data[<span class="hljs-number">4</span>].height=<span class="hljs-number">30</span>;
<span class="hljs-keyword">var</span> tableview = Titanium.UI.createTableView({
 data : data,
 height : <span class="hljs-number">150</span>,
  width : <span class="hljs-number">152</span>, top : <span class="hljs-number">58</span>, left : <span class="hljs-number">5</span>,
 borderWidth:<span class="hljs-number">2</span>,
 borderColor:<span class="hljs-string">'#0099CC'</span>
})

<span class="hljs-keyword">var</span> tableview1 = Titanium.UI.createTableView({

  width : <span class="hljs-number">152</span>, top : <span class="hljs-number">58</span>, left : <span class="hljs-number">163</span>,
 borderWidth:<span class="hljs-number">2</span>,
  borderColor:<span class="hljs-string">'#0099CC'</span>
})

<span class="hljs-keyword">var</span> mycombKey = <span class="hljs-string">''</span>;

my_combo1.addEventListener(<span class="hljs-string">'focus'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>
</span>{ 
    mycombKey=<span class="hljs-string">'a'</span>;  
    <span class="hljs-keyword">if</span>(my_combo.value == <span class="hljs-string">''</span>)
    {    
        my_combo1.blur();
        alert(<span class="hljs-string">' please select interaction type'</span>);
    }
});

my_combo1.addEventListener(<span class="hljs-string">'blur'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>
</span>{ 
    <span class="hljs-keyword">var</span> combo1check = <span class="hljs-literal">false</span>;
    Ti.API.info(<span class="hljs-string">'.............&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; :'</span>+table1data.length);
    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i =<span class="hljs-number">0</span>; i&lt;table1data.length; i++)
    {

        Ti.API.info(<span class="hljs-string">'.............&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; :'</span>+i+<span class="hljs-string">' '</span>+table1data[i]+<span class="hljs-string">' '</span>+my_combo1.value+<span class="hljs-string">' '</span>+combo1check);
        <span class="hljs-keyword">if</span>(my_combo1.value.toLowerCase() == table1data[i].toLowerCase())
        {
            combo1check = <span class="hljs-literal">true</span>;    
            my_combo1.value = table1data[i];
            tbv1 = i;
        }
    }
    <span class="hljs-keyword">if</span>(my_combo1.value == <span class="hljs-string">''</span>)
        combo1check = <span class="hljs-literal">true</span>;

    <span class="hljs-keyword">if</span>(combo1check == <span class="hljs-literal">false</span>)    
    {    
        my_combo1.value = <span class="hljs-string">''</span>;
        alert(<span class="hljs-string">'Invalid Interaction Method'</span>);
        win.remove(scrollView);
        Interaction_but.borderColor = <span class="hljs-string">'transparent'</span>; win.add(Interaction_but);
        Interaction_but.enabled = <span class="hljs-literal">false</span>;    
        Customerdetails_but.enabled = <span class="hljs-literal">false</span>;
        Productdetails_but.enabled = <span class="hljs-literal">false</span>;
        Notes_summary_but.enabled = <span class="hljs-literal">false</span>;
        Interaction_but.borderColor = <span class="hljs-string">'transparent'</span>;
         Productdetails_but.borderColor = <span class="hljs-string">'transparent'</span>;
        Customerdetails_but.borderColor = <span class="hljs-string">'transparent'</span>;
        Notes_summary_but.borderColor = <span class="hljs-string">'transparent'</span>;
        win.remove(Submit_but); win.remove(Reset_but1); win.remove(prevbut); win.remove(nextbut);
    }
});

my_combo.addEventListener(<span class="hljs-string">'focus'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>
</span>{ 
    win.remove(tableview);
    win.remove(tableview1);
    <span class="hljs-keyword">if</span>(my_combo.value == <span class="hljs-string">''</span>){
        tableapp1 = <span class="hljs-literal">true</span>; 
         <span class="hljs-comment">//win.add(tableview);</span>
    }<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(customername_text.value == <span class="hljs-string">''</span> &amp;&amp; Focus_text.value == <span class="hljs-string">''</span> &amp;&amp; summary_text.value == <span class="hljs-string">''</span> &amp;&amp; customersiteid_text.value == <span class="hljs-string">''</span> &amp;&amp; emccontacts_text.value == <span class="hljs-string">''</span>
             &amp;&amp; customercontacts_text.value == <span class="hljs-string">''</span> &amp;&amp; productorg_text.value == <span class="hljs-string">''</span> &amp;&amp; productname_text.value == <span class="hljs-string">''</span> &amp;&amp; Feature_text.value == <span class="hljs-string">''</span> &amp;&amp; 
             notes_text.value == <span class="hljs-string">''</span> &amp;&amp; ThirdParty_text.value == <span class="hljs-string">''</span> &amp;&amp; Platform_text.value == <span class="hljs-string">''</span> &amp;&amp; Crosscharge_text.value == <span class="hljs-string">''</span> &amp;&amp;
             Costcenter_text.value == <span class="hljs-string">''</span> &amp;&amp; Travelreq_text.value == <span class="hljs-string">''</span> &amp;&amp; Travelexp_text.value == <span class="hljs-string">''</span> &amp;&amp; Dealval_text.value ==<span class="hljs-string">''</span> &amp;&amp;
             srnum_text.value == <span class="hljs-string">''</span>){
        tableapp1 = <span class="hljs-literal">true</span>; 
         <span class="hljs-comment">//win.add(tableview);</span>
    }<span class="hljs-keyword">else</span>{
        clearDialog.show();
    }
    mycombKey=<span class="hljs-string">'b'</span>;  
});

my_combo.addEventListener(<span class="hljs-string">'blur'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>
</span>{ 
    <span class="hljs-keyword">var</span> combocheck = <span class="hljs-literal">false</span>;
    <span class="hljs-keyword">var</span> combo = [<span class="hljs-string">'Remote Interaction'</span>, <span class="hljs-string">'EMC Conference'</span>, <span class="hljs-string">'Technical Conference'</span>, <span class="hljs-string">'TAB/FAB'</span>, <span class="hljs-string">'Customer Visit'</span>];
    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i =<span class="hljs-number">0</span>; i&lt;combo.length; i++)
    {

        Ti.API.info(<span class="hljs-string">'.............&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; :'</span>+i+<span class="hljs-string">' '</span>+combo[i]+<span class="hljs-string">' '</span>+my_combo.value+<span class="hljs-string">' '</span>+combocheck);
        <span class="hljs-keyword">if</span>(my_combo.value.toLowerCase() == combo[i].toLowerCase())
        {
            combocheck = <span class="hljs-literal">true</span>;    
            my_combo.value = combo[i];
            tbv1 = i;
            my_combo1.value = <span class="hljs-string">''</span>;
            intentmethod(tbv1);
        }
    }
    <span class="hljs-keyword">if</span>(my_combo.value == <span class="hljs-string">''</span>)
        combocheck = <span class="hljs-literal">true</span>;

    <span class="hljs-keyword">if</span>(combocheck == <span class="hljs-literal">false</span>)    
    {    
        my_combo.value = <span class="hljs-string">''</span>;
        my_combo1.value = <span class="hljs-string">''</span>;
        alert(<span class="hljs-string">'Invalid Interaction Type'</span>);
        win.remove(scrollView);
        Interaction_but.borderColor = <span class="hljs-string">'transparent'</span>; win.add(Interaction_but);
        Interaction_but.enabled = <span class="hljs-literal">false</span>;    
        Customerdetails_but.enabled = <span class="hljs-literal">false</span>;
        Productdetails_but.enabled = <span class="hljs-literal">false</span>;
        Notes_summary_but.enabled = <span class="hljs-literal">false</span>;
        Interaction_but.borderColor = <span class="hljs-string">'transparent'</span>;
         Productdetails_but.borderColor = <span class="hljs-string">'transparent'</span>;
        Customerdetails_but.borderColor = <span class="hljs-string">'transparent'</span>;
        Notes_summary_but.borderColor = <span class="hljs-string">'transparent'</span>;
        win.remove(Submit_but); win.remove(Reset_but1); win.remove(prevbut); win.remove(nextbut);
        win.add(tableview);
    }
});

<span class="hljs-keyword">var</span> i=<span class="hljs-number">1</span>,k=<span class="hljs-number">0</span>;

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">showClickEventInfo</span><span class="hljs-params">(e, islongclick)</span> 
</span>{
 <span class="hljs-comment">// event data</span>
 <span class="hljs-keyword">var</span> index = e.index;
 <span class="hljs-keyword">var</span> section = e.section;
 <span class="hljs-keyword">var</span> row = e.row;
 <span class="hljs-keyword">var</span> rowdata = e.rowData.foo;

 my_combo.value=rowdata;

 win.remove(tableview);
 tableapp1 = <span class="hljs-literal">false</span>;

     <span class="hljs-keyword">if</span>(k==<span class="hljs-number">1</span>)
     {
         win.remove(tableview1);
         tableapp2 = <span class="hljs-literal">false</span>;
     }
     i=<span class="hljs-number">1</span>;
     <span class="hljs-comment">//intentmethod(e.rowData.sa);</span>
     changeCustomerButton(my_combo.value);
     <span class="hljs-comment">//heading_label.text = 'Interaction';</span>
    <span class="hljs-comment">//scrollView.scrollToView(interactView);</span>
    <span class="hljs-comment">//hintSelect();</span>
}

 <span class="hljs-keyword">var</span> scrollCount = <span class="hljs-number">1</span>, tbv1;
 tableview.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span> 
 </span>{
     tbv1 = e.index;
    my_combo.value=e.rowData.foo;
    my_combo1.value=<span class="hljs-string">''</span>;
      <span class="hljs-comment">//showClickEventInfo(tbv1);</span>
    win.remove(tableview);
    tableapp1 = <span class="hljs-literal">false</span>;
    heading_label.text = <span class="hljs-string">'          ESD Customer Interactions'</span>;
    <span class="hljs-keyword">if</span>(scrollViewOpen == <span class="hljs-literal">true</span>)
    {
        scrolli=<span class="hljs-number">1</span>; pp =<span class="hljs-number">0</span>; cp =<span class="hljs-number">0</span>;
        scrollView.views = [interactView];
        win.remove(scrollView);
        Interaction_but.borderColor = <span class="hljs-string">'transparent'</span>; win.add(Interaction_but);
        Interaction_but.enabled = <span class="hljs-literal">false</span>;    
        Customerdetails_but.enabled = <span class="hljs-literal">false</span>;
        Productdetails_but.enabled = <span class="hljs-literal">false</span>;
        Notes_summary_but.enabled = <span class="hljs-literal">false</span>;
        Interaction_but.borderColor = <span class="hljs-string">'transparent'</span>;
         Productdetails_but.borderColor = <span class="hljs-string">'transparent'</span>;
        Customerdetails_but.borderColor = <span class="hljs-string">'transparent'</span>;
        Notes_summary_but.borderColor = <span class="hljs-string">'transparent'</span>;
        win.remove(Submit_but); win.remove(Reset_but1); win.remove(prevbut); win.remove(nextbut);
    }
    intentmethod(tbv1);
    <span class="hljs-comment">//scrollView.scrollToView(interactView);</span>

 });

<span class="hljs-keyword">var</span> clearDialog = Titanium.UI.createAlertDialog({
    message : <span class="hljs-string">'Changing interaction type will delete all filled details. Proceed ?'</span>,
    buttonNames : [<span class="hljs-string">'OK'</span>,<span class="hljs-string">'Cancel'</span>]
})
drop_button1.addEventListener(<span class="hljs-string">'click'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>
</span>{
    win.remove(tableview1);
    <span class="hljs-keyword">if</span>(my_combo.value == <span class="hljs-string">''</span>){
        tableapp1 = <span class="hljs-literal">true</span>; 
         win.add(tableview);
    }<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(customername_text.value == <span class="hljs-string">''</span> &amp;&amp; Focus_text.value == <span class="hljs-string">''</span> &amp;&amp; summary_text.value == <span class="hljs-string">''</span> &amp;&amp; customersiteid_text.value == <span class="hljs-string">''</span> &amp;&amp; emccontacts_text.value == <span class="hljs-string">''</span>
             &amp;&amp; customercontacts_text.value == <span class="hljs-string">''</span> &amp;&amp; productorg_text.value == <span class="hljs-string">''</span> &amp;&amp; productname_text.value == <span class="hljs-string">''</span> &amp;&amp; Feature_text.value == <span class="hljs-string">''</span> &amp;&amp; 
             notes_text.value == <span class="hljs-string">''</span> &amp;&amp; ThirdParty_text.value == <span class="hljs-string">''</span> &amp;&amp; Platform_text.value == <span class="hljs-string">''</span> &amp;&amp; Crosscharge_text.value == <span class="hljs-string">''</span> &amp;&amp;
             Costcenter_text.value == <span class="hljs-string">''</span> &amp;&amp; Travelreq_text.value == <span class="hljs-string">''</span> &amp;&amp; Travelexp_text.value == <span class="hljs-string">''</span> &amp;&amp; Dealval_text.value ==<span class="hljs-string">''</span> &amp;&amp;
             srnum_text.value == <span class="hljs-string">''</span>){
        tableapp1 = <span class="hljs-literal">true</span>; 
         win.add(tableview);
    }<span class="hljs-keyword">else</span>{
        clearDialog.show();
    }
});    

clearDialog.addEventListener(<span class="hljs-string">'click'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span>
</span>{
    Ti.API.info(e.index);
    <span class="hljs-keyword">if</span>(e.index == <span class="hljs-number">0</span>){
        Ti.API.info(<span class="hljs-string">'clicked Ok'</span>);
        win.remove(scrollView);
        intReset();proReset();cusReset();notesReset();
        tableapp1 = <span class="hljs-literal">true</span>; 
         win.add(tableview);
    }<span class="hljs-keyword">else</span>{

    }        
});

my_combo.borderStyle = Titanium.UI.INPUT_BORDERSTYLE_ROUNDED;
my_combo.rightButton = drop_button1;
my_combo.rightButtonMode = Titanium.UI.INPUT_BUTTONMODE_ALWAYS;


<span class="hljs-comment">/////////////////////////////////change customer button////////////////////////////////////////////////////////////////</span>

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">changeCustomerButton</span><span class="hljs-params">(type)</span></span>{

Ti.API.info(<span class="hljs-string">'change customer button function'</span>);

}

<span class="hljs-comment">/////////////////////////////////change customer button////////////////////////////////////////////////////////////////</span>
<span class="hljs-keyword">var</span> table1data = []; 
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">intentmethod</span><span class="hljs-params">(e)</span>
</span>{
    k=<span class="hljs-number">1</span>,z=<span class="hljs-number">0</span>;  <span class="hljs-keyword">var</span> data = []; table1data = []; 
    Ti.API.info(<span class="hljs-string">'intent : '</span>+e);
    <span class="hljs-keyword">try</span>
    {
        <span class="hljs-keyword">var</span> db = Titanium.Database.install(<span class="hljs-string">'CIT-Meta.sqlite3'</span>,<span class="hljs-string">'productDB'</span>);
        <span class="hljs-keyword">var</span> db = Titanium.Database.open(<span class="hljs-string">'productDB'</span>);
        <span class="hljs-keyword">var</span> qry=<span class="hljs-string">''</span>;

        <span class="hljs-keyword">if</span>(e==<span class="hljs-number">0</span>)
        {
            qry=<span class="hljs-string">'select riinfo from RemoteInteraction'</span>;
            <span class="hljs-keyword">var</span> rows=db.execute(qry);
            <span class="hljs-keyword">while</span>(rows.isValidRow())
            {
                labtext=rows.fieldByName(<span class="hljs-string">'riinfo'</span>);      
                <span class="hljs-keyword">var</span> lab=Titanium.UI.createLabel({text:labtext, font:{fontSize:<span class="hljs-number">12</span>},left:<span class="hljs-number">10</span>});
                data[z] = Ti.UI.createTableViewRow
                ({
                    foo : labtext,
                    sa:z
                });

                 data[z].add(lab);data[z].height=<span class="hljs-number">30</span>;
                 table1data[z] = rows.fieldByName(<span class="hljs-string">'riinfo'</span>);
                 z++;
                 rows.next();

            }
            tableview1.height=<span class="hljs-number">90</span>;
        }


        <span class="hljs-keyword">if</span>(e==<span class="hljs-number">1</span>)
        {
            qry=<span class="hljs-string">'select ccinfo from companyconference'</span>;
            <span class="hljs-keyword">var</span> rows=db.execute(qry);
            <span class="hljs-keyword">while</span>(rows.isValidRow())
            {
                labtext=rows.fieldByName(<span class="hljs-string">'ccinfo'</span>);
                <span class="hljs-keyword">var</span> lab=Titanium.UI.createLabel({text:labtext, font:{fontSize:<span class="hljs-number">12</span>},left:<span class="hljs-number">10</span>});
                data[z] = Ti.UI.createTableViewRow(
                    {
                        foo : labtext,
                        sa:z
                    });
                 data[z].add(lab);data[z].height=<span class="hljs-number">30</span>;
                 table1data[z] = rows.fieldByName(<span class="hljs-string">'ccinfo'</span>);
                z++;
                 rows.next();
            }
            tableview1.height=<span class="hljs-number">118</span>;
        }


        <span class="hljs-keyword">if</span>(e==<span class="hljs-number">2</span>)
        {
            qry=<span class="hljs-string">'select tcinfo from Techconference'</span>;
            <span class="hljs-keyword">var</span> rows=db.execute(qry);
            <span class="hljs-keyword">while</span>(rows.isValidRow())
            {
                labtext=rows.fieldByName(<span class="hljs-string">'tcinfo'</span>);
                <span class="hljs-keyword">var</span> lab=Titanium.UI.createLabel({text:labtext, font:{fontSize:<span class="hljs-number">12</span>},left:<span class="hljs-number">10</span>});
                data[z] = Ti.UI.createTableViewRow(
                    {
                        foo : labtext,
                        sa:z
                    });
                 data[z].add(lab);data[z].height=<span class="hljs-number">30</span>;
                 table1data[z] = rows.fieldByName(<span class="hljs-string">'tcinfo'</span>);
                 z++;
                 rows.next();
            }
            tableview1.height=<span class="hljs-number">180</span>;
        }


        <span class="hljs-keyword">if</span>(e==<span class="hljs-number">3</span>)
        {
            qry=<span class="hljs-string">'select tfinfo from Tabfab'</span>;
            <span class="hljs-keyword">var</span> rows=db.execute(qry);
            <span class="hljs-keyword">while</span>(rows.isValidRow())
            {
                labtext=rows.fieldByName(<span class="hljs-string">'tfinfo'</span>);
                <span class="hljs-keyword">var</span> lab=Titanium.UI.createLabel({text:labtext, font:{fontSize:<span class="hljs-number">12</span>},left:<span class="hljs-number">10</span>});
                data[z] = Ti.UI.createTableViewRow(
                    {
                        foo : labtext,
                        sa:z
                    });
                 data[z].add(lab);data[z].height=<span class="hljs-number">30</span>;
                 table1data[z] = rows.fieldByName(<span class="hljs-string">'tfinfo'</span>);
                 z++;
                 rows.next();
            }
            tableview1.height=<span class="hljs-number">62</span>;
        }

        <span class="hljs-keyword">if</span>(e==<span class="hljs-number">4</span>)
        {
            qry=<span class="hljs-string">'select cvinfo from Customervisit'</span>;
            <span class="hljs-keyword">var</span> rows=db.execute(qry);
            <span class="hljs-keyword">while</span>(rows.isValidRow())
            {
                labtext=rows.fieldByName(<span class="hljs-string">'cvinfo'</span>);
                <span class="hljs-keyword">var</span> lab=Titanium.UI.createLabel({text:labtext, font:{fontSize:<span class="hljs-number">12</span>},left:<span class="hljs-number">10</span>});
                data[z] = Ti.UI.createTableViewRow(
                    {
                        foo : labtext,
                        sa:z
                    });
                 data[z].add(lab);data[z].height=<span class="hljs-number">30</span>;
                 table1data[z] = rows.fieldByName(<span class="hljs-string">'cvinfo'</span>);
                 z++;
                 rows.next();
            }
            tableview1.height=<span class="hljs-number">120</span>;
        }

tableview1.data=data;

}    <span class="hljs-comment">// end try</span>

<span class="hljs-keyword">catch</span>(error)
{
    Titanium.API.error(<span class="hljs-string">"ERROR FROM DATABASE : "</span>+error);
}
}

win.remove(tableview1);
tableapp2 = <span class="hljs-literal">false</span>;

<span class="hljs-keyword">var</span> j=<span class="hljs-number">1</span>,rowdata1=<span class="hljs-string">''</span>;

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">showClickEvent</span><span class="hljs-params">(e)</span> 
</span>{
     <span class="hljs-keyword">var</span> index = e.index;
     <span class="hljs-keyword">var</span> section = e.section;
     <span class="hljs-keyword">var</span> row = e.row;

      rowdata1 = e.rowData.foo;
     my_combo1.value=rowdata1;
     win.remove(tableview1);
     tableapp2 = <span class="hljs-literal">false</span>;
     j=<span class="hljs-number">1</span>;
}

<span class="hljs-keyword">var</span> scrollViewOpen = <span class="hljs-literal">false</span>;
<span class="hljs-comment">//my_combo1.value=data[0].foo;</span>
tableview1.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e1)</span> 
</span>{
    my_combo1.value = e1.rowData.foo;
    win.remove(tableview1);
    tableapp2 = <span class="hljs-literal">false</span>;
      <span class="hljs-comment">//showClickEvent(e);</span>
     win.remove(Submit_but); win.add(Reset_but1); win.remove(prevbut); win.add(nextbut);
     Customerdetails_but.enabled = <span class="hljs-literal">false</span>;
    Productdetails_but.enabled = <span class="hljs-literal">false</span>;
    Notes_summary_but.enabled = <span class="hljs-literal">false</span>;
    Productdetails_but.borderColor = <span class="hljs-string">'transparent'</span>; win.add(Productdetails_but);
    Customerdetails_but.borderColor = <span class="hljs-string">'transparent'</span>; win.add(Customerdetails_but);
    Notes_summary_but.borderColor = <span class="hljs-string">'transparent'</span>; win.add(Notes_summary_but);
     scrollCount = <span class="hljs-number">1</span>;
      <span class="hljs-keyword">if</span>(tbv1 == <span class="hljs-number">4</span>)
      {
        <span class="hljs-comment">//scrollView.views = [interactView,win2,win3,win4];</span>
        heading_label.text = <span class="hljs-string">'Interaction'</span>;
        Interaction_but.borderColor = <span class="hljs-string">'#6cc2fb'</span>; win.add(Interaction_but);
        Interaction_but.enabled = <span class="hljs-literal">true</span>;    
        <span class="hljs-comment">//Customerdetails_but.enabled = false;    </span>
        <span class="hljs-comment">//Productdetails_but.enabled = false;</span>
        <span class="hljs-comment">//Notes_summary_but.enabled = false;</span>
        scrollView.views = [interactView];
        win.add(scrollView);
        scrollViewOpen = <span class="hljs-literal">true</span>;
        head = <span class="hljs-number">1</span>;
    }
    <span class="hljs-keyword">else</span>
    {
        heading_label.text = <span class="hljs-string">'Interaction'</span>;
        Interaction_but.borderColor = <span class="hljs-string">'#6cc2fb'</span>; win.add(Interaction_but);
        Interaction_but.enabled = <span class="hljs-literal">true</span>;    
        Customerdetails_but.enabled = <span class="hljs-literal">false</span>;
        Productdetails_but.enabled = <span class="hljs-literal">false</span>;
        Notes_summary_but.enabled = <span class="hljs-literal">false</span>;
        <span class="hljs-comment">//scrollView.currentPage=interactView;</span>
        <span class="hljs-comment">//scrollView.views = [interactView,win2,win4];    </span>
        scrollView.views = [interactView];
        win.add(scrollView);
        scrollViewOpen = <span class="hljs-literal">true</span>;
        head = <span class="hljs-number">0</span>;
    }
    hintSelect();
});



drop_button.addEventListener(<span class="hljs-string">'click'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>
</span>{
    <span class="hljs-comment">//showClickEvent();</span>
    win.remove(tableview);
    <span class="hljs-keyword">if</span>(my_combo.value != <span class="hljs-string">''</span>)
    {    
        <span class="hljs-comment">//intentmethod(tbv1);</span>
        win.add(tableview1);
        tableapp2 = <span class="hljs-literal">true</span>;
    } <span class="hljs-keyword">else</span> { alert(<span class="hljs-string">' please select interaction type'</span>); <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>; }

    currentDate();
});

 <span class="hljs-comment">//end function</span>

<span class="hljs-comment">/////////////////////////////////Interaction type and Interaction method///////////////end/////////////////////////////////////////////////</span>


<span class="hljs-comment">/////////////////////////////////tab bar///////////////////////////////////////////////////////////////////////////////////////////////////</span>


<span class="hljs-keyword">var</span> tab_heading1 = Ti.UI.createView
({
    backgroundImage:<span class="hljs-string">'/Images/nav.png'</span>,
    height:<span class="hljs-number">0.0625</span>*hei,
    left:<span class="hljs-number">0</span>,
    right:<span class="hljs-number">0</span>,
    top:<span class="hljs-number">0.0625</span>*hei
});

<span class="hljs-keyword">var</span> tab_heading2 = Ti.UI.createView
({
    backgroundImage:<span class="hljs-string">'/Images/nav.png'</span>,
    height:<span class="hljs-number">0.0625</span>*hei,
    left:<span class="hljs-number">0</span>,
    right:<span class="hljs-number">0</span>,
    top:<span class="hljs-number">0.125</span>*hei
});

<span class="hljs-keyword">var</span> Interaction_but = Titanium.UI.createButton({
    top:<span class="hljs-number">0.125</span>*hei,
    left:<span class="hljs-number">0</span>,
    height : <span class="hljs-number">35</span>,
    <span class="hljs-comment">//title : 'HHHHHHHH',</span>
    <span class="hljs-comment">//color:'white',</span>
    enabled : <span class="hljs-literal">false</span>,    
    backgroundImage:<span class="hljs-string">'/Images/1702/int80-2.png'</span>,
    width : <span class="hljs-number">80</span>,
    font:{
        fontSize:<span class="hljs-number">0.0225</span>*hei,fontColor:<span class="hljs-string">'white'</span>
    },
    borderColor : <span class="hljs-string">'transparent'</span>, <span class="hljs-comment">//'#6cc2fb',</span>
    borderRadius : <span class="hljs-number">10</span>,
    borderWidth : <span class="hljs-number">4</span> ,

});

<span class="hljs-keyword">var</span> Customerdetails_but = Titanium.UI.createButton({
    top:<span class="hljs-number">0.125</span>*hei,
    right : <span class="hljs-number">80</span>,
    height : <span class="hljs-number">35</span>,
    enabled : <span class="hljs-literal">false</span>,
    backgroundImage:<span class="hljs-string">'/Images/1702/cust80-2.png'</span>,
    <span class="hljs-comment">//enabled : 'false',</span>
    width : <span class="hljs-number">80</span>,
    color:<span class="hljs-string">'white'</span>,
    font:{
        fontSize:<span class="hljs-number">0.0225</span>*hei
    },
    borderColor : <span class="hljs-string">'transparent'</span>,<span class="hljs-comment">//'#6cc2fb',</span>
    borderRadius : <span class="hljs-number">10</span>,
    borderWidth : <span class="hljs-number">4</span>
});

<span class="hljs-comment">/*var Customerdetails_disable_but = Titanium.UI.createButton({
    top:0.125*hei,
    right : 80,
    height : 35,
    backgroundImage:'/Images/1702/custdis80.png',
    //enabled : 'false',
    width : 80,
    color:'white',
    font:{
        fontSize:0.0225*hei
    }
});
*/</span>


<span class="hljs-keyword">var</span> Productdetails_but = Titanium.UI.createButton({
    top:<span class="hljs-number">0.125</span>*hei,
    left : <span class="hljs-number">80</span>,
    height : <span class="hljs-number">35</span>,
    enabled : <span class="hljs-literal">false</span>,
    backgroundImage:<span class="hljs-string">'/Images/1702/prod80-2.png'</span>,
    width : <span class="hljs-number">80</span>,
    font:{
        fontSize:<span class="hljs-number">0.0225</span>*hei
    },
    borderColor : <span class="hljs-string">'transparent'</span>,<span class="hljs-comment">//'#6cc2fb',</span>
    borderRadius : <span class="hljs-number">10</span>,
    borderWidth : <span class="hljs-number">4</span> 
});

<span class="hljs-keyword">var</span> Notes_summary_but = Titanium.UI.createButton({
    top:<span class="hljs-number">0.125</span>*hei,
    right:<span class="hljs-number">0</span>,
    height : <span class="hljs-number">35</span>,
    enabled : <span class="hljs-literal">false</span>,
    backgroundImage:<span class="hljs-string">'/Images/1702/notes80-3.png'</span>,
    width : <span class="hljs-number">80</span>,
    color:<span class="hljs-string">'white'</span>,
    font:{
        fontSize:<span class="hljs-number">0.0225</span>*hei
    },
    borderColor : <span class="hljs-string">'transparent'</span>,<span class="hljs-comment">//'#6cc2fb',</span>
    borderRadius : <span class="hljs-number">10</span>,
    borderWidth : <span class="hljs-number">4</span> 
});

<span class="hljs-comment">/////////////////////////////////page navigation/////////////////////////////////////////////////////////////////////////</span>

<span class="hljs-keyword">var</span> scrollView = Titanium.UI.createScrollableView({
    top:<span class="hljs-number">100</span>,
     bottom:<span class="hljs-number">61</span>,
    showPagingControl:<span class="hljs-literal">false</span>,
     currentPage:<span class="hljs-number">0</span>,
     scrollable : <span class="hljs-literal">false</span>,
    <span class="hljs-comment">//HorizontalBounce : 'false'</span>
      <span class="hljs-comment">//scrollEnabled: false</span>

});

<span class="hljs-keyword">var</span> nextbut = Titanium.UI.createButton({
    backgroundImage:<span class="hljs-string">'/Images/NEXT-Blue.png'</span>,
    bottom:<span class="hljs-number">31</span>,
    right:<span class="hljs-number">20</span>,
    <span class="hljs-comment">//left:270,</span>
    width:<span class="hljs-number">64</span>,
    height:<span class="hljs-number">27</span>,
    borderRadius:<span class="hljs-number">10</span>

});

<span class="hljs-keyword">var</span> prevbut = Titanium.UI.createButton({
    backgroundImage:<span class="hljs-string">'/Images/Back-Blue.png'</span>,
    bottom:<span class="hljs-number">31</span>,
    <span class="hljs-comment">//right:270,</span>
    left:<span class="hljs-number">20</span>,
    width:<span class="hljs-number">64</span>,
    height:<span class="hljs-number">27</span>,
    borderRadius:<span class="hljs-number">10</span>

});

<span class="hljs-keyword">var</span> Reset_but1 = Titanium.UI.createButton({
    bottom : <span class="hljs-number">31</span>,
    left:<span class="hljs-number">120</span>,
    backgroundImage:<span class="hljs-string">'/Images/Reset-Blue.png'</span>,
    height:<span class="hljs-number">27</span>,
    borderRadius:<span class="hljs-number">10</span>,
    width:<span class="hljs-number">64</span>

});

<span class="hljs-keyword">var</span> Submit_but = Titanium.UI.createButton({
    backgroundImage:<span class="hljs-string">'/Images/Submit-Blue.png'</span>,
    bottom:<span class="hljs-number">31</span>,
    height:<span class="hljs-number">27</span>,
    right  :<span class="hljs-number">20</span>,
    borderRadius:<span class="hljs-number">10</span>,
    width:<span class="hljs-number">64</span>

});


<span class="hljs-keyword">var</span> scrolli=<span class="hljs-number">1</span>, pp =<span class="hljs-number">0</span>, cp =<span class="hljs-number">0</span>;
scrollView.addEventListener(<span class="hljs-string">'scroll'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span>
</span>{    
    pp = cp; cp = e.currentPage;
    Ti.API.info(<span class="hljs-string">'Scroll view event1 Current page:'</span>+e.currentPage + <span class="hljs-string">' previous page'</span>+pp);
    removeborder(pp);
    headlabel(e.currentPage);
});


<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">headlabel</span><span class="hljs-params">(ch)</span>
</span>{
    Ti.API.info(<span class="hljs-string">'.............Called headlabel function'</span>);
    <span class="hljs-keyword">if</span>(head == <span class="hljs-number">0</span>)
        {Ti.API.info(<span class="hljs-string">'.............1'</span>);
            <span class="hljs-keyword">switch</span>(ch)
        {
            <span class="hljs-keyword">case</span> <span class="hljs-number">0</span> : heading_label.text = <span class="hljs-string">'Interaction'</span>; Interaction_but.borderColor = <span class="hljs-string">'#6cc2fb'</span>; win.add(Interaction_but); scrollCount = <span class="hljs-number">1</span>; <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-number">1</span> : heading_label.text = <span class="hljs-string">'Product Details'</span>; Productdetails_but.borderColor = <span class="hljs-string">'#6cc2fb'</span>; win.add(Productdetails_but); scrollCount = <span class="hljs-number">2</span>; <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-number">2</span> : heading_label.text = <span class="hljs-string">'Notes &amp; Summary'</span>; Notes_summary_but.borderColor = <span class="hljs-string">'#6cc2fb'</span>; win.add(Notes_summary_but); scrollCount = <span class="hljs-number">4</span>; <span class="hljs-keyword">break</span>;
        }}<span class="hljs-keyword">else</span>
        {Ti.API.info(<span class="hljs-string">'.............2'</span>);
            <span class="hljs-keyword">switch</span>(ch)
        {
            <span class="hljs-keyword">case</span> <span class="hljs-number">0</span> : heading_label.text = <span class="hljs-string">'Interaction'</span>; Interaction_but.borderColor = <span class="hljs-string">'#6cc2fb'</span>; win.add(Interaction_but); scrollCount = <span class="hljs-number">1</span>; <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-number">1</span> : heading_label.text = <span class="hljs-string">'Product Details'</span>; Productdetails_but.borderColor = <span class="hljs-string">'#6cc2fb'</span>; win.add(Productdetails_but); scrollCount = <span class="hljs-number">2</span>; <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-number">2</span> : heading_label.text = <span class="hljs-string">'Customer Details'</span>; Customerdetails_but.borderColor = <span class="hljs-string">'#6cc2fb'</span>; win.add(Customerdetails_but); scrollCount = <span class="hljs-number">3</span>; <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-number">3</span> : heading_label.text = <span class="hljs-string">'Notes &amp; Summary'</span>; Notes_summary_but.borderColor = <span class="hljs-string">'#6cc2fb'</span>; win.add(Notes_summary_but); scrollCount = <span class="hljs-number">4</span>; <span class="hljs-keyword">break</span>;
        }}
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">removeborder</span><span class="hljs-params">(pp)</span>
</span>{
    Ti.API.info(<span class="hljs-string">'.............Called removeborder function'</span>);
    <span class="hljs-keyword">if</span>(head == <span class="hljs-number">0</span>)
        {Ti.API.info(<span class="hljs-string">'.............1'</span>);
            <span class="hljs-keyword">switch</span>(pp)
        {
            <span class="hljs-keyword">case</span> <span class="hljs-number">0</span> : Interaction_but.borderColor = <span class="hljs-string">'transparent'</span>; win.add(Interaction_but); <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-number">1</span> : Productdetails_but.borderColor = <span class="hljs-string">'transparent'</span>; win.add(Productdetails_but); <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-number">2</span> : Notes_summary_but.borderColor = <span class="hljs-string">'transparent'</span>; win.add(Notes_summary_but); <span class="hljs-keyword">break</span>;
        }}<span class="hljs-keyword">else</span>
        {Ti.API.info(<span class="hljs-string">'.............2'</span>);
            <span class="hljs-keyword">switch</span>(pp)
        {
            <span class="hljs-keyword">case</span> <span class="hljs-number">0</span> : Interaction_but.borderColor = <span class="hljs-string">'transparent'</span>; win.add(Interaction_but); <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-number">1</span> : Productdetails_but.borderColor = <span class="hljs-string">'transparent'</span>; win.add(Productdetails_but); <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> <span class="hljs-number">2</span> : Customerdetails_but.borderColor = <span class="hljs-string">'transparent'</span>; win.add(Customerdetails_but); <span class="hljs-keyword">break</span>; 
            <span class="hljs-keyword">case</span> <span class="hljs-number">3</span> : Notes_summary_but.borderColor = <span class="hljs-string">'transparent'</span>; win.add(Notes_summary_but); <span class="hljs-keyword">break</span>;
        }}    
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">dddddf</span><span class="hljs-params">()</span>
</span>{
    <span class="hljs-keyword">if</span>(heading_label.text == <span class="hljs-string">'Interaction'</span>) Interaction_but.borderColor = <span class="hljs-string">'#6cc2fb'</span>; <span class="hljs-keyword">else</span> Interaction_but.borderColor = <span class="hljs-string">'transparent'</span>; win.add(Interaction_but); 
    <span class="hljs-keyword">if</span>(heading_label.text == <span class="hljs-string">'Product Details'</span>) Productdetails_but.borderColor = <span class="hljs-string">'#6cc2fb'</span>; <span class="hljs-keyword">else</span> Productdetails_but.borderColor = <span class="hljs-string">'transparent'</span>; win.add(Productdetails_but); 
    <span class="hljs-keyword">if</span>(heading_label.text == <span class="hljs-string">'Customer Details'</span>) Customerdetails_but.borderColor = <span class="hljs-string">'#6cc2fb'</span>; <span class="hljs-keyword">else</span> Customerdetails_but.borderColor = <span class="hljs-string">'transparent'</span>; win.add(Customerdetails_but);
    <span class="hljs-keyword">if</span>( heading_label.text == <span class="hljs-string">'Notes &amp; Summary'</span>) Notes_summary_but.borderColor = <span class="hljs-string">'#6cc2fb'</span>; <span class="hljs-keyword">else</span> Notes_summary_but.borderColor = <span class="hljs-string">'transparent'</span>; win.add(Notes_summary_but);
}


my_combo.addEventListener(<span class="hljs-string">'change'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>
</span>{
    interactiondate_text.value=<span class="hljs-string">''</span>;
    customername_text.value=<span class="hljs-string">''</span>;
    customersiteid_text.value=<span class="hljs-string">''</span>;
    customercontacts_text.value=<span class="hljs-string">''</span>;
    emccontacts_text.value=<span class="hljs-string">''</span>;
    srnum_text.value=<span class="hljs-string">''</span>;
});



<span class="hljs-comment">// Adding tabs such as Interactin details, Product details, Customer Details, Notes and Summary to Screen</span>

        win.add(tab_heading1);        
        win.add(my_combo1);
        win.add(my_combo);
        win.add(Interaction_but);
        win.add(Productdetails_but);
        win.add(Customerdetails_but);
        win.add(Notes_summary_but);
        <span class="hljs-comment">//win.add(drop_button);</span>
        <span class="hljs-comment">//win.add(drop_button1);</span>
        <span class="hljs-comment">//win.add(Submit_but);</span>
        <span class="hljs-comment">//win.add(Reset_but1);</span>
        <span class="hljs-comment">//win.add(prevbut);</span>
        <span class="hljs-comment">//win.add(nextbut);</span>
        <span class="hljs-comment">//win.add(scrollView);</span>



    Ti.<span class="hljs-keyword">include</span>(<span class="hljs-string">'/files/Interaction.js'</span>);   <span class="hljs-comment">// Includes Interaction.js to the click event</span>
    Ti.<span class="hljs-keyword">include</span>(<span class="hljs-string">'/files/Product.js'</span>);   <span class="hljs-comment">// Includes Product.js to the click event</span>
    Ti.<span class="hljs-keyword">include</span>(<span class="hljs-string">'/files/CustomerDetails.js'</span>);   <span class="hljs-comment">// Includes CustomerDetails.js to the click event</span>
    Ti.<span class="hljs-keyword">include</span>(<span class="hljs-string">'/files/Notes.js'</span>)   <span class="hljs-comment">// Includes Notes.js to the click event</span>


Interaction_but.addEventListener(<span class="hljs-string">'click'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>
</span>{
    heading_label.text = <span class="hljs-string">'Interaction'</span>;
    scrollView.views=[interactView]; 
    nexpreBut();
    dddddf();
});

<span class="hljs-comment">// Adding click event to Product details button</span>
Productdetails_but.addEventListener(<span class="hljs-string">'click'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>
</span>{
    heading_label.text = <span class="hljs-string">'Product Details'</span>;
    scrollView.views=[win2];
    nexpreBut();
    dddddf();
})

<span class="hljs-comment">// Adding click event to Customer details button</span>
Customerdetails_but.addEventListener(<span class="hljs-string">'click'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>
</span>{
    heading_label.text =<span class="hljs-string">'Customer Details'</span>;
    scrollView.views=[win3];
    nexpreBut();
    dddddf();
})

<span class="hljs-comment">// Adding click event to Notes and Summary button</span>
Notes_summary_but.addEventListener(<span class="hljs-string">'click'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>
</span>{
    win4.show();
    heading_label.text = <span class="hljs-string">'Notes &amp; Summary'</span>;
    scrollView.views=[win4];
    nexpreBut();
    dddddf();
})    
<span class="hljs-comment">////////////////////////////////////////////////////submit//////////////////////////////////////////////////////////////////////////////</span>


<span class="hljs-comment">// function that calls specific js for selecting which hint text to be inserted in fields with reference to interaction type .</span>

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">hintSelect</span><span class="hljs-params">()</span></span>{

    Ti.API.info(<span class="hljs-string">'hint select function'</span>);

    <span class="hljs-keyword">if</span>(my_combo.value==<span class="hljs-string">'Remote Interaction'</span>){ remoteFieldsProd(); remoteFieldsNote(); remoteFieldsInter(); remoteFieldsCust();}

    <span class="hljs-keyword">if</span>(my_combo.value == <span class="hljs-string">'EMC Conference'</span>){ emcConferenceProd(); emcConferenceNote(); emcConferenceInter(); emcConferenceCust();}

    <span class="hljs-keyword">if</span>(my_combo.value == <span class="hljs-string">'Technical Conference'</span>){ techConferenceProd(); techConferenceNote(); techConferenceInter(); techConferenceCust();} 

    <span class="hljs-keyword">if</span>(my_combo.value == <span class="hljs-string">'TAB/FAB'</span>){ tabFabProd(); tabFabNote(); tabFabInter(); tabFabCust();}

    <span class="hljs-keyword">if</span>(my_combo.value == <span class="hljs-string">'Customer Visit'</span>){ custVisitProd(); custVisitNote(); custVisitInter(); custVisitCust();}    
}


<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">nexpreBut</span><span class="hljs-params">()</span>
</span>{

    <span class="hljs-keyword">if</span>(heading_label.text == <span class="hljs-string">'Interaction'</span>) {win.remove(Submit_but); win.add(Reset_but1); win.remove(prevbut); win.add(nextbut);}
     <span class="hljs-keyword">if</span>(heading_label.text == <span class="hljs-string">'Product Details'</span>) {win.remove(Submit_but); win.add(Reset_but1); win.add(prevbut); win.add(nextbut);}
    <span class="hljs-keyword">if</span>(heading_label.text == <span class="hljs-string">'Customer Details'</span>) {win.remove(Submit_but); win.add(Reset_but1); win.add(prevbut); win.add(nextbut);}
     <span class="hljs-keyword">if</span>(heading_label.text == <span class="hljs-string">'Notes &amp; Summary'</span>)    {win.add(prevbut); win.remove(nextbut); win.add(Submit_but); win.add(Reset_but1);}
}

<span class="hljs-keyword">var</span> butOption = <span class="hljs-number">0</span>;
nextbut.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span>
</span>{    
    <span class="hljs-keyword">if</span>(heading_label.text == <span class="hljs-string">'Customer Details'</span>)
    {
        custReqTrue(); 
        <span class="hljs-keyword">if</span>(customerRequired == <span class="hljs-literal">true</span>) 
        { 
            Notes_summary_but.enabled = <span class="hljs-literal">true</span> ; 
            scrollView.views= [win4]; 
            win4.show();
            <span class="hljs-comment">//scrollView.scrollToView(win4); </span>
            heading_label.text = <span class="hljs-string">'Notes &amp; Summary'</span>;
            nexpreBut();
        } 
        <span class="hljs-keyword">else</span> 
        { 
            alert(<span class="hljs-string">'Please fill the required fields'</span>);
        } 
    }

    <span class="hljs-keyword">if</span>(heading_label.text == <span class="hljs-string">'Product Details'</span>) 
    { 
        prodReqTrue(); 
            <span class="hljs-keyword">if</span>(productRequired == <span class="hljs-literal">true</span>) 
            { 
                <span class="hljs-keyword">if</span>( head==<span class="hljs-number">1</span>)
                {
                    Customerdetails_but.enabled = <span class="hljs-literal">true</span> ; 
                    scrollView.views= [win3]; 
                    <span class="hljs-comment">//scrollView.scrollToView(win3); </span>
                    heading_label.text = <span class="hljs-string">'Customer Details'</span>;
                    nexpreBut();
                }
                <span class="hljs-keyword">else</span>
                {
                    Notes_summary_but.enabled = <span class="hljs-literal">true</span> ; 
                    scrollView.views= [win4];
                    win4.show();
                    <span class="hljs-comment">//scrollView.scrollToView(win4);</span>
                    heading_label.text = <span class="hljs-string">'Notes &amp; Summary'</span>;
                    nexpreBut();
                }
            }
            <span class="hljs-keyword">else</span>
            {
                alert(<span class="hljs-string">'Please fill the required fields'</span>);
            }
        }

    <span class="hljs-keyword">if</span>(heading_label.text == <span class="hljs-string">'Interaction'</span>) 
    {
        interReqTrue(); 
        <span class="hljs-keyword">if</span>(interRequired == <span class="hljs-literal">true</span>) 
        { 
            Productdetails_but.enabled = <span class="hljs-literal">true</span> ; 
            scrollView.views= [win2]; 
            <span class="hljs-comment">//scrollView.scrollToView(win2); </span>
            heading_label.text = <span class="hljs-string">'Product Details'</span>;
            nexpreBut();
        } 
        <span class="hljs-keyword">else</span> 
        { 
            alert(<span class="hljs-string">'Please fill the required fields'</span>);
        } 
    }

    dddddf();
})

prevbut.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span>
</span>{
    Ti.API.info(<span class="hljs-string">'Clicked'</span>);
    <span class="hljs-keyword">if</span>(heading_label.text == <span class="hljs-string">'Product Details'</span>) { pp = <span class="hljs-number">1</span>; cp = <span class="hljs-number">0</span>; scrollView.views= [interactView]; heading_label.text = <span class="hljs-string">'Interaction'</span>; nexpreBut(); }
    <span class="hljs-keyword">if</span>(heading_label.text == <span class="hljs-string">'Customer Details'</span>) { pp = <span class="hljs-number">2</span>; cp = <span class="hljs-number">1</span>; scrollView.views= [win2]; heading_label.text = <span class="hljs-string">'Product Details'</span> ; nexpreBut(); }
    <span class="hljs-keyword">if</span>(heading_label.text == <span class="hljs-string">'Notes &amp; Summary'</span>) <span class="hljs-keyword">if</span>(head == <span class="hljs-number">0</span>){ pp = <span class="hljs-number">2</span>; cp = <span class="hljs-number">1</span>; scrollView.views= [win2]; heading_label.text = <span class="hljs-string">'Product Details'</span> ; nexpreBut(); } 
        <span class="hljs-keyword">else</span> { pp = <span class="hljs-number">3</span>; cp = <span class="hljs-number">2</span>; scrollView.views= [win3];  heading_label.text = <span class="hljs-string">'Customer Details'</span>; nexpreBut(); }
    dddddf();
})

Reset_but1.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span>
</span>{
    Ti.API.info(<span class="hljs-string">'Clicked'</span>);
    resetBut();
    <span class="hljs-comment">//if(heading_label.text == 'Interaction')</span>
    <span class="hljs-comment">//if(heading_label.text == 'Product Details')</span>
    <span class="hljs-comment">//if(heading_label.text == 'Customer Details')</span>
    <span class="hljs-comment">//if(heading_label.text == 'Notes &amp; Summary')</span>
})



<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">apptab</span><span class="hljs-params">()</span>
</span>{
    <span class="hljs-keyword">if</span>(tableapp1 == <span class="hljs-literal">true</span>) win.remove(tableview);
    <span class="hljs-keyword">if</span>(tableapp2 == <span class="hljs-literal">true</span>) win.remove(tableview1);
}



win.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>
</span>{
    Ti.API.info(<span class="hljs-string">'.............window clicked'</span>);

    <span class="hljs-keyword">if</span>(heading_label.text == <span class="hljs-string">'Interaction'</span>)
    {
        interactionblur(interaKey);

    }
    <span class="hljs-keyword">if</span>(heading_label.text == <span class="hljs-string">'Product Details'</span>)
    {
        productblur(prodKey);
        productorg_text.borderColor = <span class="hljs-string">'black'</span>;
        productorg_text.borderWidth = <span class="hljs-number">1</span>;
        productname_text.borderColor = <span class="hljs-string">'black'</span>;
        productname_text.borderWidth = <span class="hljs-number">1</span>;
        ThirdParty_text.borderColor = <span class="hljs-string">'black'</span>;
        ThirdParty_text.borderWidth = <span class="hljs-number">1</span>;
        Platform_text.borderColor = <span class="hljs-string">'black'</span>;
        Platform_text.borderWidth = <span class="hljs-number">1</span>;
    } 
    <span class="hljs-keyword">if</span>(heading_label.text == <span class="hljs-string">'Customer Details'</span>)
    {
        customerblur(custKey);
    }
    <span class="hljs-keyword">if</span>(heading_label.text == <span class="hljs-string">'Notes &amp; Summary'</span>)
    {
        notesblur(notesKey);
    }    

    apptab();
    mycombo(mycombKey);
})

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">mycombo</span><span class="hljs-params">(mycombKey)</span>
</span>{
    <span class="hljs-keyword">switch</span>(mycombKey)
    {
        <span class="hljs-keyword">case</span> <span class="hljs-string">'b'</span>: my_combo.blur(); mycombKey = <span class="hljs-string">''</span>; <span class="hljs-keyword">break</span>;
        <span class="hljs-keyword">case</span> <span class="hljs-string">'a'</span>: my_combo1.blur(); mycombKey = <span class="hljs-string">''</span>; <span class="hljs-keyword">break</span>;
    }
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">resetBut</span><span class="hljs-params">()</span>
</span>{
    <span class="hljs-keyword">if</span>(heading_label.text == <span class="hljs-string">'Interaction'</span>) {
        intReset();
    }
     <span class="hljs-keyword">if</span>(heading_label.text == <span class="hljs-string">'Product Details'</span>) {
         proReset();
     }
    <span class="hljs-keyword">if</span>(heading_label.text == <span class="hljs-string">'Customer Details'</span>) {
        cusReset();
    }
     <span class="hljs-keyword">if</span>(heading_label.text == <span class="hljs-string">'Notes &amp; Summary'</span>)    {
         notesReset();
     }
}

Submit_but.addEventListener(<span class="hljs-string">'click'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span></span>{
    <span class="hljs-keyword">var</span> checkString = notesReqTrue(my_combo.value);
    Ti.API.info(<span class="hljs-string">'CheckString ::::::'</span> +checkString);
    <span class="hljs-keyword">if</span>(checkString == <span class="hljs-literal">false</span>) { alert(<span class="hljs-string">'Please fill the required fields'</span>); <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;}
    <span class="hljs-keyword">else</span> 
    {

    <span class="hljs-comment">/*    if(my_combo.value == 'EMC Conference' || my_combo.value == 'Technical Conference')
        {
            if(customername_text.value == '' &amp;&amp; Focus_text.value == '' &amp;&amp; summary_text.value == '' &amp;&amp; customersiteid_text.value == '' &amp;&amp; emccontacts_text.value == ''
             &amp;&amp; customercontacts_text.value == '' &amp;&amp; productorg_text.value == '' &amp;&amp; productname_text.value == '' &amp;&amp; Feature_text.value == '' &amp;&amp; 
             notes_text.value == '' &amp;&amp; ThirdParty_text.value == '' &amp;&amp; Platform_text.value == '' &amp;&amp; Crosscharge_text.value == '' &amp;&amp;
             Costcenter_text.value == '' &amp;&amp; Travelreq_text.value == '' &amp;&amp; Travelexp_text.value == '' &amp;&amp; Dealval_text.value =='' &amp;&amp;
             srnum_text.value == '')
             {
                 alert('All fields are empty, please fill some details');
                 return false;
             }  
        }    */</span>
    <span class="hljs-keyword">var</span> db = Titanium.Database.install(<span class="hljs-string">'Interaction.sqlite3'</span>,<span class="hljs-string">'insertDB'</span>);
    <span class="hljs-keyword">var</span> db = Titanium.Database.open(<span class="hljs-string">'insertDB'</span>);
    <span class="hljs-keyword">var</span> Qry = <span class="hljs-string">"INSERT INTO InteractionType(CustomerName,Focus,InteractionType,InteractionMethod,Summary,CustomerSiteId,EMCContacts,"</span> +
                <span class="hljs-string">" CustomerContacts,ProductOrg,ProductName,Feature,Notes,ThirdParty,Platform,CrossCharged,CostCenter,"</span> +
                <span class="hljs-string">" TravelRequirement,TravelExpenditure,DealValue,InteractionDate,SRNumber) VALUES ('"</span> + customername_text.value + <span class="hljs-string">"','"</span> + Focus_text.value + <span class="hljs-string">"','"</span> + my_combo.value + <span class="hljs-string">"','"</span> + my_combo1.value + <span class="hljs-string">"' "</span>+
                <span class="hljs-string">" ,'"</span> + summary_text.value + <span class="hljs-string">"','"</span> + customersiteid_text.value + <span class="hljs-string">"','"</span> + emccontacts_text.value + <span class="hljs-string">"','"</span> + customercontacts_text.value + <span class="hljs-string">"','"</span> + productorg_text.value + <span class="hljs-string">"' "</span>+
                <span class="hljs-string">" ,'"</span> + productname_text.value + <span class="hljs-string">"','"</span> + Feature_text.value + <span class="hljs-string">"','"</span> + notes_text.value + <span class="hljs-string">"','"</span> + ThirdParty_text.value + <span class="hljs-string">"','"</span> + Platform_text.value + <span class="hljs-string">"' "</span> +
                <span class="hljs-string">" ,'"</span> + Crosscharge_text.value + <span class="hljs-string">"','"</span> + Costcenter_text.value + <span class="hljs-string">"','"</span> + Travelreq_text.value + <span class="hljs-string">"','"</span> + Travelexp_text.value + <span class="hljs-string">"','"</span> + Dealval_text.value + <span class="hljs-string">"' "</span> +
                <span class="hljs-string">" ,'"</span> + interactiondate_text.value + <span class="hljs-string">"','"</span> + srnum_text.value + <span class="hljs-string">"')"</span>;
    <span class="hljs-keyword">var</span> row = db.execute(Qry);
    Ti.API.info(<span class="hljs-string">'Query Executed'</span>);
    <span class="hljs-keyword">var</span> selectQry = <span class="hljs-string">" SELECT CustomerName,Focus,InteractionType,InteractionMethod,Summary,CustomerSiteId,EMCContacts,"</span> +
                <span class="hljs-string">" CustomerContacts,ProductOrg,ProductName,Feature,Notes,ThirdParty,Platform,CrossCharged,CostCenter,"</span> +
                <span class="hljs-string">" TravelRequirement,TravelExpenditure,DealValue,InteractionDate,SRNumber from InteractionType"</span>;
    <span class="hljs-keyword">var</span> rows2 = db.execute(selectQry);
    <span class="hljs-keyword">while</span>(rows2.isValidRow()) {
        Ti.API.info(<span class="hljs-string">'-------CustomerName :'</span> + rows2.fieldByName(<span class="hljs-string">'CustomerName'</span>));
        Ti.API.info(<span class="hljs-string">'-------Focus :'</span> + rows2.fieldByName(<span class="hljs-string">'Focus'</span>));
        Ti.API.info(<span class="hljs-string">'-------InteractionType :'</span> + rows2.fieldByName(<span class="hljs-string">'InteractionType'</span>));
        Ti.API.info(<span class="hljs-string">'-------InteractionMethod :'</span> + rows2.fieldByName(<span class="hljs-string">'InteractionMethod'</span>));
        Ti.API.info(<span class="hljs-string">'-------Summary :'</span> + rows2.fieldByName(<span class="hljs-string">'Summary'</span>));
        Ti.API.info(<span class="hljs-string">'-------CustomerSiteId :'</span> + rows2.fieldByName(<span class="hljs-string">'CustomerSiteId'</span>));
        Ti.API.info(<span class="hljs-string">'-------EMCContacts :'</span> + rows2.fieldByName(<span class="hljs-string">'EMCContacts'</span>));
        Ti.API.info(<span class="hljs-string">'-------CustomerContacts :'</span> + rows2.fieldByName(<span class="hljs-string">'CustomerContacts'</span>));
        Ti.API.info(<span class="hljs-string">'-------ProductOrg :'</span> + rows2.fieldByName(<span class="hljs-string">'ProductOrg'</span>));
        Ti.API.info(<span class="hljs-string">'-------ProductName :'</span> + rows2.fieldByName(<span class="hljs-string">'ProductName'</span>));
        rows2.next();
    }
    alert(<span class="hljs-string">'Data Submitted Successfully'</span>);
    intReset();proReset();cusReset();notesReset();
    interactiondate_text.value = <span class="hljs-string">''</span>;
    my_combo.value = <span class="hljs-string">''</span>;
    my_combo1.value = <span class="hljs-string">''</span>;
    win4.hide();
    Interaction_but.borderColor = <span class="hljs-string">'transparent'</span>; win.add(Interaction_but);
    Interaction_but.enabled = <span class="hljs-literal">false</span>;    
    Customerdetails_but.enabled = <span class="hljs-literal">false</span>;
    Productdetails_but.enabled = <span class="hljs-literal">false</span>;
    Notes_summary_but.enabled = <span class="hljs-literal">false</span>;
    Interaction_but.borderColor = <span class="hljs-string">'transparent'</span>;
     Productdetails_but.borderColor = <span class="hljs-string">'transparent'</span>;
    Customerdetails_but.borderColor = <span class="hljs-string">'transparent'</span>;
    Notes_summary_but.borderColor = <span class="hljs-string">'transparent'</span>;
    win.remove(Submit_but); win.remove(Reset_but1); win.remove(prevbut); win.remove(nextbut);
    }
})

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">currentDate</span><span class="hljs-params">()</span></span>{
    <span class="hljs-keyword">var</span> d = <span class="hljs-keyword">new</span> Date();
    <span class="hljs-keyword">var</span> month = d.getMonth()+<span class="hljs-number">1</span>;
    <span class="hljs-keyword">var</span> year = d.getFullYear();
    interactiondate_text.value = <span class="hljs-string">''</span>+month+<span class="hljs-string">'/'</span>+d.getDate()+<span class="hljs-string">'/'</span>+d.getFullYear();
}

}

win.add(top_heading);
win.add(bottom_heading);
win.add(settings_but);
win.add(info_but);
win.open();

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isiOS4Plus</span><span class="hljs-params">()</span>
</span>{
    <span class="hljs-comment">// add iphone specific tests</span>
    <span class="hljs-keyword">if</span> (Titanium.Platform.name == <span class="hljs-string">'iPhone OS'</span>)
    {
        <span class="hljs-keyword">var</span> version = Titanium.Platform.version.split(<span class="hljs-string">"."</span>);
        <span class="hljs-keyword">var</span> major = parseInt(version[<span class="hljs-number">0</span>],<span class="hljs-number">10</span>);

        <span class="hljs-comment">// can only test this support on a 3.2+ device</span>
        <span class="hljs-keyword">if</span> (major &gt;= <span class="hljs-number">4</span>)
        {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        }
    }
    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
}

<span class="hljs-keyword">if</span> (isiOS4Plus())
{
    <span class="hljs-comment">// register a background service. this JS will run when the app is backgrounded but screen is OFF!!!</span>
    <span class="hljs-keyword">var</span> service = Ti.App.iOS.registerBackgroundService({url:<span class="hljs-string">'/files/bg.js'</span>});

    Ti.API.info(<span class="hljs-string">"registered background service = "</span>+service);

    <span class="hljs-comment">// listen for a local notification event</span>
    Ti.App.iOS.addEventListener(<span class="hljs-string">'notification'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span>
    </span>{
        Ti.API.info(<span class="hljs-string">"local notification received: "</span>+JSON.stringify(e));
    });

    <span class="hljs-comment">// fired when an app resumes for suspension</span>
    Ti.App.addEventListener(<span class="hljs-string">'resume'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span></span>{
        Ti.API.info(<span class="hljs-string">"app is resuming from the background"</span>);
    });
    Ti.App.addEventListener(<span class="hljs-string">'resumed'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span></span>{
        Ti.API.info(<span class="hljs-string">"app has resumed from the background"</span>);
    });

    <span class="hljs-comment">//This event determines that the app it was just paused</span>
    Ti.App.addEventListener(<span class="hljs-string">'pause'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span></span>{
        Ti.API.info(<span class="hljs-string">"app was paused from the foreground"</span>);
    });
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">resethide</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">if</span>(customername_text.value== <span class="hljs-string">''</span> &amp;&amp; customersiteid_text.value== <span class="hljs-string">''</span> &amp;&amp; customercontacts_text.value== <span class="hljs-string">''</span> &amp;&amp; emccontacts_text.value== <span class="hljs-string">''</span> &amp;&amp; srnum_text.value == <span class="hljs-string">''</span>)
    {
        Ti.API.info(<span class="hljs-string">'qqqqwwwwweeee'</span>);
        win.remove(Reset_but1);
        }

    <span class="hljs-keyword">else</span>

    {
        Reset_but1.show();
        }


}
customername_text.addEventListener(<span class="hljs-string">'blur'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span></span>{
    Ti.API.info(<span class="hljs-string">'qqqqwwwwweeee1111'</span>);
    interactView.animate({top : <span class="hljs-number">0</span>,
    bottom : <span class="hljs-number">0</span> })
    customername_text.borderColor = <span class="hljs-string">'black'</span>;
     customername_text.borderWidth = <span class="hljs-number">1</span>;
   interReqTrue();
    resethide();
});
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="April 3rd 2012, 8:40:54 am">April 3rd 2012</span>
								by <span class='authorname'>anand jh</span><br>
								<a class="icon-bg icon-link" href="question/134842/database-locked#answer-235119" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-235122">
				
						<section>
							<p>i sow your code , you use install everytime before this line <strong>var db = Titanium.Database.open(&#39;insertDB&#39;);</strong><br> so install only once then open the database connection every time at the time of firing query and close that connection after query</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="April 3rd 2012, 8:55:51 am">April 3rd 2012</span>
								by <span class='authorname'>Mitul Bhalia</span><br>
								<a class="icon-bg icon-link" href="question/134842/database-locked#answer-235122" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
