<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>selectedBackgroundColor for default click on tableview not working » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>selectedBackgroundColor for default click on tableview not working</h1>
		</header>
		<section>
			<p>I needed to trigger the first row click of a tableview and also change its color. But it seems the code only works when i make a click on the row and not on the explicit click that i make it by code.hence i do the following :</p>
<p>`table.addEventListener(&#39;click&#39;, tableViewClickHandler);</p>
<pre><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">renderTable</span><span class="hljs-params">(isCleanData)</span></span>{
    <span class="hljs-keyword">if</span>(isCleanData)table.data=[];
    <span class="hljs-keyword">switch</span>(selectedTab){
        <span class="hljs-keyword">case</span> <span class="hljs-string">'Materials'</span>:
                table.setData(materialData);
                <span class="hljs-keyword">if</span>(isFireEvent &amp;&amp; materialData[<span class="hljs-number">0</span>])materialData[<span class="hljs-number">0</span>].fireEvent(<span class="hljs-string">'click'</span>,{isFireEvent:<span class="hljs-literal">true</span>});
                <span class="hljs-keyword">break</span>;
        <span class="hljs-keyword">case</span> <span class="hljs-string">'Services'</span>:
                table.setData(serviceData);
                <span class="hljs-keyword">if</span>(isFireEvent &amp;&amp; serviceData[<span class="hljs-number">0</span>])serviceData[<span class="hljs-number">0</span>].fireEvent(<span class="hljs-string">'click'</span>,{isFireEvent:<span class="hljs-literal">true</span>});
                <span class="hljs-keyword">break</span>;
    }
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">tableViewRowClickHandler</span><span class="hljs-params">(e)</span></span>{           
        <span class="hljs-keyword">if</span>(e.isFireEvent){
            e.source.selectedBackgroundColor=<span class="hljs-string">'#fad2aa'</span>;
        }
    }`
</code></pre><p>I am sure something is wrong cant find it though!</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="March 28th 2014, 8:29:43 am">March 28th 2014</span>
				by <span class='authorname'>Adnan Baliwala</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>iphone</span></li>
					
						<li><span class='tagname'>tableview</span></li>
					
						<li><span class='tagname'>tableviewrow</span></li>
					
				</ul>
			

			<section>
				<h5>5 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Please post code like this format. <strong> <del>~Code</del>~</strong></p>
<pre><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">renderTable</span><span class="hljs-params">(isCleanData)</span></span>{
    <span class="hljs-keyword">if</span>(isCleanData)table.data=[];
    <span class="hljs-keyword">switch</span>(selectedTab){
        <span class="hljs-keyword">case</span> <span class="hljs-string">'Materials'</span>:
                table.setData(materialData);
                <span class="hljs-keyword">if</span>(isFireEvent &amp;amp;&amp;amp; materialData[<span class="hljs-number">0</span>])materialData[<span class="hljs-number">0</span>].fireEvent(<span class="hljs-string">'click'</span>,{isFireEvent:<span class="hljs-literal">true</span>});
                <span class="hljs-keyword">break</span>;
        <span class="hljs-keyword">case</span> <span class="hljs-string">'Services'</span>:
                table.setData(serviceData);
                <span class="hljs-keyword">if</span>(isFireEvent &amp;amp;&amp;amp; serviceData[<span class="hljs-number">0</span>])serviceData[<span class="hljs-number">0</span>].fireEvent(<span class="hljs-string">'click'</span>,{isFireEvent:<span class="hljs-literal">true</span>});
                <span class="hljs-keyword">break</span>;
    }
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">tableViewRowClickHandler</span><span class="hljs-params">(e)</span></span>{           
        <span class="hljs-keyword">if</span>(e.isFireEvent){
            e.source.selectedBackgroundColor=<span class="hljs-string">'#fad2aa'</span>;
        }
    }`
</code></pre></div>
							<div class="author">
								&mdash; commented <span title="March 28th 2014, 9:16:44 am">March 28th 2014</span>
								by <span class='authorname'>Dharmik Patel</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>I set the click event on my tableView like this way</p>
<p>$.dataTable is my table which contain rows.</p>
<p>and e.source.selectedBackgroundColor  is working.</p>
<pre><code class="hljs">$.dataTable.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
          e.source.selectedBackgroundColor=<span class="hljs-string">'#fad2aa'</span>;
}
</code></pre><p>i really not sure that , This if condition correct or not please check that first</p>
<p>&#x2F;&#x2F; Your Condition</p>
<pre><code class="hljs"><span class="hljs-keyword">if</span>(e.isFireEvent){
            e.<span class="hljs-keyword">source</span>.selectedBackgroundColor=<span class="hljs-string">'#fad2aa'</span>;
}
</code></pre><p>Thanks,<br>Dharmik</p>
</div>
							<div class="author">
								&mdash; commented <span title="March 28th 2014, 9:30:20 am">March 28th 2014</span>
								by <span class='authorname'>Dharmik Patel</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>@Dharmik; <strong>selectedBackgroundColor</strong> is used to say what colour you want the tableViewRow to be when the user clicks the row.  This is something you set long before the user touches anything and should not be used to change the value as a reaction to any events.</p>
</div>
							<div class="author">
								&mdash; commented <span title="March 28th 2014, 9:53:47 am">March 28th 2014</span>
								by <span class='authorname'>Malcolm Hollingsworth</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>To be more clear on what Malcolm is telling you:</p>
<p>The selected state triggers on the native side before the click event propagates to the JS land, so when you&#39;ll try to set the property it will already be too late.</p>
</div>
							<div class="author">
								&mdash; commented <span title="March 28th 2014, 9:58:30 am">March 28th 2014</span>
								by <span class='authorname'>Dan Tamas</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>@ Malcolm Hollingsworth : Thanks for information.</p>
</div>
							<div class="author">
								&mdash; commented <span title="March 28th 2014, 10:34:00 am">March 28th 2014</span>
								by <span class='authorname'>Dharmik Patel</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-277101">
				
						<section>
							<p>If this isn&#39;t the bassackwards way of attempting something I don&#39;t know what is.</p>
<p>Use <a href="http:&#x2F;&#x2F;docs.appcelerator.com&#x2F;titanium&#x2F;latest&#x2F;#!&#x2F;api&#x2F;Titanium.UI.TableView-method-selectRow">selectRow</a> of the TableView API and move on already.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="March 28th 2014, 10:25:39 am">March 28th 2014</span>
								by <span class='authorname'>Stephen Feather</span><br>
								<a class="icon-bg icon-link" href="question/164014/selectedbackgroundcolor-for-default-click-on-tableview-not-working#answer-277101" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>3</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-277100">
				
						<section>
							<p>Hi</p>
<p>You use <strong>selectedBackgroundColor</strong> when you create the tableView&#x2F;tableViewRow to say when the app is running and someone touches this row, automatically change the colour to the thing I set earlier.</p>
<p>You do NOT use this to change the colour when responding to an event.</p>
<p>If you want to change the background colour of a row when someone is touching it then use <strong>backgroundColor</strong> instead.</p>
<p>You have not said if you wish this row to remain this colour once the user is no longer touch the row or it to swap to one colour when pressed and back to normal when no longer pressing.</p>
<p>If it is toggle for touch and release then the click event is the wrong one it responds to a completed touch, you should look into touchstart and touchend maybe.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="March 28th 2014, 9:57:47 am">March 28th 2014</span>
								by <span class='authorname'>Malcolm Hollingsworth</span><br>
								<a class="icon-bg icon-link" href="question/164014/selectedbackgroundcolor-for-default-click-on-tableview-not-working#answer-277100" rel="permalink">permalink</a>
							</div>

							<h5>2 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>I wanted the color of the row to remain when the user clicked once…Doing this solved my problem</p>
<p><code>tableView.selectRow(0);</code></p>
<p>I noticed that though it selected the row it did not fire the event for the first row.. I still had to write this line for the first row</p>
<p><code>materialData[0])materialData[0].fireEvent(&amp;#39;click&amp;#39;,{isFireEvent:true});</code></p>
<p>(that was present in my code above) </p>
<p>Thanks All.</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 28th 2014, 10:28:56 am">March 28th 2014</span>
											by <span class='authorname'>Adnan Baliwala</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>You are welcome, it looks like @Stephen solved your problem and answered your question.  Do not forget to mark hi answer as the accepted one.</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 28th 2014, 10:33:41 am">March 28th 2014</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
