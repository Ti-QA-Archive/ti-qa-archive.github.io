<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>ListView Index Error - Android » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>ListView Index Error - Android</h1>
		</header>
		<section>
			<p>I am using the new ListView searchText property to narrow down the list of available items in the Listview. Works great on Android and iOS visually, however when you select an item from the list, I am getting an incorrect value in Android. For example, let&#39;s say I have a ListView showing:</p>
<p>Apple</p>
<p>Banana</p>
<p>Grape</p>
<p>When I narrow down the list using by typing &#39;Ba&#39; I only get &#39;Banana&#39; showing on both iOS and Android. So far, so good. Now when I select the item from the list, I use the following code to get the value:</p>
<pre><code class="hljs">$.pickList.addEventListener(<span class="hljs-string">'itemclick'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
    <span class="hljs-keyword">var</span> item = e.section.getItemAt(e.itemIndex);
    returnVal(item);
});
</code></pre><p>On iOS, the itemIndex value is 1, because I selected banana, even though it is the only item in the filtered list.<br>On Android the itemIndex is 0, which is Apple. So even though I clicked on Banana, it returns Apple. So on iOS it sees the &#39;Whole&#39; list, while on Android is sees only the &#39;Filtered&#39; list and returns the incorrect item in the itemIndex. Is this a bug or am I missing something here?</p>
<p>Ray</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="January 2nd 2014, 7:07:10 pm">January 2nd 2014</span>
				by <span class='authorname'>Ray Belisle</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>3.2</span></li>
					
						<li><span class='tagname'>listview</span></li>
					
						<li><span class='tagname'>searchbar</span></li>
					
						<li><span class='tagname'>searchtext</span></li>
					
				</ul>
			

			<section>
				<h5>1 Comment</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Looks like it is a known issue: <a href="https:&#x2F;&#x2F;jira.appcelerator.org&#x2F;browse&#x2F;TIMOB-16079">link to jira</a></p>
</div>
							<div class="author">
								&mdash; commented <span title="January 2nd 2014, 9:05:00 pm">January 2nd 2014</span>
								by <span class='authorname'>Ray Belisle</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>0</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>0 Answers</h3>

	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
