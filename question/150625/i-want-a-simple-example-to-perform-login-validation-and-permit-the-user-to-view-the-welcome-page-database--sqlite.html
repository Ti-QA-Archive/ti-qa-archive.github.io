<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>I want a simple example to perform login validation and permit the user to view the welcome page (database : sqlite) » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>I want a simple example to perform login validation and permit the user to view the welcome page (database : sqlite)</h1>
		</header>
		<section>
			<p>I want a clear explanation to open new view pages from index page. example opening a login or register page from the index page.</p>
<p>Thanks …</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="April 8th 2013, 7:43:17 am">April 8th 2013</span>
				by <span class='authorname'>Dev ThiDiff</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>sqlite,</span></li>
					
				</ul>
			

			<section>
				<h5>5 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Well, what have you tried so far? (you <strong>did</strong> try right?)</p>
</div>
							<div class="author">
								&mdash; commented <span title="April 8th 2013, 7:52:58 am">April 8th 2013</span>
								by <span class='authorname'>Christian Brousseau</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>can you please provide some code snippet.so we can help you.</p>
<p>Thanks</p>
</div>
							<div class="author">
								&mdash; commented <span title="April 8th 2013, 8:00:04 am">April 8th 2013</span>
								by <span class='authorname'>Sunny Patel</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>I am also doubting of try :)</p>
</div>
							<div class="author">
								&mdash; commented <span title="April 8th 2013, 8:04:09 am">April 8th 2013</span>
								by <span class='authorname'>Muhammad Wahhab Mirza</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>this is my index.js file </p>
<p>var welcomeLabel = Ti.UI.createLabel({<br>    text : &#39;Welcome to Restaurant&#39;,<br>    color : &#39;#000&#39;,<br>    top : 0,<br>    left : 70,<br>    textAlign : &#39;center&#39;<br>});</p>
<p>var usernameLabel = Ti.UI.createLabel({<br>    text : &#39;User Name&#39;,<br>    color : &#39;#000&#39;,<br>    top : 40,<br>    left : 0,<br>    textAlign : &#39;left&#39;<br>});</p>
<p>var usernameField = Ti.UI.createTextField({<br>    height : 35,<br>    top : 40,<br>    left : 100,<br>    width : 200,<br>    &#x2F;&#x2F;softKeyboardOnFocus : Ti.UI.Android.SOFT_KEYBOARD_DEFAULT_ON_FOCUS, &#x2F;&#x2F; Android only<br>    keyboardType : Ti.UI.KEYBOARD_DEFAULT,<br>    returnKeyType : Ti.UI.RETURNKEY_DEFAULT,<br>    borderStyle : Ti.UI.INPUT_BORDERSTYLE_ROUNDED<br>});</p>
<p>var passwordLabel = Ti.UI.createLabel({<br>    text : &#39;Password&#39;,<br>    color : &#39;#000&#39;,<br>    top : 80,<br>    left : 0,<br>    textAlign : &#39;left&#39;<br>});</p>
<p>var passwordField = Ti.UI.createTextField({<br>    height : 35,<br>    top : 80,<br>    left : 100,<br>    width : 200,<br>    passwordMask : true,<br>    &#x2F;&#x2F;softKeyboardOnFocus : Ti.UI.Android.SOFT_KEYBOARD_DEFAULT_ON_FOCUS, &#x2F;&#x2F; Android only<br>    keyboardType : Ti.UI.KEYBOARD_DEFAULT,<br>    returnKeyType : Ti.UI.RETURNKEY_DEFAULT,<br>    borderStyle : Ti.UI.INPUT_BORDERSTYLE_ROUNDED<br>});</p>
<p>var Login = Ti.UI.createButton({<br>    title : &#39;Login&#39;,<br>    height : 40,<br>    width : 100,<br>    top : 120,<br>    left : 100<br>});</p>
<p>Login.addEventListener(&#39;click&#39;, function() {</p>
<p>});</p>
<p>&#x2F;&#x2F; Create a Label.<br>var forgotpasswordLabel = Ti.UI.createLabel({<br>    text : &#39;I forgot my password&#39;,<br>    color : &#39;#000&#39;,<br>    font : {fontSize:12},<br>    top : 170,<br>    left : 100,<br>    textAlign : &#39;left&#39;<br>});</p>
<p>forgotpasswordLabel.addEventListener(&#39;click&#39;, function () {</p>
<pre><code class="hljs">alert<span class="hljs-list">(<span class="hljs-quoted">'forgot</span> password')</span><span class="hljs-comment">;</span>
</code></pre><p>});</p>
<p>var register = Ti.UI.createLabel({<br>    text : &#39;Register new user&#39;,<br>    color : &#39;#000&#39;,<br>    font : {fontSize:12},<br>    top : 210,<br>    left : 100,<br>    textAlign : &#39;left&#39;<br>});</p>
<p>register.addEventListener(&#39;click&#39;, function () {</p>
<pre><code class="hljs"><span class="hljs-variable">$.</span>index.<span class="hljs-keyword">hide</span>();
</code></pre><p>});</p>
<p>$.index.add(welcomeLabel);<br>$.index.add(usernameLabel);<br>$.index.add(usernameField);<br>$.index.add(passwordLabel);<br>$.index.add(passwordField);<br>$.index.add(Login);<br>$.index.add(forgotpasswordLabel);<br>$.index.add(register);<br>$.index.open();</p>
<p>and I added one controller with a name welcome and sqlite database with two fields username and password using the firefox sqlite plugin.<br>I want an example to validate the username and password entered by the user and if the entered username and password present in my sqlite database the user should be redirected to the welcome page.</p>
</div>
							<div class="author">
								&mdash; commented <span title="April 8th 2013, 8:10:29 am">April 8th 2013</span>
								by <span class='authorname'>Dev ThiDiff</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Put like this</p>
<pre><code class="hljs">var welcomeLabel = Ti.UI.createLabel({ <span class="hljs-string">text :</span> <span class="hljs-string">'Welcome to Restaurant'</span>, <span class="hljs-string">color :</span> <span class="hljs-string">'#000'</span>, <span class="hljs-string">top :</span> <span class="hljs-number">0</span>, <span class="hljs-string">left :</span> <span class="hljs-number">70</span>, <span class="hljs-string">textAlign :</span> <span class="hljs-string">'center'</span> });

var usernameLabel = Ti.UI.createLabel({ <span class="hljs-string">text :</span> <span class="hljs-string">'User Name'</span>, <span class="hljs-string">color :</span> <span class="hljs-string">'#000'</span>, <span class="hljs-string">top :</span> <span class="hljs-number">40</span>, <span class="hljs-string">left :</span> <span class="hljs-number">0</span>, <span class="hljs-string">textAlign :</span> <span class="hljs-string">'left'</span> });

var usernameField = Ti.UI.createTextField({ <span class="hljs-string">height :</span> <span class="hljs-number">35</span>, <span class="hljs-string">top :</span> <span class="hljs-number">40</span>, <span class="hljs-string">left :</span> <span class="hljs-number">100</span>, <span class="hljs-string">width :</span> <span class="hljs-number">200</span>, <span class="hljs-comment">//softKeyboardOnFocus : Ti.UI.Android.SOFT_KEYBOARD_DEFAULT_ON_FOCUS, // Android only keyboardType : Ti.UI.KEYBOARD_DEFAULT, returnKeyType : Ti.UI.RETURNKEY_DEFAULT, borderStyle : Ti.UI.INPUT_BORDERSTYLE_ROUNDED });</span>

var passwordLabel = Ti.UI.createLabel({ <span class="hljs-string">text :</span> <span class="hljs-string">'Password'</span>, <span class="hljs-string">color :</span> <span class="hljs-string">'#000'</span>, <span class="hljs-string">top :</span> <span class="hljs-number">80</span>, <span class="hljs-string">left :</span> <span class="hljs-number">0</span>, <span class="hljs-string">textAlign :</span> <span class="hljs-string">'left'</span> });

var passwordField = Ti.UI.createTextField({ <span class="hljs-string">height :</span> <span class="hljs-number">35</span>, <span class="hljs-string">top :</span> <span class="hljs-number">80</span>, <span class="hljs-string">left :</span> <span class="hljs-number">100</span>, <span class="hljs-string">width :</span> <span class="hljs-number">200</span>, <span class="hljs-string">passwordMask :</span> <span class="hljs-literal">true</span>, <span class="hljs-comment">//softKeyboardOnFocus : Ti.UI.Android.SOFT_KEYBOARD_DEFAULT_ON_FOCUS, // Android only keyboardType : Ti.UI.KEYBOARD_DEFAULT, returnKeyType : Ti.UI.RETURNKEY_DEFAULT, borderStyle : Ti.UI.INPUT_BORDERSTYLE_ROUNDED });</span>

var Login = Ti.UI.createButton({ <span class="hljs-string">title :</span> <span class="hljs-string">'Login'</span>, <span class="hljs-string">height :</span> <span class="hljs-number">40</span>, <span class="hljs-string">width :</span> <span class="hljs-number">100</span>, <span class="hljs-string">top :</span> <span class="hljs-number">120</span>, <span class="hljs-string">left :</span> <span class="hljs-number">100</span> });

Login.addEventListener(<span class="hljs-string">'click'</span>, function() {

});

<span class="hljs-comment">// Create a Label. var forgotpasswordLabel = Ti.UI.createLabel({ text : 'I forgot my password', color : '#000', font : {fontSize:12}, top : 170, left : 100, textAlign : 'left' });</span>

forgotpasswordLabel.addEventListener(<span class="hljs-string">'click'</span>, function () {

alert(<span class="hljs-string">'forgot password'</span>);

});

var register = Ti.UI.createLabel({ <span class="hljs-string">text :</span> <span class="hljs-string">'Register new user'</span>, <span class="hljs-string">color :</span> <span class="hljs-string">'#000'</span>, <span class="hljs-string">font :</span> {<span class="hljs-string">fontSize:</span><span class="hljs-number">12</span>}, <span class="hljs-string">top :</span> <span class="hljs-number">210</span>, <span class="hljs-string">left :</span> <span class="hljs-number">100</span>, <span class="hljs-string">textAlign :</span> <span class="hljs-string">'left'</span> });

register.addEventListener(<span class="hljs-string">'click'</span>, function () {

$.index.hide();

});

$.index.add(welcomeLabel); $.index.add(usernameLabel); $.index.add(usernameField); $.index.add(passwordLabel); $.index.add(passwordField); $.index.add(Login); $.index.add(forgotpasswordLabel); $.index.add(register); $.index.open();
</code></pre></div>
							<div class="author">
								&mdash; commented <span title="April 8th 2013, 8:11:40 am">April 8th 2013</span>
								by <span class='authorname'>Sunny Patel</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-260276">
				
						<section>
							<p>I added the controls for the username and password text boxes with a submit button.<br>I want an explanation or an example to check the user entered values in the textboxes and the data&#39;s in my sqlite database are matching or not ?. if matched they should be redirected to the welcome page which I have already created.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="April 8th 2013, 8:00:33 am">April 8th 2013</span>
								by <span class='authorname'>Dev ThiDiff</span><br>
								<a class="icon-bg icon-link" href="question/150625/i-want-a-simple-example-to-perform-login-validation-and-permit-the-user-to-view-the-welcome-page-database--sqlite#answer-260276" rel="permalink">permalink</a>
							</div>

							<h5>2 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Please use the Comment feature when adding to an existing conversation. This will make the whole thread easier to read and make the whole experience more enjoyable for everyone.</p>
<p>Thanks<br>Jigar</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 8th 2013, 8:12:38 am">April 8th 2013</span>
											by <span class='authorname'>Jigar Maheshwari</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>okay,</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 8th 2013, 8:20:39 am">April 8th 2013</span>
											by <span class='authorname'>Dev ThiDiff</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-260278">
				
						<section>
							<p>Hello ThiDiff,</p>
<p>Try below Sample : </p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> <span class="hljs-keyword">win</span> = Titanium.UI.createWindow();

<span class="hljs-keyword">var</span> username = Ti.UI.createTextField({
    <span class="hljs-comment">//property</span>
});
<span class="hljs-keyword">win</span>.add(username);

<span class="hljs-keyword">var</span> psw = Ti.UI.createTextField({
    <span class="hljs-comment">//property</span>
});
<span class="hljs-keyword">win</span>.add(psw);

<span class="hljs-keyword">var</span> button = Ti.UI.createButton({
    title:<span class="hljs-string">"Login"</span>
    <span class="hljs-comment">//property</span>
});
<span class="hljs-keyword">win</span>.add(button);

button.addEventListener('click', function(){
    <span class="hljs-keyword">var</span> <span class="hljs-keyword">db</span> = Ti.Database.<span class="hljs-keyword">open</span>(<span class="hljs-string">"auth"</span>);
    <span class="hljs-keyword">var</span> result = <span class="hljs-keyword">db</span>.execute(<span class="hljs-string">"SELECT * FROM login WHERE username=? and password=?"</span>, username.value, psw.value);
    <span class="hljs-keyword">if</span>(result.getRowCount() == 1){
        <span class="hljs-comment">//Login successful. So. Open new window here</span>
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-comment">//Authentication Failed.</span>
    }
});
<span class="hljs-keyword">win</span>.<span class="hljs-keyword">open</span>();
</code></pre><p>Thakns<br>Jigar</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="April 8th 2013, 8:11:49 am">April 8th 2013</span>
								by <span class='authorname'>Jigar Maheshwari</span><br>
								<a class="icon-bg icon-link" href="question/150625/i-want-a-simple-example-to-perform-login-validation-and-permit-the-user-to-view-the-welcome-page-database--sqlite#answer-260278" rel="permalink">permalink</a>
							</div>

							<h5>8 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Hi Jigar,</p>
<p>I&#39;m confused in opening a new window and hiding the current window (index) in the alloy frame work. can you guide me with a code snippet ?….</p>
<p>Thanks :) .</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 8th 2013, 8:17:54 am">April 8th 2013</span>
											by <span class='authorname'>Dev ThiDiff</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Just put this kind of logic in you login button event listener : </p>
<pre><code class="hljs"><span class="hljs-type">Login</span>.addEventListener('click', function() {
    <span class="hljs-keyword">var</span> db = <span class="hljs-type">Ti</span>.<span class="hljs-type">Database</span>.open(<span class="hljs-string">"auth"</span>);
    <span class="hljs-keyword">var</span> <span class="hljs-literal">result</span> = db.execute(<span class="hljs-string">"SELECT * FROM login WHERE username=? and password=?"</span>, usernameField.value, passwordField.value);
    <span class="hljs-keyword">if</span>(<span class="hljs-literal">result</span>.getRowCount() == <span class="hljs-number">1</span>){
        //<span class="hljs-type">Login</span> successful. <span class="hljs-type">So</span>. <span class="hljs-type">Open</span> new window here
    } <span class="hljs-keyword">else</span> {
        //<span class="hljs-type">Authentication</span> <span class="hljs-type">Failed</span>.
    }
});
</code></pre><p>Thanks<br>Jigar</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 8th 2013, 8:22:47 am">April 8th 2013</span>
											by <span class='authorname'>Jigar Maheshwari</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>when I click the login button it is showing<br>Uncaught TypeError: Cannot call method &#39;open&#39; of undefined<br> in the console error.</p>
<p>I placed my sqlite database in the asset folder. is that the right place to place ?… my database name in restaurant and table name login with 2 field username and password.</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 8th 2013, 8:30:32 am">April 8th 2013</span>
											by <span class='authorname'>Dev ThiDiff</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Change the query : </p>
<pre><code class="hljs"> <span class="hljs-keyword">var</span> db = <span class="hljs-type">Ti</span>.<span class="hljs-type">Database</span>.open(<span class="hljs-string">"restaurant"</span>);
<span class="hljs-keyword">var</span> <span class="hljs-literal">result</span> = db.execute(<span class="hljs-string">"SELECT * FROM login WHERE username=? and password=?"</span>, usernameField.value, passwordField.value);
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="April 8th 2013, 8:33:10 am">April 8th 2013</span>
											by <span class='authorname'>Jigar Maheshwari</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I already changed the Ti.Database.open()  according to my database name. but it&#39;s showing error.<br>Are you sure about keeping the database file in the asset folder for the Titanium Alloy project. Or I have to change anything in model?… I already created a model login.</p>
<p>Thanks..</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 8th 2013, 8:40:57 am">April 8th 2013</span>
											by <span class='authorname'>Dev ThiDiff</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Hello ,<br>Just try like this : just need to set path</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> db = <span class="hljs-type">Ti</span>.<span class="hljs-type">Database</span>.open(<span class="hljs-string">"/restaurant"</span>);
<span class="hljs-keyword">var</span> <span class="hljs-literal">result</span> = db.execute(<span class="hljs-string">"SELECT * FROM login WHERE username=? and password=?"</span>, usernameField.value, passwordField.value);
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="April 8th 2013, 9:01:28 am">April 8th 2013</span>
											by <span class='authorname'>Jigar Maheshwari</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>same error if I give like this also.</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 8th 2013, 9:12:03 am">April 8th 2013</span>
											by <span class='authorname'>Dev ThiDiff</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>just create one folder names &quot;database&quot; in app folder and add your database.</p>
<pre><code class="hljs"><span class="hljs-variable"><span class="hljs-keyword">var</span> db</span> = Ti.Database.<span class="hljs-keyword">open</span>(<span class="hljs-string">"restaurant"</span>);
</code></pre><p>Clean build or remove the app from simulator and run the app again.</p>
<p>Thanks</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 8th 2013, 9:14:40 am">April 8th 2013</span>
											by <span class='authorname'>Jigar Maheshwari</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
