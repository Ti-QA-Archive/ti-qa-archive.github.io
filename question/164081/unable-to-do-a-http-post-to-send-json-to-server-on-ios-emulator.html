<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Unable to do a HTTP POST to send JSON to server on iOS (emulator). Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Unable to do a HTTP POST to send JSON to server on iOS (emulator).</h1>
		</header>
		<section>
			<p>We&#39;ve been having this problem where we cannot get a POST to send an array (as JSON) to our server to work on iOS. More specifically this is on an iOS emulator.</p>
<p>This is the function we&#39;re using to send the array (with the url omitted):</p>
<pre><code class="hljs">function arrayPost(arrayToSend){
    var url = <span class="hljs-string">"_____________"</span>;
     var client = Ti.Network.createHTTPClient({
         onload : function(e) {    
        }
    });
    client.setRequestHeader(<span class="hljs-string">"Content-Type"</span>,<span class="hljs-string">"application/json"</span>);
     client.open(<span class="hljs-string">"<span class="hljs-keyword">POST</span>"</span>, url);
     jsonToSend = JSON.stringify(arrayToSend);
     client.send(jsonToSend);
}
</code></pre><p>This works fine on our Android devices. On the iOS emulator it seems to work, but then nothing is actually sent and our server doesn&#39;t receive anything. The array and JSON seem to be correct as far as we can step through, and we don&#39;t get any noticeable errors with this. It just runs and does nothing.</p>
<p>We&#39;ve done several GETs that work just fine on all our Android devices and the iOS emulator, so the connection seems OK. Only this POST has this problem in the iOS emulator.</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="March 30th 2014, 7:46:51 pm">March 30th 2014</span>
				by <span class='authorname'>Jeremy Yap</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>array</span></li>
					
						<li><span class='tagname'>httpclient</span></li>
					
						<li><span class='tagname'>ios</span></li>
					
						<li><span class='tagname'>javascript</span></li>
					
						<li><span class='tagname'>json</span></li>
					
				</ul>
			

			<section>
				<h5>1 Comment</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Always set request headers between open and send</p>
</div>
							<div class="author">
								&mdash; commented <span title="March 31st 2014, 8:05:43 pm">March 31st 2014</span>
								by <span class='authorname'>Hani Hamadeh</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>1</span> Vote</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-277169">
				
						<section>
							<p><a href="http:&#x2F;&#x2F;www.appcelerator.com&#x2F;blog&#x2F;2014&#x2F;03&#x2F;quick-tip-sending-arrays-to-web-services&#x2F;">http:&#x2F;&#x2F;www.appcelerator.com&#x2F;blog&#x2F;2014&#x2F;03&#x2F;quick-tip-sending-arrays-to-web-services&#x2F;</a></p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="March 30th 2014, 10:43:34 pm">March 30th 2014</span>
								by <span class='authorname'>Stephen Feather</span><br>
								<a class="icon-bg icon-link" href="../../question/164081/unable-to-do-a-http-post-to-send-json-to-server-on-ios-emulator.html#answer-277169" rel="permalink">permalink</a>
							</div>

							<h5>4 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>How does this answer the question? He asked why post was working on android but not on iOS?</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 30th 2014, 11:39:58 pm">March 30th 2014</span>
											by <span class='authorname'>Kenneth Nissel</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I don&#39;t mean to be rude btw I am really asked you to expand on your answer a bit.</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 30th 2014, 11:47:53 pm">March 30th 2014</span>
											by <span class='authorname'>Kenneth Nissel</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Well, Kenneth, had he asked a complete question, someone MIGHT be able to actually assist him. OS and android behave differently, each have unique quirks. </p>
<p>If I had to make a guess, based upon history of questions in the Q&amp;A, hindered by the lack of details, I&#39;d bet that if you were to sniff the traffic between client and server, his array is actually in the data, but he doesn&#39;t know how to extract that.</p>
<p>He asked a generalized question, got a generalized answer.</p>
<p>But hey, thanks for driving by.</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 31st 2014, 8:47:41 am">March 31st 2014</span>
											by <span class='authorname'>Stephen Feather</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>What details would help answer this problem of a post working on android but not on iOS emulator?</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 1st 2014, 1:18:07 am">April 1st 2014</span>
											by <span class='authorname'>Kenneth Nissel</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
