<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>How to parse image which is in description tag of rss feeds? » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>How to parse image which is in description tag of rss feeds?</h1>
		</header>
		<section>
			<p>Hi all. I am trying with a project and i am stuck in retrieving images from rss feeds.<br>when i retrieve the description then the html tags like &lt;br&gt;, &lt;div&gt; and &lt;img&gt; tags are visible.<br> Please help me with the code. Any help would be appreciable. Thank You.</p>
<p>1.Application type: mobile</p>
<p>2.Titanium SDK: version number-3.1.1</p>
<p>3.Platform &amp; version: Android 2.2 and above</p>
<p>4.Device: Android emulator</p>
<p>5.Host Operating System:Windows 7</p>
<p>6.Titanium Studio: version 3.1.1.201306112235</p>
<p>Here is how the description tag of rss feeds appears.</p>
<pre><code class="hljs"><span class="hljs-tag">&lt;<span class="hljs-title">description</span>&gt;</span>

 IN EXCELLENT CONDITION..<span class="hljs-tag">&lt;<span class="hljs-title">br</span>&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-title">br</span>&gt;</span> AND ALSO 17" ACER LCD MONITOR FOR 12KD<span class="hljs-tag">&lt;<span class="hljs-title">br</span>&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-title">br</span>&gt;</span> CONTACT 0---&gt;&gt; 00000
The beneficiaries of the functions were the poor and downtrodden people of ” Kabd” who toil day and night on scorching sand storms, and the skin blistering heat, to take care of the sheep and camel - keeping their trust on The Almighty - their only console.
 <span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">align</span>=<span class="hljs-value">center</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">img</span> <span class="hljs-attribute">src</span>=/<span class="hljs-attribute">press</span>/<span class="hljs-attribute">aug2713shanu1.jpg</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span> 
<span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">align</span>=<span class="hljs-value">center</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">img</span> <span class="hljs-attribute">src</span>=/<span class="hljs-attribute">press</span>/<span class="hljs-attribute">aug2713shanu2.jpg</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span> 
Renowned activists from the socio-cultural fronts Mr. S.A Labba, Mr. Iqbal Koottamangalam, Mr. Shaji Raghuvaran and Mr. Shamsuddin Kollam also were a part of the event.
<span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">align</span>=<span class="hljs-value">center</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">img</span> <span class="hljs-attribute">src</span>=/<span class="hljs-attribute">press</span>/<span class="hljs-attribute">aug2713shanu5.jpg</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span> 
<span class="hljs-tag">&lt;<span class="hljs-title">div</span> <span class="hljs-attribute">align</span>=<span class="hljs-value">center</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">img</span> <span class="hljs-attribute">src</span>=/<span class="hljs-attribute">press</span>/<span class="hljs-attribute">aug2713shanu6.jpg</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">div</span>&gt;</span> 

<span class="hljs-tag">&lt;/<span class="hljs-title">description</span>&gt;</span>
</code></pre><p>This is the code from which I have tried to fetch description.</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> data = [];
    <span class="hljs-keyword">var</span> xhr = Ti.Network.createHTTPClient();
    xhr.open(<span class="hljs-string">'GET'</span>,<span class="hljs-string">'http://www.indiansinkuwait.com/RSS/NewsFeed.aspx'</span>);

    xhr.onload = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>
    </span>{
        <span class="hljs-keyword">try</span>
        {
        <span class="hljs-comment">//handle server response here</span>

        <span class="hljs-comment">//get the overall xml document</span>
        <span class="hljs-keyword">var</span> doc = <span class="hljs-keyword">this</span>.responseXML.documentElement;

        <span class="hljs-comment">//this gives us an array of all the ‘item’ tags in the document</span>
        <span class="hljs-keyword">var</span> items = doc.getElementsByTagName(<span class="hljs-string">'item'</span>);

        <span class="hljs-comment">//get the title of the page</span>
        <span class="hljs-keyword">var</span> doctitle = doc.evaluate(<span class="hljs-string">'//channel/title/text()'</span>).item(<span class="hljs-number">0</span>).nodeValue;

        <span class="hljs-keyword">var</span> x = <span class="hljs-number">0</span>;

        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> c=<span class="hljs-number">0</span>;c&lt;items.length;c++)
        {
            <span class="hljs-comment">//get the cth feed item from the array</span>
            <span class="hljs-keyword">var</span> item = items.item(c);

            <span class="hljs-comment">//get the title of the feed item</span>
            <span class="hljs-keyword">var</span> title = item.getElementsByTagName(<span class="hljs-string">"title"</span>).item(<span class="hljs-number">0</span>).text;

            <span class="hljs-comment">//create a new row and a label field in it to hold the title    </span>
            <span class="hljs-keyword">var</span> row = Ti.UI.createTableViewRow({height:<span class="hljs-number">80</span>});

            <span class="hljs-keyword">var</span> label = Ti.UI.createLabel({
            text:title,    
            left:<span class="hljs-number">5</span>,
            top:<span class="hljs-number">5</span>,
            bottom:<span class="hljs-number">5</span>,
            right:<span class="hljs-number">5</span>,
            color:<span class="hljs-string">'#000'</span>,
            textAlign: <span class="hljs-string">'left'</span>    
            });

            row.add(label);

            <span class="hljs-comment">//set the url to go to when user selects the row</span>
            row.description = item.getElementsByTagName(<span class="hljs-string">"description"</span>).item(<span class="hljs-number">0</span>).text;
            <span class="hljs-comment">/*var src = description.match(/src="([^\"]*)"/gim);
            var image = src[0].replace(/src=|"/gim, "");*/</span>

            <span class="hljs-comment">//add this row to the data object</span>
            data[x++] = row;

        }

        <span class="hljs-keyword">var</span> tableview = Titanium.UI.createTableView({data:data});


        tableview.setBackgroundColor(<span class="hljs-string">'#fff'</span>);

        tableview.addEventListener(<span class="hljs-string">'click'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span>
        </span>{

            <span class="hljs-comment">//create a new Window</span>
            <span class="hljs-keyword">var</span> w = Ti.UI.createWindow({
                title:e.row.children[<span class="hljs-number">0</span>].text,
                backgroundColor:<span class="hljs-string">'#fff'</span>,
                color:<span class="hljs-string">"#000"</span>,

                });

            <span class="hljs-keyword">var</span> sv = Ti.UI.createScrollView({
                backgroundColor:<span class="hljs-string">'#fff'</span>,
                width: Ti.UI.FILL,
                height: Ti.UI.FILL
            });

             <span class="hljs-keyword">var</span> l = Ti.UI.createLabel({
                 backgroundColor:<span class="hljs-string">'#fff'</span>,
                width: <span class="hljs-string">"100%"</span>,
                height: Ti.UI.SIZE,
                text: e.row.description,
                color:<span class="hljs-string">'#000'</span>,
                top:<span class="hljs-number">5</span>,
            });

            sv.add(l);
            w.add(sv);

            w.open({modal:<span class="hljs-literal">true</span>});

        });


        win.add(tableview);


    }<span class="hljs-keyword">catch</span>(E)
    {
        alert(E);
    }
};

xhr.send();  


    <span class="hljs-keyword">return</span> win;
};
</code></pre>
		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="August 29th 2013, 9:22:06 am">August 29th 2013</span>
				by <span class='authorname'>Vidya N</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>image</span></li>
					
						<li><span class='tagname'>iphone</span></li>
					
						<li><span class='tagname'>parsing</span></li>
					
						<li><span class='tagname'>rss</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-267828">
				
						<section>
							<p>Try using the regEx in this <a href="http:&#x2F;&#x2F;stackoverflow.com&#x2F;questions&#x2F;12393671&#x2F;substring-regex-to-get-a-src-value-held-in-a-string">stackoverflow post</a></p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 29th 2013, 11:04:15 am">August 29th 2013</span>
								by <span class='authorname'>Nick Milner</span><br>
								<a class="icon-bg icon-link" href="../../question/156566/how-to-parse-image-which-is-in-description-tag-of-rss-feeds.html#answer-267828" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-267846">
				
						<section>
							<p>You can add any kind of data to your row object and it will be passed along with the click event. Query the xml for the image url and set it to the row. And when creating the details window, create image view with the url. Try the following code.</p>
<pre><code class="hljs">var data = [];
    var xhr = Ti.Network.createHTTPClient();
    xhr.<span class="hljs-built_in">open</span>(<span class="hljs-string">'GET'</span>,<span class="hljs-string">'http://www.indiansinkuwait.com/RSS/NewsFeed.aspx'</span>);

    xhr.onload = function()
    {
        <span class="hljs-keyword">try</span>
        {
        <span class="hljs-comment">//handle server response here</span>

        <span class="hljs-comment">//get the overall xml document</span>
        var doc = <span class="hljs-keyword">this</span>.responseXML.documentElement;

        <span class="hljs-comment">//this gives us an array of all the ‘item’ tags in the document</span>
        var items = doc.getElementsByTagName(<span class="hljs-string">'item'</span>);

        <span class="hljs-comment">//get the title of the page</span>
        var doctitle = doc.evaluate(<span class="hljs-string">'//channel/title/text()'</span>).item(<span class="hljs-number">0</span>).nodeValue;

        var x = <span class="hljs-number">0</span>;

        <span class="hljs-keyword">for</span> (var c=<span class="hljs-number">0</span>;c&lt;items.length;c++)
        {
            <span class="hljs-comment">//get the cth feed item from the array</span>
            var item = items.item(c);

            <span class="hljs-comment">//get the title of the feed item</span>
            var title = item.getElementsByTagName(<span class="hljs-string">"title"</span>).item(<span class="hljs-number">0</span>).<span class="hljs-built_in">text</span>;

            <span class="hljs-comment">//create a new row and a label field in it to hold the title    </span>
            var row = Ti.UI.createTableViewRow({<span class="hljs-variable">height</span>:<span class="hljs-number">80</span>});

            var label = Ti.UI.createLabel({
            <span class="hljs-built_in">text</span>:title, 
            left:<span class="hljs-number">5</span>,
            top:<span class="hljs-number">5</span>,
            bottom:<span class="hljs-number">5</span>,
            right:<span class="hljs-number">5</span>,
            <span class="hljs-built_in">color</span>:<span class="hljs-string">'#fff'</span>,
            <span class="hljs-built_in">textAlign</span>: <span class="hljs-string">'center'</span> 
            });

            row.<span class="hljs-built_in">add</span>(label);

            <span class="hljs-comment">//set the url to go to when user selects the row</span>
            row.data = item.getElementsByTagName(<span class="hljs-string">"description"</span>).item(<span class="hljs-number">0</span>).<span class="hljs-built_in">text</span>;
            row.<span class="hljs-built_in">image</span> = item.getElementsByTagName(<span class="hljs-string">"image"</span>).item(<span class="hljs-number">0</span>).<span class="hljs-built_in">text</span>;
            <span class="hljs-comment">//add this row to the data object</span>
            data[x++] = row;

        }

        var tableview = Titanium.UI.createTableView({data:data});

        var headerLabel = Ti.UI.createLabel({
            <span class="hljs-built_in">text</span>:doctitle,  
            <span class="hljs-variable">height</span>:<span class="hljs-number">80</span>,
            left:<span class="hljs-number">5</span>,
            top:<span class="hljs-number">5</span>,
            bottom:<span class="hljs-number">5</span>,
            right:<span class="hljs-number">5</span>,
            <span class="hljs-built_in">color</span>:<span class="hljs-string">'#000'</span>,
            backgroundColor:<span class="hljs-string">'#fff'</span>,
            <span class="hljs-built_in">textAlign</span>: <span class="hljs-string">'center'</span> 
            });
        tableview.setHeaderView(headerLabel);

        tableview.setBackgroundColor(<span class="hljs-string">'#005'</span>);

        tableview.addEventListener(<span class="hljs-string">'click'</span>,function(e)
        {
            <span class="hljs-comment">//create a new Window</span>
            var w = Ti.UI.createWindow({
                title:e.row.children[<span class="hljs-number">0</span>].<span class="hljs-built_in">text</span>,
                backgroundColor:<span class="hljs-string">'#fff'</span>,
                <span class="hljs-built_in">color</span>:<span class="hljs-string">"#000"</span>
                });
            var sv = Ti.UI.createScrollView({
                <span class="hljs-variable">width</span>: Ti.UI.FILL,
                <span class="hljs-variable">height</span>: Ti.UI.FILL,
                layout: <span class="hljs-string">'vertical'</span>
            });
            <span class="hljs-keyword">if</span>(typeof e.row.<span class="hljs-built_in">image</span> !== <span class="hljs-string">'undefined'</span>) {
                var <span class="hljs-built_in">image</span> = Ti.UI.createImageView({
                  <span class="hljs-built_in">image</span>:e.row.<span class="hljs-built_in">image</span>
                });
                sv.<span class="hljs-built_in">add</span>(<span class="hljs-built_in">image</span>);
            }
            var l = Ti.UI.createLabel({
                <span class="hljs-variable">width</span>: <span class="hljs-string">"100%"</span>,
                <span class="hljs-variable">height</span>: Ti.UI.SIZE,
                <span class="hljs-built_in">text</span>: e.row.data
            });
            var closeButton = Ti.UI.createButton({
                title: <span class="hljs-string">"Close"</span>
            });
            closeButton.addEventListener(<span class="hljs-string">'click'</span>, function(e){
                w.close();
            });
            sv.<span class="hljs-built_in">add</span>(l);
            w.<span class="hljs-built_in">add</span>(sv);
            w.leftNavButton =closeButton;
            w.<span class="hljs-built_in">open</span>({modal:<span class="hljs-keyword">true</span>});

        });

        <span class="hljs-comment">//Open a new application window and add the feed table to it</span>
        <span class="hljs-comment">//var window  = new ApplicationWindow();</span>
        window.<span class="hljs-built_in">add</span>(tableview);
        window.<span class="hljs-built_in">open</span>();

    }<span class="hljs-keyword">catch</span>(E)
    {
        alert(E);
    }
};

xhr.send();
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 29th 2013, 3:09:19 pm">August 29th 2013</span>
								by <span class='authorname'>Vamsi Vidala</span><br>
								<a class="icon-bg icon-link" href="../../question/156566/how-to-parse-image-which-is-in-description-tag-of-rss-feeds.html#answer-267846" rel="permalink">permalink</a>
							</div>

							<h5>2 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Also since you description tags are in html, consider loding it up in a web view.  <a href="http:&#x2F;&#x2F;docs.appcelerator.com&#x2F;titanium&#x2F;latest&#x2F;#!&#x2F;api&#x2F;Titanium.UI.WebView">Refer docs</a>.</p>
<p>You can pass the whole description as the html to webView.</p>
<pre><code class="hljs"> <span class="hljs-keyword">var</span> <span class="hljs-keyword">l</span> = Ti.UI.createWebView({
          width: <span class="hljs-string">"100%"</span>,
          height: Ti.UI.SIZE,
          html: <span class="hljs-keyword">e</span>.row.data
});
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="August 29th 2013, 3:17:31 pm">August 29th 2013</span>
											by <span class='authorname'>Vamsi Vidala</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>@Vamsi vidala: Thank you.Your code works fine for me. Can you please tell me how can i parse the multiple images inside the description tag to my description page.Thanks in advance.</p>
<pre><code class="hljs">&lt;description&gt;
The students of U<span class="hljs-class">.K</span><span class="hljs-class">.G</span> of the Indian Community School,  Amman Branch, had <span class="hljs-tag">a</span> Fancy Mask Competition on <span class="hljs-number">12</span>th September, <span class="hljs-number">2013</span>. The children walked the ramp to foot-tapping music and displayed their beautifully crafted masks. Some striking creations with beads, ribbons and different colours fascinated the staff and students alike. 
&lt;<span class="hljs-tag">div</span> align=center&gt;&lt;<span class="hljs-tag">img</span> src=http:<span class="hljs-comment">//www.example.com/press//press/sep2313icsk1.jpg&gt;&lt;/div&gt; </span>
&lt;<span class="hljs-tag">div</span> align=center&gt;&lt;<span class="hljs-tag">img</span> src=http:<span class="hljs-comment">//www.example.com/press//press/sep2313icsk3.jpg&gt;&lt;/div&gt; </span>
The children had made these fancy masks as part of their holiday assignment. They were given the theme of butterfly and flowers <span class="hljs-keyword">for</span> their masks. <span class="hljs-number">15</span> masks wer shortlisted <span class="hljs-keyword">in</span> the Fancy <span class="hljs-attribute">mask</span> parade <span class="hljs-keyword">for</span> prizes which will be awarded later.
 &lt;<span class="hljs-tag">div</span> align=center&gt;&lt;<span class="hljs-tag">img</span> src=http:<span class="hljs-comment">//www.example.com/press//press/sep2313icsk4.jpg&gt;&lt;/div&gt; </span>
More ICSK News at &lt;<span class="hljs-tag">a</span> href=<span class="hljs-string">"http://www.icsk-kw.com"</span> target = <span class="hljs-string">"_blank"</span>&gt;www<span class="hljs-class">.icsk-kw</span><span class="hljs-class">.com</span>&lt;/a&gt;
&lt;/description&gt;
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="September 24th 2013, 9:13:58 am">September 24th 2013</span>
											by <span class='authorname'>harsha kumar</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
