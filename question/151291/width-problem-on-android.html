<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>width problem on android Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>width problem on android</h1>
		</header>
		<section>
			<p>Hi,<br>I&#39;m developing for i phone and android using sdk 3.0.</p>
<p>I have a problem with the width of some view: </p>
<p>i created a kind of custom nav bar with 4 views here is the code :</p>
<pre><code class="hljs">var topContainer = Ti.UI.createView({
    <span class="hljs-string">layout :</span> <span class="hljs-string">'horizontal'</span>,
    <span class="hljs-string">top :</span> <span class="hljs-number">50</span>,
<span class="hljs-label">    width:</span> <span class="hljs-string">'100%'</span>,
    <span class="hljs-string">height :</span> <span class="hljs-number">46</span>
});

var toutTab = Ti.UI.createView({
    <span class="hljs-string">backgroundImage :</span> <span class="hljs-string">'/images/tabTousOver.png'</span>,
<span class="hljs-label">    width:</span> <span class="hljs-string">'21%'</span>,
    <span class="hljs-string">height :</span> <span class="hljs-number">46</span>
});

var offreTab = Ti.UI.createView({
    <span class="hljs-string">backgroundImage :</span> <span class="hljs-string">'/images/tabOffres.png'</span>,
<span class="hljs-label">    width:</span> <span class="hljs-string">'31%'</span>,
    <span class="hljs-string">height :</span> <span class="hljs-number">46</span>
});

var saerchTab = Ti.UI.createView({
    <span class="hljs-string">backgroundImage :</span> <span class="hljs-string">'/images/tabRecherche.png'</span>,
<span class="hljs-label">    width:</span> <span class="hljs-string">'26%'</span>,
    <span class="hljs-string">height :</span> <span class="hljs-number">46</span>
});

var actuTab = Ti.UI.createView({
    <span class="hljs-string">backgroundImage :</span> <span class="hljs-string">'/images/tabActus.png'</span>,
<span class="hljs-label">    width:</span> <span class="hljs-string">'22%'</span>,
    <span class="hljs-string">height :</span> <span class="hljs-number">46</span>
});
</code></pre><p>The width of all the view give us 100%, this worked on i phone and galaxy S2 but in galaxy S3 i have :</p>
<p><a href="https:&#x2F;&#x2F;dl.dropboxusercontent.com&#x2F;u&#x2F;73416494&#x2F;s3.png">Result in s3</a></p>
<p>In i phone and s2 it takes all the width;</p>
<p><a href="https:&#x2F;&#x2F;dl.dropboxusercontent.com&#x2F;u&#x2F;73416494&#x2F;S3_99.png">When i reduce the size of one of the items just by 1% i have this result in S3</a></p>
<p>How can i fix that please ?</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="April 20th 2013, 2:38:21 pm">April 20th 2013</span>
				by <span class='authorname'>Kheiro Tou</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>galaxy s3</span></li>
					
						<li><span class='tagname'>view</span></li>
					
						<li><span class='tagname'>width</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-261181">
				
						<section>
							<p>Hi</p>
<p>This problem is most likely due to a simple issue, the percentages you are using are providing pixel dimensions that are being rounded up - the cumulative value of them all then actually exceeds 100% - causing the last element to &quot;fall off&quot;.</p>
<p>I suggest you read the answer I gave some time ago that explains how you can resolve the problem across all the platforms and devices by making a few settings changes and using numbers rather than percentages (which are rarely a good idea) and base all numbers on a constant width value.</p>
<ul>
<li><a href="http:&#x2F;&#x2F;developer.appcelerator.com&#x2F;question&#x2F;148337&#x2F;how-to-achieve-same-layout-for-android-and-iphone-using-titanium">How to achieve same layout for Android and iPhone using Titanium</a></li>
</ul>
<p>Your app looks good and early enough in the process to implement the simple changes I suggest to speed up your app development without any delays.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="April 20th 2013, 2:53:48 pm">April 20th 2013</span>
								by <span class='authorname'>Malcolm Hollingsworth</span><br>
								<a class="icon-bg icon-link" href="../../question/151291/width-problem-on-android.html#answer-261181" rel="permalink">permalink</a>
							</div>

							<h5>5 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Hi, i dont understand your solution.<br>you recommand &quot;dp&quot; but &quot;dp&quot; cant give us the width of screen.</p>
<p>how to size different views to fill all width screen in the case above ?</p>
<p>thanks</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 21st 2013, 6:37:24 pm">April 21st 2013</span>
											by <span class='authorname'>Djamel ZAHAL</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>@Djamel, did you read the whole explanation?</p>
<p>DP is not related to the the device width in any way, DP is used to handle the measurement system so that all standard devices share a common numerical system irrespective of the actual width.  If you need explicit pixels thsi is not the answer - but as the vast majority of applications do not - then this fits most applications.</p>
<p>If you have ever coded for an iPhone you will have experienced this virtual dimensions thought process.</p>
<p>Whilst the iPhone retina screen is 640 pixels wide and the non-retina iPhones width is 320, you still define the width of the device as 320, half the width is 160 and the left is 0.</p>
<p>Using DP on Android uses the same principle.  As Android devices are actually grouped into a few sizes; low, medium, high and xtra-high.</p>
<ul>
<li>small is 240 or 75%</li>
<li>medium is 320 or 100% (also iPhone non-retina)</li>
<li>high is 480 or 150%</li>
<li>xtra-high is 640 or 200% (also iPhone retina)</li>
</ul>
<p>These are defined according to Google Androids own guidelines.</p>
<p>So if you use DP then all the above sizes are then virtually 320 wide.  Then set your images to the correct resolution by using the correct image folders, these will show the correct density as they should.</p>
<p>Imagine you have a box that MUST be half the width of the device and the same high, using the DP system your code would be like this;</p>
<pre><code class="hljs"><span class="hljs-comment">// parent view</span>
var parent = Ti.UI.createView({
    backgroundColor: <span class="hljs-string">'red'</span>,
    <span class="hljs-variable">height</span>: Ti.UI.SIZE,
    layout: <span class="hljs-string">'vertical'</span>,
    <span class="hljs-variable">width</span>: Ti.UI.FILL
});
<span class="hljs-comment">// far left</span>
var left = Ti.UI.createView({
    backgroundColor: <span class="hljs-string">'red'</span>,
    <span class="hljs-variable">height</span>: <span class="hljs-number">160</span>,
    left: <span class="hljs-number">0</span>,
    <span class="hljs-variable">width</span>: <span class="hljs-number">160</span>
});
<span class="hljs-comment">// centred</span>
var centre = Ti.UI.createView({
    backgroundColor: <span class="hljs-string">'green'</span>,
    <span class="hljs-variable">height</span>: <span class="hljs-number">160</span>,
    <span class="hljs-variable">width</span>: <span class="hljs-number">160</span>
});
<span class="hljs-comment">// far right</span>
var right = Ti.UI.createView({
    backgroundColor: <span class="hljs-string">'blue'</span>,
    <span class="hljs-variable">height</span>: <span class="hljs-number">160</span>,
    right: <span class="hljs-number">0</span>,
    <span class="hljs-variable">width</span>: <span class="hljs-number">160</span>
});
parent.<span class="hljs-built_in">add</span>(left);
parent.<span class="hljs-built_in">add</span>(centre);
parent.<span class="hljs-built_in">add</span>(right);
win.<span class="hljs-built_in">add</span>(parent);
</code></pre><p><strong>Ti.UI.FILL</strong> will equate to the full width of the device, each of the ones above.  320 does the same.</p>
<p>The other benefit of this technique is that all dimensions are numeric, which means no number to text conversation and the editor highlights numbers in a different syntax colour - making it easier to spot them in code.</p>
<p>Whilst it may take a while to &quot;get it&quot;, once you have it will make coding for multiple devices and dimensions much faster.  As I said before - it does not solve every single issue that may arise, but it will make the whole process much easier.</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 21st 2013, 7:00:07 pm">April 21st 2013</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>here what i tested : </p>
<pre><code class="hljs">var topContainer = Ti.UI.createView({
    top : <span class="hljs-number">50</span>,
    <span class="hljs-variable">width</span>: <span class="hljs-string">'100%'</span>,
    <span class="hljs-variable">height</span> : <span class="hljs-number">46</span>
});

var toutTab = Ti.UI.createView({
    backgroundImage : <span class="hljs-string">'/images/tabTousOver.png'</span>,
    <span class="hljs-variable">width</span>: <span class="hljs-number">65</span>,
    left: <span class="hljs-number">0</span>,
    <span class="hljs-variable">height</span> : <span class="hljs-number">46</span>
});

var offreTab = Ti.UI.createView({
    backgroundImage : <span class="hljs-string">'/images/tabOffres.png'</span>,
    <span class="hljs-variable">width</span>: <span class="hljs-number">100</span>,
    left: <span class="hljs-number">65</span>,
    <span class="hljs-variable">height</span> : <span class="hljs-number">46</span>
});

var searchTab = Ti.UI.createView({
    backgroundImage : <span class="hljs-string">'/images/tabRecherche.png'</span>,
    <span class="hljs-variable">width</span>: <span class="hljs-number">85</span>,
    left: <span class="hljs-number">165</span>,
    <span class="hljs-variable">height</span> : <span class="hljs-number">46</span>
});

var actuTab = Ti.UI.createView({
    backgroundImage : <span class="hljs-string">'/images/tabActus.png'</span>,
    <span class="hljs-variable">width</span>: <span class="hljs-number">70</span>,
    left: <span class="hljs-number">250</span>,
    <span class="hljs-variable">height</span> : <span class="hljs-number">46</span>
});

topContainer.<span class="hljs-built_in">add</span>(toutTab);
topContainer.<span class="hljs-built_in">add</span>(offreTab);
topContainer.<span class="hljs-built_in">add</span>(searchTab);
topContainer.<span class="hljs-built_in">add</span>(actuTab);
</code></pre><p>as you see, the total width is 320 and i use dp (in tiapp.xml).</p>
<p>i tested on galaxy S2 it is ok (width 480, and for hdpi-folder, i have the good images).</p>
<p>i tested on galaxy S3 (width 720), i have space on the right. in xhdpi folder i have photos for width 640 (i used the same like for iphone retina)</p>
<p>so should i have images for each resolutions  ? 720 for samsung galaxy S3 ? andâ¦</p>
<p>thanks</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 22nd 2013, 10:43:54 am">April 22nd 2013</span>
											by <span class='authorname'>Djamel ZAHAL</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>what do you thing Malcom ?<br>thanks</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 22nd 2013, 2:36:06 pm">April 22nd 2013</span>
											by <span class='authorname'>Djamel ZAHAL</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Malcom, with the code above, i dont have the good result even if i have the good images for xhdpi folder (samsung Galaxy S3) with a width of 720.</p>
<p>and after putting 640 in xhdpi, i have white space at the right, i still have it after changing images.</p>
<p>thanks for help.</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 23rd 2013, 11:02:46 am">April 23rd 2013</span>
											by <span class='authorname'>Djamel ZAHAL</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
