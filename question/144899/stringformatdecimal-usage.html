<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>String.formatDecimal usage » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>String.formatDecimal usage</h1>
		</header>
		<section>
			<p>Hi,</p>
<p>I&#39;m trying to determine what I can use for the pattern format string with the String.formatDecimal extension:</p>
<pre><code class="hljs">formatDecimal( <span class="hljs-built_in">Number</span> value, [<span class="hljs-built_in">String</span> locale], [<span class="hljs-built_in">String</span> pattern] ) : <span class="hljs-built_in">String</span>
</code></pre><p>I&#39;ve found that &#39;0.000&#39; and &#39;0E00&#39; are valid so far.</p>
<p>Can anyone point me in the right direction of some docs? </p>
<p>Many thanks.</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="November 20th 2012, 10:28:58 am">November 20th 2012</span>
				by <span class='authorname'>Nigel Harrison</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>mobile</span></li>
					
						<li><span class='tagname'>string</span></li>
					
				</ul>
			

			<section>
				<h5>2 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Where did you come across this formatDecimal method??</p>
</div>
							<div class="author">
								&mdash; commented <span title="November 20th 2012, 10:54:03 am">November 20th 2012</span>
								by <span class='authorname'>Anthony Decena</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Hi Anthony</p>
<p>It is in your own documentation - <a href="http:&#x2F;&#x2F;docs.appcelerator.com&#x2F;titanium&#x2F;2.1&#x2F;#!&#x2F;api&#x2F;Global.String-method-formatDecimal">formatDecimal</a>.</p>
</div>
							<div class="author">
								&mdash; commented <span title="November 20th 2012, 10:58:17 am">November 20th 2012</span>
								by <span class='authorname'>Malcolm Hollingsworth</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-251402">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>Hi Nigel</p>
<p>I cannot find any documentation other than the comment on your question I just posted.</p>
<p>However I have found that it does respect &#39;#&#39; and &#39;0&#39; as placeholders.</p>
<pre><code class="hljs"><span class="hljs-built_in">String</span>.formatDecimal(<span class="hljs-number">1234.56</span>, <span class="hljs-string">'en-US'</span>, <span class="hljs-string">'##0,000.00'</span>)); <span class="hljs-comment">// = 1,234.56</span>
<span class="hljs-built_in">String</span>.formatDecimal(<span class="hljs-number">1234.56</span>, <span class="hljs-string">'en-US'</span>, <span class="hljs-string">'000.00'</span>); <span class="hljs-comment">// = 1234.56</span>
<span class="hljs-built_in">String</span>.formatDecimal(<span class="hljs-number">1234.56</span>, <span class="hljs-string">'en-US'</span>, <span class="hljs-string">'000.0'</span>); <span class="hljs-comment">// = 1234.6</span>
<span class="hljs-built_in">String</span>.formatDecimal(<span class="hljs-number">1234.56</span>, <span class="hljs-string">'en-US'</span>, <span class="hljs-string">'##0,000.0'</span>); <span class="hljs-comment">// = 1,234.6</span>
<span class="hljs-built_in">String</span>.formatDecimal(<span class="hljs-number">1234.56</span>, <span class="hljs-string">'en-US'</span>, <span class="hljs-string">'##0,000'</span>); <span class="hljs-comment">// = 1235</span>
</code></pre><p>Note the use of comma which is required rather than coming directly from the local, the rounding based on the decimal location and the forced major digits if you fail to provide enough (example 3).</p>
<p>Hope that helps.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="November 20th 2012, 11:03:41 am">November 20th 2012</span>
								by <span class='authorname'>Malcolm Hollingsworth</span><br>
								<a class="icon-bg icon-link" href="question/144899/stringformatdecimal-usage#answer-251402" rel="permalink">permalink</a>
							</div>

							<h5>9 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Hi Malcolm,</p>
<p>Yes, that&#39;s all I&#39;d found too.</p>
<p>Thanks for the examples, I think I have what I need now, but I&#39;m not seeing what the &#39;#&#39; is bringing?</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 20th 2012, 12:02:56 pm">November 20th 2012</span>
											by <span class='authorname'>Nigel Harrison</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Hi Nigel</p>
<p>My example should have shown a longer zero examples;</p>
<pre><code class="hljs"><span class="hljs-built_in">String</span>.formatDecimal(<span class="hljs-number">1234.56</span>, <span class="hljs-string">'en-US'</span>, <span class="hljs-string">'00000000.00'</span>); <span class="hljs-comment">// = 00001234.56</span>
<span class="hljs-built_in">String</span>.formatDecimal(<span class="hljs-number">1234.56</span>, <span class="hljs-string">'en-US'</span>, <span class="hljs-string">'####0000.00'</span>); <span class="hljs-comment">// = 1234.56</span>
</code></pre><p>You can use a &#39;#&#39; as a place holder for digits that may not end up there when you also need thousand separators;</p>
<pre><code class="hljs"><span class="hljs-built_in">String</span>.formatDecimal(<span class="hljs-number">1234.56</span>, <span class="hljs-string">'en-US'</span>, <span class="hljs-string">'##,###,000.00'</span>); <span class="hljs-comment">// = 1,234.56</span>
<span class="hljs-built_in">String</span>.formatDecimal(<span class="hljs-number">1234.56</span>, <span class="hljs-string">'en-US'</span>, <span class="hljs-string">'00,000,000.00'</span>); <span class="hljs-comment">// = 00,001,1234.56</span>
</code></pre><p>The first one does as you would want, whereas the second one includes extra zeros and thousand separators.</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 20th 2012, 12:20:06 pm">November 20th 2012</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Brilliant, thanks again Malcolm :)</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 20th 2012, 12:21:55 pm">November 20th 2012</span>
											by <span class='authorname'>Nigel Harrison</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>You are welcome, do not forget to mark it as solved if you think it has, helps people find answers in the future.</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 20th 2012, 12:27:11 pm">November 20th 2012</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Hi all, i &#39; m interested about the question but with a difference . I have need the reverse function of format decimal .</p>
<p>Example : </p>
<ul>
<li>input      : 1,234.56</li>
<li>output     :  1234.56</li>
</ul>
<p>is there a way to obtain this?</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 30th 2013, 8:41:30 am">January 30th 2013</span>
											by <span class='authorname'>Mauro Vitale</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>@ Mauro</p>
<pre><code class="hljs"><span class="hljs-variable"><span class="hljs-keyword">var</span> <span class="hljs-keyword">val</span></span> = '<span class="hljs-number">1</span>,<span class="hljs-number">234.56</span>';
<span class="hljs-variable"><span class="hljs-keyword">var</span> ans</span> = <span class="hljs-variable"><span class="hljs-keyword">val</span>.replace(/,/gim, '');
alert(ans);</span>
</code></pre><p>Looks for any commas and replace them with empty string.</p>
<p>A better one if you have any other values inside and ONLY want numbers and dot.</p>
<pre><code class="hljs"><span class="hljs-variable"><span class="hljs-keyword">var</span> <span class="hljs-keyword">val</span></span> = '<span class="hljs-number">1</span>,<span class="hljs-number">234.56</span>';
<span class="hljs-variable"><span class="hljs-keyword">var</span> ans</span> = <span class="hljs-variable"><span class="hljs-keyword">val</span>.replace(/[^0-9.]/gim, '');
alert(ans);</span>
</code></pre><p>This removes anything that is not a number or a dot.</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 30th 2013, 9:09:22 am">January 30th 2013</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Something like this should do it…</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> numString = <span class="hljs-string">'1,234.56'</span>;
<span class="hljs-keyword">var</span> newNumString = <span class="hljs-built_in">String</span>.formatDecimal(<span class="hljs-built_in">parseFloat</span>(numString.replace(<span class="hljs-string">','</span>,<span class="hljs-string">''</span>)), <span class="hljs-string">'0.00'</span>);
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="January 30th 2013, 9:10:15 am">January 30th 2013</span>
											by <span class='authorname'>Nigel Harrison</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Thanks  for the answer .  Isn&#39;t there a function of Locale module to make this, right? i have searched on documentation , but i have not found nothing .</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 30th 2013, 9:38:35 am">January 30th 2013</span>
											by <span class='authorname'>Mauro Vitale</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>No built-in function but you can wrap the answer I gave and Nigel gave into a re-usable one;</p>
<pre><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">asMoney</span>(<span class="hljs-params">val</span>) </span>{
    <span class="hljs-keyword">var</span> ans = val.replace(<span class="hljs-regexp">/[^0-9.]/gim</span>, <span class="hljs-string">''</span>);
    <span class="hljs-keyword">return</span> <span class="hljs-built_in">String</span>.formatDecimal(<span class="hljs-built_in">parseFloat</span>(ans), <span class="hljs-string">'0.00'</span>);
}
alert(asMoney(<span class="hljs-string">'1,234.56'</span>));
</code></pre><p>Try this.</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 30th 2013, 11:06:34 am">January 30th 2013</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>2</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
