<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Alloy on method possible bug » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Alloy on method possible bug</h1>
		</header>
		<section>
			<p>Hello, I am using Alloy with a test app, which should display some news in a tableView. When I want to open a single news, I add another view to my $.mainView with the .on(&#39;click&#39;, …) method on the row. Which is working almost fine except that my sub view gets added twice to the mainView. </p>
<p>Here is my code for my news.js controller: </p>
<pre><code class="hljs">news.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">newsItem</span>) </span>{

    <span class="hljs-keyword">var</span> newsItemRow = Alloy.createController(<span class="hljs-string">'newsItemRow'</span>, {
        item : newsItem                
    }).getView(<span class="hljs-string">'newsRow'</span>);

    newsItemRow.on(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> newsView = Alloy.createController(<span class="hljs-string">'newsView'</span>, {
            item : newsItem
        }).getView(<span class="hljs-string">'newsView'</span>);

        $.mainView.add(newsView); <span class="hljs-comment">//this is added twice</span>
        alert(<span class="hljs-number">1</span>); <span class="hljs-comment">//gets exucted twice</span>
    });

    data.push(newsItemRow);    
});
</code></pre><p>If I replace the &quot;on&quot; with the Ti native &quot;addEventListener&quot;, everything&#39;s working fine, so I guess it could be a bug in the Alloy.</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="November 9th 2012, 1:29:15 pm">November 9th 2012</span>
				by <span class='authorname'>Borislav Pantaleev</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>addeventlistener</span></li>
					
						<li><span class='tagname'>alloy</span></li>
					
				</ul>
			

			<section>
				<h5>2 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>what version of alloy are you using? <code>alloy --version</code></p>
</div>
							<div class="author">
								&mdash; commented <span title="November 9th 2012, 1:50:23 pm">November 9th 2012</span>
								by <span class='authorname'>Tony Lukasavage</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>0.3.0 with newest Ti SDK</p>
</div>
							<div class="author">
								&mdash; commented <span title="November 9th 2012, 1:58:25 pm">November 9th 2012</span>
								by <span class='authorname'>Borislav Pantaleev</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-250837">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>There was a bug with the on() and off() functions found in 0.3.0. It was fixed in 0.3.1 which is that latest version available on npm. Update to 0.3.1 and see if that resolves the issue.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="November 9th 2012, 2:06:18 pm">November 9th 2012</span>
								by <span class='authorname'>Tony Lukasavage</span><br>
								<a class="icon-bg icon-link" href="question/144556/alloy-on-method-possible-bug#answer-250837" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>yep, that fixed it, thanks</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 12th 2012, 5:15:25 am">November 12th 2012</span>
											by <span class='authorname'>Borislav Pantaleev</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
