<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>TableViewRow setLeftImage not working in IOS » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>TableViewRow setLeftImage not working in IOS</h1>
		</header>
		<section>
			<p>I have a tableviewrow that I create via code. I set an image initially which works. On the click event of the tableviewrow, I set the image to something else (for example, checked or unchecked box image).  In android, the image is updated. Under iOS it is not against either an iPad I (original iPad) or against the simulator with 6.1.  I initially was adding the image to the tableview row until I found the left image property so I can revert back to that if I have to but just wondering if this is a known issue or not.</p>
<p>Thanks,<br>Gary</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="November 24th 2013, 3:50:28 pm">November 24th 2013</span>
				by <span class='authorname'>gary stewart</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>ios</span></li>
					
						<li><span class='tagname'>tableviewrow</span></li>
					
				</ul>
			

			<section>
				<h5>1 Comment</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Can you please provide a reproducible code snippet so we can either show you what do do or confirm a bug if that is the case.</p>
<p>Thanks</p>
</div>
							<div class="author">
								&mdash; commented <span title="November 24th 2013, 4:00:07 pm">November 24th 2013</span>
								by <span class='authorname'>Malcolm Hollingsworth</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-271714">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>Hi</p>
<p>I have tried your code and it appears to work correctly for me on iOS.</p>
<p><em>I changed the image names to ones found in a default app creation - for ability to test only</em>.</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> Tbl = Ti.UI.createTableView();
<span class="hljs-keyword">var</span> Section = Ti.UI.createTableViewSection();
<span class="hljs-keyword">var</span> SectionArray = [];
Tbl.top = <span class="hljs-number">120</span>;
<span class="hljs-keyword">var</span> ImageArray = [];
<span class="hljs-keyword">var</span> Row = Ti.UI.createTableViewRow();
Row.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
    Ti.API.info(<span class="hljs-string">'e.source.selected: '</span> + e.source.selected);
    <span class="hljs-keyword">if</span> (e.source.selected == <span class="hljs-literal">true</span>) {
        e.row.setLeftImage(<span class="hljs-string">"KS_nav_ui.png"</span>);
        e.source.selected = <span class="hljs-literal">false</span>;
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-comment">// This works for android, e.row &amp; e.source don't do anything when calling</span>
        <span class="hljs-comment">// setLeftImage. The event fires, but the image doesn't update.</span>
        e.row.setLeftImage(<span class="hljs-string">"KS_nav_views.png"</span>);
        e.source.selected = <span class="hljs-literal">true</span>;
    }
});
Row.leftImage = <span class="hljs-string">"KS_nav_ui.png"</span>;
Row.selected = <span class="hljs-literal">false</span>;
Section.add(Row);
SectionArray.push(Section);
Tbl.sections = SectionArray;
$.TestViews.addView(Tbl); <span class="hljs-comment">// I added this to my own parent</span>
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="November 24th 2013, 6:03:48 pm">November 24th 2013</span>
								by <span class='authorname'>Malcolm Hollingsworth</span><br>
								<a class="icon-bg icon-link" href="question/159786/tableviewrow-setleftimage-not-working-in-ios#answer-271714" rel="permalink">permalink</a>
							</div>

							<h5>19 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Ok. Since my code works for you. What did you test against? I went against the iPad simulator and an original iPad.</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 24th 2013, 7:09:54 pm">November 24th 2013</span>
											by <span class='authorname'>gary stewart</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Tested on the following;</p>
<ul>
<li>iPhone Simulator 3.5&quot;</li>
<li>iPhone Simulator 4&quot; version</li>
<li>iPad Simulator Retina - app as iPhone only (so iPhone app in iPad emulation mode)</li>
<li>iPad Simulator Retina </li>
<li>iPhone 5s Physical device</li>
</ul>
<p>All working fine.</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 24th 2013, 7:17:39 pm">November 24th 2013</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Additionally code was tested inside an Alloy and non-alloy (classic) app.</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 24th 2013, 7:19:26 pm">November 24th 2013</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>So, I just tested this on a completely different dev machine and iOS simulator (iOS 7.0.3) and its still not working.  Just to clarify, the image is initially set correctly, but upon clicking the row, the image should change but doesn&#39;t.</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 25th 2013, 11:20:12 am">November 25th 2013</span>
											by <span class='authorname'>gary stewart</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I expect the code to show me a single row containing a single image set as the initial state - clicking the row will change the image to the second state clicking again will change the image back to the first state.</p>
<p>Essentially this is no more complicated a routine than showing a true&#x2F;false, yes&#x2F;no or on&#x2F;off state using an image.</p>
<p>In all my tests I had the same outcome, the toggle went from &quot;false to true&quot; to &quot;false to true&quot;.</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 25th 2013, 11:33:51 am">November 25th 2013</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Please try the following code as a test - it is a minor modification of your own - but purely to allow a default app to work with it.</p>
<ul>
<li>Create a new default Alloy project</li>
<li>replace the code in the index.xml and index.js files as follows;</li>
</ul>
<p><strong>index.js</strong></p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> Tbl = Ti.UI.createTableView();
<span class="hljs-keyword">var</span> Section = Ti.UI.createTableViewSection();
<span class="hljs-keyword">var</span> SectionArray = [];
<span class="hljs-comment">//Tbl.top = 120;</span>
<span class="hljs-keyword">var</span> ImageArray = [];
<span class="hljs-keyword">var</span> Row = Ti.UI.createTableViewRow();
Row.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
    Ti.API.info(<span class="hljs-string">'e.source.selected: '</span> + e.source.selected);
    <span class="hljs-keyword">if</span> (e.source.selected == <span class="hljs-literal">true</span>) {
        e.row.setLeftImage(<span class="hljs-string">"KS_nav_ui.png"</span>);
        e.source.selected = <span class="hljs-literal">false</span>;
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-comment">// This works for android, e.row &amp; e.source don't do anything when calling</span>
        <span class="hljs-comment">// setLeftImage. The event fires, but the image doesn't update.</span>
        e.row.setLeftImage(<span class="hljs-string">"KS_nav_views.png"</span>);
        e.source.selected = <span class="hljs-literal">true</span>;
    }
});
Row.leftImage = <span class="hljs-string">"KS_nav_ui.png"</span>;
Row.selected = <span class="hljs-literal">false</span>;
Section.add(Row);
SectionArray.push(Section);
Tbl.sections = SectionArray;
<span class="hljs-comment">//Tbl.height = TblHeight;</span>

$.win.add(Tbl);

$.win.open();
</code></pre><p><strong>index.xml</strong></p>
<pre><code class="hljs"><span class="hljs-tag">&lt;<span class="hljs-title">Alloy</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">Window</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"win"</span> /&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">Alloy</span>&gt;</span>
</code></pre><p><strong>index.tss</strong> remove anything in here</p>
<ul>
<li>Run the app in the iOS simulator and click the row anywhere on the icon or to the right or left of it.</li>
</ul>
<p>The app should swap between the two default icons (normally used as tab icons in the example app) this will show you the state swapping between the two states.</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 25th 2013, 11:36:08 am">November 25th 2013</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Yes, the toggle is changing from true to false and back again, but the image isn&#39;t changing.  Just to get completely nuts, I changed the code inside the click event to setRightImage (which was never previously set to anything) I would expect a right image to appear upon clicking the row, which it does not.  Not sure how we are having such a large disconnect. Is there anything else that I can provide that might help?</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 25th 2013, 11:40:25 am">November 25th 2013</span>
											by <span class='authorname'>gary stewart</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Just to confirm I do see the image itself swapping from one to the another.</p>
<p>Were you able to run the tests I asked for?</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 25th 2013, 11:51:31 am">November 25th 2013</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Yes, those images weren&#39;t added to the project so I tracked them down and added them.  The project runs and I see the initial image getting populated.  However I still don&#39;t see the image swapping when I click the row.</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 25th 2013, 12:01:36 pm">November 25th 2013</span>
											by <span class='authorname'>gary stewart</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I have found the problem; good news you are NOT going mental (at least not for this problem).</p>
<p>I have been using the latest 3.2 branch (I thought I was using 3.1.3).</p>
<p>I have now confirmed in 3.1.3 and 3.1.2 that YOUR experience is the same as mine.  I have also tried using the property version of the command instead of the setter - this also fails to work.</p>
<p>The code does however work in 3.2 without issue.</p>
<p>I would normally suggest creating a <a href="http:&#x2F;&#x2F;jira.appcelerator.org&#x2F;">jira</a> ticket - but it looks like the problem will go away.  Ti SDK 3.2 is currently due for release ideally no later than mind December - however this could slip further, but I would expect at the least a release candidate edition.</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 25th 2013, 12:22:00 pm">November 25th 2013</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I took a video of my screen so you can see what I&#39;m seeing, video is here: <a href="http:&#x2F;&#x2F;www.garystewart.net&#x2F;setLeftImageTest.mov">link</a></p>
</p>
										<div class="author">
											&mdash; commented <span title="November 25th 2013, 12:22:40 pm">November 25th 2013</span>
											by <span class='authorname'>gary stewart</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I have checked some earlier builds and they all suffer the same problem.</p>
<p>If you cannot wait until the next release for this section of your app, you could add the image as an <strong>imageView</strong> and perform the change on that instead.</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 25th 2013, 12:24:53 pm">November 25th 2013</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Yeah, I&#39;ve already implemented the work around for the iOS build using an image view but glad to know that it was indeed an issue.  Is 3.2 available as a pre-release any sooner?</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 25th 2013, 12:35:05 pm">November 25th 2013</span>
											by <span class='authorname'>gary stewart</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p><a href="http:&#x2F;&#x2F;developer.appcelerator.com&#x2F;devlink&#x2F;profile&#x2F;427941&#x2F;malcolm-hollingsworth">DevLink email</a> me for the links - I am cautious about putting pre release candidate beta links in this Q&amp;A as some newbies could use them to cause themselves harm.</p>
<p>Using early betas comes with very strict advice that these are NOT meant for any commercial app work - you should only use these to check out issue resolutions.</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 25th 2013, 12:47:28 pm">November 25th 2013</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>To whoever just voted this down - can you please explain why, was it one of these things?</p>
<ul>
<li>I only spent 19 hours trying to resolve the problem?</li>
<li>I only tested 5 separate SDK versions including the latest beta</li>
<li>I only tested 6 different devices</li>
<li>I only tested original code and revised code</li>
<li>I only created both an Alloy and Classic test case</li>
<li>I only tested both setters and properties</li>
<li>I only tested to simulators and physical devices</li>
</ul>
<p>If you were the person who down voted this then explain why, if there was something more I could have done - share that so I may provide better free support form my own time in the future.</p>
<p>If you did not have a good reason - state that as well.  </p>
<p>There is NOTHING wrong with down voting an answer if you think the answer failed in some way, but if you do not provide a reason for the down vote then you are either do so maliciously or are not mature enough to stand by your reasons.</p>
<p>I have been helping out in the Q&amp;A for some time now and down voting without giving a reason is a childish and disrespectful thing for a community member to do.</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 25th 2013, 1:42:12 pm">November 25th 2013</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Malcolm never fails to amaze me with his dedication and willingness to help!</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 25th 2013, 1:49:02 pm">November 25th 2013</span>
											by <span class='authorname'>Tim Poulsen</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>And honestly, Malcolm could not have been more helpful with this.  Just knowing that the issue is resolved in the next Ti SDK is priceless for me.</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 25th 2013, 1:50:31 pm">November 25th 2013</span>
											by <span class='authorname'>gary stewart</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>+1</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 25th 2013, 2:59:39 pm">November 25th 2013</span>
											by <span class='authorname'>Stephen Feather</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>+1 for outstanding support Malcolm!</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 25th 2013, 7:32:01 pm">November 25th 2013</span>
											by <span class='authorname'>Matthias Kroeger</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>3</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-271712">
				
						<section>
							<p>var Tbl = Ti.UI.createTableView();<br>        var Section = Ti.UI.createTableViewSection();<br>        var SectionArray = [];<br>        var TblHeight = 0;<br>        Tbl.top = 120;<br>        var ImageArray = [];<br>            var Row = Ti.UI.createTableViewRow();<br>            Row.addEventListener(&#39;click&#39;, function(e) {<br>                if (e.source.selected == true) {<br>                    e.row.setLeftImage(&quot;&#x2F;images&#x2F;radioUnSelected_50.png&quot;);<br>                    e.source.selected = false;<br>                } else {<br>                    &#x2F;&#x2F; This works for android, e.row &amp; e.source don&#39;t do anything when calling<br>                    &#x2F;&#x2F; setLeftImage. The event fires, but the image doesn&#39;t update.<br>                    e.row.setLeftImage(&quot;&#x2F;images&#x2F;radioSelected_50.png&quot;);<br>                    e.source.selected = true;<br>                }<br>            });<br>            Row.leftImage = &quot;&#x2F;images&#x2F;radioUnSelected_50.png&quot;;<br>            Row.selected = false;<br>            Section.add(Row);</p>
<pre><code class="hljs">    <span class="hljs-constant">SectionArray</span>.push(<span class="hljs-constant">Section</span>);
    <span class="hljs-constant">Tbl</span>.sections = <span class="hljs-constant">SectionArray</span>;
    <span class="hljs-constant">Tbl</span>.height = <span class="hljs-constant">TblHeight</span>;

    <span class="hljs-regexp">//</span>&lt;<span class="hljs-constant">ScrollableView</span> id=<span class="hljs-string">'TestViews'</span> scrollingEnabled=<span class="hljs-string">"true"</span> showPagingControl=<span class="hljs-string">"true"</span>&gt; 
    <span class="hljs-variable">$.</span><span class="hljs-constant">TestViews</span>.addView(<span class="hljs-constant">Tbl</span>);
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="November 24th 2013, 5:12:56 pm">November 24th 2013</span>
								by <span class='authorname'>gary stewart</span><br>
								<a class="icon-bg icon-link" href="question/159786/tableviewrow-setleftimage-not-working-in-ios#answer-271712" rel="permalink">permalink</a>
							</div>

							<h5>3 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Thanks for the code but without the code syntax is a little hard to read.</p>
<p>Quick tip; When you add code snippets or logs always add 3 <strong>~</strong> on a blank line above your code and another 3 <strong>~</strong> below you code on another blank line - you will see the difference when you preview the comment. (you are not being told off)</p>
<p>Inserted code should look like;</p>
<pre><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">something</span><span class="hljs-params">(obj)</span> </span>{
    <span class="hljs-comment">// do something</span>
}
alert(<span class="hljs-string">'Hello'</span>);
</code></pre><p>For further details click the captions on the mark-down bar for examples.</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 24th 2013, 5:19:40 pm">November 24th 2013</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Quick tip; next time - please do not create a new answer when your contribution is actually a comment - it confuses things in the future when trying to work out relevance.  You are NOT being told off.</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 24th 2013, 5:20:13 pm">November 24th 2013</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><pre><code class="hljs"><span class="hljs-variable"><span class="hljs-keyword">var</span> Tbl</span> = Ti.UI.createTableView();
<span class="hljs-variable"><span class="hljs-keyword">var</span> Section</span> = Ti.UI.createTableViewSection();
<span class="hljs-variable"><span class="hljs-keyword">var</span> SectionArray</span> = [];
<span class="hljs-variable"><span class="hljs-keyword">var</span> TblHeight</span> = <span class="hljs-number">0</span>;
Tbl.top = <span class="hljs-number">120</span>;
<span class="hljs-variable"><span class="hljs-keyword">var</span> ImageArray</span> = [];
<span class="hljs-variable"><span class="hljs-keyword">var</span> Row</span> = Ti.UI.createTableViewRow();
Row.addEventListener('click', function(e) {
    <span class="hljs-keyword">if</span> (e.source.selected == <span class="hljs-literal">true</span>) {
        e.row.setLeftImage(<span class="hljs-string">"/images/radioUnSelected_50.png"</span>);
        e.source.selected = <span class="hljs-literal">false</span>;
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-comment">// This works for android, e.row &amp; e.source don't do anything when calling</span>
        <span class="hljs-comment">// setLeftImage. The event fires, but the image doesn't update.</span>
        e.row.setLeftImage(<span class="hljs-string">"/images/radioSelected_50.png"</span>);
        e.source.selected = <span class="hljs-literal">true</span>;
    }
});
Row.leftImage = <span class="hljs-string">"/images/radioUnSelected_50.png"</span>;
Row.selected = <span class="hljs-literal">false</span>;
Section.add(Row);
SectionArray.push(Section);
Tbl.sections = SectionArray;
Tbl.height = TblHeight;

<span class="hljs-comment">//&lt;ScrollableView id='TestViews' scrollingEnabled="true" showPagingControl="true"&gt;</span>
$.TestViews.addView(Tbl);
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="November 24th 2013, 5:29:32 pm">November 24th 2013</span>
											by <span class='authorname'>gary stewart</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>-1</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
