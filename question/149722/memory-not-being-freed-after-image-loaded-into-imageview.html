<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Memory not being freed after image loaded into ImageView » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Memory not being freed after image loaded into ImageView</h1>
		</header>
		<section>
			<p>Google Android API 2.2, Titanium 3.0.2 (alloy)</p>
<p>I have an app that creates 7 imageviews.  For each imageview created it loads either a remote image or a local &#39;missing photo&#39; image.  Each of the &#39;missing photo&#39; images has a click handler that allows the user to take a photo or pick one from photo gallery, then it loads a resized version of the image into the imageview and stores the path to the fullsize image for later use.  After the images are selected, they click an upload button to send all of the fullsize images to the server.</p>
<p>The problem is that after selecting one image, each subsequent image they try to load fails with a &#39;bitmap size exceeds vm budget&#39; error.</p>
<p>Here&#39;s the weird thing though: if I use the &#39;cause GC&#39; button in Android Debug Monitor (DDMS) after selecting an image, I can then select the next image successfully. I can repeat this process to load all of the images.</p>
<p>So, somehow the garbage collector is not freeing up the allocated memory from the bitmap decoding unless forced to (or after some length of time, i&#39;m not sure).</p>
<p>Any ideas on why the allocated memory isn&#39;t being freed after the image is resized and loaded into the imageview? Any way to force the GC to run (similar to what DDMS is doing)?</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="March 18th 2013, 8:43:40 pm">March 18th 2013</span>
				by <span class='authorname'>Anthony Ryan</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>alloy</span></li>
					
						<li><span class='tagname'>bitmap</span></li>
					
						<li><span class='tagname'>gc</span></li>
					
						<li><span class='tagname'>memory</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-265096">
				
						<section>
							<p>Hi,</p>
<p>ImageView went through some upgrades since TiSDK 3.0.2. Can you please try our latest TISDK (3.1+GA) release to see if this exists. If so, please send a small reproducible sample and I will have it reviewed by our platform team.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="June 29th 2013, 12:38:01 am">June 29th 2013</span>
								by <span class='authorname'>Shak Hossain</span><br>
								<a class="icon-bg icon-link" href="question/149722/memory-not-being-freed-after-image-loaded-into-imageview#answer-265096" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>One thing to note with Shak&#39;s response is that Titanium 3.1.0 officially supports only Android 2.3.3 and up, so you may need to bump up the version of the device&#x2F;emulator that you&#39;re testing.</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 8th 2013, 12:47:14 pm">July 8th 2013</span>
											by <span class='authorname'>Tony Lukasavage</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
