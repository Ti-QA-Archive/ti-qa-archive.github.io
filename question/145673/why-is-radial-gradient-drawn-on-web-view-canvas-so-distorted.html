<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>why is radial gradient drawn on web view canvas so distorted? » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>why is radial gradient drawn on web view canvas so distorted?</h1>
		</header>
		<section>
			<p>So we can&#39;t do radial gradients natively on Android yet. To get around this, I was trying to use a canvas in a web view to draw a radial gradient on the background of a view. I create a web view with html containing the canvas and the javascript tag that draws the gradient. The problem is that the canvas position, and the gradient width and height are all off (I am trying to draw a gradient that takes up the entire web view). Here is my code so far:</p>
<pre><code class="hljs">var radius = parseInt( <span class="hljs-built_in">size</span> / <span class="hljs-number">2</span> );
var webView = Ti.UI.createWebView( {
    <span class="hljs-variable">width</span>: <span class="hljs-built_in">size</span>,
    <span class="hljs-variable">height</span>: <span class="hljs-built_in">size</span>,
    backgroundColor: <span class="hljs-string">'#000000'</span>,
    html: <span class="hljs-string">'&lt;canvas id="canvas" style="width: '</span> + <span class="hljs-built_in">size</span> + <span class="hljs-string">'; height: '</span> + <span class="hljs-built_in">size</span> + <span class="hljs-string">'; background: transparent; margin: 0;"&gt;&lt;/canvas&gt;'</span>
        + <span class="hljs-string">'&lt;script type="text/javascript"&gt;'</span>
        + <span class="hljs-string">'var context = document.getElementById( "canvas" ).getContext( "2d" );'</span>
        + <span class="hljs-string">'var gradient = context.createRadialGradient( '</span> + radius + <span class="hljs-string">', '</span> + radius + <span class="hljs-string">', 0, '</span> + radius + <span class="hljs-string">', '</span> + radius + <span class="hljs-string">', '</span> + radius + <span class="hljs-string">' );'</span>
        + <span class="hljs-string">'gradient.addColorStop( 0, "#ffffff" );'</span>
        + <span class="hljs-string">'gradient.addColorStop( 1, "#ff0000" );'</span>
        + <span class="hljs-string">'context.fillStyle = gradient;'</span>
        + <span class="hljs-string">'context.fillRect( 0, 0, '</span> + <span class="hljs-built_in">size</span> + <span class="hljs-string">', '</span> + <span class="hljs-built_in">size</span> + <span class="hljs-string">' );'</span>
        + <span class="hljs-string">'alert( "hello" );'</span>
        + <span class="hljs-string">'&lt;/script&gt;'</span>
} );
</code></pre><p>The resulting gradient looks like this:</p>
<p><img src="https:&#x2F;&#x2F;dustinhendricks.com&#x2F;images&#x2F;gradient.jpg &quot;Title&quot;" alt="alt text"></p>
<p>ehhh seems like images aren&#39;t working on this site…</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="December 12th 2012, 11:03:32 pm">December 12th 2012</span>
				by <span class='authorname'>Dustin Hendricks</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>canvas</span></li>
					
						<li><span class='tagname'>gradient</span></li>
					
						<li><span class='tagname'>webview</span></li>
					
				</ul>
			

			<section>
				<h5>3 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>I have tried doing things like using 100% as the canvases with and height, but that appears to make the canvas huge!</p>
</div>
							<div class="author">
								&mdash; commented <span title="December 12th 2012, 11:06:37 pm">December 12th 2012</span>
								by <span class='authorname'>Dustin Hendricks</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Adding a margin of zero to the body style allowed the canvas to be flush with the top left corner. Adding a width and height to the canvas stopped the aspect distortion. The one problem left is that I cannot seem to get the canvas size to match the web view&#39;s size.</p>
</div>
							<div class="author">
								&mdash; commented <span title="December 12th 2012, 11:57:12 pm">December 12th 2012</span>
								by <span class='authorname'>Dustin Hendricks</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p><img src="https:&#x2F;&#x2F;dustinhendricks.com&#x2F;images&#x2F;gradient.jpg" alt="alt text"></p>
</div>
							<div class="author">
								&mdash; commented <span title="December 13th 2012, 1:18:21 am">December 13th 2012</span>
								by <span class='authorname'>Stephen Feather</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>0</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>0 Answers</h3>

	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
