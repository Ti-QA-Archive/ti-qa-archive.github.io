<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Please help me!!! » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Please help me!!!</h1>
		</header>
		<section>
			<p>Please help me!!!</p>
<p>05-31 03:34:28.524: E&#x2F;MPT MptOnPowerWatcher(29121): startListen<br>05-31 03:34:40.024: E&#x2F;TiApplication(28732): (main) [11771,30813] Sending event: exception on thread: main msg:java.lang.NullPointerException; Titanium 3.1.0,2013&#x2F;04&#x2F;15 18:46,57634ef<br>05-31 03:34:40.024: E&#x2F;TiApplication(28732): java.lang.NullPointerException<br>05-31 03:34:40.024: E&#x2F;TiApplication(28732):     at org.appcelerator.titanium.view.TiCompositeLayout.onLayout(TiCompositeLayout.java:513)<br>05-31 03:34:40.024: E&#x2F;TiApplication(28732):     at android.view.View.layout(View.java:11345)<br>05-31 03:34:40.024: E&#x2F;TiApplication(28732):     at android.view.ViewGroup.layout(ViewGroup.java:4224)<br>05-31 03:34:40.024: E&#x2F;TiApplication(28732):     at android.widget.FrameLayout.onLayout(FrameLayout.java:431)<br>05-31 03:34:40.024: E&#x2F;TiApplication(28732):     at android.view.View.layout(View.java:11345)<br>05-31 03:34:40.024: E&#x2F;TiApplication(28732):     at android.view.ViewGroup.layout(ViewGroup.java:4224)<br>05-31 03:34:40.024: E&#x2F;TiApplication(28732):     at android.widget.LinearLayout.setChildFrame(LinearLayout.java:1658)<br>05-31 03:34:40.024: E&#x2F;TiApplication(28732):     at android.widget.LinearLayout.layoutVertical(LinearLayout.java:1516)<br>05-31 03:34:40.024: E&#x2F;TiApplication(28732):     at android.widget.LinearLayout.onLayout(LinearLayout.java:1429)<br>05-31 03:34:40.024: E&#x2F;TiApplication(28732):     at android.view.View.layout(View.java:11345)<br>05-31 03:34:40.024: E&#x2F;TiApplication(28732):     at android.view.ViewGroup.layout(ViewGroup.java:4224)<br>05-31 03:34:40.024: E&#x2F;TiApplication(28732):     at android.widget.FrameLayout.onLayout(FrameLayout.java:431)<br>05-31 03:34:40.024: E&#x2F;TiApplication(28732):     at android.view.View.layout(View.java:11345)<br>05-31 03:34:40.024: E&#x2F;TiApplication(28732):     at android.view.ViewGroup.layout(ViewGroup.java:4224)<br>05-31 03:34:40.024: E&#x2F;TiApplication(28732):     at android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:1493)<br>05-31 03:34:40.024: E&#x2F;TiApplication(28732):     at android.view.ViewRootImpl.handleMessage(ViewRootImpl.java:2452)<br>05-31 03:34:40.024: E&#x2F;TiApplication(28732):     at android.os.Handler.dispatchMessage(Handler.java:99)<br>05-31 03:34:40.024: E&#x2F;TiApplication(28732):     at android.os.Looper.loop(Looper.java:137)<br>05-31 03:34:40.024: E&#x2F;TiApplication(28732):     at android.app.ActivityThread.main(ActivityThread.java:4476)<br>05-31 03:34:40.024: E&#x2F;TiApplication(28732):     at java.lang.reflect.Method.invokeNative(Native Method)<br>05-31 03:34:40.024: E&#x2F;TiApplication(28732):     at java.lang.reflect.Method.invoke(Method.java:511)<br>05-31 03:34:40.024: E&#x2F;TiApplication(28732):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:816)<br>05-31 03:34:40.024: E&#x2F;TiApplication(28732):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:583)<br>05-31 03:34:40.024: E&#x2F;TiApplication(28732):     at dalvik.system.NativeStart.main(Native Method)<br>05-31 03:34:40.134: E&#x2F;AndroidRuntime(28732): FATAL EXCEPTION: main<br>05-31 03:34:40.134: E&#x2F;AndroidRuntime(28732): java.lang.NullPointerException<br>05-31 03:34:40.134: E&#x2F;AndroidRuntime(28732):     at org.appcelerator.titanium.view.TiCompositeLayout.onLayout(TiCompositeLayout.java:513)<br>05-31 03:34:40.134: E&#x2F;AndroidRuntime(28732):     at android.view.View.layout(View.java:11345)<br>05-31 03:34:40.134: E&#x2F;AndroidRuntime(28732):     at android.view.ViewGroup.layout(ViewGroup.java:4224)<br>05-31 03:34:40.134: E&#x2F;AndroidRuntime(28732):     at android.widget.FrameLayout.onLayout(FrameLayout.java:431)<br>05-31 03:34:40.134: E&#x2F;AndroidRuntime(28732):     at android.view.View.layout(View.java:11345)<br>05-31 03:34:40.134: E&#x2F;AndroidRuntime(28732):     at android.view.ViewGroup.layout(ViewGroup.java:4224)<br>05-31 03:34:40.134: E&#x2F;AndroidRuntime(28732):     at android.widget.LinearLayout.setChildFrame(LinearLayout.java:1658)<br>05-31 03:34:40.134: E&#x2F;AndroidRuntime(28732):     at android.widget.LinearLayout.layoutVertical(LinearLayout.java:1516)<br>05-31 03:34:40.134: E&#x2F;AndroidRuntime(28732):     at android.widget.LinearLayout.onLayout(LinearLayout.java:1429)<br>05-31 03:34:40.134: E&#x2F;AndroidRuntime(28732):     at android.view.View.layout(View.java:11345)<br>05-31 03:34:40.134: E&#x2F;AndroidRuntime(28732):     at android.view.ViewGroup.layout(ViewGroup.java:4224)<br>05-31 03:34:40.134: E&#x2F;AndroidRuntime(28732):     at android.widget.FrameLayout.onLayout(FrameLayout.java:431)<br>05-31 03:34:40.134: E&#x2F;AndroidRuntime(28732):     at android.view.View.layout(View.java:11345)<br>05-31 03:34:40.134: E&#x2F;AndroidRuntime(28732):     at android.view.ViewGroup.layout(ViewGroup.java:4224)<br>05-31 03:34:40.134: E&#x2F;AndroidRuntime(28732):     at android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:1493)<br>05-31 03:34:40.134: E&#x2F;AndroidRuntime(28732):     at android.view.ViewRootImpl.handleMessage(ViewRootImpl.java:2452)<br>05-31 03:34:40.134: E&#x2F;AndroidRuntime(28732):     at android.os.Handler.dispatchMessage(Handler.java:99)<br>05-31 03:34:40.134: E&#x2F;AndroidRuntime(28732):     at android.os.Looper.loop(Looper.java:137)<br>05-31 03:34:40.134: E&#x2F;AndroidRuntime(28732):     at android.app.ActivityThread.main(ActivityThread.java:4476)<br>05-31 03:34:40.134: E&#x2F;AndroidRuntime(28732):     at java.lang.reflect.Method.invokeNative(Native Method)<br>05-31 03:34:40.134: E&#x2F;AndroidRuntime(28732):     at java.lang.reflect.Method.invoke(Method.java:511)<br>05-31 03:34:40.134: E&#x2F;AndroidRuntime(28732):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:816)<br>05-31 03:34:40.134: E&#x2F;AndroidRuntime(28732):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:583)<br>05-31 03:34:40.134: E&#x2F;AndroidRuntime(28732):     at dalvik.system.NativeStart.main(Native Method)<br>05-31 03:35:33.454: E&#x2F;AudioHardwareMSM76XXA(139): setParameters() screen_state=off</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="May 31st 2013, 1:44:51 am">May 31st 2013</span>
				by <span class='authorname'>Chinh Nguyen Quoc</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>appcelerator</span></li>
					
						<li><span class='tagname'>crash</span></li>
					
						<li><span class='tagname'>event</span></li>
					
						<li><span class='tagname'>events</span></li>
					
				</ul>
			

			<section>
				<h5>3 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>We want to help you, but we need more infos about your issue.</p>
</div>
							<div class="author">
								&mdash; commented <span title="May 31st 2013, 2:34:58 am">May 31st 2013</span>
								by <span class='authorname'>Rainer Schleevoigt</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Here my code…. Please help me</p>
<p>function createRowTimeline(rowData, data, callback){<br>    Ti.include(&#39;&#x2F;app&#x2F;SkinApp.js&#39;);<br>    &#x2F;&#x2F;check in case data is null<br>    if(data == null || data.length &lt; 1){<br>        if (typeof(callback)==&#39;function&#39;) {<br>            callback({height: 0, index: 0});<br>            return;<br>        }<br>    }<br>    &#x2F;&#x2F; push data to datarow<br>    for(var iRow = 0; iRow &lt; data.length; iRow++){<br>        try{<br>            &#x2F;&#x2F;create id for row, using get key for friend&#39;s timeline<br>            var row_id = &quot;&quot;;<br>            if(data[iRow].main_type != sFacebook){<br>                row_id = data[iRow].post_id;<br>            }else{<br>                if(data[iRow].sub_type == sFacebookCheckin){<br>                    row_id = [data[iRow].created_date, data[iRow].location_latitude , data[iRow].location_longitude];<br>                }else{<br>                    row_id = data[iRow].created_date;<br>                }<br>            }<br>            &#x2F;&#x2F; create row<br>            var row = Ti.UI.createTableViewRow({<br>                id: row_id,<br>                height: Ti.UI.SIZE,<br>                className: data[iRow].sub_type != undefined ? data[iRow].sub_type : &#39;myrow&#39;,<br>                backgroundColor: skin.table_bgr_clr<br>            });<br>            &#x2F;&#x2F; display avarta<br>            var avataView = Ti.UI.createImageView({<br>                id:&#39;timelineavarta_style&#39;,<br>                backgroundImage:&#39;&#x2F;image&#x2F;user.png&#39;,<br>                image: data[iRow].profile_image_url<br>            });<br>            &#x2F;&#x2F;add user name<br>            var userName = Ti.UI.createLabel({<br>                id:&#39;username_style&#39;,<br>                color: skin.table_ttl_clr,<br>                text:data[iRow].user_name,<br>                height: 22,<br>                font : fontUser<br>            });<br>            &#x2F;&#x2F; display date post<br>            var dateView = Ti.UI.createLabel({<br>                id:&#39;dateview_style&#39;,<br>                height: Ti.UI.SIZE,<br>                width: Ti.UI.SIZE,<br>                color: skin.table_fot_clr,<br>                text:data[iRow].created_at,<br>                font:fontIosDate<br>            });<br>            &#x2F;&#x2F; image of account<br>            var imgAccount = Ti.UI.createImageView({<br>                id:&#39;imageaccount12_style&#39;,<br>                &#x2F;&#x2F;image:filename<br>                backgroundImage:data[iRow].image_account<br>            });  </p>
<pre><code class="hljs">        <span class="hljs-comment">// display image comment</span>
        var imgComment  = Ti.UI.createImageView({
            id:<span class="hljs-string">'imgcomment_style'</span>,
            visible: <span class="hljs-keyword">true</span>,
            right: <span class="hljs-number">20</span>
        });
        <span class="hljs-comment">// display sum like</span>
        var imgLike  = Ti.UI.createImageView({
            visible: <span class="hljs-keyword">true</span>,
            id:<span class="hljs-string">'like_style'</span>
        });
        <span class="hljs-comment">//add user name</span>
        var countLike = Ti.UI.createLabel({
            id:<span class="hljs-string">'sumlike_style'</span>,
            <span class="hljs-variable">height</span>: Ti.UI.SIZE,
            <span class="hljs-built_in">color</span>: skin.table_fot_clr,
            <span class="hljs-built_in">text</span>: data[iRow].like_count != <span class="hljs-string">""</span> ? data[iRow].like_count : <span class="hljs-string">"  "</span>,
            font:fontIosDate
        });
        var countComment = Ti.UI.createLabel({
            id:<span class="hljs-string">'comment_style'</span>,
            <span class="hljs-built_in">color</span>: skin.table_fot_clr,
            <span class="hljs-built_in">text</span>: data[iRow].retweet_count != <span class="hljs-string">""</span> ? data[iRow].retweet_count : <span class="hljs-string">"  "</span>,
            font:fontIosDate,
            right: <span class="hljs-number">5</span>,
            <span class="hljs-built_in">textAlign</span>:<span class="hljs-string">'right'</span>
        }); 

        <span class="hljs-comment">//inbox image</span>
        <span class="hljs-keyword">if</span>(data[iRow].sub_type == sFacebookSms 
        || data[iRow].sub_type == sTwitterSms
        || data[iRow].sub_type.<span class="hljs-built_in">match</span>(sMixiSms)  
        || data[iRow].sub_type == sTwitterTweet){
            <span class="hljs-comment">//image inbox</span>
            var inboxView = Ti.UI.createImageView({
                id:<span class="hljs-string">'imgmessage_style'</span>,
                <span class="hljs-built_in">image</span>:data[iRow].imginbox
            });
            <span class="hljs-keyword">if</span>(data[iRow].sub_type == sTwitterTweet){
               inboxView.backgroundImage = <span class="hljs-string">''</span>;
            }
            row.<span class="hljs-built_in">add</span>(inboxView);
            <span class="hljs-comment">//release variable inboxView</span>
            inboxView = <span class="hljs-keyword">null</span>;
        }
        <span class="hljs-comment">// display the message written in the post r</span>
        var contentView = Ti.UI.createLabel({
            id:<span class="hljs-string">'content_style'</span>,
            <span class="hljs-variable">height</span>: Ti.UI.SIZE, 
            <span class="hljs-built_in">text</span>:data[iRow].<span class="hljs-built_in">text</span>,
            font:fontIosContent,
            <span class="hljs-built_in">color</span>: skin.table_msg_clr,
            bottom: <span class="hljs-number">40</span>
        });
        <span class="hljs-comment">//display caption mixe sms</span>
        <span class="hljs-keyword">if</span>(data[iRow].sub_type.<span class="hljs-built_in">match</span>(sMixiSms) 
        || ( data[iRow].main_type == sMixi &amp;&amp; data[iRow].sub_type.<span class="hljs-built_in">match</span>(sMixiCheckin))
        || data[iRow].sub_type == sTwitterTweet){
            var captionView = Ti.UI.createLabel({
                id:<span class="hljs-string">'content_style'</span>,
                <span class="hljs-built_in">text</span>:data[iRow].caption,
                <span class="hljs-built_in">color</span>: skin.table_msg_clr,
                <span class="hljs-variable">height</span>: <span class="hljs-number">22</span>
            });
            <span class="hljs-keyword">if</span>(data[iRow].caption != <span class="hljs-string">''</span>) {
                row.<span class="hljs-built_in">add</span>(captionView);
                contentView.top = <span class="hljs-number">60</span>;
            }<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(data[iRow].sub_type == sTwitterTweet &amp;&amp; data[iRow].comments_can_post == <span class="hljs-string">""</span>){
                captionView.visible = <span class="hljs-keyword">false</span>;
                row.<span class="hljs-built_in">add</span>(captionView);
            }
            <span class="hljs-comment">//release variable captionView</span>
            captionView = <span class="hljs-keyword">null</span>;
        }
        <span class="hljs-comment">//display image youtube </span>
        <span class="hljs-keyword">if</span>(data[iRow].main_type == sYoutube){
            <span class="hljs-comment">// display account image        </span>
            var imgMedia = Ti.UI.createImageView({
                backgroundColor:<span class="hljs-string">'transparent'</span>,
                top:<span class="hljs-number">57</span>,
                <span class="hljs-variable">height</span>:<span class="hljs-number">80</span>,
                <span class="hljs-variable">width</span>:<span class="hljs-number">100</span>,
                left:<span class="hljs-number">57</span>,
                bottom:<span class="hljs-number">30</span>,
                <span class="hljs-built_in">image</span>: data[iRow].attachment_src
            });
            row.<span class="hljs-built_in">add</span>(imgMedia);
            <span class="hljs-comment">//release variable imgMedia</span>
            imgMedia = <span class="hljs-keyword">null</span>;
        }
        <span class="hljs-comment">//display image post facebook, information about the attachment to the post</span>
        <span class="hljs-keyword">if</span>( data[iRow].main_type == sFacebook
            &amp;&amp; (data[iRow].attachment_type != undefined 
            || data[iRow].attachment_type != <span class="hljs-keyword">null</span>
            || data[iRow].attachment_type != <span class="hljs-string">''</span>)){

            <span class="hljs-comment">// display photo</span>
            <span class="hljs-keyword">if</span>(data[iRow].sub_type != sFacebookCheckin){
                row.className = sAttachment;
            }
            var photoView = Ti.UI.createImageView({
                id: data[iRow].comments_comment_list,
                <span class="hljs-built_in">image</span>:data[iRow].attachment_src,
                <span class="hljs-variable">height</span>: data[iRow].image_height,
                <span class="hljs-variable">width</span>: data[iRow].image_width,
                visible: <span class="hljs-keyword">true</span>,
                left: <span class="hljs-number">57</span>,
                bottom: <span class="hljs-number">40</span>
            });
            <span class="hljs-comment">// set position of photo view</span>
            <span class="hljs-keyword">if</span>(data[iRow].<span class="hljs-built_in">text</span>.length &gt; <span class="hljs-number">0</span>){
                <span class="hljs-comment">//photoView.top = topImage(data[iRow].text, 56, 8.5);</span>
                photoView.top = parseInt(contentView.top) + parseInt(contentView.toImage().<span class="hljs-variable">height</span>) + getBufferHeigth(contentView.<span class="hljs-built_in">text</span>);
            }<span class="hljs-keyword">else</span> {
                photoView.top = <span class="hljs-number">45</span>;
            }
            <span class="hljs-comment">//add event for image</span>
            photoView.addEventListener(<span class="hljs-string">"click"</span>, function(e){
                click_photoview = <span class="hljs-keyword">true</span>;
            });
            <span class="hljs-keyword">if</span>(data[iRow].attachment_src == undefined 
             || data[iRow].attachment_src == <span class="hljs-keyword">null</span> 
             || data[iRow].attachment_src == <span class="hljs-string">""</span>){
                photoView.top = <span class="hljs-number">45</span>;
                photoView.<span class="hljs-variable">height</span> = <span class="hljs-number">0</span>;
                photoView.visible = <span class="hljs-keyword">false</span>;
             }
            row.<span class="hljs-built_in">add</span>(photoView);
            <span class="hljs-comment">//The title of the post</span>
            var lblTitlename = Ti.UI.createLabel({
                <span class="hljs-comment">//id:'username_style',</span>
                <span class="hljs-built_in">color</span>: skin.table_msg_clr,
                <span class="hljs-built_in">text</span>:data[iRow].attachment_name,
                <span class="hljs-variable">height</span>: Ti.UI.SIZE, 
                visible: <span class="hljs-keyword">true</span>,
                bottom: <span class="hljs-number">40</span>,
                font: fontIosInfoURL,
                top: photoView.getTop(),
                left: parseInt(photoView.getWidth()) + <span class="hljs-number">60</span>   
             });
            <span class="hljs-comment">//A subtitle for the post</span>
            var lblCaption = Ti.UI.createLabel({
                <span class="hljs-comment">//id:'content_style',</span>
                <span class="hljs-built_in">color</span>: skin.table_msg_clr,
                <span class="hljs-built_in">text</span>:data[iRow].attachment_caption,
                <span class="hljs-variable">height</span>: Ti.UI.SIZE, 
                visible: <span class="hljs-keyword">true</span>,
                bottom: <span class="hljs-number">40</span>,
                font: fontIosInfoURL,
                left: parseInt(photoView.getWidth()) + <span class="hljs-number">60</span>   
             });
             <span class="hljs-comment">//lblCaption.autoLink = true;  </span>
             <span class="hljs-comment">//Descriptive text about the story </span>
             var lblDescriptive = Ti.UI.createLabel( {
                <span class="hljs-comment">//id:'content_style',</span>
                <span class="hljs-built_in">color</span>: skin.table_msg_clr,
                <span class="hljs-built_in">text</span>:data[iRow].attachment_description,
                <span class="hljs-variable">height</span>: Ti.UI.SIZE, 
                visible: <span class="hljs-keyword">true</span>,
                bottom: <span class="hljs-number">40</span>,
                font: fontIosInfoURL,
                left: parseInt(photoView.getWidth()) + <span class="hljs-number">60</span>   
             });

             <span class="hljs-keyword">if</span>(data[iRow].attachment_caption != undefined
             &amp;&amp; data[iRow].attachment_caption != <span class="hljs-keyword">null</span>
             &amp;&amp; data[iRow].attachment_caption != <span class="hljs-string">''</span>
             &amp;&amp; data[iRow].attachment_caption.length &gt; <span class="hljs-number">0</span>){
                 <span class="hljs-keyword">if</span>(data[iRow].attachment_name == undefined
                    || data[iRow].attachment_name == <span class="hljs-keyword">null</span>
                    || data[iRow].attachment_name == <span class="hljs-string">''</span>
                    || data[iRow].attachment_name.length == <span class="hljs-number">0</span>){
                    lblCaption.top = photoView.getTop();
                    <span class="hljs-comment">//set positon top of lblDescriptive</span>
                    var descriptivetop =  parseInt(lblCaption.top) + parseInt(lblCaption.toImage().<span class="hljs-variable">height</span>) + getBufferHeigth(lblCaption.<span class="hljs-built_in">text</span>);
                    lblDescriptive.top =  descriptivetop;
                    row.<span class="hljs-built_in">add</span>(lblTitlename);
                    row.<span class="hljs-built_in">add</span>(lblCaption);
                    row.<span class="hljs-built_in">add</span>(lblDescriptive);
                 }<span class="hljs-keyword">else</span>{
                    lblCaption.top = parseInt(lblTitlename.top) + parseInt(lblTitlename.toImage().<span class="hljs-variable">height</span>) + getBufferHeigth(lblTitlename.<span class="hljs-built_in">text</span>);
                    lblDescriptive.top =  parseInt(lblCaption.top) + parseInt(lblCaption.toImage().<span class="hljs-variable">height</span>) + getBufferHeigth(lblCaption.<span class="hljs-built_in">text</span>);

                    row.<span class="hljs-built_in">add</span>(lblTitlename);
                    row.<span class="hljs-built_in">add</span>(lblCaption);
                    row.<span class="hljs-built_in">add</span>(lblDescriptive);
                 }
             }<span class="hljs-keyword">else</span>{
                <span class="hljs-keyword">if</span>(data[iRow].attachment_name == undefined
                || data[iRow].attachment_name == <span class="hljs-keyword">null</span>
                || data[iRow].attachment_name == <span class="hljs-string">''</span>){ <span class="hljs-comment">//|| data[iRow].attachment_name.length == 0</span>
                    <span class="hljs-comment">//start: this case have attachment_name &amp; attachment_caption fields is empty</span>
                    <span class="hljs-comment">//add ui on row but set height of ui is 0</span>
                    row.<span class="hljs-built_in">add</span>(lblTitlename);
                    row.<span class="hljs-built_in">add</span>(lblCaption);
                    <span class="hljs-comment">//end: this case have attachment_name &amp; attachment_caption fields is empty</span>
                    lblDescriptive.top =  photoView.getTop();
                    row.<span class="hljs-built_in">add</span>(lblDescriptive);
                 }<span class="hljs-keyword">else</span>{
                    lblDescriptive.top =  parseInt(lblTitlename.top) + parseInt(lblTitlename.toImage().<span class="hljs-variable">height</span>) + getBufferHeigth(lblTitlename.<span class="hljs-built_in">text</span>);
                    row.<span class="hljs-built_in">add</span>(lblTitlename);
                    <span class="hljs-comment">//start: this case have attachment_caption field is empty</span>
                    <span class="hljs-comment">//add ui on row but set height of ui is 0</span>
                    <span class="hljs-comment">//end: this case have attachment_caption field is empty</span>
                    row.<span class="hljs-built_in">add</span>(lblDescriptive);
                 }
             }
             <span class="hljs-comment">//add on 2013/05/15: visible ui control lblTitlename</span>
             <span class="hljs-keyword">if</span>(lblTitlename.<span class="hljs-built_in">text</span> == <span class="hljs-string">""</span>){
                lblTitlename.top = <span class="hljs-number">45</span>;
                lblTitlename.<span class="hljs-variable">height</span> = <span class="hljs-number">0</span>;
                lblTitlename.visible = <span class="hljs-keyword">false</span>;
             }
             <span class="hljs-comment">//add on 2013/05/15: visible ui control lblCaption</span>
             <span class="hljs-keyword">if</span>(lblCaption.<span class="hljs-built_in">text</span> == <span class="hljs-string">""</span>){
                lblCaption.top = <span class="hljs-number">45</span>;
                lblCaption.<span class="hljs-variable">height</span> = <span class="hljs-number">0</span>;
                lblCaption.visible = <span class="hljs-keyword">false</span>;
             }
             <span class="hljs-comment">//add on 2013/05/15: visible ui control lblDescriptive</span>
             <span class="hljs-keyword">if</span>(lblDescriptive.<span class="hljs-built_in">text</span> == <span class="hljs-string">""</span>){
                   lblDescriptive.top = <span class="hljs-number">45</span>;
                   lblDescriptive.<span class="hljs-variable">height</span> = <span class="hljs-number">0</span>;
                   lblDescriptive.visible = <span class="hljs-keyword">false</span>;
             }
             <span class="hljs-comment">//release some variable just created</span>
             photoView = <span class="hljs-keyword">null</span>;
             lblTitlename = <span class="hljs-keyword">null</span>;
             lblCaption = <span class="hljs-keyword">null</span>;
             lblDescriptive = <span class="hljs-keyword">null</span>;
        }

        <span class="hljs-keyword">if</span>(data[iRow].image_like != undefined 
            &amp;&amp; data[iRow].image_like != <span class="hljs-keyword">null</span>
            &amp;&amp; data[iRow].image_like != <span class="hljs-string">""</span>){
                imgLike.<span class="hljs-built_in">image</span> = data[iRow].image_like;
        } 
        <span class="hljs-keyword">if</span>(data[iRow].image_retweet_count != undefined 
            &amp;&amp; data[iRow].image_retweet_count != <span class="hljs-keyword">null</span>
            &amp;&amp; data[iRow].image_retweet_count != <span class="hljs-string">""</span>){
                <span class="hljs-comment">//Ti.API.info("user name: " + data[iRow].user_name + "   image_retweet_count: " + data[iRow].image_retweet_count);</span>
                imgComment.<span class="hljs-built_in">image</span> = data[iRow].image_retweet_count;
        }

        var iCountlike = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">try</span>{
            <span class="hljs-comment">// set location for comment and picture comment</span>
            <span class="hljs-comment">//var lenCommentCount = data[iRow].retweet_count.toString().length;</span>
            var lenCommentCount = <span class="hljs-number">1</span>;
            <span class="hljs-keyword">if</span>(data[iRow].retweet_count != undefined 
                &amp;&amp; data[iRow].retweet_count != <span class="hljs-keyword">null</span>){
                lenCommentCount = data[iRow].retweet_count.toString().length;
            }
            <span class="hljs-comment">//iCountlike = data[iRow].like_count.toString().length; </span>
            <span class="hljs-keyword">if</span>(data[iRow].like_count != undefined 
                &amp;&amp; data[iRow].like_count != <span class="hljs-keyword">null</span>){
                iCountlike = data[iRow].like_count.toString().length; 
            }    
            <span class="hljs-keyword">if</span>(lenCommentCount &gt; <span class="hljs-number">0</span>){
                imgComment.right = countComment.getRight() + <span class="hljs-number">5</span>*lenCommentCount + <span class="hljs-number">14</span>;
                <span class="hljs-keyword">if</span>(iCountlike &gt; <span class="hljs-number">0</span>){
                    <span class="hljs-comment">// set location for like and picture like</span>
                    countLike.right = imgComment.getRight() + <span class="hljs-number">40</span>;
                    imgLike.right = countLike.getRight() + <span class="hljs-number">5</span>*iCountlike + <span class="hljs-number">14</span>;
                } 
            }<span class="hljs-keyword">else</span>{
                <span class="hljs-keyword">if</span>(iCountlike &gt; <span class="hljs-number">0</span>){
                   <span class="hljs-keyword">if</span>(data[iRow].main_type == sFacebook){
                        countLike.right = <span class="hljs-number">65</span>;
                        imgLike.right = <span class="hljs-number">80</span>;                        
                   }<span class="hljs-keyword">else</span>{
                        countLike.right = <span class="hljs-number">5</span>;
                        imgLike.right = countLike.getRight() + <span class="hljs-number">5</span>*iCountlike + <span class="hljs-number">14</span>;
                   }
                }
            }
        }<span class="hljs-keyword">catch</span>(e){
            Ti.API.info(<span class="hljs-string">"-------Start -&gt; set location for comment and picture comment------- "</span>);
            Ti.API.info(e);
            Ti.API.info(<span class="hljs-string">"-------End -&gt; set location for comment and picture comment------- "</span>);
        }

        <span class="hljs-comment">//-----------------------------------------------------------------</span>
        <span class="hljs-comment">//start -&gt;&gt; check control visible</span>
        <span class="hljs-comment">//-----------------------------------------------------------------</span>
        <span class="hljs-keyword">if</span>(data[iRow].main_type == sMixi &amp;&amp; data[iRow].sub_type.<span class="hljs-built_in">match</span>(sMixiCheckin)){
            <span class="hljs-keyword">if</span>(data[iRow].like_count != <span class="hljs-keyword">null</span> &amp;&amp; data[iRow].like_count != <span class="hljs-string">""</span>){
                imgLike.visible = <span class="hljs-keyword">true</span>;
            }<span class="hljs-keyword">else</span>{
                imgLike.visible = <span class="hljs-keyword">false</span>;
            }
        }<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(data[iRow].main_type == sTwitter &amp;&amp; data[iRow].sub_type != sTwitterSms){
            countLike.visible = <span class="hljs-keyword">false</span>;
            imgLike.top = <span class="hljs-number">0</span>;
            imgLike.right = <span class="hljs-number">0</span>;
            <span class="hljs-keyword">if</span>(data[iRow].like_count != <span class="hljs-keyword">null</span> &amp;&amp; data[iRow].like_count != <span class="hljs-string">""</span>){
                imgLike.visible = <span class="hljs-keyword">true</span>;
            }<span class="hljs-keyword">else</span>{
                imgLike.visible = <span class="hljs-keyword">false</span>;
            }
        }<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(data[iRow].main_type == sFacebook &amp;&amp; data[iRow].sub_type != sFacebookSms){
            <span class="hljs-keyword">if</span>(data[iRow].like_count == <span class="hljs-number">0</span> || data[iRow].like_count == <span class="hljs-string">""</span> || data[iRow].like_count == undefined){
               imgLike.visible = <span class="hljs-keyword">false</span>;
            }<span class="hljs-keyword">else</span>{
                imgLike.visible = <span class="hljs-keyword">true</span>;
            }
        }

        <span class="hljs-comment">//-----------------------------------------------------------------</span>
        <span class="hljs-comment">//end -&gt;&gt; check control visible</span>
        <span class="hljs-comment">//----------------------------------------------------------------- </span>
        row.<span class="hljs-built_in">add</span>(imgLike);
        row.<span class="hljs-built_in">add</span>(avataView)
        row.<span class="hljs-built_in">add</span>(imgAccount);
        row.<span class="hljs-built_in">add</span>(userName);
        row.<span class="hljs-built_in">add</span>(dateView);
        row.<span class="hljs-built_in">add</span>(contentView);
        row.<span class="hljs-built_in">add</span>(countLike);
        row.<span class="hljs-built_in">add</span>(countComment);
        row.<span class="hljs-built_in">add</span>(imgComment);
        rowData.push(row);
        <span class="hljs-comment">//release some variable just created</span>
        imgLike      = <span class="hljs-keyword">null</span>;
        avataView    = <span class="hljs-keyword">null</span>;
        imgAccount   = <span class="hljs-keyword">null</span>;
        userName     = <span class="hljs-keyword">null</span>;
        dateView     = <span class="hljs-keyword">null</span>;
        contentView  = <span class="hljs-keyword">null</span>;
        countLike    = <span class="hljs-keyword">null</span>;
        countComment = <span class="hljs-keyword">null</span>;
        imgComment   = <span class="hljs-keyword">null</span>;
        row          = <span class="hljs-keyword">null</span>;

    }<span class="hljs-keyword">catch</span>(e){
        Ti.API.info(<span class="hljs-string">"-------Start -&gt; create row------- "</span>);
        Ti.API.info(e);
        Ti.API.info(<span class="hljs-string">"-------End -&gt; create row------- "</span>);
    }
}
<span class="hljs-keyword">if</span> (typeof(callback)==<span class="hljs-string">'function'</span>) {
    callback(rowData);
    <span class="hljs-keyword">return</span>;
} 
</code></pre><p>};</p>
</div>
							<div class="author">
								&mdash; commented <span title="May 31st 2013, 2:57:02 am">May 31st 2013</span>
								by <span class='authorname'>Chinh Nguyen Quoc</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>This is amazing, you have provided no information as to what problem you are experiencing, the code you have provided (only when asked) is not included correctly rendering it very difficult to read, you have provided way too much and you also added it to your own question as an answer.</p>
<p>The question I have for you is - do you actually want help and if so can you do yourself a favour and provide the right amount of information that can be used to actually help you.</p>
<p>Manuel asked for these things some time ago and in a clear and concise manner.  If you still need help provide what has been asked and we can see if you can be helped.</p>
</div>
							<div class="author">
								&mdash; commented <span title="May 31st 2013, 10:58:54 pm">May 31st 2013</span>
								by <span class='authorname'>Malcolm Hollingsworth</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>-5</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-263649">
				
						<section>
							<p>`<br>function createRowTimeline(rowData, data, callback){<br>    Ti.include(&#39;&#x2F;app&#x2F;SkinApp.js&#39;);<br>    &#x2F;&#x2F;check in case data is null<br>    if(data == null || data.length &lt; 1){<br>        if (typeof(callback)==&#39;function&#39;) {<br>            callback({height: 0, index: 0});<br>            return;<br>        }<br>    }<br>    &#x2F;&#x2F; push data to datarow<br>    for(var iRow = 0; iRow &lt; data.length; iRow++){<br>        try{<br>            &#x2F;&#x2F;create id for row, using get key for friend&#39;s timeline<br>            var row_id = &quot;&quot;;<br>            if(data[iRow].main_type != sFacebook){<br>                row_id = data[iRow].post_id;<br>            }else{<br>                if(data[iRow].sub_type == sFacebookCheckin){<br>                    row_id = [data[iRow].created_date, data[iRow].location_latitude , data[iRow].location_longitude];<br>                }else{<br>                    row_id = data[iRow].created_date;<br>                }<br>            }<br>            &#x2F;&#x2F; create row<br>            var row = Ti.UI.createTableViewRow({<br>                id: row_id,<br>                height: Ti.UI.SIZE,<br>                className: data[iRow].sub_type != undefined ? data[iRow].sub_type : &#39;myrow&#39;,<br>                backgroundColor: skin.table_bgr_clr<br>            });<br>            &#x2F;&#x2F; display avarta<br>            var avataView = Ti.UI.createImageView({<br>                id:&#39;timelineavarta_style&#39;,<br>                backgroundImage:&#39;&#x2F;image&#x2F;user.png&#39;,<br>                image: data[iRow].profile_image_url<br>            });<br>            &#x2F;&#x2F;add user name<br>            var userName = Ti.UI.createLabel({<br>                id:&#39;username_style&#39;,<br>                color: skin.table_ttl_clr,<br>                text:data[iRow].user_name,<br>                height: 22,<br>                font : fontUser<br>            });<br>            &#x2F;&#x2F; display date post<br>            var dateView = Ti.UI.createLabel({<br>                id:&#39;dateview_style&#39;,<br>                height: Ti.UI.SIZE,<br>                width: Ti.UI.SIZE,<br>                color: skin.table_fot_clr,<br>                text:data[iRow].created_at,<br>                font:fontIosDate<br>            });<br>            &#x2F;&#x2F; image of account<br>            var imgAccount = Ti.UI.createImageView({<br>                id:&#39;imageaccount12_style&#39;,<br>                &#x2F;&#x2F;image:filename<br>                backgroundImage:data[iRow].image_account<br>            });  </p>
<pre><code class="hljs">        <span class="hljs-comment">// display image comment</span>
        var imgComment  = Ti.UI.createImageView({
            id:<span class="hljs-string">'imgcomment_style'</span>,
            visible: <span class="hljs-keyword">true</span>,
            right: <span class="hljs-number">20</span>
        });
        <span class="hljs-comment">// display sum like</span>
        var imgLike  = Ti.UI.createImageView({
            visible: <span class="hljs-keyword">true</span>,
            id:<span class="hljs-string">'like_style'</span>
        });
        <span class="hljs-comment">//add user name</span>
        var countLike = Ti.UI.createLabel({
            id:<span class="hljs-string">'sumlike_style'</span>,
            <span class="hljs-variable">height</span>: Ti.UI.SIZE,
            <span class="hljs-built_in">color</span>: skin.table_fot_clr,
            <span class="hljs-built_in">text</span>: data[iRow].like_count != <span class="hljs-string">""</span> ? data[iRow].like_count : <span class="hljs-string">"  "</span>,
            font:fontIosDate
        });
        var countComment = Ti.UI.createLabel({
            id:<span class="hljs-string">'comment_style'</span>,
            <span class="hljs-built_in">color</span>: skin.table_fot_clr,
            <span class="hljs-built_in">text</span>: data[iRow].retweet_count != <span class="hljs-string">""</span> ? data[iRow].retweet_count : <span class="hljs-string">"  "</span>,
            font:fontIosDate,
            right: <span class="hljs-number">5</span>,
            <span class="hljs-built_in">textAlign</span>:<span class="hljs-string">'right'</span>
        }); 

        <span class="hljs-comment">//inbox image</span>
        <span class="hljs-keyword">if</span>(data[iRow].sub_type == sFacebookSms 
        || data[iRow].sub_type == sTwitterSms
        || data[iRow].sub_type.<span class="hljs-built_in">match</span>(sMixiSms)  
        || data[iRow].sub_type == sTwitterTweet){
            <span class="hljs-comment">//image inbox</span>
            var inboxView = Ti.UI.createImageView({
                id:<span class="hljs-string">'imgmessage_style'</span>,
                <span class="hljs-built_in">image</span>:data[iRow].imginbox
            });
            <span class="hljs-keyword">if</span>(data[iRow].sub_type == sTwitterTweet){
               inboxView.backgroundImage = <span class="hljs-string">''</span>;
            }
            row.<span class="hljs-built_in">add</span>(inboxView);
            <span class="hljs-comment">//release variable inboxView</span>
            inboxView = <span class="hljs-keyword">null</span>;
        }
        <span class="hljs-comment">// display the message written in the post r</span>
        var contentView = Ti.UI.createLabel({
            id:<span class="hljs-string">'content_style'</span>,
            <span class="hljs-variable">height</span>: Ti.UI.SIZE, 
            <span class="hljs-built_in">text</span>:data[iRow].<span class="hljs-built_in">text</span>,
            font:fontIosContent,
            <span class="hljs-built_in">color</span>: skin.table_msg_clr,
            bottom: <span class="hljs-number">40</span>
        });
        <span class="hljs-comment">//display caption mixe sms</span>
        <span class="hljs-keyword">if</span>(data[iRow].sub_type.<span class="hljs-built_in">match</span>(sMixiSms) 
        || ( data[iRow].main_type == sMixi &amp;&amp; data[iRow].sub_type.<span class="hljs-built_in">match</span>(sMixiCheckin))
        || data[iRow].sub_type == sTwitterTweet){
            var captionView = Ti.UI.createLabel({
                id:<span class="hljs-string">'content_style'</span>,
                <span class="hljs-built_in">text</span>:data[iRow].caption,
                <span class="hljs-built_in">color</span>: skin.table_msg_clr,
                <span class="hljs-variable">height</span>: <span class="hljs-number">22</span>
            });
            <span class="hljs-keyword">if</span>(data[iRow].caption != <span class="hljs-string">''</span>) {
                row.<span class="hljs-built_in">add</span>(captionView);
                contentView.top = <span class="hljs-number">60</span>;
            }<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(data[iRow].sub_type == sTwitterTweet &amp;&amp; data[iRow].comments_can_post == <span class="hljs-string">""</span>){
                captionView.visible = <span class="hljs-keyword">false</span>;
                row.<span class="hljs-built_in">add</span>(captionView);
            }
            <span class="hljs-comment">//release variable captionView</span>
            captionView = <span class="hljs-keyword">null</span>;
        }
        <span class="hljs-comment">//display image youtube </span>
        <span class="hljs-keyword">if</span>(data[iRow].main_type == sYoutube){
            <span class="hljs-comment">// display account image        </span>
            var imgMedia = Ti.UI.createImageView({
                backgroundColor:<span class="hljs-string">'transparent'</span>,
                top:<span class="hljs-number">57</span>,
                <span class="hljs-variable">height</span>:<span class="hljs-number">80</span>,
                <span class="hljs-variable">width</span>:<span class="hljs-number">100</span>,
                left:<span class="hljs-number">57</span>,
                bottom:<span class="hljs-number">30</span>,
                <span class="hljs-built_in">image</span>: data[iRow].attachment_src
            });
            row.<span class="hljs-built_in">add</span>(imgMedia);
            <span class="hljs-comment">//release variable imgMedia</span>
            imgMedia = <span class="hljs-keyword">null</span>;
        }
        <span class="hljs-comment">//display image post facebook, information about the attachment to the post</span>
        <span class="hljs-keyword">if</span>( data[iRow].main_type == sFacebook
            &amp;&amp; (data[iRow].attachment_type != undefined 
            || data[iRow].attachment_type != <span class="hljs-keyword">null</span>
            || data[iRow].attachment_type != <span class="hljs-string">''</span>)){

            <span class="hljs-comment">// display photo</span>
            <span class="hljs-keyword">if</span>(data[iRow].sub_type != sFacebookCheckin){
                row.className = sAttachment;
            }
            var photoView = Ti.UI.createImageView({
                id: data[iRow].comments_comment_list,
                <span class="hljs-built_in">image</span>:data[iRow].attachment_src,
                <span class="hljs-variable">height</span>: data[iRow].image_height,
                <span class="hljs-variable">width</span>: data[iRow].image_width,
                visible: <span class="hljs-keyword">true</span>,
                left: <span class="hljs-number">57</span>,
                bottom: <span class="hljs-number">40</span>
            });
            <span class="hljs-comment">// set position of photo view</span>
            <span class="hljs-keyword">if</span>(data[iRow].<span class="hljs-built_in">text</span>.length &gt; <span class="hljs-number">0</span>){
                <span class="hljs-comment">//photoView.top = topImage(data[iRow].text, 56, 8.5);</span>
                photoView.top = parseInt(contentView.top) + parseInt(contentView.toImage().<span class="hljs-variable">height</span>) + getBufferHeigth(contentView.<span class="hljs-built_in">text</span>);
            }<span class="hljs-keyword">else</span> {
                photoView.top = <span class="hljs-number">45</span>;
            }
            <span class="hljs-comment">//add event for image</span>
            photoView.addEventListener(<span class="hljs-string">"click"</span>, function(e){
                click_photoview = <span class="hljs-keyword">true</span>;
            });
            <span class="hljs-keyword">if</span>(data[iRow].attachment_src == undefined 
             || data[iRow].attachment_src == <span class="hljs-keyword">null</span> 
             || data[iRow].attachment_src == <span class="hljs-string">""</span>){
                photoView.top = <span class="hljs-number">45</span>;
                photoView.<span class="hljs-variable">height</span> = <span class="hljs-number">0</span>;
                photoView.visible = <span class="hljs-keyword">false</span>;
             }
            row.<span class="hljs-built_in">add</span>(photoView);
            <span class="hljs-comment">//The title of the post</span>
            var lblTitlename = Ti.UI.createLabel({
                <span class="hljs-comment">//id:'username_style',</span>
                <span class="hljs-built_in">color</span>: skin.table_msg_clr,
                <span class="hljs-built_in">text</span>:data[iRow].attachment_name,
                <span class="hljs-variable">height</span>: Ti.UI.SIZE, 
                visible: <span class="hljs-keyword">true</span>,
                bottom: <span class="hljs-number">40</span>,
                font: fontIosInfoURL,
                top: photoView.getTop(),
                left: parseInt(photoView.getWidth()) + <span class="hljs-number">60</span>   
             });
            <span class="hljs-comment">//A subtitle for the post</span>
            var lblCaption = Ti.UI.createLabel({
                <span class="hljs-comment">//id:'content_style',</span>
                <span class="hljs-built_in">color</span>: skin.table_msg_clr,
                <span class="hljs-built_in">text</span>:data[iRow].attachment_caption,
                <span class="hljs-variable">height</span>: Ti.UI.SIZE, 
                visible: <span class="hljs-keyword">true</span>,
                bottom: <span class="hljs-number">40</span>,
                font: fontIosInfoURL,
                left: parseInt(photoView.getWidth()) + <span class="hljs-number">60</span>   
             });
             <span class="hljs-comment">//lblCaption.autoLink = true;  </span>
             <span class="hljs-comment">//Descriptive text about the story </span>
             var lblDescriptive = Ti.UI.createLabel( {
                <span class="hljs-comment">//id:'content_style',</span>
                <span class="hljs-built_in">color</span>: skin.table_msg_clr,
                <span class="hljs-built_in">text</span>:data[iRow].attachment_description,
                <span class="hljs-variable">height</span>: Ti.UI.SIZE, 
                visible: <span class="hljs-keyword">true</span>,
                bottom: <span class="hljs-number">40</span>,
                font: fontIosInfoURL,
                left: parseInt(photoView.getWidth()) + <span class="hljs-number">60</span>   
             });

             <span class="hljs-keyword">if</span>(data[iRow].attachment_caption != undefined
             &amp;&amp; data[iRow].attachment_caption != <span class="hljs-keyword">null</span>
             &amp;&amp; data[iRow].attachment_caption != <span class="hljs-string">''</span>
             &amp;&amp; data[iRow].attachment_caption.length &gt; <span class="hljs-number">0</span>){
                 <span class="hljs-keyword">if</span>(data[iRow].attachment_name == undefined
                    || data[iRow].attachment_name == <span class="hljs-keyword">null</span>
                    || data[iRow].attachment_name == <span class="hljs-string">''</span>
                    || data[iRow].attachment_name.length == <span class="hljs-number">0</span>){
                    lblCaption.top = photoView.getTop();
                    <span class="hljs-comment">//set positon top of lblDescriptive</span>
                    var descriptivetop =  parseInt(lblCaption.top) + parseInt(lblCaption.toImage().<span class="hljs-variable">height</span>) + getBufferHeigth(lblCaption.<span class="hljs-built_in">text</span>);
                    lblDescriptive.top =  descriptivetop;
                    row.<span class="hljs-built_in">add</span>(lblTitlename);
                    row.<span class="hljs-built_in">add</span>(lblCaption);
                    row.<span class="hljs-built_in">add</span>(lblDescriptive);
                 }<span class="hljs-keyword">else</span>{
                    lblCaption.top = parseInt(lblTitlename.top) + parseInt(lblTitlename.toImage().<span class="hljs-variable">height</span>) + getBufferHeigth(lblTitlename.<span class="hljs-built_in">text</span>);
                    lblDescriptive.top =  parseInt(lblCaption.top) + parseInt(lblCaption.toImage().<span class="hljs-variable">height</span>) + getBufferHeigth(lblCaption.<span class="hljs-built_in">text</span>);

                    row.<span class="hljs-built_in">add</span>(lblTitlename);
                    row.<span class="hljs-built_in">add</span>(lblCaption);
                    row.<span class="hljs-built_in">add</span>(lblDescriptive);
                 }
             }<span class="hljs-keyword">else</span>{
                <span class="hljs-keyword">if</span>(data[iRow].attachment_name == undefined
                || data[iRow].attachment_name == <span class="hljs-keyword">null</span>
                || data[iRow].attachment_name == <span class="hljs-string">''</span>){ <span class="hljs-comment">//|| data[iRow].attachment_name.length == 0</span>
                    <span class="hljs-comment">//start: this case have attachment_name &amp; attachment_caption fields is empty</span>
                    <span class="hljs-comment">//add ui on row but set height of ui is 0</span>
                    row.<span class="hljs-built_in">add</span>(lblTitlename);
                    row.<span class="hljs-built_in">add</span>(lblCaption);
                    <span class="hljs-comment">//end: this case have attachment_name &amp; attachment_caption fields is empty</span>
                    lblDescriptive.top =  photoView.getTop();
                    row.<span class="hljs-built_in">add</span>(lblDescriptive);
                 }<span class="hljs-keyword">else</span>{
                    lblDescriptive.top =  parseInt(lblTitlename.top) + parseInt(lblTitlename.toImage().<span class="hljs-variable">height</span>) + getBufferHeigth(lblTitlename.<span class="hljs-built_in">text</span>);
                    row.<span class="hljs-built_in">add</span>(lblTitlename);
                    <span class="hljs-comment">//start: this case have attachment_caption field is empty</span>
                    <span class="hljs-comment">//add ui on row but set height of ui is 0</span>
                    <span class="hljs-comment">//end: this case have attachment_caption field is empty</span>
                    row.<span class="hljs-built_in">add</span>(lblDescriptive);
                 }
             }
             <span class="hljs-comment">//add on 2013/05/15: visible ui control lblTitlename</span>
             <span class="hljs-keyword">if</span>(lblTitlename.<span class="hljs-built_in">text</span> == <span class="hljs-string">""</span>){
                lblTitlename.top = <span class="hljs-number">45</span>;
                lblTitlename.<span class="hljs-variable">height</span> = <span class="hljs-number">0</span>;
                lblTitlename.visible = <span class="hljs-keyword">false</span>;
             }
             <span class="hljs-comment">//add on 2013/05/15: visible ui control lblCaption</span>
             <span class="hljs-keyword">if</span>(lblCaption.<span class="hljs-built_in">text</span> == <span class="hljs-string">""</span>){
                lblCaption.top = <span class="hljs-number">45</span>;
                lblCaption.<span class="hljs-variable">height</span> = <span class="hljs-number">0</span>;
                lblCaption.visible = <span class="hljs-keyword">false</span>;
             }
             <span class="hljs-comment">//add on 2013/05/15: visible ui control lblDescriptive</span>
             <span class="hljs-keyword">if</span>(lblDescriptive.<span class="hljs-built_in">text</span> == <span class="hljs-string">""</span>){
                   lblDescriptive.top = <span class="hljs-number">45</span>;
                   lblDescriptive.<span class="hljs-variable">height</span> = <span class="hljs-number">0</span>;
                   lblDescriptive.visible = <span class="hljs-keyword">false</span>;
             }
             <span class="hljs-comment">//release some variable just created</span>
             photoView = <span class="hljs-keyword">null</span>;
             lblTitlename = <span class="hljs-keyword">null</span>;
             lblCaption = <span class="hljs-keyword">null</span>;
             lblDescriptive = <span class="hljs-keyword">null</span>;
        }

        <span class="hljs-keyword">if</span>(data[iRow].image_like != undefined 
            &amp;&amp; data[iRow].image_like != <span class="hljs-keyword">null</span>
            &amp;&amp; data[iRow].image_like != <span class="hljs-string">""</span>){
                imgLike.<span class="hljs-built_in">image</span> = data[iRow].image_like;
        } 
        <span class="hljs-keyword">if</span>(data[iRow].image_retweet_count != undefined 
            &amp;&amp; data[iRow].image_retweet_count != <span class="hljs-keyword">null</span>
            &amp;&amp; data[iRow].image_retweet_count != <span class="hljs-string">""</span>){
                <span class="hljs-comment">//Ti.API.info("user name: " + data[iRow].user_name + "   image_retweet_count: " + data[iRow].image_retweet_count);</span>
                imgComment.<span class="hljs-built_in">image</span> = data[iRow].image_retweet_count;
        }

        var iCountlike = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">try</span>{
            <span class="hljs-comment">// set location for comment and picture comment</span>
            <span class="hljs-comment">//var lenCommentCount = data[iRow].retweet_count.toString().length;</span>
            var lenCommentCount = <span class="hljs-number">1</span>;
            <span class="hljs-keyword">if</span>(data[iRow].retweet_count != undefined 
                &amp;&amp; data[iRow].retweet_count != <span class="hljs-keyword">null</span>){
                lenCommentCount = data[iRow].retweet_count.toString().length;
            }
            <span class="hljs-comment">//iCountlike = data[iRow].like_count.toString().length; </span>
            <span class="hljs-keyword">if</span>(data[iRow].like_count != undefined 
                &amp;&amp; data[iRow].like_count != <span class="hljs-keyword">null</span>){
                iCountlike = data[iRow].like_count.toString().length; 
            }    
            <span class="hljs-keyword">if</span>(lenCommentCount &gt; <span class="hljs-number">0</span>){
                imgComment.right = countComment.getRight() + <span class="hljs-number">5</span>*lenCommentCount + <span class="hljs-number">14</span>;
                <span class="hljs-keyword">if</span>(iCountlike &gt; <span class="hljs-number">0</span>){
                    <span class="hljs-comment">// set location for like and picture like</span>
                    countLike.right = imgComment.getRight() + <span class="hljs-number">40</span>;
                    imgLike.right = countLike.getRight() + <span class="hljs-number">5</span>*iCountlike + <span class="hljs-number">14</span>;
                } 
            }<span class="hljs-keyword">else</span>{
                <span class="hljs-keyword">if</span>(iCountlike &gt; <span class="hljs-number">0</span>){
                   <span class="hljs-keyword">if</span>(data[iRow].main_type == sFacebook){
                        countLike.right = <span class="hljs-number">65</span>;
                        imgLike.right = <span class="hljs-number">80</span>;                        
                   }<span class="hljs-keyword">else</span>{
                        countLike.right = <span class="hljs-number">5</span>;
                        imgLike.right = countLike.getRight() + <span class="hljs-number">5</span>*iCountlike + <span class="hljs-number">14</span>;
                   }
                }
            }
        }<span class="hljs-keyword">catch</span>(e){
            Ti.API.info(<span class="hljs-string">"-------Start -&gt; set location for comment and picture comment------- "</span>);
            Ti.API.info(e);
            Ti.API.info(<span class="hljs-string">"-------End -&gt; set location for comment and picture comment------- "</span>);
        }

        <span class="hljs-comment">//-----------------------------------------------------------------</span>
        <span class="hljs-comment">//start -&gt;&gt; check control visible</span>
        <span class="hljs-comment">//-----------------------------------------------------------------</span>
        <span class="hljs-keyword">if</span>(data[iRow].main_type == sMixi &amp;&amp; data[iRow].sub_type.<span class="hljs-built_in">match</span>(sMixiCheckin)){
            <span class="hljs-keyword">if</span>(data[iRow].like_count != <span class="hljs-keyword">null</span> &amp;&amp; data[iRow].like_count != <span class="hljs-string">""</span>){
                imgLike.visible = <span class="hljs-keyword">true</span>;
            }<span class="hljs-keyword">else</span>{
                imgLike.visible = <span class="hljs-keyword">false</span>;
            }
        }<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(data[iRow].main_type == sTwitter &amp;&amp; data[iRow].sub_type != sTwitterSms){
            countLike.visible = <span class="hljs-keyword">false</span>;
            imgLike.top = <span class="hljs-number">0</span>;
            imgLike.right = <span class="hljs-number">0</span>;
            <span class="hljs-keyword">if</span>(data[iRow].like_count != <span class="hljs-keyword">null</span> &amp;&amp; data[iRow].like_count != <span class="hljs-string">""</span>){
                imgLike.visible = <span class="hljs-keyword">true</span>;
            }<span class="hljs-keyword">else</span>{
                imgLike.visible = <span class="hljs-keyword">false</span>;
            }
        }<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(data[iRow].main_type == sFacebook &amp;&amp; data[iRow].sub_type != sFacebookSms){
            <span class="hljs-keyword">if</span>(data[iRow].like_count == <span class="hljs-number">0</span> || data[iRow].like_count == <span class="hljs-string">""</span> || data[iRow].like_count == undefined){
               imgLike.visible = <span class="hljs-keyword">false</span>;
            }<span class="hljs-keyword">else</span>{
                imgLike.visible = <span class="hljs-keyword">true</span>;
            }
        }

        <span class="hljs-comment">//-----------------------------------------------------------------</span>
        <span class="hljs-comment">//end -&gt;&gt; check control visible</span>
        <span class="hljs-comment">//----------------------------------------------------------------- </span>
        row.<span class="hljs-built_in">add</span>(imgLike);
        row.<span class="hljs-built_in">add</span>(avataView)
        row.<span class="hljs-built_in">add</span>(imgAccount);
        row.<span class="hljs-built_in">add</span>(userName);
        row.<span class="hljs-built_in">add</span>(dateView);
        row.<span class="hljs-built_in">add</span>(contentView);
        row.<span class="hljs-built_in">add</span>(countLike);
        row.<span class="hljs-built_in">add</span>(countComment);
        row.<span class="hljs-built_in">add</span>(imgComment);
        rowData.push(row);
        <span class="hljs-comment">//release some variable just created</span>
        imgLike      = <span class="hljs-keyword">null</span>;
        avataView    = <span class="hljs-keyword">null</span>;
        imgAccount   = <span class="hljs-keyword">null</span>;
        userName     = <span class="hljs-keyword">null</span>;
        dateView     = <span class="hljs-keyword">null</span>;
        contentView  = <span class="hljs-keyword">null</span>;
        countLike    = <span class="hljs-keyword">null</span>;
        countComment = <span class="hljs-keyword">null</span>;
        imgComment   = <span class="hljs-keyword">null</span>;
        row          = <span class="hljs-keyword">null</span>;

    }<span class="hljs-keyword">catch</span>(e){
        Ti.API.info(<span class="hljs-string">"-------Start -&gt; create row------- "</span>);
        Ti.API.info(e);
        Ti.API.info(<span class="hljs-string">"-------End -&gt; create row------- "</span>);
    }
}
<span class="hljs-keyword">if</span> (typeof(callback)==<span class="hljs-string">'function'</span>) {
    callback(rowData);
    <span class="hljs-keyword">return</span>;
} 
</code></pre><p>};<br>`</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="May 31st 2013, 2:55:18 am">May 31st 2013</span>
								by <span class='authorname'>Chinh Nguyen Quoc</span><br>
								<a class="icon-bg icon-link" href="../../question/153082/please-help-me.html#answer-263649" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Please, </p>
<ul>
<li>format your code (Shift + Cmd + F in Titanium Studio)</li>
<li>use the markdown syntax for code</li>
<li>give details about your environment (target platform, SDK version, etc.)</li>
<li>point out what&#39;s your issue</li>
<li>tell us what you have tried</li>
<li>ask a real question</li>
<li>and first try to find out if related question where answered before</li>
</ul>
</p>
										<div class="author">
											&mdash; commented <span title="May 31st 2013, 6:18:40 am">May 31st 2013</span>
											by <span class='authorname'>Manuel Lehner</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>-1</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
