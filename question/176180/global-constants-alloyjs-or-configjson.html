<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Global constants: Alloy.js or config.json? » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Global constants: Alloy.js or config.json?</h1>
		</header>
		<section>
			<p>Hey! Hopefully just a quick one, I can&#39;t find anywhere any suggestion on the correct place to store constants. I see some people say to use Alloy.Globals, but then others say all config should be in config.json. Can anyone suggest where constants are actually supposed to be stored?</p>
<p>I have to connect to an API and I simply want to store the url and api keys etc somewhere, I can&#39;t decide between the following:</p>
<p>Alloy.js</p>
<pre><code class="hljs"><span class="hljs-constant">Alloy.Globals.APIurl</span> = <span class="hljs-string">"myurl.com"</span>;
<span class="hljs-constant">Alloy.Globals.APIkey</span> = <span class="hljs-string">"apikey"</span>;
</code></pre><p>config.json</p>
<pre><code class="hljs">{
    "<span class="hljs-attribute">api</span>": <span class="hljs-value">{
        "<span class="hljs-attribute">url</span>": <span class="hljs-value"><span class="hljs-string">"myurl.com"</span></span>,
        "<span class="hljs-attribute">key</span>": <span class="hljs-value"><span class="hljs-string">"apikey"</span>
    </span>}
</span>}
</code></pre><p>Thanks!</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="July 16th 2014, 7:55:47 am">July 16th 2014</span>
				by <span class='authorname'>Luke Peek</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>alloy</span></li>
					
						<li><span class='tagname'>config</span></li>
					
						<li><span class='tagname'>global variables</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-280746">
				
						<section>
							<p>Hello Luke,</p>
<p><strong>app&#x2F;alloy.js</strong></p>
<p>If you have some global variable which only use for globally concept which is dynamically change or not changed.</p>
<p>Global concept mean you can use in everywhere you want.</p>
<ul>
<li>app&#x2F;alloy.js can be used to execute some code near the beginning of the application&#39;s lifecycle</li>
<li>you can declare <em>global variables</em>, <em>collections</em> and <em>functions</em> in this file. like</li>
</ul>
<pre><code class="hljs"><span class="hljs-comment">//Function Example</span>
<span class="hljs-constant">Alloy.isTablet</span> = function(){
    return !(Math.min(Ti.Platform.displayCaps.platformHeight, Ti.Platform.displayCaps.platformWidth) &lt; <span class="hljs-number">600</span>);
};

<span class="hljs-comment">//Collection Example</span>
<span class="hljs-constant">Alloy.Collections.students0</span> = Alloy.createCollection(<span class="hljs-string">"students0"</span>);
<span class="hljs-constant">Alloy.Collections.students1</span> = Alloy.createCollection(<span class="hljs-string">"students1"</span>);
<span class="hljs-constant">Alloy.Collections.students2</span> = Alloy.createCollection(<span class="hljs-string">"students2"</span>);

<span class="hljs-comment">//Global Variable Example</span>
<span class="hljs-constant">Alloy.Globals.test1</span> = <span class="hljs-string">"test1"</span>;
<span class="hljs-constant">Alloy.Globals.test2</span> = <span class="hljs-string">"test2"</span>;
<span class="hljs-constant">Alloy.Globals.test3</span> = <span class="hljs-string">"test3"</span>;
</code></pre><p><strong>app&#x2F;config.json</strong></p>
<p>Alloy uses the config.json file, located in the project&#39;s app directory, </p>
<ul>
<li>to specify global values, </li>
<li>conditional environment and </li>
<li>platform values, and </li>
<li>widget dependencies.</li>
</ul>
<pre><code class="hljs">{
    "<span class="hljs-attribute">global</span>": <span class="hljs-value">{
        "<span class="hljs-attribute">regularFont</span>": <span class="hljs-value">{
            "<span class="hljs-attribute">fontSize</span>": <span class="hljs-value"><span class="hljs-number">17</span></span>,
            "<span class="hljs-attribute">fontFamily</span>": <span class="hljs-value"><span class="hljs-string">"Helvetica"</span>
        </span>}</span>,
        "<span class="hljs-attribute">primaryColor</span>": <span class="hljs-value"><span class="hljs-string">"#F00"</span></span>,
        "<span class="hljs-attribute">secondaryColor</span>": <span class="hljs-value"><span class="hljs-string">"#0F0"</span>
    </span>}</span>,
    "<span class="hljs-attribute">env:development</span>": <span class="hljs-value">{}</span>,
    "<span class="hljs-attribute">env:test</span>": <span class="hljs-value">{}</span>,
    "<span class="hljs-attribute">env:production</span>": <span class="hljs-value">{}</span>,
    "<span class="hljs-attribute">os:ios</span>": <span class="hljs-value">{}</span>,
    "<span class="hljs-attribute">os:android</span>": <span class="hljs-value">{}</span>,
    "<span class="hljs-attribute">dependencies</span>": <span class="hljs-value">{}
</span>}
</code></pre><p>Here in config.json file,</p>
<p>i have used the some number of color for the app. so for that, it is my configuration of App.</p>
<p>In your case,<br>You are using the <strong>API key</strong> and <strong>url</strong> variable Which is a Configuration of app.<br>Those variable are not changed.</p>
<p>So you can declare in the config.json file : </p>
<pre><code class="hljs"><span class="hljs-string">"global"</span>: {
        <span class="hljs-string">"api"</span>: {
            <span class="hljs-string">"url"</span>: <span class="hljs-string">"myurl.com"</span>,
            <span class="hljs-string">"key"</span>: <span class="hljs-string">"apikey"</span>
        }
    }
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="July 16th 2014, 8:27:56 am">July 16th 2014</span>
								by <span class='authorname'>Jigar Maheshwari</span><br>
								<a class="icon-bg icon-link" href="question/176180/global-constants-alloyjs-or-configjson#answer-280746" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>For More info : <a href="http:&#x2F;&#x2F;docs.appcelerator.com&#x2F;titanium&#x2F;3.0&#x2F;#!&#x2F;guide&#x2F;Project_Configuration_File_%28config.json%29">Config.json</a></p>
</p>
										<div class="author">
											&mdash; commented <span title="July 16th 2014, 8:32:47 am">July 16th 2014</span>
											by <span class='authorname'>Jigar Maheshwari</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-280755">
				
						<section>
							<p>I think Jigar&#39;s answer provides the necessary information. But perhaps that answer doesn&#39;t explicitly answer your underlying question: which to use for which purpose. </p>
<p>Ultimately, can use either Alloy.Globals or Alloy.CFG (config.json) in most cases. </p>
<p><strong>Alloy.Globals &#x2F; alloy.js</strong></p>
<p>Define global variables and functions here, especially those that might differ per platform or those that will be evaluated&#x2F;assigned with runtime information. For example, if you have a value that depends on the platform&#39;s height&#x2F;width, you would define it here. Make it available throughout your app by assigning it to the Alloy.Globals object.</p>
<p>This file is also where you&#39;d put initialization functions – though keep in mind that this file is evaluated before your UI is available. So, you can&#39;t manipulate the UI from this file. But if you&#39;ve got basic object initialization (singleton objects, UI constructors to be called at runtime, etc), this is where that code would go.</p>
<p><strong>config.json &#x2F; Alloy.CFG</strong></p>
<p>This is where you&#39;d define constants, such as API keys, network endpoints, etc. This is not JavaScript so you can&#39;t place statements to be evaluated here. You can define platform-specific and environment-specific variables using the appropriate keys in this JSON object. Keep in mind that JavaScript (currently) has no actual constants, so Alloy.CFG values could be altered at runtime.</p>
<p><strong>Global variables are bad</strong></p>
<p>Finally, I&#39;ve got to say in most cases globals are bad. Don&#39;t use them unless you really need to. Stylistic settings can usually be set in the TSS (put global styles in the styles&#x2F;app.tss for example). If you must use globals, keep them small – don&#39;t go storing large objects and UI components in global variables. If you find yourself needing to do that, you&#39;re structuring your code or your app&#39;s architecture incorrectly.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="July 16th 2014, 12:07:24 pm">July 16th 2014</span>
								by <span class='authorname'>Tim Poulsen</span><br>
								<a class="icon-bg icon-link" href="question/176180/global-constants-alloyjs-or-configjson#answer-280755" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>+1 The most important thing here is to determine the lifespan of the variables being kept in memory.</p>
<ul>
<li>Is this value referred to from the moment the app is launched?</li>
<li>Is this value then referred to again?</li>
<li>Is this value referred to constantly?</li>
<li>Is it possible to never access this value during the lifespan of the app before being unload and started again?</li>
</ul>
<p>Most people who require Global variables fall into one or more of these categories; </p>
<ul>
<li>Do not know any better</li>
<li>Too lazy to care</li>
<li>Too lazy to work out if there is a better way</li>
<li>Not interested in working out if using a Global takes up more memory than if accessed a another way</li>
<li>&quot;It is how I have always done it&quot;</li>
<li>Think this is the only way</li>
</ul>
<p>We have all gone through at least one of these scenarios.  It is what we do next that is important.</p>
<p>It is rare that the use of a global variable is the only way or the right way to go.  Often the answer is a CommonJS approach.  Not only does this method allow promote memory efficiency where possible - it promotes re-usability and considered app design.</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 19th 2014, 3:42:22 pm">July 19th 2014</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
