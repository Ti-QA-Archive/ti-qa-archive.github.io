<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>show  multiple annotation from json in my map Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>show  multiple annotation from json in my map</h1>
		</header>
		<section>
			<p>Hi I want to show multiple annotations in my map from  json this my code i don&#39;t see the map in my phone??</p>
<p>var zz= Titanium.App.Properties.getString(&quot;imageId&quot;);</p>
<pre><code class="hljs">var xhr, jsonObject,  title,tipTitle, tip, id, data, i, image,TipContainer,imageContainer, Star;

MainWin = Titanium.UI.currentWindow;


MapContainerView = Ti.UI.createView({
<span class="hljs-label">
Width:</span><span class="hljs-number">250</span>,
<span class="hljs-string">Height:</span><span class="hljs-number">280</span>,
<span class="hljs-string">top:</span><span class="hljs-number">35</span>,


});    
MapContainer = Ti.UI.createScrollView({
<span class="hljs-label">
Width:</span><span class="hljs-number">250</span>,
<span class="hljs-string">Height:</span><span class="hljs-number">280</span>,
<span class="hljs-string">top:</span><span class="hljs-number">35</span>,
<span class="hljs-string">showVerticalScrollIndicator:</span><span class="hljs-literal">true</span>,
<span class="hljs-string">showHorizontalScrollIndicator:</span><span class="hljs-literal">false</span>

});    
HeaderLabel = Ti.UI.createLabel({
<span class="hljs-label">    font:</span> { <span class="hljs-string">fontSize:</span> <span class="hljs-number">30</span>, <span class="hljs-string">fontFamily:</span><span class="hljs-string">"SpicyRice-Regular"</span> },
    <span class="hljs-string">text :</span> <span class="hljs-string">' Event Contact '</span>,
<span class="hljs-label">    color:</span> <span class="hljs-string">'#000000'</span>,
<span class="hljs-label">    shadowColor:</span><span class="hljs-string">'#fff'</span>,
<span class="hljs-label">    shadowOffset:</span>{<span class="hljs-string">x:</span><span class="hljs-number">1</span>,<span class="hljs-string">y:</span><span class="hljs-number">1</span>},
<span class="hljs-label">    top:</span><span class="hljs-number">2</span>
});    


actInd = Ti.UI.createActivityIndicator({
<span class="hljs-label">        height:</span><span class="hljs-number">50</span>, 
<span class="hljs-label">        width:</span><span class="hljs-number">50</span>, 
<span class="hljs-label">
        top:</span><span class="hljs-number">100</span>
});
MainWin.add(actInd);

LatestTable = Ti.UI.createTableView({
<span class="hljs-label">    width:</span><span class="hljs-number">270</span>,
<span class="hljs-label">    left:</span><span class="hljs-number">30</span>,
<span class="hljs-label">    top:</span> <span class="hljs-number">70</span>,
<span class="hljs-label">    height:</span><span class="hljs-number">400</span>,
<span class="hljs-label">    backgroundColor:</span><span class="hljs-string">'transparent'</span>, 
<span class="hljs-label">    color:</span><span class="hljs-string">'#FFFFFF'</span>,        <span class="hljs-comment">//'#83B93B',</span>
<span class="hljs-label">    separatorColor:</span><span class="hljs-string">'transparent'</span>,
<span class="hljs-label">
    editable:</span><span class="hljs-literal">false</span>
});
xhr = Titanium.Network.createHTTPClient();

xhr.open(<span class="hljs-string">"GET"</span>, <span class="hljs-string">"http://192.168.0.41:3219/FamissimaMobile.svc/geteventsmap"</span>);
<span class="hljs-comment">//On success do this</span>
xhr.onload = function () {
<span class="hljs-comment">//initialize array</span>
data = [];

function createAnnotations ()
{        
    jsonObject = JSON.parse(<span class="hljs-keyword">this</span>.responseText);
    <span class="hljs-comment">//Ti.API.info(jsonObject);        </span>
    var annoatationData = [];
    <span class="hljs-comment">//create table rows</span>
    <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; jsonObject.geteventLoationResult.length; i += <span class="hljs-number">1</span>) {


     latetude = jsonObject.geteventLoationResult[i].GetEventLatitude;
       langetude = jsonObject.geteventLoationResult[i].GetEventLangetude;



        var EventView = Titanium.Map.createAnnotation(
        {
<span class="hljs-label">            latitude:</span>json[i].GetEventLatitude,
<span class="hljs-label">            longitude:</span>json[i].GetEventLangetude,
<span class="hljs-label">            title:</span><span class="hljs-string">"Appcelerator Headquarters"</span>,
<span class="hljs-label">            subtitle:</span><span class="hljs-string">'Mountain View, CA'</span>,
<span class="hljs-label">            pincolor:</span> Titanium.Map.ANNOTATION_RED,
<span class="hljs-label">            animate:</span><span class="hljs-literal">true</span>
                       });

  annoatationData.push(EventView);
  };

<span class="hljs-keyword">return</span> annoatationData ;
    }
</code></pre><p>&#x2F;&#x2F;Titanium.Map.<br>var mapview = Titanium.Map.createView({<br>         mapType:Titanium.Map.HYBRID_TYPE,<br>         region:{<br>                  latitude: 0,<br>                  longitude:0,<br>                  latitudeDelta:0.9,<br>                  longitudeDelta:0.59},<br>         animate:true,<br>         regionFit:true,<br>         userLocation:true,<br>         left:0,<br>         top:0,<br>         bottom:0,<br>         annotations:createAnnotations()<br>});<br>&#x2F;&#x2F;</p>
<pre><code class="hljs">};    



<span class="hljs-comment">//send the request    </span>
xhr.send();
</code></pre><p>MainWin.add(HeaderLabel);<br>&#x2F;&#x2F;MapContainer.add(LatestTable);<br>MainWin.add( mapview);<br>    &#x2F;&#x2F;MainWin.add(LatestTable);</p>
<p>&#x2F;&#x2F;    MainWin.open();</p>
<p>&#x2F;&#x2F;exports.loadLatest = loadLatest;</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="March 26th 2014, 7:35:17 am">March 26th 2014</span>
				by <span class='authorname'>amri hichem</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>annotation</span></li>
					
						<li><span class='tagname'>map</span></li>
					
				</ul>
			

			<section>
				<h5>8 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>format your code proper using <code>~~~</code> above and below your code.</p>
</div>
							<div class="author">
								&mdash; commented <span title="March 26th 2014, 7:37:55 am">March 26th 2014</span>
								by <span class='authorname'>Sanat Mamtora</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>it easy to read the code :</p>
<pre><code class="hljs">var xhr, jsonObject, title, tipTitle, tip, id, data, i, image, TipContainer, imageContainer, Star;

MainWin = Titanium.UI.currentWindow;

MapContainerView = Ti.UI.createView({

    <span class="hljs-string">Width :</span> <span class="hljs-number">250</span>,
    <span class="hljs-string">Height :</span> <span class="hljs-number">280</span>,
    <span class="hljs-string">top :</span> <span class="hljs-number">35</span>,

});
MapContainer = Ti.UI.createScrollView({

    <span class="hljs-string">Width :</span> <span class="hljs-number">250</span>,
    <span class="hljs-string">Height :</span> <span class="hljs-number">280</span>,
    <span class="hljs-string">top :</span> <span class="hljs-number">35</span>,
    <span class="hljs-string">showVerticalScrollIndicator :</span> <span class="hljs-literal">true</span>,
    <span class="hljs-string">showHorizontalScrollIndicator :</span> <span class="hljs-literal">false</span>

});
HeaderLabel = Ti.UI.createLabel({
    <span class="hljs-string">font :</span> {
        <span class="hljs-string">fontSize :</span> <span class="hljs-number">30</span>,
        <span class="hljs-string">fontFamily :</span> <span class="hljs-string">"SpicyRice-Regular"</span>
    },
    <span class="hljs-string">text :</span> <span class="hljs-string">' Event Contact '</span>,
    <span class="hljs-string">color :</span> <span class="hljs-string">'#000000'</span>,
    <span class="hljs-string">shadowColor :</span> <span class="hljs-string">'#fff'</span>,
    <span class="hljs-string">shadowOffset :</span> {
        <span class="hljs-string">x :</span> <span class="hljs-number">1</span>,
        <span class="hljs-string">y :</span> <span class="hljs-number">1</span>
    },
    <span class="hljs-string">top :</span> <span class="hljs-number">2</span>
});

actInd = Ti.UI.createActivityIndicator({
    <span class="hljs-string">height :</span> <span class="hljs-number">50</span>,
    <span class="hljs-string">width :</span> <span class="hljs-number">50</span>,

    <span class="hljs-string">top :</span> <span class="hljs-number">100</span>
});
MainWin.add(actInd);

LatestTable = Ti.UI.createTableView({
    <span class="hljs-string">width :</span> <span class="hljs-number">270</span>,
    <span class="hljs-string">left :</span> <span class="hljs-number">30</span>,
    <span class="hljs-string">top :</span> <span class="hljs-number">70</span>,
    <span class="hljs-string">height :</span> <span class="hljs-number">400</span>,
    <span class="hljs-string">backgroundColor :</span> <span class="hljs-string">'transparent'</span>,
    <span class="hljs-string">color :</span> <span class="hljs-string">'#FFFFFF'</span>, <span class="hljs-comment">//'#83B93B',</span>
    <span class="hljs-string">separatorColor :</span> <span class="hljs-string">'transparent'</span>,

    <span class="hljs-string">editable :</span> <span class="hljs-literal">false</span>
});
xhr = Titanium.Network.createHTTPClient();

xhr.open(<span class="hljs-string">"GET"</span>, <span class="hljs-string">"http://192.168.0.41:3219/FamissimaMobile.svc/geteventsmap"</span>);
<span class="hljs-comment">//On success do this</span>
xhr.onload = function() {
    <span class="hljs-comment">//initialize array</span>
    data = [];

    function createAnnotations() {
        jsonObject = JSON.parse(<span class="hljs-keyword">this</span>.responseText);
        <span class="hljs-comment">//Ti.API.info(jsonObject);</span>
        var annoatationData = [];
        <span class="hljs-comment">//create table rows</span>
        <span class="hljs-keyword">for</span> ( i = <span class="hljs-number">0</span>; i &lt; jsonObject.geteventLoationResult.length; i += <span class="hljs-number">1</span>) {

            latetude = jsonObject.geteventLoationResult[i].GetEventLatitude;
            langetude = jsonObject.geteventLoationResult[i].GetEventLangetude;

            var EventView = Titanium.Map.createAnnotation({
                <span class="hljs-string">latitude :</span> json[i].GetEventLatitude,
                <span class="hljs-string">longitude :</span> json[i].GetEventLangetude,
                <span class="hljs-string">title :</span> <span class="hljs-string">"Appcelerator Headquarters"</span>,
                <span class="hljs-string">subtitle :</span> <span class="hljs-string">'Mountain View, CA'</span>,
                <span class="hljs-string">pincolor :</span> Titanium.Map.ANNOTATION_RED,
                <span class="hljs-string">animate :</span> <span class="hljs-literal">true</span>
            });

            annoatationData.push(EventView);
        };

        <span class="hljs-keyword">return</span> annoatationData;
    }

    <span class="hljs-comment">//Titanium.Map. var mapview = Titanium.Map.createView({ mapType:Titanium.Map.HYBRID_TYPE, region:{ latitude: 0, longitude:0, latitudeDelta:0.9, longitudeDelta:0.59}, animate:true, regionFit:true, userLocation:true, left:0, top:0, bottom:0, annotations:createAnnotations() }); //</span>
};

<span class="hljs-comment">//send the request</span>
xhr.send();
MainWin.add(HeaderLabel);
<span class="hljs-comment">//MapContainer.add(LatestTable); MainWin.add( mapview); //MainWin.add(LatestTable);</span>
<span class="hljs-comment">// MainWin.open();</span>
<span class="hljs-comment">//exports.loadLatest = loadLatest;</span>
</code></pre></div>
							<div class="author">
								&mdash; commented <span title="March 26th 2014, 7:38:23 am">March 26th 2014</span>
								by <span class='authorname'>Sanat Mamtora</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>also provide platforms details and SDK details.</p>
</div>
							<div class="author">
								&mdash; commented <span title="March 26th 2014, 7:44:36 am">March 26th 2014</span>
								by <span class='authorname'>Sanat Mamtora</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Hi,</p>
<p>Please visit the below link to learn about map information</p>
<hr>
<p><a href="http:&#x2F;&#x2F;docs.appcelerator.com&#x2F;titanium&#x2F;latest&#x2F;#!&#x2F;guide&#x2F;Native_Maps_and_Annotations">Map Info</a></p>
</div>
							<div class="author">
								&mdash; commented <span title="March 26th 2014, 7:49:42 am">March 26th 2014</span>
								by <span class='authorname'>Amimul Hossain</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>SDK 3.2.0</p>
</div>
							<div class="author">
								&mdash; commented <span title="March 26th 2014, 8:15:50 am">March 26th 2014</span>
								by <span class='authorname'>touil haythemm</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>@touil haythemm : FYI , In <code>Ti SDK 3.2.0</code>   <code>Titanium.Map</code> is <strong>Deprecated</strong>. see this link : <strong><a href="http:&#x2F;&#x2F;docs.appcelerator.com&#x2F;titanium&#x2F;latest&#x2F;#!&#x2F;api&#x2F;Titanium.Map">Titanium.Map</a></strong>.</p>
</div>
							<div class="author">
								&mdash; commented <span title="March 26th 2014, 8:21:32 am">March 26th 2014</span>
								by <span class='authorname'>Sanat Mamtora</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>@Sanat; Whilst you have tried to provide the code in a more readable format you have managed to fall into the trap most do is assume that the plain text version will easily change.  In this case the entire map section has become a comment as plain text does not easily format.  You need to request the author of the question to re-post the code correctly or check each and every line for context.</p>
</div>
							<div class="author">
								&mdash; commented <span title="March 26th 2014, 8:47:43 am">March 26th 2014</span>
								by <span class='authorname'>Malcolm Hollingsworth</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>@Sant; also if you are posting an answer- post an answer in the actual answers section.</p>
</div>
							<div class="author">
								&mdash; commented <span title="March 26th 2014, 8:49:36 am">March 26th 2014</span>
								by <span class='authorname'>Malcolm Hollingsworth</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-277009">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>Hi</p>
<p>Firstly the Ti.Map has been deprecated for both iOS and Android, this information can be seen here;</p>
<ul>
<li><a href="http:&#x2F;&#x2F;docs.appcelerator.com&#x2F;titanium&#x2F;latest&#x2F;#!&#x2F;api&#x2F;Titanium.Map">Titanium.Map</a> deprecated </li>
</ul>
<p>You now access maps by a custom module the information about which can be found here;</p>
<ul>
<li><a href="http:&#x2F;&#x2F;docs.appcelerator.com&#x2F;titanium&#x2F;latest&#x2F;#!&#x2F;api&#x2F;Modules.Map">Android ti.map add-on module</a></li>
<li><a href="http:&#x2F;&#x2F;docs.appcelerator.com&#x2F;titanium&#x2F;latest&#x2F;#!&#x2F;api&#x2F;Modules.Map">iOS ti.map add-on module</a></li>
</ul>
<p>This is a slightly modified version of the example code for the new module format;</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> <span class="hljs-built_in">Map</span> = <span class="hljs-built_in">require</span>(<span class="hljs-string">'ti.map'</span>);
<span class="hljs-keyword">var</span> win = Titanium.UI.createWindow();

<span class="hljs-keyword">var</span> mountainView = <span class="hljs-built_in">Map</span>.createAnnotation({
    latitude:<span class="hljs-number">37.390749</span>,
    longitude:-<span class="hljs-number">122.081651</span>,
    title:<span class="hljs-string">"Appcelerator Headquarters"</span>,
    subtitle:<span class="hljs-string">'Mountain View, CA'</span>,
    pincolor:<span class="hljs-built_in">Map</span>.ANNOTATION_RED,
    myid:<span class="hljs-number">1</span> <span class="hljs-comment">// Custom property to uniquely identify this annotation.</span>
});
<span class="hljs-keyword">var</span> somewhereelse = <span class="hljs-built_in">Map</span>.createAnnotation({
    latitude:<span class="hljs-number">38.390749</span>,
    longitude:-<span class="hljs-number">123.081651</span>,
    title:<span class="hljs-string">"Some Where"</span>,
    subtitle:<span class="hljs-string">'Else'</span>,
    pincolor:<span class="hljs-built_in">Map</span>.ANNOTATION_GREEN,
    myid:<span class="hljs-number">2</span> <span class="hljs-comment">// Custom property to uniquely identify this annotation.</span>
});

<span class="hljs-keyword">var</span> mapview = <span class="hljs-built_in">Map</span>.createView({
    mapType: <span class="hljs-built_in">Map</span>.NORMAL_TYPE,
    region: {
        latitude:<span class="hljs-number">33.74511</span>,
        longitude:-<span class="hljs-number">84.38993</span>,
        latitudeDelta:<span class="hljs-number">0.01</span>,
        longitudeDelta:<span class="hljs-number">0.01</span>
    },
    animate:<span class="hljs-literal">true</span>,
    regionFit:<span class="hljs-literal">true</span>,
    userLocation:<span class="hljs-literal">true</span>,
    annotations:[mountainView, somewhereelse]
});

win.add(mapview);
<span class="hljs-comment">// Handle click events on any annotations on this map.</span>
mapview.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">evt</span>) </span>{
    Ti.API.info(<span class="hljs-string">"Annotation "</span> + evt.title + <span class="hljs-string">" clicked, id: "</span> + evt.annotation.myid);
});
win.open();
</code></pre><p>Android cannot display the map in the emulator, you need to do your testing on the actual device.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="March 26th 2014, 8:45:42 am">March 26th 2014</span>
								by <span class='authorname'>Malcolm Hollingsworth</span><br>
								<a class="icon-bg icon-link" href="../../question/163934/show-multiple-annotation-from-json-in-my-map.html#answer-277009" rel="permalink">permalink</a>
							</div>

							<h5>4 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>@ Malcolm Hollingsworth  with titanium map  i can see the map  but the multiple annotation donsnt exist ????</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 26th 2014, 8:58:56 am">March 26th 2014</span>
											by <span class='authorname'>amri hichem</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>and  i want to show annotation from server  using  json  not static one do u understand  me sir</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 26th 2014, 9:01:10 am">March 26th 2014</span>
											by <span class='authorname'>amri hichem</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I do understand you, the answer I gave was to show you how to use the correct map on your devices with two annotations.  </p>
<p>Here are some more things you need to do;</p>
<ul>
<li>You appear to have two different ways to get lat&#x2F;lon, I have no idea which is correct, so you will need to tweak this if you think the other should be used;</li>
</ul>
<pre><code class="hljs">// this <span class="hljs-operator"><span class="hljs-keyword">set</span>
latetude = <span class="hljs-keyword">json</span>.geteventLoationResult[intPins].GetEventLatitude;</span>
langetude = json.geteventLoationResult[intPins].GetEventLangetude;
// or this <span class="hljs-operator"><span class="hljs-keyword">set</span>
latitude : <span class="hljs-keyword">json</span>[intPins].GetEventLatitude,
longitude : <span class="hljs-keyword">json</span>[intPins].GetEventLangetude,</span>
</code></pre><ul>
<li>You must also create the event handlers for the xht call BEFORE sending or opening.</li>
<li>IMPORTANT; You must set up the custom module as detailed in a previous comment I gave.</li>
<li>You should ALWAYS handler xhr errors otherwise you do not know if it failed and cannot gracefully handle that failure</li>
</ul>
</p>
										<div class="author">
											&mdash; commented <span title="March 26th 2014, 9:40:02 am">March 26th 2014</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Revised example, uses new correct map, removes unnecessary sections, simplifies the variables and defines those required correctly, orders the sections intelligently and handlers the API call gracefully. ;</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> <span class="hljs-built_in">Map</span> = <span class="hljs-built_in">require</span>(<span class="hljs-string">'ti.map'</span>);
<span class="hljs-keyword">var</span> win = Titanium.UI.createWindow();

<span class="hljs-keyword">var</span> mapview = <span class="hljs-built_in">Map</span>.createView({
    animate: <span class="hljs-literal">true</span>,
    annotations: [],
    mapType: <span class="hljs-built_in">Map</span>.NORMAL_TYPE,
    region: {
        latitude:<span class="hljs-number">33.74511</span>,
        longitude:-<span class="hljs-number">84.38993</span>,
        latitudeDelta:<span class="hljs-number">0.01</span>,
        longitudeDelta:<span class="hljs-number">0.01</span>
    },
    regionFit: <span class="hljs-literal">true</span>,
    userLocation: <span class="hljs-literal">true</span>
}); 
win.add(mapview);
mapview.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">evt</span>) </span>{
    Ti.API.info(<span class="hljs-string">"Annotation "</span> + evt.title + <span class="hljs-string">" clicked, id: "</span> + evt.annotation.myid);
});

xhr = Ti.Network.createHTTPClient();
xhr.onload = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> json = <span class="hljs-built_in">JSON</span>.parse(<span class="hljs-keyword">this</span>.responseText);
    <span class="hljs-keyword">var</span> pins = [], pin, intPin = <span class="hljs-number">0</span>, inPins = json.geteventLoationResult.length, lat = <span class="hljs-number">0</span>, lon = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">for</span> (intPin = <span class="hljs-number">0</span>; intPin &lt; intPins; intPins += <span class="hljs-number">1</span>) {
        lat = json[intPins].GetEventLatitude;
        lon = json[intPins].GetEventLangetude;

        pin = <span class="hljs-built_in">Map</span>.createAnnotation({
            animate: <span class="hljs-literal">true</span>,
            latitude: lat,
            longitude: lon,
            pincolor: <span class="hljs-built_in">Map</span>.ANNOTATION_RED,
            subtitle: <span class="hljs-string">'Mountain View, CA'</span>,
            title: <span class="hljs-string">"Appcelerator Headquarters"</span>
        });
        pins.push(pin);
    }
    mapview.setAnnotations(annotations);
};
xhr.onload = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-comment">// you should do more than this in the</span>
    <span class="hljs-comment">// error sectino - this is a quick example</span>
    alert(<span class="hljs-string">'Problem'</span>);
};
xhr.open(<span class="hljs-string">"GET"</span>, <span class="hljs-string">"http://192.168.0.41:3219/FamissimaMobile.svc/geteventsmap"</span>);
xhr.send();

win.open();
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="March 26th 2014, 9:41:45 am">March 26th 2014</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
