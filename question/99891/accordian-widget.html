<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Accordian Widget » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Accordian Widget</h1>
		</header>
		<section>
			<p>Hi - as you will figure out, I am new to Appcelerator. I have a working iPhone &#x2F; iPad app developed using JQTouch and JqueryUI. One of the very nice looking and functioning widgets is the accordian, which is basically a vertical tab set.</p>
<p>See sample here: http:&#x2F;&#x2F;jqueryui.com&#x2F;demos&#x2F;accordion&#x2F;</p>
<p>I looked around, but am not sure how to implement this in Ti.</p>
<p>Any help would be appreciated.</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="January 12th 2011, 9:28:03 pm">January 12th 2011</span>
				by <span class='authorname'>Andres Pineda</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>iphone</span></li>
					
						<li><span class='tagname'>jqtouch</span></li>
					
						<li><span class='tagname'>jqueryui</span></li>
					
						<li><span class='tagname'>ui</span></li>
					
						<li><span class='tagname'>widget</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>2</span> Votes</div>
			<div class="answers"><span>6</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>6 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-203733">
				
						<section>
							<pre><code class="hljs"><span class="hljs-variable"><span class="hljs-keyword">var</span> aView</span> = Ti.UI.createView();
<span class="hljs-variable"><span class="hljs-keyword">var</span> anim</span> = Ti.UI.createAnimation({
    height: '<span class="hljs-number">20</span>%',
    duration: <span class="hljs-number">200</span>
});
</code></pre><p>This will allow you to animate the shrinking of the view over 0.2 seconds, the rest as they say, is history.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="March 5th 2011, 5:42:26 pm">March 5th 2011</span>
								by <span class='authorname'>Michael Peng</span><br>
								<a class="icon-bg icon-link" href="../../question/99891/accordian-widget.html#answer-203733" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-178001">
				
						<section>
							<p>You could create a webview then use the same type of code from your example.<br>https:&#x2F;&#x2F;github.com&#x2F;appcelerator&#x2F;KitchenSink&#x2F;blob&#x2F;master&#x2F;KitchenSink&#x2F;Resources&#x2F;examples&#x2F;web_views.js</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="January 12th 2011, 10:57:58 pm">January 12th 2011</span>
								by <span class='authorname'>Stan Thompson</span><br>
								<a class="icon-bg icon-link" href="../../question/99891/accordian-widget.html#answer-178001" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Is it possible to do this without using WebViews? I believe it might get a little clunky with WebViews.</p>
</p>
										<div class="author">
											&mdash; commented <span title="February 8th 2011, 3:49:01 am">February 8th 2011</span>
											by <span class='authorname'>Christopher La Chica</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-203718">
				
						<section>
							<p>Another way would be great… eventlistener + hide and show?</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="March 5th 2011, 10:22:35 am">March 5th 2011</span>
								by <span class='authorname'>Thomas Flad</span><br>
								<a class="icon-bg icon-link" href="../../question/99891/accordian-widget.html#answer-203718" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-219024">
				
						<section>
							<p>I&#39;ve been trying to do the same thing and being fairly new with Titanium have had similar questions.</p>
<p>For example, I&#39;m creating a View to contain the info in a single accordion section. A child view is created that will be the clickable area to expand and collapse the view using the CreateAnimation() method mentioned above which works fine when included in a &#39;click&#39; event listener.</p>
<p>However, as I need to add a number of accordion sections I&#39;m wondering if there&#39;s a better way to set things up that will automatically force views placed below each the one animating open to be pushed down (like how it would work in an accordion using jQuery UI in a web page). Does Cocoa Touch natively include that type of functionality? Otherwise, I assume I have to have animations created specifically for each View that not only animates the height, but the top position as well.</p>
<p>Would love to hear if anyone has had success making an accordion using the native API functionality rather than a WebView.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="September 17th 2011, 7:49:25 pm">September 17th 2011</span>
								by <span class='authorname'>Graydon Stoner</span><br>
								<a class="icon-bg icon-link" href="../../question/99891/accordian-widget.html#answer-219024" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-247977">
				
						<section>
							<p>Here is the code, to create dynamic views which work as per jQuery accordian widget</p>
<p>First declare  two array variables<br>var groupsView1 =[];<br>var nextArrow=[];</p>
<p>Then in am firing ajax request in onload of that, i had put the for loop which will create dynamic views</p>
<p>Ti.App.Properties.setString(&#39;gr_length&#39;, totalData.length);</p>
<pre><code class="hljs">    for<span class="hljs-list">(<span class="hljs-keyword">var</span> i=0<span class="hljs-comment">; i&lt;totalData.length; i++)</span>
    {
         var gr_id = totalData[i].groupId<span class="hljs-comment">;</span>
        groupsView1[i] =Ti.UI.createView<span class="hljs-list">({

               width:<span class="hljs-quoted">'auto</span>',
               height:'<span class="hljs-number">40</span>',
               top:<span class="hljs-number">15</span>+i*50,
               left : <span class="hljs-number">8</span>,
               right : <span class="hljs-number">6</span>,
               backgroundColor:<span class="hljs-quoted">'#FFFFFF</span>',
               borderRadius : <span class="hljs-number">3</span>,
               border : <span class="hljs-number">3</span>,
               borderColor: <span class="hljs-string">"#42C0FB"</span>,
               id<span class="hljs-keyword">:gr_id</span>
               })</span><span class="hljs-comment">;</span>

                var groups_label1 = Ti.UI.createLabel<span class="hljs-list">({
                color: <span class="hljs-quoted">'#3BB9FF</span>',
                text: totalData[i].grouptitle,
                left : <span class="hljs-number">10</span>,
                textAlign: <span class="hljs-quoted">'left</span>',
                font:{fontFamily:<span class="hljs-quoted">'Arial</span>',fontSize:<span class="hljs-number">18</span>},
                })</span><span class="hljs-comment">;</span>

                 nextArrow[i] =Titanium.UI.createImageView<span class="hljs-list">({
                    image:<span class="hljs-quoted">'newImages/next_arrow_icon</span>.png',
                    height: <span class="hljs-number">18</span>,
                    top:<span class="hljs-number">10</span>,
                    right:<span class="hljs-number">25</span>,
                    width:<span class="hljs-number">18</span>,
                    id<span class="hljs-keyword">:i</span>
                })</span><span class="hljs-comment">;</span>

            scrollView.add<span class="hljs-list">(<span class="hljs-keyword">groupsView1</span>[i])</span><span class="hljs-comment">;</span>
            groupsView1[i].add<span class="hljs-list">(<span class="hljs-keyword">groups_label1</span>)</span><span class="hljs-comment">;</span>
            groupsView1[i].add<span class="hljs-list">(<span class="hljs-keyword">nextArrow</span>[i])</span><span class="hljs-comment">;</span>
            nextArrow[i].addEventListener<span class="hljs-list">(<span class="hljs-string">"click"</span>, OPEN_ITEM)</span><span class="hljs-comment">;</span>
    }</span>
</code></pre><p>Then  in  OPEN_ITEM function i am putting this code</p>
<p>var accordian_flag = false;     &#x2F;&#x2F;&#x2F; Set this flag out of function OPEN_ITEM to handle accordian.</p>
<p>function OPEN_ITEM(e){</p>
<pre><code class="hljs">Ti.API.info(e.source);

<span class="hljs-keyword">var</span> next_id=e.source.id;
Ti.API.info(next_id);

Ti.API.info(groupsView1[next_id].id);

<span class="hljs-keyword">var</span> totalData =Ti.App.Properties.getString(<span class="hljs-string">'gr_length'</span>);
Ti.API.info(totalData);

<span class="hljs-keyword">if</span>(accordian_flag == <span class="hljs-literal">false</span>)
{

    accordian_flag = <span class="hljs-literal">true</span>;
    <span class="hljs-keyword">var</span> iVal = next_id+<span class="hljs-number">1</span>;

    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i=iVal; i&lt;totalData; i++)
    {
        groupsView1[i].top=groupsView1[i].top+<span class="hljs-number">80</span>;
    }

    groupsView1[next_id].height =<span class="hljs-number">120</span>;
    Ti.App.Properties.setString(<span class="hljs-string">'main_next_id'</span>,next_id);

    e.source.image =<span class="hljs-string">'newImages/next_arrow_icon_down.png'</span>;
}
<span class="hljs-keyword">else</span>
{
    <span class="hljs-keyword">var</span> previous_id = Ti.App.Properties.getString(<span class="hljs-string">'main_next_id'</span>);
    <span class="hljs-keyword">if</span>( next_id !=  previous_id)
    {

        accordian_flag = <span class="hljs-literal">false</span>;
        groupsView1[previous_id].height = <span class="hljs-number">40</span>;
        nextArrow[previous_id].image=<span class="hljs-string">'newImages/next_arrow_icon.png'</span>;

        Ti.API.info(previous_id);
        <span class="hljs-keyword">var</span> iVal=<span class="hljs-built_in">parseInt</span>(previous_id)+<span class="hljs-number">1</span>;
        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i=iVal; i&lt;totalData; i++)
        {
            groupsView1[i].top=groupsView1[i].top-<span class="hljs-number">80</span>;
        }

        <span class="hljs-keyword">if</span>(accordian_flag == <span class="hljs-literal">false</span> )
        {
            accordian_flag = <span class="hljs-literal">true</span>;
            <span class="hljs-keyword">var</span> iVal = next_id+<span class="hljs-number">1</span>;

            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i=iVal; i&lt;totalData; i++)
            {
                groupsView1[i].top=groupsView1[i].top+<span class="hljs-number">80</span>;
            }

            groupsView1[next_id].height =<span class="hljs-number">120</span>;
            Ti.App.Properties.setString(<span class="hljs-string">'main_next_id'</span>,next_id);

            e.source.image =<span class="hljs-string">'newImages/next_arrow_icon_down.png'</span>;
        }
    }

}

}
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="September 25th 2012, 4:20:17 am">September 25th 2012</span>
								by <span class='authorname'>ashwin tirpude</span><br>
								<a class="icon-bg icon-link" href="../../question/99891/accordian-widget.html#answer-247977" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Upon reviewing your code, I can&#39;t find anything that explains what totalData is or how it gets initialized. You set a property <code>Ti.App.Properties.setString(&amp;#39;gr_length&amp;#39;, totalData.length);</code> then later get the same property <code>var totalData = Ti.App.Properties.getString(&amp;#39;gr_length&amp;#39;);</code>. Did I miss something here?</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 9th 2013, 3:20:38 pm">November 9th 2013</span>
											by <span class='authorname'>Michael Stelly</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-271080">
				
						<section>
							<p>totalData is an array of JSON response from webservice. What is the length of your accordian replace that no. with totalData.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="November 9th 2013, 6:07:41 pm">November 9th 2013</span>
								by <span class='authorname'>ashwin tirpude</span><br>
								<a class="icon-bg icon-link" href="../../question/99891/accordian-widget.html#answer-271080" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
