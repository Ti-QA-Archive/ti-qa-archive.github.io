<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>drilldown from tableview » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>drilldown from tableview</h1>
		</header>
		<section>
			<p>Hi all,</p>
<p>I am currently struggling with the drilldown menu based on a tableview.</p>
<p>I have generated my table from a webservice </p>
<pre><code class="hljs">var testWin = Titanium.UI.currentWindow;

... snip ...

Test = json.category.Test[i];
                var testRow = Ti.UI.createTableViewRow({
                    <span class="hljs-string">hasChild :</span> <span class="hljs-literal">true</span>,
                    <span class="hljs-string">height :</span> <span class="hljs-string">'60dp'</span>
                });

                var testLabel = Ti.UI.createLabel({
                    <span class="hljs-string">text :</span> Test.name,
                    <span class="hljs-string">font :</span> {
                        <span class="hljs-string">fontSize :</span> <span class="hljs-string">'24dp'</span>,
                        <span class="hljs-string">fontWeight :</span> <span class="hljs-string">'bold'</span>
                    },
                    <span class="hljs-string">height :</span> <span class="hljs-string">'auto'</span>,
                    <span class="hljs-string">left :</span> <span class="hljs-string">'9dp'</span>,
                    <span class="hljs-string">color :</span> <span class="hljs-string">'#000'</span>
                });

                var subWin = Titanium.UI.createWindow({
                    <span class="hljs-string">title :</span> Test.name,
                    <span class="hljs-string">backgroundColor :</span> <span class="hljs-string">"#fff"</span>,
                    <span class="hljs-string">url :</span> <span class="hljs-string">"ui/categories/test.js"</span>,
                    <span class="hljs-string">id :</span> Test.id
                });

                testRow.addEventListener(<span class="hljs-string">'click'</span>, function (e) { 
                    testWin.open(subWin);
                });
</code></pre><p>But i cant seem to get the drilldown menu to work for me. I checked out some tutorials and read the docs but it seems that some work different then others. </p>
<p>It should be really easy, the hasChild option should do all the work in my opinion. I personally think that its crazy that i should add a listener, it contains a child so figure it out…</p>
<p>So i was wondering if somebody could give me some pointers?</p>
<p>Thanks in advance :-)</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="September 26th 2012, 9:38:31 am">September 26th 2012</span>
				by <span class='authorname'>michael schouman</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>drilldown</span></li>
					
						<li><span class='tagname'>haschild</span></li>
					
						<li><span class='tagname'>ios</span></li>
					
						<li><span class='tagname'>tableview</span></li>
					
				</ul>
			

			<section>
				<h5>3 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>This is all the code from the file. Yes there are tabs but they are in the app.js and this window is called in almost the same manner as this, but that does work…</p>
<pre><code class="hljs">Ti.UI.backgroundColor = <span class="hljs-string">'#dddddd'</span>;
<span class="hljs-keyword">var</span> testWin = Titanium.UI.currentWindow;

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">loadFromJson</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> url = <span class="hljs-string">"SOME URL"</span> + testWin.catId + <span class="hljs-string">".json"</span>;
    <span class="hljs-keyword">var</span> table = Ti.UI.createTableView();
    <span class="hljs-keyword">var</span> tableData = [];

    <span class="hljs-keyword">var</span> xhr = Ti.Network.createHTTPClient({
        onload : <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            Ti.API.debug(<span class="hljs-keyword">this</span>.responseText);
            json = <span class="hljs-built_in">JSON</span>.parse(<span class="hljs-keyword">this</span>.responseText);

            <span class="hljs-keyword">for</span> ( i = <span class="hljs-number">0</span>; i &lt; json.category.Test.length; i++) {

                Test = json.category.Test[i];

                <span class="hljs-keyword">var</span> testRow = Ti.UI.createTableViewRow({
                    hasChild : <span class="hljs-literal">true</span>,
                    height : <span class="hljs-string">'60dp'</span>
                });

                <span class="hljs-keyword">var</span> testLabel = Ti.UI.createLabel({
                    text : Test.name,
                    font : {
                        fontSize : <span class="hljs-string">'24dp'</span>,
                        fontWeight : <span class="hljs-string">'bold'</span>
                    },
                    height : <span class="hljs-string">'auto'</span>,
                    left : <span class="hljs-string">'9dp'</span>,
                    color : <span class="hljs-string">'#000'</span>,
                    touchEnabled : <span class="hljs-literal">false</span>
                });

                <span class="hljs-keyword">var</span> subWin = Titanium.UI.createWindow({
                    title : Test.name,
                    backgroundColor : <span class="hljs-string">"#fff"</span>,
                    url : <span class="hljs-string">"ui/categories/test.js"</span>,
                    id : Test.id
                });

                testRow.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) </span>{ 
                    testWin.open(subWin);
                });

                testRow.add(testLabel);
                tableData.push(testRow);
            }

            table.setData(tableData);
        },
        onerror : <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
            Ti.API.debug(<span class="hljs-string">"STATUS: "</span> + <span class="hljs-keyword">this</span>.status);
            Ti.API.debug(<span class="hljs-string">"TEXT: "</span> + <span class="hljs-keyword">this</span>.responseText);
            Ti.API.debug(<span class="hljs-string">"ERROR: "</span> + e.error);
            alert(<span class="hljs-string">'There was an error retrieving the remote data. Try again.'</span>);
        },
        timeout : <span class="hljs-number">5000</span>
    });
    xhr.open(<span class="hljs-string">"GET"</span>, url);
    testWin.add(table);
    xhr.send();
}

<span class="hljs-comment">// Load function</span>
loadFromJson();
</code></pre></div>
							<div class="author">
								&mdash; commented <span title="September 26th 2012, 12:20:30 pm">September 26th 2012</span>
								by <span class='authorname'>michael schouman</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Have you run through the debugger to see if your click event is firing? Are you getting any error messages? You&#39;re right, I don&#39;t see anything in particular in your code, that&#39;s what the debugger is for…when things look right but you&#39;re getting unexpected behavior.</p>
</div>
							<div class="author">
								&mdash; commented <span title="September 26th 2012, 12:26:07 pm">September 26th 2012</span>
								by <span class='authorname'>Ray Belisle</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Any other tips how to debug and test this?</p>
</div>
							<div class="author">
								&mdash; commented <span title="September 28th 2012, 5:16:03 am">September 28th 2012</span>
								by <span class='authorname'>michael schouman</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>4</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>4 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-248087">
				
						<section>
							<p>According to the docs, hasChild merely &quot;Determines whether a system-provided arrow is displayed on the right-hand side of the row.&quot;<br>Your code looks OK as far as I can see (assuming the missing bits). Can you offer any more information on what problems you are having here?</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="September 26th 2012, 10:36:06 am">September 26th 2012</span>
								by <span class='authorname'>Lasar Liepins</span><br>
								<a class="icon-bg icon-link" href="question/142705/drilldown-from-tableview.html#answer-248087" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-248088">
				
						<section>
							<p>Are you in a tabGroup? If so you get free navigation so use currentTab instead of currentWindow.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="September 26th 2012, 10:36:36 am">September 26th 2012</span>
								by <span class='authorname'>Nick The Geek</span><br>
								<a class="icon-bg icon-link" href="question/142705/drilldown-from-tableview.html#answer-248088" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-248098">
				
						<section>
							<p>Here&#39;s my guess:</p>
<p>You are creating a Label called TestLabel. It doesn&#39;t show in your code that you are adding TestLabel to your row, testRow, but I&#39;ll guess that you are. Then you add the listener to the row. So when you click, nothing happens because the item receiving the click event is your TestLabel and not your row. So add the following to your TestLabel definition: </p>
<pre><code class="hljs"><span class="hljs-string">touchEnabled:</span> <span class="hljs-literal">false</span>
</code></pre><p>This will cause the click event to be &#39;bubbled up&#39; to the row and not handled by the label.</p>
<p>Ray</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="September 26th 2012, 11:47:29 am">September 26th 2012</span>
								by <span class='authorname'>Ray Belisle</span><br>
								<a class="icon-bg icon-link" href="question/142705/drilldown-from-tableview.html#answer-248098" rel="permalink">permalink</a>
							</div>

							<h5>10 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>I added the touchEnabled: false option, but that didn&#39;t do the trick :-(</p>
<p>I updated the code so you can see the whole thing.</p>
</p>
										<div class="author">
											&mdash; commented <span title="September 26th 2012, 12:22:07 pm">September 26th 2012</span>
											by <span class='authorname'>michael schouman</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>As a quick test, instead of debugging you could comment out the line:</p>
<pre><code class="hljs"><span class="hljs-built_in">test</span>Row.add(<span class="hljs-built_in">test</span>Label);
</code></pre><p>and put an alert in your event listener. </p>
<pre><code class="hljs">alert<span class="hljs-list">(<span class="hljs-quoted">'Row</span> click event fired!')</span><span class="hljs-comment">;</span>
</code></pre><p>Make sure things are working.</p>
</p>
										<div class="author">
											&mdash; commented <span title="September 26th 2012, 12:29:40 pm">September 26th 2012</span>
											by <span class='authorname'>Ray Belisle</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>yep, it fires the alert</p>
<p>What should i add to get some clear debugging info?</p>
</p>
										<div class="author">
											&mdash; commented <span title="September 26th 2012, 12:36:43 pm">September 26th 2012</span>
											by <span class='authorname'>michael schouman</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Now try uncommenting your testRow(testLabel); do you still get the alert?</p>
</p>
										<div class="author">
											&mdash; commented <span title="September 26th 2012, 1:36:44 pm">September 26th 2012</span>
											by <span class='authorname'>Ray Belisle</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>yep, still get the alert and no other reaction</p>
</p>
										<div class="author">
											&mdash; commented <span title="September 27th 2012, 8:55:47 am">September 27th 2012</span>
											by <span class='authorname'>michael schouman</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>i just added a debug like this:</p>
<pre><code class="hljs">disorderRow.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(e)</span></span> {
    Ti.API.<span class="hljs-built_in">debug</span>(e);
    disorderWin.open(subWin);
    alert(<span class="hljs-string">'Row click event fired!'</span>);
});
</code></pre><p>which results into:</p>
<pre><code class="hljs">[DEBUG] {
    detail = 0<span class="hljs-comment">;</span>
    globalPoint =     {
        x = 153<span class="hljs-comment">;</span>
        y = 119<span class="hljs-comment">;</span>
    }<span class="hljs-comment">;</span>
    index = 0<span class="hljs-comment">;</span>
    row = "[object TiUITableViewRow]"<span class="hljs-comment">;</span>
    rowData = "[object TiUITableViewRow]"<span class="hljs-comment">;</span>
    searchMode = 0<span class="hljs-comment">;</span>
    section = "[object TiUITableViewSection]"<span class="hljs-comment">;</span>
    source = "[object TiUITableViewRow]"<span class="hljs-comment">;</span>
    type = click<span class="hljs-comment">;</span>
    x = 153<span class="hljs-comment">;</span>
    y = 55<span class="hljs-comment">;</span>
}
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="September 27th 2012, 9:04:20 am">September 27th 2012</span>
											by <span class='authorname'>michael schouman</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>If the row click is firing, I would check subwin. Maybe there is something in your window code and that its why it&#39;s not working.</p>
</p>
										<div class="author">
											&mdash; commented <span title="September 28th 2012, 11:07:06 am">September 28th 2012</span>
											by <span class='authorname'>Ray Belisle</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I get no errors on the subwin, i can alert it&#39;s data and the debugger tells me that it is a </p>
<pre><code class="hljs">[object TiUIWindow]
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="September 28th 2012, 11:44:33 am">September 28th 2012</span>
											by <span class='authorname'>michael schouman</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Well, not sure why it.s not opening for you. If you want to post all of your code somewhere for download, I&#39;d be happy to take a peek, but I can&#39;t tell you why you are having this issue… I&#39;m stumped.</p>
</p>
										<div class="author">
											&mdash; commented <span title="September 28th 2012, 12:10:54 pm">September 28th 2012</span>
											by <span class='authorname'>Ray Belisle</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I also posted this,, i don&#39;t know if you read this already. And sharing all the code feels kinda strange and should be my last resort (But if i cant seem to fix this i will get back on that offer though ;-)):</p>
<p>&quot;You are probably wondering about the tab group with 1 tab. For some reason with Titanium you need to use tabs to create a drilldown menu. Let’s go ahead and hit “Launch” in Titanium and see what we get.&quot;</p>
<p>OK, i read somewhere that the drilldown method requires a tab… I cant imagine why but well if you want to. In my file (which is passed on to from the app.js file, where all the tabs are defined) there is no clear definition of a tab. How should i pass the current tabs to a new window or should i create a dummy tab?</p>
<p>Second of all, why does the framework require a tab for the drilldown options?</p>
</p>
										<div class="author">
											&mdash; commented <span title="September 28th 2012, 12:16:39 pm">September 28th 2012</span>
											by <span class='authorname'>michael schouman</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-248235">
				
						<section>
							<p><em>&quot;You are probably wondering about the tab group with 1 tab. For some reason with Titanium you need to use tabs to create a drilldown menu. Let’s go ahead and hit “Launch” in Titanium and see what we get.&quot;</em></p>
<p>OK, i read somewhere that the drilldown method requires a tab… I cant imagine why but well if you want to. In my file (which is passed on to from the app.js file, where all the tabs are defined) there is no clear definition of a tab. How should i pass the current tabs to a new window or should i create a dummy tab? </p>
<p>Second of all, why does the framework require a tab for the drilldown options?</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="September 28th 2012, 10:19:13 am">September 28th 2012</span>
								by <span class='authorname'>michael schouman</span><br>
								<a class="icon-bg icon-link" href="question/142705/drilldown-from-tableview.html#answer-248235" rel="permalink">permalink</a>
							</div>

							<h5>2 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Michael,</p>
<p>I use drilldowns all the time from tables… I KNOW you don&#39;t require a tab to make this work…</p>
<p>Ray</p>
</p>
										<div class="author">
											&mdash; commented <span title="September 28th 2012, 12:18:48 pm">September 28th 2012</span>
											by <span class='authorname'>Ray Belisle</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I found a tutorial at:<br><a href="http:&#x2F;&#x2F;mobile.tutsplus.com&#x2F;tutorials&#x2F;appcelerator&#x2F;drilldown-navigation-with-titanium&#x2F;">tutsplus.com</a></p>
<p>Can you show me an example of something that follows the Appcelerator guidelines (it is really hard to find good tutorials and examples)?</p>
</p>
										<div class="author">
											&mdash; commented <span title="September 28th 2012, 12:25:26 pm">September 28th 2012</span>
											by <span class='authorname'>michael schouman</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
