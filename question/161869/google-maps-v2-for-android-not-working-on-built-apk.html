<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Google Maps v2 for Android not working on built apk Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Google Maps v2 for Android not working on built apk</h1>
		</header>
		<section>
			<p>Hi I followed this documentation and It&#39;s working on my device when Im development stage. But when I package my app and install the apk on my device. The map is just blank.<br>How can I enable to work this Google Maps v2 for my published&#x2F;packaged apk?</p>
<p>My tiapp.xml:</p>
<pre><code class="hljs">    <span class="hljs-tag">&lt;<span class="hljs-title">android</span> <span class="hljs-attribute">xmlns:android</span>=<span class="hljs-value">"http://schemas.android.com/apk/res/android"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">tool-api-level</span>&gt;</span>15<span class="hljs-tag">&lt;/<span class="hljs-title">tool-api-level</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">manifest</span> <span class="hljs-attribute">android:installLocation</span>=<span class="hljs-value">"preferExternal"</span>
            <span class="hljs-attribute">android:versionCode</span>=<span class="hljs-value">"3"</span> <span class="hljs-attribute">android:versionName</span>=<span class="hljs-value">"1.0.2"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">uses-permission</span> <span class="hljs-attribute">android:name</span>=<span class="hljs-value">"android.permission.INTERNET"</span>/&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">uses-permission</span> <span class="hljs-attribute">android:name</span>=<span class="hljs-value">"android.permission.WRITE_EXTERNAL_STORAGE"</span>/&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">uses-permission</span> <span class="hljs-attribute">android:name</span>=<span class="hljs-value">"android.permission.ACCESS_FINE_LOCATION"</span>/&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">uses-permission</span> <span class="hljs-attribute">android:name</span>=<span class="hljs-value">"android.permission.ACCESS_COARSE_LOCATION"</span>/&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">uses-permission</span> <span class="hljs-attribute">android:name</span>=<span class="hljs-value">"com.google.android.providers.gsf.permission.READ_GSERVICES"</span>/&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">uses-feature</span> <span class="hljs-attribute">android:glEsVersion</span>=<span class="hljs-value">"0x00020000"</span> <span class="hljs-attribute">android:required</span>=<span class="hljs-value">"true"</span>/&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">uses-permission</span> <span class="hljs-attribute">android:name</span>=<span class="hljs-value">"***.permission.MAPS_RECEIVE"</span>/&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">permission</span>
                <span class="hljs-attribute">android:name</span>=<span class="hljs-value">"net.proudcloud.NowShowing.permission.MAPS_RECEIVE"</span> <span class="hljs-attribute">android:protectionLevel</span>=<span class="hljs-value">"signature"</span>/&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">uses-sdk</span> <span class="hljs-attribute">android:minSdkVersion</span>=<span class="hljs-value">"7"</span> <span class="hljs-attribute">android:targetSdkVersion</span>=<span class="hljs-value">"15"</span>/&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">application</span> <span class="hljs-attribute">android:hardwareAccelerated</span>=<span class="hljs-value">"true"</span> <span class="hljs-attribute">android:theme</span>=<span class="hljs-value">"@style/Theme.Action"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">meta-data</span>
                    <span class="hljs-attribute">android:name</span>=<span class="hljs-value">"com.google.android.maps.v2.API_KEY"</span> <span class="hljs-attribute">android:value</span>=<span class="hljs-value">"*******"</span>/&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">activity</span> <span class="hljs-attribute">android:configChanges</span>=<span class="hljs-value">"screenSize|orientation"</span> <span class="hljs-attribute">android:name</span>=<span class="hljs-value">"org.appcelerator.titanium.TiActivity"</span>/&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-title">application</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">manifest</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">android</span>&gt;</span>
</code></pre><p>My configuration for package:<br><a href="http:&#x2F;&#x2F;d.pr&#x2F;i&#x2F;Pp9M">screenshot</a></p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="January 24th 2014, 7:17:54 am">January 24th 2014</span>
				by <span class='authorname'>Allen Chun</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>distribution</span></li>
					
						<li><span class='tagname'>google maps v2</span></li>
					
						<li><span class='tagname'>titanium</span></li>
					
				</ul>
			

			<section>
				<h5>5 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>This is the documentation that I followed <a href="http:&#x2F;&#x2F;docs.appcelerator.com&#x2F;titanium&#x2F;3.0&#x2F;#!&#x2F;guide&#x2F;Google_Maps_v2_for_Android-section-36739898_GoogleMapsv2forAndroid-InstalltheGooglePlayServicesSDK">link</a></p>
</div>
							<div class="author">
								&mdash; commented <span title="January 24th 2014, 7:20:30 am">January 24th 2014</span>
								by <span class='authorname'>Allen Chun</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>I use the version in the bin folder, under build.</p>
</div>
							<div class="author">
								&mdash; commented <span title="January 24th 2014, 11:17:28 am">January 24th 2014</span>
								by <span class='authorname'>Josh Lewis</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Why did you use the apk that is under bin folder? Why did you not package the android app?</p>
</div>
							<div class="author">
								&mdash; commented <span title="January 26th 2014, 10:34:01 am">January 26th 2014</span>
								by <span class='authorname'>Allen Chun</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>I too sign my app manually using the unsigned version from the build folder. When I published the signed package on google play store, people got the error<br><strong>Error installing app. Package not signed correctly</strong><br>When I signed it manually following the google guide and using the unsigned package, it worked.</p>
</div>
							<div class="author">
								&mdash; commented <span title="January 29th 2014, 8:27:19 pm">January 29th 2014</span>
								by <span class='authorname'>Ani Sinanaj</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Hi Ani, did you deploy your app to google play story using the app.apk found in the bin folder?</p>
</div>
							<div class="author">
								&mdash; commented <span title="January 30th 2014, 1:26:44 am">January 30th 2014</span>
								by <span class='authorname'>Allen Chun</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-274356">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>You&#39;ve registered the app with the Google Play services console? When I&#39;ve had troubles, it&#39;s usually because I&#39;ve done that part incorrectly. You&#39;ll need to provide the correct SHA1 signature (from your publishing certificate) and include the app ID when registering.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="January 24th 2014, 12:34:57 pm">January 24th 2014</span>
								by <span class='authorname'>Tim Poulsen</span><br>
								<a class="icon-bg icon-link" href="question/161869/google-maps-v2-for-android-not-working-on-built-apk.html#answer-274356" rel="permalink">permalink</a>
							</div>

							<h5>6 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Yes, I provided my generate my SHA1 using  keytool -list -v -keystore ~&#x2F;Library&#x2F;Application\ Support&#x2F;Titanium&#x2F;mobilesdk&#x2F;osx&#x2F;3.1.3.GA&#x2F;android&#x2F;dev_keystore And I paste the SHA1 with the console like this CC:E3:7F:08:FA:03:9C:88:07:BC:CB:AB:7B:88:61:F4:75:<strong>:</strong>:**;net.appname.companyname<br>Then I get the generated API key and pasted it into my tiapp.xml</p>
<p>I wonder why is the map working when I directly deploy my app using Titanium Studio to my device. and not working when I package the apk.</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 26th 2014, 10:29:08 am">January 26th 2014</span>
											by <span class='authorname'>Allen Chun</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>i have the same problem, i have followed and read many documents but it is not working, i have watched this tutorial </p>
<pre><code class="hljs"><span class="hljs-string">http:</span><span class="hljs-comment">//www.youtube.com/watch?v=M4fUlqKWg7g</span>
</code></pre><p>i have read all the documents but couldn&#39;t make it work.</p>
<p>my app ids are the same with api access and titanium, i have done everything but i only see the radar icon, and zoom in zoom out icon but nothing more. What should we do for this module work ?</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 26th 2014, 3:35:57 pm">January 26th 2014</span>
											by <span class='authorname'>Graham Jeffrey</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Sorry for double post but i realize something, the SHA1 key at the video above and my SHA1 key are the same , is this ok ? should i write like this ?</p>
<pre><code class="hljs">keytool -v -<span class="hljs-type">list</span> -keystore dev_keystore -<span class="hljs-type">alias</span> tidev
</code></pre><p>why can&#39;t i write my app id instead of tidev ? does everyone has the same SHA1 key ?</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 26th 2014, 4:48:09 pm">January 26th 2014</span>
											by <span class='authorname'>Graham Jeffrey</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Hi Tim Poulsen, How did you generate SHA1 using your publishing&#x2F;release certificate?</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 30th 2014, 4:31:37 am">January 30th 2014</span>
											by <span class='authorname'>Allen Chun</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>You can&#39;t use the dev keystore, as shown in Graham&#39;s comment. It will not work for a distribution build and will work only for test devices. You need to create your own keypair and keystore, which will be later used to sign the app when you distribute it. The full process is described in <a href="http:&#x2F;&#x2F;docs.appcelerator.com&#x2F;titanium&#x2F;latest&#x2F;#!&#x2F;guide&#x2F;Distributing_Android_apps">the docs</a>.</p>
<p>Basically, in Studio, you do a &quot;Package&quot; build for the Android app store. In the resulting dialog, next to Keystore Location, click New. Fill in the publisher info. Make sure you remember the alias and password, set the validity for 25 years or more, and remember where you save the resulting keystore file.</p>
<p>Go ahead and finish out that build, even though you&#39;re not actually ready to publish the app. You need the tools to run through the process. Then, you use a command like this:</p>
<pre><code class="hljs">keytool -v -<span class="hljs-type">list</span> -keystore YOUR_KEYSTORE_FILE -<span class="hljs-type">alias</span> YOUR_ALIAS
</code></pre><p>Your SHA1 signature will be included in the resulting output. That&#39;s what you then use on the Play Services console to create your maps API key. You must then use this same keystore (and the keypair it contains) to sign your app when you finally publish the app.</p>
<p>Make backups of the keystore file and don&#39;t lose the password. You must use the same keypair if you ever issue an update to your app.</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 30th 2014, 12:31:55 pm">January 30th 2014</span>
											by <span class='authorname'>Tim Poulsen</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Thank you very much for your help Tim, finally i can see the map in my app :)</p>
</p>
										<div class="author">
											&mdash; commented <span title="February 3rd 2014, 5:45:24 am">February 3rd 2014</span>
											by <span class='authorname'>Graham Jeffrey</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-287480">
				
						<section>
							<p>Follow the instructions given <a href="https:&#x2F;&#x2F;developers.google.com&#x2F;maps&#x2F;documentation&#x2F;android&#x2F;start">here</a>. After creating your project in Google Developers Console, select APIs, you will be prompted with a section of Popular APIs, select Google Maps Android API. Press enable API.<br><strong>Note</strong>: You don&#39;t need to enable the API for the debug version!<br><em>If you&#39;re map is still not showing try <strong>regenerating the key.</strong></em><br>Enter the new API key then <strong>Sync Project with Gradle Files.</strong></p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="May 25th 2015, 5:22:49 pm">May 25th 2015</span>
								by <span class='authorname'>Ivanco Nikolovski</span><br>
								<a class="icon-bg icon-link" href="question/161869/google-maps-v2-for-android-not-working-on-built-apk.html#answer-287480" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
