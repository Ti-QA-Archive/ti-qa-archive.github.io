<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>iOS Label ellipsis cuts off early Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>iOS Label ellipsis cuts off early</h1>
		</header>
		<section>
			<p>Is there a way to change where the label text gets ellipsized? I have a title label:</p>
<pre><code class="hljs">var tab1_titleBar_page_label = Ti.UI.createLabel({
    <span class="hljs-variable">width</span>: Ti.UI.FILL,
    <span class="hljs-variable">height</span>: <span class="hljs-string">'20dip'</span>,
    top: <span class="hljs-string">'10dip'</span>,
    left: <span class="hljs-string">'47dip'</span>,
    right: <span class="hljs-string">'47dip'</span>,
    <span class="hljs-built_in">color</span>: color_title,
    <span class="hljs-built_in">textAlign</span>: Ti.UI.TEXT_ALIGNMENT_CENTER,
    font: {
        fontSize: <span class="hljs-string">'16dip'</span>,
        fontWeight: <span class="hljs-string">'bold'</span>
    },
    <span class="hljs-built_in">text</span>: <span class="hljs-string">'Pregnancy Related Hypertension'</span>
});
</code></pre><p>It will get ellipsized because it&#39;s too long for the container, which is good.</p>
<p>The problem is - the label gets ellipsized too early:</p>
<p>This is how it looks currently (white border is the outline of the label container):<br><a href="http:&#x2F;&#x2F;i.imgur.com&#x2F;ZN0uSSR.png">http:&#x2F;&#x2F;i.imgur.com&#x2F;ZN0uSSR.png</a></p>
<p>This is how it should look:<br><a href="http:&#x2F;&#x2F;i.imgur.com&#x2F;TkigmtF.png">http:&#x2F;&#x2F;i.imgur.com&#x2F;TkigmtF.png</a></p>
<p>As you can see, currently it gets cut off half way through the <strong><em>Related</em></strong> word. I&#39;d rather it gets cut off during the <strong><em>Hypertension</em></strong> word because the container is wide enough to fit it.</p>
<p>Why doesn&#39;t it fill the entire container when ellipsizing the label? It seems like it randomly chooses where to ellipsize the text because some titles will fill all of the container; while others, like this one, will ellipsize way too early. It seems to make no sense, shouldn&#39;t it fill the container as much as it can before getting cut off?</p>
<p>Cheers,<br>Ben</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="August 6th 2014, 12:17:30 am">August 6th 2014</span>
				by <span class='authorname'>Ben Stanley</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>early</span></li>
					
						<li><span class='tagname'>ellipsis</span></li>
					
						<li><span class='tagname'>ellipsize</span></li>
					
						<li><span class='tagname'>iphone</span></li>
					
						<li><span class='tagname'>label</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-281755">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>So others don&#39;t have to read the 11 comments on the other answer to find the correct part, I will put it here.</p>
<p>Played around with this and got it to work correctly (weirdly) by adding the following property:</p>
<pre><code class="hljs"><span class="hljs-string">minimumFontSize:</span> <span class="hljs-string">'16dip'</span>
</code></pre><p>So:</p>
<pre><code class="hljs">var tab1_titleBar_page_label = Ti.UI.createLabel({
    <span class="hljs-variable">width</span>: Ti.UI.FILL,
    <span class="hljs-variable">height</span>: <span class="hljs-string">'20dip'</span>,
    top: <span class="hljs-string">'10dip'</span>,
    left: <span class="hljs-string">'47dip'</span>,
    right: <span class="hljs-string">'47dip'</span>,
    <span class="hljs-built_in">color</span>: color_title,
    <span class="hljs-built_in">textAlign</span>: Ti.UI.TEXT_ALIGNMENT_CENTER,
    font: {
        fontSize: <span class="hljs-string">'16dip'</span>,
        fontWeight: <span class="hljs-string">'bold'</span>
    },
    <span class="hljs-built_in">text</span>: <span class="hljs-string">'Pregnancy Related Hypertension'</span>
    , minimumFontSize: <span class="hljs-string">'16dip'</span>
});
</code></pre><p>Please could you mark this as correct?</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 19th 2014, 5:26:08 am">August 19th 2014</span>
								by <span class='authorname'>Larrie Wilson</span><br>
								<a class="icon-bg icon-link" href="question/176787/ios-label-ellipsis-cuts-off-early.html#answer-281755" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-281466">
				
						<section>
							<p>It&#39;s because you have defined a left and right value which is overriding the FILL of the width, remove these and it should work:</p>
<pre><code class="hljs">var tab1_titleBar_page_label = Ti.UI.createLabel({
    <span class="hljs-variable">width</span>: Ti.UI.FILL,
    <span class="hljs-variable">height</span>: <span class="hljs-string">'20dip'</span>,
    top: <span class="hljs-string">'10dip'</span>,
    <span class="hljs-built_in">color</span>: color_title,
    <span class="hljs-built_in">textAlign</span>: Ti.UI.TEXT_ALIGNMENT_CENTER,
    font: {
        fontSize: <span class="hljs-string">'16dip'</span>,
        fontWeight: <span class="hljs-string">'bold'</span>
    },
    <span class="hljs-built_in">text</span>: <span class="hljs-string">'Pregnancy Related Hypertension'</span>
});
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 6th 2014, 5:56:54 am">August 6th 2014</span>
								by <span class='authorname'>Larrie Wilson</span><br>
								<a class="icon-bg icon-link" href="question/176787/ios-label-ellipsis-cuts-off-early.html#answer-281466" rel="permalink">permalink</a>
							</div>

							<h5>12 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>I need the left and right values to be there since there are buttons which are 40px wide to the left and right of the label. I assume I will need to add an extra View with the left and right properties and then a FILL label inside that view? Seems like a weird workaround.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 11th 2014, 2:05:28 am">August 11th 2014</span>
											by <span class='authorname'>Ben Stanley</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>You don&#39;t need left&#x2F;right as the Window&#39;s titleControl will take care of the buttons and position itself accordingly. I am assuming you are setting the window&#39;s titleControl = tab1_titleBar_page_label ?</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 11th 2014, 5:52:10 am">August 11th 2014</span>
											by <span class='authorname'>Larrie Wilson</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I&#39;m not using the window titleControl. It&#39;s just a label w&#x2F; 2 buttons inside a view.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 11th 2014, 6:19:42 am">August 11th 2014</span>
											by <span class='authorname'>Ben Stanley</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Does the parent view have a layout = horizontal?</p>
<p>Want to share the rest of that bit of code?</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 11th 2014, 6:27:03 am">August 11th 2014</span>
											by <span class='authorname'>Larrie Wilson</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>No, the parent doesn&#39;t.</p>
<p>Here&#39;s the whole section of code (It has two of these titlebars side-by-side, one for <em>list</em> and one for <em>page</em>)</p>
<pre><code class="hljs">var tab1_titleBar_list_back = createTitleBtn(<span class="hljs-string">'back'</span>, <span class="hljs-number">0</span>, <span class="hljs-string">'none'</span>);
var tab1_titleBar_list_search = createTitleBtn(<span class="hljs-string">'search'</span>, <span class="hljs-number">0</span>, <span class="hljs-string">'none'</span>);

tab1_titleBar_list_search.left = <span class="hljs-keyword">null</span>;
tab1_titleBar_list_search.right = <span class="hljs-number">0</span>;

tab1_titleBar_list_back.left = <span class="hljs-string">'40dip'</span>;
tab1_titleBar_list_back.opacity = <span class="hljs-number">0</span>;
tab1_titleBar_list_back.visible = <span class="hljs-keyword">false</span>;

var tab1_titleBar_list_label = Ti.UI.createLabel({
    <span class="hljs-variable">width</span>: Ti.UI.FILL,
    <span class="hljs-variable">height</span>: <span class="hljs-string">'20dip'</span>,
    top: <span class="hljs-string">'10dip'</span>,
    left: <span class="hljs-string">'47dip'</span>,
    right: <span class="hljs-string">'47dip'</span>,
    <span class="hljs-built_in">color</span>: color_title,
    <span class="hljs-built_in">textAlign</span>: Ti.UI.TEXT_ALIGNMENT_CENTER,
    font: {
        fontSize: <span class="hljs-string">'16dip'</span>,
        fontWeight: <span class="hljs-string">'bold'</span>
    },
    <span class="hljs-built_in">text</span>: <span class="hljs-string">'Information'</span>
});

var tab1_titleBar_list = Ti.UI.createView({
    <span class="hljs-variable">width</span>: <span class="hljs-string">'50%'</span>,
    <span class="hljs-variable">height</span>: <span class="hljs-string">'40dip'</span>
});

var tab1_titleBar_page_back = createTitleBtn(<span class="hljs-string">'back'</span>, -<span class="hljs-number">1</span>);

var tab1_titleBar_page_label = Ti.UI.createLabel({
    <span class="hljs-variable">width</span>: Ti.UI.FILL,
    <span class="hljs-variable">height</span>: <span class="hljs-string">'20dip'</span>,
    top: <span class="hljs-string">'10dip'</span>,
    left: <span class="hljs-string">'47dip'</span>,
    right: <span class="hljs-string">'47dip'</span>,
    <span class="hljs-built_in">color</span>: color_title,
    <span class="hljs-built_in">textAlign</span>: Ti.UI.TEXT_ALIGNMENT_CENTER,
    font: {
        fontSize: <span class="hljs-string">'16dip'</span>,
        fontWeight: <span class="hljs-string">'bold'</span>
    },
    <span class="hljs-built_in">text</span>: <span class="hljs-string">''</span>
});

var tab1_titleBar_page = Ti.UI.createView({
    <span class="hljs-variable">width</span>: <span class="hljs-string">'50%'</span>,
    <span class="hljs-variable">height</span>: <span class="hljs-string">'40dip'</span>
});

var tab1_titleBar = Ti.UI.createView({
    <span class="hljs-variable">width</span>: <span class="hljs-string">'100%'</span>,
    <span class="hljs-variable">height</span>: <span class="hljs-string">'40dip'</span>,
    layout: <span class="hljs-string">'horizontal'</span>,
    left: <span class="hljs-number">0</span>
});



<span class="hljs-comment">//########## ADDING CONTAINERS ##########</span>

tab1_titleBar_list.<span class="hljs-built_in">add</span>(tab1_titleBar_list_back);
tab1_titleBar_list.<span class="hljs-built_in">add</span>(tab1_titleBar_list_search);
tab1_titleBar_list.<span class="hljs-built_in">add</span>(tab1_titleBar_list_label);

tab1_titleBar_page.<span class="hljs-built_in">add</span>(tab1_titleBar_page_back);
tab1_titleBar_page.<span class="hljs-built_in">add</span>(tab1_titleBar_page_label);

tab1_titleBar.<span class="hljs-built_in">add</span>(tab1_titleBar_list);
tab1_titleBar.<span class="hljs-built_in">add</span>(tab1_titleBar_page);
</code></pre><p>And here is the <strong>createTitleBtn()</strong> function:</p>
<pre><code class="hljs">function createTitleBtn(<span class="hljs-built_in">image</span>, left, border) {
    var btn = Ti.UI.createButton({
        <span class="hljs-variable">width</span>: <span class="hljs-string">'40dip'</span>,
        <span class="hljs-variable">height</span>: <span class="hljs-string">'40dip'</span>,
        backgroundImage: <span class="hljs-string">'images/'</span> + <span class="hljs-built_in">image</span> + <span class="hljs-string">'.png'</span>,
        backgroundSelectedImage: <span class="hljs-string">'images/'</span> + <span class="hljs-built_in">image</span> + <span class="hljs-string">'Sel.png'</span>
    });

    var inner = Ti.UI.createView({
        <span class="hljs-variable">width</span>: <span class="hljs-string">'40dip'</span>,
        <span class="hljs-variable">height</span>: <span class="hljs-string">'40dip'</span>,
        top: <span class="hljs-number">0</span>
    });

    var outer = Ti.UI.createView({
        <span class="hljs-variable">width</span>: <span class="hljs-string">'40dip'</span>,
        <span class="hljs-variable">height</span>: <span class="hljs-string">'40dip'</span>,
        left: left + <span class="hljs-string">'dip'</span>
    });

    <span class="hljs-keyword">if</span>(border == <span class="hljs-string">'left'</span>) {
        outer.<span class="hljs-variable">width</span> = <span class="hljs-string">'41dip'</span>;
        inner.left = <span class="hljs-string">'1dip'</span>;
    }<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(border == <span class="hljs-string">'right'</span>) {
        outer.<span class="hljs-variable">width</span> = <span class="hljs-string">'41dip'</span>;
        inner.right = <span class="hljs-string">'1dip'</span>;
    }

    inner.<span class="hljs-built_in">add</span>(btn);
    outer.<span class="hljs-built_in">add</span>(inner);

    <span class="hljs-keyword">return</span> outer;
}
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="August 11th 2014, 6:33:14 am">August 11th 2014</span>
											by <span class='authorname'>Ben Stanley</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>This doesn&#39;t seem like the code that is producing the screen shots you provided:</p>
<p>tab1_titleBar has layout = horizontal</p>
<p>tab1_titleBar_list is added with a left = 0 (assumed) and width of &#39;50%&#39;</p>
<p>tab1_titleBar_page is added with a left of 50% and a width of &#39;50%&#39;</p>
<p>tab1_titleBar_page_label has been added to tab1_titleBar_page with a left of 47dips which means its left position in relation to the page is going to be (50% + 47dips) and its right position is 47dips which means its total width is (50% - 94dips) which on a 320 screen is only 66</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 11th 2014, 6:53:59 am">August 11th 2014</span>
											by <span class='authorname'>Larrie Wilson</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>No, I have a container which is 200% wide of the screen which animates across when you select something, so each titlebar is technically 50%, but 50% of 200% == 100% screen width. It&#39;s a bit confusing taking it out of context. Bit of a weird layout, I know, but that&#39;s just how it&#39;s been done.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 12th 2014, 1:40:46 am">August 12th 2014</span>
											by <span class='authorname'>Ben Stanley</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Is the container this one or another one:</p>
<pre><code class="hljs">var tab1_titleBar = Ti.UI.createView({
    <span class="hljs-variable">width</span>: <span class="hljs-string">'100%'</span>,
    <span class="hljs-variable">height</span>: <span class="hljs-string">'40dip'</span>,
    layout: <span class="hljs-string">'horizontal'</span>,
    left: <span class="hljs-number">0</span>
});
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="August 12th 2014, 7:22:45 am">August 12th 2014</span>
											by <span class='authorname'>Larrie Wilson</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>That container sits inside another container which is 200% of the screen width; which also contains the rest of the app in it, below the titlebar.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 13th 2014, 2:02:29 am">August 13th 2014</span>
											by <span class='authorname'>Ben Stanley</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Played around with this and got it to work correctly (weirdly) by adding the following property:</p>
<pre><code class="hljs">    <span class="hljs-attribute">minimumFontSize</span>: <span class="hljs-string">'16dip'</span>
</code></pre><p>so:</p>
<pre><code class="hljs">var tab1_titleBar_page_label = Ti.UI.createLabel({
    <span class="hljs-variable">width</span>: Ti.UI.FILL,
    <span class="hljs-variable">height</span>: <span class="hljs-string">'20dip'</span>,
    top: <span class="hljs-string">'10dip'</span>,
    left: <span class="hljs-string">'47dip'</span>,
    right: <span class="hljs-string">'47dip'</span>,
    <span class="hljs-built_in">color</span>: color_title,
    <span class="hljs-built_in">textAlign</span>: Ti.UI.TEXT_ALIGNMENT_CENTER,
    font: {
        fontSize: <span class="hljs-string">'16dip'</span>,
        fontWeight: <span class="hljs-string">'bold'</span>
    },
    <span class="hljs-built_in">text</span>: <span class="hljs-string">'Pregnancy Related Hypertension'</span>
    , minimumFontSize: <span class="hljs-string">'16dip'</span>
});
</code></pre><p>See if that works for you</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 13th 2014, 8:57:04 am">August 13th 2014</span>
											by <span class='authorname'>Larrie Wilson</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Yeah, that worked perfectly. Thanks! Saved me from a massive headache :)</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 19th 2014, 3:11:57 am">August 19th 2014</span>
											by <span class='authorname'>Ben Stanley</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>LOL, dude that&#39;s absurd. Why does minimumFontSize fix the ellipsis issue?!?!</p>
<p>Changing the width to Ti.UI.SIZSE and wrapping the label in a ScrollView allows it to be scrollable and all of the text to be seen, as long as you add the minimumFontSize that you suggested. haha wasted so much time on this -_- Thanks @Larrie and thanks for asking @Ben</p>
</p>
										<div class="author">
											&mdash; commented <span title="October 26th 2014, 1:48:12 pm">October 26th 2014</span>
											by <span class='authorname'>Kiley Williams</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
