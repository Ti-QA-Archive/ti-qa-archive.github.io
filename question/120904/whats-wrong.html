<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>What&#39;s wrong » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>What&#39;s wrong</h1>
		</header>
		<section>
			<p>What&#39;s wrong with SDK?</p>
<p>I flow the weather sample in using TableViews (copy and paste) the code as it is, when I run the application the results:</p>
<p>1- No search bar appear.<br>2- The tabel view is empty only the temp in the right.</p>
<p>My quation &lt;IS THE TOOLS READY FOR PRODUCTION&gt; ??????</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="June 12th 2011, 4:18:39 am">June 12th 2011</span>
				by <span class='authorname'>Sby Sby</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>sdk 1.7</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>1</span> Vote</div>
			<div class="answers"><span>5</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>5 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-209966">
				
						<section>
							<p>Please try to be more specific about which platform you are building for, which version SDK. Also please share some code here, so we can what you&#39;re talking about and maybe then we can help. ;)</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="June 12th 2011, 10:49:34 am">June 12th 2011</span>
								by <span class='authorname'>Kosso</span><br>
								<a class="icon-bg icon-link" href="../../question/120904/whats-wrong.html#answer-209966" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-209979">
				
						<section>
							<p>Sorry, my platform:</p>
<p>Mobile SDK 1.7.0</p>
<p>Titanium Studio, build: 1.0.0.201106101247</p>
<p>Run environment:</p>
<p>iPhone simulator 4.3</p>
<p>iPad simulator 4.3</p>
<p>iOS device iPad 2 4.3.3 (8J2)</p>
<p>Desktop operating system:</p>
<p>Mac OS X 10.6.7</p>
<p>app.js</p>
<pre><code class="hljs">Ti.<span class="hljs-keyword">include</span>(<span class="hljs-string">'data.js'</span>);
<span class="hljs-keyword">var</span> defaultColor = <span class="hljs-string">"#035385"</span>;
<span class="hljs-keyword">var</span> window = Titanium.UI.createWindow({
  backgroundColor:<span class="hljs-string">'#999'</span>
});
<span class="hljs-keyword">var</span> headerLabel = Ti.UI.createLabel({
  backgroundColor:defaultColor,
  color:<span class="hljs-string">"white"</span>,
  font:{ fontSize: <span class="hljs-number">16</span>, fontWeight:<span class="hljs-string">"bold"</span> },
  text:<span class="hljs-string">"The Weather App"</span>,
  textAlign:<span class="hljs-string">"center"</span>,
  height:<span class="hljs-number">35</span>,
  width:<span class="hljs-number">320</span>
});
<span class="hljs-keyword">var</span> footerLabel = Ti.UI.createLabel({
  backgroundColor:defaultColor,
  color:<span class="hljs-string">"white"</span>,
  font:{ fontSize:<span class="hljs-number">10</span> },
  text:<span class="hljs-string">"[data and icons supplied by Google Weather API]"</span>,
  textAlign:<span class="hljs-string">"center"</span>,
  height:<span class="hljs-number">25</span>,
  width:<span class="hljs-number">320</span>
});
<span class="hljs-keyword">var</span> searchBar = Titanium.UI.createSearchBar({
  hintText:<span class="hljs-string">'type to filter rows'</span>,
  showCancel:<span class="hljs-keyword">true</span>
});
<span class="hljs-keyword">var</span> tableData = [];
<span class="hljs-keyword">var</span> labelTempArray = [];
<span class="hljs-keyword">var</span> currentTempUnits = <span class="hljs-string">"F"</span>;
<span class="hljs-keyword">var</span> rowDeletedArray = [];
<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i=<span class="hljs-number">0</span>,ilen=weatherData[<span class="hljs-string">"reports"</span>].length; i&lt;ilen; i++){
  <span class="hljs-keyword">var</span> thisObj = weatherData[<span class="hljs-string">"reports"</span>][i];
  <span class="hljs-keyword">var</span> thisLabelCity = Ti.UI.createLabel({
    color:defaultColor,
    text:thisObj.city,
    top:<span class="hljs-number">17</span>,
    left:<span class="hljs-number">50</span>
  });
  <span class="hljs-keyword">var</span> thisLabelContinent = Ti.UI.createLabel({
    color:defaultColor,
    text:<span class="hljs-string">"("</span> + thisObj.continent + <span class="hljs-string">")"</span>,
    continent:thisObj.continent,
    top:thisLabelCity.top,
    top:thisLabelCity.top + <span class="hljs-number">20</span>,
    left:thisLabelCity.left
  });
  <span class="hljs-keyword">var</span> thisLabelWeatherCondition = Ti.UI.createLabel({
    color:defaultColor,
    text:thisObj.condition,
    touchEnabled:<span class="hljs-keyword">false</span>,
    left:<span class="hljs-number">170</span>
  });
  <span class="hljs-keyword">var</span> thisLabelTemp = Ti.UI.createLabel({
    color:defaultColor,
    font:{ fontWeight:<span class="hljs-string">"bold"</span> },
    text:thisObj.temp_f.toString()+<span class="hljs-string">"F"</span>,
    textAlign:<span class="hljs-string">"center"</span>,
    temp_f:thisObj.temp_f,
    temp_c:thisObj.temp_c,
    right:<span class="hljs-number">10</span>,
    height:<span class="hljs-number">30</span>,
    width:<span class="hljs-number">30</span>
  });
  <span class="hljs-keyword">var</span> thisRow = Ti.UI.createTableViewRow({
    <span class="hljs-comment">//backgroundImage:"images/tableviewrow-bg.png",</span>
    <span class="hljs-comment">//backgroundSelectedImage:"images/tableviewrow-bg-selected.png",</span>
    className:<span class="hljs-string">"weatherdata"</span>,
    filter:thisObj.continent + <span class="hljs-string">" "</span> + thisObj.condition,
    leftImage:thisObj.icon,
    layout:<span class="hljs-string">"vertical"</span>,
    objectName:<span class="hljs-string">"weatherRow"</span>,
    selectedColor:<span class="hljs-string">"black"</span>,
    height:<span class="hljs-number">75</span>
  });
  thisRow.add(thisLabelCity);
  thisRow.add(thisLabelContinent);
  thisRow.add(thisLabelWeatherCondition);
  thisRow.add(thisLabelTemp);
  tableData.push(thisRow);
  labelTempArray.push(thisLabelTemp);
  thisLabelTemp.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span></span>{
    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i=<span class="hljs-number">0</span>,ilen=labelTempArray.length; i&lt;ilen; i++){
      <span class="hljs-keyword">if</span>(currentTempUnits === <span class="hljs-string">"F"</span>){
        labelTempArray[i].text = labelTempArray[i].temp_c + <span class="hljs-string">"C"</span>;
      } <span class="hljs-keyword">else</span> {
        labelTempArray[i].text = labelTempArray[i].temp_f + <span class="hljs-string">"F"</span>;
      }
    }
    <span class="hljs-keyword">if</span>(currentTempUnits === <span class="hljs-string">"F"</span>){
      currentTempUnits = <span class="hljs-string">"C"</span>;
    } <span class="hljs-keyword">else</span> {
      currentTempUnits = <span class="hljs-string">"F"</span>;
    }
  });
  thisLabelContinent.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span></span>{
    searchBar.value = e.source.continent;
  });
}
<span class="hljs-keyword">var</span> table = Ti.UI.createTableView({
  backgroundColor:<span class="hljs-string">"white"</span>,
  data:tableData,
  headerView:headerLabel,
  footerView:footerLabel,
  filterAttribute:<span class="hljs-string">'filter'</span>,
  separatorColor:<span class="hljs-string">"white"</span>,
  search:searchBar,
  top:<span class="hljs-number">10</span>,
  width:<span class="hljs-number">320</span>
});
searchBar.addEventListener(<span class="hljs-string">'change'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span>
</span>{
  e.source.value;
});
searchBar.addEventListener(<span class="hljs-string">'return'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span>
</span>{
  e.source.blur();
});
searchBar.addEventListener(<span class="hljs-string">'cancel'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span>
</span>{
  e.source.blur();
});
<span class="hljs-comment">//Array Remove - By John Resig (MIT Licensed)</span>
arrayRemove = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(array, from, to)</span> </span>{
  <span class="hljs-keyword">var</span> rest = <span class="hljs-keyword">array</span>.slice((to || from) + <span class="hljs-number">1</span> || <span class="hljs-keyword">array</span>.length);
  <span class="hljs-keyword">array</span>.length = from &lt; <span class="hljs-number">0</span> ? <span class="hljs-keyword">array</span>.length + from : from;
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">array</span>.push.apply(<span class="hljs-keyword">array</span>, rest);
};
table.addEventListener(<span class="hljs-string">'swipe'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span></span>{
  <span class="hljs-keyword">if</span>(e.direction === <span class="hljs-string">"right"</span>){
    rowDeletedArray.push(e.source.row);
    table.deleteRow(e.index);
  }
  <span class="hljs-keyword">if</span>(e.direction === <span class="hljs-string">"left"</span>){
    table.appendRow(rowDeletedArray.length-<span class="hljs-number">1</span>);
    arrayRemove(rowDeletedArray,-<span class="hljs-number">1</span>);
  }
});
window.add(table);
window.open();
</code></pre><p>data.js</p>
<pre><code class="hljs">var weatherData =
{
    <span class="hljs-string">"reports"</span> : [
        {
            <span class="hljs-string">"city"</span>: <span class="hljs-string">"Mountain View"</span>,
            <span class="hljs-string">"continent"</span>: <span class="hljs-string">"North America"</span>,
            <span class="hljs-string">"condition"</span>: <span class="hljs-string">"Cloudy"</span>,
            <span class="hljs-string">"icon"</span>: <span class="hljs-string">"http://www.google.com/ig/images/weather/cloudy.gif"</span>,
            <span class="hljs-string">"temp_f"</span>: <span class="hljs-number">66</span>,
            <span class="hljs-string">"temp_c"</span>: <span class="hljs-number">19</span>
        },
        {
            <span class="hljs-string">"city"</span>: <span class="hljs-string">"Washington, DC"</span>,
            <span class="hljs-string">"continent"</span>: <span class="hljs-string">"North America"</span>,
            <span class="hljs-string">"condition"</span>: <span class="hljs-string">"Mostly Cloudy"</span>,
            <span class="hljs-string">"icon"</span>: <span class="hljs-string">"http://www.google.com/ig/images/weather/mostly_cloudy.gif"</span>,
            <span class="hljs-string">"temp_f"</span>: <span class="hljs-number">37</span>,
            <span class="hljs-string">"temp_c"</span>: <span class="hljs-number">3</span>
        },
...
 ]
};
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="June 12th 2011, 2:42:14 pm">June 12th 2011</span>
								by <span class='authorname'>Sby Sby</span><br>
								<a class="icon-bg icon-link" href="../../question/120904/whats-wrong.html#answer-209979" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-209981">
				
						<section>
							<p>there appears to be two problems here which I think need to be verified against the code in the wiki.</p>
<p>first off, it appears using the searchControl with the headerView does not work.</p>
<p>secondly, there is a problem with setting the layout to vertical on the tableViewRow, it does not render as expected.</p>
<p>So the answer for now… remove the layout vertical from the tableView row and create a view with its layout set to vertical and add the labels to that view, then insert the view into the row. As for the searchBar, if you remove the headerView, the searchBar will magically reappear</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="June 12th 2011, 4:18:15 pm">June 12th 2011</span>
								by <span class='authorname'>Aaron Saunders</span><br>
								<a class="icon-bg icon-link" href="../../question/120904/whats-wrong.html#answer-209981" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>here is a link to get the view displayed</p>
<p><a href="http:&#x2F;&#x2F;bit.ly&#x2F;kR20GG">http:&#x2F;&#x2F;bit.ly&#x2F;kR20GG</a></p>
</p>
										<div class="author">
											&mdash; commented <span title="June 12th 2011, 5:28:25 pm">June 12th 2011</span>
											by <span class='authorname'>Aaron Saunders</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-209983">
				
						<section>
							<p>I do this changes:</p>
<pre><code class="hljs">    var tmpView = Ti.UI.createView({
        layout:"vertical"
    })<span class="hljs-comment">;</span>

    tmpView.add(thisLabelCity)<span class="hljs-comment">;</span>
    tmpView.add(thisLabelContinent)<span class="hljs-comment">;</span>
    tmpView.add(thisLabelWeatherCondition)<span class="hljs-comment">;</span>
    tmpView.add(thisLabelTemp)<span class="hljs-comment">;</span>

    thisRow.add(tmpView)<span class="hljs-comment">;</span>
    tableData.push(thisRow)<span class="hljs-comment">;</span>
</code></pre><p>also remove layout:&quot;vertical&quot; from TableViewRow.</p>
<p>but same thing happend, no results only the temp in the right.</p>
<p>the search bar it is OK.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="June 12th 2011, 5:17:00 pm">June 12th 2011</span>
								by <span class='authorname'>Sby Sby</span><br>
								<a class="icon-bg icon-link" href="../../question/120904/whats-wrong.html#answer-209983" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>see comment above</p>
</p>
										<div class="author">
											&mdash; commented <span title="June 12th 2011, 5:28:50 pm">June 12th 2011</span>
											by <span class='authorname'>Aaron Saunders</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-210122">
				
						<section>
							<p>Thank you,  Aaron Saunders,</p>
<p>It is work</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="June 14th 2011, 2:50:59 am">June 14th 2011</span>
								by <span class='authorname'>Sby Sby</span><br>
								<a class="icon-bg icon-link" href="../../question/120904/whats-wrong.html#answer-210122" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
