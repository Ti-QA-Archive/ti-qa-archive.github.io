<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Does titanium is a joke? » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Does titanium is a joke?</h1>
		</header>
		<section>
			<p>Hi!</p>
<p>I&#39;m getting very upset about something and I need to let it out. I managed to build an application for iOS easily. But now, I try to do the same for android and I have a very bad time about managing the orientation. Is there anybody who achieved to have an application using both landscape and portrait? CAUSE I CAN&#39;T. I get errors like:</p>
<p>05-28 15:45:33.023: E&#x2F;TiUIModule(28620): (main) [991,3900] no window has been associated with activity, unable to set orientation</p>
<p>also error message like: Unsupported landscape left orientation.</p>
<p>And regarding the activity, I play around with that since a weeks now. I loose money because this is a paid job. Well, I think that titanium can&#39;t serve two platforms as it says in the documentation. Not for a more advance application.</p>
<p>I don&#39;t want to seem rude, but this is very frustrating. Here some code corresponding at the coming request I guess.</p>
<p>The window I try to open in landscape:</p>
<pre><code class="hljs">        <span class="hljs-keyword">var</span> win = Ti.UI.createWindow({

            title: title,
            navBarHidden: <span class="hljs-literal">true</span>,
            barColor: <span class="hljs-string">"#000000"</span>,
            exitOnClose: <span class="hljs-literal">false</span>,
            activity: {
                onCreateOptionsMenu: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span> </span>{

                    <span class="hljs-keyword">var</span> menu = e.menu;

                    <span class="hljs-keyword">var</span> menuItem = menu.add({

                        title: ((isSuggestion) ? L(<span class="hljs-string">"Add"</span>) : L(<span class="hljs-string">"Send"</span>))
                    });

                    menuItem.addEventListener(<span class="hljs-string">"click"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span> </span>{

                        showAlertDialog(((isSuggestion) ? <span class="hljs-number">0</span> : <span class="hljs-number">1</span>));
                    });
                }
            },
            orientationModes: [Ti.UI.LANDSCAPE_LEFT]
        });

        win.orientationModes = [Ti.UI.LANDSCAPE_LEFT];
</code></pre><p>The code I use to close it:</p>
<pre><code class="hljs">win.addEventListener(<span class="hljs-string">"android:back"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span> </span>{


                    <span class="hljs-comment">//Ti.App.fireEvent("app:ic.app.reorient");</span>

                    <span class="hljs-comment">//Ti.API.info("CallerID: " + callerID);</span>

                    <span class="hljs-keyword">switch</span>(callerID) {

                        <span class="hljs-keyword">case</span>(<span class="hljs-number">0</span>): {<span class="hljs-comment">//CardTile - Android only</span>

                            <span class="hljs-comment">//Ti.App.fireEvent("app:ic.app.cardTile.closeViewer");</span>
                            <span class="hljs-keyword">break</span>;
                        }

                        <span class="hljs-keyword">case</span>(<span class="hljs-number">1</span>): {<span class="hljs-comment">//Proximity</span>

                            <span class="hljs-comment">//Ti.API.info("In case 1");</span>
                            <span class="hljs-comment">//Ti.App.fireEvent("app:ic.app.proximity.closeViewer");</span>
                            <span class="hljs-keyword">break</span>;
                        }

                        <span class="hljs-keyword">case</span>(<span class="hljs-number">2</span>): {<span class="hljs-comment">//ApplicationWindow</span>

                            <span class="hljs-comment">//Ti.App.fireEvent("app:ic.app.reorient");</span>
                            Ti.App.fireEvent(<span class="hljs-string">"app:ic.app.closeViewer"</span>);

                            <span class="hljs-comment">/*win.close();
                            win = null;*/</span>
                            <span class="hljs-keyword">break</span>;
                        }
                    }
            });
</code></pre>
		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="May 28th 2012, 6:00:17 pm">May 28th 2012</span>
				by <span class='authorname'>Daniel Lusignan</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>activity</span></li>
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>orientation</span></li>
					
				</ul>
			

			<section>
				<h5>2 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Missing from your question are a number of important pieces of information. I suggest you take a look at the <a href="https:&#x2F;&#x2F;wiki.appcelerator.org&#x2F;display&#x2F;guides&#x2F;Using+Questions+and+Answers">Using Questions and Answers</a> article, specifically the Q&amp;A Question Checklist.  The missing information is critical to reproducing problems in a test environment and often indicates other factors that cause the undesirable outcome you are experiencing.</p>
</div>
							<div class="author">
								&mdash; commented <span title="May 28th 2012, 7:57:47 pm">May 28th 2012</span>
								by <span class='authorname'>Stephen Feather</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Now, not to be rude….</p>
<p><code>I loose money because this is a paid job.</code></p>
<p>An artisan never blames his tools.</p>
<p><code>Well, I think that titanium can&amp;#39;t serve two platforms as it says in the documentation. Not for a more advance application.</code></p>
<p>One of our clients app is  on iOS (iphone&#x2F;ipad) Android, and the Playbook.</p>
<p>With that said, and the venting out of the way…</p>
<p>What do you expect the code above to do?</p>
</div>
							<div class="author">
								&mdash; commented <span title="May 28th 2012, 8:05:09 pm">May 28th 2012</span>
								by <span class='authorname'>Stephen Feather</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>3</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>3 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-239543">
				
						<section>
							<pre><code class="hljs">One <span class="hljs-keyword">of</span> our clients app <span class="hljs-keyword">is</span> <span class="hljs-function_start"><span class="hljs-keyword">on</span></span> iOS (iphone/ipad) Android, <span class="hljs-keyword">and</span> <span class="hljs-keyword">the</span> Playbook.
</code></pre><p>This is not an indication that the framework is mature. First, read the post correctly. My point is, it&#39;s a piece of cake coding for iOS with titanium. Everything worked as expected. But, for Android it&#39;s not the case. And I&#39;m not the only one to have faced this truth. When I say: I loose money. The fact is that, here, it&#39;s a production environment. WHen I use a technologies, I presume it&#39;s reliable and that I will not have to find a lot of workaround. I&#39;m not talking of don&#39;t having to think. I&#39;m talking of, based on the documentation, I will be able to do this and this and this. As I did for iOS. So, compare to iOS, the compilation is not as good as is for Android. But of course, it is not mention anywhere.</p>
<pre><code class="hljs"><span class="hljs-label">An</span> artisan never <span class="hljs-keyword">blames </span>his tools.
</code></pre><p>Really? So, when you buy something at the store and it&#39;s not working, you don&#39;t return it? You keep it and you blame yourself instead? I don&#39;t think so.</p>
<p>So, I don&#39;t intend to insult anyone else, but I&#39;m not satisfied and I worked hard on this applications. I drop Xcode for titanium and I&#39;m about to regret it.</p>
<p>And the fact that I didn&#39;t post enough code, you are right. I know.</p>
<p>OK, let&#39;s try with this now.</p>
<p>The flow goes like this:</p>
<pre><code class="hljs">I am <span class="hljs-operator">in</span> <span class="hljs-operator">a</span> portrait window.
I am opening <span class="hljs-operator">a</span> landscape window.
When <span class="hljs-operator">a</span> <span class="hljs-built_in">close</span> <span class="hljs-operator">the</span> landscape window, I want <span class="hljs-built_in">to</span> go back <span class="hljs-built_in">to</span> portrait.
</code></pre><p>Easy isn&#39;t it? But, that&#39;s the part that doesn&#39;t work. The window stay in landscape.</p>
<p>I can&#39;t post all the code to reproduce this behavior.</p>
<p>But, I&#39;ll try to give more than less:</p>
<p>This is the code that return the landscape window:</p>
<pre><code class="hljs">
(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{

    <span class="hljs-comment">/*
     * listIndex:     The position of the selected item
     * cards:        An array of the user card for the manipulation
     * contactList:    The list of binder to wich the card can be added
     * title:        The title of the window depending of wich manipulation we do
     * calledID:    The script who call the CardViewer 2 = ApplicationWindow
     * isSuggestion:The wether or not the card is a suggestion
     */</span>
ic.ui.createCardViewerWindow = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(<span class="hljs-comment">/*int*/</span> listIndex, <span class="hljs-comment">/*array*/</span> cards, <span class="hljs-comment">/*Array*/</span> contactList, <span class="hljs-comment">/*string*/</span> title, <span class="hljs-comment">/*int*/</span> callerID, <span class="hljs-comment">/*bool*/</span> isSuggestion)</span> </span>{

    <span class="hljs-comment">/*
    * Variables
     */</span>
    <span class="hljs-comment">/*AddCardToListWindow*/</span> <span class="hljs-keyword">var</span> addCardToListWindow;
    <span class="hljs-comment">/*SendByEmailWindow*/</span> <span class="hljs-keyword">var</span> sendByEmailWindow;
    <span class="hljs-comment">/*AddNewListWindow*/</span> <span class="hljs-keyword">var</span> addCardToNewListWindow;
    <span class="hljs-comment">/*ProximityWindow*/</span> <span class="hljs-keyword">var</span> proximityWindow;
    <span class="hljs-comment">/*Object*/</span> <span class="hljs-keyword">var</span> gestureStartPoint;
    <span class="hljs-comment">/*String*/</span> <span class="hljs-keyword">var</span> direction;
    <span class="hljs-comment">/*Object*/</span> <span class="hljs-keyword">var</span> currentCard;
    <span class="hljs-comment">/*String*/</span> <span class="hljs-keyword">var</span> URL;
    <span class="hljs-comment">/*bool*/</span> <span class="hljs-keyword">var</span> isLoaded;
    <span class="hljs-comment">/*bool*/</span> <span class="hljs-keyword">var</span> isDialogOpen = <span class="hljs-keyword">false</span>;
    <span class="hljs-comment">/*bool*/</span> <span class="hljs-keyword">var</span> isCardSent = <span class="hljs-keyword">false</span>;
    <span class="hljs-comment">/*View*/</span> <span class="hljs-keyword">var</span> parentDialog;

    <span class="hljs-comment">/**
    * On Android globalPoint is null, so we make our own version
    */</span>
    <span class="hljs-keyword">if</span>(ic.app.isAndroid) {

        gestureStartPoint = {};
    }

    <span class="hljs-comment">/*
     * Delegate
     */</span>
    Ti.App.addEventListener(<span class="hljs-string">'app:ic.app.cardViewer.addSlider'</span>, addSlider);

    <span class="hljs-comment">/*
     * User Interface and Events
     */</span>
    <span class="hljs-keyword">var</span> win = Ti.UI.createWindow({

        title: title,
        navBarHidden: <span class="hljs-keyword">true</span>,
        barColor: <span class="hljs-string">"#000000"</span>,
        exitOnClose: <span class="hljs-keyword">false</span>,
        activity: {
            onCreateOptionsMenu: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span> </span>{

                <span class="hljs-keyword">var</span> menu = e.menu;

                <span class="hljs-keyword">var</span> menuItem = menu.add({

                    title: ((isSuggestion) ? L(<span class="hljs-string">"Add"</span>) : L(<span class="hljs-string">"Send"</span>))
                });

                menuItem.addEventListener(<span class="hljs-string">"click"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span> </span>{

                    showMenuDialog(((isSuggestion) ? <span class="hljs-number">0</span> : <span class="hljs-number">1</span>));
                });
            }
        },
        orientationModes: [Ti.UI.LANDSCAPE_LEFT]
    });

    win.orientationModes = [Ti.UI.LANDSCAPE_LEFT];

    <span class="hljs-keyword">if</span>(ic.app.isAndroid) {

        win.addEventListener(<span class="hljs-string">"android:back"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span> </span>{

            <span class="hljs-keyword">if</span>(isDialogOpen) {

                parentDialog.hide();
                win.remove(parentDialog);
                parentDialog = <span class="hljs-keyword">null</span>;

                isDialogOpen = <span class="hljs-keyword">false</span>;
            } <span class="hljs-keyword">else</span> {

                <span class="hljs-comment">//Ti.App.fireEvent("app:ic.app.reorient");</span>

                <span class="hljs-keyword">switch</span>(callerID) {

                    <span class="hljs-keyword">case</span>(<span class="hljs-number">2</span>): {<span class="hljs-comment">//ApplicationWindow</span>

                        Ti.App.fireEvent(<span class="hljs-string">"app:ic.app.reorient"</span>);
                        Ti.App.fireEvent(<span class="hljs-string">"app:ic.app.closeViewer"</span>);

                        win.close();
                        win = <span class="hljs-keyword">null</span>;
                        <span class="hljs-keyword">break</span>;
                    }
                }
            }
        });
    }

    <span class="hljs-keyword">return</span> win:
};
})();
</code></pre><p>It&#39;s a small part of the code. </p>
<p>This window is open from the ApplicationWindow. In tab action:</p>
<pre><code class="hljs">tabGroup.addEventListener(<span class="hljs-string">'focus'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span></span>{

       <span class="hljs-keyword">if</span>(tabGroup != <span class="hljs-literal">null</span>) {

        ic.app.currentCardTab = e.index;

        <span class="hljs-keyword">if</span>(ic.app.currentCardTab == <span class="hljs-number">3</span>) {

            tabGroup.bottom = -<span class="hljs-number">50</span>;
            showDistributeWindow();
        }
    }
});
</code></pre><p>When the user select the third tab, the function &quot;showDistributeWindow()&quot; is called:</p>
<pre><code class="hljs"><span class="hljs-comment">/**
 * Open the CardViewerWindow
 * <span class="hljs-doctag">@param</span> 0: Index of the selected card in the ScrollView
 * <span class="hljs-doctag">@param</span> 1: The card list viewed
 * <span class="hljs-doctag">@param</span> 2: The list of contacts if it's a suggestion
 * <span class="hljs-doctag">@param</span> 3: The title of the window if it's to send or to add
 * <span class="hljs-doctag">@param</span> 4: The callerID, deprecated since it's always 2
 * <span class="hljs-doctag">@param</span> 5: If it's a suggestion or not
 */</span>    
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">showDistributeWindow</span><span class="hljs-params">(e)</span> </span>{            

    <span class="hljs-comment">/**
    * For fluidity reason we hide the tabGroup when we open the CardViewer
    */</span>
    tabGroup.visible = <span class="hljs-keyword">false</span>;

    <span class="hljs-keyword">if</span>(e == <span class="hljs-keyword">null</span>) {

        cardViewer = ic.ui.createCardViewerWindow(<span class="hljs-keyword">null</span>, user.CardList, <span class="hljs-keyword">null</span>, L(<span class="hljs-string">"SendYourCard"</span>), <span class="hljs-number">2</span>, <span class="hljs-keyword">false</span>);
    } <span class="hljs-keyword">else</span> {

        cardViewer = ic.ui.createCardViewerWindow(e.index, user.CardList, <span class="hljs-keyword">null</span>, L(<span class="hljs-string">"SendYourCard"</span>), <span class="hljs-number">2</span>, <span class="hljs-keyword">false</span>);
    }

    cardViewer.open({

        modal: <span class="hljs-keyword">true</span>
    });        
}
</code></pre><p>And since this is all done from a parent window, I close and try to reorient everything in the parent window:</p>
<pre><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">reorient</span><span class="hljs-params">()</span> </span>{

    <span class="hljs-comment">//Ti.API.info("We reorient");</span>
     Ti.UI.orientation = Ti.UI.PORTRAIT;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">closeViewer</span><span class="hljs-params">()</span> </span>{

    tabGroup.bottom = <span class="hljs-number">0</span>;
    tabGroup.setActiveTab(<span class="hljs-number">0</span>);
    tabGroup.visible = <span class="hljs-literal">true</span>;
}
</code></pre><p>This behavior is the equivalent for me of delegation in Objective-C or any other OOP.</p>
<p>That&#39;s all the code evolved in this process.</p>
<p>Now my tiapp.xml:</p>
<pre><code class="hljs"><span class="hljs-tag">&lt;<span class="hljs-title">android</span> <span class="hljs-attribute">xmlns:android</span>=<span class="hljs-value">"http://schemas.android.com/apk/res/android"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">services</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">service</span> <span class="hljs-attribute">url</span>=<span class="hljs-value">"VerifyNewCard.js"</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"interval"</span>/&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">services</span>&gt;</span>

        <span class="hljs-tag">&lt;<span class="hljs-title">manifest</span> <span class="hljs-attribute">android:versionCode</span>=<span class="hljs-value">"1"</span> <span class="hljs-attribute">android:versionName</span>=<span class="hljs-value">"1.0"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">property</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"ti.android.fastdev"</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"bool"</span>&gt;</span>false<span class="hljs-tag">&lt;/<span class="hljs-title">property</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">supports-screens</span> <span class="hljs-attribute">android:anyDensity</span>=<span class="hljs-value">"false"</span>/&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">manifest</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">android</span>&gt;</span>
</code></pre><p>Yes, there is nothing regarding orientation, because when I put something, it&#39;s worst. The app crash.</p>
<p>Thank you!</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="May 28th 2012, 9:59:32 pm">May 28th 2012</span>
								by <span class='authorname'>Daniel Lusignan</span><br>
								<a class="icon-bg icon-link" href="question/137526/does-titanium-is-a-joke#answer-239543" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-239566">
				
						<section>
							<p>Let me get this straight, you took on a <strong>paid job</strong> without making sure you could deliver the goods with the tools you had?</p>
<p>But, I&#39;m sure you will agree, blaming the tools is not the best way to gather support from the community. I can only assume you are not paying for support since you are on the community Q&amp;A. Otherwise, someone from Appcelerator would be helping you as I&#39;m writing this.</p>
<p>Now I&#39;ll have a look at your orientation problem and see if I can help you out. Don&#39;t get me wrong though, I share the pain when something doesn&#39;t work the way you want it. But please, don&#39;t give us the <em>&quot;I am loosing money&quot;</em> speech. Pretty much everyone here does this for a living and you don&#39;t hear them complain.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="May 29th 2012, 7:05:59 am">May 29th 2012</span>
								by <span class='authorname'>Christian Brousseau</span><br>
								<a class="icon-bg icon-link" href="question/137526/does-titanium-is-a-joke#answer-239566" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-239604">
				
						<section>
							<p>OK! Just let say that I was in a bad mood and now I regret.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="May 29th 2012, 10:58:44 am">May 29th 2012</span>
								by <span class='authorname'>Daniel Lusignan</span><br>
								<a class="icon-bg icon-link" href="question/137526/does-titanium-is-a-joke#answer-239604" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
