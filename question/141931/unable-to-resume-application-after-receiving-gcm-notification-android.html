<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Unable to resume application after receiving Gcm Notification android. » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Unable to resume application after receiving Gcm Notification android.</h1>
		</header>
		<section>
			<p>Hi, I am developing small android application in which I want to include google cloud messaging. In my application I am able to get regid from server. Also when my application is running I am able to receive the message from my server.</p>
<p> Now my problem:<br>When my application is running in background i.e.(user click on home button) At that time my application is able to receive message.But when I clicked on notification it is not able to resume my application. It opens my application but with blurred and inactive window. My callback function looks like :</p>
<pre><code class="hljs">var intent = <span class="hljs-filename">Ti.Android.createIntent
(
    {
        action</span>:<span class="hljs-filename">Ti.Android.ACTION_MAIN,
        //flags</span>:<span class="hljs-filename">Ti.Android.FLAG_ACTIVITY_NEW_TASK | Ti.Android.FLAG_ACTIVITY_RESET_TASK_IF_NEEDED,
        flags </span>: <span class="hljs-filename">Ti.Android.FLAG_ACTIVITY_CLEAR_TOP | Ti.Android.FLAG_ACTIVITY_SINGLE_TOP,
        packageName</span>:<span class="hljs-string">'com.example.demotest'</span>,
        className:<span class="hljs-string">'com.example.demotest.DemotestActivity'</span>
    }
);
//<span class="hljs-filename">intent.addCategory(Ti.Android.CATEGORY_LAUNCHER);
var pending = Ti.Android.createPendingIntent
(
    {
        activity</span>:<span class="hljs-filename">Ti.Android.currentActivity,
        intent</span>:intent,
        //flags : <span class="hljs-filename">Ti.Android.FLAG_UPDATE_CURRENT,
        type</span>:<span class="hljs-filename">Ti.Android.PENDING_INTENT_FOR_ACTIVITY
    }
);

var notification = Ti.Android.createNotification
(
    {
        contentIntent</span>:pending,
        contentTitle:<span class="hljs-string">'New Message'</span>,
        contentText:e.<span class="hljs-filename">data.message,
        icon </span>: <span class="hljs-filename">Ti.App.Android.R.drawable.appicon,
        tickerText</span>:<span class="hljs-string">'New Message'</span>
    }
);

<span class="hljs-filename">Ti.Android.NotificationManager.notify(1, notification);</span>
</code></pre><p>I used <a href="https:&#x2F;&#x2F;github.com&#x2F;liccowee&#x2F;Google-Cloud-Messaging--Titanium-">this</a> module for implementing GCM for android. I also read <a href="http:&#x2F;&#x2F;developer.appcelerator.com&#x2F;question&#x2F;107951&#x2F;how-can-i-resume-the-application-when-notification-is-clicked">this question</a>  which more relevant to my question…. any solution..</p>
<p>Need Help.<br>Thank you.</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="September 6th 2012, 5:00:35 am">September 6th 2012</span>
				by <span class='authorname'>nilesh kashid</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>activity</span></li>
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>gcm</span></li>
					
						<li><span class='tagname'>notification</span></li>
					
						<li><span class='tagname'>resume</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-247452">
				
						<section>
							<p>M using the same code above for my callback..  but it is not even being fired when the app is closed.. its jst get fired when the app is in running state… do u know what can be the issue…?</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="September 18th 2012, 7:29:03 am">September 18th 2012</span>
								by <span class='authorname'>Muhammad Sajjad</span><br>
								<a class="icon-bg icon-link" href="question/141931/unable-to-resume-application-after-receiving-gcm-notification-android#answer-247452" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Muhammad try to generate notification inside module onmessage method instead of inside callback function…. try to follow <a href="http:&#x2F;&#x2F;developer.appcelerator.com&#x2F;question&#x2F;142162&#x2F;gcm-or-c2dm-application-launch-problem">this</a> question and ans…</p>
</p>
										<div class="author">
											&mdash; commented <span title="September 18th 2012, 1:50:55 pm">September 18th 2012</span>
											by <span class='authorname'>nilesh kashid</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-250822">
				
						<section>
							<p>Hi all, there&#39;s a new GCM module in the Marketplace called uPush for Android push messages, got it working with my project today in about 10 minutes, saved me so much time.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="November 9th 2012, 11:13:26 am">November 9th 2012</span>
								by <span class='authorname'>Alan Browne</span><br>
								<a class="icon-bg icon-link" href="question/141931/unable-to-resume-application-after-receiving-gcm-notification-android#answer-250822" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>-2</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
