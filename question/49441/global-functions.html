<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>global functions » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>global functions</h1>
		</header>
		<section>
			<p>how to create global function so i cant use in all sub windows ?<br>for example </p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> doit=<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(parm1)</span></span>{

    <span class="hljs-comment">//// mycode .........</span>

}
</code></pre><p>and then us it anywhere .<br>should i put in the app.js or to include it in every page ?<br>thanks !.</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="August 3rd 2010, 4:33:20 pm">August 3rd 2010</span>
				by <span class='authorname'>gmb Bi</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>functions</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>1</span> Vote</div>
			<div class="answers"><span>7</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>7 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-95891">
				
						<section>
							<p>Hi there, </p>
<p>Use an include at the top of your files…</p>
<p>In this example I will show you how I create a persistence module for retrieving a list of brands from a database.</p>
<p>create your include file (in my case dbfunctions.js) with your various functions in it.</p>
<pre><code class="hljs">/<span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span>
dbfunctions.js - database functions
v 0.1
<span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span>/
var db = (function() {
var api     = {};
var conn     = Titanium.Database.open('mydb');

api.all_brand_names_picker = function() {
    if (debug){  Ti.API.info('api.all_brand_names'); }
    var results = [];
    var resultSet = conn.execute('select <span class="hljs-keyword">*</span> from brands');
    while ( resultSet.isValidRow()) {
        results.push({
            title:        resultSet.fieldByName('brand_name')
        });
        resultSet.next();
    }
    resultSet.close();
    return results;
    };

return api;
}
</code></pre><p>Then in your javascript files include the persistent functions…</p>
<pre><code class="hljs"><span class="hljs-type">Titanium</span>.<span class="hljs-keyword">include</span>(<span class="hljs-symbol">'dbfunctions</span>.js');
</code></pre><p>and call the functions as required</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> filterPicker = <span class="hljs-type">Titanium</span>.<span class="hljs-type">UI</span>.createPicker({ 
    top:    <span class="hljs-number">140</span>, 
    <span class="hljs-class"><span class="hljs-keyword">type</span>:</span>    <span class="hljs-type">Titanium</span>.<span class="hljs-type">UI</span>.<span class="hljs-type">PICKER_TYPE_PLAIN</span> 
});

filterPicker.add(db.all_brand_names_picker());
</code></pre><p>Hope this helps.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 3rd 2010, 7:53:43 pm">August 3rd 2010</span>
								by <span class='authorname'>Gregor Munro</span><br>
								<a class="icon-bg icon-link" href="question/49441/global-functions#answer-95891" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>I cannot get this to work as is.  The only way I can get it to work is to instantiate db before calling the all_brand_names_picker() method, like this:</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> dbInst = <span class="hljs-keyword">new</span> db();
filterPicker.<span class="hljs-keyword">add</span>(dbInst.all_brand_names_picker());
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="December 29th 2010, 12:57:35 pm">December 29th 2010</span>
											by <span class='authorname'>David Knell</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>3</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-95841">
				
						<section>
							<p>Tamas&#39; approach won&#39;t work if you open your sub-windows in separate contexts (if they&#39;re in separate .js files).</p>
<p>One approach would be creating a separate javascript file that holds your global functions &#x2F; objects and then include this file wherever you need it.</p>
<p>For example, if your global functions are in <strong>globals.js</strong>, you can include this in other files with <code>Titanium.include(&amp;#39;globals.js&amp;#39;)</code>. Then you can call your functions normally. </p>
<p>Btw, the include paths are relative to your <strong>Resources</strong> folder.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 3rd 2010, 5:55:03 pm">August 3rd 2010</span>
								by <span class='authorname'>Goran Skledar</span><br>
								<a class="icon-bg icon-link" href="question/49441/global-functions#answer-95841" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-99151">
				
						<section>
							<p>what about storing global values</p>
<p>like when you start your app and get info from server which you don&#39;t like to download every time </p>
<p>how to put this data (array) in place that all window can see and get<br>last time i putted them inside the tabgroup however tabGroup start to act crazy  </p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 10th 2010, 6:01:45 pm">August 10th 2010</span>
								by <span class='authorname'>gmb Bi</span><br>
								<a class="icon-bg icon-link" href="question/49441/global-functions#answer-99151" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-99161">
				
						<section>
							<p>what about storing global values</p>
<p>like when you start your app and get info from server which you don&#39;t like to download every time </p>
<p>how to put this data (array) in place that all window can see and get<br>last time i putted them inside the tabgroup however tabGroup start to act crazy  </p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 10th 2010, 6:01:47 pm">August 10th 2010</span>
								by <span class='authorname'>gmb Bi</span><br>
								<a class="icon-bg icon-link" href="question/49441/global-functions#answer-99161" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-153141">
				
						<section>
							<p>I imagine that this is a big no-no, but it seems to work. By adding your own methods to the Titanium.App object, you can create globally accessible functions, usable from anywhere in the app. Take this example of an application-wide API wrapper for a remote service.</p>
<p>In app.js:</p>
<pre><code class="hljs">Titanium.App.apiRequest = function(<span class="hljs-keyword">params</span>) {
    <span class="hljs-keyword">var</span> apiKey = Titanium.App.Properties.getString(<span class="hljs-string">"apiKey"</span>);
    <span class="hljs-keyword">var</span> xhr = Titanium.Network.createHTTPClient();
    xhr.onload = function() {
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">params</span>.hasOwnProperty(<span class="hljs-string">'callback'</span>) &amp;&amp; <span class="hljs-keyword">typeof</span> <span class="hljs-keyword">params</span>.callback == <span class="hljs-string">'function'</span>) {
            <span class="hljs-keyword">params</span>.callback(JSON.parse(<span class="hljs-keyword">this</span>.responseText));
        }
    };
    xhr.onerror = function() {
        Ti.API.error(<span class="hljs-keyword">this</span>.status + <span class="hljs-string">' - '</span> + <span class="hljs-keyword">this</span>.statusText);
    };
    <span class="hljs-keyword">var</span> thisUrl = Titanium.App.Properties.getString(<span class="hljs-string">"apiURL"</span>)+<span class="hljs-string">"/"</span>+<span class="hljs-keyword">params</span>.action;

    <span class="hljs-comment">// include any URL variables (for GET requests)</span>
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">params</span>.hasOwnProperty(<span class="hljs-string">'params'</span>) &amp;&amp; <span class="hljs-keyword">typeof</span> <span class="hljs-keyword">params</span>.<span class="hljs-keyword">params</span> == <span class="hljs-string">'object'</span>) {
        <span class="hljs-keyword">var</span> c = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">for</span> (param <span class="hljs-keyword">in</span> <span class="hljs-keyword">params</span>.<span class="hljs-keyword">params</span>) {
            thisUrl += (c==<span class="hljs-number">0</span>) ? <span class="hljs-string">"?"</span> : <span class="hljs-string">"&amp;"</span>;
            thisUrl += param + <span class="hljs-string">"="</span> + <span class="hljs-keyword">params</span>.<span class="hljs-keyword">params</span>[param];
            c++;
        }
    }

    <span class="hljs-comment">// handle the HTTP request type</span>
    xhr.open(<span class="hljs-keyword">params</span>.hasOwnProperty(<span class="hljs-string">'method'</span>) ? <span class="hljs-keyword">params</span>.method : <span class="hljs-string">'GET'</span>, thisUrl);

    <span class="hljs-comment">// create the Authorization header</span>
    <span class="hljs-keyword">var</span> authstr = <span class="hljs-string">'Basic '</span>+Titanium.Utils.base64encode(apiKey+<span class="hljs-string">':x'</span>);
    xhr.setRequestHeader(<span class="hljs-string">'Authorization'</span>, authstr);

    <span class="hljs-comment">// include any JSON data that is provided</span>
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">params</span>.hasOwnProperty(<span class="hljs-string">'data'</span>)) {
        xhr.send(JSON.stringify(<span class="hljs-keyword">params</span>.data));
    } <span class="hljs-keyword">else</span> {
        xhr.send();
    }
}
</code></pre><p>And then from within another context, anywhere in your app, you can call:</p>
<pre><code class="hljs"><span class="hljs-tag">Titanium</span><span class="hljs-class">.App</span><span class="hljs-class">.apiRequest</span>(<span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">action</span>:<span class="hljs-value">  <span class="hljs-string">'projects'</span>,
    callback: <span class="hljs-function">function</span>(resp) {
        ...
    </span></span></span>}
});
</code></pre><p>Remember, this is generally bad advice! with each &quot;custom&quot; method you add to Titanium.App, you are &quot;polluting&quot; the namespace. If you do use this technique take care not to override any important methods!</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="November 30th 2010, 11:44:53 pm">November 30th 2010</span>
								by <span class='authorname'>Jordan Titanium</span><br>
								<a class="icon-bg icon-link" href="question/49441/global-functions#answer-153141" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Strangely this seems to work for iPhone but not Android. Very odd.</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 1st 2010, 7:46:49 pm">December 1st 2010</span>
											by <span class='authorname'>Jordan Titanium</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-95791">
				
						<section>
							<p>In app.js should do the trick.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 3rd 2010, 4:40:37 pm">August 3rd 2010</span>
								by <span class='authorname'>Dan Tamas</span><br>
								<a class="icon-bg icon-link" href="question/49441/global-functions#answer-95791" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>-1</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-95881">
				
						<section>
							<p>i found that putting all functions on app.js wont let me use theme in sub windows however using Groan way solve it by including the function</p>
<p>and also i found new way </p>
<p>1- create your function </p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> doit=<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(parm1)</span></span>{


}
</code></pre><p>2- assaign this to global object i found the tabGroup good one</p>
<pre><code class="hljs">var tabGroup = Titanium.UI.createTabGroup({
<span class="hljs-label">myVar:</span><span class="hljs-string">"global var"</span>,
<span class="hljs-label">doit:</span>doit
})<span class="hljs-comment">;</span>
</code></pre><p>3- in any sub window you can use it by calling </p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> <span class="hljs-keyword">win</span> = Titanium.UI.currentWindow;
<span class="hljs-keyword">win</span>.tabGroup.doit();
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 3rd 2010, 7:20:19 pm">August 3rd 2010</span>
								by <span class='authorname'>gmb Bi</span><br>
								<a class="icon-bg icon-link" href="question/49441/global-functions#answer-95881" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>-1</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
