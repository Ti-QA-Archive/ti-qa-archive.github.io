<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Maps won&#39;t work in a tab » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Maps won&#39;t work in a tab</h1>
		</header>
		<section>
			<p>Hi, I&#39;m having an issue regarding map spanning in Titanium Studio. I have functional map code that I have tested in an isolated window, but if I put the window in a tab, the map stops working: it displays a bit of map at startup but then never updates again. I need to put the map in a tab because aside from the map, the user has to have access to many other functionalities.</p>
<p>Thank you</p>
<p>Clement</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="June 21st 2011, 11:41:28 am">June 21st 2011</span>
				by <span class='authorname'>Clement Covemaeker</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>api</span></li>
					
						<li><span class='tagname'>mapview</span></li>
					
						<li><span class='tagname'>tabgroup</span></li>
					
						<li><span class='tagname'>titanium</span></li>
					
				</ul>
			

			<section>
				<h5>5 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Please post some code.</p>
</div>
							<div class="author">
								&mdash; commented <span title="June 21st 2011, 12:00:32 pm">June 21st 2011</span>
								by <span class='authorname'>Adam Paxton</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>When you say never updates again, you mean?</p>
</div>
							<div class="author">
								&mdash; commented <span title="June 21st 2011, 12:00:34 pm">June 21st 2011</span>
								by <span class='authorname'>Matt Apperson</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>@Adam I&#39;ve posted some code below.</p>
<p>@Matt When the app launches, the map shows the overlay (roads, etc…) for the displayed part of the world but when I just try and see another location it does nothing. The only bit of map that has been loaded at startup stays and that&#39;s all. I can&#39;t even zoom in, the image remains the same.</p>
</div>
							<div class="author">
								&mdash; commented <span title="June 21st 2011, 12:05:19 pm">June 21st 2011</span>
								by <span class='authorname'>Clement Covemaeker</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>what sdk are you using? what android version? device or emulator?</p>
</div>
							<div class="author">
								&mdash; commented <span title="June 21st 2011, 12:13:50 pm">June 21st 2011</span>
								by <span class='authorname'>Matt Apperson</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>I am using the Titanium Mobile 1.7.0 SDK and the 2.2 Android SDK. I run it on a device, more specifically a Galaxy Tab (the first one, not the 10.1).</p>
</div>
							<div class="author">
								&mdash; commented <span title="June 21st 2011, 12:18:12 pm">June 21st 2011</span>
								by <span class='authorname'>Clement Covemaeker</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>3</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>3 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-210900">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>Clement</p>
<p>As far as I can tell, the only mistake you have made is not to declare the mapview variable. Try the following code, which works for me using Titanium 1.7.1 (2011&#x2F;06&#x2F;17 00:13 293a6d…) and Android 2.1:</p>
<pre><code class="hljs">Ti.UI.setBackgroundColor(<span class="hljs-string">'#000'</span>);

<span class="hljs-keyword">var</span> tabGroup = Ti.UI.createTabGroup();

<span class="hljs-keyword">var</span> win1 = Ti.UI.createWindow({
  title:<span class="hljs-string">'Tab 1'</span>,
  backgroundColor:<span class="hljs-string">'#fff'</span>
});
<span class="hljs-keyword">var</span> tab1 = Ti.UI.createTab({
  title:<span class="hljs-string">'Tab 1'</span>,
  <span class="hljs-built_in">window</span>:win1
});

<span class="hljs-keyword">var</span> label1 = Ti.UI.createLabel({
  color:<span class="hljs-string">'#999'</span>,
  text:<span class="hljs-string">'I am Window 1'</span>
});

win1.add(label1);

<span class="hljs-keyword">var</span> win2 = Ti.UI.createWindow({
  title:<span class="hljs-string">'Tab 2'</span>,
  backgroundColor:<span class="hljs-string">'#fff'</span>
});
<span class="hljs-keyword">var</span> tab2 = Ti.UI.createTab({
  title:<span class="hljs-string">'Tab 2'</span>,
  <span class="hljs-built_in">window</span>:win2
});

<span class="hljs-keyword">var</span> mapview = Titanium.<span class="hljs-built_in">Map</span>.createView({
  mapType: Titanium.<span class="hljs-built_in">Map</span>.STANDARD_TYPE,
  animate:<span class="hljs-keyword">true</span>,
  regionFit:<span class="hljs-keyword">true</span>,
  userLocation:<span class="hljs-keyword">false</span>
});
win2.add(mapview);

tabGroup.addTab(tab1);
tabGroup.addTab(tab2);

tabGroup.open();
</code></pre><p>Hope this helps</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="June 21st 2011, 12:57:40 pm">June 21st 2011</span>
								by <span class='authorname'>Paul Dowsett</span><br>
								<a class="icon-bg icon-link" href="question/121364/maps-wont-work-in-a-tab#answer-210900" rel="permalink">permalink</a>
							</div>

							<h5>2 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Of course, you must also insure that you are using the enhanced google API that support maps, as explained in <a href="http:&#x2F;&#x2F;wiki.appcelerator.org&#x2F;display&#x2F;guides&#x2F;Titanium+Compatibility+Matrix#TitaniumCompatibilityMatrix-AndroidSDK%2FTargetAndroidPlatform">Android SDK &#x2F; Target Android Platform</a>.</p>
</p>
										<div class="author">
											&mdash; commented <span title="June 21st 2011, 1:02:17 pm">June 21st 2011</span>
											by <span class='authorname'>Paul Dowsett</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Using you example, and tinkering with it a bit, it would seem that putting the mapview in the first tab just tends to make it bug a lot, whereas is runs flawlessly on the second tab. I haven&#39;t thought it could be the problem.</p>
<p>Thank you very much.</p>
</p>
										<div class="author">
											&mdash; commented <span title="June 21st 2011, 1:25:04 pm">June 21st 2011</span>
											by <span class='authorname'>Clement Covemaeker</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-210892">
				
						<section>
							<p>any code you can show us?</p>
<p>if you change tabs it probably wont refresh anymore, try to add the map to the window of the tab each time the tab is focused. Should force the map to be active again.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="June 21st 2011, 11:44:17 am">June 21st 2011</span>
								by <span class='authorname'>Kami -</span><br>
								<a class="icon-bg icon-link" href="question/121364/maps-wont-work-in-a-tab#answer-210892" rel="permalink">permalink</a>
							</div>

							<h5>2 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Here is the code for the tab which contains the mapview:</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> tabGroup = Titanium.UI.createTabGroup();

<span class="hljs-comment">//...</span>

win = Ti.UI.createWindow({
    backgroundColor:<span class="hljs-string">'#fff'</span>
});
<span class="hljs-keyword">var</span> tabMap = Titanium.UI.createTab({  
    icon:<span class="hljs-string">'tab_map.png'</span>,
    title:<span class="hljs-string">'Map'</span>,
    <span class="hljs-built_in">window</span>:win
});

mapview = Titanium.<span class="hljs-built_in">Map</span>.createView({
    mapType: Titanium.<span class="hljs-built_in">Map</span>.STANDARD_TYPE,
    animate:<span class="hljs-keyword">true</span>,
    regionFit:<span class="hljs-keyword">true</span>,
    userLocation:<span class="hljs-keyword">false</span>
});
win.add(A2B.mapview);

<span class="hljs-comment">//...</span>

tabGroup.addTab(tabMap);
</code></pre><p>I have tried to modify most options, but none has fixed the problem so far.</p>
</p>
										<div class="author">
											&mdash; commented <span title="June 21st 2011, 11:51:35 am">June 21st 2011</span>
											by <span class='authorname'>Clement Covemaeker</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Don&#39;t mind the A2B in win.add(A2B.mapview); it&#39;s just that I cleaned the code a bit for it to be more easily readable and just forgot this.</p>
</p>
										<div class="author">
											&mdash; commented <span title="June 21st 2011, 12:13:37 pm">June 21st 2011</span>
											by <span class='authorname'>Clement Covemaeker</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-211097">
				
						<section>
							<p>Try setting the height an width on the mapview.  You can even set it to 100% if you want it to be full screen.  That has fixed the tab issue for me before.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="June 22nd 2011, 8:30:46 pm">June 22nd 2011</span>
								by <span class='authorname'>Alan Leard</span><br>
								<a class="icon-bg icon-link" href="question/121364/maps-wont-work-in-a-tab#answer-211097" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
