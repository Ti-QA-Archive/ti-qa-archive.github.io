<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>getUserLocation() vs mapview.userLocation in Simulator » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>getUserLocation() vs mapview.userLocation in Simulator</h1>
		</header>
		<section>
			<p>I try to create a mapview which shows the users curent location and provide him with location based annotations later on.</p>
<p>While I can find out the correct user location via getuserLocation(), wether AirPort is on or off, I always get Cupertino as userlocation in the Simulator.</p>
<p>Can I rely on mapView.userLocation and how do I retrieve the coordinates whch I need for my location based service?</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="September 28th 2011, 1:52:13 pm">September 28th 2011</span>
				by <span class='authorname'>Wolfgang Loske</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>geolocation</span></li>
					
						<li><span class='tagname'>location</span></li>
					
						<li><span class='tagname'>mapview</span></li>
					
						<li><span class='tagname'>mobile</span></li>
					
						<li><span class='tagname'>simulator</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>3</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>3 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-219729">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>Apples Simulator locks to that location, this is a restriction on native devs as… sadly there is not much that can be done about it…</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="September 28th 2011, 1:54:46 pm">September 28th 2011</span>
								by <span class='authorname'>Matt Apperson</span><br>
								<a class="icon-bg icon-link" href="question/126147/getuserlocation-vs-mapviewuserlocation-in-simulator#answer-219729" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-219773">
				
						<section>
							<p>That&#39;s a major WTF … why does getUserLocation() give me the correct location then? I don&#39;t quiet get it … if there&#39;s geolocation support in the emulator through getUserLocation(), why not in the mapview … sigh</p>
<p>So how do I retrieve the current user location from the mapview then? Region or Location (what&#39;s the difference here, anyways?) don&#39;t seem right.</p>
<p>I can&#39;t find another undocumented feature. So how do I implement an application correctly when mapView.userlocation is always set to Cupertino but getUserLocation() gives me a different spot … while testing I&#39;d always had to deal with two different coordinate sets.</p>
<p>Or would you recommend to rely always on getUserLocation() and forget about mapView.userLocation ?</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="September 29th 2011, 5:12:16 am">September 29th 2011</span>
								by <span class='authorname'>Wolfgang Loske</span><br>
								<a class="icon-bg icon-link" href="question/126147/getuserlocation-vs-mapviewuserlocation-in-simulator#answer-219773" rel="permalink">permalink</a>
							</div>

							<h5>6 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Thats just how apple does it sadly, however they did fix this in Xcode 4.2, and allow the developer to set their own location. 4.2 will soon be released as GA and this will soon be supported by Titanium.</p>
<p>For now, I get the value from the map, but I do a check for if I am in the simulator and if so change the value… </p>
<p>Again I am sorry for how frustrating this is for you, but sadly its out of our control.</p>
</p>
										<div class="author">
											&mdash; commented <span title="September 29th 2011, 11:59:06 am">September 29th 2011</span>
											by <span class='authorname'>Matt Apperson</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Thanks for getting back to me on that … </p>
<p>Is it still right that getCurrentPosition() returns the correct location? </p>
<p>Sorry for asking this again but I am so confused that location services are available through one method but are restricted in another …</p>
</p>
										<div class="author">
											&mdash; commented <span title="September 29th 2011, 1:49:05 pm">September 29th 2011</span>
											by <span class='authorname'>Wolfgang Loske</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Well… it is based on your IP address… so its not fixed to Cupertino, but its not always correct ether.</p>
</p>
										<div class="author">
											&mdash; commented <span title="September 29th 2011, 1:52:04 pm">September 29th 2011</span>
											by <span class='authorname'>Matt Apperson</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Again, thats an Apple thing, not a Titanium thing though…</p>
</p>
										<div class="author">
											&mdash; commented <span title="September 29th 2011, 1:53:06 pm">September 29th 2011</span>
											by <span class='authorname'>Matt Apperson</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I understand. Wasn&#39;t blaming that on Titanium anyways … speaking of that: updated API docs when? … ;-) … mapview.setLocation() is missing </p>
<p>So what would you recommend how I should implement this. What I need is a reliable way to retrieve the current location of the user, show that on a map and pins some annotaitons next to him.</p>
<p>If I need to I&#39;d abandon mapView.userLocation and set a pin @ getCurrentPosition() …</p>
</p>
										<div class="author">
											&mdash; commented <span title="September 29th 2011, 1:58:39 pm">September 29th 2011</span>
											by <span class='authorname'>Wolfgang Loske</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>if the simulator is a must… then I&#39;d abandon mapView.userLocation and set a pin @ getCurrentPosition()</p>
<p>As for API docs, we are very actively working on it.</p>
</p>
										<div class="author">
											&mdash; commented <span title="September 29th 2011, 2:00:26 pm">September 29th 2011</span>
											by <span class='authorname'>Matt Apperson</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-219834">
				
						<section>
							<p>Thanks for helping! Simulator is a must in terms of testing. How do I retrieve the userLocation through the map view? Which property do I need to read out the receive lon&#x2F;lat or would that be through getCurrentPosition and in live mode those would reliably the same?</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="September 29th 2011, 2:06:59 pm">September 29th 2011</span>
								by <span class='authorname'>Wolfgang Loske</span><br>
								<a class="icon-bg icon-link" href="question/126147/getuserlocation-vs-mapviewuserlocation-in-simulator#answer-219834" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>In live mode, getCurrentPosition would be the same, and I would go with that.</p>
</p>
										<div class="author">
											&mdash; commented <span title="September 30th 2011, 12:12:41 pm">September 30th 2011</span>
											by <span class='authorname'>Matt Apperson</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
