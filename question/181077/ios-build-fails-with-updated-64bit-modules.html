<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>iOS Build Fails with Updated 64bit Modules Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>iOS Build Fails with Updated 64bit Modules</h1>
		</header>
		<section>
			<p>I recently updated two iOS modules to comply with the new x64 architecture requirement. They build just fine in both Xcode as well as when running the build.py script. When running lipo -info on the modules it returns armv7 i386 x86_64 arm64. I&#39;ve also run the ti-64 tool on my project and it shows all modules as green. However, when I try to build my application in Titanium Studio (3.5.0.GA) with either module referenced, I get the following error:</p>
<pre><code class="hljs"><span class="hljs-list">[<span class="hljs-keyword">INFO</span>] :   Invoking xcodebuild
<span class="hljs-list">[<span class="hljs-keyword">ERROR</span>] :  <span class="hljs-number">2015</span><span class="hljs-number">-02</span><span class="hljs-number">-24</span> <span class="hljs-number">14</span>:50:11.495 xcodebuild<span class="hljs-list">[<span class="hljs-keyword">3204:48468</span>]  DeveloperPortal: Using pre-existing current store at URL <span class="hljs-list">(<span class="hljs-keyword">file:///Users/cao/Library/Developer/Xcode/DeveloperPortal%206.1.1.db</span>)</span>.
<span class="hljs-list">[<span class="hljs-keyword">ERROR</span>] :  ** BUILD FAILED **
<span class="hljs-list">[<span class="hljs-keyword">ERROR</span>] :  The following build commands failed:
<span class="hljs-list">[<span class="hljs-keyword">ERROR</span>] :      Ld build/MyApp.build/Debug-iphonesimulator/MyApp-universal.build/Objects-normal/x86_64/MyApp normal x86_64
<span class="hljs-list">[<span class="hljs-keyword">ERROR</span>] :  <span class="hljs-list">(<span class="hljs-keyword">1</span> failure)</span></span></span></span></span></span></span></span>
</code></pre><p>Likewise, if I try to build on an actual device I get</p>
<pre><code class="hljs"><span class="hljs-list">[<span class="hljs-keyword">INFO</span>] :   Invoking xcodebuild
<span class="hljs-list">[<span class="hljs-keyword">DEBUG</span>] :  Removing empty directories
<span class="hljs-list">[<span class="hljs-keyword">INFO</span>] :   Image optimization complete
<span class="hljs-list">[<span class="hljs-keyword">ERROR</span>] :  ** BUILD FAILED **
<span class="hljs-list">[<span class="hljs-keyword">ERROR</span>] :  The following build commands failed:
<span class="hljs-list">[<span class="hljs-keyword">ERROR</span>] :      Ld build/MyApp.build/Debug-iphoneos/MyApp-universal.build/Objects-normal/arm64/MyApp normal arm64
<span class="hljs-list">[<span class="hljs-keyword">ERROR</span>] :  <span class="hljs-list">(<span class="hljs-keyword">1</span> failure)</span></span></span></span></span></span></span></span>
</code></pre><p>If anyone has any ideas I would appreciate it.</p>
<p>Thanks</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="February 24th 2015, 6:05:12 pm">February 24th 2015</span>
				by <span class='authorname'>Jack Wilson</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>build</span></li>
					
						<li><span class='tagname'>ios</span></li>
					
						<li><span class='tagname'>module</span></li>
					
						<li><span class='tagname'>x64</span></li>
					
				</ul>
			

			<section>
				<h5>6 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Did you browse up through the build logs to see WHY they wont link?</p>
</div>
							<div class="author">
								&mdash; commented <span title="March 6th 2015, 2:13:46 pm">March 6th 2015</span>
								by <span class='authorname'>Stephen Feather</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>I keep getting this and it&#39;s infuriating. </p>
<p>It&#39;s definitely down to modules. Sometimes it seems to work if I create a new module with the same name and duplicate code from a githup repo.  </p>
<p>I&#39;m trying to use <a href="https:&#x2F;&#x2F;github.com&#x2F;appcelerator-modules&#x2F;ti.facebook&#x2F;releases">the latest release of the Facebook module</a> and it&#39;s throwing the DeveloperPortal error when I try to build.</p>
</div>
							<div class="author">
								&mdash; commented <span title="March 8th 2015, 4:27:53 pm">March 8th 2015</span>
								by <span class='authorname'>Kosso</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>I had no problem getting the Facebook 4.0.0 module working with Ti 3.5.1.RC. I assume the GA build that&#39;s out now will work, too.</p>
<p>If you don&#39;t tell us which modules, it&#39;s hard to help. Also, like Stephen said, whatever the build logs say would be helpful.</p>
</div>
							<div class="author">
								&mdash; commented <span title="March 8th 2015, 8:41:03 pm">March 8th 2015</span>
								by <span class='authorname'>Shannon Hicks</span>
							</div>
						</li>
					
						<li class="comment">
							<div><pre><code class="hljs">I <span class="hljs-preprocessor">keep</span> getting this <span class="hljs-keyword">and </span><span class="hljs-keyword">it's </span>infuriating.
</code></pre><p>And you STILL haven&#39;t gone through the logs to see why its failing.  Just keep harping on the last message you see.</p>
<p>Unsubscribing as I only help those that listen.</p>
</div>
							<div class="author">
								&mdash; commented <span title="March 9th 2015, 12:05:47 am">March 9th 2015</span>
								by <span class='authorname'>Stephen Feather</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>I resolved copying the facebook module,<br>from:   &#x2F;&#x2F;Librery&#x2F;Application Support&#x2F;Titanium&#x2F;modules&#x2F;iphone&#x2F;facebook<br>to:  &#x2F;&#x2F;User&#x2F;userName&#x2F;Librery&#x2F;Application Support&#x2F;Titanium&#x2F;modules&#x2F;iphone&#x2F;facebook</p>
</div>
							<div class="author">
								&mdash; commented <span title="April 14th 2015, 5:14:54 am">April 14th 2015</span>
								by <span class='authorname'>Claudio Ruggeri</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Thanks Stephen (not that you&#39;re listening any more). But when building the modules or the app, there&#39;s nothing in the logs to say what&#39;s not working, or why. </p>
<p>This is why it&#39;s infuriating.  See?</p>
<p>I think modules built with older versions of Titanium Studio seem to be at fault. Since the only way I&#39;ve been able to resolve is to rebuild a brand new module product from scratch (using Ti 3.5.0+) and carefully copy over classes etc. </p>
<p>The error doesn&#39;t show until the app tries to run, saying it can&#39;t find the right architecture, as above.</p>
<p>I&#39;ve had this happen with many, many modules since having to support 64bit. I&#39;ve still had no luck working out what the &#39;DeveloperPortal.db&#39; has to do with it, or what it means.</p>
</div>
							<div class="author">
								&mdash; commented <span title="April 19th 2015, 2:17:12 pm">April 19th 2015</span>
								by <span class='authorname'>Kosso</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-286373">
				
						<section>
							<p>There&#39;s probably an easier way to do this, but if you go to the build folder for the Titanium iOS project, and open the project in Xcode and build from there, it will give you a more detailed reason for why the build is failing. In my case it was because of a framework not built with the x64 architecture. Updating your third-party frameworks to their latest versions (assuming they have active development) should resolve this issue</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="March 9th 2015, 11:23:50 am">March 9th 2015</span>
								by <span class='authorname'>Jack Wilson</span><br>
								<a class="icon-bg icon-link" href="../../question/181077/ios-build-fails-with-updated-64bit-modules.html#answer-286373" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
