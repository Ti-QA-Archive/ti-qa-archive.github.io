<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Transform Issues » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Transform Issues</h1>
		</header>
		<section>
			<p>Hi,</p>
<p>I have a camera image that I&#39;m trying to force into a portrait orientation.  Here is some code</p>
<pre><code class="hljs">
            var iView = Ti.UI.createImageView({
                    <span class="hljs-built_in">image</span>:event.media,
                    visible:<span class="hljs-keyword">false</span>,

                    <span class="hljs-variable">height</span>:<span class="hljs-string">'auto'</span>,
                    <span class="hljs-variable">width</span>:<span class="hljs-string">'auto'</span>
                });    
                parentWin.<span class="hljs-built_in">add</span>(iView);
                Ti.API.info(<span class="hljs-string">"Size "</span>+iView.toImage().<span class="hljs-variable">height</span>+<span class="hljs-string">' '</span>+iView.toImage().<span class="hljs-variable">width</span>);
            <span class="hljs-comment">//    if (iView.toImage().width&gt;iView.toImage().height){</span>
                    Ti.API.info(<span class="hljs-string">"Rotating"</span>);
                    var t = Ti.UI.create2DMatrix(); 
                      t = t.<span class="hljs-built_in">rotate</span>(<span class="hljs-number">90</span>);
                      iView.transform=t;
                      Ti.API.info(<span class="hljs-string">"Size "</span>+iView.toImage().<span class="hljs-variable">height</span>+<span class="hljs-string">' '</span>+iView.toImage().<span class="hljs-variable">width</span>);
          <span class="hljs-comment">//        }</span>

                    var f = Ti.Filesystem.getFile(Ti.Filesystem.applicationDataDirectory,fname);
                    <span class="hljs-keyword">if</span> (AppUtil.isAndroid()){
                        ImageFactory.compressToFile(iView.toBlob(),<span class="hljs-number">.5</span>,f.getNativePath());
                    } <span class="hljs-keyword">else</span> {
                        newImg = ImageFactory.compress(iView.toBlob(),<span class="hljs-number">.5</span>);
                        f.write(newImg);
                    }
</code></pre><p>On the screen I see the rotated image, however, both the info logs and the file written appear to NOT be transformed.  Both info lines show the same dimensions!?!? It makes me wonder if the transform occurs asynchronously to this code?  Please help, it&#39;s driving me nuts.</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="February 2nd 2012, 8:38:22 pm">February 2nd 2012</span>
				by <span class='authorname'>Frank A</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-229269">
				
						<section>
							<p>How about moving second Size log to the end of above code - after storing image?</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="February 2nd 2012, 8:59:04 pm">February 2nd 2012</span>
								by <span class='authorname'>Minh Nguyen</span><br>
								<a class="icon-bg icon-link" href="question/131572/transform-issues#answer-229269" rel="permalink">permalink</a>
							</div>

							<h5>2 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Well the storing of the image is also not storing the transformed image so that really won&#39;t prove anything either way.  I&#39;m trying to understand what the expected behavior is as trial and error has been inconclusive.</p>
</p>
										<div class="author">
											&mdash; commented <span title="February 2nd 2012, 10:03:37 pm">February 2nd 2012</span>
											by <span class='authorname'>Frank A</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>What I&#39;ve noticed so far is that after the transform the height and width doesn&#39;t change, even if the transform works.</p>
</p>
										<div class="author">
											&mdash; commented <span title="February 3rd 2012, 12:44:51 am">February 3rd 2012</span>
											by <span class='authorname'>Frank A</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
