<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Android HTTPClient cannot download  a file --&gt; No space left on device » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Android HTTPClient cannot download  a file --&gt; No space left on device</h1>
		</header>
		<section>
			<p>Hi, </p>
<p>I am trying to download a tiny file using the Android emulator (Google API 2.2)…<br>Yesterday everything was working….but today when I took  and made some tiny changes in my code…downloading a file using the HTTPClient doesn&#39;t work anymore….</p>
<p>Whatever I did, and even after going to my &quot;old&quot; and previously working code, I still get the same error…after the code calls &quot;xhr.send()&quot;…it leads to <strong>Wrapped java.io.IOException: No space left on device</strong>…</p>
<p>I did everything proposed on previous posts, such as :</p>
<ul>
<li>remove all emulators</li>
<li>remove the &#x2F;build&#x2F;android folder contents</li>
<li>touch tiapp.xml (force rebuild)</li>
<li>remove &#x2F;tmp&#x2F;android folder content (on Mac OS X)</li>
<li>install new emulator</li>
</ul>
<p>And nothing worked…..<br>And to mention that the file I try to download is 549Kb…so not a big deal in terms of space…therefore there is an issue somewhere but I cannot find it…</p>
<p>One more time, the download and save to applicationData worked yesterday….I simply quit and restarted the emulator and it worked no more…</p>
<p>Any advice, help, tricks ???</p>
<p>Thanks for your help !!</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="May 19th 2011, 8:56:20 am">May 19th 2011</span>
				by <span class='authorname'>abbdoul ab</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>download</span></li>
					
						<li><span class='tagname'>emulator</span></li>
					
						<li><span class='tagname'>error</span></li>
					
						<li><span class='tagname'>exception</span></li>
					
						<li><span class='tagname'>httpclient</span></li>
					
						<li><span class='tagname'>left</span></li>
					
						<li><span class='tagname'>no</span></li>
					
						<li><span class='tagname'>space</span></li>
					
						<li><span class='tagname'>xhr</span></li>
					
				</ul>
			

			<section>
				<h5>2 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Don&#39;t know the reason, but I removed manually encountered within the emulator using the <strong>adb-e shell</strong> command every temporary files, or every folder linked to my application…<br>And now, it works again…(but for how long, we will see…)</p>
</div>
							<div class="author">
								&mdash; commented <span title="May 19th 2011, 10:31:04 am">May 19th 2011</span>
								by <span class='authorname'>abbdoul ab</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Ah lalala, I read myself again….and my first sentence is not easy to read..:D I wanted to say I removed manually everything I encountered&#x2F;found within the emulator linked to my project (or which had my project name….)</p>
</div>
							<div class="author">
								&mdash; commented <span title="May 19th 2011, 10:35:00 am">May 19th 2011</span>
								by <span class='authorname'>abbdoul ab</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>1</span> Vote</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-208166">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>Hi, ok.</p>
<p>here is what I did in order to solve the problem :<br>(Just to mention that the commands are for Mac OS X, and I assume that there should be the equivalent commands for Windows, too)</p>
<ol>
<li>Run the Android Emulator (Google API 2.2 for me)using the AVD Manager</li>
<li>In terminal run <strong> adb -e shell </strong> to get into the emulator filesystem</li>
<li>From there, using <strong> ls -l</strong> command, look the directories and go inside them with <strong> cd &lt;directory name&gt; </strong>…</li>
<li>Remove all the files having <strong>tmp</strong> tag using <strong>rm &lt;fileName&gt; </strong>, remove all files and folders having your Titanium application id ** rm -R &lt;folderName&gt;</li>
</ol>
<p>If I did not forgot some, here are the list of folders I looked in (absolute path from root) :</p>
<ul>
<li>&#x2F;sdcard</li>
<li>&#x2F;mnt</li>
<li>&#x2F;data</li>
<li>&#x2F;data&#x2F;local&#x2F;tmp</li>
<li>&#x2F;data&#x2F;app-private</li>
<li>&#x2F;data&#x2F;backup</li>
<li>&#x2F;data&#x2F;data&#x2F;&lt;project ID&gt;</li>
<li>&#x2F;data&#x2F;app&#x2F; —&gt; to remove, &lt;project ID&gt;.apk (your app package) too !</li>
<li>&#x2F;data&#x2F;dalvik-cache&#x2F; —&gt; to remove &lt;data@app@&lt;app ID&gt;.. .dex too !</li>
</ul>
<p>(hope I didn&#39;t forget some)</p>
<p>But mainly remove every tempopy file or file&#x2F;folder linked to your projectID !</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="May 20th 2011, 6:58:46 am">May 20th 2011</span>
								by <span class='authorname'>abbdoul ab</span><br>
								<a class="icon-bg icon-link" href="question/119893/android-httpclient-cannot-download-a-file----no-space-left-on-device#answer-208166" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>I also think have found the reason I got this problem…<br>I was downloading a file (using httpClient) but was not writing it to a file (that was not what I was testing…)<br>The file I was downloading was 40Mb…I did this several times…</p>
<p>I thought that the emulator will dump this download file from the memory (since I am not using it), but it seems it was not the case, and therefore the device was filled with these downloaded files (not written and used files)….until no more space left…</p>
<p>What is even more weirdo, is that these <strong>dump files</strong> are so persistent, that even after removing and creating new emulators, they were still present….therefore I had to do a full cleanup using the terminal…</p>
<p>For those interested the only thing I missed (causing memory filling) was to use the <strong>file.write(this.responseData)</strong> in <strong>xhr.onload</strong>….</p>
<p>Hope it will help you if you face the same problem !</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 20th 2011, 7:04:46 am">May 20th 2011</span>
											by <span class='authorname'>abbdoul ab</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>3</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-208143">
				
						<section>
							<p>If you would please write the answer to your issue in the answers section rather then the comment, that would be helpful. This will allow me to mark you as having found the correct answer (giving you rep points on the Q&#x2F;A board) as well as helping other users down the road with the same issue.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="May 19th 2011, 7:55:05 pm">May 19th 2011</span>
								by <span class='authorname'>Matt Apperson</span><br>
								<a class="icon-bg icon-link" href="question/119893/android-httpclient-cannot-download-a-file----no-space-left-on-device#answer-208143" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
