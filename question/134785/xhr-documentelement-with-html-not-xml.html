<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>XHR documentElement with HTML not XML » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>XHR documentElement with HTML not XML</h1>
		</header>
		<section>
			<p>Hi I&#39;m trying to get the content on an HTML document to manipulate but am having problems using documentElement.</p>
<p>Is that only available when working with XML? If so, is there a way to do anything similar when fetch from an HTML webpage?</p>
<p>Here is my code:</p>
<pre><code class="hljs">var xhr = Ti.Network.createHTTPClient();
xhr.onload = function(){
if (this.status == <span class="hljs-number">200</span>) {
    var doc = this.responseText;
    var result = doc.documentElement;
}
};
xhr.open(<span class="hljs-string">"<span class="hljs-keyword">GET</span>"</span>,<span class="hljs-string">"DOMAIN_NAME"</span>);
xhr.send();
</code></pre><p>the variable <code>doc</code> returns the contents of the website ok, but when I use <code>doc.documentElement</code> the variable <code>result</code> is empty, so using getElementsByID or anything else similar won&#39;t find anything.</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="April 2nd 2012, 10:33:41 am">April 2nd 2012</span>
				by <span class='authorname'>Luke Peek</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>iphone</span></li>
					
						<li><span class='tagname'>network</span></li>
					
						<li><span class='tagname'>xhr</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>3</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>3 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-235019">
				
						<section>
							<p>You can always use WebView component. :)</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="April 2nd 2012, 10:44:09 am">April 2nd 2012</span>
								by <span class='authorname'>Ivan Škugor</span><br>
								<a class="icon-bg icon-link" href="question/134785/xhr-documentelement-with-html-not-xml#answer-235019" rel="permalink">permalink</a>
							</div>

							<h5>2 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Thanks Ivan, I really want to get the content so I can manipulate it within the app, not just display the webpage. Thanks though!</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 2nd 2012, 12:42:36 pm">April 2nd 2012</span>
											by <span class='authorname'>Luke Peek</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Well … I was suggesting that. :)</p>
<p>Create WebView (don&#39;t add it to the window!) and use standard DOM methods to get what you want from HTML and then transfer that data to the rest of your app by using app-level events.</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 2nd 2012, 12:47:15 pm">April 2nd 2012</span>
											by <span class='authorname'>Ivan Škugor</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-235029">
				
						<section>
							<p>HI,</p>
<p>i suppose <code>this.responseTest</code> returns string.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="April 2nd 2012, 11:38:13 am">April 2nd 2012</span>
								by <span class='authorname'>Satta Ravi</span><br>
								<a class="icon-bg icon-link" href="question/134785/xhr-documentelement-with-html-not-xml#answer-235029" rel="permalink">permalink</a>
							</div>

							<h5>7 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Hi Sattanaathan, Yes there is a valid response, (this is the contents on the entire html document)</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 2nd 2012, 12:40:40 pm">April 2nd 2012</span>
											by <span class='authorname'>Luke Peek</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Hi Luke,</p>
<p>i got one question, why do you wanna do a DOM operation on a String?</p>
<p>My bet would be to parse the string to strip out the data thats needed drive your app.</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 2nd 2012, 2:38:45 pm">April 2nd 2012</span>
											by <span class='authorname'>Satta Ravi</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>That is what HTML parser does. :P</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 3rd 2012, 5:47:00 am">April 3rd 2012</span>
											by <span class='authorname'>Ivan Škugor</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Ok thanks! I don&#39;t particularly want to do anything DOM, I know thats not possible. but in all the examples ive seen (including kitchensink) the way to process XML feeds is using these DOM operations. I thought I would ask if it was possible on HTML instead of XML.</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 3rd 2012, 6:09:54 am">April 3rd 2012</span>
											by <span class='authorname'>Luke Peek</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>If you want to process XML feed, then you can use XML parser (Ti.XML.parseString method) to get XML document and then use DOM methods to extract information you need. It really depends on what do you get from web service. If you&#39;re getting HTML (which can be malformed XML), then you can&#39;t use XML parser.</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 3rd 2012, 6:16:57 am">April 3rd 2012</span>
											by <span class='authorname'>Ivan Škugor</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Hi Ivan, thanks for that! I meant that I was to do something similar with HTML, not XML. What i&#39;m doing is getting the news page from a website (there is no XML feed available) and I need to strip out all the un-needed html and return all the news tags.</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 3rd 2012, 6:20:20 am">April 3rd 2012</span>
											by <span class='authorname'>Luke Peek</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>You might to do that with simple regular expression. But that really depends on structure of that, whatever you&#39;re getting from news page :D</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 3rd 2012, 7:12:18 am">April 3rd 2012</span>
											by <span class='authorname'>Ivan Škugor</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-235094">
				
						<section>
							<p>Ok thanks! I don&#39;t particularly want to do anything DOM, I know thats not possible. but in all the examples ive seen (including kitchensink) the way to process XML feeds is using these DOM operations. I thought I would ask if it was possible on HTML instead of XML.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="April 3rd 2012, 6:09:39 am">April 3rd 2012</span>
								by <span class='authorname'>Luke Peek</span><br>
								<a class="icon-bg icon-link" href="question/134785/xhr-documentelement-with-html-not-xml#answer-235094" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Sorry! Mean&#39;t to post as a reply, not an answer.</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 3rd 2012, 6:10:09 am">April 3rd 2012</span>
											by <span class='authorname'>Luke Peek</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
