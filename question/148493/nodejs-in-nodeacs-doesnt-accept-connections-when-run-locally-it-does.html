<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>node.js in Node.ACS doesn&#39;t accept connections, when run locally it does » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>node.js in Node.ACS doesn&#39;t accept connections, when run locally it does</h1>
		</header>
		<section>
			<p>When I run my simple mode.js chat app via the &#39;acs run&#39; command, I am able to connect to it via the Titanium client I&#39;ve written, and everything works as expected. When I publish the app (via acs publish), and change the URL in the titanium client to connect to it rather than 127.0.0.1, the connection is never established. It looks like Node.ACS isn&#39;t executing the start() function which my app exports (no &#39;starting&#39; line in the console), but when run locally it does execute it. Are there limitations on which port the server can listen to? How can I debug the server running on Node.ACS?</p>
<p>When I run &#39;acs logcat&#39;, the output is mostly memory errors, with only a single line indicating my app was run.</p>
<pre><code class="hljs"><span class="hljs-number">02</span>/<span class="hljs-number">20</span>/<span class="hljs-number">2013</span> <span class="hljs-number">03</span>:<span class="hljs-number">15</span>:<span class="hljs-number">017.110</span> [DEBUG] [<span class="hljs-number">31086</span>] ------------ Run Free App ------------
<span class="hljs-number">02</span>/<span class="hljs-number">20</span>/<span class="hljs-number">2013</span> <span class="hljs-number">03</span>:<span class="hljs-number">15</span>:<span class="hljs-number">030.566</span> [WARN] [<span class="hljs-number">31086</span>] Warning: high memory consumption. System memory usage: <span class="hljs-number">90.29</span>%
<span class="hljs-number">02</span>/<span class="hljs-number">20</span>/<span class="hljs-number">2013</span> <span class="hljs-number">03</span>:<span class="hljs-number">15</span>:<span class="hljs-number">042.533</span> [WARN] [<span class="hljs-number">31086</span>] Warning: high memory consumption. System memory usage: <span class="hljs-number">90.42</span>%
</code></pre><p>Here is the package.json I am using,</p>
<pre><code class="hljs">{
"<span class="hljs-attribute">name</span>":<span class="hljs-value"><span class="hljs-string">"Whats-That-Smell-server"</span></span>,
"<span class="hljs-attribute">version</span>": <span class="hljs-value"><span class="hljs-string">"0.0.1"</span></span>,
"<span class="hljs-attribute">author</span>": <span class="hljs-value"><span class="hljs-string">"john &lt;aumkara@gmail.com&gt;"</span></span>,
"<span class="hljs-attribute">description</span>": <span class="hljs-value"><span class="hljs-string">"whats that smell game server"</span></span>,
"<span class="hljs-attribute">main</span>":<span class="hljs-value"><span class="hljs-string">"./game"</span></span>,
"<span class="hljs-attribute">license</span>": <span class="hljs-value"><span class="hljs-string">"MIT"</span></span>,
"<span class="hljs-attribute">framework</span>":<span class="hljs-value"><span class="hljs-string">"none"</span>
</span>}
</code></pre><p>my app in .&#x2F;game.js<br>(https:&#x2F;&#x2F;gist.github.com&#x2F;coyotebringsfire&#x2F;4991432)</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> io = <span class="hljs-built_in">require</span>(<span class="hljs-string">'socket.io'</span>).listen(<span class="hljs-number">8888</span>);
<span class="hljs-keyword">var</span> nodeJsSocket;
...
some callback definitions
...
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">start</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"starting"</span>);
    <span class="hljs-keyword">var</span> game = io.of(<span class="hljs-string">'/game'</span>);
    game.on(<span class="hljs-string">'connection'</span>, onConnectionCB);
};

exports.start=start;
</code></pre><ul>
<li>Application type: node.js, mobile</li>
<li>Titanium SDK: 3.0.2.v20130201161712</li>
<li>Platform &amp; version: iOS 6.1, OSX 8.2</li>
<li>Device: iOS simulator, iPhone4</li>
<li>Host Operating System: Node.ACS</li>
<li>Titanium Studio: 3.0.1.201212181159</li>
</ul>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="February 19th 2013, 10:15:16 pm">February 19th 2013</span>
				by <span class='authorname'>John Davis</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>iphone</span></li>
					
						<li><span class='tagname'>mobile</span></li>
					
						<li><span class='tagname'>node.acs</span></li>
					
						<li><span class='tagname'>node.js</span></li>
					
						<li><span class='tagname'>osx</span></li>
					
				</ul>
			

			<section>
				<h5>2 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>hi john, did you get an answer from anyone at Appcelerator on this ? appears i am having exact same issue. runs fine on localhost - but after publishing to nodeacs and using the given URL in my app - no longer works.</p>
</div>
							<div class="author">
								&mdash; commented <span title="March 18th 2013, 10:08:04 am">March 18th 2013</span>
								by <span class='authorname'>Angus Johnston</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>you have solved? I have the same problem.</p>
<p>thank&#39;s.</p>
</div>
							<div class="author">
								&mdash; commented <span title="April 16th 2014, 5:27:26 am">April 16th 2014</span>
								by <span class='authorname'>Rocco Luca Tallarita</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>0</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>0 Answers</h3>

	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
