<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Use Global variables in alloy » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Use Global variables in alloy</h1>
		</header>
		<section>
			<p>I need to use some values in different views, I try to do that but doesn&#39;t work:</p>
<p>login.js<br>….<br>Alloy.Globals.parent = response.name;<br>….</p>
<p>and in other controller &quot;logout.js&quot;</p>
<p>….<br>var parent= Alloy.Globals.parent;<br>alert (parent);<br>….</p>
<p>Someone can help me?</p>
<p>Thanks !!!</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="May 25th 2014, 12:11:14 pm">May 25th 2014</span>
				by <span class='authorname'>Marc Roma</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>alloy</span></li>
					
				</ul>
			

			<section>
				<h5>1 Comment</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>@Marc Roma; you have appeared to accept an answer for this question before I had chance to point out how wrong it was.</p>
<p>Which you choose and how you prefer your app to function is entirely up to you.  However the answer you chose <em>Please you can check the following example. I hope it will help you to use Global Variable in Alloy</em> is the exact opposite way of solving your problem.  </p>
<p>The way it uses globals is so wrong I had to spend time explaining exactly how many problems there were with this answer.  Your app will NOT be better for using this technique, if this approach is used now you will not learn until it is too late what an error you made.</p>
</div>
							<div class="author">
								&mdash; commented <span title="May 25th 2014, 3:09:02 pm">May 25th 2014</span>
								by <span class='authorname'>Malcolm Hollingsworth</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>1</span> Vote</div>
			<div class="answers"><span>3</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>3 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-279037">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>Hi,</p>
<p>Please you can check the following example. I hope it will help you to use Global Variable in Alloy</p>
<p>index.xml</p>
<pre><code class="hljs"><span class="hljs-tag">&lt;<span class="hljs-title">Alloy</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">Window</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"container"</span> <span class="hljs-attribute">layout</span>=<span class="hljs-value">"vertical"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">TextField</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"txt1"</span> <span class="hljs-attribute">top</span>=<span class="hljs-value">"10"</span> <span class="hljs-attribute">width</span>=<span class="hljs-value">"200"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">TextField</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">TextField</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"txt2"</span> <span class="hljs-attribute">top</span>=<span class="hljs-value">"10"</span> <span class="hljs-attribute">width</span>=<span class="hljs-value">"200"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">TextField</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">Button</span> <span class="hljs-attribute">title</span>=<span class="hljs-value">"Click"</span> <span class="hljs-attribute">onClick</span>=<span class="hljs-value">"doClick"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">Button</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">Window</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">Alloy</span>&gt;</span>
</code></pre><p>index.js</p>
<pre><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">doClick</span>(<span class="hljs-params">e</span>) </span>{
    <span class="hljs-keyword">var</span>  username = $.txt1.value;
    <span class="hljs-keyword">var</span>  password = $.txt2.value;
    Alloy.Globals.credentials ={
       username : username,
       password : password
   };
   <span class="hljs-keyword">var</span> getwin = Alloy.createController(<span class="hljs-string">"showValue"</span>).getView().open();
} 

$.index.open();
</code></pre><p>showValue.xml</p>
<pre><code class="hljs"><span class="hljs-tag">&lt;<span class="hljs-title">Alloy</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">Window</span> <span class="hljs-attribute">backgroundColor</span>=<span class="hljs-value">"green"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">Window</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">Alloy</span>&gt;</span>
</code></pre><p>showValue.js</p>
<pre><code class="hljs"><span class="hljs-variable"><span class="hljs-keyword">var</span> uName</span> =  Alloy.Globals.credentials.username;
<span class="hljs-variable"><span class="hljs-keyword">var</span> pass</span> =  Alloy.Globals.credentials.password;

alert(uName+'  '+pass);
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="May 25th 2014, 2:12:05 pm">May 25th 2014</span>
								by <span class='authorname'>Amimul Hossain</span><br>
								<a class="icon-bg icon-link" href="question/174511/use-global-variables-in-alloy#answer-279037" rel="permalink">permalink</a>
							</div>

							<h5>2 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Works perfect, thanks</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 25th 2014, 2:59:13 pm">May 25th 2014</span>
											by <span class='authorname'>Marc Roma</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Using globals to pass data to another function - especially one you are immediately about to call is an improper use of globals.</p>
<p>Your specific example defines a login process.  As you are not using properties to store them it appears you have no use for them after <strong>shoeValue.js</strong> has completed.</p>
<p>Your need to pass data from the text fields to the new controller is normall - but I am going to show you how to do this the correct way;</p>
<p>index.js</p>
<pre><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">doClick</span>(<span class="hljs-params">e</span>) </span>{
   Alloy.createController(<span class="hljs-string">"showValue"</span>, {
       username:  $.txt1.value,
       password:  $.txt2.value
   }).getView().open();
}  
$.index.open();
</code></pre><p>I have made several improvements here are the reasons;</p>
<ul>
<li>There is no need to define username or password variables unless your code in that section intends to manipulate the values prior to sending them on</li>
<li>You have NO need to set globals as createController has a second optional parameter that accepts data you wish to pass to the new controller</li>
<li>There is no need to define a variable to hold the resulting window; the window is never altered or interacted with after the window is open.  More importantly the variable will contain the result of the open - not the getView as it is the last in the chain.  So it will not access the window anyway.</li>
<li>I assume the use of txt1 and txt2 was for speed of example - ideally these are always named for function - so username and password, or some variant </li>
</ul>
<p>Now we have to access the data passed inside the controller - that it easy enough.</p>
<p>showValue.js</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> <span class="hljs-keyword">args</span> = arguments[0] || {};

alert(<span class="hljs-keyword">args</span>.username + '  ' + <span class="hljs-keyword">args</span>.password);
</code></pre><p>The data passed to the controller is contained in the first argument variable - this is shortened to args for convenience. </p>
<p>@Amimul Hossain; I do not point these things out to prove you wrong even if that is the result.  But more so you and others who read this afterwards know that your use case has a correct solution.  I hope it helps you in the future.</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 25th 2014, 3:03:25 pm">May 25th 2014</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>-5</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-279036">
				
						<section>
							<p>Hi</p>
<p>Use CommonJS, whilst there is an Alloy.Globals within Alloy it should be used rarely and for only very exceptional circumstances.  </p>
<p>The use of ComnonJS for this process is considered best practice.  I answered a question some time ago that went into how you would use CommonJS for just this purpose &#39;how to set and affect values in one location and be able to do the same in any other location&#39;.</p>
<ul>
<li><a href="http:&#x2F;&#x2F;developer.appcelerator.com&#x2F;question&#x2F;154317&#x2F;global-cart-object">Global Cart Object</a></li>
</ul>
<p>The code provided is details, fully working and explained step-by-step.  For reasons I am still not sure the author of the question was very confrontational right up until he realised he had not been using the code as provided - it happens.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="May 25th 2014, 2:09:47 pm">May 25th 2014</span>
								by <span class='authorname'>Malcolm Hollingsworth</span><br>
								<a class="icon-bg icon-link" href="question/174511/use-global-variables-in-alloy#answer-279036" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>As explained in the many corrections to the answer given by  Amimul Hossain - globals should NEVER be used in such a way.</p>
<p>This is the corrected version of that code;</p>
<p>index.js</p>
<pre><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">doClick</span>(<span class="hljs-params">e</span>) </span>{
   Alloy.createController(<span class="hljs-string">"showValue"</span>, {
       username:  $.username.value, <span class="hljs-comment">// correctly using suitable name</span>
       password:  $.password.value <span class="hljs-comment">// correctly using suitable name</span>
   }).getView().open();
}  
$.index.open();
</code></pre><p>showValues.js</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> <span class="hljs-keyword">args</span> = arguments[0] || {};

alert(<span class="hljs-keyword">args</span>.username + '  ' + <span class="hljs-keyword">args</span>.password)
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="May 25th 2014, 3:12:36 pm">May 25th 2014</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>5</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-279033">
				
						<section>
							<p>Yes, it is possible. Normally I just global variable inside alloy.js</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="May 25th 2014, 1:50:56 pm">May 25th 2014</span>
								by <span class='authorname'>Pye Phyo Han</span><br>
								<a class="icon-bg icon-link" href="question/174511/use-global-variables-in-alloy#answer-279033" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
