<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>tabelvoew Click Values Undefined » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>tabelvoew Click Values Undefined</h1>
		</header>
		<section>
			<p>Hi,</p>
<p>I have been trying for several days by dissecting samples and reading posts to find an answer to no avail, basically the values from my Click are always undefined. See code below</p>
<p>The data is displayed perfectly, I just need the values to be pulled so a click will push them through to a details screen.</p>
<p>Cheers</p>
<pre><code class="hljs">
<span class="hljs-keyword">var</span> tableView = Titanium.UI.createTableView({backgroundColor:<span class="hljs-string">'#ffffff'</span>});
<span class="hljs-keyword">var</span> xhr = Titanium.Network.createHTTPClient();
xhr.open(<span class="hljs-string">"GET"</span>,<span class="hljs-string">"http://www.website.co.uk/json.ashx?CID=3"</span>);

xhr.onload = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)
</span>{
    <span class="hljs-keyword">var</span> json = <span class="hljs-built_in">JSON</span>.parse(<span class="hljs-keyword">this</span>.responseText);

        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i=<span class="hljs-number">0</span>; i &lt; json.Product.length; i++) {
            <span class="hljs-keyword">var</span> myRow = Titanium.UI.createTableViewRow();

            <span class="hljs-keyword">var</span> pid = json.Product[i].pid;
            <span class="hljs-keyword">var</span> ref = json.Product[i].ref;
            <span class="hljs-keyword">var</span> prodtitle = json.Product[i].title;
            <span class="hljs-keyword">var</span> price = json.Product[i].Price;

            <span class="hljs-keyword">var</span> prodimg =  Titanium.UI.createImageView({
            url:<span class="hljs-string">'http://www.totes.co.uk/images/product1/'</span> + ref + <span class="hljs-string">'.jpg'</span>,
            width:<span class="hljs-number">70</span>,
            height:<span class="hljs-number">70</span>,
            left:<span class="hljs-number">4</span>,
            top:<span class="hljs-number">2</span>
            });

            <span class="hljs-keyword">var</span> lbltitle = Titanium.UI.createLabel({
            text:prodtitle,
            font:{font:<span class="hljs-string">'Arial'</span>,fontSize:<span class="hljs-number">10</span>,fontWeight:<span class="hljs-string">'bold'</span>},
            color:<span class="hljs-string">'#000000'</span>,
            width:<span class="hljs-string">'150'</span>,
            textAlign:<span class="hljs-string">'left'</span>,
            top:<span class="hljs-number">21</span>,
            left:<span class="hljs-number">90</span>,
            });

            <span class="hljs-keyword">var</span> lblprice =  Titanium.UI.createLabel({
            text:<span class="hljs-built_in">String</span>.formatCurrency(price),
            font:{fontSize:<span class="hljs-number">12</span>,fontWeight:<span class="hljs-string">'bold'</span>},
            color:<span class="hljs-string">'#ff0000'</span>,
            width:<span class="hljs-string">'auto'</span>,
            textAlign:<span class="hljs-string">'left'</span>,
            top:<span class="hljs-number">28</span>,
            left:<span class="hljs-number">250</span>,
            });

            myRow.add(prodimg);
            myRow.add(lbltitle);
            myRow.add(lblprice);

            tableView.appendRow(myRow);

        }    

    tableView.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)
    </span>{
        <span class="hljs-comment">//alert(e.rowData.Price);</span>
    });        

    Titanium.UI.currentWindow.add(tableView);    

};

xhr.send();
</code></pre>
		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="February 24th 2011, 8:04:55 am">February 24th 2011</span>
				by <span class='authorname'>Karl Blackburn</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>mobile</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-202621">
				
						<section>
							<p>Karl</p>
<p>Firstly, there is an outstanding issue with the appendRow method, described in ticket <a href="https:&#x2F;&#x2F;appcelerator.lighthouseapp.com&#x2F;projects&#x2F;32238-titanium-mobile&#x2F;tickets&#x2F;873">#873</a>. Hence, try creating an array of tableViewRows, and creating the table using the <code>data:yourRowArray</code> property.</p>
<p>Otherwise, try the following within your loop:</p>
<pre><code class="hljs">var price = json.Product[i].Price<span class="hljs-comment">;</span>
myRow.Price = price<span class="hljs-comment">;</span>
</code></pre><p>and use the following event listener:</p>
<pre><code class="hljs">tableView.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span>
</span>{
    Ti.API.info(<span class="hljs-string">"e.row.Price = "</span>+e.row.Price);
});
</code></pre><p>Hope one of these helps. :)</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="February 24th 2011, 4:53:06 pm">February 24th 2011</span>
								by <span class='authorname'>Paul Dowsett</span><br>
								<a class="icon-bg icon-link" href="question/115811/tabelvoew-click-values-undefined#answer-202621" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-203031">
				
						<section>
							<p>Hi Paul,</p>
<p>That worked great, after so many hours pulling my hair out I much appreciate it.</p>
<p>In regards to the array data, I have been trying to do this, but am having trouble actually building an array using a databind i.e. pulling in using JSON as before then looping each row, but formatting it seems to be a nightmare.. one example - </p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> d = data = Ti.UI.createPickerRow(<span class="hljs-comment">{title:i,custom_item:i}</span>);
</code></pre><p>This isnt working, how would you format a datarow for an array when looping.</p>
<p>Cheers<br>Karl</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="February 25th 2011, 12:54:41 pm">February 25th 2011</span>
								by <span class='authorname'>Karl Blackburn</span><br>
								<a class="icon-bg icon-link" href="question/115811/tabelvoew-click-values-undefined#answer-203031" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
