<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>the image of clicked row in Tableview dosent change all the time!? » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>the image of clicked row in Tableview dosent change all the time!?</h1>
		</header>
		<section>
			<p>Hi<br>I have faced with a problem in &#39;TableViewRow background image&#39;.<br>I want to change the backgroundimage row for tableview when the row is touched or clicked but it seems that it dosent work all the time.<br>my code is </p>
<pre><code class="hljs"> tableview.addEventListener(<span class="hljs-symbol">'click'</span>, <span class="hljs-keyword">function</span>(e) {

               <span class="hljs-keyword">if</span> (e.row.backgroundImage != <span class="hljs-symbol">'images</span>/rowAfter.png')
               {
                    e.row.backgroundImage = <span class="hljs-symbol">'images</span>/rowAfter.png';
            } <span class="hljs-keyword">else</span> {
                    e.row.backgroundImage = <span class="hljs-symbol">'images</span>/rowBefore.png';
            }

    <span class="hljs-type">Ti</span>.<span class="hljs-type">API</span>.info(e.row.backgroundImage);

    });
</code></pre><p>The problem is that e.row.backgroundImage is &#39;&#39;images&#x2F;rowAfter.png&#39;&#39; but the image dosnt change sometimes !!!<br>maybe i should refresh the tableview i hv tried by tableview.setData(tableview.data), but that one also didnt work properly. is there anyway to solve my problem?<br>thanks</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="April 1st 2013, 7:01:09 am">April 1st 2013</span>
				by <span class='authorname'>Ario Barzan</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>backgroundimage</span></li>
					
						<li><span class='tagname'>not change</span></li>
					
						<li><span class='tagname'>refresh</span></li>
					
						<li><span class='tagname'>tableview</span></li>
					
						<li><span class='tagname'>tableviewrow</span></li>
					
				</ul>
			

			<section>
				<h5>3 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Have you tried the touch event listener instead of click</p>
<p>Thanks&#x2F;</p>
</div>
							<div class="author">
								&mdash; commented <span title="April 1st 2013, 7:13:09 am">April 1st 2013</span>
								by <span class='authorname'>Muhammad Wahhab Mirza</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>yup i did, same</p>
</div>
							<div class="author">
								&mdash; commented <span title="April 1st 2013, 7:13:53 am">April 1st 2013</span>
								by <span class='authorname'>Ario Barzan</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>it really made me crazy, there is no way for multi selection that work properly?</p>
</div>
							<div class="author">
								&mdash; commented <span title="April 1st 2013, 9:33:27 am">April 1st 2013</span>
								by <span class='authorname'>Ario Barzan</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>3</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>3 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-259740">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>hii use this..</p>
<pre><code class="hljs"><span class="hljs-keyword">try</span>{

    var data=[];
    <span class="hljs-keyword">for</span> (var i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i++) {
        data.push(Ti.UI.createTableViewRow({
            <span class="hljs-string">title :</span> <span class="hljs-string">'Row'</span> + i,
            <span class="hljs-string">indx :</span> i,
<span class="hljs-label">            hasCheck:</span><span class="hljs-literal">false</span>,
<span class="hljs-label">            backgroundColor:</span><span class="hljs-string">'red'</span>
        }));
    }
        var dashBordtableView = Titanium.UI.createTableView({
        <span class="hljs-string">right :</span> <span class="hljs-number">10</span>,
        <span class="hljs-string">left :</span> <span class="hljs-number">10</span>,
        <span class="hljs-string">top :</span> <span class="hljs-number">50</span>,
        <span class="hljs-string">zIndex :</span> <span class="hljs-number">100</span>,
        <span class="hljs-string">bottom :</span> <span class="hljs-number">50</span>,
<span class="hljs-label">        data:</span>data,
        <span class="hljs-string">allowsSelection :</span> <span class="hljs-literal">true</span>,
        <span class="hljs-string">allowsSelectionDuringEditing :</span> <span class="hljs-literal">true</span>,
    });
    dashBordtableView.addEventListener(<span class="hljs-string">'click'</span>,function(e){
        <span class="hljs-keyword">if</span>(e.source.hasCheck){
            e.source.hasCheck=<span class="hljs-literal">false</span>;
            e.source.backgroundColor=<span class="hljs-string">'red'</span>;
        }<span class="hljs-keyword">else</span>{
            e.source.hasCheck=<span class="hljs-literal">true</span>;
            e.source.backgroundColor=<span class="hljs-string">'green'</span>;
        }
        <span class="hljs-comment">//selectnorows();</span>
    });

splashwin.add(dashBordtableView);
}<span class="hljs-keyword">catch</span>(e){
    alert(e);
}
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="April 1st 2013, 11:09:39 am">April 1st 2013</span>
								by <span class='authorname'>Vilas kharate</span><br>
								<a class="icon-bg icon-link" href="question/150282/the-image-of-clicked-row-in-tableview-dosent-change-all-the-time#answer-259740" rel="permalink">permalink</a>
							</div>

							<h5>6 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>it works with multiple selection.</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 1st 2013, 11:10:21 am">April 1st 2013</span>
											by <span class='authorname'>Vilas kharate</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I have tried this way before, the problem is that this way is not working always. if u install this code on ur Iphone u will see that sometime the row of table is checked but the background is unchecked!!!<br>i hv tested many solution but non-of them solve my problem yet!</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 2nd 2013, 12:14:39 am">April 2nd 2013</span>
											by <span class='authorname'>Ario Barzan</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>i have checked  above solution on my iphone device it works fine without any problem….</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 2nd 2013, 3:19:39 am">April 2nd 2013</span>
											by <span class='authorname'>Vilas kharate</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Hi Vilas, u r right ur code is working, now i understand the problem is the label that i add to the row, bcos i need to align text at the center, so how can do that? all problems r come from that<br>C my code</p>
<pre><code class="hljs">    for <span class="hljs-list">(<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span><span class="hljs-comment">; i &lt; 10; i++) {</span>
          var newRow =Ti.UI.createTableViewRow<span class="hljs-list">({
                   // title : <span class="hljs-quoted">'Row</span>' + i,
                    indx : i,
                    selected<span class="hljs-keyword">:false</span>,
                    backgroundColor:<span class="hljs-quoted">'red</span>'
                })</span>

                 var sectionLabel = Ti.UI.createLabel<span class="hljs-list">({
                    text: <span class="hljs-quoted">'Row</span>' + i,
                    width:<span class="hljs-number">320</span>,
                    height:<span class="hljs-number">41.5</span>,
                    textAlign: <span class="hljs-quoted">'center</span>'
                })</span><span class="hljs-comment">;</span>
                newRow.add<span class="hljs-list">(<span class="hljs-keyword">sectionLabel</span>)</span><span class="hljs-comment">;    </span>
                  data.push<span class="hljs-list">(<span class="hljs-keyword">newRow</span>)</span><span class="hljs-comment">;</span>
    }</span>
</code></pre><p>when i remove the label it works properly</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 2nd 2013, 3:53:24 am">April 2nd 2013</span>
											by <span class='authorname'>Ario Barzan</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>change table view click event and add &quot;indx : i,selected:false&quot;  properties  to label.</p>
<pre><code class="hljs"><span class="hljs-keyword">try</span>{

    var data=[];
    <span class="hljs-keyword">for</span> (var i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i++) {
        var newRow =Ti.UI.createTableViewRow({
                   <span class="hljs-comment">// title : 'Row' + i,</span>
                    <span class="hljs-string">indx :</span> i,
<span class="hljs-label">                    selected:</span><span class="hljs-literal">false</span>,
<span class="hljs-label">                    backgroundColor:</span><span class="hljs-string">'red'</span>
                })

                 var sectionLabel = Ti.UI.createLabel({
<span class="hljs-label">                    text:</span> <span class="hljs-string">'Row'</span> + i,
<span class="hljs-label">                    width:</span><span class="hljs-number">320</span>,
<span class="hljs-label">                    height:</span><span class="hljs-number">41.5</span>,
<span class="hljs-label">                    textAlign:</span> <span class="hljs-string">'center'</span>,
                    <span class="hljs-string">indx :</span> i,
<span class="hljs-label">                    selected:</span><span class="hljs-literal">false</span>,
                });
                newRow.add(sectionLabel);   
                 data.push(newRow);
    }
        var dashBordtableView = Titanium.UI.createTableView({
        <span class="hljs-string">right :</span> <span class="hljs-number">10</span>,
        <span class="hljs-string">left :</span> <span class="hljs-number">10</span>,
        <span class="hljs-string">top :</span> <span class="hljs-number">50</span>,
        <span class="hljs-string">zIndex :</span> <span class="hljs-number">100</span>,
        <span class="hljs-string">bottom :</span> <span class="hljs-number">50</span>,
<span class="hljs-label">        data:</span>data,
        <span class="hljs-string">allowsSelection :</span> <span class="hljs-literal">true</span>,
        <span class="hljs-string">allowsSelectionDuringEditing :</span> <span class="hljs-literal">true</span>,
    });
    dashBordtableView.addEventListener(<span class="hljs-string">'click'</span>,function(e){
        <span class="hljs-keyword">if</span>(e.source.selected){
            e.source.selected=<span class="hljs-literal">false</span>;
            e.row.backgroundColor=<span class="hljs-string">'red'</span>;
        }<span class="hljs-keyword">else</span>{
            e.source.selected=<span class="hljs-literal">true</span>;
            e.row.backgroundColor=<span class="hljs-string">'green'</span>;
        }
        <span class="hljs-comment">//selectnorows();</span>
    });

splashwin.add(dashBordtableView);
}<span class="hljs-keyword">catch</span>(e){
    alert(e);
}
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="April 2nd 2013, 5:19:02 am">April 2nd 2013</span>
											by <span class='authorname'>Vilas kharate</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Your code has a problem! there are to selected variable and whenever you click on the row or lable the result will be change, but your answer is appreciated bcos you helped me to solve it by external array :) tanks a lot man  </p>
<p>the final code is this now </p>
<pre><code class="hljs"><span class="hljs-keyword">for</span> (var i = <span class="hljs-number">0</span>; i &lt; e.jsonObject.length; i++)
        {
              var row = Ti.UI.createTableViewRow({
                        <span class="hljs-string">hasCheck :</span> <span class="hljs-literal">false</span>,
                        <span class="hljs-string">width :</span> <span class="hljs-number">320</span>,
                        <span class="hljs-string">height :</span> <span class="hljs-number">41.5</span>,                        
                        <span class="hljs-string">backgroundImage :</span> <span class="hljs-string">'images/rowBefore.png'</span>,                                 
                });

                var sectionLabel = Ti.UI.createLabel({
<span class="hljs-label">                    text:</span> <span class="hljs-string">'Row'</span> + i,
<span class="hljs-label">                    width:</span><span class="hljs-number">320</span>,
<span class="hljs-label">                    height:</span><span class="hljs-number">40</span>,
<span class="hljs-label">                    textAlign:</span> <span class="hljs-string">'center'</span>,                
                });
                row.add(sectionLabel);     
                selected.push (<span class="hljs-literal">false</span>);            
                data.push(row);
         }

var dashBordtableView = Titanium.UI.createTableView({
        <span class="hljs-string">right :</span> <span class="hljs-number">10</span>,
        <span class="hljs-string">left :</span> <span class="hljs-number">10</span>,
        <span class="hljs-string">top :</span> <span class="hljs-number">50</span>,
        <span class="hljs-string">zIndex :</span> <span class="hljs-number">100</span>,
        <span class="hljs-string">bottom :</span> <span class="hljs-number">50</span>,
<span class="hljs-label">        data:</span>data
    });

 dashBordtableView.addEventListener(<span class="hljs-string">'click'</span>, function(e) {    
        <span class="hljs-keyword">if</span> ( selected[e.index] == <span class="hljs-literal">false</span> )
         {
             e.source.backgroundImage = <span class="hljs-string">'images/rowAfter.png'</span>;
             selected[e.index] = <span class="hljs-literal">true</span>;
         }

             e.source.backgroundImage = <span class="hljs-string">'images/rowBefore.png'</span>;
             selected[e.index] = <span class="hljs-literal">false</span>;
         }  
   });
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="April 3rd 2013, 5:39:30 am">April 3rd 2013</span>
											by <span class='authorname'>Ario Barzan</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-259725">
				
						<section>
							<p>Hello Ehsan,</p>
<p>in Titanium, WE have a property like <strong>selectedBackgroungImage</strong> for tableview row</p>
<p>Try like this way : </p>
<pre><code class="hljs"><span class="hljs-variable"><span class="hljs-keyword">var</span> row</span> = Ti.UI.createTableViewRow({
    height:<span class="hljs-string">"40dp"</span>,
    backgroundImage:<span class="hljs-string">"l.png"</span>,
    selectedBackgroundImage:<span class="hljs-string">"ll.png"</span>
});
</code></pre><p>Thanks</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="April 1st 2013, 7:19:56 am">April 1st 2013</span>
								by <span class='authorname'>Jigar Maheshwari</span><br>
								<a class="icon-bg icon-link" href="question/150282/the-image-of-clicked-row-in-tableview-dosent-change-all-the-time#answer-259725" rel="permalink">permalink</a>
							</div>

							<h5>6 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Let me know if it works</p>
<p>Thanks</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 1st 2013, 7:38:47 am">April 1st 2013</span>
											by <span class='authorname'>Jigar Maheshwari</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Hi man it seems work but how to do multi seclection? if i select a row i canot select another row at the same time?</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 1st 2013, 8:03:59 am">April 1st 2013</span>
											by <span class='authorname'>Ario Barzan</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>i hv added as u said but i can select only one row !?</p>
<p>var row = Ti.UI.createTableViewRow({<br>                        hasCheck : false,<br>                        width : 320,<br>                        height : 41.5,<br>                        &#x2F;&#x2F;title : e.jsonObject[i].section ,<br>                        sid:e.jsonObject[i].sid,<br>                        backgroundImage : &#39;images&#x2F;rowBefore.png&#39;,<br>                        selectedBackgroundImage : &#39;images&#x2F;rowAfter.png&#39;,<br>                        selected: false<br>                });</p>
<p>tableview.addEventListener(&#39;touchstart&#39;, function(e) {<br>        if ( e.row.selected == false )<br>         {<br>             tableview.selectRow( e.index);<br>             e.row.selected = true;<br>         }<br>         else{<br>             tableview.deselectRow (e.index);<br>             e.row.selected = false;<br>         }<br>    });</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 1st 2013, 8:06:25 am">April 1st 2013</span>
											by <span class='authorname'>Ario Barzan</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Hello Ehsan,</p>
<p>Try below sample code :</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> <span class="hljs-keyword">win</span> = Ti.UI.createWindow({
    height : <span class="hljs-string">"100%"</span>,
    width : <span class="hljs-string">"100%"</span>,
    backgroundColor : <span class="hljs-string">"yellow"</span>
});

<span class="hljs-keyword">var</span> <span class="hljs-keyword">table</span> = Ti.UI.createTableView();
<span class="hljs-keyword">var</span> row = [];
<span class="hljs-keyword">var</span> tabledata = [];
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = 0; i &lt; 5; i++) {
    row[i] = Ti.UI.createTableViewRow({
        isSelected : false,
        width : <span class="hljs-string">"320dp"</span>,
        height : <span class="hljs-string">"50dp"</span>,
        id : i,
        backgroundColor : <span class="hljs-string">"green"</span>
    });

    row[i].addEventListener('click', function(<span class="hljs-keyword">e</span>) {
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">e</span>.source.isSelected == false) {
            row[<span class="hljs-keyword">e</span>.source.id].backgroundColor = <span class="hljs-string">"white"</span>
            row[<span class="hljs-keyword">e</span>.source.id].isSelected = true;
        } <span class="hljs-keyword">else</span> {
            row[<span class="hljs-keyword">e</span>.source.id].backgroundColor = <span class="hljs-string">"green"</span>
            row[<span class="hljs-keyword">e</span>.source.id].isSelected = false;
        }
    });
    tabledata.push(row[i]);
}
<span class="hljs-keyword">table</span>.setData(tabledata);
<span class="hljs-keyword">win</span>.add(<span class="hljs-keyword">table</span>);
<span class="hljs-keyword">win</span>.<span class="hljs-keyword">open</span>();
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="April 1st 2013, 12:19:00 pm">April 1st 2013</span>
											by <span class='authorname'>Jigar Maheshwari</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Let me know if it works.</p>
<p>Thanks</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 1st 2013, 12:19:58 pm">April 1st 2013</span>
											by <span class='authorname'>Jigar Maheshwari</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>have you tried this way.?</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 2nd 2013, 2:48:31 am">April 2nd 2013</span>
											by <span class='authorname'>Jigar Maheshwari</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-259779">
				
						<section>
							<p>try this one…</p>
<pre><code class="hljs">tableview.selectRow(<span class="hljs-number">1</span>);
tableview.selectRow(<span class="hljs-number">4</span>);
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="April 2nd 2013, 2:51:28 am">April 2nd 2013</span>
								by <span class='authorname'>Vilas kharate</span><br>
								<a class="icon-bg icon-link" href="question/150282/the-image-of-clicked-row-in-tableview-dosent-change-all-the-time#answer-259779" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>same bro, only one selection is possible not multi selection</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 2nd 2013, 3:24:38 am">April 2nd 2013</span>
											by <span class='authorname'>Ario Barzan</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
