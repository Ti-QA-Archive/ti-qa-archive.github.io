<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Using jquery to set value of a textbox in WebView » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Using jquery to set value of a textbox in WebView</h1>
		</header>
		<section>
			<p>Hi,</p>
<p>I am loading an external URL using a webview. I would like to use jquery and set a value of a text box, but i have been struggling with it for hours. </p>
<p>here is a sample code:</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> <span class="hljs-keyword">self</span> = Titanium.UI.createWebView({
        top : <span class="hljs-string">'15dp'</span>,
        canGoBack : <span class="hljs-keyword">true</span>
});

<span class="hljs-keyword">var</span> myText = <span class="hljs-string">'Hi there'</span>;

<span class="hljs-keyword">self</span>.addEventListener(<span class="hljs-string">'load'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span> </span>{
    <span class="hljs-keyword">self</span>.evalJS(<span class="hljs-string">"document.getElementById(\"idOfMyTextBox\").value = \""</span>+ myText + <span class="hljs-string">"\”)"</span>);
});
</code></pre><p>This so far doesn&#39;t work!</p>
<p>Do I need to import JQuery to my titanium project? The URL which i am loading is from our server. How can I use JQuery to access elements in the page after it loads? </p>
<p>Thank you.</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="January 31st 2014, 8:18:37 pm">January 31st 2014</span>
				by <span class='authorname'>Ash ESM</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>ios</span></li>
					
						<li><span class='tagname'>jquery</span></li>
					
						<li><span class='tagname'>url</span></li>
					
						<li><span class='tagname'>webview</span></li>
					
				</ul>
			

			<section>
				<h5>2 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>What is the load event is called before the webview is completely loaded? Is there a way to find out when a page is completely loaded?</p>
</div>
							<div class="author">
								&mdash; commented <span title="January 31st 2014, 8:52:09 pm">January 31st 2014</span>
								by <span class='authorname'>Ash ESM</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>sorry i meant what if the load event is called …</p>
</div>
							<div class="author">
								&mdash; commented <span title="January 31st 2014, 8:52:43 pm">January 31st 2014</span>
								by <span class='authorname'>Ash ESM</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>-1</span> Votes</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-274690">
				
						<section>
							<p>As far as I am aware, if you are using a remote url for your webview then the path to your jQuery on that page should still be valid. So if it is pointing at a CDN then you should still have access to jQuery.</p>
<p>As the documentation points out, the &#39;load&#39; eventListener is <em>&#39;fired when the web view content is loaded&#39;</em>, so this would be on success of the loaded content. See here: <a href="http:&#x2F;&#x2F;docs.appcelerator.com&#x2F;titanium&#x2F;latest&#x2F;#!&#x2F;api&#x2F;Titanium.UI.WebView-event-load">Titanium.UI.WebView-event-load</a></p>
<p>I think you should be using <strong>&#39;.val()&#39;</strong> to set the text from your variable.</p>
<pre><code class="hljs"><span class="hljs-keyword">self</span>.evalJS(<span class="hljs-string">"document.getElementById('idOfMyTextBox').val("</span> + myText + <span class="hljs-string">")"</span>);
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="January 31st 2014, 10:11:28 pm">January 31st 2014</span>
								by <span class='authorname'>Luke Taylor</span><br>
								<a class="icon-bg icon-link" href="question/162144/using-jquery-to-set-value-of-a-textbox-in-webview.html#answer-274690" rel="permalink">permalink</a>
							</div>

							<h5>2 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>The value gets updated, but it requires a key event for it to trigger onChange … I set the textbox value and I need that to trigger an event once the value of the textbox has changed. In a normal GUI, once user types in the text in the textbox, only when the user clicks enter or clicks anywhere else, the textbox detects that its text has changed its value. </p>
<p>I can change the value of the text using document.getElementById but that doesn&#39;t trigger key press or the value change.</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 31st 2014, 10:19:05 pm">January 31st 2014</span>
											by <span class='authorname'>Ash ESM</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Without actually testing this myself I am not certain this will work, but maybe the code would be something like so:</p>
<pre><code class="hljs"><span class="hljs-transposed_variable">self.</span>evalJS(<span class="hljs-string">"document.getElementById('</span><span class="hljs-transposed_variable">idOfMyTextBox'</span>).change(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> {</span>
  alert( <span class="hljs-string">"Handler for .change() called."</span> );
});
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="February 1st 2014, 8:59:50 am">February 1st 2014</span>
											by <span class='authorname'>Luke Taylor</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-274688">
				
						<section>
							<p>Okay, I can set the value of an element as follows:</p>
<pre><code class="hljs"><span class="hljs-keyword">self</span>.evalJS(<span class="hljs-string">'document.getElementById("idOfMyElement").value =\'' + myValue + '</span>\<span class="hljs-string">''</span>);
</code></pre><p>this works. Next I need to simulate a user click (keypress) on a textbox from JavaScript. I know this can be done using JQuery but I can&#39;t figure out how to use evalJS with JQuery. Any ideas? The idea is to use something like this given idOfMyElement refers to a text box:</p>
<pre><code class="hljs"><span class="hljs-keyword">self</span>.evalJS(<span class="hljs-comment">"$( \"</span><span class="hljs-symbol">#idOfMyElement</span>\<span class="hljs-comment">" ).keypress()"</span>);
</code></pre><p>Any help is greatly appreciate it.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="January 31st 2014, 10:01:08 pm">January 31st 2014</span>
								by <span class='authorname'>Ash ESM</span><br>
								<a class="icon-bg icon-link" href="question/162144/using-jquery-to-set-value-of-a-textbox-in-webview.html#answer-274688" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>-1</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
