<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Share dialog example for mokesmoke&#39;s Facebook module » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Share dialog example for mokesmoke&#39;s Facebook module</h1>
		</header>
		<section>
			<p>I&#39;m looking for a more complete example of using the Share dialog with the mokesmokes Facebook module for Android. I guess my issue is figuring out what in his example is placeholder text, and what must be used as-is. The examples on the Facebook developer docs site seem to use different parameter names, different params, etc. </p>
<p>Looking at the Facebook docs, it seems like I should be able to get a share dialog that looks like part on the left, with a custom picture, title, and description. </p>
<p><img src="https:&#x2F;&#x2F;fbcdn-dragon-a.akamaihd.net&#x2F;hphotos-ak-xap1&#x2F;t39.2178-6&#x2F;10541000_642192029225497_1840587892_n.png" alt="share dialog"></p>
<p>With this code, the share dialog opens. But it is essentially empty…I get a gray box instead of the image I&#39;m passing. My app&#39;s name and URL are shown but are the data I entered into the Facebook developer site, not what is sent via the code.</p>
<pre><code class="hljs"><span class="hljs-keyword">if</span>(fb.canPresentShareDialog) {
    fb.share({
        url: <span class="hljs-string">'http://myapp.com/foo/'</span> + args.foo.id, 
        objectName: <span class="hljs-string">"me/objects/myapp:foo"</span>, 
        imageUrl: <span class="hljs-string">'http://myapp.com/img123.jpg'</span>, 
        title: <span class="hljs-string">'MyApp'</span>, 
        description: args.foo.description, 
        namespaceAction: <span class="hljs-string">"me/myapp:share"</span> 
    });
} <span class="hljs-keyword">else</span> {
    alert(<span class="hljs-string">'Unable to share to Facebook. Do you have the Facebook app installed?'</span>);
}
</code></pre><p>If I include the <code>namespaceObject</code> param as shown in the module&#39;s readme, the Share dialog opens then immediately closes.</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="January 2nd 2015, 1:17:29 am">January 2nd 2015</span>
				by <span class='authorname'>Theo LeSieg</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>facebook</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>1</span> Vote</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-284977">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>Hi Theo,<br>My Facebook module supports using the Share Dialog for three different types of content:</p>
<ol>
<li>Allowing the user to publish a status from the app</li>
<li>Sharing a link</li>
<li>Sharing an Open Graph story - see https:&#x2F;&#x2F;developers.facebook.com&#x2F;docs&#x2F;android&#x2F;open-graph</li>
</ol>
<p>The example you&#39;re referring to above is the third type - Open Graph. So basically you need to go through the Open Graph guide, set up the story (this has nothing to do with the mobile app), and then you can refer to these objects using the module&#39;s Share Dialog API.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="January 7th 2015, 1:28:52 pm">January 7th 2015</span>
								by <span class='authorname'>Mark M</span><br>
								<a class="icon-bg icon-link" href="question/180011/share-dialog-example-for-mokesmokes-facebook-module#answer-284977" rel="permalink">permalink</a>
							</div>

							<h5>3 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Thanks Mark. Yes, I am trying to share the Open Graph story. I did set up the story components on the Facebook site. Though, I don&#39;t have a hosted page that their docs describe. I was hoping to not have to do that, as it seems to be optional.</p>
<p>I&#39;m pretty sure the problem is that I&#39;m not referencing the objects and namespace correctly. I&#39;m having a hard time translating their native code examples to what I&#39;d use with your module.</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 7th 2015, 1:52:02 pm">January 7th 2015</span>
											by <span class='authorname'>Theo LeSieg</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Let&#39;s use the example on the link I provided above.The namespace is &quot;cooking-app&quot;, the object is &quot;meal&quot;, the action is &quot;cook&quot;. Thus the parameters are:</p>
<ul>
<li>namespaceObject: &quot;cooking-app:meal&quot;</li>
<li>objectName: &quot;meal&quot;</li>
<li>namespaceAction: &quot;cooking-app:cook&quot;</li>
<li>url: if you&#39;re hosting the object on your webpage, this is the URL. Otherwise, set it to any other URL, if you like.</li>
<li>title, description: whatever you like</li>
<li>imageUrl: URL to some image you want shown on the post</li>
<li>placeId: if you like, a Facebook Place ID</li>
</ul>
</p>
										<div class="author">
											&mdash; commented <span title="January 7th 2015, 3:43:16 pm">January 7th 2015</span>
											by <span class='authorname'>Mark M</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>You must have namespaceObject, objectName, namespaceAction filled out properly (as above) for the story to be published.</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 7th 2015, 3:47:22 pm">January 7th 2015</span>
											by <span class='authorname'>Mark M</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-284871">
				
						<section>
							<p>Hello Theo LeSieg,</p>
<p>For facebook sharing as like your image, you can test this sample code.  Hope it will help.</p>
<pre><code class="hljs">
<span class="hljs-keyword">var</span> win = Ti.UI.createWindow({
    backgroundColor : <span class="hljs-string">'white'</span>,
    layout : <span class="hljs-string">'vertical'</span>
});
<span class="hljs-keyword">var</span> fb = <span class="hljs-built_in">require</span>(<span class="hljs-string">'facebook'</span>);
fb.appid = <span class="hljs-string">"APPID"</span>;
fb.permissions = [<span class="hljs-string">'publish_stream'</span>, <span class="hljs-string">'read_stream'</span>];
fb.authorize();

fb.addEventListener(<span class="hljs-string">'login'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
    <span class="hljs-keyword">if</span> (e.success) {
        alert(<span class="hljs-string">'Logged in'</span>);
    }
});
fb.addEventListener(<span class="hljs-string">'logout'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
    alert(<span class="hljs-string">'Logged out'</span>);
});

<span class="hljs-comment">// Add the button.  Note that it doesn't need a click event listener.</span>
win.add(fb.createLoginButton({
    top : <span class="hljs-number">40</span>,
    style : fb.BUTTON_STYLE_WIDE
}));

<span class="hljs-keyword">var</span> share = Ti.UI.createButton({
    title : <span class="hljs-string">'SHARE ON FACEBOOK'</span>,
    width : Ti.UI.SIZE,
    height : Ti.UI.SIZE,
    top : <span class="hljs-number">30</span>,
});

share.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
    <span class="hljs-keyword">var</span> data = {
        link : <span class="hljs-string">"http://www.appcelerator.com"</span>,
        name : <span class="hljs-string">"Appcelerator Titanium Mobile"</span>,
        message : <span class="hljs-string">"Checkout this cool open source project for creating mobile apps"</span>,
        caption : <span class="hljs-string">"Appcelerator Titanium Mobile"</span>,
        picture : <span class="hljs-string">"http://developer.appcelerator.com/assets/img/DEV_titmobile_image.png"</span>,
        description : <span class="hljs-string">"You've got the ideas, now you've got the power. Titanium translates "</span> + <span class="hljs-string">"your hard won web skills into native applications..."</span>
    };
    fb.dialog(<span class="hljs-string">"feed"</span>, data, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
        <span class="hljs-keyword">if</span> (e.success &amp;&amp; e.result) {
            alert(<span class="hljs-string">"Success! New Post ID: "</span> + e.result);
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">if</span> (e.error) {
                alert(e.error);
            } <span class="hljs-keyword">else</span> {
                alert(<span class="hljs-string">"User canceled dialog."</span>);
            }
        }
    });
});

win.add(share);

win.open();
</code></pre><p>If you have any question, then let me know.</p>
<p>For more info: http:&#x2F;&#x2F;docs.appcelerator.com&#x2F;titanium&#x2F;latest&#x2F;#!&#x2F;api&#x2F;Modules.Facebook</p>
<p>Thanks.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="January 2nd 2015, 4:38:17 am">January 2nd 2015</span>
								by <span class='authorname'>Motiur Rahman</span><br>
								<a class="icon-bg icon-link" href="question/180011/share-dialog-example-for-mokesmokes-facebook-module#answer-284871" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Thank you. But I&#39;m using the <a href="https:&#x2F;&#x2F;github.com&#x2F;mokesmokes&#x2F;titanium-android-facebook">module from mokesmokes</a> not Appcelerator.</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 2nd 2015, 10:59:13 am">January 2nd 2015</span>
											by <span class='authorname'>Theo LeSieg</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>-1</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
