<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>[Alloy]Need simple calculation in alloy tss, walkaround? » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>[Alloy]Need simple calculation in alloy tss, walkaround?</h1>
		</header>
		<section>
			<p>Hi all,<br>I know may be the question title is stupid, i know that we are not allowed to do calculation in tss files. But there are situations that we need to. For example, when I need to set a view width to half the screen width. </p>
<p>We could access Ti.Platform.displayCaps.platformWidth in tss, but we cannot divide it by 2.</p>
<p>There could be a walkaround is that adding in Alloy.Globals a variable that equals to Ti.Platform.displayCaps.platformWidth &#x2F; 2, but what about I need sometimes half, sometimes one-third?, Sometimes half minus 10px because 10px are used for margin? etc… It can soon become dirty and difficult to maintain. </p>
<p>Any better ideas?Thanks.</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="March 4th 2014, 7:05:14 am">March 4th 2014</span>
				by <span class='authorname'>Zongque Xu</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>alloy</span></li>
					
						<li><span class='tagname'>tss</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-275924">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>Hi</p>
<p>I think the best solution to this problem would be to define the default dimensions inside your TSS, then make any adjustments where necessary inside the controller for the respective view.</p>
<p>If these calculations are defined before opening the window containing your view or views, then all the adjustments should have completed before the window loads making it unlikely that the user will see any of these changes occur.</p>
<p>Hope this helps!</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="March 4th 2014, 8:19:15 am">March 4th 2014</span>
								by <span class='authorname'>Luke Taylor</span><br>
								<a class="icon-bg icon-link" href="question/163153/alloyneed-simple-calculation-in-alloy-tss-walkaround.html#answer-275924" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Should be better this way. Thanks a lot.</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 4th 2014, 3:19:52 pm">March 4th 2014</span>
											by <span class='authorname'>Zongque Xu</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-275944">
				
						<section>
							<p>Just a thought. If your app requires these kinds of &quot;dirty&quot; manipulations, you may want to rethink the design. For the most part, you&#39;ve answered your own question. The TSS file is not javascript. So, no calculations. If needed, you can manipulate the element properties in the controller like</p>
<pre><code class="hljs"><span class="hljs-variable"><span class="hljs-keyword">var</span> oldWidth</span> = Ti.Platform.displayCaps.platformWidth;

<span class="hljs-variable"><span class="hljs-keyword">var</span> newWidth</span> = oldWidth/<span class="hljs-number">2</span>;

<span class="hljs-keyword">if</span>(something){
 $.elementName.setWidth(newWidth);
}
</code></pre><p>Hope that answers your question.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="March 4th 2014, 3:01:47 pm">March 4th 2014</span>
								by <span class='authorname'>Michael Stelly</span><br>
								<a class="icon-bg icon-link" href="question/163153/alloyneed-simple-calculation-in-alloy-tss-walkaround.html#answer-275944" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>If we need to support different screen sizes in android, in alloy there is not much else we could do. Correct me if I&#39;m wrong. I think it would be extremely useful if alloy supports something similar to the    &quot;weight&quot; attribute in android LinearLayout</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 4th 2014, 3:24:03 pm">March 4th 2014</span>
											by <span class='authorname'>Zongque Xu</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
