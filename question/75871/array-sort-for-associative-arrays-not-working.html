<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Array sort for associative arrays not working Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Array sort for associative arrays not working</h1>
		</header>
		<section>
			<p>I am trying to sort an array I will add to a TableView. I use the following sort method, which works fine in Firebug console, yet when I run it within Titanium, it has zero effect.</p>
<p>I assume this might be an internal bug with how the sort method is coded within Titanium Mobile, but hopefully I am missing something.</p>
<p>I&#39;m using Snow Leopard 10.6.4 and emulating on iOS 4.1. If you need other environment info let me know and I&#39;d be happy to provide.</p>
<pre><code class="hljs">var data_remote = [
    {<span class="hljs-string">id:</span> <span class="hljs-number">283</span>, <span class="hljs-string">title:</span> <span class="hljs-string">'Last'</span>},
    {<span class="hljs-string">id:</span> <span class="hljs-number">498</span>, <span class="hljs-string">title:</span> <span class="hljs-string">'First'</span>},
    {<span class="hljs-string">id:</span> <span class="hljs-number">3824</span>, <span class="hljs-string">title:</span> <span class="hljs-string">'Me'</span>},
    {<span class="hljs-string">id:</span> <span class="hljs-number">938</span>, <span class="hljs-string">title:</span> <span class="hljs-string">'Zebra'</span>},
    {<span class="hljs-string">id:</span> <span class="hljs-number">4938</span>, <span class="hljs-string">title:</span> <span class="hljs-string">'Rocker'</span>},
    {<span class="hljs-string">id:</span> <span class="hljs-number">4382</span>, <span class="hljs-string">title:</span> <span class="hljs-string">'Tanzina'</span>},
    {<span class="hljs-string">id:</span> <span class="hljs-number">583</span>, <span class="hljs-string">title:</span> <span class="hljs-string">'Jones'</span>},
    {<span class="hljs-string">id:</span> <span class="hljs-number">28</span>, <span class="hljs-string">title:</span> <span class="hljs-string">'Sharks'</span>}
];

<span class="hljs-comment">// Show the default data prior to sorting</span>
<span class="hljs-keyword">for</span> (var x = <span class="hljs-number">0</span>; x &lt; data_remote.length; x++) {
    Ti.API.info(<span class="hljs-string">'before: id : '</span> + data_remote[x].id + <span class="hljs-string">', title : '</span> + data_remote[x].title);
}

<span class="hljs-comment">// Sorting by Title</span>
data_remote = data_remote.sort( function (a,b) { <span class="hljs-keyword">return</span> a[<span class="hljs-string">'title'</span>] &gt; b[<span class="hljs-string">'title'</span>]; } );

<span class="hljs-comment">// Show the data soft order after sorting </span>
<span class="hljs-keyword">for</span> (var z = <span class="hljs-number">0</span>; z &lt; data_remote.length; z++) {
    Ti.API.info(<span class="hljs-string">'after: id : '</span> + data_remote[z].id + <span class="hljs-string">', title : '</span> + data_remote[z].title);
}
</code></pre>
		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="November 2nd 2010, 11:10:03 pm">November 2nd 2010</span>
				by <span class='authorname'>Nathaniel Brown</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>array</span></li>
					
						<li><span class='tagname'>ios</span></li>
					
						<li><span class='tagname'>iphone</span></li>
					
						<li><span class='tagname'>leopard</span></li>
					
						<li><span class='tagname'>osx</span></li>
					
						<li><span class='tagname'>snow</span></li>
					
						<li><span class='tagname'>sort</span></li>
					
						<li><span class='tagname'>tableview</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>3</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>3 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-136601">
				
						<section>
							<p>This seems to work.</p>
<pre><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">sortByNestedTitle</span><span class="hljs-params">(a, b)</span> </span>{
    <span class="hljs-keyword">var</span> x = a.title.toLowerCase();
    <span class="hljs-keyword">var</span> y = b.title.toLowerCase();
    <span class="hljs-keyword">return</span> ((x &lt; y) ? -<span class="hljs-number">1</span> : ((x &gt; y) ? <span class="hljs-number">1</span> : <span class="hljs-number">0</span>));
}

data_remote.sort(sortByNestedTitle);
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="November 2nd 2010, 11:32:32 pm">November 2nd 2010</span>
								by <span class='authorname'>Nathaniel Brown</span><br>
								<a class="icon-bg icon-link" href="../../question/75871/array-sort-for-associative-arrays-not-working.html#answer-136601" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>2</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-136611">
				
						<section>
							<p>You beat me to it, I was about to post code that was similar to that.  Yes, that way should work well for what you are doing.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="November 2nd 2010, 11:37:06 pm">November 2nd 2010</span>
								by <span class='authorname'>John McKnight</span><br>
								<a class="icon-bg icon-link" href="../../question/75871/array-sort-for-associative-arrays-not-working.html#answer-136611" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-170201">
				
						<section>
							<p>I have a requirement to do a sort of an array on iPHONE and ANDROID.  But the array is around 500 rows.  THe sort works on an emulator with 10 rows.  But seems to hang on the larger 500 rows.  And more than likely this will be a 1000 row sort someday.  So, this is the code. Perhaps someone could suggestion a better solution?</p>
<pre><code class="hljs"><span class="hljs-comment">//sort the rows array</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">sortByLastName</span><span class="hljs-params">(a,b)</span></span>{
    <span class="hljs-keyword">var</span> aa = a.ln.toLowerCase();
    <span class="hljs-keyword">var</span> bb = b.ln.toLowerCase();

Ti.API.info(<span class="hljs-string">'inside the sort array'</span>);


Ti.API.info(<span class="hljs-string">'a.lastname - b.lastName-----   '</span> + a.ln + <span class="hljs-string">' === '</span>+ b.ln);

<span class="hljs-keyword">if</span> (aa &lt; bb) <span class="hljs-comment">//sort string ascending</span>
        {<span class="hljs-keyword">return</span> -<span class="hljs-number">1</span>;};
<span class="hljs-keyword">if</span> (aa &gt; bb)
        {<span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;};

};
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="December 29th 2010, 12:05:11 pm">December 29th 2010</span>
								by <span class='authorname'>vincent youmans</span><br>
								<a class="icon-bg icon-link" href="../../question/75871/array-sort-for-associative-arrays-not-working.html#answer-170201" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
