<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Array in SetString » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Array in SetString</h1>
		</header>
		<section>
			<p>Hi all,</p>
<p>When i do this the result is 6 (good)</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> inhouddatabase = [<span class="hljs-string">'a'</span>, <span class="hljs-string">'b'</span>, <span class="hljs-string">'c'</span>, <span class="hljs-string">'d'</span>, <span class="hljs-string">'e'</span>, <span class="hljs-string">'f'</span>];
<span class="hljs-keyword">var</span> maxVal = inhouddatabase.length;
Ti.API.log(<span class="hljs-string">'database:'</span>+maxVal);
</code></pre><p>but when i do this the result is 44 (wrong)<br>Any clue why this happends?</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> inhouddatabases = [<span class="hljs-string">'a'</span>, <span class="hljs-string">'b'</span>, <span class="hljs-string">'c'</span>, <span class="hljs-string">'d'</span>, <span class="hljs-string">'e'</span>, <span class="hljs-string">'f'</span>];
Titanium.App.Properties.setString(<span class="hljs-string">"database"</span>,inhouddatabases); 
<span class="hljs-keyword">var</span> inhouddatabase = Ti.App.Properties.getString(<span class="hljs-string">'database'</span>);
<span class="hljs-keyword">var</span> maxVal = inhouddatabase.length;
Ti.API.log(<span class="hljs-string">'database:'</span>+maxVal);
</code></pre>
		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="August 5th 2012, 6:54:24 pm">August 5th 2012</span>
				by <span class='authorname'>Gerd Koetje</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>array</span></li>
					
						<li><span class='tagname'>setstring</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>8</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>8 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-244530">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<pre><code class="hljs">Titanium.<span class="hljs-keyword">App</span>.Properties.setString(<span class="hljs-string">"database"</span>,JSON.stringify(inhouddatabases));
<span class="hljs-keyword">var</span> <span class="hljs-keyword">db</span> = JSON.<span class="hljs-keyword">parse</span>(Titanium.<span class="hljs-keyword">App</span>.Properties.getString(<span class="hljs-string">"database"</span>));
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 6th 2012, 3:34:43 am">August 6th 2012</span>
								by <span class='authorname'>Alexander Bauer</span><br>
								<a class="icon-bg icon-link" href="question/140580/array-in-setstring#answer-244530" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Hi Alexander</p>
<p>We started with that style solution but that only solves his local property save, does not use the new more suitable method, <code>setObject</code> in this case and also does not resolve the main problem which is how he accesses the actual data as he has an issue with in his PHP.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 6th 2012, 4:48:08 am">August 6th 2012</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-244516">
				
						<section>
							<p>Well maybe you should use setList as it was intended instead of setString.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 5th 2012, 7:12:18 pm">August 5th 2012</span>
								by <span class='authorname'>Stephen Feather</span><br>
								<a class="icon-bg icon-link" href="question/140580/array-in-setstring#answer-244516" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-244517">
				
						<section>
							<p>Hi Gerd</p>
<p>Use <code>setList</code> instead of <code>setString</code>.</p>
<p>This can take array information, without needing to change it from an array to anything else first, same is true when retrieving it.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 5th 2012, 7:13:54 pm">August 5th 2012</span>
								by <span class='authorname'>Malcolm Hollingsworth</span><br>
								<a class="icon-bg icon-link" href="question/140580/array-in-setstring#answer-244517" rel="permalink">permalink</a>
							</div>

							<h5>3 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>thanks both</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 5th 2012, 8:09:53 pm">August 5th 2012</span>
											by <span class='authorname'>Gerd Koetje</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Your welcome, please mark Stephens answer as correct as he beat me by a couple of minutes, remember marking questions as answered helps others who need the same info.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 5th 2012, 8:21:07 pm">August 5th 2012</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>But Malcolm gave you more details…</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 5th 2012, 9:42:34 pm">August 5th 2012</span>
											by <span class='authorname'>Stephen Feather</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-244518">
				
						<section>
							<p>now i added an array of data to the var but he gives and error when i try to get it for a count</p>
<pre><code class="hljs"><span class="hljs-built_in">var</span> inhouddatabase = Ti<span class="hljs-built_in">.</span>App<span class="hljs-built_in">.</span>Properties<span class="hljs-built_in">.</span>getList(<span class="hljs-string">'database'</span>);
<span class="hljs-built_in">var</span> maxVal = inhouddatabase<span class="hljs-built_in">.</span>length;
Ti<span class="hljs-built_in">.</span>API<span class="hljs-built_in">.</span><span class="hljs-keyword">log</span>(<span class="hljs-string">'database:'</span>+maxVal);
</code></pre><p>the error</p>
<pre><code class="hljs">[ERROR] {
    line = 68<span class="hljs-comment">;</span>
    message = "'undefined' is not an object (evaluating 'inhouddatabase.length')"<span class="hljs-comment">;</span>
    name = TypeError<span class="hljs-comment">;</span>
    sourceId = <span class="hljs-number">233238176</span><span class="hljs-comment">;</span>
    sourceURL = "file://localhost/Users/NBhosting/Library/Application%20Support/iPhone%20Simulator/5.1/Applications/<span class="hljs-number">08F671E2</span>-697A-4B5E-813C-<span class="hljs-number">4039509</span>DA3B3/test.app/functies.js"<span class="hljs-comment">;</span>
}
</code></pre><p>i filled database with data from php&#x2F;json<br>i parsed it with var content = JSON.parse(this.responseText);<br>and added the result to database</p>
<p>my returned data from php looks like this</p>
<pre><code class="hljs">{"<span class="hljs-attribute">0</span>":<span class="hljs-value">{"<span class="hljs-attribute">pid</span>":<span class="hljs-value"><span class="hljs-string">"2"</span></span>,"<span class="hljs-attribute">profielnaam</span>":<span class="hljs-value"><span class="hljs-string">"garett"</span></span>,"<span class="hljs-attribute">leeftijd</span>":<span class="hljs-value"><span class="hljs-string">"22"</span></span>,"<span class="hljs-attribute">foto</span>":<span class="hljs-value"><span class="hljs-string">"1284251614yzyms.jpg"</span></span>}</span>,"<span class="hljs-attribute">1</span>":<span class="hljs-value">{"<span class="hljs-attribute">pid</span>":<span class="hljs-value"><span class="hljs-string">"12"</span></span>,"<span class="hljs-attribute">profielnaam</span>":<span class="hljs-value"><span class="hljs-string">"francois"</span></span>,"<span class="hljs-attribute">leeftijd</span>":<span class="hljs-value"><span class="hljs-string">"24"</span></span>,"<span class="hljs-attribute">foto</span>":<span class="hljs-value"><span class="hljs-string">"Francois23.jpg"</span></span>}</span>,"<span class="hljs-attribute">2</span>":<span class="hljs-value">{"<span class="hljs-attribute">pid</span>":<span class="hljs-value"><span class="hljs-string">"23602"</span></span>,"<span class="hljs-attribute">profielnaam</span>":<span class="hljs-value"><span class="hljs-string">"Robin"</span></span>,"<span class="hljs-attribute">leeftijd</span>":<span class="hljs-value"><span class="hljs-string">"19"</span></span>,"<span class="hljs-attribute">foto</span>":<span class="hljs-value"><span class="hljs-string">"1292933541hdstv.jpg"</span></span>}</span>,"<span class="hljs-attribute">3</span>":<span class="hljs-value">{"<span class="hljs-attribute">pid</span>":<span class="hljs-value"><span class="hljs-string">"23599"</span></span>,"<span class="hljs-attribute">profielnaam</span>":<span class="hljs-value"><span class="hljs-string">"Stef30"</span></span>,"<span class="hljs-attribute">leeftijd</span>":<span class="hljs-value"><span class="hljs-string">"30"</span></span>,"<span class="hljs-attribute">foto</span>":<span class="hljs-value"><span class="hljs-string">""</span></span>}</span>,"<span class="hljs-attribute">4</span>":<span class="hljs-value">{"<span class="hljs-attribute">pid</span>":<span class="hljs-value"><span class="hljs-string">"23087"</span></span>,"<span class="hljs-attribute">profielnaam</span>":<span class="hljs-value"><span class="hljs-string">"unexpected1"</span></span>,"<span class="hljs-attribute">leeftijd</span>":<span class="hljs-value"><span class="hljs-string">"48"</span></span>,"<span class="hljs-attribute">foto</span>":<span class="hljs-value"><span class="hljs-string">""</span></span>}</span>,"<span class="hljs-attribute">5</span>":<span class="hljs-value">{"<span class="hljs-attribute">pid</span>":<span class="hljs-value"><span class="hljs-string">"23587"</span></span>,"<span class="hljs-attribute">profielnaam</span>":<span class="hljs-value"><span class="hljs-string">"rudie58"</span></span>,"<span class="hljs-attribute">leeftijd</span>":<span class="hljs-value"><span class="hljs-string">"53"</span></span>,"<span class="hljs-attribute">foto</span>":<span class="hljs-value"><span class="hljs-string">"1290706787jmnpf.jpg"</span></span>}</span>,"<span class="hljs-attribute">6</span>":<span class="hljs-value">{"<span class="hljs-attribute">pid</span>":<span class="hljs-value"><span class="hljs-string">"23076"</span></span>,"<span class="hljs-attribute">profielnaam</span>":<span class="hljs-value"><span class="hljs-string">"monique"</span></span>,"<span class="hljs-attribute">leeftijd</span>":<span class="hljs-value"><span class="hljs-string">"29"</span></span>,"<span class="hljs-attribute">foto</span>":<span class="hljs-value"><span class="hljs-string">"1282915347rellf.jpg"</span></span>}</span>,"<span class="hljs-attribute">7</span>":<span class="hljs-value">{"<span class="hljs-attribute">pid</span>":<span class="hljs-value"><span class="hljs-string">"24959"</span></span>,"<span class="hljs-attribute">profielnaam</span>":<span class="hljs-value"><span class="hljs-string">"thomaz"</span></span>,"<span class="hljs-attribute">leeftijd</span>":<span class="hljs-value"><span class="hljs-string">"34"</span></span>,"<span class="hljs-attribute">foto</span>":<span class="hljs-value"><span class="hljs-string">""</span></span>}</span>,"<span class="hljs-attribute">8</span>":<span class="hljs-value">{"<span class="hljs-attribute">pid</span>":<span class="hljs-value"><span class="hljs-string">"870"</span></span>,"<span class="hljs-attribute">profielnaam</span>":<span class="hljs-value"><span class="hljs-string">"ixixon"</span></span>,"<span class="hljs-attribute">leeftijd</span>":<span class="hljs-value"><span class="hljs-string">"35"</span></span>,"<span class="hljs-attribute">foto</span>":<span class="hljs-value"><span class="hljs-string">"Ixixon.jpg"</span></span>}</span>,"<span class="hljs-attribute">9</span>":<span class="hljs-value">{"<span class="hljs-attribute">pid</span>":<span class="hljs-value"><span class="hljs-string">"898"</span></span>,"<span class="hljs-attribute">profielnaam</span>":<span class="hljs-value"><span class="hljs-string">"jawsper"</span></span>,"<span class="hljs-attribute">leeftijd</span>":<span class="hljs-value"><span class="hljs-string">"32"</span></span>,"<span class="hljs-attribute">foto</span>":<span class="hljs-value"><span class="hljs-string">"jawsper.jpg"</span></span>}</span>,"<span class="hljs-attribute">10</span>":
<span class="hljs-value">*****
*****
more
*****
*****
{"<span class="hljs-attribute">aantal</span>":<span class="hljs-value"><span class="hljs-number">5808</span></span>}</span>}
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 5th 2012, 8:31:12 pm">August 5th 2012</span>
								by <span class='authorname'>Gerd Koetje</span><br>
								<a class="icon-bg icon-link" href="question/140580/array-in-setstring#answer-244518" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-244519">
				
						<section>
							<p>Hi Gerd</p>
<p>This might be because you swapped the array to an object (this may contain arrays) but not the same.</p>
<p>Try <code>setObject</code> in place of the current <code>setList</code>.</p>
<p>If that fails, validate your JSON using something like <a href="http:&#x2F;&#x2F;jsonlint.com&#x2F;">jsonlint.com</a>, if that works post your code with the set property in it.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 5th 2012, 8:44:12 pm">August 5th 2012</span>
								by <span class='authorname'>Malcolm Hollingsworth</span><br>
								<a class="icon-bg icon-link" href="question/140580/array-in-setstring#answer-244519" rel="permalink">permalink</a>
							</div>

							<h5>2 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Hi Gerd</p>
<p>Are you still using <code>length</code> as a test?  If so why as your object example does not start with an array, and as it is not a string it has nothing left it could count.</p>
<p>Looking at your returned JSON data - it contains no single array element at all, your pho code has an error in it as the nodes you think are array elements are actually child notes with the value of &quot;0&quot;, &quot;1&quot; etc.</p>
<p>Fix that problem first and then you can run your app test again.</p>
<p>Let me know how it goes</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 5th 2012, 9:23:17 pm">August 5th 2012</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Guessing this is the most suitable answer then</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 7th 2012, 11:24:51 am">August 7th 2012</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-244520">
				
						<section>
							<p>done that , var seems to be an object now<br>[INFO] database:[object Object]</p>
<p>how do i cont with an object?</p>
<pre><code class="hljs"><span class="hljs-built_in">var</span> inhouddatabase = Ti<span class="hljs-built_in">.</span>App<span class="hljs-built_in">.</span>Properties<span class="hljs-built_in">.</span>getObject(<span class="hljs-string">'database'</span>);
<span class="hljs-built_in">var</span> maxVal = inhouddatabase<span class="hljs-built_in">.</span>length;
Ti<span class="hljs-built_in">.</span>API<span class="hljs-built_in">.</span><span class="hljs-keyword">log</span>(<span class="hljs-string">'database:'</span>+inhouddatabase);
Ti<span class="hljs-built_in">.</span>API<span class="hljs-built_in">.</span><span class="hljs-keyword">log</span>(<span class="hljs-string">'database:'</span>+maxVal);
</code></pre><p>returns undifined</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 5th 2012, 9:12:12 pm">August 5th 2012</span>
								by <span class='authorname'>Gerd Koetje</span><br>
								<a class="icon-bg icon-link" href="question/140580/array-in-setstring#answer-244520" rel="permalink">permalink</a>
							</div>

							<h5>2 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>json seems valid</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 5th 2012, 9:20:41 pm">August 5th 2012</span>
											by <span class='authorname'>Gerd Koetje</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>JSON may seem valid but that does not mean it is right! </p>
<p>Notice there are no [ or ] symbols, that denote array elements</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 5th 2012, 9:25:35 pm">August 5th 2012</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-244521">
				
						<section>
							<p>tryed to add</p>
<pre><code class="hljs"><span class="hljs-label">datadb:</span>[
datahere
]
</code></pre><p>donest seem to work either</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 5th 2012, 9:48:19 pm">August 5th 2012</span>
								by <span class='authorname'>Gerd Koetje</span><br>
								<a class="icon-bg icon-link" href="question/140580/array-in-setstring#answer-244521" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Not sure what you are showing me here.  Have you checked the output from your PHP yet?</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 5th 2012, 9:54:19 pm">August 5th 2012</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-244595">
				
						<section>
							<p>got it working, was missing [] in my output from php</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 6th 2012, 4:46:09 pm">August 6th 2012</span>
								by <span class='authorname'>Gerd Koetje</span><br>
								<a class="icon-bg icon-link" href="question/140580/array-in-setstring#answer-244595" rel="permalink">permalink</a>
							</div>

							<h5>5 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>you can use <code>json_encode();</code> within php, it will do all the json formatting for you. If you didnt already.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 6th 2012, 4:49:05 pm">August 6th 2012</span>
											by <span class='authorname'>Alexander Bauer</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Hi Gerd</p>
<p>You seem to have forgotten;</p>
<ul>
<li>21 hours ago - I told you about the setList, when you were using setString</li>
<li>20 hours ago - I told you to swap setList to setObject as you had changed your needs in your latest code update</li>
<li>19 hours ago - I told you that you had an issue with your array from PHP having no [ ] elements</li>
<li>18 hours ago - I told you to look at the PHP output.</li>
</ul>
<p>Whilst I am glad you have now realised the problem, I am left wondering why my efforts were left unrewarded, especially as the one you marked did not provide any of that help or point out the correct method to store your data once you had fixed the bug I pointed out 6 hours earlier.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 6th 2012, 5:03:51 pm">August 6th 2012</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>just a missclick :D ofc i used your comments</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 7th 2012, 11:11:46 am">August 7th 2012</span>
											by <span class='authorname'>Gerd Koetje</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Did you miss-click again?</p>
<p>No problem, I am very glad you are taking the time to mark answers, thank you.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 8th 2012, 4:48:54 pm">August 8th 2012</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>malcolm you helped alot there, but alex his answere ficed the end part.<br>so u both should get credits for this.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 8th 2012, 5:31:55 pm">August 8th 2012</span>
											by <span class='authorname'>Gerd Koetje</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
