<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>How can I avoid that ScrollView (fullscreen) scrolls to top after keyboard hides from TextArea (Alloy)? » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>How can I avoid that ScrollView (fullscreen) scrolls to top after keyboard hides from TextArea (Alloy)?</h1>
		</header>
		<section>
			<p>I want to implement a full screen text editor view in my app (modal view). To do this, I placed a scrollview into the Window and within the ScrollView I created a TextArea. Both of them have width and height set to &quot;Ti.Ui.FILL&quot;.</p>
<p>When I tap into the textarea, the keyboard pops up and the scrollview scrolls to the top, so the keyboard does not overlap the textarea. When I blur the TextArea, the keyboard gets hidden, and I can see the TextArea in fullscreen. So far so good.</p>
<p>However, if I have a long text that goes over several lines, scroll several lines towards the end of the text and then want to put the cursor in some specific line in the TextArea, then, after the keyboard comes up, the ScrollView scrolls all the way to the top. (The cursor remains where I tapped). Is there any way to tell the ScrollView not to scroll to the top on focus but instead remain at the text location where I tapped?</p>
<p>Thanks!</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="July 4th 2013, 12:28:01 pm">July 4th 2013</span>
				by <span class='authorname'>Mirco Vitr</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>alloy</span></li>
					
						<li><span class='tagname'>keyboard</span></li>
					
						<li><span class='tagname'>scroll</span></li>
					
						<li><span class='tagname'>scrollview</span></li>
					
						<li><span class='tagname'>textarea</span></li>
					
				</ul>
			

			<section>
				<h5>7 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Post the code to help you?</p>
</div>
							<div class="author">
								&mdash; commented <span title="July 4th 2013, 1:27:49 pm">July 4th 2013</span>
								by <span class='authorname'>Nabeel  Munawar</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Ok, here my code:</p>
<p>View:</p>
<pre><code class="hljs"><span class="hljs-tag">&lt;<span class="hljs-title">Alloy</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">Window</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"noteViewWindow"</span> <span class="hljs-attribute">title</span>=<span class="hljs-value">"Notes"</span> <span class="hljs-attribute">modal</span>=<span class="hljs-value">"true"</span> <span class="hljs-attribute">onFocus</span>=<span class="hljs-value">"onWindowFocus"</span> <span class="hljs-attribute">onBlur</span>=<span class="hljs-value">"onWindowBlur"</span> <span class="hljs-attribute">onClose</span>=<span class="hljs-value">"onWindowClose"</span> <span class="hljs-attribute">onClick</span>=<span class="hljs-value">"hideKeyboard"</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-title">LeftNavButton</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"leftNavButton"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">Button</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"cancelButton"</span> <span class="hljs-attribute">onClick</span>=<span class="hljs-value">"cancelButtonClicked"</span>&gt;</span>Cancel<span class="hljs-tag">&lt;/<span class="hljs-title">Button</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">LeftNavButton</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">RightNavButton</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">Button</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"okButton"</span> <span class="hljs-attribute">onClick</span>=<span class="hljs-value">"okButtonClicked"</span>&gt;</span>OK<span class="hljs-tag">&lt;/<span class="hljs-title">Button</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">RightNavButton</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-title">ScrollView</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"scrollView"</span>&gt;</span>        
        <span class="hljs-tag">&lt;<span class="hljs-title">TextArea</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"textArea"</span> /&gt;</span>    
        <span class="hljs-tag">&lt;/<span class="hljs-title">ScrollView</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">Window</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">Alloy</span>&gt;</span>
</code></pre><p>Styles:</p>
<pre><code class="hljs">"<span class="hljs-id">#noteViewWindow</span>": <span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">backgroundColor</span>:<span class="hljs-value"> <span class="hljs-string">"#dddddd"</span>
</span></span></span>},

"<span class="hljs-id">#scrollView</span>":<span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">top</span>:<span class="hljs-value"> <span class="hljs-string">"5dp"</span>,
    bottom: <span class="hljs-string">"5dp"</span>,
    left:<span class="hljs-string">"5dp"</span>,
    right:<span class="hljs-string">"5dp"</span>,
    height: Ti.UI.FILL,
    width: Ti.UI.FILL,
    contentWidth: <span class="hljs-string">"auto"</span>,
    contentHeight: <span class="hljs-string">"auto"</span>,
    layout:<span class="hljs-string">"vertical"</span>,
    showVerticalScrollIndicator: true
</span></span></span>},

"<span class="hljs-id">#textArea</span>":<span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">height</span>:<span class="hljs-value"> Ti.UI.FILL,
    width: Ti.UI.FILL,
    textAlign:<span class="hljs-string">"left"</span>,
    suppressReturn:false, // use return key to add line break instead of finishing input
    font:{
        fontSize:<span class="hljs-string">"16dp"</span>
    </span></span></span>}
}
</code></pre><p>Code:</p>
<pre><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">onWindowFocus</span>(<span class="hljs-params"></span>)
</span>{
    <span class="hljs-comment">//if there is no text in the area yet, then we want to place the cursor in the area for editing</span>
    <span class="hljs-keyword">if</span> ($.textArea.value.length == <span class="hljs-number">0</span>)
        $.textArea.focus();
}
</code></pre></div>
							<div class="author">
								&mdash; commented <span title="July 4th 2013, 2:23:38 pm">July 4th 2013</span>
								by <span class='authorname'>Mirco Vitr</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>I don&#39;t know if this is possible. You may want to log this as a feature request in the <a href="https:&#x2F;&#x2F;jira.appcelerator.org&#x2F;browse&#x2F;TC">Titanium Community Jira Project</a>.</p>
</div>
							<div class="author">
								&mdash; commented <span title="July 8th 2013, 4:08:37 pm">July 8th 2013</span>
								by <span class='authorname'>Tony Lukasavage</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>I have no idea about how to solve your problem, but may i ask you something? If you are working with iphone and using text areas, when the soft keyboard pop ups it&#39;s done inmediately or it has some kind of delay?</p>
</div>
							<div class="author">
								&mdash; commented <span title="July 10th 2013, 1:59:28 pm">July 10th 2013</span>
								by <span class='authorname'>Imanol Quindós</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Ok, thank you for the answer.</p>
<p>@Imanol: it pops up immediately (I tested on my iPhone 5 with ios 6)</p>
</div>
							<div class="author">
								&mdash; commented <span title="July 10th 2013, 3:00:32 pm">July 10th 2013</span>
								by <span class='authorname'>Mirco Vitr</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Thanks Mirco ^^</p>
</div>
							<div class="author">
								&mdash; commented <span title="July 10th 2013, 3:09:07 pm">July 10th 2013</span>
								by <span class='authorname'>Imanol Quindós</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Hi, have you solved this problem?</p>
</div>
							<div class="author">
								&mdash; commented <span title="October 2nd 2014, 11:22:17 am">October 2nd 2014</span>
								by <span class='authorname'>Sko</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>1</span> Vote</div>
			<div class="answers"><span>0</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>0 Answers</h3>

	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
