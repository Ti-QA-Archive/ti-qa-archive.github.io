<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Hi Guys , I&#39;m going to kill some&lt;/body&gt; » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Hi Guys , I&#39;m going to kill some&lt;/body&gt;</h1>
		</header>
		<section>
			<p>Hi everyone,<br>I creating a Drawing apps but i&#39;ve a problem to change a mousedown by a touchstart.<br>I&#39;m a Beginner so i don&#39;t know very well how do i proceed. Thank you :)</p>
<p>var canvas;<br>var context;<br>var canvasWidth = 1024; &#x2F;&#x2F; 490<br>var canvasHeight = 768; &#x2F;&#x2F; 220<br>var padding = 25;<br>var lineWidth = 9;<br>var colorVert = &quot;#cdff00&quot;;<br>var colorJaune = &quot;#fcee21&quot;;<br>var colorOrange = &quot;#e8630c&quot;;<br>var colorRose = &quot;#d92958&quot;;<br>var colorMauve = &quot;#c965ff&quot;;<br>var colorBleuClair = &quot;#3fa9f5&quot;;<br>var colorBrun = &quot;#8c6239&quot;;<br>var colorBlanc = &quot;#ffffff&quot;;<br>var colorVertFonce = &quot;#34be08&quot;;<br>var colorJauneFonce = &quot;#edaa14&quot;;<br>var colorRouge = &quot;#ff0000&quot;;<br>var colorRoseFonce = &quot;#9e005d&quot;;<br>var colorMauveFonce = &quot;#a80dff&quot;;<br>var colorBleuFonce = &quot;#00669a&quot;;<br>var colorGris = &quot;#808080&quot;;<br>var colorNoir = &quot;#000000&quot;;<br>var outlineImage = new Image();<br>var VertImage = new Image();<br>var JauneImage = new Image();<br>var OrangeImage = new Image();<br>var RoseImage = new Image();<br>var MauveImage = new Image();<br>var BleuClairImage = new Image();<br>var BrunImage = new Image();<br>var BlancImage = new Image();<br>var VertFonceImage = new Image();<br>var JauneFonceImage = new Image();<br>var RougeImage = new Image();<br>var RoseFonceImage = new Image();<br>var MauveFonceImage = new Image();<br>var BleuFonceImage = new Image();<br>var GrisImage = new Image();<br>var NoirImage = new Image();<br>var markerImage = new Image();<br>var Gomme_Image = new Image();<br>var Pinceau_Image = new Image();<br>var TailleGrande_Image= new Image();<br>var TailleMoyenne_Image= new Image();<br>var TaillePetite_Image= new Image();<br>var TailleMini_Image= new Image();<br>var gommeImageWidth = 200;<br>var gommeImageHeight = 140;<br>var crayonBackgroundImage = new Image();<br>var markerBackgroundImage = new Image();<br>var eraserBackgroundImage = new Image();<br>var crayonTextureImage = new Image();<br>var clickX = new Array();<br>var clickY = new Array();<br>var clickColor = new Array();<br>var clickTool = new Array();<br>var clickSize = new Array();<br>var clickDrag = new Array();<br>var paint = false;<br>var curColor = colorVert; &#x2F;&#x2F; Couleur de dŽpart<br>var curTool = &quot;crayon&quot;;<br>var curSize = &quot;normal&quot;;<br>var mediumStartX = 79; &#x2F;&#x2F; Surface cliquable<br>var mediumStartY = 79; &#x2F;&#x2F; Surface Cliquable<br>var mediumImageWidth = 79; &#x2F;&#x2F; Taille des crayons<br>var mediumImageHeight = 79; &#x2F;&#x2F; Hauteur des<br>var drawingAreaX = 272; &#x2F;&#x2F; situation X, Y de la surface de dessin<br>var drawingAreaY = 51;<br>var drawingAreaWidth = 480; &#x2F;&#x2F; RŽsolution de le surface de dessin<br>var drawingAreaHeight = 668;<br>var toolHotspotStartY = 23;<br>var toolHotspotHeight = 38;<br>var sizeHotspotStartY = 157;<br>var sizeHotspotHeight = 36;<br>var sizeHotspotWidthObject = new Object();<br>sizeHotspotWidthObject.huge = 39;<br>sizeHotspotWidthObject.large = 25;<br>sizeHotspotWidthObject.normal = 18;<br>sizeHotspotWidthObject.small = 16;<br>var totalLoadResources = 8<br>var curLoadResNum = 0;<br>var PosX = 70;<br>var PosY = 60;<br>var Ecart = 79;<br>var test01 = 803;<br>var test02 = 57;<br>var GommeWidth = 170 ;<br>var GommeHeight = 114 ;<br>var PinceauHeight = 80 ;<br>var PinceauWidth = 240 ;<br>var EcartPinceauY = 25 ;<br>var EcartPinceauX = 45 ;<br>var EcartGommeY = 80 ;<br>var EcartGommeX = 75 ;<br>var EcartTailleHuge = 32 ;<br>var EcartTailleLarge = 22 ;<br>var EcartTailleSmall = 26 ;<br>var EcartTailleNormal = 26 ;<br>var HugeHeightWidth = 74 ;<br>var LargeHeightWidth = 50 ;<br>var NormalHeightWidth = 34 ;<br>var SmallHeightWidth = 18 ;<br>var EcartHugeX = 94 ;<br>var EcartLargeX = 106 ;<br>var EcartNormalX = 114 ;<br>var EcartSmallX = 122 ;</p>
<p>&#x2F;**</p>
<ul>
<li>Calls the redraw function after all neccessary resources are loaded.<br>*&#x2F;<br>function resourceLoaded()<br>{<br>  if(++curLoadResNum &gt;= totalLoadResources){<pre><code class="hljs">  redraw()<span class="hljs-comment">;</span>
</code></pre>  }<br>}</li>
</ul>
<p>&#x2F;**</p>
<ul>
<li>Creates a canvas element, loads images, adds events, and draws the canvas for the first time.<br>*&#x2F;<br>function prepareCanvas()<br>{<br>  &#x2F;&#x2F; Create the canvas (Neccessary for IE because it doesn&#39;t know what a canvas element is)<br>  var canvasDiv = document.getElementById(&#39;canvasDiv&#39;);<br>  canvas = document.createElement(&#39;canvas&#39;);<br>  canvas.setAttribute(&#39;width&#39;, canvasWidth);<br>  canvas.setAttribute(&#39;height&#39;, canvasHeight);<br>  canvas.setAttribute(&#39;id&#39;, &#39;canvas&#39;);<br>  canvasDiv.appendChild(canvas);<br>  if(typeof G_vmlCanvasManager != &#39;undefined&#39;) {<pre><code class="hljs">  <span class="hljs-keyword">canvas</span> = G_vmlCanvasManager.initElement(<span class="hljs-keyword">canvas</span>);
</code></pre>  }</li>
</ul>
<pre><code class="hljs">context = canvas.getContext(<span class="hljs-string">"2d"</span>); <span class="hljs-comment">// Grab the 2d canvas context</span>
<span class="hljs-comment">// <span class="hljs-doctag">Note:</span> The above code is a workaround for IE 8 and lower. Otherwise we could have used:</span>
<span class="hljs-comment">//     context = document.getElementById('canvas').getContext("2d");</span>

<span class="hljs-comment">// Load images</span>
<span class="hljs-comment">// -----------</span>
VertImage.onload = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{ resourceLoaded(); 
}
VertImage.src = <span class="hljs-string">"pictures/VertImage_Pastille.png"</span>;
<span class="hljs-comment">//context.drawImage(VertImage, 0, 0, 100, 100);</span>

markerImage.onload = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{ resourceLoaded();

}
JauneImage.src = <span class="hljs-string">"pictures/JauneImage_Pastille.png"</span>;
<span class="hljs-comment">//context.drawImage(VertImage, 0, 0, 100, 100);</span>

markerImage.onload = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{ resourceLoaded(); 
}

RoseImage.src = <span class="hljs-string">"pictures/RoseImage_Pastille.png"</span>;
<span class="hljs-comment">//context.drawImage(VertImage, 0, 0, 100, 100);</span>

markerImage.onload = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{ resourceLoaded(); 
}
OrangeImage.src = <span class="hljs-string">"pictures/OrangeImage_Pastille.png"</span>;
<span class="hljs-comment">//context.drawImage(VertImage, 0, 0, 100, 100);</span>

markerImage.onload = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{ resourceLoaded(); 
}
MauveImage.src = <span class="hljs-string">"pictures/MauveImage_Pastille.png"</span>;
<span class="hljs-comment">//context.drawImage(VertImage, 0, 0, 100, 100);</span>

markerImage.onload = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{ resourceLoaded(); 
}
BleuClairImage.src = <span class="hljs-string">"pictures/BleuClairImage_Pastille.png"</span>;
<span class="hljs-comment">//context.drawImage(VertImage, 0, 0, 100, 100);</span>

markerImage.onload = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{ resourceLoaded(); 
}
BrunImage.src = <span class="hljs-string">"pictures/BrunImage_Pastille.png"</span>;
<span class="hljs-comment">//context.drawImage(VertImage, 0, 0, 100, 100);</span>

markerImage.onload = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{ resourceLoaded(); 
}
BlancImage.src = <span class="hljs-string">"pictures/BlancImage_Pastille.png"</span>;
<span class="hljs-comment">//context.drawImage(VertImage, 0, 0, 100, 100);</span>

markerImage.onload = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{ resourceLoaded(); 
}
VertFonceImage.src = <span class="hljs-string">"pictures/VertFonceImage_Pastille.png"</span>;
<span class="hljs-comment">//context.drawImage(VertImage, 0, 0, 100, 100);</span>

markerImage.onload = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{ resourceLoaded(); 
}
JauneFonceImage.src = <span class="hljs-string">"pictures/JauneFonceImage_Pastille.png"</span>;
<span class="hljs-comment">//context.drawImage(VertImage, 0, 0, 100, 100);</span>

markerImage.onload = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{ resourceLoaded(); 
}
RougeImage.src = <span class="hljs-string">"pictures/RougeImage_Pastille.png"</span>;
<span class="hljs-comment">//context.drawImage(VertImage, 0, 0, 100, 100);</span>

markerImage.onload = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{ resourceLoaded(); 
}
RoseFonceImage.src = <span class="hljs-string">"pictures/RoseFonceImage_Pastille.png"</span>;
<span class="hljs-comment">//context.drawImage(VertImage, 0, 0, 100, 100);</span>

markerImage.onload = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{ resourceLoaded(); 
}
MauveFonceImage.src = <span class="hljs-string">"pictures/MauveFonceImage_Pastille.png"</span>;
<span class="hljs-comment">//context.drawImage(VertImage, 0, 0, 100, 100);</span>

markerImage.onload = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{ resourceLoaded(); 
}
BleuFonceImage.src = <span class="hljs-string">"pictures/BleuFonceImage_Pastille.png"</span>;
<span class="hljs-comment">//context.drawImage(VertImage, 0, 0, 100, 100);</span>

markerImage.onload = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{ resourceLoaded(); 
}
GrisImage.src = <span class="hljs-string">"pictures/GrisImage_Pastille.png"</span>;
<span class="hljs-comment">//context.drawImage(VertImage, 0, 0, 100, 100);</span>

markerImage.onload = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{ resourceLoaded(); 
}
NoirImage.src = <span class="hljs-string">"pictures/NoirImage_Pastille.png"</span>;
<span class="hljs-comment">//context.drawImage(VertImage, 0, 0, 100, 100);</span>

markerImage.onload = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{ resourceLoaded(); 
}

markerImage.src = <span class="hljs-string">"images/marker-outline.png"</span>;

Gomme_Image.onload = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{ resourceLoaded(); 
}
Gomme_Image.src = <span class="hljs-string">"pictures/gomme.png"</span>;    

Pinceau_Image.onload = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{ resourceLoaded(); 
}
Pinceau_Image.src = <span class="hljs-string">"pictures/pinceau.png"</span>;    

TailleGrande_Image.onload = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{ resourceLoaded(); 
}
TailleGrande_Image.src = <span class="hljs-string">"pictures/Taille_Grande.png"</span>;

TailleMoyenne_Image.onload = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{ resourceLoaded(); 
}
TailleMoyenne_Image.src = <span class="hljs-string">"pictures/Taille_Moyenne.png"</span>;

TaillePetite_Image.onload = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{ resourceLoaded(); 
}
TaillePetite_Image.src = <span class="hljs-string">"pictures/Taille_Petite.png"</span>;

TailleMini_Image.onload = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{ resourceLoaded(); 
}
TailleMini_Image.src = <span class="hljs-string">"pictures/Taille_Mini.png"</span>;

crayonBackgroundImage.onload = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{ resourceLoaded(); 
}
crayonBackgroundImage.src = <span class="hljs-string">"images/crayon-background.png"</span>;

markerBackgroundImage.onload = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{ resourceLoaded(); 
}
markerBackgroundImage.src = <span class="hljs-string">"images/crayon-background.png"</span>;

eraserBackgroundImage.onload = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{ resourceLoaded(); 
}
eraserBackgroundImage.src = <span class="hljs-string">"pictures/gomme.png"</span>;

crayonTextureImage.onload = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{ resourceLoaded(); 
}
crayonTextureImage.src = <span class="hljs-string">"images/crayon-texture.png"</span>;

outlineImage.onload = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{ resourceLoaded(); 
}
outlineImage.src = <span class="hljs-string">"pictures/Wall01.png"</span>;




<span class="hljs-comment">// Add mouse events</span>
<span class="hljs-comment">// ----------------</span>
$(<span class="hljs-string">'#canvas'</span>).mousedown(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">onTouchStart</span>(<span class="hljs-params">e</span>)
</span>{
    <span class="hljs-comment">// Mouse down location</span>
    <span class="hljs-keyword">var</span> mouseX = e.pageX ; 
    <span class="hljs-keyword">var</span> mouseY = e.pageY ;


    <span class="hljs-keyword">if</span>(mouseX &lt; drawingAreaX) <span class="hljs-comment">// Left of the drawing area</span>
    {
        <span class="hljs-keyword">if</span>(mouseX &gt; mediumStartX)
        {
            <span class="hljs-keyword">if</span>(mouseY &gt; mediumStartY &amp;&amp; mouseY &lt; mediumStartY * <span class="hljs-number">2</span>){
                curColor = colorVert;
            }<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(mouseY &gt; mediumStartY * <span class="hljs-number">2</span> &amp;&amp; mouseY &lt; mediumStartY * <span class="hljs-number">3</span>){
                curColor = colorJaune;
            }<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(mouseY &gt; mediumStartY  * <span class="hljs-number">3</span> &amp;&amp; mouseY &lt; mediumStartY * <span class="hljs-number">4</span>){
                curColor = colorOrange;
            }<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(mouseY &gt; mediumStartY  * <span class="hljs-number">4</span> &amp;&amp; mouseY &lt; mediumStartY * <span class="hljs-number">5</span>){
                curColor = colorRose;
            }<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(mouseY &gt; mediumStartY  * <span class="hljs-number">5</span> &amp;&amp; mouseY &lt; mediumStartY * <span class="hljs-number">6</span>){
                curColor = colorMauve;
            }<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(mouseY &gt; mediumStartY  * <span class="hljs-number">6</span> &amp;&amp; mouseY &lt; mediumStartY * <span class="hljs-number">7</span>){
                curColor = colorBleuClair;
            }<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(mouseY &gt; mediumStartY  * <span class="hljs-number">7</span> &amp;&amp; mouseY &lt; mediumStartY * <span class="hljs-number">8</span>){
                curColor = colorBrun;
            }<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(mouseY &gt; mediumStartY  * <span class="hljs-number">8</span> &amp;&amp; mouseY &lt; mediumStartY * <span class="hljs-number">9</span>){
                curColor = colorBlanc;
            }
        }
        <span class="hljs-keyword">if</span>(mouseX &gt; mediumStartX + mediumImageWidth)
        {
            <span class="hljs-keyword">if</span>(mouseY &gt; mediumStartY &amp;&amp; mouseY &lt; mediumStartY * <span class="hljs-number">2</span>){
                curColor = colorVertFonce;
            }<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(mouseY &gt; mediumStartY * <span class="hljs-number">2</span> &amp;&amp; mouseY &lt; mediumStartY * <span class="hljs-number">3</span>){
                curColor = colorOrange;
            }<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(mouseY &gt; mediumStartY  * <span class="hljs-number">3</span> &amp;&amp; mouseY &lt; mediumStartY * <span class="hljs-number">4</span>){
                curColor = colorRouge;
            }<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(mouseY &gt; mediumStartY  * <span class="hljs-number">4</span> &amp;&amp; mouseY &lt; mediumStartY * <span class="hljs-number">5</span>){
                curColor = colorRoseFonce;
            }<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(mouseY &gt; mediumStartY  * <span class="hljs-number">5</span> &amp;&amp; mouseY &lt; mediumStartY * <span class="hljs-number">6</span>){
                curColor = colorMauveFonce;
            }<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(mouseY &gt; mediumStartY  * <span class="hljs-number">6</span> &amp;&amp; mouseY &lt; mediumStartY * <span class="hljs-number">7</span>){
                curColor = colorBleuFonce;
            }<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(mouseY &gt; mediumStartY  * <span class="hljs-number">7</span> &amp;&amp; mouseY &lt; mediumStartY * <span class="hljs-number">8</span>){
                curColor = colorGris;
            }<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(mouseY &gt; mediumStartY  * <span class="hljs-number">8</span> &amp;&amp; mouseY &lt; mediumStartY * <span class="hljs-number">9</span>){
                curColor = colorNoir;
            }
        }
    }
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(mouseX &gt; drawingAreaX + drawingAreaWidth) <span class="hljs-comment">// Right of the drawing area</span>
    {

                <span class="hljs-keyword">if</span>(mouseY &gt; EcartGommeY + GommeHeight + EcartPinceauY &amp;&amp; mouseY &lt; EcartGommeY + GommeHeight + EcartPinceauY + PinceauHeight &amp;&amp; mouseX &gt; drawingAreaX + drawingAreaWidth + EcartPinceauX &amp;&amp; mouseX &lt; drawingAreaX + drawingAreaWidth + EcartPinceauX + PinceauWidth ){
                    curTool = <span class="hljs-string">"crayon"</span>;
                }<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(mouseY &gt; EcartGommeY  &amp;&amp;  mouseY &lt; EcartGommeY + GommeHeight &amp;&amp; mouseX &gt; drawingAreaX + drawingAreaWidth + EcartGommeX &amp;&amp; mouseX &lt; drawingAreaX + drawingAreaWidth + EcartGommeX + GommeWidth ){
                    curTool = <span class="hljs-string">"eraser"</span>;
                }<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>( mouseY &gt; EcartGommeY + GommeHeight + EcartPinceauY + PinceauHeight + EcartTailleHuge &amp;&amp; mouseY &lt; EcartGommeY + GommeHeight + EcartPinceauY + PinceauHeight + EcartTailleHuge + HugeHeightWidth &amp;&amp; mouseX &gt; drawingAreaX + drawingAreaWidth + EcartHugeX &amp;&amp; mouseX &lt; drawingAreaX + drawingAreaWidth + EcartHugeX + HugeHeightWidth ){
                    curSize = <span class="hljs-string">"huge"</span>;
                }<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>( mouseY &gt; EcartGommeY + GommeHeight + EcartPinceauY + PinceauHeight + EcartTailleHuge + HugeHeightWidth + EcartTailleLarge &amp;&amp; mouseY &lt; EcartGommeY + GommeHeight + EcartPinceauY + PinceauHeight + EcartTailleHuge + HugeHeightWidth + EcartTailleLarge + LargeHeightWidth &amp;&amp; mouseX &gt; drawingAreaX + drawingAreaWidth + EcartLargeX &amp;&amp; mouseX &lt; drawingAreaX + drawingAreaWidth + EcartLargeX + LargeHeightWidth ){
                    curSize = <span class="hljs-string">"large"</span>;
                }<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>( mouseY &gt; EcartGommeY + GommeHeight + EcartPinceauY + PinceauHeight + EcartTailleHuge + HugeHeightWidth + EcartTailleLarge + LargeHeightWidth + EcartTailleNormal &amp;&amp; mouseY &lt; EcartGommeY + GommeHeight + EcartPinceauY + PinceauHeight + EcartTailleHuge + HugeHeightWidth + EcartTailleLarge + LargeHeightWidth + EcartTailleNormal + NormalHeightWidth &amp;&amp; mouseX &gt; drawingAreaX + drawingAreaWidth + EcartNormalX &amp;&amp; mouseX &lt; drawingAreaX + drawingAreaWidth + EcartNormalX + NormalHeightWidth ){
                    curSize = <span class="hljs-string">"normal"</span>;
                }<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>( mouseY &gt; EcartGommeY + GommeHeight + EcartPinceauY + PinceauHeight + EcartTailleHuge + HugeHeightWidth + EcartTailleLarge + LargeHeightWidth + EcartTailleNormal + NormalHeightWidth + EcartTailleSmall &amp;&amp; mouseY &lt; EcartGommeY + GommeHeight + EcartPinceauY + PinceauHeight + EcartTailleHuge + HugeHeightWidth + EcartTailleLarge + LargeHeightWidth + EcartTailleNormal + NormalHeightWidth + EcartTailleSmall + SmallHeightWidth &amp;&amp; mouseX &gt; drawingAreaX + drawingAreaWidth + EcartSmallX &amp;&amp; mouseX &lt; drawingAreaX + drawingAreaWidth + EcartSmallX + SmallHeightWidth ){
                    curSize = <span class="hljs-string">"small"</span>;
                }

    }


    paint = <span class="hljs-literal">true</span>;
    addClick(mouseX, mouseY, <span class="hljs-literal">false</span>);
    redraw();
});

$(<span class="hljs-string">'#canvas'</span>).mousemove(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">onTouchMove</span>(<span class="hljs-params">e</span>)</span>{
    <span class="hljs-keyword">if</span>(paint==<span class="hljs-literal">true</span>){
        addClick(e.pageX - <span class="hljs-keyword">this</span>.offsetLeft, e.pageY - <span class="hljs-keyword">this</span>.offsetTop, <span class="hljs-literal">true</span>);
        redraw();
    }
});

$(<span class="hljs-string">'#canvas'</span>).mouseup(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">onTouchEnd</span>(<span class="hljs-params">e</span>)</span>{
    paint = <span class="hljs-literal">false</span>;
      redraw();
});

<span class="hljs-comment">/**$('#canvas').mouseleave(function test01(e){
    paint = false;
});**/</span>
</code></pre><p>}</p>
<p>&#x2F;**</p>
<ul>
<li>Adds a point to the drawing array.</li>
<li>@param x</li>
<li>@param y</li>
<li>@param dragging<br>*&#x2F;<br>function addClick(x, y, dragging)<br>{<br>  clickX.push(x);<br>  clickY.push(y);<br>  clickTool.push(curTool);<br>  clickColor.push(curColor);<br>  clickSize.push(curSize);<br>  clickDrag.push(dragging);<br>}</li>
</ul>
<p>&#x2F;**</p>
<ul>
<li>Clears the canvas.<br>*&#x2F;<br>function clearCanvas()<br>{<br>  context.fillStyle = &#39;#ffffff&#39;; &#x2F;&#x2F; Work around for Chrome<br>  context.fillRect(0, 0, canvasWidth, canvasHeight); &#x2F;&#x2F; Fill in the canvas with white<br>  canvas.width = canvas.width; &#x2F;&#x2F; clears the canvas<br>}</li>
</ul>
<p>&#x2F;**</p>
<ul>
<li><p>Redraws the canvas.<br>*&#x2F;<br>function redraw()<br>{<br>  &#x2F;&#x2F; Make sure required resources are loaded before redrawing<br>  if(curLoadResNum &lt; totalLoadResources){ return; }</p>
<p>  clearCanvas();</p>
<p>  var locX;<br>  var locY;</p>
<p>  if(curTool == &quot;crayon&quot;)<br>  {</p>
<pre><code class="hljs">  <span class="hljs-comment">// Draw the crayon tool background</span>
  context.drawImage(Gomme_Image, <span class="hljs-number">803</span> , <span class="hljs-number">79</span>);
  context.drawImage(Pinceau_Image, <span class="hljs-number">783</span> , <span class="hljs-number">199</span> );
  context.drawImage(TailleGrande_Image, <span class="hljs-number">845</span> , <span class="hljs-number">323</span> );
  context.drawImage(TailleMoyenne_Image, <span class="hljs-number">857</span>, <span class="hljs-number">417</span> );
  context.drawImage(TaillePetite_Image, <span class="hljs-number">865</span> , <span class="hljs-number">491</span> );
  context.drawImage(TailleMini_Image, <span class="hljs-number">873</span> , <span class="hljs-number">549</span> );
  context.drawImage(crayonBackgroundImage, <span class="hljs-number">272</span>, <span class="hljs-number">51</span>, drawingAreaWidth, drawingAreaHeight);

  <span class="hljs-comment">// Vert Clair</span>
  (curColor == colorVert) ? <span class="hljs-number">18</span> : <span class="hljs-number">52</span>;
</code></pre></li>
</ul>
<pre><code class="hljs">    <span class="hljs-keyword">if</span>(curColor == colorVert){
        context.drawImage(VertImage, PosX, PosY, mediumImageWidth, mediumImageHeight);
    }<span class="hljs-keyword">else</span>{
        context.drawImage(VertImage, PosX, PosY, mediumImageHeight, mediumImageHeight);
    }

    <span class="hljs-comment">// Jaune</span>
    (curColor == colorJaune) ? <span class="hljs-number">18</span> : <span class="hljs-number">52</span>;



    <span class="hljs-keyword">if</span>(curColor == colorJaune){
        context.drawImage(JauneImage, PosX , Ecart + PosY, mediumImageWidth, mediumImageHeight);
    }<span class="hljs-keyword">else</span>{
        context.drawImage(JauneImage, PosX , Ecart + PosY, mediumImageWidth, mediumImageHeight);
    }
    <span class="hljs-comment">// Orange</span>
    (curColor == colorOrange) ? <span class="hljs-number">18</span> : <span class="hljs-number">52</span>;



    <span class="hljs-keyword">if</span>(curColor == colorOrange){
        context.drawImage(OrangeImage, PosX, Ecart * <span class="hljs-number">2</span> + PosY, mediumImageWidth, mediumImageHeight);
    }<span class="hljs-keyword">else</span>{
        context.drawImage(OrangeImage, PosX, Ecart * <span class="hljs-number">2</span> + PosY, mediumImageWidth, mediumImageHeight);
    }
    <span class="hljs-comment">// Rose</span>
    (curColor == colorRose) ? <span class="hljs-number">18</span> : <span class="hljs-number">52</span>;



    <span class="hljs-keyword">if</span>(curColor == colorRose){
        context.drawImage(RoseImage, PosX, Ecart * <span class="hljs-number">3</span> + PosY, mediumImageWidth, mediumImageHeight);
    }<span class="hljs-keyword">else</span>{
        context.drawImage(RoseImage, PosX, Ecart * <span class="hljs-number">3</span> + PosY, mediumImageWidth, mediumImageHeight);
    }
    <span class="hljs-comment">// Mauve</span>
    (curColor == colorMauve) ? <span class="hljs-number">18</span> : <span class="hljs-number">52</span>;



    <span class="hljs-keyword">if</span>(curColor == colorMauve){
        context.drawImage(MauveImage, PosX, Ecart * <span class="hljs-number">4</span> + PosY, mediumImageWidth, mediumImageHeight);
    }<span class="hljs-keyword">else</span>{
        context.drawImage(MauveImage, PosX, Ecart * <span class="hljs-number">4</span> + PosY, mediumImageWidth, mediumImageHeight);
    }
    <span class="hljs-comment">// Bleu Clair</span>
    (curColor == colorBleuClair) ? <span class="hljs-number">18</span> : <span class="hljs-number">52</span>;



    <span class="hljs-keyword">if</span>(curColor == colorBleuClair){
        context.drawImage(BleuClairImage, PosX, Ecart * <span class="hljs-number">5</span> + PosY, mediumImageWidth, mediumImageHeight);
    }<span class="hljs-keyword">else</span>{
        context.drawImage(BleuClairImage, PosX, Ecart * <span class="hljs-number">5</span> + PosY, mediumImageWidth, mediumImageHeight);
    }

    <span class="hljs-comment">// Brun</span>
    (curColor == colorBrun) ? <span class="hljs-number">18</span> : <span class="hljs-number">52</span>;


    <span class="hljs-keyword">if</span>(curColor == colorBrun){
        context.drawImage(BrunImage, PosX, Ecart * <span class="hljs-number">6</span> + PosY, mediumImageWidth, mediumImageHeight);
    }<span class="hljs-keyword">else</span>{
        context.drawImage(BrunImage, PosX, Ecart * <span class="hljs-number">6</span> + PosY, mediumImageWidth, mediumImageHeight);
    }

    <span class="hljs-comment">// blanc</span>
    (curColor == colorBlanc) ? <span class="hljs-number">18</span> : <span class="hljs-number">52</span>;


    <span class="hljs-keyword">if</span>(curColor == colorBlanc){
        context.drawImage(BlancImage, PosX, Ecart * <span class="hljs-number">7</span> + PosY, mediumImageWidth, mediumImageHeight);
    }<span class="hljs-keyword">else</span>{
        context.drawImage(BlancImage, PosX, Ecart * <span class="hljs-number">7</span> + PosY, mediumImageWidth, mediumImageHeight);
    }
    <span class="hljs-comment">// Vert FoncŽ</span>
    (curColor == colorVertFonce) ? <span class="hljs-number">18</span> : <span class="hljs-number">52</span>;


    <span class="hljs-keyword">if</span>(curColor == colorVertFonce){
        context.drawImage(VertFonceImage, PosX + <span class="hljs-number">79</span>, PosY, mediumImageWidth, mediumImageHeight);
    }<span class="hljs-keyword">else</span>{
        context.drawImage(VertFonceImage, PosX + <span class="hljs-number">79</span>, PosY, mediumImageWidth, mediumImageHeight);
    }

    <span class="hljs-comment">// Jaunes FoncŽ</span>
    (curColor == colorJauneFonce) ? <span class="hljs-number">18</span> : <span class="hljs-number">52</span>;



    <span class="hljs-keyword">if</span>(curColor == colorJauneFonce){
        context.drawImage(JauneFonceImage, PosX + <span class="hljs-number">79</span>, Ecart + PosY, mediumImageWidth, mediumImageHeight);
    }<span class="hljs-keyword">else</span>{
        context.drawImage(JauneFonceImage, PosX + <span class="hljs-number">79</span>, Ecart + PosY, mediumImageWidth, mediumImageHeight);
    }
    <span class="hljs-comment">// Rouge</span>
    (curColor == colorRouge) ? <span class="hljs-number">18</span> : <span class="hljs-number">52</span>;



    <span class="hljs-keyword">if</span>(curColor == colorRouge){
        context.drawImage(RougeImage, PosX + <span class="hljs-number">79</span>, Ecart * <span class="hljs-number">2</span> + PosY, mediumImageWidth, mediumImageHeight);
    }<span class="hljs-keyword">else</span>{
        context.drawImage(RougeImage, PosX + <span class="hljs-number">79</span>, Ecart * <span class="hljs-number">2</span> + PosY, mediumImageWidth, mediumImageHeight);
    }
    <span class="hljs-comment">// Rose FoncŽ</span>
    (curColor == colorRoseFonce) ? <span class="hljs-number">18</span> : <span class="hljs-number">52</span>;



    <span class="hljs-keyword">if</span>(curColor == colorRoseFonce){
        context.drawImage(RoseFonceImage, PosX + <span class="hljs-number">79</span>, Ecart * <span class="hljs-number">3</span> + PosY, mediumImageWidth, mediumImageHeight);
    }<span class="hljs-keyword">else</span>{
        context.drawImage(RoseFonceImage, PosX + <span class="hljs-number">79</span>, Ecart * <span class="hljs-number">3</span> + PosY, mediumImageWidth, mediumImageHeight);
    }
    <span class="hljs-comment">// Mauve foncŽ</span>
    (curColor == colorMauveFonce) ? <span class="hljs-number">18</span> : <span class="hljs-number">52</span>;



    <span class="hljs-keyword">if</span>(curColor == colorMauveFonce){
        context.drawImage(MauveFonceImage, PosX + <span class="hljs-number">79</span>, Ecart * <span class="hljs-number">4</span> + PosY, mediumImageWidth, mediumImageHeight);
    }<span class="hljs-keyword">else</span>{
        context.drawImage(MauveFonceImage, PosX + <span class="hljs-number">79</span>, Ecart * <span class="hljs-number">4</span> + PosY, mediumImageWidth, mediumImageHeight);
    }
    <span class="hljs-comment">// Bleu foncŽ</span>
    (curColor == colorBleuFonce) ? <span class="hljs-number">18</span> : <span class="hljs-number">52</span>;



    <span class="hljs-keyword">if</span>(curColor == colorBleuFonce){
        context.drawImage(BleuFonceImage, PosX + <span class="hljs-number">79</span>, Ecart * <span class="hljs-number">5</span> + PosY, mediumImageWidth, mediumImageHeight);
    }<span class="hljs-keyword">else</span>{
        context.drawImage(BleuFonceImage, PosX + <span class="hljs-number">79</span>, Ecart * <span class="hljs-number">5</span> + PosY, mediumImageWidth, mediumImageHeight);
    }

    <span class="hljs-comment">// Gris</span>
    (curColor == colorGris) ? <span class="hljs-number">18</span> : <span class="hljs-number">52</span>;


    <span class="hljs-keyword">if</span>(curColor == colorGris){
        context.drawImage(GrisImage, PosX + <span class="hljs-number">79</span>, Ecart * <span class="hljs-number">6</span> + PosY, mediumImageWidth, mediumImageHeight);
    }<span class="hljs-keyword">else</span>{
        context.drawImage(GrisImage, PosX + <span class="hljs-number">79</span>, Ecart * <span class="hljs-number">6</span> + PosY, mediumImageWidth, mediumImageHeight);
    }

    <span class="hljs-comment">// Noir</span>
    (curColor == colorNoir) ? <span class="hljs-number">18</span> : <span class="hljs-number">52</span>;



    <span class="hljs-keyword">if</span>(curColor == colorNoir){
        context.drawImage(NoirImage, PosX + <span class="hljs-number">79</span>, Ecart * <span class="hljs-number">7</span> + PosY, mediumImageWidth, mediumImageHeight);
    }<span class="hljs-keyword">else</span>{
        context.drawImage(NoirImage, PosX + <span class="hljs-number">79</span>, Ecart * <span class="hljs-number">7</span> + PosY, mediumImageWidth, mediumImageHeight);
    }
}
</code></pre><p>else if(curTool == &quot;eraser&quot;)</p>
<pre><code class="hljs">{

    context.drawImage(Gomme_Image, <span class="hljs-number">803</span> , <span class="hljs-number">79</span>);
    context.drawImage(Pinceau_Image, <span class="hljs-number">783</span> , <span class="hljs-number">199</span> );
    context.drawImage(TailleGrande_Image, <span class="hljs-number">845</span> , <span class="hljs-number">323</span> );
    context.drawImage(TailleMoyenne_Image, <span class="hljs-number">857</span>, <span class="hljs-number">417</span> );
    context.drawImage(TaillePetite_Image, <span class="hljs-number">865</span> , <span class="hljs-number">491</span> );
    context.drawImage(TailleMini_Image, <span class="hljs-number">873</span> , <span class="hljs-number">549</span> );
    context.drawImage(crayonBackgroundImage, <span class="hljs-number">272</span>, <span class="hljs-number">51</span>, drawingAreaWidth, drawingAreaHeight);


            <span class="hljs-keyword">if</span>(curColor == colorVert){
        context.drawImage(VertImage, PosX, PosY, mediumImageWidth, mediumImageHeight);
    }<span class="hljs-keyword">else</span>{
        context.drawImage(VertImage, PosX, PosY, mediumImageHeight, mediumImageHeight);
    }

    <span class="hljs-comment">// Jaune</span>
    (curColor == colorJaune) ? 18 : <span class="hljs-number">52</span>;



    <span class="hljs-keyword">if</span>(curColor == colorJaune){
        context.drawImage(JauneImage, PosX , Ecart + PosY, mediumImageWidth, mediumImageHeight);
    }<span class="hljs-keyword">else</span>{
        context.drawImage(JauneImage, PosX , Ecart + PosY, mediumImageWidth, mediumImageHeight);
    }
    <span class="hljs-comment">// Orange</span>
    (curColor == colorOrange) ? 18 : <span class="hljs-number">52</span>;



    <span class="hljs-keyword">if</span>(curColor == colorOrange){
        context.drawImage(OrangeImage, PosX, Ecart * <span class="hljs-number">2</span> + PosY, mediumImageWidth, mediumImageHeight);
    }<span class="hljs-keyword">else</span>{
        context.drawImage(OrangeImage, PosX, Ecart * <span class="hljs-number">2</span> + PosY, mediumImageWidth, mediumImageHeight);
    }
    <span class="hljs-comment">// Rose</span>
    (curColor == colorRose) ? 18 : <span class="hljs-number">52</span>;



    <span class="hljs-keyword">if</span>(curColor == colorRose){
        context.drawImage(RoseImage, PosX, Ecart * <span class="hljs-number">3</span> + PosY, mediumImageWidth, mediumImageHeight);
    }<span class="hljs-keyword">else</span>{
        context.drawImage(RoseImage, PosX, Ecart * <span class="hljs-number">3</span> + PosY, mediumImageWidth, mediumImageHeight);
    }
    <span class="hljs-comment">// Mauve</span>
    (curColor == colorMauve) ? 18 : <span class="hljs-number">52</span>;



    <span class="hljs-keyword">if</span>(curColor == colorMauve){
        context.drawImage(MauveImage, PosX, Ecart * <span class="hljs-number">4</span> + PosY, mediumImageWidth, mediumImageHeight);
    }<span class="hljs-keyword">else</span>{
        context.drawImage(MauveImage, PosX, Ecart * <span class="hljs-number">4</span> + PosY, mediumImageWidth, mediumImageHeight);
    }
    <span class="hljs-comment">// Bleu Clair</span>
    (curColor == colorBleuClair) ? 18 : <span class="hljs-number">52</span>;



    <span class="hljs-keyword">if</span>(curColor == colorBleuClair){
        context.drawImage(BleuClairImage, PosX, Ecart * <span class="hljs-number">5</span> + PosY, mediumImageWidth, mediumImageHeight);
    }<span class="hljs-keyword">else</span>{
        context.drawImage(BleuClairImage, PosX, Ecart * <span class="hljs-number">5</span> + PosY, mediumImageWidth, mediumImageHeight);
    }

    <span class="hljs-comment">// Brun</span>
    (curColor == colorBrun) ? 18 : <span class="hljs-number">52</span>;


    <span class="hljs-keyword">if</span>(curColor == colorBrun){
        context.drawImage(BrunImage, PosX, Ecart * <span class="hljs-number">6</span> + PosY, mediumImageWidth, mediumImageHeight);
    }<span class="hljs-keyword">else</span>{
        context.drawImage(BrunImage, PosX, Ecart * <span class="hljs-number">6</span> + PosY, mediumImageWidth, mediumImageHeight);
    }

    <span class="hljs-comment">// blanc</span>
    (curColor == colorBlanc) ? 18 : <span class="hljs-number">52</span>;


    <span class="hljs-keyword">if</span>(curColor == colorBlanc){
        context.drawImage(BlancImage, PosX, Ecart * <span class="hljs-number">7</span> + PosY, mediumImageWidth, mediumImageHeight);
    }<span class="hljs-keyword">else</span>{
        context.drawImage(BlancImage, PosX, Ecart * <span class="hljs-number">7</span> + PosY, mediumImageWidth, mediumImageHeight);
    }
    <span class="hljs-comment">// Vert FoncŽ</span>
    (curColor == colorVertFonce) ? 18 : <span class="hljs-number">52</span>;


    <span class="hljs-keyword">if</span>(curColor == colorVertFonce){
        context.drawImage(VertFonceImage, PosX + <span class="hljs-number">79</span>, PosY, mediumImageWidth, mediumImageHeight);
    }<span class="hljs-keyword">else</span>{
        context.drawImage(VertFonceImage, PosX + <span class="hljs-number">79</span>, PosY, mediumImageWidth, mediumImageHeight);
    }

    <span class="hljs-comment">// Jaunes FoncŽ</span>
    (curColor == colorJauneFonce) ? 18 : <span class="hljs-number">52</span>;



    <span class="hljs-keyword">if</span>(curColor == colorJauneFonce){
        context.drawImage(JauneFonceImage, PosX + <span class="hljs-number">79</span>, Ecart + PosY, mediumImageWidth, mediumImageHeight);
    }<span class="hljs-keyword">else</span>{
        context.drawImage(JauneFonceImage, PosX + <span class="hljs-number">79</span>, Ecart + PosY, mediumImageWidth, mediumImageHeight);
    }
    <span class="hljs-comment">// Rouge</span>
    (curColor == colorRouge) ? 18 : <span class="hljs-number">52</span>;



    <span class="hljs-keyword">if</span>(curColor == colorRouge){
        context.drawImage(RougeImage, PosX + <span class="hljs-number">79</span>, Ecart * <span class="hljs-number">2</span> + PosY, mediumImageWidth, mediumImageHeight);
    }<span class="hljs-keyword">else</span>{
        context.drawImage(RougeImage, PosX + <span class="hljs-number">79</span>, Ecart * <span class="hljs-number">2</span> + PosY, mediumImageWidth, mediumImageHeight);
    }
    <span class="hljs-comment">// Rose FoncŽ</span>
    (curColor == colorRoseFonce) ? 18 : <span class="hljs-number">52</span>;



    <span class="hljs-keyword">if</span>(curColor == colorRoseFonce){
        context.drawImage(RoseFonceImage, PosX + <span class="hljs-number">79</span>, Ecart * <span class="hljs-number">3</span> + PosY, mediumImageWidth, mediumImageHeight);
    }<span class="hljs-keyword">else</span>{
        context.drawImage(RoseFonceImage, PosX + <span class="hljs-number">79</span>, Ecart * <span class="hljs-number">3</span> + PosY, mediumImageWidth, mediumImageHeight);
    }
    <span class="hljs-comment">// Mauve foncŽ</span>
    (curColor == colorMauveFonce) ? 18 : <span class="hljs-number">52</span>;



    <span class="hljs-keyword">if</span>(curColor == colorMauveFonce){
        context.drawImage(MauveFonceImage, PosX + <span class="hljs-number">79</span>, Ecart * <span class="hljs-number">4</span> + PosY, mediumImageWidth, mediumImageHeight);
    }<span class="hljs-keyword">else</span>{
        context.drawImage(MauveFonceImage, PosX + <span class="hljs-number">79</span>, Ecart * <span class="hljs-number">4</span> + PosY, mediumImageWidth, mediumImageHeight);
    }
    <span class="hljs-comment">// Bleu foncŽ</span>
    (curColor == colorBleuFonce) ? 18 : <span class="hljs-number">52</span>;



    <span class="hljs-keyword">if</span>(curColor == colorBleuFonce){
        context.drawImage(BleuFonceImage, PosX + <span class="hljs-number">79</span>, Ecart * <span class="hljs-number">5</span> + PosY, mediumImageWidth, mediumImageHeight);
    }<span class="hljs-keyword">else</span>{
        context.drawImage(BleuFonceImage, PosX + <span class="hljs-number">79</span>, Ecart * <span class="hljs-number">5</span> + PosY, mediumImageWidth, mediumImageHeight);
    }

    <span class="hljs-comment">// Gris</span>
    (curColor == colorGris) ? 18 : <span class="hljs-number">52</span>;


    <span class="hljs-keyword">if</span>(curColor == colorGris){
        context.drawImage(GrisImage, PosX + <span class="hljs-number">79</span>, Ecart * <span class="hljs-number">6</span> + PosY, mediumImageWidth, mediumImageHeight);
    }<span class="hljs-keyword">else</span>{
        context.drawImage(GrisImage, PosX + <span class="hljs-number">79</span>, Ecart * <span class="hljs-number">6</span> + PosY, mediumImageWidth, mediumImageHeight);
    }

    <span class="hljs-comment">// Noir</span>
    (curColor == colorNoir) ? 18 : <span class="hljs-number">52</span>;



    <span class="hljs-keyword">if</span>(curColor == colorNoir){
        context.drawImage(NoirImage, PosX + <span class="hljs-number">79</span>, Ecart * <span class="hljs-number">7</span> + PosY, mediumImageWidth, mediumImageHeight);
    }<span class="hljs-keyword">else</span>{
        context.drawImage(NoirImage, PosX + <span class="hljs-number">79</span>, Ecart * <span class="hljs-number">7</span> + PosY, mediumImageWidth, mediumImageHeight);
    }



}

<span class="hljs-keyword">if</span>(curSize == <span class="hljs-string">"small"</span>){
    locX = <span class="hljs-number">873</span>, locY = <span class="hljs-number">549</span>;
}<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(curSize == <span class="hljs-string">"normal"</span>){
    locX = <span class="hljs-number">865</span>, locY =<span class="hljs-number">491</span>;
}<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(curSize == <span class="hljs-string">"large"</span>){
    locX = <span class="hljs-number">857</span>, locY = <span class="hljs-number">417</span>;
}<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(curSize == <span class="hljs-string">"huge"</span>){
    locX = <span class="hljs-number">845</span>, locY =<span class="hljs-number">323</span>;
}


<span class="hljs-comment">// Keep the drawing in the drawing area</span>
context.save();
context.rect(drawingAreaX, drawingAreaY, drawingAreaWidth, drawingAreaHeight);
context.clip();

var radius;
var i = <span class="hljs-number">0</span>;
<span class="hljs-keyword">for</span>(; i &lt; clickX.length; i++)
{        
    <span class="hljs-keyword">if</span>(clickSize[i] == <span class="hljs-string">"small"</span>){
        radius = <span class="hljs-number">2</span>;
    }<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(clickSize[i] == <span class="hljs-string">"normal"</span>){
        radius = <span class="hljs-number">5</span>;
    }<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(clickSize[i] == <span class="hljs-string">"large"</span>){
        radius = <span class="hljs-number">10</span>;
    }<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(clickSize[i] == <span class="hljs-string">"huge"</span>){
        radius = <span class="hljs-number">20</span>;
    }<span class="hljs-keyword">else</span>{
        alert(<span class="hljs-string">"Error: Radius is zero for click "</span> + i);
        radius = <span class="hljs-number">0</span>;    
    }


    context.beginPath();
    <span class="hljs-keyword">if</span>(clickDrag[i] &amp;&amp; i){
        context.moveTo(clickX[i-<span class="hljs-number">1</span>], clickY[i-<span class="hljs-number">1</span>]);
    }<span class="hljs-keyword">else</span>{
        context.moveTo(clickX[i], clickY[i]);
    }
    context.lineTo(clickX[i], clickY[i]);
    context.stroke();
    context.closePath();

    <span class="hljs-keyword">if</span>(clickTool[i] == <span class="hljs-string">"eraser"</span>){
        <span class="hljs-comment">//context.globalCompositeOperation = "destination-out"; // To erase instead of draw over with white</span>
        context.strokeStyle = <span class="hljs-string">'white'</span>;
    }<span class="hljs-keyword">else</span>{
        <span class="hljs-comment">//context.globalCompositeOperation = "source-over";    // To erase instead of draw over with white</span>
        context.strokeStyle = clickColor[i];
    }
    context.lineJoin = <span class="hljs-string">"round"</span>;
    context.lineWidth = radius;


}


<span class="hljs-comment">// Draw the outline image</span>
context.drawImage(outlineImage, drawingAreaX, drawingAreaY, drawingAreaWidth, drawingAreaHeight);
</code></pre><p>}</p>
<p>&#x2F;**&#x2F;</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="June 11th 2011, 6:44:46 am">June 11th 2011</span>
				by <span class='authorname'>Kevin Debuisson</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>eventlistener</span></li>
					
						<li><span class='tagname'>ipad</span></li>
					
						<li><span class='tagname'>iphone</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-209917">
				
						<section>
							<ul>
<li>Use a pastie for this amount of code and if it&#39;s less code try to format it.</li>
</ul>
<ul>
<li>You are doing this in a webview, there is nothing to do with titanium.<br>Here is some info about the touch events for web:</li>
</ul>
<p>http:&#x2F;&#x2F;www.sitepen.com&#x2F;blog&#x2F;2008&#x2F;07&#x2F;10&#x2F;touching-and-gesturing-on-the-iphone&#x2F;</p>
<ul>
<li>Why don&#39;t you use the native drawing module? </li>
</ul>
<p>http:&#x2F;&#x2F;developer.appcelerator.com&#x2F;blog&#x2F;2011&#x2F;03&#x2F;abcs-writer-released-as-open-source.html</p>
<p>You have there the modules for ios, android, and even a demo app.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="June 11th 2011, 7:28:58 am">June 11th 2011</span>
								by <span class='authorname'>Dan Tamas</span><br>
								<a class="icon-bg icon-link" href="question/120879/hi-guys--im-going-to-kill-somebody#answer-209917" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>2</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
