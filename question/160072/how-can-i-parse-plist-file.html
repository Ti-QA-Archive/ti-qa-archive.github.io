<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>How can I parse plist file? » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>How can I parse plist file?</h1>
		</header>
		<section>
			<p>Hello,<br>I have to parse a plist file, so can I use parseString()?<br>I found this (https:&#x2F;&#x2F;github.com&#x2F;pugetive&#x2F;plist_parser) but both in iOS and Android it crash whit this error in line 44 of plist_parser.js:<br>&#39;undefined&#39; is not a function (evaluating plist_xml.getElementsByTagName(&#39;plist&#39;)&#39;)<br>Can someone help me please?</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="December 3rd 2013, 4:59:43 pm">December 3rd 2013</span>
				by <span class='authorname'>Francesca C</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>parse</span></li>
					
						<li><span class='tagname'>parsestring()</span></li>
					
						<li><span class='tagname'>plist</span></li>
					
						<li><span class='tagname'>plist_parser.js</span></li>
					
						<li><span class='tagname'>xml</span></li>
					
				</ul>
			

			<section>
				<h5>8 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Show your code on how you are trying to use it ?</p>
</div>
							<div class="author">
								&mdash; commented <span title="December 3rd 2013, 5:59:15 pm">December 3rd 2013</span>
								by <span class='authorname'>Nick Milner</span>
							</div>
						</li>
					
						<li class="comment">
							<div><pre><code class="hljs">Ti.include('plist_parser.js');

<span class="hljs-variable"><span class="hljs-keyword">var</span> fObj</span> = Ti.Filesystem.getFile(Ti.Filesystem.resourcesDirectory, 'personalChoiceMap.xml.plist');
<span class="hljs-variable"><span class="hljs-keyword">var</span> xmlStr</span> = fObj.read().text;

<span class="hljs-variable"><span class="hljs-keyword">var</span> jsonStr</span> = PlistParser.parse(xmlStr);

<span class="hljs-comment">//Ti.UI.createAlertDialog({ message: jsonStr }).show();</span>

<span class="hljs-variable"><span class="hljs-keyword">var</span> jsonObj</span> = JSON.parse(jsonStr);
</code></pre><p>The error is:    unable to parse JSON string</p>
</div>
							<div class="author">
								&mdash; commented <span title="December 3rd 2013, 7:56:39 pm">December 3rd 2013</span>
								by <span class='authorname'>Francesca C</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Which one is line 44? Is your plist file properly written? Inspect, in debug mode, the content of xmlStr and jsonStr and check if everything is ok.</p>
</div>
							<div class="author">
								&mdash; commented <span title="December 3rd 2013, 8:07:46 pm">December 3rd 2013</span>
								by <span class='authorname'>Charlie B</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Now I haven&#39;t error in line 44.<br>I don&#39;t know if my file should be .xml.plist or .xml or .plist?<br>And I don&#39;t know if I have to use Ti.Filesystem.resourcesDirectory or not.</p>
</div>
							<div class="author">
								&mdash; commented <span title="December 3rd 2013, 8:15:30 pm">December 3rd 2013</span>
								by <span class='authorname'>Francesca C</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Insert the following line after var xmlStr = fObj.read().text;</p>
<pre><code class="hljs"><span class="hljs-tag">Ti</span><span class="hljs-class">.API</span><span class="hljs-class">.info</span>(<span class="hljs-tag">xmlStr</span>);
</code></pre><p>and check the Console. What is the content of that string?</p>
</div>
							<div class="author">
								&mdash; commented <span title="December 3rd 2013, 8:37:52 pm">December 3rd 2013</span>
								by <span class='authorname'>Charlie B</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>if I&#39;m not wrong </p>
<pre><code class="hljs"><span class="hljs-variable"><span class="hljs-keyword">var</span> jsonStr</span> = PlistParser.parse(xmlStr);
</code></pre><p>returns an object already, you don&#39;t need to parse it with JSON.parse</p>
</div>
							<div class="author">
								&mdash; commented <span title="December 4th 2013, 7:09:07 am">December 4th 2013</span>
								by <span class='authorname'>Dan Tamas</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Ok! In fact, I realized that there is already the json object in my jsonStr.<br>However, I noted the content of jsonStr is not the same on both platforms, ex. on Android the first row corresponds to the last row of the same object in iOS, furthermore on Android the first element of array is the length, but not in the iOS jsonStr.<br>So how can I manage the json object in a unique way for both platforms?</p>
</div>
							<div class="author">
								&mdash; commented <span title="December 4th 2013, 8:04:59 am">December 4th 2013</span>
								by <span class='authorname'>Francesca C</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>So the PlistParser output is already a Javascript object (not a json object), right?</p>
</div>
							<div class="author">
								&mdash; commented <span title="December 5th 2013, 8:56:54 am">December 5th 2013</span>
								by <span class='authorname'>Francesca C</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>0</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>0 Answers</h3>

	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
