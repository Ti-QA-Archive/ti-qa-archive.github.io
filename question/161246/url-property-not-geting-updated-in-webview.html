<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>URL property not geting updated in webview Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>URL property not geting updated in webview</h1>
		</header>
		<section>
			<p>Am using 3.1.3.GA sdk, Alloys 1.2.2, 4.0 Android Emulator and  7.0 iPhone simulator. Am using wenviews beforeload and load events to check the URL its loading. But if we navigate from one URL to next, in beforeload event already loaded URL only present and not having the current loading URL. I need to make the webview to stop the URL from loading. How to achieve this? For example,</p>
<pre><code class="hljs">webview.addEventListener(<span class="hljs-string">'beforeload'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span></span>{
    <span class="hljs-keyword">var</span> url = webView.url;
        <span class="hljs-keyword">if</span>(url.indexOf(<span class="hljs-string">'test'</span>) &gt;= <span class="hljs-number">0</span>){
        close();
    }
});
</code></pre><p>Am redirecting to the URL, but after loading only the URL variable getting updated and used to close the webview. If I run the same code in load event, its running correctly,</p>
<pre><code class="hljs">webview.addEventListener(<span class="hljs-string">'load'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span></span>{
    <span class="hljs-keyword">var</span> url = webView.url;
        <span class="hljs-keyword">if</span>(url.indexOf(<span class="hljs-string">'test'</span>) &gt;= <span class="hljs-number">0</span>){
        close();
    }
});
</code></pre><p>But I need to run it in beforeload event only. Is it posible?</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="January 7th 2014, 7:21:02 am">January 7th 2014</span>
				by <span class='authorname'>Dont Know What to do</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>beforeload</span></li>
					
						<li><span class='tagname'>iphone</span></li>
					
						<li><span class='tagname'>webview</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-273567">
				
						<section>
							<p>Probably should be</p>
<pre><code class="hljs">webview.addEventListener(<span class="hljs-string">'beforeload'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span></span>{
    <span class="hljs-keyword">var</span> url = e.url;
        <span class="hljs-keyword">if</span>(url.indexOf(<span class="hljs-string">'test'</span>) &gt;= <span class="hljs-number">0</span>){
        close();
    }
});
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="January 7th 2014, 12:02:10 pm">January 7th 2014</span>
								by <span class='authorname'>Hani Hamadeh</span><br>
								<a class="icon-bg icon-link" href="question/161246/url-property-not-geting-updated-in-webview.html#answer-273567" rel="permalink">permalink</a>
							</div>

							<h5>3 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Thank you Hani. Its showing the already loaded url and not showing the presently loading URL. Thats the problem. Is it working properly for you, which sdk are you using?</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 7th 2014, 12:56:12 pm">January 7th 2014</span>
											by <span class='authorname'>Dont Know What to do</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Did you change the code as I indicated ? I did a slight change if you took notice.<br>I tested it on iOS, webview.url will be the old URL whereas e.url will contain the new one.</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 7th 2014, 1:30:44 pm">January 7th 2014</span>
											by <span class='authorname'>Hani Hamadeh</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>it did not work on android, any solution?</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 7th 2014, 6:13:37 am">July 7th 2014</span>
											by <span class='authorname'>fakru razie</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
