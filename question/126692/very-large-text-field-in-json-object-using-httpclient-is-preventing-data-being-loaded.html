<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Very large text field in JSON object using HTTPClient is preventing data being loaded » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Very large text field in JSON object using HTTPClient is preventing data being loaded</h1>
		</header>
		<section>
			<p>Hello,</p>
<p>I am using an HTTPClient call with JSON for iphone App and am having a problem with the content of one of my fields. I have done 2 tests using the same block of code, the first retrieves 4 field from the JSON object which works fine and these are very short text fields, I can see the data in debug an it displays on the screen. The second test includes my 5th field which contains all sorts of text includes line breaks, spaces and can be the contents of an email. When I include this field it just hangs. I&#39;m using json = JSON.parse(this.responseText) to get the data and my code is correct but i&#39;m not sure how to handle large blocks of text like this. Has anyone got any experience of handling large text fields?</p>
<p>Thanks</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="October 11th 2011, 10:53:08 am">October 11th 2011</span>
				by <span class='authorname'>Adam Carvalho</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>httpclient</span></li>
					
						<li><span class='tagname'>iphone</span></li>
					
						<li><span class='tagname'>json</span></li>
					
						<li><span class='tagname'>text</span></li>
					
						<li><span class='tagname'>textfield</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>3</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>3 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-220712">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>are you certain the large text field is valid JSON? I would suggest taking the output and using <a href="http:&#x2F;&#x2F;jsonlint.com&#x2F;">http:&#x2F;&#x2F;jsonlint.com&#x2F;</a> to validate the output</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="October 11th 2011, 11:07:29 am">October 11th 2011</span>
								by <span class='authorname'>Aaron Saunders</span><br>
								<a class="icon-bg icon-link" href="question/126692/very-large-text-field-in-json-object-using-httpclient-is-preventing-data-being-loaded#answer-220712" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-220747">
				
						<section>
							<p><a href="http:&#x2F;&#x2F;jsonlint.com&#x2F;">http:&#x2F;&#x2F;jsonlint.com&#x2F;</a> is a really handy tool thanks.</p>
<p>This was my error </p>
<pre><code class="hljs">Parse error on line 130:
...d"        ]    ]}<span class="hljs-comment">&lt;!--42548%#104--&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">!-</span>
<span class="hljs-attribute">--------------------</span>^
<span class="hljs-attribute">Expecting</span> '<span class="hljs-attribute">EOF</span>', '}', ',', ']'</span>
</code></pre><p>I ran my http call in <a href="http:&#x2F;&#x2F;jsonlint.com&#x2F;">http:&#x2F;&#x2F;jsonlint.com&#x2F;</a> and after some analysis have come to the conclusion that it does not like any of my fields that have HTML formatting in. The database that I get my data from for this particular field is entered via a form and the text box automatically converts the plain text to html and so has all sorts of characters are contained in my field.</p>
<p>Does JSON&#x2F;appcelerator&#x2F;javascript have a way of handling this type of format? or do I have to convert my text before I load it into my JSON object so it wont error?</p>
<p>Thanks</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="October 11th 2011, 3:57:47 pm">October 11th 2011</span>
								by <span class='authorname'>Adam Carvalho</span><br>
								<a class="icon-bg icon-link" href="question/126692/very-large-text-field-in-json-object-using-httpclient-is-preventing-data-being-loaded#answer-220747" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-220812">
				
						<section>
							<p>So I worked out what was causing by JSON content not to load in my APP. My field text was being stored in HTML format and so before loading it into the JSON object I converted it to non HTML format. I used the following function in javascript which removes HTML formatting</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> StrippedString = message.replace(<span class="hljs-regexp">/(&lt;([^&gt;]+)&gt;)/ig</span>,<span class="hljs-string">""</span>);
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="October 12th 2011, 12:28:31 pm">October 12th 2011</span>
								by <span class='authorname'>Adam Carvalho</span><br>
								<a class="icon-bg icon-link" href="question/126692/very-large-text-field-in-json-object-using-httpclient-is-preventing-data-being-loaded#answer-220812" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>can you mark the best answer and close this question so others know a solution was found.</p>
</p>
										<div class="author">
											&mdash; commented <span title="October 17th 2011, 4:44:01 am">October 17th 2011</span>
											by <span class='authorname'>Aaron Saunders</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
