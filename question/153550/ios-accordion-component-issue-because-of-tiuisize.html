<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>IOS Accordion Component Issue because of Ti.UI.SIZE Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>IOS Accordion Component Issue because of Ti.UI.SIZE</h1>
		</header>
		<section>
			<p>Hi,</p>
<pre><code class="hljs">I have created <span class="hljs-operator">an</span> accordion component <span class="hljs-operator">in</span> IOS.I have created <span class="hljs-operator">a</span> series <span class="hljs-operator">of</span> views[mainView] <span class="hljs-operator">and</span> added 
</code></pre><p>in scrollview.If the view is clicked ,then am adding a accordion data view [subscrollview] in the mainView and increase the mainView height.The problem we are facing is the mainView.height =Ti.UI.SIZE is not<br> working.We are not able to get the dynamic height of subscrollview.Please help me to fix this issue.Thanks in advance</p>
<p>var mainViewInd = [];<br>var subView = [];<br>var mainView = [];<br>scrollView = Titanium.UI.createScrollView({<br>contentWidth : &#39;auto&#39;,<br>contentHeight : &#39;auto&#39;,<br>top : topBar.height + 2,<br>bottom : flipbottomView.height,<br>showVerticalScrollIndicator : true,<br>showHorizontalScrollIndicator : true,<br>layout : &#39;vertical&#39;,<br>});<br>Ti.Gesture.addEventListener(&#39;orientationchange&#39;, function(e) {<br>if ((Titanium.UI.orientation === 1) || (Titanium.UI.orientation === 2)) {<br>scrollView.bottom = flipbottomView.height;<br>} else if ((Titanium.UI.orientation === 3) || (Titanium.UI.orientation === 4)) {<br>scrollView.bottom = flipbottomView.height;<br>}<br>});<br>if (pendingListArray.length &gt; 0) {<br>if (noRecordIndi) {<br>hideNoRecord();<br>}<br>for (var i = 0; i &lt; pendingListArray.length; i++) {<br>mainView[i] = Ti.UI.createView({<br>height : 60,<br>top : &#39;0dip&#39;,<br>sourceId : i,<br>layout : &#39;vertical&#39;,<br>scrollSource : &#39;accordionouterview&#39;,<br>});</p>
<p>mainView[i].addEventListener(&#39;click&#39;, function(e) {<br>var numberofAccordionRows = pendingListArray[e.source.sourceId].NoOfRow;<br>detailsArray = resultData.PendingApplicationsList[e.source.sourceId].RequestData;<br>arrowIconImg[e.source.sourceId].image = &#39;&#x2F;images&#x2F;upArrow.png&#39;;<br>if (mainViewInd[e.source.sourceId] != true) {<br>isSubView = false;<br>isScrollSubView = false;</p>
<p>for (var l = 0; l &lt; pendingListArray.length; l++) {<br>if (mainViewInd[l] == true) {<br>mainView[l].height = 60;<br>mainView[l].remove(scrollSubView[l]);<br>scrollSubView[l] = null;<br>shadowImageView[l].height = &#39;1dip&#39;;<br>shadowImageView[l].backgroundImage = &#39;&#x2F;images&#x2F;sep_line_new.png&#39;;<br>shadowImageView[l].backgroundColor = &#39;#CECEFC&#39;;<br>arrowIconImg[l].image = &#39;&#x2F;images&#x2F;downArrow.png&#39;;<br>mainViewInd[l] = false;<br>} else {<br>mainViewInd[l] = false;<br>}<br>}</p>
<p>mainViewInd[e.source.sourceId] = true;<br>shadowImageView[e.source.sourceId].backgroundColor = &#39;#f4f4f3&#39;;<br>shadowImageView[e.source.sourceId].zIndex = 1;<br>shadowImageView[e.source.sourceId].width = &#39;100%&#39;;<br>shadowImageView[e.source.sourceId].backgroundImage = &#39;&#x2F;images&#x2F;a_portrait.png&#39;;<br>shadowImageView[e.source.sourceId].height = &#39;14dip&#39;;<br>shadowImageView[e.source.sourceId].bottom = 0;</p>
<p>scrollSubView[e.source.sourceId] = Titanium.UI.createView({<br>top : 0,<br>layout : &#39;vertical&#39;,<br>});</p>
<p>&#x2F;&#x2F; Add to the parent view.</p>
<p>for (var j = 0; j &lt; detailsArray.length; j++) {<br>subView[j] = Ti.UI.createView({<br>width : &#39;100%&#39;,<br>top : 0,<br>sourceIdSub : j,<br>zIndex : 1,<br>accordionSource : &quot;accordion&quot;,<br>sourceId : e.source.sourceId,<br>backgroundColor : &#39;#f4f4f3&#39;,<br>&#x2F;&#x2F;layout : &#39;vertical&#39;<br>});<br>subView[j].addEventListener(&#39;click&#39;, function(e) {<br>isScrollSubView = true;<br>isSubView = true;<br>&#x2F;&#x2F;alert( e.source.sourceId+&#39;index &#39;+e.source.sourceIdSub);<br>detailsPopUp(e.source.sourceIdSub, e.source.sourceId);<br>});</p>
<p>Object.values = function(obj) {<br>var vals = [];<br>for (var key in obj ) {<br>if (obj.hasOwnProperty(key)) {<br>vals.push(obj[key]);<br>}<br>}<br>return vals;<br>}<br>var valueArray = Object.values(detailsArray[j].ListDetails);<br>var k = 1;<br>lblLabel1 = Ti.UI.createLabel({<br>color : &#39;#1d1e1e&#39;,<br>font : {<br>fontSize : &#39;14px&#39;,<br>fontFamily : customBoldFont,<br>fontWeight : &#39;bold&#39;<br>},<br>width : &#39;40%&#39;,<br>text : valueArray[k],<br>left : &#39;2%&#39;,<br>sourceIdSub : j,<br>sourceId : e.source.sourceId,<br>top : &#39;9%&#39;,<br>height : 20,<br>touchEnabled : false,<br>});</p>
<p>lblLabel2 = Ti.UI.createLabel({<br>color : &#39;#1d1e1e&#39;,<br>font : {<br>fontSize : &#39;14px&#39;,<br>fontFamily : customBoldFont,<br>fontWeight : &#39;bold&#39;<br>},<br>text : valueArray[k + 1],<br>right : &#39;2%&#39;,<br>textAlign : Ti.UI.TEXT_ALIGNMENT_RIGHT,<br>width : &#39;50%&#39;,<br>touchEnabled : false,<br>sourceIdSub : j,<br>sourceId : e.source.sourceId,<br>height : 20,<br>top : &#39;9%&#39;<br>});<br>lblLabel3 = Ti.UI.createLabel({<br>color : &#39;#696767&#39;,<br>font : {<br>fontSize : &#39;13px&#39;,<br>fontFamily : customFont<br>},<br>width : &#39;40%&#39;,<br>left : &#39;2%&#39;,<br>top : &#39;37%&#39;,<br>touchEnabled : false,<br>sourceIdSub : j,<br>sourceId : e.source.sourceId,<br>height : 20,<br>text : valueArray[k + 2],<br>});</p>
<p>lblLabel4 = Ti.UI.createLabel({<br>color : &#39;#696767&#39;,<br>font : {<br>fontSize : &#39;13px&#39;,<br>fontFamily : customFont<br>},<br>width : &#39;50%&#39;,<br>right : &#39;2%&#39;,<br>top : &#39;37%&#39;,<br>height : 20,<br>text : valueArray[k + 3],<br>verticalAlign : Ti.UI.TEXT_VERTICAL_ALIGNMENT_TOP,<br>textAlign : Ti.UI.TEXT_ALIGNMENT_RIGHT,<br>touchEnabled : false,<br>sourceIdSub : j,<br>sourceId : e.source.sourceId,<br>});</p>
<p>lblLabel5 = Ti.UI.createLabel({<br>color : &#39;#696767&#39;,<br>font : {<br>fontSize : &#39;12px&#39;,<br>fontFamily : customFont<br>},<br>width : &#39;40%&#39;,<br>text : valueArray[k + 4],<br>left : &#39;2%&#39;,<br>bottom : &#39;8%&#39;,<br>touchEnabled : false,<br>sourceIdSub : j,<br>sourceId : e.source.sourceId,<br>height : 20,<br>});</p>
<p>lblLabel6 = Ti.UI.createLabel({<br>color : &#39;#696767&#39;,<br>font : {<br>fontSize : &#39;12px&#39;,<br>fontFamily : customFont<br>},<br>text : valueArray[k + 5],<br>right : &#39;2%&#39;,<br>verticalAlign : Ti.UI.TEXT_VERTICAL_ALIGNMENT_CENTER,<br>width : &#39;50%&#39;,<br>textAlign : Ti.UI.TEXT_ALIGNMENT_RIGHT,<br>bottom : &#39;8%&#39;,<br>touchEnabled : false,<br>sourceIdSub : j,<br>sourceId : e.source.sourceId,<br>height : 20,<br>});<br>&#x2F;&#x2F; Create an ImageView.</p>
<p>&#x2F;&#x2F; Add to the parent view.<br>if (numberofAccordionRows &gt; 2) {<br>subView[j].height = &#39;70dip&#39;;<br>subView[j].add(lblLabel1);<br>subView[j].add(lblLabel2);<br>subView[j].add(lblLabel3);<br>subView[j].add(lblLabel4);</p>
<p>if (numberofAccordionRows === &quot;3&quot; &amp;&amp; pendingListArray[e.source.sourceId].RemarkExists === &quot;Y&quot;) {<br>var unicode = detailsArray[j].Remarks.search(&quot;\n&quot;);<br>if (unicode != -1) {<br>lblLabel5.text = detailsArray[j].Remarks.replace(&#x2F;\n&#x2F;g, &#39; &#39;);</p>
<p>} else {<br>lblLabel5.text = detailsArray[j].Remarks;<br>}<br>lblLabel5.width = &#39;96%&#39;;<br>subView[j].add(lblLabel5);<br>} else {<br>subView[j].add(lblLabel5);<br>subView[j].add(lblLabel6);<br>}<br>} else {<br>subView[j].height = 50;<br>subView[j].add(lblLabel1);<br>subView[j].add(lblLabel2);<br>lblLabel1.top = &#39;10%&#39;;<br>lblLabel2.top = &#39;10%&#39;;<br>subView[j].add(lblLabel3);<br>subView[j].add(lblLabel4);<br>lblLabel3.top = &#39;50%&#39;;<br>lblLabel4.top = &#39;50%&#39;;<br>}<br>&#x2F;&#x2F;    subView[j].add(subshadowImageView[i]);<br>subshadowImageView[i] = Ti.UI.createImageView({<br>image : &#39;images&#x2F;sep_line_new.png&#39;,<br>backgroundColor : &#39;#CECEFC&#39;,<br>width : &#39;100%&#39;,<br>touchEnabled : false,<br>});<br>scrollSubView[e.source.sourceId].add(subView[j]);<br>if (j === detailsArray.length - 1) {<br>subshadowImageView[i].height = &#39;1dip&#39;;<br>subshadowImageView[i].backgroundColor = &#39;#b0b0b0&#39;;<br>subshadowImageView[i].image = null;</p>
<p>} else {<br>subshadowImageView[i].image = &#39;images&#x2F;sep_line_new.png&#39;;<br>subshadowImageView[i].backgroundColor = &#39;#CECEFC&#39;;<br>}<br>scrollSubView[e.source.sourceId].add(subshadowImageView[i]);</p>
<p>};</p>
<p>mainView[e.source.sourceId].add(scrollSubView[e.source.sourceId]);</p>
<p>} else if (isSubView === true) {<br>isSubView = false;<br>isScrollSubView = false;<br>} else {</p>
<p>arrowIconImg[e.source.sourceId].image = &#39;&#x2F;images&#x2F;downArrow.png&#39;;<br>shadowImageView[e.source.sourceId].height = &#39;1dip&#39;;<br>shadowImageView[e.source.sourceId].backgroundImage = &#39;&#x2F;images&#x2F;sep_line_new.png&#39;;<br>shadowImageView[e.source.sourceId].backgroundColor = &#39;#CECEFC&#39;;<br>mainView[e.source.sourceId].remove(scrollSubView[e.source.sourceId]);<br>scrollSubView[e.source.sourceId] = null;<br>mainView[e.source.sourceId].height = 60;<br>mainViewInd[e.source.sourceId] = false;<br>}</p>
<p>});</p>
<p>var rowwin = Ti.UI.createView({<br>width : &#39;100%&#39;,<br>height : 58,<br>sourceId : i,<br>touchEnabled : false,<br>top : 0,<br>});</p>
<p>&#x2F;&#x2F; Create a Label.</p>
<p>appIconImg = Ti.UI.createImageView({<br>image : &#39;&#x2F;images&#x2F;&#39; + pendingListArray[i].AppCode.toLowerCase() + &#39;.png&#39;,<br>width : 30,<br>height : 30,<br>left : &#39;5dip&#39;,<br>touchEnabled : false,</p>
<p>});<br>var nameLabel = Ti.UI.createLabel({<br>text : pendingListArray[i].AppName,<br>color : &#39;#1d1e1e&#39;,<br>font : {<br>fontSize : &#39;16px&#39;,<br>fontFamily : customFont,<br>},<br>left : &#39;55dip&#39;,<br>height : 22,<br>touchEnabled : false,<br>textAlign : &#39;left&#39;<br>});</p>
<p>arrowIconImg[i] = Ti.UI.createImageView({<br>image : &#39;&#x2F;images&#x2F;downArrow.png&#39;,<br>right : &#39;15dip&#39;,<br>touchEnabled : false</p>
<p>});<br>&#x2F;&#x2F; Create an ImageView.</p>
<p>shadowImageView[i] = Ti.UI.createView({<br>backgroundColor : &#39;#CECEFC&#39;,<br>backgroundImage : &#39;&#x2F;images&#x2F;sep_line_new.png&#39;,<br>backgroundLeftCap : 140,<br>width : &#39;100%&#39;,<br>touchEnabled : false,<br>&#x2F;&#x2F;height:&#39;auto&#39;,<br>height : &#39;1dip&#39;,<br>&#x2F;&#x2F;bottom:0<br>});<br>&#x2F;&#x2F; Add to the parent view.<br>rowwin.add(appIconImg);<br>rowwin.add(nameLabel);<br>rowwin.add(arrowIconImg[i]);<br>&#x2F;&#x2F;rowwin.add(shadowImageView[i]);</p>
<p>mainView[i].add(rowwin);<br>mainView[i].add(shadowImageView[i]);</p>
<p>scrollView.add(mainView[i]);</p>
<p>}<br>MyRequestWin.add(scrollView);</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="June 12th 2013, 11:35:17 am">June 12th 2013</span>
				by <span class='authorname'>Bhuvaneswari Krishnan</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>ios</span></li>
					
						<li><span class='tagname'>scrollview</span></li>
					
						<li><span class='tagname'>ti.ui.size</span></li>
					
				</ul>
			

			<section>
				<h5>2 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Hi, can you format you code in the question? </p>
<pre><code class="hljs">my <span class="hljs-tag">code</span> question.
</code></pre><p>Is more readable :)</p>
</div>
							<div class="author">
								&mdash; commented <span title="June 12th 2013, 2:14:10 pm">June 12th 2013</span>
								by <span class='authorname'>Nuno Costa</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>+1 @Nuno</p>
</div>
							<div class="author">
								&mdash; commented <span title="June 12th 2013, 7:24:02 pm">June 12th 2013</span>
								by <span class='authorname'>Dan Tamas</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>-1</span> Votes</div>
			<div class="answers"><span>0</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>0 Answers</h3>

	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
