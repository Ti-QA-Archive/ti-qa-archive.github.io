<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Titanum JavaScript Time function Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Titanum JavaScript Time function</h1>
		</header>
		<section>
			<p>I want a function which wait for for example 2 second for an event happened if during 2 second an event didn&#39;t not happened it will continue the rest of lines  </p>
<p>work for titanium using java script</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="July 29th 2013, 2:56:20 pm">July 29th 2013</span>
				by <span class='authorname'>user new</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>ios</span></li>
					
						<li><span class='tagname'>javascript</span></li>
					
						<li><span class='tagname'>mobile</span></li>
					
						<li><span class='tagname'>titanium</span></li>
					
						<li><span class='tagname'>titanium studio</span></li>
					
				</ul>
			

			<section>
				<h5>3 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>I&#39;m sure you&#39;ll agree, that your question doesn&#39;t give us much to work with. I strongly suggest you have a look at <a href="http:&#x2F;&#x2F;developer.appcelerator.com&#x2F;question&#x2F;ask">the guidelines to follow</a> when asking a question.</p>
<p>Also, please include some code detailing what you are trying to achieve. This will give everyone a better understanding of the problem you are facing.</p>
<p>Simply asking for an entire solution without having experienced it yourself seems counter-productive.</p>
</div>
							<div class="author">
								&mdash; commented <span title="July 29th 2013, 10:00:16 pm">July 29th 2013</span>
								by <span class='authorname'>Christian Brousseau</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>var button = Ti.UI.createButton({ width : 130, left : 50, });<br>win.add(button);<br>var counter=0;<br>while (counter &lt; 100) { </p>
<p>sound = Titanium.Media.createSound({</p>
<p>url : dbase.getSound(sounds[counter])&#x2F;<em>sounds: is an array of sound file path</em>&#x2F;<br>});<br>sound.play();</p>
<p>wait(4000); &#x2F;&#x2F; js function<br>button.addEventListener(&#39;click&#39;, function() {</p>
<p>counter+=102; &#x2F;&#x2F; to stop while loop</p>
<p>});<br> }<br>counter++;<br>}</p>
</div>
							<div class="author">
								&mdash; commented <span title="July 30th 2013, 7:28:39 pm">July 30th 2013</span>
								by <span class='authorname'>user new</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>I have created a button outside the loop and I attached an eventlistener to that button so that when the user clicks the loop stops. The problem is my app gets into a loop that plays audio for 100 times and when it&#39;s inside that loop it will not trigger any user interaction. so what I want is a time function that will wait for the button&#39;s eventListener to fire else continue with rest of code</p>
</div>
							<div class="author">
								&mdash; commented <span title="July 30th 2013, 7:29:27 pm">July 30th 2013</span>
								by <span class='authorname'>user new</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>-3</span> Votes</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-266493">
				
						<section>
							<p>Hi,</p>
<p>You can use <code>setInterval</code> and for each second you can check if the event occurs:</p>
<pre><code class="hljs">var count = 0;
var timer =<span class="hljs-function"> setInterval(</span>function(<span class="hljs-function">)</span>{
    count++;
// Check<span class="hljs-instruction"> if </span>event occurs<span class="hljs-instruction"> execute </span>whatever you want ,otherwise  clearInterval would cancel this timer.
   <span class="hljs-instruction"> if </span>(count == 2<span class="hljs-function">)</span> {
       <span class="hljs-function"> clearInterval(</span>timer<span class="hljs-function">)</span>;
    }
}, 1000<span class="hljs-function">)</span>;
</code></pre><p>Thanks</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="July 29th 2013, 3:07:36 pm">July 29th 2013</span>
								by <span class='authorname'>meenakshi pathak</span><br>
								<a class="icon-bg icon-link" href="question/155407/titanum-javascript-time-function.html#answer-266493" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>could u tell me  how can I use setInterval and where I can put the event listener in the above code</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 30th 2013, 5:29:00 am">July 30th 2013</span>
											by <span class='authorname'>user new</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-266496">
				
						<section>
							<p>If I&#39;m understanding you right, you&#39;d like to listen for an event during a certain window of time and then ignore that going forward. Here&#39;s one way to do that (probably not the best way, but without knowing more about your code I&#39;m not sure exactly what you&#39;re looking for):</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> button = Ti.UI.createButton(), <span class="hljs-comment">// let's say it's a button</span>
    <span class="hljs-keyword">callback</span> = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{ <span class="hljs-comment">/* do some stuff... */</span> };

button.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-keyword">callback</span>); <span class="hljs-comment">// bind callback to your event</span>

setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{ button.removeEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-keyword">callback</span>); }, <span class="hljs-number">2000</span>); <span class="hljs-comment">// after two seconds, remove the callback</span>
</code></pre><p>Note that if the event that&#39;s added is fixed and will be reused many times, it might be easier and safer to have a flag set to see if the event should be completed:</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> button = Ti.UI.createButton(),
    enabled = <span class="hljs-literal">true</span>, <span class="hljs-comment">// let's say it's a button</span>
    <span class="hljs-keyword">callback</span> = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{ 
        <span class="hljs-keyword">if</span> (enabled) { <span class="hljs-comment">/* do some stuff... */</span> }
    };

button.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-keyword">callback</span>); <span class="hljs-comment">// bind callback to your event</span>

setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{ enabled = <span class="hljs-literal">false</span>; }, <span class="hljs-number">2000</span>); <span class="hljs-comment">// after two seconds, change enabled to false</span>
</code></pre><p>As long as you have access to the enabled variable you can control whether or not the stuff in the conditional will execute.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="July 29th 2013, 3:13:37 pm">July 29th 2013</span>
								by <span class='authorname'>Jeremy Sher</span><br>
								<a class="icon-bg icon-link" href="question/155407/titanum-javascript-time-function.html#answer-266496" rel="permalink">permalink</a>
							</div>

							<h5>8 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Can you post some example code? I have no idea what you&#39;re trying to do here.</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 30th 2013, 5:17:47 am">July 30th 2013</span>
											by <span class='authorname'>Jeremy Sher</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>its not working actually am using the above code inside a loop is there is any difference in the code</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 30th 2013, 5:18:49 am">July 30th 2013</span>
											by <span class='authorname'>user new</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I have created a button outside the loop and I attached an eventlistener to that button so that when the user clicks the loop stops.<br>The problem is my app gets into a loop that plays audio for 100 times and when it&#39;s inside that loop it will not trigger any user interaction.<br>so what I want is a time function that will wait for the button&#39;s eventListener to fire else continue with rest of code </p>
<p>var button = Ti.UI.createButton({ width : 130, left : 50, });</p>
<p>win.add(button);</p>
<p>var counter=0</p>
<p>while (counter &lt; 100) {</p>
<pre><code class="hljs">sound =<span class="hljs-function"> Titanium.Media.createSound(</span>{

    url<span class="hljs-keyword"> :</span><span class="hljs-function"> dbase.getSound(</span>sounds<span class="hljs-keyword">[</span>counter]<span class="hljs-function">)</span>/*sounds: is an<span class="hljs-instruction"> array </span>of sound file path*/

}<span class="hljs-function">)</span>;

sound.play(<span class="hljs-function">)</span>;

button.addEventListener('click',<span class="hljs-function"> function(</span><span class="hljs-function">)</span> {

    counter+=102; // to stop while loop

}<span class="hljs-function">)</span>;
</code></pre><p>}</p>
<p>counter++;</p>
<p>}</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 30th 2013, 5:31:50 am">July 30th 2013</span>
											by <span class='authorname'>user new</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Are you trying to have the audio play 100 times in a row? Because sound.play() won&#39;t block the while loop, what you actually appear to be doing here is creating 100 new sound objects and triggering them to play nearly at the same time which at the very least will cause serious memory issues. I&#39;m still unclear here.</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 30th 2013, 5:42:28 am">July 30th 2013</span>
											by <span class='authorname'>Jeremy Sher</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I have a wait function but i i didnt put it </p>
<p>var button = Ti.UI.createButton({ width : 130, left : 50, });<br>win.add(button);<br>var counter=0<br>while (counter &lt; 100) {<br>sound = Titanium.Media.createSound({</p>
<pre><code class="hljs">url<span class="hljs-keyword"> :</span><span class="hljs-function"> dbase.getSound(</span>sounds<span class="hljs-keyword">[</span>counter]<span class="hljs-function">)</span>/*sounds: is an<span class="hljs-instruction"> array </span>of sound file path*/
</code></pre><p>});</p>
<p>sound.play();</p>
<p>wait(4000); &#x2F;&#x2F; see</p>
<p>button.addEventListener(&#39;click&#39;, function() {</p>
<pre><code class="hljs">counter+=102; // to <span class="hljs-operator"><span class="hljs-keyword">stop</span> <span class="hljs-keyword">while</span> <span class="hljs-keyword">loop</span></span>
</code></pre><p>});<br>}<br>counter++;<br>}</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 30th 2013, 7:12:10 am">July 30th 2013</span>
											by <span class='authorname'>user new</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>This still doesn&#39;t fix your problem. Here&#39;s another approach that doesn&#39;t require you to deal with timing, and you also don&#39;t need to create the sound object each time:</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> counter = <span class="hljs-number">0</span>,
    sound = Ti.Media.createSound({ ... }),
    button = Ti.UI.createButton({ ... }),
    playing = <span class="hljs-literal">true</span>, <span class="hljs-comment">// should sound play?</span>
    playSound = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">if</span> (playing &amp;&amp; counter &lt; <span class="hljs-number">100</span>) {
            counter++;
            sound.play();
        } <span class="hljs-keyword">else</span> {
            sound.removeEventListener(<span class="hljs-string">'complete'</span>, playSound); <span class="hljs-comment">// if we're done, remove the event; if you want to reuse the event you don't have to include this line</span>
        }
    };

sound.addEventListener(<span class="hljs-string">'complete'</span>, playSound);
button.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{ playing = <span class="hljs-literal">false</span>; });

sound.play();
</code></pre><p>Does that make sense?</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 30th 2013, 7:45:02 pm">July 30th 2013</span>
											by <span class='authorname'>Jeremy Sher</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>it&#39;s play for 2 sounds then its stops</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 31st 2013, 8:01:13 am">July 31st 2013</span>
											by <span class='authorname'>user new</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Then I have no idea. Good luck.</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 31st 2013, 2:44:27 pm">July 31st 2013</span>
											by <span class='authorname'>Jeremy Sher</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
