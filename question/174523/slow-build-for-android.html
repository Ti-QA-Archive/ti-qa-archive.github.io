<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Slow Build for Android » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Slow Build for Android</h1>
		</header>
		<section>
			<p>Is 45s-50s normal for Android builds via Titanium?</p>
<p>I&#39;m using various Android devices (not emulators) and have expert knowledge in both Android and iOS. For iOS (again device - not emulator), the 1st build takes about 30s but every other build takes 20s or less.</p>
<p>However, for Android, it always takes 45s-1m (the 1st and every time) and this is seriously reducing my productivity. In ADT, it takes 18s for the 1st build and 1s-5s for every other build.</p>
<p>For testing, I created a new &quot;Two-tabbed Alloy Application&quot;. No other changes. I created something similar in ADT. I cannot get any Android app to build in less than 45s via Titanium.</p>
<p>My specs are:<br>Titanium 3.2.3.2<br>MacBook Pro<br>OS X 10.8.5<br>2.7 GHz Intel Core i7<br>16 GB RAM</p>
<p>I checked the forums but I couldn&#39;t find anything related to actual times, and I&#39;m hoping I can get it closer to at least 20s or less. I understand that it&#39;s nearly impossible to match times from ADT. If upgrading my hardware would help (substantially), please provide test results to show how I can benefit from it.</p>
<p>I really appreciate any advice you guys can give me. Thank you for your help!</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="May 25th 2014, 7:07:40 pm">May 25th 2014</span>
				by <span class='authorname'>C Tate</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>build</span></li>
					
						<li><span class='tagname'>device</span></li>
					
						<li><span class='tagname'>optimization</span></li>
					
						<li><span class='tagname'>slow</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-279046">
				
						<section>
							<p>Hi</p>
<p>This is a tricky one, partly because you are correct and partly because a few things I am about to say - you may take incorrectly - but I hope not.</p>
<ul>
<li>Conformation of your results<ul>
<li>My test app is as basic as yours</li>
<li>I can get second builds on Android to be around 32s</li>
<li>My test machine uses an i5 and OSX 10.9.something</li>
</ul>
</li>
<li>Things to take into account;<ul>
<li>Apps using Alloy are doing more than apps that do not</li>
<li>When you say using ADT - I assume natively, this does not use Alloy</li>
<li>I have no knowledge of your native setup - so no idea if there is an MVC in the mix</li>
<li>An MVC does add work to the pre-process stage, this is disproportional in tiny apps</li>
</ul>
</li>
</ul>
<p>Statements I hope you will take no offence from </p>
<ul>
<li>Build times that add seconds to the process only negatively affect a development process that relies on constant builds</li>
<li>Building often during a process often means that the build process itself is used to determine if logic will work rather than designing for success and reviewing the process in your head as your write.</li>
<li>I UNDERSTAND how that makes me sound</li>
<li>I am old, old enough to have been taught to code on paper, debug on paper, test on paper - then type</li>
<li>You may also be old enough to have done the same - not judging age</li>
<li>It is much harder to code on paper - but the principals still hold, when we build we should expect success - not what for it to fail to find the issue and then repeat</li>
<li>I am NOT saying we should not test - inf fact I say the exact opposite, test often, test for failure, test for GIGO (garbage in, garbage out), test for the untestable - you know what I mean.</li>
<li>But when coding, define what you need, work out what comes in and what goes out.  Make it stand-alone whenever possible or sensible.</li>
<li>Built when you have built - not in-between</li>
</ul>
<p>I add those points more for whoever reads this later.</p>
<p>So back to the point;</p>
<ul>
<li>Does the speed to compile matter - yes</li>
<li>Does it adversely affect app development - no. </li>
</ul>
<p>Keep in mind that you are judging two different things here; platform specific native development vs cross platform native development.  The former is always going to have the edge over build and compile times - it does not have the extra overhead.  The later has the benefits of cross platform development from a mostly identical source code, with Alloy it benefits from an MVC - that only truly excels the bigger the app.</p>
<p>I am glad that your question is not confrontational - as they so often can be phrased in such a way.  I hope my comments are received in the same light.</p>
<p>It really does come down to which gives the biggest benefit to you?</p>
<p>One passing note - much of the slowdown is the pre-processing of the Alloy source files.  The upcoming 2.0 version is significantly faster as it uses many new techniques, plus some you would expect from a maturing framework - including; caching of code unaltered during the previous compile.</p>
<p>You should also take a look at;</p>
<ul>
<li><a href="http:&#x2F;&#x2F;tishadow.yydigital.com&#x2F;">TiShadow</a> - this really speeds things up, the reasons are too many to go through - the site does a great job of that for me.</li>
</ul>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="May 25th 2014, 8:17:29 pm">May 25th 2014</span>
								by <span class='authorname'>Malcolm Hollingsworth</span><br>
								<a class="icon-bg icon-link" href="../../question/174523/slow-build-for-android.html#answer-279046" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-280367">
				
						<section>
							<p>I agree with Malcolm, but I understand your disappointment.<br>My experience trying to reduce build times involves:</p>
<ul>
<li>mounting a RamDisk of 2Gbytes</li>
<li>using squashfs to make filesystems of &#x2F;usr&#x2F;bin&#x2F;java and of ~&#x2F;.titanium&#x2F;mobilesdk</li>
<li>mounting those 2 file-systems on RamDisk</li>
<li>configuring system to point to them (symbolic links or linux update-alternatives command)<br>Something like this (not included RamDisk or filesystem setups):<br>~~~<br>#&#x2F;bin&#x2F;bash<br>#script for mounting squash file system on RAMDisk (mounted on &#x2F;tmp)</li>
</ul>
<h1 id="make-sure-only-root-can-run-our-script">Make sure only root can run our script</h1>
<p>if [ &quot;$(id -u)&quot; != &quot;0&quot; ]; then<br>   echo &quot;This script must be run as root&quot; 1&gt;&amp;2<br>fi</p>
<p>JDKsquash=&#x2F;home&#x2F;fer&#x2F;jdk1.7.0_51.sqsh<br>titaniumSDK=&#x2F;home&#x2F;fer&#x2F;titanium-mobilesdk.sqsh</p>
<p>sudo mkdir &#x2F;tmp&#x2F;jdk7<br>sudo mount $JDKsquash &#x2F;tmp&#x2F;jdk7 -t squashfs -o loop<br>sudo update-alternatives –install &quot;&#x2F;usr&#x2F;bin&#x2F;java&quot; &quot;java&quot; &quot;&#x2F;tmp&#x2F;jdk7&#x2F;bin&#x2F;java&quot; 1<br>sudo update-alternatives –install &quot;&#x2F;usr&#x2F;bin&#x2F;java&quot; &quot;java&quot; &quot;&#x2F;tmp&#x2F;jdk7&#x2F;bin&#x2F;java&quot; 1<br>sudo update-alternatives –install &quot;&#x2F;usr&#x2F;bin&#x2F;javac&quot; &quot;javac&quot; &quot;&#x2F;tmp&#x2F;jdk7&#x2F;bin&#x2F;javac&quot; 1<br>sudo update-alternatives –install &quot;&#x2F;usr&#x2F;bin&#x2F;javaws&quot; &quot;javaws&quot; &quot;&#x2F;tmp&#x2F;jdk7&#x2F;bin&#x2F;javaws&quot; 1<br>sudo update-alternatives –config java</p>
<p>sudo mkdir &#x2F;tmp&#x2F;titanium-mobilesdk<br>sudo mount $titaniumSDK &#x2F;tmp&#x2F;titanium-mobilesdk -t squashfs -o loop</p>
<p>rm -rf &#x2F;home&#x2F;fer&#x2F;Titanium_Workspace&#x2F;myAPP&#x2F;build<br>mkdir &#x2F;tmp&#x2F;myAPPbuild<br>ln -s &#x2F;home&#x2F;fer&#x2F;Titanium_Workspace&#x2F;myAPP&#x2F;build &#x2F;tmp&#x2F;myAPPbuild</p>
<pre><code class="hljs">But I was only able <span class="hljs-keyword">to</span> reduce build <span class="hljs-property">time</span> <span class="hljs-keyword">by</span> <span class="hljs-number">2</span> seconds!
Maybe because I am <span class="hljs-property">running</span> <span class="hljs-function_start"><span class="hljs-keyword">on</span></span> SSD <span class="hljs-keyword">and</span> i5 <span class="hljs-keyword">with</span> <span class="hljs-number">10</span>Gb RAM, <span class="hljs-keyword">but</span> <span class="hljs-keyword">if</span> you are <span class="hljs-property">running</span> <span class="hljs-function_start"><span class="hljs-keyword">on</span></span> a spining HDD, your results may be better.
Console says this <span class="hljs-keyword">for</span> fresh two tabbed Alloy App:
</code></pre><p>Alloy compiled in 0.48561s<br>Project built successfully in 16s 138ms<br>~~~</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="July 4th 2014, 10:35:12 am">July 4th 2014</span>
								by <span class='authorname'>f fabreti</span><br>
								<a class="icon-bg icon-link" href="../../question/174523/slow-build-for-android.html#answer-280367" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
