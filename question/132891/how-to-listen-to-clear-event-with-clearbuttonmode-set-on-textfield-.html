<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>how to listen to clear event with clearButtonMode set on textfield ? Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>how to listen to clear event with clearButtonMode set on textfield ?</h1>
		</header>
		<section>
			<p>Hello,<br>for an Iphone application I would like to handle a clear event on an input textfield. clearButtonMode set to Titanium.UI.INPUT_BUTTONMODE_ALWAYS is working perfectly fine. Is someone know how to listen to this event ?<br>Thanks for your help</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="February 28th 2012, 1:48:06 pm">February 28th 2012</span>
				by <span class='authorname'>paul leon</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>clearbuttonmode</span></li>
					
						<li><span class='tagname'>event</span></li>
					
						<li><span class='tagname'>textfield</span></li>
					
				</ul>
			

			<section>
				<h5>1 Comment</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>if you can share some code about what you trying to do, would be awesome!</p>
<p>Best,</p>
<p>Mauro</p>
</div>
							<div class="author">
								&mdash; commented <span title="February 28th 2012, 4:28:37 pm">February 28th 2012</span>
								by <span class='authorname'>Mauro Parra</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>2</span> Votes</div>
			<div class="answers"><span>4</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>4 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-231796">
				
						<section>
							<p>Well, there is not so much code to see. I wanted to know if there was an event triggered when man clicks on the clear button of a textfield.</p>
<pre><code class="hljs"><span class="hljs-comment">// creating textfield</span>
var search = Titanium.UI.createTextField({
            <span class="hljs-string">id :</span> <span class="hljs-string">"search"</span>,
            <span class="hljs-string">hintText :</span> _(<span class="hljs-string">'search'</span>),
            <span class="hljs-string">autocorrect :</span> <span class="hljs-literal">false</span>,
            <span class="hljs-string">autocapitalization :</span> Titanium.UI.TEXT_AUTOCAPITALIZATION_NONE,
            <span class="hljs-string">suppressReturn :</span> <span class="hljs-literal">true</span>,
<span class="hljs-label">            width:</span> <span class="hljs-number">300</span>, <span class="hljs-string">height:</span> <span class="hljs-number">32</span>, <span class="hljs-string">left:</span> <span class="hljs-number">10</span>, <span class="hljs-string">top:</span> <span class="hljs-number">54</span>,
<span class="hljs-label">            borderStyle:</span>Titanium.UI.INPUT_BORDERSTYLE_ROUNDED,
            <span class="hljs-string">clearButtonMode :</span> Titanium.UI.INPUT_BUTTONMODE_ALWAYS
        });

<span class="hljs-comment">// what event does clear button trigger ? How to access this button ?</span>
search.addEventListener(<span class="hljs-string">"clearButtonEvent"</span>, function(e) {
    <span class="hljs-comment">// do something here like removing results views, etc.    </span>
}); 

<span class="hljs-comment">// or something like this ??? </span>
<span class="hljs-comment">// (if clearButton is the name of the created button by </span>
<span class="hljs-comment">// clearButtonMode : Titanium.UI.INPUT_BUTTONMODE_ALWAYS)</span>
clearButton.addEventListener(<span class="hljs-string">"click"</span>, function(e) {
    <span class="hljs-comment">// do something here like removing results views, etc.    </span>
});
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="February 28th 2012, 4:54:34 pm">February 28th 2012</span>
								by <span class='authorname'>paul leon</span><br>
								<a class="icon-bg icon-link" href="question/132891/how-to-listen-to-clear-event-with-clearbuttonmode-set-on-textfield-#answer-231796" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Hi Paul, did you find the solution for this? I am looking for the same solution.<br>Thanks.</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 2nd 2014, 10:37:58 am">January 2nd 2014</span>
											by <span class='authorname'>Bably Das</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>2</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-231813">
				
						<section>
							<p>OK try this:</p>
<pre><code class="hljs">search.addEventListener(<span class="hljs-string">'change'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span> </span>{
    <span class="hljs-keyword">if</span> ( e.value == <span class="hljs-string">''</span> ) {
        <span class="hljs-comment">// do something here like removing results views, etc.  </span>
        alert(<span class="hljs-string">'Cleared.'</span>);
    }
});
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="February 28th 2012, 9:40:09 pm">February 28th 2012</span>
								by <span class='authorname'>Minh Nguyen</span><br>
								<a class="icon-bg icon-link" href="question/132891/how-to-listen-to-clear-event-with-clearbuttonmode-set-on-textfield-#answer-231813" rel="permalink">permalink</a>
							</div>

							<h5>2 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>thanks for the answer, but this is not what I&#39;m trying to catch. As an example, I&#39;d like to clear my search results when clear button is clicked, but not when user empties the input with the keyboard to write another search. Your code is triggered for both these cases.</p>
</p>
										<div class="author">
											&mdash; commented <span title="February 28th 2012, 11:07:49 pm">February 28th 2012</span>
											by <span class='authorname'>paul leon</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I need the same and could not find how to do it yet. :(</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 7th 2012, 11:06:46 pm">April 7th 2012</span>
											by <span class='authorname'>Sergey Nosenko</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-268126">
				
						<section>
							<p>I have solved this with a custom rightButton on the textField.</p>
<pre><code class="hljs">var clearButton = Ti.UI.createButton({
        <span class="hljs-variable">width</span>:<span class="hljs-number">15</span>+<span class="hljs-string">'dip'</span>,
        <span class="hljs-variable">height</span>:<span class="hljs-number">15</span>+<span class="hljs-string">'dip'</span>,
        backgroundImage:<span class="hljs-string">"/images/navbar/closebar@2x.png"</span>,
});
var searchArea  = Ti.UI.createTextField({
        top:topElements,
        right:<span class="hljs-number">0</span>+<span class="hljs-string">'dip'</span>,
          borderStyle: Ti.UI.INPUT_BORDERSTYLE_ROUNDED,
          <span class="hljs-variable">width</span>:<span class="hljs-number">119</span>+<span class="hljs-string">'dip'</span>,
        <span class="hljs-variable">height</span>:<span class="hljs-number">22</span>+<span class="hljs-string">'dip'</span>,
        hintText:L(<span class="hljs-string">'search'</span>),
        rightButton:clearButton,
});
</code></pre><p>Listen to action:</p>
<pre><code class="hljs">clearButton.addEventListener(<span class="hljs-string">'click'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span></span>{
    <span class="hljs-keyword">self</span>.searchArea.value=<span class="hljs-string">""</span>;
    <span class="hljs-comment">//Do more things</span>
});
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="September 5th 2013, 2:52:31 pm">September 5th 2013</span>
								by <span class='authorname'>Alberto DiÃ©guez FernÃ¡ndez</span><br>
								<a class="icon-bg icon-link" href="question/132891/how-to-listen-to-clear-event-with-clearbuttonmode-set-on-textfield-#answer-268126" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-275129">
				
						<section>
							<p>For clearing textfields, in my case resetting the whole form, I created a function and called it on the button event listener.</p>
<pre><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">resetForm</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">var</span> elements = $.your-form-ID-<span class="hljs-keyword">here</span>.getChildren();

    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> idx <span class="hljs-keyword">in</span> elements) {
        <span class="hljs-keyword">if</span> (elements[idx].apiName === <span class="hljs-string">'Ti.UI.TextField'</span>){
            elements[idx].value = <span class="hljs-string">""</span>;
        }
    }
    <span class="hljs-keyword">return</span>;
}
</code></pre><pre><code class="hljs"><span class="hljs-variable">$.</span>resetForm.addEventListener(<span class="hljs-string">'click'</span>, resetForm);
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="February 12th 2014, 5:59:32 pm">February 12th 2014</span>
								by <span class='authorname'>Michael Stelly</span><br>
								<a class="icon-bg icon-link" href="question/132891/how-to-listen-to-clear-event-with-clearbuttonmode-set-on-textfield-#answer-275129" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
