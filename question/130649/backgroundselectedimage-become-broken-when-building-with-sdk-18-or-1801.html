<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>backgroundSelectedImage become broken when building with SDK 1.8 or 1.8.0.1 » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>backgroundSelectedImage become broken when building with SDK 1.8 or 1.8.0.1</h1>
		</header>
		<section>
			<p>Hey, for some bizarre reason i have a view with three buttons within it, and the backgroundSelectedImage property works fine unless i build with 1.8 or 1.8.0.1, if i do build with these newer SDK versions then only one button has a working backgroundSelectedImage, the rest are broken. For now i will stay on 1.7.5 until Appcelerator fix this… if they fix this.</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="January 13th 2012, 5:28:19 pm">January 13th 2012</span>
				by <span class='authorname'>Matt Pilott</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>sdk</span></li>
					
				</ul>
			

			<section>
				<h5>6 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>can you post some code. I doubt this is a titanium issue. Also what platform, version of studio etc.</p>
</div>
							<div class="author">
								&mdash; commented <span title="January 13th 2012, 7:45:39 pm">January 13th 2012</span>
								by <span class='authorname'>Trevor Ward</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>have to second that… does ios even use fastdev trevor?</p>
</div>
							<div class="author">
								&mdash; commented <span title="January 13th 2012, 7:59:54 pm">January 13th 2012</span>
								by <span class='authorname'>Toon Van Dooren</span>
							</div>
						</li>
					
						<li class="comment">
							<div><pre><code class="hljs"><span class="hljs-comment">//////////////// START OF TAB HOLDER VIEW WITH TAB BUTTONS ADDED TO THAT VIEW //////////////////</span>

<span class="hljs-keyword">var</span> tabholder = Titanium.UI.createView({
    width:<span class="hljs-number">312</span>,
    height:<span class="hljs-number">37</span>,
    bottom:<span class="hljs-number">0</span>,
    zIndex:<span class="hljs-number">11</span>
})
win1.add(tabholder);

<span class="hljs-keyword">var</span> newstab = Titanium.UI.createButton({
    backgroundImage:<span class="hljs-string">'universal_content/UI/newstabactive.png'</span>,
    backgroundSelectedImage:<span class="hljs-string">'universal_content/UI/newstabclicked.png'</span>,
    width:<span class="hljs-number">104</span>,
    height:<span class="hljs-number">37</span>,
    left:<span class="hljs-number">0</span>,
    bottom:<span class="hljs-number">0</span>,
    zIndex:<span class="hljs-number">12</span>
});

newstab.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span></span>{
    webview1.url = <span class="hljs-string">'http://app.imattic.com/category/news'</span>;
});
tabholder.add(newstab);

<span class="hljs-keyword">var</span> secretstab = Titanium.UI.createButton({
    backgroundImage:<span class="hljs-string">'universal_content/UI/secretstab.png'</span>,
    backgroundSelectedImage:<span class="hljs-string">'universal_content/UI/secretstabclicked.png'</span>,
    width:<span class="hljs-number">104</span>,
    height:<span class="hljs-number">37</span>,
    bottom:<span class="hljs-number">0</span>,
    zIndex:<span class="hljs-number">12</span>
});

secretstab.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span></span>{
    tabGroup.setActiveTab(<span class="hljs-number">1</span>);
});
tabholder.add(secretstab);

<span class="hljs-keyword">var</span> mediatab = Titanium.UI.createButton({
    backgroundImage:<span class="hljs-string">'universal_content/UI/mediatab.png'</span>,
    backgroundSelectedImage:<span class="hljs-string">'universal_content/UI/mediatabclicked.png'</span>,
    width:<span class="hljs-number">104</span>,
    height:<span class="hljs-number">37</span>,
    right:<span class="hljs-number">0</span>,
    bottom:<span class="hljs-number">0</span>,
    zIndex:<span class="hljs-number">12</span>
});

mediatab.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span></span>{
    tabGroup.setActiveTab(<span class="hljs-number">2</span>);
});
tabholder.add(mediatab);

<span class="hljs-comment">///////////////// END OF TAB HOLDER VIEW WITH TAB BUTTONS ADDED TO THAT VIEW ///////////////////</span>
</code></pre></div>
							<div class="author">
								&mdash; commented <span title="January 13th 2012, 8:02:10 pm">January 13th 2012</span>
								by <span class='authorname'>Matt Pilott</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>I did check the docs i dont think there has been any depreciation. It happens on every button in the app but the mediatab button. If you duplicate that code though then it becomes broken so weird</p>
</div>
							<div class="author">
								&mdash; commented <span title="January 13th 2012, 8:06:29 pm">January 13th 2012</span>
								by <span class='authorname'>Matt Pilott</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>are your pngs made by the same source?</p>
</div>
							<div class="author">
								&mdash; commented <span title="January 15th 2012, 10:13:09 am">January 15th 2012</span>
								by <span class='authorname'>Toon Van Dooren</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Toon, yes all images are made via photoshop</p>
</div>
							<div class="author">
								&mdash; commented <span title="January 15th 2012, 12:33:40 pm">January 15th 2012</span>
								by <span class='authorname'>Matt Pilott</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>4</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>4 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-227462">
				
						<section>
							<p>have you disabled fastdev? its true that there are problems with 1.8 nd images but disabling fastdev solved it for me</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="January 13th 2012, 5:48:48 pm">January 13th 2012</span>
								by <span class='authorname'>Toon Van Dooren</span><br>
								<a class="icon-bg icon-link" href="question/130649/backgroundselectedimage-become-broken-when-building-with-sdk-18-or-1801.html#answer-227462" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-227463">
				
						<section>
							<p>How do you switch off fastdev?</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="January 13th 2012, 5:52:12 pm">January 13th 2012</span>
								by <span class='authorname'>Matt Pilott</span><br>
								<a class="icon-bg icon-link" href="question/130649/backgroundselectedimage-become-broken-when-building-with-sdk-18-or-1801.html#answer-227463" rel="permalink">permalink</a>
							</div>

							<h5>2 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>i found this<br>&lt;property name=&quot;ti.android.fastdev&quot; type=&quot;bool&quot;&gt;false&lt;&#x2F;property&gt;<br>but is this the same for ios?</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 13th 2012, 5:55:39 pm">January 13th 2012</span>
											by <span class='authorname'>Matt Pilott</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>i&#39;m not sure if ios uses fastdev… if the problem is for ios i cannot help u, this is not within my line of experience</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 13th 2012, 6:51:18 pm">January 13th 2012</span>
											by <span class='authorname'>Toon Van Dooren</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-227471">
				
						<section>
							<p>Using Titanium Studio, build: 1.0.7.201112281340</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="January 13th 2012, 8:10:58 pm">January 13th 2012</span>
								by <span class='authorname'>Matt Pilott</span><br>
								<a class="icon-bg icon-link" href="question/130649/backgroundselectedimage-become-broken-when-building-with-sdk-18-or-1801.html#answer-227471" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-227878">
				
						<section>
							<p>Something seems to have been broken when dealing with <a href="http:&#x2F;&#x2F;jira.appcelerator.org&#x2F;browse&#x2F;TIMOB-5803">TIMOB-5803 - Button background image does not scale correctly on click</a></p>
<p>A quick fix for this:</p>
<ol>
<li>Open TiUIButton.m</li>
<li>Search for setBackgroundImage_ and comment out everything under the TIMOB-5803 comment.</li>
<li>Should be looking like this when your done:</li>
</ol>
<pre><code class="hljs">-(void)<span class="hljs-built_in">set</span>BackgroundImage_:(id)value
{
    [[<span class="hljs-literal">self</span> button] <span class="hljs-built_in">set</span>BackgroundImage:[<span class="hljs-literal">self</span> <span class="hljs-built_in">load</span>Image:value] <span class="hljs-keyword">for</span>State:UIControlStateNormal];
    <span class="hljs-literal">self</span>.backgroundImage = value;

    //Match android behavior. Setting a background image sets it <span class="hljs-keyword">for</span> <span class="hljs-literal">all</span> states unless overridden
    //TIMOB-<span class="hljs-number">5803</span>
    /*if(!hasBackgroundForStateDisabled)
        [[<span class="hljs-literal">self</span> button] <span class="hljs-built_in">set</span>BackgroundImage:[<span class="hljs-literal">self</span> <span class="hljs-built_in">load</span>Image:value] <span class="hljs-keyword">for</span>State:UIControlStateDisabled];
    if(!hasBackgroundForStateFocused)
        [[<span class="hljs-literal">self</span> button] <span class="hljs-built_in">set</span>BackgroundImage:[<span class="hljs-literal">self</span> <span class="hljs-built_in">load</span>Image:value] <span class="hljs-keyword">for</span>State:UIControlStateHighlighted];
    if(!hasBackgroundForStateSelected)
        [[<span class="hljs-literal">self</span> button] <span class="hljs-built_in">set</span>BackgroundImage:[<span class="hljs-literal">self</span> <span class="hljs-built_in">load</span>Image:value] <span class="hljs-keyword">for</span>State:UIControlStateSelected];*/

}
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="January 18th 2012, 9:15:19 am">January 18th 2012</span>
								by <span class='authorname'>Chris Magnussen</span><br>
								<a class="icon-bg icon-link" href="question/130649/backgroundselectedimage-become-broken-when-building-with-sdk-18-or-1801.html#answer-227878" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
