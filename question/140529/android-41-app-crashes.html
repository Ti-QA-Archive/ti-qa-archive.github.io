<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Android 4.1 App Crashes » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Android 4.1 App Crashes</h1>
		</header>
		<section>
			<p>I have just tried my app on 4.1 using the emulator but it crashes before the app fully loads. Should appcelerator work on this version?</p>
<p>This is the errors I&#39;m getting.</p>
<p>[INFO][Choreographer( 1254)] Skipped 3377 frames!  The application may be doing too much work on its main thread.<br>[INFO][Choreographer(  734)] Skipped 53 frames!  The application may be doing too much work on its main thread.<br>[WARN][dalvikvm( 1254)] threadid=1: thread exiting with uncaught exception (group=0x40a13300)<br>[ERROR][TiApplication( 1254)] (main) [6296,9651] Sending event: exception on thread: main msg:java.lang.RuntimeException: Canvas: trying to use a recycled bitmap android.graphics.Bitmap@41211f00; Titanium 2.1.1,2012&#x2F;07&#x2F;27 14:01,0fd84a2<br>[ERROR][TiApplication( 1254)] java.lang.RuntimeException: Canvas: trying to use a recycled bitmap android.graphics.Bitmap@41211f00<br>[ERROR][TiApplication( 1254)]     at android.graphics.Canvas.throwIfRecycled(Canvas.java:1026)<br>[ERROR][TiApplication( 1254)]     at android.graphics.Canvas.drawBitmap(Canvas.java:1127)<br>[ERROR][TiApplication( 1254)]     at android.graphics.drawable.BitmapDrawable.draw(BitmapDrawable.java:393)<br>[ERROR][TiApplication( 1254)]     at android.widget.ImageView.onDraw(ImageView.java:961)<br>[ERROR][TiApplication( 1254)]     at android.view.View.draw(View.java:13458)<br>[ERROR][TiApplication( 1254)]     at android.view.View.draw(View.java:13342)<br>[ERROR][TiApplication( 1254)]     at android.view.ViewGroup.drawChild(ViewGroup.java:2929)<br>[ERROR][TiApplication( 1254)]     at android.view.ViewGroup.dispatchDraw(ViewGroup.java:2799)<br>[ERROR][TiApplication( 1254)]     at android.view.View.draw(View.java:13340)<br>[ERROR][TiApplication( 1254)]     at android.view.ViewGroup.drawChild(ViewGroup.java:2929)<br>[ERROR][TiApplication( 1254)]     at android.view.ViewGroup.dispatchDraw(ViewGroup.java:2799)<br>[ERROR][TiApplication( 1254)]     at org.appcelerator.titanium.view.TiCompositeLayout.dispatchDraw(TiCompositeLayout.java:662)<br>[ERROR][TiApplication( 1254)]     at android.view.View.draw(View.java:13340)<br>[ERROR][TiApplication( 1254)]     at android.view.ViewGroup.drawChild(ViewGroup.java:2929)<br>[ERROR][TiApplication( 1254)]     at android.view.ViewGroup.dispatchDraw(ViewGroup.java:2799)<br>[ERROR][TiApplication( 1254)]     at org.appcelerator.titanium.view.TiCompositeLayout.dispatchDraw(TiCompositeLayout.java:662)<br>[ERROR][TiApplication( 1254)]     at android.view.View.draw(View.java:13340)<br>[ERROR][TiApplication( 1254)]     at android.view.ViewGroup.drawChild(ViewGroup.java:2929)<br>[ERROR][TiApplication( 1254)]     at android.view.ViewGroup.dispatchDraw(ViewGroup.java:2799)<br>[ERROR][TiApplication( 1254)]     at android.view.View.draw(View.java:13461)<br>[ERROR][TiApplication( 1254)]     at android.view.View.draw(View.java:13342)<br>[ERROR][TiApplication( 1254)]     at android.view.ViewGroup.drawChild(ViewGroup.java:2929)<br>[ERROR][TiApplication( 1254)]     at android.widget.ListView.drawChild(ListView.java:3226)<br>[ERROR][TiApplication( 1254)]     at android.view.ViewGroup.dispatchDraw(ViewGroup.java:2799)<br>[ERROR][TiApplication( 1254)]     at android.widget.AbsListView.dispatchDraw(AbsListView.java:2433)<br>[ERROR][TiApplication( 1254)]     at android.widget.ListView.dispatchDraw(ListView.java:3221)<br>[ERROR][TiApplication( 1254)]     at android.view.View.draw(View.java:13563)<br>[ERROR][TiApplication( 1254)]     at android.widget.AbsListView.draw(AbsListView.java:3759)<br>[ERROR][TiApplication( 1254)]     at android.view.View.draw(View.java:13342)<br>[ERROR][TiApplication( 1254)]     at android.view.ViewGroup.drawChild(ViewGroup.java:2929)<br>[ERROR][TiApplication( 1254)]     at android.view.ViewGroup.dispatchDraw(ViewGroup.java:2799)<br>[ERROR][TiApplication( 1254)]     at android.view.View.draw(View.java:13340)<br>[ERROR][TiApplication( 1254)]     at android.view.ViewGroup.drawChild(ViewGroup.java:2929)<br>[ERROR][TiApplication( 1254)]     at android.view.ViewGroup.dispatchDraw(ViewGroup.java:2799)<br>[ERROR][TiApplication( 1254)]     at org.appcelerator.titanium.view.TiCompositeLayout.dispatchDraw(TiCompositeLayout.java:662)<br>[ERROR][TiApplication( 1254)]     at android.view.View.draw(View.java:13461)<br>[ERROR][TiApplication( 1254)]     at android.view.View.draw(View.java:13342)<br>[ERROR][TiApplication( 1254)]     at android.view.ViewGroup.drawChild(ViewGroup.java:2929)<br>[ERROR][TiApplication( 1254)]     at android.view.ViewGroup.dispatchDraw(ViewGroup.java:2799)<br>[ERROR][TiApplication( 1254)]     at org.appcelerator.titanium.view.TiCompositeLayout.dispatchDraw(TiCompositeLayout.java:662)<br>[ERROR][TiApplication( 1254)]     at android.view.View.draw(View.java:13340)<br>[ERROR][TiApplication( 1254)]     at android.view.ViewGroup.drawChild(ViewGroup.java:2929)<br>[ERROR][TiApplication( 1254)]     at android.view.ViewGroup.dispatchDraw(ViewGroup.java:2799)<br>[ERROR][TiApplication( 1254)]     at android.view.View.draw(View.java:13340)<br>[ERROR][TiApplication( 1254)]     at android.view.ViewGroup.drawChild(ViewGroup.java:2929)<br>[ERROR][TiApplication( 1254)]     at android.view.ViewGroup.dispatchDraw(ViewGroup.java:2799)<br>[ERROR][TiApplication( 1254)]     at android.view.View.draw(View.java:13340)<br>[ERROR][TiApplication( 1254)]     at android.view.ViewGroup.drawChild(ViewGroup.java:2929)<br>[ERROR][TiApplication( 1254)]     at android.view.ViewGroup.dispatchDraw(ViewGroup.java:2799)<br>[ERROR][TiApplication( 1254)]     at android.view.View.draw(View.java:13340)<br>[ERROR][TiApplication( 1254)]     at android.view.ViewGroup.drawChild(ViewGroup.java:2929)<br>[ERROR][TiApplication( 1254)]     at android.view.ViewGroup.dispatchDraw(ViewGroup.java:2799)<br>[ERROR][TiApplication( 1254)]     at android.view.View.draw(View.java:13340)<br>[ERROR][TiApplication( 1254)]     at android.view.ViewGroup.drawChild(ViewGroup.java:2929)<br>[ERROR][TiApplication( 1254)]     at android.view.ViewGroup.dispatchDraw(ViewGroup.java:2799)<br>[ERROR][TiApplication( 1254)]     at android.view.View.draw(View.java:13340)<br>[ERROR][TiApplication( 1254)]     at android.view.ViewGroup.drawChild(ViewGroup.java:2929)<br>[ERROR][TiApplication( 1254)]     at android.view.ViewGroup.dispatchDraw(ViewGroup.java:2799)<br>[ERROR][TiApplication( 1254)]     at android.view.View.draw(View.java:13461)<br>[ERROR][TiApplication( 1254)]     at android.widget.FrameLayout.draw(FrameLayout.java:467)<br>[ERROR][TiApplication( 1254)]     at android.view.View.draw(View.java:13342)<br>[ERROR][TiApplication( 1254)]     at android.view.ViewGroup.drawChild(ViewGroup.java:2929)<br>[ERROR][TiApplication( 1254)]     at android.view.ViewGroup.dispatchDraw(ViewGroup.java:2799)<br>[ERROR][TiApplication( 1254)]     at org.appcelerator.titanium.view.TiCompositeLayout.dispatchDraw(TiCompositeLayout.java:662)<br>[ERROR][TiApplication( 1254)]     at android.view.View.draw(View.java:13340)<br>[ERROR][TiApplication( 1254)]     at android.view.View<br>[ERROR][AndroidRuntime( 1254)] FATAL EXCEPTION: main<br>[ERROR][AndroidRuntime( 1254)] java.lang.RuntimeException: Canvas: trying to use a recycled bitmap android.graphics.Bitmap@41211f00<br>[ERROR][AndroidRuntime( 1254)]     at android.graphics.Canvas.throwIfRecycled(Canvas.java:1026)<br>[ERROR][AndroidRuntime( 1254)]     at android.graphics.Canvas.drawBitmap(Canvas.java:1127)<br>[ERROR][AndroidRuntime( 1254)]     at android.graphics.drawable.BitmapDrawable.draw(BitmapDrawable.java:393)<br>[ERROR][AndroidRuntime( 1254)]     at android.widget.ImageView.onDraw(ImageView.java:961)<br>[ERROR][AndroidRuntime( 1254)]     at android.view.View.draw(View.java:13458)<br>[ERROR][AndroidRuntime( 1254)]     at android.view.View.draw(View.java:13342)<br>[ERROR][AndroidRuntime( 1254)]     at android.view.ViewGroup.drawChild(ViewGroup.java:2929)<br>[ERROR][AndroidRuntime( 1254)]     at android.view.ViewGroup.dispatchDraw(ViewGroup.java:2799)<br>[ERROR][AndroidRuntime( 1254)]     at android.view.View.draw(View.java:13340)<br>[ERROR][AndroidRuntime( 1254)]     at android.view.ViewGroup.drawChild(ViewGroup.java:2929)<br>[ERROR][AndroidRuntime( 1254)]     at android.view.ViewGroup.dispatchDraw(ViewGroup.java:2799)<br>[ERROR][AndroidRuntime( 1254)]     at org.appcelerator.titanium.view.TiCompositeLayout.dispatchDraw(TiCompositeLayout.java:662)<br>[ERROR][AndroidRuntime( 1254)]     at android.view.View.draw(View.java:13340)<br>[ERROR][AndroidRuntime( 1254)]     at android.view.ViewGroup.drawChild(ViewGroup.java:2929)<br>[ERROR][AndroidRuntime( 1254)]     at android.view.ViewGroup.dispatchDraw(ViewGroup.java:2799)<br>[ERROR][AndroidRuntime( 1254)]     at org.appcelerator.titanium.view.TiCompositeLayout.dispatchDraw(TiCompositeLayout.java:662)<br>[ERROR][AndroidRuntime( 1254)]     at android.view.View.draw(View.java:13340)<br>[ERROR][AndroidRuntime( 1254)]     at android.view.ViewGroup.drawChild(ViewGroup.java:2929)<br>[ERROR][AndroidRuntime( 1254)]     at android.view.ViewGroup.dispatchDraw(ViewGroup.java:2799)<br>[ERROR][AndroidRuntime( 1254)]     at android.view.View.draw(View.java:13461)<br>[ERROR][AndroidRuntime( 1254)]     at android.view.View.draw(View.java:13342)<br>[ERROR][AndroidRuntime( 1254)]     at android.view.ViewGroup.drawChild(ViewGroup.java:2929)<br>[ERROR][AndroidRuntime( 1254)]     at android.widget.ListView.drawChild(ListView.java:3226)<br>[ERROR][AndroidRuntime( 1254)]     at android.view.ViewGroup.dispatchDraw(ViewGroup.java:2799)<br>[ERROR][AndroidRuntime( 1254)]     at android.widget.AbsListView.dispatchDraw(AbsListView.java:2433)<br>[ERROR][AndroidRuntime( 1254)]     at android.widget.ListView.dispatchDraw(ListView.java:3221)<br>[ERROR][AndroidRuntime( 1254)]     at android.view.View.draw(View.java:13563)<br>[ERROR][AndroidRuntime( 1254)]     at android.widget.AbsListView.draw(AbsListView.java:3759)<br>[ERROR][AndroidRuntime( 1254)]     at android.view.View.draw(View.java:13342)<br>[ERROR][AndroidRuntime( 1254)]     at android.view.ViewGroup.drawChild(ViewGroup.java:2929)<br>[ERROR][AndroidRuntime( 1254)]     at android.view.ViewGroup.dispatchDraw(ViewGroup.java:2799)<br>[ERROR][AndroidRuntime( 1254)]     at android.view.View.draw(View.java:13340)<br>[ERROR][AndroidRuntime( 1254)]     at android.view.ViewGroup.drawChild(ViewGroup.java:2929)<br>[ERROR][AndroidRuntime( 1254)]     at android.view.ViewGroup.dispatchDraw(ViewGroup.java:2799)<br>[ERROR][AndroidRuntime( 1254)]     at org.appcelerator.titanium.view.TiCompositeLayout.dispatchDraw(TiCompositeLayout.java:662)<br>[ERROR][AndroidRuntime( 1254)]     at android.view.View.draw(View.java:13461)<br>[ERROR][AndroidRuntime( 1254)]     at android.view.View.draw(View.java:13342)<br>[ERROR][AndroidRuntime( 1254)]     at android.view.ViewGroup.drawChild(ViewGroup.java:2929)<br>[ERROR][AndroidRuntime( 1254)]     at android.view.ViewGroup.dispatchDraw(ViewGroup.java:2799)<br>[ERROR][AndroidRuntime( 1254)]     at org.appcelerator.titanium.view.TiCompositeLayout.dispatchDraw(TiCompositeLayout.java:662)<br>[ERROR][AndroidRuntime( 1254)]     at android.view.View.draw(View.java:13340)<br>[ERROR][AndroidRuntime( 1254)]     at android.view.ViewGroup.drawChild(ViewGroup.java:2929)<br>[ERROR][AndroidRuntime( 1254)]     at android.view.ViewGroup.dispatchDraw(ViewGroup.java:2799)<br>[ERROR][AndroidRuntime( 1254)]     at android.view.View.draw(View.java:13340)<br>[ERROR][AndroidRuntime( 1254)]     at android.view.ViewGroup.drawChild(ViewGroup.java:2929)<br>[ERROR][AndroidRuntime( 1254)]     at android.view.ViewGroup.dispatchDraw(ViewGroup.java:2799)<br>[ERROR][AndroidRuntime( 1254)]     at android.view.View.draw(View.java:13340)<br>[ERROR][AndroidRuntime( 1254)]     at android.view.ViewGroup.drawChild(ViewGroup.java:2929)<br>[ERROR][AndroidRuntime( 1254)]     at android.view.ViewGroup.dispatchDraw(ViewGroup.java:2799)<br>[ERROR][AndroidRuntime( 1254)]     at android.view.View.draw(View.java:13340)<br>[ERROR][AndroidRuntime( 1254)]     at android.view.ViewGroup.drawChild(ViewGroup.java:2929)<br>[ERROR][AndroidRuntime( 1254)]     at android.view.ViewGroup.dispatchDraw(ViewGroup.java:2799)<br>[ERROR][AndroidRuntime( 1254)]     at android.view.View.draw(View.java:13340)<br>[ERROR][AndroidRuntime( 1254)]     at android.view.ViewGroup.drawChild(ViewGroup.java:2929)<br>[ERROR][AndroidRuntime( 1254)]     at android.view.ViewGroup.dispatchDraw(ViewGroup.java:2799)<br>[ERROR][AndroidRuntime( 1254)]     at android.view.View.draw(View.java:13340)<br>[ERROR][AndroidRuntime( 1254)]     at android.view.ViewGroup.drawChild(ViewGroup.java:2929)<br>[ERROR][AndroidRuntime( 1254)]     at android.view.ViewGroup.dispatchDraw(ViewGroup.java:2799)<br>[ERROR][AndroidRuntime( 1254)]     at android.view.View.draw(View.java:13461)<br>[ERROR][AndroidRuntime( 1254)]     at android.widget.FrameLayout.draw(FrameLayout.java:467)<br>[ERROR][AndroidRuntime( 1254)]     at android.view.View.draw(View.java:13342)<br>[ERROR][AndroidRuntime( 1254)]     at android.view.ViewGroup.drawChild(ViewGroup.java:2929)<br>[ERROR][AndroidRuntime( 1254)]     at android.view.ViewGroup.dispatchDraw(ViewGroup.java:2799)<br>[ERROR][AndroidRuntime( 1254)]     at org.appcelerator.titanium.view.TiCompositeLayout.dispatchDraw(TiCompositeLayout.java:662)<br>[ERROR][AndroidRuntime( 1254)]     at android.view.View.draw(View.java:13340)<br>[ERROR][AndroidRuntime( 1254)]     at android.view.ViewGroup.drawChild(ViewGroup.java:2929)<br>[ERROR][AndroidRuntime( 1254)]     at android.view.ViewGroup.dispatchDraw(ViewGroup.java:2799)<br>[ERROR][AndroidRuntime( 1254)]     at android.view.View.draw(View.java:13340)<br>[ERROR][AndroidRuntime( 1254)]     at android.view.ViewGroup.drawChild(View<br>[WARN][ActivityManager(  223)]   Force finishing activity com.plug.membership&#x2F;ti.modules.titanium.ui.TiTabActivity<br>[WARN][WindowManager(  223)] Failure taking screenshot for (164x246) to layer 21020<br>[WARN][ActivityManager(  223)]   Force finishing activity com.plug.membership&#x2F;.PlugMembershipActivity<br>[INFO][Choreographer(  223)] Skipped 44 frames!  The application may be doing too much work on its main thread.<br>[WARN][ActivityManager(  223)] Activity pause timeout for ActivityRecord{41ada250 com.plug.membership&#x2F;ti.modules.titanium.ui.TiTabActivity}<br>[INFO][Choreographer(  223)] Skipped 30 frames!  The application may be doing too much work on its main thread.<br>[INFO][Choreographer(  734)] Skipped 89 frames!  The application may be doing too much work on its main thread.<br>[WARN][ActivityManager(  223)] Activity destroy timeout for ActivityRecord{41887518 com.plug.membership&#x2F;.PlugMembershipActivity}<br>[WARN][ActivityManager(  223)] Activity destroy timeout for ActivityRecord{41ada250 com.plug.membership&#x2F;ti.modules.titanium.ui.TiTabActivity}</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="August 3rd 2012, 2:12:10 pm">August 3rd 2012</span>
				by <span class='authorname'>Marcus Williams</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>sdk</span></li>
					
				</ul>
			

			<section>
				<h5>1 Comment</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Missing from your question are a number of important pieces of information. I suggest you take a look at the <a href="https:&#x2F;&#x2F;wiki.appcelerator.org&#x2F;display&#x2F;guides&#x2F;Using+Questions+and+Answers">Using Questions and Answers</a> article, specifically the Q&amp;A Question Checklist.  The missing information is critical to reproducing problems in a test environment and often indicates other factors that cause the undesirable outcome you are experiencing.</p>
<hr>
<p>Formatting is nice, platform information and dev tool versions is nice. Context and code snippets are nice.</p>
</div>
							<div class="author">
								&mdash; commented <span title="August 3rd 2012, 2:18:27 pm">August 3rd 2012</span>
								by <span class='authorname'>Stephen Feather</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-244561">
				
						<section>
							<p>Ok I have narrowed it down to just one of the windows on one of the tabs. The problem only occurs on Android 4.1, all other versions work ok.</p>
<p>I&#39;m not getting any errors in the console just as the app starts to load I get Unfortunately my App has stopped.</p>
<p>I have found that removing the imageview from the table allows the table to load.</p>
<p>I didn&#39;t wonder if it was due to the number of rows that were being created, but I changed to to just 1 and still had the same problem.</p>
<p>However I also found that opening the detailview is also causing the app to crash. Again this contains an imageview and removing it makes the problem go away.</p>
<p>Titanium SDK 2.1.1</p>
<p>Android 4.1 using Android Emulator</p>
<p>Mac OSX 10.7.4</p>
<p>Titanium Studio, build: 2.1.1.201207271312</p>
<p>Window</p>
<pre><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">eventsWindow</span><span class="hljs-params">()</span> </span>{

    <span class="hljs-keyword">var</span> DrupaniumApp = <span class="hljs-keyword">require</span>(<span class="hljs-string">'/drupanium_framework/drupanium_application'</span>), MasterView = <span class="hljs-keyword">require</span>(<span class="hljs-string">'ui/views/EventsMasterView'</span>), DetailView = <span class="hljs-keyword">require</span>(<span class="hljs-string">'ui/views/EventsDetailView'</span>);

    <span class="hljs-keyword">var</span> DrupaniumEvents = <span class="hljs-keyword">require</span>(<span class="hljs-string">'/drupanium_framework/drupanium_events'</span>);

    <span class="hljs-comment">//create object instance</span>
    <span class="hljs-keyword">var</span> <span class="hljs-keyword">self</span> = Ti.UI.createWindow({
        backgroundColor : <span class="hljs-string">'#f1f1f1'</span>,
        navBarHidden : <span class="hljs-keyword">true</span>,
        exitOnClose : <span class="hljs-keyword">true</span>,
    });

    <span class="hljs-comment">//construct UI</span>
    <span class="hljs-keyword">var</span> masterView = <span class="hljs-keyword">new</span> MasterView();

    <span class="hljs-keyword">self</span>.add(masterView);

    <span class="hljs-comment">//add behavior for master view</span>
    masterView.addEventListener(<span class="hljs-string">'itemSelected'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span> </span>{
        <span class="hljs-keyword">var</span> detailView = <span class="hljs-keyword">new</span> DetailView();
        <span class="hljs-keyword">var</span> detailContainerWindow = Ti.UI.createWindow({
            navBarHidden : <span class="hljs-keyword">true</span>,
            backgroundColor : <span class="hljs-string">'#ffffff'</span>
        });
        detailContainerWindow.add(detailView);
        detailView.showEvent(e.nid, e.date, e.title, e.sub_title, e.info, e.image, e.cart);
        detailContainerWindow.open();
    });

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">refreshEvents</span><span class="hljs-params">()</span> </span>{
        DrupaniumEvents.drupaniumGetEvents(DrupaniumApp.getDrupaniumURLS(<span class="hljs-string">'rest_path'</span>), DrupaniumApp.getDrupaniumURLS(<span class="hljs-string">'site_path'</span>), <span class="hljs-number">5000</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(data)</span> </span>{
            <span class="hljs-keyword">if</span> (data) {
                masterView.refreshEventsTable(data);
            }
        });
    }
    <span class="hljs-comment">// load initial events</span>
    refreshEvents();

    <span class="hljs-keyword">var</span> paused = <span class="hljs-keyword">false</span>;
    <span class="hljs-keyword">if</span> (Titanium.Platform.name == <span class="hljs-string">'android'</span>) {
        <span class="hljs-keyword">self</span>.addEventListener(<span class="hljs-string">'open'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
            <span class="hljs-keyword">self</span>.activity.addEventListener(<span class="hljs-string">'pause'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span> </span>{
                Ti.API.info(<span class="hljs-string">"pause event received"</span>);
                paused = <span class="hljs-keyword">true</span>;
            });
            <span class="hljs-keyword">self</span>.activity.addEventListener(<span class="hljs-string">'start'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span> </span>{
                Ti.API.info(<span class="hljs-string">"start events event received"</span>);
                <span class="hljs-keyword">if</span> (paused) {
                    Ti.API.info(<span class="hljs-string">"App has started"</span>);
                    refreshEvents();
                } <span class="hljs-keyword">else</span> {
                    Ti.API.info(<span class="hljs-string">"App has started (w/o pause)"</span>);
                }
            });
        });
    }

    <span class="hljs-keyword">return</span> <span class="hljs-keyword">self</span>;
};

module.exports = eventsWindow;
</code></pre><p>Masterview</p>
<pre><code class="hljs">var createEventRow = function(item) {

    <span class="hljs-keyword">if</span> (item.image) {
        var image = item.image;
    } <span class="hljs-keyword">else</span> {
        var image = item.term_image;
    }
    <span class="hljs-keyword">if</span> (item.large_image) {
        var large_image = item.large_image;
    } <span class="hljs-keyword">else</span> {
        var large_image = item.large_term_image;
    }

    var event_info = <span class="hljs-string">'Doors: '</span> + item.time + <span class="hljs-string">' / Price: '</span> + item.price + <span class="hljs-string">' / Age: '</span> + item.age;
    var cart = <span class="hljs-string">'https://www.example.com'</span>;

    var tablerow = Ti.UI.createTableViewRow({
        <span class="hljs-string">height :</span> <span class="hljs-string">'auto'</span>,
        <span class="hljs-string">className :</span> <span class="hljs-string">'itemRow'</span>,
        <span class="hljs-string">hasChild :</span> <span class="hljs-literal">true</span>,
        <span class="hljs-string">nid :</span> item.nid,
        <span class="hljs-string">large_image :</span> large_image,
        <span class="hljs-string">date :</span> item.date.toUpperCase(),
        <span class="hljs-string">event_title :</span>  item.title.toUpperCase(),
        <span class="hljs-string">event_sub_title :</span>  item.sub_title.toUpperCase(),
        <span class="hljs-string">event_info :</span> event_info.toUpperCase(),
        <span class="hljs-string">cart :</span> cart

    });

    var events_view = Titanium.UI.createView({
        <span class="hljs-string">height :</span> Ti.UI.SIZE,
        <span class="hljs-string">top :</span> <span class="hljs-number">5</span>,
        <span class="hljs-string">left :</span> <span class="hljs-number">5</span>,
        <span class="hljs-string">bottom :</span> <span class="hljs-number">5</span>
    });

    var events_image = Titanium.UI.createImageView({
        <span class="hljs-string">image :</span> image, <span class="hljs-comment">// the image for the image view</span>
        <span class="hljs-string">width :</span> <span class="hljs-number">48</span>,
        <span class="hljs-string">height :</span> <span class="hljs-number">48</span>,
        <span class="hljs-string">left :</span> <span class="hljs-number">0</span>,
        <span class="hljs-string">top :</span> <span class="hljs-number">0</span>,
        <span class="hljs-string">hires :</span> <span class="hljs-literal">true</span>
    });
    events_view.add(events_image);

    var eventsDateLabel = Ti.UI.createLabel({
        <span class="hljs-string">height :</span> Ti.UI.SIZE,
        <span class="hljs-string">color :</span> <span class="hljs-string">'#444444'</span>,
        <span class="hljs-string">text :</span> item.date.toUpperCase(),
        <span class="hljs-string">top :</span> <span class="hljs-number">0</span>,
        <span class="hljs-string">left :</span> <span class="hljs-number">55</span>,
        <span class="hljs-string">font :</span> {
            <span class="hljs-string">fontSize :</span> <span class="hljs-number">12</span>
        }
    });
    events_view.add(eventsDateLabel);

    var eventsTitleLabel = Ti.UI.createLabel({
        <span class="hljs-string">height :</span> Ti.UI.SIZE,
        <span class="hljs-string">color :</span> <span class="hljs-string">'#444444'</span>,
        <span class="hljs-string">text :</span> item.title.toUpperCase(),
        <span class="hljs-string">top :</span> <span class="hljs-number">15</span>,
        <span class="hljs-string">left :</span> <span class="hljs-number">55</span>,
        <span class="hljs-string">font :</span> {
            <span class="hljs-string">fontSize :</span> <span class="hljs-number">18</span>,
            <span class="hljs-string">fontFamily :</span> <span class="hljs-string">"League Gothic"</span>
        }
    });
    events_view.add(eventsTitleLabel);

    tablerow.add(events_view);

    <span class="hljs-keyword">return</span> tablerow;
};

function MasterView() {

    var self = Ti.UI.createView({
        <span class="hljs-string">backgroundColor :</span> <span class="hljs-string">'#fff'</span>
    });

    var table = Ti.UI.createTableView({
<span class="hljs-label">        separatorColor:</span> <span class="hljs-string">'#FFFFFFF'</span>
    });
    self.add(table);

    table.addEventListener(<span class="hljs-string">'click'</span>, function(e) {
        self.fireEvent(<span class="hljs-string">'itemSelected'</span>, {
            <span class="hljs-string">nid :</span> e.row.nid,
            <span class="hljs-string">image :</span> e.row.large_image,
            <span class="hljs-string">date :</span> e.row.date,
            <span class="hljs-string">title :</span> e.row.event_title,
            <span class="hljs-string">sub_title :</span> e.row.event_sub_title,
            <span class="hljs-string">info :</span> e.row.event_info,
            <span class="hljs-string">cart :</span> e.row.cart,
        });
    });

    self.refreshEventsTable = function(data) {
        <span class="hljs-keyword">if</span> (Object.prototype.toString.apply(data) === <span class="hljs-string">'[object Array]'</span>) {
            var rows = [];
            <span class="hljs-keyword">for</span> (var i = <span class="hljs-number">0</span>; i &lt; data.length; i++) {
                rows.push(createEventRow(data[i]));
            }
            table.setData(rows);
            table.separatorColor = <span class="hljs-string">'#CCC'</span>;
        }
    };

    <span class="hljs-keyword">return</span> self;
}

module.exports = MasterView;
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 6th 2012, 8:00:57 am">August 6th 2012</span>
								by <span class='authorname'>Marcus Williams</span><br>
								<a class="icon-bg icon-link" href="question/140529/android-41-app-crashes.html#answer-244561" rel="permalink">permalink</a>
							</div>

							<h5>6 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>I have the same problem on Android 4.1</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 7th 2012, 12:29:39 pm">August 7th 2012</span>
											by <span class='authorname'>Girod Frédéric</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Same for me with android 4.1</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 7th 2012, 1:23:38 pm">August 7th 2012</span>
											by <span class='authorname'>Cédric Guillot</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>+1 for 4.1</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 7th 2012, 2:07:48 pm">August 7th 2012</span>
											by <span class='authorname'>Romain Salles</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Ok seems like it might be a bug then. Is there a way to escalate it somehow?</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 8th 2012, 11:44:05 am">August 8th 2012</span>
											by <span class='authorname'>Marcus Williams</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Also happening for me</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 2nd 2012, 11:33:53 am">November 2nd 2012</span>
											by <span class='authorname'>Julian Suarez Lopera</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>+1 me also, 4.1</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 1st 2013, 1:08:02 pm">March 1st 2013</span>
											by <span class='authorname'>remeus romulus</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-244871">
				
						<section>
							<p>Ok I have narrowed it down even further. If I remove the width and height it loads fine, but the image is the wrong size</p>
<pre><code class="hljs"> var events_image = Titanium.UI.createImageView({
        <span class="hljs-string">image :</span> image, <span class="hljs-comment">// the image for the image view</span>
        <span class="hljs-string">left :</span> <span class="hljs-number">0</span>,
        <span class="hljs-string">top :</span> <span class="hljs-number">0</span>,
        <span class="hljs-string">hires :</span> <span class="hljs-literal">true</span>
    });
    events_view.add(events_image);
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 9th 2012, 11:27:11 am">August 9th 2012</span>
								by <span class='authorname'>Marcus Williams</span><br>
								<a class="icon-bg icon-link" href="question/140529/android-41-app-crashes.html#answer-244871" rel="permalink">permalink</a>
							</div>

							<h5>2 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>We are aware of these issues and as of now Ti SDK 2.1.1 does not support Android 4.1 completely. There have been some changes in Android 4.1 which needs some modifications in Ti SDK. The issue regarding bitmap has been fixed and should be available in nightly builds within few days. The fully supported version of Ti SDK ( for Android 4.1) will be released within 2 weeks.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 9th 2012, 3:31:53 pm">August 9th 2012</span>
											by <span class='authorname'>Anirudh Nagesh</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>OK thanks for the response.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 9th 2012, 3:41:30 pm">August 9th 2012</span>
											by <span class='authorname'>Marcus Williams</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
