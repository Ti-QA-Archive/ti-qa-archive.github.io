<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>How to properly (and consistently) trap android back tap? Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>How to properly (and consistently) trap android back tap?</h1>
		</header>
		<section>
			<p>This has been asked several times ALLLLL across the Interwebs, but I&#39;m looking for a definitive answer (since nothing seems to be working).</p>
<p>I&#39;m using the following code to try to detect (and then trap) the android back tap, but the code is not throwing at all.</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> backtrap = Ti.UI.currentWindow;
backtrap.addEventListener(<span class="hljs-string">'android:back'</span> , <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span></span>{
    Ti.API.info(<span class="hljs-string">'android:back trapped back button'</span>);
    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
});
backtrap.addEventListener(<span class="hljs-string">'androidback'</span> , <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span></span>{
    Ti.API.info(<span class="hljs-string">'androidback trapped back button'</span>);
    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
});
</code></pre><p>Any ideas?</p>
<p>Thanks in advance!</p>
<p>App Type: Android Mobile<br>TiVer: 4.0.0.x on Windows<br>Device: moto e</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="June 25th 2015, 2:16:05 pm">June 25th 2015</span>
				by <span class='authorname'>Michael Taylor</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>eventlistener</span></li>
					
						<li><span class='tagname'>mobile</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-287747">
				
						<section>
							<p>I answered my own question and this may (or may not) help others.</p>
<p>My issue was a result of the window opening race condition.  I&#39;m opening a new window from the main window.  The view on the new window is presenting before the script is running.  Thus, the script is running against the main window.</p>
<p>If you&#39;re still following this bouncing ball, I fixed this by adding an onLoad event to the new window.  The onLoad event fires when the view is loaded and loads its corresponding script.  In this way, forcing certain portions of the script to load AFTER the view, grants the script access to the new window&#39;s elements.</p>
<p>It could also be that I shouldn&#39;t use multiple windows, but I&#39;ve not found a good alternative to that.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="June 26th 2015, 6:05:14 pm">June 26th 2015</span>
								by <span class='authorname'>Michael Taylor</span><br>
								<a class="icon-bg icon-link" href="question/182777/how-to-properly-and-consistently-trap-android-back-tap#answer-287747" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
