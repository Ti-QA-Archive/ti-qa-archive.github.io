<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Does window.remove(objectName) clear the memory or not ? » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Does window.remove(objectName) clear the memory or not ?</h1>
		</header>
		<section>
			<p>I still have a great problem with my App ConsolesHD in Appstore:  <a href="http:&#x2F;&#x2F;itunes.apple.com&#x2F;ch&#x2F;app&#x2F;consoleshd&#x2F;id454060973?mt=8">iTunesLink</a></p>
<p>I need many imageViews and many windows, but every time when i don&#39;t need an object anymore i close the window <code>windowName.close();</code> and remove the objects <code>windowName.remove(objectName);</code>. But anyway, after some minutes my App crashes. Now my question! Is there still the same problem as always that the command <code>remove</code> has no really functionality ? and <code>close</code> is the same as <code>hide</code> !? in all 3 commands, the memory will never cleared right ?  </p>
<p>this is very sad, the memory management in titanium is so terrible ! (Sorry but it is true!).  Will this soon be fixed (i tested also with the Master 1.8 Nightly Build Version yesterday , but with the same result (crash after some minutes !!) </p>
<p>i know there is a possibility with a kind of a garbage window (i found the link here in the Q&amp;A corner) , but i don&#39;t have time to re-code all that relevant parts, because the app is in store now. Titanium is such a great tool, i love it, but it&#39;s so sad that the easy things don&#39;t work. </p>
<p>Thanks for reading and i&#39;m looking forward for suggestions :-)</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="September 5th 2011, 10:40:54 am">September 5th 2011</span>
				by <span class='authorname'>Hansjuerg Wuethrich</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>close</span></li>
					
						<li><span class='tagname'>hide</span></li>
					
						<li><span class='tagname'>ipad</span></li>
					
						<li><span class='tagname'>memory</span></li>
					
						<li><span class='tagname'>remove</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>1</span> Vote</div>
			<div class="answers"><span>3</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>3 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-218175">
				
						<section>
							<ol>
<li>Hide is not the same with close.</li>
<li>Try after remove to nullify the object</li>
</ol>
<pre><code class="hljs">windowName.remove(objectName)<span class="hljs-comment">;</span>
objectName =  null<span class="hljs-comment">;</span>
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="September 5th 2011, 12:03:48 pm">September 5th 2011</span>
								by <span class='authorname'>Dan Tamas</span><br>
								<a class="icon-bg icon-link" href="question/125165/does-windowremoveobjectname-clear-the-memory-or-not-#answer-218175" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Ohh man ! could this really be the solution ? this would be soooooo fu**ing great ! first of all i say thank you from the bottom of my heart !! i will try it in the next hours maybe 1 - 2 days and when it&#39;s really works, i will mark your answer as the best answer ! Thank you so much Dan Tamas !</p>
</p>
										<div class="author">
											&mdash; commented <span title="September 5th 2011, 12:22:50 pm">September 5th 2011</span>
											by <span class='authorname'>Hansjuerg Wuethrich</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-218180">
				
						<section>
							<p>You don&#39;t need a garbage window nor recode all your app, but you should use to work under some good practices, such as clean objects you are not going to use anymore, be careful with the variables scope and, of course, to know how titanium works. Dan Tamas has give you a good starting point, but you are the only one who can optimize your code and blame to titanium will not help you. If your app requires any re-engineering, any titanium update will solve this. Please, don&#39;t get me wrong, but is a typical demand and seems that we often forget that we are working with mobile and very limited-resources devices.</p>
<p>If you have a very concise case that shows that a bug can exists, don&#39;t hesitate to send here and will be reported.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="September 5th 2011, 12:23:48 pm">September 5th 2011</span>
								by <span class='authorname'>Javier Rayon</span><br>
								<a class="icon-bg icon-link" href="question/125165/does-windowremoveobjectname-clear-the-memory-or-not-#answer-218180" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Hi! Javier Rayon! Thank you for your comment ! i will always remember your words and especially the words from Dan Tamas ! I feel he brings me to the right direction ! and beside my &quot;blame&quot; i wrote in my first comment, Titanium is and will always be, a great tool from great peoples with a great community! But sometimes it is a bit frustrating :-)</p>
</p>
										<div class="author">
											&mdash; commented <span title="September 5th 2011, 12:46:00 pm">September 5th 2011</span>
											by <span class='authorname'>Hansjuerg Wuethrich</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-218231">
				
						<section>
							<p>Servus Hans,</p>
<p>ich antworte mal auf Englisch: I&#39;ve invested a lot of time in testing out all of the memory management methods hinted in this Q&amp;A…nullifying, cleaning up every single connection to the object that shall be removed, memory pool window, &quot;letting titanium handle the garbage collection itself&quot;, even calling the gargabe collector manually by a non-documented method. My experience: as soon as you have a lot of display objects with complex code, you&#39;ll have to work with the &quot;memory pool&quot; you already found in the Q&amp;A.<br>What I do for example in my current app is a simple screensaver:</p>
<ul>
<li>create an imageview</li>
<li>create a label</li>
<li>animate them both</li>
<li>after the animation is finished, create new imageview and label and remove the previous imageview &#x2F; label combination</li>
</ul>
<p>if I do this with the &quot;nullify&quot; method, I&#39;ll run into memory problems and the app will crash sooner or later. If I use the &quot;memory pool window&quot; and clean every imageview &#x2F; label with this method after they&#39;re not needed anymore, the app runs stable the whole day.</p>
<p>So as much work as it might be: I would recommend the memory pool window method.</p>
<pre><code class="hljs">(function() {
    myapp.pool = {}<span class="hljs-comment">;</span>

    myapp.pool.container = Ti.UI.createWindow()<span class="hljs-comment">;</span>
    myapp.pool.container.open()<span class="hljs-comment">;</span>
    myapp.pool.container.hide()<span class="hljs-comment">;    </span>

    myapp.pool.addObject = function(object) {
        myapp.pool.container.add(object)<span class="hljs-comment">;</span>
        return true<span class="hljs-comment">;</span>
    }<span class="hljs-comment">;</span>

    myapp..pool.clear = function() {
        myapp.pool.container.close()<span class="hljs-comment">;</span>
        myapp.pool.container = Ti.UI.createWindow()<span class="hljs-comment">;</span>
        myapp.pool.container.open()<span class="hljs-comment">;</span>
        myapp.pool.container.hide()<span class="hljs-comment">;   </span>
        return true<span class="hljs-comment">;</span>
    }    

})()<span class="hljs-comment">;</span>


....in another app file it's used like this:

container.removeMediaObject = function(media_object) {                
            container.remove(media_object)<span class="hljs-comment">;</span>
            var response = myapp.pool.addObject(media_object)<span class="hljs-comment">;</span>
            response = myapp.pool.clear()<span class="hljs-comment">;</span>
            media_object = null<span class="hljs-comment">;</span>
            response = null<span class="hljs-comment">;</span>
            return true<span class="hljs-comment">;</span>
        }<span class="hljs-comment">;</span>
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="September 6th 2011, 6:20:07 am">September 6th 2011</span>
								by <span class='authorname'>Benjamin Sommerfeld</span><br>
								<a class="icon-bg icon-link" href="question/125165/does-windowremoveobjectname-clear-the-memory-or-not-#answer-218231" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Thank you Ben ! i will try both methods and see which one works for me ! the nullify method seems to be easier to handle, the garbage window method seems to be the better choice but is much more work :-&#x2F;</p>
</p>
										<div class="author">
											&mdash; commented <span title="September 6th 2011, 7:02:11 am">September 6th 2011</span>
											by <span class='authorname'>Hansjuerg Wuethrich</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
