<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Titanium android push notification to solve all read/unread messages how i implemented » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Titanium android push notification to solve all read/unread messages how i implemented</h1>
		</header>
		<section>
			<p>Dear Sir,<br>I used a titanium android push notification and i already used a savedevicetoken web service,send chat messages using google cloud messaging.but i want to show the unread messages when the user is in background of Application.it just shown like a facebook when the user does not read the messages like the red bubble shown to another user.so please solve my issues as soon as possible.here is my code to implement a chat screen please tell me as soon as possible.</p>
<p>Titanium.UI.setBackgroundColor(&#39;#fff&#39;);<br>var chat_win = Titanium.UI.currentWindow;</p>
<p>chat_win.orientationModes = [ Titanium.UI.PORTRAIT ];<br>Ti.UI.orientation = Ti.UI.PORTRAIT;<br>var url = Ti.App.Properties.getString(&quot;url&quot;);<br>&#x2F;&#x2F;var url =&#39;http:&#x2F;&#x2F;apparelinindia.com&#x2F;AppHome&#x2F;linkme_services&#x2F;&#39;;<br>var fid =Ti.App.Properties.getString(&#39;friend_id&#39;);<br>var success_dialog = Ti.UI.createAlertDialog({<br>    message: &#39;Thank you for registering.&#39;,<br>    ok: &#39;Ok&#39;,<br>    title: &#39;Success&#39;,<br>    buttonNames: [&#39;Ok&#39;, &#39;Cancel&#39;],<br> });</p>
<p>if(Ti.App.Properties.getString(&#39;friend_id&#39;) ==null || Ti.App.Properties.getString(&#39;friend_id&#39;) ==&#39;&#39; || Ti.App.Properties.getString(&#39;friend_id&#39;) ==undefined){<br>    success_dialog.title=&#39;Error&#39;;<br>    success_dialog.message=&#39;Please select a friend from friend window to chat&#39;;<br>    success_dialog.show();<br>    &#x2F;&#x2F;alert(&#39;Please select a friend from friend window to chat&#39;);<br>}<br>&#x2F;&#x2F;====================register headerview+button and label=================&#x2F;&#x2F;<br>var actInd = Ti.UI.createActivityIndicator({<br>    height:&#39;20%&#39;,<br>    width:&#39;70%&#39;,<br>    bottom:&#39;20%&#39;,<br>    color: &#39;#fff&#39;,<br>    backgroundColor:&#39;#000&#39;,<br>    opacity:0.9,<br>    borderRadius:5,<br>    zIndex : 1,<br>    font:{<br>        fontFamily:&#39;ThisApp.FONTBOLD&#39;,<br>        fontSize:18,<br>        fontWeight: &#39;bold&#39;<br>        },<br>     message:&#39; Please wait…&#39;<br>});</p>
<p>chat_win.add(actInd);</p>
<p>var chatscreen_headerView =Ti.UI.createView({<br>    backgroundImage:&#39;images&#x2F;header_bg.png&#39;,<br>    width:&#39;100%&#39;,<br>    height:&#39;10%&#39;,<br>    top:&#39;0%&#39;,<br>    title:&#39;Chat Screen&#39;,<br>    textAlign: &#39;centre&#39;,<br>    color:&#39;#fff&#39;<br>  });</p>
<p>var chat_back_button_header =Ti.UI.createButton({<br>    width:21,<br>       height:17,<br>       left:&#39;3%&#39;,<br>       backgroundImage:&#39;images&#x2F;back_arrow_image.png&#39;,<br>});<br>var chat_logout_btn = Ti.UI.createButton({<br>    backgroundImage:&#39;images&#x2F;logout.png&#39;,<br>     backgroundSelectedImage : &quot;images&#x2F;btn_transparent1.png&quot;,<br>    width:65,<br>    height:23,<br>    right:&#39;5%&#39;<br>  });</p>
<p>var fr_name =Ti.App.Properties.getString(&#39;friend_name&#39;);</p>
<p>var chat_headerlabel = Ti.UI.createLabel({<br>     color: &#39;#fff&#39;,<br>     &#x2F;&#x2F;——————–updated by supriya—————–&#x2F;&#x2F; 7th June13<br>     text: &#39;Chat Screen&#39;,<br>     textAlign: &#39;center&#39;,<br>     font: {<br>        fontSize: 18,<br>        fontWeight: &#39;bold&#39;,<br>        fontFamily:&#39;ThisApp.FONTBOLD&#39;,<br>      },<br> });<br> if(chat_win.freind_name !=null &amp;&amp; chat_win.freind_name !=undefined){<br>     chat_headerlabel.text =chat_win.freind_name;<br> }</p>
<p>&#x2F;&#x2F; if(fr_name !=&#39;&#39; &amp;&amp; fr_name !=null &amp;&amp; fr_name !=undefined){<br>&#x2F;&#x2F;<br>    &#x2F;&#x2F; chat_headerlabel.text =fr_name;<br>&#x2F;&#x2F; }<br>chatscreen_headerView.add(chat_back_button_header);<br>chatscreen_headerView.add(chat_headerlabel);<br>chatscreen_headerView.add(chat_logout_btn);<br>chat_win.add(chatscreen_headerView);</p>
<p>&#x2F;&#x2F;—————————updated by supriya——————————-&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;<br>chat_logout_btn.addEventListener(&#39;touchstart&#39;, function() {<br>&#x2F;&#x2F;    Titanium.UI.currentWindow.close();<br>    var logout = require(&#39;logout_include&#39;);<br>    logout.appLogout();<br> });</p>
<p>&#x2F;&#x2F;==================chat textfield==================================&#x2F;&#x2F;<br>var chat_bottomView_chat = Titanium.UI.createView({<br>    width:&#39;100%&#39;,<br>    height:&#39;10%&#39;,<br>    bottom:&#39;0%&#39;,<br>    backgroundImage:&#39;images&#x2F;header_bg.png&#39;,<br>});<br>&#x2F;&#x2F;—————-updated by supriya 31st May13———————&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;<br>var user_chat_textfield=Ti.UI.createTextField({<br>    color : &#39;#000&#39;,<br>     bottom : &#39;2%&#39;,<br>    width:&#39;82%&#39;,<br>    height : &#39;80%&#39;,<br>    left:&#39;1%&#39;,<br>    borderWidth : 3,<br>    borderColor : &#39;#000&#39;,<br>    borderRadius : 5,<br>    keyboardType : Titanium.UI.KEYBOARD_DEFAULT,<br>    returnKeyType : Titanium.UI.RETURNKEY_NEXT,<br>    backgroundFocusedColor : &#39;#E5E5E5&#39;,<br>    backgroundImage : &#39;images&#x2F;input.png&#39;,<br>    autocapitalization : Titanium.UI.TEXT_AUTOCAPITALIZATION_NONE,<br>});<br>var chat_emoticone_button = Ti.UI.createButton({<br>  width : &#39;12%&#39;,<br>  height : &#39;8%&#39;,<br>  color : &#39;#fff&#39;,<br>  bottom : &#39;0%&#39;,<br>  right:&#39;2%&#39;,<br>  font : {<br>   fontSize : 14,<br>   fontWeight : &#39;bold&#39;,<br>   fontFamily : &#39;ThisApp.FONTBOLD&#39;,<br> },<br>  backgroundImage : &#39;images&#x2F;smilly_icon.png&#39;,<br>  borderColor:&#39;blue&#39;,<br>  borderRadius : 5,<br>  borderColor : &#39;#00B2EE&#39;,<br>  zIndex:2<br> });<br>chat_bottomView_chat.add(user_chat_textfield);<br> &#x2F;&#x2F;chat_bottomView_chat.add(chat_emoticone_button);<br> chat_win.add(chat_emoticone_button);<br> chat_win.add(chat_bottomView_chat);<br> var first = true;<br> user_chat_textfield.addEventListener(&#39;focus&#39;, function f(e){<br>    if(first){<br>        first = false;<br>        user_chat_textfield.blur();<br>    }else{<br>        user_chat_textfield.removeEventListener(&#39;focus&#39;, f);<br>    }<br>});<br> var tableview = Ti.UI.createTableView({<br>    data:[],<br>    top:50,<br>    bottom:110,<br>    separatorColor:&#39;transparent&#39;<br>});<br>chat_win.add(tableview);<br>tableview.addEventListener(&quot;click&quot;, function(e){<br>   &#x2F;&#x2F;alert(&#39;working&#39;);<br>});<br>var searchData =[];</p>
<p> &#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;<br> chat_emoticone_button.addEventListener(&#39;click&#39;, function(){<br> &#x2F;&#x2F;    alert(&#39;dksjf&#39;);<br>     var chat_msg =user_chat_textfield.value;<br>     if(chat_win.friend_id ==null || chat_win.friend_id ==undefined || chat_win.friend_id==&#39;&#39;){<br>         success_dialog.title=&#39;Error&#39;;<br>        success_dialog.message=&#39;Please select a friend from friend window to chat&#39;;<br>        success_dialog.show();<br>         return;<br>     }<br>     else if(chat_msg ==&#39;&#39; || chat_msg ==null){<br>             success_dialog.title=&#39;Error&#39;;<br>            success_dialog.message=&#39;please type message&#39;;<br>            success_dialog.show();<br>            return;<br>     }<br>     &#x2F;&#x2F;—————-updated by supriya 31st May13———————&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;<br>     &#x2F;&#x2F; else if(&#x2F;^[a-zA-Z0-9- ]*$&#x2F;.test(chat_msg)==false) {<br>      &#x2F;&#x2F;        success_dialog.title=&#39;Error&#39;;<br>        &#x2F;&#x2F;    success_dialog.message=&#39;please enter a valid characters in chat&#39;;<br>            &#x2F;&#x2F;success_dialog.show();<br>            &#x2F;&#x2F;return;<br>      &#x2F;&#x2F;}<br>     else{</p>
<pre><code class="hljs">                   var thisRow = Ti.UI.createTableViewRow();
                   thisRow.selectedColor =<span class="hljs-string">'transparent'</span>;
                   var user_pic =Titanium.App.Properties.getString(<span class="hljs-string">'user_pic'</span>);
                   <span class="hljs-keyword">if</span>(user_pic !=<span class="hljs-keyword">null</span> &amp;&amp; user_pic !=undefined &amp;&amp; user_pic !=<span class="hljs-string">''</span>){

                     var pic_src = Ti.Utils.base64decode(user_pic);
                   }
                   <span class="hljs-keyword">else</span>{

                     var pic_src = <span class="hljs-string">'images/user_profile.png'</span>;
                   }
                   var invitefriend_image = Titanium.UI.createImageView({
                            <span class="hljs-built_in">image</span>:pic_src,
                         top:<span class="hljs-number">20</span>,
                         <span class="hljs-variable">width</span>:<span class="hljs-string">'16%'</span>,
                         <span class="hljs-variable">height</span>:<span class="hljs-number">50</span>,
                         borderColor:<span class="hljs-string">'#fff'</span>,
                         borderRadius:<span class="hljs-number">5</span>,
                         borderWidth:<span class="hljs-number">1</span>,
                         left:<span class="hljs-string">'2%'</span>,
                         zIndex:<span class="hljs-number">100</span>
                  });
                  <span class="hljs-comment">//----------------updated by supriya 31st May13---------------------/////</span>
                  var invitefriend_dynamicview = Titanium.UI.createView({
                         top:<span class="hljs-number">31</span>,
                         backgroundColor:<span class="hljs-string">'white'</span>,
                         borderColor:<span class="hljs-string">'white'</span>,
                         borderRadius:<span class="hljs-number">7</span>,
                         borderWidth:<span class="hljs-number">4</span>,
                          left:<span class="hljs-string">'22%'</span>,
                          right:<span class="hljs-string">'2%'</span>,
                          <span class="hljs-variable">width</span>: <span class="hljs-string">'auto'</span>,
                             <span class="hljs-variable">height</span>: Ti.UI.SIZE,
                  });

                  <span class="hljs-comment">//==================updated by supriya-- 30th May13--------------------/////</span>
                  <span class="hljs-comment">//----------------updated by supriya 31st May13---------------------/////</span>
                  var invitefriend_arrowdynamicview=Titanium.UI.createView({
                          top:<span class="hljs-number">35</span>,
                          left:<span class="hljs-string">'19.5%'</span>,
                          backgroundImage:<span class="hljs-string">'images/bubble_arrow.png'</span>,
                          <span class="hljs-comment">//borderColor:'black',</span>
                        <span class="hljs-comment">//borderRadius:5,</span>
                        <span class="hljs-comment">//borderWidth:2,</span>
                          <span class="hljs-variable">width</span>:<span class="hljs-number">8</span>,
                          <span class="hljs-variable">height</span>:<span class="hljs-number">18</span>,
                          zIndex:<span class="hljs-number">99</span>
                          });

                  <span class="hljs-comment">//----------------updated by supriya 31st May13---------------------/////</span>
                  var invitefriend_user_name = Ti.UI.createLabel({
                        <span class="hljs-built_in">color</span>: <span class="hljs-string">'#000'</span>,
                        font: { 
                         fontSize:<span class="hljs-number">14</span>,
                         fontWeight: <span class="hljs-string">'bold'</span>,
                         fontFamily:<span class="hljs-string">'ThisApp.FONTBOLD'</span>,
                         },
                        <span class="hljs-built_in">text</span>: chat_msg,
                        left:<span class="hljs-string">'3%'</span>,
                        top:<span class="hljs-number">5</span>,
                        <span class="hljs-variable">width</span>: <span class="hljs-string">'auto'</span>, 
                        <span class="hljs-variable">height</span>: Titanium.UI.SIZE,
                        backgroundImage:<span class="hljs-string">'none'</span>
                 });

                  <span class="hljs-keyword">if</span>(chat_msg.length &lt; <span class="hljs-number">30</span>){

                    invitefriend_dynamicview.<span class="hljs-variable">height</span>=<span class="hljs-number">30</span>;                         
                  }
                  <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(chat_msg.length &gt; <span class="hljs-number">30</span> &amp;&amp; chat_msg.length &lt; <span class="hljs-number">60</span>){

                     invitefriend_dynamicview.<span class="hljs-variable">height</span>=<span class="hljs-number">60</span>;    
                  }
                  <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(chat_msg.length &gt; <span class="hljs-number">60</span> &amp;&amp; chat_msg.length &lt; <span class="hljs-number">100</span>){
                      invitefriend_dynamicview.<span class="hljs-variable">height</span>= <span class="hljs-number">90</span>;
                  }
                  <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(chat_msg.length &gt; <span class="hljs-number">100</span> &amp;&amp; chat_msg.length &lt; <span class="hljs-number">150</span>){
                     invitefriend_dynamicview.<span class="hljs-variable">height</span>= <span class="hljs-number">120</span>;
                  }
                     <span class="hljs-comment">//invitefriend_dynamicview.height =invitefriend_user_name.toImage().height;</span>
                     thisRow.<span class="hljs-built_in">add</span>(invitefriend_image);
                     thisRow.<span class="hljs-built_in">add</span>(invitefriend_arrowdynamicview);
                     invitefriend_dynamicview.<span class="hljs-built_in">add</span>(invitefriend_user_name);
                     thisRow.<span class="hljs-built_in">add</span>(invitefriend_dynamicview);
                     searchData.push(thisRow);
                     tableview.setData(searchData);
                      sendAndroidGCM(chat_msg);
             }
         });
</code></pre><p>chat_back_button_header.addEventListener(&#39;touchstart&#39;, function() {<br>     chat_win.close();<br>});</p>
<p>function sendAndroidGCM(chat_msg){<br>    actInd.show();<br>    var web_url    = url+&#39;sendAndroidCloudMessages&#39;;<br>    var user_id       =Titanium.App.Properties.getString(&quot;user_id&quot;);<br>    var session_id =Titanium.App.Properties.getString(&quot;sid&quot;);<br>    var userName   =Titanium.App.Properties.getString(&#39;user_name&#39;);<br>    var friend_id  = Ti.App.Properties.getString(&#39;friend_id&#39;);<br>    var request_param  ={&#39;user_id&#39;:user_id, &#39;sessionId&#39;:session_id, &#39;friend_id&#39;:friend_id, &#39;android_msg&#39;:chat_msg, &#39;user_name&#39;:userName};<br>    var client = Ti.Network.createHTTPClient();<br>    client.open(&quot;POST&quot;, web_url);<br>    client.send(request_param);<br>    client.onload=function()<br>    {<br>        actInd.hide();<br>        user_chat_textfield.value =&#39;&#39;;<br>        Ti.API.info(this.responseText);<br>        var resData=JSON.parse(this.responseText);<br>        &#x2F;&#x2F;alert(JSON.stringify(resData));<br>    }<br>    client.onerror=function(){<br>        actInd.hide();<br>           var dialog = Ti.UI.createAlertDialog({<br>               message: &#39;Network connection error&#39;,<br>               ok: &#39;Ok&#39;,<br>               title: &#39;Error&#39;<br>           }).show();<br>    }</p>
<p>}</p>
<p>chat_win.addEventListener(&#39;open&#39;, function(){</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> gcm = <span class="hljs-built_in">require</span>(<span class="hljs-string">'com.activate.gcm'</span>);
Ti.API.info(<span class="hljs-string">'module gcm is =&gt; '</span> + gcm);
Ti.API.info(<span class="hljs-string">'Registering...'</span>);
gcm.registerC2dm
({
        success:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)
        </span>{
            <span class="hljs-comment">//Ti.API.info('JS registration success event: ' + e.registrationId);</span>
            <span class="hljs-comment">//alert('Yeah JS registration success event: ' + e.registrationId);</span>
            <span class="hljs-comment">//alert('Sender ID:' + gcm.getSenderId());</span>
            <span class="hljs-comment">//alert('Registration ID:' + gcm.getRegistrationId());</span>
            saveAndroidDeviceToken(e.registrationId);
        },
        error:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)
        </span>{
            Ti.API.error(<span class="hljs-string">"Error during registration : "</span> + e.error);
            <span class="hljs-comment">//alert("Error during registration : " + e.error);</span>
            <span class="hljs-keyword">var</span> message;
            <span class="hljs-keyword">if</span>(e.error == <span class="hljs-string">"ACCOUNT_MISSING"</span>)
            {
                message = <span class="hljs-string">"No Google account found; you will need to add on in order to activate notifications"</span>;
            }

            Titanium.UI.createAlertDialog
            (
                {
                    title:<span class="hljs-string">'Push Notification Setup'</span>,
                    message:message,
                    buttonNames:[<span class="hljs-string">'OK'</span>]
                }
            ).show();
        },
        callback:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) 
        </span>{
                Ti.API.info(<span class="hljs-string">'JS message event: '</span> + <span class="hljs-built_in">JSON</span>.stringify(e.data));
                <span class="hljs-comment">//alert('JS message event: ' + JSON.stringify(e.data));</span>
                <span class="hljs-comment">//Titanium.Media.vibrate();</span>
                  <span class="hljs-keyword">var</span> user_message =e.data.message;
                  <span class="hljs-keyword">var</span> msgArr =user_message.split(<span class="hljs-string">"::::"</span>);
                <span class="hljs-keyword">if</span>(msgArr[<span class="hljs-number">1</span>] == <span class="hljs-string">"friend_request"</span>){

                }
                <span class="hljs-keyword">else</span>{
                         <span class="hljs-keyword">var</span> thisRow = Ti.UI.createTableViewRow();
                         thisRow.selectedColor =<span class="hljs-string">'transparent'</span>;
                          <span class="hljs-keyword">var</span> user_pic =Titanium.App.Properties.getString(<span class="hljs-string">'friend_image'</span>);
                           <span class="hljs-keyword">if</span>(user_pic !=<span class="hljs-literal">null</span> &amp;&amp; user_pic !=<span class="hljs-literal">undefined</span> &amp;&amp; user_pic !=<span class="hljs-string">''</span>){
                                    <span class="hljs-keyword">var</span> pic_src = Ti.Utils.base64decode(user_pic);
                           }
                           <span class="hljs-keyword">else</span>{

                             <span class="hljs-keyword">var</span> pic_src = <span class="hljs-string">'images/user_profile.png'</span>;
                           }

                           <span class="hljs-keyword">var</span> invitefriend_image = Titanium.UI.createImageView({
                                    image:pic_src,
                                 top:<span class="hljs-number">20</span>,
                                 width:<span class="hljs-string">'16%'</span>,
                                 height:<span class="hljs-number">50</span>,
                                 borderColor:<span class="hljs-string">'#fff'</span>,
                                 borderRadius:<span class="hljs-number">5</span>,
                                 borderWidth:<span class="hljs-number">1</span>,
                                 right:<span class="hljs-string">'0%'</span>,
                                 zIndex:<span class="hljs-number">100</span>
                          });
                          <span class="hljs-keyword">var</span> invitefriend_dynamicview = Titanium.UI.createView({
                                 top:<span class="hljs-number">30</span>,
                                 backgroundColor:<span class="hljs-string">'#ead8b4'</span>,
                                 width:<span class="hljs-number">230</span>,
                                 height:<span class="hljs-number">75</span>,
                                 borderColor:<span class="hljs-string">'#ead8b4'</span>,
                                 borderRadius:<span class="hljs-number">5</span>,
                                 borderWidth:<span class="hljs-number">2</span>,
                                 right:<span class="hljs-string">'20%'</span>
                          });
                          <span class="hljs-keyword">var</span> invitefriend_user_name = Ti.UI.createLabel({
                                    color: <span class="hljs-string">'#000'</span>,
                                    font: { 
                                     fontSize:<span class="hljs-number">16</span>,
                                     fontWeight: <span class="hljs-string">'bold'</span>,
                                     fontFamily:<span class="hljs-string">'ThisApp.FONTBOLD'</span>,
                                     },
                                    text: msgArr[<span class="hljs-number">0</span>],
                                    right:<span class="hljs-string">'2%'</span>,
                                    top:<span class="hljs-number">2</span>,
                                    width: <span class="hljs-string">'auto'</span>, 
                                    height: <span class="hljs-number">30</span>,
                                    backgroundImage:<span class="hljs-string">'none'</span>
                             });
                             thisRow.add(invitefriend_image);
                             invitefriend_dynamicview.add(invitefriend_user_name);
                             invitefriend_dynamicview.height=invitefriend_user_name.height+<span class="hljs-number">10</span>;
                             thisRow.add(invitefriend_dynamicview);
                             searchData.push(thisRow);
                             tableview.setData(searchData);

                }

        }
    });
</code></pre><p>});</p>
<p>function saveAndroidDeviceToken(regid){<br>    &#x2F;&#x2F;actInd.show();<br>    var saveUrl    = url+&#39;save_android_device_token&#39;;<br>    var user_id       =Titanium.App.Properties.getString(&quot;user_id&quot;);<br>    var session_id =Titanium.App.Properties.getString(&quot;sid&quot;);<br>    var request_param  ={&#39;user_id&#39;:user_id, &#39;sessionId&#39;:session_id, &#39;android_token&#39;:regid};<br>    var client = Ti.Network.createHTTPClient();<br>    client.open(&quot;POST&quot;, saveUrl);<br>    client.send(request_param);<br>    client.onload=function()<br>    {<br>        &#x2F;&#x2F;actInd.hide();<br>        Ti.API.info(this.responseText);<br>        var resObj=JSON.parse(this.responseText);<br>        &#x2F;&#x2F;alert(JSON.stringify(resObj));<br>    }<br>    client.onerror=function(){<br>        &#x2F;&#x2F;actInd.hide();<br>           var dialog = Ti.UI.createAlertDialog({<br>               message: &#39;Network connection error&#39;,<br>               ok: &#39;Ok&#39;,<br>               title: &#39;Error&#39;<br>           }).show();<br>}<br>}</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="June 22nd 2013, 7:44:27 am">June 22nd 2013</span>
				by <span class='authorname'>supriya pandey</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>push unread messages</span></li>
					
				</ul>
			

			<section>
				<h5>1 Comment</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Are you using android if that is true that is not possible let me know</p>
<p>Thanks</p>
</div>
							<div class="author">
								&mdash; commented <span title="June 22nd 2013, 8:23:38 am">June 22nd 2013</span>
								by <span class='authorname'>Muhammad Wahhab Mirza</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>0</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>0 Answers</h3>

	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
