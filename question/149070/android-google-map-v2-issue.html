<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>android google map V2 issue Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>android google map V2 issue</h1>
		</header>
		<section>
			<p>I just updated my android map to the newly released V2 module.<br>First thing I found out was it can&#39;t display the customer image for annotation any more, it just shows the default red PIN, even though the sample code in the doc explicitly says it can. It seems to be a bug</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="March 3rd 2013, 4:43:14 am">March 3rd 2013</span>
				by <span class='authorname'>jason hu</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android map v2</span></li>
					
						<li><span class='tagname'>google map v2</span></li>
					
				</ul>
			

			<section>
				<h5>18 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>I had my images (for android only)  under android folder, so I moved the map image folder out to under resources directly,  it still didn&#39;t work, then I finally copied the images directly under resources folder, finally,  some images can show up, but not all,  this is really confusing and unexpected.</p>
</div>
							<div class="author">
								&mdash; commented <span title="March 3rd 2013, 5:19:25 am">March 3rd 2013</span>
								by <span class='authorname'>jason hu</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Please supply so test code to review, this is required to be able to give you assistance.</p>
</div>
							<div class="author">
								&mdash; commented <span title="March 3rd 2013, 7:49:12 am">March 3rd 2013</span>
								by <span class='authorname'>Malcolm Hollingsworth</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>since this test requires a private v2 map key, it is hard to upload a whole project.  The issue is simply about  </p>
<p>  <code>MapModule.createAnnotation({
                latitude : 32.943868
                longitude : -96.836114,
                image : imagePath,
                title : &amp;#39;My Home&amp;#39;,
                subtitle : &amp;#39;Nice place&amp;#39;,
                leftButton : leftImage,                
            });</code></p>
<p> the imagePath  is not taken if it is under any folder, doesn&#39;t matter it is under folder &quot;android&quot; or not, ( I usually put android specific  images under android,),    but  it works partially when I put the image directly under resource folder,<br>so in a word,   </p>
<ol>
<li>&#39;home.png&#39; works </li>
<li>&#39;&#x2F;img&#x2F;home.png&#39; will not work,  </li>
</ol>
<p>leftButton seems to be not supported any more, it is not even in API doc, but I can live with this.</p>
</div>
							<div class="author">
								&mdash; commented <span title="March 3rd 2013, 4:42:02 pm">March 3rd 2013</span>
								by <span class='authorname'>jason hu</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Cheers for the extra info, I will check shortly and come back to you.</p>
<p>BTW you are right about <strong>leftButton</strong> not being supported, there are a few things no longer supported - I &quot;think&quot; it is a restriction in the new GoogleMaps API itself rather than Appcelerator but not use</p>
<ul>
<li><a href="http:&#x2F;&#x2F;docs.appcelerator.com&#x2F;titanium&#x2F;3.0&#x2F;#!&#x2F;guide&#x2F;Google_Maps_v2_for_Android-section-36739898_GoogleMapsv2forAndroid-TransitioningfromTitanium.Map">Transitioning from Titanium.Map</a></li>
</ul>
</div>
							<div class="author">
								&mdash; commented <span title="March 3rd 2013, 4:49:12 pm">March 3rd 2013</span>
								by <span class='authorname'>Malcolm Hollingsworth</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>To correct myself a  little bit, putting it directly under resources folder, it works for all images.</p>
</div>
							<div class="author">
								&mdash; commented <span title="March 3rd 2013, 4:49:56 pm">March 3rd 2013</span>
								by <span class='authorname'>jason hu</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Cheers - got that last bit :-)</p>
</div>
							<div class="author">
								&mdash; commented <span title="March 3rd 2013, 4:50:44 pm">March 3rd 2013</span>
								by <span class='authorname'>Malcolm Hollingsworth</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>another two great things about the v2 module are </p>
<ol>
<li>it seems to be 5 times faster than the old map module, </li>
<li>the &quot;Black Popup&quot; for annotation is replaced with a decent while one.</li>
</ol>
</div>
							<div class="author">
								&mdash; commented <span title="March 3rd 2013, 4:54:23 pm">March 3rd 2013</span>
								by <span class='authorname'>jason hu</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Agreed - a much better version, works with the multi-layered data available in the native Google Maps app as well.</p>
</div>
							<div class="author">
								&mdash; commented <span title="March 3rd 2013, 4:58:13 pm">March 3rd 2013</span>
								by <span class='authorname'>Malcolm Hollingsworth</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>You are correct; annotation images cannot be placed or referenced in any location or way other than <strong>image: &#39;image.ext&#39;</strong>, to changes to path or location of folder seems to make ANY difference.</p>
<p>Test code, ONLY the uncommented <strong>image</strong> reference works, the commented <strong>image</strong> references fail every time.</p>
<pre><code class="hljs"><span class="xml">var anno = MapModule.createAnnotation(</span><span class="hljs-expression">{
    <span class="hljs-variable">draggable</span>: <span class="hljs-variable">true</span>,
    <span class="hljs-variable">image</span>: '<span class="hljs-variable">pin.png</span>',
    /<span class="hljs-end-block">/image</span>: '<span class="hljs-end-block">/pin.png</span>',  /<span class="hljs-end-block">/ </span>= <span class="hljs-end-block">/resources</span><span class="hljs-end-block">/pin.png</span>
    /<span class="hljs-end-block">/image</span>: '<span class="hljs-end-block">/pin.png</span>',  /<span class="hljs-end-block">/ </span>= <span class="hljs-end-block">/resources</span><span class="hljs-end-block">/android</span><span class="hljs-end-block">/pin.png</span>
    /<span class="hljs-end-block">/image</span>: '<span class="hljs-end-block">/images</span><span class="hljs-end-block">/pin.png</span>',  /<span class="hljs-end-block">/ </span>= <span class="hljs-end-block">/resources</span><span class="hljs-end-block">/android</span><span class="hljs-end-block">/images</span><span class="hljs-end-block">/pin.png</span>
    /<span class="hljs-end-block">/image</span>: <span class="hljs-variable">Ti.Filesystem.getResourcesDirectory</span>() + '<span class="hljs-end-block">/pin.png</span>',  /<span class="hljs-end-block">/ </span>= <span class="hljs-end-block">/resources</span><span class="hljs-end-block">/pin.png</span>
    /<span class="hljs-end-block">/image</span>: <span class="hljs-variable">Ti.Filesystem.resourcesDirectory</span> + '<span class="hljs-end-block">/pin.png</span>',
    <span class="hljs-variable">latitude</span>: 51<span class="hljs-variable">.</span>5171, 
    <span class="hljs-variable">longitude</span>: <span class="hljs-variable">-</span>0<span class="hljs-variable">.</span>1062, 
    <span class="hljs-variable">subtitle</span>: '<span class="hljs-variable">In</span> <span class="hljs-variable">the</span> <span class="hljs-variable">centre</span>',
    <span class="hljs-variable">title</span>: '<span class="hljs-variable">London</span>'
}</span><span class="xml">);
var map1 = MapModule.createView(</span><span class="hljs-expression">{
    <span class="hljs-variable">animate</span>: <span class="hljs-variable">true</span>,
    <span class="hljs-variable">annotations</span>: [<span class="hljs-variable">anno</span>],
    <span class="hljs-variable">height</span>: <span class="hljs-variable">Ti.UI.FILL</span>,
    <span class="hljs-variable">mapType</span>: <span class="hljs-variable">MapModule.NORMAL</span>_<span class="hljs-variable">TYPE</span>,
    <span class="hljs-variable">region</span>: {
        <span class="hljs-variable">latitude</span>: 51<span class="hljs-variable">.</span>5171, 
        <span class="hljs-variable">longitude</span>: <span class="hljs-variable">-</span>0<span class="hljs-variable">.</span>1062, 
        <span class="hljs-variable">latitudeDelta</span>: 1, 
        <span class="hljs-variable">longitudeDelta</span>: 1
    }</span><span class="xml">,
    userLocation: true,
    width: Ti.UI.FILL
});
win.add(map1);</span>
</code></pre><p>I have informed them via a support email, I would suggest you register a <a href="http:&#x2F;&#x2F;jira.appcelerator.com&#x2F;">jira.appcelerator.com</a> ticket.</p>
</div>
							<div class="author">
								&mdash; commented <span title="March 3rd 2013, 5:45:01 pm">March 3rd 2013</span>
								by <span class='authorname'>Malcolm Hollingsworth</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>just found another issue. when I installed it in google nexus s ( 2.3.4),  here are the behaviors:</p>
<ol>
<li>very slow</li>
<li>the whole map is fuzzy,  seems to be covered with a strange white layer  (opacity about 0.6).   it may not be what it is, just what it looks like</li>
</ol>
<p>I guess this module was not never tested in 2.3.4.<br>I tried to register at http:&#x2F;&#x2F;jira.appcelerator.com&#x2F;,  the site is not working.</p>
</div>
							<div class="author">
								&mdash; commented <span title="March 3rd 2013, 7:07:15 pm">March 3rd 2013</span>
								by <span class='authorname'>jason hu</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>I have only been playing so far on 4.2.2 - off to check 2.3.x</p>
</div>
							<div class="author">
								&mdash; commented <span title="March 3rd 2013, 7:08:25 pm">March 3rd 2013</span>
								by <span class='authorname'>Malcolm Hollingsworth</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>I have just tried 2.3.5 (HTC Desire S) and whilst slower than the Nexus 4 it is very much in-line with what I thought it would run like.  I have a clear picture this end.</p>
</div>
							<div class="author">
								&mdash; commented <span title="March 3rd 2013, 7:15:55 pm">March 3rd 2013</span>
								by <span class='authorname'>Malcolm Hollingsworth</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>i don&#39;t know how to take a screen shot  on 2.3.4, tried with a camera, but it didn&#39;t get a shot good enough that I can present.  The doc says it requires Google Play installed, my nexus S only has &quot;Market&quot;, not sure if that caused the issue.</p>
</div>
							<div class="author">
								&mdash; commented <span title="March 3rd 2013, 7:22:44 pm">March 3rd 2013</span>
								by <span class='authorname'>jason hu</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Not sure which of these they mean;</p>
<ul>
<li>Google Play services &lt; <em>thinking this one</em></li>
<li>Google Play Store</li>
</ul>
<p>I checked on my device, in; <strong>Manage Applications</strong> &gt; <strong>All</strong> and I have both on both testing devices.</p>
</div>
							<div class="author">
								&mdash; commented <span title="March 3rd 2013, 7:34:10 pm">March 3rd 2013</span>
								by <span class='authorname'>Malcolm Hollingsworth</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>I just checked,  mine also has the two services running.  the strange thing is, the map is still functional,  just the whole map is like &quot;lens blurred&quot;.</p>
</div>
							<div class="author">
								&mdash; commented <span title="March 3rd 2013, 9:41:26 pm">March 3rd 2013</span>
								by <span class='authorname'>jason hu</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Support came back to me about the image path problem - they tell me they cannot reproduce it.</p>
<p>I am going to download it again (in-case they snuck in a fix) and try another series of tests.</p>
</div>
							<div class="author">
								&mdash; commented <span title="March 4th 2013, 8:07:49 am">March 4th 2013</span>
								by <span class='authorname'>Malcolm Hollingsworth</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>I think I know why.  I just found out if I don&#39;t have the leading slash in the path, having images under folder works,   so the imagePath needs to be &#39;img&#x2F;abc&#x2F;home.png&#39;,    then it can work.   However, this is not consistent with current standard.</p>
</div>
							<div class="author">
								&mdash; commented <span title="March 4th 2013, 1:25:41 pm">March 4th 2013</span>
								by <span class='authorname'>jason hu</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>I will do the test - taking into account your comments -as get back to them.</p>
<p>I would never of thought to pull the leading <strong>&#x2F;</strong> as it is there for a reason, especially as scripts have different folder relationships depending on where they are run from (or where the parent script is run from)</p>
</div>
							<div class="author">
								&mdash; commented <span title="March 4th 2013, 3:59:18 pm">March 4th 2013</span>
								by <span class='authorname'>Malcolm Hollingsworth</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-257948">
				
						<section>
							<p>Might be wrong, but did you try a clean project first?</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="March 3rd 2013, 12:00:52 pm">March 3rd 2013</span>
								by <span class='authorname'>Dan Tamas</span><br>
								<a class="icon-bg icon-link" href="question/149070/android-google-map-v2-issue#answer-257948" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>that&#39;s the very first thing I did. thanks anyway.</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 3rd 2013, 4:48:42 pm">March 3rd 2013</span>
											by <span class='authorname'>jason hu</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-258973">
				
						<section>
							<p>Save your Images directly under &quot;Resources&quot;-Folder and call them &quot;image : test.png&quot;.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="March 20th 2013, 6:02:42 am">March 20th 2013</span>
								by <span class='authorname'>Ludwig Leuschner</span><br>
								<a class="icon-bg icon-link" href="question/149070/android-google-map-v2-issue#answer-258973" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
