<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>How to get Ti.Media.createAudioPlayer to play local files » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>How to get Ti.Media.createAudioPlayer to play local files</h1>
		</header>
		<section>
			<p>I&#39;m trying to get audio to play in the background when the user goes to another application or goes back to the Springboard etc.</p>
<p>The following Ti.Media.createSound works</p>
<pre><code class="hljs">        <span class="hljs-name">Ti</span>.<span class="hljs-name">App</span>.<span class="hljs-atom">song_audio</span> = <span class="hljs-name">Titanium</span>.<span class="hljs-name">Media</span>.<span class="hljs-atom">createSound</span>({
            <span class="hljs-atom">audioSessionMode</span>: <span class="hljs-name">Titanium</span>.<span class="hljs-name">Media</span>.<span class="hljs-name">AUDIO_SESSION_MODE_PLAYBACK</span>,
            <span class="hljs-atom">url</span>: <span class="hljs-name">Titanium</span>.<span class="hljs-name">Filesystem</span>.<span class="hljs-atom">applicationDataDirectory</span> + <span class="hljs-string">'music'</span> + <span class="hljs-name">Titanium</span>.<span class="hljs-name">Filesystem</span>.<span class="hljs-atom">separator</span> + <span class="hljs-atom">songs_array</span>[<span class="hljs-atom">current_track_position</span>][<span class="hljs-string">'song_id'</span>] + <span class="hljs-string">'.mp3'</span>,
            <span class="hljs-atom">volume</span>: <span class="hljs-number">1.0</span>
        });
</code></pre><p>but the same URL using Ti.Media.createAudioPlayer returns an error</p>
<pre><code class="hljs">        song_audio = Ti.Media.createAudioPlayer({ 
            allowBackground: <span class="hljs-literal">true</span>,
            audioSessionMode: Titanium.Media.AUDIO_SESSION_MODE_PLAYBACK,
            preload: <span class="hljs-literal">true</span>,
            url: Titanium.Filesystem.applicationDataDirectory + <span class="hljs-string">'music'</span> + Titanium.Filesystem.separator + songs_array[current_track_position][<span class="hljs-string">'song_id'</span>] + <span class="hljs-string">'.mp3'</span>,
            volume: <span class="hljs-number">1.0</span>
        });
</code></pre><p>Error</p>
<pre><code class="hljs">Unable <span class="hljs-keyword">to</span> configure network <span class="hljs-command">read</span> stream.
</code></pre>
		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="March 8th 2012, 2:54:08 am">March 8th 2012</span>
				by <span class='authorname'>Dallas Clark</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>audio</span></li>
					
						<li><span class='tagname'>createaudioplayer</span></li>
					
						<li><span class='tagname'>createsound</span></li>
					
						<li><span class='tagname'>iphone</span></li>
					
						<li><span class='tagname'>local file</span></li>
					
				</ul>
			

			<section>
				<h5>3 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Note: Ti.App.song_audio in the example should be just song_audio</p>
</div>
							<div class="author">
								&mdash; commented <span title="March 8th 2012, 2:54:51 am">March 8th 2012</span>
								by <span class='authorname'>Dallas Clark</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Did you get this to work? I am also facing the same problem.</p>
</div>
							<div class="author">
								&mdash; commented <span title="July 9th 2012, 5:05:49 pm">July 9th 2012</span>
								by <span class='authorname'>Sapan Diwakar</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>See my answer below :)</p>
</div>
							<div class="author">
								&mdash; commented <span title="July 9th 2012, 10:12:14 pm">July 9th 2012</span>
								by <span class='authorname'>Dallas Clark</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>3</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>3 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-245353">
				
						<section>
							<p>I have tried 1.6.2, 1.7.x, audioPlayer can play local file by passing the url format of : &#39;file:&#x2F;&#x2F;&#x2F;mnt&#x2F;sdcard&#x2F;xxx.mp3&#39;. But one problem is that the progress event can&#39;t be fired with local file.for remote file, the progress event can be fired correctly.<br>(commented 1 year ago by Leoncin Lee)</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 15th 2012, 9:01:33 am">August 15th 2012</span>
								by <span class='authorname'>Dang Anh</span><br>
								<a class="icon-bg icon-link" href="question/133414/how-to-get-timediacreateaudioplayer-to-play-local-files#answer-245353" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-242815">
				
						<section>
							<p>Ti.Media.createAudioPlayer cannot play local files, it is only designed to play remote files.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="July 9th 2012, 10:11:58 pm">July 9th 2012</span>
								by <span class='authorname'>Dallas Clark</span><br>
								<a class="icon-bg icon-link" href="question/133414/how-to-get-timediacreateaudioplayer-to-play-local-files#answer-242815" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-263837">
				
						<section>
							<p>Use the VideoPlayer instead and adjust its height to hide the image area. It already offers all the playback control buttons and it plays remote and local audio and videos. AudioPlayer is useless at best. One has to always create a UI for it.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="June 4th 2013, 4:26:04 pm">June 4th 2013</span>
								by <span class='authorname'>WebMaster Idéeclic</span><br>
								<a class="icon-bg icon-link" href="question/133414/how-to-get-timediacreateaudioplayer-to-play-local-files#answer-263837" rel="permalink">permalink</a>
							</div>

							<h5>5 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Not necessarily.  You don&#39;t need a UI for it if all you&#39;re doing is playing background music…like for a game or slideshow.</p>
</p>
										<div class="author">
											&mdash; commented <span title="June 4th 2013, 4:40:21 pm">June 4th 2013</span>
											by <span class='authorname'>Shawn Lipscomb</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>That is true. I should have mentioned that we needed a nice looking audio player with UI controls. The point really was that the audio player cannot play local files for some obscure reasons and that the video player allows doing that. It is also possible to position the player off the screen visible area or simple render it invisible.</p>
</p>
										<div class="author">
											&mdash; commented <span title="June 4th 2013, 4:46:42 pm">June 4th 2013</span>
											by <span class='authorname'>WebMaster Idéeclic</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Interesting, thanks I&#39;ll give the video player a try</p>
</p>
										<div class="author">
											&mdash; commented <span title="June 4th 2013, 11:11:45 pm">June 4th 2013</span>
											by <span class='authorname'>Dallas Clark</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>There is no allowBackground property for videoPlayer, how did you manage to play in the background?</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 3rd 2014, 1:53:19 pm">July 3rd 2014</span>
											by <span class='authorname'>Filip Heidfors</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I didn&#39;t - I couldn&#39;t get it to play in the background and haven&#39;t tried again since</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 6th 2014, 9:33:30 am">July 6th 2014</span>
											by <span class='authorname'>Dallas Clark</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
