<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>App crash with 20+ ImageViews in ScrollableView » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>App crash with 20+ ImageViews in ScrollableView</h1>
		</header>
		<section>
			<p>Does anyone know how to dynamically add and remove multiple ImageViews in a ScrollableView?  If I have more than 20 ImageViews in the scrollableView of my app, it crashes.</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="December 4th 2010, 10:55:58 pm">December 4th 2010</span>
				by <span class='authorname'>Arlton Lowry</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>add</span></li>
					
						<li><span class='tagname'>app</span></li>
					
						<li><span class='tagname'>crash</span></li>
					
						<li><span class='tagname'>dynamically</span></li>
					
						<li><span class='tagname'>imageview</span></li>
					
						<li><span class='tagname'>mobile</span></li>
					
						<li><span class='tagname'>remove</span></li>
					
						<li><span class='tagname'>scrollableview</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>7</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>7 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-159721">
				
						<section>
							<p>I think 1.5 might solve the scrollableView crashing problem.  Can anyone confirm this?</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="December 13th 2010, 1:32:50 pm">December 13th 2010</span>
								by <span class='authorname'>Arlton Lowry</span><br>
								<a class="icon-bg icon-link" href="question/86001/app-crash-with-20-imageviews-in-scrollableview#answer-159721" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-155351">
				
						<section>
							<p>the solution i ended up with was adding extra logic such that only 3 views were in memory at a time.</p>
<p>my method wasnt very efficient but its decent i guess… everytime you touch the screen the app sets all views to null except for the current one. it then recreates the images immediately adjacent to the current view back so that when the user scrolls there isnt an abrupt change. </p>
<p>its worked thus far though my app is small. hopefully it continues to work as i expand to more views.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="December 4th 2010, 11:16:04 pm">December 4th 2010</span>
								by <span class='authorname'>sean oreilly</span><br>
								<a class="icon-bg icon-link" href="question/86001/app-crash-with-20-imageviews-in-scrollableview#answer-155351" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-155361">
				
						<section>
							<p>the solution i ended up with was adding extra logic such that only 3 views were in memory at a time.</p>
<p>my method wasnt very efficient but its decent i guess… everytime you touch the screen the app sets all views to null except for the current one. it then recreates the images immediately adjacent to the current view back so that when the user scrolls there isnt an abrupt change. </p>
<p>its worked thus far though my app is small. hopefully it continues to work as i expand to more views.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="December 4th 2010, 11:21:31 pm">December 4th 2010</span>
								by <span class='authorname'>sean oreilly</span><br>
								<a class="icon-bg icon-link" href="question/86001/app-crash-with-20-imageviews-in-scrollableview#answer-155361" rel="permalink">permalink</a>
							</div>

							<h5>2 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>I tried to do exactly this, but my app kept crashing as soon as I swiped to the second ImageView. Would you mind sharing your code?</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 4th 2010, 11:27:55 pm">December 4th 2010</span>
											by <span class='authorname'>Arlton Lowry</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Me too, I would also love to see how you managed this.</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 6th 2011, 7:50:38 pm">January 6th 2011</span>
											by <span class='authorname'>Matt Sahr</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-155371">
				
						<section>
							<p>the solution i ended up with was adding extra logic such that only 3 views were in memory at a time.</p>
<p>my method wasnt very efficient but its decent i guess… everytime you touch the screen the app sets all views to null except for the current one. it then recreates the images immediately adjacent to the current view back so that when the user scrolls there isnt an abrupt change. </p>
<p>its worked thus far though my app is small. hopefully it continues to work as i expand to more views.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="December 4th 2010, 11:57:17 pm">December 4th 2010</span>
								by <span class='authorname'>sean oreilly</span><br>
								<a class="icon-bg icon-link" href="question/86001/app-crash-with-20-imageviews-in-scrollableview#answer-155371" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-155391">
				
						<section>
							<p>test is my scrollableview…<br>e.source.name2 is a unique int for each page</p>
<p>test.addEventListener(&#39;touchstart&#39;, function(e){<br>    var pagenumber = e.source.name2;<br>&#x2F;&#x2F;pass in the unique identifier for each view</p>
<p>var onepageback = Math.round(pagenumber) - 1;<br>&#x2F;&#x2F;grab identifiers for the preceding and following view so that its seamless when the user scrolls</p>
<p>var onepagefwd = Math.round(pagenumber) + 1;</p>
<pre><code class="hljs"><span class="hljs-keyword">for</span> (<span class="hljs-variable"><span class="hljs-keyword">var</span> q</span>=<span class="hljs-number">0</span>; q<span class="hljs-type">&lt;pages.length; q++){ </span>
</code></pre><p>&#x2F;&#x2F;erase all backgrounds except for the current one by assigning them an invalid image</p>
<p>if (q == pagenumber){<br>            &#x2F;&#x2F;do nothing to currentpage }</p>
<p>else{ &#x2F;<br>&#x2F;erase all others</p>
<p>pages[q].setbackgroundImage(&#39;&#39;);<br>            }<br>    }</p>
<pre><code class="hljs">//<span class="hljs-atom">create</span> <span class="hljs-atom">views</span> <span class="hljs-atom">for</span> <span class="hljs-number">2</span> <span class="hljs-atom">adjacent</span> <span class="hljs-atom">pages</span>
    <span class="hljs-atom">pages</span>[<span class="hljs-atom">onepageback</span>].<span class="hljs-atom">setbackgroundImage</span>(<span class="hljs-string">'images/backgrounds/pages'</span> + <span class="hljs-atom">onepageback</span> + <span class="hljs-string">'.png'</span>);

        <span class="hljs-atom">pages</span>[<span class="hljs-atom">onepagefwd</span>].<span class="hljs-atom">setbackgroundImage</span>(<span class="hljs-string">'images/backgrounds/pages'</span> + <span class="hljs-atom">onepagefwd</span> + <span class="hljs-string">'.png'</span>);
</code></pre><p>});</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="December 5th 2010, 12:06:05 am">December 5th 2010</span>
								by <span class='authorname'>sean oreilly</span><br>
								<a class="icon-bg icon-link" href="question/86001/app-crash-with-20-imageviews-in-scrollableview#answer-155391" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>It&#39;s still not working.  This is what I&#39;ve got so far:</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> pages = [

Ti.UI.createView({name: <span class="hljs-string">'001'</span>}), 
Ti.UI.createView({name: <span class="hljs-string">'002'</span>}),
Ti.UI.createView({name: <span class="hljs-string">'003'</span>}),
Ti.UI.createView({name: <span class="hljs-string">'004'</span>}),
Ti.UI.createView({name: <span class="hljs-string">'005'</span>})

];


<span class="hljs-keyword">var</span> scrollView = Titanium.UI.createScrollableView({
    views:pages,
    showPagingControl:<span class="hljs-literal">false</span>,
    pagingControlHeight:<span class="hljs-number">30</span>,
    enableZoomControls:<span class="hljs-literal">false</span>,
    currentPage:<span class="hljs-number">1</span>
});

win.add(scrollView);


scrollView.addEventListener(<span class="hljs-string">'scroll'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)</span>{

    <span class="hljs-keyword">var</span> pagenumber = e.source.pages;
    Titanium.API.info(<span class="hljs-string">' page number '</span> + pagenumber);

<span class="hljs-comment">//pass in the unique identifier for each view</span>

<span class="hljs-keyword">var</span> onepageback = <span class="hljs-built_in">Math</span>.round(pagenumber) - <span class="hljs-number">1</span>;  
<span class="hljs-comment">//grab identifiers for the preceding and following view so that its seamless when the user scrolls</span>

<span class="hljs-keyword">var</span> onepagefwd = <span class="hljs-built_in">Math</span>.round(pagenumber) + <span class="hljs-number">1</span>;

    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> q=<span class="hljs-number">0</span>; q&lt;pages.length; q++){ 
<span class="hljs-comment">//erase all backgrounds except for the current one by assigning them an invalid image</span>

<span class="hljs-keyword">if</span> (q == pagenumber){

            <span class="hljs-comment">//do nothing to currentpage </span>

            }

<span class="hljs-keyword">else</span>{ <span class="hljs-comment">//erase all others</span>

pages[q].setbackgroundImage(<span class="hljs-string">''</span>);
            }
    }

    <span class="hljs-comment">//create views for 2 adjacent pages</span>
        pages[onepageback].setbackgroundImage(<span class="hljs-string">'images/'</span> + onepageback + <span class="hljs-string">'.jpg'</span>);

            pages[onepagefwd].setbackgroundImage(<span class="hljs-string">'images/'</span> + onepagefwd + <span class="hljs-string">'.jpg'</span>);
});
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="December 5th 2010, 5:56:13 pm">December 5th 2010</span>
											by <span class='authorname'>Arlton Lowry</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-155411">
				
						<section>
							<p>test is my scrollableview…<br>e.source.name2 is a unique int for each page</p>
<p>test.addEventListener(&#39;touchstart&#39;, function(e){<br>    var pagenumber = e.source.name2;<br>&#x2F;&#x2F;pass in the unique identifier for each view</p>
<p>var onepageback = Math.round(pagenumber) - 1;<br>&#x2F;&#x2F;grab identifiers for the preceding and following view so that its seamless when the user scrolls</p>
<p>var onepagefwd = Math.round(pagenumber) + 1;</p>
<pre><code class="hljs"><span class="hljs-keyword">for</span> (<span class="hljs-variable"><span class="hljs-keyword">var</span> q</span>=<span class="hljs-number">0</span>; q<span class="hljs-type">&lt;pages.length; q++){ </span>
</code></pre><p>&#x2F;&#x2F;erase all backgrounds except for the current one by assigning them an invalid image</p>
<p>if (q == pagenumber){<br>            &#x2F;&#x2F;do nothing to currentpage }</p>
<p>else{ &#x2F;<br>&#x2F;erase all others</p>
<p>pages[q].setbackgroundImage(&#39;&#39;);<br>            }<br>    }</p>
<pre><code class="hljs">//<span class="hljs-atom">create</span> <span class="hljs-atom">views</span> <span class="hljs-atom">for</span> <span class="hljs-number">2</span> <span class="hljs-atom">adjacent</span> <span class="hljs-atom">pages</span>
    <span class="hljs-atom">pages</span>[<span class="hljs-atom">onepageback</span>].<span class="hljs-atom">setbackgroundImage</span>(<span class="hljs-string">'images/backgrounds/pages'</span> + <span class="hljs-atom">onepageback</span> + <span class="hljs-string">'.png'</span>);

        <span class="hljs-atom">pages</span>[<span class="hljs-atom">onepagefwd</span>].<span class="hljs-atom">setbackgroundImage</span>(<span class="hljs-string">'images/backgrounds/pages'</span> + <span class="hljs-atom">onepagefwd</span> + <span class="hljs-string">'.png'</span>);
</code></pre><p>});</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="December 5th 2010, 1:55:47 am">December 5th 2010</span>
								by <span class='authorname'>sean oreilly</span><br>
								<a class="icon-bg icon-link" href="question/86001/app-crash-with-20-imageviews-in-scrollableview#answer-155411" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>I&#39;ve been testing out the code you posted.  I&#39;ve been getting errors and it&#39;s probably because I&#39;ve overlooked something.  Here&#39;s what I&#39;ve got:</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> view1 = Ti.UI.createImageView({
});

<span class="hljs-keyword">var</span> scrollView = Titanium.UI.createScrollableView({
    views:[view1],
    showPagingControl:<span class="hljs-literal">false</span>,
    pagingControlHeight:<span class="hljs-number">30</span>,
    enableZoomControls:<span class="hljs-literal">false</span>,
    currentPage:<span class="hljs-number">0</span>
});

win.add(scrollView);

view1 = <span class="hljs-number">1</span>; <span class="hljs-comment">// image name</span>

scrollView.addEventListener(<span class="hljs-string">'scroll'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span></span>{

   <span class="hljs-keyword">var</span> activeView = e.source.view1;  <span class="hljs-comment">// the object handle to the view that is about to become visible  </span>

<span class="hljs-comment">//pass in the unique identifier for each view</span>
</code></pre><p>Do you know what I&#39;m missing?</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 5th 2010, 3:20:59 am">December 5th 2010</span>
											by <span class='authorname'>Arlton Lowry</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-159691">
				
						<section>
							<p>my app does the same thing, I load 12 images to a scrollview, finally, I found out it has little to do with the memory, because even when I load 12 tiny images, it crashes too, so it has something to do with the thread or loading mechanisim in Ti. </p>
<p>I ended up doing this, so far it is ok.  Load 4 images at a time and then wait for 1 second or 0.5 second to load another 4.  Now, I can load 12  1M images without issues.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="December 13th 2010, 1:26:00 pm">December 13th 2010</span>
								by <span class='authorname'>jason hu</span><br>
								<a class="icon-bg icon-link" href="question/86001/app-crash-with-20-imageviews-in-scrollableview#answer-159691" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>-1</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
