<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>How do I target and update the children of a scrollableView? Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>How do I target and update the children of a scrollableView?</h1>
		</header>
		<section>
			<p>Mobile iOS app<br>Titanium SDK version 3.2.2.GA</p>
<p>Hi folks,<br>hoping I can get some help on this quickly as its causing quite the hang up.<br>I have created a scrollableView programmatically and populated it with multiple views containing a bunch of labels with text. Using a tabbedBar, I want to be able to dynamically update the content of the labels within the views. </p>
<p>I would think that calling scrollableView.view[index].labelName.text would allow me to pinpoint target the object I want to change. But no matter what I try (view, children, the view&#39;s name) I keep getting &quot;undefined&quot; errors.</p>
<p>Please help! Thanks in advance!</p>
<p>Jon</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="May 22nd 2014, 6:13:56 pm">May 22nd 2014</span>
				by <span class='authorname'>Jon Altschuler</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>scrollableview</span></li>
					
				</ul>
			

			<section>
				<h5>7 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><ul>
<li><a href="http:&#x2F;&#x2F;www.tidev.io&#x2F;2014&#x2F;02&#x2F;05&#x2F;titanium-qa-how-to-ask-a-successful-question&#x2F;">Titanium Q&amp;A: How to ask a successful question</a></li>
</ul>
</div>
							<div class="author">
								&mdash; commented <span title="May 22nd 2014, 6:19:09 pm">May 22nd 2014</span>
								by <span class='authorname'>Malcolm Hollingsworth</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Whilst you have provided a reasonable amount of information, you are lacking in a couple of key areas;</p>
<ul>
<li><p>Titanium</p>
<ul>
<li>with Alloy framework?</li>
</ul>
<p>Or</p>
<ul>
<li>without?</li>
</ul>
</li>
<li>the code you use to create the scrollableView</li>
</ul>
<p>How to assist will depend on what you have done so far.m there are a number of answers to your question, which one to provide depends on those factors</p>
</div>
							<div class="author">
								&mdash; commented <span title="May 22nd 2014, 6:22:45 pm">May 22nd 2014</span>
								by <span class='authorname'>Malcolm Hollingsworth</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>WITH the Alloy framework.</p>
<p>My view XML looks like this:</p>
<pre><code class="hljs"><span class="hljs-tag">&lt;<span class="hljs-title">Alloy</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">Tab</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"thisTab"</span> <span class="hljs-attribute">title</span>=<span class="hljs-value">"Content"</span> <span class="hljs-attribute">icon</span>=<span class="hljs-value">"KS_nav_ui.png"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">Window</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"win"</span> <span class="hljs-attribute">title</span>=<span class="hljs-value">"Content"</span> <span class="hljs-attribute">fullscreen</span>=<span class="hljs-value">"true"</span> <span class="hljs-attribute">navBarHidden</span>=<span class="hljs-value">"true"</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">Window</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">Tab</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">Alloy</span>&gt;</span>
</code></pre><p>I am creating the scrollableView like this:</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> scrollView = Titanium.UI.createScrollableView({
    views: [],
    backgroundColor: <span class="hljs-string">'#333'</span>,
    height: <span class="hljs-string">'auto'</span>, 
    showPagingControl: <span class="hljs-literal">true</span>,
    overlayEnabled: <span class="hljs-literal">true</span>,
    pagingControlAlpha: <span class="hljs-string">'0.5'</span>,
    pagingControlColor: <span class="hljs-string">'#333'</span>
});
</code></pre><p>Then I create a tabbedBar which will be the driver of the view&#39;s updating:</p>
<pre><code class="hljs"><span class="hljs-comment">// create Tab Bar    </span>
<span class="hljs-keyword">var</span> contentTabBar = Titanium.UI.iOS.createTabbedBar({
    labels: [<span class="hljs-string">'A'</span>, <span class="hljs-string">'B'</span>, <span class="hljs-string">'C'</span>, <span class="hljs-string">'D'</span>],
    backgroundColor: <span class="hljs-string">'#FFF'</span>,
    top: <span class="hljs-number">60</span>,
    style: Titanium.UI.iPhone.SystemButtonStyle.BAR,
    height:<span class="hljs-number">25</span>,
    width:Ti.UI.SIZE,
    index: <span class="hljs-number">0</span>
});

contentTabBar.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span> </span>{
    <span class="hljs-keyword">var</span> whichTab = e.index;
    <span class="hljs-keyword">var</span> elements = scrollView.views;
    <span class="hljs-comment">// THIS DOES COME BACK WITH THE CORRECT NUMBER OF VIEWS</span>
    Ti.API.info(elements.length);
    <span class="hljs-comment">// THIS IS WHERE I'M HAVING THE PROBLEM TARGETING THE CHILD VIEW CONTENT</span>
    <span class="hljs-comment">// HOW DO I TARGET THE LABELS IN EACH VIEW?</span>
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> idx <span class="hljs-keyword">in</span> elements){
        <span class="hljs-comment">// THIS DOES NOT WORK!!!</span>
         scrollView.view[idx].lblA.text = some <span class="hljs-keyword">new</span> value;
    }

});
</code></pre><p>I am looping through an array to populate it with JSON data, creating each of the child views and its content</p>
<pre><code class="hljs"><span class="hljs-keyword">for</span>(var i=<span class="hljs-number">0</span>,j=array.length;i&lt;j;i++) {
    <span class="hljs-comment">// </span>
    var contentView = Ti.UI.createView({
        layout: <span class="hljs-string">'vertical'</span>
    });

    <span class="hljs-comment">// series of labels with content</span>
        var lblA = Ti.UI.createLabel({
                <span class="hljs-built_in">text</span>: array[i],
            <span class="hljs-variable">width</span>: Ti.UI.SIZE,
        <span class="hljs-variable">height</span>: Ti.UI.SIZE,
        top: <span class="hljs-number">100</span>,
        <span class="hljs-built_in">color</span>: <span class="hljs-string">"#FFF"</span>,
        font: {
            fontSize: <span class="hljs-number">20</span>,
            fontFamily: <span class="hljs-string">'HelveticaNeue-Medium'</span>
            },
        <span class="hljs-built_in">textAlign</span>: <span class="hljs-string">'center'</span>             
            });

    <span class="hljs-comment">// add the labels to the view</span>
    contentView.<span class="hljs-built_in">add</span>(lblA);
    <span class="hljs-comment">// add the view to the scrollable view</span>
    scrollView.addView(contentView);         
};

<span class="hljs-comment">// add the scrollableView to the window</span>
$.win.<span class="hljs-built_in">add</span>(scrollView);
$.win.<span class="hljs-built_in">add</span>(contentTabBar);
$.win.<span class="hljs-built_in">open</span>();
</code></pre><p>Now</p>
</div>
							<div class="author">
								&mdash; commented <span title="May 22nd 2014, 8:24:32 pm">May 22nd 2014</span>
								by <span class='authorname'>Jon Altschuler</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Can&#39;t imagine I&#39;m the first person to want to do this. C&#39;mon folks, weigh in please!<br>Do I need to completely rebuild each view and re-populate the scrollabileView? Seems like brute force. There has to be a better way!</p>
</div>
							<div class="author">
								&mdash; commented <span title="May 23rd 2014, 2:07:32 pm">May 23rd 2014</span>
								by <span class='authorname'>Jon Altschuler</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Patience young man.  The community is giving up their own time and thus on their own schedules which chances are would be dictated by external factors.</p>
<p>So I now get the general idea and the general coding approach. I need to confirm a few things;</p>
<ul>
<li>It looks like your ScrollableView &#39;pages&#39; will have a variable set of information as well as the layout of labels and other child views?</li>
<li>Will there will a consistent label or labels that appear on each &#39;page&#39; that will be updated?</li>
<li>If not, how will the EventListener determine which element(s) of each &#39;page&#39; to update?</li>
<li>The ButtonBar appears to have a fixed number of buttons - yet the &#39;pages&#39; appear to be dynamic.  Given the EventListener appears to need to know the &#39;page&#39; before changing something - what logic is required to achieve this?</li>
<li>If the layout of each &#39;page&#39; is different, does a pool of those layout exist?</li>
</ul>
<p>The issue I am trying to work out is;</p>
<ul>
<li>if each &#39;page&#39; has the same labels, images etc on each one - but only the data changes then there is a simple solution at hand.</li>
<li>if every &#39;page&#39; is different does every random child on that page need to have the ability to be changed or a single one or set number that is consistent across all &#39;pages&#39;.  For example, every &#39;page&#39; has a title that could be updated, but any other combination of child views do not need any changes dynamically.</li>
</ul>
<p>The reason nobody has jumped on this other than me, is the problem has a multitude of potential needs and there is still not a clear definition provided to allow use to quickly answer you.</p>
<p>This would be a good example of how you could explain your needs</p>
<pre><code class="hljs">ScrollableView
  View
    <span class="hljs-built_in">Label</span> <span class="bash">(title)
</span>    <span class="hljs-built_in">Label</span> <span class="bash">
  View
</span>    <span class="hljs-built_in">Label</span> <span class="bash">(title)
</span>    <span class="hljs-built_in">Label</span> <span class="bash">
  View
</span>    <span class="hljs-built_in">Label</span> <span class="bash">(title)
</span>    <span class="hljs-built_ins">Label</span>
</code></pre><p>I need to be able to update the title label in the buttonbar event listener.  The number of &#39;pages&#39; can change.</p>
<p>OR</p>
<pre><code class="hljs">ScrollableView
  View
    <span class="hljs-built_in">Label</span> <span class="bash">(title)
</span>    <span class="hljs-built_in">Label</span> <span class="bash">(subtitle)
</span>  View
    <span class="hljs-built_in">Label</span> <span class="bash">(title)
</span>    <span class="hljs-built_in">Label</span> <span class="bash">
    ImageView (photo)
</span>  View
    ImageView (image)
    <span class="hljs-built_ins">Label</span>
    <span class="hljs-built_in">Label</span> <span class="bash">(colour)</span>
</code></pre><p>I need to be able to update the title, subtitle, photo, &amp; image of the &#39;pages&#39;. There is no pre-determination to which Labels, Buttons, Views, ImageViews I will be adding to each page - they will be unique, or at least variable.  There is no guarantee that any of the elements I need to update will exist in any of the &#39;pages&#39;.</p>
</div>
							<div class="author">
								&mdash; commented <span title="May 23rd 2014, 3:32:55 pm">May 23rd 2014</span>
								by <span class='authorname'>Malcolm Hollingsworth</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Malcom,<br>all the views are the same. Same labels, content, etc.<br>So theoretically the &quot;simple&quot; solution is the one I need.<br>I appreciate your help and assume that there was a simple solution, but it was not evident.</p>
<p>Thanks,</p>
<p>Jon</p>
</div>
							<div class="author">
								&mdash; commented <span title="May 23rd 2014, 3:45:55 pm">May 23rd 2014</span>
								by <span class='authorname'>Jon Altschuler</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>There is - I just need that detail.  Give me a short while to mock up some test code a test before I give it to you.</p>
</div>
							<div class="author">
								&mdash; commented <span title="May 23rd 2014, 3:49:40 pm">May 23rd 2014</span>
								by <span class='authorname'>Malcolm Hollingsworth</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-278996">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>Hi</p>
<p>OK, so I have gone the controller route.  This will show you how to create a new controller for this purpose and how to extend it so that you can call methods of your own against it.  The key however is how to tie the way you add each page to the ScrollableView but maintain a reference you can later exploit;</p>
<p><strong>Calling controller</strong></p>
<pre><code class="hljs">var data = [
    { title: <span class="hljs-string">'One'</span> },
    { title: <span class="hljs-string">'Two'</span> },
    { title: <span class="hljs-string">'Three'</span> },
    { title: <span class="hljs-string">'Four'</span> }
];

var views = [];
<span class="hljs-number">_</span>.each(data, <span class="hljs-keyword">function</span> (<span class="hljs-literal">item</span>) {
    var page = Alloy.createController(<span class="hljs-string">'page'</span>, {
        title: item.title
    });
    views.push(page);
    scrollableView.addView(page.getView());
});
</code></pre><p>I have left my test data in for reference only, remove that and use your own data of course - simply swap things out that will be clear to you further down.  I am also using the <em>underscore</em> method <em>each</em>, this makes your code easier to read and type.</p>
<p><strong>Page Controller</strong></p>
<pre><code class="hljs"><span class="hljs-tag">&lt;<span class="hljs-title">Alloy</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">View</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"parent"</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"parent"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">Label</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"title"</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"title"</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">View</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">Alloy</span>&gt;</span>
</code></pre><pre><code class="hljs"><span class="hljs-keyword">var</span> args = <span class="hljs-built_in">arguments</span>[<span class="hljs-number">0</span>] || {};

$.title.setText(args.title || <span class="hljs-string">''</span>);

<span class="hljs-comment">// this is how you add your new functions</span>
<span class="hljs-comment">// $.NameNotAnID = something that extends</span>
<span class="hljs-comment">// the controller</span>
$.setTitle = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">val</span>) </span>{
    $.title.setText(val); 
};
</code></pre><pre><code class="hljs"><span class="hljs-string">".parent"</span>: {
    <span class="hljs-variable">height</span>: Ti.UI.FILL,
    layout: <span class="hljs-string">'vertical'</span>,
    <span class="hljs-variable">width</span>: Ti.UI.FILL
},
<span class="hljs-string">".title"</span>: {
    <span class="hljs-built_in">color</span>: <span class="hljs-string">"#FFF"</span>,
    font: {
        fontFamily: <span class="hljs-string">'HelveticaNeue-Medium'</span>,
        fontSize: <span class="hljs-number">20</span>
    },
    <span class="hljs-variable">height</span>: Ti.UI.SIZE,
    <span class="hljs-built_in">textAlign</span>: <span class="hljs-string">'center'</span>,
    top: <span class="hljs-number">100</span>,
    <span class="hljs-variable">width</span>: Ti.UI.SIZE
}
</code></pre><p>Obviously change those three files to suit your specific needs.  Creating the solution based a on controller simplifies things.</p>
<p>Now the key here is how the array you added to earlier gives you access to that custom method we made.</p>
<pre><code class="hljs">contentTabBar.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(e)</span> </span>{
    views[<span class="hljs-number">0</span>].setTitle(<span class="hljs-string">'Hello'</span>);
});
</code></pre><p>This is obviously a very simple example.  The extended method is now available on each page you have added.  You can add as many custom methods you wish, pass as many parameters to them as you need and update multiple properties at the same time should that be useful.</p>
<p>This is a quick walk-through of the creation loop main point. </p>
<pre><code class="hljs"><span class="hljs-comment">// creates and returns the controller page</span>
<span class="hljs-keyword">var</span> page = Alloy.createController(<span class="hljs-string">'page'</span>, {
    title: item.title
});
<span class="hljs-comment">// adds the controller to our reference variable</span>
views.push(page);
<span class="hljs-comment">// adds the view from controller to the scrollableView</span>
scrollableView.addView(page.getView());
</code></pre><p>Doing it this way means you have constant access (scope) to the pages you added - plus those optional methods that you are able to add.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="May 23rd 2014, 5:11:22 pm">May 23rd 2014</span>
								by <span class='authorname'>Malcolm Hollingsworth</span><br>
								<a class="icon-bg icon-link" href="../../question/174449/how-do-i-target-and-update-the-children-of-a-scrollableview.html#answer-278996" rel="permalink">permalink</a>
							</div>

							<h5>4 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Thanks Malcolm!<br>Lot to wrap my head around. Will give it a whirl and see what happens.</p>
<p>J</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 23rd 2014, 6:12:48 pm">May 23rd 2014</span>
											by <span class='authorname'>Jon Altschuler</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Come back to me when you are ready if anything here doesn&#39;t make sense.</p>
<p>I also have the full code from my test app if you feel that will help you understand things more easily.</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 23rd 2014, 6:21:31 pm">May 23rd 2014</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>While I&#39;m still trying to figure out the mechanism (controllers, arguments, etc), this absolutely works!<br>Thanks so much for taking the time to spell this out, I really appareciate it.</p>
<p>J</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 23rd 2014, 7:45:14 pm">May 23rd 2014</span>
											by <span class='authorname'>Jon Altschuler</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>You are very welcome. Now you know why I dragged the specific needs out of you.  Once we have enough information we can provide you with a solution and sometimes (like now) some cool stuff to play with and learn.</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 23rd 2014, 7:50:47 pm">May 23rd 2014</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
