<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>After using 3.0.0 open windows not working anymore? » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>After using 3.0.0 open windows not working anymore?</h1>
		</header>
		<section>
			<p>What has exactly changed i 3.0.0 since the method I am using no longer works? It worked fine in every version of 2.X but now I get the following error:<br>Cannot call method &#39;open&#39; of null</p>
<p>This is the part of my code where it fails (used inside a tabGroup):</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> <span class="hljs-keyword">win</span> = Titanium.UI.createWindow({
            backgroundColor:<span class="hljs-string">"#323232"</span>,
            url:'browsecategory.js',
                barColor:'#333333',
            title:<span class="hljs-keyword">e</span>.source.children[0]['text']
    });

    <span class="hljs-comment">// send selected item's title to detail page</span>
    <span class="hljs-keyword">win</span>.currentItem = json.categories[<span class="hljs-keyword">e</span>.index];

    Titanium.UI.currentTab.<span class="hljs-keyword">open</span>(<span class="hljs-keyword">win</span>,{animated:true});
</code></pre><p>I have seen suggestions that you should use win.open() instead of Titanium.UI.currentTab.open(win,{animated:true}); but this does not work either (no error but simply a blank screen).</p>
<p>Application type: mobile<br>Titanium SDK: 3.0.0 (and tried the latest nightly build)<br>Platform &amp; version: Android 4.1.1<br>Device: Android emulator<br>Host Operating System: OSX 10.8.2<br>Titanium Studio: 3.0.1.201212181159</p>
<p>Additional information can be provided if needed.<br>Thanks in advance!</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="January 23rd 2013, 7:39:35 pm">January 23rd 2013</span>
				by <span class='authorname'>Mathias Immerkær</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>currenttab</span></li>
					
						<li><span class='tagname'>mobile</span></li>
					
						<li><span class='tagname'>null</span></li>
					
						<li><span class='tagname'>open window</span></li>
					
						<li><span class='tagname'>window</span></li>
					
				</ul>
			

			<section>
				<h5>2 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Does this include Android as well?<br>I have the same problem with 3.0.0GA.<br>It works fine on Android, but on IOS it does not show my window</p>
</div>
							<div class="author">
								&mdash; commented <span title="January 25th 2013, 7:07:38 am">January 25th 2013</span>
								by <span class='authorname'>Elmar Maan</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Do you mean if it include iOS as well? I can&#39;t say for iOS because I have not tried as the app is only going to be used on Android but here the problem exists.</p>
</div>
							<div class="author">
								&mdash; commented <span title="January 25th 2013, 7:43:08 am">January 25th 2013</span>
								by <span class='authorname'>Mathias Immerkær</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-255231">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>HI if you are opening this win from the same JS file where tabGroup is created then it is wrong.</p>
<p>can you tell what are you doing in <strong>browsecategory.js</strong> and how do reach to this code, i mean code from app.&#39;s</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="January 24th 2013, 5:09:36 am">January 24th 2013</span>
								by <span class='authorname'>Ashish Nigam</span><br>
								<a class="icon-bg icon-link" href="../../question/147319/after-using-300-open-windows-not-working-anymore.html#answer-255231" rel="permalink">permalink</a>
							</div>

							<h5>6 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>The file and folder structure is as following (unrelated files and folders not included):</p>
<pre><code class="hljs">Resources (Folder)
-<span class="ruby"> app.js
</span>-<span class="ruby"> windows (<span class="hljs-constant">Folder</span>)
</span>-<span class="ruby">- lager.js
</span>-<span class="ruby">- lager (<span class="hljs-constant">Folder</span>)
</span>-<span class="ruby">-- browsecategory.js
</span>-<span class="ruby">-- oversigt.js</span>
</code></pre><p>The code from my first post is taken from oversigt.js which is in the same folder as browsecategory.js. In app.js is 4 tabs defined like so:</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> tabGroup = Titanium.UI.createTabGroup();

<span class="hljs-keyword">var</span> win1 = Titanium.UI.createWindow({  
    title:<span class="hljs-string">'Lager'</span>,
    backgroundColor:<span class="hljs-string">'#fff'</span>,
    url: <span class="hljs-string">"windows/lager.js"</span>
});
<span class="hljs-keyword">var</span> tab1 = Titanium.UI.createTab({  
    icon:<span class="hljs-string">'KS_nav_views.png'</span>,
    title:<span class="hljs-string">'Lager'</span>,
    <span class="hljs-built_in">window</span>:win1
});

.....

tabGroup.addTab(tab1);  
tabGroup.addTab(tab2);
tabGroup.addTab(tab4);
tabGroup.addTab(tab3);  


tabGroup.open();
</code></pre><p>So the app loads the first tab (lager.js) which is basically a menu constructed with a TableView which has the following eventlistener</p>
<pre><code class="hljs">var newWin = Titanium.UI.createWindow({
        backgroundColor: <span class="hljs-string">"#323232"</span>,
        title:e.row.children[<span class="hljs-number">0</span>].<span class="hljs-built_in">text</span>,
        url:e.row.children[<span class="hljs-number">0</span>].custom_url,
        <span class="hljs-variable">width</span>: win.<span class="hljs-variable">width</span>,
        <span class="hljs-variable">height</span>: win.<span class="hljs-variable">height</span>
    });

    Titanium.UI.currentTab.<span class="hljs-built_in">open</span>(newWin,{animation:<span class="hljs-keyword">true</span>});
});
</code></pre><p>One of the menuoptions points to oversigt.js using the function above and that works fine and that is why it confuses me that same function suddenly no longer works in oversigt.js</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 24th 2013, 8:19:47 am">January 24th 2013</span>
											by <span class='authorname'>Mathias Immerkær</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>ok, so can you confirm me that <strong>row.children[0].custom_url</strong> property is returning proper path for JS and what is there in that JS.</p>
<p>also code for <strong>larger.js</strong> if you think error comes out here.</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 24th 2013, 10:05:41 am">January 24th 2013</span>
											by <span class='authorname'>Ashish Nigam</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Yes everything seems to return the right values.<br>I have stripped down the code and uploaded a Titanium Project that can demonstrate the problem here: <a href="http:&#x2F;&#x2F;mathias-i.dk&#x2F;TestApp.zip">http:&#x2F;&#x2F;mathias-i.dk&#x2F;TestApp.zip</a>.</p>
<p>Thanks a lot for your help so far.</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 24th 2013, 11:25:48 am">January 24th 2013</span>
											by <span class='authorname'>Mathias Immerkær</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>HI Thanks for sharing code, the problem was…<strong>Titanium.UI.currentTab</strong> was returning null for then 2nd level inside access for this.</p>
<p>i made little modification in your code and now its working fine.</p>
<p>your <strong>larger.js</strong></p>
<pre><code class="hljs">var newWin = Titanium.UI.createWindow({
        backgroundColor: <span class="hljs-string">"#323232"</span>,
        title:e.row.children[<span class="hljs-number">0</span>].<span class="hljs-built_in">text</span>,
        url:e.row.children[<span class="hljs-number">0</span>].custom_url,
        <span class="hljs-variable">width</span>: win.<span class="hljs-variable">width</span>,
        <span class="hljs-variable">height</span>: win.<span class="hljs-variable">height</span>,
        tabReference:Titanium.UI.currentTab     <span class="hljs-comment">// Here Modified :: current tab reference added in window</span>
    });
    var curTab = Titanium.UI.currentTab;
    Titanium.UI.currentTab.<span class="hljs-built_in">open</span>(newWin,{animation:<span class="hljs-keyword">true</span>});
</code></pre><p>your <strong>oversigt.js</strong></p>
<pre><code class="hljs">
table.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span>
</span>{

    <span class="hljs-keyword">var</span> winNew = Titanium.UI.createWindow({
            backgroundColor:<span class="hljs-string">"#323232"</span>,
            url:<span class="hljs-string">'browsecategory.js'</span>,
            barColor:<span class="hljs-string">'#333333'</span>,
            title:e.source.children[<span class="hljs-number">0</span>].text
    });

    <span class="hljs-comment">// send selected item's title to detail page</span>
    winNew.currentItem = <span class="hljs-string">"0"</span>;
     <span class="hljs-comment">//alert(win.tabReference);  // win.tabReference is used to get the access of current Tab.</span>
    win.tabReference.open(winNew,{animated:<span class="hljs-literal">true</span>});
});
</code></pre><p>I just provided you an alternative, Its a bug and JIRA ticket is already there. Happy Coding.</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 25th 2013, 9:41:23 am">January 25th 2013</span>
											by <span class='authorname'>Ashish Nigam</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Wow thanks a lot for taking your time and troubleshooting my code!<br>It works now - glad to hear that it already has been submitted as bug.</p>
<p>Another thing I found is that the url i suddenly relative to app.js and not the current .js file. So in oversigt.js I have to change the url to &quot;windows&#x2F;lager&#x2F;browsecategory.js&quot; - Should this be considered as a bug?</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 25th 2013, 11:16:23 am">January 25th 2013</span>
											by <span class='authorname'>Mathias Immerkær</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>i do&#39;t think so, that it is a bug.. and i did not change the path as you are saying in oversight.js and it was working fine.</p>
<p>but anyways it always my personal recommendation that use absolute path. The way you are using now.</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 28th 2013, 4:29:57 am">January 28th 2013</span>
											by <span class='authorname'>Ashish Nigam</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
