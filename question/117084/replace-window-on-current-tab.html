<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Replace window on current tab Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Replace window on current tab</h1>
		</header>
		<section>
			<p>I&#39;m trying to replace the window on current tab by clicking on button, but I can&#39;t figure out how to do this. Before I just tries to open window in tab without animation and hiding back button, but the problem was when you clicking on tab icon the first window openes. Is there any way to replace window on current tab?</p>
<pre><code class="hljs"><span class="hljs-comment">// this sets the background color of the master UIView (when there are no windows/tab groups on it)</span>
Titanium.UI.setBackgroundColor(<span class="hljs-string">'#000'</span>);

<span class="hljs-comment">// create tab group</span>
var tabGroup = Titanium.UI.createTabGroup();


<span class="hljs-comment">//</span>
<span class="hljs-comment">// create base UI tab and root window</span>
<span class="hljs-comment">//</span>
var win1 = Titanium.UI.createWindow({  
    title:<span class="hljs-string">'Tab 1'</span>,
    backgroundColor:<span class="hljs-string">'#fff'</span>
});
var tab1 = Titanium.UI.createTab({  
    icon:<span class="hljs-string">'KS_nav_views.png'</span>,
    title:<span class="hljs-string">'Tab 1'</span>,
    window:win1
});

var label1 = Titanium.UI.createLabel({
    <span class="hljs-built_in">color</span>:<span class="hljs-string">'#999'</span>,
    <span class="hljs-built_in">text</span>:<span class="hljs-string">'I am Window 1'</span>,
    font:{fontSize:<span class="hljs-number">20</span>,fontFamily:<span class="hljs-string">'Helvetica Neue'</span>},
    <span class="hljs-built_in">textAlign</span>:<span class="hljs-string">'center'</span>,
    <span class="hljs-variable">width</span>:<span class="hljs-string">'auto'</span>
});

var button = Ti.UI.createButton({
    title:<span class="hljs-string">'switch'</span>,
    top:<span class="hljs-number">100</span>,
    <span class="hljs-variable">width</span>:<span class="hljs-number">100</span>,
    <span class="hljs-variable">height</span>:<span class="hljs-number">20</span>
});

win1.<span class="hljs-built_in">add</span>(label1);
win1.<span class="hljs-built_in">add</span>(button);

<span class="hljs-comment">//</span>
<span class="hljs-comment">// create controls tab and root window</span>
<span class="hljs-comment">//</span>
var win2 = Titanium.UI.createWindow({  
    title:<span class="hljs-string">'Tab 2'</span>,
    backgroundColor:<span class="hljs-string">'#fff'</span>
});

var label2 = Titanium.UI.createLabel({
    <span class="hljs-built_in">color</span>:<span class="hljs-string">'#999'</span>,
    <span class="hljs-built_in">text</span>:<span class="hljs-string">'I am Window 2'</span>,
    font:{fontSize:<span class="hljs-number">20</span>,fontFamily:<span class="hljs-string">'Helvetica Neue'</span>},
    <span class="hljs-built_in">textAlign</span>:<span class="hljs-string">'center'</span>,
    <span class="hljs-variable">width</span>:<span class="hljs-string">'auto'</span>
});

win2.<span class="hljs-built_in">add</span>(label2);

<span class="hljs-comment">//var emptyView = Titanium.UI.createView({});</span>
<span class="hljs-comment">//win2.leftNavButton = emptyView;</span>

button.addEventListener(<span class="hljs-string">'click'</span>, function(e){
<span class="hljs-comment">//  tab1.open(win2, {animated:false})</span>
    win1.close();
    win1.hide();
    tab1.window = win2;    
});

<span class="hljs-comment">//</span>
<span class="hljs-comment">//  add tabs</span>
<span class="hljs-comment">//</span>
tabGroup.addTab(tab1);  

<span class="hljs-comment">// open tab group</span>
tabGroup.<span class="hljs-built_in">open</span>();
</code></pre>
		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="March 11th 2011, 2:00:31 am">March 11th 2011</span>
				by <span class='authorname'>Gennadiy Potapov</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>tab</span></li>
					
						<li><span class='tagname'>tabbar</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>2</span> Votes</div>
			<div class="answers"><span>3</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>3 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-204201">
				
						<section>
							<p>That works great when you have just one tab, but if you have multiple tabs it moves it to the end.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="March 14th 2011, 3:08:43 am">March 14th 2011</span>
								by <span class='authorname'>Joshua Ceaser</span><br>
								<a class="icon-bg icon-link" href="../../question/117084/replace-window-on-current-tab.html#answer-204201" rel="permalink">permalink</a>
							</div>

							<h5>4 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>The same concern I have, cuz in my application I hade 4 tabs, and re-create all of them to get right order it&#39;s not a good solution.</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 14th 2011, 3:55:33 am">March 14th 2011</span>
											by <span class='authorname'>Gennadiy Potapov</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Have you tried to see if closing the root window helps and then open the same window using the tab1.open(win, animation:false); I would try it if I was in front of my computer.</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 14th 2011, 3:08:28 pm">March 14th 2011</span>
											by <span class='authorname'>Joshua Ceaser</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Yes, I tried it, it&#39;s not solving the problem :(</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 15th 2011, 1:12:36 am">March 15th 2011</span>
											by <span class='authorname'>Gennadiy Potapov</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>OK so I figured this out and put in a major hack. I saw this on another post, but there&#39;s was wrong</p>
<p>put this in your app.js</p>
<p>tabGroup.addEventListener(&#39;focus&#39;, function(e){<br>    if (e.index == 0 &amp;&amp; e.previousIndex &gt; 0) {<br>        if (searchWindow.oldWindow &amp;&amp; searchWindow.oldWindow.oldWindow &amp;&amp; searchWindow.oldWindow.oldWindow.oldWindow) {<br>            searchWindow.oldWindow.oldWindow.oldWindow.close({animated:false});<br>        }<br>        if (searchWindow.oldWindow &amp;&amp; searchWindow.oldWindow.oldWindow) {<br>            searchWindow.oldWindow.oldWindow.close({animated:false});<br>        }<br>        if (searchWindow.oldWindow) {<br>            searchWindow.oldWindow.close({animated:false});<br>        }<br>        searchWindow.searchTerm = tabGroup.tabs[0].searchTerm;<br>    }<br>});</p>
<p>repeat if your app can go deaper, this is definitely not the most elegant solution</p>
<p>Add this to your root js file</p>
<p>currentWindow.addEventListener(&#39;focus&#39;, function(e){}<br>this will help you actually perform the updates.</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 15th 2011, 3:52:20 am">March 15th 2011</span>
											by <span class='authorname'>Joshua Ceaser</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-204286">
				
						<section>
							<p>OK so I figured this out and put in a major hack. I saw this on another post, but there&#39;s was wrong<br>put this in your app.js</p>
<pre><code class="hljs">tabGroup.addEventListener(<span class="hljs-string">'focus'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span></span>{ 
<span class="hljs-keyword">if</span> (e.index == <span class="hljs-number">0</span> &amp;&amp; e.previousIndex &gt; <span class="hljs-number">0</span>) { 

     <span class="hljs-keyword">if</span> (searchWindow.oldWindow &amp;&amp; searchWindow.oldWindow.oldWindow &amp;&amp;  searchWindow.oldWindow.oldWindow.oldWindow) {
          searchWindow.oldWindow.oldWindow.oldWindow.close({animated:<span class="hljs-literal">false</span>}); 
     } 

     <span class="hljs-keyword">if</span> (searchWindow.oldWindow &amp;&amp; searchWindow.oldWindow.oldWindow) {
          searchWindow.oldWindow.oldWindow.close({animated:<span class="hljs-literal">false</span>}); 
     } 

     <span class="hljs-keyword">if</span> (searchWindow.oldWindow) {
          searchWindow.oldWindow.close({animated:<span class="hljs-literal">false</span>});
     } 
     searchWindow.searchTerm = tabGroup.tabs[<span class="hljs-number">0</span>].searchTerm; } 
});
</code></pre><p>repeat if your app can go deaper, this is definitely not the most elegant solution<br>Add this to your root js file<br><code>currentWindow.addEventListener(&amp;#39;focus&amp;#39;, function(e){}</code> this will help you actually perform the updates.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="March 15th 2011, 3:59:33 am">March 15th 2011</span>
								by <span class='authorname'>Joshua Ceaser</span><br>
								<a class="icon-bg icon-link" href="../../question/117084/replace-window-on-current-tab.html#answer-204286" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-204134">
				
						<section>
							<p>&#x2F;&#x2F; YOU HAVE TO RE-CREATE A TAB AND REPLACE THE TAB1  IN THE TABGROUP</p>
<pre><code class="hljs"><span class="hljs-comment">// this sets the background color of the master UIView (when there are no windows/tab groups on it)</span>
Titanium.UI.setBackgroundColor(<span class="hljs-string">'#000'</span>);

<span class="hljs-comment">// create tab group</span>
var tabGroup = Titanium.UI.createTabGroup();


<span class="hljs-comment">//</span>
<span class="hljs-comment">// create base UI tab and root window</span>
<span class="hljs-comment">//</span>
var win1 = Titanium.UI.createWindow({  
    title:<span class="hljs-string">'Tab 1'</span>,
    backgroundColor:<span class="hljs-string">'#fff'</span>
});
var tab1 = Titanium.UI.createTab({  
    icon:<span class="hljs-string">'KS_nav_views.png'</span>,
    title:<span class="hljs-string">'Tab 1'</span>,
    window:win1
});

var label1 = Titanium.UI.createLabel({
    <span class="hljs-built_in">color</span>:<span class="hljs-string">'#999'</span>,
    <span class="hljs-built_in">text</span>:<span class="hljs-string">'I am Window 1'</span>,
    font:{fontSize:<span class="hljs-number">20</span>,fontFamily:<span class="hljs-string">'Helvetica Neue'</span>},
    <span class="hljs-built_in">textAlign</span>:<span class="hljs-string">'center'</span>,
    <span class="hljs-variable">width</span>:<span class="hljs-string">'auto'</span>
});

var button = Ti.UI.createButton({
    title:<span class="hljs-string">'switch'</span>,
    top:<span class="hljs-number">100</span>,
    <span class="hljs-variable">width</span>:<span class="hljs-number">100</span>,
    <span class="hljs-variable">height</span>:<span class="hljs-number">20</span>
});

win1.<span class="hljs-built_in">add</span>(label1);
win1.<span class="hljs-built_in">add</span>(button);

<span class="hljs-comment">//</span>
<span class="hljs-comment">// create controls tab and root window</span>
<span class="hljs-comment">//</span>
var win2 = Titanium.UI.createWindow({  
    title:<span class="hljs-string">'Tab 2'</span>,
    backgroundColor:<span class="hljs-string">'#fff'</span>
});

var label2 = Titanium.UI.createLabel({
    <span class="hljs-built_in">color</span>:<span class="hljs-string">'#999'</span>,
    <span class="hljs-built_in">text</span>:<span class="hljs-string">'I am Window 2'</span>,
    font:{fontSize:<span class="hljs-number">20</span>,fontFamily:<span class="hljs-string">'Helvetica Neue'</span>},
    <span class="hljs-built_in">textAlign</span>:<span class="hljs-string">'center'</span>,
    <span class="hljs-variable">width</span>:<span class="hljs-string">'auto'</span>
});

win2.<span class="hljs-built_in">add</span>(label2);

<span class="hljs-comment">//var emptyView = Titanium.UI.createView({});</span>
<span class="hljs-comment">//win2.leftNavButton = emptyView;</span>

button.addEventListener(<span class="hljs-string">'click'</span>, function(e){
<span class="hljs-comment">//  tab1.open(win2, {animated:false})</span>

<span class="hljs-comment">// CREATE THE NEW TAB USING THE SAME TITLE</span>
    var tab2 = Titanium.UI.createTab({  
      icon:<span class="hljs-string">'KS_nav_views.png'</span>,
      title:<span class="hljs-string">'Tab 1'</span>,

<span class="hljs-comment">// SET THE WINDOW</span>
      window:win2
});

<span class="hljs-comment">// REMOVE TAB1</span>
    tabGroup.removeTab(tab1);

<span class="hljs-comment">// ADD NEW TAB </span>
   tabGroup.addTab(tab2);
});

<span class="hljs-comment">//</span>
<span class="hljs-comment">//  add tabs</span>
<span class="hljs-comment">//</span>
tabGroup.addTab(tab1);  

<span class="hljs-comment">// open tab group</span>
tabGroup.<span class="hljs-built_in">open</span>();
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="March 12th 2011, 5:59:19 pm">March 12th 2011</span>
								by <span class='authorname'>Luc Martin</span><br>
								<a class="icon-bg icon-link" href="../../question/117084/replace-window-on-current-tab.html#answer-204134" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>this gives flickering effect on the app</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 5th 2013, 4:18:17 am">April 5th 2013</span>
											by <span class='authorname'>Harikrishna Bista</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>-2</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
