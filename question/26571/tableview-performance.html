<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Tableview Performance » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Tableview Performance</h1>
		</header>
		<section>
			<p>My application builds a table view of some hundred entries. The view has sections and an index. Performance is acceptable (not perfect) in the simulator, but gets really bad on the iPhone 3GS. It takes quite long to display the table. Once it is displayed everything works fine.</p>
<p>Is this a known issue even on 1.3.0? Is there anything I could do to improve performance (I would even try to &quot;hack&quot; the generated Objective-C code if there is anything I could try even though I am not a C developer)? Are there are any best practices for using TableView, TableViewSection and TableViewRow for good performance (maybe there are some known things you should not do)?</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="May 17th 2010, 5:18:34 pm">May 17th 2010</span>
				by <span class='authorname'>Michael Descher</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>iphone</span></li>
					
						<li><span class='tagname'>performance</span></li>
					
						<li><span class='tagname'>tableview</span></li>
					
				</ul>
			

			<section>
				<h5>1 Comment</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>My last sample is still valid, i.e. 3000 simple lines in a table view take about 5 seconds on an iPhone 3GS which seems to be a little slow. Maybe the iPhone just is that slow, only a pure C implementation could tell. But I discovered that the rest of the time (about 4 to 5 seconds again) is spent parsing the JSON response from the server which is used for filling the table. Sorry I did not notice that before and thought it was all due to the poor table performance.</p>
</div>
							<div class="author">
								&mdash; commented <span title="June 7th 2010, 6:37:52 pm">June 7th 2010</span>
								by <span class='authorname'>Michael Descher</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>2</span> Votes</div>
			<div class="answers"><span>12</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>12 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-77661">
				
						<section>
							<p>I had some issues with custom tableviewrows and images,<br>I wrapped each element in a view then added the view to the row, And that just about cleared up my performance issue.</p>
<p>However your example looks a lot simpler than my rows were.</p>
<p>Mine also was Android, But just thought i&#39;d mention it</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="June 29th 2010, 1:53:47 am">June 29th 2010</span>
								by <span class='authorname'>Ryan Tregea</span><br>
								<a class="icon-bg icon-link" href="question/26571/tableview-performance#answer-77661" rel="permalink">permalink</a>
							</div>

							<h5>4 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Thanks Ryan, I don&#39;t suppose you could give us a quick code sample?</p>
</p>
										<div class="author">
											&mdash; commented <span title="June 29th 2010, 7:44:45 am">June 29th 2010</span>
											by <span class='authorname'>Matt Collinge</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>6 weeks ago I was a noob to the ways of Titanium 1.4.. but now I understand what you meant.. it does seem to make a difference on Android. It still takes a while to generate the table, but is faster when you add everything to a view first, then add the view to the row. Weird! Nice tip dude.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 5th 2010, 2:19:59 pm">August 5th 2010</span>
											by <span class='authorname'>Matt Collinge</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Do you guys mean adding the data into a View or a tableView, before inserting it into a tableRow?</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 15th 2010, 2:42:00 am">August 15th 2010</span>
											by <span class='authorname'>Takahito Torimoto</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I&#39;m also curious about this. Been trying to resolve an issue where the new window slides into place and THEN the content appears in the view. It happens fast but it happens and its kind of jarring.</p>
</p>
										<div class="author">
											&mdash; commented <span title="September 22nd 2010, 1:09:08 am">September 22nd 2010</span>
											by <span class='authorname'>Dave F</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>2</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-58061">
				
						<section>
							<p>Okay, I did a small experiment. Here is my small sample code (all in app.js):</p>
<pre><code class="hljs">Titanium.UI.setBackgroundColor('<span class="hljs-comment">#000');</span>
<span class="hljs-component">var win = Titanium.UI.createWindow({backgroundColor:'<span class="hljs-comment">#ff0'});</span>
var tableView = Titanium<span class="hljs-string">.UI.createTableView({})</span>;
win<span class="hljs-string">.add(tableView)</span>;
win<span class="hljs-string">.open()</span>;
for (var i = 0; i &lt; 3000; i++) {
    tableView<span class="hljs-string">.appendRow(Titanium.UI.createTableViewRow({title:'row</span> <span class="hljs-comment">#' + i}));</span>
}</span>
</code></pre><p>A loop with 1000 elements takes about 3 seconds to display the table. With 2000 elements it is about 18 secs and with 3000 it takes about 1 minute before anything is displayed. This is in the iPhone simulator. Times on the iPhone 3GS are even worse (I did not measure it with this example).</p>
<p>Changing the last lines to the following displays the table almost immediately in the simulator with 3000 lines but still takes about 5 secs on the iPhone 3GS. So using a data array before is definitely better but still not good enough on the real device.</p>
<pre><code class="hljs"><span class="hljs-title">var</span> <span class="hljs-typedef"><span class="hljs-keyword">data</span> = [];</span>
<span class="hljs-title">for</span> (var i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">3000</span>; i++) {
    <span class="hljs-typedef"><span class="hljs-keyword">data</span>.push<span class="hljs-container">(<span class="hljs-type">Titanium</span>.<span class="hljs-type">UI</span>.<span class="hljs-title">createTableViewRow</span>({<span class="hljs-title">title</span>:'<span class="hljs-title">row</span> #' + <span class="hljs-title">i</span>})</span>);</span>
}
<span class="hljs-title">tableView</span>.setData(<span class="hljs-typedef"><span class="hljs-keyword">data</span>);</span>
</code></pre><p>Since I am creating sections depending on the data and an index it gets even worse.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="May 18th 2010, 7:10:38 pm">May 18th 2010</span>
								by <span class='authorname'>Michael Descher</span><br>
								<a class="icon-bg icon-link" href="question/26571/tableview-performance#answer-58061" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-57341">
				
						<section>
							<p>there is a bug already in the lighthouse webapp, which deals with this problem, however it was moved to a future release last week. i really hope this will be fixed soon …</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="May 17th 2010, 5:50:22 pm">May 17th 2010</span>
								by <span class='authorname'>Christian Sigl</span><br>
								<a class="icon-bg icon-link" href="question/26571/tableview-performance#answer-57341" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-57361">
				
						<section>
							<p>Is there any information on what the bug is and how it could be fixed? Maybe by modifying the sources in the build&#x2F;iPhone&#x2F;classes directory of the project as a quick fix until the real one comes out? With the current performance my app is not really usable. :-(</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="May 17th 2010, 6:07:28 pm">May 17th 2010</span>
								by <span class='authorname'>Michael Descher</span><br>
								<a class="icon-bg icon-link" href="question/26571/tableview-performance#answer-57361" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-57461">
				
						<section>
							<p>I don&#39;t have nearly as many rows as you do, but my load times were terrible also. One thing that helped the load time was I had to remove a background image I was using for each row. The load time was agonizing on an ipod touch. So now I check for the device being an ipod and if so don&#39;t display the background image. Not sure if this will help you, but might be a useful workaround till the bug is fixed.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="May 17th 2010, 9:32:29 pm">May 17th 2010</span>
								by <span class='authorname'>Bruce McTigue</span><br>
								<a class="icon-bg icon-link" href="question/26571/tableview-performance#answer-57461" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-57541">
				
						<section>
							<p>I have a tableView with over 100 rows and all is well when it comes to performance. The only minor slowness comes from loading a remote image into them - but is still fine and dandy.</p>
<p>All my rows have a background image and alternating background colors (since the image is semi-transparent)</p>
<p>Installed in iPhone 3GS (3.1.2) using Titanium Mobile SDK 1.3.0</p>
<p>Do your table rows have unique classNames ?</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="May 18th 2010, 12:11:11 am">May 18th 2010</span>
								by <span class='authorname'>Kosso</span><br>
								<a class="icon-bg icon-link" href="question/26571/tableview-performance#answer-57541" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-57571">
				
						<section>
							<p>I have no background images. I started with no className property and switched to unique ones later. Did not make any difference as far as I can tell.</p>
<p>I had a closer look at the number of rows and came up with 2369 rows. So &quot;some hundred&quot; is still correct but maybe a little understated. So maybe performance just is bad on the iPhone with that number of rows. Maybe it&#39;s the bug mentioned in one of the answers (can someone give me a link to it if there&#39;s a public view)?</p>
<p>Another table has 658 rows and it builds slowly as well but it would be barely acceptable for me. This table&#39;s rows are more complex as they have an image and two labels. The images load from external URLs but you can see them loading lazily as soon as they become visible. So this is no problem at all. Also comparing the building times of the two tables it does not seem to be related to the complexity (images and labels vs. simple title properties.</p>
<p>Regarding the className I am not sure what &quot;same layout&quot; means. If my table cells all have a title property set and hasChild is set to true, I would consider this &quot;same layout&quot;, so I have to set the same className for all of them, right?</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="May 18th 2010, 3:20:55 am">May 18th 2010</span>
								by <span class='authorname'>Michael Descher</span><br>
								<a class="icon-bg icon-link" href="question/26571/tableview-performance#answer-57571" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-57581">
				
						<section>
							<p>I have a similar issue. Are you creating the table by pass through an array of rows at the end (data:data) or are you appending each row to the tableView as you create the row?</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="May 18th 2010, 3:24:02 am">May 18th 2010</span>
								by <span class='authorname'>James Sugrue</span><br>
								<a class="icon-bg icon-link" href="question/26571/tableview-performance#answer-57581" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-57601">
				
						<section>
							<p>To follow up on what I said earlier. My issue was that I was creating all the rows for the table before using them: I created an array of rows and used that as the table&#39;s data. I refactored my code to create and show the table first, and then to append each row as it was created, and it seems far more responsive.<br>Hopefully that helps you out </p>
<p>James</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="May 18th 2010, 5:40:40 am">May 18th 2010</span>
								by <span class='authorname'>James Sugrue</span><br>
								<a class="icon-bg icon-link" href="question/26571/tableview-performance#answer-57601" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-57951">
				
						<section>
							<p>I was adding it in the end via setData. I tried adding each row directly but that makes it even slower for me.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="May 18th 2010, 4:14:41 pm">May 18th 2010</span>
								by <span class='authorname'>Michael Descher</span><br>
								<a class="icon-bg icon-link" href="question/26571/tableview-performance#answer-57951" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-58001">
				
						<section>
							<p>Hmm, that&#39;s strange.. I did use an animation with the appendRow call too.. Wonder would that help? (Doubtful) </p>
<p>Also,just to be sure, have you added the table view to the window and shown the window before all of the adding?</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="May 18th 2010, 5:08:37 pm">May 18th 2010</span>
								by <span class='authorname'>James Sugrue</span><br>
								<a class="icon-bg icon-link" href="question/26571/tableview-performance#answer-58001" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-68381">
				
						<section>
							<p>My last sample is still valid, i.e. 3000 simple lines in a table view take about 5 seconds on an iPhone 3GS which seems to be a little slow. Maybe the iPhone just is that slow, only a pure C implementation could tell. But I discovered that the rest of the time (about 4 to 5 seconds again) is spent parsing the JSON response from the server which is used for filling the table. Sorry I did not notice that before and thought it was all due to the poor table performance.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="June 7th 2010, 6:38:56 pm">June 7th 2010</span>
								by <span class='authorname'>Michael Descher</span><br>
								<a class="icon-bg icon-link" href="question/26571/tableview-performance#answer-68381" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
