<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Expand vs Collapse for each TableViewRow with dynamic content? Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Expand vs Collapse for each TableViewRow with dynamic content?</h1>
		</header>
		<section>
			<p>Hi All,</p>
<p>I want perform the expand and collapse for each tableviewrow when event listener calls</p>
<p>First time I want show the small content on the each TableViewRow of TableView.<br>When I am click on any one of TableViewRow It will expand  and shows full description. If I am click on  expanded row it should collapse with showing small content.</p>
<p>I used below code, based on that I was unable expand and collapse each row.<br>Here code:</p>
<pre><code class="hljs">var tableData = [];
<span class="hljs-keyword">for</span> (var i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">5</span>; i++) {
    var taskDetailsRow = Ti.UI.createTableViewRow({

        <span class="hljs-string">layout :</span> <span class="hljs-string">'vertical'</span>,
        <span class="hljs-string">height :</span> <span class="hljs-number">75</span>,
        <span class="hljs-string">click :</span> <span class="hljs-string">'no'</span>,
    });

    var descLabel = Titanium.UI.createLabel({
        <span class="hljs-string">text :</span> <span class="hljs-string">"All my friends. Settle down let me talk, I will get more and more emotional (crowd gets louder and louder as he composes himself). My life, between 22 yards for 24 years, it is hard to believe that that wonderful journey has come to an end, but I would like to take this opportunity to thank people who have played an important role in my life."</span>,
        <span class="hljs-string">textAlign :</span> <span class="hljs-string">'left'</span>,
        <span class="hljs-string">top :</span> <span class="hljs-number">6</span>,
        <span class="hljs-string">left :</span> <span class="hljs-number">6</span>,
        <span class="hljs-string">right :</span> <span class="hljs-number">20</span>,
        <span class="hljs-string">color :</span> <span class="hljs-string">"#000"</span>,

    });

    var descriptionView = Ti.UI.createView({

        <span class="hljs-string">backgroundColor :</span> <span class="hljs-string">'#ee9d00'</span>,

    });

    descriptionView.add(descLabel);

    taskDetailsRow.add(descriptionView);

    <span class="hljs-comment">//adding taskDetailsRow to array</span>
    tableData.push(taskDetailsRow);

    taskDetailsRow.addEventListener(<span class="hljs-string">'click'</span>, function(e) {

        Ti.API.info(<span class="hljs-string">"taskDetailsRow event listerner is called "</span> + e.row.click);

        <span class="hljs-keyword">if</span> (e.row.click == <span class="hljs-string">'yes'</span>) {
            e.row.setHeight(<span class="hljs-number">75</span>);
            e.row.click = <span class="hljs-string">'no'</span>;
        } <span class="hljs-keyword">else</span> {
            e.row.setHeight(Ti.UI.SIZE);
            e.row.click = <span class="hljs-string">'yes'</span>;
        }

    });

}

var tableView = Ti.UI.createTableView({
    <span class="hljs-string">data :</span> tableData,
    <span class="hljs-string">height :</span> Ti.UI.SIZE,
    <span class="hljs-comment">//separatorColor : '#000'</span>
});

$.taskProgressWin.add(tableView);

$.taskProgressWin.open();
</code></pre><p>Can any one help me out..</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="June 1st 2015, 7:31:25 am">June 1st 2015</span>
				by <span class='authorname'>Chanakya Puramshetty</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>alloy</span></li>
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>tableview</span></li>
					
						<li><span class='tagname'>tableviewrow</span></li>
					
						<li><span class='tagname'>titanium ui</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-287551">
				
						<section>
							<p>Try the below code. I have tested using Ti SDK 4.0.0.GA, Ti CLI - 4.0.0, </p>
<pre><code class="hljs">
var tableData = [];
<span class="hljs-keyword">for</span> (var i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">5</span>; i++) {
    var taskDetailsRow = Ti.UI.createTableViewRow({

        <span class="hljs-string">layout :</span> <span class="hljs-string">'vertical'</span>,
        <span class="hljs-string">height :</span> <span class="hljs-number">75</span>,
        <span class="hljs-string">click :</span> <span class="hljs-string">'no'</span>,
    });

    var descLabel = Titanium.UI.createLabel({
        <span class="hljs-string">text :</span> <span class="hljs-string">"All my friends. Settle down let me talk, I will get more and more emotional (crowd gets louder and louder as he composes himself). My life, between 22 yards for 24 years, it is hard to believe that that wonderful journey has come to an end, but I would like to take this opportunity to thank people who have played an important role in my life."</span>,
        <span class="hljs-string">textAlign :</span> <span class="hljs-string">'left'</span>,
        <span class="hljs-string">top :</span> <span class="hljs-number">6</span>,
        <span class="hljs-string">left :</span> <span class="hljs-number">6</span>,
        <span class="hljs-string">right :</span> <span class="hljs-number">20</span>,
        <span class="hljs-string">color :</span> <span class="hljs-string">"#000"</span>,

    });

    taskDetailsRow.add(descLabel);

    <span class="hljs-comment">//adding taskDetailsRow to array</span>
    tableData.push(taskDetailsRow);

    taskDetailsRow.addEventListener(<span class="hljs-string">'click'</span>, function(e) {

        Ti.API.info(<span class="hljs-string">"taskDetailsRow event listerner is called "</span> + e.row.click);

        <span class="hljs-keyword">if</span> (e.row.click == <span class="hljs-string">'yes'</span>) {
            e.row.setHeight(<span class="hljs-number">75</span>);
            e.row.click = <span class="hljs-string">'no'</span>;
        } <span class="hljs-keyword">else</span> {
            e.row.setHeight(Ti.UI.SIZE);
            e.row.click = <span class="hljs-string">'yes'</span>;
        }

    });

}

var tableView = Ti.UI.createTableView({
    <span class="hljs-string">data :</span> tableData,
    <span class="hljs-string">height :</span> Ti.UI.SIZE,
    <span class="hljs-string">separatorColor :</span> <span class="hljs-string">'#000'</span>
});

$.taskProgressWin.add(tableView);

$.taskProgressWin.open();
</code></pre><p>Hope this will help you.</p>
<p>Thanks,</p>
<p>Narendra Raorane</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="June 1st 2015, 3:00:30 pm">June 1st 2015</span>
								by <span class='authorname'>Narendra Raorane</span><br>
								<a class="icon-bg icon-link" href="question/182564/expand-vs-collapse-for-each-tableviewrow-with-dynamic-content#answer-287551" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Hi Narendra Raorane,<br>Thanks for your replay.</p>
<p>I tried with your suggestions, but it&#39;s not workout for me.  </p>
<p>Actually I am adding the json text to each Titanium.UI.createLabel(<strong>having ellipsize : true, wordWrap : false properties</strong>) and added that label to each TableViewRow.</p>
<p>By default Label height should be single line with property of ellipsize : true.</p>
<p>When a user perform event listener on each label, label content should be expand and also respective TableViewRow should be expand.</p>
<p>If user perform event listener on expanded label text, label and TableViewRow should be shrink.</p>
<p>Label and TableViewRow both are <strong>expand or shrink (vice versa)</strong> based on event listener performed on label.</p>
<p><strong>Updated code:</strong></p>
<p>I tried below code for achieve above scenarios but when I am click on label respective TableViewRow is not expand or shrink</p>
<pre><code class="hljs">var tableData = [];
<span class="hljs-keyword">for</span> (var i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">5</span>; i++) {
    var taskDetailsRow = Ti.UI.createTableViewRow({

        <span class="hljs-string">layout :</span> <span class="hljs-string">'vertical'</span>,

    });

    var descLabel = Titanium.UI.createLabel({
        <span class="hljs-string">text :</span> <span class="hljs-string">"All my friends. Settle down let me talk, I will get more and more emotional (crowd gets louder and louder as he composes himself). My life, between 22 yards for 24 years, it is hard to believe that that wonderful journey has come to an end, but I would like to take this opportunity to thank people who have played an important role in my life."</span>,
        <span class="hljs-string">textAlign :</span> <span class="hljs-string">'left'</span>,
        <span class="hljs-string">top :</span> <span class="hljs-number">6</span>,
        <span class="hljs-string">left :</span> <span class="hljs-number">6</span>,
        <span class="hljs-string">right :</span> <span class="hljs-number">20</span>,
        <span class="hljs-string">color :</span> <span class="hljs-string">"#000"</span>,
        <span class="hljs-string">ellipsize :</span> <span class="hljs-literal">true</span>,
        <span class="hljs-string">wordWrap :</span> <span class="hljs-literal">false</span>,
        <span class="hljs-string">width :</span> Ti.UI.FILL,
        <span class="hljs-string">horizontalWrap :</span> <span class="hljs-literal">false</span>,
        <span class="hljs-string">click :</span> <span class="hljs-literal">false</span>

    });


    taskDetailsRow.add(descLabel);

    <span class="hljs-comment">//adding taskDetailsRow to array</span>
    tableData.push(taskDetailsRow);

    descLabel.addEventListener(<span class="hljs-string">'click'</span>, function(e) {

                    Ti.API.info(<span class="hljs-string">"e.source.click listener is called "</span> + e.source.click);

                    <span class="hljs-keyword">if</span> (e.source.click == <span class="hljs-string">'yes'</span>) {
                        e.source.setEllipsize(<span class="hljs-literal">true</span>);
                        e.source.setWordWrap(<span class="hljs-literal">false</span>);
                        e.source.click = <span class="hljs-string">'no'</span>;
                    } <span class="hljs-keyword">else</span> {
                        e.source.setEllipsize(<span class="hljs-literal">false</span>);
                        e.source.setWordWrap(<span class="hljs-literal">true</span>);
                        e.source.click = <span class="hljs-string">'yes'</span>;
                    }

                });

}

var tableView = Ti.UI.createTableView({
    <span class="hljs-string">data :</span> tableData,
    <span class="hljs-string">height :</span> Ti.UI.SIZE,
    <span class="hljs-string">separatorColor :</span> <span class="hljs-string">'#000'</span>
});

$.taskProgressWin.add(tableView);

$.taskProgressWin.open();
</code></pre><p>I am using below versions</p>
<p>Titanium SDK version 3.5.1.GA , CLI Version 3.4.2</p>
<p>Still I am not updated to Ti SDK 4.0.0.GA, Ti CLI - 4.0.0.</p>
<p>Please help me out..</p>
</p>
										<div class="author">
											&mdash; commented <span title="June 2nd 2015, 5:10:57 am">June 2nd 2015</span>
											by <span class='authorname'>Chanakya Puramshetty</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
