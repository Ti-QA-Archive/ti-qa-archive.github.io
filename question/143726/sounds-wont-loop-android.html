<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Sounds won&#39;t loop (Android) » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Sounds won&#39;t loop (Android)</h1>
		</header>
		<section>
			<p>Hi all,</p>
<p>I&#39;m making an array of sounds using the following code:</p>
<pre><code class="hljs">    <span class="hljs-keyword">for</span> (i=<span class="hljs-number">0</span><span class="hljs-comment">; i&lt;4; i++){    </span>
        bellSounds[i] = Ti.Media.createSound({
            url: <span class="hljs-string">'/Audio Files/Bell'</span> + (i+<span class="hljs-number">1</span>) + <span class="hljs-string">'.wav'</span>,
            preload: <span class="hljs-literal">true</span>,
            volume: <span class="hljs-number">1</span>,
            looping: <span class="hljs-literal">true</span>
        })<span class="hljs-comment">;</span>
    }<span class="hljs-comment">;</span>
</code></pre><p>It makes the sounds files just fine and they play back just fine - ONCE!</p>
<p>They won&#39;t loop.</p>
<p>Can anyone throw some light on this please?</p>
<p>Thanks!</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="October 19th 2012, 5:27:58 pm">October 19th 2012</span>
				by <span class='authorname'>Robin Williams</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>loop</span></li>
					
						<li><span class='tagname'>looping</span></li>
					
						<li><span class='tagname'>sound</span></li>
					
						<li><span class='tagname'>won&#39;t</span></li>
					
				</ul>
			

			<section>
				<h5>5 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Missing from your question are a number of important pieces of information. I suggest you take a look at the <a href="https:&#x2F;&#x2F;wiki.appcelerator.org&#x2F;display&#x2F;guides&#x2F;Using+Questions+and+Answers">Using Questions and Answers</a> article, specifically the Q&amp;A Question Checklist.  The missing information is critical to reproducing problems in a test environment and often indicates other factors that cause the undesirable outcome you are experiencing.</p>
</div>
							<div class="author">
								&mdash; commented <span title="October 19th 2012, 11:46:06 pm">October 19th 2012</span>
								by <span class='authorname'>Stephen Feather</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Application type: mobile, (Android)</p>
<p>Titanium SDK:  TiApp.xml = SDK 2.1.3GA; Android V8 Runtime</p>
<p>Platform &amp; version: Android 2.3.4. [Emulator choice Google APIs 2.3.3 but emulator NOT USED]</p>
<p>Device: Sony Xperia Arc S (LT18i) running Android 2.3.4</p>
<p>Host Operating System: - Coded and compiled on Windows Vista</p>
<p>Titanium Studio: build: 2.1.2.201208301612<br>(c) Copyright 2012 by Appcelerator, Inc.  All rights reserved.</p>
<p>Build: jenkins-titanium-rcp-master-232 (origin&#x2F;master)<br>Date: 30 August 2012, 16:14:46</p>
<ul>
<li><ul>
<li><ul>
<li>The game involves shaking the phone so is being tested directly on a phone rather than an emulator.</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
							<div class="author">
								&mdash; commented <span title="October 20th 2012, 6:48:13 am">October 20th 2012</span>
								by <span class='authorname'>Robin Williams</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Hi Robin,<br>Did you find a solution for this?</p>
</div>
							<div class="author">
								&mdash; commented <span title="May 9th 2013, 1:56:12 pm">May 9th 2013</span>
								by <span class='authorname'>Michael Browne</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Hi Michael,</p>
<p>I didn&#39;t! :( I ended up looping the audio file and stop it when needed!</p>
<p>BUT… that was Ti 2.1.3 - we&#39;re on 3.2 now and I haven&#39;t tried it in ages. Maybe it works now?! (famous last words!)</p>
<p>Do you also find that the Volume parameter doesn&#39;t work properly either? For me, it works on the emulator but not on an actual device! It&#39;s as though the device tries to maximize audio volume for anything quiet. it&#39;s more like a &#39;relative volume&#39; level - if several sounds play at once, then they seem to get a volume priority relative to each other but when played alone again,… full belt!</p>
</div>
							<div class="author">
								&mdash; commented <span title="May 9th 2013, 6:15:35 pm">May 9th 2013</span>
								by <span class='authorname'>Robin Williams</span>
							</div>
						</li>
					
						<li class="comment">
							<div><ul>
<li>3.1, not 3.2 - sorry, my bad!</li>
</ul>
</div>
							<div class="author">
								&mdash; commented <span title="May 12th 2013, 10:36:00 am">May 12th 2013</span>
								by <span class='authorname'>Robin Williams</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-267960">
				
						<section>
							<p>Hi. It seems that <code>looping</code> is not set properly on creation. I tried to set it explicitly after creation and it worked (Titanium version 3.1.2).</p>
<pre><code class="hljs">var menuMusic = Ti.Media.createSound({
    <span class="hljs-attribute">url</span>: <span class="hljs-string">"/audio/some.mp3"</span>,
    <span class="hljs-attribute">looping</span>: <span class="hljs-literal">true</span>            <span class="hljs-regexp">//</span><span class="hljs-keyword">this</span> <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> set <span class="hljs-literal">on</span> android
});
menuMusic.looping = <span class="hljs-literal">true</span>;        <span class="hljs-regexp">//</span><span class="hljs-keyword">this</span> assignment sets looping properly
menuMusic.play();            <span class="hljs-regexp">//</span>loops as expected after explicit assignment
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="September 2nd 2013, 10:38:54 am">September 2nd 2013</span>
								by <span class='authorname'>Basar Simitci</span><br>
								<a class="icon-bg icon-link" href="question/143726/sounds-wont-loop-android#answer-267960" rel="permalink">permalink</a>
							</div>

							<h5>4 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Great idea! I didn&#39;t think of trying it like that - I&#39;ll give it a go this afternoon.</p>
<p>Thanks for the reply.</p>
<p>Have you experienced &#39;issues&#39; with the volume property? (It seems to work on the emulator BUT…)</p>
<p>On all of my real-world devices that everything will try to play back as loud as possible and it&#39;s only when more than one thing is playing at once that the sounds will then adjust to be louder or quieter relative to each other…</p>
<p>(I&#39;ve been using a Sony Ericsson ARC s (2.3.4), a Xperia Miro (4.0.4) an Xperia Z (4.?) and an Asus Transformer (4.?) )</p>
</p>
										<div class="author">
											&mdash; commented <span title="September 2nd 2013, 11:14:40 am">September 2nd 2013</span>
											by <span class='authorname'>Robin Williams</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I didn&#39;t use volume property yet. I&#39;ll write the result here when i do.</p>
</p>
										<div class="author">
											&mdash; commented <span title="September 2nd 2013, 12:19:48 pm">September 2nd 2013</span>
											by <span class='authorname'>Basar Simitci</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Hi Basar,</p>
<p>You&#39;re a legend :D</p>
<p>Looping works perfectly now - it also solves the issue with the volume not &#39;setting&#39; correctly.</p>
<p>If I set the volume property after I&#39;ve created the sound object, it works as it ought to! :D</p>
<pre><code class="hljs"><span class="hljs-atom">soundBank</span>[<span class="hljs-number">0</span>] = <span class="hljs-name">Ti</span>.<span class="hljs-name">Media</span>.<span class="hljs-atom">createSound</span>({<span class="hljs-atom">url</span>: <span class="hljs-string">'/Audio Files/'</span> + <span class="hljs-atom">characterName</span> + <span class="hljs-string">'.mp3'</span>});
<span class="hljs-atom">soundBank</span>[<span class="hljs-number">0</span>].<span class="hljs-atom">looping</span> = <span class="hljs-atom">true</span>;
<span class="hljs-atom">soundBank</span>[<span class="hljs-number">0</span>].<span class="hljs-atom">volume</span> = <span class="hljs-number">0.1</span>;
</code></pre><p>Thank you!</p>
</p>
										<div class="author">
											&mdash; commented <span title="September 6th 2013, 12:05:14 pm">September 6th 2013</span>
											by <span class='authorname'>Robin Williams</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I wish this &#39;forum&#39; allowed the deletion or editing of posts as things can get very untidy when corrections need to be made…</p>
<p>What I said about the volume is NOT CORRECT! It still doesn&#39;t work!</p>
<p>It&#39;s all some kind of &#39;relative volume&#39; - If you set  <code>soundOne.volume: 0.1</code> it will play back as loudly as it possibly can by some kind of hideous, noisy ducking (a type of side-chained audio compression) or something.</p>
<p>It will only play back at  &#39;0.1&#39; when another sound  plays which is set to be <code>soundTwo.volume: 1</code> as soon as soundTwo ends, soundOne will then go back to being played as loudly as possible!</p>
</p>
										<div class="author">
											&mdash; commented <span title="September 7th 2013, 12:45:16 pm">September 7th 2013</span>
											by <span class='authorname'>Robin Williams</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
