<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Blank screen when starting app after home button » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Blank screen when starting app after home button</h1>
		</header>
		<section>
			<p>On Android, my app is supposed to start correctly when I read a NFC tag, and it does.<br>The problem is that, if I start the app like this, press the home buttom and then go back to it by clicking on its icon, the window I see is blank.<br>This doesn&#39;t happen if I start the app manually by clicking on its icon.<br>Anyone else having this kind of problem?</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="March 6th 2015, 9:41:29 am">March 6th 2015</span>
				by <span class='authorname'>Giorgio Pagnoni</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>blank screen</span></li>
					
						<li><span class='tagname'>intent</span></li>
					
						<li><span class='tagname'>nfc</span></li>
					
				</ul>
			

			<section>
				<h5>6 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Missing from your question are a number of important pieces of information. I suggest you take a look at the <a href="https:&#x2F;&#x2F;wiki.appcelerator.org&#x2F;display&#x2F;guides&#x2F;Using+Questions+and+Answers">Using Questions and Answers</a> article, specifically the Q&amp;A Question Checklist.  The missing information is critical to reproducing problems in a test environment and often indicates other factors that cause the undesirable outcome you are experiencing.</p>
<ul>
<li>post your tiapp.xml, properly formatted so it can be read.</li>
<li>post your environment details</li>
</ul>
</div>
							<div class="author">
								&mdash; commented <span title="March 6th 2015, 12:56:31 pm">March 6th 2015</span>
								by <span class='authorname'>Stephen Feather</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Sorry for my inexperience. I&#39;ll do my best to explain myself with my limited English. Here&#39;s the relevant parts of my tiapp.xml. I have tried every launch mode to no avail.</p>
<pre><code class="hljs"><span class="hljs-tag">&lt;<span class="hljs-title">manifest</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">uses-permission</span> <span class="hljs-attribute">android:name</span>=<span class="hljs-value">"android.permission.NFC"</span>/&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">uses-permission</span> <span class="hljs-attribute">android:name</span>=<span class="hljs-value">"android.permission.CALL_PHONE"</span>/&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">uses-sdk</span> <span class="hljs-attribute">android:minSdkVersion</span>=<span class="hljs-value">"14"</span>/&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">uses-feature</span> <span class="hljs-attribute">android:name</span>=<span class="hljs-value">"android.hardware.nfc"</span> <span class="hljs-attribute">android:required</span>=<span class="hljs-value">"true"</span>/&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">application</span> <span class="hljs-attribute">android:theme</span>=<span class="hljs-value">"@style/Theme.NoActionBar"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">activity</span>
            <span class="hljs-attribute">android:configChanges</span>=<span class="hljs-value">"keyboardHidden|orientation"</span>
            <span class="hljs-attribute">android:label</span>=<span class="hljs-value">"Test"</span>
            <span class="hljs-attribute">android:launchMode</span>=<span class="hljs-value">"singleTop"</span>
            <span class="hljs-attribute">android:name</span>=<span class="hljs-value">".TestActivity"</span> <span class="hljs-attribute">android:screenOrientation</span>=<span class="hljs-value">"portrait"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">intent-filter</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">action</span> <span class="hljs-attribute">android:name</span>=<span class="hljs-value">"android.intent.action.MAIN"</span>/&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">category</span> <span class="hljs-attribute">android:name</span>=<span class="hljs-value">"android.intent.category.LAUNCHER"</span>/&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-title">intent-filter</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">intent-filter</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">action</span> <span class="hljs-attribute">android:name</span>=<span class="hljs-value">"android.nfc.action.NDEF_DISCOVERED"</span>/&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">data</span> <span class="hljs-attribute">android:host</span>=<span class="hljs-value">"test.com"</span> <span class="hljs-attribute">android:scheme</span>=<span class="hljs-value">"https"</span>/&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">category</span> <span class="hljs-attribute">android:name</span>=<span class="hljs-value">"android.intent.category.DEFAULT"</span>/&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-title">intent-filter</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">activity</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">application</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">manifest</span>&gt;</span>
</code></pre><p>For simplicity&#39;s sake, let&#39;s put this in index.js.</p>
<pre><code class="hljs">Ti.API.info(<span class="hljs-string">'Launch Intent '</span> + Ti.App.Android.launchIntent.getData());

var win = Ti.UI.createWindow({
    layout : <span class="hljs-string">'vertical'</span>,
    <span class="hljs-variable">height</span> : <span class="hljs-string">'auto'</span>
});

var <span class="hljs-built_in">text</span> = Ti.UI.createTextField({
    name : <span class="hljs-string">'test'</span>,
    hintText : <span class="hljs-string">'test'</span>
});
win.<span class="hljs-built_in">add</span>(<span class="hljs-built_in">text</span>);

win.<span class="hljs-built_in">open</span>();
</code></pre><p>Now let&#39;s try start the app by approaching our device to a tag. It does so correctly: </p>
<p>[INFO] :   TiRootActivity: (main) [0,0] checkpoint, on root activity resume. activity = com.Test.app.TestActivity@42a0df48</p>
<p>[INFO] :   Launch Intent https:&#x2F;&#x2F;test.com</p>
<p>Bit if we press the home button, click on the app icon and go check our logs we can see than the activity id of what just started is different. So for example anything that we had written in the text field got lost. I don&#39;t want this to happen.</p>
<p>[INFO] :   TiRootActivity: (main) [0,0] checkpoint, on root activity create, savedInstanceState: null</p>
<p>[INFO] :   Launch Intent null</p>
<p>[INFO] :   TiRootActivity: (main) [0,0] checkpoint, on root activity resume. activity = com.Test.app.TestActivity@42cb8370</p>
<p>Some more info:</p>
<p>Operating System<br>  Name                        = Mac OS X<br>  Version                     = 10.8.5<br>  Architecture                = 64bit</p>
<p>Node.js<br>  Node.js Version             = 0.10.22<br>  npm Version                 = 2.0.2</p>
<p>Titanium CLI<br>  CLI Version                 = 3.4.1</p>
<p>Titanium SDK<br>  SDK Version                 = 3.5.0.GA<br>  Target Platform             = android</p>
<p>Thank you for your time.</p>
</div>
							<div class="author">
								&mdash; commented <span title="March 6th 2015, 1:43:03 pm">March 6th 2015</span>
								by <span class='authorname'>Giorgio Pagnoni</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>In your task manager, do you see 2 different instances of your app running after scanning an nfc?</p>
</div>
							<div class="author">
								&mdash; commented <span title="March 6th 2015, 1:52:01 pm">March 6th 2015</span>
								by <span class='authorname'>Stephen Feather</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>As a matter of fact, the app that starts after scanning an NFC is called &quot;Nfc service&quot; and not &quot;Test&quot;, like it is supposed to be called.</p>
</div>
							<div class="author">
								&mdash; commented <span title="March 6th 2015, 2:08:25 pm">March 6th 2015</span>
								by <span class='authorname'>Giorgio Pagnoni</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>So it&#39;s a bit like <a href="http:&#x2F;&#x2F;stackoverflow.com&#x2F;questions&#x2F;23657981&#x2F;when-reading-a-ndef-tag-the-content-its-showed-in-nfc-service-instead-of-the">this</a>, a clone of my app that is not my app.</p>
</div>
							<div class="author">
								&mdash; commented <span title="March 6th 2015, 2:19:19 pm">March 6th 2015</span>
								by <span class='authorname'>Giorgio Pagnoni</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>I modified the tiapp.xml of Favebooks by adding the following to it:</p>
<pre><code class="hljs"><span class="hljs-tag">&lt;<span class="hljs-title">android</span> <span class="hljs-attribute">xmlns:android</span>=<span class="hljs-value">"http://schemas.android.com/apk/res/android"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">manifest</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">uses-permission</span> <span class="hljs-attribute">android:name</span>=<span class="hljs-value">"android.permission.NFC"</span>/&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">uses-permission</span> <span class="hljs-attribute">android:name</span>=<span class="hljs-value">"android.permission.CALL_PHONE"</span>/&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">uses-sdk</span> <span class="hljs-attribute">android:minSdkVersion</span>=<span class="hljs-value">"14"</span>/&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">uses-feature</span> <span class="hljs-attribute">android:name</span>=<span class="hljs-value">"android.hardware.nfc"</span> <span class="hljs-attribute">android:required</span>=<span class="hljs-value">"true"</span>/&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">application</span> <span class="hljs-attribute">android:theme</span>=<span class="hljs-value">"@style/Theme.Titanium"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">activity</span>
            <span class="hljs-attribute">android:configChanges</span>=<span class="hljs-value">"keyboardHidden|orientation"</span>
            <span class="hljs-attribute">android:label</span>=<span class="hljs-value">"Favebooks"</span>
            <span class="hljs-attribute">android:launchMode</span>=<span class="hljs-value">"singleTop"</span>
            <span class="hljs-attribute">android:name</span>=<span class="hljs-value">".FavebooksActivity"</span> <span class="hljs-attribute">android:screenOrientation</span>=<span class="hljs-value">"portrait"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">intent-filter</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-title">action</span> <span class="hljs-attribute">android:name</span>=<span class="hljs-value">"android.intent.action.MAIN"</span>/&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-title">category</span> <span class="hljs-attribute">android:name</span>=<span class="hljs-value">"android.intent.category.LAUNCHER"</span>/&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-title">intent-filter</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">intent-filter</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-title">action</span> <span class="hljs-attribute">android:name</span>=<span class="hljs-value">"android.nfc.action.NDEF_DISCOVERED"</span>/&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-title">data</span> <span class="hljs-attribute">android:host</span>=<span class="hljs-value">"test.com"</span> <span class="hljs-attribute">android:scheme</span>=<span class="hljs-value">"https"</span>/&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-title">category</span> <span class="hljs-attribute">android:name</span>=<span class="hljs-value">"android.intent.category.DEFAULT"</span>/&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-title">intent-filter</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-title">activity</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">application</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">manifest</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">android</span>&gt;</span>
</code></pre><p>and the same thing happens: the app that starts after scanning an NFC tag is called &quot;NFC services&quot;,<br>it looks exactly like my app but it&#39;s not my app. <a href="http:&#x2F;&#x2F;s27.postimg.org&#x2F;56y8ctvrn&#x2F;Screenshot_2015_03_09_09_24_37.png">LINK.</a> Am I doing anything wrong?</p>
</div>
							<div class="author">
								&mdash; commented <span title="March 9th 2015, 6:30:07 am">March 9th 2015</span>
								by <span class='authorname'>Giorgio Pagnoni</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>0</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>0 Answers</h3>

	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
