<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Update tableView data, clear previous data » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Update tableView data, clear previous data</h1>
		</header>
		<section>
			<p>Hi guys,</p>
<p>First off this is the script im working with: http:&#x2F;&#x2F;pastebin.com&#x2F;ztQU1ST0 taken from the xml_rss.js in Kitchen Sink</p>
<p>When the app loads, it initially creates a tableView with the first feed info.</p>
<p>The user can then click one of the views (only view2 is setup in pasted script) to load a different feed. The problem I have, is that the new feed is just shown over the top of the previous feed.</p>
<p>Have searched high and low for a fix, but to no avail.</p>
<p>I hope someone can help me out, so close to finishing this app!</p>
<p>Thanks in advanced.</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="October 11th 2011, 12:05:08 pm">October 11th 2011</span>
				by <span class='authorname'>David Shepheard</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>refresh</span></li>
					
						<li><span class='tagname'>rss</span></li>
					
						<li><span class='tagname'>table</span></li>
					
						<li><span class='tagname'>tableview</span></li>
					
						<li><span class='tagname'>update</span></li>
					
				</ul>
			

			<section>
				<h5>2 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Hi, can you give more info on what you mean by the new feed being shown over the top of the previous feed?</p>
</div>
							<div class="author">
								&mdash; commented <span title="October 11th 2011, 12:11:01 pm">October 11th 2011</span>
								by <span class='authorname'>Adam Paxton</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>I&#39;m not what are you trying to achieve, but maybe this is the reason why your code is not working: <a href="http:&#x2F;&#x2F;jira.appcelerator.org&#x2F;browse&#x2F;TIMOB-3378">http:&#x2F;&#x2F;jira.appcelerator.org&#x2F;browse&#x2F;TIMOB-3378</a></p>
<p>@all - please watch ticket to support it. Muchas gracias :)</p>
</div>
							<div class="author">
								&mdash; commented <span title="October 11th 2011, 12:16:58 pm">October 11th 2011</span>
								by <span class='authorname'>Ivan Škugor</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>5</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>5 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-220742">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>Take a look at <a href="http:&#x2F;&#x2F;pastebin.com&#x2F;26pa9pra">these changes</a> to your code.  </p>
<p>It is not the cleanest, but should get you started.  As others have commented, the way you had set up the rssReader function to create a new tableview and add it to a &#39;content&#39; view was giving you problems.  It is easier to create the tableview outside of the function, and just update it via setData whenever you get the feed data.  I also moved the tableview event listener outside of the function and set the row event to pass a custom property to the listener.  </p>
<p>Another thing to consider is to make use of custom events, and set up any objects that would be needing to get the latest rss data to listen for the rss update and then update themselves with the new data.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="October 11th 2011, 2:23:54 pm">October 11th 2011</span>
								by <span class='authorname'>Adam Paxton</span><br>
								<a class="icon-bg icon-link" href="question/126697/update-tableview-data-clear-previous-data#answer-220742" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Awesome! Thank you!</p>
</p>
										<div class="author">
											&mdash; commented <span title="October 11th 2011, 3:05:25 pm">October 11th 2011</span>
											by <span class='authorname'>David Shepheard</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-220729">
				
						<section>
							<p>You changed almost nothing</p>
<pre><code class="hljs"><span class="hljs-built_in">line</span> <span class="hljs-number">262</span>      content.<span class="hljs-built_in">add</span>(tableview);
</code></pre><p>you are adding a table on each load.</p>
<p>Build the table and add it to content ONCE, OUTSIDE the xhr . Then on the load event only populate the table with setData.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="October 11th 2011, 12:35:58 pm">October 11th 2011</span>
								by <span class='authorname'>Dan Tamas</span><br>
								<a class="icon-bg icon-link" href="question/126697/update-tableview-data-clear-previous-data#answer-220729" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Sorry Dan, think i been looking at this problem for too long.</p>
<p>I have moved the <code>content.add(tableview);</code> out of the xhr.onload </p>
<p>Within the xhr.onload I have put <code>tableview.setData(data);</code></p>
<p>New paste - http:&#x2F;&#x2F;pastebin.com&#x2F;5CkYF7Ga</p>
</p>
										<div class="author">
											&mdash; commented <span title="October 11th 2011, 1:08:04 pm">October 11th 2011</span>
											by <span class='authorname'>David Shepheard</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>2</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-220722">
				
						<section>
							<p>You are creating on each load event of the xhr call a new table.<br>take the table creation out of the xhr and use only setData to populate the info.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="October 11th 2011, 12:14:22 pm">October 11th 2011</span>
								by <span class='authorname'>Dan Tamas</span><br>
								<a class="icon-bg icon-link" href="question/126697/update-tableview-data-clear-previous-data#answer-220722" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-220726">
				
						<section>
							<p>Probably easier to show you the problem that to explain: http:&#x2F;&#x2F;dl.dropbox.com&#x2F;u&#x2F;4244929&#x2F;app%20problem.gif</p>
<p>As you can see, the original feed is &quot;behind&quot; the new feed.</p>
<p>Dan, I have moved the create table bit out of the xhr but I still have the problem.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="October 11th 2011, 12:25:18 pm">October 11th 2011</span>
								by <span class='authorname'>David Shepheard</span><br>
								<a class="icon-bg icon-link" href="question/126697/update-tableview-data-clear-previous-data#answer-220726" rel="permalink">permalink</a>
							</div>

							<h5>6 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Post a new pastie with the new code, u&#39;re doing something funny there :)</p>
</p>
										<div class="author">
											&mdash; commented <span title="October 11th 2011, 12:27:55 pm">October 11th 2011</span>
											by <span class='authorname'>Dan Tamas</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>OK, now I see that you definitely have over-complicated implementation. :)</p>
</p>
										<div class="author">
											&mdash; commented <span title="October 11th 2011, 12:30:22 pm">October 11th 2011</span>
											by <span class='authorname'>Ivan Škugor</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Ivan, please feel free to simplify lol :) (If you hadn&#39;t guessed already im new to Titanium)</p>
</p>
										<div class="author">
											&mdash; commented <span title="October 11th 2011, 12:36:02 pm">October 11th 2011</span>
											by <span class='authorname'>David Shepheard</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>You can start with this: remove 6 views and just make one with &quot;layout&quot; set to horizontal (you also need to set width to &#39;100%&#39; and height to label&#39;s height) and then add all labels to that view.</p>
</p>
										<div class="author">
											&mdash; commented <span title="October 11th 2011, 12:45:14 pm">October 11th 2011</span>
											by <span class='authorname'>Ivan Škugor</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Cool thanks Ivan, will look at implementing that, as soon as i get my head round this table problem <em>going crazy</em></p>
</p>
										<div class="author">
											&mdash; commented <span title="October 11th 2011, 12:47:09 pm">October 11th 2011</span>
											by <span class='authorname'>David Shepheard</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Why do you do this?</p>
<pre><code class="hljs">win.<span class="hljs-keyword">open</span>(rssReader(<span class="hljs-string">'http://www.feed.com'</span>, <span class="hljs-string">'Breaking News'</span>));
</code></pre><p>Basically, you call function inside &quot;win.open&quot;, so &quot;rssReader&quot; is called and what it returns (and it doesn&#39;t return anything :) ) is passed to the &quot;win.open&quot; function.</p>
<p>It&#39;s not an error, only <strong>very</strong> strange. :)</p>
</p>
										<div class="author">
											&mdash; commented <span title="October 11th 2011, 12:52:12 pm">October 11th 2011</span>
											by <span class='authorname'>Ivan Škugor</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-220728">
				
						<section>
							<p>New paste - http:&#x2F;&#x2F;pastebin.com&#x2F;dpUEzJEK</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="October 11th 2011, 12:32:22 pm">October 11th 2011</span>
								by <span class='authorname'>David Shepheard</span><br>
								<a class="icon-bg icon-link" href="question/126697/update-tableview-data-clear-previous-data#answer-220728" rel="permalink">permalink</a>
							</div>

							<h5>2 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Can you post a working sample that replicates the issue with a public feed?  It makes it easier to see what problems you are experiencing if the code can be run.  </p>
<p>Also, please use the Comment functionality to comment on answers or add more info, and the answer functionality when posting an answer to the original question. Helps keep the Q&amp;A section clean.</p>
</p>
										<div class="author">
											&mdash; commented <span title="October 11th 2011, 1:47:26 pm">October 11th 2011</span>
											by <span class='authorname'>Adam Paxton</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Here you go - http:&#x2F;&#x2F;pastebin.com&#x2F;fZTwqRBS</p>
<p>(Its a bit slow because of the amount of entries in the feeds, but it should show you the problem.)</p>
</p>
										<div class="author">
											&mdash; commented <span title="October 11th 2011, 1:53:31 pm">October 11th 2011</span>
											by <span class='authorname'>David Shepheard</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
