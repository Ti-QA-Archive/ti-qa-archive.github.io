<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>How can I know if the scroll view reach bottom when scrolling ? » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>How can I know if the scroll view reach bottom when scrolling ?</h1>
		</header>
		<section>
			<p>I&#39;m trying to add a function to refresh mt screen and the scrollView reach his bottom but I can&#39;t find a way to do that…</p>
<p>I have tried this:</p>
<pre><code class="hljs">scrollView.addEventListener( <span class="hljs-string">'scrollend'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span></span>{
    alert( <span class="hljs-string">'end'</span> )
} )
</code></pre><p>but don&#39;t matter if are on the top, middle ou bottom… when I stop scrolling this alert is called… I only want to do this alert when I scroll to the bottom</p>
<p>anyone knows how to do that?</p>
<p>Thanks</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="April 6th 2013, 1:28:48 pm">April 6th 2013</span>
				by <span class='authorname'>Douglas Hennrich</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>scroll bottom</span></li>
					
						<li><span class='tagname'>scrollview</span></li>
					
				</ul>
			

			<section>
				<h5>1 Comment</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Missing from you question are several pieces of information that will help you obtain a speedy and accurate answer, please provide details for ALL of the following ONLY if they are relevant;</p>
<ul>
<li>Titanium SDK Version?</li>
<li>Target platform (which of the following)<ul>
<li>iPhone; which OS version?</li>
<li>iPad; which OS version?</li>
<li>Android Phones; which min&#x2F;target OS version?</li>
<li>Android Tablets; which min&#x2F;target OS version?</li>
<li>Blackberry Phones; which min&#x2F;target OS version?</li>
<li>Blackberry Tablets; which min&#x2F;target OS version?</li>
<li>Mobile Web; which testing device(s)?</li>
<li>Other?</li>
</ul>
</li>
</ul>
</div>
							<div class="author">
								&mdash; commented <span title="April 6th 2013, 1:36:37 pm">April 6th 2013</span>
								by <span class='authorname'>Malcolm Hollingsworth</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-260209">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>Hi</p>
<p>I answered this while a while back in a similar question - this detects when near the bottom, you can specificy how close that tolerance is.</p>
<ul>
<li><a href="https:&#x2F;&#x2F;developer.appcelerator.com&#x2F;question&#x2F;147145&#x2F;show-more-images-when-scroll-down#answer-254933">show more images when scroll down</a></li>
</ul>
<p>Android and iOS friendly code.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="April 6th 2013, 1:36:09 pm">April 6th 2013</span>
								by <span class='authorname'>Malcolm Hollingsworth</span><br>
								<a class="icon-bg icon-link" href="question/150574/how-can-i-know-if-the-scroll-view-reach-bottom-when-scrolling-#answer-260209" rel="permalink">permalink</a>
							</div>

							<h5>7 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>when I add a view to my scrollView… it stop scrolling… I can&#39;t scroll anymore</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> scrollView = Ti.UI.createScrollView({
    showVerticalScrollIndicator: <span class="hljs-literal">true</span>,
    scrollIndicatorStyle: Titanium.UI.iPhone.ScrollIndicatorStyle.WHITE,
    height: <span class="hljs-string">'auto'</span>,
    width: <span class="hljs-number">320</span>
})
win.add( scrollView )

<span class="hljs-keyword">var</span> view = Ti.UI.createView()
scrollView.add( view )

montaThumbNail = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{

    <span class="hljs-keyword">var</span> xGrid = <span class="hljs-number">3</span>
    <span class="hljs-keyword">var</span> yGrid = <span class="hljs-built_in">parseInt</span>(imagens.length / <span class="hljs-number">3</span>)


    <span class="hljs-keyword">for</span> ( y = <span class="hljs-number">0</span>; y &lt; yGrid; y++ ){

        <span class="hljs-keyword">for</span> ( <span class="hljs-keyword">var</span> x = <span class="hljs-number">0</span>; x &lt; xGrid; x++){

            <span class="hljs-keyword">var</span> index = x + xGrid * y

            <span class="hljs-keyword">var</span> thumbFoto = Ti.UI.createImageView({
                image: imagens[index].thumbPath,
                path: imagens[index].path,
                caption: imagens[index].caption,
                height: <span class="hljs-number">110</span>,
                width: <span class="hljs-number">100</span>,
                top: <span class="hljs-number">120</span> * y,
                left: <span class="hljs-number">108</span> * x,
                id: index
            })
            thumbFoto.addEventListener( <span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)</span>{
                alert( e.source.id )
            })

            view.add( thumbFoto )
        }
    }

}
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="April 6th 2013, 1:51:40 pm">April 6th 2013</span>
											by <span class='authorname'>Douglas Hennrich</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>nevermind… now is working… but it only show <code>0</code> and <code>1</code> … if I move up the scroll… it show <code>0</code> and if I move down it show <code>1</code> … isn&#39;t the bottom of my scrollView or top of my scrollView</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 6th 2013, 1:57:19 pm">April 6th 2013</span>
											by <span class='authorname'>Douglas Hennrich</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>OK - you have changed the question.</p>
<p>When you say &quot;when I add a view to my scrollView… it stop scrolling… I can&#39;t scroll anymore&quot; - when are you adding views?  I can see you have views added at the start - but are you adding more views afterwards?</p>
<p>Is the actual problem your image views are not causing the scrollView to scroll - so you cannot see the ones below the devices screen at the moment?</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 6th 2013, 1:57:51 pm">April 6th 2013</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I do like you in your link…</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> scrollView = Ti.UI.createScrollView({
    scrollIndicatorStyle: Titanium.UI.iPhone.ScrollIndicatorStyle.WHITE,    
    contentHeight: Ti.UI.SIZE,
    contentWidth: Ti.UI.SIZE,
    height: Ti.UI.FILL,
    showHorizontalScrollIndicator: <span class="hljs-literal">false</span>,
    showVerticalScrollIndicator: <span class="hljs-literal">true</span>,
    width: Ti.UI.FILL
})
win.add( scrollView )

<span class="hljs-keyword">var</span> view = Ti.UI.createView({
    height: Ti.UI.FILL,
    width: Ti.UI.SIZE,
    top: <span class="hljs-number">0</span>
})
scrollView.add( view )


montaThumbNail = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{

    <span class="hljs-keyword">var</span> xGrid = <span class="hljs-number">3</span>
    <span class="hljs-keyword">var</span> yGrid = <span class="hljs-built_in">parseInt</span>(imagens.length / <span class="hljs-number">3</span>)


    <span class="hljs-keyword">for</span> ( y = <span class="hljs-number">0</span>; y &lt; yGrid; y++ ){

        <span class="hljs-keyword">for</span> ( <span class="hljs-keyword">var</span> x = <span class="hljs-number">0</span>; x &lt; xGrid; x++){

            <span class="hljs-keyword">var</span> index = x + xGrid * y

            <span class="hljs-keyword">var</span> thumbFoto = Ti.UI.createImageView({
                image: imagens[index].thumbPath,
                path: imagens[index].path,
                caption: imagens[index].caption,
                height: <span class="hljs-number">110</span>,
                width: <span class="hljs-number">100</span>,
                top: <span class="hljs-number">120</span> * y,
                left: <span class="hljs-number">108</span> * x,
                id: index
            })
            thumbFoto.addEventListener( <span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)</span>{
                alert( e.source.id )
            })

            view.add( thumbFoto )
        }
    }

}

scrollView.addEventListener(<span class="hljs-string">'scroll'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) </span>{
    <span class="hljs-keyword">var</span> tolerance = <span class="hljs-number">50</span>;
     Ti.API.info(<span class="hljs-string">'near bottom'</span>, (view.getRect().height - e.y) &lt;= (scrollView.getRect().height + tolerance));
})
</code></pre><p>the view are scrolling but I only get <code>0</code> and <code>1</code> in <code>Ti.API.info</code></p>
</p>
										<div class="author">
											&mdash; commented <span title="April 6th 2013, 2:12:37 pm">April 6th 2013</span>
											by <span class='authorname'>Douglas Hennrich</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Did you see in the code I pointed you to - that there are two big differences and both are likely causing your issue.</p>
<ul>
<li>You have not included the additional properties <strong>contentHeight</strong> and <strong>contentWidth</strong> which tells the <strong>scrollView</strong> how to display the internal space.</li>
<li>There is NO need to define columns (3 in your case) correct offsets will let you simply add one after the other and they will automatically flow as you want them.</li>
</ul>
<p>Change your code to the method I provided and you should get exactly what you need.</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 6th 2013, 2:46:39 pm">April 6th 2013</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I have changed to your code and work the imageViews in screen… but I still getting <code>0</code> and <code>1</code> in Ti.API.Info</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> scrollView = Ti.UI.createScrollView({
    scrollIndicatorStyle: Titanium.UI.iPhone.ScrollIndicatorStyle.WHITE,    
    contentHeight: Ti.UI.SIZE,
    contentWidth: Ti.UI.SIZE,
    height: Ti.UI.FILL,
    showHorizontalScrollIndicator: <span class="hljs-literal">false</span>,
    showVerticalScrollIndicator: <span class="hljs-literal">true</span>,
    width: Ti.UI.FILL
})
win.add( scrollView )

<span class="hljs-keyword">var</span> view = Ti.UI.createView({
    bottom: <span class="hljs-number">8</span>,
    height: Ti.UI.SIZE,
    layout: <span class="hljs-string">'horizontal'</span>,
    left: <span class="hljs-number">0</span>,
    right: <span class="hljs-number">8</span>,
    top: <span class="hljs-number">0</span>,
    width: Ti.UI.FILL
})
scrollView.add( view )


montaThumbNail = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span></span>{
    <span class="hljs-keyword">var</span> intImage = <span class="hljs-number">0</span>, intImages = imagens.length

    <span class="hljs-keyword">for</span> (intImage = <span class="hljs-number">0</span>; intImage &lt; intImages; intImage = intImage + <span class="hljs-number">1</span>) {
        <span class="hljs-keyword">var</span> img = Ti.UI.createImageView({
            height: <span class="hljs-number">96</span>,
            image: imagens[intImage].thumbPath,
            left: <span class="hljs-number">8</span>,
            top: <span class="hljs-number">8</span>,
            width: <span class="hljs-number">96</span>,
            foto: imagens[intImage].path,
            descricao: imagens[intImage].caption
        });
        view.add(img);

        img.addEventListener( <span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span></span>{
            alert( e.source.descricao )
        })
    }

}

scrollView.addEventListener(<span class="hljs-string">'scroll'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(e)</span> </span>{
    <span class="hljs-keyword">var</span> tolerance = <span class="hljs-number">50</span>;
     Ti.API.info(<span class="hljs-string">'near bottom'</span>, (view.getRect().height - e.y) &lt;= (scrollView.getRect().height + tolerance));
})
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="April 6th 2013, 3:16:50 pm">April 6th 2013</span>
											by <span class='authorname'>Douglas Hennrich</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>hmmm now I get it how to use your code!</p>
<p>Thanks for help!</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 6th 2013, 9:45:25 pm">April 6th 2013</span>
											by <span class='authorname'>Douglas Hennrich</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
