<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Android SearchView with Listview? » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Android SearchView with Listview?</h1>
		</header>
		<section>
			<p>Hi,</p>
<p>Does anyone have an example of the Listview working with the android&#39;s actionbar search?</p>
<p>I am trying to get around the docs but they only show an example with the tableview :(.</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="September 28th 2014, 1:20:03 am">September 28th 2014</span>
				by <span class='authorname'>Shivam Mehta</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>searchbar</span></li>
					
						<li><span class='tagname'>titanium studio</span></li>
					
				</ul>
			

			<section>
				<h5>1 Comment</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>This is what I&#39;ve tried</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> search = Ti.UI.Android.createSearchView({
    hintText: <span class="hljs-string">"List Search"</span>
});


$.listView.searchView=search;

$.win.addEventListener(<span class="hljs-string">"open"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
    Ti.API.info(<span class="hljs-string">'open!'</span>);

    $.win.activity.onCreateOptionsMenu = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
    <span class="hljs-keyword">var</span> menu = e.menu;
    <span class="hljs-keyword">var</span> menuItem = menu.add({
        title: <span class="hljs-string">'List Search'</span>,
        actionView : search,
        icon: (Ti.Android.R.drawable.ic_menu_search ? Ti.Android.R.drawable.ic_menu_search : <span class="hljs-string">"my_search.png"</span>),
        showAsAction: Ti.Android.SHOW_AS_ACTION_ALWAYS
    });

    $.win.activity.invalidateOptionsMenu();
};
</code></pre></div>
							<div class="author">
								&mdash; commented <span title="September 28th 2014, 2:35:37 am">September 28th 2014</span>
								by <span class='authorname'>Shivam Mehta</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-282724">
				
						<section>
							<p>Hello, Shivam, You have added the search as the searchView to the ListView. Just delete the searchView property when creating the ListView. To search the ListView, you have to use listview.searchText. It takes a String. You could add a change-listener to the searchView to set this searchText.</p>
<pre><code class="hljs">var listView = Ti.UI.createListView({<span class="hljs-string">searchText:</span> <span class="hljs-string">""</span>, <span class="hljs-string">caseInsensitiveSearch:</span> <span class="hljs-literal">true</span>});
</code></pre><p>Thanks.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="September 28th 2014, 6:32:38 am">September 28th 2014</span>
								by <span class='authorname'>Amimul Hossain</span><br>
								<a class="icon-bg icon-link" href="question/178005/android-searchview-with-listview#answer-282724" rel="permalink">permalink</a>
							</div>

							<h5>3 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Hi Thanks,</p>
<p>but that doesn&#39;t work. My listview has the caseInsensitiveSearch property defined in the Alloy markup</p>
</p>
										<div class="author">
											&mdash; commented <span title="September 28th 2014, 8:26:52 am">September 28th 2014</span>
											by <span class='authorname'>Shivam Mehta</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Doesn&#39;t matter.  Use searchText instead of searchView in List view. like </p>
<pre><code class="hljs">&lt;ListView <span class="hljs-property">id</span>=<span class="hljs-string">"listView"</span> searchText=<span class="hljs-string">""</span>  caseInsensitiveSearch= <span class="hljs-constant">true</span> &gt;
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="October 1st 2014, 3:11:27 am">October 1st 2014</span>
											by <span class='authorname'>Amimul Hossain</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>yep, thanks :) I worked it out yesterday and was going to post it here. I have given my listview a searchText property and I have put an event on the searchview (Change event) which updates the listview.searchText value with the search string.</p>
<p>thanks again.</p>
</p>
										<div class="author">
											&mdash; commented <span title="October 1st 2014, 4:13:28 am">October 1st 2014</span>
											by <span class='authorname'>Shivam Mehta</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-282798">
				
						<section>
							<p>For anyone who wants to know:</p>
<p>I used the hint from Amimul and here&#39;s what I&#39;ve done:</p>
<pre><code class="hljs">
$.win.addEventListener(<span class="hljs-string">"open"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{


    <span class="hljs-keyword">var</span> search = Ti.UI.Android.createSearchView({
    hintText: <span class="hljs-string">"Champion Search"</span>
    });

    search.addEventListener(<span class="hljs-string">'change'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
        $.listView.searchText =search.value;        
    });

    search.addEventListener(<span class="hljs-string">'blur'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
        $.listView.searchText =<span class="hljs-string">''</span>;
        search.value=<span class="hljs-string">''</span>;        
    });


    $.win.activity.onCreateOptionsMenu = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
        e.menu.add({
            title: <span class="hljs-string">"Champion Search"</span>,
            icon: (Ti.Android.R.drawable.ic_menu_search ? Ti.Android.R.drawable.ic_menu_search : <span class="hljs-string">"my_search.png"</span>),
            actionView: search,
            showAsAction : Ti.Android.SHOW_AS_ACTION_ALWAYS | Ti.Android.SHOW_AS_ACTION_COLLAPSE_ACTION_VIEW
        });
    };  
    $.win.activity.invalidateOptionsMenu();

});
</code></pre><p>I am also listening for the &#39;change&#39; and &#39;blur&#39; events on the searchview to update my searchText string.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="October 1st 2014, 4:16:15 am">October 1st 2014</span>
								by <span class='authorname'>Shivam Mehta</span><br>
								<a class="icon-bg icon-link" href="question/178005/android-searchview-with-listview#answer-282798" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
