<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>android menu not working after reopening the window Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>android menu not working after reopening the window</h1>
		</header>
		<section>
			<p>i am new to appcelerator i am using android 2.2 sdk version and titanium sdk version 1.7.i have created a window and a menu file for that window  everything works fine for first time .window close successfully after clicking the Logout or Quit Menu after reopening the same window menus do not work </p>
<pre><code class="hljs"><span class="hljs-comment">//This is common.js file </span>
<span class="hljs-keyword">var</span> win2 = Titanium.UI.createWindow({  

    backgroundColor:<span class="hljs-string">'white'</span>,
    url:<span class="hljs-string">'win2_Logout.js'</span>
  ,modal:<span class="hljs-literal">true</span>,fullscreen:<span class="hljs-literal">true</span>,

  orientationModes :[
    Titanium.UI.PORTRAIT,
    Titanium.UI.LANDSCAPE_LEFT,
    Titanium.UI.LANDSCAPE_RIGHT
] 


});

<span class="hljs-comment">//here is the win2_Logout.js file</span>


 <span class="hljs-keyword">var</span> win2_activity1 = Ti.Android.currentActivity;

 <span class="hljs-keyword">var</span> win2_quit1,win2_jumpCode1,win2_logout;
 <span class="hljs-keyword">var</span> win2_menu ;



win2_activity1.onCreateOptionsMenu = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span> </span>{
     win2_menu = e.menu;


       win2_jumpCode1 = win2_menu.add({ title:<span class="hljs-string">"Jumpcode"</span>, itemId:<span class="hljs-number">1</span> });
       win2_jumpCode1.setIcon(<span class="hljs-string">"btn_jumpcode.png"</span>);

       win2_logout = win2_menu.add({ title:<span class="hljs-string">"Logout"</span>, itemId:<span class="hljs-number">2</span> });
       win2_logout.setIcon(<span class="hljs-string">"btn_logout.png"</span>);



       win2_quit1 = win2_menu.add({ title:<span class="hljs-string">"Quit"</span>, itemId:<span class="hljs-number">3</span> });
       win2_quit1.setIcon(<span class="hljs-string">"btn_quit.png"</span>);

win2_quit1.addEventListener(<span class="hljs-string">"click"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span> </span>{

  win2.close();

    });
 win2_jumpCode1.addEventListener(<span class="hljs-string">"click"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span> </span>{

      winJumpCode.open();

    });



win2_logout.addEventListener(<span class="hljs-string">"click"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span> </span>{

 win2.close();


    });

};

win2_activity1.onPrepareOptionsMenu = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span> </span>{
    <span class="hljs-keyword">var</span> win2_menu = e.menu;

    win2_menu.findItem(<span class="hljs-number">2</span>).setVisible(<span class="hljs-literal">true</span>);
    win2_menu.findItem(<span class="hljs-number">1</span>).setVisible(<span class="hljs-literal">true</span>);
    win2_menu.findItem(<span class="hljs-number">3</span>).setVisible(<span class="hljs-literal">true</span>);

};
</code></pre><p>on clicking the win2_quit1 or win2_logout menus it works and close the current window but after reopen the win2 menus do not work is there any changes required kindly help me to solve this problem thanks in advance</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="December 18th 2011, 2:56:41 pm">December 18th 2011</span>
				by <span class='authorname'>Faisal Arshad</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>appcelerator</span></li>
					
						<li><span class='tagname'>logout</span></li>
					
						<li><span class='tagname'>menu</span></li>
					
						<li><span class='tagname'>quit</span></li>
					
				</ul>
			

			<section>
				<h5>1 Comment</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>after reopening the window menus are visible but there event listeners are not called on clicking them i saw the below exception in ddms log</p>
<pre><code class="hljs"><span class="hljs-number">12</span>-<span class="hljs-number">19</span> <span class="hljs-number">01</span>:<span class="hljs-number">59</span>:<span class="hljs-number">27.620</span>: E/<span class="hljs-function"><span class="hljs-title">KrollEventManager</span><span class="hljs-params">(<span class="hljs-number">525</span>)</span></span>: (main) [<span class="hljs-number">4233</span>,<span class="hljs-number">49496</span>] Error invoking listener with id <span class="hljs-number">1</span> on eventName <span class="hljs-string">'click'</span>
<span class="hljs-number">12</span>-<span class="hljs-number">19</span> <span class="hljs-number">01</span>:<span class="hljs-number">59</span>:<span class="hljs-number">27.620</span>: E/<span class="hljs-function"><span class="hljs-title">KrollEventManager</span><span class="hljs-params">(<span class="hljs-number">525</span>)</span></span>: java<span class="hljs-class">.lang</span><span class="hljs-class">.NullPointerException</span>
<span class="hljs-number">12</span>-<span class="hljs-number">19</span> <span class="hljs-number">01</span>:<span class="hljs-number">59</span>:<span class="hljs-number">27.620</span>: E/<span class="hljs-function"><span class="hljs-title">KrollEventManager</span><span class="hljs-params">(<span class="hljs-number">525</span>)</span></span>:     at org<span class="hljs-class">.appcelerator</span><span class="hljs-class">.kroll</span><span class="hljs-class">.KrollProxy</span><span class="hljs-class">.createEventInvocation</span>(KrollProxy<span class="hljs-class">.java</span>:<span class="hljs-number">650</span>)
<span class="hljs-number">12</span>-<span class="hljs-number">19</span> <span class="hljs-number">01</span>:<span class="hljs-number">59</span>:<span class="hljs-number">27.620</span>: E/<span class="hljs-function"><span class="hljs-title">KrollEventManager</span><span class="hljs-params">(<span class="hljs-number">525</span>)</span></span>:     at org<span class="hljs-class">.appcelerator</span><span class="hljs-class">.kroll</span><span class="hljs-class">.KrollProxy</span><span class="hljs-class">.fireSingleEvent</span>(KrollProxy<span class="hljs-class">.java</span>:<span class="hljs-number">662</span>)
<span class="hljs-number">12</span>-<span class="hljs-number">19</span> <span class="hljs-number">01</span>:<span class="hljs-number">59</span>:<span class="hljs-number">27.620</span>: E/<span class="hljs-function"><span class="hljs-title">KrollEventManager</span><span class="hljs-params">(<span class="hljs-number">525</span>)</span></span>:     at org<span class="hljs-class">.appcelerator</span><span class="hljs-class">.kroll</span><span class="hljs-class">.KrollEventManager</span><span class="hljs-variable">$KrollListener</span>.<span class="hljs-function"><span class="hljs-title">invoke</span><span class="hljs-params">(KrollEventManager.java:<span class="hljs-number">143</span>)</span></span>
<span class="hljs-number">12</span>-<span class="hljs-number">19</span> <span class="hljs-number">01</span>:<span class="hljs-number">59</span>:<span class="hljs-number">27.620</span>: E/<span class="hljs-function"><span class="hljs-title">KrollEventManager</span><span class="hljs-params">(<span class="hljs-number">525</span>)</span></span>:     at org<span class="hljs-class">.appcelerator</span><span class="hljs-class">.kroll</span><span class="hljs-class">.KrollEventManager</span><span class="hljs-class">.dispatchEvent</span>(KrollEventManager<span class="hljs-class">.java</span>:<span class="hljs-number">273</span>)
<span class="hljs-number">12</span>-<span class="hljs-number">19</span> <span class="hljs-number">01</span>:<span class="hljs-number">59</span>:<span class="hljs-number">27.620</span>: E/<span class="hljs-function"><span class="hljs-title">KrollEventManager</span><span class="hljs-params">(<span class="hljs-number">525</span>)</span></span>:     at org<span class="hljs-class">.appcelerator</span><span class="hljs-class">.kroll</span><span class="hljs-class">.KrollEventManager</span><span class="hljs-class">.dispatchEvent</span>(KrollEventManager<span class="hljs-class">.java</span>:<span class="hljs-number">240</span>)
<span class="hljs-number">12</span>-<span class="hljs-number">19</span> <span class="hljs-number">01</span>:<span class="hljs-number">59</span>:<span class="hljs-number">27.620</span>: E/<span class="hljs-function"><span class="hljs-title">KrollEventManager</span><span class="hljs-params">(<span class="hljs-number">525</span>)</span></span>:     at org<span class="hljs-class">.appcelerator</span><span class="hljs-class">.kroll</span><span class="hljs-class">.KrollProxy</span><span class="hljs-class">.fireEvent</span>(KrollProxy<span class="hljs-class">.java</span>:<span class="hljs-number">635</span>)
<span class="hljs-number">12</span>-<span class="hljs-number">19</span> <span class="hljs-number">01</span>:<span class="hljs-number">59</span>:<span class="hljs-number">27.620</span>: E/<span class="hljs-function"><span class="hljs-title">KrollEventManager</span><span class="hljs-params">(<span class="hljs-number">525</span>)</span></span>:     at org<span class="hljs-class">.appcelerator</span><span class="hljs-class">.titanium</span><span class="hljs-class">.util</span><span class="hljs-class">.TiMenuSupport</span><span class="hljs-class">.onOptionsItemSelected</span>(TiMenuSupport<span class="hljs-class">.java</span>:<span class="hljs-number">61</span>)
<span class="hljs-number">12</span>-<span class="hljs-number">19</span> <span class="hljs-number">01</span>:<span class="hljs-number">59</span>:<span class="hljs-number">27.620</span>: E/<span class="hljs-function"><span class="hljs-title">KrollEventManager</span><span class="hljs-params">(<span class="hljs-number">525</span>)</span></span>:     at org<span class="hljs-class">.appcelerator</span><span class="hljs-class">.titanium</span><span class="hljs-class">.TiBaseActivity</span><span class="hljs-class">.onOptionsItemSelected</span>(TiBaseActivity<span class="hljs-class">.java</span>:<span class="hljs-number">475</span>)
<span class="hljs-number">12</span>-<span class="hljs-number">19</span> <span class="hljs-number">01</span>:<span class="hljs-number">59</span>:<span class="hljs-number">27.620</span>: E/<span class="hljs-function"><span class="hljs-title">KrollEventManager</span><span class="hljs-params">(<span class="hljs-number">525</span>)</span></span>:     at android<span class="hljs-class">.app</span><span class="hljs-class">.Activity</span><span class="hljs-class">.onMenuItemSelected</span>(Activity<span class="hljs-class">.java</span>:<span class="hljs-number">2195</span>)
<span class="hljs-number">12</span>-<span class="hljs-number">19</span> <span class="hljs-number">01</span>:<span class="hljs-number">59</span>:<span class="hljs-number">27.620</span>: E/<span class="hljs-function"><span class="hljs-title">KrollEventManager</span><span class="hljs-params">(<span class="hljs-number">525</span>)</span></span>:     at com<span class="hljs-class">.android</span><span class="hljs-class">.internal</span><span class="hljs-class">.policy</span><span class="hljs-class">.impl</span><span class="hljs-class">.PhoneWindow</span><span class="hljs-class">.onMenuItemSelected</span>(PhoneWindow<span class="hljs-class">.java</span>:<span class="hljs-number">730</span>)
<span class="hljs-number">12</span>-<span class="hljs-number">19</span> <span class="hljs-number">01</span>:<span class="hljs-number">59</span>:<span class="hljs-number">27.620</span>: E/<span class="hljs-function"><span class="hljs-title">KrollEventManager</span><span class="hljs-params">(<span class="hljs-number">525</span>)</span></span>:     at com<span class="hljs-class">.android</span><span class="hljs-class">.internal</span><span class="hljs-class">.view</span><span class="hljs-class">.menu</span><span class="hljs-class">.MenuItemImpl</span><span class="hljs-class">.invoke</span>(MenuItemImpl<span class="hljs-class">.java</span>:<span class="hljs-number">143</span>)
<span class="hljs-number">12</span>-<span class="hljs-number">19</span> <span class="hljs-number">01</span>:<span class="hljs-number">59</span>:<span class="hljs-number">27.620</span>: E/<span class="hljs-function"><span class="hljs-title">KrollEventManager</span><span class="hljs-params">(<span class="hljs-number">525</span>)</span></span>:     at com<span class="hljs-class">.android</span><span class="hljs-class">.internal</span><span class="hljs-class">.view</span><span class="hljs-class">.menu</span><span class="hljs-class">.MenuBuilder</span><span class="hljs-class">.performItemAction</span>(MenuBuilder<span class="hljs-class">.java</span>:<span class="hljs-number">855</span>)
<span class="hljs-number">12</span>-<span class="hljs-number">19</span> <span class="hljs-number">01</span>:<span class="hljs-number">59</span>:<span class="hljs-number">27.620</span>: E/<span class="hljs-function"><span class="hljs-title">KrollEventManager</span><span class="hljs-params">(<span class="hljs-number">525</span>)</span></span>:     at com<span class="hljs-class">.android</span><span class="hljs-class">.internal</span><span class="hljs-class">.view</span><span class="hljs-class">.menu</span><span class="hljs-class">.IconMenuView</span><span class="hljs-class">.invokeItem</span>(IconMenuView<span class="hljs-class">.java</span>:<span class="hljs-number">532</span>)
<span class="hljs-number">12</span>-<span class="hljs-number">19</span> <span class="hljs-number">01</span>:<span class="hljs-number">59</span>:<span class="hljs-number">27.620</span>: E/<span class="hljs-function"><span class="hljs-title">KrollEventManager</span><span class="hljs-params">(<span class="hljs-number">525</span>)</span></span>:     at com<span class="hljs-class">.android</span><span class="hljs-class">.internal</span><span class="hljs-class">.view</span><span class="hljs-class">.menu</span><span class="hljs-class">.IconMenuItemView</span><span class="hljs-class">.performClick</span>(IconMenuItemView<span class="hljs-class">.java</span>:<span class="hljs-number">122</span>)
<span class="hljs-number">12</span>-<span class="hljs-number">19</span> <span class="hljs-number">01</span>:<span class="hljs-number">59</span>:<span class="hljs-number">27.620</span>: E/<span class="hljs-function"><span class="hljs-title">KrollEventManager</span><span class="hljs-params">(<span class="hljs-number">525</span>)</span></span>:     at android<span class="hljs-class">.view</span><span class="hljs-class">.View</span><span class="hljs-variable">$PerformClick</span>.<span class="hljs-function"><span class="hljs-title">run</span><span class="hljs-params">(View.java:<span class="hljs-number">8816</span>)</span></span>
<span class="hljs-number">12</span>-<span class="hljs-number">19</span> <span class="hljs-number">01</span>:<span class="hljs-number">59</span>:<span class="hljs-number">27.620</span>: E/<span class="hljs-function"><span class="hljs-title">KrollEventManager</span><span class="hljs-params">(<span class="hljs-number">525</span>)</span></span>:     at android<span class="hljs-class">.os</span><span class="hljs-class">.Handler</span><span class="hljs-class">.handleCallback</span>(Handler<span class="hljs-class">.java</span>:<span class="hljs-number">587</span>)
<span class="hljs-number">12</span>-<span class="hljs-number">19</span> <span class="hljs-number">01</span>:<span class="hljs-number">59</span>:<span class="hljs-number">27.620</span>: E/<span class="hljs-function"><span class="hljs-title">KrollEventManager</span><span class="hljs-params">(<span class="hljs-number">525</span>)</span></span>:     at android<span class="hljs-class">.os</span><span class="hljs-class">.Handler</span><span class="hljs-class">.dispatchMessage</span>(Handler<span class="hljs-class">.java</span>:<span class="hljs-number">92</span>)
<span class="hljs-number">12</span>-<span class="hljs-number">19</span> <span class="hljs-number">01</span>:<span class="hljs-number">59</span>:<span class="hljs-number">27.620</span>: E/<span class="hljs-function"><span class="hljs-title">KrollEventManager</span><span class="hljs-params">(<span class="hljs-number">525</span>)</span></span>:     at android<span class="hljs-class">.os</span><span class="hljs-class">.Looper</span><span class="hljs-class">.loop</span>(Looper<span class="hljs-class">.java</span>:<span class="hljs-number">123</span>)
<span class="hljs-number">12</span>-<span class="hljs-number">19</span> <span class="hljs-number">01</span>:<span class="hljs-number">59</span>:<span class="hljs-number">27.620</span>: E/<span class="hljs-function"><span class="hljs-title">KrollEventManager</span><span class="hljs-params">(<span class="hljs-number">525</span>)</span></span>:     at android<span class="hljs-class">.app</span><span class="hljs-class">.ActivityThread</span><span class="hljs-class">.main</span>(ActivityThread<span class="hljs-class">.java</span>:<span class="hljs-number">4627</span>)
<span class="hljs-number">12</span>-<span class="hljs-number">19</span> <span class="hljs-number">01</span>:<span class="hljs-number">59</span>:<span class="hljs-number">27.620</span>: E/<span class="hljs-function"><span class="hljs-title">KrollEventManager</span><span class="hljs-params">(<span class="hljs-number">525</span>)</span></span>:     at java<span class="hljs-class">.lang</span><span class="hljs-class">.reflect</span><span class="hljs-class">.Method</span><span class="hljs-class">.invokeNative</span>(Native Method)
<span class="hljs-number">12</span>-<span class="hljs-number">19</span> <span class="hljs-number">01</span>:<span class="hljs-number">59</span>:<span class="hljs-number">27.620</span>: E/<span class="hljs-function"><span class="hljs-title">KrollEventManager</span><span class="hljs-params">(<span class="hljs-number">525</span>)</span></span>:     at java<span class="hljs-class">.lang</span><span class="hljs-class">.reflect</span><span class="hljs-class">.Method</span><span class="hljs-class">.invoke</span>(Method<span class="hljs-class">.java</span>:<span class="hljs-number">521</span>)
<span class="hljs-number">12</span>-<span class="hljs-number">19</span> <span class="hljs-number">01</span>:<span class="hljs-number">59</span>:<span class="hljs-number">27.620</span>: E/<span class="hljs-function"><span class="hljs-title">KrollEventManager</span><span class="hljs-params">(<span class="hljs-number">525</span>)</span></span>:     at com<span class="hljs-class">.android</span><span class="hljs-class">.internal</span><span class="hljs-class">.os</span><span class="hljs-class">.ZygoteInit</span><span class="hljs-variable">$MethodAndArgsCaller</span>.<span class="hljs-function"><span class="hljs-title">run</span><span class="hljs-params">(ZygoteInit.java:<span class="hljs-number">868</span>)</span></span>
<span class="hljs-number">12</span>-<span class="hljs-number">19</span> <span class="hljs-number">01</span>:<span class="hljs-number">59</span>:<span class="hljs-number">27.620</span>: E/<span class="hljs-function"><span class="hljs-title">KrollEventManager</span><span class="hljs-params">(<span class="hljs-number">525</span>)</span></span>:     at com<span class="hljs-class">.android</span><span class="hljs-class">.internal</span><span class="hljs-class">.os</span><span class="hljs-class">.ZygoteInit</span><span class="hljs-class">.main</span>(ZygoteInit<span class="hljs-class">.java</span>:<span class="hljs-number">626</span>)
<span class="hljs-number">12</span>-<span class="hljs-number">19</span> <span class="hljs-number">01</span>:<span class="hljs-number">59</span>:<span class="hljs-number">27.620</span>: E/<span class="hljs-function"><span class="hljs-title">KrollEventManager</span><span class="hljs-params">(<span class="hljs-number">525</span>)</span></span>:     at dalvik<span class="hljs-class">.system</span><span class="hljs-class">.NativeStart</span><span class="hljs-class">.main</span>(Native Method)
</code></pre></div>
							<div class="author">
								&mdash; commented <span title="December 18th 2011, 7:01:40 pm">December 18th 2011</span>
								by <span class='authorname'>Faisal Arshad</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>0</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>0 Answers</h3>

	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
