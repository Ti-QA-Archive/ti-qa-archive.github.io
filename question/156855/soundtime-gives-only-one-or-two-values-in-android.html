<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Sound.time gives only one or two values in android » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Sound.time gives only one or two values in android</h1>
		</header>
		<section>
			<p>Mobile<br>Titanium 3.1.2<br>Android SDK 2.3.3 Device Samsung Galaxy Player<br>Mac OS X</p>
<p>I have a instance of titanium sound that plays back find in ios, but in titanium only one or two different times appear with sound.time…  which make the slider move erratically or not at all….  Here is my code:</p>
<pre><code class="hljs">var <span class="hljs-keyword">sound</span>;
playPause.addEventListener(<span class="hljs-string">'click'</span>, function(e) {
     <span class="hljs-keyword">if</span>(<span class="hljs-keyword">sound</span> &amp;&amp; <span class="hljs-keyword">sound</span>.playing) {
     <span class="hljs-keyword">sound</span>.<span class="hljs-keyword">pause</span>();
     playPause.backgroundImage = <span class="hljs-string">"/images/buttons/button_playPause_up.png"</span>;
     }
     <span class="hljs-comment">//else if(sound.paused){</span>
         <span class="hljs-comment">//sound.resume();</span>
     <span class="hljs-comment">//}</span>
    <span class="hljs-keyword">else</span>{
         <span class="hljs-keyword">sound</span> = Titanium.Media.createSound({url:<span class="hljs-string">"http://108.166.87.132/newapi/"</span> + row.audio});
         <span class="hljs-keyword">sound</span>.<span class="hljs-keyword">play</span>();
         playPause.backgroundImage = <span class="hljs-string">"/images/buttons/button_playPause_down.png"</span>;

     <span class="hljs-keyword">if</span>(OS_IOS){            
        slider.<span class="hljs-keyword">max</span> = <span class="hljs-keyword">sound</span>.duration<span class="hljs-variable">*1000</span>;
    }
    <span class="hljs-keyword">if</span>(OS_ANDROID){
        <span class="hljs-comment">//slider.setMax(sound.getDuration());</span>
        slider.<span class="hljs-keyword">max</span> = <span class="hljs-keyword">sound</span>.duration;
        Ti.API.info(<span class="hljs-string">'slider max: '</span> + slider.<span class="hljs-keyword">max</span>);
        Ti.API.info(<span class="hljs-string">'sound duration: '</span> + <span class="hljs-keyword">sound</span>.getDuration());
    }
     <span class="hljs-keyword">sound</span>.addEventListener(<span class="hljs-string">'complete'</span>, function(){
         playPause.backgroundImage = <span class="hljs-string">"/images/buttons/button_playPause_up.png"</span>;
         slider.value = <span class="hljs-number">0</span>;
     });

     var i = setInterval(function(){
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">sound</span>.isPlaying()){
                    Ti.API.info(<span class="hljs-string">'time '</span> + <span class="hljs-keyword">sound</span>.time);
                    slider.value = <span class="hljs-keyword">sound</span>.time;
                    Ti.API.info(<span class="hljs-string">'slider.value: '</span> + slider.value);
            }
            },<span class="hljs-number">500</span>);
         }
    });
</code></pre><p>In ios, each interval shows a new sound.time value.  In android, the first several intervals are 0, and then the next several are the same value, and then it usually stops before the max.  The slider.max and sound.duration values do match.  What am I missing??</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="September 5th 2013, 8:12:18 pm">September 5th 2013</span>
				by <span class='authorname'>Jenna Harris</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>mobile</span></li>
					
						<li><span class='tagname'>slider</span></li>
					
						<li><span class='tagname'>sound</span></li>
					
						<li><span class='tagname'>time</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>0</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>0 Answers</h3>

	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
