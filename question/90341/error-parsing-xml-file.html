<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Error Parsing xml file  » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Error Parsing xml file </h1>
		</header>
		<section>
			<p>Hello,</p>
<p>SDK 1.5.0 and iphone Simulator<br>I have a strange error trying to parse an xml file.</p>
<p>the xml file is located here <a href="http:&#x2F;&#x2F;pastie.org&#x2F;1380783">pastie</a>.</p>
<p>I have used this code :</p>
<pre><code class="hljs">xhr = Titanium.Network.createHTTPClient();

    xhr.onload = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>
    </span>{

        Ti.API.info(<span class="hljs-string">'&gt;&gt;&gt; got the feed! ... '</span>);


        <span class="hljs-comment">// Now parse the feed XML </span>
        <span class="hljs-keyword">var</span> xml =  <span class="hljs-keyword">this</span>.responseXML;

    };

    xhr.open(<span class="hljs-string">'GET'</span>,url);
    <span class="hljs-comment">// send the data</span>
    xhr.send();
</code></pre><p>And I get : Entity: line 1: parser error : Start tag expected, &#39;&lt;&#39; not found</p>
<p>it seems that result is null.</p>
<p>Any idea ? XML structure seems to be ok.</p>
<p>Regards</p>
<p>Armindo</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="December 15th 2010, 7:17:58 pm">December 15th 2010</span>
				by <span class='authorname'>Armindo Da Silva</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>error</span></li>
					
						<li><span class='tagname'>parser</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>15</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>15 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-162531">
				
						<section>
							<p>What is the type of the response? </p>
<p>If your response has an XML Content-Type header, Titanium will automatically serialize the response text into XML for your use. See, <a href="http:&#x2F;&#x2F;developer.appcelerator.com&#x2F;guides&#x2F;en&#x2F;remote_data.html">Working with Remote Data</a>, &quot;Retrieving and parsing XML&quot;.</p>
<p>Not that I&#39;ve done it myself, but you may need to use</p>
<pre><code class="hljs">this<span class="hljs-class">.responseXML</span><span class="hljs-class">.documentElement</span>
</code></pre><p>rather than</p>
<pre><code class="hljs"><span class="hljs-keyword">this</span>.responseXML
</code></pre><p>Alternatively, if the response is not set correctly in the header, you may need to explicitly set it using setHeader().</p>
<p>Cheers</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="December 15th 2010, 10:07:54 pm">December 15th 2010</span>
								by <span class='authorname'>Paul Dowsett</span><br>
								<a class="icon-bg icon-link" href="question/90341/error-parsing-xml-file#answer-162531" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-162791">
				
						<section>
							<p>Same problem :</p>
<p>I used :</p>
<pre><code class="hljs">// Now parse the feed <span class="hljs-keyword">XML</span> 
<span class="hljs-title">var</span> <span class="hljs-keyword">xml</span> <span class="hljs-title">=  this</span>.responseXML.documentElement; 
Ti.API.<span class="hljs-number">inf</span>o('<span class="hljs-keyword">XML</span> <span class="hljs-title">parsed</span>');
</code></pre><p>and the error is reached before the Ti.API.info(&#39;XML parsed&#39;);</p>
<p>isn&#39;t this related to 1.5.0 ? I see some users having parser error since 1.5.0….</p>
<p>How to use SetHeader in this case ?</p>
<p>ReponseText return an empty text</p>
<p>Regards</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="December 16th 2010, 7:00:49 am">December 16th 2010</span>
								by <span class='authorname'>Armindo Da Silva</span><br>
								<a class="icon-bg icon-link" href="question/90341/error-parsing-xml-file#answer-162791" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-162801">
				
						<section>
							
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="December 16th 2010, 7:04:10 am">December 16th 2010</span>
								by <span class='authorname'>Armindo Da Silva</span><br>
								<a class="icon-bg icon-link" href="question/90341/error-parsing-xml-file#answer-162801" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-162811">
				
						<section>
							<p>Hummm,</p>
<p>strange behaviour :<br>If I change the xml link in the xhr_xml.js from kitchensink like this :</p>
<pre><code class="hljs">var xhr = Titanium.Network.createHTTPClient();

xhr.onload = function()
{
    Ti.API.info(<span class="hljs-string">'twitter xml '</span> + <span class="hljs-keyword">this</span>.responseXML + <span class="hljs-string">' text '</span> + <span class="hljs-keyword">this</span>.responseText);
    var doc = <span class="hljs-keyword">this</span>.responseXML.documentElement;
    var elements = doc.getElementsByTagName(<span class="hljs-string">"screen_name"</span>);
    var screenName = elements.item(<span class="hljs-number">0</span>);
    Ti.API.info(<span class="hljs-string">"screenname = "</span> + screenName.text);

    var screenname = Ti.UI.createLabel({
<span class="hljs-label">        textAlign:</span><span class="hljs-string">'center'</span>,
<span class="hljs-label">        height:</span><span class="hljs-string">'auto'</span>,
<span class="hljs-label">        width:</span><span class="hljs-string">'auto'</span>,
<span class="hljs-label">        top:</span><span class="hljs-number">20</span>,
<span class="hljs-label">        text:</span>screenName.text
    });
    Ti.UI.currentWindow.add(screenname);

    var textarea = Ti.UI.createTextArea({<span class="hljs-string">borderRadius:</span><span class="hljs-number">5</span>,<span class="hljs-string">borderWidth:</span><span class="hljs-number">2</span>,<span class="hljs-string">borderColor:</span><span class="hljs-string">'#999'</span>,<span class="hljs-string">backgroundColor:</span><span class="hljs-string">'#111'</span>,<span class="hljs-string">color:</span><span class="hljs-string">'yellow'</span>,<span class="hljs-string">bottom:</span><span class="hljs-number">10</span>,<span class="hljs-string">left:</span><span class="hljs-number">10</span>,<span class="hljs-string">right:</span><span class="hljs-number">10</span>,<span class="hljs-string">height:</span><span class="hljs-number">300</span>,<span class="hljs-string">font:</span>{<span class="hljs-string">fontFamily:</span><span class="hljs-string">'courier'</span>,<span class="hljs-string">fontSize:</span><span class="hljs-number">10</span>}});
    textarea.value = <span class="hljs-keyword">this</span>.responseText;
    Ti.UI.currentWindow.add(textarea);
};
<span class="hljs-comment">// open the client</span>
xhr.open(<span class="hljs-string">'GET'</span>,<span class="hljs-string">'http://vimeo.com/api/v2/lockdownprojects/albums.xml'</span>);
<span class="hljs-comment">//xhr.open('GET','http://twitter.com/statuses/show/123.xml');</span>

<span class="hljs-comment">// send the data</span>
xhr.send();
</code></pre><p>so I have used this link : http:&#x2F;&#x2F;vimeo.com&#x2F;api&#x2F;v2&#x2F;lockdownprojects&#x2F;albums.xml</p>
<p>and same problem.</p>
<p>Any idea ?</p>
<p>Thanks</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="December 16th 2010, 7:09:49 am">December 16th 2010</span>
								by <span class='authorname'>Armindo Da Silva</span><br>
								<a class="icon-bg icon-link" href="question/90341/error-parsing-xml-file#answer-162811" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-162821">
				
						<section>
							<p>If I add :</p>
<pre><code class="hljs">xhr.onload = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>
</span>{
    <span class="hljs-comment">// check to see what we are getting</span>
            Titanium.API.info(<span class="hljs-string">'Loaded! Status: '</span> + <span class="hljs-keyword">this</span>.status);
            Titanium.API.info(<span class="hljs-string">'Response Header: '</span> + <span class="hljs-keyword">this</span>.getResponseHeader(<span class="hljs-string">'Content-Type'</span>));
            Titanium.API.info(<span class="hljs-string">'Response Text: '</span> + <span class="hljs-keyword">this</span>.responseText);
</code></pre><p>I receive :</p>
<p>[INFO] Loaded! Status: 200<br>[INFO] Response Header: text&#x2F;html; charset=UTF-8<br>[INFO] Response Text:<br>Entity: line 1: parser error : Start tag expected, &#39;&lt;&#39; not found<br>^</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="December 16th 2010, 7:11:21 am">December 16th 2010</span>
								by <span class='authorname'>Armindo Da Silva</span><br>
								<a class="icon-bg icon-link" href="question/90341/error-parsing-xml-file#answer-162821" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-162891">
				
						<section>
							<p>Armindo</p>
<p>The <code>getResponseHeader(&amp;#39;Content-Type&amp;#39;)</code> output <code>text&amp;#x2F;html</code> is odd because when I retrieve the URL <code>http:&amp;#x2F;&amp;#x2F;vimeo.com&amp;#x2F;api&amp;#x2F;v2&amp;#x2F;lockdownprojects&amp;#x2F;albums.xml</code> using <code>wget</code>, it reports the content type as <code>text&amp;#x2F;xml</code>.</p>
<p>Try setting the response header explicitly to <code>text&amp;#x2F;xml</code> just to be safe, using the guidance from <a href="http:&#x2F;&#x2F;developer.appcelerator.com&#x2F;guides&#x2F;en&#x2F;remote_data.html#http_headers">this</a> link.</p>
<p>Let me know</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="December 16th 2010, 8:48:35 am">December 16th 2010</span>
								by <span class='authorname'>Paul Dowsett</span><br>
								<a class="icon-bg icon-link" href="question/90341/error-parsing-xml-file#answer-162891" rel="permalink">permalink</a>
							</div>

							<h5>3 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Hal,<br>thanks for your reply<br>If I do :</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> xhr = <span class="hljs-type">Ti</span>.<span class="hljs-type">Network</span>.createHTTPClient();
xhr.open(<span class="hljs-symbol">'GE</span>T',<span class="hljs-symbol">'http</span>:<span class="hljs-comment">//vimeo.com/api/v2/lockdownprojects/albums.xml');</span>
xhr.setHeader(<span class="hljs-symbol">'Content</span>-<span class="hljs-type">Type</span>',<span class="hljs-symbol">'text</span>/xml'); 
<span class="hljs-comment">// send the data</span>
xhr.send();
</code></pre><p>I get an error :<br>ERROR] Script Error = invalid method &#39;setHeader:&#39; at xhr_xml.js (line 34).</p>
<p>it seems that method setHeader does not exists at least on 1.5.0</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 16th 2010, 9:05:16 am">December 16th 2010</span>
											by <span class='authorname'>Armindo Da Silva</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>using this instead : xhr.setRequestHeader(&#39;Content-Type&#39;,&#39;text&#x2F;xml&#39;);<br>doesn&#39;t produce the invalid method but the output is always output text&#x2F;html, and so same error as previously</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 16th 2010, 9:14:43 am">December 16th 2010</span>
											by <span class='authorname'>Armindo Da Silva</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I&#39;m using these method but the headers don&#39;t change and where the service I still receive &quot;application&#x2F;x-www-form-urlencoded&quot;, there is some problem with this method ?</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 25th 2011, 4:36:28 pm">August 25th 2011</span>
											by <span class='authorname'>Marcelo Silva</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-163221">
				
						<section>
							<p>Hal, Have you seen my replyes ? it seems that when anwers are commented, no email is sent to users (writers).</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="December 16th 2010, 12:09:04 pm">December 16th 2010</span>
								by <span class='authorname'>Armindo Da Silva</span><br>
								<a class="icon-bg icon-link" href="question/90341/error-parsing-xml-file#answer-163221" rel="permalink">permalink</a>
							</div>

							<h5>2 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>No, unfortunately, that is correct.</p>
<p>It&#39;s on the grapevine that they are going to introduce a feature imminently to allow people to subscribe to questions, so they receive notification of any new answers or comments.</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 16th 2010, 12:24:15 pm">December 16th 2010</span>
											by <span class='authorname'>Paul Dowsett</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Note that this issue has been resolved now. Email notifications are sent to all users who have subscribed to a thread, using the &quot;Subscription&quot; button above.</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 12th 2011, 9:45:14 pm">April 12th 2011</span>
											by <span class='authorname'>Paul Dowsett</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-163261">
				
						<section>
							<p>Armindo</p>
<p>Would you mind editing all your duplicate posts, and delete their contents? They make this thread very difficult to follow.</p>
<p>Would you try using <code>responseText</code> instead of <code>responseXML</code> to see if you get a different result?</p>
<p>Cheers</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="December 16th 2010, 12:42:42 pm">December 16th 2010</span>
								by <span class='authorname'>Paul Dowsett</span><br>
								<a class="icon-bg icon-link" href="question/90341/error-parsing-xml-file#answer-163261" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-163291">
				
						<section>
							<p>Sorry, it seems that refreshing firefox post again, … cleared the double posts…</p>
<p>here&#39;s what I get<br>[INFO] Loaded! Status: 200<br>[INFO] Response Header: text&#x2F;html; charset=UTF-8<br>[INFO] Response Text:</p>
<p>using</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> xhr = Titanium.Network.createHTTPClient();

xhr.onload = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>
</span>{
    <span class="hljs-comment">// check to see what we are getting</span>
            Titanium.API.info(<span class="hljs-string">'Loaded! Status: '</span> + <span class="hljs-keyword">this</span>.status);
            Titanium.API.info(<span class="hljs-string">'Response Header: '</span> + <span class="hljs-keyword">this</span>.getResponseHeader(<span class="hljs-string">'Content-Type'</span>));
            Titanium.API.info(<span class="hljs-string">'Response Text: '</span> + <span class="hljs-keyword">this</span>.responseText);
}
xhr.open(<span class="hljs-string">'GET'</span>,<span class="hljs-string">'http://vimeo.com/api/v2/lockdownprojects/albums.xml'</span>);
xhr.setRequestHeader(<span class="hljs-string">'Content-Type'</span>,<span class="hljs-string">'text/xml'</span>);
<span class="hljs-comment">// send the data</span>
xhr.send();
</code></pre><p>As you can see there is nothing in responseText</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="December 16th 2010, 12:58:45 pm">December 16th 2010</span>
								by <span class='authorname'>Armindo Da Silva</span><br>
								<a class="icon-bg icon-link" href="question/90341/error-parsing-xml-file#answer-163291" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-163391">
				
						<section>
							<p>There is something suspicious with your XML stream.  The content of the XML document is fine and parses fine - I was able to run the following code just fine in an app.js:</p>
<pre><code class="hljs">var xmlstr = '<span class="hljs-pi">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">albums</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">album</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">id</span>&gt;</span>70548<span class="hljs-tag">&lt;/<span class="hljs-title">id</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">created_on</span>&gt;</span>2009-03-04 13:20:32<span class="hljs-tag">&lt;/<span class="hljs-title">created_on</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">last_modified</span>&gt;</span>2009-10-04 08:24:04<span class="hljs-tag">&lt;/<span class="hljs-title">last_modified</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">title</span>&gt;</span>MUSIC VIDEOS<span class="hljs-tag">&lt;/<span class="hljs-title">title</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">description</span>&gt;</span>A collection of Lip Dub music videos. Family, Friends, and Corporate, by LOCKDOWN projects<span class="hljs-tag">&lt;/<span class="hljs-title">description</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">url</span>&gt;</span>http://vimeo.com/album/70548<span class="hljs-tag">&lt;/<span class="hljs-title">url</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">thumbnail_small</span>&gt;</span>http://b.vimeocdn.com/ts/343/939/3439393_100.jpg<span class="hljs-tag">&lt;/<span class="hljs-title">thumbnail_small</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">thumbnail_medium</span>&gt;</span>http://b.vimeocdn.com/ts/343/939/3439393_200.jpg<span class="hljs-tag">&lt;/<span class="hljs-title">thumbnail_medium</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">thumbnail_large</span>&gt;</span>http://b.vimeocdn.com/ts/343/939/3439393_640.jpg<span class="hljs-tag">&lt;/<span class="hljs-title">thumbnail_large</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">total_videos</span>&gt;</span>6<span class="hljs-tag">&lt;/<span class="hljs-title">total_videos</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">album</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">album</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">id</span>&gt;</span>70547<span class="hljs-tag">&lt;/<span class="hljs-title">id</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">created_on</span>&gt;</span>2009-03-04 13:19:33<span class="hljs-tag">&lt;/<span class="hljs-title">created_on</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">last_modified</span>&gt;</span>2010-08-23 12:09:48<span class="hljs-tag">&lt;/<span class="hljs-title">last_modified</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">title</span>&gt;</span>WEDDING MUSIC VIDEOS<span class="hljs-tag">&lt;/<span class="hljs-title">title</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">description</span>&gt;</span>A collection of wedding music videos filmed and Edited by LOCKDOWN projects.<span class="hljs-tag">&lt;/<span class="hljs-title">description</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">url</span>&gt;</span>http://vimeo.com/album/70547<span class="hljs-tag">&lt;/<span class="hljs-title">url</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">thumbnail_small</span>&gt;</span>http://b.vimeocdn.com/ts/344/564/3445649_100.jpg<span class="hljs-tag">&lt;/<span class="hljs-title">thumbnail_small</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">thumbnail_medium</span>&gt;</span>http://b.vimeocdn.com/ts/344/564/3445649_200.jpg<span class="hljs-tag">&lt;/<span class="hljs-title">thumbnail_medium</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">thumbnail_large</span>&gt;</span>http://b.vimeocdn.com/ts/344/564/3445649_640.jpg<span class="hljs-tag">&lt;/<span class="hljs-title">thumbnail_large</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">total_videos</span>&gt;</span>3<span class="hljs-tag">&lt;/<span class="hljs-title">total_videos</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">album</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">album</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">id</span>&gt;</span>132204<span class="hljs-tag">&lt;/<span class="hljs-title">id</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">created_on</span>&gt;</span>2009-10-04 08:22:53<span class="hljs-tag">&lt;/<span class="hljs-title">created_on</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">last_modified</span>&gt;</span>2009-12-21 16:58:18<span class="hljs-tag">&lt;/<span class="hljs-title">last_modified</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">title</span>&gt;</span>WORK<span class="hljs-tag">&lt;/<span class="hljs-title">title</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">description</span> /&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">url</span>&gt;</span>http://vimeo.com/album/132204<span class="hljs-tag">&lt;/<span class="hljs-title">url</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">thumbnail_small</span>&gt;</span>http://b.vimeocdn.com/ts/179/548/17954880_100.jpg<span class="hljs-tag">&lt;/<span class="hljs-title">thumbnail_small</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">thumbnail_medium</span>&gt;</span>http://b.vimeocdn.com/ts/179/548/17954880_200.jpg<span class="hljs-tag">&lt;/<span class="hljs-title">thumbnail_medium</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">thumbnail_large</span>&gt;</span>http://b.vimeocdn.com/ts/179/548/17954880_640.jpg<span class="hljs-tag">&lt;/<span class="hljs-title">thumbnail_large</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">total_videos</span>&gt;</span>6<span class="hljs-tag">&lt;/<span class="hljs-title">total_videos</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">album</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">albums</span>&gt;</span>';

var xml = Ti.XML.parseString(xmlstr);
var list = xml.documentElement.getElementsByTagName("title");
Ti.API.info(list.item(0).text);
</code></pre><p>but when I fetch the document via curl, the stream seems to end before the entire document is transmitted:</p>
<pre><code class="hljs">    <span class="hljs-variable">&lt;total_videos&gt;</span>6<span class="hljs-variable">&lt;/total_videos&gt;</span>
  <span class="hljs-variable">&lt;/album&gt;</span>
<span class="hljs-keyword">*</span> Closing connection <span class="hljs-comment">#0</span>
<span class="hljs-variable">&lt;/albums&gt;</span>
</code></pre><p>Compare this with say, an RSS feed or any other XML stream you can find on the web (this one is for CNN, tested with the dev blog feed and a few others):</p>
<pre><code class="hljs"><span class="hljs-variable">&lt;/div&gt;</span><span class="hljs-variable">&lt;img src="http://feeds.feedburner.com/~r/rss/cnn_topstories/~4/gWva24MVVvk" height="1" width="1"/&gt;</span><span class="hljs-variable">&lt;/description&gt;</span>
<span class="hljs-variable">&lt;pubDate&gt;</span>Thu, 16 Dec 2010 08:32:38 EST<span class="hljs-variable">&lt;/pubDate&gt;</span>
<span class="hljs-variable">&lt;feedburner:origLink&gt;</span>http://www.cnn.com/2010/WORLD/asiapcf/12/16/north.korea.us.richardson/index.html?eref=rss_topstories<span class="hljs-variable">&lt;/feedburner:origLink&gt;</span><span class="hljs-variable">&lt;/item&gt;</span>
<span class="hljs-variable">&lt;/channel&gt;</span><span class="hljs-variable">&lt;/rss&gt;</span>
<span class="hljs-keyword">*</span> Connection <span class="hljs-comment">#0 to host rss.cnn.com left intact</span>
<span class="hljs-keyword">*</span> Closing connection <span class="hljs-comment">#0</span>
</code></pre><p>I wonder if this is causing some processing errors Titanium can&#39;t recover from.  </p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="December 16th 2010, 2:55:51 pm">December 16th 2010</span>
								by <span class='authorname'>Kevin Whinnery</span><br>
								<a class="icon-bg icon-link" href="question/90341/error-parsing-xml-file#answer-163391" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-163401">
				
						<section>
							<p>Kevin,<br>Thanks for your reply.</p>
<p>I use XML parsing (RSS feed) and no problem.<br>This XML come from <a href="http:&#x2F;&#x2F;vimeo.com&#x2F;api&#x2F;docs&#x2F;simple-api">Vimeo Simple API</a>.<br>And testing this <a href="view-source:http:&#x2F;&#x2F;vimeo.com&#x2F;api&#x2F;v2&#x2F;lockdownprojects&#x2F;albums.xml">link</a> in Firefox works fine.<br>So I wonder if the problem does not come from the way TI handle it.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="December 16th 2010, 3:18:27 pm">December 16th 2010</span>
								by <span class='authorname'>Armindo Da Silva</span><br>
								<a class="icon-bg icon-link" href="question/90341/error-parsing-xml-file#answer-163401" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-164141">
				
						<section>
							<p>I&#39;m just wondering is the problem is not the same faced here :<br>http:&#x2F;&#x2F;www.vimeo.com&#x2F;forums&#x2F;topic:27626#comment_3499437</p>
<p>Due to browser security restrictions, most &quot;Ajax&quot; requests are subject to the same origin policy; the request can not successfully retrieve data from a different domain, subdomain, or protocol.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="December 17th 2010, 8:17:01 am">December 17th 2010</span>
								by <span class='authorname'>Armindo Da Silva</span><br>
								<a class="icon-bg icon-link" href="question/90341/error-parsing-xml-file#answer-164141" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-164231">
				
						<section>
							<p>Armindo</p>
<p>I can confirm what Kevin was saying; the feed was returning an <a href="http:&#x2F;&#x2F;en.wikipedia.org&#x2F;wiki&#x2F;List_of_HTTP_status_codes#5xx_Server_Error">HTTP 500 status</a> yesterday. However, now it returns a 200 status.</p>
<p>I would suggest that you start again with this problem, trying again the previous versions of the code you have used.</p>
<p>Cheers</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="December 17th 2010, 10:29:12 am">December 17th 2010</span>
								by <span class='authorname'>Paul Dowsett</span><br>
								<a class="icon-bg icon-link" href="question/90341/error-parsing-xml-file#answer-164231" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Btw, you can always check the URL yourself using curl:</p>
<pre><code class="hljs">curl -v <span class="hljs-symbol">http:</span>/<span class="hljs-regexp">/vimeo.com/api</span><span class="hljs-regexp">/v2/lockdownprojects</span><span class="hljs-regexp">/albums.xml</span>
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="December 17th 2010, 10:30:10 am">December 17th 2010</span>
											by <span class='authorname'>Paul Dowsett</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-164271">
				
						<section>
							<p>Same problem.<br>As I said in my previous mail, it&#39;s not impossible that it is related to a domain name.</p>
<p>here&#39;s what Vimeo says about the API :</p>
<p>Due to browser security restrictions, most &quot;Ajax&quot; requests are subject to the same origin policy; the request can not successfully retrieve data from a different domain, subdomain, or protocol.</p>
<p>That could explain why it works in  a web browser not in this case.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="December 17th 2010, 10:42:44 am">December 17th 2010</span>
								by <span class='authorname'>Armindo Da Silva</span><br>
								<a class="icon-bg icon-link" href="question/90341/error-parsing-xml-file#answer-164271" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>I don&#39;t understand. What domain are you referring to?</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 18th 2010, 12:14:06 pm">December 18th 2010</span>
											by <span class='authorname'>Paul Dowsett</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-222401">
				
						<section>
							<p>Having the same problem with XML or JSON from Vimeo. Wondering if anyone figured out a solution?</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="November 2nd 2011, 1:31:32 am">November 2nd 2011</span>
								by <span class='authorname'>Peter Wiley</span><br>
								<a class="icon-bg icon-link" href="question/90341/error-parsing-xml-file#answer-222401" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>I saw a solution somewhere. It is to remove the start from the xml.</p>
<p>Remove this:<br>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</p>
<p>perhaps by<br>str.replace(&#39;&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&#39;, &#39;&#39;);</p>
<p>Dont know why.</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 10th 2013, 5:37:25 pm">January 10th 2013</span>
											by <span class='authorname'>Carl Erik Lindberg</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
