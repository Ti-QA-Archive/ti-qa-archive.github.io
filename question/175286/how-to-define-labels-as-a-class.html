<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>How to define labels as a class? » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>How to define labels as a class?</h1>
		</header>
		<section>
			<p>Hi, fairly new to javascript and Titanium.  My project display many labels and text fields where the user can enter data and update it.</p>
<p>The issue I&#39;m having is that I have an Edit button which when pressed, allows the user to edit the text field, and when cancel or saved is pressed it turns the edit function off.</p>
<p>Now I can get the code to work properly and I have code such as:</p>
<pre><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">editOn</span><span class="hljs-params">()</span> </span>{
<span class="hljs-comment">// make the fields editable</span>
        bodyWeightToday.editable = <span class="hljs-literal">true</span>;
        bodyWeightToday.backgroundColor = <span class="hljs-string">'white'</span>;

        caloriesToday.editable = <span class="hljs-literal">true</span>;
        caloriesToday.backgroundColor = <span class="hljs-string">'white'</span>;

        proteinToday.editable = <span class="hljs-literal">true</span>;
        proteinToday.backgroundColor = <span class="hljs-string">'white'</span>;

        carbsToday.editable = <span class="hljs-literal">true</span>;
        carbsToday.backgroundColor = <span class="hljs-string">'white'</span>;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">editOff</span> <span class="hljs-params">()</span> </span>{
<span class="hljs-comment">// make the fields editable</span>
        bodyWeightToday.editable = <span class="hljs-literal">false</span>;
        bodyWeightToday.backgroundColor = <span class="hljs-string">'green'</span>;

        caloriesToday.editable = <span class="hljs-literal">false</span>
        caloriesToday.backgroundColor = <span class="hljs-string">'green'</span>;

        proteinToday.editable = <span class="hljs-literal">false</span>;
        proteinToday.backgroundColor = <span class="hljs-string">'green'</span>;

        carbsToday.editable = <span class="hljs-literal">false</span>;
        carbsToday.backgroundColor = <span class="hljs-string">'green'</span>;
}
</code></pre><p>The problem is that there are way more fields and labels than that and the code is becoming a nightmare to edit and make changes.  Is there a way I can define those objects as one class so the code could look something like:</p>
<pre><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">editOn</span><span class="hljs-params">()</span> </span>{
<span class="hljs-comment">// make the fields editable</span>
        textField.editable = <span class="hljs-literal">true</span>;
        textField..backgroundColor = <span class="hljs-string">'white'</span>;

}
</code></pre><p>where textField is a class and it loops through an array to find all instances of that?  </p>
<p>Thanks a lot</p>
<p>Mick</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="June 18th 2014, 4:17:22 am">June 18th 2014</span>
				by <span class='authorname'>Mick Solomons</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>class</span></li>
					
						<li><span class='tagname'>constructor</span></li>
					
						<li><span class='tagname'>object</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-279883">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>Hi</p>
<p>An easier way would be to use the <strong>children</strong> property. With all parent views (think views, windows) you can use retrieve the property <strong>children</strong> from that you can loop the child views and do with them as you need.</p>
<p>You have not said this is an Alloy framework app, so code is formatted for non-alloy framework app;</p>
<pre><code class="hljs"><span class="hljs-comment">// the parent does not matter it just has to exist</span>
<span class="hljs-comment">// the window is a suitable parent</span>
<span class="hljs-comment">// the properties also do not matter change to suit</span>
<span class="hljs-keyword">var</span> <span class="hljs-keyword">parent</span> = Ti.UI.createView({
    height: TI.UI.FILL,
    layout: <span class="hljs-string">'vertical'</span>,
    width: TI.UI.FILL
});
win.add(<span class="hljs-keyword">parent</span>);
<span class="hljs-keyword">var</span> bodyWeightToday = Ti.UI.createTextField({
    height: <span class="hljs-number">50</span>,
    left: <span class="hljs-number">10</span>,
    right: <span class="hljs-number">10</span>
});
<span class="hljs-keyword">parent</span>.add(bodyWeightToday);
<span class="hljs-keyword">var</span> bodyWeightToday = Ti.UI.createTextField({
    height: <span class="hljs-number">50</span>,
    left: <span class="hljs-number">10</span>,
    right: <span class="hljs-number">10</span>
});
<span class="hljs-keyword">parent</span>.add(bodyWeightToday);
<span class="hljs-keyword">var</span> caloriesToday = Ti.UI.createTextField({
    height: <span class="hljs-number">50</span>,
    left: <span class="hljs-number">10</span>,
    right: <span class="hljs-number">10</span>
});
<span class="hljs-keyword">parent</span>.add(caloriesToday);

<span class="hljs-keyword">var</span> editing = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(state)</span> </span>{
    <span class="hljs-keyword">var</span> kids = <span class="hljs-keyword">parent</span>.children.length;
    <span class="hljs-keyword">for</span> (kid = <span class="hljs-number">0</span>, kids = <span class="hljs-keyword">parent</span>.children.length; kid &lt; kids; kid = kid +<span class="hljs-number">1</span>) {
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">parent</span>.children[kid].apiName === <span class="hljs-string">'Ti.UI.TextField'</span>) {
            <span class="hljs-keyword">parent</span>.children[kid].editable = state;
            <span class="hljs-keyword">parent</span>.children[kid].backgroundColor = state ? <span class="hljs-string">'white'</span> : <span class="hljs-string">'green'</span>;
        }
    }
};
</code></pre><p>Then to use the function;</p>
<pre><code class="hljs"><span class="hljs-comment">// turn on</span>
editing(<span class="hljs-literal">true</span>);
<span class="hljs-comment">// turn off</span>
editing(<span class="hljs-literal">false</span>);
</code></pre><p>I have just written this on an iPad so please forgive any errors.</p>
<p>The logic to this is very simple, add everything to the same parent level, then loop that parents children property to access those views.  As we are only interested in text fields we perform a compare to check for those.  If we find a text field we set the true or false state.</p>
<p>This way one function turns on and off, also finds all text fields you have as long as they are all children of the same parent.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="June 18th 2014, 4:51:11 am">June 18th 2014</span>
								by <span class='authorname'>Malcolm Hollingsworth</span><br>
								<a class="icon-bg icon-link" href="question/175286/how-to-define-labels-as-a-class#answer-279883" rel="permalink">permalink</a>
							</div>

							<h5>5 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>thanks Malcolm a lot, that put me on the right track.  It&#39;s working mostly however its applying all of the changes to all the children in the window, even if its not a textField</p>
<p>current code is:</p>
<pre><code class="hljs"><span class="hljs-comment">// EDIT OFF AND EDIT ON FUNCTION</span>
var editing = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(state)</span> {</span>
    var kids = view.<span class="hljs-built_in">children</span>.length;
   <span class="hljs-comment">// Ti.API.info("kids " + kids + "state: " + state);</span>
   <span class="hljs-keyword">for</span> (var i = <span class="hljs-number">0</span>, kids = view.<span class="hljs-built_in">children</span>.length; i &lt; kids; i = i+<span class="hljs-number">1</span>) {
        <span class="hljs-keyword">if</span> (view.<span class="hljs-built_in">children</span>[i].apiName === 'Ti.UI.TextField') {
            view.<span class="hljs-built_in">children</span>[i].editable = state;
            view.<span class="hljs-built_in">children</span>[i].backgroundColor = state ? 'white' : 'green';
            Ti.API.info(i + view.<span class="hljs-built_in">children</span>[i].apiName + view.<span class="hljs-built_in">children</span>[i].editable + view.<span class="hljs-built_in">children</span>[i].backgroundColor);

        }
        <span class="hljs-keyword">else</span>{
            Ti.API.info(<span class="hljs-string">"nothing happened"</span>);
        }
    }
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="June 18th 2014, 10:45:54 am">June 18th 2014</span>
											by <span class='authorname'>Mick Solomons</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Try this and report back, does the console log show the correct kids count and the elements that are textfields plus any other elements?</p>
<p>Paste back that section of console.</p>
</p>
										<div class="author">
											&mdash; commented <span title="June 18th 2014, 11:24:18 am">June 18th 2014</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Hey Malcolm yes it shows the correct kids amount (14, I have 15 elements on the view)</p>
<p>it seems the issue is with the if statement is not returning true when using the &quot;===&quot; operator</p>
<pre><code class="hljs"><span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = 0, kids = <span class="hljs-keyword">view</span>.children.length; i &lt; kids; i = i+1) {
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">view</span>.children[i].apiName === 'Ti.UI.TextField') {
            <span class="hljs-keyword">view</span>.children[i].editable = state;
            <span class="hljs-keyword">view</span>.children[i].backgroundColor = state ? 'white' : 'green';
            Ti.API.info(i + <span class="hljs-keyword">view</span>.children[i].apiName + <span class="hljs-keyword">view</span>.children[i].editable + <span class="hljs-keyword">view</span>.children[i].backgroundColor);

        }
        <span class="hljs-keyword">else</span>{
            Ti.API.info(<span class="hljs-string">"nothing happened"</span>);
        }
    }
</code></pre><p>returns this on the console</p>
<pre><code class="hljs"><span class="hljs-string">[INFO]</span> :   kids 14state: false
<span class="hljs-string">[INFO]</span> :   nothing happened
<span class="hljs-string">[INFO]</span> :   nothing happened
<span class="hljs-string">[INFO]</span> :   nothing happened
<span class="hljs-string">[INFO]</span> :   nothing happened
<span class="hljs-string">[INFO]</span> :   nothing happened
<span class="hljs-string">[INFO]</span> :   nothing happened
<span class="hljs-string">[INFO]</span> :   nothing happened
<span class="hljs-string">[INFO]</span> :   nothing happened
<span class="hljs-string">[INFO]</span> :   nothing happened
<span class="hljs-string">[INFO]</span> :   nothing happened
<span class="hljs-string">[INFO]</span> :   nothing happened
<span class="hljs-string">[INFO]</span> :   nothing happened
<span class="hljs-string">[INFO]</span> :   nothing happened
<span class="hljs-string">[INFO]</span> :   nothing happened
</code></pre><p>when I change the if statement to only the &quot;=&quot; operator it does return the if statement to true, but its outputting the apiName &quot;Ti.UI.TextField&quot; for every label.  </p>
<p>here is the output</p>
<p>i, apiName, editable(state), backgroundColor</p>
<pre><code class="hljs">INFO] :   kids <span class="hljs-number">14s</span>tate: true
[INFO] :   <span class="hljs-number">0</span> Ti<span class="hljs-class">.UI</span><span class="hljs-class">.TextField</span> true white
[INFO] :   <span class="hljs-number">1</span> Ti<span class="hljs-class">.UI</span><span class="hljs-class">.Text</span> Field true white
[INFO] :   <span class="hljs-number">2</span> Ti<span class="hljs-class">.UI</span><span class="hljs-class">.TextField</span> true white
[INFO] :   <span class="hljs-number">3</span> Ti<span class="hljs-class">.UI</span><span class="hljs-class">.TextField</span> true white
[INFO] :   <span class="hljs-number">4</span> Ti<span class="hljs-class">.UI</span><span class="hljs-class">.TextField</span> true white
[INFO] :   <span class="hljs-number">5</span> Ti<span class="hljs-class">.UI</span><span class="hljs-class">.TextField</span> true white
[INFO] :   <span class="hljs-number">6</span> Ti<span class="hljs-class">.UI</span><span class="hljs-class">.TextField</span> true white
[INFO] :   <span class="hljs-number">7</span> Ti<span class="hljs-class">.UI</span><span class="hljs-class">.TextField</span> true white
[INFO] :   <span class="hljs-number">8</span> Ti<span class="hljs-class">.UI</span><span class="hljs-class">.TextField</span> true white
[INFO] :   <span class="hljs-number">9</span> Ti<span class="hljs-class">.UI</span><span class="hljs-class">.TextField</span> true white
[INFO] :   <span class="hljs-number">10</span> Ti<span class="hljs-class">.UI</span><span class="hljs-class">.TextField</span> true white
[INFO] :   <span class="hljs-number">11</span> Ti<span class="hljs-class">.UI</span><span class="hljs-class">.TextField</span> true white
[INFO] :   <span class="hljs-number">12</span> Ti<span class="hljs-class">.UI</span><span class="hljs-class">.TextField</span> true white
[INFO] :   <span class="hljs-number">13</span>  Ti<span class="hljs-class">.UI</span><span class="hljs-class">.TextField</span> true white

~~

the other thing I noticed is that I changed the <span class="hljs-keyword">if</span> statement to only show labels it still looped through all the children and returned the apiName as <span class="hljs-tag">label</span>. 

~~
<span class="hljs-number">0</span> Ti<span class="hljs-class">.UI</span><span class="hljs-class">.Label</span> true white
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="June 18th 2014, 8:11:34 pm">June 18th 2014</span>
											by <span class='authorname'>Mick Solomons</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>getting a bit closer to working this out.  </p>
<p>I changed the if statement to make the apiName a variable instead of a string, and now the if Statement calls correctly, however its still applying the changes to all of the children whether textFields or not.<br>updated code</p>
<pre><code class="hljs"><span class="hljs-comment">// EDIT OFF AND EDIT ON FUNCTION</span>
var editing = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(state)</span> {</span>
    var kids = winMea.<span class="hljs-built_in">children</span>.length;
    Ti.API.info(<span class="hljs-string">"kids "</span> + kids + <span class="hljs-string">"state: "</span> + state);
   <span class="hljs-keyword">for</span> (var i = <span class="hljs-number">0</span>, kids = winMea.<span class="hljs-built_in">children</span>.length; i &lt; kids; i = i+<span class="hljs-number">1</span>) {
        <span class="hljs-keyword">if</span> (winMea.<span class="hljs-built_in">children</span>[i].apiName === Ti.UI.TextLabel) {
            winMea.<span class="hljs-built_in">children</span>[i].editable = state;
            winMea.<span class="hljs-built_in">children</span>[i].backgroundColor = state ? 'white' : 'green';
            Ti.API.info(<span class="hljs-string">"childID: "</span> + i + <span class="hljs-string">"| APIName "</span> + winMea.<span class="hljs-built_in">children</span>[i].apiName + <span class="hljs-string">" | editable: "</span> + winMea.<span class="hljs-built_in">children</span>[i].editable + <span class="hljs-string">" | backgroundColor: "</span> + winMea.<span class="hljs-built_in">children</span>[i].backgroundColor);

        }
        <span class="hljs-keyword">else</span>{
            Ti.API.info(<span class="hljs-string">"nothing happened"</span>);
        }
    }
};
</code></pre><p>sample of the console</p>
<pre><code class="hljs"><span class="hljs-string">childID:</span> <span class="hljs-number">9</span>| APIName undefined | <span class="hljs-string">editable:</span> <span class="hljs-literal">true</span> | <span class="hljs-string">backgroundColor:</span> white
</code></pre><p>as you can see the APIName is still coming up as undefined</p>
</p>
										<div class="author">
											&mdash; commented <span title="June 18th 2014, 10:37:58 pm">June 18th 2014</span>
											by <span class='authorname'>Mick Solomons</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Sorry I have been away from my desk.</p>
<p>So this is now answered then?  Excellent - please remember to mark it as answered.</p>
</p>
										<div class="author">
											&mdash; commented <span title="June 19th 2014, 12:50:25 pm">June 19th 2014</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-279937">
				
						<section>
							<p>ok this is now fixed, the original code works.  I upgraded my computer today and installed the latest version of titanium, was using an older version previously and with the upgrade it now works!  thanks a lot Malcolm.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="June 19th 2014, 9:33:19 am">June 19th 2014</span>
								by <span class='authorname'>Mick Solomons</span><br>
								<a class="icon-bg icon-link" href="question/175286/how-to-define-labels-as-a-class#answer-279937" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
