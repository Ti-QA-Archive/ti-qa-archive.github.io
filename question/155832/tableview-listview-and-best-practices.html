<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>TableView, ListView and best practices » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>TableView, ListView and best practices</h1>
		</header>
		<section>
			<p>Hello</p>
<p>I currently have a series of TableViews I have been using in place of ListViews to display more custom list items.</p>
<p>An example of one of the templates is as follows:</p>
<pre><code class="hljs">&lt;Alloy&gt;
    &lt;TableViewRow id=<span class="hljs-string">"row"</span> <span class="hljs-keyword">class</span>=<span class="hljs-string">"scrolltest"</span>&gt;
        &lt;<span class="hljs-keyword">View</span> <span class="hljs-keyword">class</span>=<span class="hljs-string">"exerciseRow"</span> id=<span class="hljs-string">"eRow"</span>&gt;
            &lt;<span class="hljs-keyword">Label</span> id=<span class="hljs-string">"name"</span> <span class="hljs-keyword">class</span>=<span class="hljs-string">"h6"</span>&gt;&lt;/<span class="hljs-keyword">Label</span>&gt;
            &lt;<span class="hljs-keyword">View</span> <span class="hljs-keyword">class</span>=<span class="hljs-string">"valueRow"</span> height=<span class="hljs-string">"Ti.UI.SIZE"</span>&gt;
                &lt;<span class="hljs-keyword">Label</span> <span class="hljs-keyword">class</span>=<span class="hljs-string">"val"</span> id=<span class="hljs-string">"weight"</span>&gt;&lt;/<span class="hljs-keyword">Label</span>&gt;
                &lt;<span class="hljs-keyword">Label</span> <span class="hljs-keyword">class</span>=<span class="hljs-string">"val"</span> id=<span class="hljs-string">"reps"</span>&gt;&lt;/<span class="hljs-keyword">Label</span>&gt;
            &lt;/<span class="hljs-keyword">View</span>&gt;
            &lt;<span class="hljs-keyword">View</span> <span class="hljs-keyword">class</span>=<span class="hljs-string">"valueRow"</span> height=<span class="hljs-string">"Ti.UI.SIZE"</span>&gt;
                &lt;<span class="hljs-keyword">Label</span> <span class="hljs-keyword">class</span>=<span class="hljs-string">"val"</span> id=<span class="hljs-string">"distance"</span>&gt;&lt;/<span class="hljs-keyword">Label</span>&gt;
                &lt;<span class="hljs-keyword">Label</span> <span class="hljs-keyword">class</span>=<span class="hljs-string">"val"</span> id=<span class="hljs-string">"time"</span>&gt;&lt;/<span class="hljs-keyword">Label</span>&gt;
            &lt;/<span class="hljs-keyword">View</span>&gt;
        &lt;/<span class="hljs-keyword">View</span>&gt;
    &lt;/TableViewRow&gt;
&lt;/Alloy&gt;
</code></pre><p>The code above gets the job done and I&#39;m expecting each TableView to have about 30-50 rows, but since I am new to this, there are a few things I need clarification on:</p>
<p>1) In the above example, I have been using views as a means to use the Horizontal Layout where the items in the innermost views are laid out side-by-size but the views themselves are stacked on top of each other. Is this approach frowned upon?</p>
<p>2) I have been reading up on the documentation and it seems ListViews might be a better option performance-wise, but I am worried about how customizable they are and whether converting something like the view above will be a large undertaking. My understanding is Alloy still does not support ListViews and they have to be written up in the controllers. I am also concerned the ListItem templates aren&#39;t as flexible.</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="August 9th 2013, 11:18:57 am">August 9th 2013</span>
				by <span class='authorname'>David Glass</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>alloy</span></li>
					
						<li><span class='tagname'>best practices</span></li>
					
						<li><span class='tagname'>listview</span></li>
					
						<li><span class='tagname'>tableview</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-267032">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p><em>OK, you win this lottery this week. This is the most effort I&#39;ve put into a Q&amp;A question in a while. This should aid more than just you, though, as more adopt ListView and its usage through Alloy 1.2.0.</em></p>
<p>As of Alloy 1.2.0, you can create the ListView and templates in markup. You can get the alpha version now from npm:</p>
<pre><code class="hljs">[sudo] npm install -g alloy@<span class="hljs-number">1.2</span><span class="hljs-number">.0</span>-alpha6
</code></pre><p>As for your questions…</p>
<p>It&#39;s not frowned upon per se, but it&#39;s less efficient than it could be, and efficiency should be a top concern when rendering lists. You are adding unnecessary views to make positioning easier, but you could do the same without them. It all depends on if you can achieve the look you want for all your target devices without the use of these helper views. And yes, ListView can do almost everything TableView can now. So to show you both these answers, here&#39;s that same basic layout using ListView markup, templates, and no extra positioning views. Obviously you&#39;ll need to tweak styling to get it to work exactly as you like, but this should give you a good place to start (tested on iOS):</p>
<h3 id="index-xml">index.xml</h3>
<pre><code class="hljs"><span class="hljs-tag">&lt;<span class="hljs-title">Alloy</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">Window</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">ListView</span> <span class="hljs-attribute">defaultItemTemplate</span>=<span class="hljs-value">"row"</span>&gt;</span>
            <span class="hljs-comment">&lt;!--
                Create a template for the exercise rows. Rely on the corresponding TSS to style and
                position the elements, not extra container views.
            --&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">Templates</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">ItemTemplate</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"row"</span> <span class="hljs-attribute">height</span>=<span class="hljs-value">"85dp"</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-title">Label</span> <span class="hljs-attribute">bindId</span>=<span class="hljs-value">"name"</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"h6"</span>/&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-title">Label</span> <span class="hljs-attribute">bindId</span>=<span class="hljs-value">"weight"</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"row1 left"</span>/&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-title">Label</span> <span class="hljs-attribute">bindId</span>=<span class="hljs-value">"reps"</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"row1 right"</span>/&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-title">Label</span> <span class="hljs-attribute">bindId</span>=<span class="hljs-value">"distance"</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"row2 left"</span>/&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-title">Label</span> <span class="hljs-attribute">bindId</span>=<span class="hljs-value">"time"</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"row2 right"</span>/&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-title">ItemTemplate</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-title">Templates</span>&gt;</span>

            <span class="hljs-comment">&lt;!-- Simple example of a statically defined item based on the template --&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">ListSection</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"section"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">ListItem</span> <span class="hljs-attribute">name:text</span>=<span class="hljs-value">"bench press"</span> <span class="hljs-attribute">weight:text</span>=<span class="hljs-value">"weight: 225 lbs"</span> <span class="hljs-attribute">reps:text</span>=<span class="hljs-value">"reps: 8"</span> <span class="hljs-attribute">distance:text</span>=<span class="hljs-value">"distance: "</span> <span class="hljs-attribute">time:text</span>=<span class="hljs-value">"time: 30s"</span>/&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-title">ListSection</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">ListView</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">Window</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">Alloy</span>&gt;</span>
</code></pre><h3 id="index-tss">index.tss</h3>
<pre><code class="hljs"><span class="hljs-string">'Label'</span>: {
    color: <span class="hljs-string">'#222'</span>,
    font: {
        fontSize: <span class="hljs-string">'18dp'</span>
    },
    height: Ti.UI.SIZE
}

<span class="hljs-string">'.h6'</span>: {
    top: <span class="hljs-string">'4dp'</span>,
    left: <span class="hljs-string">'10dp'</span>,
    right: <span class="hljs-string">'10dp'</span>,
    color: <span class="hljs-string">'#000'</span>,
    font: {
        fontSize: <span class="hljs-string">'24dp'</span>,
        fontWeight: <span class="hljs-string">'bold'</span>
    }
}

<span class="hljs-string">'.row1'</span>: {
    top: <span class="hljs-string">'35dp'</span>
}

<span class="hljs-string">'.row2'</span>: {
    top: <span class="hljs-string">'60dp'</span>
}

<span class="hljs-string">'.left'</span>: {
    left: <span class="hljs-string">'3%'</span>,
    width: <span class="hljs-string">'45%'</span>
}

<span class="hljs-string">'.right'</span>: {
    right: <span class="hljs-string">'3%'</span>,
    width: <span class="hljs-string">'45%'</span>
}

<span class="hljs-string">'#index'</span>: {
    backgroundColor: <span class="hljs-string">'#fff'</span>,
    modal: false,
    exitOnClose: true
}
</code></pre><h3 id="index-js">index.js</h3>
<pre><code class="hljs">var exercises = [
    { <span class="hljs-string">name:</span> <span class="hljs-string">'squat'</span>, <span class="hljs-string">weight:</span> <span class="hljs-string">'365 lbs'</span>, <span class="hljs-string">reps:</span> <span class="hljs-string">'5'</span> },
    { <span class="hljs-string">name:</span> <span class="hljs-string">'deadlift'</span>, <span class="hljs-string">weight:</span> <span class="hljs-string">'450 lbs'</span>, <span class="hljs-string">reps:</span> <span class="hljs-string">'2'</span> },
    { <span class="hljs-string">name:</span> <span class="hljs-string">'squat'</span>, <span class="hljs-string">weight:</span> <span class="hljs-string">'365 lbs'</span>, <span class="hljs-string">reps:</span> <span class="hljs-string">'5'</span> },
    { <span class="hljs-string">name:</span> <span class="hljs-string">'run'</span>, <span class="hljs-string">distance:</span> <span class="hljs-string">'5 mi'</span>, <span class="hljs-string">time:</span> <span class="hljs-string">'34:22'</span> }
];

<span class="hljs-comment">// create some rows dynamically</span>
var items = [];
<span class="hljs-keyword">for</span> (var i = <span class="hljs-number">0</span>; i &lt; exercises.length; i++) {
    var ex = exercises[i];
    items.push({
<span class="hljs-label">        name:</span> { <span class="hljs-string">text:</span> ex.name },
<span class="hljs-label">        weight:</span> { <span class="hljs-string">text:</span> <span class="hljs-string">'weight: '</span> + (ex.weight || <span class="hljs-string">''</span>) },
<span class="hljs-label">        reps:</span> { <span class="hljs-string">text:</span> <span class="hljs-string">'reps: '</span> + (ex.reps || <span class="hljs-string">''</span>) },
<span class="hljs-label">        distance:</span> { <span class="hljs-string">text:</span> <span class="hljs-string">'distance: '</span> + (ex.distance || <span class="hljs-string">''</span>) },
<span class="hljs-label">        time:</span> { <span class="hljs-string">text:</span> <span class="hljs-string">'time: '</span> + (ex.time || <span class="hljs-string">''</span>) }
    });
}
$.section.items = $.section.items.concat(items);

$.index.open();
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 9th 2013, 1:13:19 pm">August 9th 2013</span>
								by <span class='authorname'>Tony Lukasavage</span><br>
								<a class="icon-bg icon-link" href="question/155832/tableview-listview-and-best-practices.html#answer-267032" rel="permalink">permalink</a>
							</div>

							<h5>4 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Great explanation, and kudos on your lifts… 365 squat, 450 DL and 5 mi in 34:22. That&#39;s a lethal combo!</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 9th 2013, 3:30:23 pm">August 9th 2013</span>
											by <span class='authorname'>David Glass</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Some background info on this next question: I have been doing a lot of BackBone web development, and one thing that sort of jumps right at me was the apparent disconnect between the current ListItem DataItem and the models; this sort of makes it difficult if you want to bind things like the change event and not have to re-render the entire list.</p>
<p>The new API seems to have kept that part consistent. Is there a way to update a ListItem by setting&#x2F;changing it&#39;s DataItem properties?</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 10th 2013, 9:45:29 am">August 10th 2013</span>
											by <span class='authorname'>David Glass</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Ha, about 7 years ago those were my numbers, at about 185 lbs. But I digress…</p>
<p>Right now, any change to the collection or models associated with the list should be reflected in the UI. We&#39;e working to make this more efficient, but it should work in its current state.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 12th 2013, 12:57:44 pm">August 12th 2013</span>
											by <span class='authorname'>Tony Lukasavage</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Great post, thanks for the info and samples! Any thoughts currently on getting &quot;pull to refresh&quot; and &quot;infinite scroll&quot; to work on these list views? For &quot;pull to refresh&quot; I can live with a refresh button, but a workaround for endless scroll has me stumped. How would you approach adding data to the bottom of the List View only when needed?</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 13th 2013, 2:30:40 am">August 13th 2013</span>
											by <span class='authorname'>Juergen Berkessel</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>2</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-267028">
				
						<section>
							<p>1)  I can tell you I do the same thing for layout purposes.  I would also like to hear from more experienced developers on best practice.</p>
<p>2)  The ListView templates I&#39;ve used have been every bit as customizable as TableView rows and the performance gain is incredible.  I have taken to using a nightly build of the SDK because not all of the features I want to use are part of the current GA version, but it has been quite stable.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 9th 2013, 11:49:53 am">August 9th 2013</span>
								by <span class='authorname'>Mark Boyer</span><br>
								<a class="icon-bg icon-link" href="question/155832/tableview-listview-and-best-practices.html#answer-267028" rel="permalink">permalink</a>
							</div>

							<h5>2 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>I also did not mention that the using the templates only the code to populate the list is in the controller, all the definition is in the view XML.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 9th 2013, 11:52:10 am">August 9th 2013</span>
											by <span class='authorname'>Mark Boyer</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Thanks, Mark. Do you have a code sample? I haven&#39;t found any good &quot;intuitive&quot; examples online.</p>
<p>Based on the expected performance gains advice, ListViews seem to be the way to go.</p>
<p>I&#39;d still like to hear more from other users re the View within View approach. Coming from an HTML background, I have the tendency to see a View as a DIV.</p>
<p>I am also wondering if I can instantiate a List Item from a controller and just pop in a View instance, something along the lines of (pseudo-code warning)</p>
<pre><code class="hljs">    <span class="hljs-comment">/**
    *    THIS IS JUST PSEUDO-CODE!
    */</span>

    <span class="hljs-keyword">var</span> <span class="hljs-keyword">lv</span> =     Titanium.UI.createListView();

    <span class="hljs-keyword">var</span> <span class="hljs-keyword">li</span> = Titanium.UI.createListItem();
    <span class="hljs-keyword">var</span> c = Titanium.UI.createController(
                <span class="hljs-string">"CustomRowTemplate"</span>
            ).getView();
    <span class="hljs-keyword">li</span>.<span class="hljs-keyword">append</span>(c);
    <span class="hljs-keyword">lv</span>.<span class="hljs-keyword">append</span>(<span class="hljs-keyword">li</span>);
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="August 9th 2013, 12:16:20 pm">August 9th 2013</span>
											by <span class='authorname'>David Glass</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
