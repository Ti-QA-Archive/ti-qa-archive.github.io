<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Distributing an Android App with Titanium v3.3.0.v20131218154851 » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Distributing an Android App with Titanium v3.3.0.v20131218154851</h1>
		</header>
		<section>
			<p>Our customers complain for quite some time now, that our Apps do not work on Android 4.4.x … we are searching for a way to change this, would even take the risk in using a beta TI-SDK.</p>
<p>So we have to use SDK v3.3.0.v20131218154851 because:</p>
<ul>
<li>3.1.x doesn&#39;t work because there is no support for Android 4.4.x</li>
<li>3.2.x doesn&#39;t work because distributing with a non englisch language doesn&#39;t work (we are german)</li>
</ul>
<p>In our Apps we have this piece of code:</p>
<pre><code class="hljs">    <span class="hljs-tag">&lt;<span class="hljs-title">android</span> <span class="hljs-attribute">xmlns:android</span>=<span class="hljs-value">"http://schemas.android.com/apk/res/android"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">uses-sdk</span> <span class="hljs-attribute">android:maxSdkVersion</span>=<span class="hljs-value">"19"</span> <span class="hljs-attribute">android:minSdkVersion</span>=<span class="hljs-value">"11"</span> <span class="hljs-attribute">android:targetSdkVersion</span>=<span class="hljs-value">"11"</span>/&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">manifest</span> <span class="hljs-attribute">android:versionCode</span>=<span class="hljs-value">"20"</span> <span class="hljs-attribute">android:versionName</span>=<span class="hljs-value">"1.4.1"</span>/&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">manifest</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">application</span> <span class="hljs-attribute">android:hardwareAccelerated</span>=<span class="hljs-value">"true"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">activity-kommentar</span>
                    <span class="hljs-attribute">android:configChanges</span>=<span class="hljs-value">"keyboardHidden|orientation"</span>
                    <span class="hljs-attribute">android:label</span>=<span class="hljs-value">"inside-digital.de"</span>
                    <span class="hljs-attribute">android:name</span>=<span class="hljs-value">".insidedigitaldeActivity"</span> <span class="hljs-attribute">android:theme</span>=<span class="hljs-value">"@style/Theme.Titanium"</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-title">intent-filter</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-title">action</span> <span class="hljs-attribute">android:name</span>=<span class="hljs-value">"android.intent.action.VIEW"</span>/&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-title">category</span> <span class="hljs-attribute">android:name</span>=<span class="hljs-value">"android.intent.category.DEFAULT"</span>/&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-title">category</span> <span class="hljs-attribute">android:name</span>=<span class="hljs-value">"android.intent.category.BROWSABLE"</span>/&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-title">category</span> <span class="hljs-attribute">android:name</span>=<span class="hljs-value">"android.intent.category.LAUNCHER"</span>/&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-title">data</span> <span class="hljs-attribute">android:scheme</span>=<span class="hljs-value">"insidedigital"</span>/&gt;</span>
                    <span class="hljs-tag">&lt;/<span class="hljs-title">intent-filter</span>&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-title">activity-kommentar</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-title">application</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">manifest</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">android</span>&gt;</span>
</code></pre><p>Put it in your TiApp.xml and it works … with SDK 3.1.3. Well at least it worked prior to some updates for Studio, now I get this error:</p>
<pre><code class="hljs">/AndroidManifest.<span class="hljs-string">xml:</span><span class="hljs-number">6</span>: <span class="hljs-string">error:</span> No resource identifier found <span class="hljs-keyword">for</span> attribute <span class="hljs-string">'hardwareAccelerated'</span> <span class="hljs-keyword">in</span> <span class="hljs-keyword">package</span> <span class="hljs-string">'android'</span>
</code></pre><p>But this is not the point ….</p>
<p>With SDK 3.3 nothing of the above code shows up in the AndroidManifest.xml, it looks like this:</p>
<pre><code class="hljs">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;manifest xmlns:android=<span class="hljs-string">"http://schemas.android.com/apk/res/android"</span> <span class="hljs-keyword">package</span>=<span class="hljs-string">"de.insidedigital"</span> <span class="hljs-string">android:</span>versionCode=<span class="hljs-string">"1"</span> <span class="hljs-string">android:</span>versionName=<span class="hljs-string">"1.4.1"</span>&gt;
    &lt;uses-sdk <span class="hljs-string">android:</span>minSdkVersion=<span class="hljs-string">"10"</span> <span class="hljs-string">android:</span>targetSdkVersion=<span class="hljs-string">"19"</span>/&gt;
    &lt;application <span class="hljs-string">android:</span>icon=<span class="hljs-string">"@drawable/idappicon"</span> <span class="hljs-string">android:</span>label=<span class="hljs-string">"inside-digital.de"</span> <span class="hljs-string">android:</span>name=<span class="hljs-string">"InsideDigitalDeApplication"</span> <span class="hljs-string">android:</span>debuggable=<span class="hljs-string">"false"</span> <span class="hljs-string">android:</span>hardwareAccelerated=<span class="hljs-string">"true"</span>&gt;
        &lt;activity <span class="hljs-string">android:</span>name=<span class="hljs-string">".InsideDigitalDeActivity"</span> <span class="hljs-string">android:</span>label=<span class="hljs-string">"@string/app_name"</span> <span class="hljs-string">android:</span>theme=<span class="hljs-string">"@style/Theme.Titanium"</span> <span class="hljs-string">android:</span>configChanges=<span class="hljs-string">"keyboardHidden|orientation|screenSize"</span>&gt;
            &lt;intent-filter&gt;
                &lt;action <span class="hljs-string">android:</span>name=<span class="hljs-string">"android.intent.action.MAIN"</span>/&gt;
                &lt;category <span class="hljs-string">android:</span>name=<span class="hljs-string">"android.intent.category.LAUNCHER"</span>/&gt;
            &lt;/intent-filter&gt;
        &lt;/activity&gt;
        &lt;activity <span class="hljs-string">android:</span>name=<span class="hljs-string">"org.appcelerator.titanium.TiActivity"</span> <span class="hljs-string">android:</span>configChanges=<span class="hljs-string">"keyboardHidden|orientation|screenSize"</span>/&gt;
        &lt;activity <span class="hljs-string">android:</span>name=<span class="hljs-string">"org.appcelerator.titanium.TiTranslucentActivity"</span> <span class="hljs-string">android:</span>configChanges=<span class="hljs-string">"keyboardHidden|orientation|screenSize"</span> <span class="hljs-string">android:</span>theme=<span class="hljs-string">"@android:style/Theme.Translucent"</span>/&gt;
        &lt;activity <span class="hljs-string">android:</span>name=<span class="hljs-string">"ti.modules.titanium.ui.android.TiPreferencesActivity"</span> <span class="hljs-string">android:</span>configChanges=<span class="hljs-string">"screenSize"</span>/&gt;
        &lt;service <span class="hljs-string">android:</span>name=<span class="hljs-string">"org.appcelerator.titanium.analytics.TiAnalyticsService"</span> <span class="hljs-string">android:</span>exported=<span class="hljs-string">"false"</span>/&gt;
    &lt;/application&gt;
    &lt;uses-permission <span class="hljs-string">android:</span>name=<span class="hljs-string">"android.permission.INTERNET"</span>/&gt;
    &lt;uses-permission <span class="hljs-string">android:</span>name=<span class="hljs-string">"android.permission.ACCESS_NETWORK_STATE"</span>/&gt;
    &lt;uses-permission <span class="hljs-string">android:</span>name=<span class="hljs-string">"android.permission.ACCESS_WIFI_STATE"</span>/&gt;
    &lt;uses-permission <span class="hljs-string">android:</span>name=<span class="hljs-string">"android.permission.WRITE_EXTERNAL_STORAGE"</span>/&gt;
&lt;/manifest&gt;
</code></pre><p>There is a android:versionCode=&quot;1&quot; in it but there is no possibility to change this.</p>
<p>Has anyone an idea how to support Android 4.4.x with Titanium without losing the custom changes we made to the TiApp.xml?</p>
<p>Any help &#x2F; idea would be very much appreciated, we are quite desperate to get our apps working again.</p>
<p>Big thanks for everything</p>
<p>Falko</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="December 19th 2013, 12:37:06 pm">December 19th 2013</span>
				by <span class='authorname'>Falko Weigelt</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>distributing</span></li>
					
						<li><span class='tagname'>studio 3.2</span></li>
					
						<li><span class='tagname'>ti v3.3.0.v201312181</span></li>
					
				</ul>
			

			<section>
				<h5>1 Comment</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>3.2 isn&#39;t actually released yet. Did you file a JIRA reporting your issue with 3.2 ?</p>
</div>
							<div class="author">
								&mdash; commented <span title="December 19th 2013, 1:09:23 pm">December 19th 2013</span>
								by <span class='authorname'>Nick Milner</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-272774">
				
						<section>
							<p>Hi Falko,</p>
<p>at first I want to let you know that I don&#39;t have any issues on Android 4.4.2 with Titanium 3.1.2. Even if the official 4.4 support is available in Titanium 3.2.0 you can target Android 4.4 and future versions with the current SDK.</p>
<p>One thing that I don&#39;t like in your manifest ist this line:</p>
<pre><code class="hljs">&lt;uses-sdk <span class="hljs-string">android:</span>maxSdkVersion=<span class="hljs-string">"19"</span> <span class="hljs-string">android:</span>minSdkVersion=<span class="hljs-string">"11"</span> <span class="hljs-string">android:</span>targetSdkVersion=<span class="hljs-string">"11"</span>/&gt;
</code></pre><p>You should not specify <strong>android:maxSdkVersion</strong> because this tells Android that devices with higher sdk levels are not allowed to install your app. I suggest to update this to:</p>
<pre><code class="hljs">&lt;uses-sdk <span class="hljs-string">android:</span>minSdkVersion=<span class="hljs-string">"11"</span> <span class="hljs-string">android:</span>targetSdkVersion=<span class="hljs-string">"19"</span>/&gt;
</code></pre><p>Try installing the latest stable version of titanium and build your app again.</p>
<pre><code class="hljs">npm <span class="hljs-keyword">remove</span> -g titanium
npm <span class="hljs-keyword">install</span> -g titanium
</code></pre><p>Everything should work fine. And just in case you still need to force titanium to use your custom Android Manifest then copy the AndroidManifest.xml from &#x2F;build&#x2F;android&#x2F;AndroidManifest.xml to &#x2F;platform&#x2F;android&#x2F;AndroidManifest.xml. The next time you are building your app Titanium will use that Manifest but it will also create a generated AndroidManifest.xml.gen next to it, so you can compare the generated file with your actual one.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="December 19th 2013, 1:17:16 pm">December 19th 2013</span>
								by <span class='authorname'>Manuel Lehner</span><br>
								<a class="icon-bg icon-link" href="question/160644/distributing-an-android-app-with-titanium-v330v20131218154851.html#answer-272774" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
