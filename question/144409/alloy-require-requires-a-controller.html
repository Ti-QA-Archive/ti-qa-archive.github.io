<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Alloy Require requires a controller? » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Alloy Require requires a controller?</h1>
		</header>
		<section>
			<p>Hello, </p>
<p>I am trying to implement the &lt;Require&gt; markup from this <a href="https:&#x2F;&#x2F;github.com&#x2F;appcelerator&#x2F;alloy&#x2F;tree&#x2F;master&#x2F;test&#x2F;apps&#x2F;basics&#x2F;markup_require">example</a>, as we can see middle.xml view is required and used without a controller for it. </p>
<p>The problem is that in my code I have &lt;Require src=&quot;headerV&quot; id=&quot;headerV&quot;&#x2F;&gt; in my index.xml view, so in the views folder I have my headerV.xml, but when I run my app, I get an error for missing headerV controller <code>[ERROR] Script Error = Couldn&amp;#39;t find module: alloy&amp;#x2F;controllers&amp;#x2F;headerV</code></p>
<p>Why is that and how can I fix it?<br>(Running Titanium latest SDK on OSX iPhone simulator)</p>
<p>Thanks.</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="November 6th 2012, 10:14:31 am">November 6th 2012</span>
				by <span class='authorname'>Borislav Pantaleev</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>alloy</span></li>
					
						<li><span class='tagname'>require</span></li>
					
				</ul>
			

			<section>
				<h5>9 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Sometimes the iOS sim has issues refreshing content. Did you try running it more than once? If so, we&#39;re going to need more information. Can you give the full test sample that fails?</p>
</div>
							<div class="author">
								&mdash; commented <span title="November 6th 2012, 12:28:17 pm">November 6th 2012</span>
								by <span class='authorname'>Tony Lukasavage</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>I know about the refreshing issue, or at least I think I do, because every time I run my app I delete manually the controllers folder from Resources&#x2F;alloy&#x2F;. Otherwise the app would run with my latest settings&#x2F;code ignoring the new changes. Isn&#39;t there a fix for that?</p>
<p>I tried it numerous times and the result is always the same, here is some code that should be sufficient:<br>index.xml</p>
<pre><code class="hljs">&lt;Alloy&gt;
    &lt;<span class="hljs-keyword">Window</span>&gt;
        &lt;Require src=<span class="hljs-string">"headerV"</span> id=<span class="hljs-string">"headerV"</span>/&gt;
        &lt;<span class="hljs-keyword">View</span> id=<span class="hljs-string">"header"</span>&gt;&lt;<span class="hljs-keyword">Label</span> id=<span class="hljs-string">"headerText"</span>&gt;Header&lt;/<span class="hljs-keyword">Label</span>&gt;&lt;/<span class="hljs-keyword">View</span>&gt;
        &lt;<span class="hljs-keyword">View</span> id=<span class="hljs-string">"nav"</span>&gt;
            &lt;<span class="hljs-keyword">Label</span> <span class="hljs-keyword">class</span>=<span class="hljs-string">"navButton"</span> onClick=<span class="hljs-string">"openTab"</span> controllerName=<span class="hljs-string">"home"</span>&gt;Home&lt;/<span class="hljs-keyword">Label</span>&gt;
            &lt;<span class="hljs-keyword">Label</span> <span class="hljs-keyword">class</span>=<span class="hljs-string">"navButton"</span> onClick=<span class="hljs-string">"openTab"</span> controllerName=<span class="hljs-string">"news"</span>&gt;<span class="hljs-keyword">News</span>&lt;/<span class="hljs-keyword">Label</span>&gt;
            &lt;<span class="hljs-keyword">Label</span> <span class="hljs-keyword">class</span>=<span class="hljs-string">"navButton"</span> onClick=<span class="hljs-string">"openTab"</span> controllerName=<span class="hljs-string">"info"</span>&gt;Info&lt;/<span class="hljs-keyword">Label</span>&gt;
            &lt;<span class="hljs-keyword">Label</span> <span class="hljs-keyword">class</span>=<span class="hljs-string">"navButton"</span> onClick=<span class="hljs-string">"openTab"</span> controllerName=<span class="hljs-string">"more"</span>&gt;<span class="hljs-keyword">More</span>&lt;/<span class="hljs-keyword">Label</span>&gt;
        &lt;/<span class="hljs-keyword">View</span>&gt;
    &lt;/<span class="hljs-keyword">Window</span>&gt;
&lt;/Alloy&gt;
</code></pre><p>headerV.xml</p>
<pre><code class="hljs"><span class="hljs-tag">&lt;<span class="hljs-title">Alloy</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">View</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">Label</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"t"</span>&gt;</span>Middle<span class="hljs-tag">&lt;/<span class="hljs-title">Label</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">View</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">Alloy</span>&gt;</span>
</code></pre><p>and index.js</p>
<pre><code class="hljs">$.index.open();

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">openTab</span>(<span class="hljs-params">e</span>) </span>{  
   controller = Alloy.createController(e.source.controllerName);
   controller.openView($.index, $.headerText);
}
</code></pre><p>Another thing I want to ask is how to select the whole &quot;header&quot; view (I want to pass it as an argument, insted of passing just the $.headerText). I tried $.index.getView(&#39;header&#39;)); and $.header.getView()); with no success.</p>
<p>Thanks for your time.</p>
</div>
							<div class="author">
								&mdash; commented <span title="November 6th 2012, 12:48:03 pm">November 6th 2012</span>
								by <span class='authorname'>Borislav Pantaleev</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>After investigation the automatically created controller in the alloy folder, I&#39;ve decided to delete the code there and leave only </p>
<pre><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Controller</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-built_in">require</span>(<span class="hljs-string">"alloy/controllers/BaseController"</span>).apply(<span class="hljs-keyword">this</span>, <span class="hljs-built_in">Array</span>.prototype.slice.call(<span class="hljs-built_in">arguments</span>));
    <span class="hljs-keyword">var</span> $ = <span class="hljs-keyword">this</span>, exports = {};
    _.extend($, $.__views);
    _.extend($, exports);
}

<span class="hljs-keyword">var</span> Alloy = <span class="hljs-built_in">require</span>(<span class="hljs-string">"alloy"</span>), Backbone = Alloy.Backbone, _ = Alloy._, A$ = Alloy.A;

<span class="hljs-built_in">module</span>.exports = Controller;
</code></pre><p>on the next run, everything was fine and the code was restored. So I assume this as some kind of a bug maybe? I guess the generated code was broken (too bad I can&#39;t reproduce it for comparison). Answers to previous questions would be appreciated :)</p>
</div>
							<div class="author">
								&mdash; commented <span title="November 6th 2012, 1:10:05 pm">November 6th 2012</span>
								by <span class='authorname'>Borislav Pantaleev</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Your refresh issue is likely because you have platform-specific folders (android, iphone, mobileweb) in your <strong>Resources</strong> folder that you don&#39;t have in your <strong>app&#x2F;assets</strong> folder. You need to have those in app&#x2F;assets or Alloy will not delete the existing contents of the Resources folder. This is an artifact bug from projects built with older versions of Alloy and should not occur anymore. You just need to copy any platform-specific folder from Resources to app&#x2F;assets and on the next run everything will &quot;refresh&quot; correctly from then on in.</p>
</div>
							<div class="author">
								&mdash; commented <span title="November 6th 2012, 2:07:08 pm">November 6th 2012</span>
								by <span class='authorname'>Tony Lukasavage</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>The test code you gave me shows me only a black screen and does not produce any error. Is there something missing? Styles, code, views? Can you create a reproducible test case so I can help troubleshoot?</p>
<p>Also, <strong>$.header</strong> would access the whole header in the index.js file.</p>
</div>
							<div class="author">
								&mdash; commented <span title="November 6th 2012, 2:10:16 pm">November 6th 2012</span>
								by <span class='authorname'>Tony Lukasavage</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>I was unable to reproduce the require problem on a new test project that I&#39;ve started. Should I try some more (alloy version is the same on the 2 projects)?</p>
<p>Thanks for the refreshing insight, solved that. </p>
<p>$.header indeed selects the whole &quot;header&quot; view, but how do I get from that to the items inside. In particular I want to access the headerText label which is inside the view </p>
<pre><code class="hljs"><span class="hljs-tag">&lt;<span class="hljs-title">View</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"header"</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">Label</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"headerText"</span>&gt;</span>Header<span class="hljs-tag">&lt;/<span class="hljs-title">Label</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">View</span>&gt;</span>
</code></pre><p>So by passing the $.header I could manipulate the inside elements from other controllers.</p>
<p>I&#39;ve tried $.header.headerText and $.header.getView(&#39;headerText&#39;) with no success. </p>
<p>Thank you for your time.</p>
</div>
							<div class="author">
								&mdash; commented <span title="November 7th 2012, 5:52:35 am">November 7th 2012</span>
								by <span class='authorname'>Borislav Pantaleev</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Pass the <code>$</code> itself. That is a reference to the controller and it holds references to all the IDed elements.</p>
</div>
							<div class="author">
								&mdash; commented <span title="November 7th 2012, 10:24:04 am">November 7th 2012</span>
								by <span class='authorname'>Tony Lukasavage</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Thanks again! It&#39;s very thoughtful to pass the <code>$</code> :) I&#39;m starting to like Alloy more and more, but my main concern now is how to create subviews which are to be included in my main conroller view without creating a specific controller for everyone of them. Is that even possible with Alloy? </p>
<p>What I mean is that I have news.js controller and a tableView in news.xml view, so for generating view rows I have to call a new controller(row = Alloy.createController(&#39;newsRow&#39;)) and get it&#39;s view, or I should create the row with a function within news.js, setting all of it&#39;s styles in the controller. Which kinda messes up the whole idea for MVC.</p>
</div>
							<div class="author">
								&mdash; commented <span title="November 7th 2012, 12:39:11 pm">November 7th 2012</span>
								by <span class='authorname'>Borislav Pantaleev</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>model-view binding on tableviews is coming very soon, which will allow you to create n XML view for the your rows, specify a collection as a table&#39;s data source, then bind them all together simply in markup so that the data in your collection is rendered as rows. No code in the controller necessary.</p>
</div>
							<div class="author">
								&mdash; commented <span title="November 19th 2012, 2:26:30 pm">November 19th 2012</span>
								by <span class='authorname'>Tony Lukasavage</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>3</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>3 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-253420">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>For anyone else referencing this Q&amp;A question, just read the full listing of comments under the main question. Borislav&#39;s issues were handled there.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="December 25th 2012, 7:20:34 pm">December 25th 2012</span>
								by <span class='authorname'>Tony Lukasavage</span><br>
								<a class="icon-bg icon-link" href="question/144409/alloy-require-requires-a-controller#answer-253420" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>2</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-253324">
				
						<section>
							<p>According to the <a href="http:&#x2F;&#x2F;docs.appcelerator.com&#x2F;titanium&#x2F;latest&#x2F;#!&#x2F;guide&#x2F;Alloy_XML_Markup-section-35621528_AlloyXMLMarkup-RequireElement">docs</a> the sample code is missing a <code>type=&amp;#39;view&amp;#39;</code> declaration in the Require element.  Try the following:</p>
<p>&lt;Require type=&quot;view&quot; src=&quot;headerV&quot; id=&quot;headerV&quot;&#x2F;&gt;</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="December 23rd 2012, 7:36:34 pm">December 23rd 2012</span>
								by <span class='authorname'>simon giles</span><br>
								<a class="icon-bg icon-link" href="question/144409/alloy-require-requires-a-controller#answer-253324" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Also documented <a href="http:&#x2F;&#x2F;docs.appcelerator.com&#x2F;titanium&#x2F;latest&#x2F;#!&#x2F;guide&#x2F;Views_without_Controllers">here</a></p>
</p>
										<div class="author">
											&mdash; commented <span title="December 23rd 2012, 8:03:41 pm">December 23rd 2012</span>
											by <span class='authorname'>simon giles</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-282856">
				
						<section>
							<p>For anyone else coming at this:</p>
<p>The comment thread suggested by Tony helped but it took a while to scan through.</p>
<p>All I had to do was &quot;ti clean&quot; then re-build the app.</p>
<p>Before then I was getting the same error as OP.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="October 3rd 2014, 7:08:52 am">October 3rd 2014</span>
								by <span class='authorname'>Phil Smithson</span><br>
								<a class="icon-bg icon-link" href="question/144409/alloy-require-requires-a-controller#answer-282856" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
