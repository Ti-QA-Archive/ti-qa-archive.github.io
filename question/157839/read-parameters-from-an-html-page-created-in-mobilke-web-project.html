<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Read Parameters From an Html Page created in mobilke web project » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Read Parameters From an Html Page created in mobilke web project</h1>
		</header>
		<section>
			<p>dear All<br>i have created a new mobile web project based on html application .and i publish it using (http:&#x2F;&#x2F;localhost:81&#x2F;Test.html )<br>i wanted to print the parameters send to this html page<br>i am using window.location.href that gives me http:&#x2F;&#x2F;localhost:81&#x2F;Test.html and not http:&#x2F;&#x2F;localhost:81&#x2F;Test.html?q=&#39;cat‘</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="September 30th 2013, 4:06:08 am">September 30th 2013</span>
				by <span class='authorname'>Pamela Rizk</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>mobile web project</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>13</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>13 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-269382">
				
						<section>
							<p>You&#39;ll have to parse them out of <code>location.search</code>:</p>
<pre><code class="hljs"><span class="hljs-comment">// this will only work in Titanium Mobile Web</span>
<span class="hljs-keyword">var</span> params = {};
location.search.substring(<span class="hljs-number">1</span>).split(<span class="hljs-string">'&amp;'</span>).<span class="hljs-keyword">forEach</span>(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(chunk)</span> </span>{
    <span class="hljs-keyword">var</span> parts = chunk.split(<span class="hljs-string">'='</span>);
    params[parts[<span class="hljs-number">0</span>]] = parts[<span class="hljs-number">1</span>];
});
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="September 30th 2013, 6:38:49 am">September 30th 2013</span>
								by <span class='authorname'>Chris Barber</span><br>
								<a class="icon-bg icon-link" href="../../question/157839/read-parameters-from-an-html-page-created-in-mobilke-web-project.html#answer-269382" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-269397">
				
						<section>
							<p>below is my code :<br>but it is not working:<br>function getparams()<br>{<br>    &#x2F;&#x2F; this will only work in Titanium Mobile Web<br>var params = {};<br>location.search.substring(1).split(&#39;&amp;&#39;).forEach(function (chunk) {<br>    var parts = chunk.split(&#39;=&#39;);<br>    params[parts[0]] = parts[1];<br>});<br>return params;<br>}</p>
<p>function test2()<br>    {<br>        var params= {};<br>        params = getparams();<br>        var search_query= params[&#39;q&#39;];<br>        alert(search_query);<br>    }</p>
<p>&lt;&#x2F;script&gt;</p>
<p>&lt;a href=&quot;javascript:test2(); &quot;&gt;Click here&lt;&#x2F;a&gt;<br>i put http:&#x2F;&#x2F;localhost:81&#x2F;test.html?q=a<br>why the alert is undefined instead of a?<br>could you please help</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="September 30th 2013, 9:18:57 am">September 30th 2013</span>
								by <span class='authorname'>Pamela Rizk</span><br>
								<a class="icon-bg icon-link" href="../../question/157839/read-parameters-from-an-html-page-created-in-mobilke-web-project.html#answer-269397" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>I&#39;m not sure why you&#39;re adding an HTML &lt;a&gt; tag for a Titanium Mobile Web app. You should be using Ti.UI.Button.</p>
</p>
										<div class="author">
											&mdash; commented <span title="October 3rd 2013, 2:26:14 pm">October 3rd 2013</span>
											by <span class='authorname'>Chris Barber</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-269540">
				
						<section>
							<p>dear All </p>
<p>any news for the below.i appreciate your help.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="October 3rd 2013, 10:25:02 am">October 3rd 2013</span>
								by <span class='authorname'>Pamela Rizk</span><br>
								<a class="icon-bg icon-link" href="../../question/157839/read-parameters-from-an-html-page-created-in-mobilke-web-project.html#answer-269540" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-269579">
				
						<section>
							<p>dear chris<br>i am using the balise &lt;a&gt; because it is an html page .</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="October 4th 2013, 3:11:33 am">October 4th 2013</span>
								by <span class='authorname'>Pamela Rizk</span><br>
								<a class="icon-bg icon-link" href="../../question/157839/read-parameters-from-an-html-page-created-in-mobilke-web-project.html#answer-269579" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Perhaps I don&#39;t understand what you are trying to do, but it sounds like you are using Titanium Mobile Web in a way that it was not design to work. Please submit some actual code so that I can better understand what you are trying to do.</p>
</p>
										<div class="author">
											&mdash; commented <span title="October 4th 2013, 3:14:44 am">October 4th 2013</span>
											by <span class='authorname'>Chris Barber</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-269580">
				
						<section>
							<p>dear Chris </p>
<p> i have created a new mobile web project based on html application .and i publish it using (http:&#x2F;&#x2F;localhost:81&#x2F;Test.html ) i wanted to print the parameters send to this html page for example if i write http:&#x2F;&#x2F;localhost:81 http:&#x2F;&#x2F;localhost:81&#x2F;Test.html?q=&#39;cat‘ i want an alert for &#39;cat&#39;.<br>i used as you suggested :function getparams(){var params = {}; location.search.substring(1).split(&#39;&amp;&#39;).forEach(function (chunk) { var parts = chunk.split(&#39;=&#39;); params[parts[0]] = parts[1]; }); return params;<br>}<br>function test2() { var params= {}; params = getparams(); var search_query= params[&#39;q&#39;]; alert(search_query); }</p>
<p>then  i put the below :<br>&lt;a href=&quot;javascript:test2(); &quot;&gt;Click here&lt;&#x2F;a&gt;<br>so that once i ckick on click here a message with &#39;cat&#39;  will be displayed.</p>
<p>Appreciate your help since i am stuck for one week.<br>thank you</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="October 4th 2013, 3:17:57 am">October 4th 2013</span>
								by <span class='authorname'>Pamela Rizk</span><br>
								<a class="icon-bg icon-link" href="../../question/157839/read-parameters-from-an-html-page-created-in-mobilke-web-project.html#answer-269580" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>You should not be writing any HTML. You should creating a button using Ti.UI.createButton(). With Titanium Mobile Web, you write apps in JavaScript and let the platform generate the HTML for you.</p>
<pre><code class="hljs">Ti.UI.setBackgroundColor(<span class="hljs-string">'#fff'</span>);

<span class="hljs-keyword">var</span> win = Ti.UI.createWindow();
<span class="hljs-keyword">var</span> button = Ti.UI.createButton({ title: <span class="hljs-string">'Click here'</span> });

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getParams</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> params = {};
    location.search.substring(<span class="hljs-number">1</span>).split(<span class="hljs-string">'&amp;'</span>).forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">chunk</span>) </span>{
        <span class="hljs-keyword">var</span> parts = chunk.split(<span class="hljs-string">'='</span>); params[parts[<span class="hljs-number">0</span>]] = parts[<span class="hljs-number">1</span>];
    });
    <span class="hljs-keyword">return</span> params;
}

button.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
    alert(<span class="hljs-built_in">JSON</span>.stringify(getParams(), <span class="hljs-literal">null</span>, <span class="hljs-string">'\t'</span>));
});

win.add(button);
win.open();
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="October 4th 2013, 3:31:52 am">October 4th 2013</span>
											by <span class='authorname'>Chris Barber</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-269582">
				
						<section>
							<p>dear Chris<br>ok for a simple parameter but if i want to send a json parameter as a parameter to the url i can&#39;t.<br>how can i solve it?</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="October 4th 2013, 3:48:24 am">October 4th 2013</span>
								by <span class='authorname'>Pamela Rizk</span><br>
								<a class="icon-bg icon-link" href="../../question/157839/read-parameters-from-an-html-page-created-in-mobilke-web-project.html#answer-269582" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Well, you should probably convert the JSON object to separate query parameters, then reassemble, but if you properly escape the JSON data in the URL, you can decode, then parse it.</p>
<pre><code class="hljs">// http://localhost/Test.html?q=<span class="hljs-decorator">%7B</span><span class="hljs-decorator">%22hello</span><span class="hljs-decorator">%22</span><span class="hljs-decorator">%3A</span><span class="hljs-decorator">%22world</span><span class="hljs-decorator">%22</span><span class="hljs-decorator">%7D</span>
var p = getParams();
var obj = JSON.parse(decodeURIComponent(p.q));
alert(obj);
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="October 4th 2013, 4:00:29 am">October 4th 2013</span>
											by <span class='authorname'>Chris Barber</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-269583">
				
						<section>
							<p>Dear Chris ,<br>.below is my case<br>i have to send the below http:&#x2F;&#x2F;localhost&#x2F;Test.html?q={a:{b:1;c:2;d:3}}<br>how can i convert the json to a query parameter?<br>and i appreciate your quick help , you are helping me solving my problem</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="October 4th 2013, 4:39:24 am">October 4th 2013</span>
								by <span class='authorname'>Pamela Rizk</span><br>
								<a class="icon-bg icon-link" href="../../question/157839/read-parameters-from-an-html-page-created-in-mobilke-web-project.html#answer-269583" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-269584">
				
						<section>
							<p>which means i have:<br>var data = { one: &#39;first&#39;, two: &#39;second&#39; };<br>and i want to convert it to one=First&amp;Two=second</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="October 4th 2013, 5:19:42 am">October 4th 2013</span>
								by <span class='authorname'>Pamela Rizk</span><br>
								<a class="icon-bg icon-link" href="../../question/157839/read-parameters-from-an-html-page-created-in-mobilke-web-project.html#answer-269584" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Try:</p>
<pre><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">serialize</span>(<span class="hljs-params">obj</span>) </span>{
    <span class="hljs-keyword">var</span> a = [];
    <span class="hljs-built_in">Object</span>.keys(obj).forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">key</span>) </span>{
        a.push(key + <span class="hljs-string">'='</span> + <span class="hljs-built_in">encodeURIComponent</span>(obj[key]));
    });
    <span class="hljs-keyword">return</span> a.join(<span class="hljs-string">'&amp;'</span>);
}
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="October 4th 2013, 10:21:56 am">October 4th 2013</span>
											by <span class='authorname'>Chris Barber</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-269598">
				
						<section>
							<p>ok just one more question if i have the below:<br>?test1=1&amp;test2=2&amp;test3=3 as parameter to this html<br>how to use for condition in order to alert every single parameter</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="October 4th 2013, 11:31:34 am">October 4th 2013</span>
								by <span class='authorname'>Pamela Rizk</span><br>
								<a class="icon-bg icon-link" href="../../question/157839/read-parameters-from-an-html-page-created-in-mobilke-web-project.html#answer-269598" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Try:</p>
<pre><code class="hljs">button.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> obj = getParams();
    <span class="hljs-built_in">Object</span>.keys(obj).forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">key</span>) </span>{
        alert(key + <span class="hljs-string">' = '</span> + obj[key]);
    });
});
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="October 4th 2013, 11:39:53 am">October 4th 2013</span>
											by <span class='authorname'>Chris Barber</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-269601">
				
						<section>
							<p>dear Chris<br>thbk you this was very helpfull.<br>i realize also that in titanium mobile web project i cannot call a wcf service  while in an android project i can .<br>so can i call a wcf in mobile web project or can i camm a web service ?</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="October 4th 2013, 11:51:23 am">October 4th 2013</span>
								by <span class='authorname'>Pamela Rizk</span><br>
								<a class="icon-bg icon-link" href="../../question/157839/read-parameters-from-an-html-page-created-in-mobilke-web-project.html#answer-269601" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Yes you can call any web service using Ti.Network.createHTTPClient(), however you&#39;ll need a proxy if you want to call a remote domain.</p>
</p>
										<div class="author">
											&mdash; commented <span title="October 4th 2013, 4:16:22 pm">October 4th 2013</span>
											by <span class='authorname'>Chris Barber</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-269602">
				
						<section>
							<p>dear chris<br>is there anyway to execute a select statement in Jquery in mobile web project ?</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="October 4th 2013, 11:51:55 am">October 4th 2013</span>
								by <span class='authorname'>Pamela Rizk</span><br>
								<a class="icon-bg icon-link" href="../../question/157839/read-parameters-from-an-html-page-created-in-mobilke-web-project.html#answer-269602" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>You should not be using jQuery at all in a Titanium Mobile Web project. Furthermore, Titanium Mobile Web is client side only. You will need to have your app talk to a server that can do the querying for you. This is outside the scope of this Q&amp;A question. Please ask a new question if you need more assistance.</p>
</p>
										<div class="author">
											&mdash; commented <span title="October 4th 2013, 4:17:54 pm">October 4th 2013</span>
											by <span class='authorname'>Chris Barber</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-269745">
				
						<section>
							<p>dear chris </p>
<p>i created a wcf service called &quot;WCFService&quot; where i created the below function:<br> &lt;OperationContract()&gt; <em><br>   &lt;WebInvoke(Method:=&quot;POST&quot;, BodyStyle:=WebMessageBodyStyle.Wrapped, ResponseFormat:=WebMessageFormat.Json)&gt; </em><br>    Function TestPamela() As String</p>
<p>Public Function TestPamela() As String Implements IMobileservice.TestPamela<br>        Return &quot;test&quot;<br>    End Function</p>
<p>and in mobile web project in app.js i called the method already created as below:</p>
<p>var xhr = new Titanium.Network.createHTTPClient();<br>    &#x2F;&#x2F; function code is called when the response data is avaible<br>    xhr.onload = function() {<br>    };<br>    &#x2F;&#x2F; funcion called when an error occured including timeout<br>    xhr.onerror = function(e) {<br>         var Errornumber = &#39;-3&#39;;<br>      &#x2F;&#x2F; this indicate that the response from the other services did not return within a time that the         gateway was prepared to wait<br>         if(this.status == 503 ) {<br>             Errornumber = &#39;-2&#39;;<br>         }  </p>
<pre><code class="hljs">     Ti.API.<span class="hljs-keyword">error</span>(<span class="hljs-keyword">this</span>.status + <span class="hljs-string">' - '</span> + <span class="hljs-keyword">this</span>.statusText);
}; 
</code></pre><p>var url=&#39;http:&#x2F;&#x2F;localhost:81&#x2F;WCFService&#x2F;Service.svc&#x2F;TestPamela&#39;<br>    xhr.open(  &#39;POST&#39;, url, &#39;True&#39;);<br>    xhr.setRequestHeader(&quot;Content-Type&quot;,&quot;application&#x2F;x-www-form-urlencoded&quot;);<br>    xhr.setRequestHeader(&quot;Content-Type&quot;,&quot;application&#x2F;json&quot;, &quot;charset=utf-8&quot;);&#x2F;&#x2F;to get JSon FOrmat response<br>     var dataToSend =&#39; &#39;;<br>     xhr.send(dataToSend); &#x2F;&#x2F;&#x2F;&#x2F;send request with parameters<br>upin running mobile web project an error will be displayed :status=0 and errornumber = -3.<br>could you please help.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="October 8th 2013, 5:50:34 am">October 8th 2013</span>
								by <span class='authorname'>Pamela Rizk</span><br>
								<a class="icon-bg icon-link" href="../../question/157839/read-parameters-from-an-html-page-created-in-mobilke-web-project.html#answer-269745" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>I don&#39;t know anything about WCFServices. You should ask a new question and perhaps someone else who knows more than I do about WCFServices can help you.</p>
</p>
										<div class="author">
											&mdash; commented <span title="October 8th 2013, 4:23:46 pm">October 8th 2013</span>
											by <span class='authorname'>Chris Barber</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-269795">
				
						<section>
							<p>ok thank you chris for your help.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="October 9th 2013, 3:22:04 am">October 9th 2013</span>
								by <span class='authorname'>Pamela Rizk</span><br>
								<a class="icon-bg icon-link" href="../../question/157839/read-parameters-from-an-html-page-created-in-mobilke-web-project.html#answer-269795" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
