<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Tableviews are painfully slow... » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Tableviews are painfully slow...</h1>
		</header>
		<section>
			<p>Ive got some tableviews that have about 5 lines of text with various levels of bold&#x2F;background formatting.  I believe this is making them very slow, and ruins the experience of the app IMO.</p>
<p>I&#39;ve been doing research on slow tableviews and have implemented the fixes ppl here recommend (no use of &#39;auto&#39; dimensions, assign a classname, wrap the entire row into a view and add that view to the row, etc..)  However, none of these methods has really changed anything for me.</p>
<p>My queestion is this, is this just an inherent issue with the fact that we are building apps through the appcelerator system, or is there anything more that we as developers can do to get the tableviews up to speed with native apps which are slickly scrolling?</p>
<p>If it is an appcelerator issue, is it just a matter of time waiting for a build that will be faster with tableview?</p>
<p>Thanks for helping a newbie out!</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="September 25th 2011, 1:35:02 pm">September 25th 2011</span>
				by <span class='authorname'>C H</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>choppy</span></li>
					
						<li><span class='tagname'>slow</span></li>
					
						<li><span class='tagname'>tableview</span></li>
					
						<li><span class='tagname'>tableviewrow</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-234471">
				
						<section>
							<p>Hey, did you solve it? I have the same problem</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="March 27th 2012, 6:21:25 am">March 27th 2012</span>
								by <span class='authorname'>Alexey Mezhevikin</span><br>
								<a class="icon-bg icon-link" href="question/125999/tableviews-are-painfully-slow#answer-234471" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-219473">
				
						<section>
							<p>It would be helpful if you mention desktop or mobile, the SDK level you are using, and if you are trying this on a device or simulator.  Never use the simulator for testing response time.  The iOS simulator is faster than a device, while the android emulator is painfully slow.</p>
<p>Also, how many rows are you trying to populate at once?</p>
<p>In my experience, the single biggest factor is minimizing the number of rows populated at a time.  To that end, I implement a variation on the <a href="https:&#x2F;&#x2F;github.com&#x2F;appcelerator&#x2F;KitchenSink&#x2F;blob&#x2F;master&#x2F;Resources&#x2F;examples&#x2F;table_view_dynamic_scroll.js">dynamic scroll</a> method so I don&#39;t populate more rows until the user needs them.</p>
<p>Since my databases have thousands to tens of thousands of records, I can&#39;t populate the whole table anyway.  So in my app settings I like the user configure how many rows to populate at once, defaulting to the number of visible rows, but giving various other choices.</p>
<p>With a (local) thumbnail image and a few labels of different fonts&#x2F;color&#x2F;bold, I can still get near subsecond response time on a device.  It is fast enough that I will do incremental searches of the database with each letter they type into my search field.</p>
<p>So back to the only question you asked, no, I don&#39;t feel appcelerator projects are inherently slow and can&#39;t have acceptable performance in a tableview.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="September 25th 2011, 2:59:36 pm">September 25th 2011</span>
								by <span class='authorname'>Doug Handy</span><br>
								<a class="icon-bg icon-link" href="question/125999/tableviews-are-painfully-slow#answer-219473" rel="permalink">permalink</a>
							</div>

							<h5>3 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Doug,</p>
<p>I am using the Mobile SDK, v1.8 (continuous build– although its not appreciably different from 1.7X).</p>
<p>My app runs perfectly fine on the simulator, as would be expected, but on the actual device is where it is quite slow (latest gen. ipod touch).</p>
<p>Im only loading about 20 rows at a time (I have a pagination system for my rows), the rows themselves contain 3 lines of text (various colors and fonts) and no images.  There is a container view next to one of the lines of text in order to create a nice box next to the next.</p>
<p>In the real world use of this app, when scrollling the rows, there is just an overall jittry choppy response, which persists even after all 20 rows are loaded.  Im very big on UX and this time of experience im sure will put people off from the app and so the app just isnt something I can release yet.</p>
<p>If this is something that could be improved on with future versions of the SDK, then hey, i&#39;m a patient person, as the Ti platform as a whole is an amazing experience and I would have confidence they can pull it off. </p>
<p>But I was hoping that others who have come across this issue may have found a reliable solution to the problem.</p>
</p>
										<div class="author">
											&mdash; commented <span title="September 25th 2011, 6:10:41 pm">September 25th 2011</span>
											by <span class='authorname'>C H</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>The iphone simulator is very fast and does not indicate real world response time.  It it great for fast debug&#x2F;test cycles with the exception of performance testing.  So basically, ignore performance in the simulator (IMHO).</p>
<p>Does the container view use rounded corners?  I have heard (but not tried to measure myself) this can impact performance.</p>
<p>I would suggest trying a few things:</p>
<ul>
<li><p>If the container has a border radius, remove it or set to 0 and see what impact that makes</p>
</li>
<li><p>Assuming your table rows are tall enough that 20 don&#39;t fit, reduce the number of rows you append per pagination.</p>
</li>
<li><p>Comment out the actual append of the row in your loop and measure how much of the total time is in the rest of the code</p>
</li>
</ul>
<p>One thing I have learned with Titanium is my 30 years experience on other platforms makes me jump to conclusions on where I think the bottleneck would be in a given algorithm.  These turn out to not always be true when I try to measure them.</p>
<p>So I would suggest inserting code to save the timestamp at various points so you can accurately measure the impact of trying different things:</p>
<pre><code class="hljs"><span class="hljs-built_in">var</span> begTime = <span class="hljs-literal">new</span> <span class="hljs-built_in">Date</span>()<span class="hljs-built_in">.</span>getTime();

<span class="hljs-comment">// do something here, like your entire loop, or creating a row</span>

<span class="hljs-built_in">var</span> endTime = <span class="hljs-literal">new</span> <span class="hljs-built_in">Date</span>()<span class="hljs-built_in">.</span>getTime();
<span class="hljs-built_in">var</span> <span class="hljs-built_in">duration</span> = (endTime - begTime)/<span class="hljs-number">1000</span>;
alert(<span class="hljs-string">'Elapsed time was '</span> + <span class="hljs-built_in">duration</span><span class="hljs-built_in">.</span>toFixed(<span class="hljs-number">3</span>) + <span class="hljs-string">' secs'</span>);
</code></pre><p>Then experiment with changes to your code to measure the impact of the changes.  If doing the above on the entire page loop, measure the difference with just commenting out the row append to see how much of the time is not related to enlarging the tableview data set.</p>
<p>Try various row counts – you will likely find the time is NOT linear.  That is, doing 20 rows will likely take less than twice as much time as 10 rows.</p>
<p>More than anything, experiment and see if you can determine something that is a bottleneck.</p>
</p>
										<div class="author">
											&mdash; commented <span title="September 25th 2011, 6:43:44 pm">September 25th 2011</span>
											by <span class='authorname'>Doug Handy</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Thanks Doug, </p>
<p>I will try your idea of time stamps to see where things slow down.  </p>
<p>I don&#39;t have any borderRadius in the rows, I learned the hard way that those do indeed have a significant performance impact.</p>
<p>I will say that the data gets fully loaded and appended to the tableview.data in a speedy time.</p>
<p>The issue really crops up after all the data is loaded and the user tries scrolling up and down the tableview.  Even if you scroll all the way to bottom of the scrollview and then back up again (data is already loaded) it still very slow.   </p>
<p>My guess is that as you scroll up and down Ti is repainting all the data and it is in how this data is getting rendered (for custom tableviewrows) that presents the slowdown.  I have other areas with the standard tableview row (just one line of text) where the rows are just as fast as native iOS.</p>
<p>Heres to hoping for a solution..</p>
</p>
										<div class="author">
											&mdash; commented <span title="September 25th 2011, 7:33:35 pm">September 25th 2011</span>
											by <span class='authorname'>C H</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
