<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>If a JSON node doesn&#39;t exist all the time. Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>If a JSON node doesn&#39;t exist all the time.</h1>
		</header>
		<section>
			<p>Hi,</p>
<p>I am trying to pull in some opening hours information from a JSON feed for an iPhone app. The issue I am having is that the opening and closing hours for Sunday are not always available. Example of the JSON code of the feed below. When Sunday is available it all works fine.</p>
<pre><code class="hljs"><span class="hljs-string">"opening_hours"</span>: {
    <span class="hljs-string">"Friday"</span>: {
        <span class="hljs-string">"close"</span>: <span class="hljs-string">"19:00:00"</span>,
        <span class="hljs-string">"open"</span>: <span class="hljs-string">"07:00:00"</span>
    },
    <span class="hljs-string">"Monday"</span>: {
        <span class="hljs-string">"close"</span>: <span class="hljs-string">"19:00:00"</span>,
        <span class="hljs-string">"open"</span>: <span class="hljs-string">"07:00:00"</span>
    },
    <span class="hljs-string">"Saturday"</span>: {
        <span class="hljs-string">"close"</span>: <span class="hljs-string">"19:00:00"</span>,
        <span class="hljs-string">"open"</span>: <span class="hljs-string">"07:00:00"</span>
    },
    <span class="hljs-string">"Thursday"</span>: {
        <span class="hljs-string">"close"</span>: <span class="hljs-string">"19:00:00"</span>,
        <span class="hljs-string">"open"</span>: <span class="hljs-string">"07:00:00"</span>
    },
    <span class="hljs-string">"Tuesday"</span>: {
        <span class="hljs-string">"close"</span>: <span class="hljs-string">"19:00:00"</span>,
        <span class="hljs-string">"open"</span>: <span class="hljs-string">"07:00:00"</span>
    },
    <span class="hljs-string">"Wednesday"</span>: {
        <span class="hljs-string">"close"</span>: <span class="hljs-string">"19:00:00"</span>,
        <span class="hljs-string">"open"</span>: <span class="hljs-string">"07:00:00"</span>
    }
}
</code></pre><p>The rest of the days are fine and appear in all the items in the API so I have tried using the below code to pull in the information.</p>
<pre><code class="hljs"> <span class="hljs-keyword">var</span> monopen = json.opening_hours.Monday.open+<span class="hljs-string">' to '</span>+json.opening_hours.Monday.<span class="hljs-built_in">close</span>;
 <span class="hljs-keyword">var</span> tueopen = json.opening_hours.Tuesday.open+<span class="hljs-string">' to '</span>+json.opening_hours.Tuesday.<span class="hljs-built_in">close</span>;
 <span class="hljs-keyword">var</span> wedopen = json.opening_hours.Wednesday.open+<span class="hljs-string">' to '</span>+json.opening_hours.Wednesday.<span class="hljs-built_in">close</span>;
 <span class="hljs-keyword">var</span> thuopen = json.opening_hours.Thursday.open+<span class="hljs-string">' to '</span>+json.opening_hours.Thursday.<span class="hljs-built_in">close</span>;
 <span class="hljs-keyword">var</span> friopen = json.opening_hours.Friday.open+<span class="hljs-string">' to '</span>+json.opening_hours.Friday.<span class="hljs-built_in">close</span>;
 <span class="hljs-keyword">var</span> satopen = json.opening_hours.Saturday.open+<span class="hljs-string">' to '</span>+json.opening_hours.Saturday.<span class="hljs-built_in">close</span>;

 <span class="hljs-keyword">if</span>(json.opening_hours.Sunday.open &amp;&amp; json.opening_hours.Sunday.<span class="hljs-built_in">close</span>) {
     <span class="hljs-keyword">var</span> sunopen = json.opening_hours.Sunday.open+<span class="hljs-string">' to '</span>+json.opening_hours.Sunday.<span class="hljs-built_in">close</span>;                 
 } <span class="hljs-keyword">else</span>  {
    <span class="hljs-keyword">var</span> sunopen = <span class="hljs-string">'00:00:00 to 00:00:00'</span>;              
 }
</code></pre><p>The last part doesn&#39;t work, the app doesn&#39;t see anything and all the content that should load after this doesn&#39;t. I tried a few suggestions I found off here but with not success. What I tried was,</p>
<pre><code class="hljs"> <span class="hljs-keyword">if</span>(text) {
     <span class="hljs-keyword">var</span> sunopen = json.opening_hours.Sunday.open+<span class="hljs-string">' to '</span>+json.opening_hours.Sunday.<span class="hljs-built_in">close</span>;
 } <span class="hljs-keyword">else</span> {
    <span class="hljs-keyword">var</span> sunopen = <span class="hljs-string">'00:00:00 to 00:00:00'</span>;              
 }
</code></pre><p>and the below </p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> json = <span class="hljs-built_in">JSON</span>.parse(<span class="hljs-keyword">this</span>.responseText);
<span class="hljs-keyword">if</span>(json){
    <span class="hljs-keyword">var</span> sunopen = <span class="hljs-string">'00:00:00 to 00:00:00'</span>;          
        <span class="hljs-keyword">return</span>;
}<span class="hljs-keyword">else</span>{
     <span class="hljs-keyword">var</span> sunopen = json.opening_hours.Sunday.open+<span class="hljs-string">' to '</span>+json.opening_hours.Sunday.close;
}
</code></pre><p>also tried using null and undefined. An tried the solution on this page http:&#x2F;&#x2F;developer.appcelerator.com&#x2F;question&#x2F;128752&#x2F;how-to-check-if-json-node-exists.</p>
<p>Fairly stuck now and not sure why it won&#39;t work, has anybody got any suggestions.</p>
<p>I have the latest version of Ti Studio and the SDK. I&#39;m OSX and no useful messages appear in the console.</p>
<p>Help hugely appreciated.</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="January 24th 2013, 12:17:13 pm">January 24th 2013</span>
				by <span class='authorname'>Paul Flood</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>does not exist</span></li>
					
						<li><span class='tagname'>json</span></li>
					
						<li><span class='tagname'>node</span></li>
					
						<li><span class='tagname'>parse</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-255256">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>try this</p>
<pre><code class="hljs"><span class="hljs-keyword">if</span>(json.opening_hours.Sunday &amp;&amp; json.opening_hours.Sunday.open &amp;&amp; json.opening_hours.Sunday.<span class="hljs-built_in">close</span>) {
    <span class="hljs-keyword">var</span> sunopen = json.opening_hours.Sunday.open+<span class="hljs-string">' to '</span>+json.opening_hours.Sunday.<span class="hljs-built_in">close</span>;                
 } <span class="hljs-keyword">else</span>  {
    <span class="hljs-keyword">var</span> sunopen = <span class="hljs-string">'00:00:00 to 00:00:00'</span>;           
 }
</code></pre><p>or if you know the Sunday its not going to show you can just do this</p>
<pre><code class="hljs"><span class="hljs-keyword">if</span>(json.opening_hours.Sunday) {
    <span class="hljs-keyword">var</span> sunopen = json.opening_hours.Sunday.open+<span class="hljs-string">' to '</span>+json.opening_hours.Sunday.<span class="hljs-built_in">close</span>;                
 } <span class="hljs-keyword">else</span>  {
    <span class="hljs-keyword">var</span> sunopen = <span class="hljs-string">'00:00:00 to 00:00:00'</span>;           
 }
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="January 24th 2013, 12:30:20 pm">January 24th 2013</span>
								by <span class='authorname'>Arian Caraballo</span><br>
								<a class="icon-bg icon-link" href="question/147348/if-a-json-node-doesnt-exist-all-the-time#answer-255256" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-255258">
				
						<section>
							<p>Cheers Arian, its always the simple things, I wasn&#39;t adding all the nodes into the if statement. Thanks for your time, its greatly appreciated.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="January 24th 2013, 1:08:23 pm">January 24th 2013</span>
								by <span class='authorname'>Paul Flood</span><br>
								<a class="icon-bg icon-link" href="question/147348/if-a-json-node-doesnt-exist-all-the-time#answer-255258" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
