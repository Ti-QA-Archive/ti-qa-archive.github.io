<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>how to authenticate username and password Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>how to authenticate username and password</h1>
		</header>
		<section>
			<p>Hi i was trying to to do login page in titanium.In that im using aspx page to fetch values from sql server.bt it is nt cmg fr me can any one help plz and here is my code<br>var curWindow = Titanium.UI.currentWindow;<br>var scrollView = Titanium.UI.createScrollView({<br>  contentWidth:&#39;auto&#39;,<br>  contentHeight:&#39;auto&#39;,<br>  top:0,<br>  showVerticalScrollIndicator:true,<br>  showHorizontalScrollIndicator:true<br>});<br>var view = Titanium.UI.createView({<br>  width:&quot;100%&quot;,<br>  height: &quot;auto&quot;,<br>  top:10,<br>  paddingBottom: 15<br>});</p>
<p>var lbl_User = Titanium.UI.createLabel({<br>  text:&#39;Username:&#39;,<br>  height:30,<br>  width:&quot;98%&quot;,<br>  color:&#39;#222&#39;,<br>  font: {fontSize:16},<br>  top: 10<br>});<br>var txt_User = Titanium.UI.createTextField({<br>  width: &quot;98%&quot;,<br>  color: &quot;#222&quot;,<br>  paddingLeft: 5,<br>  border: 1,<br>  hintText:&#39;Username&#39;,<br>  borderColor: &quot;gray&quot;,<br>  borderRadius: 3,<br>  font:{fontSize:16},<br>  height: 40,<br>  top: 40,<br>   keyboardType:Titanium.UI.KEYBOARD_DEFAULT,<br>    returnKeyType:Titanium.UI.RETURNKEY_DEFAULT,<br>    borderStyle:Titanium.UI.INPUT_BORDERSTYLE_ROUNDED<br>});<br>var lbl_Pass = Titanium.UI.createLabel({<br>  text:&#39;Password:&#39;,<br>  height:30,<br>  width:&quot;98%&quot;,<br>  color:&#39;#222&#39;,<br>  font:{fontSize:16},<br>  top: 90<br>});<br>var txt_Pass = Titanium.UI.createTextField({<br>  width: &quot;98%&quot;,<br>  color: &quot;#222&quot;,<br>  paddingLeft: 5,<br>  border: 1,<br>  hintText:&#39;Password&#39;,<br>  borderColor: &quot;gray&quot;,<br>  borderRadius: 3,<br>  passwordMask: true,<br>  font:{fontSize:16},<br>  height: 40,<br>  top: 120,<br>   keyboardType:Titanium.UI.KEYBOARD_DEFAULT,<br>    returnKeyType:Titanium.UI.RETURNKEY_DEFAULT,<br>    borderStyle:Titanium.UI.INPUT_BORDERSTYLE_ROUNDED<br>});<br>var btn_Login = Titanium.UI.createButton({<br>  color: &quot;#555&quot;,<br>  width:90,<br>    height:35,<br>    top:180,<br>    borderRadius:1,<br>    font:{fontFamily:&#39;Arial&#39;,fontWeight:&#39;bold&#39;,fontSize:14}  ,<br>  title: &quot;Log In&quot;<br>});<br>var details = Titanium.Network.createHTTPClient();<br>btn_Login.addEventListener(&quot;click&quot;,function(e){<br>    if(txt_User.value != &#39;&#39; &amp;&amp; txt_Pass.value != &#39;&#39;)<br>    {<br>        details.open(&quot;POST&quot;,&quot;http:&#x2F;&#x2F;localhost:53541&#x2F;WebSite1&#x2F;Default.aspx?uname=&#39;&quot;+txt_User.value +&quot;&#39;&amp; pwd=&#39;&quot;+txt_Pass.value+&quot;&#39;&quot;);<br>        alert(&quot;Sucessfully Login&quot;);<br>    }<br>    else<br>    {<br>        alert(&quot;Username&#x2F;Password required&quot;);<br>    }<br>    });<br>details.onload = function()<br>{</p>
<p>}<br>view.add(lbl_User);<br>view.add(txt_User);<br>view.add(lbl_Pass);<br>view.add(txt_Pass);<br>view.add(btn_Login);<br>scrollView.add(view);</p>
<p>curWindow.add(scrollView);</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="December 15th 2011, 7:30:46 am">December 15th 2011</span>
				by <span class='authorname'>chaitanya reddy</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>database</span></li>
					
						<li><span class='tagname'>titanium</span></li>
					
				</ul>
			

			<section>
				<h5>1 Comment</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Please use the <del>~ code ~</del> syntax when posting code &amp; use <strong><em>full</em></strong> English words as it far easier to read!</p>
<p>REFORMATTED</p>
<pre><code class="hljs">curWindow = Titanium.UI.currentWindow;
var scrollView = Titanium.UI.createScrollView({
    contentWidth: <span class="hljs-string">'auto'</span>,
    contentHeight: <span class="hljs-string">'auto'</span>,
    top: <span class="hljs-number">0</span>,
    showVerticalScrollIndicator: <span class="hljs-keyword">true</span>,
    showHorizontalScrollIndicator: <span class="hljs-keyword">true</span>
});
var view = Titanium.UI.createView({
    <span class="hljs-variable">width</span>: <span class="hljs-string">"100%"</span>,
    <span class="hljs-variable">height</span>: <span class="hljs-string">"auto"</span>,
    top: <span class="hljs-number">10</span>,
    paddingBottom: <span class="hljs-number">15</span>
});

var lbl_User = Titanium.UI.createLabel({
    <span class="hljs-built_in">text</span>: <span class="hljs-string">'Username:'</span>,
    <span class="hljs-variable">height</span>: <span class="hljs-number">30</span>,
    <span class="hljs-variable">width</span>: <span class="hljs-string">"98%"</span>,
    <span class="hljs-built_in">color</span>: <span class="hljs-string">'#222'</span>,
    font: {
        fontSize: <span class="hljs-number">16</span>
    },
    top: <span class="hljs-number">10</span>
});
var txt_User = Titanium.UI.createTextField({
    <span class="hljs-variable">width</span>: <span class="hljs-string">"98%"</span>,
    <span class="hljs-built_in">color</span>: <span class="hljs-string">"#222"</span>,
    paddingLeft: <span class="hljs-number">5</span>,
    border: <span class="hljs-number">1</span>,
    hintText: <span class="hljs-string">'Username'</span>,
    borderColor: <span class="hljs-string">"gray"</span>,
    borderRadius: <span class="hljs-number">3</span>,
    font: {
        fontSize: <span class="hljs-number">16</span>
    },
    <span class="hljs-variable">height</span>: <span class="hljs-number">40</span>,
    top: <span class="hljs-number">40</span>,
    keyboardType: Titanium.UI.KEYBOARD_DEFAULT,
    returnKeyType: Titanium.UI.RETURNKEY_DEFAULT,
    borderStyle: Titanium.UI.INPUT_BORDERSTYLE_ROUNDED
});
var lbl_Pass = Titanium.UI.createLabel({
    <span class="hljs-built_in">text</span>: <span class="hljs-string">'Password:'</span>,
    <span class="hljs-variable">height</span>: <span class="hljs-number">30</span>,
    <span class="hljs-variable">width</span>: <span class="hljs-string">"98%"</span>,
    <span class="hljs-built_in">color</span>: <span class="hljs-string">'#222'</span>,
    font: {
        fontSize: <span class="hljs-number">16</span>
    },
    top: <span class="hljs-number">90</span>
});
var txt_Pass = Titanium.UI.createTextField({
    <span class="hljs-variable">width</span>: <span class="hljs-string">"98%"</span>,
    <span class="hljs-built_in">color</span>: <span class="hljs-string">"#222"</span>,
    paddingLeft: <span class="hljs-number">5</span>,
    border: <span class="hljs-number">1</span>,
    hintText: <span class="hljs-string">'Password'</span>,
    borderColor: <span class="hljs-string">"gray"</span>,
    borderRadius: <span class="hljs-number">3</span>,
    passwordMask: <span class="hljs-keyword">true</span>,
    font: {
        fontSize: <span class="hljs-number">16</span>
    },
    <span class="hljs-variable">height</span>: <span class="hljs-number">40</span>,
    top: <span class="hljs-number">120</span>,
    keyboardType: Titanium.UI.KEYBOARD_DEFAULT,
    returnKeyType: Titanium.UI.RETURNKEY_DEFAULT,
    borderStyle: Titanium.UI.INPUT_BORDERSTYLE_ROUNDED
});
var btn_Login = Titanium.UI.createButton({
    <span class="hljs-built_in">color</span>: <span class="hljs-string">"#555"</span>,
    <span class="hljs-variable">width</span>: <span class="hljs-number">90</span>,
    <span class="hljs-variable">height</span>: <span class="hljs-number">35</span>,
    top: <span class="hljs-number">180</span>,
    borderRadius: <span class="hljs-number">1</span>,
    font: {
        fontFamily: <span class="hljs-string">'Arial'</span>,
        fontWeight: <span class="hljs-string">'bold'</span>,
        fontSize: <span class="hljs-number">14</span>
    },
    title: <span class="hljs-string">"Log In"</span>
});
var details = Titanium.Network.createHTTPClient();
btn_Login.addEventListener(<span class="hljs-string">"click"</span>, function (e) {
    <span class="hljs-keyword">if</span> (txt_User.value != <span class="hljs-string">''</span> &amp;&amp; txt_Pass.value != <span class="hljs-string">''</span>) {
        details.<span class="hljs-built_in">open</span>(<span class="hljs-string">"POST"</span>, <span class="hljs-string">"http://localhost:53541/WebSite1/Default.aspx?uname='"</span> + txt_User.value + <span class="hljs-string">"'&amp; pwd='"</span> + txt_Pass.value + <span class="hljs-string">"'"</span>);
        alert(<span class="hljs-string">"Sucessfully Login"</span>);
    } <span class="hljs-keyword">else</span> {
        alert(<span class="hljs-string">"Username/Password required"</span>);
    }
});
details.onload = function () {

}
view.<span class="hljs-built_in">add</span>(lbl_User);
view.<span class="hljs-built_in">add</span>(txt_User);
view.<span class="hljs-built_in">add</span>(lbl_Pass);
view.<span class="hljs-built_in">add</span>(txt_Pass);
view.<span class="hljs-built_in">add</span>(btn_Login);
scrollView.<span class="hljs-built_in">add</span>(view);

curWindow.<span class="hljs-built_in">add</span>(scrollView);
</code></pre></div>
							<div class="author">
								&mdash; commented <span title="December 15th 2011, 7:57:03 am">December 15th 2011</span>
								by <span class='authorname'>Sharry Stowell</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-225484">
				
						<section>
							<p>This is what I did on my older app:</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> win = Ti.UI.currentWindow;
<span class="hljs-keyword">var</span> loginURL = <span class="hljs-string">"http://localhost:53541/WebSite1/"</span>;

<span class="hljs-keyword">var</span> conn = <span class="hljs-literal">true</span>;
<span class="hljs-keyword">if</span> (Titanium.Network.networkType === Titanium.Network.NETWORK_NONE) {
    conn = <span class="hljs-literal">false</span>;
}

<span class="hljs-comment">// Username</span>
<span class="hljs-keyword">var</span> username = Ti.UI.createTextField({
    color: <span class="hljs-string">'#336699'</span>,
    top: <span class="hljs-number">10</span>,
    left: <span class="hljs-number">10</span>,
    width: <span class="hljs-number">300</span>,
    height: <span class="hljs-number">40</span>,
    hintText: <span class="hljs-string">'Username'</span>,
    autocorrect:<span class="hljs-literal">false</span>,
    keyboardType:Ti.UI.KEYBOARD_DEFAULT,
    returnKeyType: Ti.UI.RETURNKEY_DEFAULT,
    borderStyle: Ti.UI.INPUT_BORDERSTYLE_ROUNDED,
    value:<span class="hljs-string">'mj'</span>    
});
win.add(username);

<span class="hljs-comment">// Password</span>
<span class="hljs-keyword">var</span> password = Ti.UI.createTextField({
    color: <span class="hljs-string">'#336699'</span>,
    top: <span class="hljs-number">60</span>,
    left: <span class="hljs-number">10</span>,
    width: <span class="hljs-number">300</span>,
    height: <span class="hljs-number">40</span>,
    hintText: <span class="hljs-string">'Password'</span>,
    autocorrect:<span class="hljs-literal">false</span>,
    passwordMask:<span class="hljs-literal">true</span>,
    keyboardType:Ti.UI.KEYBOARD_DEFAULT,
    returnKeyType: Ti.UI.RETURNKEY_DEFAULT,
    borderStyle: Ti.UI.INPUT_BORDERSTYLE_ROUNDED,
    value:<span class="hljs-string">'PA$$word'</span>
});
win.add(password);


<span class="hljs-comment">// Login button</span>
<span class="hljs-keyword">var</span> loginBtn = Ti.UI.createButton({
    title:<span class="hljs-string">'Login'</span>,
    top:<span class="hljs-number">220</span>,
    width:<span class="hljs-number">90</span>,
    height:<span class="hljs-number">35</span>,
    borderRadius:<span class="hljs-number">1</span>,  
    font:{
        fontFamily:<span class="hljs-string">'Arial'</span>,
        fontWeight:<span class="hljs-string">'bold'</span>,
        fontSize:<span class="hljs-number">14</span>
    }
});
win.add(loginBtn);

<span class="hljs-keyword">var</span> loginReq = Titanium.Network.createHTTPClient();

loginBtn.addEventListener(<span class="hljs-string">'click'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)</span>{
    <span class="hljs-keyword">if</span>(conn){

        <span class="hljs-keyword">if</span> (username.value !== <span class="hljs-string">''</span> &amp;&amp; password.value !== <span class="hljs-string">''</span>){
            loginReq.open(<span class="hljs-string">"POST"</span>,loginURL+<span class="hljs-string">"Default.aspx"</span>);
            <span class="hljs-keyword">var</span> params = {
                username: username.value,
                password: password.value,
                login: <span class="hljs-literal">true</span>
            };

            loginReq.send(params);

        } <span class="hljs-keyword">else</span> {
            alert(<span class="hljs-string">"All fields are required"</span>);
        }
    } <span class="hljs-keyword">else</span> {
        alert(<span class="hljs-string">"A connection to the internet is required!"</span>);
    }
});


loginReq.onload = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
    Ti.API.info(<span class="hljs-string">'Logging in'</span>);
    <span class="hljs-keyword">var</span> json = <span class="hljs-keyword">this</span>.responseText;
    <span class="hljs-keyword">var</span> response = <span class="hljs-built_in">JSON</span>.parse(json);
    <span class="hljs-keyword">if</span> (response.logged === <span class="hljs-literal">true</span>){

        username.blur();
        password.blur();
        Ti.App.fireEvent(<span class="hljs-string">'grantEntrance'</span>, {
            name:response.name,
            email:response.email
        });
        win.close();

        Ti.App.Properties.setString(<span class="hljs-string">"user_id"</span>, response.user_id);
        Ti.App.Properties.setString(<span class="hljs-string">"username"</span>, response.name);
        Ti.App.Properties.setString(<span class="hljs-string">"email"</span>, response.email);
    } <span class="hljs-keyword">else</span> {
        alert(response.message);
    }


};

loginReq.onerror = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{  
    Ti.API.error(<span class="hljs-keyword">this</span>.status + <span class="hljs-string">' - '</span> + <span class="hljs-keyword">this</span>.statusText);  

};
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="December 15th 2011, 8:03:53 am">December 15th 2011</span>
								by <span class='authorname'>Sharry Stowell</span><br>
								<a class="icon-bg icon-link" href="question/129479/how-to-authenticate-username-and-password.html#answer-225484" rel="permalink">permalink</a>
							</div>

							<h5>7 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>i tried the same thing bt it is showing error as</p>
<p>I&#x2F;TiHttpClient(  235): (TiHttpClient-1) [54,44623] Sending error Connection to http:&#x2F;&#x2F;localhost:53541 refused<br>E&#x2F;TiAPI   (  235): (kroll$2: app:&#x2F;&#x2F;Login.js) [11,44634] 0 - null</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 15th 2011, 8:54:11 am">December 15th 2011</span>
											by <span class='authorname'>chaitanya reddy</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>A connection refused! Sure your localhost server is working properly?</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 15th 2011, 8:57:33 am">December 15th 2011</span>
											by <span class='authorname'>Sharry Stowell</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>ya sure Local host is working properly</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 15th 2011, 9:17:55 am">December 15th 2011</span>
											by <span class='authorname'>chaitanya reddy</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>but still not working. can you send that asp coding.</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 15th 2011, 9:25:58 am">December 15th 2011</span>
											by <span class='authorname'>Mayilavan M</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>here is my Default.aspx.cs code<br> protected void Page_Load(object sender, EventArgs e)<br>    {<br>        SqlConnection cnn = new SqlConnection(&quot;Data Source=ITS-BA-DC02\MSSQL2008_SAND;Initial Catalog=TestDB_Chaitanya;User Id=sa;Password=01Explore&quot;);<br>        cnn.Open();<br>        string name;<br>        string email;<br>        int result = 0;<br>        string uname = Request.QueryString[&quot;username&quot;];<br>        string pwd = Request.QueryString[&quot;password&quot;];<br>        SqlCommand cmd = new SqlCommand(&quot;select * from users where username=&#39;&quot; + uname + &quot;&#39; and password=&#39;&quot; + pwd + &quot;&#39;&quot;, cnn);<br>        SqlDataReader dr = cmd.ExecuteReader();<br>        if (dr != null &amp;&amp; dr.HasRows == true)<br>        {<br>            name = dr[&quot;name&quot;].ToString();<br>            email = dr[&quot;email&quot;].ToString();<br>            result = 1;</p>
<pre><code class="hljs">    }
    <span class="hljs-keyword">else</span>
    {
        <span class="hljs-literal">result</span> = <span class="hljs-number">0</span>;


    }
    dr.<span class="hljs-type">Close</span>();
    cnn.<span class="hljs-type">Close</span>();
</code></pre><p>}</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 15th 2011, 9:31:43 am">December 15th 2011</span>
											by <span class='authorname'>chaitanya reddy</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Hi Chaitanya,</p>
<p>Please use the &quot;Code&quot; from Markdown syntax while pasting the code in the comment box. It becomes really difficult to figure out otherwise.</p>
<p>Thanks</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 15th 2011, 9:35:53 am">December 15th 2011</span>
											by <span class='authorname'>Zarir Bhesania</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>i was trying to paste code in &quot;code&quot; form only .Bt it is not showing in Code format how to do?</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 15th 2011, 10:01:27 am">December 15th 2011</span>
											by <span class='authorname'>chaitanya reddy</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-225493">
				
						<section>
							<p>you should change:</p>
<pre><code class="hljs">details.open(<span class="hljs-string">"<span class="hljs-keyword">POST</span>"</span>, <span class="hljs-string">"http://localhost:53541/WebSite1/Default.aspx?uname='"</span> + txt_User.value + <span class="hljs-string">"'&amp; pwd='"</span> + txt_Pass.value + <span class="hljs-string">"'"</span>);
</code></pre><p>with</p>
<pre><code class="hljs">details.open(<span class="hljs-string">"<span class="hljs-keyword">POST</span>"</span>, <span class="hljs-string">"http://localhost:53541/WebSite1/Default.aspx"</span>);
var params = {};
params.uname = txt_User.value;
params.pwd = txt_Pass.value;
details.send(params);
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="December 15th 2011, 10:16:50 am">December 15th 2011</span>
								by <span class='authorname'>Alberto Marcone</span><br>
								<a class="icon-bg icon-link" href="question/129479/how-to-authenticate-username-and-password.html#answer-225493" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>I Change like that even though it is showing the same error as &quot;Remote server connection&quot; refused</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 15th 2011, 10:21:05 am">December 15th 2011</span>
											by <span class='authorname'>chaitanya reddy</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
