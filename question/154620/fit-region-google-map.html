<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>FIT REGION GOOGLE MAP » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>FIT REGION GOOGLE MAP</h1>
		</header>
		<section>
			<p>Hello such everyone, I have a problem:<br>I&#39;m working with googlemap, call the MARKERS from a Json, until then everything I works well, so do not make is that once I load the markers, which make screen zoom to the region of the markers.</p>
<p>PD<br>I think that in HTML you can do this with the function BOUNDS:</p>
<p>fitBounds</p>
<p>We adjust the zoom of the page according to the number of registered bookmarks</p>
<p>My code is as follows:</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> url = <span class="hljs-string">"http://fotoalquileres.com/data_jquery_movil.php"</span>;
<span class="hljs-keyword">var</span> json,i;
<span class="hljs-keyword">var</span> annotations = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>() 
<span class="hljs-keyword">var</span> win = Titanium.UI.createWindow();
<span class="hljs-keyword">var</span> cabeza =  Ti.UI.createView({    
    backgroundGradient: {
        type: <span class="hljs-string">'linear'</span>,
        startPoint: { x: <span class="hljs-string">'0'</span>, y: <span class="hljs-string">'0'</span> },
        endPoint: { x: <span class="hljs-string">'0'</span>, y: <span class="hljs-string">'100%'</span> },
        colors: [ { color: <span class="hljs-string">'#454545'</span>, offset: <span class="hljs-number">0.0</span>}, { color: <span class="hljs-string">'#2B2B2B'</span>, offset: <span class="hljs-number">1</span> }],
    },
    height : <span class="hljs-string">'50dp'</span>,
    top:<span class="hljs-number">0</span>,    
    zIndex: <span class="hljs-number">1</span>
});

<span class="hljs-keyword">var</span> logo = Ti.UI.createImageView({    
    top:<span class="hljs-number">0</span>,
    left:<span class="hljs-number">0</span>,
    image:<span class="hljs-string">'images/logo_fotoalquileres.png'</span>
});

cabeza.add(logo);


<span class="hljs-keyword">var</span> xhr = Ti.Network.createHTTPClient({
    onload: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{

        json = <span class="hljs-built_in">JSON</span>.parse(<span class="hljs-keyword">this</span>.responseText);    
        <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; json.length; i++) {                        

            annotations[i] =Ti.Map.createAnnotation({
                    latitude:json[i].LATITUD, 
                    longitude:json[i].LONGITUD,
                    title: json[i].TIPO,
                    subtitle: json[i].PRECIO,
                    animate: <span class="hljs-literal">true</span>,
                    image: <span class="hljs-string">'http://www.fotoalquileres.com/marker.png'</span>
                    })
            mapview.addAnnotation(annotations[i]);                                
        }

        mapview.setRegionFit(<span class="hljs-literal">true</span>);    

    },

    onerror: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
    Ti.API.debug(<span class="hljs-string">"STATUS: "</span> + <span class="hljs-keyword">this</span>.status);
    Ti.API.debug(<span class="hljs-string">"TEXT:   "</span> + <span class="hljs-keyword">this</span>.responseText);
    Ti.API.debug(<span class="hljs-string">"ERROR:  "</span> + e.error);
    alert(<span class="hljs-string">'There was an error retrieving the remote data. Try again.'</span>);
    }

});

xhr.open(<span class="hljs-string">"GET"</span>, url);
xhr.send();

<span class="hljs-keyword">var</span> mapview = Titanium.Map.createView({
    mapType: Titanium.Map.STANDARD_TYPE,
    region: {latitude:<span class="hljs-number">40.46366700000001</span>, longitude:-<span class="hljs-number">3.7492200000000366</span>, 
            latitudeDelta:<span class="hljs-number">0.5</span>, longitudeDelta:<span class="hljs-number">0.5</span>},
    animate:<span class="hljs-literal">true</span>,
    regionFit:<span class="hljs-literal">true</span>,
    userLocation:<span class="hljs-literal">true</span>        
});

win.add(cabeza);
win.add(mapview);

win.open();
</code></pre><hr>
<p>Texto Orginal:<br>Hola que tal a todos, tengo un problema:<br>Estoy trabajando con googlemap, llamo a los MARKERS desde un Json, hasta ahí todo me funciona bien, lo que no se hacer es que una vez que me cargue los marcadores, que la pantalla haga un zoom a la region de los markers.</p>
<p>PD<br>Creo que en HTML se puede hacer esto con los BOUNDS con la funcion:</p>
<p>fitBounds</p>
<p>Ajustamos el zoom de la pagina de acuerdo a la cantidad de marcadores registrados</p>
<p>Mi código es el siguiente:</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="July 9th 2013, 12:41:21 am">July 9th 2013</span>
				by <span class='authorname'>ikaroraul Caroto</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>bounds</span></li>
					
						<li><span class='tagname'>fitregion</span></li>
					
						<li><span class='tagname'>googlemap</span></li>
					
						<li><span class='tagname'>mapview</span></li>
					
						<li><span class='tagname'>zoom</span></li>
					
				</ul>
			

			<section>
				<h5>1 Comment</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Hello, </p>
<p>you need to calculate the biggest lat&#x2F;lon and create a lon&#x2F;lat delta according to it.</p>
<p>Best,</p>
<p>Mauro</p>
</div>
							<div class="author">
								&mdash; commented <span title="July 9th 2013, 4:20:51 pm">July 9th 2013</span>
								by <span class='authorname'>Mauro Parra</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>0</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>0 Answers</h3>

	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
