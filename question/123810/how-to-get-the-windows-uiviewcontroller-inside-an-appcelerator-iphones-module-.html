<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>How to get the window&#39;s UIViewController inside an appcelerator iPhone&#39;s module ? » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>How to get the window&#39;s UIViewController inside an appcelerator iPhone&#39;s module ?</h1>
		</header>
		<section>
			<p>I&#39;m trying to develop an Appcelerator module to use adwhirl inside appcelerator titanium studio. I&#39;m currently doing it for iPhone. The AdWhirl SDK &quot;wants&quot; to know the UIViewController* instance for the view where i put the AdWhirl banner view. </p>
<p>How can i know what is the UIViewController instance of the current window for example, inside a module ? i can also implement a method in the module to pass the current window and use it&#39;s view controller, something like &quot;adwhirl_module.setWindow(window)&quot;…but how can i pick the UIViewController associated to the parameter that is passed to the method setWindow inside the module ?? (considering that the parameter of the method is of type &quot;id&quot;, as the module documentation says to do).</p>
<p>I hope some one can help me or give me some clue, because i&#39;m trying to search on Google but haven&#39;t find nothing useful.</p>
<p>Thanks!</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="August 5th 2011, 1:25:10 pm">August 5th 2011</span>
				by <span class='authorname'>Marco Siino</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>adwhirl</span></li>
					
						<li><span class='tagname'>appcelerator</span></li>
					
						<li><span class='tagname'>module</span></li>
					
						<li><span class='tagname'>module development</span></li>
					
						<li><span class='tagname'>uiviewcontroller</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-236217">
				
						<section>
							<p>In the main TiModule, you have to use [TiApp app] for UIViewController. But just using this will give you error of Threading problem, so, we need to create another method to use [TiApp app]. E.G.</p>
<p>In <code>startup</code> method of the module write:<br><code>ENSURE_UI_THREAD(OnMainUI, nil);</code></p>
<p>This ensures that the method which is passed as an argument runs on Main Thread because it has some UI related operation. Without this statement, you will receive error of UI rendering in background thread.</p>
<p>Then implement following method,</p>
<p>#</p>
<pre><code class="hljs">- (id) OnMainUI {
   UIViewController *controller = <span class="hljs-comment">[INITIALIZATION OF CONTROLLER]</span>;
   <span class="hljs-comment">[<span class="hljs-comment">[TiApp app]</span> showModalController: controller animated: YES]</span>;
}
</code></pre><p>So, this will open up the controller, which you created.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="April 16th 2012, 11:28:20 am">April 16th 2012</span>
								by <span class='authorname'>Paresh Thakor</span><br>
								<a class="icon-bg icon-link" href="question/123810/how-to-get-the-windows-uiviewcontroller-inside-an-appcelerator-iphones-module-#answer-236217" rel="permalink">permalink</a>
							</div>

							<h5>2 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>I&#39;m getting - Use of undeclared identifier &#39;TiApp&#39; error. :-(</p>
</p>
										<div class="author">
											&mdash; commented <span title="February 28th 2013, 11:52:08 am">February 28th 2013</span>
											by <span class='authorname'>Saminathan Ponnusamy</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p><code>#include TiApp.h</code></p>
</p>
										<div class="author">
											&mdash; commented <span title="June 12th 2013, 3:37:07 pm">June 12th 2013</span>
											by <span class='authorname'>Serhiy Nosenko</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
