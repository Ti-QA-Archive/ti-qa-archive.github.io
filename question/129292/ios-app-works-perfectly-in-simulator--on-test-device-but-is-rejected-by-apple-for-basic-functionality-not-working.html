<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>iOS App works perfectly in simulator &amp; on test device but is rejected by Apple for basic functionality NOT working » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>iOS App works perfectly in simulator &amp; on test device but is rejected by Apple for basic functionality NOT working</h1>
		</header>
		<section>
			<p>iOS App works perfectly in simulator &amp; on test device but is rejected by Apple for basic functionality NOT working</p>
<p>Has anyone come across this issue?</p>
<p>I&#39;m using Titanium 1.7.5 SDK, iOS 5.0 SDK, Xcode Version 4.2.</p>
<p>There&#39;s no issues with the process itself:</p>
<pre><code class="hljs">I click Distribute - App Store
Find <span class="hljs-keyword">it</span> <span class="hljs-operator">in</span> <span class="hljs-operator">the</span> archives <span class="hljs-operator">in</span> Xcode <span class="hljs-operator">and</span> submit <span class="hljs-built_in">to</span> iTunes connect
It validates successfully
</code></pre><p>Then after waiting and having it go into review it is rejected for very basic functionality like the login button not working.</p>
<p>I have noticed that the .ipa file size is 2.9MB for the dev version and only 2.6MB for the prod version that is in the Xcode archives and can&#39;t explain this difference either.</p>
<p>Is it possible to install this prod version? I don&#39;t currently have access to an iOS device and the people testing for me have said it won&#39;t let them install it (I also gave them the production provisioning profile).</p>
<p>Is it possible something is broken with event listeners?</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="December 10th 2011, 11:45:41 pm">December 10th 2011</span>
				by <span class='authorname'>John Lamont</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>ios</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>3</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>3 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-225189">
				
						<section>
							<ol>
<li>you need an own device …<br>2.we need more code from you.<br>Rainer</li>
</ol>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="December 11th 2011, 12:54:50 am">December 11th 2011</span>
								by <span class='authorname'>Rainer Schleevoigt</span><br>
								<a class="icon-bg icon-link" href="question/129292/ios-app-works-perfectly-in-simulator--on-test-device-but-is-rejected-by-apple-for-basic-functionality-not-working.html#answer-225189" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>3 other people on my team have a device, and we&#39;ve tested the app extensively on them.  It always works when I do a Deploy to a iOS Device.  It&#39;s the production version of the app that isn&#39;t working only.</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 11th 2011, 3:26:37 am">December 11th 2011</span>
											by <span class='authorname'>John Lamont</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-225192">
				
						<section>
							<p>you REALLY REALLY need to have a device, it is next to impossible to understand how you app will function on a device without a device.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="December 11th 2011, 1:30:21 am">December 11th 2011</span>
								by <span class='authorname'>Aaron Saunders</span><br>
								<a class="icon-bg icon-link" href="question/129292/ios-app-works-perfectly-in-simulator--on-test-device-but-is-rejected-by-apple-for-basic-functionality-not-working.html#answer-225192" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-225215">
				
						<section>
							<p>The JavaScript compiler on a live device is less forgiving. More than likely you have a compiler error that is being thrown on the live device that may only show as a warning on the iOS simulator. It&#39;s worth noting that Apple will test the application using a live device.</p>
<p>First you&#39;ll need a live device, then provision the application (and device) for development at Apple. Leave the device connected via usb while testing and have a look at the device console output (log) in XCode. This will inform you of any compiler errors being thrown. Usually Apple will supply you with you with their console output (if asked). You may also find that simply resolving any JavaScript warnings on the iOS emulator will resolve the the issue on the live device.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="December 11th 2011, 3:13:26 pm">December 11th 2011</span>
								by <span class='authorname'>Dan Boorn</span><br>
								<a class="icon-bg icon-link" href="question/129292/ios-app-works-perfectly-in-simulator--on-test-device-but-is-rejected-by-apple-for-basic-functionality-not-working.html#answer-225215" rel="permalink">permalink</a>
							</div>

							<h5>7 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Forgot to mention, the live device console output (log) will give you line numbers for issues that will not match you code as Titanium takes your source code, strips all comments&#x2F;extra-lines, encodes it and includes it into the base Titanium native XCode application. The evaluated code line number durring runtime is from the code placed directly in XCode and not from your formatted source code. As noted in my posting above you may find it better to resolve any warnings on the iOS emulator first.</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 11th 2011, 3:19:19 pm">December 11th 2011</span>
											by <span class='authorname'>Dan Boorn</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Hi Dan, Thanks for your response!</p>
<p>Sorry for the newbie questions, but, where should I be finding these JavaScript warnings in the iOS emulator?</p>
<p>When I run it in the emulator from Titanium I&#39;m not getting any warnings (looking at the Console, Problems tabs).  Should I be running it from xcode?  If I try to import the project from the build&#x2F;iphone folder there are lots of warnings there but it&#39;s all pointing to the native code that I don&#39;t understand.</p>
<p>Have you found that the .ipa file of production submissions is smaller than the .ipa of dev?</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 11th 2011, 7:02:09 pm">December 11th 2011</span>
											by <span class='authorname'>John Lamont</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Also wanted to mention, from what Apple is saying the app does run, just the button on my first screen isn&#39;t working.  Could this still be the case of Javascript compiler?</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 11th 2011, 7:07:58 pm">December 11th 2011</span>
											by <span class='authorname'>John Lamont</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Thanks for the reply. The warnings would be outputted to the titanium console output. Sounds like an error on the button handler. Can you post the code for the button handler?</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 11th 2011, 8:02:39 pm">December 11th 2011</span>
											by <span class='authorname'>Dan Boorn</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>The button:</p>
<pre><code class="hljs">var loginBtn = Ti.UI.createButton({
<span class="hljs-label">    title:</span><span class="hljs-string">'Login'</span>,
<span class="hljs-label">    top:</span><span class="hljs-number">160</span>,
<span class="hljs-label">    width:</span> <span class="hljs-number">90</span>,
<span class="hljs-label">    height:</span> <span class="hljs-number">35</span>,
<span class="hljs-label">    left:</span> <span class="hljs-number">65</span>,
<span class="hljs-label">    borderRadius:</span> <span class="hljs-number">1</span>,
<span class="hljs-label">    font:</span>{<span class="hljs-string">fontFamily:</span><span class="hljs-string">'Arial'</span>,<span class="hljs-string">fontWeight:</span><span class="hljs-string">'bold'</span>,<span class="hljs-string">fontsize:</span><span class="hljs-number">14</span>}    
});
</code></pre><p>The eventhandler:</p>
<pre><code class="hljs">loginBtn.addEventListener(<span class="hljs-string">'click'</span>, function() 
{
    <span class="hljs-keyword">if</span> (Titanium.Network.networkType != Titanium.Network.NETWORK_NONE)
    {
        <span class="hljs-comment">//this is just for auto-login if the id's are saved</span>
        <span class="hljs-keyword">if</span>(userName != <span class="hljs-string">''</span> &amp;&amp; password !=<span class="hljs-string">''</span>)
        {
        loginReq.open(<span class="hljs-string">"POST"</span>,<span class="hljs-string">"https://ourbackendlogincheck"</span>);
            <span class="hljs-keyword">var</span> <span class="hljs-keyword">params</span> = {
                user: userName,
                pass: password
                };
            loginReq.send(<span class="hljs-keyword">params</span>);
        }
        <span class="hljs-keyword">else</span>
        {
            userName = userNameField.<span class="hljs-keyword">value</span>;
            password = passwordField.<span class="hljs-keyword">value</span>;

            <span class="hljs-keyword">if</span> (userNameField.<span class="hljs-keyword">value</span> != <span class="hljs-string">''</span> &amp;&amp; passwordField.<span class="hljs-keyword">value</span> != <span class="hljs-string">''</span>)
            {
                loginReq.open(<span class="hljs-string">"POST"</span>,<span class="hljs-string">"https://ourbackendlogincheck"</span>);
                    <span class="hljs-keyword">var</span> <span class="hljs-keyword">params</span> = {
                        user: userName,
                        pass: password
                        };
                loginReq.send(<span class="hljs-keyword">params</span>);
            }
            <span class="hljs-keyword">else</span>
            {
                alert(<span class="hljs-string">"Username/Password are required"</span>);
            }
        }
    }
    <span class="hljs-keyword">else</span>
    {
        alert(<span class="hljs-string">'Data or Wifi connection required'</span>);
    }
});
</code></pre><p>The onload:</p>
<pre><code class="hljs"><span class="hljs-comment">// Login button event handling</span>
<span class="hljs-keyword">var</span> loginReq = Titanium.Network.createHTTPClient();

<span class="hljs-comment">// Handles response of pushing Login button</span>
loginReq.onload = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>
</span>{
    <span class="hljs-keyword">var</span> response = <span class="hljs-keyword">this</span>.responseText;
    <span class="hljs-keyword">var</span> trimmed = response.trim();

    <span class="hljs-keyword">if</span> (trimmed == <span class="hljs-string">'S'</span>)
    { 
        userNameField.blur();
        passwordField.blur();

        msg.text = <span class="hljs-string">'Hi: '</span> +userName;
        Ti.App.Properties.setString(<span class="hljs-string">'savedUser'</span>,userName);
        Ti.App.Properties.setString(<span class="hljs-string">'savedPass'</span>,password);            

        container.animate({
            view:mainView,
            transition:Ti.UI.iPhone.AnimationStyle.FLIP_FROM_LEFT
        });
    }
    <span class="hljs-keyword">else</span>
    {
        <span class="hljs-keyword">if</span> (trimmed == <span class="hljs-string">'N'</span>)
        {
        <span class="hljs-comment">//code here to handle a different use case</span>
        }
        <span class="hljs-keyword">else</span>
        {
            userName = <span class="hljs-string">''</span>;
            password = <span class="hljs-string">''</span>;
            alert(<span class="hljs-string">"Login Failed - Try Again"</span>);
        }
    }
};
</code></pre><p>For reference the base structure of my app was modeled after the Forging Titanium series episode 4: A Utility Application Template</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 11th 2011, 8:25:14 pm">December 11th 2011</span>
											by <span class='authorname'>John Lamont</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>As an update, I&#39;ve also created another profile on iTunes connect for adhoc and signed the exact file I&#39;m sending to Apple with that instead so that I could test it on our devices. </p>
<p>It worked perfectly, so I have no idea what problem apple is running into.</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 11th 2011, 11:39:43 pm">December 11th 2011</span>
											by <span class='authorname'>John Lamont</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>work like a charm…thanks !!!</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 12th 2011, 2:48:06 am">December 12th 2011</span>
											by <span class='authorname'>Rahul Pandey</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
