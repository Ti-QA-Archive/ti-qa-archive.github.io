<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Android Ti.App.Properties.getString not setting properly » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Android Ti.App.Properties.getString not setting properly</h1>
		</header>
		<section>
			<p>0 down vote favorite</p>
<p>I have narrowed my issue down to the 3 lines below (I am attempting to see if a property (uuid) was previously set up by registering for android push notices thru ACS. On start up, the app declares some vars and then tries to set them from the properties. Whenever I try to either set the default property on the getString, it doesn&#39;t. I get an undefined var in the pop up alert box that I am using to debug. Nor can I seem to catch that undefined var in the if &#x2F; then check</p>
<pre><code class="hljs">var uuid;
uuid      = Ti.App.Properties.getString('uuid', 'empty'); //should <span class="hljs-operator"><span class="hljs-keyword">set</span> <span class="hljs-keyword">to</span> <span class="hljs-keyword">empty</span> <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> previously defined

myAlert(<span class="hljs-string">'notice'</span>,<span class="hljs-string">'uuid is ['</span>+<span class="hljs-keyword">uuid</span>+<span class="hljs-string">']'</span>);</span>  //alerts 'undefined' and won't <span class="hljs-operator"><span class="hljs-keyword">show</span> <span class="hljs-keyword">if</span> undefined

<span class="hljs-keyword">if</span>( <span class="hljs-keyword">uuid</span> == <span class="hljs-string">'empty'</span>  ){</span>
</code></pre><p>any ideas how to get over the hurdle?</p>
<p>Thanks…</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="June 20th 2013, 6:08:33 pm">June 20th 2013</span>
				by <span class='authorname'>Bastien Koert</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>alloy</span></li>
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>javascript</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-264591">
				
						<section>
							<p>You are using getString insread of setString to set it is this the problem.This should be something like this</p>
<pre><code class="hljs">var uuid;
uuid      = Ti.App.Properties.setString('uuid', 'empty'); //should <span class="hljs-operator"><span class="hljs-keyword">set</span> <span class="hljs-keyword">to</span> <span class="hljs-keyword">empty</span> <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> previously defined

myAlert(<span class="hljs-string">'notice'</span>,<span class="hljs-string">'uuid is ['</span>+<span class="hljs-keyword">uuid</span>+<span class="hljs-string">']'</span>);</span>  //alerts 'undefined' and won't <span class="hljs-operator"><span class="hljs-keyword">show</span> <span class="hljs-keyword">if</span> undefined

<span class="hljs-keyword">if</span>( <span class="hljs-keyword">uuid</span> == <span class="hljs-string">'empty'</span>  ){</span>
</code></pre><p>Thanks</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="June 20th 2013, 6:23:42 pm">June 20th 2013</span>
								by <span class='authorname'>Muhammad Wahhab Mirza</span><br>
								<a class="icon-bg icon-link" href="question/153878/android-tiapppropertiesgetstring-not-setting-properly#answer-264591" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>No, the set is done elsewhere in the app. The getString is to check if this &#39;uuid&#39; was set earlier. It&#39;s not assigning it correctly to the local uuid variable. I expect the variable uuid to be set to &#39;empty&#39; after the call to the getString since that value is the default when the property uuid has not been set previously. The end result I&#39;m after is that the uuid property is set when the user is asked to register for push notification. If its the apps first time launching this would have no value and there fore should be set with the default. </p>
<p>This works fine on the iPhone.</p>
</p>
										<div class="author">
											&mdash; commented <span title="June 20th 2013, 7:49:08 pm">June 20th 2013</span>
											by <span class='authorname'>Bastien Koert</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-264598">
				
						<section>
							<p>your code is working here . I think the problem is in  <code>myAlert()</code> function .You please check it out else provide some more information to solve this.Thanx</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="June 21st 2013, 2:25:16 am">June 21st 2013</span>
								by <span class='authorname'>Gagan Tiwari</span><br>
								<a class="icon-bg icon-link" href="question/153878/android-tiapppropertiesgetstring-not-setting-properly#answer-264598" rel="permalink">permalink</a>
							</div>

							<h5>2 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>I think this is a specific issue related to the app compiling on the mac. When i run the app as the apple iphone, it works exactly as expected. I get the alert saying <code>&amp;#39;uuid is [empty]&amp;#39;</code> which is what I need. Then it falls into the <code>if(uuid == &amp;#39;empty&amp;#39;){</code> block. </p>
<p>On the android simulator, this doesn&#39;t work as expected. I get no alert box, and it doens&#39;t fall into the block. I will try re-installing the IDE from scratch later to see if that makes a difference, and I will try this on a windows machine to see if that works better. If this works when compiled on the windows machine, then its likely there is a bug in the compiler process that I will need to file.</p>
<p>If anyone has any ideas on how to code around this, I&#39;d love to hear it. None of the attempts I&#39;ve made have resolved this issue.</p>
<p>For reference<br>IDE: 3.1.1.201306112235<br>Mac: OSX-10.8.4 w&#x2F;8gb ram</p>
</p>
										<div class="author">
											&mdash; commented <span title="June 21st 2013, 11:03:53 am">June 21st 2013</span>
											by <span class='authorname'>Bastien Koert</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>The UUID variable that I am looking for is only available for iPhone. So looking for it on android won&#39;t work</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 25th 2013, 10:39:09 am">July 25th 2013</span>
											by <span class='authorname'>Bastien Koert</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
