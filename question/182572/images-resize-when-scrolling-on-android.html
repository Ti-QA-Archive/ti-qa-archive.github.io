<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Images resize when scrolling on Android » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Images resize when scrolling on Android</h1>
		</header>
		<section>
			<p>I&#39;m using  Titanium Studio 3.4.1.201410281727-28102014172823 and have the following code that adds  a imageview to a table row.</p>
<hr>
<pre><code class="hljs">      var blogPhoto = Ti.UI.createImageView({
             image: photoUrl ,
             left : <span class="hljs-number">0</span>,
             width : <span class="hljs-string">"100%"</span>,
             borderWidth: <span class="hljs-number">8</span>,
             borderColor: <span class="hljs-string">"white"</span>
       });
</code></pre><hr>
<p>When the images first render some are 100% and other are not.  When I scroll through the table most if not all eventually become 100% wide.    Does anyone know how to prevent this from happening?  What I want is all of the images to be 100% before rendering.</p>
<p>Thanks</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="June 1st 2015, 9:31:04 pm">June 1st 2015</span>
				by <span class='authorname'>Jim Brazil</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>images</span></li>
					
						<li><span class='tagname'>imageview</span></li>
					
				</ul>
			

			<section>
				<h5>2 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Its very difficult to tell you on given info. Can you paste some more code over here as well as which platform you are targeting.</p>
<p>Thanks,</p>
<p>Narendra Raorane</p>
</div>
							<div class="author">
								&mdash; commented <span title="June 2nd 2015, 5:27:49 am">June 2nd 2015</span>
								by <span class='authorname'>Narendra Raorane</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>@Narendra Thanks for taking a look. </p>
<p>Here&#39;s my alloy view:</p>
<pre><code class="hljs"><span class="hljs-tag">&lt;<span class="hljs-title">Alloy</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">Window</span>  <span class="hljs-attribute">id</span>=<span class="hljs-value">"reports"</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">'container'</span> <span class="hljs-attribute">platform</span>=<span class="hljs-value">"android,ios"</span>  <span class="hljs-attribute">onOpen</span>=<span class="hljs-value">"onOpen"</span> <span class="hljs-attribute">layout</span>=<span class="hljs-value">'vertical'</span>     &gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">Require</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"widget"</span> <span class="hljs-attribute">src</span>=<span class="hljs-value">"StackMenu"</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"Menu"</span>  &gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">Require</span>&gt;</span>


        <span class="hljs-tag">&lt;<span class="hljs-title">View</span> <span class="hljs-attribute">layout</span>=<span class="hljs-value">"vertical"</span> <span class="hljs-attribute">height</span>=<span class="hljs-value">"55"</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"vwBottomBar"</span> &gt;</span> 
        <span class="hljs-tag">&lt;<span class="hljs-title">ImageView</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"imgFilter"</span>  <span class="hljs-attribute">onClick</span>=<span class="hljs-value">"rowPinch"</span>&gt;</span> <span class="hljs-tag">&lt;/<span class="hljs-title">ImageView</span>&gt;</span>

        <span class="hljs-tag">&lt;<span class="hljs-title">Label</span>  <span class="hljs-attribute">id</span>=<span class="hljs-value">"lblBoardName"</span>  &gt;</span> Stories<span class="hljs-tag">&lt;/<span class="hljs-title">Label</span>&gt;</span>


          <span class="hljs-tag">&lt;/<span class="hljs-title">View</span>&gt;</span>

      <span class="hljs-tag">&lt;<span class="hljs-title">TableView</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"table"</span>     <span class="hljs-attribute">onClick</span>=<span class="hljs-value">"rowClick"</span>    <span class="hljs-attribute">onPinch</span>=<span class="hljs-value">"rowPinch"</span>    &gt;</span>      

      <span class="hljs-tag">&lt;/<span class="hljs-title">TableView</span>&gt;</span>


    <span class="hljs-tag">&lt;/<span class="hljs-title">Window</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">Alloy</span>&gt;</span>
</code></pre><p>Here&#39;s the code that populates the table with the images in question.  Note:  I push everything to an array and then set the array at the end of the function.  I tried using appendRow instead of the array and the problem may have gotten a little better but still persisted.</p>
<pre><code class="hljs">
function okFn(<span class="hljs-literal">result</span>)
{


   <span class="hljs-keyword">var</span> <span class="hljs-type">ReportsUI</span> = require(<span class="hljs-string">"ReportsUI"</span>);

 //alert ( <span class="hljs-type">Ti</span>.<span class="hljs-type">Platform</span>.displayCaps.platformWidth);


 // alert (  <span class="hljs-string">"Has More = "</span> +  <span class="hljs-literal">result</span>.content.<span class="hljs-type">HasMore</span>  + <span class="hljs-string">" Has Less = "</span> +  <span class="hljs-literal">result</span>.content.<span class="hljs-type">HasLess</span>  + <span class="hljs-string">" PageSize = "</span> +  <span class="hljs-literal">result</span>.content.<span class="hljs-type">PageSize</span>   );

     // <span class="hljs-type">Save</span> the page size  specified by the server <span class="hljs-keyword">for</span> future reference.
    exports.<span class="hljs-type">PageSize</span> = <span class="hljs-literal">result</span>.content.<span class="hljs-type">PageSize</span>; 

   <span class="hljs-keyword">var</span> nextRow = <span class="hljs-number">0</span>;
   // <span class="hljs-type">Clear</span> the table entries <span class="hljs-keyword">if</span> we are <span class="hljs-keyword">not</span> showing more
   <span class="hljs-keyword">if</span> ( exports.<span class="hljs-type">ShowMoreMode</span> == <span class="hljs-literal">false</span> )
   {
     $.table.data = null; 
     exports.rowData = []; 


     $.table.data = exports.rowData; 




   }
   <span class="hljs-keyword">else</span> 
      nextRow = removeShowMoreButton();
    <span class="hljs-keyword">var</span> row = null;


  // alert( <span class="hljs-type">JSON</span>.stringify(<span class="hljs-literal">result</span>.content.<span class="hljs-type">LeaderUserName</span>));

    <span class="hljs-keyword">var</span> content = <span class="hljs-literal">result</span>.content;

    $.lblBoardName.text = <span class="hljs-string">"Stories&gt;"</span> + content.<span class="hljs-type">LeaderBoardName</span>;



    row = <span class="hljs-type">ReportsUI</span>.createLeaderBoardView(content.<span class="hljs-type">LeaderSubscriberId</span>, content.<span class="hljs-type">LeaderBoardName</span>, content.<span class="hljs-type">LeaderAvatarUrl</span>, content.<span class="hljs-type">LeaderUserName</span>, parseInt(content.<span class="hljs-type">LeaderNumLikes</span>),parseInt(content.<span class="hljs-type">LeaderNumStories</span>),content.<span class="hljs-type">LeaderRank</span>,showLeaderBoard,showUserPage);
     exports.rowData.push(row);



    <span class="hljs-keyword">for</span>( i=<span class="hljs-number">0</span>; i&lt;<span class="hljs-literal">result</span>.content.<span class="hljs-type">Blogs</span>.length; i++)
    {

           <span class="hljs-keyword">var</span> blog = <span class="hljs-literal">result</span>.content.<span class="hljs-type">Blogs</span>[i];
           <span class="hljs-keyword">var</span> newLbl = null;

           <span class="hljs-keyword">if</span> ( blog.<span class="hljs-type">IsAd</span> == <span class="hljs-literal">true</span>)
           {
                 // <span class="hljs-type">Keep</span> track <span class="hljs-keyword">of</span> the current ad <span class="hljs-keyword">and</span> pass it back to the server so ads can be rotated
                 <span class="hljs-keyword">var</span> <span class="hljs-type">BlogGet</span> = require(<span class="hljs-string">"BlogGet"</span>);
                 <span class="hljs-type">BlogGet</span>.adId = blog.<span class="hljs-type">BlogText</span>;

   <span class="hljs-keyword">if</span> (<span class="hljs-type">Titanium</span>.<span class="hljs-type">Platform</span>.name == 'android') 
              row = <span class="hljs-type">ReportsUI</span>.createAdPhotoRowAndroid(i,blog,showAd);
   <span class="hljs-keyword">else</span> 
              row = <span class="hljs-type">ReportsUI</span>.createAdPhotoRow(i,blog,showAd);

                exports.rowData.push(row);
                row = <span class="hljs-type">ReportsUI</span>.createSpacerRow(<span class="hljs-number">25</span>);     
              exports.rowData.push(row);
           }
           <span class="hljs-keyword">else</span> 
           {

              row = <span class="hljs-type">ReportsUI</span>.createBlogPhotoRow(i,blog,showUserPage);   
              row.backgroundColor = <span class="hljs-string">"white"</span>;          
                exports.rowData.push(row);        


               // <span class="hljs-type">Catch</span> date
               row = <span class="hljs-type">ReportsUI</span>.createBlogInfoRow(<span class="hljs-string">"Catch Date:"</span>,blog.<span class="hljs-type">CatchDate</span>,<span class="hljs-number">12</span>);
              row.backgroundColor = <span class="hljs-string">"white"</span>; 
               exports.rowData.push(row);
               // <span class="hljs-type">Story</span> date
               row = <span class="hljs-type">ReportsUI</span>.createBlogInfoRow(<span class="hljs-string">"Story Date:"</span>,blog.<span class="hljs-type">StoryDate</span>,<span class="hljs-number">12</span>);
              row.backgroundColor = <span class="hljs-string">"white"</span>; 
               exports.rowData.push(row);
               // <span class="hljs-type">Location</span>
               row = <span class="hljs-type">ReportsUI</span>.createBlogLocationRow(blog,<span class="hljs-number">12</span>,filterByLocation); 
               row.backgroundColor = <span class="hljs-string">"white"</span>;          
              exports.rowData.push(row);
               // <span class="hljs-type">Species</span>
               row = <span class="hljs-type">ReportsUI</span>.createBlogSpeciesRow(blog,<span class="hljs-number">12</span>,filterBySpecies); 
               row.backgroundColor = <span class="hljs-string">"white"</span>;        
              exports.rowData.push(row);

               // <span class="hljs-type">Add</span> blank <span class="hljs-keyword">for</span> padding 
               row = <span class="hljs-type">ReportsUI</span>.createBlogInfoRow(<span class="hljs-string">"  "</span>,<span class="hljs-string">" "</span>,<span class="hljs-number">12</span>);  
               row.backgroundColor = <span class="hljs-string">"white"</span>;           
              exports.rowData.push(row);
                  // <span class="hljs-type">Blog</span> <span class="hljs-type">Text</span>

                    row = <span class="hljs-type">ReportsUI</span>.createBlogTextRow(blog.<span class="hljs-type">BlogText</span>,<span class="hljs-number">12</span>);  
                    row.backgroundColor = <span class="hljs-string">"white"</span>;           
              exports.rowData.push(row);


               // <span class="hljs-type">Add</span> blank <span class="hljs-keyword">for</span> padding 
               row = <span class="hljs-type">ReportsUI</span>.createBlogInfoRow(<span class="hljs-string">"  "</span>,<span class="hljs-string">" "</span>,<span class="hljs-number">12</span>);  
               row.backgroundColor = <span class="hljs-string">"white"</span>;           
              exports.rowData.push(row);

               // <span class="hljs-type">User</span> name <span class="hljs-keyword">and</span> avatar 
              row = <span class="hljs-type">ReportsUI</span>.createBlogUserInfoRow(i,blog,showUserPage,<span class="hljs-number">12</span>);
              row.backgroundColor = <span class="hljs-string">"white"</span>;   
              exports.rowData.push(row);
               // <span class="hljs-type">Like</span> <span class="hljs-type">Row</span>
              row = <span class="hljs-type">ReportsUI</span>.createBlogUserRow(blog,doLike,null,null,showLikes,<span class="hljs-literal">false</span>);            
              exports.rowData.push(row);

               // <span class="hljs-type">Add</span> blank <span class="hljs-keyword">for</span> padding 
               row = <span class="hljs-type">ReportsUI</span>.createSpacerRowWithShadow(<span class="hljs-number">50</span>);  
               row.backgroundColor = <span class="hljs-string">"white"</span>;            
               exports.rowData.push(row);


           }

    }

        // add paging <span class="hljs-keyword">if</span> necessary
        // row = <span class="hljs-type">ReportsUI</span>.createBlogPagerRow(<span class="hljs-literal">result</span>.content.<span class="hljs-type">HasLess</span>,<span class="hljs-literal">result</span>.content.<span class="hljs-type">HasMore</span>,prevPage,nextPage);
          row = <span class="hljs-type">ReportsUI</span>.createBlogShowMoreRow( <span class="hljs-literal">result</span>.content.<span class="hljs-type">HasMore</span>,showMore);

        <span class="hljs-keyword">if</span> ( row != null )
        {
             exports.rowData.push(row);
        }    

        $.table.setData(exports.rowData);

<span class="hljs-keyword">if</span> (<span class="hljs-type">Titanium</span>.<span class="hljs-type">Platform</span>.name == 'android') 
{


       <span class="hljs-keyword">var</span> <span class="hljs-type">Utilities</span> = require(<span class="hljs-string">"Utilities"</span>);
       <span class="hljs-keyword">var</span> heightInDP = <span class="hljs-type">Utilities</span>.<span class="hljs-type">PixelsToDPUnits</span>(<span class="hljs-type">Ti</span>.<span class="hljs-type">Platform</span>.displayCaps.platformHeight);
       <span class="hljs-keyword">var</span> theHeight = ( heightInDP  - <span class="hljs-number">110</span> );
       $.table.height = theHeight + <span class="hljs-string">"dp"</span>;

       $.vwBottomBar.bottom = <span class="hljs-number">0</span>;


}
<span class="hljs-keyword">else</span>               
        $.table.height = <span class="hljs-type">Ti</span>.<span class="hljs-type">Platform</span>.displayCaps.platformHeight  - exports.menuHeightAllowance;



        $.table.scrollable = <span class="hljs-literal">true</span>;    
        <span class="hljs-keyword">if</span> ( exports.<span class="hljs-type">ShowMoreMode</span> == <span class="hljs-literal">true</span> )
        {    
            $.table.scrollToIndex(nextRow + <span class="hljs-number">1</span>);
        }    

       $.<span class="hljs-type">Menu</span>.done();


}
</code></pre><p>And finally here&#39;s the function that adds the photo row to the table:</p>
<pre><code class="hljs">
    exports.createBlogPhotoRow = function(rowIndex,blog, fcnShowUserPage ) {
                   <span class="hljs-variable"><span class="hljs-keyword">var</span> i</span> = <span class="hljs-number">0</span>;
           <span class="hljs-variable"><span class="hljs-keyword">var</span> proLayout</span> =  blog.SubscriberLevel &gt;= <span class="hljs-number">10</span>;
            <span class="hljs-variable"><span class="hljs-keyword">var</span> row</span> = Ti.UI.createTableViewRow({
                     rowIndex:i <span class="hljs-comment">// custom property, useful for determining the row during events</span>

            });


 <span class="hljs-keyword">if</span> (Titanium.Platform.name == 'android')       
           <span class="hljs-variable"><span class="hljs-keyword">var</span> width</span> = Ti.Platform.displayCaps.platformWidth - <span class="hljs-number">40</span>;          
 <span class="hljs-keyword">else</span> 
          <span class="hljs-variable"><span class="hljs-keyword">var</span> width</span> = Ti.Platform.displayCaps.platformWidth - <span class="hljs-number">0</span>;  

         <span class="hljs-comment">//  var casheBuster = new Date();</span>
           <span class="hljs-variable"><span class="hljs-keyword">var</span> photoUrl</span> = blog.PhotoUrl; <span class="hljs-comment">// + '?casheBuster='+ casheBuster.getTime();</span>





<span class="hljs-keyword">if</span> (Titanium.Platform.name == 'android') 
{

     <span class="hljs-variable"><span class="hljs-keyword">var</span> theWidth</span> = width + <span class="hljs-string">"dp"</span>;


      <span class="hljs-variable"><span class="hljs-keyword">var</span> blogPhoto</span> = Ti.UI.createImageView({
                 image: photoUrl ,
                 left : <span class="hljs-number">0</span>, 
                 width : <span class="hljs-string">"100%"</span>,
                  height : <span class="hljs-string">"auto"</span>,
                 borderWidth: <span class="hljs-number">8</span>,
                 borderColor: <span class="hljs-string">"white"</span>


           });

}  
<span class="hljs-keyword">else</span>    
{

      <span class="hljs-variable"><span class="hljs-keyword">var</span> blogPhoto</span> = Ti.UI.createImageView({
                 image: photoUrl ,
                 left : <span class="hljs-number">0</span>, 
                  width : width,
                 borderWidth: <span class="hljs-number">8</span>,
                 borderColor: <span class="hljs-string">"white"</span>


           });


}

<span class="hljs-comment">/*
 if (Titanium.Platform.name == 'android') 
 {     
            blogPhoto.visible = false; 
            var fired = false;        
           blogPhoto.addEventListener('postlayout',function(e) 
           {

                 if ( fired == false )
                 {
                      fired = true;
                        Ti.API.info( 'BlogPhotoRow Post Layout');    
                        blogPhoto.width = "100%";
                     blogPhoto.left = 0;
                        blogPhoto.visible = true;
                 }
           });
}
*/</span>


           blogPhoto.addEventListener('click', function(e) 
           {

 <span class="hljs-keyword">if</span> (Titanium.Platform.name == 'android') 
 {


 }
 <span class="hljs-keyword">else</span> 
{
                 <span class="hljs-variable"><span class="hljs-keyword">var</span> blob</span> =  e.source.toImage();                 
                 e.source.width = blob.width;
}
           });


           <span class="hljs-variable"><span class="hljs-keyword">var</span> hv</span> = <span class="hljs-literal">null</span>;
           <span class="hljs-variable"><span class="hljs-keyword">var</span> tradePhoto</span> = <span class="hljs-literal">null</span>;
           <span class="hljs-variable"><span class="hljs-keyword">var</span> UIBase</span> = require(<span class="hljs-string">"UIBase"</span>);

           hv = UIBase.createVerticalView();
           hv.width = width;                      


           row.add(blogPhoto);


           <span class="hljs-keyword">return</span> row; 
    };
</code></pre></div>
							<div class="author">
								&mdash; commented <span title="June 2nd 2015, 7:25:14 pm">June 2nd 2015</span>
								by <span class='authorname'>Jim Brazil</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>0</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>0 Answers</h3>

	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
