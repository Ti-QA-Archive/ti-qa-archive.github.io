<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Titanium.Database.DB, Exporting Database and location/path of sql file Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Titanium.Database.DB, Exporting Database and location/path of sql file</h1>
		</header>
		<section>
			<p>Hi all:)</p>
<p>Mobile project<br>3.1.3<br>Test device: iPhone 5, iOS 7</p>
<p>Have been searching for any way to export my Database in any way, for example with mailDialog, but I can&#39;t seem to get hold of the actual DB file. My App lets the user enter information which saves to the DB, and the purpose of the export function is to be able to open this in excel, Google drive etc.<br>I am starting to wonder if this is at all possible because of the little information I can find on it, if you could, surly someone would have done it right?:)</p>
<p>In the documentation it says the location of the database since Ti 1.8.0.1 is:</p>
<p>&#x2F;Applications&#x2F;apple_app_id&#x2F;Library&#x2F;Private Documents&#x2F;mydb1Installed.sql</p>
<p>I am using the following code:</p>
<p>var dbName = &#39;workoutsDB&#39;;</p>
<p>var dbPath;</p>
<p>var dbFile;</p>
<p>if ( Ti.Platform.osname == &#39;android&#39; ) {</p>
<pre><code class="hljs"><span class="hljs-title">dbPath</span> = 'file:///<span class="hljs-typedef"><span class="hljs-keyword">data</span>/<span class="hljs-keyword">data</span>/' + <span class="hljs-type">Ti</span>.<span class="hljs-type">App</span>.getID<span class="hljs-container">()</span> + '/databases/';</span>
</code></pre><p> dbFile = Ti.Filesystem.getFile( dbPath + dbName );<br>}</p>
<p>else {</p>
<p>dbPath = Ti.Filesystem.applicationPrivateDocuments +&#39;&#x2F;&#39;;     </p>
<p>dbFile = Ti.Filesystem.getFile( dbPath + dbName + &#39;.sql&#39; );<br>}</p>
<p>&#x2F;&#x2F;   &#x2F;Applications&#x2F;&lt;apple app id&gt;&#x2F;Library&#x2F;Private Documents&#x2F;mydb1Installed.sql (Titanium 1.8.0.1)</p>
<p>&#x2F;&#x2F;   &#x2F;Applications&#x2F;&lt;apple app id&gt;&#x2F;Library&#x2F;Application Support&#x2F;database&#x2F;mydb1Installed.sql (earlier versions)</p>
<p>Where &quot;dbFile&quot; is added as an attachment in the mailDialog. In the dialog if all shows up as expected, workoutsDB.sql is shown as an attachment. However upon opening the mail there is no file attached at all:&#x2F;</p>
<p>Eternal gratefulness is offered for any advice that can shred light on this probletunity:)</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="November 15th 2013, 10:10:25 am">November 15th 2013</span>
				by <span class='authorname'>Gustav Gullstrand</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>database</span></li>
					
						<li><span class='tagname'>db</span></li>
					
						<li><span class='tagname'>export</span></li>
					
						<li><span class='tagname'>filesystem</span></li>
					
						<li><span class='tagname'>path</span></li>
					
				</ul>
			

			<section>
				<h5>1 Comment</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Thanks for the code but without the code syntax is a little hard to read.</p>
<p>Quick tip; When you add code snippets or logs always add 3 <strong>~</strong> on a blank line above your code and another 3 <strong>~</strong> below you code on another blank line - you will see the difference when you preview the comment. (you are not being told off)</p>
<p>Inserted code should look like;</p>
<pre><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">something</span><span class="hljs-params">(obj)</span> </span>{
    <span class="hljs-comment">// do something</span>
}
alert(<span class="hljs-string">'Hello'</span>);
</code></pre><p>For further details click the captions on the mark-down bar for examples.</p>
</div>
							<div class="author">
								&mdash; commented <span title="November 15th 2013, 1:03:22 pm">November 15th 2013</span>
								by <span class='authorname'>Malcolm Hollingsworth</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>3</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>3 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-271350">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>Hi</p>
<p>Whilst the file property of an open database will work on iOS it will not work on Android.  I notice you mention only iOS testing work but your code includes android logic.</p>
<p>On iOS this is the simple logic;</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> <span class="hljs-keyword">db</span> = Ti.Database.<span class="hljs-keyword">open</span>('mydb1Installed');
alert(<span class="hljs-keyword">db</span>.<span class="hljs-keyword">file</span>); <span class="hljs-comment">// path to file</span>
</code></pre><p>You can determine this by using the app id as part of the path with Android.  Stephen Feather posted an answer sometime ago that shows you how.</p>
<ul>
<li><a href="http:&#x2F;&#x2F;developer.appcelerator.com&#x2F;question&#x2F;145500&#x2F;path-to-sqlite-dbs#answer-252362">Path to SQLite DBs?</a></li>
</ul>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="November 15th 2013, 1:03:34 pm">November 15th 2013</span>
								by <span class='authorname'>Malcolm Hollingsworth</span><br>
								<a class="icon-bg icon-link" href="question/159516/titaniumdatabasedb-exporting-database-and-locationpath-of-sql-file#answer-271350" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Your new friend;</p>
<ul>
<li><a href="https:&#x2F;&#x2F;addons.mozilla.org&#x2F;en-US&#x2F;firefox&#x2F;addon&#x2F;sqlite-manager&#x2F;">Firefox plugin; SQLite Manager</a></li>
</ul>
</p>
										<div class="author">
											&mdash; commented <span title="November 18th 2013, 9:39:59 am">November 18th 2013</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-271338">
				
						<section>
							<p>The database object has a file property. After a call to install or open, you can retrieve the file value and then the path</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="November 15th 2013, 10:24:23 am">November 15th 2013</span>
								by <span class='authorname'>alessandro la rocca</span><br>
								<a class="icon-bg icon-link" href="question/159516/titaniumdatabasedb-exporting-database-and-locationpath-of-sql-file#answer-271338" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-271418">
				
						<section>
							<p>Thank you very much for your fast answers! That makes perfect sense:) Im getting hold of the DB file now, and I manage to export it by mail! </p>
<p>Now I just need to figure out how to open it on desktop, thought it would be possible in excel for some reason but the formatting isn&#39;t the best hehe:) If any one has any ideas you are very welcome to share:)</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="November 18th 2013, 9:19:56 am">November 18th 2013</span>
								by <span class='authorname'>Gustav Gullstrand</span><br>
								<a class="icon-bg icon-link" href="question/159516/titaniumdatabasedb-exporting-database-and-locationpath-of-sql-file#answer-271418" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Quick tip; next time - please do not create a new answer when your contribution is actually a comment - it confuses things in the future when trying to work out relevance.  You are NOT being told off.</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 18th 2013, 9:40:32 am">November 18th 2013</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
