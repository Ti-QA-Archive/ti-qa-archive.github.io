<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Alloy Database Migration » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Alloy Database Migration</h1>
		</header>
		<section>
			<p><a href="http:&#x2F;&#x2F;docs.appcelerator.com&#x2F;titanium&#x2F;latest&#x2F;#!&#x2F;guide&#x2F;Alloy_Sync_Adapters_and_Migrations">docs</a></p>
<p>For example I have migration files for version 1 to version 7. When installing the app on a device that has version 6 database already, does Alloy apply just the version 7&#39;s migration file? How does Alloy know or determine?</p>
<p>From the docs it looks like no matter what version that is already on the device, Alloy runs the migration files from the oldest to the newest (from version 1 to 7 in the example above). Then wouldn&#39;t this cause some problems in my example since it has version 6 already?</p>
<p>I don&#39;t get it. Anyone? Thanks.</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="June 4th 2014, 2:59:15 pm">June 4th 2014</span>
				by <span class='authorname'>Shawn Lan</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>alloy</span></li>
					
						<li><span class='tagname'>database</span></li>
					
						<li><span class='tagname'>mobile</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-279437">
				
						<section>
							<p>You seem to have the right docs, I think you just went down too far in the page, right to &#39;migrations&#39;. Check out the section on Sync Adapters. There is a place when you define your adapter to select the appropriate migration file. I copied the relevant text below, but it is in the docs you reference.</p>
<p>Specify a migration to use</p>
<p>Define the migration key-value pair in the config.adapter object to specify the database version to use. The value of this key is the datatime code of the migration file. Alloy upgrades or rolls back the database based on this value. If left undefined, Alloy upgrades the database based on the newest migration file.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="June 4th 2014, 4:07:01 pm">June 4th 2014</span>
								by <span class='authorname'>Ray Belisle</span><br>
								<a class="icon-bg icon-link" href="question/174875/alloy-database-migration#answer-279437" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>I saw that. My understanding:</p>
<p>If I specify migration, alloy upgrades any previous version of database to the specified version. Correct?</p>
<p>My question is: how does Alloy determine the version of previously installed database? Alloy doesn&#39;t know the pervious version, so it just applies migration files from version 1 to the specific version?</p>
<p>Still don&#39;t get it….</p>
</p>
										<div class="author">
											&mdash; commented <span title="June 4th 2014, 4:40:34 pm">June 4th 2014</span>
											by <span class='authorname'>Shawn Lan</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
