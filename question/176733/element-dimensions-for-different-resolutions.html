<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Element dimensions for different resolutions » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Element dimensions for different resolutions</h1>
		</header>
		<section>
			<p>How to ensure that element will be displayed the same way under different screen resolution (480x800, 800x1280 etc)? Consider a situation when I have a View element with dimensions 200x200px. Currently I do something like that:</p>
<p>index.xml</p>
<pre><code class="hljs">&lt;<span class="hljs-keyword">View</span> <span class="hljs-keyword">class</span>=<span class="hljs-string">"the-view"</span>&gt;
  my <span class="hljs-keyword">view</span>
&lt;/<span class="hljs-keyword">View</span>&gt;
</code></pre><p>index.tss</p>
<pre><code class="hljs">"<span class="hljs-class">.the-view</span>": <span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">width</span>:<span class="hljs-value"> Alloy.Globals.Styles.Dimensions.TheView.Width,
    height: Alloy.Globals.Styles.Dimensions.TheView.Height
</span></span></span>}
</code></pre><p>alloy.js</p>
<pre><code class="hljs"><span class="hljs-keyword">const</span> DEFAULT_W = <span class="hljs-number">480</span>;
<span class="hljs-keyword">const</span> RATIO = Ti.Platform.displayCaps.platformWidth / DEFAULT_W;

Alloy.Globals.Styles = {
    Dimensions: {
        TheView: {
            Width: <span class="hljs-number">200</span> * RATIO,
            Height: <span class="hljs-number">200</span> * RATIO
        }
    }
};
</code></pre><p>This code gives me desired results, but the idea that I have to define dimensions and margins in another file (not in .tss file, which is a place for such definitions) seems really, really bad. However since we can&#39;t do math in .tss files this solution seems to be the right one :&#x2F;. I&#39;m really confused… Is there some other (cleaner) way to achieve exactly what the code above does?</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="August 4th 2014, 6:35:15 am">August 4th 2014</span>
				by <span class='authorname'>Marek Małek</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>tss</span></li>
					
				</ul>
			

			<section>
				<h5>3 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p><a href="http:&#x2F;&#x2F;docs.appcelerator.com&#x2F;titanium&#x2F;3.0&#x2F;#!&#x2F;guide&#x2F;Using_density-specific_resources_on_Android">Here in documentation</a> you find all.</p>
</div>
							<div class="author">
								&mdash; commented <span title="August 4th 2014, 7:02:17 am">August 4th 2014</span>
								by <span class='authorname'>Rainer Schleevoigt</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>I don&#39;t think my problem has to do aynthing with density. I want 200x200 pixel View to show the same way under 480x800 resolution, and under 800x1280 resolution - it should occupy same amount of space under both.</p>
</div>
							<div class="author">
								&mdash; commented <span title="August 4th 2014, 7:07:36 am">August 4th 2014</span>
								by <span class='authorname'>Marek Małek</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>In my .tss file I did:</p>
<p>&quot;.box&quot;: {<br>    width: &quot;210dp&quot;,<br>    height: &quot;210dp&quot;<br>}</p>
<p>This is my app under 480x800 resolution:</p>
<p><img src="http:&#x2F;&#x2F;pl.tinypic.com&#x2F;view.php?pic=14mz6b&amp;s=8#.U99SBWMa5kU &quot;480x800&quot;" alt="480x800"></p>
<p>and under 800x1280 resolution:</p>
<p><img src="http:&#x2F;&#x2F;pl.tinypic.com&#x2F;view.php?pic=25zqqu8&amp;s=8#.U99SFmMa5kU &quot;800x1280&quot;" alt="800x1280"></p>
</div>
							<div class="author">
								&mdash; commented <span title="August 4th 2014, 7:31:11 am">August 4th 2014</span>
								by <span class='authorname'>Marek Małek</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>1</span> Vote</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-281409">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>Hi</p>
<p>You should read the following answers I gave some time ago that explains how to manage different layouts across different devices and platforms.</p>
<ul>
<li><a href="http:&#x2F;&#x2F;developer.appcelerator.com&#x2F;question&#x2F;148337&#x2F;how-to-achieve-same-layout-for-android-and-iphone-using-titanium.html#answer-256884">How to achieve same layout for Android and iPhone using Titanium</a></li>
<li><a href="http:&#x2F;&#x2F;developer.appcelerator.com&#x2F;question&#x2F;149743&#x2F;images-in-android.html#answer-258910">images in Android</a> (also iOS)</li>
</ul>
<p>This will give you all the information you need to get manage your cross platform and multiple device management layout and images.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 4th 2014, 8:05:28 am">August 4th 2014</span>
								by <span class='authorname'>Malcolm Hollingsworth</span><br>
								<a class="icon-bg icon-link" href="../../question/176733/element-dimensions-for-different-resolutions.html#answer-281409" rel="permalink">permalink</a>
							</div>

							<h5>5 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>I&#39;m under impression that nobody&#39;s getting what I&#39;m asking about :). Please go here: http:&#x2F;&#x2F;pl.tinypic.com&#x2F;view.php?pic=14mz6b&amp;s=8#.U99SBWMa5kU and here: http:&#x2F;&#x2F;pl.tinypic.com&#x2F;view.php?pic=25zqqu8&amp;s=8#.U99SFmMa5kU . The problem is that when I set width height and width to 210dp under 480x800 and 800x1280 resolutions everything is broken. Every link you provided, and every one I found myself is saying that I should use dp, and everything will be ok. Well, it isn&#39;t :). On 480x800 screen my View element is just too big</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 4th 2014, 8:21:29 am">August 4th 2014</span>
											by <span class='authorname'>Marek Małek</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Nope - I did understand your question perfectly.  Which is why I provided the information I gave.</p>
<p>You would like the a high density image that displays a view covering the left half of the screen to do the same on a low density screen - even though the two devices have very different pixel dimensions.</p>
<p>I did say use dp - there is a good reason for that, others say the same - there is a good reason for that as well.  This may well come down to a misunderstanding of where to start, so a quick guide.</p>
<p>Android and iOS (ignoring others for the moment) have two very different units of measurement.  iOS uses DP and Android uses pixels.  Here is the very first stumbling block which is where much of the confusion starts - so we make both the same.  We could pick ANY measurement to make them the same but DP has some advantages.</p>
<p>Now consider the densities of the devices and their relative scale factors (mentioned in the links);</p>
<ul>
<li>Android<ul>
<li>ldpi = 75%</li>
<li>mdpi = 100%</li>
<li>hdpi = 150%</li>
<li>xhdpi = 200%</li>
<li>xxhdpi = 300%</li>
</ul>
</li>
<li>iOS<ul>
<li>Not Retina = 100%</li>
<li>Retina = 200%</li>
</ul>
</li>
</ul>
<p>You will notice the relative sizes.  You should set ALL measurements as if the base size is the 100% scale.  So and iOS iPhone non-retina is 320x480 and the same with a short Android medium density device at 320x480.  These are both 100% scale.</p>
<p>So to place a view on the left side you use this in the tss;</p>
<pre><code class="hljs">"<span class="hljs-class">.leftside</span>": <span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">backgroundColor</span>:<span class="hljs-value"> <span class="hljs-string">'orange'</span>,
    height: Ti.UI.FILL,
    width: <span class="hljs-number">160</span>
</span></span></span>}
</code></pre><p>Provided you follow my link instruction to set the default unit to &quot;dp&quot; then in each case orange covers the left side of the device.  If you used a retina (high density) iPhone at 640x960 or a medium density Android device at 480x720 then the orange portion would still be half the device screen on those devices as well.</p>
<p>There are differences in width when aspect ratios come into play, for example a xxhpi device at 1080x1920 in dp terms is 360x640.  So this time our 160 wide will be slightly less than half the device in orange.  However that is fine as well. as this is easily resolved by a Global and a class.</p>
<p><strong>Alloy.js</strong></p>
<pre><code class="hljs">Alloy.Globals.deviceWidth = parseInt(Ti.Platform.displayCaps.platformWidth / (Ti.Platform.displayCaps.logicalDensityFactor || <span class="hljs-number">1</span>), <span class="hljs-number">10</span>);
Alloy.Globals.deviceWidthHalf = Alloy.Globals.deviceWidth / <span class="hljs-number">2</span>;
</code></pre><p><strong>some.tss</strong></p>
<pre><code class="hljs">"<span class="hljs-class">.halfdisplay</span>": <span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">width</span>:<span class="hljs-value"> Alloy.Globals.deviceWidthHalf
</span></span></span>}
</code></pre><p>Add this to any view then this will be half the display;</p>
<pre><code class="hljs"><span class="hljs-tag">&lt;<span class="hljs-title">Alloy</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">View</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"classone deviceWidthHalf"</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">View</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">Alloy</span>&gt;</span>
</code></pre><p>This helps resolve the Android aspect ratio differences.</p>
<p>The key however is that you ONLY build for 100% scale.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 4th 2014, 8:52:29 am">August 4th 2014</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Just make sure this is set in the tiapp.xml file and replaces any other line with this property;</p>
<pre><code class="hljs">&lt;<span class="hljs-keyword">property</span> <span class="hljs-property">name</span>=<span class="hljs-string">"ti.ui.defaultunit"</span> type=<span class="hljs-string">"string"</span>&gt;dp&lt;/<span class="hljs-keyword">property</span>&gt;
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="August 4th 2014, 8:53:58 am">August 4th 2014</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>That&#39;s an interesting topic..</p>
<p>On a 10&quot; Android Tablet with 2560x Resolution and a desitiy factor of two, you get a grid of 1280x. So a width of 160dp comes not even close to fill half of the screen on such a device.</p>
<p>Plus, the fact that defining a global for every width is highly impracticable. So to really relative positioning everything, you&#39;d have to use percentage values or a factor just like the OP did. I might be all wrong about ths but you certainly dont&#39;t have a constant grid on Android devices like you have on iOS.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 4th 2014, 9:19:30 am">August 4th 2014</span>
											by <span class='authorname'>Nils</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I am not sure if I am being told off here or re-educated?</p>
<p>We have moved away from a hand-held conversation to a high resolution high density tablet.  Two very different form factors.</p>
<p>As the conversation was hand-held related then the answer was hand-held related, the fluctuations in width are between 320-368 in most cases.  The only calculation you would need to achieve for my example only would be the half width - and again only for example reasons.</p>
<p>Unless you are creating an app that does not use any standard UI then you would design the app with fixed elements of width and one flexible section.  The fixed remain the same physical width but if there is an extra amount of width due to aspect ratio device differences the flexible section fills that space.  All without ANY calculation. </p>
<p>If you are trying to achieve the same layout on a tablet and the app is not a game then that approach is very uncommon as the standard UI elements remain the same correct scaled size yet your own internal elements are now wildly out of proportion.</p>
<p>You would not have the same layout for an iPhone and an iPad app unless it ignores standard UI (games, billboards, kiosks etc) - the same is true for Android.</p>
<p>This is why Alloy has an affordance for the two different devices so you can correctly choose and define the two different layouts.</p>
<p>Sometimes you need to calculate a dimension and you can make those changes in a controller if you wish.</p>
<p>I am developing a game for a client that works on iOS, Android and the Web on hand-helds, tablets and desktop of course.  Due to the vast (Android) aspect ratios and combination of tss and controller tweaks are made.  Without this the app would simply fall over the edges of one side when the aspect deviated.</p>
<p>&quot;…you certainly dont&#39;t have a constant grid on Android devices like you have on iOS.&quot;  This is because you are only thinking iPhone and you are not taking height in to consideration.  If you add retina, non-retina, retina-tall, iPad and iPad retina into the mix then things are complicated in the same way - albeit with less variations - but still three different aspect ratios over two very different resolution devices.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 4th 2014, 11:49:07 am">August 4th 2014</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
