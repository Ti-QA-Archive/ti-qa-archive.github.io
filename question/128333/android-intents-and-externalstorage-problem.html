<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Android Intents and externalStorage problem » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Android Intents and externalStorage problem</h1>
		</header>
		<section>
			<p>I am working on an app that needs to generate and &quot;send&quot; a report. I am currently using the Intents system for this so the user can choose their preferred method of delivery. </p>
<p>On my primary test device, an HTC Thunderbolt, this works perfectly fine. I can share via Gmail, dropbox, etc. I am testing on a second phone an HTC Incredible (Android 2.2), and it does not send. It acts like it does … for instance Gmail show will an attachment with the correct filename of the attachment in the gmail launcher, but when the email is delivered there is no sign of an attachment. No hint of an error message or that anything might be wrong, just no attachment goes out. This is consistently reproducible on both devices.</p>
<p>Build environment: is Ti 1.7.5 using the Android 2.2 SDK. </p>
<p>Looking at the filesystem on the devices I see &#x2F;mnt&#x2F;sdcard&#x2F;$appName&#x2F;, and in that folder there is copies of the generated files on the working Thunderbolt, and nothing on the Incredible (with inserted sdcard). I can write to the problematic sdcard with other apps and copy external files from my Desktop to the app folder on that device, at least manually, so the card seems OK.</p>
<p>The code starts out like:</p>
<pre><code class="hljs"> <span class="hljs-keyword">var</span> <span class="hljs-keyword">tempFile</span> = Titanium.Filesystem.getFile(Ti.Filesystem.externalStorageDirectory, <span class="hljs-keyword">app</span>.reportName);
 try {
    <span class="hljs-keyword">tempFile</span>.write(generatedFile.<span class="hljs-keyword">read</span>());
        ...
</code></pre><p>a) I&#39;d love to know why there is such a difference? How can I tell which Android devices are supported &#x2F; working?</p>
<p>b) I either need an alternate approach or fix for this. If offering an alternate approach, a code snippet would be extra cool.</p>
<p>Thanks.</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="November 16th 2011, 8:17:31 pm">November 16th 2011</span>
				by <span class='authorname'>Hal Burgiss</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>filesystem</span></li>
					
						<li><span class='tagname'>intents</span></li>
					
						<li><span class='tagname'>mobile</span></li>
					
				</ul>
			

			<section>
				<h5>2 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>how are you testing? are the devices connected to the computer when you are testing? Are you seeing write errors in the debug logs when testing?</p>
</div>
							<div class="author">
								&mdash; commented <span title="November 20th 2011, 2:48:24 pm">November 20th 2011</span>
								by <span class='authorname'>Aaron Saunders</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Aaron, thanks. Sorry I got past this one. Not sure if it was doing a clean fresh build or what, but subsequently, this started working as expected. (I am still having issues figuring out a fall-back, if there is no sdcard.)</p>
</div>
							<div class="author">
								&mdash; commented <span title="November 20th 2011, 3:38:47 pm">November 20th 2011</span>
								by <span class='authorname'>Hal Burgiss</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>0</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>0 Answers</h3>

	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
