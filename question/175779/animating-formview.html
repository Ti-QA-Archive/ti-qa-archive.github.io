<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>animating formView » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>animating formView</h1>
		</header>
		<section>
			<p>I have to formView(s) and am trying to show and hide them using animation, the problem is the first time the button is clicked the form is animating, but when click again it just shows or hide without animation.</p>
<p> how can I fix the animation of both formViews so that when I click on one button it slides one formView to the right and hide the other one by sliding to the left, and vise versa</p>
<p>here is my code</p>
<pre><code class="hljs">var formView1 = Ti.UI.createView({
    <span class="hljs-string">width :</span> <span class="hljs-string">'100%'</span>,
    <span class="hljs-string">height :</span> <span class="hljs-string">'100%'</span>,
    <span class="hljs-string">top :</span> <span class="hljs-number">0</span>,
<span class="hljs-label">    left:</span>-<span class="hljs-number">400</span>
});

var formView2 = Ti.UI.createView({
    <span class="hljs-string">width :</span> <span class="hljs-string">'100%'</span>,
    <span class="hljs-string">height :</span> <span class="hljs-string">'100%'</span>,
    <span class="hljs-string">top :</span> <span class="hljs-number">0</span>,
<span class="hljs-label">    left:</span>-<span class="hljs-number">400</span>
});


var a = Titanium.UI.createButton({
    <span class="hljs-string">title :</span> <span class="hljs-string">'??????? ???? ?????'</span>,
    <span class="hljs-string">width :</span> <span class="hljs-number">75</span>,
    <span class="hljs-string">style :</span> Titanium.UI.iPhone.SystemButtonStyle.BORDERED
});

a.addEventListener(<span class="hljs-string">'click'</span>, function(e) {
    formView1.animate({
<span class="hljs-label">        left:</span><span class="hljs-number">0</span>,
        <span class="hljs-string">duration :</span> <span class="hljs-number">500</span>
    });
    formView2.animate({
<span class="hljs-label">        left:</span>-<span class="hljs-number">400</span>,
        <span class="hljs-string">duration :</span> <span class="hljs-number">500</span>
    });
    formView2.hide();
    formView1.show();
});




var b = Titanium.UI.createButton({
    <span class="hljs-string">title :</span> <span class="hljs-string">'??????? ???? ?????'</span>,
    <span class="hljs-string">width :</span> <span class="hljs-number">75</span>,
    <span class="hljs-string">style :</span> Titanium.UI.iPhone.SystemButtonStyle.BORDERED
});

b.addEventListener(<span class="hljs-string">'click'</span>, function(e) {     
    formView1.animate({
<span class="hljs-label">        left:</span>-<span class="hljs-number">400</span>,
        <span class="hljs-string">duration :</span> <span class="hljs-number">500</span>
    });
    formView2.animate({
<span class="hljs-label">        left:</span><span class="hljs-number">0</span>,
        <span class="hljs-string">duration :</span> <span class="hljs-number">500</span>
    });
    formView1.hide();
    formView2.show();
});
</code></pre>
		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="July 5th 2014, 7:03:48 am">July 5th 2014</span>
				by <span class='authorname'>Mohamed Badr</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>animation</span></li>
					
						<li><span class='tagname'>formview</span></li>
					
						<li><span class='tagname'>slide</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-280387">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>Hi</p>
<p>This looks like a misunderstanding of what is happening in the order of code.  If we take this section of your code;</p>
<pre><code class="hljs"><span class="hljs-tag">a</span><span class="hljs-class">.addEventListener</span>(<span class="hljs-string">'click'</span>, <span class="hljs-function">function</span>(e) {
    <span class="hljs-tag">formView1</span><span class="hljs-class">.animate</span>({
        <span class="hljs-attribute">left</span>:<span class="hljs-number">0</span>,
        <span class="hljs-attribute">duration </span>: <span class="hljs-number">500</span>
    });
    <span class="hljs-tag">formView2</span><span class="hljs-class">.animate</span>({
        <span class="hljs-attribute">left</span>:-<span class="hljs-number">400</span>,
        <span class="hljs-attribute">duration </span>: <span class="hljs-number">500</span>
    });
    <span class="hljs-tag">formView2</span><span class="hljs-class">.hide</span>();
    <span class="hljs-tag">formView1</span><span class="hljs-class">.show</span>();
});
</code></pre><p>It says;</p>
<ul>
<li>Move formView1 to a left position of 0 and animate this over 0.5 seconds</li>
<li>Move formView2 to a left position of -400 and animate this over 0.5 seconds</li>
<li>Hide formView2</li>
<li>Show formView1</li>
</ul>
<p>So you are telling formView1 to show after you have started animating it and telling formView2 to hide before the animation has completed.</p>
<p>Try this order instead;</p>
<pre><code class="hljs">a.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span> </span>{
    formView1.show();
    formView1.animate({
        left:<span class="hljs-number">0</span>,
        duration : <span class="hljs-number">500</span>
    });
    formView2.animate({
        left:-<span class="hljs-number">400</span>,
        duration : <span class="hljs-number">500</span>
    }, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{
        formView2.hide();
    });
});
</code></pre><p>This says;</p>
<ul>
<li>Show formView1 as we will need it visible so when in move &#39;on stage&#39; it is already visible</li>
<li>Move formView1 to a left position of 0 and animate this over 0.5 seconds</li>
<li>Move formView2 to a left position of -400 and animate this over 0.5 seconds, after the animation has completed 0.5 seconds later<ul>
<li>Hide formView2</li>
</ul>
</li>
</ul>
<p>The reason for the tweak is;</p>
<ul>
<li>formView1 is off stage and not visible - so you need to make it visible before you start animating.</li>
<li>You are hiding formView2 before 0.5 seconds has elapsed (remember animations do NOT stop code flow</li>
<li>The second optional parameter for <em>animate</em> is a callback, this performs this code only once the animation has completed - so it is now safe to hide the view as it is off stage</li>
</ul>
<p>Adapt this logic to suit your needs for the other way around as well.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="July 5th 2014, 10:14:20 am">July 5th 2014</span>
								by <span class='authorname'>Malcolm Hollingsworth</span><br>
								<a class="icon-bg icon-link" href="question/175779/animating-formview#answer-280387" rel="permalink">permalink</a>
							</div>

							<h5>2 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>thank you very much</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 5th 2014, 10:22:34 am">July 5th 2014</span>
											by <span class='authorname'>Mohamed Badr</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>You are very welcome.</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 5th 2014, 1:39:10 pm">July 5th 2014</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
