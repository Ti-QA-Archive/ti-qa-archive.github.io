<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>how to handle paging? » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>how to handle paging?</h1>
		</header>
		<section>
			<p>Hey all -</p>
<p>I&#39;m not sure the best way to do this… I want to append another JSON response to a already existing one, then build my rows and table etc.</p>
<p>I put a button at the end of the table that calls API for second page of data, when page 2, 3 etc comes back, I want to keep adding it to the data in which I&#39;m looping through to build the rowViews.</p>
<p>It doesn&#39;t want to concat when doing data += responsedata.</p>
<p>Should I rebuild the table or figure out a way to append new data? </p>
<p>My goal is to cache the string with as much data as required and use it to build tableView.</p>
<p>thanks</p>
<p>Matt</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="April 16th 2012, 5:50:59 pm">April 16th 2012</span>
				by <span class='authorname'>matt s</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>tableview</span></li>
					
						<li><span class='tagname'>tableviewrow</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-236251">
				
						<section>
							<p>Just create you rows the same way you did it with the first set of data and do a<br><code>table.setData(pageX)</code> pageX is an array that contains the new rows that you want to append. as long as you dont do a <code>table.setData([&amp;#x2F;*empty array to clear the table*&amp;#x2F;])</code> you will append your pages</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="April 16th 2012, 6:24:49 pm">April 16th 2012</span>
								by <span class='authorname'>Arian Caraballo</span><br>
								<a class="icon-bg icon-link" href="question/135468/how-to-handle-paging#answer-236251" rel="permalink">permalink</a>
							</div>

							<h5>4 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>I created an array, and I&#39;m pushing new data (pages) into the array as they are fetched, this is working great, but now I want to store the data in a property, I&#39;m doing </p>
<pre><code class="hljs"><span class="hljs-type">Ti</span>.<span class="hljs-type">App</span>.<span class="hljs-type">Properties</span>.setString('list', <span class="hljs-type">JSON</span>.stringify(<span class="hljs-typedef"><span class="hljs-keyword">data</span>));</span>
</code></pre><p> but when I retrieve it back it lookes like </p>
<pre><code class="hljs">JSON UNSERIALIZED [<span class="hljs-keyword">object</span> <span class="hljs-keyword">Object</span>],[<span class="hljs-keyword">object</span> <span class="hljs-keyword">Object</span>],[<span class="hljs-keyword">object</span> <span class="hljs-keyword">Object</span>],[<span class="hljs-keyword">object</span> <span class="hljs-keyword">Object</span>],[<span class="hljs-keyword">object</span> <span class="hljs-keyword">Object</span>],[<span class="hljs-keyword">object</span> <span class="hljs-keyword">Object</span>]
</code></pre><p>when i tried to use setList I got this message.<br>Note that dictionaries and arrays in property lists must also contain only property values.</p>
<p>Everything is working fantastic, I just want to cache this data and prevent api calls to server.</p>
<p>I could use Global Var approach right?</p>
<p>any ideas?</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 17th 2012, 12:37:42 pm">April 17th 2012</span>
											by <span class='authorname'>matt s</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I dont see any problem with storing the data on a property string other than you have to convert to string and then to json every time. On the other hand the setList property will be nice to use here but it looks like they have a bug in the code, and only allow you to store a flew thing in the array, if you store a big array or json array it throws that error.<br>By the way I didnt get </p>
<pre><code class="hljs">JSON UNSERIALIZED [<span class="hljs-keyword">object</span> <span class="hljs-keyword">Object</span>],[<span class="hljs-keyword">object</span> <span class="hljs-keyword">Object</span>],[<span class="hljs-keyword">object</span> <span class="hljs-keyword">Object</span>],[<span class="hljs-keyword">object</span> <span class="hljs-keyword">Object</span>],[<span class="hljs-keyword">object</span> <span class="hljs-keyword">Object</span>],[<span class="hljs-keyword">object</span> <span class="hljs-keyword">Object</span>]
</code></pre><p>when I did a getStrign property to get the array back:</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> json = JSON.<span class="hljs-keyword">parse</span>(Ti.<span class="hljs-keyword">App</span>.Properties.getString('<span class="hljs-keyword">list</span>'));
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="April 17th 2012, 1:39:32 pm">April 17th 2012</span>
											by <span class='authorname'>Arian Caraballo</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Perhaps someone can help me out here. I have a Global var</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> <span class="hljs-keyword">bs</span>.<span class="hljs-keyword">list</span> = [];
</code></pre><p>I push JSON objects into the array each time a page is retrieved so I now have this.</p>
<p>[0] = [object Object],[object Object],[object Object],[object Object],[object Object],<br>[1] = [object Object],[object Object],[object Object],[object Object],[object Object]</p>
<p>etc.</p>
<p>I build my table by looping as such.</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> _data = <span class="hljs-keyword">bs</span>.<span class="hljs-keyword">list</span>;
<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> x = page; x &lt;= maxPage -1; x++)
{
            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i = 0; i &lt;= _data[x].length-1; i++)
            {
                Ti.API.info(_data[x][i].name);
                code....
                row_data.push(row);
            }
    <span class="hljs-keyword">table</span>.setData(row_data);
}
</code></pre><p>this works great when I&#39;m on the screen and push more data into the array, but if I click off the screen and come back and and try to rebuild table with my bs.list variable I get this message.</p>
<p>message = &quot;Result of expression &#39;_data[x]&#39; [undefined] is not an object.&quot;;</p>
<p>I dont understand why, because the bs.list is exactly the same structure as before, does this make any sense?</p>
<p>Has anybody used any sort of caching techniques to prevent going back to the server for data?</p>
<p>Matt</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 17th 2012, 2:45:45 pm">April 17th 2012</span>
											by <span class='authorname'>matt s</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>My mistake. when I say x &lt;= maxPage, I may not have elements for those pages, so I needed to do _data.length.</p>
<p>This is what happens when you don&#39;t take breaks. BTW: I found a nice cacheing library that seems to be working nicely as well.<br>https:&#x2F;&#x2F;github.com&#x2F;guilhermechapiewski&#x2F;titanium-cache</p>
<p>Matt</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 17th 2012, 3:10:07 pm">April 17th 2012</span>
											by <span class='authorname'>matt s</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
