<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Unable to build on Android with 3.4.0.GA » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Unable to build on Android with 3.4.0.GA</h1>
		</header>
		<section>
			<p>Longtime Titanium users know that practically every Titanium update brings with it some new wackadoodle build glitch that costs half a day to debug.</p>
<p>For me, with 3.4.0.GA and Android, it&#39;s this:</p>
<pre><code class="hljs">[INFO] :   Packaging <span class="hljs-string">application:</span> <span class="hljs-regexp">/Users/</span>&lt;me&gt;<span class="hljs-regexp">/Work/</span>Development<span class="hljs-regexp">/android-sdk-mac_x86/</span>build-tools<span class="hljs-regexp">/21.0.2/</span>aapt <span class="hljs-string">"package"</span> <span class="hljs-string">"-f"</span> <span class="hljs-string">"-m"</span> <span class="hljs-string">"-J"</span> <span class="hljs-string">"/&lt;proj&gt;/build/android/gen"</span> <span class="hljs-string">"-M"</span> <span class="hljs-string">"/&lt;proj&gt;/build/android/AndroidManifest.xml"</span> <span class="hljs-string">"-A"</span> <span class="hljs-string">"&lt;proj&gt;/build/android/bin/assets"</span> <span class="hljs-string">"-S"</span> <span class="hljs-string">"&lt;proj&gt;/build/android/res"</span> <span class="hljs-string">"-I"</span> <span class="hljs-string">"/&lt;android-sdk&gt;/android-sdk-mac_x86/platforms/android-14/android.jar"</span> <span class="hljs-string">"-I"</span> <span class="hljs-string">"/Users/&lt;me&gt;/Library/Application Support/Titanium/mobilesdk/osx/3.4.0.GA/android/titanium.jar"</span> <span class="hljs-string">"-I"</span> <span class="hljs-string">"/Users/&lt;me&gt;/Library/Application Support/Titanium/mobilesdk/osx/3.4.0.GA/android/aps-analytics.jar"</span> <span class="hljs-string">"-F"</span> <span class="hljs-string">"&lt;proj&gt;/build/android/bin/app.ap_"</span> <span class="hljs-string">"--auto-add-overlay"</span> <span class="hljs-string">"--extra-packages"</span> <span class="hljs-string">"ti.modules.titanium.ui:android.support.v7.appcompat"</span> <span class="hljs-string">"-S"</span> <span class="hljs-string">"/var/folders/.../res"</span> <span class="hljs-string">"-S"</span> <span class="hljs-string">"/var/folders/.../res"</span>
[ERROR] :  Failed to <span class="hljs-keyword">package</span> <span class="hljs-string">application:</span>
[ERROR] :  
[ERROR] :  <span class="hljs-string">ERROR:</span> Asset <span class="hljs-keyword">package</span> include <span class="hljs-string">'/Users/&lt;me&gt;/Library/Application Support/Titanium/mobilesdk/osx/3.4.0.GA/android/titanium.jar'</span> not found.
[ERROR] Application Installer abnormal process termination. Process exit value was <span class="hljs-number">1</span>
</code></pre><p>But of course <strong>&#x2F;Users&#x2F;&lt;me&gt;&#x2F;Library&#x2F;Application Support&#x2F;Titanium&#x2F;mobilesdk&#x2F;osx&#x2F;3.4.0.GA&#x2F;android&#x2F;titanium.jar</strong> is right there where it&#39;s supposed to be.</p>
<p>I&#39;ve tried cleaning and reinstalling the SDK.</p>
<p>Anyone run into anything similar, or have any ideas as to how to fix this?</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="November 6th 2014, 5:18:57 pm">November 6th 2014</span>
				by <span class='authorname'>K T</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>3.4.0.ga</span></li>
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>build</span></li>
					
						<li><span class='tagname'>error</span></li>
					
				</ul>
			

			<section>
				<h5>2 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>I have been having similar issues for two days now!  My problem is that Titanium Studio can&#39;t recognized any of my android connected devices…  I have done everything - including reinstall the entire Ti Studio and nothing.</p>
<p>I am running 3.4.0.GA on macox yosemite.  I am running out of ideas.  Did you figure out a work around?</p>
</div>
							<div class="author">
								&mdash; commented <span title="November 6th 2014, 9:22:45 pm">November 6th 2014</span>
								by <span class='authorname'>Paulo Dichone</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Well, my workaround was reinstalling, and fortunately that worked for me.</p>
<p>I&#39;m just trying to think of things that might be going wrong. Have the devices been used like this before? Do they have developer mode switched on? Is the computer authorized by the device? Are you able to see your devices using &#39;adb devices&#39;?</p>
</div>
							<div class="author">
								&mdash; commented <span title="November 8th 2014, 1:23:50 am">November 8th 2014</span>
								by <span class='authorname'>K T</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-283656">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>I believe this was covered on our blog. The issue is that 3.4.0.GA is not compatible with Android build tools version 21. Everything should work fine with 20.x. We have a fix for this, which will be included with the next SDK release.</p>
<p>Use the <code>android</code> app (part of the Android SDK) to remove build tools 21 and install one of the 20.x versions instead.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="November 6th 2014, 5:59:52 pm">November 6th 2014</span>
								by <span class='authorname'>Tim Poulsen</span><br>
								<a class="icon-bg icon-link" href="question/178918/unable-to-build-on-android-with-340ga#answer-283656" rel="permalink">permalink</a>
							</div>

							<h5>4 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Thanks.</p>
<p>So while it now seems to get most&#x2F;all of the way through the build process, it does not install:</p>
<pre><code class="hljs">[INFO] :   Making sure the adb server <span class="hljs-keyword">is</span> running
[INFO] :   Installing apk: /&lt;proj&gt;/build/android/bin/&lt;appname&gt;.apk
[INFO] :   Installing app <span class="hljs-keyword">on</span> device: Nexus <span class="hljs-number">5</span>
[TRACE] :  Checking <span class="hljs-keyword">if</span> <span class="hljs-keyword">package</span> manager service <span class="hljs-keyword">is</span> started
[TRACE] :  <span class="hljs-keyword">Package</span> manager has started
[TRACE] :  Executing: /&lt;android-sdk&gt;/android-sdk-mac_x86/platform-tools/adb -s &lt;hex <span class="hljs-typename">string</span>&gt; install -r /&lt;proj&gt;/build/android/bin/&lt;appname&gt;.apk
[ERROR] :  Failed <span class="hljs-keyword">to</span> install apk <span class="hljs-keyword">on</span> <span class="hljs-string">"&lt;hex string&gt;"</span>
[ERROR] Application Installer abnormal <span class="hljs-keyword">process</span> termination. <span class="hljs-keyword">Process</span> <span class="hljs-keyword">exit</span> value was <span class="hljs-number">1</span>
[ERROR] Application Installer abnormal <span class="hljs-keyword">process</span> termination. <span class="hljs-keyword">Process</span> <span class="hljs-keyword">exit</span> value was <span class="hljs-number">1</span>
</code></pre><p>Again, cleaned several times to no avail.</p>
<p>Is this still a related issue to some tools incompatibility, or should I be scouring elsewhere for a fix?</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 6th 2014, 7:28:31 pm">November 6th 2014</span>
											by <span class='authorname'>K T</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Unfortunately, &quot;exit value was 1&quot; is a non-specific message that simply means something went wrong. So, I&#39;m having to just take some guesses here. I&#39;ve built to an Android device using 3.4.0.GA a half-dozen times today. So, this does work. It&#39;s got to be a configuration issue. Just finding what that is can be tough.</p>
<p>Did you restart adb after removing the v21 build tools? Do an <code>adb kill-server</code> and try again.</p>
<p>Are you sure your device is connected as a &quot;media device&quot; (not &quot;installer&quot; or pptp)? Can it be seen by the Android File Transfer app? </p>
<p>Does the device need to re-authorize to the computer (you get a pop-up on the device asking if you accept the connection from the computer)?</p>
<p>Did the build process create a signed apk file in the build&#x2F;android&#x2F;bin directory? If so, can you install manually using </p>
<pre><code class="hljs">/&lt;<span class="hljs-keyword">android-sdk&gt;/android-sdk-mac_x86/platform-tools/adb </span>-s &lt;hex <span class="hljs-keyword">string&gt; </span>install -r
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="November 6th 2014, 8:03:45 pm">November 6th 2014</span>
											by <span class='authorname'>Tim Poulsen</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Thank you for the suggestion. I actually ended punting, though, and uninstalling and reinstalling everything. Seemed faster than continuing to troubleshoot for another couple&#x2F;few hours. I&#39;m able to get it to build and install on the device now.</p>
<p>Does the Studio console capture all tools output? It doesn&#39;t seem like it does, but it does seem like that would be useful to do so, particularly at, say, a Trace level. Or if it&#39;s beyond the capabilities of the build system, launching in a console window would at least let us see what&#39;s going on, and maybe what&#39;s (not) working.</p>
<p>Thank you again for your help.</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 6th 2014, 10:23:32 pm">November 6th 2014</span>
											by <span class='authorname'>K T</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>By default, just info, warning, and error messages are displayed in the Studio console. You can change that by clicking on the button shown here:</p>
<p><img src="https:&#x2F;&#x2F;jira.appcelerator.org&#x2F;secure&#x2F;attachment&#x2F;29987&#x2F;Log%20Level%20Drop-Down.png" alt="log_level"></p>
<p>Alternatively, you could build from the command line. First, turn on trace-level logging: <code>ti setup</code> choose option 6 and when prompted, choose Trace level log output. Then, build your project <code>ti build -p android</code> and be prepared for lots of console messages!</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 10th 2014, 1:01:24 pm">November 10th 2014</span>
											by <span class='authorname'>Tim Poulsen</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
