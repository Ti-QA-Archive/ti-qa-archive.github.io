<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Vertical Layout, 3 child views and Ti.UI.FILL doesn´t work » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Vertical Layout, 3 child views and Ti.UI.FILL doesn´t work</h1>
		</header>
		<section>
			<p>Hi!<br>I have a view, in which i have 3 child views.<br>My container view, is set to <code>layout=&amp;#39;vertical&amp;#39;</code><br>Inside, i have 3 views<br>The first one has a fixed height: <code>height=&amp;#39;100</code><br>The last one, in the bottom also has a fixed height: <code>height=&amp;#39;200&amp;#39;</code><br>The middle one, must fill the remaining space between those two so i&#39;m using <code>height=&amp;#39;Ti.UI.FILL&amp;#39;</code></p>
<p>The problem is that, because the middle view is second, it only calculates it&#39;s height using the first view.</p>
<p>I&#39;ve tested by placing my bottom view, second, and the Ti.UI.FILL last, and there it does the calculations correctly but it&#39;s not the order I need.</p>
<p>So, according to my tests, the view with Ti.UI.FILL should be placed last on the xml, but how can I do this If i need it to be in the middle of my view, between the top and bottom views?</p>
<p>Anyone knows how to fix or a workaround for this?</p>
<p>Sample code:</p>
<p>index.js</p>
<pre><code class="hljs"><span class="hljs-tag">&lt;<span class="hljs-title">Alloy</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">Window</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"container"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">View</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"vwContainer"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">View</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"topView"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">View</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">View</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"midView"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">View</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">View</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"botView"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">View</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">View</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">Window</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">Alloy</span>&gt;</span>
</code></pre><p>index.tss</p>
<pre><code class="hljs">"<span class="hljs-class">.container</span>": <span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">backgroundColor</span>:<span class="hljs-value"><span class="hljs-string">"white"</span>
</span></span></span>},
"<span class="hljs-id">#vwContainer</span>": <span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">layout</span>:<span class="hljs-value"> <span class="hljs-string">'vertical'</span>
</span></span></span>},
"<span class="hljs-id">#topView</span>": <span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">height</span>:<span class="hljs-value"> <span class="hljs-number">100</span>,
    backgroundColor: <span class="hljs-string">'green'</span>
</span></span></span>},
"<span class="hljs-id">#midView</span>": <span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">height</span>:<span class="hljs-value"> Ti.UI.FILL,
    backgroundColor: <span class="hljs-string">'blue'</span>
</span></span></span>},
"<span class="hljs-id">#botView</span>": <span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">height</span>:<span class="hljs-value"> <span class="hljs-number">200</span>,
    backgroundColor: <span class="hljs-string">'red'</span>
</span></span></span>}
</code></pre><p>This is what it looks like (in the bottom should be a red square, but it&#39;s now working):<br><img src="http:&#x2F;&#x2F;s30.postimg.org&#x2F;6ngrk9r0h&#x2F;device_2014_04_26_190448.png &quot;Output&quot;" alt="Output"></p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="April 26th 2014, 8:08:20 pm">April 26th 2014</span>
				by <span class='authorname'>Juan Manuel Haedo</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>ti.ui.fill</span></li>
					
						<li><span class='tagname'>vertical layout</span></li>
					
						<li><span class='tagname'>view</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-278147">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>Try this </p>
<pre><code class="hljs">"<span class="hljs-class">.container</span>": <span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">backgroundColor</span>:<span class="hljs-value"><span class="hljs-string">"white"</span>
</span></span></span>},
"<span class="hljs-id">#vwContainer</span>": <span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">layout</span>:<span class="hljs-value"> <span class="hljs-string">'vertical'</span>
</span></span></span>},
"<span class="hljs-id">#topView</span>": <span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">height</span>:<span class="hljs-value"> <span class="hljs-number">100</span>,
    backgroundColor: <span class="hljs-string">'green'</span>
</span></span></span>},
"<span class="hljs-id">#midView</span>": <span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">top</span>:<span class="hljs-value"> <span class="hljs-number">100</span>,
    bottom: <span class="hljs-number">200</span>,
    backgroundColor: <span class="hljs-string">'blue'</span>
</span></span></span>},
"<span class="hljs-id">#botView</span>": <span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">height</span>:<span class="hljs-value"> <span class="hljs-number">200</span>,
    backgroundColor: <span class="hljs-string">'red'</span>
</span></span></span>}
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="April 26th 2014, 9:31:00 pm">April 26th 2014</span>
								by <span class='authorname'>Edwin Ardiwinata</span><br>
								<a class="icon-bg icon-link" href="question/173132/vertical-layout-3-child-views-and-tiuifill-doesnt-work.html#answer-278147" rel="permalink">permalink</a>
							</div>

							<h5>5 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Thanks!<br>I just did this exactly 1 minute ago, and came here to post the solution.<br>I&#39;ll explain it for future reference:<br>The idea is to set the top and bottom of the MID view, to the same height values of the top and bottom views.</p>
<p>That way, it fills on the space based on the top and bottom.</p>
<p>Cheers!</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 26th 2014, 9:33:01 pm">April 26th 2014</span>
											by <span class='authorname'>Juan Manuel Haedo</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>As your aim is to fill up one patent view with determined height and calculated height views you should not keep the layout property, this is simply adding calculation overhead (albeit small) to the creation and may in the future have unforeseen outcomes.  Keep in mind that when using the layout property the; top, bottom, left and right properties become margins rather than actual positions.</p>
<p>So set the top view to have top = 0 and bottom view to have bottom = 0 and remove the parent layout property altogether. Set the mid view to have a height of Ti.UI.FILL, to force the choice rather than assuming the default.  I would also recommend setting the width values to at least Ti.UI.FILL, whilst this is the current default, this may change in the future, some things are better not left to assumed defaults &quot;just in case&quot;.</p>
<p>Do not forget to mark the answer you were given as it clearly is the correct solution - even if you arrived at it at the same time, usual community stuff.</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 27th 2014, 3:18:13 am">April 27th 2014</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Hi Malcolm. Thanks for your comments, but the solution you suggest is the axtual problem.<br>Having the mid view&#39;s height with Ti.UI.FILL just fills the remaining space calculating the top view, but not taking into account the bottom view, thus, making it not to show.</p>
<p>Edwin&#39;s answer is the way to go. Removing the vertical layout AND setting top and bottom values to the same height values as the top and bottom views.</p>
<p>Thanks!</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 27th 2014, 6:57:06 pm">April 27th 2014</span>
											by <span class='authorname'>Juan Manuel Haedo</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Just to clarify I was not suggesting that the answer already provided was wrong - in fact I was building on it to make it even better.  The suggestions I made were to correctly modify the code to remove the extra layout property which is not required and adds to redraw processes you can avoid.</p>
<p>Keep in mind I offered a comment not an alternative answer.</p>
<p>My modifications to the revised code this gave you would then look like this;</p>
<pre><code class="hljs">"<span class="hljs-class">.container</span>": <span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">backgroundColor</span>:<span class="hljs-value"><span class="hljs-string">"white"</span>
</span></span></span>},
"<span class="hljs-id">#topView</span>": <span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">height</span>:<span class="hljs-value"> <span class="hljs-number">100</span>,
    backgroundColor: <span class="hljs-string">'green'</span>,
    top: <span class="hljs-number">100</span>,
    width: Ti.UI.FILL
</span></span></span>},
"<span class="hljs-id">#midView</span>": <span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">top</span>:<span class="hljs-value"> <span class="hljs-number">100</span>,
    bottom: <span class="hljs-number">200</span>,
    backgroundColor: <span class="hljs-string">'blue'</span>,
    height: Ti.UI.FILL,
    width: Ti.UI.FILL
</span></span></span>},
"<span class="hljs-id">#botView</span>": <span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">Bottom</span>:<span class="hljs-value"> <span class="hljs-number">200</span>,
    height: <span class="hljs-number">200</span>,
    backgroundColor: <span class="hljs-string">'red'</span>,
    width: Ti.UI.FILL
</span></span></span>}
</code></pre><ul>
<li>no layout</li>
<li>widths actually set</li>
<li>mid view has height set</li>
</ul>
<p>This works by using the top view with a top of 0, the bottom view with a bottom of 0 - this anchors both to top and bottom as required.  The mid view had a height of the entire device (or parent view) and uses the same top and bottom values as margin offsets.</p>
<p>Trust me I know what I am doing.</p>
<p>And again I was NOT offering a different answer, just a refinement of the correct one you already had.</p>
<p>Please re-read what I said and you will see.  In fact given your last comment you have actually done EXACTLY what I said, except you are relying on the view width and height defaults which are in fact both Ti.UI.FILL.  As these are defaults I suggested you set them explicitly in case the defaults change in the future.</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 27th 2014, 8:42:00 pm">April 27th 2014</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Hi Malcom.<br>I&#39;m sorry if it sounded like i said that you were criticizingthe answer.<br>I just misunderstood what you were trying to explain.<br>Your answer actually does improve the current answer.<br>Cheers and thanks a lot for helping out!</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 27th 2014, 9:19:21 pm">April 27th 2014</span>
											by <span class='authorname'>Juan Manuel Haedo</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
