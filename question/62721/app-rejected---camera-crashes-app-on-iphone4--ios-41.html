<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>App REJECTED - Camera crashes app on iPhone4 , iOS 4.1 » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>App REJECTED - Camera crashes app on iPhone4 , iOS 4.1</h1>
		</header>
		<section>
			<p>after having my app sit in itunes connect for 11 days after submitting it, i just got the email saying it was being rejected because it crashes on iOS 4.1 on an iPhone 4 when launching the camera. </p>
<p>They sent me crash logs and they both say this :</p>
<pre><code class="hljs"><span class="hljs-keyword">Thread</span> <span class="hljs-number">0</span> crashed <span class="hljs-keyword">with</span> ARM <span class="hljs-keyword">Thread</span> State
</code></pre><p>Any help would be GREATLY appreciated on what to do to get the app working with iOS 4.1 so that when starting the camera it won&#39;t crash. And i&#39;m open to any and all suggestions, checks and help.</p>
<p>thank you!!!!</p>
<p>rocksteady,<br>danno~</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="September 19th 2010, 11:00:25 pm">September 19th 2010</span>
				by <span class='authorname'>danno watts</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>4.1</span></li>
					
						<li><span class='tagname'>camera</span></li>
					
						<li><span class='tagname'>crash</span></li>
					
						<li><span class='tagname'>iphone</span></li>
					
				</ul>
			

			<section>
				<h5>1 Comment</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Is this a camera crash on iPhone 4 only? I have an camera-based app I haven&#39;t yet submitted which seems to crash on iPhone 4 but not on iPhone 3GS</p>
</div>
							<div class="author">
								&mdash; commented <span title="September 22nd 2010, 1:33:27 am">September 22nd 2010</span>
								by <span class='authorname'>karlo kilayko</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>7</span> Votes</div>
			<div class="answers"><span>12</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>12 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-119631">
				
						<section>
							<p>I&#39;m experiencing the same issue and would love to know if a solution is being worked on. Everything works fine and the picture gets taken, but after saving it everything disappears and the background is the only thing that shows.</p>
<p>My app is dependent on taking photos, and I can&#39;t push my next update until this issue is corrected. </p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="September 25th 2010, 3:28:37 pm">September 25th 2010</span>
								by <span class='authorname'>John Gilfillan</span><br>
								<a class="icon-bg icon-link" href="question/62721/app-rejected---camera-crashes-app-on-iphone4--ios-41.html#answer-119631" rel="permalink">permalink</a>
							</div>

							<h5>3 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>I did some further testing. This seems to be an issue with the new HDR function on iPhone 4. The problem doesn&#39;t happen when using my iPhone 3GS, and it doesn&#39;t happen when using the front facing camera on iPhone 4, both of which don&#39;t have HDR enabled.</p>
</p>
										<div class="author">
											&mdash; commented <span title="September 26th 2010, 1:50:46 pm">September 26th 2010</span>
											by <span class='authorname'>John Gilfillan</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>hey john,<br>on an iphone4, for it to not crash, they have to have HDR disabled? were you able to have your app run correctly on an iphone4 once you disabled HDR?</p>
</p>
										<div class="author">
											&mdash; commented <span title="September 28th 2010, 7:11:13 pm">September 28th 2010</span>
											by <span class='authorname'>danno watts</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I haven&#39;t been able to disable the HDR, I just assumed that this was the cause because it is the only new camera feature on iPhone 4 that&#39;s not available on my 3Gs. It could also be the flash, but the app was working before iOS 4.1 was released (which is where HDR was introduced).</p>
<p>Still haven&#39;t got the problem solved, but it does look like removing modal windows as suggested below works – it just sucks because I need to rethink the way my app works.</p>
</p>
										<div class="author">
											&mdash; commented <span title="September 28th 2010, 8:41:47 pm">September 28th 2010</span>
											by <span class='authorname'>John Gilfillan</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>2</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-203644">
				
						<section>
							<p>This code works perfect for me :)</p>
<pre><code class="hljs">Titanium.Media.showCamera({
        success:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(event)</span></span>{
            var media = event.media;
            <span class="hljs-keyword">if</span>(event.mediaType == Ti.Media.MEDIA_TYPE_PHOTO){
                upload_image(media);  
            } <span class="hljs-keyword">else</span> {
                upload_video(media);
            }
        },
        cancel:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span></span>{
        },
        <span class="hljs-built_in">error</span>:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(error)</span></span>{
            var a = Titanium.UI.createAlertDialog({title:<span class="hljs-string">'Camera'</span>});
            <span class="hljs-keyword">if</span> (<span class="hljs-built_in">error</span>.code == Titanium.Media.NO_CAMERA){
                a.setMessage(<span class="hljs-string">'No Camera!'</span>);
            }
            <span class="hljs-keyword">else</span> {
                a.setMessage(<span class="hljs-string">'Oops: '</span> + <span class="hljs-built_in">error</span>.code);
            }
            a.show();
        },
        saveToPhotoGallery: <span class="hljs-keyword">false</span>,
        allowEditing: <span class="hljs-keyword">true</span>,
        mediaTypes:[Ti.Media.MEDIA_TYPE_VIDEO,Ti.Media.MEDIA_TYPE_PHOTO]
    });
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="March 3rd 2011, 7:35:08 pm">March 3rd 2011</span>
								by <span class='authorname'>mostafa farghaly</span><br>
								<a class="icon-bg icon-link" href="question/62721/app-rejected---camera-crashes-app-on-iphone4--ios-41.html#answer-203644" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-117681">
				
						<section>
							<p>bump!</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="September 21st 2010, 3:52:45 pm">September 21st 2010</span>
								by <span class='authorname'>danno watts</span><br>
								<a class="icon-bg icon-link" href="question/62721/app-rejected---camera-crashes-app-on-iphone4--ios-41.html#answer-117681" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>-1</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-117701">
				
						<section>
							<p>I&#39;m developing camera software too, i had your crash experience,<br>due to some changes all you need to do is :<br>download the latest version nightly build:<br>http:&#x2F;&#x2F;builds.appcelerator.com.s3.amazonaws.com&#x2F;index.html  ( you should have a new titanium sdk notification for version 1.4.1.1)</p>
<p>Delete in your app&#39;s folder the content of the build&#x2F;iphone&#x2F; (leave the directory)<br>Perform a full re-build… pray…<br>that&#39;s all<br>let me know.</p>
<p>Andrea</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="September 21st 2010, 4:45:08 pm">September 21st 2010</span>
								by <span class='authorname'>Andrea S</span><br>
								<a class="icon-bg icon-link" href="question/62721/app-rejected---camera-crashes-app-on-iphone4--ios-41.html#answer-117701" rel="permalink">permalink</a>
							</div>

							<h5>4 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>did you test this on an iphone 4 running iOS 4.1?</p>
</p>
										<div class="author">
											&mdash; commented <span title="September 21st 2010, 5:00:31 pm">September 21st 2010</span>
											by <span class='authorname'>danno watts</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Is this a camera crash on iPhone 4 only? I have an camera-based app I haven&#39;t yet submitted which seems to crash on iPhone 4 but not on iPhone 3GS</p>
</p>
										<div class="author">
											&mdash; commented <span title="September 22nd 2010, 1:33:04 am">September 22nd 2010</span>
											by <span class='authorname'>karlo kilayko</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I&#39;ve tried this too. No luck. The only thing that makes the camera work on iPhone 4 is turning completely off, then turn it back on.</p>
</p>
										<div class="author">
											&mdash; commented <span title="October 28th 2010, 6:30:48 pm">October 28th 2010</span>
											by <span class='authorname'>Awesome Dude</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I closed all the running apps on the iphone4 when my app crashed, after that it worked smoothly again. no crash. (back to low-memory crash?)</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 12th 2010, 8:11:57 am">November 12th 2010</span>
											by <span class='authorname'>Mikael Johansson</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>-1</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-117711">
				
						<section>
							<p>Anyone else currently experiencing a slow turn around with the App Store approval process? I noticed you said it took 11 days for you. </p>
<p>I&#39;ve had an App in the &quot;Waiting for Review&quot; process for eight days now with no change.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="September 21st 2010, 4:54:23 pm">September 21st 2010</span>
								by <span class='authorname'>John Welch</span><br>
								<a class="icon-bg icon-link" href="question/62721/app-rejected---camera-crashes-app-on-iphone4--ios-41.html#answer-117711" rel="permalink">permalink</a>
							</div>

							<h5>3 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>what day did you submit yours on?</p>
</p>
										<div class="author">
											&mdash; commented <span title="September 21st 2010, 4:59:43 pm">September 21st 2010</span>
											by <span class='authorname'>danno watts</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>September 13, 2010 15:56</p>
</p>
										<div class="author">
											&mdash; commented <span title="September 21st 2010, 6:53:41 pm">September 21st 2010</span>
											by <span class='authorname'>John Welch</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>10 days for one of my apps</p>
</p>
										<div class="author">
											&mdash; commented <span title="September 21st 2010, 7:37:43 pm">September 21st 2010</span>
											by <span class='authorname'>Dan Tamas</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>-1</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-117731">
				
						<section>
							<p>i&#39;ve had one sitting waiting for review since the 14th september and it uses the camera, i&#39;ll be pissed if it gets the knock back for crashing.</p>
<p>I suspect the delay is caused by the relaxing of the rules, and all those people&#x2F;companies who didn&#39;t submit because of things like its a flash port through the adobe thingy will have ran their games etc through the magic flash to iphone mill and banged them in along with all the stuff people had sitting there rejected for random reasons.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="September 21st 2010, 6:21:37 pm">September 21st 2010</span>
								by <span class='authorname'>Robert Greenock</span><br>
								<a class="icon-bg icon-link" href="question/62721/app-rejected---camera-crashes-app-on-iphone4--ios-41.html#answer-117731" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>app approved (O Snap), uses camera a lot, simple app using tables, audio record and playback, camera and no assets except for splash and icon. compiled using:<br>version=1.4.1<br>timestamp=08&#x2F;20&#x2F;10 20:02<br>githash=47cd8a<br>tested on 3g 8gb iphone(too slow for camera function) - 3gs iphone - latest version 8gb ipod 4g</p>
</p>
										<div class="author">
											&mdash; commented <span title="September 26th 2010, 10:33:05 am">September 26th 2010</span>
											by <span class='authorname'>Robert Greenock</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>-1</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-118971">
				
						<section>
							<p>just thought i&#39;d update those who look at this thread that i haven&#39;t heard anything else from the accelerator team about this issue. sent them my code folder on sunday night so that they could look at the issue, but i&#39;m guessing they are swamped with so many things that they haven&#39;t gotten back to me.</p>
<p>if any of you can find a way to test this out that would be appreciated!</p>
<p>rocksteady,<br>danno~</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="September 23rd 2010, 8:29:16 pm">September 23rd 2010</span>
								by <span class='authorname'>danno watts</span><br>
								<a class="icon-bg icon-link" href="question/62721/app-rejected---camera-crashes-app-on-iphone4--ios-41.html#answer-118971" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>-1</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-119581">
				
						<section>
							<p>On iPhone 4 (iOS 4.0) I had problems using the Camera from a modal window. Essentially, the app would disappear leaving just the background image and no buttons or window title. The app was essentially &#39;crashed&#39; because you had to force quit it to get it back.</p>
<p>When I access the camera from a non-modal window it works fine. I just updated to iPhone 4 iOS 4.1 and my existing app with non-modal window works just fine without crashing.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="September 25th 2010, 9:54:47 am">September 25th 2010</span>
								by <span class='authorname'>matt raj</span><br>
								<a class="icon-bg icon-link" href="question/62721/app-rejected---camera-crashes-app-on-iphone4--ios-41.html#answer-119581" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>-1</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-120781">
				
						<section>
							<p>Any news on this? Seems like a major flaw with iPhone 4 and not a word from the appcelerator team. I would really love to submit an update for my app to Apple but can&#39;t until this gets fixed.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="September 28th 2010, 2:20:37 pm">September 28th 2010</span>
								by <span class='authorname'>John Gilfillan</span><br>
								<a class="icon-bg icon-link" href="question/62721/app-rejected---camera-crashes-app-on-iphone4--ios-41.html#answer-120781" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>-1</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-120801">
				
						<section>
							<p>Hi,<br>I&#39;ve had an app approved (O Snap), uses camera a lot, simple app using tables, audio record and playback, camera and no assets except for splash and icon. compiled using: version=1.4.1 timestamp=08&#x2F;20&#x2F;10 20:02 githash=47cd8a tested on 3g 8gb iphone(too slow for camera function) - 3gs iphone - latest version 8gb ipod 4g,</p>
<p>I have posted the version of 1.4.1 I compiled with on my me account</p>
<p>https:&#x2F;&#x2F;public.me.com&#x2F;masterspee</p>
<p>password:- appcelerator</p>
<p>try it and let me know, I&#39;ll remove it tomorrow as it&#39;s not mine to share but may be useful to you.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="September 28th 2010, 2:58:00 pm">September 28th 2010</span>
								by <span class='authorname'>Robert Greenock</span><br>
								<a class="icon-bg icon-link" href="question/62721/app-rejected---camera-crashes-app-on-iphone4--ios-41.html#answer-120801" rel="permalink">permalink</a>
							</div>

							<h5>2 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>thanks for this, but is this the titanium mobile sdk that&#39;s available from their nightly builds section?</p>
</p>
										<div class="author">
											&mdash; commented <span title="September 28th 2010, 7:11:57 pm">September 28th 2010</span>
											by <span class='authorname'>danno watts</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>it is, but it&#39;s from a while back(20&#x2F;8&#x2F;10), i reverted to it when the next few nightly builds after it stopped the camera from displaying taken images properly. I know it probably hasn&#39;t got a load of fixes on it that they have added, but it worked with itunes 10 my latest ipod 4g running 4.1 and has got me through approval on a camera heavy app.</p>
</p>
										<div class="author">
											&mdash; commented <span title="September 29th 2010, 5:34:38 am">September 29th 2010</span>
											by <span class='authorname'>Robert Greenock</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>-1</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-131241">
				
						<section>
							<p>The same problem occurs on my iPhone4. After the camera shuts under low memory, sometimes crashes and sometimes the background becomes pure-white. Whether it was a modal or not. </p>
<p>Very very annoying. It is fatal for the camera app.</p>
<p>Any workaround?</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="October 23rd 2010, 1:26:37 pm">October 23rd 2010</span>
								by <span class='authorname'>Toru KOBAYASHI</span><br>
								<a class="icon-bg icon-link" href="question/62721/app-rejected---camera-crashes-app-on-iphone4--ios-41.html#answer-131241" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>-1</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-131411">
				
						<section>
							<p>The same problem occurs on my iPhone4. After the camera shuts under low memory, sometimes crashes and sometimes the background becomes pure-white. Whether it was a modal or not. </p>
<p>Very very annoying. It is fatal for the camera app.</p>
<p>Any workaround?</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="October 23rd 2010, 10:53:19 pm">October 23rd 2010</span>
								by <span class='authorname'>Toru KOBAYASHI</span><br>
								<a class="icon-bg icon-link" href="question/62721/app-rejected---camera-crashes-app-on-iphone4--ios-41.html#answer-131411" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>-1</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
