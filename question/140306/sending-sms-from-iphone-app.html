<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>sending sms from iphone app Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>sending sms from iphone app</h1>
		</header>
		<section>
			<p>i tried sending sms programmatically from an iPhone app using the following two modules but I am running into one issue in both cases.</p>
<p>https:&#x2F;&#x2F;github.com&#x2F;omorandi&#x2F;TiSMSDialog<br>https:&#x2F;&#x2F;github.com&#x2F;benbahrenburg&#x2F;benCoding.SMS</p>
<p>After sending the sms (after sms dialog disappears), my app window becomes unresponsive (text fields are not editable, etc.). I am wondering if anybody else who has used these modules have experienced something similar? I tried the sample apps that module provides and even the examples have this same issue.</p>
<p>Any help is appreciated.</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="July 29th 2012, 3:23:56 pm">July 29th 2012</span>
				by <span class='authorname'>Saqib Khalil</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>iphone</span></li>
					
						<li><span class='tagname'>sms</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-244001">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>Hi Saqib</p>
<p>I have used the TiSMSDialog module and it works correctly, I am not seeing the same issue as you.</p>
<p>I used the exact same code as the example supplied with the module, only changing the phone number when the dialog is shown, before sending.  Obviously this needs to be done on the physical phone as the simulator does not support this function.</p>
<p>I added the module into the Modules folder of the project rather than globally, in case that might be different from your use.</p>
<p>Exact code used shown below.  This was triggered by a left nav button and sat above a table.  Once the sms was successfully sent I continued to have normal use of the app.</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> SMS = <span class="hljs-built_in">require</span>(<span class="hljs-string">'ti.sms'</span>);
<span class="hljs-keyword">var</span> sms = SMS.createSMSDialog({
    animated: <span class="hljs-literal">true</span>
});
sms.barColor = <span class="hljs-string">'black'</span>;
sms.toRecipients = [
    <span class="hljs-string">'5678309'</span> <span class="hljs-comment">// who should receive the text? put their numbers here!</span>
];
sms.messageBody = <span class="hljs-string">'This is a text message.'</span>;
sms.addEventListener(<span class="hljs-string">'complete'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">evt</span>) </span>{
    <span class="hljs-keyword">if</span> (evt.success) {
        alert(<span class="hljs-string">'SMS sent!'</span>);
    }
    <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">switch</span> (evt.result) {
            <span class="hljs-keyword">case</span> SMS.CANCELLED:
                alert(<span class="hljs-string">'User cancelled SMS!'</span>);
                <span class="hljs-keyword">break</span>;
            <span class="hljs-keyword">case</span> SMS.FAILED:
            <span class="hljs-keyword">default</span>:
                alert(evt.error);
                <span class="hljs-keyword">break</span>;
        }
    }
});
sms.open();
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="July 29th 2012, 4:13:42 pm">July 29th 2012</span>
								by <span class='authorname'>Malcolm Hollingsworth</span><br>
								<a class="icon-bg icon-link" href="../../question/140306/sending-sms-from-iphone-app.html#answer-244001" rel="permalink">permalink</a>
							</div>

							<h5>17 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>I appreciate your response Malcolm. If you don&#39;t mind spending a few mins, could you please try and install the following example on your phone. I would really appreciate it.</p>
<p>https:&#x2F;&#x2F;github.com&#x2F;benbahrenburg&#x2F;benCoding.SMS&#x2F;tree&#x2F;master&#x2F;example</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 29th 2012, 4:50:12 pm">July 29th 2012</span>
											by <span class='authorname'>Saqib Khalil</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I have tried the benCoding version as you requested and have had successes and failures.</p>
<p>Test 1.<br>Using the (almost) exact code as provided with the example only changing to allow it to sit on my test app window.  I could not view the button at this point so I added an underlying scrollview.  I was then able to press the button.  This allowed me to send the sms then I <strong>DID</strong> experience the same inability to select the text fields form the example.</p>
<p>Test 2.<br>Stripped the whole code back down to just a button on the navbar and the following lines of code;<br>Obviously changing the number prior to send.</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> sms = <span class="hljs-built_in">require</span>(<span class="hljs-string">'bencoding.sms'</span>).createSMSDialog({ barColor:<span class="hljs-string">'#336699'</span> });
sms.addEventListener(<span class="hljs-string">'cancelled'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) </span>{ alert(e.message); });
sms.addEventListener(<span class="hljs-string">'completed'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) </span>{ alert(e.message); });
sms.addEventListener(<span class="hljs-string">'errored'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) </span>{ alert(e.message); });

sms.setMessageBody(<span class="hljs-string">'This is a text message.'</span>);
sms.setToRecipients([<span class="hljs-string">'5678309'</span>]);
sms.open({
    animated: <span class="hljs-literal">true</span>
});
</code></pre><p>This <strong>DID NOT</strong> suffer the same problem and correctly sent the sms and then allowed full access to the rest of the app.  Note that there were NO other controls on the same window.</p>
<p>Test 3.<br>Used the code above but this time added a couple of the same text fields from the original code.</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> numbertText = Ti.UI.createTextField({
    value: <span class="hljs-string">'07525780269'</span>,
    height:<span class="hljs-number">35</span>,
    top: <span class="hljs-number">10</span>,
    left:<span class="hljs-number">10</span>,
    right:<span class="hljs-number">10</span>,
    keyboardType:Ti.UI.KEYBOARD_NUMBERS_PUNCTUATION,
    returnKeyType:Ti.UI.RETURNKEY_DONE,    
    borderStyle:Ti.UI.INPUT_BORDERSTYLE_ROUNDED
});
win.add(numbertText);

<span class="hljs-keyword">var</span> msgText = Ti.UI.createTextField({
    value: <span class="hljs-string">'SMS Test'</span>,
    height:<span class="hljs-number">50</span>,
    top: <span class="hljs-number">80</span>,
    left:<span class="hljs-number">10</span>,
    right:<span class="hljs-number">10</span>,    
    returnKeyType:Ti.UI.RETURNKEY_DONE,    
    borderStyle:Ti.UI.INPUT_BORDERSTYLE_ROUNDED
});
win.add(msgText);

<span class="hljs-keyword">var</span> btnTest = Ti.UI.createButton({
    title: <span class="hljs-string">'SMS'</span>
});
win.setLeftNavButton(btnTest);
btnTest.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) </span>{
    <span class="hljs-keyword">var</span> sms = <span class="hljs-built_in">require</span>(<span class="hljs-string">'bencoding.sms'</span>).createSMSDialog({ barColor:<span class="hljs-string">'#336699'</span> });
    sms.addEventListener(<span class="hljs-string">'cancelled'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) </span>{ alert(e.message); });
    sms.addEventListener(<span class="hljs-string">'completed'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) </span>{ alert(e.message); });
    sms.addEventListener(<span class="hljs-string">'errored'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) </span>{ alert(e.message); });

    sms.setMessageBody(msgText.getValue());
    sms.setToRecipients([numbertText.getValue()]);
    sms.open({
        animated: <span class="hljs-literal">true</span>
    });
});
</code></pre><p>This <strong>DID</strong> experience the same issues you noted and also failed in the same way as test 1.</p>
<p>There does appear to be an issue - it is not just you.  I am using 2.1 on a mac and iOS 5.1, for comparison.</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 29th 2012, 6:16:53 pm">July 29th 2012</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I really appreciate your time Malcolm and for validating the three scenarios. I wonder if both modules suffer a problem when there are other text fields involved.</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 29th 2012, 8:24:47 pm">July 29th 2012</span>
											by <span class='authorname'>Saqib Khalil</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>One follow-up question for Malcolm, in your test 2, did you have any text fields in other windows?</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 29th 2012, 9:30:59 pm">July 29th 2012</span>
											by <span class='authorname'>Saqib Khalil</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>When i tried to use the TiSMSDialog, it says Ti 2.1.0 does not suppprt Ti.sms moduleâ¦ Can u please helpâ¦.</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 30th 2012, 8:50:28 am">July 30th 2012</span>
											by <span class='authorname'>Suresh Kumar S</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Saqib, I did not have ANY other controls or view on the second test.  I will be trying two more test; </p>
<ol>
<li><p>Adding a couple of text fields of my own making - just in-case there was anything wrong with the ones from the original code - unlikely but will test.</p>
</li>
<li><p>Then using the same window with text fields from above. I will use the original SMS to see if it works any better.</p>
</li>
</ol>
</p>
										<div class="author">
											&mdash; commented <span title="July 30th 2012, 9:56:29 am">July 30th 2012</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Suresh, Will be doing some more tests as you can see from above, I will repeat these tests using 2.0 to see if there is any difference.</p>
<p>Please be aware I do not work for Appcelerator and did not create either of the SMS modules, I am just here hopefully lending a hand to Saqib and possibly you depending on my results.</p>
<p>I will not be able to run the tests for a few hours, but I will update this answer later with the results.</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 30th 2012, 9:59:01 am">July 30th 2012</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Appreciate it Malcolm!</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 30th 2012, 11:52:00 am">July 30th 2012</span>
											by <span class='authorname'>Saqib Khalil</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Hi Saqib</p>
<p>I have just tried using the <strong>TiSMSDialog</strong> with the exact same text fields on the window as previously used with the <strong>benCoding</strong>.  I have also used  <strong>TiSMSDialog</strong> with my own typed text fields (just in case).</p>
<p>Both tests worked perfectly, no lock ups as seen with the <strong>benCoding</strong> version.  I had full editing ability of the texts fields in the same way as I had with the table view from the first tests.</p>
<p>The code used was the same as the first block from my earliest answer.</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 30th 2012, 5:35:52 pm">July 30th 2012</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Hi Suresh</p>
<p>As you can see from above my tests worked.  Please note ALL tests were performed using Ti 2.1.0 so it would show that the lack of support you had been told of - no longer appears to be true.</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 30th 2012, 5:38:18 pm">July 30th 2012</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Appreciate it again Malcolm. Just to confirm, which version of the TiSMSDialog module did you use in your latest round of testing?</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 30th 2012, 6:21:29 pm">July 30th 2012</span>
											by <span class='authorname'>Saqib Khalil</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>You are welcome, TiSMSDialog used is 1.0, there does not appear to be anything newer.<br>Please do not forget to mark as answered if you think it has been.</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 31st 2012, 5:58:36 am">July 31st 2012</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Malcolm: I apologize for going back and forth but I am really trying to find a solution for my problem. I am currently using TiSMSDialog 0.3. I can&#39;t seem to find 1.0 on https:&#x2F;&#x2F;github.com&#x2F;omorandi&#x2F;TiSMSDialog&#x2F;. Thanks again!</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 31st 2012, 11:26:05 am">July 31st 2012</span>
											by <span class='authorname'>Saqib Khalil</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>No problem, you can find it <a href="http:&#x2F;&#x2F;support.appcelerator.com&#x2F;kb&#x2F;category&#x2F;20">here</a>, hope that helps.  If you have logged in of course.</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 31st 2012, 11:50:18 am">July 31st 2012</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>When I am clicking on the link, it&#39;s taking me to the login page even though I am already logged in. I don&#39;t have a support account with accelerator. Is that needed to access this?</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 31st 2012, 1:54:35 pm">July 31st 2012</span>
											by <span class='authorname'>Saqib Khalil</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Which account you have?  You do need to be on a paid one to access that page.  If not it can be bought from the market place. Ps do not forget to mark the questions answered, people can still add answers and comments but it helps the community know if the question has a valid answer by making it go green.</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 31st 2012, 5:15:29 pm">July 31st 2012</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Thanks again. I do not have a paid account. I will try to find it from the market place. Appreciate all your assistance.</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 31st 2012, 5:22:06 pm">July 31st 2012</span>
											by <span class='authorname'>Saqib Khalil</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
