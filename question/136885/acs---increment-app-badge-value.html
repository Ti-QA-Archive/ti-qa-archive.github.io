<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>ACS - Increment App Badge value » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>ACS - Increment App Badge value</h1>
		</header>
		<section>
			<p>Hello,</p>
<p>using ACS Push Notifications with ACS Sample App is working fine. </p>
<p>But how to increment the App Badge value, when sending push notification to your subscribed devices?<br>It&#39;s always set to entered number in ACS Backend.</p>
<p>Thanks</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="May 13th 2012, 8:18:21 pm">May 13th 2012</span>
				by <span class='authorname'>Andreas Pollak</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>acs</span></li>
					
						<li><span class='tagname'>badge</span></li>
					
						<li><span class='tagname'>ios</span></li>
					
						<li><span class='tagname'>push notification</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>1</span> Vote</div>
			<div class="answers"><span>4</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>4 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-238506">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>You would need to handle it on your own, with a db containing device id and current badge count, when User opens the app you fire a reset to your db via http. On push you Loop through and send badgeCount+1.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="May 14th 2012, 5:08:59 am">May 14th 2012</span>
								by <span class='authorname'>Alexander Bauer</span><br>
								<a class="icon-bg icon-link" href="question/136885/acs---increment-app-badge-value#answer-238506" rel="permalink">permalink</a>
							</div>

							<h5>3 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Thank you for pointing that out. I didn´t know, that I had to track the count myself.</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 14th 2012, 2:58:11 pm">May 14th 2012</span>
											by <span class='authorname'>Andreas Pollak</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>ACS provides a key&#x2F;value storage so you can use it instead of having your own db</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 23rd 2012, 1:38:52 pm">July 23rd 2012</span>
											by <span class='authorname'>Wei Kong</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Hi Wei Kong,</p>
<p>How are doing this increment thing.</p>
<p>I tried with this. I&#39;m implementing a chat app, which has a push notification functionality. setting a Key Value for each user, and initally set the value as 0. When I want to send a push notification I just want to set the value as 1 for other users Key&#x2F;Value storage, and at the same time send the badge = value in the payload. when the receiver opens the app then he sets the keyvalue as 0 or badge = null. this functionaliy happens vice-versa.</p>
<p>The problem here is:</p>
<p>When I try to set the other users Key&#x2F;Value storage I get the error message. </p>
<p><strong>&quot;You do not have write permission&quot;.</strong></p>
<p>I just want to know how have solved this badge increment thing. please share your ideas. if there is code snippets please share it</p>
</p>
										<div class="author">
											&mdash; commented <span title="February 23rd 2013, 6:08:57 am">February 23rd 2013</span>
											by <span class='authorname'>Srivathsa k</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-238483">
				
						<section>
							<p>It is not possible yet. We can add a feature request for this.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="May 13th 2012, 9:32:52 pm">May 13th 2012</span>
								by <span class='authorname'>Wei Kong</span><br>
								<a class="icon-bg icon-link" href="question/136885/acs---increment-app-badge-value#answer-238483" rel="permalink">permalink</a>
							</div>

							<h5>2 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Is it generally not possible with Titanium or is it a missing Property&#x2F;Method on ACS side? I need this Feature, because it&#39;s necessary in my Project.</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 14th 2012, 3:31:25 am">May 14th 2012</span>
											by <span class='authorname'>Andreas Pollak</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>It is not available yet on ACS side</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 14th 2012, 4:25:43 am">May 14th 2012</span>
											by <span class='authorname'>Wei Kong</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-243624">
				
						<section>
							<p>Do you think this feature will be included in the near future? Even in my project is a key</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="July 23rd 2012, 1:06:11 pm">July 23rd 2012</span>
								by <span class='authorname'>Luca Pagnini</span><br>
								<a class="icon-bg icon-link" href="question/136885/acs---increment-app-badge-value#answer-243624" rel="permalink">permalink</a>
							</div>

							<h5>7 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>It is very specific to individual app&#39;s logic, it is better if you use ACS key&#x2F;value storage to keep track of this logic</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 23rd 2012, 1:38:09 pm">July 23rd 2012</span>
											by <span class='authorname'>Wei Kong</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I understand your view, but in my project I need to send a push notification to thousands of subscribers to a news channel and was very comfortable doing it with a single call to ACS (&quot;broadcast way&quot;) rather than thousands of calls, one for each device.<br>For example, with Urban Airship you can send a broadcast notification passing a relative number (+1, +2) as &quot;badge value&quot;, because the badge counter of each device is saved on server side.<br>It could be a great improvement for ACS!<br>Thank you for your attention</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 25th 2012, 11:55:04 am">July 25th 2012</span>
											by <span class='authorname'>Luca Pagnini</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>That&#39;s a good point. I will log a feature request. We should have it by 2.1.2 which is end of Aug. By the way, we are chaging notify behavior so that you can&#39;t notify everyone in the one channel unless you logged in as app admin. This is to prevent anyone from spamming a channel.</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 25th 2012, 1:29:28 pm">July 25th 2012</span>
											by <span class='authorname'>Wei Kong</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Thank you for the information!<br>This feature request is a very very good news :)</p>
<p>With incremental badge becomes necessary a new method that allows the ACS user to set the badge counter if something happens on the device side, somethig like<br>Cloud.Users.setBadgeCounter(Int value, Callback&lt;Object&gt; callback)</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 25th 2012, 2:24:05 pm">July 25th 2012</span>
											by <span class='authorname'>Luca Pagnini</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Hi People,<br>I&#39;m stuck with App badge thing. How are we suppose to increment the app badge value.<br>All i need is to increment the app badge counter value on every push notification I get when the app is closed. As it does with Facebook, gmail… etc. Thanks in Advance.</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 29th 2012, 3:32:54 am">December 29th 2012</span>
											by <span class='authorname'>Srivathsa k</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>When app is closing, we can set Titanium.UI.iPhone.appBadge to a proper value to set badge number.<br>If you want to increase this number, you may run Titanium.UI.iPhone.appBadge=Titanium.UI.iPhone.appBadge+1;</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 30th 2012, 11:27:41 am">December 30th 2012</span>
											by <span class='authorname'>Paul Lv</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>We need to increment the App badge value on every push notification from ACS and while the App is CLOSED,And not while App is running.</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 31st 2012, 4:22:09 am">December 31st 2012</span>
											by <span class='authorname'>Srivathsa k</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-253632">
				
						<section>
							<p>We need to increment the App badge value on every push notification from ACS and while the App is CLOSED,And not while App is running.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="December 31st 2012, 4:21:12 am">December 31st 2012</span>
								by <span class='authorname'>Srivathsa k</span><br>
								<a class="icon-bg icon-link" href="question/136885/acs---increment-app-badge-value#answer-253632" rel="permalink">permalink</a>
							</div>

							<h5>5 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>We have added a suport of $inc atomic operation to ACS, you can use a custom field or custom object to keep track of the push notification badge count. all the logic are on the server side, so it has nothing to do wither your app is running or not</p>
</p>
										<div class="author">
											&mdash; commented <span title="February 25th 2013, 9:27:45 pm">February 25th 2013</span>
											by <span class='authorname'>Wei Kong</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Hi Wei, could you please explain me how to implement this in my App??</p>
</p>
										<div class="author">
											&mdash; commented <span title="February 26th 2013, 9:51:23 am">February 26th 2013</span>
											by <span class='authorname'>Geert Leerentveld</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>depends on your implementation, you can have a custom field  or object per user&#39;s badge and update the badge value every time before you send out a new push notification.</p>
</p>
										<div class="author">
											&mdash; commented <span title="February 26th 2013, 6:00:11 pm">February 26th 2013</span>
											by <span class='authorname'>Wei Kong</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>If you could provide your use case, I can help come up an implementation.</p>
</p>
										<div class="author">
											&mdash; commented <span title="February 26th 2013, 6:00:38 pm">February 26th 2013</span>
											by <span class='authorname'>Wei Kong</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Hi All,</p>
<p>We can do this by maintaining a app badge of each user in your local service, as I&#39;m doing. I have implemented a chat app. while sending a push to the user, first i fetch the app badge count of that user and send the notification to the user with his badge count and update the badge count as +1. when the receiver gets the notification, On opening of the notification user has to reset the badge value in the service.</p>
<p>This way we can maintain the App badge count of each user.</p>
<p>Srivathsa</p>
</p>
										<div class="author">
											&mdash; commented <span title="February 27th 2013, 3:22:44 am">February 27th 2013</span>
											by <span class='authorname'>Srivathsa k</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
