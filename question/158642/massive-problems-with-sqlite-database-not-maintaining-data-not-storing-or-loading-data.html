<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Massive problems with SQLite database, not maintaining data, not storing or loading data Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Massive problems with SQLite database, not maintaining data, not storing or loading data</h1>
		</header>
		<section>
			<p>Hi, I&#39;ve been having quite a large problem with SQLite in my app where I can&#39;t seem to pull any data out of the database at any point. Basically at the start of the app I use the Database.Install method to install the database, then close it. Immediately after I use Database.Open to open the database for use. I also use Database.Open on all of my other windows that are linked by url:<br>So when I&#39;m using my database I can&#39;t add or recieve any data, and after suggestion by other related questions by adding the database.install then close methods at the start of app.js to actually create a database that will remain there and be opened and closed during the lifetime of the app. (As apparently database.open will just drop its data when closed and overwrite blank when reopened)<br>I also use database.close at the end of each window.</p>
<p>After adding the database.install I&#39;ve also recieved a massive error that I can&#39;t seem to find a solution to:</p>
<pre><code class="hljs"><span class="hljs-string">"-[__NSArrayM length]: unrecognized selector sent to instance 0xc465cd0"</span>;
</code></pre><pre><code class="hljs">var database = Titanium.Database.install('USLdb.sqlite', 'USLdb');
database.close();
database.open('USLdb');
database.execute('<span class="hljs-operator"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> <span class="hljs-keyword">IF</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">EXISTS</span> lists(<span class="hljs-keyword">id</span> <span class="hljs-built_in">INTEGER</span> PRIMARY <span class="hljs-keyword">KEY</span> AUTOINCREMENT, <span class="hljs-keyword">name</span> <span class="hljs-built_in">TEXT</span>, <span class="hljs-keyword">size</span> <span class="hljs-built_in">INTEGER</span>, active <span class="hljs-built_in">INTEGER</span>)<span class="hljs-string">');</span></span>
</code></pre><p>Can someone please shed some light on what I&#39;m doing wrong? This is immensly painful as it renders my app virtually useless without being able to access the database content.</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="October 21st 2013, 11:24:57 pm">October 21st 2013</span>
				by <span class='authorname'>Sean McCullough</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>database</span></li>
					
						<li><span class='tagname'>error</span></li>
					
						<li><span class='tagname'>sqlite</span></li>
					
				</ul>
			

			<section>
				<h5>1 Comment</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Correction:<br>Line 2 is actually </p>
<pre><code class="hljs"><span class="hljs-setting">database = <span class="hljs-value">Titanium.Database.open(<span class="hljs-string">'USLdb'</span>);</span></span>
</code></pre></div>
							<div class="author">
								&mdash; commented <span title="October 21st 2013, 11:39:24 pm">October 21st 2013</span>
								by <span class='authorname'>Sean McCullough</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-270241">
				
						<section>
							<p>Here&#39;s the code which I have used in my app:</p>
<p>var database = Titanium.Database.install(&#39;&#x2F;db&#x2F;AppGame1.sql&#39;, &#39;appDB&#39;);<br>var con = Ti.Database.open(&#39;appDB&#39;);<br>con.execute(&#39;CREATE TABLE IF NOT EXISTS order(indVal TEXT,page TEXT)&#39;);</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="October 22nd 2013, 5:42:55 am">October 22nd 2013</span>
								by <span class='authorname'>Kirthika VijayaKumar</span><br>
								<a class="icon-bg icon-link" href="question/158642/massive-problems-with-sqlite-database-not-maintaining-data-not-storing-or-loading-data.html#answer-270241" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
