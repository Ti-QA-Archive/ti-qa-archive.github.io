<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Cannot set URL after the fact on Ti.Media.createSound() » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Cannot set URL after the fact on Ti.Media.createSound()</h1>
		</header>
		<section>
			<p>I can successfully play a remote mp3 via the Titanium.Media.Sound object, but there is a problem. The 1st clip always plays fine. But each time I try to play a different clip, the first clip plays again. This is 100% repeatable.</p>
<p>So at the top of my js file I&#39;m doing this: </p>
<p><code>var soundPlayer = Ti.Media.createSound({allowBackground: false});</code></p>
<p>Then inside the event listener for a button click, I&#39;m setting the URL thusly:</p>
<p><code>soundPlayer.setUrl(mp3URL);</code></p>
<p>And I have even tried this approach:</p>
<p><code>soundPlayer.url = mp3URL;</code></p>
<p>But they both have the same flaw: the audio is always still the first clip, never any clip I set afterward. I have verified via console logging that in fact a new url was handed to the sound player, and in fact the new url points at a valid mp3. It seems that once I set a url for the sound player, it is set in stone and cannot be changed–just replayed.</p>
<p>So then I tried a completely different approach. Inside my button click listener, I re-create the Sound object each time and hand in the new URL:</p>
<p><code>soundPlayer = Ti.Media.createSound({allowBackground: false, url: mp3URL});</code></p>
<p>This actual DOES work and plays the new url each time, BUT it has a terrible side effect: any attached event listeners no longer fire. I need to track state changes in the player, for example when it completes, etc. But these event listeners no longer fire when I take this approach.</p>
<p>Strangely, the AudioPlayer object behaves correctly in all respects, allows me to set new URLs, etc. BUT the problem with that is that AudioPlayer absolutely refuses to play any mp3 file smaller than 40Kb. I have posted questions around that issue on this and other forums, and based on responses and experimentation, I have lots of evidence for the 40Kb limitation, and no evidence to the contrary.</p>
<p>So why can&#39;t I change the url after object creation on the Sound object? Thanks in advance for any ideas.</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="October 18th 2014, 2:24:40 pm">October 18th 2014</span>
				by <span class='authorname'>ZeroGravPro Developer</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>audio</span></li>
					
						<li><span class='tagname'>createsound</span></li>
					
						<li><span class='tagname'>mp3</span></li>
					
						<li><span class='tagname'>sound</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>0</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>0 Answers</h3>

	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
