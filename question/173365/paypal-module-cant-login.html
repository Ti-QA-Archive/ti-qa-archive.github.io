<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Paypal Module can&#39;t login? » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Paypal Module can&#39;t login?</h1>
		</header>
		<section>
			<p>Hey,</p>
<p>i am using the paypal module from titanium and facing an issue… I can&#39;t login with my (or other) paypal accounts - everytime it failed…</p>
<p>Any idea why? Do i have to configure something ?</p>
<p>Best,<br>Nico</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="April 29th 2014, 7:24:11 am">April 29th 2014</span>
				by <span class='authorname'>Nico Barelmann</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>login</span></li>
					
						<li><span class='tagname'>module</span></li>
					
						<li><span class='tagname'>paypal</span></li>
					
				</ul>
			

			<section>
				<h5>2 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Hi , Please explain your problem clearly and provide some code that you use. Are you using Real Account or Paypal sandbox test account?</p>
</div>
							<div class="author">
								&mdash; commented <span title="April 29th 2014, 8:56:56 am">April 29th 2014</span>
								by <span class='authorname'>Raju ®</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>I have also this problem on Android (iOS works fine) when login using live or real credentials (shows message: Login error, retry again). In sandbox mode works always fine. Any ideas how fix this error? Thanks</p>
</div>
							<div class="author">
								&mdash; commented <span title="May 9th 2014, 9:15:13 am">May 9th 2014</span>
								by <span class='authorname'>Carlos Luis Seva</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>1</span> Vote</div>
			<div class="answers"><span>4</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>4 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-278583">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>To fix login error with real accounts in Android is necessary replace original Paypal MPL library of the module with latest version from Paypal MPL library for Android: </p>
<p><a href="https:&#x2F;&#x2F;github.com&#x2F;paypal&#x2F;sdk-packages&#x2F;tree&#x2F;gh-pages&#x2F;MPL">https:&#x2F;&#x2F;github.com&#x2F;paypal&#x2F;sdk-packages&#x2F;tree&#x2F;gh-pages&#x2F;MPL</a></p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="May 9th 2014, 2:38:50 pm">May 9th 2014</span>
								by <span class='authorname'>Carlos Luis Seva</span><br>
								<a class="icon-bg icon-link" href="../../question/173365/paypal-module-cant-login.html#answer-278583" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Thanks Carlos it worked!</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 12th 2015, 2:43:23 pm">January 12th 2015</span>
											by <span class='authorname'>Joseph Sachs</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>3</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-278708">
				
						<section>
							<p>Carlos,</p>
<p>The type of payment that I am using is the Simple.</p>
<p>I believe I have created the proper accounts using the following link:<br><a href="https:&#x2F;&#x2F;apps.paypal.com&#x2F;user&#x2F;my-account&#x2F;applications">Paypal accounts link</a></p>
<p>Here is a link to a screenshot that shows the Sandbox and Live account have been created<br><a href="http:&#x2F;&#x2F;appdesigngeeks.com&#x2F;paypaltest&#x2F;paypalAppScreenShot.png">Paypal Accounts Screenshot</a></p>
<p>I tested my app using LIVE mode with the Live app ID</p>
<p>I think I have created everything correctly.</p>
<p>In your last link, in the 1st step I can not find the link for &quot;My Selling Tools&quot; </p>
<p><strong>My Account &gt; Profile &gt; My Selling Tools.</strong></p>
<p>Thanks</p>
<p>Sean</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="May 14th 2014, 6:06:13 pm">May 14th 2014</span>
								by <span class='authorname'>sean sean</span><br>
								<a class="icon-bg icon-link" href="../../question/173365/paypal-module-cant-login.html#answer-278708" rel="permalink">permalink</a>
							</div>

							<h5>5 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Hi Sean, </p>
<p>All that you comment is correct. I just seen that your PayPal_MPL.jar inside your module folder is not correct. The correct PayPal_MPL.jar file have a size of 408 KB with date 2013, 9 december and your MPL file have 410 KB with date 2013, 4 april. Place correct android version from <a href="https:&#x2F;&#x2F;github.com&#x2F;paypal&#x2F;sdk-packages&#x2F;tree&#x2F;gh-pages&#x2F;MPL">here</a> and test your code again.</p>
<p>Carlos</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 15th 2014, 7:36:40 am">May 15th 2014</span>
											by <span class='authorname'>Carlos Luis Seva</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Hi Carlos,</p>
<p>I have applied the latest module to my test program and I am still getting the &#39;Unexpected Error&#39;.</p>
<p>Here is a link to my sample app<br><a href="http:&#x2F;&#x2F;appdesigngeeks.com&#x2F;paypaltest.apk">Sample Paypal App</a></p>
<p>Here is a link to my sample project<br><a href="http:&#x2F;&#x2F;appdesigngeeks.com&#x2F;paypaltest&#x2F;paypaltest.zip">Paypal Sample Project</a></p>
<p>Here is a link to my modules folder<br><a href="http:&#x2F;&#x2F;appdesigngeeks.com&#x2F;paypaltest&#x2F;ti.paypal.zip">inline link text</a></p>
<p>Thanks again for taking time to look at this.</p>
<p>Sean</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 15th 2014, 1:12:25 pm">May 15th 2014</span>
											by <span class='authorname'>sean sean</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Hi, I just find your error in simple.js. Only you need fill &quot;recipient&quot; field inside &quot;payment&quot; with your email Paypal account and error disappears. Leaving this field without correct data, app shows &quot;Unexpected Error…&quot;. I just test your code with my device after filling this fields and works correctly.</p>
<p>Greetings</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 15th 2014, 2:11:50 pm">May 15th 2014</span>
											by <span class='authorname'>Carlos Luis Seva</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Carlos, </p>
<p>That was definitely the issue with the new module!!! </p>
<p>I really appreciate you taking your time to look the issue.</p>
<p>Thanks<br>Sean</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 15th 2014, 3:58:55 pm">May 15th 2014</span>
											by <span class='authorname'>sean sean</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I&#39;m glad I helped you.</p>
<p>Greetings,<br>Carlos</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 15th 2014, 4:05:38 pm">May 15th 2014</span>
											by <span class='authorname'>Carlos Luis Seva</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-278687">
				
						<section>
							<p>Hi Carlos and Nico,</p>
<p>After replacing the PayPal MPL file with the MPL file from Carlos github link I am receiving the following </p>
<pre><code class="hljs"><span class="hljs-tag">Sending</span> <span class="hljs-tag">event</span>: <span class="hljs-tag">exception</span> <span class="hljs-tag">on</span> <span class="hljs-tag">thread</span>: <span class="hljs-tag">Thread-113</span> <span class="hljs-tag">msg</span><span class="hljs-pseudo">:java</span><span class="hljs-class">.lang</span><span class="hljs-class">.NullPointerException</span>
</code></pre><p>I am using the latest PayPal module from Appcelerator Github </p>
<p><a href="https:&#x2F;&#x2F;github.com&#x2F;appcelerator&#x2F;titanium_modules">Appcelerator Github</a></p>
<p>As soon as I put back the PayPal MPL file from Appcelerator the error goes away but them I receive the paypal error: &quot;Login Failed: Please try again&quot;</p>
<p>Titanium Studio Version: 3.2.1.201402041146<br>Latest Titanium SDK: 3.3.0.v20140213152453<br>Android SDK Version: 4.4.2</p>
<p>Please let me know if there is something that I might be missing.</p>
<p>Thanks<br>Sean</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="May 14th 2014, 4:25:36 am">May 14th 2014</span>
								by <span class='authorname'>sean sean</span><br>
								<a class="icon-bg icon-link" href="../../question/173365/paypal-module-cant-login.html#answer-278687" rel="permalink">permalink</a>
							</div>

							<h5>2 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Have you tried with Titanium SDK 3.2.3 GA?</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 14th 2014, 6:49:34 am">May 14th 2014</span>
											by <span class='authorname'>Carlos Luis Seva</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Hi Carlos,</p>
<p>I have changed the SDK to be 3.2.3 and reapplied your PayPal MPL file.</p>
<p>Now I am getting a different error. </p>
<pre><code class="hljs"><span class="hljs-string">errorCode:</span> -<span class="hljs-number">1</span>, <span class="hljs-string">errorMessage:</span> An unexpected error has occurred
</code></pre><p>The above error is from the eventListener for &#39;paymentError&#39; </p>
<p>I have tried googling this error but there is nothing really out there for this.</p>
<p>Thanks<br>Sean</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 14th 2014, 12:09:38 pm">May 14th 2014</span>
											by <span class='authorname'>sean sean</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-278703">
				
						<section>
							<p>Hi Carlos,</p>
<p>I tried the sample version that comes with the Appcelerator GITHUB download and replaced the PayPal MPL file with your version and it is giving the same error</p>
<pre><code class="hljs"><span class="hljs-string">errorCode:</span> -<span class="hljs-number">1</span>, <span class="hljs-string">errorMessage:</span> An unexpected error has occurred
</code></pre><p>I also found this link on to a JIRA ticket. It seems like this as been open for a couple of months now.</p>
<p><a href="https:&#x2F;&#x2F;jira.appcelerator.org&#x2F;browse&#x2F;TIMODOPEN-323">Android PayPal</a></p>
<p>Is there anyway you could send me a sample of your working version without your APP ID?</p>
<p>Thanks<br>Sean</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="May 14th 2014, 1:09:35 pm">May 14th 2014</span>
								by <span class='authorname'>sean sean</span><br>
								<a class="icon-bg icon-link" href="../../question/173365/paypal-module-cant-login.html#answer-278703" rel="permalink">permalink</a>
							</div>

							<h5>3 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Hi sean,</p>
<p>The sample version from github works fine for me with the fix. Then, I think that is more effective that you put here your code without appID for review it and try to fix it together.</p>
<p>Greetings</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 14th 2014, 1:57:06 pm">May 14th 2014</span>
											by <span class='authorname'>Carlos Luis Seva</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Carlos,</p>
<p>I created a new clean project using the sample code from the Appcelerator Github example. Here is the source code that I am currently using in my sample project.</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> Paypal = <span class="hljs-built_in">require</span>(<span class="hljs-string">'ti.paypal'</span>);

<span class="hljs-keyword">var</span> win = Ti.UI.currentWindow;
<span class="hljs-keyword">var</span> u = Ti.Android != <span class="hljs-literal">undefined</span> ? <span class="hljs-string">'dp'</span> : <span class="hljs-number">0</span>;

<span class="hljs-keyword">var</span> status = Ti.UI.createLabel({
    top: <span class="hljs-number">50</span> + u, height: <span class="hljs-number">45</span> + u, color: <span class="hljs-string">'#333'</span>,
    text: <span class="hljs-string">'Loading, please wait...'</span>
});
win.add(status);

<span class="hljs-keyword">var</span> button;
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">addButtonToWindow</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">if</span> (button) {
        win.remove(button);
        button = <span class="hljs-literal">null</span>;
    }
    button = Paypal.createPaypalButton({
        <span class="hljs-comment">// <span class="hljs-doctag">NOTE:</span> height/width only determine the size of the view that the button is embedded in - the actual button size</span>
        <span class="hljs-comment">// is determined by the buttonStyle property!</span>
        width: <span class="hljs-number">194</span> + u, height: <span class="hljs-number">37</span> + u,
        buttonStyle: Paypal.BUTTON_194x37, <span class="hljs-comment">// The style &amp; size of the button</span>
        bottom: <span class="hljs-number">50</span> + u,

        language: <span class="hljs-string">'en_US'</span>,
        textStyle: Paypal.PAYPAL_TEXT_DONATE, <span class="hljs-comment">// Causes the button's text to change from "Pay" to "Donate"</span>

        <span class="hljs-comment">//Uncomment for SANDBOX !!!</span>
        <span class="hljs-comment">//appID: '',//'&lt;&lt;&lt;YOUR APP ID HERE&gt;&gt;&gt;', // The appID issued by Paypal for your application; for testing, feel free to delete this property entirely.</span>
        <span class="hljs-comment">//paypalEnvironment: Paypal.PAYPAL_ENV_SANDBOX, // Sandbox, None or Live</span>

        <span class="hljs-comment">//Uncomment for GO LIVE !!!</span>
        appID: <span class="hljs-string">''</span>,<span class="hljs-comment">//'&lt;&lt;&lt;YOUR APP ID HERE&gt;&gt;&gt;', // The appID issued by Paypal for your application; for testing, feel free to delete this property entirely.</span>
        paypalEnvironment: Paypal.PAYPAL_ENV_LIVE, <span class="hljs-comment">// Sandbox, None or Live</span>

        feePaidByReceiver: <span class="hljs-literal">false</span>,
        enableShipping: <span class="hljs-literal">false</span>, <span class="hljs-comment">// Whether or not to select/send shipping information</span>

        payment: { <span class="hljs-comment">// The payment itself</span>
            paymentType: Paypal.PAYMENT_TYPE_SERVICE, <span class="hljs-comment">// The type of payment</span>
            subtotal: <span class="hljs-number">10</span>, <span class="hljs-comment">// The total cost of the order, excluding tax and shipping</span>
            tax: <span class="hljs-number">0</span>,
            shipping: <span class="hljs-number">0</span>,
            currency: <span class="hljs-string">'USD'</span>,
            recipient: <span class="hljs-string">'&lt;&lt;&lt;YOUR RECIPIENT HERE&gt;&gt;&gt;'</span>,
            customID: <span class="hljs-string">'anythingYouWant'</span>,
            invoiceItems: [
                { name: <span class="hljs-string">'Shoes'</span>, totalPrice: <span class="hljs-number">8</span>, itemPrice: <span class="hljs-number">2</span>, itemCount: <span class="hljs-number">4</span> },
                { name: <span class="hljs-string">'Hats'</span>, totalPrice: <span class="hljs-number">2</span>, itemPrice: <span class="hljs-number">0.5</span>, itemCount: <span class="hljs-number">4</span> }
            ],
            ipnUrl: <span class="hljs-string">'http://www.appcelerator.com/'</span>,
            merchantName: <span class="hljs-string">'Dev Tools'</span>,
            memo: <span class="hljs-string">'For the orphans and widows in the world!'</span>
        }
    });

    <span class="hljs-comment">// Events available</span>
    button.addEventListener(<span class="hljs-string">'paymentCancelled'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) </span>{
        status.text = <span class="hljs-string">'Payment Cancelled.'</span>;
        <span class="hljs-comment">// The button should only be used once; so after a payment is cancelled, succeeds, or errors, we must redisplay it.</span>
        addButtonToWindow();
    });
    button.addEventListener(<span class="hljs-string">'paymentSuccess'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) </span>{
        status.text = <span class="hljs-string">'Payment Success.  TransactionID: '</span> + e.transactionID + <span class="hljs-string">', Reloading...'</span>;
        <span class="hljs-comment">// The button should only be used once; so after a payment is cancelled, succeeds, or errors, we must redisplay it.</span>
        addButtonToWindow();
    });
    button.addEventListener(<span class="hljs-string">'paymentError'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) </span>{
        status.text = <span class="hljs-string">'Payment Error,  errorCode: '</span> + e.errorCode + <span class="hljs-string">', errorMessage: '</span> + e.errorMessage;
        <span class="hljs-comment">// The button should only be used once; so after a payment is cancelled, succeeds, or errors, we must redisplay it.</span>
        addButtonToWindow();
    });

    button.addEventListener(<span class="hljs-string">'buttonDisplayed'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        status.text = <span class="hljs-string">'The button was displayed!'</span>;
    });
    button.addEventListener(<span class="hljs-string">'buttonError'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        status.text = <span class="hljs-string">'The button failed to display!'</span>;
    });
    win.add(button);
}
addButtonToWindow();
</code></pre><p>Here are 2 links to the actual project and module directory that I am using.  I installed the module in Studio and not at the project level.</p>
<p><a href="http:&#x2F;&#x2F;appdesigngeeks.com&#x2F;paypaltest&#x2F;paypaltest.zip">paypaltest project link</a></p>
<p><a href="http:&#x2F;&#x2F;appdesigngeeks.com&#x2F;paypaltest&#x2F;ti.paypal.zip">paypaltest module folder link</a></p>
<p>Thanks for your help in looking into this issue.</p>
<p>Sean</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 14th 2014, 2:25:05 pm">May 14th 2014</span>
											by <span class='authorname'>sean sean</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Hi Sean, </p>
<p>I think that we should to review some questions previously because this code works fine when is completed correctly.</p>
<p>What type of payment you want to use? Simple, Parallel, Chain or Preapprovals? Simple is the most used.</p>
<p>Do you have created the necessary accounts (<a href="https:&#x2F;&#x2F;developer.paypal.com&#x2F;">Developer Account</a>, <a href="https:&#x2F;&#x2F;www.sandbox.paypal.com&#x2F;">Sandbox Accounts</a>, etc…) in Paypal to use this module?</p>
<p>Did you get it to work in sandbox mode? This aspect is important because the fix for MLP library is only required when you go to Live mode, not in sandbox mode.</p>
<p>Do you have registered your app with PayPal to Live mode? See this <a href="https:&#x2F;&#x2F;developer.paypal.com&#x2F;webapps&#x2F;developer&#x2F;docs&#x2F;classic&#x2F;lifecycle&#x2F;goingLive&#x2F;">link</a> to more info.</p>
<p>Greetings</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 14th 2014, 4:06:10 pm">May 14th 2014</span>
											by <span class='authorname'>Carlos Luis Seva</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
