<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Has anybody a reliable solution (even commercial) to work with XML Data in Titanium ? » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Has anybody a reliable solution (even commercial) to work with XML Data in Titanium ?</h1>
		</header>
		<section>
			<p>Hi all,</p>
<p>We have been evaluating Titanium for some days now and are facing a major issue with XML data. Our project consists in converting an existing web application to a mobile App and relies heavily on XML data processing. So far, we have been unable to process correctly the various XML files returned from our web server (although those work perfectly fine on a desktop browser).</p>
<p>We have tried various versions of code to try simple things like  parsing a small XML file to an array, but Titanium crashes one time or another without any explanations or error messages. For example, hasChildNodes would just crash Ti depending on the node type.<br>We tried also to apply various solutions as posted by members of the community with no luck.</p>
<p>From the number of posts related to issues with XML parsing in Titanium we believe that it may not be suitable as it is to deal with XML data. I admit we may be wrong on this but in comparison, the framework we used for our web app  to deal with our XML data answered all our needs immediatetly and out of the box.</p>
<p>So the question is: Has anybody found a viable and reliable solution to deal correctly with xml data using Titanium ? Or would anybody have some lead to modules&#x2F;scripts&#x2F;add-on (even commercial ones we&#39;d have to pay for) which could solve our issues ?</p>
<p>Thanks in advance for your help.</p>
<p>Regards.</p>
<p>Note: Ti Version 2.1.0</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="August 1st 2012, 11:42:21 am">August 1st 2012</span>
				by <span class='authorname'>Sebastien Jacq</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>xml</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-244222">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>Hi Sebastien</p>
<p>Can you provide an example XML (snippet) file you will normally expect to process.  DO you have any particular issues with the traversing or just in general?</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 1st 2012, 12:49:20 pm">August 1st 2012</span>
								by <span class='authorname'>Malcolm Hollingsworth</span><br>
								<a class="icon-bg icon-link" href="../../question/140431/has-anybody-a-reliable-solution-even-commercial-to-work-with-xml-data-in-titanium-.html#answer-244222" rel="permalink">permalink</a>
							</div>

							<h5>10 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Sorry about the caps on &#39;DO&#39; looks like I am being a bit rude in my reply, meant to type &#39;Do..&#39;.</p>
<p>If we can see where the issues are we should be able to send you down the right track.</p>
<p>I can assure you that Titanium is a great platform, it is very robust and the Appcelerator people are working hard delivering constant updates to take into account the fast paced platforms that are supported.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 1st 2012, 2:08:47 pm">August 1st 2012</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Hi Malcom,</p>
<p>Thanks for your answer. No worris about the DO thing :-)  Did not think you were rude.</p>
<p>I&#39;m just preparing a clear answer to you so you see can what is our problem. I am sure that Titanium is a great platform, but so far in our evaluation, we are stuck with XML issues which never caused any trouble for our web app. We have three teams evaluating different solutions before taking a decision on the retained pllatform&#x2F;framework, and so far the Titanium team is way behind the two others… (although Titanium has a clear advantage on UI part of the project, but XML is the key).</p>
<p>Bear with few me few minutes and i&#39;ll post the info.</p>
<p>Cheers,<br>Sebastien</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 1st 2012, 2:32:55 pm">August 1st 2012</span>
											by <span class='authorname'>Sebastien Jacq</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Hi Mark, </p>
<p>Thanks for getting back to me. Let me try to give you an example, with xhr we should process when the user connect to the website.</p>
<p>First  thing I don&#39;t understand is that the following does not work:</p>
<pre><code class="hljs"><span class="hljs-variable"><span class="hljs-keyword">var</span> xmlDoc</span> = xhr.responseXML;
</code></pre><p> I have always have to do as follows before parsing the XML. Why would that be ?</p>
<pre><code class="hljs"><span class="hljs-variable"><span class="hljs-keyword">var</span> xmlDoc</span> = Ti.XML.parseString(xhr.responseText);
</code></pre><p>Now, for example, this the XML file returns upon the login xhr. If succesfull it contains the Session information as well as parameters for the user connecting and companies he can connect to within our ERP.</p>
<pre><code class="hljs"><span class="hljs-pi">&lt;?xml version="1.0"?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">ds</span> <span class="hljs-attribute">xmlns:xsi</span>=<span class="hljs-value">"http://www.w3.org/2001/XMLSchema-instance"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-title">Company</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">CompanyNo</span>&gt;</span>1<span class="hljs-tag">&lt;/<span class="hljs-title">CompanyNo</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">CompanyName</span>&gt;</span>01 - Company ABC <span class="hljs-tag">&lt;/<span class="hljs-title">CompanyName</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-title">Company</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-title">Company</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">CompanyNo</span>&gt;</span>40<span class="hljs-tag">&lt;/<span class="hljs-title">CompanyNo</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">CompanyName</span>&gt;</span>401 - Company DEF <span class="hljs-tag">&lt;/<span class="hljs-title">CompanyName</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-title">Company</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-title">Company</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">CompanyNo</span>&gt;</span>901<span class="hljs-tag">&lt;/<span class="hljs-title">CompanyNo</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">CompanyName</span>&gt;</span>901 - Company GHI <span class="hljs-tag">&lt;/<span class="hljs-title">CompanyName</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-title">Company</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-title">Company</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">CompanyNo</span>&gt;</span>991<span class="hljs-tag">&lt;/<span class="hljs-title">CompanyNo</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">CompanyName</span>&gt;</span>991 - Company 991 <span class="hljs-tag">&lt;/<span class="hljs-title">CompanyName</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-title">Company</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-title">Session</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">SessionRowid</span>&gt;</span>0x0000000000098f4d<span class="hljs-tag">&lt;/<span class="hljs-title">SessionRowid</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">SessionTimeOut</span>&gt;</span>false<span class="hljs-tag">&lt;/<span class="hljs-title">SessionTimeOut</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">UserName</span>&gt;</span>root<span class="hljs-tag">&lt;/<span class="hljs-title">UserName</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">PersonalAccount</span>&gt;</span>0<span class="hljs-tag">&lt;/<span class="hljs-title">PersonalAccount</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-title">Session</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-title">Global</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">CompanyNo</span>&gt;</span>0<span class="hljs-tag">&lt;/<span class="hljs-title">CompanyNo</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">UserName</span>&gt;</span>root<span class="hljs-tag">&lt;/<span class="hljs-title">UserName</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">GroupNo</span>&gt;</span>1<span class="hljs-tag">&lt;/<span class="hljs-title">GroupNo</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">UserNo</span>&gt;</span>3<span class="hljs-tag">&lt;/<span class="hljs-title">UserNo</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">LanguageNo</span>&gt;</span>1<span class="hljs-tag">&lt;/<span class="hljs-title">LanguageNo</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-title">Global</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">ds</span>&gt;</span>
</code></pre><p>Our current web app transform this is 3 arrays for &#39;Company&#39;, &#39;Session&#39; and &#39;Global&#39; nodes, using the JS libraries including in the Web app framework.<br>As metionned, i unfortunately cannot use those libraries for our Mobile App project, so we tried to do the same in Titanium.</p>
<p>During the login process validation, I need to call a parsing function 3 times to get back the three arrays. We tried various pieces of codes including examples from this website to get the job done but no luck.</p>
<p>Titanium would just crash without any error message from time to ime when running tests such has</p>
<pre><code class="hljs">xmlDoc<span class="hljs-class">.hasChildNodes</span>
xml<span class="hljs-class">.getChildNodes</span>
etc...
</code></pre><p>The above XML answer is quite simple in its structure and once login is done user will get much more complex XML data from the databases. So no Titanium project unless we find proper librairies to handle this data.</p>
<p>As i said in a previous comment we have different develolpment teams evaluating different solutions. If Titanium&#39;s got the gold star so far for UI design, phoneGap evaluation team has already sorted all XML data issues…</p>
<p>Thanks in advance if you can enlighten me.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 1st 2012, 2:46:06 pm">August 1st 2012</span>
											by <span class='authorname'>Sebastien Jacq</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Sorry I meant &#39;Hi Malcom&#39; for my introduction … a bit tired today …</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 1st 2012, 2:47:24 pm">August 1st 2012</span>
											by <span class='authorname'>Sebastien Jacq</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Looking into it now.  BTW you know I do not work for the Appcelerator right?  Just happy to help.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 1st 2012, 2:52:39 pm">August 1st 2012</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Yeah I know and I really appreciate your help. I was just mentioning the context because from what i&#39;ve seen from the various teams, Titanium looks more promising to me but I can&#39;t afford to make the wrong choice on the platform we&#39;ll use.<br>Thanks again for your assistance.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 1st 2012, 2:56:21 pm">August 1st 2012</span>
											by <span class='authorname'>Sebastien Jacq</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Hi Sebastien</p>
<p>This will process your XML document completely and even put the results into a much more friendly JSON object.  I did this to show you how to access each of the nodes in a couple of ways.  You obviously can choose to manage your variables and results your own way.</p>
<pre><code class="hljs"><span class="hljs-title">var</span> xhr = <span class="hljs-type">Ti</span>.<span class="hljs-type">Network</span>.createHTTPClient();
<span class="hljs-title">xhr</span>.onload = function (f) {
    <span class="hljs-type">Ti</span>.<span class="hljs-type">API</span>.log('<span class="hljs-type">Success'</span>);

    var result = this.responseText,
        xml = <span class="hljs-type">Ti</span>.<span class="hljs-type">XML</span>.parseString(result),
        intLoop = <span class="hljs-number">0</span>;

    var <span class="hljs-typedef"><span class="hljs-keyword">data</span> = <span class="hljs-container">{
        <span class="hljs-title">company</span>: [],
        <span class="hljs-title">session</span>: {}</span>,</span>
        global: {}
    };

    //company
    var company = xml.documentElement.getElementsByTagName(<span class="hljs-string">"Company"</span>);
    <span class="hljs-type">Ti</span>.<span class="hljs-type">API</span>.log('company nodes: ' + company.length);

    for (intLoop = <span class="hljs-number">0</span>; intLoop &lt; company.length; intLoop = intLoop + <span class="hljs-number">1</span>) {
        <span class="hljs-typedef"><span class="hljs-keyword">data</span>.company.push<span class="hljs-container">({
            <span class="hljs-type">CompanyNo</span>: <span class="hljs-title">parseInt</span>(<span class="hljs-title">company</span>.<span class="hljs-title">item</span>(<span class="hljs-title">intLoop</span>)</span>.getElementsByTagName<span class="hljs-container">('<span class="hljs-type">CompanyNo</span>')</span>.item<span class="hljs-container">(0)</span>.textContent, 10),</span>
            <span class="hljs-type">CompanyName</span>: company.item(intLoop).getElementsByTagName('<span class="hljs-type">CompanyName'</span>).item(<span class="hljs-number">0</span>).textContent
        });
    }

    //<span class="hljs-type">Session</span>
    var session = xml.documentElement.getElementsByTagName(<span class="hljs-string">"Session"</span>);
    <span class="hljs-type">Ti</span>.<span class="hljs-type">API</span>.log('session nodes: ' + session.length);
    <span class="hljs-typedef"><span class="hljs-keyword">data</span>.session.<span class="hljs-type">SessionRowid</span> = parseInt<span class="hljs-container">(<span class="hljs-title">session</span>.<span class="hljs-title">item</span>(0)</span>.getElementsByTagName<span class="hljs-container">('<span class="hljs-type">SessionRowid</span>')</span>.item<span class="hljs-container">(0)</span>.textContent, 10);</span>
    <span class="hljs-typedef"><span class="hljs-keyword">data</span>.session.<span class="hljs-type">SessionTimeOut</span> = <span class="hljs-container">(<span class="hljs-title">session</span>.<span class="hljs-title">item</span>(0)</span>.getElementsByTagName<span class="hljs-container">('<span class="hljs-type">SessionTimeOut</span>')</span>.item<span class="hljs-container">(0)</span>.textContent === 'false');</span>
    <span class="hljs-typedef"><span class="hljs-keyword">data</span>.session.<span class="hljs-type">UserName</span> = session.item<span class="hljs-container">(0)</span>.getElementsByTagName<span class="hljs-container">('<span class="hljs-type">UserName</span>')</span>.item<span class="hljs-container">(0)</span>.textContent;</span>
    <span class="hljs-typedef"><span class="hljs-keyword">data</span>.session.<span class="hljs-type">PersonalAccount</span> = session.item<span class="hljs-container">(0)</span>.getElementsByTagName<span class="hljs-container">('<span class="hljs-type">PersonalAccount</span>')</span>.item<span class="hljs-container">(0)</span>.textContent;</span>

    //<span class="hljs-type">Global</span>
    var global = xml.documentElement.getElementsByTagName(<span class="hljs-string">"Global"</span>);
    <span class="hljs-type">Ti</span>.<span class="hljs-type">API</span>.log('global nodes: ' + global.length);
    <span class="hljs-typedef"><span class="hljs-keyword">data</span>.global.<span class="hljs-type">CompanyNo</span> = parseInt<span class="hljs-container">(<span class="hljs-title">global</span>.<span class="hljs-title">item</span>(0)</span>.getElementsByTagName<span class="hljs-container">('<span class="hljs-type">CompanyNo</span>')</span>.item<span class="hljs-container">(0)</span>.textContent, 10);</span>
    <span class="hljs-typedef"><span class="hljs-keyword">data</span>.global.<span class="hljs-type">UserName</span> = global.item<span class="hljs-container">(0)</span>.getElementsByTagName<span class="hljs-container">('<span class="hljs-type">UserName</span>')</span>.item<span class="hljs-container">(0)</span>.textContent;</span>
    <span class="hljs-typedef"><span class="hljs-keyword">data</span>.global.<span class="hljs-type">GroupNo</span> = parseInt<span class="hljs-container">(<span class="hljs-title">global</span>.<span class="hljs-title">item</span>(0)</span>.getElementsByTagName<span class="hljs-container">('<span class="hljs-type">GroupNo</span>')</span>.item<span class="hljs-container">(0)</span>.textContent, 10);</span>
    <span class="hljs-typedef"><span class="hljs-keyword">data</span>.global.<span class="hljs-type">UserNo</span> = parseInt<span class="hljs-container">(<span class="hljs-title">global</span>.<span class="hljs-title">item</span>(0)</span>.getElementsByTagName<span class="hljs-container">('<span class="hljs-type">UserNo</span>')</span>.item<span class="hljs-container">(0)</span>.textContent, 10);</span>
    <span class="hljs-typedef"><span class="hljs-keyword">data</span>.global.<span class="hljs-type">LanguageNo</span> = parseInt<span class="hljs-container">(<span class="hljs-title">global</span>.<span class="hljs-title">item</span>(0)</span>.getElementsByTagName<span class="hljs-container">('<span class="hljs-type">LanguageNo</span>')</span>.item<span class="hljs-container">(0)</span>.textContent, 10);</span>

    <span class="hljs-type">Ti</span>.<span class="hljs-type">API</span>.log(<span class="hljs-type">JSON</span>.stringify(<span class="hljs-typedef"><span class="hljs-keyword">data</span>));</span>
};
<span class="hljs-title">xhr</span>.onerror = function(e) {
    <span class="hljs-type">Ti</span>.<span class="hljs-type">API</span>.log('error', <span class="hljs-type">JSON</span>.stringify(e));
};

<span class="hljs-title">xhr</span>.open('<span class="hljs-type">GET'</span>, 'http://test.web.com/xml/xml.xml');
<span class="hljs-title">xhr</span>.send();
</code></pre><p>You can then access the nodes from the JSON object (should you wish to) - like this;</p>
<pre><code class="hljs">Ti.API.<span class="hljs-built_in">log</span>(<span class="hljs-string">'companies: '</span> + data.company.<span class="hljs-built_in">length</span>);
Ti.API.<span class="hljs-built_in">log</span>(<span class="hljs-string">'first company number: '</span> + data.company<span class="hljs-matrix">[<span class="hljs-number">0</span>]</span>.CompanyNo);
Ti.API.<span class="hljs-built_in">log</span>(<span class="hljs-string">'Session PersonalAccount: '</span> + data.session.PersonalAccount);
Ti.API.<span class="hljs-built_in">log</span>(<span class="hljs-string">'GlobalUserName: '</span> + data.<span class="hljs-keyword">global</span>.UserName);
</code></pre><p>The logic used to traverse the document model is similar to that used in the dom of a web page when accessing xml documents.</p>
<p>Traversing XML is never fun - but at least this should solve your immediate issues and give you the starting point to take it further.</p>
<p>BTW if you ever want to speak on a more business level - let me know, can always offer assistance.  </p>
<p>Hope this has been helpful.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 1st 2012, 6:29:21 pm">August 1st 2012</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Did you have chance to review the solution I have provided?</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 2nd 2012, 5:07:00 pm">August 2nd 2012</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Hi Malcom,</p>
<p>Sorry for the delay coming back to you, i was out of the office yesterday.</p>
<p>First of all, l can&#39;t thank you enough for this. That&#39;s some serious work you did just for assistance. You saved me a lot of times and helped us moved a bit further in our evaluation.</p>
<p>I have tried your solution and it did indeed worked perfectly. However, although it would address the login process by parsing the XML file returned by the login xhr, I started to work on a more generic version of the code. </p>
<p>Our current web app returns a lot of different XML files depending on the interface the user is working with. In that app, we have a very simple function which isolate an XML node and returns the data as an array (which we then process in grids, graphs, etc …). As i cannot reuse the code from the web app, i had to try to write it again in Ti.</p>
<p>Starting from your example, I would have to write a similar function for each and every single XML file we process, so I tried the following code, which, so far, works for the login xhr response. That piece of codes is just scanning the nodes  and putting data (typeNode = 1) into an object.</p>
<p>I just call it: parseXMLData(Ti.XML.parseString(xhr.responseText).getElementsByTagName(xPath); where xPath is either set to Session, Company, Global</p>
<pre><code class="hljs"><span class="hljs-comment">// Array for results</span>
<span class="hljs-keyword">var</span> resultArr = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Object</span>;
<span class="hljs-comment">// Number of rows</span>
<span class="hljs-keyword">var</span> rowNum = <span class="hljs-number">0</span>;

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">parseXMLData</span>(<span class="hljs-params">xml</span>) </span>{

    <span class="hljs-keyword">var</span> xmlDoc = xml;
    <span class="hljs-keyword">if</span> ( <span class="hljs-keyword">typeof</span> xmlDoc.nodeType != <span class="hljs-string">'undefined'</span> &amp;&amp; xmlDoc.nodeType == <span class="hljs-number">1</span>) {
        <span class="hljs-keyword">var</span> tempArr = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Object</span>;
        <span class="hljs-keyword">var</span> str = <span class="hljs-string">''</span>;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> j = <span class="hljs-number">0</span>; j &lt; xmlDoc.childNodes.length; j++) {
            <span class="hljs-keyword">if</span> (xmlDoc.childNodes.item(j).nodeType == <span class="hljs-number">1</span>) {<span class="hljs-comment">// we don't care about type 3</span>
                tempArr[xmlDoc.childNodes.item(j).nodeName] = xmlDoc.childNodes.item(j).text;
            };
        };
        resultArr[rowNum] = tempArr;
        rowNum = rowNum + <span class="hljs-number">1</span>;
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">if</span> ( <span class="hljs-keyword">typeof</span> xmlDoc.getChildNodes.length != <span class="hljs-string">'undefined'</span>) {
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; xmlDoc.getChildNodes.length; i++) {
                <span class="hljs-keyword">var</span> temp = parseXMLData(xmlDoc.getChildNodes.item(i));
            }
        }
    }
    <span class="hljs-keyword">return</span> resultArr;
};
</code></pre><p>That returns me an array with all the data I need.<br>This data is then saved into Ti.App.properties (using JSON.stringify) and used throughout the application when needed.</p>
<p>However, I&#39;d have two questions for you, if I may abuse a litlle more :-) :</p>
<ul>
<li><p>First, I still don&#39;t understand why I have to do:</p>
<pre><code class="hljs">parseXMLData<span class="hljs-list">(<span class="hljs-keyword">Ti</span>.XML.parseString<span class="hljs-list">(<span class="hljs-keyword">xhr</span>.responseText)</span>)</span><span class="hljs-comment">;</span>
</code></pre><p>instead of </p>
<pre><code class="hljs">parseXMLData<span class="hljs-list">(<span class="hljs-keyword">xhr</span>.responseXML)</span><span class="hljs-comment">;</span>
</code></pre><p>The XML files generated by our back end ERP are fine (like the one I gave you as an example). We have interfaces using similar XML files with platforms such as SAP, Navision, Cognos, etc … and never had any complaint about the XML format.</p>
</li>
<li><p>Second question relates to the piece of code I wrote. Is there anything in there which you believe is incorrect compared to the result provided by your solution ? And second part of the question is about performance. We have to evaluate how the mobile App will perform when parsing thousands of records…</p>
</li>
</ul>
<p>Once more, thanks a lot for your much valuable help.</p>
<p>PS: I have taken note of your business proposal, which could turn out a valuable help if we decide to launch our project with Titanium. We have so far no internal resources with an extensive experience on this platform and consultancy might become seriously required to ensure the best usage of the platform (i&#39;m a bit doubtful about Ti srevices following a lot of negative comments I saw on different sites).</p>
<p>Regards,</p>
<p>Sebastien</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 3rd 2012, 9:14:54 am">August 3rd 2012</span>
											by <span class='authorname'>Sebastien Jacq</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>HI Sebastien</p>
<p>You are very welcome.  I will review your code and see what we can do with reference to the second question and I will also determine an answer for the first question as that seems odd - I agree.</p>
<p>This may help you make a determination about Titanium.</p>
<p>I have been using Titanium for a couple of years, starting not long after it become big enough to get coverage.</p>
<p>When I started using it there were many things that worked really well and some that simply failed to work as expected.  But when they started out they were doing a massive amount of work to get the level of complexity down to a simple layer for people to use.  </p>
<p>There have been some really annoying gaps in the past and some annoying bugs.  It was about this time that a prominent article (easily found on a Google search) came out suggesting Titanium was not a good platform, may have had some truths back then but certainly not now - unfortunately the internet as it is keeps old stuff and it appears relevant, especially when there are no follow up articles.</p>
<p>Since version 1.8, the whole platform has really come together, bugs (whilst can happen) are mostly a thing of the past, there are constant version updates - on a monthly basis.  The documentation that at one time was really not worth reading is now (almost) perfect.</p>
<p>The kitchen sink app that provides example code for every feature you want to use is kept up to date and just went through a major re-factoring.</p>
<p>If you enter into a paid plan you get access to some free modules that REALLY extend the platform, for example AirPlay, AirPrint, SMS dialog, PayPal, In-App-Purchasing, you can buy these individually as well though.</p>
<p>When 2.0 was launched they reworked the whole layout engine and created a very simple but EXTREMELY powerful way of layering and nest items - allowing for actual size or parent size.  That meant that very complicated (for good reason) layouts that I had spent hours over before could now been achieved in minutes.  </p>
<p>I have released a number of apps, some small and many big the features that are included are immense and it is because of Titanium that it was possible.</p>
<p>This sounds like I should be getting paid by them, but I can assure you I can say these things now because I am the other side of when things were not as rosy.</p>
<p>I hope that gives you some context.</p>
<p>I will be back later with code follow ups.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 3rd 2012, 10:07:50 am">August 3rd 2012</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-244216">
				
						<section>
							<p>You can use suds.js to handle SOAP. For parsing of XML you have to use the Titanium -XML-API. It works fine. May be you can use a xml2js-lib, but this tool generates a lot of overhead.</p>
<p>Rainer</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 1st 2012, 11:53:19 am">August 1st 2012</span>
								by <span class='authorname'>Rainer Schleevoigt</span><br>
								<a class="icon-bg icon-link" href="../../question/140431/has-anybody-a-reliable-solution-even-commercial-to-work-with-xml-data-in-titanium-.html#answer-244216" rel="permalink">permalink</a>
							</div>

							<h5>2 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>To avoid of crashes you code has to be defensiv: befor you access a node you have to tets if the node exists …</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 1st 2012, 11:55:06 am">August 1st 2012</span>
											by <span class='authorname'>Rainer Schleevoigt</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Hi Rainer,</p>
<p>I&#39;ll have a look at suds.js. Thanks for this lead and for your anszer.</p>
<p>The fact is that we need to minimize the amount of code to re-write. To give you a bit of background, we have an axisting web app pluging into our ERP databases and presenting various interfaces (using different forms of widgets). This solution is based on Isomorphic smartClient and works perfectly fine forhundreds of users.</p>
<p>That web app has been written in JS (Isomorphic platform) and of course we have tons of programs we would like to re-use without having to start from scratchagain. Many of our current libraries in JS rely on XMLtoJS functions provided by smartclient (SelectNodes and XML2JS for example). Those can unfortunately used for Mobile Web so we just tried to find a similar solution with itanium so that xhr XML data could be parsed to JS arrays (irrespective of the XML file structure (some would be very small with only few nodes, others more complex) and then used by our current programs (which would work on the Ti platform).</p>
<p>Sebastien</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 1st 2012, 12:02:41 pm">August 1st 2012</span>
											by <span class='authorname'>Sebastien Jacq</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>-2</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
