<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>opening sqlite db on external storage » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>opening sqlite db on external storage</h1>
		</header>
		<section>
			<p>Hi experts,</p>
<p>Does Titanium really support opening sqlite database on the external storage ? Very simple code as below makes &#39;File appdata:&#x2F;&#x2F;&#x2F;test.db contains a path separator&#39; run time error.</p>
<pre><code class="hljs">hdbImp    = Ti.Database.<span class="hljs-keyword">open</span>( Ti.Filesystem.externalStorageDirectory + '/<span class="hljs-keyword">test</span>.<span class="hljs-keyword">db</span>' );
</code></pre><p>&#39;test.db&#39; makes the same run time error.</p>
<p>OS: android 2.2   AVD emulator<br>SDK: Titanium 2.0</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="April 22nd 2012, 8:55:01 am">April 22nd 2012</span>
				by <span class='authorname'>Sangeok Kim</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>sqlite</span></li>
					
				</ul>
			

			<section>
				<h5>1 Comment</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>try it in android sdk 2.3 and tell me if it works.</p>
<p>luck,<br>Eliza</p>
</div>
							<div class="author">
								&mdash; commented <span title="April 22nd 2012, 11:42:05 am">April 22nd 2012</span>
								by <span class='authorname'>Eliza Sapir</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>4</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>4 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-248292">
				
						<section>
							<p>Hi Kim,</p>
<p>Looks like its a platform bug. We have a jira filed for the same. You can follow it up here <a href="http:&#x2F;&#x2F;jira.appcelerator.org&#x2F;browse&#x2F;TIMOB-10223">TIMOB-10223</a>. As a workaround , please use the absolute path of the SD card to install databases like</p>
<p> <code>var db2 = Ti.Database.open(&amp;#39;&amp;#x2F;mnt&amp;#x2F;sdcard&amp;#x2F;com.app.testme&amp;#x2F;databases&amp;#x2F;mydb2Installed&amp;#39;);</code></p>
<p>Hope it helps.</p>
<p>Regards,</p>
<p>Anirudh</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="September 29th 2012, 2:46:22 am">September 29th 2012</span>
								by <span class='authorname'>Anirudh Nagesh</span><br>
								<a class="icon-bg icon-link" href="../../question/135810/opening-sqlite-db-on-external-storage.html#answer-248292" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-236865">
				
						<section>
							<p>Hm… not sure about that but if you have access to it (no matter where it is), why don&#39;t you have copy it under your app storage and do your job? Although if this is possible then direct open on the external storage should also, except of course if there is some kind of sandbox issues.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="April 22nd 2012, 9:11:28 am">April 22nd 2012</span>
								by <span class='authorname'>George Georgiou</span><br>
								<a class="icon-bg icon-link" href="../../question/135810/opening-sqlite-db-on-external-storage.html#answer-236865" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>In SDK document, they say it is possible. But the simplest code as above fails.<br>I&#39;m trying to merge tow databases. One is in my internal storage, and the other in external storage that might be made by other users. At the very worst, I think i can install the other db into my internal storage and process the merging process. But in some cases the other db might be very big that can&#39;t be copied enough into internal storage. </p>
<p>At the beginning, I tried to make my db in the external storage, but I failed as above. So currently, my db is locaed in my internal default storage as trade off. Someday before, the SDK upgraded to version 2.0, so I tested it again if I can open Sqlite db on the external storage, but still facing failure…..</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 22nd 2012, 9:29:28 am">April 22nd 2012</span>
											by <span class='authorname'>Sangeok Kim</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-236868">
				
						<section>
							<p>With Titanium 1.8.0.1 on iOS, the default database location changed in accordance with Apple&#39;s guidelines. If a database file already exists in the old location, open will automatically move it to the new location.</p>
<p><strong><em>Open a Database on External Storage (Android)</em></strong><br>A database, with a filename of <code>mydb2Installed</code> and located at the absolute path provided, is opened.</p>
<pre><code class="hljs"><span class="hljs-keyword">if</span> (Ti.Platform.name === <span class="hljs-string">'android'</span> &amp;&amp; Ti.Filesystem.isExternalStoragePresent()) {
  var db2 = Ti.Database.open(Ti.Filesystem.externalStorageDirectory + <span class="hljs-string">'path'</span> + Ti.Filesystem.<span class="hljs-keyword">separator</span> + <span class="hljs-string">'to'</span> + Ti.Filesystem.<span class="hljs-keyword">separator</span> + <span class="hljs-string">'mydb2Installed'</span>);
}
</code></pre><p>for a full reference of this check <a href="http:&#x2F;&#x2F;docs.appcelerator.com&#x2F;titanium&#x2F;2.0&#x2F;#!&#x2F;api&#x2F;Titanium.Database-method-open">here</a></p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="April 22nd 2012, 9:40:49 am">April 22nd 2012</span>
								by <span class='authorname'>George Georgiou</span><br>
								<a class="icon-bg icon-link" href="../../question/135810/opening-sqlite-db-on-external-storage.html#answer-236868" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>You just have read what I have pointed……. Try it first, then u will see what happens… You don&#39;t know what is going on…</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 22nd 2012, 1:05:10 pm">April 22nd 2012</span>
											by <span class='authorname'>Sangeok Kim</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-282171">
				
						<section>
							<p>I was having this error. You need to pass the file path string to Ti.Database.open but without the &#39;file:&#x2F;&#x2F;&#39; part, i.e. &#39;&#x2F;sdcard&#x2F;path&#x2F;to&#x2F;mydb2Installed&#39;. This worked for me.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="September 5th 2014, 2:49:10 pm">September 5th 2014</span>
								by <span class='authorname'>Gary Crook</span><br>
								<a class="icon-bg icon-link" href="../../question/135810/opening-sqlite-db-on-external-storage.html#answer-282171" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
