<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>SearchBar Width not working » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>SearchBar Width not working</h1>
		</header>
		<section>
			<pre><code class="hljs">var searchbar = Ti.UI.createSearchBar({
        <span class="hljs-string">barColor :</span> <span class="hljs-string">'#000'</span>,
        <span class="hljs-string">showCancel :</span> <span class="hljs-literal">false</span>,
        <span class="hljs-string">height :</span> <span class="hljs-number">43</span>,
        <span class="hljs-string">top :</span> <span class="hljs-number">0</span>,
    });
</code></pre><p>Now I set the width:</p>
<pre><code class="hljs">searchbar.<span class="hljs-built_in">set</span>Width(<span class="hljs-string">"50%"</span>);
</code></pre><p>Which creates a search item, which is about 2mm wide?<br>Any fix for this?</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="March 20th 2012, 5:29:15 am">March 20th 2012</span>
				by <span class='authorname'>Steven Marshall</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>searchbar</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>4</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>4 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-233885">
				
						<section>
							<p>Hello Steven,</p>
<p>I played a little with your code block. It seems to be issue with table view. If you provide width 50% to search bar and put it inside view or window than search bar will be of 50% of size but if you put search bar in table view than width of your search bar will be same as table view&#39;s width. If you will try to provide width parameter (With whatever value whether 50%, 100%, platformWidth, table width or static value 320 etc etc) It will show you a very tiny search bar which you are seeing right now in your application.</p>
<p>So I came a conclusion is : It may be issue with search bar in table view.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="March 20th 2012, 8:12:03 am">March 20th 2012</span>
								by <span class='authorname'>Yogin Bhungalia</span><br>
								<a class="icon-bg icon-link" href="question/134098/searchbar-width-not-working.html#answer-233885" rel="permalink">permalink</a>
							</div>

							<h5>4 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Thanks for that. I have tested this, and if the search bar is outside the table it sizes as expected.<br>But I lose all the search features that is provided with the search&#x2F;table integration.<br>Any idea how I can implement the search the features provided?</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 20th 2012, 8:39:40 am">March 20th 2012</span>
											by <span class='authorname'>Steven Marshall</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>If you will add search bar outside of table view than it will not work by it self. I mean it will not auto search table. You have to handle it manually. Filtering table rows with the matched keywords provided in search bar.</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 20th 2012, 8:45:34 am">March 20th 2012</span>
											by <span class='authorname'>Yogin Bhungalia</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>What method does this in the search object?</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 20th 2012, 9:23:33 am">March 20th 2012</span>
											by <span class='authorname'>Steven Marshall</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>means ? i am not getting you.</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 20th 2012, 9:28:38 am">March 20th 2012</span>
											by <span class='authorname'>Yogin Bhungalia</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>2</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-233891">
				
						<section>
							<p>hi Steven,</p>
<p>if you want to use searchBar in the tableView then you can not set the width of the searchBar but you can set  something like that with the animation..</p>
<p>try this solution….</p>
<pre><code class="hljs">var tableview = Ti.UI.createTableView({
    search : search
})<span class="hljs-comment">;</span>
tableview.addEventListener('click', function(e) {
    alert('You chose ' + e.rowData.title)<span class="hljs-comment">;</span>
})<span class="hljs-comment">;</span>

win.add(tableview)<span class="hljs-comment">;</span>

var t1 = Ti.UI.iOS.create3DMatrix()<span class="hljs-comment">;</span>
t1 = t1.scale(0.8, 1, 0)<span class="hljs-comment">;</span>
var a1 = Titanium.UI.createAnimation()<span class="hljs-comment">;</span>
a1.transform = t1<span class="hljs-comment">;</span>
a1.duration = 100<span class="hljs-comment">;</span>
search.animate(a1)<span class="hljs-comment">;</span>
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="March 20th 2012, 8:55:02 am">March 20th 2012</span>
								by <span class='authorname'>Mitul Bhalia</span><br>
								<a class="icon-bg icon-link" href="question/134098/searchbar-width-not-working.html#answer-233891" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Sounds good. I will give it a try. As I actually want to add 3 buttons to the right of the search form, which also do some extra filtering.</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 20th 2012, 9:05:10 am">March 20th 2012</span>
											by <span class='authorname'>Steven Marshall</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-233893">
				
						<section>
							<p>Yes you are right. search is one of the property of tableview, the problem is<br>any search bar when set to the search property of tableview then it become part of tableview just like data, and it looses its own property, so are left with the option that you need not to set it as search property of table view, but take it separately and place tableview beneath this search bar(in this case you will need to write search function of your own and it will not work automatically) like this </p>
<pre><code class="hljs">function MasterView() {
    var self = Ti.UI.createView({
<span class="hljs-label">        backgroundColor:</span><span class="hljs-string">'white'</span>
    });

    <span class="hljs-comment">//some dummy data for our table view</span>
    var tableData = [
        {<span class="hljs-string">title:</span><span class="hljs-string">'Apples'</span>, <span class="hljs-string">price:</span><span class="hljs-string">'1.25'</span>, <span class="hljs-string">hasChild:</span><span class="hljs-literal">true</span>},
        {<span class="hljs-string">title:</span><span class="hljs-string">'Grapes'</span>, <span class="hljs-string">price:</span><span class="hljs-string">'1.50'</span>, <span class="hljs-string">hasChild:</span><span class="hljs-literal">true</span>},
        {<span class="hljs-string">title:</span><span class="hljs-string">'Oranges'</span>, <span class="hljs-string">price:</span><span class="hljs-string">'2.50'</span>, <span class="hljs-string">hasChild:</span><span class="hljs-literal">true</span>},
        {<span class="hljs-string">title:</span><span class="hljs-string">'Bananas'</span>, <span class="hljs-string">price:</span><span class="hljs-string">'1.50'</span>, <span class="hljs-string">hasChild:</span><span class="hljs-literal">true</span>},
        {<span class="hljs-string">title:</span><span class="hljs-string">'Pears'</span>, <span class="hljs-string">price:</span><span class="hljs-string">'1.40'</span>, <span class="hljs-string">hasChild:</span><span class="hljs-literal">true</span>},
        {<span class="hljs-string">title:</span><span class="hljs-string">'Kiwis'</span>, <span class="hljs-string">price:</span><span class="hljs-string">'1.00'</span>, <span class="hljs-string">hasChild:</span><span class="hljs-literal">true</span>}
    ];

    var searchbar = Ti.UI.createSearchBar({
        <span class="hljs-string">barColor :</span> <span class="hljs-string">'#000'</span>,
        <span class="hljs-string">showCancel :</span> <span class="hljs-literal">false</span>,
        <span class="hljs-string">height :</span> <span class="hljs-number">43</span>,
        <span class="hljs-string">top :</span> <span class="hljs-number">0</span>,
        <span class="hljs-string">width :</span> <span class="hljs-string">'50%'</span>
    });
searchbar.addEventListener(<span class="hljs-string">'change'</span>,function(e){<span class="hljs-comment">//implement search criteria</span>
var titles = [];
<span class="hljs-keyword">for</span>(title <span class="hljs-keyword">in</span> rowstitles){
<span class="hljs-keyword">if</span>(title.search(e.value) == <span class="hljs-number">0</span>){
titles.push(title);
}
}
alert(titles);
});
self.add(searchbar);

    var table = Ti.UI.createTableView({
<span class="hljs-string">top :</span> searchbar.height,
        <span class="hljs-comment">//search: searchbar,</span>
<span class="hljs-label">        data:</span>tableData
    });
    self.add(table);

    <span class="hljs-comment">//add behavior</span>
    table.addEventListener(<span class="hljs-string">'click'</span>, function(e) {
        self.fireEvent(<span class="hljs-string">'itemSelected'</span>, {
<span class="hljs-label">            name:</span>e.rowData.title,
<span class="hljs-label">            price:</span>e.rowData.price
        });
    });

    <span class="hljs-keyword">return</span> self;
};

module.exports = MasterView;
</code></pre><p>well I guess you should make all this custom when you really need this.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="March 20th 2012, 9:44:13 am">March 20th 2012</span>
								by <span class='authorname'>Gagan Tiwari</span><br>
								<a class="icon-bg icon-link" href="question/134098/searchbar-width-not-working.html#answer-233893" rel="permalink">permalink</a>
							</div>

							<h5>2 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><pre><code class="hljs">searchbar.addEventListener(<span class="hljs-string">'return'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span> </span>{
        <span class="hljs-keyword">var</span> tableData = [{
            title : <span class="hljs-string">'Apples'</span>,
            price : <span class="hljs-string">'1.25'</span>,
            hasChild : <span class="hljs-literal">true</span>
        }];
        table.setData(tableData);
        searchbar.blur();
    });
</code></pre><p>I have created this code, which works on the return key, which is good.<br>Any idea how to handle an event on the &#39;search&#39; key of the keyboard?</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 20th 2012, 9:50:17 am">March 20th 2012</span>
											by <span class='authorname'>Steven Marshall</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>i dont think uve another option to create a search view and add it to window not to table (iff you want its width as &quot;50%&quot;).</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 20th 2012, 10:34:09 am">March 20th 2012</span>
											by <span class='authorname'>Gagan Tiwari</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-233870">
				
						<section>
							<pre><code class="hljs">var searchbar = Ti.UI.createSearchBar({
        <span class="hljs-string">barColor :</span> <span class="hljs-string">'#000'</span>,
        <span class="hljs-string">showCancel :</span> <span class="hljs-literal">false</span>,
        <span class="hljs-string">height :</span> <span class="hljs-number">43</span>,
        <span class="hljs-string">top :</span> <span class="hljs-number">0</span>,
        <span class="hljs-string">width :</span> <span class="hljs-string">'50%'</span>
    });
</code></pre><p>working pretty fine. it reduces size of search bar by 50% what search item you are talking about ?</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="March 20th 2012, 6:17:28 am">March 20th 2012</span>
								by <span class='authorname'>Gagan Tiwari</span><br>
								<a class="icon-bg icon-link" href="question/134098/searchbar-width-not-working.html#answer-233870" rel="permalink">permalink</a>
							</div>

							<h5>3 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>I have tried this on android, and iPhone, and it just does not work.</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 20th 2012, 7:19:36 am">March 20th 2012</span>
											by <span class='authorname'>Steven Marshall</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>But as @Gagan said which search items are you talkin about ?</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 20th 2012, 7:26:56 am">March 20th 2012</span>
											by <span class='authorname'>Yogin Bhungalia</span>
										</div>
									</li>
								
									<li class="comment">
										<p><pre><code class="hljs">function MasterView() {
    var self = Ti.UI.createView({
<span class="hljs-label">        backgroundColor:</span><span class="hljs-string">'white'</span>
    });

    <span class="hljs-comment">//some dummy data for our table view</span>
    var tableData = [
        {<span class="hljs-string">title:</span><span class="hljs-string">'Apples'</span>, <span class="hljs-string">price:</span><span class="hljs-string">'1.25'</span>, <span class="hljs-string">hasChild:</span><span class="hljs-literal">true</span>},
        {<span class="hljs-string">title:</span><span class="hljs-string">'Grapes'</span>, <span class="hljs-string">price:</span><span class="hljs-string">'1.50'</span>, <span class="hljs-string">hasChild:</span><span class="hljs-literal">true</span>},
        {<span class="hljs-string">title:</span><span class="hljs-string">'Oranges'</span>, <span class="hljs-string">price:</span><span class="hljs-string">'2.50'</span>, <span class="hljs-string">hasChild:</span><span class="hljs-literal">true</span>},
        {<span class="hljs-string">title:</span><span class="hljs-string">'Bananas'</span>, <span class="hljs-string">price:</span><span class="hljs-string">'1.50'</span>, <span class="hljs-string">hasChild:</span><span class="hljs-literal">true</span>},
        {<span class="hljs-string">title:</span><span class="hljs-string">'Pears'</span>, <span class="hljs-string">price:</span><span class="hljs-string">'1.40'</span>, <span class="hljs-string">hasChild:</span><span class="hljs-literal">true</span>},
        {<span class="hljs-string">title:</span><span class="hljs-string">'Kiwis'</span>, <span class="hljs-string">price:</span><span class="hljs-string">'1.00'</span>, <span class="hljs-string">hasChild:</span><span class="hljs-literal">true</span>}
    ];

    var searchbar = Ti.UI.createSearchBar({
        <span class="hljs-string">barColor :</span> <span class="hljs-string">'#000'</span>,
        <span class="hljs-string">showCancel :</span> <span class="hljs-literal">false</span>,
        <span class="hljs-string">height :</span> <span class="hljs-number">43</span>,
        <span class="hljs-string">top :</span> <span class="hljs-number">0</span>,
        <span class="hljs-string">width :</span> <span class="hljs-string">'50%'</span>
    });

    var table = Ti.UI.createTableView({
<span class="hljs-label">        search:</span> searchbar,
<span class="hljs-label">        data:</span>tableData
    });
    self.add(table);

    <span class="hljs-comment">//add behavior</span>
    table.addEventListener(<span class="hljs-string">'click'</span>, function(e) {
        self.fireEvent(<span class="hljs-string">'itemSelected'</span>, {
<span class="hljs-label">            name:</span>e.rowData.title,
<span class="hljs-label">            price:</span>e.rowData.price
        });
    });

    <span class="hljs-keyword">return</span> self;
};

module.exports = MasterView;
</code></pre><p>This is the code I have from the master view, which is master&#x2F;detail template project.</p>
<p>So I have a tiny oval shape, with no search bar at all.</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 20th 2012, 7:39:51 am">March 20th 2012</span>
											by <span class='authorname'>Steven Marshall</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>-2</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
