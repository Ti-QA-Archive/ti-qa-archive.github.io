<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Getting an image&#39;s dimensions » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Getting an image&#39;s dimensions</h1>
		</header>
		<section>
			<p>Yep, I&#39;ve tried <code>image.size.height</code> (and <code>width</code>). Works fantastically on iPhone, evaluates to 0 on Android. Is there another way? I&#39;d like to display the image at whatever size comes in, but then use the size to determine some other stuff. The app isn&#39;t large enough that I <em>can&#39;t</em> hard code the size, but it kind of sucks that I might not be able to reuse this code conveniently.</p>
<p>This is one of those things that I was hoping a cross-platform tool would be able to normalize. Is there a reason it can&#39;t&#x2F;doesn&#39;t?</p>
<p>Thanks.</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="January 23rd 2012, 3:56:14 pm">January 23rd 2012</span>
				by <span class='authorname'>Rob Wilkerson</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>images</span></li>
					
						<li><span class='tagname'>mobile</span></li>
					
				</ul>
			

			<section>
				<h5>2 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Hello,</p>
<p>are you trying to get the height with the view open? AFAIK, Android reports the size until it displays. </p>
<p>Best,</p>
<p>Mauro</p>
</div>
							<div class="author">
								&mdash; commented <span title="January 23rd 2012, 4:00:11 pm">January 23rd 2012</span>
								by <span class='authorname'>Mauro Parra</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Hey, Mauro –</p>
<p>No. I&#39;m creating the view and then attempting to get the size:</p>
<pre><code class="hljs">            var icon = Ti.UI.createImageView({
                <span class="hljs-variable">height</span>: <span class="hljs-string">'auto'</span>,
                <span class="hljs-built_in">image</span>: icons[i].<span class="hljs-built_in">image</span>,
                target: icons[i].url,
                <span class="hljs-variable">width</span>: <span class="hljs-string">'auto'</span>,
            });

            Ti.API.debug( JSON.stringify( icon ) );

            iconW      = icon.<span class="hljs-built_in">size</span>.<span class="hljs-variable">width</span>;
            iconH      = icon.<span class="hljs-built_in">size</span>.<span class="hljs-variable">height</span>;
</code></pre></div>
							<div class="author">
								&mdash; commented <span title="January 23rd 2012, 4:06:38 pm">January 23rd 2012</span>
								by <span class='authorname'>Rob Wilkerson</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>1</span> Vote</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-228306">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>Dimensions are bugged and don&#39;t work correctly in Android unless you hard-code them (in which case you probably don&#39;t have any need to retrieve them), which makes it super annoying to handle relatively sized elements for supporting different screen sizes.</p>
<p>I have a couple bugs open already about this issue, feel free to watch these or create a new one related to ImageView:</p>
<p><a href="http:&#x2F;&#x2F;jira.appcelerator.org&#x2F;browse&#x2F;TC-580">TC-580</a></p>
<p><a href="http:&#x2F;&#x2F;jira.appcelerator.org&#x2F;browse&#x2F;TC-581">TC-581</a></p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="January 23rd 2012, 4:32:03 pm">January 23rd 2012</span>
								by <span class='authorname'>Justin Toth</span><br>
								<a class="icon-bg icon-link" href="../../question/131068/getting-an-images-dimensions.html#answer-228306" rel="permalink">permalink</a>
							</div>

							<h5>4 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Thanks, Justin. I just piggy-backed on your View ticket since there&#39;s probably some of the same code involved. This really fubars my code reuse plan, but at least I know not to keep banging my head against the wall. That&#39;s progress of a sort, right?</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 23rd 2012, 4:50:29 pm">January 23rd 2012</span>
											by <span class='authorname'>Rob Wilkerson</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Haha yeah I&#39;m right with you, I have one code base that I&#39;m trying to use to support iPhone, iPad, Android phones, and Android tablets. If it&#39;s not Android then I use the size properties to position everything, if it&#39;s Android then I use hacks.</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 23rd 2012, 4:54:03 pm">January 23rd 2012</span>
											by <span class='authorname'>Justin Toth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Hello,</p>
<p>Converted the Community bug into an Android bug:</p>
<p>TC-580 -&gt; <a href="http:&#x2F;&#x2F;jira.appcelerator.org&#x2F;browse&#x2F;TIMOB-7336">TIMOB-7336</a></p>
<p>TC-581 -&gt; <a href="http:&#x2F;&#x2F;jira.appcelerator.org&#x2F;browse&#x2F;TIMOB-7337">TIMOB-7337</a>.</p>
<p>Best,</p>
<p>Mauro</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 23rd 2012, 7:52:38 pm">January 23rd 2012</span>
											by <span class='authorname'>Mauro Parra</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Thanks!</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 23rd 2012, 7:54:54 pm">January 23rd 2012</span>
											by <span class='authorname'>Justin Toth</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-230340">
				
						<section>
							<p>I figured out a workaround for this issue if anyone is interested. See my comments at the bottom of this task:</p>
<p><a href="https:&#x2F;&#x2F;jira.appcelerator.org&#x2F;browse&#x2F;TIMOB-5303">https:&#x2F;&#x2F;jira.appcelerator.org&#x2F;browse&#x2F;TIMOB-5303</a></p>
<p>Basically after the window is open you check every 10ms for if the window.size.height property is set. Once it is then you can call your window load function where you do your operations and have access to the size properties.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="February 15th 2012, 1:35:57 am">February 15th 2012</span>
								by <span class='authorname'>Justin Toth</span><br>
								<a class="icon-bg icon-link" href="../../question/131068/getting-an-images-dimensions.html#answer-230340" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
