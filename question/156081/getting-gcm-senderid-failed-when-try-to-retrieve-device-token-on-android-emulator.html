<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>&#34;Getting GCM SenderId failed&#34; when try to retrieve device token on Android Emulator » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>&#34;Getting GCM SenderId failed&#34; when try to retrieve device token on Android Emulator</h1>
		</header>
		<section>
			<p>Hi<br>I&#39;m developping a mobile app for Android and iOS.<br>I&#39;m using official IDE on Mac OsX with the latest SDK.</p>
<p>I&#39;m not using the ACS to push notification but need it to get the device token and register my device (I&#39;ll use Parse).<br>Anyway from now the CloudPush send me those error messages :</p>
<pre><code class="hljs">[<span class="hljs-link_label">WARN</span>][<span class="hljs-link_reference">com.appcelerator.cloud.push.CCPushService(  490)</span>] Getting GCM SenderId failed. No response area in returned JSON. Will try again in 5 seconds.
[<span class="hljs-link_label">WARN</span>][<span class="hljs-link_reference">com.appcelerator.cloud.push.CCPushService(  490)</span>] Getting GCM SenderId failed. No response area in returned JSON. Will try again in 5 seconds.
[<span class="hljs-link_label">WARN</span>][<span class="hljs-link_reference">com.appcelerator.cloud.push.CCPushService(  490)</span>] Getting GCM SenderId failed. No response area in returned JSON. Will try again in 5 seconds.
[<span class="hljs-link_label">WARN</span>][<span class="hljs-link_reference">com.appcelerator.cloud.push.CCPushService(  490)</span>] Getting GCM SenderId failed. No response area in returned JSON. Will try again in 5 seconds.
[<span class="hljs-link_label">WARN</span>][<span class="hljs-link_reference">com.appcelerator.cloud.push.CCPushService(  490)</span>] Getting GCM SenderId failed. No response area in returned JSON. Will try again in 5 seconds.
[<span class="hljs-link_label">ERROR</span>][<span class="hljs-link_reference">com.appcelerator.cloud.push.CCPushService(  490)</span>] Getting GCM SenderId failed. Max retry time reaches.
</code></pre><p>Here is my code :</p>
<pre><code class="hljs">var CloudPush = <span class="hljs-built_in">require</span>(<span class="hljs-string">'ti.cloudpush'</span>);
            CloudPush.setEnabled(<span class="hljs-keyword">true</span>);
            CloudPush.retrieveDeviceToken({
                success : success,
                <span class="hljs-built_in">error</span> : <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">deviceTokenError</span><span class="hljs-params">(e)</span></span> {
                    utils.log(<span class="hljs-string">'Failed to register for push! '</span> + e.<span class="hljs-built_in">error</span>);
                }
            });
</code></pre><p>Any clue ?</p>
<p>Thanks</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="August 17th 2013, 9:13:05 am">August 17th 2013</span>
				by <span class='authorname'>Benoît Milgram</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>emulator</span></li>
					
						<li><span class='tagname'>gcm</span></li>
					
						<li><span class='tagname'>push</span></li>
					
				</ul>
			

			<section>
				<h5>2 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Are you using <code>&amp;#39;type&amp;#39; : &amp;#39;gcm&amp;#39;</code>  in order to subscribe for Push Notifications instead of &#39;android&#39;.</p>
<pre><code class="hljs"><span class="hljs-tag">Cloud</span><span class="hljs-class">.PushNotifications</span><span class="hljs-class">.subscribe</span>(<span class="hljs-rules">{
                    <span class="hljs-rule"><span class="hljs-attribute">channel</span>:<span class="hljs-value"> <span class="hljs-string">'alert'</span>,
                    device_token: deviceToken,
                    type: <span class="hljs-string">'gcm'</span>
                </span></span></span>}
</code></pre></div>
							<div class="author">
								&mdash; commented <span title="August 23rd 2013, 4:39:48 am">August 23rd 2013</span>
								by <span class='authorname'>meenakshi pathak</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>I know have another issue.<br>Even before being able to subscribe. It&#39;s when I fetch the device token :</p>
<p>[ERROR][StrictMode(  499)] A resource was acquired at attached stack trace but never released. See java.io.Closeable for information on avoiding resource leaks.<br>[ERROR][StrictMode(  499)] java.lang.Throwable: Explicit termination method &#39;close&#39; not called<br>[ERROR][StrictMode(  499)]     at dalvik.system.CloseGuard.open(CloseGuard.java:184)<br>[ERROR][StrictMode(  499)]     at java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:80)<br>[ERROR][StrictMode(  499)]     at java.io.FileReader.&lt;init&gt;(FileReader.java:42)<br>[ERROR][StrictMode(  499)]     at com.google.android.gms.gcm.GcmProvisioning.a(SourceFile:211)<br>[ERROR][StrictMode(  499)]     at com.google.android.gms.gcm.GcmProvisioning.a(SourceFile:149)<br>[ERROR][StrictMode(  499)]     at com.google.android.gms.gcm.GcmRegisterService.onCreate(SourceFile:42)<br>[ERROR][StrictMode(  499)]     at android.app.ActivityThread.handleCreateService(ActivityThread.java:2577)<br>[ERROR][StrictMode(  499)]     at android.app.ActivityThread.access$1600(ActivityThread.java:141)<br>[ERROR][StrictMode(  499)]     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1338)<br>[ERROR][StrictMode(  499)]     at android.os.Handler.dispatchMessage(Handler.java:99)<br>[ERROR][StrictMode(  499)]     at android.os.Looper.loop(Looper.java:137)<br>[ERROR][StrictMode(  499)]     at android.app.ActivityThread.main(ActivityThread.java:5103)<br>[ERROR][StrictMode(  499)]     at java.lang.reflect.Method.invokeNative(Native Method)<br>[ERROR][StrictMode(  499)]     at java.lang.reflect.Method.invoke(Method.java:525)<br>[ERROR][StrictMode(  499)]     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:737)<br>[ERROR][StrictMode(  499)]     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:553)<br>[ERROR][StrictMode(  499)]     at dalvik.system.NativeStart.main(Native Method)<br>[ERROR][StrictMode(  499)] A resource was acquired at attached stack trace but never released. See java.io.Closeable for information on avoiding resource leaks.<br>[ERROR][StrictMode(  499)] java.lang.Throwable: Explicit termination method &#39;close&#39; not called<br>[ERROR][StrictMode(  499)]     at dalvik.system.CloseGuard.open(CloseGuard.java:184)<br>[ERROR][StrictMode(  499)]     at java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:80)<br>[ERROR][StrictMode(  499)]     at com.google.android.gms.gcm.GcmProvisioning.a(SourceFile:213)<br>[ERROR][StrictMode(  499)]     at com.google.android.gms.gcm.GcmProvisioning.a(SourceFile:149)<br>[ERROR][StrictMode(  499)]     at com.google.android.gms.gcm.GcmRegisterService.onCreate(SourceFile:42)<br>[ERROR][StrictMode(  499)]     at android.app.ActivityThread.handleCreateService(ActivityThread.java:2577)<br>[ERROR][StrictMode(  499)]     at android.app.ActivityThread.access$1600(ActivityThread.java:141)<br>[ERROR][StrictMode(  499)]     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1338)<br>[ERROR][StrictMode(  499)]     at android.os.Handler.dispatchMessage(Handler.java:99)<br>[ERROR][StrictMode(  499)]     at android.os.Looper.loop(Looper.java:137)<br>[ERROR][StrictMode(  499)]     at android.app.ActivityThread.main(ActivityThread.java:5103)<br>[ERROR][StrictMode(  499)]     at java.lang.reflect.Method.invokeNative(Native Method)<br>[ERROR][StrictMode(  499)]     at java.lang.reflect.Method.invoke(Method.java:525)<br>[ERROR][StrictMode(  499)]     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:737)<br>[ERROR][StrictMode(  499)]     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:553)<br>[ERROR][StrictMode(  499)]     at dalvik.system.NativeStart.main(Native Method)<br>[INFO][ALERT   (  867)] (KrollRuntimeThread) [3286,4136] Failed to register for push! INVALID_SENDER</p>
</div>
							<div class="author">
								&mdash; commented <span title="August 23rd 2013, 5:21:58 am">August 23rd 2013</span>
								by <span class='authorname'>Benoît Milgram</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>1</span> Vote</div>
			<div class="answers"><span>3</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>3 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-267544">
				
						<section>
							<p>Hi,<br>Titanium.CloudPush module is used to receive push notifications on a device by providing a connection to the push notification server.<br>It supports two protocols to access push notifications:</p>
<ol>
<li>Google Cloud Messaging (GCM)</li>
<li>ACS servers using the MQTT protocol<br>And, GCM is the default method to send push notifications. Please find the below link for more information :</li>
</ol>
<p>http:&#x2F;&#x2F;docs.appcelerator.com&#x2F;titanium&#x2F;latest&#x2F;#!&#x2F;api&#x2F;Titanium.CloudPush</p>
<p>To use GCM, you need to create a Google API project to obtain a Google API key and GCM sender ID.<br>For creating the above mentioned items you can go through the below link :</p>
<p>http:&#x2F;&#x2F;developer.android.com&#x2F;google&#x2F;gcm&#x2F;gs.html</p>
<p>Once you are done with the above items you need to configure your application to use GCM, to do this you need to open up your application in the ACS web console and configure your settings in the Android Push Configuration section. And there you need to copy the google API key and GCM sender id you have generated in the required fields and not on the tiapp.xml. Please see the below link for information on this :</p>
<p>http:&#x2F;&#x2F;docs.appcelerator.com&#x2F;cloud&#x2F;latest&#x2F;#!&#x2F;guide&#x2F;android-section-7</p>
<p>Regards</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 22nd 2013, 6:43:02 am">August 22nd 2013</span>
								by <span class='authorname'>Rupesh Sharma</span><br>
								<a class="icon-bg icon-link" href="question/156081/getting-gcm-senderid-failed-when-try-to-retrieve-device-token-on-android-emulator.html#answer-267544" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>2</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-267546">
				
						<section>
							<p>Hi</p>
<p>I think I follow all those steps…</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 22nd 2013, 7:06:34 am">August 22nd 2013</span>
								by <span class='authorname'>Benoît Milgram</span><br>
								<a class="icon-bg icon-link" href="question/156081/getting-gcm-senderid-failed-when-try-to-retrieve-device-token-on-android-emulator.html#answer-267546" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-272551">
				
						<section>
							<p>I guess you solved the issuse hundred times by now, but I had the same problem and I got here via google, so I hope this answer will help others.</p>
<p>http:&#x2F;&#x2F;www.titaniumtutorial.com&#x2F;2013&#x2F;10&#x2F;acs-push-notification-using-gcm.html</p>
<p>good luck :)</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="December 15th 2013, 8:20:32 pm">December 15th 2013</span>
								by <span class='authorname'>Tomer Kruvi</span><br>
								<a class="icon-bg icon-link" href="question/156081/getting-gcm-senderid-failed-when-try-to-retrieve-device-token-on-android-emulator.html#answer-272551" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
