<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Android V8 showing black screen on app reload » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Android V8 showing black screen on app reload</h1>
		</header>
		<section>
			<p>Ever since upgrading to 1.8.0.1 and the V8 engine for Android, I&#39;ve been running into a lot of black screen issues. The apps generally load correctly the first time after install, but if you hit the home button to exit out of them, and then launch them again, it shows a black screen and nothing else. Every once in a while it will get stuck on a black screen while navigating between windows within the app as well, but this is much more rare.</p>
<p>Interestingly, using advanced task killer to kill the app doesn&#39;t solve the issue, it will still load up to the black screen. Only an app reinstall fixes the issue. </p>
<p>I&#39;ve seen this issue in multiple apps and on at least 3 devices, Droid X2, Droid X3, and a Samsung Galaxy Tab. It happens every single time on the Galaxy Tab, and only happens intermittently on the 2 phones.</p>
<p>This never happens in iOS, in the Android Emulator, or if I switch back to 1.7.5, so I really think this is a bug in 1.8.0.1 or V8. Has anyone else seen this issue? I find it hard to believe I&#39;m the only one running into this since I&#39;ve seen it so frequently after upgrading.</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="January 27th 2012, 7:15:04 pm">January 27th 2012</span>
				by <span class='authorname'>Justin Toth</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>1.8.0.1</span></li>
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>black screen</span></li>
					
						<li><span class='tagname'>blank screen</span></li>
					
						<li><span class='tagname'>v8</span></li>
					
				</ul>
			

			<section>
				<h5>3 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Here is the part of the log that I think is related to the app reload:</p>
<pre><code class="hljs"><span class="hljs-number">01</span>-<span class="hljs-number">27</span> <span class="hljs-number">17</span>:<span class="hljs-number">14</span>:<span class="hljs-number">20.690</span> E/Launcher(  <span class="hljs-number">360</span>): java.lang.IllegalArgumentException: no dialog with id <span class="hljs-number">3</span> was ever shown via Activity<span class="hljs-preprocessor">#showDialog</span>
<span class="hljs-number">01</span>-<span class="hljs-number">27</span> <span class="hljs-number">17</span>:<span class="hljs-number">14</span>:<span class="hljs-number">20.690</span> W/System.err(  <span class="hljs-number">360</span>): java.lang.IllegalArgumentException: no dialog with id <span class="hljs-number">3</span> was ever shown via Activity<span class="hljs-preprocessor">#showDialog</span>
<span class="hljs-number">01</span>-<span class="hljs-number">27</span> <span class="hljs-number">17</span>:<span class="hljs-number">14</span>:<span class="hljs-number">20.690</span> W/System.err(  <span class="hljs-number">360</span>): at android.app.Activity.missingDialog(Activity.java:<span class="hljs-number">2868</span>)
<span class="hljs-number">01</span>-<span class="hljs-number">27</span> <span class="hljs-number">17</span>:<span class="hljs-number">14</span>:<span class="hljs-number">20.690</span> W/System.err(  <span class="hljs-number">360</span>): at android.app.Activity.dismissDialog(Activity.java:<span class="hljs-number">2853</span>)
<span class="hljs-number">01</span>-<span class="hljs-number">27</span> <span class="hljs-number">17</span>:<span class="hljs-number">14</span>:<span class="hljs-number">20.690</span> W/System.err(  <span class="hljs-number">360</span>): at com.android.launcher2.Launcher.closeSystemDialogs(Launcher.java:<span class="hljs-number">1790</span>)
<span class="hljs-number">01</span>-<span class="hljs-number">27</span> <span class="hljs-number">17</span>:<span class="hljs-number">14</span>:<span class="hljs-number">20.690</span> W/System.err(  <span class="hljs-number">360</span>): at com.android.launcher2.Launcher$CloseSystemDialogsIntentReceiver.onReceive(Launcher.java:<span class="hljs-number">3801</span>)
<span class="hljs-number">01</span>-<span class="hljs-number">27</span> <span class="hljs-number">17</span>:<span class="hljs-number">14</span>:<span class="hljs-number">20.690</span> W/System.err(  <span class="hljs-number">360</span>): at android.app.LoadedApk$ReceiverDispatcher$Args.run(LoadedApk.java:<span class="hljs-number">716</span>)
<span class="hljs-number">01</span>-<span class="hljs-number">27</span> <span class="hljs-number">17</span>:<span class="hljs-number">14</span>:<span class="hljs-number">20.690</span> W/System.err(  <span class="hljs-number">360</span>): at android.os.Handler.handleCallback(Handler.java:<span class="hljs-number">587</span>)
<span class="hljs-number">01</span>-<span class="hljs-number">27</span> <span class="hljs-number">17</span>:<span class="hljs-number">14</span>:<span class="hljs-number">20.690</span> W/System.err(  <span class="hljs-number">360</span>): at android.os.Handler.dispatchMessage(Handler.java:<span class="hljs-number">92</span>)
<span class="hljs-number">01</span>-<span class="hljs-number">27</span> <span class="hljs-number">17</span>:<span class="hljs-number">14</span>:<span class="hljs-number">20.690</span> W/System.err(  <span class="hljs-number">360</span>): at android.os.Looper.loop(Looper.java:<span class="hljs-number">132</span>)
<span class="hljs-number">01</span>-<span class="hljs-number">27</span> <span class="hljs-number">17</span>:<span class="hljs-number">14</span>:<span class="hljs-number">20.690</span> W/System.err(  <span class="hljs-number">360</span>): at android.app.ActivityThread.main(ActivityThread.java:<span class="hljs-number">4028</span>)
<span class="hljs-number">01</span>-<span class="hljs-number">27</span> <span class="hljs-number">17</span>:<span class="hljs-number">14</span>:<span class="hljs-number">20.690</span> W/System.err(  <span class="hljs-number">360</span>): at java.lang.reflect.Method.invokeNative(Native Method)
<span class="hljs-number">01</span>-<span class="hljs-number">27</span> <span class="hljs-number">17</span>:<span class="hljs-number">14</span>:<span class="hljs-number">20.690</span> W/System.err(  <span class="hljs-number">360</span>): at java.lang.reflect.Method.invoke(Method.java:<span class="hljs-number">491</span>)
<span class="hljs-number">01</span>-<span class="hljs-number">27</span> <span class="hljs-number">17</span>:<span class="hljs-number">14</span>:<span class="hljs-number">20.690</span> W/System.err(  <span class="hljs-number">360</span>): at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:<span class="hljs-number">844</span>)
<span class="hljs-number">01</span>-<span class="hljs-number">27</span> <span class="hljs-number">17</span>:<span class="hljs-number">14</span>:<span class="hljs-number">20.690</span> W/System.err(  <span class="hljs-number">360</span>): at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:<span class="hljs-number">602</span>)
<span class="hljs-number">01</span>-<span class="hljs-number">27</span> <span class="hljs-number">17</span>:<span class="hljs-number">14</span>:<span class="hljs-number">20.690</span> W/System.err(  <span class="hljs-number">360</span>): at dalvik.system.NativeStart.main(Native Method)
<span class="hljs-number">01</span>-<span class="hljs-number">27</span> <span class="hljs-number">17</span>:<span class="hljs-number">14</span>:<span class="hljs-number">20.690</span> I/ActivityManager(  <span class="hljs-number">285</span>): Starting: Intent { act=android.intent.action.MAIN cat=[android.intent.category.HOME] flg=<span class="hljs-number">0x10200000</span> cmp=com.android.launcher/com.android.launcher2.Launcher } from pid <span class="hljs-number">285</span>
</code></pre><p>And here is the full log in case I am wrong.</p>
<p><a href="https:&#x2F;&#x2F;gist.github.com&#x2F;1690976">https:&#x2F;&#x2F;gist.github.com&#x2F;1690976</a></p>
</div>
							<div class="author">
								&mdash; commented <span title="January 27th 2012, 7:20:02 pm">January 27th 2012</span>
								by <span class='authorname'>Justin Toth</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>If you have a small test case for this, would be awesome! </p>
<p>Best,</p>
<p>Mauro</p>
</div>
							<div class="author">
								&mdash; commented <span title="January 30th 2012, 4:32:30 pm">January 30th 2012</span>
								by <span class='authorname'>Mauro Parra</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Try the code below on a Samsung Galaxy Tab. It&#39;s not an issue specific to the ti.udp module or the Galaxy Tab, however it is reproducible when running the ti.udp module on a Galaxy Tab every single time. On Android phones and apps not using the ti.udp module, I still see the black screen issue, but it&#39;s at random times so I can&#39;t lock it down to specific code.</p>
<p>app.js:</p>
<pre><code class="hljs"><span class="hljs-comment">//create udp socket.</span>
<span class="hljs-keyword">var</span> module = require('ti.udp');
<span class="hljs-keyword">var</span> socket = module.createSocket();

<span class="hljs-comment">//create window.</span>
<span class="hljs-keyword">var</span> <span class="hljs-keyword">win</span> = Ti.UI.createWindow({ backgroundColor: <span class="hljs-string">"#fff"</span> });
<span class="hljs-keyword">win</span>.addEventListener(<span class="hljs-string">"close"</span>, socket.stop);
<span class="hljs-keyword">win</span>.<span class="hljs-keyword">open</span>();
<span class="hljs-keyword">win</span>.add(Ti.UI.createLabel({ text: <span class="hljs-string">"once you go black you never go back!"</span>, width: <span class="hljs-string">"auto"</span>, height: <span class="hljs-string">"auto"</span> }));

<span class="hljs-comment">//start udp socket.</span>
socket.start({ port: 6200 });
</code></pre><p>tiapp.xml:</p>
<pre><code class="hljs"><span class="hljs-tag">&lt;<span class="hljs-title">modules</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">module</span> <span class="hljs-attribute">platform</span>=<span class="hljs-value">"android"</span> <span class="hljs-attribute">version</span>=<span class="hljs-value">"2.1"</span>&gt;</span>ti.udp<span class="hljs-tag">&lt;/<span class="hljs-title">module</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">modules</span>&gt;</span>
</code></pre><p>ti.udp module zip:<br><a href="https:&#x2F;&#x2F;github.com&#x2F;appcelerator&#x2F;titanium_modules&#x2F;blob&#x2F;master&#x2F;udp&#x2F;mobile&#x2F;android&#x2F;dist&#x2F;ti.udp-android-2.1.zip">https:&#x2F;&#x2F;github.com&#x2F;appcelerator&#x2F;titanium_modules&#x2F;blob&#x2F;master&#x2F;udp&#x2F;mobile&#x2F;android&#x2F;dist&#x2F;ti.udp-android-2.1.zip</a></p>
</div>
							<div class="author">
								&mdash; commented <span title="January 30th 2012, 6:32:05 pm">January 30th 2012</span>
								by <span class='authorname'>Justin Toth</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-228938">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>That error in particular looks like it&#39;s caused by an unhandled exception in the UDP module (an exception is getting hit when the socket is started, complaining about the port already being bound). I&#39;ve expanded the exception catching in a new branch here:</p>
<p><a href="https:&#x2F;&#x2F;github.com&#x2F;dawsontoth&#x2F;titanium_modules&#x2F;tree&#x2F;UDP-ExpandedHandling">https:&#x2F;&#x2F;github.com&#x2F;dawsontoth&#x2F;titanium_modules&#x2F;tree&#x2F;UDP-ExpandedHandling</a></p>
<p>Give that a shot, and let me know if it addresses the issue you&#39;re seeing.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="January 31st 2012, 12:17:41 am">January 31st 2012</span>
								by <span class='authorname'>Dawson Toth</span><br>
								<a class="icon-bg icon-link" href="question/131285/android-v8-showing-black-screen-on-app-reload#answer-228938" rel="permalink">permalink</a>
							</div>

							<h5>4 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Didn&#39;t work.</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 31st 2012, 4:18:07 pm">January 31st 2012</span>
											by <span class='authorname'>Justin Toth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Updated.</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 31st 2012, 7:38:58 pm">January 31st 2012</span>
											by <span class='authorname'>Dawson Toth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I&#39;ll give answer, however I hope that the Android team will look into scenarios where the black screens occur, as this is related to more than just the ti.udp module.</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 31st 2012, 11:57:15 pm">January 31st 2012</span>
											by <span class='authorname'>Justin Toth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>The black screen issue has now been fixed by the Android team. <a href="https:&#x2F;&#x2F;jira.appcelerator.org&#x2F;browse&#x2F;TIMOB-1911">https:&#x2F;&#x2F;jira.appcelerator.org&#x2F;browse&#x2F;TIMOB-1911</a></p>
</p>
										<div class="author">
											&mdash; commented <span title="February 16th 2012, 12:57:08 pm">February 16th 2012</span>
											by <span class='authorname'>Justin Toth</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-228853">
				
						<section>
							<p>I get this all the time with V8, too.  It&#39;s reminiscent of a similar restart issue I used to see all the time around 1.5 or so.  It&#39;s disappointing but not entirely surprising to see it back.</p>
<p>You&#39;ve been developing with Titanium for a while, so you probably know with any new version it&#39;s a question of do you want to live with your workarounds for the old bugs, or do you want to find new workarounds for all the new bugs?  The advantage of sticking with the old bugs is that you know (at least more so) what they are.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="January 29th 2012, 5:15:40 pm">January 29th 2012</span>
								by <span class='authorname'>K T</span><br>
								<a class="icon-bg icon-link" href="question/131285/android-v8-showing-black-screen-on-app-reload#answer-228853" rel="permalink">permalink</a>
							</div>

							<h5>2 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>(For what it&#39;s worth, I went back to 1.7.5 on Android because of this issue, because it&#39;s far less professional to have a black-screen hang than all the hacks I have in place with the previous version to work around the long list of 1.7.5 issues.)</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 29th 2012, 5:24:44 pm">January 29th 2012</span>
											by <span class='authorname'>K T</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I been getting the same issue as well but usually a force stop would solve the problem…</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 30th 2012, 2:49:11 pm">January 30th 2012</span>
											by <span class='authorname'>Vinh Bui</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
