<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Best Practices to structure a single window app Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Best Practices to structure a single window app</h1>
		</header>
		<section>
			<p>Hi all ,</p>
<p>I have a requirement of showing multiple buttons on first window which will open many children windows.<br>What are the best practices to structure a single window app ?</p>
<p>Any Help is Greatly Appreciated.</p>
<p>Thanks</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="January 18th 2013, 6:30:04 pm">January 18th 2013</span>
				by <span class='authorname'>mathew orleans</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>ios</span></li>
					
						<li><span class='tagname'>window</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-254896">
				
						<section>
							<p>Hi</p>
<p>Can I assume;</p>
<ul>
<li>by single window you mean no tabs?</li>
<li>by your tags this is ios only?</li>
<li>is this iPhone and&#x2F;or iPad?</li>
<li>you are used to creating windows with the url property?</li>
</ul>
<p>Can I ask;</p>
<ul>
<li>Why you have any apprehension prior to starting this project?</li>
<li>Are all the child windows opened at the same level?</li>
<li>Or are the child windows multiple levels of windows?</li>
<li>How big is the app; small, medium, large, or &quot;what have I let myself in for size&quot;</li>
</ul>
<p>Once you provide these answers, we can help provide you with thoughts.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="January 18th 2013, 6:53:13 pm">January 18th 2013</span>
								by <span class='authorname'>Malcolm Hollingsworth</span><br>
								<a class="icon-bg icon-link" href="question/147116/best-practices-to-structure-a-single-window-app.html#answer-254896" rel="permalink">permalink</a>
							</div>

							<h5>14 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Hi Malcolm,</p>
<p>Can I assume :</p>
<ul>
<li>Yes No Tabs.</li>
<li>Sorry iOS and Android both</li>
<li>Both platform ios&#x2F;android<br>-Not necessarily but i think mostly with url property</li>
</ul>
<p>Can I ask,</p>
<ul>
<li>Bcoz its client requirement.</li>
<li>Yes child windows are at same level but they can have their own sub child windows.</li>
<li>Yes</li>
<li>Medium</li>
</ul>
<p>Greatly appreciate your help !</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 19th 2013, 5:31:07 am">January 19th 2013</span>
											by <span class='authorname'>mathew orleans</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>If you are going to use the <strong>url</strong> property of windows then you have pretty much defined your app structure; one JavaScript file per window.  But you can still mix in some CommonJS to improve re-usability.</p>
<p>I have knocked up a very quick layout of your dashboard (no scale and very simple) and it uses a CommonJS dashboard module.  The example uses a VERY simple set of events responds - but it will give you the right idea.</p>
<p>I know you are going to have more questions, so get specific and fire them over.</p>
<p>In the mean time, test this by creating a new default project and replace the code from <strong>app.js</strong> with this;</p>
<pre><code class="hljs">var win = Ti.UI.createWindow({  
<span class="hljs-label">    backgroundColor:</span> <span class="hljs-string">'#fff'</span>,
<span class="hljs-label">    barColor:</span> <span class="hljs-string">'#444'</span>,
<span class="hljs-label">    title:</span> <span class="hljs-string">'Tab'</span>
});
var tab1 = Ti.UI.createTab({
<span class="hljs-label">    icon:</span> <span class="hljs-string">'KS_nav_views.png'</span>,
<span class="hljs-label">    title:</span> <span class="hljs-string">'Scroll'</span>,
<span class="hljs-label">    window:</span> win
});
function newWindow(obj) {
    var win = Ti.UI.createWindow({
<span class="hljs-label">        backgroundColor:</span> <span class="hljs-string">'#fff'</span>,
<span class="hljs-label">        barColor:</span> <span class="hljs-string">'#444'</span>,
<span class="hljs-label">        height:</span> Ti.UI.FILL,
<span class="hljs-label">        title:</span> obj.title,
<span class="hljs-label">        width:</span> Ti.UI.FILL
    });
    var btn = Ti.UI.createButton({
<span class="hljs-label">        height:</span> <span class="hljs-number">40</span>,
<span class="hljs-label">        left:</span> <span class="hljs-number">10</span>,
<span class="hljs-label">        title:</span> obj.title,
<span class="hljs-label">        top:</span> <span class="hljs-number">10</span>,
<span class="hljs-label">        width:</span> Ti.UI.SIZE
    });
    btn.addEventListener(<span class="hljs-string">'click'</span>, function (e) {
        win.close();
    });
    win.add(btn);
    var lbl = Ti.UI.createLabel({
<span class="hljs-label">        color:</span> <span class="hljs-string">'#000'</span>,
<span class="hljs-label">        font:</span> {
<span class="hljs-label">            fontSize:</span> <span class="hljs-number">16</span>
        },
<span class="hljs-label">        height:</span> Ti.UI.SIZE,
<span class="hljs-label">        text:</span> obj.title,
<span class="hljs-label">        textAlign:</span> <span class="hljs-string">'center'</span>,
<span class="hljs-label">        width:</span> Ti.UI.SIZE
    });
    win.add(lbl);
    <span class="hljs-keyword">if</span> (Ti.Platform.osname === <span class="hljs-string">'android'</span>) {
        win.open();
    } <span class="hljs-keyword">else</span> {
        tab1.open(win, { <span class="hljs-string">animated:</span> <span class="hljs-literal">true</span> });
    }
}
function justAlert(e) {
    alert(e.title);
}
var icons = [
    { <span class="hljs-string">id:</span> <span class="hljs-number">1</span>, <span class="hljs-string">title:</span> <span class="hljs-string">'News'</span>, <span class="hljs-string">icon:</span> <span class="hljs-string">'KS_nav_views.png'</span> },
    { <span class="hljs-string">id:</span> <span class="hljs-number">2</span>, <span class="hljs-string">title:</span> <span class="hljs-string">'Closures'</span>, <span class="hljs-string">icon:</span> <span class="hljs-string">'KS_nav_views.png'</span> },
    { <span class="hljs-string">id:</span> <span class="hljs-number">3</span>, <span class="hljs-string">title:</span> <span class="hljs-string">'Report a Problem'</span>, <span class="hljs-string">icon:</span> <span class="hljs-string">'KS_nav_views.png'</span> },
    { <span class="hljs-string">id:</span> <span class="hljs-number">4</span>, <span class="hljs-string">title:</span> <span class="hljs-string">'Bin Collection'</span>, <span class="hljs-string">icon:</span> <span class="hljs-string">'KS_nav_views.png'</span> },
    { <span class="hljs-string">id:</span> <span class="hljs-number">5</span>, <span class="hljs-string">title:</span> <span class="hljs-string">'Events &amp; Leisure'</span>, <span class="hljs-string">icon:</span> <span class="hljs-string">'KS_nav_views.png'</span> },
    { <span class="hljs-string">id:</span> <span class="hljs-number">6</span>, <span class="hljs-string">title:</span> <span class="hljs-string">'Parking'</span>, <span class="hljs-string">icon:</span> <span class="hljs-string">'KS_nav_views.png'</span> },
    { <span class="hljs-string">id:</span> <span class="hljs-number">7</span>, <span class="hljs-string">title:</span> <span class="hljs-string">'Contact Us'</span>, <span class="hljs-string">icon:</span> <span class="hljs-string">'KS_nav_views.png'</span> },
    { <span class="hljs-string">id:</span> <span class="hljs-number">8</span>, <span class="hljs-string">title:</span> <span class="hljs-string">'About Us'</span>, <span class="hljs-string">icon:</span> <span class="hljs-string">'KS_nav_views.png'</span> }
];
var Dashboard = require(<span class="hljs-string">'/dashboard'</span>);
var intIcon = <span class="hljs-number">0</span>, intIcons = icons.length, dash;
<span class="hljs-keyword">for</span> (intIcon = <span class="hljs-number">0</span>; intIcon &lt; intIcons; intIcon = intIcon + <span class="hljs-number">1</span>) {
    Dashboard.add({
<span class="hljs-label">        icon:</span> icons[intIcon].icon,
<span class="hljs-label">        id:</span> icons[intIcon].id,
<span class="hljs-label">        title:</span> icons[intIcon].title
    });
}

var dashboard = Dashboard.show({
<span class="hljs-label">    action:</span> function (e) {
        <span class="hljs-keyword">switch</span> (e.id) {
        <span class="hljs-keyword">case</span> <span class="hljs-number">1</span>:
            newWindow(e);
            <span class="hljs-keyword">break</span>;
        <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:
            justAlert(e);
            <span class="hljs-keyword">break</span>;
        <span class="hljs-keyword">case</span> <span class="hljs-number">3</span>:
            newWindow(e);
            <span class="hljs-keyword">break</span>;
        <span class="hljs-keyword">case</span> <span class="hljs-number">4</span>:
            justAlert(e);
            <span class="hljs-keyword">break</span>;
        <span class="hljs-keyword">case</span> <span class="hljs-number">5</span>:
            newWindow(e);
            <span class="hljs-keyword">break</span>;
        <span class="hljs-keyword">case</span> <span class="hljs-number">6</span>:
            justAlert(e);
            <span class="hljs-keyword">break</span>;
        <span class="hljs-keyword">case</span> <span class="hljs-number">7</span>:
            newWindow(e);
            <span class="hljs-keyword">break</span>;
        <span class="hljs-keyword">case</span> <span class="hljs-number">8</span>:
            justAlert(e);
            <span class="hljs-keyword">break</span>;
        <span class="hljs-keyword">case</span> <span class="hljs-number">9</span>:
            newWindow(e);
            <span class="hljs-keyword">break</span>;
        }
    }
});
win.add(dashboard);

var tabGroup = Ti.UI.createTabGroup();
tabGroup.addTab(tab1);
tabGroup.open();
</code></pre><p><strong>dashboard.js</strong> create a new file with this name and paste this code.</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> icons = [];

<span class="hljs-comment">// private</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">addIcon</span><span class="hljs-params">(obj)</span> </span>{
    <span class="hljs-keyword">var</span> intMargin = <span class="hljs-number">5</span>;
    <span class="hljs-keyword">var</span> view = Ti.UI.createView({
        backgroundColor: <span class="hljs-string">'orange'</span>,
        bottom: intMargin,
        height: Ti.UI.SIZE,
        id: obj.id,
        layout: <span class="hljs-string">'vertical'</span>,
        left: intMargin,
        right: intMargin,
        top: intMargin,
        width: <span class="hljs-number">80</span>
    });
    <span class="hljs-keyword">if</span> (obj.action) {
        view.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(e)</span> </span>{
            obj.action({
                id: obj.id,
                title: obj.title
            });
        });
    }
    <span class="hljs-keyword">var</span> img = Ti.UI.createImageView({
        height: Ti.UI.SIZE,
        image: obj.icon,
        touchEnabled: <span class="hljs-literal">false</span>,
        width: Ti.UI.SIZE
    });
    view.add(img);
    <span class="hljs-keyword">var</span> lbl = Ti.UI.createLabel({
        font: {
            fontSize: <span class="hljs-number">12</span>
        },
        height: Ti.UI.SIZE,
        image: obj.icon,
        text: obj.title.toUpperCase(),
        textAlign: <span class="hljs-string">'center'</span>,
        top: <span class="hljs-number">5</span>,
        touchEnabled: <span class="hljs-literal">false</span>,
        width: Ti.UI.FILL
    });
    view.add(lbl);
    <span class="hljs-keyword">return</span> view;
}

<span class="hljs-comment">// public</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">add</span><span class="hljs-params">(obj)</span> </span>{
    icons.push({
        id: obj.id,
        icon: obj.icon,
        title: obj.title
    });
}
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">show</span><span class="hljs-params">(obj)</span> </span>{
    <span class="hljs-keyword">var</span> view = Ti.UI.createView({
        backgroundColor: <span class="hljs-string">'#FFF'</span>,
        height: Ti.UI.SIZE,
        layout: <span class="hljs-string">'horizontal'</span>,
        width: Ti.UI.SIZE
    });
    <span class="hljs-keyword">var</span> intIcon = <span class="hljs-number">0</span>, intIcons = icons.length, icon;
    <span class="hljs-keyword">for</span> (intIcon = <span class="hljs-number">0</span>; intIcon &lt; intIcons; intIcon = intIcon + <span class="hljs-number">1</span>) {
        icon = addIcon({
            icon: icons[intIcon].icon,
            id: icons[intIcon].id,
            title: icons[intIcon].title,
            action: obj.action
        });
        view.add(icon);
    }
    <span class="hljs-keyword">return</span> view;
}
exports.add = add;
exports.show = show;
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="January 19th 2013, 3:10:00 pm">January 19th 2013</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Hi Malcolm,</p>
<p>Thanks for your great help , but i have some issues . I modified the code a bit removed the tab and opened the windows with url property. I can open the windows for News and closures but cant open any new window for any of the buttons.</p>
<p>my app.js</p>
<pre><code class="hljs">var win = Ti.UI.createWindow({  
<span class="hljs-label">    backgroundColor:</span> <span class="hljs-string">'#fff'</span>,
<span class="hljs-label">    barColor:</span> <span class="hljs-string">'#444'</span>,
<span class="hljs-label">    title:</span> <span class="hljs-string">'Tab'</span>
});
<span class="hljs-comment">/*
var tab1 = Ti.UI.createTab({
    icon: 'KS_nav_views.png',
    title: 'Scroll',
    window: win
});*/</span>
function newWindow(obj) {
    var win = Ti.UI.createWindow({
<span class="hljs-label">        backgroundColor:</span> <span class="hljs-string">'#fff'</span>,
<span class="hljs-label">        barColor:</span> <span class="hljs-string">'#444'</span>,
       <span class="hljs-comment">// height: Ti.UI.FILL,</span>
<span class="hljs-label">        title:</span> obj.title,
       <span class="hljs-comment">// width: Ti.UI.FILL,</span>
<span class="hljs-label">        url:</span> obj.title +<span class="hljs-string">'.js'</span>,
<span class="hljs-label">        fullscreen:</span><span class="hljs-literal">false</span>
       <span class="hljs-comment">// modal:true</span>
    });



    <span class="hljs-keyword">if</span> (Ti.Platform.osname === <span class="hljs-string">'android'</span>) {
        win.open();
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-comment">//tab1.open(win, { animated: true });</span>
        win.open();
    }
}
function justAlert(e) {
    alert(e.title);
}
var icons = [
    { <span class="hljs-string">id:</span> <span class="hljs-number">1</span>, <span class="hljs-string">title:</span> <span class="hljs-string">'News'</span>, <span class="hljs-string">icon:</span> <span class="hljs-string">'images/news.png'</span> },
    { <span class="hljs-string">id:</span> <span class="hljs-number">2</span>, <span class="hljs-string">title:</span> <span class="hljs-string">'Closures'</span>, <span class="hljs-string">icon:</span> <span class="hljs-string">'images/closure.png'</span> },
    { <span class="hljs-string">id:</span> <span class="hljs-number">3</span>, <span class="hljs-string">title:</span> <span class="hljs-string">'Report a Problem'</span>, <span class="hljs-string">icon:</span> <span class="hljs-string">'images/report.png'</span> },
    { <span class="hljs-string">id:</span> <span class="hljs-number">4</span>, <span class="hljs-string">title:</span> <span class="hljs-string">'Bin Collection'</span>, <span class="hljs-string">icon:</span> <span class="hljs-string">'images/bin.png'</span> },
    { <span class="hljs-string">id:</span> <span class="hljs-number">5</span>, <span class="hljs-string">title:</span> <span class="hljs-string">'Events &amp; Leisure'</span>, <span class="hljs-string">icon:</span> <span class="hljs-string">'images/event.png'</span> },
    { <span class="hljs-string">id:</span> <span class="hljs-number">6</span>, <span class="hljs-string">title:</span> <span class="hljs-string">'Parking'</span>, <span class="hljs-string">icon:</span> <span class="hljs-string">'images/parking.png'</span> },
    { <span class="hljs-string">id:</span> <span class="hljs-number">7</span>, <span class="hljs-string">title:</span> <span class="hljs-string">'Contact Us'</span>, <span class="hljs-string">icon:</span> <span class="hljs-string">'images/contact.png'</span> },
    { <span class="hljs-string">id:</span> <span class="hljs-number">8</span>, <span class="hljs-string">title:</span> <span class="hljs-string">'About Us'</span>, <span class="hljs-string">icon:</span> <span class="hljs-string">'images/about.png'</span> }
];
var Dashboard = require(<span class="hljs-string">'/dashboard'</span>);
var intIcon = <span class="hljs-number">0</span>, intIcons = icons.length, dash;
<span class="hljs-keyword">for</span> (intIcon = <span class="hljs-number">0</span>; intIcon &lt; intIcons; intIcon = intIcon + <span class="hljs-number">1</span>) {
    Dashboard.add({
<span class="hljs-label">        icon:</span> icons[intIcon].icon,
<span class="hljs-label">        id:</span> icons[intIcon].id,
<span class="hljs-label">        title:</span> icons[intIcon].title
    });
}

var dashboard = Dashboard.show({
<span class="hljs-label">    action:</span> function (e) {
        <span class="hljs-keyword">switch</span> (e.id) {
        <span class="hljs-keyword">case</span> <span class="hljs-number">1</span>:
            newWindow(e);
            <span class="hljs-keyword">break</span>;
        <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:
            newWindow(e);
            <span class="hljs-keyword">break</span>;
        <span class="hljs-keyword">case</span> <span class="hljs-number">3</span>:
            newWindow(e);
            <span class="hljs-keyword">break</span>;
        <span class="hljs-keyword">case</span> <span class="hljs-number">4</span>:
             newWindow(e);
            <span class="hljs-keyword">break</span>;
        <span class="hljs-keyword">case</span> <span class="hljs-number">5</span>:
            newWindow(e);
            <span class="hljs-keyword">break</span>;
        <span class="hljs-keyword">case</span> <span class="hljs-number">6</span>:
            justAlert(e);
            <span class="hljs-keyword">break</span>;
        <span class="hljs-keyword">case</span> <span class="hljs-number">7</span>:
            newWindow(e);
            <span class="hljs-keyword">break</span>;
        <span class="hljs-keyword">case</span> <span class="hljs-number">8</span>:
            justAlert(e);
            <span class="hljs-keyword">break</span>;
        <span class="hljs-keyword">case</span> <span class="hljs-number">9</span>:
            newWindow(e);
            <span class="hljs-keyword">break</span>;
        }
    }
});
win.add(dashboard);

win.open();
 <span class="hljs-comment">/*
var tabGroup = Ti.UI.createTabGroup();
tabGroup.addTab(tab1);
tabGroup.open();*/</span>
</code></pre><p>dashboard.js is same just removed the tab line.</p>
<p>News.js</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> win=Ti.UI.currentWindow;

<span class="hljs-keyword">var</span> header_view=Ti.UI.createView(<span class="hljs-comment">{
        top:0,
        height:45,
        width:320
    }</span>);
    <span class="hljs-keyword">var</span> btn = Ti.UI.createButton(<span class="hljs-comment">{
        height: 30,
        left: 5,
        title: 'Back',
        top: 5,
        width: 40
    }</span>);
    btn.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(e)</span> <span class="hljs-comment">{
        win.close();
    }</span>);</span>
    header_view.<span class="hljs-keyword">add</span>(btn);
    win.<span class="hljs-keyword">add</span>(header_view)
</code></pre><p>Report a Bug.js</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> win=Ti.UI.currentWindow;

<span class="hljs-keyword">var</span> header_view=Ti.UI.createView(<span class="hljs-comment">{
        top:0,
        height:45,
        width:320
    }</span>);
    <span class="hljs-keyword">var</span> btn = Ti.UI.createButton(<span class="hljs-comment">{
        height: 30,
        left: 5,
        title: 'Back',
        top: 5,
        width: 40
    }</span>);
    btn.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(e)</span> <span class="hljs-comment">{
        win.close();
    }</span>);</span>
    header_view.<span class="hljs-keyword">add</span>(btn);
    win.<span class="hljs-keyword">add</span>(header_view)
</code></pre><p>For now Closure.js and Report a Bug.js are same as News.js<br>So i can open the news window and closure window but report a bug is not opening or any window after that .</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 20th 2013, 8:26:29 am">January 20th 2013</span>
											by <span class='authorname'>mathew orleans</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>This might be easier than you think; you are using the <strong>title</strong> attribute of from my exmaple code to become the url of the window you open.</p>
<p>You have however created a file called <strong>report a bug.js</strong> and your title is <strong>report a problem</strong>, the difference is the word.</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 20th 2013, 3:16:39 pm">January 20th 2013</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I would consider tweaking the data array as follows;</p>
<pre><code class="hljs">var icons = [
    { <span class="hljs-string">id:</span> <span class="hljs-number">1</span>, <span class="hljs-string">title:</span> <span class="hljs-string">'News'</span>, <span class="hljs-string">url:</span> <span class="hljs-string">'news.js'</span>, <span class="hljs-string">icon:</span> <span class="hljs-string">'images/news.png'</span> },
    { <span class="hljs-string">id:</span> <span class="hljs-number">2</span>, <span class="hljs-string">title:</span> <span class="hljs-string">'Closures'</span>, <span class="hljs-string">url:</span> <span class="hljs-string">'closures.js'</span>, <span class="hljs-string">icon:</span> <span class="hljs-string">'images/closure.png'</span> },
    { <span class="hljs-string">id:</span> <span class="hljs-number">3</span>, <span class="hljs-string">title:</span> <span class="hljs-string">'Report a Problem'</span>, <span class="hljs-string">url:</span> <span class="hljs-string">'report.js'</span>, <span class="hljs-string">icon:</span> <span class="hljs-string">'images/report.png'</span> },
    { <span class="hljs-string">id:</span> <span class="hljs-number">4</span>, <span class="hljs-string">title:</span> <span class="hljs-string">'Bin Collection'</span>, <span class="hljs-string">url:</span> <span class="hljs-string">'bins.js'</span>, <span class="hljs-string">icon:</span> <span class="hljs-string">'images/bin.png'</span> },
    { <span class="hljs-string">id:</span> <span class="hljs-number">5</span>, <span class="hljs-string">title:</span> <span class="hljs-string">'Events &amp; Leisure'</span>, <span class="hljs-string">url:</span> <span class="hljs-string">'events.js'</span>, <span class="hljs-string">icon:</span> <span class="hljs-string">'images/event.png'</span> },
    { <span class="hljs-string">id:</span> <span class="hljs-number">6</span>, <span class="hljs-string">title:</span> <span class="hljs-string">'Parking'</span>, <span class="hljs-string">url:</span> <span class="hljs-string">'parking.js'</span>, <span class="hljs-string">icon:</span> <span class="hljs-string">'images/parking.png'</span> },
    { <span class="hljs-string">id:</span> <span class="hljs-number">7</span>, <span class="hljs-string">title:</span> <span class="hljs-string">'Contact Us'</span>, <span class="hljs-string">url:</span> <span class="hljs-string">'contact.js'</span>, <span class="hljs-string">icon:</span> <span class="hljs-string">'images/contact.png'</span> },
    { <span class="hljs-string">id:</span> <span class="hljs-number">8</span>, <span class="hljs-string">title:</span> <span class="hljs-string">'About Us'</span>, <span class="hljs-string">url:</span> <span class="hljs-string">'about.js'</span>, <span class="hljs-string">icon:</span> <span class="hljs-string">'images/about.png'</span> }
];
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="January 20th 2013, 3:17:45 pm">January 20th 2013</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Obviously rename your dependant JavaScript files.</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 20th 2013, 3:18:55 pm">January 20th 2013</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Revise the <strong>newWindow</strong> function as follows;</p>
<pre><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">newWindow</span><span class="hljs-params">(obj)</span> </span>{
    <span class="hljs-keyword">var</span> win = Ti.UI.createWindow({
        backgroundColor: <span class="hljs-string">'#fff'</span>,
        barColor: <span class="hljs-string">'#444'</span>,
        title: obj.title,
        url: obj.url,
        fullscreen: <span class="hljs-literal">false</span>
    });
    win.open();
}
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="January 20th 2013, 3:20:31 pm">January 20th 2013</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Change the <strong>Dashboard.add</strong> function as follows;</p>
<pre><code class="hljs">Dashboard.add<span class="hljs-comment">(icons[intIcon])</span>; <span class="hljs-comment">// saves time</span>
</code></pre><p>And tweak the <strong>show</strong> function as follows;</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> dashboard = Dashboard.show({
    action: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(e)</span> </span>{
        newWindow(e); <span class="hljs-comment">// simpler</span>
    }
});
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="January 20th 2013, 3:21:09 pm">January 20th 2013</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Hi , </p>
<p>I did the changes as you said but its showing me a blank window. When i tried to get the url of the window in alert , it gives me a blank alert. So i think url property you added is not getting pushed in the array but i m not able to solve it.</p>
<p>Sorry in my previous comment the file name was Report a Problem.js only not Report a Bug.js so file name was correct.</p>
<p>But i did as you suggested but even then windows are not opening .</p>
<p>Here are the files.</p>
<p>app.js</p>
<pre><code class="hljs">var win = Ti.UI.createWindow({  
<span class="hljs-label">    backgroundColor:</span> <span class="hljs-string">'#fff'</span>,
<span class="hljs-label">    barColor:</span> <span class="hljs-string">'#444'</span>,
<span class="hljs-label">    title:</span> <span class="hljs-string">'Tab'</span>
});

function newWindow(obj) {

    alert(obj.url)
    var win = Ti.UI.createWindow({
<span class="hljs-label">        backgroundColor:</span> <span class="hljs-string">'white'</span>,
<span class="hljs-label">        barColor:</span> <span class="hljs-string">'#444'</span>,
<span class="hljs-label">        title:</span> obj.title,
<span class="hljs-label">        url:</span> obj.url,
<span class="hljs-label">        fullscreen:</span> <span class="hljs-literal">false</span>
    });
    win.open();
}
function justAlert(e) {
    alert();
}
var icons = [
    { <span class="hljs-string">id:</span> <span class="hljs-number">1</span>, <span class="hljs-string">title:</span> <span class="hljs-string">'News'</span>, <span class="hljs-string">url:</span> <span class="hljs-string">'news.js'</span>,<span class="hljs-string">icon:</span> <span class="hljs-string">'images/news.png'</span>},
    { <span class="hljs-string">id:</span> <span class="hljs-number">2</span>, <span class="hljs-string">title:</span> <span class="hljs-string">'Closures'</span>, <span class="hljs-string">icon:</span> <span class="hljs-string">'images/closure.png'</span>,<span class="hljs-string">url:</span><span class="hljs-string">'Closures.js'</span> },
    { <span class="hljs-string">id:</span> <span class="hljs-number">3</span>, <span class="hljs-string">title:</span> <span class="hljs-string">'Report a Problem'</span>, <span class="hljs-string">icon:</span> <span class="hljs-string">'images/report.png'</span> ,<span class="hljs-string">url:</span><span class="hljs-string">'report.js'</span>},
    { <span class="hljs-string">id:</span> <span class="hljs-number">4</span>, <span class="hljs-string">title:</span> <span class="hljs-string">'Bin Collection'</span>, <span class="hljs-string">icon:</span> <span class="hljs-string">'images/bin.png'</span> },
    { <span class="hljs-string">id:</span> <span class="hljs-number">5</span>, <span class="hljs-string">title:</span> <span class="hljs-string">'Events &amp; Leisure'</span>, <span class="hljs-string">icon:</span> <span class="hljs-string">'images/event.png'</span> },
    { <span class="hljs-string">id:</span> <span class="hljs-number">6</span>, <span class="hljs-string">title:</span> <span class="hljs-string">'Parking'</span>, <span class="hljs-string">icon:</span> <span class="hljs-string">'images/parking.png'</span> },
    { <span class="hljs-string">id:</span> <span class="hljs-number">7</span>, <span class="hljs-string">title:</span> <span class="hljs-string">'Contact Us'</span>, <span class="hljs-string">icon:</span> <span class="hljs-string">'images/contact.png'</span> },
    { <span class="hljs-string">id:</span> <span class="hljs-number">8</span>, <span class="hljs-string">title:</span> <span class="hljs-string">'About Us'</span>, <span class="hljs-string">icon:</span> <span class="hljs-string">'images/about.png'</span> }
];
var Dashboard = require(<span class="hljs-string">'/dashboard'</span>);
var intIcon = <span class="hljs-number">0</span>, intIcons = icons.length, dash;
<span class="hljs-keyword">for</span> (intIcon = <span class="hljs-number">0</span>; intIcon &lt; intIcons; intIcon = intIcon + <span class="hljs-number">1</span>) {
    Dashboard.add({
<span class="hljs-label">        icon:</span> icons[intIcon].icon,
<span class="hljs-label">        id:</span> icons[intIcon].id,
<span class="hljs-label">        title:</span> icons[intIcon].title,
    });

}

var dashboard = Dashboard.show({
<span class="hljs-label">    action:</span> function (e) {
        newWindow(e); <span class="hljs-comment">// simpler</span>
    }
});
win.add(dashboard);

win.open();
</code></pre><p>dashboard.js</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> icons = [];

<span class="hljs-comment">// private</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">addIcon</span><span class="hljs-params">(obj)</span> </span>{
    <span class="hljs-keyword">var</span> intMargin = <span class="hljs-number">5</span>;
    <span class="hljs-keyword">var</span> view = Ti.UI.createView({
        backgroundColor: <span class="hljs-string">'white'</span>,
        bottom: intMargin,
        height: Ti.UI.SIZE,
        id: obj.id,
        layout: <span class="hljs-string">'vertical'</span>,
        left: intMargin,
        right: intMargin,
        top: intMargin,
        width: <span class="hljs-number">80</span>
    });
    <span class="hljs-keyword">if</span> (obj.action) {
        view.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(e)</span> </span>{
            obj.action({
                id: obj.id,
                title: obj.title,
            });
        });
    }
    <span class="hljs-keyword">var</span> img = Ti.UI.createImageView({
        height: Ti.UI.SIZE,
        image: obj.icon,
        touchEnabled: <span class="hljs-literal">false</span>,
        width: Ti.UI.SIZE
    });
    view.add(img);
    <span class="hljs-keyword">var</span> lbl = Ti.UI.createLabel({
        font: {
            fontSize: <span class="hljs-number">12</span>
        },
        height: Ti.UI.SIZE,
        image: obj.icon,
        text: obj.title.toUpperCase(),
        textAlign: <span class="hljs-string">'center'</span>,
        top: <span class="hljs-number">5</span>,
        touchEnabled: <span class="hljs-literal">false</span>,
        width: Ti.UI.FILL
    });
    view.add(lbl);
    <span class="hljs-keyword">return</span> view;
}

<span class="hljs-comment">// public</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">add</span><span class="hljs-params">(obj)</span> </span>{
    icons.push({
        id: obj.id,
        icon: obj.icon,
        title: obj.title,
    });

}
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">show</span><span class="hljs-params">(obj)</span> </span>{
    <span class="hljs-keyword">var</span> view = Ti.UI.createView({
        backgroundColor: <span class="hljs-string">'#FFF'</span>,
        height: Ti.UI.SIZE,
        layout: <span class="hljs-string">'horizontal'</span>,
        width: Ti.UI.SIZE
    });
    <span class="hljs-keyword">var</span> intIcon = <span class="hljs-number">0</span>, intIcons = icons.length, icon;
    <span class="hljs-keyword">for</span> (intIcon = <span class="hljs-number">0</span>; intIcon &lt; intIcons; intIcon = intIcon + <span class="hljs-number">1</span>) {
        icon = addIcon({
            icon: icons[intIcon].icon,
            id: icons[intIcon].id,
            title: icons[intIcon].title,
            action: obj.action
        });
        view.add(icon);
    }
    <span class="hljs-keyword">return</span> view;
}
exports.add = add;
exports.show = show;
</code></pre><p>news.js</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> win=Ti.UI.currentWindow;

<span class="hljs-keyword">var</span> header_view=Ti.UI.createView(<span class="hljs-comment">{
        top:0,
        height:45,
        width:320
    }</span>);
    <span class="hljs-keyword">var</span> btn = Ti.UI.createButton(<span class="hljs-comment">{
        height: 30,
        left: 5,
        title: 'Back',
        top: 5,
        width: 40
    }</span>);
    btn.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(e)</span> <span class="hljs-comment">{
        win.close();
    }</span>);</span>
    header_view.<span class="hljs-keyword">add</span>(btn);
    win.<span class="hljs-keyword">add</span>(header_view)
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="January 21st 2013, 6:52:40 am">January 21st 2013</span>
											by <span class='authorname'>mathew orleans</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I have tweaked all the code and made it work :-)  My excuse - I made the previous amends on the iPad.</p>
<p><strong>app.js</strong></p>
<pre><code class="hljs">var win = Ti.UI.createWindow({  
<span class="hljs-label">    backgroundColor:</span> <span class="hljs-string">'#fff'</span>,
<span class="hljs-label">    barColor:</span> <span class="hljs-string">'#444'</span>,
<span class="hljs-label">    title:</span> <span class="hljs-string">'Tab'</span>
});

function newWindow(obj) {

    alert(obj.url)
    var win = Ti.UI.createWindow({
<span class="hljs-label">        backgroundColor:</span> <span class="hljs-string">'white'</span>,
<span class="hljs-label">        barColor:</span> <span class="hljs-string">'#444'</span>,
<span class="hljs-label">        title:</span> obj.title,
<span class="hljs-label">        url:</span> obj.url,
<span class="hljs-label">        fullscreen:</span> <span class="hljs-literal">false</span>
    });
    win.open();
}
function justAlert(e) {
    <span class="hljs-comment">//alert();</span>
}
var icons = [
    { <span class="hljs-string">id:</span> <span class="hljs-number">1</span>, <span class="hljs-string">title:</span> <span class="hljs-string">'News'</span>, <span class="hljs-string">url:</span> <span class="hljs-string">'news.js'</span>, <span class="hljs-string">icon:</span> <span class="hljs-string">'images/news.png'</span>},
    { <span class="hljs-string">id:</span> <span class="hljs-number">2</span>, <span class="hljs-string">title:</span> <span class="hljs-string">'Closures'</span>, <span class="hljs-string">icon:</span> <span class="hljs-string">'images/closure.png'</span>, <span class="hljs-string">url:</span><span class="hljs-string">'Closures.js'</span> },
    { <span class="hljs-string">id:</span> <span class="hljs-number">3</span>, <span class="hljs-string">title:</span> <span class="hljs-string">'Report a Problem'</span>, <span class="hljs-string">icon:</span> <span class="hljs-string">'images/report.png'</span>, <span class="hljs-string">url:</span><span class="hljs-string">'report.js'</span>},
    { <span class="hljs-string">id:</span> <span class="hljs-number">4</span>, <span class="hljs-string">title:</span> <span class="hljs-string">'Bin Collection'</span>, <span class="hljs-string">icon:</span> <span class="hljs-string">'images/bin.png'</span> },
    { <span class="hljs-string">id:</span> <span class="hljs-number">5</span>, <span class="hljs-string">title:</span> <span class="hljs-string">'Events &amp; Leisure'</span>, <span class="hljs-string">icon:</span> <span class="hljs-string">'images/event.png'</span> },
    { <span class="hljs-string">id:</span> <span class="hljs-number">6</span>, <span class="hljs-string">title:</span> <span class="hljs-string">'Parking'</span>, <span class="hljs-string">icon:</span> <span class="hljs-string">'images/parking.png'</span> },
    { <span class="hljs-string">id:</span> <span class="hljs-number">7</span>, <span class="hljs-string">title:</span> <span class="hljs-string">'Contact Us'</span>, <span class="hljs-string">icon:</span> <span class="hljs-string">'images/contact.png'</span> },
    { <span class="hljs-string">id:</span> <span class="hljs-number">8</span>, <span class="hljs-string">title:</span> <span class="hljs-string">'About Us'</span>, <span class="hljs-string">icon:</span> <span class="hljs-string">'images/about.png'</span> }
];
var Dashboard = require(<span class="hljs-string">'/dashboard'</span>);
var intIcon = <span class="hljs-number">0</span>, intIcons = icons.length, dash;
<span class="hljs-keyword">for</span> (intIcon = <span class="hljs-number">0</span>; intIcon &lt; intIcons; intIcon = intIcon + <span class="hljs-number">1</span>) {
    Dashboard.add(icons[intIcon]); 
}

var dashboard = Dashboard.show({
<span class="hljs-label">    action:</span> function (e) {
        newWindow(e); <span class="hljs-comment">// simpler</span>
    }
});
win.add(dashboard);

win.open();
</code></pre><p><strong>dashboard.js</strong></p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> icons = [];

<span class="hljs-comment">// private</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">addIcon</span><span class="hljs-params">(obj)</span> </span>{
    <span class="hljs-keyword">var</span> intMargin = <span class="hljs-number">5</span>;
    <span class="hljs-keyword">var</span> view = Ti.UI.createView({
        backgroundColor: <span class="hljs-string">'white'</span>,
        bottom: intMargin,
        data: obj,
        height: Ti.UI.SIZE,
        id: obj.id,
        layout: <span class="hljs-string">'vertical'</span>,
        left: intMargin,
        right: intMargin,
        top: intMargin,
        width: <span class="hljs-number">80</span>
    });
    <span class="hljs-keyword">if</span> (obj.action) {
        view.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(e)</span> </span>{
            obj.action(e.source.data);
        });
    }
    <span class="hljs-keyword">var</span> img = Ti.UI.createImageView({
        height: Ti.UI.SIZE,
        image: obj.icon,
        touchEnabled: <span class="hljs-literal">false</span>,
        width: Ti.UI.SIZE
    });
    view.add(img);
    <span class="hljs-keyword">var</span> lbl = Ti.UI.createLabel({
        font: {
            fontSize: <span class="hljs-number">12</span>
        },
        height: Ti.UI.SIZE,
        image: obj.icon,
        text: obj.title.toUpperCase(),
        textAlign: <span class="hljs-string">'center'</span>,
        top: <span class="hljs-number">5</span>,
        touchEnabled: <span class="hljs-literal">false</span>,
        width: Ti.UI.FILL
    });
    view.add(lbl);
    <span class="hljs-keyword">return</span> view;
}

<span class="hljs-comment">// public</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">add</span><span class="hljs-params">(obj)</span> </span>{
    icons.push(obj); 
}
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">show</span><span class="hljs-params">(obj)</span> </span>{
    <span class="hljs-keyword">var</span> view = Ti.UI.createView({
        backgroundColor: <span class="hljs-string">'#FFF'</span>,
        height: Ti.UI.SIZE,
        layout: <span class="hljs-string">'horizontal'</span>,
        width: Ti.UI.SIZE
    });
    <span class="hljs-keyword">var</span> intIcon = <span class="hljs-number">0</span>, intIcons = icons.length, icon;
    <span class="hljs-keyword">for</span> (intIcon = <span class="hljs-number">0</span>; intIcon &lt; intIcons; intIcon = intIcon + <span class="hljs-number">1</span>) {
        icon = addIcon({
            icon: icons[intIcon].icon,
            id: icons[intIcon].id,
            title: icons[intIcon].title,
            url: icons[intIcon].url,
            action: obj.action
        });
        view.add(icon);
    }
    <span class="hljs-keyword">return</span> view;
}
exports.add = add;
exports.show = show;
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="January 21st 2013, 6:28:51 pm">January 21st 2013</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Thanks Malcom,</p>
<p>That works but i think i am facing memory leaks by opening and closing few windows . Can you give me email id so that i can send you the complete app ?</p>
<p>Regards<br>Mathew</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 22nd 2013, 12:09:40 pm">January 22nd 2013</span>
											by <span class='authorname'>mathew orleans</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Use <a href="http:&#x2F;&#x2F;developer.appcelerator.com&#x2F;devlink&#x2F;profile&#x2F;427941&#x2F;malcolm-hollingsworth">Devlink</a> to send me your details.  I will take a quick look, but you have to keep in mind that looking over an entire project is a very different proposition to helping with a specific issue.  I will try to look later today but may be tomorrow morning before I can take a quick look.</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 22nd 2013, 12:18:57 pm">January 22nd 2013</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>The app is not big , okay i will give the details here only .<br>My app.js and dashboard.js is same as you have described. I will paste the other files.</p>
<p>news.js</p>
<pre><code class="hljs">var win=Ti.UI.currentWindow;

var header_view=Ti.UI.createView({
        top:<span class="hljs-number">0</span>,
        <span class="hljs-variable">height</span>:<span class="hljs-number">45</span>,
        <span class="hljs-variable">width</span>:<span class="hljs-number">320</span>
    });
    var btn = Ti.UI.createButton({
        <span class="hljs-variable">height</span>: <span class="hljs-number">30</span>,
        left: <span class="hljs-number">5</span>,
        title: <span class="hljs-string">'Back'</span>,
        top: <span class="hljs-number">5</span>,
        <span class="hljs-variable">width</span>: <span class="hljs-number">40</span>
    });
    btn.addEventListener(<span class="hljs-string">'click'</span>, function (e) {
        win.close();
    });
    header_view.<span class="hljs-built_in">add</span>(btn);
    win.<span class="hljs-built_in">add</span>(header_view);

var url = <span class="hljs-string">"http://www.manchester.gov.uk/rss/news"</span>;
var xhr = Titanium.Network.createHTTPClient();
xhr.<span class="hljs-built_in">open</span>(<span class="hljs-string">'GET'</span>, url);

xhr.onload = function() {
   <span class="hljs-comment">// var response = JSON.parse(this.responseText);</span>
   <span class="hljs-comment">// alert(response);</span>
    <span class="hljs-comment">//</span>
    var result = <span class="hljs-keyword">this</span>.responseText;
    var xml = Ti.<span class="hljs-keyword">XML</span>.parseString(result);
    create_table(xml);
}

xhr.send();

function create_table(xml) {
    var params = xml.documentElement.getElementsByTagName(<span class="hljs-string">"item"</span>);

    var data = [];

    <span class="hljs-keyword">for</span> (var i=<span class="hljs-number">0</span>;i&lt;params.item.length;i++) {
        Ti.API.<span class="hljs-built_in">log</span>(<span class="hljs-string">'Param '</span>+i+ params.item(i).getElementsByTagName(<span class="hljs-string">"title"</span>).item(<span class="hljs-number">0</span>).<span class="hljs-built_in">text</span>);
        <span class="hljs-comment">//Ti.API.log('Param '+i+': Value: '+v.item(i).text);</span>

        <span class="hljs-comment">// Add to array</span>
        <span class="hljs-comment">//data.push({"name":n.item(i).text,"value":v.item(i).text});</span>

        var custom_row = Ti.UI.createTableViewRow({
                <span class="hljs-variable">height</span> : <span class="hljs-number">90</span>,
                backgroundColor:<span class="hljs-string">'white'</span>,
                className: <span class="hljs-string">'party'</span>

            });

         var news_title = Ti.UI.createLabel({
                 <span class="hljs-variable">height</span> : <span class="hljs-string">'auto'</span>,
                 <span class="hljs-variable">width</span>  : <span class="hljs-string">'auto'</span>,
                 left   :      <span class="hljs-number">5</span>,
                 top    :      <span class="hljs-number">5</span>,
                 <span class="hljs-built_in">text</span>   : params.item(i).getElementsByTagName(<span class="hljs-string">"title"</span>).item(<span class="hljs-number">0</span>).<span class="hljs-built_in">text</span>,
                 <span class="hljs-built_in">color</span>  : <span class="hljs-string">'blue'</span>,
                 font : {fontSize:<span class="hljs-string">'12'</span>}
         }) ;  

         custom_row.<span class="hljs-built_in">add</span>(news_title);

         news_des=Ti.UI.createLabel({
             <span class="hljs-variable">height</span>:<span class="hljs-number">40</span>,
             <span class="hljs-variable">width</span>:<span class="hljs-number">300</span>,
             left:<span class="hljs-number">5</span>,
             top:<span class="hljs-number">40</span>,
             <span class="hljs-built_in">text</span>:params.item(i).getElementsByTagName(<span class="hljs-string">"description"</span>).item(<span class="hljs-number">0</span>).<span class="hljs-built_in">text</span>,
             <span class="hljs-built_in">color</span>:<span class="hljs-string">'black'</span>,
             font : {fontSize:<span class="hljs-number">13</span>}
         });

          custom_row.<span class="hljs-built_in">add</span>(news_des);

           custom_row.addEventListener(<span class="hljs-string">'click'</span>,function(e){
            var id=e.index;
           <span class="hljs-comment">//     alert( party_info[id].name)</span>
           var detail_window=Ti.UI.createWindow({
               navBarHidden:<span class="hljs-keyword">true</span>,
               backgroundColor:<span class="hljs-string">'white'</span>,
               fullscreen:<span class="hljs-keyword">false</span>
           <span class="hljs-comment">//    details:party_info[id]</span>
           });
           detail_window.<span class="hljs-built_in">open</span>({transition : Ti.UI.iPhone.AnimationStyle.CURL_UP});


var header_view=Ti.UI.createView({
    top:<span class="hljs-number">0</span>,
    <span class="hljs-variable">width</span>:<span class="hljs-number">320</span>,
    <span class="hljs-variable">height</span>:<span class="hljs-number">45</span>,
    <span class="hljs-comment">//backgroundColor:'blue',</span>
    left:<span class="hljs-number">0</span>,
    backgroundImage:<span class="hljs-string">'ui/images/banner.png'</span>

});

detail_window.<span class="hljs-built_in">add</span>(header_view);

var back=Ti.UI.createButton({
    top:<span class="hljs-number">5</span>,
    left:<span class="hljs-number">5</span>,
    <span class="hljs-variable">height</span>:<span class="hljs-number">30</span>,
    <span class="hljs-variable">width</span>:<span class="hljs-number">50</span>,
    title:<span class="hljs-string">'Back'</span>
});

header_view.<span class="hljs-built_in">add</span>(back);

back.addEventListener(<span class="hljs-string">'click'</span>,function(){
    detail_window.close({transition : Ti.UI.iPhone.AnimationStyle.FLIP_FROM_RIGHT});
})


        var detail_title=Ti.UI.createLabel({
            top:<span class="hljs-number">50</span>,
            <span class="hljs-built_in">color</span>:<span class="hljs-string">'blue'</span>,
            <span class="hljs-variable">width</span>:<span class="hljs-string">'auto'</span>,
            <span class="hljs-built_in">text</span>:params.item(id).getElementsByTagName(<span class="hljs-string">"title"</span>).item(<span class="hljs-number">0</span>).<span class="hljs-built_in">text</span>,
        });

        detail_window.<span class="hljs-built_in">add</span>(detail_title);

        var detail_des=Ti.UI.createLabel({
            top:<span class="hljs-number">100</span>,
            <span class="hljs-built_in">color</span>:<span class="hljs-string">'black'</span>,
            <span class="hljs-variable">width</span>:<span class="hljs-string">'auto'</span>,
            <span class="hljs-built_in">text</span>:params.item(id).getElementsByTagName(<span class="hljs-string">"description"</span>).item(<span class="hljs-number">0</span>).<span class="hljs-built_in">text</span>,
        });

        detail_window.<span class="hljs-built_in">add</span>(detail_des);
         });

         data.push(custom_row);

    }
    var tableView = Titanium.UI.createTableView({
       data : data,
    <span class="hljs-variable">height</span> : <span class="hljs-string">'auto'</span>,
    top : <span class="hljs-number">45</span>,
    backgroundColor : <span class="hljs-string">'white'</span>,
    allowsSelection : <span class="hljs-keyword">true</span>
    });

    tableView.footerView = Ti.UI.createView({<span class="hljs-variable">width</span>: <span class="hljs-number">0</span>, <span class="hljs-variable">height</span>: <span class="hljs-number">0</span>});

    win.<span class="hljs-built_in">add</span>(tableView);

}
</code></pre><p>Closure.js</p>
<pre><code class="hljs">var win=Ti.UI.currentWindow;

var header_view=Ti.UI.createView({
        top:<span class="hljs-number">0</span>,
        height:<span class="hljs-number">45</span>,
        width:<span class="hljs-number">320</span>
    });
    var btn = Ti.UI.createButton({
        height: <span class="hljs-number">30</span>,
        left: <span class="hljs-number">5</span>,
        title: <span class="hljs-string">'Back'</span>,
        top: <span class="hljs-number">5</span>,
        width: <span class="hljs-number">40</span>
    });
    btn.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-keyword">function</span> (e) {
        win.close();
    });
    header_view.add(btn);
    win.add(header_view)

var school=Ti.UI.createLabel({
    top: <span class="hljs-number">40</span>,
    text:<span class="hljs-string">'Schools'</span>,
    left:<span class="hljs-number">100</span>,
    width:<span class="hljs-string">'auto'</span>,
    font:{fontSize:<span class="hljs-number">24</span>},
    color:<span class="hljs-string">'red'</span>
});

win.add(school);

var roads=Ti.UI.createLabel({
    top: <span class="hljs-number">150</span>,
    text:<span class="hljs-string">'Roads'</span>,
    left:<span class="hljs-number">100</span>,
    width:<span class="hljs-string">'auto'</span>,
    font:{fontSize:<span class="hljs-number">24</span>},
    color:<span class="hljs-string">'red'</span>
});

win.add(roads);

var others=Ti.UI.createLabel({
    top: <span class="hljs-number">260</span>,
    text:<span class="hljs-string">'Others'</span>,
    left:<span class="hljs-number">100</span>,
    width:<span class="hljs-string">'auto'</span>,
    font:{fontSize:<span class="hljs-number">24</span>},
    color:<span class="hljs-string">'red'</span>
});

win.add(others);


        var school_window=Titanium.UI.createWindow({
            url:<span class="hljs-string">'school_window.js'</span>,
            top:<span class="hljs-number">0</span>,
            backgroundColor:<span class="hljs-string">'white'</span>,
            title:<span class="hljs-string">'School Closures'</span>
        });


        var roads_window=Titanium.UI.createWindow({
            url:<span class="hljs-string">'road_window.js'</span>,
            top:<span class="hljs-number">0</span>,
            backgroundColor:<span class="hljs-string">'white'</span>,
            title:<span class="hljs-string">'Roads'</span>
        });

        var others_window=Titanium.UI.createWindow({
            url:<span class="hljs-string">'other_window.js'</span>,
            top:<span class="hljs-number">0</span>,
            backgroundColor:<span class="hljs-string">'white'</span>,
            title:<span class="hljs-string">'Roads'</span>
        });

        roads.addEventListener(<span class="hljs-string">'click'</span>,<span class="hljs-keyword">function</span>(){
            roads_window.open({transition : Ti.UI.iPhone.AnimationStyle.FLIP_FROM_RIGHT});
        });

        others.addEventListener(<span class="hljs-string">'click'</span>,<span class="hljs-keyword">function</span>(){
            others_window.open({transition : Ti.UI.iPhone.AnimationStyle.FLIP_FROM_RIGHT});
        });

        school.addEventListener(<span class="hljs-string">'click'</span>,<span class="hljs-keyword">function</span>(){
            school_window.open({transition : Ti.UI.iPhone.AnimationStyle.FLIP_FROM_RIGHT});
        });
</code></pre><p>bin.js</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> <span class="hljs-keyword">win</span>=Ti.UI.currentWindow;

<span class="hljs-keyword">var</span> header_view=Ti.UI.createView({
        top:0,
        height:45,
        width:320
    });
    <span class="hljs-keyword">var</span> btn = Ti.UI.createButton({
        height: 30,
        left: 5,
        title: 'Back',
        top: 5,
        width: 40
    });

    header_view.add(btn);
    <span class="hljs-keyword">win</span>.add(header_view)

<span class="hljs-keyword">var</span> webview=Ti.UI.createWebView({
    url:'http:<span class="hljs-comment">//www.manchester.gov.uk/bincollections',</span>
    top:45
});

<span class="hljs-keyword">win</span>.add(webview)

 btn.addEventListener('click', function (<span class="hljs-keyword">e</span>) {
     <span class="hljs-keyword">win</span>.remove(webview)
        <span class="hljs-keyword">win</span>.<span class="hljs-keyword">close</span>();
    });
</code></pre><p>events.js</p>
<pre><code class="hljs">var win=Ti.UI.currentWindow;

var header_view=Ti.UI.createView({
        top:<span class="hljs-number">0</span>,
        <span class="hljs-variable">height</span>:<span class="hljs-number">45</span>,
        <span class="hljs-variable">width</span>:<span class="hljs-number">320</span>
    });
    var btn = Ti.UI.createButton({
        <span class="hljs-variable">height</span>: <span class="hljs-number">30</span>,
        left: <span class="hljs-number">5</span>,
        title: <span class="hljs-string">'Back'</span>,
        top: <span class="hljs-number">5</span>,
        <span class="hljs-variable">width</span>: <span class="hljs-number">40</span>
    });
    btn.addEventListener(<span class="hljs-string">'click'</span>, function (e) {
        win.close();
    });
    header_view.<span class="hljs-built_in">add</span>(btn);
    win.<span class="hljs-built_in">add</span>(header_view);


var url = <span class="hljs-string">"http://www.manchester.gov.uk/rss/events"</span>;
var xhr = Titanium.Network.createHTTPClient();
xhr.<span class="hljs-built_in">open</span>(<span class="hljs-string">'GET'</span>, url);

xhr.onload = function() {
   <span class="hljs-comment">// var response = JSON.parse(this.responseText);</span>
   <span class="hljs-comment">// alert(response);</span>
    <span class="hljs-comment">//</span>
    var result = <span class="hljs-keyword">this</span>.responseText;
    var xml = Ti.<span class="hljs-keyword">XML</span>.parseString(result);
    create_table(xml);
}

xhr.send();

function create_table(xml) {
    var params = xml.documentElement.getElementsByTagName(<span class="hljs-string">"item"</span>);

    var data = [];

    <span class="hljs-keyword">for</span> (var i=<span class="hljs-number">0</span>;i&lt;params.item.length;i++) {
        Ti.API.<span class="hljs-built_in">log</span>(<span class="hljs-string">'Param '</span>+i+ params.item(i).getElementsByTagName(<span class="hljs-string">"title"</span>).item(<span class="hljs-number">0</span>).<span class="hljs-built_in">text</span>);
        <span class="hljs-comment">//Ti.API.log('Param '+i+': Value: '+v.item(i).text);</span>

        <span class="hljs-comment">// Add to array</span>
        <span class="hljs-comment">//data.push({"name":n.item(i).text,"value":v.item(i).text});</span>

        var custom_row = Ti.UI.createTableViewRow({
                <span class="hljs-variable">height</span> : <span class="hljs-string">'auto'</span>,
                backgroundColor:<span class="hljs-string">'white'</span>,
                className: <span class="hljs-string">'party'</span>

            });

         var news_title = Ti.UI.createLabel({
                 <span class="hljs-variable">height</span> : <span class="hljs-string">'auto'</span>,
                 <span class="hljs-variable">width</span>  : <span class="hljs-string">'auto'</span>,
                 left   :      <span class="hljs-number">5</span>,
                 top    :      <span class="hljs-number">5</span>,
                 <span class="hljs-built_in">text</span>   : params.item(i).getElementsByTagName(<span class="hljs-string">"title"</span>).item(<span class="hljs-number">0</span>).<span class="hljs-built_in">text</span>,
                 <span class="hljs-built_in">color</span>  : <span class="hljs-string">'blue'</span>,
                 font : {fontSize:<span class="hljs-string">'12'</span>}
         }) ;  

         custom_row.<span class="hljs-built_in">add</span>(news_title);

         news_des=Ti.UI.createLabel({
             <span class="hljs-variable">height</span>:<span class="hljs-string">'auto'</span>,
             <span class="hljs-variable">width</span>:<span class="hljs-number">300</span>,
             left:<span class="hljs-number">5</span>,
             top:<span class="hljs-number">40</span>,
             <span class="hljs-built_in">text</span>:params.item(i).getElementsByTagName(<span class="hljs-string">"description"</span>).item(<span class="hljs-number">0</span>).<span class="hljs-built_in">text</span>,
             <span class="hljs-built_in">color</span>:<span class="hljs-string">'black'</span>,
             font : {fontSize:<span class="hljs-number">13</span>}
         });

          custom_row.<span class="hljs-built_in">add</span>(news_des);


         data.push(custom_row);

    }
    var tableView = Titanium.UI.createTableView({
       data : data,
    <span class="hljs-variable">height</span> : <span class="hljs-string">'auto'</span>,
    top : <span class="hljs-number">45</span>,
    backgroundColor : <span class="hljs-string">'white'</span>,
    allowsSelection : <span class="hljs-keyword">true</span>
    });

    tableView.footerView = Ti.UI.createView({<span class="hljs-variable">width</span>: <span class="hljs-number">0</span>, <span class="hljs-variable">height</span>: <span class="hljs-number">0</span>});

    win.<span class="hljs-built_in">add</span>(tableView);

}
</code></pre><p>So basically you can see the stucture of my app , how i am opening the window and closing . I guess the windows are getting stacked one after the other and leading it to leak.</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 22nd 2013, 1:33:08 pm">January 22nd 2013</span>
											by <span class='authorname'>mathew orleans</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>And the code doesnt run on ANDROID , it just shows the titanium splash screen.</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 22nd 2013, 4:49:45 pm">January 22nd 2013</span>
											by <span class='authorname'>mathew orleans</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-254897">
				
						<section>
							<p>Although this example has a menu you can easily, adapt it to use buttons on the home screen.</p>
<p><a href="https:&#x2F;&#x2F;bitbucket.org&#x2F;softlywired&#x2F;ticustommenu">ticustommenu</a>â¦.</p>
<p>The aim is to only have the window you want open at once.. </p>
<p>Hope this helps</p>
<p>T</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="January 18th 2013, 6:56:40 pm">January 18th 2013</span>
								by <span class='authorname'>Trevor Ward</span><br>
								<a class="icon-bg icon-link" href="question/147116/best-practices-to-structure-a-single-window-app.html#answer-254897" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Hi Trevor ,</p>
<p>Thanks for showing me the way but  its a bit complex . Can you pls help me considering the example of this <a href="http:&#x2F;&#x2F;imageshack.us&#x2F;photo&#x2F;my-images&#x2F;841&#x2F;1nobackground.png&#x2F;"><strong>PIC</strong></a>. Each button will open a new window .</p>
<p>Thanks</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 19th 2013, 7:38:20 am">January 19th 2013</span>
											by <span class='authorname'>mathew orleans</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
