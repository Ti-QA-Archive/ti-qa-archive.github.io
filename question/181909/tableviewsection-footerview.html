<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>TableViewSection FooterView » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>TableViewSection FooterView</h1>
		</header>
		<section>
			<p>Hello,<br>I have a tableview, consisting of numerous tableviewsections. Each section contains one row, and each row has a button on it. If I click the button, the section adds a footerview to itself. pressing the button again kills the footer view. this all works perfectly.</p>
<p>If a user adds a footerview to a section that is not the top, and then adds a footerview to a cell above it, then the footerview for the lower section(s) drop to the bottom of the window. If the user scrolls or clicks the button for the broken section, it corrects itself. It is almost like, when the section moves, to give room to the footerview above it, its footerview is disconnected, and drops to bottom:0. Once the table is redrawn, it fixes itself.</p>
<p>Why does this happen and how can I fix it?</p>
<pre><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">createExpandableTable</span><span class="hljs-params">(data)</span> </span>{
    <span class="hljs-keyword">var</span> _view = Ti.UI.createView({backgroundColor:<span class="hljs-string">"white"</span>,top:<span class="hljs-number">45</span>,bottom:<span class="hljs-number">45</span>});
    _view.showDetail = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span></span>{
        <span class="hljs-keyword">var</span> sectionIndex = e.source.index;
        <span class="hljs-keyword">var</span> section = _view.table.data[sectionIndex];
        <span class="hljs-keyword">if</span> (section.isOpen){
            section.setFooterView(Ti.UI.createView({
                top:<span class="hljs-number">0</span>,
                height:<span class="hljs-number">0</span>
            }));
            section.isOpen=<span class="hljs-literal">false</span>;
        }<span class="hljs-keyword">else</span>{
            <span class="hljs-keyword">var</span> height = <span class="hljs-number">20</span>;
            section.setFooterView(Ti.UI.createView({
                backgroundColor:<span class="hljs-string">'black'</span>,
                top:<span class="hljs-number">0</span>,
                height:height
            }));
            section.isOpen=<span class="hljs-literal">true</span>;
        }
    };
    <span class="hljs-keyword">var</span> rows = [];
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i=<span class="hljs-number">0</span>;i&lt;data.length;i++)
    {
        <span class="hljs-keyword">var</span> section = Ti.UI.createTableViewSection({isOpen:<span class="hljs-literal">false</span>});
        <span class="hljs-keyword">var</span> row = Ti.UI.createTableViewRow({title:data[i]});
        <span class="hljs-keyword">var</span> button = Ti.UI.createButton({right:<span class="hljs-number">15</span>,style:Ti.UI.iPhone.SystemButton.DISCLOSURE,index:i});
        button.addEventListener(<span class="hljs-string">'click'</span>,_view.showDetail);
        row.add(button);
        button=<span class="hljs-literal">null</span>;
        section.add(row);
        rows.push(section);
        row=<span class="hljs-literal">null</span>;
        section=<span class="hljs-literal">null</span>;
    }
    _view.table= Ti.UI.createTableView({data:rows});
    _view.add(_view.table);
    <span class="hljs-keyword">return</span> _view;
};
</code></pre>
		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="April 8th 2015, 6:44:03 pm">April 8th 2015</span>
				by <span class='authorname'>derick alt</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>ios</span></li>
					
						<li><span class='tagname'>tableview</span></li>
					
						<li><span class='tagname'>tableviewrow</span></li>
					
						<li><span class='tagname'>titanium studio</span></li>
					
						<li><span class='tagname'>view</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>0</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>0 Answers</h3>

	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
