<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>ToolBar for Android » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>ToolBar for Android</h1>
		</header>
		<section>
			<p>I&#39;m an iOS developer new to Titanium. I have an iPhone app that I would like to port to Android as a test case for using Titanium. The opening view of the app is an image with a ToolBar at the bottom. I would like to make the code as cross platform as possible. The attached code produces the correct view in the iPhone emulator but not the Android emulator or device. What am I doing wrong? Thanks for your help.</p>
<pre><code class="hljs">Titanium.UI.setBackgroundColor(<span class="hljs-string">'#000'</span>);

var win1 = Titanium.UI.createWindow({  
    title:<span class="hljs-string">'Tool Bar From Scratch'</span>,
    backgroundColor:<span class="hljs-string">'#fff'</span>
});

var toolBarView = Titanium.UI.createView({
    bottom:<span class="hljs-number">0</span>,
    <span class="hljs-variable">height</span>:<span class="hljs-string">'40'</span>,
    <span class="hljs-variable">width</span>:<span class="hljs-string">'320'</span>,
    backgroundColor:<span class="hljs-string">'#777'</span>
})

var aButton = Ti.UI.createButton({
    title:<span class="hljs-string">'My Sounds'</span>,
    <span class="hljs-variable">height</span>:<span class="hljs-string">'30'</span>,
    <span class="hljs-variable">width</span>:<span class="hljs-string">'100'</span>,
    top:<span class="hljs-string">'5'</span>,
    left:<span class="hljs-string">'20'</span>
});

var bButton = Ti.UI.createButton({
    title:<span class="hljs-string">'Soundscape Sounds'</span>,
    <span class="hljs-variable">height</span>:<span class="hljs-string">'30'</span>,
    <span class="hljs-variable">width</span>:<span class="hljs-string">'170'</span>,
    top:<span class="hljs-string">'5'</span>,
    right:<span class="hljs-string">'20'</span>,
});

aButton.addEventListener(<span class="hljs-string">"click"</span>, function(e){
    alert(e.source + <span class="hljs-string">"Was Clicked"</span>);
});

bButton.addEventListener(<span class="hljs-string">"click"</span>, function(e){
    alert(e.source + <span class="hljs-string">"Was Clicked"</span>);
});

toolBarView.<span class="hljs-built_in">add</span>(aButton);
toolBarView.<span class="hljs-built_in">add</span>(bButton);

var imageView = Titanium.UI.createImageView({
<span class="hljs-built_in">image</span>:<span class="hljs-string">"/Images/SoundscapeImage320x460.png"</span>
});
imageView.<span class="hljs-built_in">add</span>(toolBarView);

win1.<span class="hljs-built_in">add</span>(imageView);
win1.<span class="hljs-built_in">open</span>;
</code></pre>
		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="August 30th 2011, 12:49:41 pm">August 30th 2011</span>
				by <span class='authorname'>William Kautter</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>mobile</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>3</span> Votes</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-221300">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>Hi,</p>
<p>Sorry that I only just found your question two months later; you&#39;ve probably already found the answer?</p>
<p>I resolved your problem by adding the toolbarView to the window and not the image view.</p>
<p>For some reason, in Android, nothing will appear on top of an imageView.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="October 19th 2011, 4:14:27 am">October 19th 2011</span>
								by <span class='authorname'>Chris Dunstall</span><br>
								<a class="icon-bg icon-link" href="question/124934/toolbar-for-android#answer-221300" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Chris,</p>
<p>Thanks for the info. Actually I didn&#39;t resolve the issue as I&#39;ve been on another project but hope to get back to this shortly. It will be great to get this working.</p>
<p>Bill</p>
</p>
										<div class="author">
											&mdash; commented <span title="October 19th 2011, 10:10:32 am">October 19th 2011</span>
											by <span class='authorname'>William Kautter</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-217743">
				
						<section>
							<p>The problem is that android does not have a native UI component for a toolbar, and hence Titanium cannot map your code to a native widget like it can with iOS.  If you look closely at the top right of each API page such as the one for the <a href="http:&#x2F;&#x2F;developer.appcelerator.com&#x2F;apidoc&#x2F;mobile&#x2F;latest&#x2F;Titanium.UI.Toolbar-object">Toolbar</a>, there is only an apple icon and not an android icon.  </p>
<p>This is the (all too subtle) indication it is only supported on iOS.</p>
<p>Under Android you have to roll your own view with the look you want.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 30th 2011, 12:56:54 pm">August 30th 2011</span>
								by <span class='authorname'>Doug Handy</span><br>
								<a class="icon-bg icon-link" href="question/124934/toolbar-for-android#answer-217743" rel="permalink">permalink</a>
							</div>

							<h5>5 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Doug, notice that he actually doesn&#39;t create UI component &quot;toolbar&quot; (he only call regular view that way). So, actual error is somewhere else. :)</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 30th 2011, 1:02:41 pm">August 30th 2011</span>
											by <span class='authorname'>Ivan Škugor</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Doug,</p>
<p>Thanks for the response. I thought I did &quot;roll my own&quot;. I created a generic view and put two generic buttons in it.</p>
<p>Bill</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 30th 2011, 1:05:12 pm">August 30th 2011</span>
											by <span class='authorname'>William Kautter</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I realize that win1.open should be win1.open();, that was a paste error, and also pixel values should be i.e. &#39;200dp&#39; rather than just plain 200. With these changes the results are the same. Any assistance would be greatly appreciated.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 30th 2011, 4:38:35 pm">August 30th 2011</span>
											by <span class='authorname'>William Kautter</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I don&#39;t know why I did not get notification comments were added to this 3 hours ago, but just got the notice on this one.  Obviously, I did not pay enough attention to the code and just jumped at the &quot;toolbar&quot; in the paragraph saying an iOS app was being ported to android.  Sorry about that.</p>
<p>A few suggestions:</p>
<ul>
<li>For dimensions, do not quote a number unless using a suffix like dp or %, so use 40 instead of &#39;40&#39; (or use &#39;40dp&#39;)</li>
<li>For width, do not hard code 320.  If you want the full width, use both left:0 and right:0 but leave off the width property.  That will adjust based on the current device and even orientation changes.</li>
</ul>
<p>As you already said, use win1.open() instead of win1.open</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 30th 2011, 4:52:29 pm">August 30th 2011</span>
											by <span class='authorname'>Doug Handy</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Doug,</p>
<p>Thanks for the additional info. Unfortunately none of these changes makes a difference. The toolBar view and the buttons are not visible at all in the Android emulator. These seem like basic UI elements that should work in both environments. Why is that not the case?</p>
<p>Best regards,</p>
<p>Bill</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 30th 2011, 4:58:57 pm">August 30th 2011</span>
											by <span class='authorname'>William Kautter</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
