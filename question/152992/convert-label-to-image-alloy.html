<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Convert Label to Image (Alloy) Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Convert Label to Image (Alloy)</h1>
		</header>
		<section>
			<p>I have lib that can resize image on pinch, when I use it for label, it only resize its border but not the text. Thus I was thinking to convert label to image first (by using label.toImage()). So far my code below does not work and it only remove the label but does not add new created imageview:</p>
<pre><code class="hljs">function doneTextEditing(e) {
    if (Alloy.Globals.currentTextFocusedNode) {
        var <span class="hljs-keyword">node</span><span class="hljs-identifier"> </span><span class="hljs-title">= Alloy</span>.Globals.currentTextFocusedNode;
        var blobLabelText = <span class="hljs-keyword">node</span>.<span class="hljs-identifier"></span><span class="hljs-title">toImage</span>();
        var <span class="hljs-operator">date</span> = new <span class="hljs-operator">Date</span>();
        var temp_target = Titanium.Filesystem.createTempFile(Ti.Filesystem.applicationDataDirectory, <span class="hljs-string">"img_"</span> + <span class="hljs-operator">date</span>.getTime().toString() + <span class="hljs-string">".jpg"</span>);
        temp_target.<span class="hljs-operator">write</span>(blobLabelText);

        var imageView = Ti.UI.createImageView({
            image : temp_target.nativePath,
            height : <span class="hljs-keyword">node</span>.<span class="hljs-identifier"></span><span class="hljs-title">size</span>.height,
            width : <span class="hljs-keyword">node</span>.<span class="hljs-identifier"></span><span class="hljs-title">size</span>.width,
            top : <span class="hljs-keyword">node</span>.<span class="hljs-identifier"></span><span class="hljs-title">top</span>,
            left : <span class="hljs-keyword">node</span>.<span class="hljs-identifier"></span><span class="hljs-title">left</span>,
            zIndex : <span class="hljs-keyword">node</span>.<span class="hljs-identifier"></span><span class="hljs-title">getZIndex</span>()
        })
        $.pictureView.remove(Alloy.Globals.currentTextFocusedNode);
        $.pictureView.add(imageView);
        temp_target.deleteFile();
        Alloy.Globals.currentTextFocusedNode = imageView;
    }
}
</code></pre><p>So how do you do it if you want to convert a label as an image.</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="May 29th 2013, 10:23:12 am">May 29th 2013</span>
				by <span class='authorname'>archileus tee</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>alloy</span></li>
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>convert</span></li>
					
						<li><span class='tagname'>image</span></li>
					
						<li><span class='tagname'>label</span></li>
					
				</ul>
			

			<section>
				<h5>1 Comment</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Will your code work in the traditional way?</p>
</div>
							<div class="author">
								&mdash; commented <span title="May 29th 2013, 11:03:02 am">May 29th 2013</span>
								by <span class='authorname'>Jiale He</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-263578">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>Sorry, my mistake, setImage actually accept blob too. so there is no need to go saving the image first.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="May 30th 2013, 12:56:02 am">May 30th 2013</span>
								by <span class='authorname'>archileus tee</span><br>
								<a class="icon-bg icon-link" href="question/152992/convert-label-to-image-alloy#answer-263578" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
