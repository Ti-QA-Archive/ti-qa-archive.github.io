<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Using a mapview with a heavyweight window on Android? » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Using a mapview with a heavyweight window on Android?</h1>
		</header>
		<section>
			<p>I&#39;m having a strange problem on Android. My app has for windows, one of the windows displays a map.</p>
<p>For the user to be able to navigate using the device&#39;s back button it seems that the window has to be a heavyweight one.</p>
<p>But there seems to be a bug as the map tiles do not load when panned if the map is in a heavyweight window.</p>
<p>If I make the window lightweight then the map works fine but when the user tries to navigate between windows and hits the hardware back button the app closes instead of the window closing.</p>
<p>It seems the only way I can have a map on Android is either with a broken navigation system (lightweight) or a broken map (heavyweight) where the navigation works.</p>
<p>This seems crazy, how can I display a map window where the navigation works?</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="November 18th 2011, 1:22:09 pm">November 18th 2011</span>
				by <span class='authorname'>Cameron Cooke</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>mapview</span></li>
					
						<li><span class='tagname'>navigation</span></li>
					
						<li><span class='tagname'>window</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>2</span> Votes</div>
			<div class="answers"><span>3</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>3 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-236589">
				
						<section>
							<p>We had the same problem. We solved it adding the MapView to the window AFTER the window has opened, like this:</p>
<pre><code class="hljs"><span class="hljs-built_in">window</span>.addEventListener(<span class="hljs-string">"open"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
    <span class="hljs-built_in">window</span>.add(mapView);
}
</code></pre><p>Hope it helps :)</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="April 19th 2012, 9:29:33 am">April 19th 2012</span>
								by <span class='authorname'>David Pozo</span><br>
								<a class="icon-bg icon-link" href="question/128414/using-a-mapview-with-a-heavyweight-window-on-android#answer-236589" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-223682">
				
						<section>
							<p>Have had exactly the same issue.  The only resolution&#x2F;hack was to handle the &#39;android:back&#39; event from the main UI window (that <em>is</em> heavyweight)</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="November 18th 2011, 1:35:25 pm">November 18th 2011</span>
								by <span class='authorname'>Nick Milner</span><br>
								<a class="icon-bg icon-link" href="question/128414/using-a-mapview-with-a-heavyweight-window-on-android#answer-223682" rel="permalink">permalink</a>
							</div>

							<h5>2 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>I&#39;ve give that a go. Seems like quite a major bug. Would love to know if the Appcelerator folks are working on a fix for this.</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 18th 2011, 2:01:32 pm">November 18th 2011</span>
											by <span class='authorname'>Cameron Cooke</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I know - android mapView is not getting much love from the Appcelerator folk.  Performance is abysmal too (but check out this for a fantasic improvement in speed http:&#x2F;&#x2F;developer.appcelerator.com&#x2F;question&#x2F;123043&#x2F;addannotations-on-android)</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 18th 2011, 3:15:28 pm">November 18th 2011</span>
											by <span class='authorname'>Nick Milner</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-223683">
				
						<section>
							<p>I have a map using the heavyweight window and it works fine. Do you have your google maps API key included in your tiapp.xml file? I was just starting a new application the other day and went to test… couldn&#39;t figure out why the window wasn&#39;t showing any tiles when I zoomed&#x2F;panned… the component I was using was taken directly from another app I have where it works fine… I had forgotten about the Maps API key. Once I put it in the tiapp.xml file, everything worked perfectly.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="November 18th 2011, 1:38:40 pm">November 18th 2011</span>
								by <span class='authorname'>Ray Belisle</span><br>
								<a class="icon-bg icon-link" href="question/128414/using-a-mapview-with-a-heavyweight-window-on-android#answer-223683" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Yeah map works fine as long as the window is lightweight, as soon as I use a heavyweight window the loading of tiles stops working when panning. This is a known issue and there is a bug report for it. The question I had was how to use a lightweight window for the map and still preserve heavyweight navigation.</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 18th 2011, 1:59:35 pm">November 18th 2011</span>
											by <span class='authorname'>Cameron Cooke</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
