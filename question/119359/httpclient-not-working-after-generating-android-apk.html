<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Httpclient not working after generating android apk » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Httpclient not working after generating android apk</h1>
		</header>
		<section>
			<p>I ran into the following problem: our app was working fine in both emulator and device (tested through Run on Device).  We were using Titanium SDK 1.6.1.</p>
<p>We then generated the apk through Distribute (following all the necessary steps, keystores and all that). When installing the application through the apk installer (transferred to the a Motorola Milestone via USB), we found that the app would hang at splash screen, due to known issue of NPE. The only way we found to overcome that was moving to Titanium SDK 1.6.2.</p>
<p>But, another problem arose. After generating the apk file through Distribute, my app won&#39;t connect to the internet. I have some code connecting to a server for login purposes, and it has always worked. But now, the httpclient seems to be failing. I cannot get a connection, in both emulator or device. </p>
<p>Now, if I do a rebuild of the code, it will start working again. As soon as I create the apk, it fails again. I dont know where the problem could be.<br>I tried this in tiapp.xml, but hasnt made any difference:</p>
<pre><code class="hljs"><span class="hljs-tag">&lt;<span class="hljs-title">android</span> <span class="hljs-attribute">xmlns:android</span>=<span class="hljs-value">"http://schemas.android.com/apk/res/android"</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">manifest</span>&gt;</span> 
<span class="hljs-tag">&lt;<span class="hljs-title">uses-permission</span> <span class="hljs-attribute">android:name</span>=<span class="hljs-value">"android.permission.INTERNET"</span>/&gt;</span> 
<span class="hljs-tag">&lt;/<span class="hljs-title">manifest</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">android</span>&gt;</span>
</code></pre><p>Any help would be appreciated, thank you very much guys…</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="May 6th 2011, 1:41:41 pm">May 6th 2011</span>
				by <span class='authorname'>marcos moline</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>failed;android</span></li>
					
						<li><span class='tagname'>titanium mobile</span></li>
					
						<li><span class='tagname'>titanium.network.httpclient</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>1</span> Vote</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-221763">
				
						<section>
							<p>I forgot I asked this 6 months ago. The problem was on our server. We were implementing https, and somehow this prevented our app to work properly. So we went back to http and the problem was solved.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="October 24th 2011, 6:14:50 pm">October 24th 2011</span>
								by <span class='authorname'>marcos moline</span><br>
								<a class="icon-bg icon-link" href="question/119359/httpclient-not-working-after-generating-android-apk#answer-221763" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
