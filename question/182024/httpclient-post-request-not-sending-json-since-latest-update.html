<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>HttpClient Post request not sending JSON since latest update Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>HttpClient Post request not sending JSON since latest update</h1>
		</header>
		<section>
			<p>I have an app built on Android and IOS and the HTTP requests have been working fine.<br>Today i installed the latest node.js updates and suddenly this code is sending null in the POST request on iOS but still works perfectly fine on Android? The code is the same on both platforms. </p>
<p>I don&#39;t get an error as the API returns that the post is sending null. </p>
<pre><code class="hljs">    <span class="hljs-keyword">var</span> reg1Post = <span class="hljs-built_in">JSON</span>.stringify({
    <span class="hljs-string">'ApplicationKey'</span>: appKey,
    <span class="hljs-string">'Username'</span>:$.regEmail.value,
    <span class="hljs-string">'languageCode'</span>:Ti.App.Properties.getString(<span class="hljs-string">"locale"</span>),
    <span class="hljs-string">'languageID'</span>:Ti.App.Properties.getString(<span class="hljs-string">"localeID"</span>)}); 

    <span class="hljs-keyword">var</span> webapi_reg1 = Ti.Network.createHTTPClient({
    onload: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-comment">// handle the response</span>
        <span class="hljs-keyword">var</span> obj = <span class="hljs-built_in">JSON</span>.parse(<span class="hljs-keyword">this</span>.responseText);
        Ti.API.info(<span class="hljs-keyword">this</span>.responseText);

    },
    onerror: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
        Ti.API.info(<span class="hljs-string">"REG1 ERROR &gt;&gt; "</span> + e.error);
        Ti.API.info(<span class="hljs-keyword">this</span>.responseText);
    }
});

webapi_reg1.setRequestHeader(<span class="hljs-string">"Content-Type"</span>, <span class="hljs-string">"application/json; charset=utf8-8"</span>);
webapi_reg1.open(<span class="hljs-string">"POST"</span>, webURL + <span class="hljs-string">"/API/RegisterAccount"</span>);
webapi_reg1.send(reg1Post);
Ti.API.info(webURL + <span class="hljs-string">"/API/RegisterAccount"</span>);
</code></pre>
		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="April 15th 2015, 2:13:04 pm">April 15th 2015</span>
				by <span class='authorname'>Ian Newman</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>httpclient</span></li>
					
						<li><span class='tagname'>ios</span></li>
					
						<li><span class='tagname'>node.js</span></li>
					
				</ul>
			

			<section>
				<h5>3 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Please install a proxy like Burb suite to track the traffic between your device and the server. The nodejs module is not in relation to SDK functionality</p>
</div>
							<div class="author">
								&mdash; commented <span title="April 15th 2015, 2:19:08 pm">April 15th 2015</span>
								by <span class='authorname'>Rainer Schleevoigt</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Thanks, i didn&#39;t think there could be anything in the update that would cause this but nothing else seems to have changed.</p>
</div>
							<div class="author">
								&mdash; commented <span title="April 16th 2015, 6:42:06 am">April 16th 2015</span>
								by <span class='authorname'>Ian Newman</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Further testing does confirm that the iPhone is not sending the JSON data to the web service?</p>
</div>
							<div class="author">
								&mdash; commented <span title="April 16th 2015, 8:11:30 pm">April 16th 2015</span>
								by <span class='authorname'>Ian Newman</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>0</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>0 Answers</h3>

	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
