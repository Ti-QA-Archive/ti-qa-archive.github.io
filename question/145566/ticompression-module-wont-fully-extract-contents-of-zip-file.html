<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Ti.Compression Module won&#39;t fully extract contents of zip file Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Ti.Compression Module won&#39;t fully extract contents of zip file</h1>
		</header>
		<section>
			<p>I&#39;m attempting to use the Ti.Compression module but I am having problems.  I&#39;m following the example code to extract a zip file on the device, but it doesn&#39;t fully extract the file.  </p>
<p>For example, if the zip file contains 100 files, the first time it will only extract 7.  Sometimes it extracts 40, sometimes it extracts 70, and sometimes the entire file is extracted.  I can&#39;t seem to find any pattern or predictable behavior.  Has anyone else had this issue?</p>
<p>I&#39;m using the following code:</p>
<pre><code class="hljs">exports.extractArchive = function(filename,callback) {
    //compression module
    <span class="hljs-keyword">var</span> <span class="hljs-type">Compression</span> = require('ti.compression');
    //<span class="hljs-type">set</span> the directory <span class="hljs-keyword">and</span> file paths
    <span class="hljs-keyword">var</span> directory = <span class="hljs-type">Ti</span>.<span class="hljs-type">Filesystem</span>.applicationDataDirectory;
    <span class="hljs-keyword">var</span> zipFile = directory + '/' + filename;
    //unzip the file
    <span class="hljs-keyword">var</span> <span class="hljs-literal">result</span> = <span class="hljs-type">Compression</span>.unzip(directory, zipFile, <span class="hljs-literal">true</span>);
    <span class="hljs-keyword">if</span> (<span class="hljs-literal">result</span> == 'success') {
        callback(filename);
    }
};
</code></pre><p>In the callback I&#39;m just returning the number of files in the directory.  Let me know if you need me to include the code.</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="December 10th 2012, 4:42:16 pm">December 10th 2012</span>
				by <span class='authorname'>Ryan Jacobs</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>file</span></li>
					
						<li><span class='tagname'>mobile</span></li>
					
				</ul>
			

			<section>
				<h5>5 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>I didn&#39;t think to do this before, but I tried again and output the result.  It says &quot;java.util.zip.ZipException: CRC mismatch&quot;</p>
</div>
							<div class="author">
								&mdash; commented <span title="December 10th 2012, 6:46:12 pm">December 10th 2012</span>
								by <span class='authorname'>Ryan Jacobs</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Hi, you may contact the developer of this module for further and quick help.</p>
</div>
							<div class="author">
								&mdash; commented <span title="December 11th 2012, 10:02:24 am">December 11th 2012</span>
								by <span class='authorname'>Ashish Nigam</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Thanks for the reply, Ashish.  Appcelerator is the developer, and unfortunately I have been unable to get a response from them.</p>
</div>
							<div class="author">
								&mdash; commented <span title="December 11th 2012, 10:32:45 am">December 11th 2012</span>
								by <span class='authorname'>Ryan Jacobs</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>How big is the file you are attempting to extract? I&#39;ve noticed that its fine with smaller files but for a bigger files it only extracts them occasionally</p>
</div>
							<div class="author">
								&mdash; commented <span title="February 8th 2013, 9:35:07 am">February 8th 2013</span>
								by <span class='authorname'>Michael Browne</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>The file was around 60mb.</p>
</div>
							<div class="author">
								&mdash; commented <span title="February 8th 2013, 11:52:00 am">February 8th 2013</span>
								by <span class='authorname'>Ryan Jacobs</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-252571">
				
						<section>
							<p>Did you find a solution to this?? It seems it is a problem in the module&#39;s code..</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="December 12th 2012, 5:36:25 am">December 12th 2012</span>
								by <span class='authorname'>Michael Massalas</span><br>
								<a class="icon-bg icon-link" href="question/145566/ticompression-module-wont-fully-extract-contents-of-zip-file#answer-252571" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Unfortunately, I have not.  I&#39;m probably going to look for another solution.</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 12th 2012, 10:26:34 am">December 12th 2012</span>
											by <span class='authorname'>Ryan Jacobs</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
