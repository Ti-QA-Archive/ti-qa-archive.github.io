<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Expandable Table View with customized rows Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Expandable Table View with customized rows</h1>
		</header>
		<section>
			<p>Hi! How can I create a table with custom rows that can expand and display sub rows? where the rows contains checkboxes, images and labels. I hope my question is clear.</p>
<p>Thanks</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="March 28th 2014, 12:56:53 pm">March 28th 2014</span>
				by <span class='authorname'>nayram mensah</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>custom</span></li>
					
						<li><span class='tagname'>row</span></li>
					
						<li><span class='tagname'>tableview</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>1</span> Vote</div>
			<div class="answers"><span>3</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>3 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-277118">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>Hi,</p>
<p>Please check the below code. I hope, it will help to you</p>
<pre><code class="hljs">Titanium.UI.setBackgroundColor(<span class="hljs-string">'#000'</span>);

var win = Titanium.UI.createWindow({  
<span class="hljs-label">    title:</span><span class="hljs-string">'Tab 1'</span>,
<span class="hljs-label">    backgroundColor:</span><span class="hljs-string">'#fff'</span>,
<span class="hljs-label">    layout:</span><span class="hljs-string">'vertical'</span>
});

var Data=[
    {
<span class="hljs-label">        title:</span><span class="hljs-string">"Fruit"</span>,
<span class="hljs-label">        option:</span><span class="hljs-number">0</span>,
<span class="hljs-label">        press:</span><span class="hljs-number">0</span>,
<span class="hljs-label">        element:</span>[
        {<span class="hljs-string">name:</span><span class="hljs-string">'Apple'</span>,<span class="hljs-string">image:</span><span class="hljs-string">'KS_nav_views.png'</span>},
        {<span class="hljs-string">name:</span><span class="hljs-string">'Mango'</span>,<span class="hljs-string">image:</span><span class="hljs-string">'KS_nav_views.png'</span>},
        {<span class="hljs-string">name:</span><span class="hljs-string">'Banana'</span>,<span class="hljs-string">image:</span><span class="hljs-string">'KS_nav_views.png'</span>},
        {<span class="hljs-string">name:</span><span class="hljs-string">'Orange'</span>,<span class="hljs-string">image:</span><span class="hljs-string">'KS_nav_views.png'</span>}]
    },

    {
<span class="hljs-label">        title:</span><span class="hljs-string">'Vegetable'</span>,
<span class="hljs-label">        press:</span><span class="hljs-number">0</span>,
<span class="hljs-label">        option:</span><span class="hljs-number">1</span>,
<span class="hljs-label">        element:</span>[
        {<span class="hljs-string">name:</span><span class="hljs-string">'Carrot'</span>,<span class="hljs-string">image:</span><span class="hljs-string">'KS_nav_ui.png'</span>},
        {<span class="hljs-string">name:</span><span class="hljs-string">'Potatoe'</span>,<span class="hljs-string">image:</span><span class="hljs-string">'KS_nav_ui.png'</span>},
        {<span class="hljs-string">name:</span><span class="hljs-string">'Bringal'</span>,<span class="hljs-string">image:</span><span class="hljs-string">'KS_nav_ui.png'</span>},
        {<span class="hljs-string">name:</span><span class="hljs-string">'Cabbage'</span>,<span class="hljs-string">image:</span><span class="hljs-string">'KS_nav_ui.png'</span>}]
    }
];


var table = Ti.UI.createTableView({
<span class="hljs-label">  data:</span>Data
});


table.addEventListener(<span class="hljs-string">'click'</span>, function(e) 
{
    <span class="hljs-keyword">if</span>(Data[e.rowData.option].press==<span class="hljs-number">0</span>)
    {
        Data[e.rowData.option].press=<span class="hljs-number">1</span>;


        <span class="hljs-keyword">for</span> (var i=<span class="hljs-number">0</span>; i &lt; e.rowData.element.length; i++)
        {
            var row = Ti.UI.createTableViewRow({
                <span class="hljs-string">layout :</span> <span class="hljs-string">'vertical'</span>
            });
            var lbl=Ti.UI.createLabel({
<span class="hljs-label">                text:</span>e.rowData.element[i].name,
<span class="hljs-label">                height:</span>Ti.UI.SIZE,
<span class="hljs-label">                color:</span><span class="hljs-string">'red'</span>,
<span class="hljs-label">                font:</span>
                {
<span class="hljs-label">                    weight:</span><span class="hljs-string">'bold'</span>,
                }
            });

            var anImageView = Ti.UI.createImageView({
                <span class="hljs-string">image :</span> e.rowData.element[i].image,
            });

            var Switch = Ti.UI.createSwitch({
<span class="hljs-label">              value:</span><span class="hljs-literal">true</span>,
<span class="hljs-label">              style:</span>Titanium.UI.Android.SWITCH_STYLE_CHECKBOX
            });
            row.add(lbl);
            row.add(anImageView);
            row.add(Switch);
            table.insertRowAfter(e.index+i,row);

        };

    }
    <span class="hljs-keyword">else</span>
    {
        Data[e.rowData.option].press=<span class="hljs-number">0</span>;
        <span class="hljs-keyword">for</span> (var i =<span class="hljs-number">0</span>;i&lt; e.rowData.element.length;i++) 
        {
            table.deleteRow(e.index+<span class="hljs-number">1</span>);
        }
    }
});


win.add(table);
win.open();
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="March 28th 2014, 2:30:02 pm">March 28th 2014</span>
								by <span class='authorname'>Amimul Hossain</span><br>
								<a class="icon-bg icon-link" href="question/164030/expandable-table-view-with-customized-rows#answer-277118" rel="permalink">permalink</a>
							</div>

							<h5>3 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Hi,</p>
<p>Here i have used this code only for testing purpose. Please change the label, image as your need. By this way you can expand and narrow.</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 28th 2014, 2:40:48 pm">March 28th 2014</span>
											by <span class='authorname'>Amimul Hossain</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Thanku its working for me.</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 8th 2014, 10:39:04 am">May 8th 2014</span>
											by <span class='authorname'>Aparna M</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Hi Amimul,</p>
<p>How to expand and collapse the rowdata elements.?</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 14th 2014, 10:59:00 am">May 14th 2014</span>
											by <span class='authorname'>Aparna M</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-277148">
				
						<section>
							<p>Hi Nayram,<br>Please try the following code it will help you to get the expandable table view with one sub row. Hope it helps you. Rest you can change the code as per you needs.</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> <span class="hljs-built_in">window</span>;
<span class="hljs-keyword">if</span> (Ti.Platform.osname != <span class="hljs-string">'android'</span>) {
    <span class="hljs-built_in">window</span> = Ti.UI.createWindow({
        height : Ti.UI.FILL,
        width : Ti.UI.FILL,
        backgroundColor : <span class="hljs-string">'white'</span>,
        title : <span class="hljs-string">'Main Window'</span>
    });

    <span class="hljs-keyword">var</span> rightNav = Ti.UI.createButton({
        systemButton : Ti.UI.iPhone.SystemButton.REFRESH
    });

    rightNav.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
        rowdata = [];
        lastRowClicked = <span class="hljs-literal">undefined</span>;
        row = <span class="hljs-literal">undefined</span>;
        insertRows();
    });

    <span class="hljs-built_in">window</span>.setRightNavButton(rightNav);

    <span class="hljs-keyword">var</span> navigationBar = Ti.UI.iOS.createNavigationWindow({
        <span class="hljs-built_in">window</span> : <span class="hljs-built_in">window</span>
    });

    navigationBar.open();

} <span class="hljs-keyword">else</span> {
    <span class="hljs-built_in">window</span> = Ti.UI.createWindow({
        height : Ti.UI.FILL,
        width : Ti.UI.FILL,
        backgroundColor : <span class="hljs-string">'white'</span>,
        title : <span class="hljs-string">'Main Window'</span>
    });

    <span class="hljs-built_in">window</span>.open();
}

<span class="hljs-keyword">var</span> rowTitles = [<span class="hljs-string">'one'</span>, <span class="hljs-string">'two'</span>, <span class="hljs-string">'three'</span>, <span class="hljs-string">'four'</span>, <span class="hljs-string">'five'</span>];
<span class="hljs-keyword">var</span> rowdata = [];
<span class="hljs-keyword">var</span> tableView = Ti.UI.createTableView();
<span class="hljs-built_in">window</span>.add(tableView);

<span class="hljs-keyword">var</span> lastRowClicked = <span class="hljs-literal">undefined</span>;

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">insertRows</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>, j = rowTitles.length; i &lt; j; i++) {
        rowdata[i] = Ti.UI.createTableViewRow({
            title : rowTitles[i],
            color : <span class="hljs-string">'blue'</span>,
            isAnimated : <span class="hljs-literal">false</span>,
            mainRow : <span class="hljs-literal">true</span>,
            height : <span class="hljs-number">60</span>,
            rightImage : <span class="hljs-string">'arrow_right_selected.png'</span>
        });
    };
    tableView.setData(rowdata);
}

insertRows();
<span class="hljs-keyword">var</span> row = <span class="hljs-literal">undefined</span>;
tableView.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{

    <span class="hljs-keyword">if</span> (lastRowClicked == <span class="hljs-literal">undefined</span>) {
        <span class="hljs-keyword">if</span> (e.row.mainRow) {
            <span class="hljs-keyword">if</span> (!e.row.isAnimated) {
                row = createRow();
                row.id = e.index + <span class="hljs-number">1</span>;
                <span class="hljs-keyword">this</span>.insertRowAfter(e.index, row);

                lastRowClicked = e.row;
                e.row.isAnimated = <span class="hljs-literal">true</span>;
                e.row.rightImage = <span class="hljs-string">'arrow_selected_collapsed.png'</span>;
            }
        } <span class="hljs-keyword">else</span> {
            Ti.API.info(<span class="hljs-string">'child row clicked '</span> + e.index);
        }
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">if</span> (e.row.mainRow) {
            <span class="hljs-keyword">if</span> (e.row.isAnimated) {
                <span class="hljs-keyword">this</span>.deleteRow(row.id);
                e.row.isAnimated = <span class="hljs-literal">false</span>;
                e.row.rightImage = <span class="hljs-string">'arrow_right_selected.png'</span>;
                lastRowClicked = <span class="hljs-literal">undefined</span>;
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">if</span> (e.index &gt; row.id) {
                    <span class="hljs-keyword">this</span>.deleteRow(row.id);
                    row = createRow();
                    <span class="hljs-keyword">this</span>.insertRowAfter(e.index - <span class="hljs-number">1</span>, row);
                    row.id = e.index;
                    lastRowClicked.isAnimated = <span class="hljs-literal">false</span>;
                    lastRowClicked.rightImage = <span class="hljs-string">'arrow_right_selected.png'</span>;
                    e.row.rightImage = <span class="hljs-string">'arrow_selected_collapsed.png'</span>;
                    lastRowClicked = e.row;
                    e.row.isAnimated = <span class="hljs-literal">true</span>;
                } <span class="hljs-keyword">else</span> {
                    <span class="hljs-keyword">this</span>.deleteRow(row.id);
                    lastRowClicked.rightImage = <span class="hljs-string">'arrow_right_selected.png'</span>;
                    e.row.rightImage = <span class="hljs-string">'arrow_selected_collapsed.png'</span>;
                    lastRowClicked.isAnimated = <span class="hljs-literal">false</span>;
                    lastRowClicked = <span class="hljs-literal">undefined</span>;
                    row = createRow();
                    row.id = e.index + <span class="hljs-number">1</span>;
                    <span class="hljs-keyword">this</span>.insertRowAfter(e.index, row);

                    lastRowClicked = e.row;
                    e.row.isAnimated = <span class="hljs-literal">true</span>;
                }
            }
        } <span class="hljs-keyword">else</span> {
            Ti.API.info(<span class="hljs-string">'child row clicked '</span> + e.index);
        }
    }
});

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">createRow</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">return</span> Ti.UI.createTableViewRow({
        title : <span class="hljs-string">'     Test Row'</span>,
        mainRow : <span class="hljs-literal">false</span>,
        color : <span class="hljs-string">'gray'</span>,
        font : {
            fontSie : <span class="hljs-number">12</span>,
            fontStyle : <span class="hljs-string">'italic'</span>
        },
        height : <span class="hljs-number">40</span>
    });
}
</code></pre><p>My Suggestion is to run this code as it is once.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="March 29th 2014, 4:58:57 pm">March 29th 2014</span>
								by <span class='authorname'>Ishan Singh</span><br>
								<a class="icon-bg icon-link" href="question/164030/expandable-table-view-with-customized-rows#answer-277148" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-277116">
				
						<section>
							<p>Hello  Nayram,</p>
<p>Yes, You can. You can do this following way</p>
<p>app.js</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> gallery = <span class="hljs-built_in">require</span>(<span class="hljs-string">'gallery'</span>);

<span class="hljs-keyword">var</span> win = Ti.UI.createWindow({
    title : <span class="hljs-string">'Gallery'</span>,
    backgroundColor : <span class="hljs-string">'#fff'</span>
});

<span class="hljs-keyword">var</span> table = Ti.UI.createTableView({

});
<span class="hljs-keyword">var</span> network = Ti.Network.createHTTPClient({
    onload : <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{

        <span class="hljs-keyword">var</span> jsonString = <span class="hljs-built_in">JSON</span>.parse(<span class="hljs-keyword">this</span>.responseText);
        tableRow = gallery.gallerys(jsonString);
        <span class="hljs-comment">// call to other module</span>

        table.setData(tableRow);
    },
    onerror : <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
        alert(<span class="hljs-string">'Connection Fail'</span>);
    },
    timeout : <span class="hljs-number">20000</span>
});

network.open(<span class="hljs-string">'GET'</span>, <span class="hljs-string">'http://gallery.mobile9.com/c/ringtones_4157/1/?view=json&amp;pg'</span>);

network.send();
win.add(table);
win.open();
</code></pre><p>gallery.js</p>
<pre><code class="hljs"><span class="hljs-keyword">exports</span>.gallerys = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(jsonString)</span> <span class="hljs-comment">{
    var tableRow = [];
    for (var i = 0; i &lt; jsonString.files.length; i++) {

        Ti.API.info('jsonString.files' + JSON.stringify(jsonString.files[i].author));
        var row = Ti.UI.createTableViewRow({
            layout : 'horizontal'
        }</span>);</span>

        <span class="hljs-keyword">var</span> view = Ti.UI.createImageView(<span class="hljs-comment">{
            width : 50,
            height : 50,
            left : 30,
            image : jsonString.files[i].thumb
        }</span>);

        <span class="hljs-keyword">var</span> <span class="hljs-keyword">label</span> = Ti.UI.createLabel(<span class="hljs-comment">{
            right : 10,
            text : jsonString.files[i].author
        }</span>);

        row.add(view);
        row.add(<span class="hljs-keyword">label</span>);
        tableRow.push(row);

    }
    return tableRow;
};
</code></pre><p>Please check my code. I hope it help to you for building your concept. </p>
<p>Thanks</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="March 28th 2014, 1:35:01 pm">March 28th 2014</span>
								by <span class='authorname'>Md. Mostafizur Rahman</span><br>
								<a class="icon-bg icon-link" href="question/164030/expandable-table-view-with-customized-rows#answer-277116" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>-1</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
