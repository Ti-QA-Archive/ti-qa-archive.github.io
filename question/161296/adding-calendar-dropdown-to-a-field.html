<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>adding calendar dropdown to a field » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>adding calendar dropdown to a field</h1>
		</header>
		<section>
			<p>guys got a task to pick a date by adding a calendar and not getting the way how to do it,any idea..?<br>I am using titanium 3X and want to create for both android and iphone.</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="January 8th 2014, 10:08:19 am">January 8th 2014</span>
				by <span class='authorname'>GAURAV jain</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>appcelerator</span></li>
					
						<li><span class='tagname'>calendar</span></li>
					
						<li><span class='tagname'>iphone</span></li>
					
				</ul>
			

			<section>
				<h5>1 Comment</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>My code so far:<br>Please share any idea to make it small,and directly go to given month or year in calendar.<br>var screenWidth = 322;<br>var needToChangeSize = false;</p>
<p>var screenWidthActual = Ti.Platform.displayCaps.platformWidth;</p>
<p>if (Ti.Platform.osname === &#39;android&#39;) {<br>    if (screenWidthActual &lt;= 641) {<br>    screenWidth = screenWidthActual;<br>    needToChangeSize = true;<br>    }<br>}</p>
<p>&#x2F;&#x2F; Main Window of the Month View.<br>var win = Ti.UI.createWindow({<br>    backgroundColor : &#39;#333333&#39;,<br>    navBarHidden : false<br>});</p>
<p>&#x2F;&#x2F; Button at the buttom side<br>var backButton = Ti.UI.createButton({<br>    bottom : &#39;20dp&#39;,<br>    height : &#39;40dp&#39;,<br>    width : &#39;200dp&#39;<br>});</p>
<p>&#x2F;&#x2F; Previous Button - Tool Bar<br>var prevMonth = Ti.UI.createButton({<br>    left : &#39;18dp&#39;,<br>    width : &#39;auto&#39;,<br>    height : &#39;auto&#39;,<br>    title : &#39;&lt;&#39; });</p>
<p>&#x2F;&#x2F; Next Button - Tool Bar<br>var nextMonth = Ti.UI.createButton({ right : &#39;15dp&#39;, width : &#39;auto&#39;, height : &#39;auto&#39;, title : &#39;&gt;&#39;});</p>
<p>&#x2F;&#x2F; Month Title - Tool Bar<br>var monthTitle = Ti.UI.createLabel({<br>    width : &#39;200dp&#39;,<br>    height : &#39;24dp&#39;,<br>    textAlign : &#39;center&#39;,<br>    color : &#39;#FFFFFF&#39;,<br>    font : {<br>        fontSize : 20,<br>        fontWeight : &#39;bold&#39;<br>    }<br>});</p>
<p>&#x2F;&#x2F; Tool Bar<br>var toolBar = Ti.UI.createView({<br>    top : &#39;0dp&#39;,<br>    width : &#39;322dp&#39;,<br>    height : &#39;50dp&#39;,<br>    backgroundColor : &#39;#333333&#39;,<br>    layout : &#39;vertical&#39;<br>});</p>
<p>&#x2F;&#x2F; Tool Bar - View which contain Title Prev. &amp;amp; Next Button<br>var toolBarTitle = Ti.UI.createView({<br>    top : &#39;3dp&#39;,<br>    width : &#39;322dp&#39;,<br>    height : &#39;24dp&#39;<br>});</p>
<p>toolBarTitle.add(prevMonth);<br>toolBarTitle.add(monthTitle);<br>toolBarTitle.add(nextMonth);</p>
<p>&#x2F;&#x2F; Tool Bar - Day&#39;s<br>var toolBarDays = Ti.UI.createView({<br>    top : &#39;2dp&#39;,<br>    width : &#39;322dp&#39;,<br>    height : &#39;22dp&#39;,<br>    layout : &#39;horizontal&#39;,<br>    left : &#39;-1dp&#39;<br>});</p>
<p>toolBarDays.sunday = Ti.UI.createLabel({<br>    left : &#39;0dp&#39;,<br>    height : &#39;20dp&#39;,<br>    text : &#39;Sun&#39;,<br>    width : &#39;46dp&#39;,<br>    textAlign : &#39;center&#39;,<br>    font : {<br>        fontSize : 12,<br>        fontWeight : &#39;bold&#39;<br>    },<br>    color : &#39;#FFFFFF&#39;<br>});</p>
<p>toolBarDays.monday = Ti.UI.createLabel({<br>    left : &#39;0dp&#39;,<br>    height : &#39;20dp&#39;,<br>    text : &#39;Mon&#39;,<br>    width : &#39;46dp&#39;,<br>    textAlign : &#39;center&#39;,<br>    font : {<br>        fontSize : 12,<br>        fontWeight : &#39;bold&#39;<br>    },<br>    color : &#39;#FFFFFF&#39;<br>});</p>
<p>toolBarDays.tuesday = Ti.UI.createLabel({<br>    left : &#39;0dp&#39;,<br>    height : &#39;20dp&#39;,<br>    text : &#39;Tue&#39;,<br>    width : &#39;46dp&#39;,<br>    textAlign : &#39;center&#39;,<br>    font : {<br>        fontSize : 12,<br>        fontWeight : &#39;bold&#39;<br>    },<br>    color : &#39;#FFFFFF&#39;<br>});</p>
<p>toolBarDays.wednesday = Ti.UI.createLabel({<br>    left : &#39;0dp&#39;,<br>    height : &#39;20dp&#39;,<br>    text : &#39;Wed&#39;,<br>    width : &#39;46dp&#39;,<br>    textAlign : &#39;center&#39;,<br>    font : {<br>        fontSize : 12,<br>        fontWeight : &#39;bold&#39;<br>    },<br>    color : &#39;#FFFFFF&#39;<br>});</p>
<p>toolBarDays.thursday = Ti.UI.createLabel({<br>    left : &#39;0dp&#39;,<br>    height : &#39;20dp&#39;,<br>    text : &#39;Thu&#39;,<br>    width : &#39;46dp&#39;,<br>    textAlign : &#39;center&#39;,<br>    font : {<br>        fontSize : 12,<br>        fontWeight : &#39;bold&#39;<br>    },<br>    color : &#39;#FFFFFF&#39;<br>});</p>
<p>toolBarDays.friday = Ti.UI.createLabel({<br>    left : &#39;0dp&#39;,<br>    height : &#39;20dp&#39;,<br>    text : &#39;Fri&#39;,<br>    width : &#39;46dp&#39;,<br>    textAlign : &#39;center&#39;,<br>    font : {<br>        fontSize : 12,<br>        fontWeight : &#39;bold&#39;<br>    },<br>    color : &#39;#FFFFFF&#39;<br>});</p>
<p>toolBarDays.saturday = Ti.UI.createLabel({<br>    left : &#39;0dp&#39;,<br>    height : &#39;20dp&#39;,<br>    text : &#39;Sat&#39;,<br>    width : &#39;46dp&#39;,<br>    textAlign : &#39;center&#39;,<br>    font : {<br>        fontSize : 12,<br>        fontWeight : &#39;bold&#39;<br>    },<br>    color : &#39;#FFFFFF&#39;<br>});</p>
<p>toolBarDays.add(toolBarDays.sunday);<br>toolBarDays.add(toolBarDays.monday);<br>toolBarDays.add(toolBarDays.tuesday);<br>toolBarDays.add(toolBarDays.wednesday);<br>toolBarDays.add(toolBarDays.thursday);<br>toolBarDays.add(toolBarDays.friday);<br>toolBarDays.add(toolBarDays.saturday);</p>
<p>&#x2F;&#x2F; Adding Tool Bar Title View &amp;amp; Tool Bar Days View<br>toolBar.add(toolBarTitle);<br>toolBar.add(toolBarDays);</p>
<p>&#x2F;&#x2F; Function which create day view template<br>dayView = function(e) {<br>    var label = Ti.UI.createLabel({<br>        current : e.current,<br>        width : &#39;46dp&#39;,<br>        height : &#39;44dp&#39;,<br>        backgroundColor : &#39;#FFDCDC&#39;,<br>        text : e.day,<br>        textAlign : &#39;center&#39;,<br>        color : e.color,<br>    realDate: 0,<br>        font : {<br>            fontSize : 20,<br>            fontWeight : &#39;bold&#39;<br>        }<br>    });<br>    return label;<br>};</p>
<p>monthName = function(e) {<br>    switch(e) {<br>    case 0:<br>    e = &#39;January&#39;;<br>    break;<br>    case 1:<br>    e = &#39;February&#39;;<br>    break;<br>    case 2:<br>    e = &#39;March&#39;;<br>    break;<br>    case 3:<br>    e = &#39;April&#39;;<br>    break;<br>    case 4:<br>    e = &#39;May&#39;;<br>    break;<br>    case 5:<br>    e = &#39;June&#39;;<br>    break;<br>    case 6:<br>    e = &#39;July&#39;;<br>    break;<br>    case 7:<br>    e = &#39;August&#39;;<br>    break;<br>    case 8:<br>    e = &#39;September&#39;;<br>    break;<br>    case 9:<br>    e = &#39;October&#39;;<br>    break;<br>    case 10:<br>    e = &#39;November&#39;;<br>    break;<br>    case 11:<br>    e = &#39;December&#39;;<br>    break;<br>    };<br>    return e;<br>};</p>
<p>&#x2F;&#x2F; Calendar Main Function<br>var currentDateAlreadySet = false;<br>var calView = function(a, b, c) {<br>    var nameOfMonth = monthName(b);</p>
<pre><code class="hljs"><span class="hljs-comment">//create main calendar view</span>
var mainView = Ti.UI.createView({
    layout : <span class="hljs-string">'horizontal'</span>,
    <span class="hljs-variable">width</span> : <span class="hljs-string">'322dp'</span>,
    <span class="hljs-variable">height</span> : <span class="hljs-string">'auto'</span>,
    top : <span class="hljs-string">'50dp'</span>
});

<span class="hljs-comment">//set the time</span>
var daysInMonth = <span class="hljs-number">32</span> - <span class="hljs-keyword">new</span> Date(a, b, <span class="hljs-number">32</span>).getDate();
var dayOfMonth = <span class="hljs-keyword">new</span> Date(a, b, c).getDate();
var dayOfWeek = <span class="hljs-keyword">new</span> Date(a, b, <span class="hljs-number">1</span>).getDay();
var daysInLastMonth = <span class="hljs-number">32</span> - <span class="hljs-keyword">new</span> Date(a, b - <span class="hljs-number">1</span>, <span class="hljs-number">32</span>).getDate();
var daysInNextMonth = (<span class="hljs-keyword">new</span> Date(a, b, daysInMonth).getDay()) - <span class="hljs-number">6</span>;

<span class="hljs-comment">//set initial day number</span>
var dayNumber = daysInLastMonth - dayOfWeek + <span class="hljs-number">1</span>;

<span class="hljs-comment">//get last month's days</span>
<span class="hljs-keyword">for</span> ( i = <span class="hljs-number">0</span>; i &lt; dayOfWeek; i++) {
mainView.<span class="hljs-built_in">add</span>(<span class="hljs-keyword">new</span> dayView({
        <span class="hljs-built_in">day</span> : dayNumber,
        <span class="hljs-built_in">color</span> : <span class="hljs-string">'#8e959f'</span>,
        current : <span class="hljs-string">'no'</span>,
        dayOfMonth : <span class="hljs-string">''</span>
    }));
dayNumber++;
};
<span class="hljs-comment">// reset day number for current month</span>
dayNumber = <span class="hljs-number">1</span>;

<span class="hljs-comment">//get this month's days</span>
<span class="hljs-comment">//  THE CURRENT DATE</span>

<span class="hljs-keyword">for</span> ( i = <span class="hljs-number">0</span>; i &lt; daysInMonth; i++) {
var newDay = <span class="hljs-keyword">new</span> dayView({ 
    <span class="hljs-built_in">day</span> : dayNumber, 
    <span class="hljs-built_in">color</span> : <span class="hljs-string">'#3a4756'</span>, 
    current : <span class="hljs-string">'yes'</span>, 
    dayOfMonth : dayOfMonth 
}); 

newDay.date = a +<span class="hljs-string">""</span>+ b +<span class="hljs-string">""</span>+ (i+<span class="hljs-number">1</span>) ; 
mainView.<span class="hljs-built_in">add</span>(newDay); 
<span class="hljs-keyword">if</span> (newDay.date == dateString) {
    newDay.<span class="hljs-built_in">color</span> = <span class="hljs-string">'#8e959f'</span>; 
    newDay.backgroundColor = <span class="hljs-string">'#FFFFFF'</span>; 
    var oldDay = newDay; 
} 
dayNumber++; 
}; 

dayNumber = <span class="hljs-number">1</span>; 
<span class="hljs-comment">//get remaining month's days </span>
<span class="hljs-keyword">for</span> ( i = <span class="hljs-number">0</span>; i &lt; daysInNextMonth; i--) {
    mainView.<span class="hljs-built_in">add</span>(<span class="hljs-keyword">new</span> dayView({
        <span class="hljs-built_in">day</span> : dayNumber,
        <span class="hljs-built_in">color</span> : <span class="hljs-string">'#8e959f'</span>,
        current : <span class="hljs-string">'no'</span>,
        dayOfMonth : <span class="hljs-string">''</span>
    }));
    dayNumber++;
};

<span class="hljs-comment">// this is the new "clicker" function, although it doesn't have a name anymore, it just is.</span>
mainView.addEventListener(<span class="hljs-string">'click'</span>, function(e) {
    <span class="hljs-keyword">if</span> (e.source.current == <span class="hljs-string">'yes'</span>) {
        <span class="hljs-comment">// reset last day selected</span>
    <span class="hljs-keyword">if</span>( oldDay) { 
    <span class="hljs-keyword">if</span> ( oldDay.<span class="hljs-built_in">text</span> == dayOfMonth) {
                oldDay.<span class="hljs-built_in">color</span> = <span class="hljs-string">'#8e959f'</span>;
                oldDay.backgroundColor = <span class="hljs-string">'#EEEEEE'</span>;
    } <span class="hljs-keyword">else</span> {
                oldDay.<span class="hljs-built_in">color</span> = <span class="hljs-string">'#3a4756'</span>;
                oldDay.backgroundColor = <span class="hljs-string">'#FFDCDC'</span>;
    }
    oldDay.backgroundPaddingLeft = <span class="hljs-string">'0dp'</span>;
    oldDay.backgroundPaddingBottom = <span class="hljs-string">'0dp'</span>;
    }

        <span class="hljs-comment">// set window title with day selected, for testing purposes only</span>
        backButton.title = nameOfMonth + <span class="hljs-string">' '</span> + e.source.<span class="hljs-built_in">text</span> + <span class="hljs-string">', '</span> + a;

        <span class="hljs-comment">// set characteristic of the day selected</span>
        <span class="hljs-keyword">if</span> (e.source.<span class="hljs-built_in">text</span> == dayOfMonth) {
            e.source.backgroundColor = <span class="hljs-string">'#0078A3'</span>;
        } <span class="hljs-keyword">else</span> {
            e.source.backgroundColor = <span class="hljs-string">'#0078A3'</span>;
        }
        e.source.backgroundPaddingLeft = <span class="hljs-string">'1dp'</span>;
        e.source.backgroundPaddingBottom = <span class="hljs-string">'1dp'</span>;
        e.source.<span class="hljs-built_in">color</span> = <span class="hljs-string">'white'</span>;
        <span class="hljs-comment">//this day becomes old :(</span>
        oldDay = e.source;

    }
});

<span class="hljs-keyword">return</span> mainView;
</code></pre><p>};</p>
<p>&#x2F;&#x2F; what&#39;s today&#39;s date?<br>var setDate = new Date();<br>a = setDate.getFullYear();<br>b = setDate.getMonth();<br>c = setDate.getDate();</p>
<p>var dateString = a+&quot;&quot;+b+&quot;&quot;+c;<br>&#x2F;&#x2F; add the three calendar views to the window for changing calendars with animation later</p>
<p>var prevCalendarView = null;<br>if (b == 0) {<br>    prevCalendarView = calView(a - 1, 11, c);<br>} else {<br>    prevCalendarView = calView(a, b - 1, c);<br>}<br>prevCalendarView.left = (screenWidth * -1) + &#39;dp&#39;;</p>
<p>var nextCalendarView = null;<br>if (b == 0) {<br>    nextCalendarView = calView(a + 1, 0, c);<br>} else {<br>    nextCalendarView = calView(a, b + 1, c);<br>}<br>nextCalendarView.left = screenWidth + &#39;dp&#39;;</p>
<p>var thisCalendarView = calView(a, b, c);<br>if (needToChangeSize == false) {<br>    thisCalendarView.left = &#39;-1dp&#39;;<br>}</p>
<p>monthTitle.text = monthName(b) + &#39; &#39; + a;</p>
<p>backButton.title = monthName(b) + &#39; &#39; + c + &#39;, &#39; + a;</p>
<p>&#x2F;&#x2F; add everything to the window<br>win.add(toolBar);<br>win.add(thisCalendarView);<br>win.add(nextCalendarView);<br>win.add(prevCalendarView);<br>win.add(backButton);</p>
<p>&#x2F;&#x2F; yeah, open the window, why not?<br>win.open({<br>    modal : true<br>});</p>
<p>var slideNext = Titanium.UI.createAnimation({<br>    duration : 500<br>});</p>
<p>slideNext.left = (screenWidth * -1);</p>
<p>var slideReset = Titanium.UI.createAnimation({<br>    duration : 500<br>});</p>
<p>if (needToChangeSize == false) {<br>    slideReset.left = &#39;-1&#39;;<br>} else {<br>    slideReset.left = ((screenWidth - 644) &#x2F; 2);<br>}</p>
<p>var slidePrev = Titanium.UI.createAnimation({<br>    &#x2F;&#x2F; left : &#39;322&#39;,<br>    duration : 500<br>});</p>
<p>slidePrev.left = screenWidth;</p>
<p>&#x2F;&#x2F; Next Month Click Event<br>nextMonth.addEventListener(&#39;click&#39;, function() {<br>    if (b == 11) {<br>        b = 0;<br>        a++;<br>    } else {<br>        b++;<br>    }</p>
<pre><code class="hljs">thisCalendarView.animate(slideNext)<span class="hljs-comment">;</span>
nextCalendarView.animate(slideReset)<span class="hljs-comment">;</span>

setTimeout(function() {
    thisCalendarView.left = (screenWidth * -1) + 'dp'<span class="hljs-comment">;</span>
    if (needToChangeSize == false) {
        nextCalendarView.left = '-1dp'<span class="hljs-comment">;</span>
    } else {
        nextCalendarView.left = ((screenWidth - 644) / 2)<span class="hljs-comment">;</span>
    }
    prevCalendarView = thisCalendarView<span class="hljs-comment">;</span>
    thisCalendarView = nextCalendarView<span class="hljs-comment">;</span>
    if (b == 11) {
        nextCalendarView = calView(a + 1, 0, c)<span class="hljs-comment">;</span>
    } else {
        nextCalendarView = calView(a, b + 1, c)<span class="hljs-comment">;</span>
    }
    monthTitle.text = monthName(b) + ' ' + a<span class="hljs-comment">;</span>
    nextCalendarView.left = screenWidth + 'dp'<span class="hljs-comment">;</span>
    win.add(nextCalendarView)<span class="hljs-comment">;</span>
}, 500)<span class="hljs-comment">;</span>
</code></pre><p>});</p>
<p>&#x2F;&#x2F; Previous Month Click Event<br>prevMonth.addEventListener(&#39;click&#39;, function() {<br>    if (b == 0) {<br>        b = 11;<br>        a–;<br>    } else {<br>        b–;<br>    }<br>    thisCalendarView.animate(slidePrev);<br>    prevCalendarView.animate(slideReset);<br>    setTimeout(function() {<br>        thisCalendarView.left = screenWidth + &#39;dp&#39;;<br>        if (needToChangeSize == false) {<br>            prevCalendarView.left = &#39;-1dp&#39;;<br>        } else {<br>            prevCalendarView.left = ((screenWidth - 644) &#x2F; 2);<br>        }<br>        nextCalendarView = thisCalendarView;<br>        thisCalendarView = prevCalendarView;<br>        if (b == 0) {<br>            prevCalendarView = calView(a - 1, 11, c);<br>        } else {<br>            prevCalendarView = calView(a, b - 1, c);<br>        }<br>        monthTitle.text = monthName(b) + &#39; &#39; + a;<br>    console.log( a+&quot; &quot; + b + &quot; &quot;+ c );<br>        prevCalendarView.left = (screenWidth * -1) + &#39;dp&#39;;<br>        win.add(prevCalendarView);<br>    }, 500);<br>});</p>
</div>
							<div class="author">
								&mdash; commented <span title="January 8th 2014, 10:10:20 am">January 8th 2014</span>
								by <span class='authorname'>GAURAV jain</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>0</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>0 Answers</h3>

	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
