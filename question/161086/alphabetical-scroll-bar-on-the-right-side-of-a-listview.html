<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>alphabetical scroll bar on the right side of a ListView Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>alphabetical scroll bar on the right side of a ListView</h1>
		</header>
		<section>
			<p>i want to make a list view with alphabetical scroll at the right side of the list view like as in contacts in iPhone. how can i make it ?</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="January 2nd 2014, 9:37:24 am">January 2nd 2014</span>
				by <span class='authorname'>Nuibb Hasan</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>alphabetical scroll</span></li>
					
						<li><span class='tagname'>listview</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>1</span> Vote</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-273345">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>Hi</p>
<p>What you are referring to is the <a href="http:&#x2F;&#x2F;docs.appcelerator.com&#x2F;titanium&#x2F;latest&#x2F;#!&#x2F;api&#x2F;Titanium.UI.TableView-property-index">index</a> array property that appears on the <a href="http:&#x2F;&#x2F;docs.appcelerator.com&#x2F;titanium&#x2F;latest&#x2F;#!&#x2F;api&#x2F;Titanium.UI.TableView">tableView</a>.</p>
<p>The short answer is no - this is currently (and may never be) supported on the <a href="http:&#x2F;&#x2F;docs.appcelerator.com&#x2F;titanium&#x2F;latest&#x2F;#!&#x2F;api&#x2F;Titanium.UI.ListView">listView</a>.  It is only available on the <a href="http:&#x2F;&#x2F;docs.appcelerator.com&#x2F;titanium&#x2F;latest&#x2F;#!&#x2F;api&#x2F;Titanium.UI.TableView">tableView</a> currently.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="January 2nd 2014, 1:26:21 pm">January 2nd 2014</span>
								by <span class='authorname'>Malcolm Hollingsworth</span><br>
								<a class="icon-bg icon-link" href="question/161086/alphabetical-scroll-bar-on-the-right-side-of-a-listview#answer-273345" rel="permalink">permalink</a>
							</div>

							<h5>11 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>okay, then can you tell me how can i get it in table view?</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 3rd 2014, 3:02:18 am">January 3rd 2014</span>
											by <span class='authorname'>Nuibb Hasan</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>i tried like below. but when i click a index(alphabet on the right side), it does not listening. i mean the table view does not scrolling to go that index.</p>
<pre><code class="hljs">function AutoSearch(argument) {
    var win = Ti.UI.createWindow({
        <span class="hljs-string">backgroundColor :</span> <span class="hljs-string">'#36A9E1'</span>,
        <span class="hljs-string">statusBarStyle :</span> Titanium.UI.iPhone.StatusBar.TRANSLUCENT_BLACK
    });

    var model = [{
        <span class="hljs-string">Title :</span> <span class="hljs-string">'Alphabits'</span>
    }, {
        <span class="hljs-string">Title :</span> <span class="hljs-string">'Biscuits'</span>
    }, {
        <span class="hljs-string">Title :</span> <span class="hljs-string">'Cake'</span>
    }, {
        <span class="hljs-string">Title :</span> <span class="hljs-string">'Candy'</span>
    }, {
        <span class="hljs-string">Title :</span> <span class="hljs-string">'Green Beans'</span>
    }, {
        <span class="hljs-string">Title :</span> <span class="hljs-string">'Oranges'</span>
    }, {
        <span class="hljs-string">Title :</span> <span class="hljs-string">'Pasta'</span>
    }, {
        <span class="hljs-string">Title :</span> <span class="hljs-string">'Tangerines'</span>
    }, {
        <span class="hljs-string">Title :</span> <span class="hljs-string">'Trix'</span>
    }, {
        <span class="hljs-string">Title :</span> <span class="hljs-string">'Zucchini Bread'</span>
    }];

    var table = Ti.UI.createTableView({
        <span class="hljs-string">backgroundColor :</span> <span class="hljs-string">'#fff'</span>,
        <span class="hljs-string">width :</span> <span class="hljs-number">320</span>,
        <span class="hljs-string">rowHeight :</span> <span class="hljs-number">100</span>
    });
    win.add(table);

    var alphaTable = Ti.UI.createTableView({
        <span class="hljs-string">separatorStyle :</span> Ti.UI.iPhone.TableViewSeparatorStyle.NONE,
        <span class="hljs-string">opacity :</span> <span class="hljs-number">0.65</span>,
        <span class="hljs-string">scrollable :</span> <span class="hljs-literal">false</span>,
        <span class="hljs-string">right :</span> <span class="hljs-number">5</span>,
        <span class="hljs-string">top :</span> <span class="hljs-number">5</span>,
        <span class="hljs-string">width :</span> <span class="hljs-number">28</span>,
        <span class="hljs-string">height :</span> <span class="hljs-number">355</span>,
        <span class="hljs-string">borderRadius :</span> <span class="hljs-number">13</span>,
        <span class="hljs-string">backgroundColor :</span> <span class="hljs-string">"#000"</span>
    });
    <span class="hljs-comment">// alpha table must be on top of other table</span>
    win.add(alphaTable);

    var curheader = <span class="hljs-string">'0'</span>;
    var index = [];
    var rows = [];
    var alphaRowCount = <span class="hljs-number">0</span>;

    <span class="hljs-comment">// loop through model to add rows to table</span>
    <span class="hljs-keyword">for</span> (var i = <span class="hljs-number">0</span>, l = model.length; i &lt; l; i++) {

        <span class="hljs-comment">// first determine how many rows there will be</span>
        <span class="hljs-comment">// use substring to get only first letter</span>
        <span class="hljs-keyword">if</span> (model[i].Title.substring(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>) != curheader) {
            curheader = model[i].Title.substring(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>);
            alphaRowCount++;
        }

        var row = Ti.UI.createTableViewRow({
            <span class="hljs-string">title :</span> model[i].Title
        });
        rows.push(row);
    }

    <span class="hljs-comment">// reset curheader var</span>
    curheader = <span class="hljs-string">'0'</span>;

    <span class="hljs-comment">// determine Row height by dividing by Alpha Table height</span>
    var rowHeight = <span class="hljs-number">355</span> / alphaRowCount;

    <span class="hljs-comment">// now loop through model again to actually add the alpha rows</span>
    <span class="hljs-keyword">for</span> (var i = <span class="hljs-number">0</span>, l = model.length; i &lt; l; i++) {

        <span class="hljs-keyword">if</span> (model[i].Title.substring(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>) != curheader) {
            curheader = model[i].Title.substring(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>);
            var alphaRow = Ti.UI.createTableViewRow({
                <span class="hljs-string">color :</span> <span class="hljs-string">'#fff'</span>,
                <span class="hljs-string">width :</span> <span class="hljs-number">28</span>,
                <span class="hljs-string">backgroundColor :</span> <span class="hljs-string">"transparent"</span>,
                <span class="hljs-string">backgroundSelectedColor :</span> <span class="hljs-string">"transparent"</span>,
                <span class="hljs-string">selectedBackgroundColor :</span> <span class="hljs-string">"transparent"</span>
            });

            alphaRow.height = rowHeight;

            <span class="hljs-comment">// define IndexRow for main Table</span>
            alphaRow.indexRow = i;

            var alphaLabel = Ti.UI.createLabel({
                <span class="hljs-string">top :</span> <span class="hljs-number">0</span>,
                <span class="hljs-string">width :</span> <span class="hljs-number">28</span>,
                <span class="hljs-string">left :</span> <span class="hljs-number">0</span>,
                <span class="hljs-string">font :</span> {
                    <span class="hljs-string">fontSize :</span> <span class="hljs-number">10</span>,
                    <span class="hljs-string">fontFamily :</span> <span class="hljs-string">'Helvetica Neue'</span>
                },
                <span class="hljs-string">color :</span> <span class="hljs-string">'#fff'</span>,
                <span class="hljs-string">textAlign :</span> <span class="hljs-string">'center'</span>
            });
            alphaLabel.text = curheader;
            alphaLabel.height = rowHeight;
            alphaRow.add(alphaLabel);

            index.push(alphaRow);
        }
    }

    table.setData(rows);
    alphaTable.setData(index);

    var previousIndex = <span class="hljs-number">0</span>;

    alphaTable.addEventListener(<span class="hljs-string">'click'</span>, function(e) {

        var localPoint = {
            <span class="hljs-string">x :</span> e.x,
            <span class="hljs-string">y :</span> e.y
        };
        var convPoint = alphaTable.convertPointToView(localPoint, win);
        Ti.API.info(convPoint.y);
        <span class="hljs-comment">// subtract from global point to find position</span>
        var newPointY = convPoint;
        <span class="hljs-comment">//</span>
        <span class="hljs-comment">// // determine the index</span>
        var newIndex = Math.ceil(newPointY / rowHeight) - <span class="hljs-number">1</span>;
        <span class="hljs-comment">//</span>
        <span class="hljs-comment">// // scroll to index on main Table, and make sure its on the TOP position</span>
        <span class="hljs-comment">// // to make sure it doesnt jiggle, check to make sure newIndex is not the same as previousIndex</span>
        <span class="hljs-keyword">if</span> (newIndex != previousIndex) {
            table.scrollToIndex(newIndex, {
                <span class="hljs-string">animated :</span> <span class="hljs-literal">true</span>,
                <span class="hljs-string">position :</span> Ti.UI.iPhone.TableViewScrollPosition.TOP
            });
            previousIndex = newIndex;
        }
    });

    <span class="hljs-keyword">return</span> win;
};
module.exports = AutoSearch;
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="January 3rd 2014, 3:08:32 am">January 3rd 2014</span>
											by <span class='authorname'>Nuibb Hasan</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>The <strong>index</strong> array is not actually a <strong>tableViewRow</strong> is is simply an index and title -basically a pointer.</p>
<p>The first thing to know is the index requires the <strong>tableView</strong> to have either <strong>tableViewSection</strong>s or the <strong>header</strong> property of each <strong>tableViewRow</strong> set to match the index.</p>
<p>Think of it this way; the contacts app has an index bar on the right, when you press the <strong>a</strong> it jumps the the place in the table with the <strong>a</strong> that place ALSO has a section header that shows  <strong>A</strong> - the title do not need to match but the requirement for the section headers is there.</p>
<p>The index array is a very simple thing, a title and an index (think pointer number to row index).  This is a quick example of the basic structure.</p>
<pre><code class="hljs">[
    {
        <span class="hljs-keyword">index</span>: <span class="hljs-number">0</span>,
        title: <span class="hljs-string">'A'</span>
    },
    {
        <span class="hljs-keyword">index</span>: <span class="hljs-number">15</span>,
        title: <span class="hljs-string">'B'</span>
    }
...
]
</code></pre><p>Here is your code modified to create and use the index (not tested) but you should get the idea.</p>
<pre><code class="hljs">var index = []; <span class="hljs-comment">// create an array for the index</span>

<span class="hljs-keyword">for</span> (var i = <span class="hljs-number">0</span>, l = model.length; i &lt; l; i++) {

    <span class="hljs-comment">// first determine how many rows there will be</span>
    <span class="hljs-comment">// use substring to get only first letter</span>
    <span class="hljs-keyword">if</span> (model[i].Title.substring(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>) != curheader) {
        curheader = model[i].Title.substring(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>);
        alphaRowCount++;
    }

    var row = Ti.UI.createTableViewRow({
        title : model[i].Title
    });

<span class="hljs-comment">/* new section */</span>

    <span class="hljs-keyword">if</span> (model[i].Title.substring(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>) != curheader) {
        curheader = model[i].Title.substring(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>);
        row.header = curheader; <span class="hljs-comment">// sets up section header</span>

        <span class="hljs-comment">// sorts the index entry as this IS a new section</span>
        index.push({
            index: i,
            title: curheader
        });
    }
    rows.push(row);
}

<span class="hljs-comment">// tweak to the table set</span>
table.setData(rows);
table.setIndex(index);
</code></pre><p>There is NO need to create another table for the index and you can do everything inside the main loop - no need for two.  Also I think your click event was trying to fake the index ability - that can go - as soon as you correctly set the index it occurs automatically.</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 3rd 2014, 7:07:30 am">January 3rd 2014</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I wonder why index support is not available for ListView and maybe will never be? It isn&#39;t difficult to implement. I have done it myself with native Objective-C code. If someone need the modification, leave a message here.</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 3rd 2014, 7:21:50 am">January 3rd 2014</span>
											by <span class='authorname'>Danny Pham</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>@Danny</p>
<p>It is the two different objectives of the ListView and the TableView.  We have always had TableView and it was designed to work with views in each row.  As you probably know, the ListView is based on data updating templates and designed for raw speed.  Because of that there are compromises in the feature set compared to the TableView - but the performance increases far out way the lack of a few features - especially as the TableView is always there when needed.</p>
<p>The latest Ti 3.2 SDK added many features to the ListView that were previously unavailable - so it is possible (I have no inside knowledge of this) that things like the index property may be added at some point in the future.  However there may always be some features that by simply adding them causing a slowdown that is unacceptable to the aims of the ListView.</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 3rd 2014, 7:37:46 am">January 3rd 2014</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Hi Malcolm,<br>i had tried like your&#39;s way. For testing, i added a button in the window and tried to access&#x2F;get the each rows header name  like below. but it shows null to all. </p>
<pre><code class="hljs">btnSubmit.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span> </span>{

        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; table.data[<span class="hljs-number">0</span>].rowCount; i++) {
                Ti.API.info(table.data[<span class="hljs-number">0</span>].rows[i].header);
                <span class="hljs-comment">// Ti.API.info(table.data[0].rows[i].title);=&gt;works fine</span>
        }
}
</code></pre><p>actually i want to add a search bar at the top of the window and if i type &#39;P&#39; then the cursor of table should goes to the row that contains &#39;P&#39; as first letter.  how can i do this ? actually my problem is in eventListener. how to implement this eventListener to jump to the specific row of the table ?</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 3rd 2014, 10:13:51 am">January 3rd 2014</span>
											by <span class='authorname'>Nuibb Hasan</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>You should not need to get the header row - not for the index bar - if it is added correctly then it is all automatic.</p>
<p>The search method you talk about is something completely different.  Technically speaking it is not a search but a filter you are looking for.  As the person types the rows reduce to show only those that match the entered string - exactly like the contacts app.</p>
<p>To do this define the <strong>searchBar</strong> but assign it to the table do NOT add it to the window.</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> <span class="hljs-keyword">search</span> = Titanium.UI.createSearchBar();
<span class="hljs-keyword">var</span> <span class="hljs-keyword">table</span> = Ti.UI.createTableView({
    backgroundColor : '#fff',
    <span class="hljs-keyword">search</span>: <span class="hljs-keyword">search</span>, <span class="hljs-comment">// goes here</span>
    width : 320,
    rowHeight : 100
});
<span class="hljs-keyword">win</span>.add(<span class="hljs-keyword">table</span>);
...
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="January 3rd 2014, 10:29:26 am">January 3rd 2014</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>thanks Malcolm Hollingsworth, it&#39;s working now.</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 6th 2014, 2:31:35 am">January 6th 2014</span>
											by <span class='authorname'>Nuibb Hasan</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Hi Malcolm,<br>i added search bar in the table view. it&#39;s working great. But i think my search bar width does not poses the full table view width. it only poses the tableViewRow&#39;s data width. if i click on search view, it appears perfect with posing full table view and focused cancel button. then if i click on cancel button, the cancel button blurred &amp; search bar width does not poses all the table view&#39;s width. it only takes tableViewRow&#39;s data width. it does not look better to me and it&#39;s also not like contact list screen&#39;s search view in iPhone. how can i handle it as if the search view&#39;s width must poses the full table view&#39;s width ? I applied like below code -</p>
<pre><code class="hljs">var search = Titanium.UI.createSearchBar({
<span class="hljs-label">        showCancel:</span><span class="hljs-literal">true</span>
    });

    var table = Ti.UI.createTableView({
        <span class="hljs-string">backgroundColor :</span> <span class="hljs-string">'#fff'</span>,
        <span class="hljs-string">left :</span> <span class="hljs-string">'5dp'</span>,
        <span class="hljs-string">right :</span> <span class="hljs-string">'5dp'</span>,
<span class="hljs-label">        top:</span> <span class="hljs-string">'3dp'</span>,
        <span class="hljs-string">search :</span> search,
        <span class="hljs-string">rowHeight :</span> <span class="hljs-string">'30dp'</span>,
<span class="hljs-label">        height:</span> tableHeight
    });
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="January 6th 2014, 5:49:15 am">January 6th 2014</span>
											by <span class='authorname'>Nuibb Hasan</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>BTW: with SDK 3.2.0 the index property for Ti.UI.ListView is called <code>sectionIndexTitles</code></p>
</p>
										<div class="author">
											&mdash; commented <span title="January 10th 2014, 11:09:07 am">January 10th 2014</span>
											by <span class='authorname'>Danny Pham</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>@Danny I had not noticed that - especially with the name change.</p>
<p>Surely that is the answer to the question - rather than this one?  Whilst this does show how the whole process works on a tableView the original question related to a ListView.</p>
<p>I would create a new answer pointing this property out and hopefully it will get marked as the right answer.</p>
<p>Good catch.</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 10th 2014, 12:12:20 pm">January 10th 2014</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-287263">
				
						<section>
							<p>The index feature is now supported listviews as well, as can be seen in KitchenSink. More info here: http:&#x2F;&#x2F;docs.appcelerator.com&#x2F;titanium&#x2F;3.0&#x2F;#!&#x2F;guide&#x2F;ListViews</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="May 3rd 2015, 6:21:29 pm">May 3rd 2015</span>
								by <span class='authorname'>Stefan E</span><br>
								<a class="icon-bg icon-link" href="question/161086/alphabetical-scroll-bar-on-the-right-side-of-a-listview#answer-287263" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
