<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Attach ImageView to an emailDialog Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Attach ImageView to an emailDialog</h1>
		</header>
		<section>
			<p>I&#39;m having trouble getting an image to attach to an email.  Everything thing seems to work perfectly and it the emailDialog even recognizes that it has an attachment, but the image doesn&#39;t show up.  I&quot;m not sure what&#39;s going on?</p>
<p>Here&#39;s the code:</p>
<pre><code class="hljs">sendImageButton.addEventListener(<span class="hljs-string">"click"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span> </span>{
    setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">var</span> emailDialog = Titanium.UI.createEmailDialog();
        emailDialog.setSubject(<span class="hljs-string">'This is the subject line'</span>);
        emailDialog.addEventListener(<span class="hljs-string">'complete'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span> </span>{
            <span class="hljs-keyword">if</span> (e.result == emailDialog.SENT) {
                Titanium.UI.createAlertDialog({ 
                    title:<span class="hljs-string">'Message Sent'</span>,
                    message: <span class="hljs-string">'The is the confirmation message.'</span>
        }).show();
     }
});

<span class="hljs-keyword">var</span> f = photosView.toImage();

      <span class="hljs-comment">// attach a blob</span>
        emailDialog.addAttachment(f);       
        emailDialog.open();       

    },<span class="hljs-number">500</span>);
});
</code></pre>
		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="January 2nd 2011, 7:03:01 pm">January 2nd 2011</span>
				by <span class='authorname'>Arlton Lowry</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>addattachment</span></li>
					
						<li><span class='tagname'>attachment</span></li>
					
						<li><span class='tagname'>dialog</span></li>
					
						<li><span class='tagname'>email</span></li>
					
						<li><span class='tagname'>emaildialog</span></li>
					
						<li><span class='tagname'>image</span></li>
					
						<li><span class='tagname'>imageview</span></li>
					
						<li><span class='tagname'>toblob</span></li>
					
						<li><span class='tagname'>toimage</span></li>
					
						<li><span class='tagname'>view</span></li>
					
				</ul>
			

			<section>
				<h5>1 Comment</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>where is the code for the photosView? might be helpful since that is where the problem appears to be.</p>
<p>Also what is the timeout for?</p>
</div>
							<div class="author">
								&mdash; commented <span title="January 2nd 2011, 7:39:43 pm">January 2nd 2011</span>
								by <span class='authorname'>Aaron Saunders</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>1</span> Vote</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-171861">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>try</p>
<pre><code class="hljs"><span class="hljs-variable"><span class="hljs-keyword">var</span> f</span> = photosView.toBlob();
</code></pre><p>it worked for me</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="January 2nd 2011, 7:57:51 pm">January 2nd 2011</span>
								by <span class='authorname'>Aaron Saunders</span><br>
								<a class="icon-bg icon-link" href="question/95881/attach-imageview-to-an-emaildialog#answer-171861" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>4</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
