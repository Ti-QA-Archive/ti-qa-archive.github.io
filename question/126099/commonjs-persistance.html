<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>commonJS persistance » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>commonJS persistance</h1>
		</header>
		<section>
			<p>I&#39;m adopting a commonJS approach for a multi-tabbed application. One tab has a countdown timer associated with it, which I&#39;d like to run in the background permanently when set. My problem is that the commonJs approach means that when the user has navigated away from this tab, I loose everything related to the timer session.</p>
<p>Does anybody have any pointers as to a way forward on this predicament? Any advice would be extremely appreciated…</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="September 27th 2011, 1:32:46 pm">September 27th 2011</span>
				by <span class='authorname'>Chris Leyton</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>commonjs</span></li>
					
						<li><span class='tagname'>timer</span></li>
					
				</ul>
			

			<section>
				<h5>2 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>why does the commontJS approach mean you loose everything when you switch tabs? There is no rule or requirement with commonJS that states it has to be that way.</p>
<p>Can you be more specific regarding your app structure?</p>
</div>
							<div class="author">
								&mdash; commented <span title="September 27th 2011, 3:15:03 pm">September 27th 2011</span>
								by <span class='authorname'>Aaron Saunders</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Sorry for the lack of info. The Tab explanation was a little vague, as these ultimately lead onto new windows, in which the timer is located, which I presume is cleared once the user navigates away from said window.</p>
<p>I believe the idea listed by Anthony Decana will work as I&#39;d intended.</p>
<p>Thanks all…</p>
</div>
							<div class="author">
								&mdash; commented <span title="September 27th 2011, 6:15:24 pm">September 27th 2011</span>
								by <span class='authorname'>Chris Leyton</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>2</span> Votes</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-219630">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>You can try creating that timer at the application level and start and stop it using application level events. From within your tab script, fire off an app level event that starts your timer, that way its not destroyed by moving away from the tab attached to that script.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="September 27th 2011, 2:56:39 pm">September 27th 2011</span>
								by <span class='authorname'>Anthony Decena</span><br>
								<a class="icon-bg icon-link" href="question/126099/commonjs-persistance#answer-219630" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-219709">
				
						<section>
							<p>Another way to do it is maintain one common module you pass to your other commonJS modules.  I&#39;ve done this in the past:</p>
<p>app.js</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> <span class="hljs-keyword">app</span>  = require('modules/core),
    page = require('modules/somepage');

<span class="hljs-keyword">app</span>.doSetupStuff();
<span class="hljs-keyword">app</span>.createDB('coolbeans');
<span class="hljs-comment">// etc.</span>

page.init(<span class="hljs-keyword">app</span>);
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="September 28th 2011, 11:18:18 am">September 28th 2011</span>
								by <span class='authorname'>Rick Blalock</span><br>
								<a class="icon-bg icon-link" href="question/126099/commonjs-persistance#answer-219709" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
