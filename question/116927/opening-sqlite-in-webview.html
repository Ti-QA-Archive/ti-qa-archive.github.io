<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Opening SQLite in webview » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Opening SQLite in webview</h1>
		</header>
		<section>
			<p>I first want to say that I like Titanium and believe its a great platform for developers.  IMHO, my own greatest interest is based on the fact that I can utilize the web page and javascript format and export to multiple platforms, so I am doing a lot of pages as webviews.  For the most part, I have been learning a lot by reading through these questions and answers but I have finally run into a problem that seems to be under documented so I guess its time to ask…</p>
<p>My app opens with standard titanium tabs and tool bars but also immediately uses webviews that are database driven.  I made earlier .js views that access the SQLite database fine, but then I put the same code into .html pages and try to open them with:</p>
<p>var win0 = Ti.UI.createWebView({url:profile.html})</p>
<p>They open fine and most of the Ti. vars work OK, but it doesn&#39;t want to open the database for some reason.  I use to open the database, and it worked on .js page as:</p>
<p>var db = Titanium.Database.open(&#39;esNetworkDB&#39;);</p>
<p>var dbrows = db.execute(query);</p>
<p>I know the query is fine and my function works flawlessly when called from within .js page, so I am wondering what else could it be?  In particular, I don&#39;t want to be stupid but I found myself wondering if Titanium.Database.open() is not defined for webviews, or is there some other little thing I am missing?  And if it&#39;s not defined, can it be added as an include or framework or what other options?</p>
<p>Thanks in advance for help.</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="March 7th 2011, 11:29:38 am">March 7th 2011</span>
				by <span class='authorname'>David Gaddis</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>database</span></li>
					
						<li><span class='tagname'>javascript</span></li>
					
						<li><span class='tagname'>mobile</span></li>
					
						<li><span class='tagname'>open</span></li>
					
						<li><span class='tagname'>titanium</span></li>
					
						<li><span class='tagname'>webview</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>3</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>3 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-203802">
				
						<section>
							<p>From my limited understanding of webviews (I never use them), I&#39;m going to say you can&#39;t do this. The webviews don&#39;t run within your app&#39;s context they run within the browser&#39;s space. So, the database isn&#39;t accessible. You could pull the needed data and pass it as variables to your window. Or, you could create a native UI component instead. Or put the database on the web and use HTML&#x2F;JS within the webview to load the data over the &#39;net.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="March 7th 2011, 11:36:12 am">March 7th 2011</span>
								by <span class='authorname'>Tim Poulsen</span><br>
								<a class="icon-bg icon-link" href="question/116927/opening-sqlite-in-webview.html#answer-203802" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-203814">
				
						<section>
							<p>Hi Tim,</p>
<p>Thanks for quick reply.  I am using local html files so loading over the net isn&#39;t a solution.  I wasn&#39;t sure how titanium was handling webviews and realized that the html was running in browser space but hoped titanium was managing the javascript in context.</p>
<p>As for the native UI, like others whom I have read here, I have a couple of issues that lead me to believe that I will have to use webviews to get the effects I want.  Admittedly, I am quite new to Titanium and haven&#39;t learned all of it&#39;s features, functions, and classes yet.  I can play around with the native UI some more and eventually figure it out, but if you don&#39;t mind, maybe I can take a short cut by picking your brain for a quick answer?</p>
<p>My app utilizes methods such as expanding&#x2F;contracting the height of table rows for displaying&#x2F;hiding additional information rather than sliding in modal views or using alerts and captions, which is simple to do with css styling and appending className(s) but I don&#39;t see how to do that with native UI.  I haven&#39;t spent much time on it yet, but from the discussions I have read, it appears to me that titanium only uses class names to specify design criteria when initially creating views, and I am under the impression that dynamically changing a class name for a table row as an event response would not affect the properties of the view such as height and content, and that the only way to achieve the desired effect might be to constantly reload the view each time an event was triggered and manage the variety of views that are used each time.  Am I missing something here?</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="March 7th 2011, 1:10:20 pm">March 7th 2011</span>
								by <span class='authorname'>David Gaddis</span><br>
								<a class="icon-bg icon-link" href="question/116927/opening-sqlite-in-webview.html#answer-203814" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>To do this with Titanium UI views you would want to use a Animation (animate heights from 0 to desired hight to show or vice versa). You can still control the animation similar to DOM events using to UI views events or your own custom Ti App Events. More information about Ti UI Animation: https:&#x2F;&#x2F;developer.appcelerator.com&#x2F;apidoc&#x2F;mobilea&#x2F;1.0&#x2F;Titanium.UI.Animation</p>
<p>p.s. Not sure if dynamically changing the class name of a view on the fly after the view is created would have any affect. This may depend on when Ti adds the class properties to the view. You could always create a simple app to test this. However, I would guess that the Titanium UI animation should be used instead of this method.</p>
<p>Also I would guess that you may want to look at the layout property of the views to help ease your layout design.</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 7th 2011, 3:17:03 pm">March 7th 2011</span>
											by <span class='authorname'>Dan Boorn</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-203821">
				
						<section>
							<p>I agree with Tim. You would want to use Titanium App Events to communicate between your web view and Titanium App code. Use the event data parameter to pass information between such as data requests and result data. Usually I create a centralised database JS file that has a main database JS class that I use for all sqllite3 queries. This same class also returns data as JSON, array or XML since passing a database result item via events to web views doesn&#39;t work.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="March 7th 2011, 3:00:18 pm">March 7th 2011</span>
								by <span class='authorname'>Dan Boorn</span><br>
								<a class="icon-bg icon-link" href="question/116927/opening-sqlite-in-webview.html#answer-203821" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
