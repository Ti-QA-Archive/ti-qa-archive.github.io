<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Why I can&#39;t use all Cookie ? » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Why I can&#39;t use all Cookie ?</h1>
		</header>
		<section>
			<p>OK, probably I found next bug, I want to send Cookie by xhr. On Android no problem…</p>
<pre><code class="hljs">xhr.setRequestHeader(<span class="hljs-string">'Cookie'</span>, webView.evalJS(<span class="hljs-string">'document.cookie;'</span>));
</code></pre><p>,but with same line on iOS I get error:</p>
<p>[ERROR] invalid arguments for setting cookie. value should be in the format &#39;name=value&#39;.   in -[TiNetworkHTTPClientProxy setRequestHeader:] (TiNetworkHTTPClientProxy.m:465)<br>[WARN] Exception in event callback. {<br>    line = xxx;<br>    message = &quot;invalid arguments for setting cookie. value should be in the format &#39;name=value&#39;.   in -[TiNetworkHTTPClientProxy setRequestHeader:] (TiNetworkHTTPClientProxy.m:465)&quot;;<br>    sourceId = 366760928;<br>    sourceURL = &quot;file:&#x2F;&#x2F;localhost&#x2F;Users&#x2F;xxx&#x2F;Library&#x2F;Application%20Support&#x2F;iPhone%20Simulator&#x2F;6.0&#x2F;Applications&#x2F;1EC7C0B6-34E5-4D96-9D79-0685610566E7&#x2F;xxx.app&#x2F;xxx.js&quot;;<br>}</p>
<p>I check TiNetworkHTTPClientProxy.m and I found this:</p>
<pre><code class="hljs"> NSArray *tok = [value <span class="hljs-string">componentsSeparatedByString:</span>@<span class="hljs-string">"="</span>];
                <span class="hljs-keyword">if</span> ([tok count]!=<span class="hljs-number">2</span>)
                {
                        [self <span class="hljs-string">throwException:</span>@<span class="hljs-string">"invalid arguments for setting cookie. value should be in the format 'name=value'"</span> <span class="hljs-string">subreason:</span>nil <span class="hljs-string">location:</span>CODELOCATION];
                }
</code></pre><p>so I can use just this statement:</p>
<pre><code class="hljs">xhr.setRequestHeader(<span class="hljs-string">'Cookie'</span>, <span class="hljs-string">"cookieName=SFWWUMT49Q31U2GPONU2GA2GZ6E6BDTULZZ6Z9DZ;"</span>);
</code></pre><p>This works ,but when I have for example 30 different cookies I have to crop string and…and…and… Is exist some another solution ?</p>
<p>2.1.1GA</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="December 21st 2012, 1:44:17 pm">December 21st 2012</span>
				by <span class='authorname'>Sko</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>cookie</span></li>
					
						<li><span class='tagname'>ios</span></li>
					
						<li><span class='tagname'>xhr</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-253247">
				
						<section>
							<p>So as you get the solution for single cookie, and reason for error so for multiple simply iterate them in loop and after that set it in header section in the proper format.<br>which key(String) value(String&#x2F;number) pair, putting a function their will create problem.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="December 21st 2012, 5:00:11 pm">December 21st 2012</span>
								by <span class='authorname'>Ashish Nigam</span><br>
								<a class="icon-bg icon-link" href="../../question/146034/why-i-cant-use-all-cookie-.html#answer-253247" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-262761">
				
						<section>
							<p><a href="http:&#x2F;&#x2F;developer.appcelerator.com&#x2F;question&#x2F;120728&#x2F;set-cookies-using-setrequestheader--crashed-">http:&#x2F;&#x2F;developer.appcelerator.com&#x2F;question&#x2F;120728&#x2F;set-cookies-using-setrequestheader–crashed-</a></p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="May 15th 2013, 5:00:06 pm">May 15th 2013</span>
								by <span class='authorname'>Tony Lukasavage</span><br>
								<a class="icon-bg icon-link" href="../../question/146034/why-i-cant-use-all-cookie-.html#answer-262761" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
