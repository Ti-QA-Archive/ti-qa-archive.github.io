<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Android fails to call global function from subcontext » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Android fails to call global function from subcontext</h1>
		</header>
		<section>
			<p>I&#39;m trying to give subcontext windows access to values in the global context, according to the documentation in the Titanium.UI.Window API reference document. It works seemingly OK on iPhone, but not on Android. Any help would be appreciated!</p>
<p>app.js:</p>
<pre><code class="hljs">function x() { <span class="hljs-keyword">return</span> 123; }
<span class="hljs-keyword">var</span> <span class="hljs-keyword">win</span> = Ti.UI.createWindow({ url:'<span class="hljs-keyword">win</span>.js' });
<span class="hljs-keyword">win</span>.x = x;
<span class="hljs-keyword">win</span>.<span class="hljs-keyword">open</span>();
</code></pre><p>win.js:</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> <span class="hljs-keyword">label</span> = Ti.UI.createLabel(<span class="hljs-comment">{ text:Ti.UI.currentWindow.x() }</span>);
Ti.UI.currentWindow.add(<span class="hljs-keyword">label</span>);
</code></pre><p>Running this on iPhone produces the expect result: a page displaying the number &quot;123.&quot; Running this on Android produces the following error:</p>
<p>TypeError: Cannot call property x in object ti.modules.titanium.ui.WindowProxy@43ddc0e8. It is not a function, it is &quot;object&quot;. (app:&#x2F;&#x2F;win.js#10197)</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="July 22nd 2010, 6:12:59 am">July 22nd 2010</span>
				by <span class='authorname'>Josh Whiting</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>iphone</span></li>
					
						<li><span class='tagname'>mobile</span></li>
					
						<li><span class='tagname'>scope</span></li>
					
				</ul>
			

			<section>
				<h5>1 Comment</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Further research leads me to believe this kind of object&#x2F;function sharing between contexsts is an iphone-only feature. The &quot;Passing Data (windows)&quot; example in the Kitchen Sink app demonstrates this but it&#39;s wrapped in an iPhone platform conditional.</p>
</div>
							<div class="author">
								&mdash; commented <span title="July 22nd 2010, 9:03:27 pm">July 22nd 2010</span>
								by <span class='authorname'>Josh Whiting</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>3</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>3 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-89231">
				
						<section>
							<p>The ability to assign objects in a window from the global context appears to be an iPhone-only feature.</p>
<p>Passing data between windows on Android needs to be done differently, but I&#39;m not sure how. For instance, if I have a global user id that I need to pass to a window that handles taking in user input and posting it up to a server, I&#39;m not sure how to get that user id into the window context in Android. That&#39;s a separable question, though, which I&#39;ve opened <a href="http:&#x2F;&#x2F;developer.appcelerator.com&#x2F;question&#x2F;45401&#x2F;making-global-objects-available-to-a-window-on-android">here</a></p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="July 22nd 2010, 9:36:22 pm">July 22nd 2010</span>
								by <span class='authorname'>Josh Whiting</span><br>
								<a class="icon-bg icon-link" href="question/45161/android-fails-to-call-global-function-from-subcontext.html#answer-89231" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-177521">
				
						<section>
							<p>Any news about this problem?</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="January 12th 2011, 9:39:56 am">January 12th 2011</span>
								by <span class='authorname'>Stefan B</span><br>
								<a class="icon-bg icon-link" href="question/45161/android-fails-to-call-global-function-from-subcontext.html#answer-177521" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>see code posted… it seems to work for me</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 12th 2011, 1:18:18 pm">January 12th 2011</span>
											by <span class='authorname'>Aaron Saunders</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-177661">
				
						<section>
							<p>This works for me, check the log console for function output</p>
<pre><code class="hljs"><span class="hljs-comment">// app.js</span>

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">x</span><span class="hljs-params">()</span> </span>{ <span class="hljs-keyword">return</span> <span class="hljs-number">123</span>; }
<span class="hljs-keyword">var</span> win = Ti.UI.createWindow({ 
   x:x, 
   title:<span class="hljs-string">'Test Window'</span>, 
   url:<span class="hljs-string">'win.js'</span>, 
   width:<span class="hljs-string">'100%'</span>, 
   height:<span class="hljs-string">'100%'</span> });
win.open();
</code></pre><p>new window context</p>
<pre><code class="hljs"><span class="hljs-comment">// win.js</span>
Ti.API.info(<span class="hljs-string">"initializing tabwin"</span>);
<span class="hljs-variable"><span class="hljs-keyword">var</span> currentWin</span> = Ti.UI.currentWindow;

Ti.API.info(<span class="hljs-string">"initializing tabwin "</span> + currentWin.x());
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="January 12th 2011, 1:17:52 pm">January 12th 2011</span>
								by <span class='authorname'>Aaron Saunders</span><br>
								<a class="icon-bg icon-link" href="question/45161/android-fails-to-call-global-function-from-subcontext.html#answer-177661" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
