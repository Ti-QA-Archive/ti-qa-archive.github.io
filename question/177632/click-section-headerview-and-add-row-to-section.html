<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Click Section headerView and Add Row to Section Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Click Section headerView and Add Row to Section</h1>
		</header>
		<section>
			<pre><code class="hljs"><span class="hljs-keyword">for</span> ( i = <span class="hljs-number">0</span>; i &lt; json.groupitems.length; i++) {
    groupitem = json.groupitems[i];

    customsection[i] = Ti.UI.createView({
        <span class="hljs-string">width :</span> Ti.UI.FILL,
        <span class="hljs-string">backgroundImage :</span> <span class="hljs-string">'images/sectionName.png'</span>,
        <span class="hljs-string">height :</span> <span class="hljs-number">44</span>,
        <span class="hljs-string">opened :</span> <span class="hljs-literal">false</span>,
        <span class="hljs-string">id :</span> i,
        <span class="hljs-string">length :</span> groupitem.items.length
    });

    var text = Ti.UI.createLabel({
        <span class="hljs-string">text :</span> groupitem.grouptitle,
        <span class="hljs-string">left :</span> <span class="hljs-number">20</span>,
        <span class="hljs-string">color :</span> <span class="hljs-string">'#fff'</span>
    });

    customsection[i].add(text);

    section[i] = Ti.UI.createTableViewSection({
        <span class="hljs-string">headerView :</span> customsection[i] ,
    });


    customsection[i].addEventListener(<span class="hljs-string">'click'</span>, function(e) {
        var id = e.source.id;
        var opened = e.source.opened;
        var length = e.source.length;

            items = groupitem.items;

            <span class="hljs-keyword">for</span> ( j = <span class="hljs-number">0</span>; j &lt; items.length; j++) {
                var item = items[j];

                row[j] = Titanium.UI.createTableViewRow({
                    <span class="hljs-string">height :</span> <span class="hljs-string">'auto'</span>,
                    <span class="hljs-string">layout :</span> <span class="hljs-string">'vertical'</span>,
                });

                var view = Ti.UI.createView({
                    <span class="hljs-string">width :</span> Ti.UI.FILL,
                    <span class="hljs-string">height :</span> Ti.UI.SIZE,
                    <span class="hljs-string">backgroundcolor :</span> <span class="hljs-string">'#ccc'</span>,
                    <span class="hljs-string">layout :</span> <span class="hljs-string">'horizontal'</span>,
                    <span class="hljs-string">top :</span> <span class="hljs-number">5</span>,
                    <span class="hljs-string">bottom :</span> <span class="hljs-number">5</span>
                });

                var key = Titanium.UI.createLabel({
                    <span class="hljs-string">text :</span> item.key,
                    <span class="hljs-string">textAlign :</span> <span class="hljs-string">'left'</span>,
                    <span class="hljs-string">left :</span> <span class="hljs-number">5</span>,
                    <span class="hljs-string">height :</span> Ti.UI.SIZE,
                    <span class="hljs-string">width :</span> <span class="hljs-string">'auto'</span>,
                    <span class="hljs-string">height :</span> Ti.UI.SIZE,
                    <span class="hljs-string">font :</span> {
                        <span class="hljs-string">fontSize :</span> <span class="hljs-number">14</span>,
                        <span class="hljs-string">fontWeight :</span> <span class="hljs-string">'bold'</span>
                    }
                });

                var value = Titanium.UI.createLabel({
                    <span class="hljs-string">text :</span> item.value,
                    <span class="hljs-string">textAlign :</span> <span class="hljs-string">'right'</span>,
                    <span class="hljs-string">width :</span> Ti.UI.FILL,
                    <span class="hljs-string">height :</span> Ti.UI.SIZE,
                    <span class="hljs-string">touchEnabled :</span> <span class="hljs-literal">false</span>,
                    <span class="hljs-string">right :</span> <span class="hljs-number">5</span>,
                    <span class="hljs-string">font :</span> {
                        <span class="hljs-string">fontSize :</span> <span class="hljs-number">14</span>
                    }
                });

                view.add(key);
                view.add(value);
                row[j].add(view);
                section[i].add(row[j]);
            }
    });
</code></pre><p>I want to add row to section when I click section of header view. How can I do it?</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="September 12th 2014, 5:44:29 am">September 12th 2014</span>
				by <span class='authorname'>gokhan aras</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>add row</span></li>
					
						<li><span class='tagname'>click</span></li>
					
						<li><span class='tagname'>eventlistener</span></li>
					
						<li><span class='tagname'>headerview</span></li>
					
						<li><span class='tagname'>section</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-282333">
				
						<section>
							<p>Hi  gokhan aras,</p>
<p>Thank you for your question.</p>
<p>I have just copied and modified your existing code.</p>
<p>Please you can review the below code to solve your problem. I hope, it will help you.</p>
<pre><code class="hljs">var sections=[];
<span class="hljs-keyword">for</span> ( i = <span class="hljs-number">0</span>; i &lt; json.groupitems.length; i++) {
    groupitem = json.groupitems[i];

   var  customsection = Ti.UI.createView({
        <span class="hljs-string">width :</span> Ti.UI.FILL,
        <span class="hljs-string">backgroundImage :</span> <span class="hljs-string">'images/sectionName.png'</span>,
        <span class="hljs-string">height :</span> <span class="hljs-number">44</span>,
        <span class="hljs-string">opened :</span> <span class="hljs-literal">false</span>,
        <span class="hljs-string">id :</span> i,
        <span class="hljs-string">length :</span> groupitem.items.length
    });

    var text = Ti.UI.createLabel({
        <span class="hljs-string">text :</span> groupitem.grouptitle,
        <span class="hljs-string">left :</span> <span class="hljs-number">20</span>,
        <span class="hljs-string">color :</span> <span class="hljs-string">'#fff'</span>
    });

    customsection.add(text);

    var section = Ti.UI.createTableViewSection({
        <span class="hljs-string">headerView :</span> customsection,
    });

    sections.push(section);

    customsection.addEventListener(<span class="hljs-string">'click'</span>, function(e) {
        var id = e.source.id;
        var opened = e.source.opened;
        var length = e.source.length;

           var  items = groupitem.items;

            <span class="hljs-keyword">for</span> ( j = <span class="hljs-number">0</span>; j &lt; items.length; j++) {
                var item = items[j];

               var  row= Titanium.UI.createTableViewRow({
                    <span class="hljs-string">height :</span> <span class="hljs-string">'auto'</span>,
                    <span class="hljs-string">layout :</span> <span class="hljs-string">'vertical'</span>,
                });

                var view = Ti.UI.createView({
                    <span class="hljs-string">width :</span> Ti.UI.FILL,
                    <span class="hljs-string">height :</span> Ti.UI.SIZE,
                    <span class="hljs-string">backgroundcolor :</span> <span class="hljs-string">'#ccc'</span>,
                    <span class="hljs-string">layout :</span> <span class="hljs-string">'horizontal'</span>,
                    <span class="hljs-string">top :</span> <span class="hljs-number">5</span>,
                    <span class="hljs-string">bottom :</span> <span class="hljs-number">5</span>
                });

                var key = Titanium.UI.createLabel({
                    <span class="hljs-string">text :</span> item.key,
                    <span class="hljs-string">textAlign :</span> <span class="hljs-string">'left'</span>,
                    <span class="hljs-string">left :</span> <span class="hljs-number">5</span>,
                    <span class="hljs-string">height :</span> Ti.UI.SIZE,
                    <span class="hljs-string">width :</span> <span class="hljs-string">'auto'</span>,
                    <span class="hljs-string">height :</span> Ti.UI.SIZE,
                    <span class="hljs-string">font :</span> {
                        <span class="hljs-string">fontSize :</span> <span class="hljs-number">14</span>,
                        <span class="hljs-string">fontWeight :</span> <span class="hljs-string">'bold'</span>
                    }
                });

                var value = Titanium.UI.createLabel({
                    <span class="hljs-string">text :</span> item.value,
                    <span class="hljs-string">textAlign :</span> <span class="hljs-string">'right'</span>,
                    <span class="hljs-string">width :</span> Ti.UI.FILL,
                    <span class="hljs-string">height :</span> Ti.UI.SIZE,
                    <span class="hljs-string">touchEnabled :</span> <span class="hljs-literal">false</span>,
                    <span class="hljs-string">right :</span> <span class="hljs-number">5</span>,
                    <span class="hljs-string">font :</span> {
                        <span class="hljs-string">fontSize :</span> <span class="hljs-number">14</span>
                    }
                });

                view.add(key);
                view.add(value);
                row.add(view);
                section.add(row);
                <span class="hljs-comment">// ----or -----</span>
                <span class="hljs-comment">//sections[id].add(row);</span>
            }
            updateSection( id, section, <span class="hljs-literal">true</span>);
            <span class="hljs-comment">// ----or -----</span>
            <span class="hljs-comment">// updateSection( id, sections[id], true);</span>
    });
}
var table = Ti.UI.createTableView({
<span class="hljs-label">  data:</span>sections
});
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="September 13th 2014, 3:33:10 am">September 13th 2014</span>
								by <span class='authorname'>Amimul Hossain</span><br>
								<a class="icon-bg icon-link" href="question/177632/click-section-headerview-and-add-row-to-section.html#answer-282333" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Hi,</p>
<p>Here I have just extra used </p>
<pre><code class="hljs">updateSection( id, section, <span class="hljs-keyword">true</span>);
<span class="hljs-regexp">//</span> ----<span class="hljs-keyword">or</span> -----
<span class="hljs-regexp">//</span> updateSection( id, sections[id], <span class="hljs-keyword">true</span>);
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="September 13th 2014, 3:35:48 am">September 13th 2014</span>
											by <span class='authorname'>Amimul Hossain</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-282313">
				
						<section>
							<p>I don&#39;t know if it&#39;s your problem but you are calling the <code>add</code> method of a TableViewSection. From the docs:</p>
<p><a href="http:&#x2F;&#x2F;docs.appcelerator.com&#x2F;titanium&#x2F;3.0&#x2F;#!&#x2F;api&#x2F;Titanium.UI.TableViewSection-method-add">TableViewSection-method-add</a></p>
<p><strong><em>Adds a table view row to this section.</em></strong></p>
<p><strong><em>Should be called before adding the section to a table. Calling add on a section that&#39;s already been added to a table does not update the table.</em></strong></p>
<p><strong><em>To add a row to a section after it&#39;s been added to a table, call one of the TableView methods, insertRowBefore, insertRowAfter, or appendRow.</em></strong></p>
<p><strong><em>On Android, it is possible to update a section by adding or removing rows and then resetting the table view&#39;s data property. However, this approach is not portable and is not recommended.</em></strong></p>
<p>So using the add method does not update your table if the section is already added to the tableview. Instead use use the methods as described in the docs (TableView methods insertRowBefore&#x2F;After or appendRow)</p>
<p>Regards</p>
<p>Patrick van Vuuren</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="September 12th 2014, 6:33:45 am">September 12th 2014</span>
								by <span class='authorname'>Patrick van Vuuren</span><br>
								<a class="icon-bg icon-link" href="question/177632/click-section-headerview-and-add-row-to-section.html#answer-282313" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
