<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Multiline labels with fitting background » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Multiline labels with fitting background</h1>
		</header>
		<section>
			<p>Hey, </p>
<p>I&#39;m trying to create the attached effect for a window headline. Unfortunately i don&#39;t know what kind of headline (word count, length,…) i receive so i&#39;m not able to create this effect by using static views. Has anyone an idea how to achieve this kind of effect for to fit the background width to the line length?</p>
<p>cheers<br><img src="http:&#x2F;&#x2F;oi43.tinypic.com&#x2F;ehgr3b.jpg &quot;headline&quot;" alt="alt text"></p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="November 17th 2013, 8:40:01 pm">November 17th 2013</span>
				by <span class='authorname'>Horst Perfect</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>label</span></li>
					
						<li><span class='tagname'>view</span></li>
					
				</ul>
			

			<section>
				<h5>5 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p><a href="http:&#x2F;&#x2F;oi43.tinypic.com&#x2F;ehgr3b.jpg">http:&#x2F;&#x2F;oi43.tinypic.com&#x2F;ehgr3b.jpg</a></p>
</div>
							<div class="author">
								&mdash; commented <span title="November 17th 2013, 8:42:51 pm">November 17th 2013</span>
								by <span class='authorname'>Horst Perfect</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>what about using </p>
<pre><code class="hljs"><span class="hljs-keyword">label</span>.backgroundColor =<span class="hljs-string">'black'</span> ;
<span class="hljs-keyword">label</span>.color=<span class="hljs-string">'white'</span>;
<span class="hljs-keyword">label</span>.text=<span class="hljs-string">'Headline \nOver two lines'</span>;
</code></pre></div>
							<div class="author">
								&mdash; commented <span title="November 17th 2013, 10:49:04 pm">November 17th 2013</span>
								by <span class='authorname'>Muhammad Adnan</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Can you share what you have tried? It will help us help you. Is your issue the label width? You can simply use <code>label.width = Ti.UI.SIZE</code>…</p>
</div>
							<div class="author">
								&mdash; commented <span title="November 17th 2013, 10:54:13 pm">November 17th 2013</span>
								by <span class='authorname'>David Bankier</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>i simply used </p>
<pre><code class="hljs">lbl = Ti.UI.createLabel({
    backgroundColor: <span class="hljs-string">"black"</span>,
    <span class="hljs-built_in">color</span>: <span class="hljs-string">"#FFF"</span>,
    <span class="hljs-built_in">text</span>: <span class="hljs-string">"headline\nover two lines"</span>,
    <span class="hljs-variable">width</span>: Ti.UI.SIZE,
    top: <span class="hljs-number">10</span>,
    left: <span class="hljs-number">10</span>,
});
</code></pre><p>the problem here is that the background fills the complete rect, not just where the letters are. (as shown in my example)</p>
</div>
							<div class="author">
								&mdash; commented <span title="November 18th 2013, 7:45:03 am">November 18th 2013</span>
								by <span class='authorname'>Horst Perfect</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p><img src="http:&#x2F;&#x2F;oi43.tinypic.com&#x2F;ehgr3b.jpg" alt="alt text"></p>
<p>as  your image you can not set label like this. if you display label text like your image you can use 2 image . other wise <code>Ti.UI.SIZE</code>  is set all label background Color not as text size.</p>
</div>
							<div class="author">
								&mdash; commented <span title="November 18th 2013, 7:57:48 am">November 18th 2013</span>
								by <span class='authorname'>Sanat Mamtora</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>3</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>3 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-271481">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>Here is the module for label styling:</p>
<p><a href="https:&#x2F;&#x2F;github.com&#x2F;appcelerator&#x2F;titanium_modules">https:&#x2F;&#x2F;github.com&#x2F;appcelerator&#x2F;titanium_modules</a></p>
<p>checked it for your criteria, here is the output.</p>
<p><img src="http:&#x2F;&#x2F;s18.postimg.org&#x2F;3wzsxq909&#x2F;i_OS_Simulator_Screen_shot_19_Nov_2013_4_34_03_PM.png" alt="alt text"></p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="November 19th 2013, 9:20:31 am">November 19th 2013</span>
								by <span class='authorname'>Gaurang Chhatbar</span><br>
								<a class="icon-bg icon-link" href="question/159574/multiline-labels-with-fitting-background#answer-271481" rel="permalink">permalink</a>
							</div>

							<h5>3 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Whoa! You&#39;re a lifesaver ;)<br>Thank you so much!</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 19th 2013, 9:25:06 am">November 19th 2013</span>
											by <span class='authorname'>Horst Perfect</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p><a href="https:&#x2F;&#x2F;github.com&#x2F;appcelerator&#x2F;titanium_modules&#x2F;tree&#x2F;master&#x2F;styledlabel">https:&#x2F;&#x2F;github.com&#x2F;appcelerator&#x2F;titanium_modules&#x2F;tree&#x2F;master&#x2F;styledlabel</a></p>
</p>
										<div class="author">
											&mdash; commented <span title="November 19th 2013, 9:27:58 am">November 19th 2013</span>
											by <span class='authorname'>Gaurang Chhatbar</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>@Gauran +1</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 19th 2013, 11:17:12 am">November 19th 2013</span>
											by <span class='authorname'>Muhammad Adnan</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>2</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-271414">
				
						<section>
							<p>Use Two Label instead of one label like this :</p>
<pre><code class="hljs">lbl = Ti.UI.createLabel({
    backgroundColor: <span class="hljs-string">"black"</span>,
    <span class="hljs-built_in">color</span>: <span class="hljs-string">"#FFF"</span>,
    <span class="hljs-built_in">text</span>: <span class="hljs-string">"headline"</span>,
    <span class="hljs-variable">width</span>: Ti.UI.SIZE,
    top: <span class="hljs-number">10</span>,       
    left: <span class="hljs-number">10</span>,
});

lbl2 = Ti.UI.createLabel({
    backgroundColor: <span class="hljs-string">"black"</span>,
    <span class="hljs-built_in">color</span>: <span class="hljs-string">"#FFF"</span>,
    <span class="hljs-built_in">text</span>: <span class="hljs-string">"over two lines"</span>,
    <span class="hljs-variable">width</span>: Ti.UI.SIZE,
    top: <span class="hljs-number">50</span>,    
    left: <span class="hljs-number">10</span>,
});
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="November 18th 2013, 8:01:40 am">November 18th 2013</span>
								by <span class='authorname'>Sanat Mamtora</span><br>
								<a class="icon-bg icon-link" href="question/159574/multiline-labels-with-fitting-background#answer-271414" rel="permalink">permalink</a>
							</div>

							<h5>8 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>thank you, but unfortunately i currently have 8000 different headline patterns. So i don&#39;t know if there will be 3 or 4 of 5 lines… or just one.</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 18th 2013, 8:13:48 am">November 18th 2013</span>
											by <span class='authorname'>Horst Perfect</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p><strong>Hello Horst,</strong></p>
<p>###Do something like this  :</p>
<pre><code class="hljs">lbl = Ti.UI.createLabel({
    backgroundColor: <span class="hljs-string">"black"</span>,
    <span class="hljs-built_in">color</span>: <span class="hljs-string">"#FFF"</span>,
    <span class="hljs-built_in">text</span>: <span class="hljs-string">"headline"</span>,
    <span class="hljs-variable">width</span>: Ti.UI.SIZE,
    top: <span class="hljs-number">10</span>,       
    left: <span class="hljs-number">10</span>,
    right : <span class="hljs-number">10</span>
});
var ScrollView = Ti.UI.createScrollView({
    top : <span class="hljs-number">50</span>,
    <span class="hljs-variable">width</span> : <span class="hljs-string">'100%'</span>,
    bottom : <span class="hljs-number">0</span>,
    layout : <span class="hljs-string">'vertical'</span>
});

var arrHeadline = data;  <span class="hljs-comment">// your headLine data;</span>

<span class="hljs-keyword">for</span> (var i=<span class="hljs-number">0</span>; i &lt; arrHeadline.length; i++)
{
     var lbl2 = Ti.UI.createLabel({
        backgroundColor: <span class="hljs-string">"black"</span>,
        <span class="hljs-built_in">color</span>: <span class="hljs-string">"#FFF"</span>,
        <span class="hljs-built_in">text</span>: arrHeadline[i].headline,
        <span class="hljs-variable">width</span>: Ti.UI.SIZE,
        top: <span class="hljs-number">3</span>,     
        left: <span class="hljs-number">10</span>,
        right : <span class="hljs-number">10</span>
       });

    ScrollView.<span class="hljs-built_in">add</span>(lbl2);
}
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="November 19th 2013, 7:49:12 am">November 19th 2013</span>
											by <span class='authorname'>Sanat Mamtora</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>This seems like the most reasonable solution.<br>But i don&#39;t get an array of data just a headline of undefined length. Is there a way to find out how many &quot;natural&quot; line breaks there will be so i can split the text based on this information?</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 19th 2013, 7:59:22 am">November 19th 2013</span>
											by <span class='authorname'>Horst Perfect</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>which type of headline you have. share some data for more detail so other can understanding what you trying to achieve.</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 19th 2013, 8:11:31 am">November 19th 2013</span>
											by <span class='authorname'>Sanat Mamtora</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>for example my font size is 30px, and the headline i receive as a plain string that looks something like this:</p>
<pre><code class="hljs"><span class="hljs-setting">headline = <span class="hljs-value"><span class="hljs-string">"Griechischer Hackauflauf mit Kritharaki - mit Nudeln garniert."</span></span></span>
</code></pre><p> or plain</p>
<pre><code class="hljs"><span class="hljs-setting">headline = <span class="hljs-value"><span class="hljs-string">"Sushi rolls"</span>;</span></span>
</code></pre><p>the second example won&#39;t make any problems. But the first one will be in portrait mode over 3 or even 4 lines. And i don&#39;t want a big black box behind the headline. I want a black background fitted to the line length. Giving the text enough contrast and works as a nice design element. I know many people would say this is just design BS but this is what makes it different ;)</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 19th 2013, 8:28:36 am">November 19th 2013</span>
											by <span class='authorname'>Horst Perfect</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>create module for that, that is only solution you have.</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 19th 2013, 8:37:08 am">November 19th 2013</span>
											by <span class='authorname'>Gaurang Chhatbar</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>damn! i was hoping to find an easier solution for that since i have no idea how to do that native.</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 19th 2013, 8:39:43 am">November 19th 2013</span>
											by <span class='authorname'>Horst Perfect</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>as you want that is not possible. search for module if available in titanium or create your own for this.</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 19th 2013, 8:40:51 am">November 19th 2013</span>
											by <span class='authorname'>Sanat Mamtora</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-271421">
				
						<section>
							<p>Hello Horst,</p>
<p>I think you want to create a code like this.</p>
<p>lblObject.xml file.</p>
<pre><code class="hljs"><span class="hljs-tag">&lt;<span class="hljs-title">Alloy</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">Label</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"id"</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"lblObject"</span>&gt;</span>
        Test Object...
    <span class="hljs-tag">&lt;/<span class="hljs-title">Label</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">Alloy</span>&gt;</span>
</code></pre><p>lblObject.tss file</p>
<pre><code class="hljs">"<span class="hljs-class">.lbl</span>" : <span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">backgroundColor</span>:<span class="hljs-value"> <span class="hljs-string">"black"</span>,
        color: <span class="hljs-string">"#FFF"</span>,
       text: <span class="hljs-string">"headline"</span>,
        width: Ti.UI.SIZE,
       top: <span class="hljs-number">10</span>,       
</span></span></span>}
</code></pre><p>lblOjbect.js file</p>
<pre><code class="hljs">var arg = args[<span class="hljs-number">0</span>] || {};

<span class="hljs-variable">$.</span>lblObject.<span class="hljs-keyword">text</span> = arg[<span class="hljs-number">0</span>].<span class="hljs-keyword">text</span>
</code></pre><p>Use it like:</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> lbl = Alloy.createController(<span class="hljs-string">"lblObject"</span>).getView();
<span class="hljs-keyword">var</span> <span class="hljs-keyword">view</span> = Ti.UI.createView({
    height : <span class="hljs-string">"90%"</span>,
    width : <span class="hljs-string">"90%"</span>,
    layout : <span class="hljs-string">"vertical"</span>,
})
<span class="hljs-keyword">var</span> <span class="hljs-keyword">win</span> = Ti.UI.createWindow({
    backgroundColor : <span class="hljs-string">"white"</span>
});
<span class="hljs-keyword">win</span>.<span class="hljs-keyword">open</span>();
<span class="hljs-keyword">win</span>.add(<span class="hljs-keyword">view</span>);
<span class="hljs-keyword">view</span>.add(lbl);
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="November 18th 2013, 10:30:02 am">November 18th 2013</span>
								by <span class='authorname'>Gaurang Chhatbar</span><br>
								<a class="icon-bg icon-link" href="question/159574/multiline-labels-with-fitting-background#answer-271421" rel="permalink">permalink</a>
							</div>

							<h5>7 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Change your code according to your logic.</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 18th 2013, 10:30:55 am">November 18th 2013</span>
											by <span class='authorname'>Gaurang Chhatbar</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I honestly have no idea what makes this approach different than the others?<br>I get the exact same result like when i&#39;m adding a backgroundColor and using Ti.UI.SIZE.</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 19th 2013, 7:27:34 am">November 19th 2013</span>
											by <span class='authorname'>Horst Perfect</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Then what you like to do, exactly I can not understand what you are trying to do now.</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 19th 2013, 7:50:10 am">November 19th 2013</span>
											by <span class='authorname'>Gaurang Chhatbar</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>are you trying to set all lines in to one label?</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 19th 2013, 7:50:53 am">November 19th 2013</span>
											by <span class='authorname'>Gaurang Chhatbar</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>i want to achieve the effect like in the linked image <a href="http:&#x2F;&#x2F;oi43.tinypic.com&#x2F;ehgr3b.jpg">http:&#x2F;&#x2F;oi43.tinypic.com&#x2F;ehgr3b.jpg</a></p>
</p>
										<div class="author">
											&mdash; commented <span title="November 19th 2013, 7:52:17 am">November 19th 2013</span>
											by <span class='authorname'>Horst Perfect</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>are you trying to do it with new line character and one label?</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 19th 2013, 8:27:59 am">November 19th 2013</span>
											by <span class='authorname'>Gaurang Chhatbar</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>There is no chance to do that dynamically, if you are trying to set text dynamically with backgroundColor and want wrapped text transparent in same label, if this is the way are you trying to achieve then you should go for module. develop native module for that and import it in to your project.</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 19th 2013, 8:35:29 am">November 19th 2013</span>
											by <span class='authorname'>Gaurang Chhatbar</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
