<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>GPS background service settings to last more than 600 seconds Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>GPS background service settings to last more than 600 seconds</h1>
		</header>
		<section>
			<p>Hey guys,</p>
<p>So I have tried every way possible to get my iphone gps tracker to run in the background for more than 600 seconds.</p>
<p>The reason it does this is that apple designed it to do this unless you set up your application to be either VOIP, audio or a location service. I added the following to the info.plist:</p>
<pre><code class="hljs"><span class="hljs-tag">&lt;<span class="hljs-title">key</span>&gt;</span>UIBackgroundModes<span class="hljs-tag">&lt;/<span class="hljs-title">key</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">array</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">string</span>&gt;</span>location<span class="hljs-tag">&lt;/<span class="hljs-title">string</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">array</span>&gt;</span>
</code></pre><p>But I still cant get the background service to not timeout.</p>
<p>Has any one worked out how to track a users location for more than 10 minutes in the background yet?</p>
<p>Any help would be amazing,</p>
<p>Thanks,</p>
<p>Alex</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="January 5th 2012, 4:18:20 pm">January 5th 2012</span>
				by <span class='authorname'>Alex Akass</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>background</span></li>
					
						<li><span class='tagname'>gps</span></li>
					
						<li><span class='tagname'>iphone</span></li>
					
						<li><span class='tagname'>tracker</span></li>
					
						<li><span class='tagname'>uibackgroundmodes</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-226815">
				
						<section>
							<p>Hi Alex, you need to use the iOS Background Service to keep the app alive.  If you just create an interval timer in the backgroundservice .js file it should keep your app alive past the 10 minute mark.</p>
<p>I&#39;m working on a sample on how to do this, just isn&#39;t ready to share yet.  But, all it really will do is show an example of the above.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="January 5th 2012, 4:53:55 pm">January 5th 2012</span>
								by <span class='authorname'>Ben Bahrenburg</span><br>
								<a class="icon-bg icon-link" href="../../question/130264/gps-background-service-settings-to-last-more-than-600-seconds.html#answer-226815" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Hi Ben,</p>
<p>Thanks for your quick answer, I was doing what you mentioned already but did not have the xml nodes in my tiapp.xml as commented below ;(</p>
<p>So got there in the end! I think adding the below comment to your example will really help others as you need both to get it working!</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 5th 2012, 5:02:13 pm">January 5th 2012</span>
											by <span class='authorname'>Alex Akass</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-226816">
				
						<section>
							<p>I figured this out about 10 minutes after posting! Sods law</p>
<p>I originally tried putting the code in the info.plist at the root of my project! Actually to get this working you must have a code block in your tiapp.xml file under the iphone node!</p>
<p>Like so:</p>
<pre><code class="hljs">
<span class="hljs-tag">&lt;<span class="hljs-title">backgroundModes</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-title">mode</span>&gt;</span>location<span class="hljs-tag">&lt;/<span class="hljs-title">mode</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">backgroundModes</span>&gt;</span>
</code></pre><p>Hope that helps some one else out ;)</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="January 5th 2012, 4:59:43 pm">January 5th 2012</span>
								by <span class='authorname'>Alex Akass</span><br>
								<a class="icon-bg icon-link" href="../../question/130264/gps-background-service-settings-to-last-more-than-600-seconds.html#answer-226816" rel="permalink">permalink</a>
							</div>

							<h5>3 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Hi Alex, apple might still kill off your app if an event doesn&#39;t fire within the 10 minute period. To stop that I&#39;ve found it best to put in that background interval timer.  All it does is keep your app &quot;alive&quot; in the background with hopes Apple will not try to kill it.</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 5th 2012, 5:01:56 pm">January 5th 2012</span>
											by <span class='authorname'>Ben Bahrenburg</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Yep dont worry  got the following in place in my background service js file ;)</p>
<pre><code class="hljs">
trackTimerBG = setInterval<span class="hljs-list">(<span class="hljs-keyword">locateIt</span>, Titanium.App.Properties.getString<span class="hljs-list">(<span class="hljs-string">"frequency"</span>)</span><span class="hljs-variable">*1000);</span></span>
</code></pre><p>Thanks for your help Ben!</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 5th 2012, 5:06:10 pm">January 5th 2012</span>
											by <span class='authorname'>Alex Akass</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Awesome, glad it is working.</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 5th 2012, 5:07:44 pm">January 5th 2012</span>
											by <span class='authorname'>Ben Bahrenburg</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
