<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>ACS Cloud keyvalue set: internal error » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>ACS Cloud keyvalue set: internal error</h1>
		</header>
		<section>
			<p>Help!<br>I&#39;m trying to set a key&#x2F;value into ACS Cloud but I&#39;m getting 500-Internal-Errors: </p>
<pre><code class="hljs">{
  "<span class="hljs-attribute">meta</span>": <span class="hljs-value">{
    "<span class="hljs-attribute">status</span>":<span class="hljs-value"><span class="hljs-string">"fail"</span></span>,
    "<span class="hljs-attribute">code</span>":<span class="hljs-value"><span class="hljs-number">500</span></span>,
    "<span class="hljs-attribute">message</span>":<span class="hljs-value"><span class="hljs-string">"Internal server error. The Appcelerator Cloud Services Team has just been notified of this problem."</span>
  </span>}</span>
</code></pre><p>I&#39;m using this command:</p>
<pre><code class="hljs">curl --trace-ascii -  -b cookies.txt -c cookies.txt -X PUT -F <span class="hljs-string">"access_private=true"</span> -F <span class="hljs-string">"user_id=5333fd44891fdf0b7315408b"</span> -F <span class="hljs-string">"name=name4thisentry2"</span> -F <span class="hljs-string">"type=binary"</span> -F <span class="hljs-string">"value=&lt;test.bin"</span> https://api.cloud.appcelerator.com/v1/keyvalues/set.json?key=<span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span>
</code></pre><p>Here is the trace (I have cut it in the middle to fit it here):</p>
<pre><code class="hljs"><span class="hljs-header">== Info: About to connect() to api.cloud.appcelerator.com port 443 (#0)</span>
<span class="hljs-header">== Info:   Trying 54.215.14.157...</span>
<span class="hljs-header">== Info: Connected to api.cloud.appcelerator.com (54.215.14.157) port 443 (#0)</span>
<span class="hljs-header">== Info: Initializing NSS with certpath: sql:/etc/pki/nssdb</span>
<span class="hljs-header">== Info:   CAfile: /etc/pki/tls/certs/ca-bundle.crt</span>
<span class="hljs-code">  CApath: none</span>
<span class="hljs-header">== Info: SSL connection using TLS_DHE_RSA_WITH_AES_128_CBC_SHA</span>
<span class="hljs-header">== Info: Server certificate:</span>
<span class="hljs-header">== Info:     subject: CN=*.cloud.appcelerator.com,OU=Domain Control Validated</span>
<span class="hljs-header">== Info:     start date: Abr 10 03:59:03 2014 GMT</span>
<span class="hljs-header">== Info:     expire date: Mar 10 20:50:06 2016 GMT</span>
<span class="hljs-header">== Info:     common name: *.cloud.appcelerator.com</span>
<span class="hljs-header">== Info:     issuer: CN=Go Daddy Secure Certificate Authority - G2,OU=http://certs.godaddy.com/repository/,O="GoDaddy.com, Inc.",L=Scottsdale,ST=Arizona,C=US</span>
=&gt; Send header, 328 bytes (0x148)
0000: PUT /v1/keyvalues/set.json?key=A4pTGcJ1aZBauPqjjnE6NSgAthckQvb7 
0040: HTTP/1.1
004a: User-Agent: curl/7.29.0
0063: Host: api.cloud.appcelerator.com
0085: Accept: <span class="hljs-strong">*/*</span>
0092: Cookie: <span class="hljs-emphasis">_session_</span>id=cBdbhYudPcHgaJE5jc4Q6CMTRrs
00c3: Content-Length: 10884
00da: Expect: 100-continue
00f0: Content-Type: multipart/form-data; boundary=--------------------
0130: --------189a22fbd9ce
0146: 
&lt;= Recv header, 23 bytes (0x17)
0000: HTTP/1.1 100 Continue
=&gt; Send data, 526 bytes (0x20e)
0000: ------------------------------189a22fbd9ce
002c: Content-Disposition: form-data; name="access<span class="hljs-emphasis">_private"
0063: 
0065: true
006b: ------------------------------189a22fbd9ce
0097: Content-Disposition: form-data; name="user_</span>id"
00c7: 
00c9: 5333fd44891fdf0b7315408b
00e3: ------------------------------189a22fbd9ce
010f: Content-Disposition: form-data; name="name"
013c: 
013e: name4thisentry2
014f: ------------------------------189a22fbd9ce
017b: Content-Disposition: form-data; name="type"
01a8: 
01aa: binary
01b2: ------------------------------189a22fbd9ce
01de: Content-Disposition: form-data; name="value"
020c: 
=&gt; Send data, 10310 bytes (0x2846)
0000: ELF..............&gt;.......@.....@...................@.8...@.!. .
0040: ........@.......@.@.....@.@.....................................
0080: 8.......8.@.....8.@.............................................
00c0: ..@.......@.....Xj......Xj........ .............(m......(m`.....

<span class="hljs-attribute">[..]</span>

26c0: ....D$8..D$ .....$....H..$....H.D$`H..$....H.D$pL9....I.........
2700: ........M............|$ .......J.D..I9.......M.,(H.t$hL...L$PL.D
2740: $HL..L.L$@.......L.L$@L.D$H.L$P.......|$3...0...A.....f.........
2780: E..e.A..~......H...(..A...Hc..H......D...D$4....................
27c0: $...........H.E.I9.......A.|(.?uA..4..N....wr.....H.....Q.8tb.|
2800: $3.......L9.s.H.|$(...?H.S.I9.v.H.|$(.D.."H.S.I9.v.H.|$(.D.."H.S
2840: .I9.v.
=&gt; Send data, 48 bytes (0x30)
0000: 
0002: ------------------------------189a22fbd9ce--
&lt;= Recv header, 36 bytes (0x24)
0000: HTTP/1.1 500 Internal Server Error
&lt;= Recv header, 21 bytes (0x15)
0000: Server: nginx/1.2.9
&lt;= Recv header, 37 bytes (0x25)
0000: Date: Sun, 01 Jun 2014 05:00:55 GMT
&lt;= Recv header, 47 bytes (0x2f)
0000: Content-Type: application/json; charset=utf-8
&lt;= Recv header, 28 bytes (0x1c)
0000: Transfer-Encoding: chunked
&lt;= Recv header, 24 bytes (0x18)
0000: Connection: keep-alive
&lt;= Recv header, 13 bytes (0xd)
0000: Status: 500
&lt;= Recv header, 60 bytes (0x3c)
0000: X-Powered-By: Phusion Passenger (mod<span class="hljs-emphasis">_rails/mod_</span>rack) 3.0.9
&lt;= Recv header, 63 bytes (0x3f)
0000: Access-Control-Allow-Methods: POST, GET, PUT, DELETE, OPTIONS
&lt;= Recv header, 78 bytes (0x4e)
0000: Access-Control-Allow-Headers: x-requested-with, Authorization, X
0040: -Titanium-Id
&lt;= Recv header, 40 bytes (0x28)
0000: Access-Control-Allow-Credentials: true
&lt;= Recv header, 25 bytes (0x19)
0000: Cache-Control: no-cache
&lt;= Recv header, 35 bytes (0x23)
0000: X-UA-Compatible: IE=Edge,chrome=1
&lt;= Recv header, 21 bytes (0x15)
0000: X-Runtime: 0.704559
<span class="hljs-header">== Info: HTTP error before end of send, stop sending</span>
&lt;= Recv header, 2 bytes (0x2)
0000: 
&lt;= Recv data, 178 bytes (0xb2)
0000: ac
0004: {.  "meta": {.    "status":"fail",.    "code":500,.    "message"
0044: :"Internal server error. The Appcelerator Cloud Services Team ha
0084: s just been notified of this problem.".  }.}
{
<span class="hljs-code">  "meta": {</span>
<span class="hljs-code">    "status":"fail",</span>
<span class="hljs-code">    "code":500,</span>
<span class="hljs-code">    "message":"Internal server error. The Appcelerator Cloud Services Team has just been notified of this problem."</span>
<span class="hljs-code">  }</span>
}&lt;= Recv data, 5 bytes (0x5)
0000: 0
0003: 
<span class="hljs-header">== Info: Closing connection 0</span>
</code></pre>
		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="June 1st 2014, 3:09:27 am">June 1st 2014</span>
				by <span class='authorname'>f fabreti</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>cloud</span></li>
					
						<li><span class='tagname'>internal error</span></li>
					
						<li><span class='tagname'>keyvalue</span></li>
					
				</ul>
			

			<section>
				<h5>2 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>if I change the command to use a @ instead:</p>
<pre><code class="hljs">curl -b cookies.txt -c cookies.txt -F <span class="hljs-string">"login=admin"</span> -F <span class="hljs-string">"password=123456"</span> https://api.cloud.appcelerator.com/v1/users/login.json?key=<span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span>
</code></pre><p>I get this:</p>
<pre><code class="hljs">{
  "<span class="hljs-attribute">meta</span>": <span class="hljs-value">{
    "<span class="hljs-attribute">status</span>": <span class="hljs-value"><span class="hljs-string">"fail"</span></span>,
    "<span class="hljs-attribute">code</span>": <span class="hljs-value"><span class="hljs-number">400</span></span>,
    "<span class="hljs-attribute">message</span>": <span class="hljs-value"><span class="hljs-string">"Invalid binary data for setting of binary key-value type"</span></span>,
    "<span class="hljs-attribute">method_name</span>": <span class="hljs-value"><span class="hljs-string">"setKeyvalue"</span>
  </span>}</span>
</code></pre><p>I have test with several files…</p>
</div>
							<div class="author">
								&mdash; commented <span title="June 1st 2014, 3:13:26 am">June 1st 2014</span>
								by <span class='authorname'>f fabreti</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Sorry, wrong command, correct is:</p>
<pre><code class="hljs">curl --trace-ascii -  -b cookies.txt -c cookies.txt -X PUT -F <span class="hljs-string">"access_private=true"</span> -F <span class="hljs-string">"user_id=5333fd44891fdf0b7315408b"</span> -F <span class="hljs-string">"name=name4thisentry2"</span> -F <span class="hljs-string">"type=binary"</span> -F <span class="hljs-string">"value=@test.bin"</span> https://api.cloud.appcelerator.com/v1/keyvalues/set.json?key=<span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span>
</code></pre></div>
							<div class="author">
								&mdash; commented <span title="June 1st 2014, 3:15:08 am">June 1st 2014</span>
								by <span class='authorname'>f fabreti</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>0</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>0 Answers</h3>

	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
