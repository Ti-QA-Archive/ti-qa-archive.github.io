<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Updating TableView Data on Focus Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Updating TableView Data on Focus</h1>
		</header>
		<section>
			<p>I&#39;ve written a small Titanium project to allow myself to play with a little server I set up. So far, the application is loading json data via a RESTful Java server and creating new contacts using the same server. The contacts that are loaded are loaded immediately on page load when the app is first started. This is something I found in an online tutorial that works well enough, but I would like to add an event listener to fire off an update of the tableView&#39;s data every time the focus is sent back to the tab page with the tableView of contacts. This way, if you create a new contact then switch back to the tableView of contacts, it will automatically refresh.</p>
<p>So far, I have not even been able to get a log statement from my event listener. Much less actually perform the update to the tableView.</p>
<p>I&#39;ve tried adding the following listener in a few different places. Could some possibly point out what I&#39;m doing wrong or point me in another direction to accomplish my goal?</p>
<p>Listener</p>
<pre><code class="hljs">// create all contacts <span class="hljs-keyword">window</span>
var allContactsWindow = Titanium.UI.createWindow({  
    title:<span class="hljs-string">'Contacts'</span>,
    backgroundColor:<span class="hljs-string">'#fff'</span>,
    url:<span class="hljs-string">'allContacts.js'</span>
});

// add listener <span class="hljs-keyword">to</span> <span class="hljs-keyword">update</span> windows on focus
allContactsWindow.addEventListener(<span class="hljs-string">'focus'</span>, <span class="hljs-keyword">function</span>(e) {
    Ti.API.info(<span class="hljs-string">"Fired focus event."</span>);
   // allContactsWindow.fireEvent(<span class="hljs-string">'refreshWindow'</span>,{});
});
</code></pre><p>If it&#39;s helpful, I&#39;ve pushed the app up to GitHub in a public repo. Here&#39;s the direct link.</p>
<ul>
<li><a href="https:&#x2F;&#x2F;github.com&#x2F;kwandrews7&#x2F;RooContactsMobileSample">GitHub Repo</a></li>
<li><a href="https:&#x2F;&#x2F;github.com&#x2F;kwandrews7&#x2F;RooContactsMobileSample&#x2F;blob&#x2F;master&#x2F;Resources&#x2F;app.js">app.js</a></li>
<li><a href="https:&#x2F;&#x2F;github.com&#x2F;kwandrews7&#x2F;RooContactsMobileSample&#x2F;blob&#x2F;master&#x2F;Resources&#x2F;allContacts.js">allContacts.js window</a></li>
</ul>
<p>Specs:</p>
<ul>
<li>Titanium Studio, build: 3.2.3.201404181442 </li>
<li>iOS Simulator - iPhone Retina (4-inch 64-bit) &#x2F; iOS 7.1 (11D167) </li>
<li>MacBook Pro, OS X 10.9.3</li>
</ul>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="June 3rd 2014, 1:18:21 am">June 3rd 2014</span>
				by <span class='authorname'>Kyle Andrews</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>eventlistener</span></li>
					
						<li><span class='tagname'>tableview</span></li>
					
						<li><span class='tagname'>window</span></li>
					
				</ul>
			

			<section>
				<h5>2 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>I copied your repository and it is firing the focus event for me, not showing any contacts though. Try and clean your build is all I can say.  </p>
<p>I use exact the same specs as you</p>
</div>
							<div class="author">
								&mdash; commented <span title="June 3rd 2014, 8:03:43 am">June 3rd 2014</span>
								by <span class='authorname'>Patrick van Vuuren</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>@Patrick, you were correct. I never thought to try that. Performing a project clean cleared the problem right up. Thanks for the help. Is there something I should due to close this question? I&#39;m new here, I don&#39;t see a close or delete button.</p>
</div>
							<div class="author">
								&mdash; commented <span title="June 3rd 2014, 12:55:42 pm">June 3rd 2014</span>
								by <span class='authorname'>Kyle Andrews</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>0</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>0 Answers</h3>

	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
