<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>has the &#39;currentView&#39; method? » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>has the &#39;currentView&#39; method?</h1>
		</header>
		<section>
			<p>I want to import a javascript file.</p>
<p>app.js</p>
<pre><code class="hljs"><span class="hljs-built_in">var</span> view1 = Ti<span class="hljs-built_in">.</span>UI<span class="hljs-built_in">.</span>createView({
    url: <span class="hljs-string">'view1.js'</span>
});
<span class="hljs-built_in">var</span> view2 = Ti<span class="hljs-built_in">.</span>UI<span class="hljs-built_in">.</span>createView({
    url: <span class="hljs-string">'view2.js'</span>
});
<span class="hljs-attribute">...</span><span class="hljs-attribute">...</span><span class="hljs-attribute">...</span><span class="hljs-attribute">...</span><span class="hljs-built_in">..
</span><span class="hljs-comment">//some code</span>
<span class="hljs-attribute">...</span><span class="hljs-attribute">...</span><span class="hljs-attribute">...</span><span class="hljs-attribute">...</span><span class="hljs-built_in">..
</span><span class="hljs-keyword">if</span>(index == <span class="hljs-number">0</span>) {
    win<span class="hljs-built_in">.</span>remove(view2);
    win<span class="hljs-built_in">.</span>add(view1);
} <span class="hljs-keyword">else</span> {
    win<span class="hljs-built_in">.</span>remove(view1);
    win<span class="hljs-built_in">.</span>add(view2);
}
</code></pre><p>view1.js</p>
<pre><code class="hljs"><span class="hljs-built_in">var</span> curView = Ti<span class="hljs-built_in">.</span>UI<span class="hljs-built_in">.</span>currentView; <span class="hljs-comment">// how to get the view?</span>

<span class="hljs-attribute">...</span><span class="hljs-attribute">...</span><span class="hljs-attribute">...</span><span class="hljs-attribute">...</span><span class="hljs-built_in">.</span>
</code></pre><p>view2.js</p>
<pre><code class="hljs"><span class="hljs-built_in">var</span> curView = Ti<span class="hljs-built_in">.</span>UI<span class="hljs-built_in">.</span>currentView; <span class="hljs-comment">// how to get the view?</span>

<span class="hljs-attribute">...</span><span class="hljs-attribute">...</span><span class="hljs-attribute">...</span><span class="hljs-attribute">...</span><span class="hljs-built_in">.</span>
</code></pre>
		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="December 14th 2010, 8:06:54 am">December 14th 2010</span>
				by <span class='authorname'>becca zhang</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>file</span></li>
					
						<li><span class='tagname'>import</span></li>
					
						<li><span class='tagname'>js</span></li>
					
						<li><span class='tagname'>view</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>4</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>4 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-160471">
				
						<section>
							<p>You need to call <code>Ti.UI.currentWindow</code> that&#39;s where everything happens a view is just an object you put on the window, so instead of using <code>createView</code>, use <code>createWindow</code> with the <code>url: your.js</code> attribute</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="December 14th 2010, 11:40:41 am">December 14th 2010</span>
								by <span class='authorname'>J T</span><br>
								<a class="icon-bg icon-link" href="question/89201/has-the-currentview-method#answer-160471" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-160501">
				
						<section>
							<p>Becca</p>
<p>The main problem with your code is that there is no <code>url</code> property for Ti.UI.View, as per its <a href="http:&#x2F;&#x2F;developer.appcelerator.com&#x2F;apidoc&#x2F;mobile&#x2F;latest&#x2F;Titanium.UI.View-object">API documentation</a>.</p>
<p>What you are trying to do is create a new context for your view js files, but the only way to do that is to use a <a href="http:&#x2F;&#x2F;developer.appcelerator.com&#x2F;apidoc&#x2F;mobile&#x2F;latest&#x2F;Titanium.UI.Window-object">Ti.UI.Window</a>.</p>
<p>Hence, your code will be:</p>
<p>app.js</p>
<pre><code class="hljs"><span class="hljs-built_in">var</span> win1 = Ti<span class="hljs-built_in">.</span>UI<span class="hljs-built_in">.</span>createWindow({
    url: <span class="hljs-string">'win1.js'</span>
});
<span class="hljs-built_in">var</span> win2 = Ti<span class="hljs-built_in">.</span>UI<span class="hljs-built_in">.</span>createWindow({
    url: <span class="hljs-string">'win2.js'</span>
});
<span class="hljs-attribute">...</span><span class="hljs-attribute">...</span><span class="hljs-attribute">...</span><span class="hljs-attribute">...</span><span class="hljs-built_in">..
</span><span class="hljs-comment">//some code</span>
<span class="hljs-attribute">...</span><span class="hljs-attribute">...</span><span class="hljs-attribute">...</span><span class="hljs-attribute">...</span><span class="hljs-built_in">..

</span>someTitaniumObject1<span class="hljs-built_in">.</span>addEventListener(<span class="hljs-string">'click'</span>, function(){
  <span class="hljs-keyword">if</span>(index == <span class="hljs-number">0</span>) {
    win1<span class="hljs-built_in">.</span>open();
  } <span class="hljs-keyword">else</span> {
    win2<span class="hljs-built_in">.</span>open();
  }
});
</code></pre><p>win1.js</p>
<pre><code class="hljs"><span class="hljs-built_in">var</span> win = Ti<span class="hljs-built_in">.</span>UI<span class="hljs-built_in">.</span>currentWindow;

<span class="hljs-attribute">...</span><span class="hljs-attribute">...</span><span class="hljs-attribute">...</span><span class="hljs-attribute">...</span><span class="hljs-built_in">. </span><span class="hljs-comment">// add views and functionality</span>
</code></pre><p>win2.js</p>
<pre><code class="hljs"><span class="hljs-built_in">var</span> win = Ti<span class="hljs-built_in">.</span>UI<span class="hljs-built_in">.</span>currentWindow;

<span class="hljs-attribute">...</span><span class="hljs-attribute">...</span><span class="hljs-attribute">...</span><span class="hljs-attribute">...</span><span class="hljs-built_in">. </span><span class="hljs-comment">// add views and functionality</span>
</code></pre><p>Hope this helps</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="December 14th 2010, 12:25:18 pm">December 14th 2010</span>
								by <span class='authorname'>Paul Dowsett</span><br>
								<a class="icon-bg icon-link" href="question/89201/has-the-currentview-method#answer-160501" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-187221">
				
						<section>
							<p>Is there a reason that he can&#39;t do what he supposes though?<br>Shouldn&#39;t you be able to get the properties of a view from within it it self?(ie via a js file?)</p>
<p>Also, Why use a Window vs a View?</p>
<p>Does anyone have any common container structure for their Windows&#x2F;views?</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="January 28th 2011, 5:43:20 pm">January 28th 2011</span>
								by <span class='authorname'>Justin Richards</span><br>
								<a class="icon-bg icon-link" href="question/89201/has-the-currentview-method#answer-187221" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-187241">
				
						<section>
							<p>Is there a reason that he can&#39;t do what he supposes though?<br>Shouldn&#39;t you be able to get the properties of a view from within it it self?(ie via a js file?)</p>
<p>Also, Why use a Window vs a View?</p>
<p>Does anyone have any common container structure for their Windows&#x2F;views?</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="January 28th 2011, 5:58:08 pm">January 28th 2011</span>
								by <span class='authorname'>Justin Richards</span><br>
								<a class="icon-bg icon-link" href="question/89201/has-the-currentview-method#answer-187241" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>The reason his code does not work is a view cannot have a *.js context attached.  That can only be done at the window level.  As the others pointed out, createView() has no url property so naming it just gets is saved with the object as a custom property value.  The value itself is ignored by the OS.</p>
<p>Secondly, the Ti.UI.currentView does not work for the same reason.  There is no concept of a currentView because there can be many views visible at the same time.  However, there is at most one tab which is current, and while there may be more than one window on the screen, only one will be &quot;current&quot;.</p>
<p>So trying to read Ti.UI.currentView again just looks for a custom property called currentView, and if you have not created such a property then it ends up being null.</p>
<p>Regarding this question:</p>
<p>  &quot;Shouldn&#39;t you be able to get the properties of a view from within it it self?(ie via a js file?)&quot;</p>
<p>Yes, you can retrieve the properties of a view, but a view has nothing directly to do with a js file.  That is, a js file is not specific to a view – it is specific to a window.  So in the window&#39;s js file (or app.js if not using the window url property) you must name which view you want, for example:</p>
<p><code>alert(myView1.backgroundColor);</code></p>
<p>would display the background color of the view called myView1.  If you were in an event listener attached to the view, you could use &quot;this&quot; instead of the view object itself.  For event listeners attached to objects within a view, you cannot use &quot;this&quot; because it would refer to the object with the listener, not the view container object.</p>
<p>Does that help clear things up?</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 28th 2011, 6:34:03 pm">January 28th 2011</span>
											by <span class='authorname'>Doug Handy</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
