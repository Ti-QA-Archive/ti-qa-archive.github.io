<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>OptionDialog only showing once regardless of being activated more times (only happens on Android) Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>OptionDialog only showing once regardless of being activated more times (only happens on Android)</h1>
		</header>
		<section>
			<p>Hi All.<br>I ran into this little problem; I have a quiz with several questions, each asked through the Ti.UI.createOptionDialog. When I test the quiz in the android emulator (everything is working fine in the iPhone simulator and on device) the dialog function only opens once - this happens every time regardless of which button is firing the event (there is 6 in all - all with the same code as below). I have tried all I can think of, so if anyone can help me out on this it would be most appreciated ;-) I am listing the code for the buttons and the dialog function which fires another function opening the answer window. All this works fine the first time, but after that the myDialog function doesn&#39;t work anymore. What can I do to fix this? I am running Titanium 1.8.0.1, testing with the Android Rhino runtime.</p>
<pre><code class="hljs">button1.addEventListener(<span class="hljs-string">'click'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span>
</span>{
    <span class="hljs-keyword">if</span> (Q1answered &lt; <span class="hljs-number">1</span>) {

    <span class="hljs-keyword">var</span> dialog = Ti.UI.createOptionDialog({
       title: Q1,
       options: A1,
    cancel:-<span class="hljs-number">1</span>
});

myDialog(dialog, <span class="hljs-number">1</span>, A1, Anr1, myAvatar);
Q1answered = <span class="hljs-number">1</span>;
button1.backgroundColor = <span class="hljs-string">'white'</span>;
button1.opacity = <span class="hljs-number">0.5</span>;
};
});

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">myDialog</span> <span class="hljs-params">(dialog, Qnr, a, Anr, myAvatar)</span> </span>{

dialog.show();

dialog.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span> </span>{
    <span class="hljs-keyword">var</span> answer = e.index;

    <span class="hljs-keyword">if</span> (answer == Anr) {
        <span class="hljs-keyword">var</span> price = Ti.UI.createImageView({image:stars[Qnr -<span class="hljs-number">1</span>], height:<span class="hljs-string">'10%'</span>, width:<span class="hljs-string">'20%'</span>, top:<span class="hljs-string">'13.5%'</span>, zIndex:<span class="hljs-number">10</span>});
        answer = <span class="hljs-string">'Correct!'</span>;
        award = <span class="hljs-string">'You'</span>ve won<span class="hljs-string">' + starsFarve[Qnr -1] + '</span> stjerne\n<span class="hljs-string">';
        var infoTextLabel = Ti.UI.createLabel ({text:infoText[Qnr - 1], width:'</span><span class="hljs-number">90</span>%<span class="hljs-string">', height:'</span><span class="hljs-number">100</span>%<span class="hljs-string">', font:{fontSize: 12}, color:'</span>black<span class="hljs-string">'});
        qAmount ++;
        rightAnswer++;
        prices[rightAnswer -1] = price;
        newPrice = prices[rightAnswer -1];
        vindue(Qnr, answer, award, qAmount, infoTextLabel, prices, newPrice);
    }
    else { 
        answer = '</span>The answer was not correct.<span class="hljs-string">';
        award = '</span>The correct answer: <span class="hljs-string">' + a[Anr];
        qAmount ++;
        var infoTextLabel = labelMaker(myText = infoText[6], '</span>auto<span class="hljs-string">', '</span><span class="hljs-number">100</span>%<span class="hljs-string">', '</span><span class="hljs-number">2</span>%<span class="hljs-string">', 14, '</span>black<span class="hljs-string">');
        var price = Ti.UI.createImageView({image:stars[6], height:'</span><span class="hljs-number">20</span>%<span class="hljs-string">', width:'</span><span class="hljs-number">0</span>%<span class="hljs-string">', top: '</span><span class="hljs-number">20</span>%<span class="hljs-string">', zIndex:1});
        newPrice = price;
        vindue(Qnr, answer, award, qAmount, infoTextLabel, prices, newPrice);
    };
       });
};</span>
</code></pre><p>If anyone has a solution or has experienced the same I would be very glad to hear from you ;-)<br>Sincerely, Louise</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="December 28th 2011, 1:55:15 pm">December 28th 2011</span>
				by <span class='authorname'>Louise Petersen  Matjeka</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>code</span></li>
					
						<li><span class='tagname'>ui</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-226251">
				
						<section>
							<p>Sorry for the error in the code - the code should of course be (I changed the code from danish to english and wasn&#39;t aware of the little &#39; error);</p>
<pre><code class="hljs">button1.addEventListener(<span class="hljs-string">'click'</span>,function(e)
{
    <span class="hljs-keyword">if</span> (Q1answered &lt; <span class="hljs-number">1</span>) {

    var dialog = Ti.UI.createOptionDialog({
<span class="hljs-label">    title:</span> Q1,
<span class="hljs-label">    options:</span> A1,
<span class="hljs-label">    cancel:</span>-<span class="hljs-number">1</span>
});

myDialog(dialog, <span class="hljs-number">1</span>, A1, Anr1, myAvatar);
Q1answered = <span class="hljs-number">1</span>;
button1.backgroundColor = <span class="hljs-string">'white'</span>;
button1.opacity = <span class="hljs-number">0.5</span>;
};
});

function myDialog (dialog, Qnr, a, Anr, myAvatar) {

dialog.show();

dialog.addEventListener(<span class="hljs-string">'click'</span>, function(e) {
    var answer = e.index;

    <span class="hljs-keyword">if</span> (answer == Anr) {
        var price = Ti.UI.createImageView({<span class="hljs-string">image:</span>stars[Qnr -<span class="hljs-number">1</span>], <span class="hljs-string">height:</span><span class="hljs-string">'10%'</span>, <span class="hljs-string">width:</span><span class="hljs-string">'20%'</span>, <span class="hljs-string">top:</span><span class="hljs-string">'13.5%'</span>, <span class="hljs-string">zIndex:</span><span class="hljs-number">10</span>});
        answer = <span class="hljs-string">'Correct!'</span>;
        award = <span class="hljs-string">"You've won"</span> + starsFarve[Qnr -<span class="hljs-number">1</span>] + <span class="hljs-string">' stjerne\n'</span>;
        var infoTextLabel = Ti.UI.createLabel ({<span class="hljs-string">text:</span>infoText[Qnr - <span class="hljs-number">1</span>], <span class="hljs-string">width:</span><span class="hljs-string">'90%'</span>, <span class="hljs-string">height:</span><span class="hljs-string">'100%'</span>, <span class="hljs-string">font:</span>{<span class="hljs-string">fontSize:</span> <span class="hljs-number">12</span>}, <span class="hljs-string">color:</span><span class="hljs-string">'black'</span>});
        qAmount ++;
        rightAnswer++;
        prices[rightAnswer -<span class="hljs-number">1</span>] = price;
        newPrice = prices[rightAnswer -<span class="hljs-number">1</span>];
        vindue(Qnr, answer, award, qAmount, infoTextLabel, prices, newPrice);
    }
    <span class="hljs-keyword">else</span> { 
        answer = <span class="hljs-string">'The answer was not correct.'</span>;
        award = <span class="hljs-string">'The correct answer: '</span> + a[Anr];
        qAmount ++;
        var infoTextLabel = labelMaker(myText = infoText[<span class="hljs-number">6</span>], <span class="hljs-string">'auto'</span>, <span class="hljs-string">'100%'</span>, <span class="hljs-string">'2%'</span>, <span class="hljs-number">14</span>, <span class="hljs-string">'black'</span>);
        var price = Ti.UI.createImageView({<span class="hljs-string">image:</span>stars[<span class="hljs-number">6</span>], <span class="hljs-string">height:</span><span class="hljs-string">'20%'</span>, <span class="hljs-string">width:</span><span class="hljs-string">'0%'</span>, <span class="hljs-string">top:</span> <span class="hljs-string">'20%'</span>, <span class="hljs-string">zIndex:</span><span class="hljs-number">1</span>});
        newPrice = price;
        vindue(Qnr, answer, award, qAmount, infoTextLabel, prices, newPrice);
    };
       });
};
</code></pre><p>Sorry!<br>Dearest Louise</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="December 28th 2011, 3:50:34 pm">December 28th 2011</span>
								by <span class='authorname'>Louise Petersen  Matjeka</span><br>
								<a class="icon-bg icon-link" href="../../question/129949/optiondialog-only-showing-once-regardless-of-being-activated-more-times-only-happens-on-android.html#answer-226251" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>But the problem still persists ;-)</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 28th 2011, 3:51:13 pm">December 28th 2011</span>
											by <span class='authorname'>Louise Petersen  Matjeka</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
