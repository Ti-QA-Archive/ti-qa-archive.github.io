<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Display UTF8 encoded JSON Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Display UTF8 encoded JSON</h1>
		</header>
		<section>
			<p>Hi !</p>
<p>My application parses a JSON that is encoded in UTF8. But all the labels and webviews that use the data coming from this JSON response display incorrect character. IS there a way to set a global character encoding for the whole application ?</p>
<p>I have found a script that decodes UTF-8 but it is sos slow it is unacceptable for my case.</p>
<p>Thanks</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="April 6th 2011, 5:35:49 am">April 6th 2011</span>
				by <span class='authorname'>Guillaume LA</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>json</span></li>
					
						<li><span class='tagname'>utf8</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>5</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>5 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-205718">
				
						<section>
							<p><a href="http:&#x2F;&#x2F;developer.appcelerator.com&#x2F;question&#x2F;19861&#x2F;jsonparse-utf-8-problem">check this</a> maybe will help you.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="April 6th 2011, 6:17:45 am">April 6th 2011</span>
								by <span class='authorname'>Emrah Mehmedov</span><br>
								<a class="icon-bg icon-link" href="question/118190/display-utf8-encoded-json#answer-205718" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-205719">
				
						<section>
							<p>Nope, my data is coming from JSON and the problem is not from the fields&#39; names but with their content.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="April 6th 2011, 6:21:02 am">April 6th 2011</span>
								by <span class='authorname'>Guillaume LA</span><br>
								<a class="icon-bg icon-link" href="question/118190/display-utf8-encoded-json#answer-205719" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-205751">
				
						<section>
							<p>Can you attach a sample of the JSON that&#39;s failing and a short app.js that demonstrates the problem?</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="April 6th 2011, 1:47:58 pm">April 6th 2011</span>
								by <span class='authorname'>Don Thorp</span><br>
								<a class="icon-bg icon-link" href="question/118190/display-utf8-encoded-json#answer-205751" rel="permalink">permalink</a>
							</div>

							<h5>2 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>I think the problem comes from the server. In one JSON I have UTF8 that is returned by J2EE and content-type set to application&#x2F;json. This one is correctly displayed without any UTF8 decoding in my application. An other JSON is returned by a PHP server that doesn&#39;t set any particular content-type so by default it seems it chooses html. It is encoded in UTF8 by PHP. But this one needs utf8 to be decoed in my app.  </p>
<p>Any idea ?</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 7th 2011, 7:14:23 am">April 7th 2011</span>
											by <span class='authorname'>Guillaume LA</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Problem is indeed on the PHP server.</p>
<p>JSON is encoded in UTF8 but the php file itself is is ANSI. Converting the php file in UTF8 solves the problem becauses the encoding is consistent. But I won&#39;t be able to do this on the production server. So I am back to my question : is it possible to force the character encoding in Titanium widgets ?</p>
<p>Thanks</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 7th 2011, 7:27:12 am">April 7th 2011</span>
											by <span class='authorname'>Guillaume LA</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-213504">
				
						<section>
							<p>Hi,</p>
<p>Have you tested this function &quot;encodeURI&quot; ?</p>
<p>regards</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="July 18th 2011, 1:11:49 pm">July 18th 2011</span>
								by <span class='authorname'>Yann Offredi</span><br>
								<a class="icon-bg icon-link" href="question/118190/display-utf8-encoded-json#answer-213504" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-237037">
				
						<section>
							<p>This post is a little old, but as the answer is only alluded to by the comments of Guillaume LA above I thought I would give my solution.</p>
<p>This problem occurs because the server is not telling the App what it is receiving. The iPhone copes with this but Android does not, so special character become nonsense on Android only.</p>
<p>I was using a PHP script on my server for my JSON calls and I fixed this problem by setting the header in the PHP file.</p>
<pre><code class="hljs">header(<span class="hljs-symbol">'content</span>-<span class="hljs-class"><span class="hljs-keyword">type</span>:</span> application/json; charset=utf-<span class="hljs-number">8</span>');
</code></pre><p>If you do this then you do not need to mess around trying to decode the response.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="April 24th 2012, 10:39:47 am">April 24th 2012</span>
								by <span class='authorname'>John Hawkins</span><br>
								<a class="icon-bg icon-link" href="question/118190/display-utf8-encoded-json#answer-237037" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
