<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>background dissapears » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>background dissapears</h1>
		</header>
		<section>
			<p>I have two windows win1 and win2. When I go into win2 and add buttons to win2, the background of win2 becomes transparent when I want it to be white. </p>
<p>This is my current code</p>
<p>app.js</p>
<pre><code class="hljs">Titanium.UI.setBackgroundColor(<span class="hljs-string">'#fff'</span>);

<span class="hljs-keyword">var</span> win1 = Ti.UI.createWindow({});

<span class="hljs-keyword">var</span> button1 = Titanium.UI.createButton({
    backgroundColor: <span class="hljs-string">'#FFF'</span>,
    borderColor: <span class="hljs-string">'#2E9AFE'</span>,
    borderWidth: <span class="hljs-number">1</span>,
    top: <span class="hljs-string">'0%'</span>,
    left: <span class="hljs-string">'25%'</span>,
    height: <span class="hljs-string">'50%'</span>,
    title: <span class="hljs-string">'Button1'</span>,
});
button1.addEventListener(<span class="hljs-string">'click'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span> </span>{
    <span class="hljs-keyword">var</span> win2 = Ti.UI.createWindow({
        backgroundColor: <span class="hljs-string">'#FFF'</span>,
        top: <span class="hljs-string">'7%'</span>;
        height: <span class="hljs-string">'93%'</span>,
        url: <span class="hljs-string">'/page2.js'</span>,
    });

    win2.open();
});

win1.add(button1);
win1.open();
</code></pre><p>Here is page2.js</p>
<pre><code class="hljs">        <span class="hljs-keyword">var</span> win = Titanium.UI.currentWindow;

    <span class="hljs-keyword">var</span> button2 = Titanium.UI.createButton({
        backgroundColor: <span class="hljs-string">'#FFF'</span>,
        borderColor: <span class="hljs-string">'#2E9AFE'</span>,
        borderWidth: <span class="hljs-number">1</span>,
        top: <span class="hljs-string">'0%'</span>,
        left: <span class="hljs-string">'25%'</span>,
        height: <span class="hljs-string">'50%'</span>,
        title: <span class="hljs-string">'Button2'</span>,
    });
    button2.addEventListener(<span class="hljs-string">'click'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span> </span>{
        backgroundColor: <span class="hljs-string">'#FFF'</span>,
        borderColor: <span class="hljs-string">'#2E9AFE'</span>,
        borderWidth: <span class="hljs-number">1</span>,
        top: <span class="hljs-string">'0%'</span>,
        left: <span class="hljs-string">'25%'</span>,
        height: <span class="hljs-string">'50%'</span>,
        title: <span class="hljs-string">'Hello'</span>,
    });

    win.add(button2);
</code></pre><p>So basically when button2 is displayed the background of win2 becomes transparent. If i comment out win.add(button2) then the output is correct in that I get a white background for window 2.</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="February 6th 2013, 6:02:43 pm">February 6th 2013</span>
				by <span class='authorname'>Anish Agarwal</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>background</span></li>
					
						<li><span class='tagname'>button</span></li>
					
						<li><span class='tagname'>dissapear</span></li>
					
						<li><span class='tagname'>window</span></li>
					
				</ul>
			

			<section>
				<h5>2 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Is this a copy and paste error?</p>
<pre><code class="hljs"><span class="hljs-tag">button2</span><span class="hljs-class">.addEventListener</span>(<span class="hljs-string">'click'</span>,<span class="hljs-function">function</span>(e) {
    <span class="hljs-attribute">backgroundColor</span>: <span class="hljs-string">'#FFF'</span>,
    <span class="hljs-attribute">borderColor</span>: <span class="hljs-string">'#2E9AFE'</span>,
    <span class="hljs-attribute">borderWidth</span>: <span class="hljs-number">1</span>,
    <span class="hljs-attribute">top</span>: <span class="hljs-string">'0%'</span>,
    <span class="hljs-attribute">left</span>: <span class="hljs-string">'25%'</span>,
    <span class="hljs-attribute">height</span>: <span class="hljs-string">'50%'</span>,
    <span class="hljs-attribute">title</span>: <span class="hljs-string">'Hello'</span>,
});
</code></pre><p>This would normally be more like?</p>
<pre><code class="hljs">button2.addEventListener(<span class="hljs-string">'click'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span> </span>{
    alert(<span class="hljs-string">'hello'</span>);
});
</code></pre></div>
							<div class="author">
								&mdash; commented <span title="February 6th 2013, 6:11:24 pm">February 6th 2013</span>
								by <span class='authorname'>Malcolm Hollingsworth</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Oh yes, my bad you are right.</p>
</div>
							<div class="author">
								&mdash; commented <span title="February 6th 2013, 6:40:53 pm">February 6th 2013</span>
								by <span class='authorname'>Anish Agarwal</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-256258">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>Hi</p>
<p>The problem you have (allowing for a few cut and paste issues) is not what you think it is.</p>
<p>As your second window is not taking up the whole space it <strong>appears</strong> to not work correctly, it does not help that your buttons are overlapping which helps it look wrong.  You can see what I mean if you make the following tweak to test;</p>
<pre><code class="hljs">var win2 = Ti.UI.createWindow({
    backgroundColor: <span class="hljs-string">'orange'</span>,
    <span class="hljs-variable">height</span>: Ti.UI.FILL,
    url: <span class="hljs-string">'/page2.js'</span>,
    <span class="hljs-variable">width</span>: Ti.UI.FILL
});
</code></pre><p>I have cleaned up your code up and it does what you wanted;</p>
<p><strong>app.js</strong></p>
<pre><code class="hljs">Ti.UI.setBackgroundColor(<span class="hljs-string">'#fff'</span>);
var win1 = Ti.UI.createWindow({
    backgroundColor: <span class="hljs-string">'#FFF'</span>,
    <span class="hljs-variable">height</span>: Ti.UI.FILL,
    <span class="hljs-variable">width</span>: Ti.UI.FILL
});
var button1 = Ti.UI.createButton({
    backgroundColor: <span class="hljs-string">'#FFF'</span>,
    borderColor: <span class="hljs-string">'#2E9AFE'</span>,
    borderWidth: <span class="hljs-number">1</span>,
    <span class="hljs-variable">height</span>: <span class="hljs-string">'50%'</span>,
    left: <span class="hljs-string">'25%'</span>,
    top: <span class="hljs-string">'0%'</span>,
    title: <span class="hljs-string">'Button1'</span>
});
button1.addEventListener(<span class="hljs-string">'click'</span>,function(e) {
    var win2 = Ti.UI.createWindow({
        backgroundColor: <span class="hljs-string">'#fff'</span>,
        <span class="hljs-variable">height</span>: Ti.UI.FILL,
        url: <span class="hljs-string">'/page2.js'</span>,
        <span class="hljs-variable">width</span>: Ti.UI.FILL
    });
    win2.<span class="hljs-built_in">open</span>();
});
win1.<span class="hljs-built_in">add</span>(button1);
win1.<span class="hljs-built_in">open</span>();
</code></pre><p><strong>page2.js</strong></p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> win = Ti.UI.currentWindow;

<span class="hljs-keyword">var</span> button2 = Ti.UI.createButton({
    backgroundColor: <span class="hljs-string">'#FFF'</span>,
    borderColor: <span class="hljs-string">'#2E9AFE'</span>,
    borderWidth: <span class="hljs-number">1</span>,
    top: <span class="hljs-string">'0%'</span>,
    left: <span class="hljs-string">'55%'</span>,
    height: <span class="hljs-string">'50%'</span>,
    title: <span class="hljs-string">'Button2'</span>
});

button2.addEventListener(<span class="hljs-string">'click'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span> </span>{
    alert(<span class="hljs-string">'hello'</span>);
});
win.add(button2);
</code></pre><p>You can always tweak the dimensions and sizes to your own needs.</p>
<p>A few things to watch out for;</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> win2 = Ti.UI.createWindow({
    backgroundColor: <span class="hljs-string">'#FFF'</span>,
    top: <span class="hljs-string">'7%'</span>; <span class="hljs-comment">// should have been a comma and not a semi-colon</span>
    height: <span class="hljs-string">'93%'</span>,
    url: <span class="hljs-string">'/page2.js'</span>, <span class="hljs-comment">// no trailing commas</span>
});
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="February 6th 2013, 7:39:09 pm">February 6th 2013</span>
								by <span class='authorname'>Malcolm Hollingsworth</span><br>
								<a class="icon-bg icon-link" href="question/147941/background-dissapears#answer-256258" rel="permalink">permalink</a>
							</div>

							<h5>5 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>I wanted to not fill the screen with the second window because I have a header in the first screen that I want to be displayed on all my windows. I thought if I make the second0 window smaller to let the header from the first window still appear it would work. Is there anyother way to make the header remain on all windows without recreating it in every window?</p>
</p>
										<div class="author">
											&mdash; commented <span title="February 7th 2013, 12:37:50 pm">February 7th 2013</span>
											by <span class='authorname'>Anish Agarwal</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>The top 7% of the first window is the header.</p>
</p>
										<div class="author">
											&mdash; commented <span title="February 7th 2013, 12:38:14 pm">February 7th 2013</span>
											by <span class='authorname'>Anish Agarwal</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>If you check out apps like Twitter, Facebook and the like you will see the common approach is to have an ActionBar at the top of all windows.  It is normal to have a new instance of this on each window for Android apps.  Not so for iOS apps but they already have the navigation group to handle those things.</p>
</p>
										<div class="author">
											&mdash; commented <span title="February 7th 2013, 12:48:32 pm">February 7th 2013</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>BTW I am assuming you were able to see the answer I provided was right?</p>
</p>
										<div class="author">
											&mdash; commented <span title="February 7th 2013, 12:50:26 pm">February 7th 2013</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Oh yeah, my bad, it is marked as best answer. Thanks for the help, I really appreciate it.</p>
</p>
										<div class="author">
											&mdash; commented <span title="February 7th 2013, 4:58:52 pm">February 7th 2013</span>
											by <span class='authorname'>Anish Agarwal</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-256257">
				
						<section>
							<p>Try two little changes :<br>in app.js in your button1 eventListener where you are creating a window replace <code>url: &amp;#x2F;page2.js</code> with <code>url: page2.js</code> and add following line to your page2.js</p>
<pre><code class="hljs">Ti.UI.backgroundColor = '<span class="hljs-preprocessor">#FFF';</span>
</code></pre><p>hope it will help..</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="February 6th 2013, 7:06:09 pm">February 6th 2013</span>
								by <span class='authorname'>Nabeel  Munawar</span><br>
								<a class="icon-bg icon-link" href="question/147941/background-dissapears#answer-256257" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>It does not work. Same error is occurring the screen is transparent.</p>
</p>
										<div class="author">
											&mdash; commented <span title="February 6th 2013, 7:39:37 pm">February 6th 2013</span>
											by <span class='authorname'>Anish Agarwal</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
