<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Refresh components in a hidden View Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Refresh components in a hidden View</h1>
		</header>
		<section>
			<p>What I am trying to do is have a &quot;hidden&quot; menu that will push the rest of the content on the screen to the right when I open it.  Here is a scaled down case of some code that shows the general idea of what it is I am trying to do.</p>
<p>index.xml</p>
<pre><code class="hljs"><span class="hljs-tag">&lt;<span class="hljs-title">Alloy</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">Window</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"container"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">View</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"entireScreen"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">View</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"leftView"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">View</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"leftHorizontal"</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-title">Button</span> <span class="hljs-attribute">onClick</span>=<span class="hljs-value">"leftButton"</span>&gt;</span>LeftButton<span class="hljs-tag">&lt;/<span class="hljs-title">Button</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-title">Label</span>&gt;</span>LEFT<span class="hljs-tag">&lt;/<span class="hljs-title">Label</span>&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-title">View</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-title">View</span>&gt;</span>

            <span class="hljs-tag">&lt;<span class="hljs-title">View</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"rightView"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">View</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"rightHorizontal"</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-title">Button</span> <span class="hljs-attribute">onClick</span>=<span class="hljs-value">"rightButton"</span>&gt;</span>RightButton<span class="hljs-tag">&lt;/<span class="hljs-title">Button</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-title">Label</span>&gt;</span>RIGHT<span class="hljs-tag">&lt;/<span class="hljs-title">Label</span>&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-title">View</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-title">View</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">View</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">Window</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">Alloy</span>&gt;</span>
</code></pre><p>index.tss</p>
<pre><code class="hljs">"<span class="hljs-class">.container</span>": <span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">backgroundColor</span>:<span class="hljs-value"><span class="hljs-string">"white"</span>
</span></span></span>},

"<span class="hljs-id">#entireScreen</span>":<span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">width</span>:<span class="hljs-value"> Ti.UI.FULL,
    left: <span class="hljs-string">"0dp"</span>,
    layout: <span class="hljs-string">"horizontal"</span>
</span></span></span>},

"<span class="hljs-id">#leftView</span>":<span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">width</span>:<span class="hljs-value"> <span class="hljs-string">"0dp"</span>,
    left: <span class="hljs-string">"0dp"</span>,
    layout: <span class="hljs-string">"vertical"</span>,
    backgroundColor: <span class="hljs-string">"black"</span>
</span></span></span>},

"<span class="hljs-id">#leftHorizontal</span>":<span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">layout</span>:<span class="hljs-value"> <span class="hljs-string">"horizontal"</span>,
    height: <span class="hljs-string">"60dp"</span>,
    width: Ti.UI.FULL,
    left: <span class="hljs-string">"0dp"</span>,
    backgroundColor: <span class="hljs-string">"blue"</span>
</span></span></span>},

"<span class="hljs-id">#rightView</span>":<span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">width</span>:<span class="hljs-value"> <span class="hljs-string">"200dp"</span>,
    left: <span class="hljs-string">"0dp"</span>,
    layout:<span class="hljs-string">"vertical"</span>,
    backgroundColor: <span class="hljs-string">"gray"</span>
</span></span></span>},

"<span class="hljs-id">#rightHorizontal</span>":<span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">layout</span>:<span class="hljs-value"> <span class="hljs-string">"horizontal"</span>,
    height: <span class="hljs-string">"60dp"</span>,
    width: Ti.UI.FULL,
    left: <span class="hljs-string">"0dp"</span>,
    backgroundColor: <span class="hljs-string">"green"</span>
</span></span></span>}
</code></pre><p>index.js</p>
<pre><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">rightButton</span>(<span class="hljs-params">e</span>)</span>{
        <span class="hljs-keyword">var</span> moveLeft = <span class="hljs-string">"200dp"</span>;
        <span class="hljs-keyword">var</span> moveRight = <span class="hljs-string">"0dp"</span>;

        $.leftView.animate({
            width: moveLeft,
            duration:<span class="hljs-number">200</span>
        });

        $.leftHorizontal.animate({
            width: moveLeft,
            duration:<span class="hljs-number">200</span>
        });

        $.rightView.animate({
            width: moveRight,
            left: moveLeft,
            duration:<span class="hljs-number">200</span>
        });
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">leftButton</span>(<span class="hljs-params">e</span>)</span>{

        <span class="hljs-keyword">var</span> moveLeft = <span class="hljs-string">"0dp"</span>;
        <span class="hljs-keyword">var</span> moveRight = <span class="hljs-string">"200dp"</span>;

        $.leftView.animate({
            width: moveLeft,
            duration:<span class="hljs-number">200</span>
        });

        $.rightView.animate({
            width: moveRight,
            left: moveLeft,
            duration:<span class="hljs-number">200</span>
        });

        $.rightHorizontal.animate({
            width: moveRight,
            left: moveLeft,
            duration:<span class="hljs-number">200</span>
        });
}

$.index.open();
</code></pre><p>The problem is that the view that is originally hidden (leftView) causes the elements attached to leftHorizontal to not have adequate width to be displayed in a horizontal layout, and thus the label &quot;LEFT&quot; will appear below the button, rather than to the right of it.  Simply changing the initial width of the leftView to something larger than the width necessary to accommodate the button and the label will cause the positioning of all of the elements to be correct, however this solution is not idea, as I will have to flash an incorrect layout at startup and then adjust it.  I can make it look relatively nice but this is not what I desire.</p>
<p>What I am more or less looking for is, is there a $.myView.refresh() or some function that I can call after changing the sizes of elements to adjust all inconsistencies in layouts to use all the current sizes to redo the necessary calculations?</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="January 20th 2014, 5:02:49 pm">January 20th 2014</span>
				by <span class='authorname'>James W</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>alloy</span></li>
					
						<li><span class='tagname'>refresh</span></li>
					
				</ul>
			

			<section>
				<h5>1 Comment</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>For what its worth, If I hard code a value of large enough size to #leftHorizontal rather than using Ti.UI.FULL, it will function properly.  I suppose a work around for me would be to use a hard coded value of sufficient size and pragmatically adjust components on button clicks.  Does anyone have a good understanding on why this happens?</p>
</div>
							<div class="author">
								&mdash; commented <span title="January 20th 2014, 5:47:02 pm">January 20th 2014</span>
								by <span class='authorname'>James W</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-274170">
				
						<section>
							<p>Hrm.  I&#39;d just use Mad&#39;s drawer module</p>
<p><a href="https:&#x2F;&#x2F;github.com&#x2F;viezel&#x2F;NappDrawer">https:&#x2F;&#x2F;github.com&#x2F;viezel&#x2F;NappDrawer</a></p>
<p>Saves reinventing the wheel.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="January 20th 2014, 7:38:12 pm">January 20th 2014</span>
								by <span class='authorname'>Stephen Feather</span><br>
								<a class="icon-bg icon-link" href="../../question/161735/refresh-components-in-a-hidden-view.html#answer-274170" rel="permalink">permalink</a>
							</div>

							<h5>3 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Feed it a big meal?</p>
<pre><code class="hljs"><span class="hljs-attribute">width</span>: Ti<span class="hljs-class">.UI</span><span class="hljs-class">.FULL</span>,
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="January 20th 2014, 7:42:41 pm">January 20th 2014</span>
											by <span class='authorname'>Stephen Feather</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Agreed, I believe there&#39;s more than one control like this out there already in the community.</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 21st 2014, 12:25:39 pm">January 21st 2014</span>
											by <span class='authorname'>Tony Lukasavage</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>yepp, search on <a href="http:&#x2F;&#x2F;gitt.io&#x2F;search?q=menu+slide&amp;p=1">gitTio</a></p>
</p>
										<div class="author">
											&mdash; commented <span title="January 21st 2014, 12:46:45 pm">January 21st 2014</span>
											by <span class='authorname'>Matthias Kroeger</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>2</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-274219">
				
						<section>
							<p>In order to solve the update issue I used </p>
<pre><code class="hljs">        $<span class="hljs-class">.leftHorizontal</span><span class="hljs-class">.applyProperties</span>({
            <span class="hljs-attribute">width</span><span class="hljs-value">: moveLeft
        });</span>
</code></pre><p>for some reason using the animate will not properly refresh the properties, so it was necessary to apply the properties after the animation takes place.  Now the layout looks as I intended.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="January 21st 2014, 10:47:06 pm">January 21st 2014</span>
								by <span class='authorname'>James W</span><br>
								<a class="icon-bg icon-link" href="../../question/161735/refresh-components-in-a-hidden-view.html#answer-274219" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
