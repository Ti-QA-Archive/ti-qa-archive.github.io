<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Need sql query or logic. » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Need sql query or logic.</h1>
		</header>
		<section>
			<p>Hi,<br> I have one Database table with some data. I want to generate some o&#x2F;p from that table,i tried in different ways.. but I didn&#39;t got sufficient o&#x2F;p. </p>
<p><a href="http:&#x2F;&#x2F;pastebin.com&#x2F;b0bib5YF">Here is the Link..</a></p>
<p>Is it possible, Please hint something..</p>
<p>Regards by,<br>Lokesh..</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="August 22nd 2011, 10:34:37 am">August 22nd 2011</span>
				by <span class='authorname'>lokesh g</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>query</span></li>
					
						<li><span class='tagname'>sqlite</span></li>
					
				</ul>
			

			<section>
				<h5>1 Comment</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>It would be best to query your database for all those records, provided the database isn&#39;t huge, then use JS to sort your data as needed. Can you share any of the code you&#39;ve used so far?</p>
</div>
							<div class="author">
								&mdash; commented <span title="August 22nd 2011, 10:48:58 am">August 22nd 2011</span>
								by <span class='authorname'>Tony Lukasavage</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-217167">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>It would be most efficient to allow SQLite to perform the sorting using an ORDER BY clause on the SELECT statement.  Normally, I would say use something like this to paraphrase Adam&#39;s code:</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> <span class="hljs-literal">result</span> = db.execute('<span class="hljs-type">SELECT</span> categories, myvalues <span class="hljs-type">FROM</span> mytable <span class="hljs-type">ORDER</span> <span class="hljs-type">BY</span> <span class="hljs-type">Categories</span>, <span class="hljs-type">Values</span>');
</code></pre><p>That would ensure all rows with the same categories are together in the output.  However, in the pastebin you appear to want them sorted by the Values field, so that would be:</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> <span class="hljs-literal">result</span> = db.execute('<span class="hljs-type">SELECT</span> categories, myvalues <span class="hljs-type">FROM</span> mytable <span class="hljs-type">ORDER</span> <span class="hljs-type">BY</span> <span class="hljs-type">Values</span>');
</code></pre><p>For the example rows given, that would produce the desired sort and still have all rows grouped by &quot;Categories&quot;.  Only you know if your data will inherently conform to that pattern.</p>
<p>For the sake of argument, let&#39;s say the rows with Values b and f had the opposite Categories contents.  How would you want the output sorted?</p>
<p>Also, it isn&#39;t clear how you prefer to display the output.  Just as lines in a TextArea?  That would be most similar to your pastebin output.  Or as rows in a grouped table?  That would allow iOS to format each category nicely, and android to have a header type row at the top of each category.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 22nd 2011, 4:07:16 pm">August 22nd 2011</span>
								by <span class='authorname'>Doug Handy</span><br>
								<a class="icon-bg icon-link" href="question/124581/need-sql-query-or-logic.html#answer-217167" rel="permalink">permalink</a>
							</div>

							<h5>2 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>It&#39;s working fine by using this Query… Thankyou guys..</p>
<p><code>var result = db.execute(&amp;#39;SELECT categories, myvalues FROM mytable ORDER BY Categories, Values&amp;#39;);</code></p>
</p>
										<div class="author">
											&mdash; commented <span title="August 23rd 2011, 10:22:44 am">August 23rd 2011</span>
											by <span class='authorname'>lokesh g</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>It is helpful for prioritizing future search results if you mark an answer as best&#x2F;correct once you feel your question has been answered.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 23rd 2011, 10:25:59 am">August 23rd 2011</span>
											by <span class='authorname'>Doug Handy</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-217165">
				
						<section>
							<p>Here is a quick way to do it with the result set.  Though, like Tony mentioned, if you have a large amount of data, it is best to do this in sql than in js.  Also, I think &#39;Values&#39; is reserved, so try a different name for that field.</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> <span class="hljs-literal">result</span> = db.execute('<span class="hljs-type">SELECT</span> categories, myvalues <span class="hljs-type">FROM</span> mytable');
<span class="hljs-keyword">var</span> category;
<span class="hljs-keyword">while</span> (<span class="hljs-literal">result</span>.isValidRow()) {
    <span class="hljs-keyword">var</span> newCategory = <span class="hljs-literal">result</span>.fieldByName('categories')
    <span class="hljs-keyword">if</span> (category != newCategory){
        category = newCategory;
        <span class="hljs-type">Ti</span>.<span class="hljs-type">API</span>.info(category)
    }
    <span class="hljs-type">Ti</span>.<span class="hljs-type">API</span>.info(<span class="hljs-literal">result</span>.fieldByName('myvalues'));
    <span class="hljs-literal">result</span>.next();
}
</code></pre><p>Also don&#39;t forgot to close the result set and db when finished.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 22nd 2011, 3:32:25 pm">August 22nd 2011</span>
								by <span class='authorname'>Adam Paxton</span><br>
								<a class="icon-bg icon-link" href="question/124581/need-sql-query-or-logic.html#answer-217165" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
