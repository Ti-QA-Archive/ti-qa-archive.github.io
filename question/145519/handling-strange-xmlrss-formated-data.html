<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Handling strange xml/rss formated data Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Handling strange xml/rss formated data</h1>
		</header>
		<section>
			<p>I am trying to write a small app that will pull data in from my media server.  I&#39;m using a API to pull the data in but I can&#39;t seem to get a handle on how to access the actual data.  Can someone give me a small example of how to do this for my return data?</p>
<p>I&#39;ve tried looking at the kitchen sink examples, but I can&#39;t get them to work.  I&#39;ve also worked with RSS feeds before and can handle those, but this format is throwing me for a loop.  </p>
<p>Any examples would be appreciated.  Thanks</p>
<pre><code class="hljs">{
    "<span class="hljs-attribute">data</span>": <span class="hljs-value">{
        "<span class="hljs-attribute">30 Rock</span>": <span class="hljs-value">{
            "<span class="hljs-attribute">air_by_date</span>": <span class="hljs-value"><span class="hljs-number">0</span></span>, 
            "<span class="hljs-attribute">cache</span>": <span class="hljs-value">{
                "<span class="hljs-attribute">banner</span>": <span class="hljs-value"><span class="hljs-number">1</span></span>, 
                "<span class="hljs-attribute">poster</span>": <span class="hljs-value"><span class="hljs-number">1</span>
            </span>}</span>, 
            "<span class="hljs-attribute">language</span>": <span class="hljs-value"><span class="hljs-string">"en"</span></span>, 
            "<span class="hljs-attribute">network</span>": <span class="hljs-value"><span class="hljs-string">"NBC"</span></span>, 
            "<span class="hljs-attribute">next_ep_airdate</span>": <span class="hljs-value"><span class="hljs-string">"2013-01-03"</span></span>, 
            "<span class="hljs-attribute">paused</span>": <span class="hljs-value"><span class="hljs-number">0</span></span>, 
            "<span class="hljs-attribute">quality</span>": <span class="hljs-value"><span class="hljs-string">"Any"</span></span>, 
            "<span class="hljs-attribute">status</span>": <span class="hljs-value"><span class="hljs-string">"Continuing"</span></span>, 
            "<span class="hljs-attribute">tvdbid</span>": <span class="hljs-value"><span class="hljs-number">79488</span></span>, 
            "<span class="hljs-attribute">tvrage_id</span>": <span class="hljs-value"><span class="hljs-number">11215</span></span>, 
            "<span class="hljs-attribute">tvrage_name</span>": <span class="hljs-value"><span class="hljs-string">"30 Rock"</span>
        </span>}</span></span>
</code></pre>
		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="December 8th 2012, 7:25:06 pm">December 8th 2012</span>
				by <span class='authorname'>Chris Ditty</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>iphone</span></li>
					
						<li><span class='tagname'>xml</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-252392">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>Hi Chris</p>
<p>It may look strange to you but is simply formatted as JSON, this is MUCH easier to access that XML&#x2F;RSS and if you have never seen it before, you are in for a treat as it is REALLY easy.</p>
<p>I am going to assume you have retrieved this data using <strong>httpClient</strong>, but if not the principle is the same.</p>
<pre><code class="hljs"><span class="hljs-comment">// this would be returned by httpClient, so this line is just to replicate that for the example</span>
var response = {
    <span class="hljs-string">"data"</span>: {
        <span class="hljs-string">"30 Rock"</span>: {
            <span class="hljs-string">"air_by_date"</span>: <span class="hljs-number">0</span>, 
            <span class="hljs-string">"cache"</span>: {
                <span class="hljs-string">"banner"</span>: <span class="hljs-number">1</span>, 
                <span class="hljs-string">"poster"</span>: <span class="hljs-number">1</span>
            }, 
            <span class="hljs-string">"language"</span>: <span class="hljs-string">"en"</span>, 
            <span class="hljs-string">"network"</span>: <span class="hljs-string">"NBC"</span>, 
            <span class="hljs-string">"next_ep_airdate"</span>: <span class="hljs-string">"2013-01-03"</span>, 
            <span class="hljs-string">"paused"</span>: <span class="hljs-number">0</span>, 
            <span class="hljs-string">"quality"</span>: <span class="hljs-string">"Any"</span>, 
            <span class="hljs-string">"status"</span>: <span class="hljs-string">"Continuing"</span>, 
            <span class="hljs-string">"tvdbid"</span>: <span class="hljs-number">79488</span>, 
            <span class="hljs-string">"tvrage_id"</span>: <span class="hljs-number">11215</span>, 
            <span class="hljs-string">"tvrage_name"</span>: <span class="hljs-string">"30 Rock"</span>
        }
    }
};
<span class="hljs-comment">// access - quality</span>
alert(response.data[<span class="hljs-string">"30 Rock"</span>].quality);
<span class="hljs-comment">// access - poster</span>
alert(response.data[<span class="hljs-string">"30 Rock"</span>].cache.poster);

<span class="hljs-comment">// use ["..."] syntax if the field has a space in it</span>
</code></pre><p>You will sometimes see array elements, for exmaple;</p>
<pre><code class="hljs">var response = [
    { <span class="hljs-string">title:</span> <span class="hljs-string">'One'</span> },
    { <span class="hljs-string">title:</span> <span class="hljs-string">'Two'</span> },
    { <span class="hljs-string">title:</span> <span class="hljs-string">'Three'</span> }
];
<span class="hljs-comment">// first title</span>
alert(response[<span class="hljs-number">0</span>].title);
<span class="hljs-comment">// length of array</span>
alert(response.length);

<span class="hljs-comment">//loop the items</span>
var intRow = <span class="hljs-number">0</span>, intRows = response.length;
<span class="hljs-keyword">for</span> (intRow = <span class="hljs-number">0</span>; intRow &lt; intRows; intRow = intRow + <span class="hljs-number">1</span>) {
    alert(response[intRow].title);
}
</code></pre><p>Complicated  examples are still simple</p>
<pre><code class="hljs">var response = [
    {
<span class="hljs-label">        title:</span> <span class="hljs-string">''</span>,
<span class="hljs-label">        rows:</span> [
            { <span class="hljs-string">title:</span> <span class="hljs-string">'First Name'</span>, <span class="hljs-string">field:</span> <span class="hljs-string">'firstname'</span> },
            { <span class="hljs-string">title:</span> <span class="hljs-string">'Last Name'</span>, <span class="hljs-string">field:</span> <span class="hljs-string">'lastname'</span> }
        ]
    },
    {
<span class="hljs-label">        title:</span> <span class="hljs-string">''</span>,
<span class="hljs-label">        rows:</span> [
            { <span class="hljs-string">title:</span> <span class="hljs-string">'Male'</span>, <span class="hljs-string">field:</span> <span class="hljs-string">'gender'</span>, <span class="hljs-string">value:</span> <span class="hljs-string">'male'</span>, <span class="hljs-string">type:</span> <span class="hljs-string">'tick'</span> },
            { <span class="hljs-string">title:</span> <span class="hljs-string">'Female'</span>, <span class="hljs-string">field:</span> <span class="hljs-string">'gender'</span>, <span class="hljs-string">value:</span> <span class="hljs-string">'female'</span>, <span class="hljs-string">type:</span> <span class="hljs-string">'tick'</span> }
        ]
    },
    {
<span class="hljs-label">        title:</span> <span class="hljs-string">''</span>,
<span class="hljs-label">        rows:</span> [
            { <span class="hljs-string">title:</span> <span class="hljs-string">'Email'</span>, <span class="hljs-string">field:</span> <span class="hljs-string">'email'</span>, <span class="hljs-string">keyboard:</span> <span class="hljs-string">'email'</span>, <span class="hljs-string">smart:</span> <span class="hljs-literal">false</span> },
            { <span class="hljs-string">title:</span> <span class="hljs-string">'Confirm'</span>, <span class="hljs-string">field:</span> <span class="hljs-string">'emailconfirm'</span>, <span class="hljs-string">keyboard:</span> <span class="hljs-string">'email'</span> }
        ]
    },
    {
<span class="hljs-label">        rows:</span> [
            { <span class="hljs-string">title:</span> <span class="hljs-string">'Password'</span>, <span class="hljs-string">field:</span> <span class="hljs-string">'password'</span>, <span class="hljs-string">passwordMask:</span> <span class="hljs-literal">true</span> },
            { <span class="hljs-string">title:</span> <span class="hljs-string">'Confirm'</span>, <span class="hljs-string">field:</span> <span class="hljs-string">'passwordconfirm'</span>, <span class="hljs-string">passwordMask:</span> <span class="hljs-literal">true</span> }
        ]
    }
];
<span class="hljs-comment">// outer array length</span>
alert(response.length);
<span class="hljs-comment">// first item row count</span>
alert(response[<span class="hljs-number">0</span>].rows.length);
<span class="hljs-comment">// second items first row title</span>
alert(response[<span class="hljs-number">1</span>].rows[<span class="hljs-number">0</span>].title);
</code></pre><p>Hope this helps.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="December 8th 2012, 7:54:54 pm">December 8th 2012</span>
								by <span class='authorname'>Malcolm Hollingsworth</span><br>
								<a class="icon-bg icon-link" href="question/145519/handling-strange-xmlrss-formated-data#answer-252392" rel="permalink">permalink</a>
							</div>

							<h5>2 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Thanks Malcolm.  That helped alot.  With my example data, how do I get the title &quot;30 Rock&quot;?  That area will be dynamic.  I tried referencing it with response.data[0] and get undefined.</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 9th 2012, 12:29:27 am">December 9th 2012</span>
											by <span class='authorname'>Chris Ditty</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>You are welcome.  I have tweaked your example code to help demonstrate your request. and created an example to show you how to iterate the items.</p>
<pre><code class="hljs">var response = {
    <span class="hljs-string">"data"</span>: {
        <span class="hljs-string">"30 Rock"</span>: {
            <span class="hljs-string">"title"</span>: <span class="hljs-string">"example 1"</span>, 
            <span class="hljs-string">"value"</span>: <span class="hljs-number">1</span>
        },
        <span class="hljs-string">"Lost"</span>: {
            <span class="hljs-string">"title"</span>: <span class="hljs-string">"example 2"</span>, 
            <span class="hljs-string">"value"</span>: <span class="hljs-number">2</span>
        },
        <span class="hljs-string">"24"</span>: {
            <span class="hljs-string">"title"</span>: <span class="hljs-string">"example 3"</span>, 
            <span class="hljs-string">"value"</span>: <span class="hljs-number">3</span>
        }
    }
};
var show, shows = response.data;
<span class="hljs-keyword">for</span> (show <span class="hljs-keyword">in</span> shows) {
    Ti.API.info(show);
    Ti.API.info(shows[show]);
    alert(shows[show].title);        
}
</code></pre><p>To simplify your code I have used this line;</p>
<pre><code class="hljs">var <span class="hljs-operator"><span class="hljs-keyword">show</span>, shows = response.<span class="hljs-keyword">data</span>;</span>
</code></pre><p>This makes accessing the JSON object array using named elements much easier.</p>
<p>Then this loop allows you to iterate through the named node elements.</p>
<pre><code class="hljs"><span class="hljs-tag">for</span> (show in shows) {
    ...
}
</code></pre><p>Then simply access each branch; as in this example;</p>
<pre><code class="hljs"><span class="hljs-tag">alert</span>(<span class="hljs-tag">shows</span><span class="hljs-attr_selector">[show]</span><span class="hljs-class">.title</span>);
</code></pre><p>Hope this helps you solve the last problem.</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 9th 2012, 9:59:13 am">December 9th 2012</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
