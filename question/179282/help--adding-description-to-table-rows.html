<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Help- Adding Description to table rows » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Help- Adding Description to table rows</h1>
		</header>
		<section>
			<p>Hi, i´m developing an android-iphone app and having trouble with table rows. in one of my windows i read Json data from my remote server. What im trying to do is that when the user click the table row, the app show the description data from the same json. </p>
<p>i´m sorry for my English , is not my first lenguage.</p>
<p>here is my code:</p>
<pre><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">get</span> (<span class="hljs-params"></span>)</span>{
<span class="hljs-keyword">var</span> url = <span class="hljs-string">"http://amigosdelnorte.com.ar/read_todo_list2.php"</span>;
<span class="hljs-keyword">var</span> win = Ti.UI.createWindow({
    backgroundColor: <span class="hljs-string">'#1b273f'</span>
});

<span class="hljs-keyword">var</span> table = Ti.UI.createTableView();
<span class="hljs-keyword">var</span> tableData = [];
<span class="hljs-keyword">var</span> data = []; 

<span class="hljs-keyword">var</span> xhr = Ti.Network.createHTTPClient({

    onload: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> jsonObject = <span class="hljs-built_in">JSON</span>.parse(<span class="hljs-keyword">this</span>.responseText);
   <span class="hljs-comment">// alert(JSON.stringify(this.responseText));</span>


         <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>, j = jsonObject.resultset.length; i &lt; j; i++) {
        <span class="hljs-keyword">var</span> row = Titanium.UI.createTableViewRow({
            height:<span class="hljs-string">"30sp"</span>,
            color: <span class="hljs-string">"#fff"</span>,
            backgroundColor: <span class="hljs-string">'#2c57ac'</span>,
            title: jsonObject.resultset[i].Local + <span class="hljs-string">" "</span> + jsonObject.resultset[i].GL + <span class="hljs-string">"-- "</span> + jsonObject.resultset[i].GV + <span class="hljs-string">" "</span> + jsonObject.resultset[i].Visitante,


        });
        tableData.push(row);
        table.setData(tableData);
      }
    },
    onerror: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
        alert(<span class="hljs-string">'There was an error retrieving the remote data. Try again.'</span>);
    },
    timeout:<span class="hljs-number">5000</span>
});

xhr.open(<span class="hljs-string">"GET"</span>, url);
xhr.send();

win.add(table);
win.open();
}
$.index.open();
</code></pre>
		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="November 25th 2014, 9:07:55 pm">November 25th 2014</span>
				by <span class='authorname'>carlos cesano</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>json</span></li>
					
						<li><span class='tagname'>row</span></li>
					
						<li><span class='tagname'>tableview</span></li>
					
						<li><span class='tagname'>tableviewrow</span></li>
					
				</ul>
			

			<section>
				<h5>1 Comment</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Hi,</p>
<p>Do you want the details of table view row data on same window or another window?</p>
</div>
							<div class="author">
								&mdash; commented <span title="November 26th 2014, 3:33:02 am">November 26th 2014</span>
								by <span class='authorname'>Raju ®</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-284055">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>Hi Carlos Cesano,</p>
<p>Thanks for your concern.</p>
<p>You can show the table view row data by clicking the row using the code below.</p>
<pre><code class="hljs"><span class="hljs-built_in">table</span>.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span></span>{
    alert(e.rowData.title);
});
</code></pre><p>You can also show the details to another window(named ui.js here) by clicking the row using the code below.</p>
<pre><code class="hljs"><span class="hljs-keyword">table</span>.addEventListener('click', function(<span class="hljs-keyword">e</span>){
    <span class="hljs-keyword">var</span> ui = Ti.UI.createWindow({
        backgroundColor : '#999966',
        url : <span class="hljs-keyword">e</span>.rowData.url
    });

    <span class="hljs-keyword">var</span> <span class="hljs-keyword">label</span> = Ti.UI.createLabel({
        text:<span class="hljs-keyword">e</span>.rowData.title,
        color:'#000'
    });
    ui.add(<span class="hljs-keyword">label</span>);
    ui.<span class="hljs-keyword">open</span>();
});
</code></pre><p>In <strong>ui.js</strong></p>
<pre><code class="hljs"><span class="hljs-variable"><span class="hljs-keyword">var</span> ui</span> = Ti.UI.currentWindow;
</code></pre><p>Hope this will solve your problem. If so, then mark this answer as accepted.</p>
<p>Thanks</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="November 26th 2014, 3:40:20 am">November 26th 2014</span>
								by <span class='authorname'>Raju ®</span><br>
								<a class="icon-bg icon-link" href="question/179282/help--adding-description-to-table-rows#answer-284055" rel="permalink">permalink</a>
							</div>

							<h5>9 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>thanks, this was exactly what i need.</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 26th 2014, 4:42:30 am">November 26th 2014</span>
											by <span class='authorname'>carlos cesano</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Welcome and happy that it resolves your problem :-)</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 26th 2014, 5:00:14 am">November 26th 2014</span>
											by <span class='authorname'>Raju ®</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>BTW: very bad practice to use the url property to create a new window.</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 26th 2014, 6:35:39 pm">November 26th 2014</span>
											by <span class='authorname'>Danny Pham</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>how should i do it?, i´m new at this.</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 27th 2014, 2:23:46 am">November 27th 2014</span>
											by <span class='authorname'>carlos cesano</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>@carlos : You can use commonJS or Alloy structure.</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 27th 2014, 3:24:53 am">November 27th 2014</span>
											by <span class='authorname'>Mitul Bhalia</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>i´m trying to do this with alloy. I´m new so i´m getting me some troubles to do it right</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 27th 2014, 4:04:52 am">November 27th 2014</span>
											by <span class='authorname'>carlos cesano</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>nice… keep it up :)</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 27th 2014, 4:09:29 am">November 27th 2014</span>
											by <span class='authorname'>Mitul Bhalia</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Yes using url properties  is a bad practice, my bad. You can get help from this <a href="https:&#x2F;&#x2F;github.com&#x2F;aaronksaunders&#x2F;todolist.alloy">demo alloy app</a> that <em>Mitul Bhalia</em> refer for alloy structure.</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 27th 2014, 5:20:00 am">November 27th 2014</span>
											by <span class='authorname'>Raju ®</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>thaks a lot, i´m going to see that sample app</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 27th 2014, 7:08:19 am">November 27th 2014</span>
											by <span class='authorname'>carlos cesano</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-284057">
				
						<section>
							<p>The best way is to set a custom variable in a row object to pass any kind of data. This will help you to get that back when you click on a row by table&#39;s click event.</p>
<p>here you want to show a description of json so this data is similar as row&#39; title so you have two choices rather to set any custom variable to row&#39;s object you can directly get that by <code>e.row.title</code> but in future if you have different json data to pass to another window then i would prefer you to set custom variable in row&#39;s object and pass value to that data.</p>
<p>If you did not get what i am trying to tell then let me show you by code……</p>
<pre><code class="hljs"> for <span class="hljs-list">(<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>, j = jsonObject.resultset.length<span class="hljs-comment">; i &lt; j; i++) {</span>
 var detail = jsonObject.resultset[i].Local + <span class="hljs-string">" "</span> + jsonObject.resultset[i].GL + <span class="hljs-string">"-- "</span> + jsonObject.resultset[i].GV + <span class="hljs-string">" "</span> + jsonObject.resultset[i].Visitante<span class="hljs-comment">;</span>

        var row = Titanium.UI.createTableViewRow<span class="hljs-list">({
            height:<span class="hljs-string">"30sp"</span>,
            color: <span class="hljs-string">"#fff"</span>,
            backgroundColor: <span class="hljs-quoted">'#2c57ac</span>',
            title: detail,
         thisObj : detail 

        })</span><span class="hljs-comment">;</span>
        tableData.push<span class="hljs-list">(<span class="hljs-keyword">row</span>)</span><span class="hljs-comment">;</span>
      }
        table.setData<span class="hljs-list">(<span class="hljs-keyword">tableData</span>)</span><span class="hljs-comment">;</span>

table.addEventListener<span class="hljs-list">(<span class="hljs-quoted">'click</span>',function<span class="hljs-list">(<span class="hljs-keyword">e</span>)</span>{
    alert<span class="hljs-list">(<span class="hljs-keyword">e</span>.row.thisObj)</span><span class="hljs-comment">;</span>
})</span><span class="hljs-comment">;</span></span>
</code></pre><p>and one more thing is that you should not use setData method of table in a loop. you should use it after loop.</p>
<p>Hope you get it  :)</p>
<p>Let me know if you want further help.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="November 26th 2014, 4:04:03 am">November 26th 2014</span>
								by <span class='authorname'>Mitul Bhalia</span><br>
								<a class="icon-bg icon-link" href="question/179282/help--adding-description-to-table-rows#answer-284057" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
