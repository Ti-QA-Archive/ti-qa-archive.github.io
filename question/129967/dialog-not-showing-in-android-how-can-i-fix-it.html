<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Dialog not showing in Android, how can I fix it? » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Dialog not showing in Android, how can I fix it?</h1>
		</header>
		<section>
			<p>Hi All.<br>I have been struggling with optionDialogs in Android. The code works fine in iPhone, but on Android it shows once and then disappears as if the code didn&#39;t work (but it did the first time…) I would be so happy to get some help, because I don&#39;t know how to fix it - hvae tried all I know and all solutions I can find in here. I have tried a rebuild, triggering the optionDialog from a sub .js file and also tried various versions of codes, but the result is the same. The strange thing is that the buttons that trigger the optionDialog are set to be white when they have been triggered - and they do all turn white, but no dialog appears… Why is it behaving like this and what can I do to make it show multiple times? Many thanks in advance for your help!!<br>Dearest Louise</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> dialog = Ti.UI.createOptionDialog({
       title: <span class="hljs-string">''</span>,
       options: [],
    cancel:-<span class="hljs-number">1</span>
});

    button1.addEventListener(<span class="hljs-string">'click'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span>
</span>{
    <span class="hljs-keyword">if</span> (Q1var &lt; <span class="hljs-number">1</span>) {

dialog.show();

dialog.setTitle(Q1);
dialog.setOptions(A1);

dialog.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span> </span>{
    <span class="hljs-keyword">var</span> answer = e.index;

    <span class="hljs-keyword">if</span> (answer == Anr) {
        <span class="hljs-keyword">var</span> price = Ti.UI.createImageView({image:stars[Qnr -<span class="hljs-number">1</span>], height:<span class="hljs-string">'10%'</span>, width:<span class="hljs-string">'20%'</span>, top:<span class="hljs-string">'13.5%'</span>, zIndex:<span class="hljs-number">10</span>});

    }
    <span class="hljs-keyword">else</span> { 

        <span class="hljs-keyword">var</span> price = Ti.UI.createImageView({image:stars[<span class="hljs-number">6</span>], height:<span class="hljs-string">'20%'</span>, width:<span class="hljs-string">'0%'</span>, top: <span class="hljs-string">'20%'</span>, zIndex:<span class="hljs-number">1</span>});

    };
       });


Q1var = <span class="hljs-number">1</span>;
button1.backgroundColor = <span class="hljs-string">'white'</span>;
};
});
</code></pre><p>P.S. Have tested with both Titanium 1.8.0.1 and 1.7.5 and the Android emulator as well as Android device</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="December 28th 2011, 8:40:21 pm">December 28th 2011</span>
				by <span class='authorname'>Louise Petersen  Matjeka</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>optiondialog</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>3</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>3 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-226275">
				
						<section>
							<p>Can you try this?</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> dialog = Ti.UI.createOptionDialog({
    title: <span class="hljs-string">''</span>,
    options: [],
    cancel:-<span class="hljs-number">1</span>
});


button1.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span> </span>{

    <span class="hljs-keyword">var</span> Q1var = <span class="hljs-number">0</span>;

    <span class="hljs-keyword">if</span>(Q1var &lt; <span class="hljs-number">1</span>) {
        dialog.show();
        dialog.setTitle(Q1);
        dialog.setOptions(A1);
        Q1var = <span class="hljs-number">1</span>;
        button1.backgroundColor = <span class="hljs-string">'white'</span>;
    };
});

dialog.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span> </span>{
    <span class="hljs-keyword">var</span> answer = e.index;

    <span class="hljs-keyword">if</span> (answer == Anr) {
        <span class="hljs-keyword">var</span> price = Ti.UI.createImageView({image:stars[Qnr -<span class="hljs-number">1</span>], height:<span class="hljs-string">'10%'</span>, width:<span class="hljs-string">'20%'</span>, top:<span class="hljs-string">'13.5%'</span>, zIndex:<span class="hljs-number">10</span>});
    }
    <span class="hljs-keyword">else</span> { 
        <span class="hljs-keyword">var</span> price = Ti.UI.createImageView({image:stars[<span class="hljs-number">6</span>], height:<span class="hljs-string">'20%'</span>, width:<span class="hljs-string">'0%'</span>, top: <span class="hljs-string">'20%'</span>, zIndex:<span class="hljs-number">1</span>});
    };
});
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="December 28th 2011, 8:59:10 pm">December 28th 2011</span>
								by <span class='authorname'>Jiale He</span><br>
								<a class="icon-bg icon-link" href="question/129967/dialog-not-showing-in-android-how-can-i-fix-it#answer-226275" rel="permalink">permalink</a>
							</div>

							<h5>3 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Everytime, you create a new variable do not forget to put var otherwise it is marked as a global variable, which is a very bad practice.</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 28th 2011, 9:00:33 pm">December 28th 2011</span>
											by <span class='authorname'>Jiale He</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Thanks for your time and advice! Tried it, but no luck unfortunately… Do you by any chance have other suggestions?</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 28th 2011, 9:17:43 pm">December 28th 2011</span>
											by <span class='authorname'>Louise Petersen  Matjeka</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Hi Louise</p>
<p>You MUST set options before you show the optionDialog.</p>
<p>I think you are in wrong order.</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 28th 2011, 9:39:42 pm">December 28th 2011</span>
											by <span class='authorname'>Jiale He</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-226293">
				
						<section>
							<p>Hi Louise,</p>
<p>setOptions and setTitle methods are applicable to sdk 1.8.0.1 and not 1.7.5.<br>For your code you can try this instead</p>
<pre><code class="hljs">
button1<span class="hljs-built_in">.</span>addEventListener(<span class="hljs-string">'click'</span>,function(e){
    <span class="hljs-keyword">if</span> (Q1var &lt; <span class="hljs-number">1</span>) 
    {
        <span class="hljs-built_in">var</span> dialog = Ti<span class="hljs-built_in">.</span>UI<span class="hljs-built_in">.</span>createOptionDialog({
                    title: Q1,
                    options: A1,
                    cancel:-<span class="hljs-number">1</span>
        });

        dialog<span class="hljs-built_in">.</span>show();

        <span class="hljs-attribute">...</span><span class="hljs-attribute">...</span><span class="hljs-attribute">...</span><span class="hljs-built_in">..
        </span><span class="hljs-attribute">...</span><span class="hljs-attribute">...</span><span class="hljs-attribute">...</span><span class="hljs-built_in">..</span>
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="December 29th 2011, 2:59:32 am">December 29th 2011</span>
								by <span class='authorname'>Zarir Bhesania</span><br>
								<a class="icon-bg icon-link" href="question/129967/dialog-not-showing-in-android-how-can-i-fix-it#answer-226293" rel="permalink">permalink</a>
							</div>

							<h5>3 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Hi - and thanks for your time and effort in helping me - it is really appreciated! I have tried your above suggestions, but the problem still remains; the dialog once shows once and then never again. I am triggering it from 6 different buttons (all with the same code, but different names and vars; button1, button2 etc Q1var, Q2var etc.). No matter what button I click on and in what order the dialog only shows once and never again. Do you by any chance know why it is behaving like this? I have tested in both 1.8 and 1.7.5. The funny thing is that my buttons are working fine - in the eventListener function they are set to turn white when clicked and they do (so the code for the listener is working), but the dialog doesn&#39;t show - only once that is. I am totally out of ideas and open to any workarounds and all the help and knowledge sharing I can get to work out this problem.<br>Thanks a lot in advance to all of you!<br>Dearest Louise</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 29th 2011, 8:17:16 am">December 29th 2011</span>
											by <span class='authorname'>Louise Petersen  Matjeka</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Try dialog.hide(); when each button is clicked and then put dialog.show();</p>
<pre><code class="hljs"><span class="hljs-keyword">if</span> (Q1var &lt; <span class="hljs-number">1</span>) {
<span class="hljs-built_in">dialog</span>.hide();
<span class="hljs-built_in">dialog</span>.show();
<span class="hljs-built_in">dialog</span>.setTitle(Q1);
<span class="hljs-built_in">dialog</span>.setOptions(A1);
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="December 29th 2011, 8:23:55 am">December 29th 2011</span>
											by <span class='authorname'>Zarir Bhesania</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Hi and thanks, really thought it would work! but it didn&#39;t, either…. Well, could it be a bug in the SDK? Can you make a dialog show multiple times? Do I need to install something else? I should have everything installed and it should be working correctly, as far as I can see - and it still works fine in the iPhone Simulator….</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 29th 2011, 10:54:43 am">December 29th 2011</span>
											by <span class='authorname'>Louise Petersen  Matjeka</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-226378">
				
						<section>
							<p>Hi All. I solved it by doing some major workarounds. I converted all the windows to views and ending up with only one window in all. Somehow the optionDialog doesn&#39;t like to deal with various windows; being triggered in one and opening another which is closing itself and thereby returning to the beginning point - as is the case with a quiz.<br>Thanks all of you for all help and guidance! This great community is an invaluable source! Thanks! Louise</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="December 29th 2011, 7:04:26 pm">December 29th 2011</span>
								by <span class='authorname'>Louise Petersen  Matjeka</span><br>
								<a class="icon-bg icon-link" href="question/129967/dialog-not-showing-in-android-how-can-i-fix-it#answer-226378" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
