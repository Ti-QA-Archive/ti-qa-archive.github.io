<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>[alloy] row controller called twice in fugitive app. Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>[alloy] row controller called twice in fugitive app.</h1>
		</header>
		<section>
			<p>I experienced an issue where every row controller was being invoked twice on every fetch. I though i was doing something stupid, but eventually I added a row controller and to the fugitive alloy app. and sure enough it was called 12 times instead of six.</p>
<p>app&#x2F;controllers&#x2F;FugitiveRow.js</p>
<pre><code class="hljs">alert(<span class="hljs-string">'i am here'</span>); // <span class="hljs-number">12</span> alerts instead <span class="hljs-keyword">of</span> <span class="hljs-number">6</span> <span class="hljs-keyword">for</span> <span class="hljs-number">6</span> rows.
</code></pre><p>Is this supposed to be happening? is this a bug?</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="June 29th 2013, 5:57:12 pm">June 29th 2013</span>
				by <span class='authorname'>Eric Wooley</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>alloy</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-265204">
				
						<section>
							<p>It certainly is odd behavior. I will confirm that you are not the first to see it.<br>This was pointed out by Nick during my Baltimore, MD TCD class. </p>
<p>We ran the program through the memory leaker instrument and found no memory leak.<br>It is annoying, but once we couldn&#39;t find a memory leak I let the issue go.</p>
<p>If you do a build of this program in the simulator and then go to the build directory and open up the xcode project. From there click on the product menu item and click profile. Open up the memory leak instrument.<br>If you are able to get it to leak memory with this issue, then please post your findings.</p>
<p>At this time I am not sure what is causing it as I stopped looking into it. I might look into it more in a few days.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="July 2nd 2013, 2:39:38 am">July 2nd 2013</span>
								by <span class='authorname'>Andrew McElroy</span><br>
								<a class="icon-bg icon-link" href="question/154269/alloy-row-controller-called-twice-in-fugitive-app#answer-265204" rel="permalink">permalink</a>
							</div>

							<h5>9 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>I have still been looking into this, and I think it may be a backbone issue, I have come across a lot of posts like this http:&#x2F;&#x2F;stackoverflow.com&#x2F;questions&#x2F;10228267&#x2F;backbone-js-fires-render-twice-on-collection-add</p>
<p>Should I file a bug report with the jira project? or do they already know about it? I didn&#39;t find anything when I searched.</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 2nd 2013, 3:55:20 am">July 2nd 2013</span>
											by <span class='authorname'>Eric Wooley</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>if it is a backbone issue, I dont think Appcelerator is going to modify backbone to address it. Which fugitive app? is it the one i wrote or another one</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 3rd 2013, 9:47:40 am">July 3rd 2013</span>
											by <span class='authorname'>Aaron Saunders</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Well, I don&#39;t know if it is a backbone &#39;issue&#39;, but maybe a common thing people do while using backbone, I am not sure though. </p>
<p>The alloy app is here https:&#x2F;&#x2F;wiki.appcelerator.org&#x2F;display&#x2F;td&#x2F;05.+Alloy (use the finished app files). I don&#39;t know if you wrote that or not.</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 3rd 2013, 1:46:43 pm">July 3rd 2013</span>
											by <span class='authorname'>Eric Wooley</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Yes. It is the app Aaron wrote. However to reproduce what Eric is referring to, I had to create a FugitiveRow.js controller.  I haven&#39;t had time to look at this issue further.</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 3rd 2013, 3:05:14 pm">July 3rd 2013</span>
											by <span class='authorname'>Andrew McElroy</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I decided to drop this in the FugitiveRow.js controller:<br>Ti.API.log(JSON.stringify(this));</p>
<p>It yielded this (pasted in a gist):</p>
<p>https:&#x2F;&#x2F;gist.github.com&#x2F;Sophrinix&#x2F;5920912</p>
<p>It is clear as day that each row is being loaded into memory from the database twice.<br>They are the exact same objects. Only the first copy of the objects are being shown in the tableview rows.</p>
<p>One more thing to note. If you reset the contents and settings on the iphone simulator and then run this program. the Ti.API.log code is never triggered. on the second run you get the first 5 objects that should be there plus the first 4 of the 5 objects in the tableview. on the 3rd or greater run you get 10 objects (each object duplicated in order).</p>
<p>It is only on the n &gt; 1 run that the Ti.API.log code in FugitiveRow.js controller is executed.</p>
<p>I&#39;ll look into this more later today, but I wanted to get this documented.</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 3rd 2013, 3:56:57 pm">July 3rd 2013</span>
											by <span class='authorname'>Andrew McElroy</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Andrew, if I remember right, it&#39;s been a while since i looked at the code. The first run of the program populates the database and displays it, then on the second run it starts pulling it from the database. Which is why it only happens starting with the second run.</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 3rd 2013, 4:00:03 pm">July 3rd 2013</span>
											by <span class='authorname'>Eric Wooley</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>however it doesn&#39;t duplicate all the objects on the second run, just 4 out of the 5. after the second run you end up with a duplication of every unique object. That&#39;s the behavior I&#39;m documenting. It has my attention now because that is really weird.</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 3rd 2013, 4:06:09 pm">July 3rd 2013</span>
											by <span class='authorname'>Andrew McElroy</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Also I posted a github link to my copy of the project in the comments on that gist. The only novel bit of code is the FugitiveRow.js file, but for documentation it is worth having exactly what I am referencing.</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 3rd 2013, 4:10:48 pm">July 3rd 2013</span>
											by <span class='authorname'>Andrew McElroy</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>If this is a legit bug that others have seen, can someone create a small, standalone test case and report it in a ticket with the <a href="https:&#x2F;&#x2F;jira.appcelerator.org&#x2F;browse&#x2F;TC">Titanium Community Jira Project</a>. From there I will confirm the issue and see if there&#39;s a way to resolve it.</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 8th 2013, 12:54:58 pm">July 8th 2013</span>
											by <span class='authorname'>Tony Lukasavage</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
