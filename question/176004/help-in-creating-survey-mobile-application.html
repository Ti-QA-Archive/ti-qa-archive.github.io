<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Help in creating survey mobile application » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Help in creating survey mobile application</h1>
		</header>
		<section>
			<p>Hi,</p>
<p>I&#39;m trying to create an application for users to take part in a survey with the use of an SQL databse. So far I have created the code to give me the value of a TextField of one of the questions using a switch statement. However, how do I make titanium give me 2 different values for 2 different questions using a while loop?</p>
<pre><code class="hljs"><span class="hljs-keyword">while</span> (questionRows.isValidRow()){

  var questionlabel = Titanium.UI.createLabel({
        top: <span class="hljs-number">90</span>,
        left: <span class="hljs-number">10</span>,
        font: {fontSize:<span class="hljs-number">20</span>},
      <span class="hljs-built_in">text</span>: questionNo + <span class="hljs-string">'. '</span>+questionRows.fieldByName(<span class="hljs-string">'question'</span>),
      <span class="hljs-built_in">color</span>: <span class="hljs-string">'black'</span>,
      touchEnabled: <span class="hljs-keyword">false</span>
  });

  <span class="hljs-keyword">switch</span> (questionType) {
    <span class="hljs-keyword">case</span> <span class="hljs-number">1</span>:

        var answerBox = Ti.UI.createTextField({
          borderRadius:<span class="hljs-number">5</span>,
          font: {fontSize:<span class="hljs-number">20</span>, fontWeight:<span class="hljs-string">'bold'</span>},
          <span class="hljs-comment">//textAlign:'left',</span>
          hintText:<span class="hljs-string">'Type your answer here'</span>,
        keyboardType: Titanium.UI.KEYBOARD_DEFAULT,
          top:<span class="hljs-number">200</span>,
          <span class="hljs-variable">width</span>:<span class="hljs-number">300</span>,
          <span class="hljs-variable">height</span>:<span class="hljs-number">70</span>,
        questionNo: questionRows.fieldByName(<span class="hljs-string">'questionOrder'</span>)

    });

    <span class="hljs-comment">//win.add(answerBox);</span>
    view.<span class="hljs-built_in">add</span>(answerBox);

    var btnSubmit = Ti.UI.createButton({
     <span class="hljs-built_in">color</span>: <span class="hljs-string">'#000'</span>,
     font: { fontSize:<span class="hljs-number">20</span>},
     title: <span class="hljs-string">'Enter'</span>,
     <span class="hljs-built_in">textAlign</span>: Ti.UI.TEXT_ALIGNMENT_CENTER,
     top: <span class="hljs-number">300</span>,
     <span class="hljs-variable">width</span>: <span class="hljs-number">300</span>, 
     <span class="hljs-variable">height</span>: <span class="hljs-number">50</span>
     });

     <span class="hljs-comment">//win.add(btnSubmit);</span>
    view.<span class="hljs-built_in">add</span>(btnSubmit);

     btnSubmit.addEventListener(<span class="hljs-string">'click'</span>, function(e)
    {
    var answer1 = answerBox.value;
         Ti.API.info(answer1);
     <span class="hljs-comment">//if(e.source.questionNo){</span>
         <span class="hljs-comment">//Ti.API.info(e.rowData.value);</span>
     <span class="hljs-comment">//}</span>
    });

...}
</code></pre><p>Any help would be greatly appreciated!</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="July 10th 2014, 2:34:15 am">July 10th 2014</span>
				by <span class='authorname'>Ben Khoo</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>database</span></li>
					
						<li><span class='tagname'>javascript</span></li>
					
						<li><span class='tagname'>sqlite</span></li>
					
						<li><span class='tagname'>switch</span></li>
					
						<li><span class='tagname'>textfield</span></li>
					
				</ul>
			

			<section>
				<h5>3 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Apologies for the formatting error.</p>
</div>
							<div class="author">
								&mdash; commented <span title="July 10th 2014, 2:37:26 am">July 10th 2014</span>
								by <span class='authorname'>Ben Khoo</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>You are missing some code as you have only provided one switch case choice.</p>
<p>Your formatted code (the <strong>~</strong> must be one a blank line and start at the beginning of that line);</p>
<pre><code class="hljs"><span class="hljs-keyword">while</span> (questionRows.isValidRow()){
    var questionlabel = Titanium.UI.createLabel({
        top: <span class="hljs-number">90</span>,
        left: <span class="hljs-number">10</span>, 
        font: {
            fontSize:<span class="hljs-number">20</span>
        }, 
        <span class="hljs-built_in">text</span>: questionNo + <span class="hljs-string">'. '</span>+questionRows.fieldByName(<span class="hljs-string">'question'</span>), 
        <span class="hljs-built_in">color</span>: <span class="hljs-string">'black'</span>, 
        touchEnabled: <span class="hljs-keyword">false</span> 
    });

    <span class="hljs-keyword">switch</span> (questionType) {
    <span class="hljs-keyword">case</span> <span class="hljs-number">1</span>:
        var answerBox = Ti.UI.createTextField({
            borderRadius:<span class="hljs-number">5</span>,
            font: {fontSize:<span class="hljs-number">20</span>, fontWeight:<span class="hljs-string">'bold'</span>},
            <span class="hljs-comment">//textAlign:'left',</span>
            hintText:<span class="hljs-string">'Type your answer here'</span>,
            keyboardType: Titanium.UI.KEYBOARD_DEFAULT,
            top:<span class="hljs-number">200</span>,
            <span class="hljs-variable">width</span>:<span class="hljs-number">300</span>,
            <span class="hljs-variable">height</span>:<span class="hljs-number">70</span>,
            questionNo: questionRows.fieldByName(<span class="hljs-string">'questionOrder'</span>)
        });

        <span class="hljs-comment">//win.add(answerBox);</span>
        view.<span class="hljs-built_in">add</span>(answerBox);

        var btnSubmit = Ti.UI.createButton({
            <span class="hljs-built_in">color</span>: <span class="hljs-string">'#000'</span>,
            font: { fontSize:<span class="hljs-number">20</span>},
            title: <span class="hljs-string">'Enter'</span>,
            <span class="hljs-built_in">textAlign</span>: Ti.UI.TEXT_ALIGNMENT_CENTER,
            top: <span class="hljs-number">300</span>,
            <span class="hljs-variable">width</span>: <span class="hljs-number">300</span>, 
            <span class="hljs-variable">height</span>: <span class="hljs-number">50</span>
        });

         <span class="hljs-comment">//win.add(btnSubmit);</span>
        view.<span class="hljs-built_in">add</span>(btnSubmit);

        btnSubmit.addEventListener(<span class="hljs-string">'click'</span>, function(e){
        var answer1 = answerBox.value;
            Ti.API.info(answer1);
            <span class="hljs-comment">//if(e.source.questionNo){</span>
                <span class="hljs-comment">//Ti.API.info(e.rowData.value);</span>
            <span class="hljs-comment">//}</span>
        });
    <span class="hljs-comment">// #### switch statement does not end</span>
}
</code></pre></div>
							<div class="author">
								&mdash; commented <span title="July 10th 2014, 6:13:47 am">July 10th 2014</span>
								by <span class='authorname'>Malcolm Hollingsworth</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>I intentionally left out the rest of the switch as it is quite long. The code works fine but what I&#39;m  asking is how do I create textfields of different variables for different questions in my survey? Right now the switch, case 1, gives me a text field for question 1. However, question 2 in my survey also uses case 1, which makes it so that btnSubmit only gives me the text on my second question since both questions use the same textfield, answerBox. So the problem is how do I give a unique textfield variable for any amount of questions in my survey that use case 1? </p>
<p>Sorry for the long comment but the problem is difficult to explain…</p>
</div>
							<div class="author">
								&mdash; commented <span title="July 10th 2014, 7:01:46 am">July 10th 2014</span>
								by <span class='authorname'>Ben Khoo</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-280558">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>Hi</p>
<p>Without seeing the full code of your switches it is possible you have fallen into a common trap;</p>
<pre><code class="hljs"><span class="hljs-keyword">switch</span> (favColor) {
<span class="hljs-keyword">case</span> <span class="hljs-string">'red'</span>
    Ti.API.info(<span class="hljs-string">'Likes red'</span>);
    <span class="hljs-keyword">break</span>; <span class="hljs-comment">// this</span>
<span class="hljs-keyword">case</span> <span class="hljs-string">'blue'</span>
    Ti.API.info(<span class="hljs-string">'Likes blue'</span>);
    <span class="hljs-keyword">break</span>; <span class="hljs-comment">// and this</span>
}
</code></pre><p>Those <strong>break</strong> statements are often forgotten - make sur eyou have one at the end of each <strong>case</strong>.</p>
<p>I have no idea what this code is trying to achieve or how you are choosing to display you questions in code - but if you are looping all the questions to show the fields - did you mean to add the submit button after each single question?  That is a valid valid choice - but just checking as there is no more code to confirm this.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="July 10th 2014, 6:18:17 am">July 10th 2014</span>
								by <span class='authorname'>Malcolm Hollingsworth</span><br>
								<a class="icon-bg icon-link" href="question/176004/help-in-creating-survey-mobile-application.html#answer-280558" rel="permalink">permalink</a>
							</div>

							<h5>2 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>OK I think I know where you are going with this now;</p>
<p>Your loop needs to show different types of fields dependant on the specific question at the time.  However as you are assigning fixed variable names - it appears difficult to work out how to access various fields each time whilst still being a dynamic process.</p>
<p>Create an empty array outside of the loop and each new question type is added to that.  Later on you can loop the array to gain any answers given.</p>
<p>Snippet to illustrate;</p>
<pre><code class="hljs">var answers = [];
<span class="hljs-keyword">while</span> (questionRows.isValidRow()){
...
    answers.push(Ti.UI.createTextField({
        borderRadius:<span class="hljs-number">5</span>,
        font: {fontSize:<span class="hljs-number">20</span>, fontWeight:<span class="hljs-string">'bold'</span>},
        <span class="hljs-comment">//textAlign:'left',</span>
        hintText:<span class="hljs-string">'Type your answer here'</span>,
        keyboardType: Titanium.UI.KEYBOARD_DEFAULT,
        top:<span class="hljs-number">200</span>,
        <span class="hljs-variable">width</span>:<span class="hljs-number">300</span>,
        <span class="hljs-variable">height</span>:<span class="hljs-number">70</span>,
        questionNo: questionRows.fieldByName(<span class="hljs-string">'questionOrder'</span>)
    }));
    view.<span class="hljs-built_in">add</span>(answers[answers.length - <span class="hljs-number">1</span>]);
...
};
</code></pre><p>This way all the answers are now safely stored in a variable that expands to fit the number of answers.</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 10th 2014, 7:15:39 am">July 10th 2014</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Thanks! The code that you gave me helped with my solution to the problem.</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 11th 2014, 6:15:40 am">July 11th 2014</span>
											by <span class='authorname'>Ben Khoo</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
