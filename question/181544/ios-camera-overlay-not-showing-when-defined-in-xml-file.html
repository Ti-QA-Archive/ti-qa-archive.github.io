<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>IOS Camera Overlay not showing when defined in xml file Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>IOS Camera Overlay not showing when defined in xml file</h1>
		</header>
		<section>
			<p>Hi guys!</p>
<p>During my work with camera overlay I found one annoying bug I cant find workaround for. My Titanium SDK version is 3.4.1 and I am testing it on all devices (multiple android phones &amp; tablets, iphones and iPad Mini), but the issue only appears to happen in IOS. So here is what my app looks like:</p>
<ol>
<li><p>I created a simple Alloy mobile app with 2 pages called index and camWindow. Index page only holds one button that loads camWindow. This functionality is extremely simple and can be omitted here as it has nothing to do with the bug.</p>
</li>
<li><p>In camWindow.xml I create a View with id= &quot;overlay&quot;. In camWindow.js I call $.camWindow.open() and  upon opening the window I call Titanium.Media.showCamera. Here is the full code for this expression :</p>
</li>
</ol>
<pre><code class="hljs">Titanium.Media.showCamera({
    success:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>) </span>{
        <span class="hljs-comment">// called when media returned from the camera</span>
        <span class="hljs-keyword">if</span>(event.mediaType == Ti.Media.MEDIA_TYPE_PHOTO) {
            <span class="hljs-comment">//photo taken</span>
        } 
    },
    cancel:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
         <span class="hljs-comment">// called when user cancels taking a picture</span>
         Titanium.Media.hideCamera();
    },
    error:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">error</span>) </span>{
        <span class="hljs-comment">// called when there's an error</span>
        alert(<span class="hljs-string">"Something went wrong"</span>);
    },
    saveToPhotoGallery:<span class="hljs-literal">false</span>,
    mediaTypes:[Ti.Media.MEDIA_TYPE_PHOTO],
    animated:<span class="hljs-literal">true</span>,
    autorotate:<span class="hljs-literal">false</span>,
    overlay:$.overlay
    <span class="hljs-comment">//showControls:false</span>
});
</code></pre><ol>
<li>When camera is show there is no overlay to be seen. When I close camera window I can see overlay being rendered in camWindow.js. I also noticed if I define overlay in camWindow.js and add it there then overlay is visible and works the way it supposed to. Again, this problem only appears on IOS.</li>
</ol>
<hr>
<p>Is there any way to solve this issue? Many could argue that I should just write Javascript code and forget about it, but I believe that defining overlay and styling it in respective xml and tss files makes code much cleaner and easier to manage in large application that I intend to build with Appcelerator.</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="March 20th 2015, 1:50:33 pm">March 20th 2015</span>
				by <span class='authorname'>Nikita Radaev</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>ios</span></li>
					
						<li><span class='tagname'>ipad</span></li>
					
						<li><span class='tagname'>iphone</span></li>
					
				</ul>
			

			<section>
				<h5>1 Comment</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Solved. Apparently if you put the overlay view outside of the Window it works just fine.</p>
</div>
							<div class="author">
								&mdash; commented <span title="March 20th 2015, 3:52:05 pm">March 20th 2015</span>
								by <span class='authorname'>Nikita Radaev</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>-1</span> Votes</div>
			<div class="answers"><span>0</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>0 Answers</h3>

	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
