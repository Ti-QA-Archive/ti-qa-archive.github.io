<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>New Window from action bar - Titanium Alloy Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>New Window from action bar - Titanium Alloy</h1>
		</header>
		<section>
			<ul>
<li>Application Type: Mobile Alloy</li>
<li>Titanium SDK: build: 3.1.3.2 </li>
<li>Platform: Android 4.3</li>
<li>Device: Android Nexus 7</li>
<li>Host OS: Ubuntu 12.04</li>
</ul>
<p>So, the problem that I am running into is that I need a button on the Android action bar to open a new window, most of the examples that I have seen use multiple xml and js files, and I would like to keep it as condensed as possible. the current code I have is as follows:</p>
<p>index.xml</p>
<pre><code class="hljs">&lt;Alloy&gt;
    &lt;<span class="hljs-keyword">Window</span> id=<span class="hljs-string">"window"</span> <span class="hljs-keyword">class</span>=<span class="hljs-string">"container"</span> title=<span class="hljs-string">"Dash"</span> fullscreen=<span class="hljs-string">"false"</span> onOpen=<span class="hljs-string">"doOpen"</span>&gt; 
            <span class="hljs-comment">// Right here is where i need the new window stuff to go</span>
    &lt;/<span class="hljs-keyword">Window</span>&gt;
&lt;/Alloy&gt;
</code></pre><p>index.js</p>
<pre><code class="hljs">Alloy.Globals.window= $.<span class="hljs-built_in">window</span>;

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">doOpen</span>(<span class="hljs-params"></span>) </span>{

    <span class="hljs-keyword">var</span> activity = $.<span class="hljs-built_in">window</span>.activity;

    <span class="hljs-keyword">if</span> (activity.actionBar) {
        activity.actionBar.title = <span class="hljs-string">"Budget"</span>;
    };
    activity.onCreateOptionsMenu = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
        <span class="hljs-keyword">var</span> newTrans = e.menu.add({
            title : <span class="hljs-string">"Add Task"</span>,
            showAsAction : Ti.Android.SHOW_AS_ACTION_ALWAYS,
            icon : <span class="hljs-string">"images/ic-hdpi/ic_action_new.png"</span>,
        });
        newTrans.addEventListener <span class="hljs-comment">//needs to open new window...</span>
    };
}

$.<span class="hljs-built_in">window</span>.open();
</code></pre><p>Is there a good guide to show how to use the action bar and alloy? I have been using <a href="http:&#x2F;&#x2F;adampaxton.com&#x2F;alloy-action-jackson-an-android-action-bar-demo-app-for-appcelerator-titanium.aspx">this</a> for now but it is too divided among files to make sense of it.</p>
<p>Let me know if there is any other information that you need or if I need to clarify what I am asking</p>
<ul>
<li>Newel</li>
</ul>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="November 7th 2013, 8:53:05 pm">November 7th 2013</span>
				by <span class='authorname'>Newel Hirst</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>alloy</span></li>
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>new window</span></li>
					
						<li><span class='tagname'>open</span></li>
					
						<li><span class='tagname'>titanium studio</span></li>
					
				</ul>
			

			<section>
				<h5>3 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Can you elaborate on what you mean by keeping &#39;it condensed as possible&#39;?</p>
</div>
							<div class="author">
								&mdash; commented <span title="November 8th 2013, 3:01:00 pm">November 8th 2013</span>
								by <span class='authorname'>Adam Paxton</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>I would like to keep it to as few separate xml and js files as I can preferably with just 1 of each but I&#39;m not sure if that is even possible so..</p>
</div>
							<div class="author">
								&mdash; commented <span title="November 8th 2013, 8:14:27 pm">November 8th 2013</span>
								by <span class='authorname'>Newel Hirst</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Maybe you should consider not using Alloy, since one of its main functions is to help structure and separate code between data, views, and business logic. You could just use straight js, put everything in app.js and call it a day. Is that a good idea? Not to me, but limiting the number of files used in an app isn&#39;t my primary concern.</p>
</div>
							<div class="author">
								&mdash; commented <span title="November 9th 2013, 1:41:48 pm">November 9th 2013</span>
								by <span class='authorname'>Adam Paxton</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-271201">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>I agree with Adam that separation and structure is one of the key points of Alloy. That said, this works:</p>
<h3 id="index-xml">index.xml</h3>
<pre><code class="hljs"><span class="hljs-tag">&lt;<span class="hljs-title">Alloy</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">Window</span> <span class="hljs-attribute">onOpen</span>=<span class="hljs-value">"doOpen"</span>/&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">Window</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"abWindow"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">Label</span>&gt;</span>window opened from action bar<span class="hljs-tag">&lt;/<span class="hljs-title">Label</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">Window</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">Alloy</span>&gt;</span>
</code></pre><h3 id="index-js">index.js</h3>
<pre><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">doOpen</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> activity = $.index.activity;
    <span class="hljs-keyword">if</span> (activity.actionBar) {
        activity.actionBar.title = <span class="hljs-string">'Budget'</span>;
    }

    activity.onCreateOptionsMenu = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
        <span class="hljs-keyword">var</span> newTrans = e.menu.add({
            title : <span class="hljs-string">"Add Task"</span>,
            showAsAction : Ti.Android.SHOW_AS_ACTION_ALWAYS,
            icon : <span class="hljs-string">"/ic_input_add.png"</span>, <span class="hljs-comment">// i just grabbed this from the android sdk</span>
        });
        newTrans.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
            $.abWindow.open();
        });
    };
}

$.index.open();
</code></pre><h3 id="index-tss">index.tss</h3>
<pre><code class="hljs"><span class="hljs-string">'Label'</span>: {
    <span class="hljs-variable">width</span>: Ti.UI.SIZE,
    <span class="hljs-variable">height</span>: Ti.UI.SIZE,
    <span class="hljs-built_in">color</span>: <span class="hljs-string">'#000'</span>
}

<span class="hljs-string">'Window'</span>: {
    backgroundColor: <span class="hljs-string">'#fff'</span>,
    fullscreen: <span class="hljs-keyword">false</span>
}

<span class="hljs-string">'#index'</span>: {
    exitOnClose: <span class="hljs-keyword">true</span>,
    title: <span class="hljs-string">'Dash'</span>
}
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="November 12th 2013, 12:45:26 pm">November 12th 2013</span>
								by <span class='authorname'>Tony Lukasavage</span><br>
								<a class="icon-bg icon-link" href="question/159228/new-window-from-action-bar---titanium-alloy#answer-271201" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Thanks Ill try this</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 12th 2013, 8:04:18 pm">November 12th 2013</span>
											by <span class='authorname'>Newel Hirst</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
