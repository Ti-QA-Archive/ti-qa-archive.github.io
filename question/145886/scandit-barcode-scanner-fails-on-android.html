<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Scandit Barcode Scanner fails on Android Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Scandit Barcode Scanner fails on Android</h1>
		</header>
		<section>
			<pre><code class="hljs"><span class="hljs-tag">Application</span> <span class="hljs-tag">type</span>: <span class="hljs-tag">mobile</span>
<span class="hljs-tag">Titanium</span> <span class="hljs-tag">SDK</span>: 3<span class="hljs-class">.0</span><span class="hljs-class">.0</span><span class="hljs-class">.v20121130200208</span>
<span class="hljs-tag">Platform</span> &amp; <span class="hljs-tag">version</span>: <span class="hljs-tag">iOS</span> 6<span class="hljs-class">.0</span>,  <span class="hljs-tag">Android</span> 2<span class="hljs-class">.3</span><span class="hljs-class">.3</span>
<span class="hljs-tag">Device</span>: <span class="hljs-tag">Apple</span> <span class="hljs-tag">iPhone</span> 4, <span class="hljs-tag">Samsung</span> <span class="hljs-tag">Galaxy</span> <span class="hljs-tag">S</span>
<span class="hljs-tag">Host</span> <span class="hljs-tag">Operating</span> <span class="hljs-tag">System</span>: <span class="hljs-tag">OSX</span> 10<span class="hljs-class">.7</span><span class="hljs-class">.5</span>
<span class="hljs-tag">Titanium</span> <span class="hljs-tag">Studio</span>: 3<span class="hljs-class">.0</span><span class="hljs-class">.1</span><span class="hljs-class">.v20121214153201</span>
</code></pre><p>Hi,</p>
<p>I just installed the scandit barcode reader and got it working on iOS (still setting of scandit text configs have no effect on UI).<br>On Android the screen stays always black and after trying to set the initial &quot;scan screen state text&quot;, it already fails at that step.</p>
<p>Error:</p>
<pre><code class="hljs">Uncaught TypeError: Object[object Object] <span class="hljs-keyword">has</span> no <span class="hljs-function"><span class="hljs-keyword">method</span> '<span class="hljs-title">setTextForInitialScanScreenState</span>'</span>
</code></pre><p>I&#39;m using the example code snippet from scandit and just wanted to add the text properties.</p>
<pre><code class="hljs"><span class="hljs-attribute">...</span>
<span class="hljs-built_in">var</span> scanditsdk = <span class="hljs-keyword">require</span>(<span class="hljs-string">"com.mirasense.scanditsdk"</span>);
scanditsdk<span class="hljs-built_in">.</span>setTextForInitialScanScreenState(L(<span class="hljs-string">"barcode.hint"</span>));
<span class="hljs-attribute">...</span>
</code></pre><p>Has anyone already got the scandit barcode module working on iOS and Android?</p>
<p>Cheers,</p>
<p>Christoph</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="December 18th 2012, 9:40:17 am">December 18th 2012</span>
				by <span class='authorname'>Christoph Atteneder</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>ios</span></li>
					
						<li><span class='tagname'>mobile</span></li>
					
						<li><span class='tagname'>scandit</span></li>
					
				</ul>
			

			<section>
				<h5>1 Comment</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Is no one using the scandit module so far? ;-)</p>
</div>
							<div class="author">
								&mdash; commented <span title="December 19th 2012, 6:02:01 am">December 19th 2012</span>
								by <span class='authorname'>Christoph Atteneder</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>2</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-253090">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>Hi Christoph,</p>
<p>I am an iOS and Android developer with Scandit.</p>
<p>We have found that the current module has a few problems with the Activity lifecycle events which might be the cause of the black screen. We have an updated version of the module locally that fixes these issues. We expect to commit it in the coming days and as soon as it is approved by Appcelerator these issues should be gone. Until then you might want to try opening the window before initializing the SDK, this might fix the black screen issue. The code would look something like this:</p>
<pre><code class="hljs">window.open()<span class="hljs-comment">;</span>
var scanditsdk = require("com.mirasense.scanditsdk")<span class="hljs-comment">;</span>
picker = scanditsdk.createView(width:"100%", height:"100%")<span class="hljs-comment">;</span>
picker.init("appkey", 0)<span class="hljs-comment">;</span>
picker.startScanning()<span class="hljs-comment">;</span>
picker.setSuccessCallback(...)<span class="hljs-comment">;</span>
picker.setCancelCallback(...)<span class="hljs-comment">;</span>
window.add(picker)<span class="hljs-comment">;</span>
</code></pre><p>Functions like setTextForInitialScanScreenState() to change and localize the text messages of the SDK are working according to our testing. However, you will need to call them on the picker object and not the module itself, like this:</p>
<pre><code class="hljs">var scanditsdk = require(<span class="hljs-string">"com.mirasense.scanditsdk"</span>);
picker = scanditsdk.createView(<span class="hljs-string">width:</span><span class="hljs-string">"100%"</span>, <span class="hljs-string">height:</span><span class="hljs-string">"100%"</span>);
picker.setTextForInitialScanScreenState(L(<span class="hljs-string">"your_localization_string"</span>));
</code></pre><p>I am not clear what issue you are experiencing under iOS when you say: &quot;still setting of scandit text configs have no effect on UI&quot;. If you are referring to the functions like setTextForInitialScanScreenState() as in the Android problem, please make sure that you call these functions on the picker object.</p>
<p>I hope I was able to help you resolve the issues you&#39;re experiencing.</p>
<p>Best regards,<br>Moritz</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="December 19th 2012, 8:57:43 am">December 19th 2012</span>
								by <span class='authorname'>Moritz Hartmeier</span><br>
								<a class="icon-bg icon-link" href="question/145886/scandit-barcode-scanner-fails-on-android#answer-253090" rel="permalink">permalink</a>
							</div>

							<h5>4 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Hi Moritz,</p>
<p>thanks for your feedback. I&#39;m looking forward for the fix on Android :-)</p>
<p>Regarding the problem with changing the labels, I did try to call the setters on the scanditsdk object.<br>But still after changing it to set it on the &#39;picker&#39; I still see the default labels.</p>
<pre><code class="hljs">var scanditsdk = <span class="hljs-keyword">require</span>(<span class="hljs-string">"com.mirasense.scanditsdk"</span>); 

<span class="hljs-keyword">if</span>(<span class="hljs-constant">Ti</span>.<span class="hljs-constant">Platform</span>.osname == <span class="hljs-string">'iphone'</span> || <span class="hljs-constant">Ti</span>.<span class="hljs-constant">Platform</span>.osname == <span class="hljs-string">'ipad'</span>){
     <span class="hljs-constant">Titanium</span>.<span class="hljs-constant">UI</span>.iPhone.statusBarHidden = <span class="hljs-keyword">true</span>;
} 

var picker = scanditsdk.createView({
     <span class="hljs-string">"width"</span><span class="hljs-symbol">:Ti</span>.<span class="hljs-constant">Platform</span>.displayCaps.platformWidth,
     <span class="hljs-string">"height"</span><span class="hljs-symbol">:Ti</span>.<span class="hljs-constant">Platform</span>.displayCaps.platformHeight
});

picker.setTextForInitialScanScreenState(<span class="hljs-string">'Hello World!'</span>);
picker.setTextForInitializingCamera(<span class="hljs-string">'Hello World!'</span>);
picker.setTextForBarcodePresenceDetected(<span class="hljs-string">'Hello World!'</span>);
picker.setTextForBarcodeDecodingInProgress(<span class="hljs-string">'Hello World!'</span>);

picker.init(<span class="hljs-string">"MY_ID"</span>, <span class="hljs-number">0</span>);
</code></pre><p>Regards,</p>
<p>Christoph</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 19th 2012, 9:27:02 am">December 19th 2012</span>
											by <span class='authorname'>Christoph Atteneder</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>My mistake, you will have to call the init(&quot;appkey&quot;, 0) function on the picker before calling any of the other functions. I hope that fixes things for you.</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 19th 2012, 9:32:20 am">December 19th 2012</span>
											by <span class='authorname'>Moritz Hartmeier</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Thanks! It works now.<br>So only the Android stuff left :-)</p>
<p>Regards,</p>
<p>Christoph</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 19th 2012, 9:49:05 am">December 19th 2012</span>
											by <span class='authorname'>Christoph Atteneder</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Moritz, the setters for texts are not working on Android, even if the functions are called after the init method.</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 8th 2013, 4:25:24 pm">May 8th 2013</span>
											by <span class='authorname'>Andre Perazzi</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>2</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
