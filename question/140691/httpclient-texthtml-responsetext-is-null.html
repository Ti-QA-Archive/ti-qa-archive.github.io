<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>HttpClient text/html responseText is null » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>HttpClient text/html responseText is null</h1>
		</header>
		<section>
			<p>Anybody faced this problem before? I&#39;m trying to get the html response of this one page from the HttpClient but it returns null - other pages, it returns the html correctly. Here&#39;s the output of HttpClient success handler</p>
<pre><code class="hljs">var b = <span class="hljs-keyword">this</span>.getResponseData();

<span class="hljs-comment">// correct response:</span>
Ti.API.info(b.length); <span class="hljs-comment">// 8569</span>
Ti.API.info(b.mimeType); <span class="hljs-comment">// text/html; charset=UTF-8</span>
Ti.API.info(b.<span class="hljs-built_in">size</span>); <span class="hljs-comment">// 8569</span>
Ti.API.info(b.<span class="hljs-built_in">text</span>); <span class="hljs-comment">// [...html code...]</span>

<span class="hljs-comment">// error response</span>
Ti.API.info(b.length); <span class="hljs-comment">// 17797</span>
Ti.API.info(b.mimeType); <span class="hljs-comment">// text/html; charset=UTF-8</span>
Ti.API.info(b.<span class="hljs-built_in">size</span>); <span class="hljs-comment">// 17797</span>
Ti.API.info(b.<span class="hljs-built_in">text</span>); <span class="hljs-comment">// &lt;null&gt;</span>
</code></pre><p>Even though the response is similar but this page couldn&#39;t return the html string. Is it problem with the webserver? How can I get the string from the blob <code>var b</code> ? I tried <code>b.toString()</code> but it return <code>[TiBlob object]</code></p>
<p>Application type: mobile<br>Titanium SDK: 2.1.0.GA<br>Platform &amp; version: iOS 5.0<br>Device: iOS simulator<br>Host Operating System: OSX 10.7<br>Titanium Studio: 2.1.1.201207271312</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="August 8th 2012, 4:37:54 am">August 8th 2012</span>
				by <span class='authorname'>Azwan Amit</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>blob</span></li>
					
						<li><span class='tagname'>html</span></li>
					
						<li><span class='tagname'>httpclient</span></li>
					
						<li><span class='tagname'>ios</span></li>
					
				</ul>
			

			<section>
				<h5>1 Comment</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>try <code>JSON.stringify(your object)</code> here, not sure about blob object but can try.</p>
</div>
							<div class="author">
								&mdash; commented <span title="August 8th 2012, 5:04:19 am">August 8th 2012</span>
								by <span class='authorname'>Ashish Nigam</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-244715">
				
						<section>
							<p>You should use responseData only if the Server Returns a file&#x2F;image&#x2F;…<br>if you want the HTML you gotta use</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> b = <span class="hljs-keyword">this</span>.responseText; <span class="hljs-comment">// assuming this is the http client</span>
Ti.API.info(b);
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 8th 2012, 4:58:46 am">August 8th 2012</span>
								by <span class='authorname'>Alexander Bauer</span><br>
								<a class="icon-bg icon-link" href="../../question/140691/httpclient-texthtml-responsetext-is-null.html#answer-244715" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-244717">
				
						<section>
							<p>best way could be to use, <code>var b = this.getResponseText()</code> or <code>var b = this.getResponseXml()</code> in place of <code>var b = this.getResponseData()</code> because <code>getResponseData will give you binary object</code>, not sure JSON.stringify() method can stringify that or not. <code>getResponseData</code> is generally used when response is a image or some binary data.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 8th 2012, 5:08:49 am">August 8th 2012</span>
								by <span class='authorname'>Ashish Nigam</span><br>
								<a class="icon-bg icon-link" href="../../question/140691/httpclient-texthtml-responsetext-is-null.html#answer-244717" rel="permalink">permalink</a>
							</div>

							<h5>2 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>XML will try to convert the response to XML objects, stringify can only serialize json no binary data.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 8th 2012, 5:51:30 am">August 8th 2012</span>
											by <span class='authorname'>Alexander Bauer</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I know responseData is type of Blob. If your see my example above, the correct response will have the HTML strings in responseText, while the wrong one got null. See the mimeType also, both are the same, the wrong response got content-length also, so I&#39;m not sure why Titanium couldn&#39;t parse the HTML content, instead assume the response as binary data</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 9th 2012, 4:35:26 am">August 9th 2012</span>
											by <span class='authorname'>Azwan Amit</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>-1</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
