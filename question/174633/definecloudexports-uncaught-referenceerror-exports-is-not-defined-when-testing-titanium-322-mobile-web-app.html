<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>defineCloud(exports) Uncaught ReferenceError: exports is not defined When testing Titanium 3.2.2 Mobile Web App » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>defineCloud(exports) Uncaught ReferenceError: exports is not defined When testing Titanium 3.2.2 Mobile Web App</h1>
		</header>
		<section>
			<p>I have a Titanium 3.2.2 Mobile Web App which constatly shows &quot;defineCloud(exports) Uncaught ReferenceError: exports is not defined&quot; in the console before crashing out.</p>
<p>I believe this is an issue with the ti.cloud module how ever I have not been able to work out where.</p>
<p>Note both the SDK and ti.cloud versions are 3.2.2</p>
<pre><code class="hljs">
<span class="hljs-string">"ti.cloud"</span>:function(){
<span class="hljs-comment">/* C:\Users\xxxxxDropbox\Titanium_Studio_Workspace\DOD Traffic\build\mobileweb\modules\ti.cloud\ti.cloud.js */</span>

<span class="hljs-comment">/*

 Titanium Cloud Module

 This module is used across three distinct platforms (iOS, Android, and Mobile Web), each with their own architectural
 demands upon it.

 Appcelerator Titanium is Copyright (c) 2009-2014 by Appcelerator, Inc.
 and licensed under the Apache Public License (version 2)

 Copyright 2008 Netflix, Inc.

 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at

 http://www.apache.org/licenses/LICENSE-2.0

 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License.

 A JavaScript implementation of the Secure Hash Algorithm, SHA-1, as defined
 in FIPS PUB 180-1
 Version 2.1a Copyright Paul Johnston 2000 - 2002.
 Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet
 Distributed under the BSD License
 See http://pajhome.org.uk/crypt/md5 for details.
*/</span>
defineCloud(exports);
function defineCloud(k){<span class="hljs-keyword">var</span> b;function <span class="hljs-keyword">u</span>(b,a,<span class="hljs-keyword">d</span>){<span class="hljs-keyword">if</span>(void 0===a)throw<span class="hljs-string">"Argument "</span>+b+<span class="hljs-string">" was not provided!"</span>;<span class="hljs-keyword">if</span>(<span class="hljs-keyword">typeof</span> a!=<span class="hljs-keyword">d</span>)throw<span class="hljs-string">"Argument "</span>+b+<span class="hljs-string">" was an unexpected type! Expected: "</span>+<span class="hljs-keyword">d</span>+<span class="hljs-string">", Received: "</span>+<span class="hljs-keyword">typeof</span> a;}function p(b,a){<span class="hljs-keyword">u</span>(<span class="hljs-string">"data"</span>,b,<span class="hljs-string">"object"</span>);<span class="hljs-keyword">u</span>(<span class="hljs-string">"callback"</span>,a,<span class="hljs-string">"function"</span>);<span class="hljs-literal">w</span>(this);this.url||(this.url=this.restNamespace+<span class="hljs-string">"/"</span>+this.restMethod+<span class="hljs-string">".json"</span>);k.debug&amp;&amp;Ti.API.info('ACS Request: { url: <span class="hljs-string">"'+this.url+'"</span>, verb: <span class="hljs-string">"'+this.verb+'"</span>, data: '+JSON.stringify(b)+<span class="hljs-string">" })"</span>);<span class="hljs-keyword">g</span>.send(this.url,this.verb,b,function(<span class="hljs-keyword">d</span>){<span class="hljs-keyword">if</span>(a){<span class="hljs-keyword">var</span> c=
<span class="hljs-keyword">d</span>.response||{};<span class="hljs-keyword">d</span>.meta&amp;&amp;<span class="hljs-string">"ok"</span>==<span class="hljs-keyword">d</span>.meta.status?(c.success=!0,c.<span class="hljs-keyword">error</span>=!1,c.meta=<span class="hljs-keyword">d</span>.meta,k.debug&amp;&amp;Ti.API.info(JSON.stringify(c))):(c.success=!1,c.<span class="hljs-keyword">error</span>=!0,c.code=<span class="hljs-keyword">d</span>.meta?<span class="hljs-keyword">d</span>.meta.code:<span class="hljs-keyword">d</span>.statusCode,c.message=<span class="hljs-keyword">d</span>.meta?<span class="hljs-keyword">d</span>.meta.message:<span class="hljs-keyword">d</span>.message||<span class="hljs-keyword">d</span>.statusText,k.debug&amp;&amp;Ti.API.<span class="hljs-keyword">error</span>(c.code+<span class="hljs-string">": "</span>+c.message));a(c)}})}function <span class="hljs-literal">h</span>(){p.call(this,2==arguments.length?arguments[0]:{},2==arguments.length?arguments[1]:arguments[0])}function x(b){p.call(this,{},b)}function <span class="hljs-literal">w</span>(b){b.restNamespace||(b.restNamespace=b.property.toLowerCase());
b.restMethod||(b.restMethod=b.method.toLowerCase())}function B(b,a){<span class="hljs-keyword">u</span>(<span class="hljs-string">"callback"</span>,a,<span class="hljs-string">"function"</span>);<span class="hljs-keyword">var</span> <span class="hljs-keyword">d</span>={};<span class="hljs-keyword">d</span>.params=b||{};<span class="hljs-keyword">d</span>.params.cb=function(<span class="hljs-keyword">d</span>){<span class="hljs-keyword">if</span>(a){<span class="hljs-keyword">var</span> b=<span class="hljs-keyword">d</span>||{};<span class="hljs-keyword">d</span>&amp;&amp;<span class="hljs-keyword">d</span>.access_token?(b.success=!0,b.<span class="hljs-keyword">error</span>=!1,k.debug&amp;&amp;Ti.API.info(<span class="hljs-string">"ACS Token: "</span>+<span class="hljs-keyword">d</span>.access_token+<span class="hljs-string">" Expires: "</span>+<span class="hljs-keyword">d</span>.expires_in)):(b.success=!1,b.<span class="hljs-keyword">error</span>=!0,b.message=<span class="hljs-string">"Cancelled"</span>,k.debug&amp;&amp;Ti.API.<span class="hljs-keyword">error</span>(<span class="hljs-string">"ACS "</span>+b.message));a(b)}};<span class="hljs-keyword">g</span>.secureSend(this.method,<span class="hljs-keyword">d</span>)}function <span class="hljs-literal">y</span>(){B.call(this,2==arguments.length?arguments[0]:{},2==arguments.length?arguments[1]:arguments[0])}
function v(b,a){b[a&gt;&gt;5]|=128&lt;&lt;24-a%32;b[(a+64&gt;&gt;9&lt;&lt;4)+15]=a;<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> <span class="hljs-keyword">d</span>=Array(80),c=1732584193,i=-271733879,f=-1732584194,<span class="hljs-keyword">e</span>=271733878,r=-1009589776,j=0;j&lt;b.length;j+=16){<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> <span class="hljs-keyword">g</span>=c,<span class="hljs-keyword">h</span>=i,s=f,k=<span class="hljs-keyword">e</span>,o=r,<span class="hljs-keyword">l</span>=0;80&gt;<span class="hljs-keyword">l</span>;<span class="hljs-keyword">l</span>++){<span class="hljs-keyword">d</span>[<span class="hljs-keyword">l</span>]=16&gt;<span class="hljs-keyword">l</span>?b[j+<span class="hljs-keyword">l</span>]:(<span class="hljs-keyword">d</span>[<span class="hljs-keyword">l</span>-3]^<span class="hljs-keyword">d</span>[<span class="hljs-keyword">l</span>-8]^<span class="hljs-keyword">d</span>[<span class="hljs-keyword">l</span>-14]^<span class="hljs-keyword">d</span>[<span class="hljs-keyword">l</span>-16])&lt;&lt;1|(<span class="hljs-keyword">d</span>[<span class="hljs-keyword">l</span>-3]^<span class="hljs-keyword">d</span>[<span class="hljs-keyword">l</span>-8]^<span class="hljs-keyword">d</span>[<span class="hljs-keyword">l</span>-14]^<span class="hljs-keyword">d</span>[<span class="hljs-keyword">l</span>-16])&gt;&gt;&gt;31;<span class="hljs-keyword">var</span> <span class="hljs-keyword">m</span>=c&lt;&lt;5|c&gt;&gt;&gt;27,p;p=20&gt;<span class="hljs-keyword">l</span>?i&amp;f|~i&amp;<span class="hljs-keyword">e</span>:40&gt;<span class="hljs-keyword">l</span>?i^f^<span class="hljs-keyword">e</span>:60&gt;<span class="hljs-keyword">l</span>?i&amp;f|i&amp;<span class="hljs-keyword">e</span>|f&amp;<span class="hljs-keyword">e</span>:i^f^<span class="hljs-keyword">e</span>;<span class="hljs-keyword">m</span>=<span class="hljs-literal">q</span>(<span class="hljs-literal">q</span>(<span class="hljs-keyword">m</span>,p),<span class="hljs-literal">q</span>(<span class="hljs-literal">q</span>(r,<span class="hljs-keyword">d</span>[<span class="hljs-keyword">l</span>]),20&gt;<span class="hljs-keyword">l</span>?1518500249:40&gt;<span class="hljs-keyword">l</span>?1859775393:60&gt;<span class="hljs-keyword">l</span>?-1894007588:-899497514));r=<span class="hljs-keyword">e</span>;<span class="hljs-keyword">e</span>=f;f=i&lt;&lt;30|i&gt;&gt;&gt;2;i=c;c=<span class="hljs-keyword">m</span>}c=<span class="hljs-literal">q</span>(c,<span class="hljs-keyword">g</span>);i=<span class="hljs-literal">q</span>(i,<span class="hljs-keyword">h</span>);
f=<span class="hljs-literal">q</span>(f,s);<span class="hljs-keyword">e</span>=<span class="hljs-literal">q</span>(<span class="hljs-keyword">e</span>,k);r=<span class="hljs-literal">q</span>(r,o)}<span class="hljs-keyword">return</span>[c,i,f,<span class="hljs-keyword">e</span>,r]}function <span class="hljs-literal">q</span>(b,a){<span class="hljs-keyword">var</span> <span class="hljs-keyword">d</span>=(b&amp;65535)+(a&amp;65535);<span class="hljs-literal">return</span>(b&gt;&gt;16)+(a&gt;&gt;16)+(<span class="hljs-keyword">d</span>&gt;&gt;16)&lt;&lt;16|<span class="hljs-keyword">d</span>&amp;65535}function z(b){<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> a=[],<span class="hljs-keyword">d</span>=(1&lt;&lt;<span class="hljs-keyword">m</span>)-1,c=0;c&lt;b.length*<span class="hljs-keyword">m</span>;c+=<span class="hljs-keyword">m</span>)a[c&gt;&gt;5]|=(b.charCodeAt(c/<span class="hljs-keyword">m</span>)&amp;<span class="hljs-keyword">d</span>)&lt;&lt;32-<span class="hljs-keyword">m</span>-c%32;<span class="hljs-keyword">return</span> a}function o(<span class="hljs-keyword">e</span>,a,<span class="hljs-keyword">d</span>,c,i){<span class="hljs-keyword">var</span> f=!1;this.appKey=<span class="hljs-keyword">e</span>;this.oauthKey=a;this.oauthSecret=<span class="hljs-keyword">d</span>;this.apiBaseURL=c?c:b.sdk.url.baseURL;this.authBaseURL=i?i:b.sdk.url.authBaseURL;this.useThreeLegged=function(a){f=a;this.oauthKey||(this.oauthKey=this.appKey)};this.isThreeLegged=function(){<span class="hljs-keyword">return</span> f};
<span class="hljs-keyword">return</span> this}<span class="hljs-keyword">var</span> t={PROPERTY_TYPE_ONLY_LATEST:0,PROPERTY_TYPE_SLASH_COMBINE:1,PROPERTY_TYPE_IGNORE:2};t.build=function a(<span class="hljs-keyword">d</span>,c){<span class="hljs-keyword">var</span> b=c.children||[],f;<span class="hljs-keyword">for</span>(f <span class="hljs-keyword">in</span> b)<span class="hljs-keyword">if</span>(b.hasOwnProperty(f)){<span class="hljs-keyword">var</span> <span class="hljs-keyword">e</span>=b[f],<span class="hljs-keyword">g</span>=<span class="hljs-keyword">e</span>.propertyTypes||c.propertyTypes||{};<span class="hljs-keyword">g</span>.children=t.PROPERTY_TYPE_IGNORE;<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> j <span class="hljs-keyword">in</span> c)<span class="hljs-keyword">if</span>(c.hasOwnProperty(j))switch(<span class="hljs-keyword">g</span>[j]||t.PROPERTY_TYPE_ONLY_LATEST){case t.PROPERTY_TYPE_ONLY_LATEST:<span class="hljs-keyword">e</span>[j]=void 0===<span class="hljs-keyword">e</span>[j]?c[j]:<span class="hljs-keyword">e</span>[j];<span class="hljs-keyword">break</span>;case t.PROPERTY_TYPE_SLASH_COMBINE:<span class="hljs-keyword">var</span> <span class="hljs-keyword">h</span>=[];c[j]&amp;&amp;<span class="hljs-keyword">h</span>.push(c[j]);<span class="hljs-keyword">e</span>[j]&amp;&amp;<span class="hljs-keyword">h</span>.push(<span class="hljs-keyword">e</span>[j]);<span class="hljs-keyword">e</span>[j]=
<span class="hljs-keyword">h</span>.join(<span class="hljs-string">"/"</span>)}<span class="hljs-keyword">e</span>.method&amp;&amp;!<span class="hljs-keyword">e</span>.children?<span class="hljs-keyword">d</span>[<span class="hljs-keyword">e</span>.method]=function(a){<span class="hljs-keyword">return</span> function(){<span class="hljs-keyword">return</span> a.executor.apply(a,arguments)}}(<span class="hljs-keyword">e</span>):<span class="hljs-keyword">e</span>.property&amp;&amp;a(<span class="hljs-keyword">d</span>[<span class="hljs-keyword">e</span>.property]={},<span class="hljs-keyword">e</span>)}};t.build(k,{verb:<span class="hljs-string">"GET"</span>,executor:p,children:[{method:<span class="hljs-string">"hasStoredSession"</span>,executor:function(){Ti.API.warn(<span class="hljs-string">"Cloud.hasStoredSession has been deprecated. Use Cloud.sessionId property"</span>);<span class="hljs-keyword">return</span> <span class="hljs-keyword">g</span>.hasStoredSession()}},{method:<span class="hljs-string">"retrieveStoredSession"</span>,executor:function(){Ti.API.warn(<span class="hljs-string">"Cloud.retrieveStoredSession has been deprecated. Use Cloud.sessionId property"</span>);
<span class="hljs-keyword">return</span> <span class="hljs-keyword">g</span>.retrieveStoredSession()}},{property:<span class="hljs-string">"ACLs"</span>,children:[{method:<span class="hljs-string">"create"</span>,verb:<span class="hljs-string">"POST"</span>},{method:<span class="hljs-string">"update"</span>,verb:<span class="hljs-string">"PUT"</span>},{method:<span class="hljs-string">"show"</span>},{method:<span class="hljs-string">"remove"</span>,restMethod:<span class="hljs-string">"delete"</span>,verb:<span class="hljs-string">"DELETE"</span>},{method:<span class="hljs-string">"addUser"</span>,restMethod:<span class="hljs-string">"add"</span>,verb:<span class="hljs-string">"POST"</span>},{method:<span class="hljs-string">"removeUser"</span>,restMethod:<span class="hljs-string">"remove"</span>,verb:<span class="hljs-string">"DELETE"</span>},{method:<span class="hljs-string">"checkUser"</span>,restMethod:<span class="hljs-string">"check"</span>}]},{property:<span class="hljs-string">"Chats"</span>,children:[{method:<span class="hljs-string">"create"</span>,verb:<span class="hljs-string">"POST"</span>},{method:<span class="hljs-string">"query"</span>},{method:<span class="hljs-string">"remove"</span>,restMethod:<span class="hljs-string">"delete"</span>,verb:<span class="hljs-string">"DELETE"</span>},{method:<span class="hljs-string">"queryChatGroups"</span>,restMethod:<span class="hljs-string">"query_chat_groups"</span>,
executor:<span class="hljs-keyword">h</span>},{method:<span class="hljs-string">"getChatGroups"</span>,restMethod:<span class="hljs-string">"get_chat_groups"</span>,executor:<span class="hljs-keyword">h</span>}]},{property:<span class="hljs-string">"Checkins"</span>,children:[{method:<span class="hljs-string">"create"</span>,verb:<span class="hljs-string">"POST"</span>},{method:<span class="hljs-string">"query"</span>,executor:<span class="hljs-keyword">h</span>},{method:<span class="hljs-string">"show"</span>},{method:<span class="hljs-string">"remove"</span>,restMethod:<span class="hljs-string">"delete"</span>,verb:<span class="hljs-string">"DELETE"</span>}]},{property:<span class="hljs-string">"Clients"</span>,children:[{method:<span class="hljs-string">"geolocate"</span>,executor:<span class="hljs-keyword">h</span>}]},{property:<span class="hljs-string">"Objects"</span>,executor:function(a,<span class="hljs-keyword">d</span>){<span class="hljs-keyword">var</span> c;a&amp;&amp;<span class="hljs-string">"object"</span>==<span class="hljs-keyword">typeof</span> a&amp;&amp;(<span class="hljs-keyword">u</span>(<span class="hljs-string">"data.classname"</span>,a.classname,<span class="hljs-string">"string"</span>),<span class="hljs-literal">w</span>(this),this.url=this.restNamespace+<span class="hljs-string">"/"</span>+a.classname+<span class="hljs-string">"/"</span>+this.restMethod+<span class="hljs-string">".json"</span>,c=a.classname,
delete a.classname);p.call(this,a,<span class="hljs-keyword">d</span>);a.classname=c},children:[{method:<span class="hljs-string">"create"</span>,verb:<span class="hljs-string">"POST"</span>},{method:<span class="hljs-string">"show"</span>},{method:<span class="hljs-string">"update"</span>,verb:<span class="hljs-string">"PUT"</span>},{method:<span class="hljs-string">"remove"</span>,restMethod:<span class="hljs-string">"delete"</span>,verb:<span class="hljs-string">"DELETE"</span>},{method:<span class="hljs-string">"query"</span>}]},{property:<span class="hljs-string">"Emails"</span>,restNamespace:<span class="hljs-string">"custom_mailer"</span>,children:[{method:<span class="hljs-string">"send"</span>,verb:<span class="hljs-string">"POST"</span>,restMethod:<span class="hljs-string">"email_from_template"</span>}]},{property:<span class="hljs-string">"Events"</span>,children:[{method:<span class="hljs-string">"create"</span>,verb:<span class="hljs-string">"POST"</span>},{method:<span class="hljs-string">"show"</span>},{method:<span class="hljs-string">"showOccurrences"</span>,restMethod:<span class="hljs-string">"show/occurrences"</span>},{method:<span class="hljs-string">"query"</span>,executor:<span class="hljs-keyword">h</span>},{method:<span class="hljs-string">"queryOccurrences"</span>,
restMethod:<span class="hljs-string">"query/occurrences"</span>,executor:<span class="hljs-keyword">h</span>},{method:<span class="hljs-string">"search"</span>,executor:<span class="hljs-keyword">h</span>},{method:<span class="hljs-string">"searchOccurrences"</span>,restMethod:<span class="hljs-string">"search/occurrences"</span>,executor:<span class="hljs-keyword">h</span>},{method:<span class="hljs-string">"update"</span>,verb:<span class="hljs-string">"PUT"</span>},{method:<span class="hljs-string">"remove"</span>,restMethod:<span class="hljs-string">"delete"</span>,verb:<span class="hljs-string">"DELETE"</span>}]},{property:<span class="hljs-string">"Files"</span>,children:[{method:<span class="hljs-string">"create"</span>,verb:<span class="hljs-string">"POST"</span>},{method:<span class="hljs-string">"query"</span>,executor:<span class="hljs-keyword">h</span>},{method:<span class="hljs-string">"show"</span>},{method:<span class="hljs-string">"update"</span>,verb:<span class="hljs-string">"PUT"</span>},{method:<span class="hljs-string">"remove"</span>,restMethod:<span class="hljs-string">"delete"</span>,verb:<span class="hljs-string">"DELETE"</span>}]},{property:<span class="hljs-string">"Friends"</span>,children:[{method:<span class="hljs-string">"add"</span>,verb:<span class="hljs-string">"POST"</span>},{method:<span class="hljs-string">"requests"</span>,executor:<span class="hljs-keyword">h</span>},{method:<span class="hljs-string">"approve"</span>,
verb:<span class="hljs-string">"PUT"</span>},{method:<span class="hljs-string">"remove"</span>,verb:<span class="hljs-string">"DELETE"</span>},{method:<span class="hljs-string">"search"</span>}]},{property:<span class="hljs-string">"GeoFences"</span>,restNamespace:<span class="hljs-string">"geo_fences"</span>,children:[{method:<span class="hljs-string">"create"</span>,verb:<span class="hljs-string">"POST"</span>},{method:<span class="hljs-string">"update"</span>,verb:<span class="hljs-string">"PUT"</span>},{method:<span class="hljs-string">"remove"</span>,restMethod:<span class="hljs-string">"delete"</span>,verb:<span class="hljs-string">"DELETE"</span>},{method:<span class="hljs-string">"query"</span>}]},{property:<span class="hljs-string">"KeyValues"</span>,children:[{method:<span class="hljs-string">"set"</span>,verb:<span class="hljs-string">"PUT"</span>},{method:<span class="hljs-string">"get"</span>},{method:<span class="hljs-string">"append"</span>,verb:<span class="hljs-string">"PUT"</span>},{method:<span class="hljs-string">"increment"</span>,restMethod:<span class="hljs-string">"incrby"</span>,verb:<span class="hljs-string">"PUT"</span>},{method:<span class="hljs-string">"remove"</span>,restMethod:<span class="hljs-string">"delete"</span>,verb:<span class="hljs-string">"DELETE"</span>}]},{property:<span class="hljs-string">"Likes"</span>,children:[{method:<span class="hljs-string">"create"</span>,
verb:<span class="hljs-string">"POST"</span>},{method:<span class="hljs-string">"remove"</span>,restMethod:<span class="hljs-string">"delete"</span>,verb:<span class="hljs-string">"DELETE"</span>}]},{property:<span class="hljs-string">"Messages"</span>,children:[{method:<span class="hljs-string">"create"</span>,verb:<span class="hljs-string">"POST"</span>},{method:<span class="hljs-string">"reply"</span>,verb:<span class="hljs-string">"POST"</span>},{method:<span class="hljs-string">"show"</span>},{method:<span class="hljs-string">"showInbox"</span>,restMethod:<span class="hljs-string">"show/inbox"</span>,executor:<span class="hljs-keyword">h</span>},{method:<span class="hljs-string">"showSent"</span>,restMethod:<span class="hljs-string">"show/sent"</span>,executor:<span class="hljs-keyword">h</span>},{method:<span class="hljs-string">"showThreads"</span>,restMethod:<span class="hljs-string">"show/threads"</span>,executor:<span class="hljs-keyword">h</span>},{method:<span class="hljs-string">"showThread"</span>,restMethod:<span class="hljs-string">"show/thread"</span>},{method:<span class="hljs-string">"remove"</span>,restMethod:<span class="hljs-string">"delete"</span>,verb:<span class="hljs-string">"DELETE"</span>},{method:<span class="hljs-string">"removeThread"</span>,restMethod:<span class="hljs-string">"delete/thread"</span>,verb:<span class="hljs-string">"DELETE"</span>}]},
{property:<span class="hljs-string">"Photos"</span>,children:[{method:<span class="hljs-string">"create"</span>,verb:<span class="hljs-string">"POST"</span>},{method:<span class="hljs-string">"show"</span>},{method:<span class="hljs-string">"search"</span>},{method:<span class="hljs-string">"query"</span>,executor:<span class="hljs-keyword">h</span>},{method:<span class="hljs-string">"update"</span>,verb:<span class="hljs-string">"PUT"</span>},{method:<span class="hljs-string">"remove"</span>,restMethod:<span class="hljs-string">"delete"</span>,verb:<span class="hljs-string">"DELETE"</span>}]},{property:<span class="hljs-string">"PhotoCollections"</span>,restNamespace:<span class="hljs-string">"collections"</span>,children:[{method:<span class="hljs-string">"create"</span>,verb:<span class="hljs-string">"POST"</span>},{method:<span class="hljs-string">"show"</span>},{method:<span class="hljs-string">"update"</span>,verb:<span class="hljs-string">"PUT"</span>},{method:<span class="hljs-string">"search"</span>},{method:<span class="hljs-string">"showSubcollections"</span>,restMethod:<span class="hljs-string">"show/subcollections"</span>},{method:<span class="hljs-string">"showPhotos"</span>,restMethod:<span class="hljs-string">"show/photos"</span>},{method:<span class="hljs-string">"remove"</span>,restMethod:<span class="hljs-string">"delete"</span>,
verb:<span class="hljs-string">"DELETE"</span>}]},{property:<span class="hljs-string">"Places"</span>,children:[{method:<span class="hljs-string">"create"</span>,verb:<span class="hljs-string">"POST"</span>},{method:<span class="hljs-string">"search"</span>,executor:<span class="hljs-keyword">h</span>},{method:<span class="hljs-string">"show"</span>},{method:<span class="hljs-string">"update"</span>,verb:<span class="hljs-string">"PUT"</span>},{method:<span class="hljs-string">"remove"</span>,restMethod:<span class="hljs-string">"delete"</span>,verb:<span class="hljs-string">"DELETE"</span>},{method:<span class="hljs-string">"query"</span>,executor:<span class="hljs-keyword">h</span>}]},{property:<span class="hljs-string">"Posts"</span>,children:[{method:<span class="hljs-string">"create"</span>,verb:<span class="hljs-string">"POST"</span>},{method:<span class="hljs-string">"show"</span>},{method:<span class="hljs-string">"query"</span>,executor:<span class="hljs-keyword">h</span>},{method:<span class="hljs-string">"update"</span>,verb:<span class="hljs-string">"PUT"</span>},{method:<span class="hljs-string">"remove"</span>,restMethod:<span class="hljs-string">"delete"</span>,verb:<span class="hljs-string">"DELETE"</span>}]},{property:<span class="hljs-string">"PushNotifications"</span>,restNamespace:<span class="hljs-string">"push_notification"</span>,verb:<span class="hljs-string">"POST"</span>,children:[{method:<span class="hljs-string">"subscribe"</span>},
{method:<span class="hljs-string">"unsubscribe"</span>,verb:<span class="hljs-string">"DELETE"</span>},{method:<span class="hljs-string">"notify"</span>},{method:<span class="hljs-string">"query"</span>,verb:<span class="hljs-string">"GET"</span>},{method:<span class="hljs-string">"subscribeToken"</span>,restMethod:<span class="hljs-string">"subscribe_token"</span>},{method:<span class="hljs-string">"unsubscribeToken"</span>,restMethod:<span class="hljs-string">"unsubscribe_token"</span>,verb:<span class="hljs-string">"DELETE"</span>},{method:<span class="hljs-string">"updateSubscription"</span>,restMethod:<span class="hljs-string">"subscription/update"</span>,verb:<span class="hljs-string">"PUT"</span>},{method:<span class="hljs-string">"notifyTokens"</span>,restMethod:<span class="hljs-string">"notify_tokens"</span>},{method:<span class="hljs-string">"resetBadge"</span>,restMethod:<span class="hljs-string">"reset_badge"</span>,verb:<span class="hljs-string">"PUT"</span>},{method:<span class="hljs-string">"setBadge"</span>,restMethod:<span class="hljs-string">"set_badge"</span>,verb:<span class="hljs-string">"PUT"</span>,executor:<span class="hljs-keyword">h</span>},{method:<span class="hljs-string">"queryChannels"</span>,restMethod:<span class="hljs-string">"channels/query"</span>,
verb:<span class="hljs-string">"GET"</span>,executor:<span class="hljs-keyword">h</span>},{method:<span class="hljs-string">"showChannels"</span>,restMethod:<span class="hljs-string">"channels/show"</span>,verb:<span class="hljs-string">"GET"</span>}]},{property:<span class="hljs-string">"PushSchedules"</span>,restNamespace:<span class="hljs-string">"push_schedules"</span>,children:[{method:<span class="hljs-string">"create"</span>,restMethod:<span class="hljs-string">"create"</span>,verb:<span class="hljs-string">"POST"</span>},{method:<span class="hljs-string">"query"</span>,restMethod:<span class="hljs-string">"query"</span>,executor:<span class="hljs-keyword">h</span>},{method:<span class="hljs-string">"remove"</span>,restMethod:<span class="hljs-string">"delete"</span>,verb:<span class="hljs-string">"DELETE"</span>}]},{property:<span class="hljs-string">"Reviews"</span>,children:[{method:<span class="hljs-string">"create"</span>,verb:<span class="hljs-string">"POST"</span>},{method:<span class="hljs-string">"show"</span>},{method:<span class="hljs-string">"query"</span>},{method:<span class="hljs-string">"update"</span>,verb:<span class="hljs-string">"PUT"</span>},{method:<span class="hljs-string">"remove"</span>,restMethod:<span class="hljs-string">"delete"</span>,verb:<span class="hljs-string">"DELETE"</span>}]},{property:<span class="hljs-string">"SocialIntegrations"</span>,
restNamespace:<span class="hljs-string">"users"</span>,children:[{method:<span class="hljs-string">"externalAccountLogin"</span>,restMethod:<span class="hljs-string">"external_account_login"</span>,verb:<span class="hljs-string">"POST"</span>},{method:<span class="hljs-string">"externalAccountLink"</span>,restMethod:<span class="hljs-string">"external_account_link"</span>,verb:<span class="hljs-string">"POST"</span>},{method:<span class="hljs-string">"externalAccountUnlink"</span>,restMethod:<span class="hljs-string">"external_account_unlink"</span>,verb:<span class="hljs-string">"DELETE"</span>},{method:<span class="hljs-string">"searchFacebookFriends"</span>,restNamespace:<span class="hljs-string">"social"</span>,restMethod:<span class="hljs-string">"facebook/search_friends"</span>,executor:x}]},{property:<span class="hljs-string">"Statuses"</span>,children:[{method:<span class="hljs-string">"create"</span>,verb:<span class="hljs-string">"POST"</span>},{method:<span class="hljs-string">"update"</span>,verb:<span class="hljs-string">"PUT"</span>},{method:<span class="hljs-string">"show"</span>},{method:<span class="hljs-string">"search"</span>},
{method:<span class="hljs-string">"query"</span>,executor:<span class="hljs-keyword">h</span>},{method:<span class="hljs-string">"remove"</span>,restMethod:<span class="hljs-string">"delete"</span>,verb:<span class="hljs-string">"DELETE"</span>}]},{property:<span class="hljs-string">"Users"</span>,children:[{method:<span class="hljs-string">"create"</span>,verb:<span class="hljs-string">"POST"</span>},{method:<span class="hljs-string">"login"</span>,verb:<span class="hljs-string">"POST"</span>},{method:<span class="hljs-string">"show"</span>},{method:<span class="hljs-string">"showMe"</span>,restMethod:<span class="hljs-string">"show/me"</span>,executor:x},{method:<span class="hljs-string">"search"</span>,executor:<span class="hljs-keyword">h</span>},{method:<span class="hljs-string">"query"</span>,executor:<span class="hljs-keyword">h</span>},{method:<span class="hljs-string">"update"</span>,verb:<span class="hljs-string">"PUT"</span>},{method:<span class="hljs-string">"logout"</span>,executor:function(a){p.call(this,{},function(<span class="hljs-keyword">d</span>){<span class="hljs-keyword">g</span>.reset();a(<span class="hljs-keyword">d</span>)})}},{method:<span class="hljs-string">"remove"</span>,restMethod:<span class="hljs-string">"delete"</span>,verb:<span class="hljs-string">"DELETE"</span>,executor:function(){<span class="hljs-keyword">var</span> a=arguments;p.call(this,
2==a.length?a[0]:{},function(<span class="hljs-keyword">d</span>){<span class="hljs-keyword">g</span>.reset();(2==a.length?a[1]:a[0])(<span class="hljs-keyword">d</span>)})}},{method:<span class="hljs-string">"requestResetPassword"</span>,restMethod:<span class="hljs-string">"request_reset_password"</span>},{method:<span class="hljs-string">"resendConfirmation"</span>,restMethod:<span class="hljs-string">"resend_confirmation"</span>},{method:<span class="hljs-string">"secureCreate"</span>,executor:y},{method:<span class="hljs-string">"secureLogin"</span>,executor:y},{method:<span class="hljs-string">"secureStatus"</span>,executor:function(){<span class="hljs-keyword">return</span> <span class="hljs-keyword">g</span>.checkStatus()}}]}]});<span class="hljs-keyword">var</span> <span class="hljs-keyword">e</span>;null==<span class="hljs-keyword">e</span>&amp;&amp;(<span class="hljs-keyword">e</span>={});<span class="hljs-keyword">e</span>.setProperties=function(a,<span class="hljs-keyword">d</span>){<span class="hljs-keyword">if</span>(null!=a&amp;&amp;null!=<span class="hljs-keyword">d</span>)<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> c <span class="hljs-keyword">in</span> <span class="hljs-keyword">d</span>)a[c]=<span class="hljs-keyword">d</span>[c];<span class="hljs-keyword">return</span> a};<span class="hljs-keyword">e</span>.setProperties(<span class="hljs-keyword">e</span>,{percentEncode:function(a){<span class="hljs-keyword">if</span>(null==
a)<span class="hljs-keyword">return</span><span class="hljs-string">""</span>;<span class="hljs-keyword">if</span>(a instanceof Array){<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> <span class="hljs-keyword">d</span>=<span class="hljs-string">""</span>;0&lt;a.length;++a)<span class="hljs-string">""</span>!=<span class="hljs-keyword">d</span>&amp;&amp;(<span class="hljs-keyword">d</span>+=<span class="hljs-string">"&amp;"</span>),<span class="hljs-keyword">d</span>+=<span class="hljs-keyword">e</span>.percentEncode(a[0]);<span class="hljs-keyword">return</span> <span class="hljs-keyword">d</span>}a=encodeURIComponent(a);a=a.<span class="hljs-keyword">replace</span>(/\!/<span class="hljs-keyword">g</span>,<span class="hljs-string">"%21"</span>);a=a.<span class="hljs-keyword">replace</span>(/\*/<span class="hljs-keyword">g</span>,<span class="hljs-string">"%2A"</span>);a=a.<span class="hljs-keyword">replace</span>(/\'/<span class="hljs-keyword">g</span>,<span class="hljs-string">"%27"</span>);a=a.<span class="hljs-keyword">replace</span>(/\(/<span class="hljs-keyword">g</span>,<span class="hljs-string">"%28"</span>);<span class="hljs-keyword">return</span> a=a.<span class="hljs-keyword">replace</span>(/\)/<span class="hljs-keyword">g</span>,<span class="hljs-string">"%29"</span>)},decodePercent:function(a){null!=a&amp;&amp;(a=a.<span class="hljs-keyword">replace</span>(/\+/<span class="hljs-keyword">g</span>,<span class="hljs-string">" "</span>));<span class="hljs-keyword">return</span> decodeURIComponent(a)},getParameterList:function(a){<span class="hljs-keyword">if</span>(null==a)<span class="hljs-keyword">return</span>[];<span class="hljs-keyword">if</span>(<span class="hljs-string">"object"</span>!=<span class="hljs-keyword">typeof</span> a)<span class="hljs-keyword">return</span> <span class="hljs-keyword">e</span>.decodeForm(a+<span class="hljs-string">""</span>);<span class="hljs-keyword">if</span>(a instanceof Array)<span class="hljs-keyword">return</span> a;<span class="hljs-keyword">var</span> <span class="hljs-keyword">d</span>=[],c;<span class="hljs-keyword">for</span>(c <span class="hljs-keyword">in</span> a)<span class="hljs-keyword">d</span>.push([c,
a[c]]);<span class="hljs-keyword">return</span> <span class="hljs-keyword">d</span>},getParameterMap:function(a){<span class="hljs-keyword">if</span>(null==a)<span class="hljs-keyword">return</span>{};<span class="hljs-keyword">if</span>(<span class="hljs-string">"object"</span>!=<span class="hljs-keyword">typeof</span> a)<span class="hljs-keyword">return</span> <span class="hljs-keyword">e</span>.getParameterMap(<span class="hljs-keyword">e</span>.decodeForm(a+<span class="hljs-string">""</span>));<span class="hljs-keyword">if</span>(a instanceof Array){<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> <span class="hljs-keyword">d</span>={},c=0;c&lt;a.length;++c){<span class="hljs-keyword">var</span> b=a[c][0];void 0===<span class="hljs-keyword">d</span>[b]&amp;&amp;(<span class="hljs-keyword">d</span>[b]=a[c][1])}<span class="hljs-keyword">return</span> <span class="hljs-keyword">d</span>}<span class="hljs-keyword">return</span> a},getParameter:function(a,<span class="hljs-keyword">d</span>){<span class="hljs-keyword">if</span>(a instanceof Array)<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> c=0;c&lt;a.length;++c){<span class="hljs-keyword">if</span>(a[c][0]==<span class="hljs-keyword">d</span>)<span class="hljs-keyword">return</span> a[c][1]}<span class="hljs-keyword">else</span> <span class="hljs-keyword">return</span> <span class="hljs-keyword">e</span>.getParameterMap(a)[<span class="hljs-keyword">d</span>];<span class="hljs-keyword">return</span> null},formEncode:function(a){<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> <span class="hljs-keyword">d</span>=<span class="hljs-string">""</span>,a=<span class="hljs-keyword">e</span>.getParameterList(a),c=0;c&lt;a.length;++c){<span class="hljs-keyword">var</span> b=a[c][1];null==
b&amp;&amp;(b=<span class="hljs-string">""</span>);<span class="hljs-string">""</span>!=<span class="hljs-keyword">d</span>&amp;&amp;(<span class="hljs-keyword">d</span>+=<span class="hljs-string">"&amp;"</span>);<span class="hljs-keyword">d</span>+=<span class="hljs-keyword">e</span>.percentEncode(a[c][0])+<span class="hljs-string">"="</span>+<span class="hljs-keyword">e</span>.percentEncode(b)}<span class="hljs-keyword">return</span> <span class="hljs-keyword">d</span>},decodeForm:function(a){<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> <span class="hljs-keyword">d</span>=[],a=a.<span class="hljs-keyword">split</span>(<span class="hljs-string">"&amp;"</span>),c=0;c&lt;a.length;++c){<span class="hljs-keyword">var</span> b=a[c];<span class="hljs-keyword">if</span>(<span class="hljs-string">""</span>!=b){<span class="hljs-keyword">var</span> f=b.indexOf(<span class="hljs-string">"="</span>),<span class="hljs-keyword">g</span>;0&gt;f?(<span class="hljs-keyword">g</span>=<span class="hljs-keyword">e</span>.decodePercent(b),b=null):(<span class="hljs-keyword">g</span>=<span class="hljs-keyword">e</span>.decodePercent(b.substring(0,f)),b=<span class="hljs-keyword">e</span>.decodePercent(b.substring(f+1)));<span class="hljs-keyword">d</span>.push([<span class="hljs-keyword">g</span>,b])}}<span class="hljs-keyword">return</span> <span class="hljs-keyword">d</span>},setParameter:function(a,<span class="hljs-keyword">d</span>,c){<span class="hljs-keyword">var</span> b=a.parameters;<span class="hljs-keyword">if</span>(b instanceof Array){<span class="hljs-keyword">for</span>(a=0;a&lt;b.length;++a)b[a][0]==<span class="hljs-keyword">d</span>&amp;&amp;(void 0===c?b.splice(a,1):(b[a][1]=c,c=void 0));void 0!==c&amp;&amp;
b.push([<span class="hljs-keyword">d</span>,c])}<span class="hljs-keyword">else</span> b=<span class="hljs-keyword">e</span>.getParameterMap(b),b[<span class="hljs-keyword">d</span>]=c,a.parameters=b},setParameters:function(a,<span class="hljs-keyword">d</span>){<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> c=<span class="hljs-keyword">e</span>.getParameterList(<span class="hljs-keyword">d</span>),b=0;b&lt;c.length;++b)<span class="hljs-keyword">e</span>.setParameter(a,c[b][0],c[b][1])},completeRequest:function(a,<span class="hljs-keyword">d</span>){null==a.method&amp;&amp;(a.method=<span class="hljs-string">"GET"</span>);<span class="hljs-keyword">var</span> c=<span class="hljs-keyword">e</span>.getParameterMap(a.parameters);null==c.oauth_consumer_key&amp;&amp;<span class="hljs-keyword">e</span>.setParameter(a,<span class="hljs-string">"oauth_consumer_key"</span>,<span class="hljs-keyword">d</span>.consumerKey||<span class="hljs-string">""</span>);null==c.oauth_token&amp;&amp;null!=<span class="hljs-keyword">d</span>.<span class="hljs-keyword">token</span>&amp;&amp;<span class="hljs-keyword">e</span>.setParameter(a,<span class="hljs-string">"oauth_token"</span>,<span class="hljs-keyword">d</span>.<span class="hljs-keyword">token</span>);null==c.oauth_version&amp;&amp;<span class="hljs-keyword">e</span>.setParameter(a,<span class="hljs-string">"oauth_version"</span>,<span class="hljs-string">"1.0"</span>);
null==c.oauth_timestamp&amp;&amp;<span class="hljs-keyword">e</span>.setParameter(a,<span class="hljs-string">"oauth_timestamp"</span>,<span class="hljs-keyword">e</span>.timestamp());null==c.oauth_nonce&amp;&amp;<span class="hljs-keyword">e</span>.setParameter(a,<span class="hljs-string">"oauth_nonce"</span>,<span class="hljs-keyword">e</span>.nonce(6));<span class="hljs-keyword">e</span>.SignatureMethod.<span class="hljs-literal">sign</span>(a,<span class="hljs-keyword">d</span>)},setTimestampAndNonce:function(a){<span class="hljs-keyword">e</span>.setParameter(a,<span class="hljs-string">"oauth_timestamp"</span>,<span class="hljs-keyword">e</span>.timestamp());<span class="hljs-keyword">e</span>.setParameter(a,<span class="hljs-string">"oauth_nonce"</span>,<span class="hljs-keyword">e</span>.nonce(6))},addToURL:function(a,<span class="hljs-keyword">d</span>){newURL=a;<span class="hljs-keyword">if</span>(null!=<span class="hljs-keyword">d</span>){<span class="hljs-keyword">var</span> c=<span class="hljs-keyword">e</span>.formEncode(<span class="hljs-keyword">d</span>);0&lt;c.length&amp;&amp;(newURL=0&gt;a.indexOf(<span class="hljs-string">"?"</span>)?newURL+<span class="hljs-string">"?"</span>:newURL+<span class="hljs-string">"&amp;"</span>,newURL+=c)}<span class="hljs-keyword">return</span> newURL},getAuthorizationHeader:function(a,<span class="hljs-keyword">d</span>){<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> c='OAuth realm="'+
<span class="hljs-keyword">e</span>.percentEncode(a)+'<span class="hljs-string">"',b=e.getParameterList(d),f=0;f&lt;b.length;++f){var g=b[f],h=g[0];0==h.indexOf("</span>oauth_<span class="hljs-string">")&amp;&amp;(c+="</span>,<span class="hljs-string">"+e.percentEncode(h)+'="</span>'+<span class="hljs-keyword">e</span>.percentEncode(<span class="hljs-keyword">g</span>[1])+'<span class="hljs-string">"')}return c},correctTimestamp:function(a){e.timeCorrectionMsec=1E3*a-(new Date).getTime()},timeCorrectionMsec:0,timestamp:function(){var a=(new Date).getTime()+e.timeCorrectionMsec;return Math.floor(a/1E3)},nonce:function(a){for(var d=e.nonce.CHARS,c="</span>",b=0;b&lt;a;++b)<span class="hljs-keyword">var</span> f=Math.<span class="hljs-literal">floor</span>(Math.random()*<span class="hljs-keyword">d</span>.length),c=c+<span class="hljs-keyword">d</span>.substring(f,f+1);<span class="hljs-keyword">return</span> c}});
<span class="hljs-keyword">e</span>.nonce.CHARS=<span class="hljs-string">"0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz"</span>;<span class="hljs-keyword">e</span>.declareClass=function(a,<span class="hljs-keyword">d</span>,b){<span class="hljs-keyword">var</span> <span class="hljs-keyword">e</span>=a[<span class="hljs-keyword">d</span>];a[<span class="hljs-keyword">d</span>]=b;<span class="hljs-keyword">if</span>(null!=b&amp;&amp;null!=<span class="hljs-keyword">e</span>)<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> f <span class="hljs-keyword">in</span> <span class="hljs-keyword">e</span>)<span class="hljs-string">"prototype"</span>!=f&amp;&amp;(b[f]=<span class="hljs-keyword">e</span>[f]);<span class="hljs-keyword">return</span> b};<span class="hljs-keyword">e</span>.declareClass(<span class="hljs-keyword">e</span>,<span class="hljs-string">"SignatureMethod"</span>,function(){});<span class="hljs-keyword">e</span>.setProperties(<span class="hljs-keyword">e</span>.SignatureMethod.prototype,{sign:function(a){<span class="hljs-keyword">var</span> <span class="hljs-keyword">d</span>=this.getSignature(<span class="hljs-keyword">e</span>.SignatureMethod.getBaseString(a));<span class="hljs-keyword">e</span>.setParameter(a,<span class="hljs-string">"oauth_signature"</span>,<span class="hljs-keyword">d</span>);<span class="hljs-keyword">return</span> <span class="hljs-keyword">d</span>},initialize:function(a,<span class="hljs-keyword">d</span>){<span class="hljs-keyword">var</span> b;b=null!=<span class="hljs-keyword">d</span>.accessorSecret&amp;&amp;9&lt;a.length&amp;&amp;<span class="hljs-string">"-Accessor"</span>==
a.substring(a.length-9)?<span class="hljs-keyword">d</span>.accessorSecret:<span class="hljs-keyword">d</span>.consumerSecret;this.key=<span class="hljs-keyword">e</span>.percentEncode(b)+<span class="hljs-string">"&amp;"</span>+<span class="hljs-keyword">e</span>.percentEncode(<span class="hljs-keyword">d</span>.tokenSecret)}});<span class="hljs-keyword">e</span>.setProperties(<span class="hljs-keyword">e</span>.SignatureMethod,{sign:function(a,<span class="hljs-keyword">d</span>){<span class="hljs-keyword">var</span> b=<span class="hljs-keyword">e</span>.getParameterMap(a.parameters).oauth_signature_method;<span class="hljs-keyword">if</span>(null==b||<span class="hljs-string">""</span>==b)b=<span class="hljs-string">"HMAC-SHA1"</span>,<span class="hljs-keyword">e</span>.setParameter(a,<span class="hljs-string">"oauth_signature_method"</span>,b);<span class="hljs-keyword">e</span>.SignatureMethod.newMethod(b,<span class="hljs-keyword">d</span>).<span class="hljs-literal">sign</span>(a)},newMethod:function(a,b){<span class="hljs-keyword">var</span> c=<span class="hljs-keyword">e</span>.SignatureMethod.REGISTERED[a];<span class="hljs-keyword">if</span>(null!=c){<span class="hljs-keyword">var</span> i=new c;i.initialize(a,b);<span class="hljs-keyword">return</span> i}<span class="hljs-keyword">var</span> c=<span class="hljs-keyword">Error</span>(<span class="hljs-string">"signature_method_rejected"</span>),
f=<span class="hljs-string">""</span>;<span class="hljs-keyword">for</span>(i <span class="hljs-keyword">in</span> <span class="hljs-keyword">e</span>.SignatureMethod.REGISTERED)<span class="hljs-string">""</span>!=f&amp;&amp;(f+=<span class="hljs-string">"&amp;"</span>),f+=<span class="hljs-keyword">e</span>.percentEncode(i);c.oauth_acceptable_signature_methods=f;throw c;},REGISTERED:{},registerMethodClass:function(a,b){<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> c=0;c&lt;a.length;++c)<span class="hljs-keyword">e</span>.SignatureMethod.REGISTERED[a[c]]=b},makeSubclass:function(a){<span class="hljs-keyword">var</span> b=<span class="hljs-keyword">e</span>.SignatureMethod,c=function(){b.call(this)};c.prototype=new b;c.prototype.getSignature=a;<span class="hljs-keyword">return</span> c.prototype.constructor=c},getBaseString:function(a){<span class="hljs-keyword">var</span> b=a.action,c=b.indexOf(<span class="hljs-string">"?"</span>);<span class="hljs-keyword">if</span>(0&gt;c)c=a.parameters;<span class="hljs-keyword">else</span> <span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> c=<span class="hljs-keyword">e</span>.decodeForm(b.substring(c+
1)),i=<span class="hljs-keyword">e</span>.getParameterList(a.parameters),f=0;f&lt;i.length;++f)c.push(i[f]);<span class="hljs-keyword">return</span> <span class="hljs-keyword">e</span>.percentEncode(a.method.toUpperCase())+<span class="hljs-string">"&amp;"</span>+<span class="hljs-keyword">e</span>.percentEncode(<span class="hljs-keyword">e</span>.SignatureMethod.normalizeUrl(b))+<span class="hljs-string">"&amp;"</span>+<span class="hljs-keyword">e</span>.percentEncode(<span class="hljs-keyword">e</span>.SignatureMethod.normalizeParameters(c))},normalizeUrl:function(a){<span class="hljs-keyword">var</span> b=<span class="hljs-keyword">e</span>.SignatureMethod.parseUri(a),a=b.protocol.toLowerCase(),c=b.authority.toLowerCase();<span class="hljs-keyword">if</span>(<span class="hljs-string">"http"</span>==a&amp;&amp;80==b.port||<span class="hljs-string">"https"</span>==a&amp;&amp;443==b.port){<span class="hljs-keyword">var</span> i=c.lastIndexOf(<span class="hljs-string">":"</span>);0&lt;=i&amp;&amp;(c=c.substring(0,i))}(b=b.path)||(b=<span class="hljs-string">"/"</span>);<span class="hljs-keyword">return</span> a+<span class="hljs-string">"://"</span>+c+b},parseUri:function(a){<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> b=
<span class="hljs-string">"source,protocol,authority,userInfo,user,password,host,port,relative,path,directory,file,query,anchor"</span>.<span class="hljs-keyword">split</span>(<span class="hljs-string">","</span>),a=/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\<span class="hljs-keyword">d</span>*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(a),c={},<span class="hljs-keyword">e</span>=14;<span class="hljs-keyword">e</span>--;)c[b[<span class="hljs-keyword">e</span>]]=a[<span class="hljs-keyword">e</span>]||<span class="hljs-string">""</span>;<span class="hljs-keyword">return</span> c},normalizeParameters:function(a){<span class="hljs-keyword">if</span>(null==a)<span class="hljs-keyword">return</span><span class="hljs-string">""</span>;<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> b=<span class="hljs-keyword">e</span>.getParameterList(a),a=[],c=0;c&lt;b.length;++c){<span class="hljs-keyword">var</span> i=b[c];<span class="hljs-string">"oauth_signature"</span>!=i[0]&amp;&amp;a.push([<span class="hljs-keyword">e</span>.percentEncode(i[0])+<span class="hljs-string">" "</span>+<span class="hljs-keyword">e</span>.percentEncode(i[1]),
i])}a.<span class="hljs-keyword">sort</span>(function(a,b){<span class="hljs-keyword">return</span> a[0]&lt;b[0]?-1:a[0]&gt;b[0]?1:0});b=[];<span class="hljs-keyword">for</span>(c=0;c&lt;a.length;++c)b.push(a[c][1]);<span class="hljs-keyword">return</span> <span class="hljs-keyword">e</span>.formEncode(b)}});<span class="hljs-keyword">e</span>.SignatureMethod.registerMethodClass([<span class="hljs-string">"PLAINTEXT"</span>,<span class="hljs-string">"PLAINTEXT-Accessor"</span>],<span class="hljs-keyword">e</span>.SignatureMethod.makeSubclass(function(){<span class="hljs-keyword">return</span> this.key}));<span class="hljs-keyword">e</span>.SignatureMethod.registerMethodClass([<span class="hljs-string">"HMAC-SHA1"</span>,<span class="hljs-string">"HMAC-SHA1-Accessor"</span>],<span class="hljs-keyword">e</span>.SignatureMethod.makeSubclass(function(a){A=<span class="hljs-string">"="</span>;<span class="hljs-keyword">var</span> b=this.key,c=z(b);16&lt;c.length&amp;&amp;(c=v(c,b.length*<span class="hljs-keyword">m</span>));<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> <span class="hljs-keyword">e</span>=Array(16),b=Array(16),f=0;16&gt;f;f++)<span class="hljs-keyword">e</span>[f]=c[f]^909522486,
b[f]=c[f]^1549556828;a=v(<span class="hljs-keyword">e</span>.concat(z(a)),512+a.length*<span class="hljs-keyword">m</span>);a=v(b.concat(a),672);c=<span class="hljs-string">""</span>;<span class="hljs-keyword">for</span>(b=0;b&lt;4*a.length;b+=3){<span class="hljs-keyword">e</span>=(a[b&gt;&gt;2]&gt;&gt;8*(3-b%4)&amp;255)&lt;&lt;16|(a[b+1&gt;&gt;2]&gt;&gt;8*(3-(b+1)%4)&amp;255)&lt;&lt;8|a[b+2&gt;&gt;2]&gt;&gt;8*(3-(b+2)%4)&amp;255;<span class="hljs-keyword">for</span>(f=0;4&gt;f;f++)c=8*b+6*f&gt;32*a.length?c+A:c+<span class="hljs-string">"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"</span>.charAt(<span class="hljs-keyword">e</span>&gt;&gt;6*(3-f)&amp;63)}<span class="hljs-keyword">return</span> c}));<span class="hljs-keyword">var</span> A=<span class="hljs-string">""</span>,<span class="hljs-keyword">m</span>=8;o.prototype.sendRequest=function(a,<span class="hljs-keyword">d</span>,c,i){<span class="hljs-keyword">var</span> f=b.js.sdk.utils.getAuthType(this);<span class="hljs-keyword">if</span>(f==b.constants.unknown)<span class="hljs-literal">i</span>(b.constants.noAppKeyError);<span class="hljs-keyword">else</span>{<span class="hljs-keyword">var</span> <span class="hljs-keyword">g</span>=
this.apiBaseURL+<span class="hljs-string">"/"</span>+b.sdk.url.<span class="hljs-keyword">version</span>+<span class="hljs-string">"/"</span>+a,<span class="hljs-keyword">g</span>=f==b.constants.app_key?<span class="hljs-keyword">g</span>+(b.constants.keyParam+this.appKey):<span class="hljs-keyword">g</span>+(b.constants.oauthKeyParam+this.oauthKey);null==c&amp;&amp;(c={});<span class="hljs-keyword">d</span>=<span class="hljs-keyword">d</span>?<span class="hljs-keyword">d</span>.toUpperCase():b.constants.get_method;c[b.constants.suppressCode]=<span class="hljs-string">"true"</span>;<span class="hljs-keyword">if</span>(!this.isThreeLegged()){<span class="hljs-keyword">var</span> <span class="hljs-keyword">h</span>=b.js.sdk.utils.getCookie(b.constants.sessionId);<span class="hljs-keyword">h</span>||(<span class="hljs-keyword">h</span>=this.session_id);<span class="hljs-keyword">h</span>&amp;&amp;(<span class="hljs-keyword">g</span>=-1!=<span class="hljs-keyword">g</span>.indexOf(<span class="hljs-string">"?"</span>)?<span class="hljs-keyword">g</span>+(<span class="hljs-string">"&amp;"</span>+b.constants.sessionId+<span class="hljs-string">"="</span>+<span class="hljs-keyword">h</span>):<span class="hljs-keyword">g</span>+(<span class="hljs-string">"?"</span>+b.constants.sessionId+<span class="hljs-string">"="</span>+<span class="hljs-keyword">h</span>))}<span class="hljs-keyword">if</span>(this.isThreeLegged()){<span class="hljs-keyword">if</span>(!this.accessToken&amp;&amp;(<span class="hljs-keyword">h</span>=this.getSession()))this.accessToken=
<span class="hljs-keyword">h</span>.access_token;this.accessToken&amp;&amp;(c[b.constants.accessToken]=this.accessToken)}<span class="hljs-keyword">h</span>=c;<span class="hljs-keyword">if</span>(Ti.<span class="hljs-keyword">App</span>.analytics){<span class="hljs-keyword">var</span> j=<span class="hljs-keyword">h</span>.analytics||{};j.id=Ti.Platform.createUUID();Ti.Platform.id&amp;&amp;(j.mid=Ti.Platform.id);j.aguid=Ti.<span class="hljs-keyword">App</span>.guid;j.event=<span class="hljs-string">"cloud."</span>+a.<span class="hljs-keyword">replace</span>(/\<span class="hljs-comment">//g,".").replace(/\.json/,"");j.deploytype=Ti.App.deployType||"development";j.sid=Ti.App.sessionId;h.ti_analytics=JSON.stringify(j)}c=b.js.sdk.utils.cleanInvalidData(c);if(a=b.js.sdk.utils.getFileObject(c)){try{var n;n=a.toString().match(/TiFilesystemFile/)?</span>
a.<span class="hljs-keyword">read</span>():a;<span class="hljs-keyword">if</span>(!<span class="hljs-keyword">n</span>){<span class="hljs-literal">i</span>(b.constants.fileLoadError);<span class="hljs-keyword">return</span>}c[b.constants.<span class="hljs-keyword">file</span>]?(delete c[b.constants.<span class="hljs-keyword">file</span>],c[b.constants.<span class="hljs-keyword">file</span>]=<span class="hljs-keyword">n</span>):c[b.constants.photo]&amp;&amp;(delete c[b.constants.photo],c[b.constants.photo]=<span class="hljs-keyword">n</span>)}catch(k){<span class="hljs-literal">i</span>(b.constants.fileLoadError);<span class="hljs-keyword">return</span>}<span class="hljs-keyword">n</span>={};<span class="hljs-keyword">if</span>(f==b.constants.oauth||f==b.constants.three_legged_oauth)f={method:<span class="hljs-keyword">d</span>,action:<span class="hljs-keyword">g</span>,parameters:[]},b.js.sdk.utils.populateOAuthParameters(f.parameters,this.oauthKey),this.oauthSecret&amp;&amp;<span class="hljs-keyword">e</span>.completeRequest(f,{consumerSecret:this.oauthSecret}),<span class="hljs-keyword">n</span>[b.constants.oauth_header]=
<span class="hljs-keyword">e</span>.getAuthorizationHeader(<span class="hljs-string">""</span>,f.parameters)}<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(<span class="hljs-keyword">n</span>={},f==b.constants.oauth||f==b.constants.three_legged_oauth){<span class="hljs-keyword">var</span> f={method:<span class="hljs-keyword">d</span>,action:<span class="hljs-keyword">g</span>,parameters:[]},s;<span class="hljs-keyword">for</span>(s <span class="hljs-keyword">in</span> c)c.hasOwnProperty(s)&amp;&amp;f.parameters.push([s,c[s]]);b.js.sdk.utils.populateOAuthParameters(f.parameters,this.oauthKey);this.oauthSecret&amp;&amp;<span class="hljs-keyword">e</span>.completeRequest(f,{consumerSecret:this.oauthSecret});<span class="hljs-keyword">n</span>[b.constants.oauth_header]=<span class="hljs-keyword">e</span>.getAuthorizationHeader(<span class="hljs-string">""</span>,f.parameters)}b.js.sdk.utils.sendAppceleratorRequest(<span class="hljs-keyword">g</span>,<span class="hljs-keyword">d</span>,c,<span class="hljs-keyword">n</span>,i,this)}};o.prototype.sendAuthRequest=
function(a){<span class="hljs-keyword">if</span>(b.js.sdk.utils.getAuthType(this)!==b.constants.three_legged_oauth)alert(<span class="hljs-string">"wrong authorization type!"</span>);<span class="hljs-keyword">else</span>{<span class="hljs-keyword">var</span> a=a||{},<span class="hljs-keyword">d</span>=this.authBaseURL,<span class="hljs-keyword">d</span>=<span class="hljs-keyword">d</span>+<span class="hljs-string">"/oauth/authorize"</span>+(b.constants.oauthKeyParam+this.oauthKey),<span class="hljs-keyword">d</span>=<span class="hljs-keyword">d</span>+(b.constants.clientIdParam+this.oauthKey),<span class="hljs-keyword">d</span>=<span class="hljs-keyword">d</span>+(b.constants.responseTypeParam+<span class="hljs-string">"token"</span>),a=a.params||{};a.action=<span class="hljs-string">"login"</span>;a.url=<span class="hljs-keyword">d</span>;<span class="hljs-keyword">var</span> c=this,<span class="hljs-keyword">e</span>=a.cb;<span class="hljs-keyword">e</span>&amp;&amp;delete a.cb;b.js.sdk.ui(a,function(a){c.saveSession(a);<span class="hljs-keyword">e</span>&amp;&amp;<span class="hljs-literal">e</span>(a)})}};o.prototype.signUpRequest=function(a){<span class="hljs-keyword">if</span>(b.js.sdk.utils.getAuthType(this)!==
b.constants.three_legged_oauth)alert(<span class="hljs-string">"wrong authorization type!"</span>);<span class="hljs-keyword">else</span>{<span class="hljs-keyword">var</span> a=a||{},<span class="hljs-keyword">d</span>=this.authBaseURL,<span class="hljs-keyword">d</span>=<span class="hljs-keyword">d</span>+<span class="hljs-string">"/users/sign_up"</span>+(b.constants.oauthKeyParam+this.oauthKey),<span class="hljs-keyword">d</span>=<span class="hljs-keyword">d</span>+(b.constants.clientIdParam+this.oauthKey),a=a.params||{};a.action=<span class="hljs-string">"signup"</span>;a.url=<span class="hljs-keyword">d</span>;<span class="hljs-keyword">var</span> c=this,<span class="hljs-keyword">e</span>=a.cb;<span class="hljs-keyword">e</span>&amp;&amp;delete a.cb;b.js.sdk.ui(a,function(a){c.saveSession(a);<span class="hljs-keyword">e</span>&amp;&amp;<span class="hljs-literal">e</span>(a)})}};o.prototype.saveSession=function(a){<span class="hljs-keyword">if</span>(!a||!a.access_token)<span class="hljs-keyword">return</span> this.authorized=!1;b.js.sdk.utils.setCookie(b.constants.accessToken,a.access_token);b.js.sdk.utils.setCookie(b.constants.expiresIn,
a.expires_in);this.accessToken=a.access_token;this.expiresIn=a.expires_in;<span class="hljs-keyword">return</span> this.authorized=!0};o.prototype.getSession=function(){<span class="hljs-keyword">var</span> a={};a.access_token=b.js.sdk.utils.getCookie(b.constants.accessToken);a.expires_in=b.js.sdk.utils.getCookie(b.constants.expiresIn);<span class="hljs-keyword">if</span>(!a.access_token)<span class="hljs-keyword">return</span> this.authorized=!1;this.accessToken=a.access_token;this.expiresIn=a.expires_in;this.authorized=!0;<span class="hljs-keyword">return</span> a};o.prototype.clearSession=function(){b.js.sdk.utils.setCookie(b.constants.accessToken,<span class="hljs-string">""</span>);b.js.sdk.utils.setCookie(b.constants.expiresIn,
<span class="hljs-string">""</span>);delete this.accessToken;delete this.expiresIn;this.authorized=!1};o.prototype.checkStatus=function(){<span class="hljs-keyword">return</span> this.getSession()?!0:!1};b=void 0;b={constants:{},js:{}};b.js.sdk={};b.js.sdk.utils={};b.sdk={};b.sdk.url={};b.sdk.url.baseURL=<span class="hljs-string">"https://api.cloud.appcelerator.com"</span>;b.sdk.url.authBaseURL=<span class="hljs-string">"https://secure-identity.cloud.appcelerator.com"</span>;b.sdk.url.<span class="hljs-keyword">version</span>=<span class="hljs-string">"v1"</span>;b.constants.get_method=<span class="hljs-string">"GET"</span>;b.constants.post_method=<span class="hljs-string">"POST"</span>;b.constants.put_method=<span class="hljs-string">"PUT"</span>;b.constants.delete_method=<span class="hljs-string">"DELETE"</span>;b.constants.app_key=
1;b.constants.oauth=2;b.constants.three_legged_oauth=3;b.constants.unknown=-1;b.constants.keyParam=<span class="hljs-string">"?key="</span>;b.constants.oauthKeyParam=<span class="hljs-string">"?oauth_consumer_key="</span>;b.constants.clientIdParam=<span class="hljs-string">"&amp;client_id="</span>;b.constants.redirectUriParam=<span class="hljs-string">"&amp;redirect_uri="</span>;b.constants.responseTypeParam=<span class="hljs-string">"&amp;response_type="</span>;b.constants.accessToken=<span class="hljs-string">"access_token"</span>;b.constants.expiresIn=<span class="hljs-string">"expires_in"</span>;b.constants.appKey=<span class="hljs-string">"app_key"</span>;b.constants.json=<span class="hljs-string">"json"</span>;b.constants.sessionId=<span class="hljs-string">"_session_id"</span>;b.constants.sessionCookieName=<span class="hljs-string">"Cookie"</span>;b.constants.responseCookieName=
<span class="hljs-string">"Set-Cookie"</span>;b.constants.<span class="hljs-keyword">file</span>=<span class="hljs-string">"file"</span>;b.constants.suppressCode=<span class="hljs-string">"suppress_response_codes"</span>;b.constants.response_wrapper=<span class="hljs-string">"response_wrapper"</span>;b.constants.photo=<span class="hljs-string">"photo"</span>;b.constants.method=<span class="hljs-string">"_method"</span>;b.constants.name=<span class="hljs-string">"name"</span>;b.constants.value=<span class="hljs-string">"value"</span>;b.constants.oauth_header=<span class="hljs-string">"Authorization"</span>;b.constants.noAppKeyError={meta:{status:<span class="hljs-string">"fail"</span>,code:409,message:<span class="hljs-string">"Application key is not provided."</span>}};b.constants.fileLoadError={meta:{status:<span class="hljs-string">"fail"</span>,code:400,message:<span class="hljs-string">"Unable to load file"</span>}};b.js.sdk.utils.getSessionParams=
function(){<span class="hljs-keyword">var</span> a=null,<span class="hljs-keyword">d</span>=b.js.sdk.utils.getCookie(b.constants.sessionId);<span class="hljs-keyword">d</span>&amp;&amp;(a=b.constants.sessionId+<span class="hljs-string">"="</span>+<span class="hljs-keyword">d</span>);<span class="hljs-keyword">return</span> a};b.js.sdk.utils.cookieMap=[];b.js.sdk.utils.cookieMap[b.constants.sessionId]=<span class="hljs-string">"sessionId"</span>;b.js.sdk.utils.cookieMap[b.constants.accessToken]=<span class="hljs-string">"accessToken"</span>;b.js.sdk.utils.cookieMap[b.constants.expiresIn]=<span class="hljs-string">"expiresIn"</span>;b.js.sdk.utils.getCookie=function(a){<span class="hljs-literal">return</span>(a=b.js.sdk.utils.cookieMap[a])&amp;&amp;k[a]||null};b.js.sdk.utils.setCookie=function(a,<span class="hljs-keyword">d</span>){<span class="hljs-keyword">var</span> c=b.js.sdk.utils.cookieMap[a];c&amp;&amp;(<span class="hljs-string">""</span>===<span class="hljs-keyword">d</span>?
delete k[c]:k[c]=<span class="hljs-keyword">d</span>)};b.js.sdk.utils.deleteCookie=function(a){(a=b.js.sdk.utils.cookieMap[a])&amp;&amp;delete k[a]};b.js.sdk.utils.getAuthType=function(a){<span class="hljs-keyword">if</span>(a){<span class="hljs-keyword">if</span>(a.isThreeLegged())<span class="hljs-keyword">return</span> b.constants.three_legged_oauth;<span class="hljs-keyword">if</span>(a.appKey)<span class="hljs-keyword">return</span> b.constants.app_key;<span class="hljs-keyword">if</span>(a.oauthKey&amp;&amp;a.oauthSecret)<span class="hljs-keyword">return</span> b.constants.oauth}<span class="hljs-keyword">return</span> b.constants.unknown};b.js.sdk.utils.getFileObject=function(a){<span class="hljs-keyword">if</span>(a)<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> <span class="hljs-keyword">d</span> <span class="hljs-keyword">in</span> a)<span class="hljs-keyword">if</span>(a.hasOwnProperty(<span class="hljs-keyword">d</span>)&amp;&amp;(<span class="hljs-keyword">d</span>==b.constants.photo||<span class="hljs-keyword">d</span>==b.constants.<span class="hljs-keyword">file</span>))<span class="hljs-keyword">return</span> a[<span class="hljs-keyword">d</span>];<span class="hljs-keyword">return</span> null};b.js.sdk.utils.cleanInvalidData=
function(a){<span class="hljs-keyword">if</span>(a){<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> <span class="hljs-keyword">d</span> <span class="hljs-keyword">in</span> a)<span class="hljs-keyword">if</span>(a.hasOwnProperty(<span class="hljs-keyword">d</span>)){null==a[<span class="hljs-keyword">d</span>]&amp;&amp;delete a[<span class="hljs-keyword">d</span>];<span class="hljs-keyword">if</span>(<span class="hljs-string">"object"</span>==<span class="hljs-keyword">typeof</span> a[<span class="hljs-keyword">d</span>]){<span class="hljs-keyword">if</span>(<span class="hljs-keyword">d</span>==b.constants.photo||<span class="hljs-keyword">d</span>==b.constants.<span class="hljs-keyword">file</span>)<span class="hljs-keyword">continue</span>;a[<span class="hljs-keyword">d</span>]=JSON.stringify(a[<span class="hljs-keyword">d</span>])}<span class="hljs-keyword">if</span>(!0===a[<span class="hljs-keyword">d</span>]||!1===a[<span class="hljs-keyword">d</span>])a[<span class="hljs-keyword">d</span>]=a[<span class="hljs-keyword">d</span>]?1:0}<span class="hljs-keyword">return</span> a}<span class="hljs-keyword">return</span>{}};b.js.sdk.utils.uploadMessageCallback=function(a){<span class="hljs-keyword">return</span> a&amp;&amp;a.data?JSON.<span class="hljs-keyword">parse</span>(a.data):{}};b.js.sdk.utils.getOAuthParameters=function(a){<span class="hljs-keyword">var</span> b=<span class="hljs-string">""</span>;<span class="hljs-keyword">if</span>(a)<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> a=<span class="hljs-keyword">e</span>.getParameterList(a),c=0;c&lt;a.length;++c){<span class="hljs-keyword">var</span> i=a[c],f=i[0];0==f.indexOf(<span class="hljs-string">"oauth_"</span>)&amp;&amp;<span class="hljs-string">"oauth_token"</span>!=
f&amp;&amp;(b+=<span class="hljs-string">"&amp;"</span>+<span class="hljs-keyword">e</span>.percentEncode(f)+<span class="hljs-string">"="</span>+<span class="hljs-keyword">e</span>.percentEncode(i[1]))}0&lt;b.length&amp;&amp;(b=b.substring(1));<span class="hljs-keyword">return</span> b};b.js.sdk.utils.populateOAuthParameters=function(a,b){a&amp;&amp;b&amp;&amp;(a.push([<span class="hljs-string">"oauth_version"</span>,<span class="hljs-string">"1.0"</span>]),a.push([<span class="hljs-string">"oauth_consumer_key"</span>,b]),a.push([<span class="hljs-string">"oauth_signature_method"</span>,<span class="hljs-string">"HMAC-SHA1"</span>]),a.push([<span class="hljs-string">"oauth_nonce"</span>,<span class="hljs-keyword">e</span>.nonce(15)]))};b.js.sdk.utils.sendAppceleratorRequest=function(a,<span class="hljs-keyword">d</span>,c,i,f,<span class="hljs-keyword">g</span>){<span class="hljs-keyword">var</span> <span class="hljs-keyword">h</span>=Ti.Network.createHTTPClient({timeout:6E4,onsendstream:function(b){k.onsendstream&amp;&amp;k.onsendstream({url:a,progress:b.progress})},
ondatastream:function(b){k.ondatastream&amp;&amp;k.ondatastream({url:a,progress:b.progress})},onerror:function(a){<span class="hljs-keyword">var</span> b={};<span class="hljs-keyword">if</span>(this.responseText){<span class="hljs-keyword">var</span> c=this.responseText;try{(c=c.<span class="hljs-literal">trim</span>())&amp;&amp;0&lt;c.length&amp;&amp;(b=JSON.<span class="hljs-keyword">parse</span>(c))}catch(<span class="hljs-keyword">d</span>){b=<span class="hljs-keyword">d</span>}}b.message||(b.message=a.<span class="hljs-keyword">error</span>);b.<span class="hljs-keyword">error</span>=!0;b.statusText=this.statusText;b.status=this.status;b.meta&amp;&amp;(b.metaString=JSON.stringify(b.meta));<span class="hljs-literal">f</span>(b)},onload:function(){<span class="hljs-keyword">var</span> a=JSON.<span class="hljs-keyword">parse</span>(this.responseText);<span class="hljs-keyword">if</span>(a&amp;&amp;a.meta&amp;&amp;(a.metaString=JSON.stringify(a.meta),a.meta.session_id)){<span class="hljs-keyword">var</span> c=a.meta.session_id;
b.js.sdk.utils.setCookie(b.constants.sessionId,c);<span class="hljs-keyword">g</span>.session_id=c}<span class="hljs-literal">f</span>(a)}}),j=a;<span class="hljs-keyword">if</span>(<span class="hljs-keyword">d</span>.toUpperCase()==b.constants.get_method||<span class="hljs-keyword">d</span>.toUpperCase()==b.constants.delete_method){<span class="hljs-keyword">var</span> <span class="hljs-keyword">n</span>=<span class="hljs-string">""</span>,<span class="hljs-keyword">m</span>;<span class="hljs-keyword">for</span>(<span class="hljs-keyword">m</span> <span class="hljs-keyword">in</span> c)c.hasOwnProperty(<span class="hljs-keyword">m</span>)&amp;&amp;(<span class="hljs-keyword">n</span>+=<span class="hljs-string">"&amp;"</span>+<span class="hljs-keyword">m</span>+<span class="hljs-string">"="</span>+<span class="hljs-keyword">e</span>.percentEncode(c[<span class="hljs-keyword">m</span>]));0&lt;<span class="hljs-keyword">n</span>.length&amp;&amp;(j=0&lt;a.indexOf(<span class="hljs-string">"?"</span>)?j+<span class="hljs-keyword">n</span>:j+(<span class="hljs-string">"?"</span>+<span class="hljs-keyword">n</span>.substring(1)),c={})}k.debug&amp;&amp;(Ti.API.info(<span class="hljs-keyword">d</span>+<span class="hljs-string">": "</span>+j),Ti.API.info(<span class="hljs-string">"header: "</span>+JSON.stringify(i)),Ti.API.info(<span class="hljs-string">"data: "</span>+JSON.stringify(c)));<span class="hljs-keyword">h</span>.<span class="hljs-keyword">open</span>(<span class="hljs-keyword">d</span>,j);<span class="hljs-string">"mobileweb"</span>!=Ti.Platform.osname&amp;&amp;<span class="hljs-keyword">h</span>.setRequestHeader(<span class="hljs-string">"Accept-Encoding"</span>,
<span class="hljs-string">"gzip,deflate"</span>);<span class="hljs-keyword">if</span>(i)<span class="hljs-keyword">for</span>(<span class="hljs-keyword">m</span> <span class="hljs-keyword">in</span> i)i.hasOwnProperty(<span class="hljs-keyword">m</span>)&amp;&amp;<span class="hljs-keyword">h</span>.setRequestHeader(<span class="hljs-keyword">m</span>,i[<span class="hljs-keyword">m</span>]);<span class="hljs-keyword">h</span>.send(c)};b.js.sdk.utils.decodeQS=function(a){<span class="hljs-keyword">var</span> b=decodeURIComponent,c={},a=a.<span class="hljs-keyword">split</span>(<span class="hljs-string">"&amp;"</span>),<span class="hljs-keyword">e</span>,f;<span class="hljs-keyword">for</span>(<span class="hljs-keyword">e</span>=0;<span class="hljs-keyword">e</span>&lt;a.length;<span class="hljs-keyword">e</span>++)(f=a[<span class="hljs-keyword">e</span>].<span class="hljs-keyword">split</span>(<span class="hljs-string">"="</span>,2))&amp;&amp;f[0]&amp;&amp;(c[b(f[0])]=b(f[1]));<span class="hljs-keyword">return</span> c};b.js.sdk.utils.guid=function(){<span class="hljs-keyword">return</span><span class="hljs-string">"f"</span>+(1073741824*Math.random()).<span class="hljs-keyword">toString</span>(16).<span class="hljs-keyword">replace</span>(<span class="hljs-string">"."</span>,<span class="hljs-string">""</span>)};b.js.sdk.utils.<span class="hljs-keyword">copy</span>=function(a,b,c,<span class="hljs-keyword">e</span>){<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> f <span class="hljs-keyword">in</span> b)<span class="hljs-keyword">if</span>(c||<span class="hljs-string">"undefined"</span>===<span class="hljs-keyword">typeof</span> a[f])a[f]=<span class="hljs-keyword">e</span>?<span class="hljs-literal">e</span>(b[f]):b[f];<span class="hljs-keyword">return</span> a};<span class="hljs-keyword">var</span> <span class="hljs-keyword">g</span>={session:null,fetchSetting:function(a,
b){<span class="hljs-keyword">var</span> c,<span class="hljs-keyword">e</span>=<span class="hljs-string">"production"</span>==Ti.<span class="hljs-keyword">App</span>.deployType.toLowerCase()?<span class="hljs-string">"production"</span>:<span class="hljs-string">"development"</span>;<span class="hljs-literal">return</span>(c=Ti.<span class="hljs-keyword">App</span>.Properties.getString(a+<span class="hljs-string">"-"</span>+<span class="hljs-keyword">e</span>))&amp;&amp;<span class="hljs-string">"undefined"</span>!=c||(c=Ti.<span class="hljs-keyword">App</span>.Properties.getString(a))&amp;&amp;<span class="hljs-string">"undefined"</span>!=c?c:b},fetchSession:function(){<span class="hljs-keyword">var</span> a=<span class="hljs-keyword">g</span>.fetchSetting(<span class="hljs-string">"acs-api-key"</span>,null),<span class="hljs-keyword">d</span>=<span class="hljs-keyword">g</span>.fetchSetting(<span class="hljs-string">"acs-base-url"</span>,b.sdk.url.baseURL),c=<span class="hljs-keyword">g</span>.fetchSetting(<span class="hljs-string">"acs-authbase-url"</span>,b.sdk.url.authBaseURL),<span class="hljs-keyword">e</span>=<span class="hljs-keyword">g</span>.fetchSetting(<span class="hljs-string">"acs-oauth-key"</span>,null),f=<span class="hljs-keyword">g</span>.fetchSetting(<span class="hljs-string">"acs-oauth-secret"</span>,null);<span class="hljs-keyword">return</span> new o(a,<span class="hljs-keyword">e</span>,f,<span class="hljs-keyword">d</span>,c)}};<span class="hljs-keyword">g</span>.getSession=function(){null==
<span class="hljs-keyword">g</span>.session&amp;&amp;(<span class="hljs-keyword">g</span>.session=<span class="hljs-keyword">g</span>.fetchSession());<span class="hljs-keyword">return</span> <span class="hljs-keyword">g</span>.session};<span class="hljs-keyword">g</span>.send=function(a,b,c,<span class="hljs-keyword">e</span>){<span class="hljs-keyword">g</span>.getSession().sendRequest(a,b,c,<span class="hljs-keyword">e</span>)};<span class="hljs-keyword">g</span>.hasStoredSession=function(){<span class="hljs-keyword">return</span>!!b.js.sdk.utils.getCookie(b.constants.sessionId)};<span class="hljs-keyword">g</span>.retrieveStoredSession=function(){<span class="hljs-keyword">return</span> b.js.sdk.utils.getCookie(b.constants.sessionId)};<span class="hljs-keyword">g</span>.reset=function(){b.js.sdk.utils.deleteCookie(b.constants.sessionId);<span class="hljs-keyword">g</span>.session&amp;&amp;(<span class="hljs-keyword">g</span>.session.clearSession(),<span class="hljs-keyword">g</span>.session=null)};<span class="hljs-keyword">g</span>.secureSend=function(a,b){<span class="hljs-keyword">var</span> c=<span class="hljs-keyword">g</span>.getSession();c.useThreeLegged(!0);<span class="hljs-string">"secureCreate"</span>===
a?c.signUpRequest(b):<span class="hljs-string">"secureLogin"</span>===a&amp;&amp;c.sendAuthRequest(b)};<span class="hljs-keyword">g</span>.checkStatus=function(){<span class="hljs-keyword">return</span> <span class="hljs-keyword">g</span>.getSession().checkStatus()};b.js.sdk.UIManager={redirect_uri:<span class="hljs-string">"acsconnect://success"</span>,displayModal:function(a){function <span class="hljs-literal">d</span>(a){<span class="hljs-keyword">var</span> <span class="hljs-keyword">h</span>=/^acsconnect:\/\/([^#]*)#(.*)/.exec(decodeURIComponent(a.url));<span class="hljs-keyword">if</span>(<span class="hljs-keyword">h</span>&amp;&amp;3==<span class="hljs-keyword">h</span>.length){<span class="hljs-keyword">var</span> k=null;<span class="hljs-keyword">if</span>(<span class="hljs-string">"success"</span>==<span class="hljs-keyword">h</span>[1])k=b.js.sdk.utils.decodeQS(<span class="hljs-keyword">h</span>[2]);<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(<span class="hljs-string">"cancel"</span>!=<span class="hljs-keyword">h</span>[1])<span class="hljs-keyword">return</span>;<span class="hljs-keyword">e</span>.removeEventListener(<span class="hljs-string">"beforeload"</span>,<span class="hljs-keyword">d</span>);<span class="hljs-keyword">e</span>.removeEventListener(<span class="hljs-string">"load"</span>,<span class="hljs-keyword">d</span>);<span class="hljs-keyword">g</span>=k;c&amp;&amp;c.<span class="hljs-keyword">close</span>()}f&amp;&amp;<span class="hljs-string">"load"</span>==a.<span class="hljs-keyword">type</span>&amp;&amp;
(c.remove(f),f=null)}k.debug&amp;&amp;Ti.API.info(<span class="hljs-string">"ThreeLegged Request url: "</span>+a.url);<span class="hljs-keyword">var</span> c=Ti.UI.createWindow({modal:!0,title:a.params.title||<span class="hljs-string">"Appcelerator Cloud Service"</span>}),<span class="hljs-keyword">e</span>=Ti.UI.createWebView({url:a.url,scalesPageToFit:!1,showScrollbars:!0}),f=Ti.UI.createLabel({text:<span class="hljs-string">"Loading, please wait..."</span>,color:<span class="hljs-string">"black"</span>,width:Ti.UI.SIZE||<span class="hljs-string">"auto"</span>,height:Ti.UI.SIZE||<span class="hljs-string">"auto"</span>,zIndex:100}),<span class="hljs-keyword">g</span>;<span class="hljs-keyword">e</span>.addEventListener(<span class="hljs-string">"beforeload"</span>,<span class="hljs-keyword">d</span>);<span class="hljs-keyword">e</span>.addEventListener(<span class="hljs-string">"load"</span>,<span class="hljs-keyword">d</span>);c.addEventListener(<span class="hljs-string">"close"</span>,function(){a&amp;&amp;(a.cb&amp;&amp;a.cb(<span class="hljs-keyword">g</span>),<span class="hljs-keyword">e</span>=c=f=a=<span class="hljs-keyword">g</span>=null)});
<span class="hljs-keyword">if</span>(<span class="hljs-string">"android"</span>!=Ti.Platform.osname){<span class="hljs-keyword">var</span> <span class="hljs-keyword">h</span>=Ti.UI.createButton({title:<span class="hljs-string">"close"</span>,width:<span class="hljs-string">"50%"</span>,height:<span class="hljs-string">"20%"</span>});<span class="hljs-keyword">h</span>.addEventListener(<span class="hljs-string">"click"</span>,function(){c.<span class="hljs-keyword">close</span>()});c.rightNavButton=<span class="hljs-keyword">h</span>}c.add(<span class="hljs-keyword">e</span>);c.add(f);c.<span class="hljs-keyword">open</span>()},processParams:function(a,<span class="hljs-keyword">d</span>){<span class="hljs-keyword">return</span>{cb:<span class="hljs-keyword">d</span>,url:a.url+b.constants.redirectUriParam+b.js.sdk.UIManager.redirect_uri,params:a}}};b.js.sdk.ui=function(a,<span class="hljs-keyword">d</span>){<span class="hljs-keyword">if</span>(<span class="hljs-string">"mobileweb"</span>===Ti.Platform.osname)alert(<span class="hljs-string">"Three Legged OAuth is not currently supported on MobileWeb"</span>);<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(a.action){<span class="hljs-keyword">var</span> c=b.js.sdk.UIManager.processParams(a,
<span class="hljs-keyword">d</span>);c&amp;&amp;b.js.sdk.UIManager.displayModal(c)}<span class="hljs-keyword">else</span> alert('<span class="hljs-string">"action"</span> is a required parameter <span class="hljs-keyword">for</span> com.cocoafish.js.sdk.ui().')};<span class="hljs-keyword">return</span> k};
}});
require(<span class="hljs-string">"Ti/App/Properties"</span>, function(p) {
    p.setString(<span class="hljs-string">"acs-oauth-secret-production"</span>,<span class="hljs-string">"7hRFQUDBLEkQUJQbolDAMrmdyCLjXDnu"</span>);
    p.setString(<span class="hljs-string">"acs-oauth-key-production"</span>,<span class="hljs-string">"wgM5FFTBHnNZrN0gURwE4gw1ULTXWdij"</span>);
    p.setString(<span class="hljs-string">"acs-api-key-production"</span>,<span class="hljs-string">"yTtDCyvcPx6sVCl03V9XPvvN2ja3KKEN"</span>);
    p.setString(<span class="hljs-string">"acs-oauth-secret-development"</span>,<span class="hljs-string">"KTnxi6CR4pV0IF12Fsrcc7CSjrau9thY"</span>);
    p.setString(<span class="hljs-string">"acs-oauth-key-development"</span>,<span class="hljs-string">"xg4CgRktwp4XJ8LRIfMX6nnzP7gpmJ6s"</span>);
    p.setString(<span class="hljs-string">"acs-api-key-development"</span>,<span class="hljs-string">"vZNDRkcj6TF2UwKcQ6wSLm83AXKWrGOa"</span>);
    p.setString(<span class="hljs-string">"ti.ui.defaultunit"</span>,<span class="hljs-string">"dp"</span>);
});
require([<span class="hljs-string">"Ti"</span>,<span class="hljs-string">"Ti/Accelerometer"</span>,<span class="hljs-string">"Ti/Analytics"</span>,<span class="hljs-string">"Ti/BlobStream"</span>,<span class="hljs-string">"Ti/BufferStream"</span>,<span class="hljs-string">"Ti/Facebook/LoginButton"</span>,<span class="hljs-string">"Ti/Filesystem/FileStream"</span>,<span class="hljs-string">"Ti/Map/Annotation"</span>,<span class="hljs-string">"Ti/Map/View"</span>,<span class="hljs-string">"Ti/Media/AudioPlayer"</span>,<span class="hljs-string">"Ti/Media/Sound"</span>,<span class="hljs-string">"Ti/Media/VideoPlayer"</span>,<span class="hljs-string">"Ti/Network/HTTPClient"</span>,<span class="hljs-string">"Ti/Platform/DisplayCaps"</span>,<span class="hljs-string">"Ti/UI/2DMatrix"</span>,<span class="hljs-string">"Ti/UI/ActivityIndicator"</span>,<span class="hljs-string">"Ti/UI/AlertDialog"</span>,<span class="hljs-string">"Ti/UI/Clipboard"</span>,<span class="hljs-string">"Ti/UI/EmailDialog"</span>,<span class="hljs-string">"Ti/UI/OptionDialog"</span>,<span class="hljs-string">"Ti/UI/Picker"</span>,<span class="hljs-string">"Ti/UI/PickerColumn"</span>,<span class="hljs-string">"Ti/UI/PickerRow"</span>,<span class="hljs-string">"Ti/UI/ProgressBar"</span>,<span class="hljs-string">"Ti/UI/ScrollView"</span>,<span class="hljs-string">"Ti/UI/ScrollableView"</span>,<span class="hljs-string">"Ti/UI/Slider"</span>,<span class="hljs-string">"Ti/UI/Switch"</span>,<span class="hljs-string">"Ti/UI/Tab"</span>,<span class="hljs-string">"Ti/UI/TabGroup"</span>,<span class="hljs-string">"Ti/UI/TableView"</span>,<span class="hljs-string">"Ti/UI/TableViewRow"</span>,<span class="hljs-string">"Ti/UI/TableViewSection"</span>,<span class="hljs-string">"Ti/UI/TextArea"</span>,<span class="hljs-string">"Ti/UI/TextField"</span>,<span class="hljs-string">"Ti/UI/WebView"</span>,<span class="hljs-string">"Ti/UI/Window"</span>,<span class="hljs-string">"Ti/XML"</span>,<span class="hljs-string">"Ti/Yahoo"</span>,<span class="hljs-string">"Ti/_/colors"</span>,<span class="hljs-string">"Ti/_/image"</span>,<span class="hljs-string">"Ti/_/text"</span>,<span class="hljs-string">"Ti/_/text!Ti/_/UI/WebViewBridge.js"</span>,<span class="hljs-string">"ti.cloud"</span>]);
</code></pre>
		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="May 28th 2014, 12:18:11 pm">May 28th 2014</span>
				by <span class='authorname'>Terran Brown</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>definecloud</span></li>
					
						<li><span class='tagname'>referenceerror</span></li>
					
						<li><span class='tagname'>uncaught</span></li>
					
				</ul>
			

			<section>
				<h5>2 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>From complied index.html where the error is occurring</p>
<pre><code class="hljs">defineCloud(<span class="hljs-keyword">exports</span>);
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">defineCloud</span><span class="hljs-params">(k)</span><span class="hljs-comment">{.......cant add the full code due to the forum.....
}</span>);</span>
</code></pre></div>
							<div class="author">
								&mdash; commented <span title="May 28th 2014, 12:21:02 pm">May 28th 2014</span>
								by <span class='authorname'>Terran Brown</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>One final comment….when the above fails the whole console log is…</p>
<pre><code class="hljs">[INFO] Appcelerator Titanium <span class="hljs-number">3.2</span>.<span class="hljs-number">2</span> Mobile Web
Uncaught ReferenceError: exports is not defined <span class="hljs-number">127.0</span>.<span class="hljs-number">0.1</span>:<span class="hljs-number">8020</span>/index<span class="hljs-class">.html</span>:<span class="hljs-number">18298</span>
Uncaught TypeError: Cannot read property <span class="hljs-string">'add'</span> of undefined <span class="hljs-number">127.0</span>.<span class="hljs-number">0.1</span>:<span class="hljs-number">8020</span>/index<span class="hljs-class">.html</span>:<span class="hljs-number">4817</span>
Uncaught TypeError: undefined is not <span class="hljs-tag">a</span> function <span class="hljs-number">127.0</span>.<span class="hljs-number">0.1</span>:<span class="hljs-number">8020</span>/index<span class="hljs-class">.html</span>:<span class="hljs-number">7977</span>
Uncaught SecurityError: Blocked <span class="hljs-tag">a</span> frame with origin <span class="hljs-string">"https://api.appcelerator.net"</span> from accessing <span class="hljs-tag">a</span> frame with origin <span class="hljs-string">"http://127.0.0.1:8020"</span>.  The frame requesting access has <span class="hljs-tag">a</span> protocol of <span class="hljs-string">"https"</span>, the frame being accessed has <span class="hljs-tag">a</span> protocol of <span class="hljs-string">"http"</span>. Protocols must match.
</code></pre></div>
							<div class="author">
								&mdash; commented <span title="May 28th 2014, 12:23:04 pm">May 28th 2014</span>
								by <span class='authorname'>Terran Brown</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-279194">
				
						<section>
							<p>No idea why but setting &lt;module platform=&quot;commonjs&quot;&gt;ti.cloud&lt;&#x2F;module&gt; in the tiapp.xml seems to have fixed it rather than specifying a version.</p>
<p>T</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="May 28th 2014, 9:05:07 pm">May 28th 2014</span>
								by <span class='authorname'>Terran Brown</span><br>
								<a class="icon-bg icon-link" href="question/174633/definecloudexports-uncaught-referenceerror-exports-is-not-defined-when-testing-titanium-322-mobile-web-app#answer-279194" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
