<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>iOS module will not accept event listener » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>iOS module will not accept event listener</h1>
		</header>
		<section>
			<p>The following is a small sample of code from my project:</p>
<p>function listenForScans(){<br>        pauseTimer();<br>    console.log(scanner);<br>    scanner.addEventListener(&#39;scan&#39;,itemScanned);<br>}</p>
<p>this function is called repeatedly throughout my app, and works perfectly. scanner is an iOS module, and it confirms the eventlistener in the console every time it is added.The console.log(scanner) part was added for troubleshooting, to confirm that the scanner module still exists. It does.</p>
<p>If a specific sequence of seemingly unrelated events occur in my app, the scanner module will stop receiving the eventlistener. The timer is still paused. The scanner module still exists. Any code that comes after will still be called as well. That one line of code is just ignored for no reason at all. I have gone through every line of code in the problem sequence and there is no reference to the scanner at all. It doesnt make any sense. The scanner still exists. The line of code is valid and works over and over again. Why would it ever stop working?</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="February 12th 2015, 6:46:04 pm">February 12th 2015</span>
				by <span class='authorname'>derick alt</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>eventlistener</span></li>
					
						<li><span class='tagname'>events</span></li>
					
						<li><span class='tagname'>ios</span></li>
					
						<li><span class='tagname'>titanium</span></li>
					
						<li><span class='tagname'>titanium studio</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-285792">
				
						<section>
							<p>Your description is vague, but I remember having a similar issue when I was using Ti.Barcode. The problem, it turned out, was I was creating multiple instances of the scanner, and kept adding more event listeners. Eventually, it didn&#39;t like it anymore.</p>
<p>The solution was to create one instance in a singleton, and reference that throughout the app.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="February 12th 2015, 11:32:20 pm">February 12th 2015</span>
								by <span class='authorname'>Shannon Hicks</span><br>
								<a class="icon-bg icon-link" href="question/180817/ios-module-will-not-accept-event-listener#answer-285792" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Thank you for the reply. Sorry if it is not clear. </p>
<p>I only call require 1 time, but I do create multiple scanner objects from it. Each time I create a new scanner object, I add an event listener to the module. When I am done scanning, I remove the event listener. </p>
<p>I can create scanner objects and add event listeners all day without issue. I can call this function 100 times in a row and it will work all 100 times. The issue only presents itself when I call a specific sequence of other functions. If I call function a(), no problem. If I call function b(), no problem. But if I call function a() and then function b()… I can no longer add event listeners.</p>
</p>
										<div class="author">
											&mdash; commented <span title="February 13th 2015, 12:09:26 pm">February 13th 2015</span>
											by <span class='authorname'>derick alt</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-285883">
				
						<section>
							<p>I figured this out. It seems that I had 1 extra removeEventListener on the object, and calling remove when there are no listeners was breaking events for it. (I dont know why). I changed the logic for balanced calls and this issue went away.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="February 16th 2015, 4:24:09 pm">February 16th 2015</span>
								by <span class='authorname'>derick alt</span><br>
								<a class="icon-bg icon-link" href="question/180817/ios-module-will-not-accept-event-listener#answer-285883" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
