<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>dynamic data in tableview problem » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>dynamic data in tableview problem</h1>
		</header>
		<section>
			<pre><code class="hljs"><span class="hljs-keyword">for</span>(var i= <span class="hljs-number">0</span>; i&lt; results.length; i++){

    var  data_row = Ti.UI.createTableViewRow({
        backgroundColor:<span class="hljs-string">"#dbe5f1"</span>,
        hasChild:<span class="hljs-string">"false"</span>
    });

    var data_view = Ti.UI.createView({
        backgroundColor:<span class="hljs-string">"transparent"</span>,
        layout: <span class="hljs-string">"horizontal"</span>    
    });

    var name_view = Ti.UI.createView({
        <span class="hljs-variable">width</span>: <span class="hljs-string">"50%"</span>,
        <span class="hljs-variable">height</span>:<span class="hljs-number">40</span>,
        left:<span class="hljs-number">0</span>,
        <span class="hljs-built_in">textAlign</span>: <span class="hljs-string">'left'</span>,
        borderColor: <span class="hljs-string">"#fff"</span>,
           borderWidth: <span class="hljs-number">1</span>    
    });

    var surname_view = Ti.UI.createView({
        <span class="hljs-variable">width</span>: <span class="hljs-string">"50%"</span>,
        <span class="hljs-variable">height</span>:<span class="hljs-number">40</span>,
        left:<span class="hljs-number">0</span>,
        <span class="hljs-built_in">textAlign</span>: <span class="hljs-string">'left'</span>,
        borderColor: <span class="hljs-string">"#fff"</span>,
           borderWidth: <span class="hljs-number">1</span>        
    });

    var first_name = Ti.UI.createLabel({
        <span class="hljs-built_in">text</span> : results[i].first_name,
        patient_id : results[i].patient_id,
        <span class="hljs-built_in">color</span> : <span class="hljs-string">'#1E5DA9'</span>,
        <span class="hljs-built_in">textAlign</span>: <span class="hljs-string">'left'</span>,
        left:<span class="hljs-number">5</span>,
        <span class="hljs-variable">height</span>:<span class="hljs-number">40</span>,
        touchEnabled: <span class="hljs-keyword">true</span>
    });

    var surname = Ti.UI.createLabel({
        <span class="hljs-built_in">text</span> : results[i].last_name,
        <span class="hljs-built_in">color</span> : <span class="hljs-string">'black'</span>,
        <span class="hljs-built_in">textAlign</span>: <span class="hljs-string">'left'</span>,
        left:<span class="hljs-number">5</span>,
        <span class="hljs-variable">height</span>:<span class="hljs-number">40</span>,
        touchEnabled: <span class="hljs-keyword">true</span>
    });

    name_view.<span class="hljs-built_in">add</span>(first_name);
    surname_view.<span class="hljs-built_in">add</span>(surname);

    data_view.<span class="hljs-built_in">add</span>(name_view);
    data_view.<span class="hljs-built_in">add</span>(surname_view);

    data_row.<span class="hljs-built_in">add</span>(data_view);
    data.push(data_row);


}
</code></pre><p>This code works perfect in iphone but in android there is 1 problem. when page is loaded at that time table is not displayed but when i change the phone&#39;s orientation to landscape then table is visible and it also stays in portrait mode. Problem is with first time loading.</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="May 24th 2013, 9:04:22 am">May 24th 2013</span>
				by <span class='authorname'>Aniket Harshe</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>alloy</span></li>
					
						<li><span class='tagname'>sqlite</span></li>
					
						<li><span class='tagname'>tableview</span></li>
					
				</ul>
			

			<section>
				<h5>8 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>I see nothing in this code that would cause that to be the case. Do you do any handling of orientation in your app?</p>
</div>
							<div class="author">
								&mdash; commented <span title="May 24th 2013, 9:40:23 am">May 24th 2013</span>
								by <span class='authorname'>Tony Lukasavage</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>i don&#39;t have any code related to the orientation.</p>
</div>
							<div class="author">
								&mdash; commented <span title="May 24th 2013, 9:41:24 am">May 24th 2013</span>
								by <span class='authorname'>Aniket Harshe</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>i am doing $.table_info.setData(data); after the for loop</p>
</div>
							<div class="author">
								&mdash; commented <span title="May 24th 2013, 9:45:15 am">May 24th 2013</span>
								by <span class='authorname'>Aniket Harshe</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>can you create a small reproducible test case that exhibits the problem so we can test on our end?</p>
</div>
							<div class="author">
								&mdash; commented <span title="May 24th 2013, 9:46:46 am">May 24th 2013</span>
								by <span class='authorname'>Tony Lukasavage</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>xml view file:</p>
<pre><code class="hljs"><span class="hljs-tag">&lt;<span class="hljs-title">Alloy</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">Window</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"container"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">TableView</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"top_tbl"</span> <span class="hljs-attribute">height</span>=<span class="hljs-value">"100%"</span> &gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">TableViewRow</span>&gt;</span>
                  <span class="hljs-tag">&lt;<span class="hljs-title">Require</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"header"</span> <span class="hljs-attribute">src</span>=<span class="hljs-value">"header"</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"view"</span>/&gt;</span>
             <span class="hljs-tag">&lt;/<span class="hljs-title">TableViewRow</span>&gt;</span>
             <span class="hljs-tag">&lt;<span class="hljs-title">TableViewRow</span>&gt;</span>
                 <span class="hljs-tag">&lt;<span class="hljs-title">Label</span>  <span class="hljs-attribute">id</span>=<span class="hljs-value">"welcome_name"</span> <span class="hljs-attribute">color</span>=<span class="hljs-value">"#444"</span> <span class="hljs-attribute">fontSize</span>=<span class="hljs-value">"30"</span> <span class="hljs-attribute">textAlign</span>=<span class="hljs-value">"Ti.UI.TEXT_ALIGNMENT_RIGHT"</span>  <span class="hljs-attribute">right</span>=<span class="hljs-value">"5"</span> <span class="hljs-attribute">top</span>=<span class="hljs-value">"0"</span> /&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">ImageView</span> <span class="hljs-attribute">left</span>=<span class="hljs-value">"5"</span> <span class="hljs-attribute">image</span>=<span class="hljs-value">"/images/refresh1.png"</span> <span class="hljs-attribute">height</span>=<span class="hljs-value">"32"</span> <span class="hljs-attribute">width</span>=<span class="hljs-value">"32"</span> <span class="hljs-attribute">onClick</span>=<span class="hljs-value">"get_list"</span> <span class="hljs-attribute">top</span>=<span class="hljs-value">"0"</span> /&gt;</span>
                  <span class="hljs-tag">&lt;/<span class="hljs-title">TableViewRow</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">TableViewRow</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">View</span> <span class="hljs-attribute">layout</span>=<span class="hljs-value">"horizontal"</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"table_header"</span> <span class="hljs-attribute">top</span>=<span class="hljs-value">"10"</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-title">View</span> <span class="hljs-attribute">layout</span>=<span class="hljs-value">"horizontal"</span> <span class="hljs-attribute">width</span>=<span class="hljs-value">"50%"</span> <span class="hljs-attribute">borderColor</span>=<span class="hljs-value">"#fff"</span> <span class="hljs-attribute">borderWidth</span>=<span class="hljs-value">"1"</span> &gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-title">Label</span>  <span class="hljs-attribute">text</span>=<span class="hljs-value">"Name"</span> <span class="hljs-attribute">color</span>=<span class="hljs-value">"#000"</span> <span class="hljs-attribute">height</span>=<span class="hljs-value">"40"</span> <span class="hljs-attribute">left</span>=<span class="hljs-value">"5"</span> <span class="hljs-attribute">width</span>=<span class="hljs-value">"80%"</span>/&gt;</span>

                    <span class="hljs-tag">&lt;/<span class="hljs-title">View</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-title">View</span> <span class="hljs-attribute">layout</span>=<span class="hljs-value">"horizontal"</span> <span class="hljs-attribute">width</span>=<span class="hljs-value">"50%"</span> <span class="hljs-attribute">borderColor</span>=<span class="hljs-value">"#fff"</span> <span class="hljs-attribute">borderWidth</span>=<span class="hljs-value">"1"</span> &gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-title">Label</span>  <span class="hljs-attribute">text</span>=<span class="hljs-value">"Surname"</span> <span class="hljs-attribute">color</span>=<span class="hljs-value">"#000"</span> <span class="hljs-attribute">height</span>=<span class="hljs-value">"40"</span> <span class="hljs-attribute">left</span>=<span class="hljs-value">"5"</span> <span class="hljs-attribute">width</span>=<span class="hljs-value">"80%"</span> /&gt;</span>

                    <span class="hljs-tag">&lt;/<span class="hljs-title">View</span>&gt;</span>    
                <span class="hljs-tag">&lt;/<span class="hljs-title">View</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">TableView</span> <span class="hljs-attribute">top</span>=<span class="hljs-value">"50"</span> <span class="hljs-attribute">left</span>=<span class="hljs-value">"5"</span> <span class="hljs-attribute">right</span>=<span class="hljs-value">"5"</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"table_info"</span> &gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">TableView</span>&gt;</span>        

            <span class="hljs-tag">&lt;/<span class="hljs-title">TableViewRow</span>&gt;</span>
           <span class="hljs-tag">&lt;/<span class="hljs-title">TableView</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-title">Window</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">Alloy</span>&gt;</span>
</code></pre><p>what i posted in question is controller file</p>
</div>
							<div class="author">
								&mdash; commented <span title="May 24th 2013, 10:11:13 am">May 24th 2013</span>
								by <span class='authorname'>Aniket Harshe</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>this is not a test case as it cannot be run. The code you gave for the controller is incomplete. Also, when creating a test case, reduce it down to a little code and markup as possible that reproduces the issue. It looks like there&#39;s a lot of unnecessary UI elements and styling.</p>
</div>
							<div class="author">
								&mdash; commented <span title="May 24th 2013, 10:16:08 am">May 24th 2013</span>
								by <span class='authorname'>Tony Lukasavage</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>common.js file:</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> conn = Titanium.Database.install(<span class="hljs-string">'/test.sqlite'</span>,<span class="hljs-string">'test'</span>);

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">executeQuery</span><span class="hljs-params">(query)</span>
</span>{
  <span class="hljs-keyword">var</span> resultSet = conn.execute(query);
  <span class="hljs-keyword">return</span> resultSet;
}
</code></pre><p>controller.js file:</p>
<pre><code class="hljs">Ti.include(<span class="hljs-string">"/common.js"</span>);
var get_list_query = <span class="hljs-string">" SELECT * FROM users"</span>;
var resultSet  = executeQuery(get_list_query);        
var results = [];
<span class="hljs-keyword">while</span> (resultSet.isValidRow()) {
  results.push({
   first_name: resultSet.fieldByName(<span class="hljs-string">'first_name'</span>),
   last_name: resultSet.fieldByName(<span class="hljs-string">'last_name'</span>),
 });
 resultSet.next();    
}
resultSet.close();


<span class="hljs-keyword">for</span>(var i= <span class="hljs-number">0</span>; i&lt; results.length; i++){

    var  data_row = Ti.UI.createTableViewRow({
        backgroundColor:<span class="hljs-string">"#dbe5f1"</span>,
        hasChild:<span class="hljs-string">"false"</span>
    });

    var data_view = Ti.UI.createView({
        backgroundColor:<span class="hljs-string">"transparent"</span>,
        layout: <span class="hljs-string">"horizontal"</span>    
    });

    var name_view = Ti.UI.createView({
        <span class="hljs-variable">width</span>: <span class="hljs-string">"50%"</span>,
        <span class="hljs-variable">height</span>:<span class="hljs-number">40</span>,
        left:<span class="hljs-number">0</span>,
        <span class="hljs-built_in">textAlign</span>: <span class="hljs-string">'left'</span>,
        borderColor: <span class="hljs-string">"#fff"</span>,
        borderWidth: <span class="hljs-number">1</span>  
    });

    var surname_view = Ti.UI.createView({
        <span class="hljs-variable">width</span>: <span class="hljs-string">"50%"</span>,
        <span class="hljs-variable">height</span>:<span class="hljs-number">40</span>,
        left:<span class="hljs-number">0</span>,
        <span class="hljs-built_in">textAlign</span>: <span class="hljs-string">'left'</span>,
        borderColor: <span class="hljs-string">"#fff"</span>,
        borderWidth: <span class="hljs-number">1</span>      
    });

    var first_name = Ti.UI.createLabel({
        <span class="hljs-built_in">text</span> : results[i].first_name,
        patient_id : results[i].patient_id,
        <span class="hljs-built_in">color</span> : <span class="hljs-string">'#1E5DA9'</span>,
        <span class="hljs-built_in">textAlign</span>: <span class="hljs-string">'left'</span>,
        left:<span class="hljs-number">5</span>,
        <span class="hljs-variable">height</span>:<span class="hljs-number">40</span>,
        touchEnabled: <span class="hljs-keyword">true</span>
    });

    var surname = Ti.UI.createLabel({
        <span class="hljs-built_in">text</span> : results[i].last_name,
        <span class="hljs-built_in">color</span> : <span class="hljs-string">'black'</span>,
        <span class="hljs-built_in">textAlign</span>: <span class="hljs-string">'left'</span>,
        left:<span class="hljs-number">5</span>,
        <span class="hljs-variable">height</span>:<span class="hljs-number">40</span>,
        touchEnabled: <span class="hljs-keyword">true</span>
    });

    name_view.<span class="hljs-built_in">add</span>(first_name);
    surname_view.<span class="hljs-built_in">add</span>(surname);

    data_view.<span class="hljs-built_in">add</span>(name_view);
    data_view.<span class="hljs-built_in">add</span>(surname_view);

    data_row.<span class="hljs-built_in">add</span>(data_view);
    data.push(data_row); 

}

$.table_info.setData(data);
</code></pre><p>view.xml file:</p>
<pre><code class="hljs"><span class="hljs-tag">&lt;<span class="hljs-title">Alloy</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">Window</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"container"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">TableView</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"top_tbl"</span> <span class="hljs-attribute">height</span>=<span class="hljs-value">"100%"</span> &gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">TableViewRow</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">View</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"table_header"</span> <span class="hljs-attribute">top</span>=<span class="hljs-value">"10"</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-title">View</span>  <span class="hljs-attribute">width</span>=<span class="hljs-value">"50%"</span> &gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-title">Label</span>  <span class="hljs-attribute">text</span>=<span class="hljs-value">"Name"</span> <span class="hljs-attribute">width</span>=<span class="hljs-value">"80%"</span>/&gt;</span>

                    <span class="hljs-tag">&lt;/<span class="hljs-title">View</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-title">View</span> <span class="hljs-attribute">width</span>=<span class="hljs-value">"50%"</span> &gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-title">Label</span>  <span class="hljs-attribute">text</span>=<span class="hljs-value">"Surname"</span> <span class="hljs-attribute">width</span>=<span class="hljs-value">"80%"</span> /&gt;</span>

                    <span class="hljs-tag">&lt;/<span class="hljs-title">View</span>&gt;</span> 
                <span class="hljs-tag">&lt;/<span class="hljs-title">View</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">TableView</span> <span class="hljs-attribute">top</span>=<span class="hljs-value">"50"</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"table_info"</span> &gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">TableView</span>&gt;</span>        
            <span class="hljs-tag">&lt;/<span class="hljs-title">TableViewRow</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">TableView</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">Window</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">Alloy</span>&gt;</span>
</code></pre></div>
							<div class="author">
								&mdash; commented <span title="May 24th 2013, 10:36:23 am">May 24th 2013</span>
								by <span class='authorname'>Aniket Harshe</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Once again, I will not be able to run this on my end as I have no test.sqlite database. As SQLite is in all likelihood not at all relevant to an orientation issue, you should like have eliminated its usage from the test case here. I&#39;m willing to help, and I know you&#39;ve asked lots of questions on Q&amp;A, so it&#39;s important that oyou learn the appopriate way to create a test case in order to ensure that you get the most direct help possible with your issue. So please, reduce it to the smallest amount possible to reproiduce the issue and eliminate any external dependencies.</p>
</div>
							<div class="author">
								&mdash; commented <span title="May 24th 2013, 11:17:50 am">May 24th 2013</span>
								by <span class='authorname'>Tony Lukasavage</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>0</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>0 Answers</h3>

	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
