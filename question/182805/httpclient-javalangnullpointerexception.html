<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>httpClient java.lang.NullPointerException Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>httpClient java.lang.NullPointerException</h1>
		</header>
		<section>
			<p>Hi!</p>
<p>I&#39;m having an issue with the httpClient throwing a java.lang.Nullpointer exception seemingly randomly with GET requests. Doing the same requests multiple times one after another always inevitably results with the error (sometimes on the first few tries, other times later on).<br>The returned status is 200. </p>
<p>I&#39;m using SDK 4.0.0.GA</p>
<p>Here&#39;s a simplified code example:</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> xhr = Ti.Network.createHTTPClient();
xhr.timeout = <span class="hljs-number">10000</span>;

xhr.onerror = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">res</span>)</span>{
    alert(res.error);
}

<span class="hljs-built_in">module</span>.exports = {
    getStuff : <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">cb</span>)</span>{

        <span class="hljs-keyword">var</span> q = {
            foo : bar
        };

        q = <span class="hljs-built_in">JSON</span>.stringify(q);
        q = Ti.Network.encodeURIComponent(q);

        <span class="hljs-keyword">var</span> url = base_url +<span class="hljs-string">'foo?'</span>+q;
        xhr.open(<span class="hljs-string">'GET'</span>,url);

        xhr.onload = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)</span>{
            <span class="hljs-keyword">var</span> data = <span class="hljs-built_in">JSON</span>.parse(<span class="hljs-keyword">this</span>.responseText);
            cb(data);
        };
    xhr.send();
    }
}
</code></pre><p>Here&#39;s the log output:</p>
<p>[ERROR] : TiHttpClient: (TiHttpClient-26) [37083,37595] HTTP Error (java.lang.NullPointerException): java.lang.NullPointerException<br>[INFO] : ALERT: (KrollRuntimeThread) [0,37595] java.lang.NullPointerException<br>[ERROR] : TiHttpClient: java.lang.NullPointerException<br>[ERROR] : TiHttpClient: at ti.modules.titanium.network.TiHTTPClient$ClientRunnable.run(TiHTTPClient.java:1330)<br>[ERROR] : TiHttpClient: at java.lang.Thread.run(Thread.java:856)</p>
<p>Someone has any ideas?</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="July 1st 2015, 1:43:14 pm">July 1st 2015</span>
				by <span class='authorname'>Tanel Kollamaa</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>4.0.0.ga</span></li>
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>httpclient</span></li>
					
						<li><span class='tagname'>xhr</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>0</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>0 Answers</h3>

	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
