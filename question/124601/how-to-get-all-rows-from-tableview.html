<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>How to get all rows from TableView » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>How to get all rows from TableView</h1>
		</header>
		<section>
			<p>Is there any way to get the rows from TableView? I&#39;m reading the doc http:&#x2F;&#x2F;developer.appcelerator.com&#x2F;apidoc&#x2F;mobile&#x2F;1.7.1&#x2F;Titanium.UI.TableView-object and googling for a while but I couldn&#39;t find the solution. </p>
<p>In my code, I appended the TableViewRow to the TableView instead of using data. So, I can&#39;t loop thru the TableView.data property as well.</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="August 22nd 2011, 2:38:45 pm">August 22nd 2011</span>
				by <span class='authorname'>Michael Sync</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>tableview</span></li>
					
				</ul>
			

			<section>
				<h5>3 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Is there any reason you couldn&#39;t use the <code>data</code> property as that&#39;s how its typically done? You can also use <code>TableView.setData()</code> if you need to do it after the TableView has already been created.</p>
</div>
							<div class="author">
								&mdash; commented <span title="August 22nd 2011, 2:40:32 pm">August 22nd 2011</span>
								by <span class='authorname'>Tony Lukasavage</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Also, what is your reason for needing the rows?</p>
</div>
							<div class="author">
								&mdash; commented <span title="August 22nd 2011, 2:41:42 pm">August 22nd 2011</span>
								by <span class='authorname'>Tony Lukasavage</span>
							</div>
						</li>
					
						<li class="comment">
							<div><ol>
<li><p>I need the rows because I have the requirement that allows users to delete the rows by clicking &quot;delete&quot; button..</p>
</li>
<li><p>The reason that I can&#39;t use data is that we need to attach the event of TableViewRow&#39;s click. If user clicks on the row then I need to set true to HasCheck property … and I need to change the font color of item.</p>
</li>
</ol>
</div>
							<div class="author">
								&mdash; commented <span title="August 23rd 2011, 5:52:03 am">August 23rd 2011</span>
								by <span class='authorname'>Michael Sync</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>2</span> Votes</div>
			<div class="answers"><span>3</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>3 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-217194">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>If there aren&#39;t any table view sections present in table view, you can use:</p>
<pre><code class="hljs"><span class="hljs-built_in">var</span> <span class="hljs-keyword">rows</span> = tableview<span class="hljs-built_in">.</span><span class="hljs-built_in">data</span><span class="hljs-preprocessor">[</span><span class="hljs-number">0</span><span class="hljs-preprocessor">]</span><span class="hljs-markup">.rows;</span>
</code></pre><p>&quot;data&quot; is array of sections which contain array of rows (at least one section is created by default even if you don&#39;t create one explicitly), so if you have more than 1 section you need to loop through all sections:</p>
<pre><code class="hljs"><span class="hljs-variable"><span class="hljs-keyword">var</span> rows</span> = [];
<span class="hljs-keyword">for</span> (<span class="hljs-variable"><span class="hljs-keyword">var</span> i</span> = <span class="hljs-number">0</span>; i <span class="hljs-type">&lt; tableview.data.length; ++i) {
    rows = rows.concat(tableview.data[i]);
}</span>
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 23rd 2011, 5:32:30 am">August 23rd 2011</span>
								by <span class='authorname'>Ivan Škugor</span><br>
								<a class="icon-bg icon-link" href="question/124601/how-to-get-all-rows-from-tableview.html#answer-217194" rel="permalink">permalink</a>
							</div>

							<h5>13 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>tableview.data is undefined since I can&#39;t use the data.   Please refer my reply in comments of my first post. Feel free to correct me if I&#39;m wrong. Thanks</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 23rd 2011, 5:54:54 am">August 23rd 2011</span>
											by <span class='authorname'>Michael Sync</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>What Ivan is saying is tableview.data[] exists whether you use the data property in createTableview, the setData() method, or whether you only add rows using appendRow() or insertRowAfter(), etc.  It does NOT refer to an array used to populate the table.  It refers to the table&#39;s actual collection of rows, no matter how the rows got created.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 23rd 2011, 6:02:40 am">August 23rd 2011</span>
											by <span class='authorname'>Doug Handy</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Yes Doug, that&#39;s correct.</p>
<p>Michael, try that code and see is it working. I use similar approach to get table view rows and I&#39;m using appendRow, deleteRow, etc. a lot. So, it should work for you also.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 23rd 2011, 6:22:16 am">August 23rd 2011</span>
											by <span class='authorname'>Ivan Škugor</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Thanks. I will try it and will update you the result. I tried to use for(var row in tableview.data) {} code last night and it throws the exception saying that tableview.data is undefined. but I will try tableview.data[] in any case and will update you.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 23rd 2011, 6:31:24 am">August 23rd 2011</span>
											by <span class='authorname'>Michael Sync</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Try this to see if this is working:</p>
<pre><code class="hljs">var win = Ti.UI.createWindow({
    modal: true,
    backgroundColor: '<span class="hljs-comment">#fff'</span>
});

var <span class="hljs-built_in">table</span>View = Ti.UI.createTableView();

var <span class="hljs-built_in">table</span>ViewRow = Ti.UI.createTableViewRow({
    title: 'Row <span class="hljs-number">1</span>'
});

<span class="hljs-built_in">table</span>View.appendRow(<span class="hljs-built_in">table</span>ViewRow);

win.add(<span class="hljs-built_in">table</span>View);

win.open();

Ti.API.<span class="hljs-keyword">debug</span>(<span class="hljs-built_in">table</span>View.data[<span class="hljs-number">0</span>].rows[<span class="hljs-number">0</span>] === <span class="hljs-built_in">table</span>ViewRow);
</code></pre><p>You should get &quot;true&quot; in console output.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 23rd 2011, 6:38:18 am">August 23rd 2011</span>
											by <span class='authorname'>Ivan Škugor</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Thanks. It works. How can I loop it and delete it? Thanks in advance. </p>
<pre><code class="hljs"><span class="hljs-title">for</span>(row <span class="hljs-keyword">in</span> ingredientsTable.<span class="hljs-typedef"><span class="hljs-keyword">data</span>[0].rows)<span class="hljs-container">{       
   <span class="hljs-title">if</span>(<span class="hljs-title">row</span>.<span class="hljs-title">hasCheck</span>){
       <span class="hljs-title">ingredientsTable</span>.<span class="hljs-title">deleteRow</span>(<span class="hljs-title">row</span>);
   }</span></span>
}
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="August 23rd 2011, 11:33:31 am">August 23rd 2011</span>
											by <span class='authorname'>Michael Sync</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>You almost got it. :)</p>
<p>&quot;deleteRow&quot; needs row index, so you need to loop through rows by index (for-in loop is ok to use, but you can also use regular for loop):</p>
<pre><code class="hljs"><span class="hljs-comment">//this way, loop will work faster</span>
<span class="hljs-keyword">var</span> rows = ingredientsTable.data[<span class="hljs-number">0</span>].rows;

<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> rowIndex <span class="hljs-keyword">in</span> rows){     
   <span class="hljs-keyword">if</span>(rows[rowIndex].hasCheck){
       ingredientsTable.deleteRow(rowIndex);
   }
}
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="August 23rd 2011, 11:44:35 am">August 23rd 2011</span>
											by <span class='authorname'>Ivan Škugor</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I tried with this code below as well but I got cast exception. </p>
<pre><code class="hljs"><span class="hljs-keyword">for</span> (var i = ingredientsEditorTable.data[<span class="hljs-number">0</span>].rows.length - <span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">0</span> ; i--){
   var row = ingredientsEditorTable.data[<span class="hljs-number">0</span>].rows[i];
   <span class="hljs-keyword">if</span>(row.hasCheck){
      ingredientsTable.deleteRow(row);
   }
}
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="August 23rd 2011, 11:45:30 am">August 23rd 2011</span>
											by <span class='authorname'>Michael Sync</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Great.. Let me try..</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 23rd 2011, 11:46:04 am">August 23rd 2011</span>
											by <span class='authorname'>Michael Sync</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Hi Ivan,</p>
<p>I just tried your code.  It crashed the app.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 23rd 2011, 12:05:12 pm">August 23rd 2011</span>
											by <span class='authorname'>Michael Sync</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>What&#39;s the error message?</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 23rd 2011, 12:07:56 pm">August 23rd 2011</span>
											by <span class='authorname'>Ivan Škugor</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>It just crash the app … no error.. I come to know that we can&#39;t modify the list while we are iterating. </p>
<p>I changed it to this code below and it works. Thanks a lot for your help.. I appreciated it.. </p>
<pre><code class="hljs"><span class="hljs-variable"><span class="hljs-keyword">var</span> rows</span> = ingredientsEditorTable.data[<span class="hljs-number">0</span>].rows;
<span class="hljs-keyword">for</span>(<span class="hljs-variable"><span class="hljs-keyword">var</span> i</span> = rows.length - <span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">0</span>; i--){     
   <span class="hljs-keyword">if</span>(rows[i].hasCheck){
       ingredientsEditorTable.deleteRow(i);
   }
}
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="August 23rd 2011, 12:16:05 pm">August 23rd 2011</span>
											by <span class='authorname'>Michael Sync</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>tableview.data[0].rows</p>
<p>throws an error</p>
<p>message = &quot;-[__NSCFNumber stringByReplacingOccurrencesOfString:withString:]: unrecognized selector sent to instance 0xf63e770&quot;;</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 10th 2012, 4:57:16 pm">April 10th 2012</span>
											by <span class='authorname'>Cristian Alexandru</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>12</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-217158">
				
						<section>
							<p>You should push each row into an array, and use setData(). To pull out a row as an object you could use <code>tableview.data[0].rows[0]</code>, where data[0] represent the section 0, and rows[0] is the first row.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 22nd 2011, 2:47:36 pm">August 22nd 2011</span>
								by <span class='authorname'>Chris Magnussen</span><br>
								<a class="icon-bg icon-link" href="question/124601/how-to-get-all-rows-from-tableview.html#answer-217158" rel="permalink">permalink</a>
							</div>

							<h5>4 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>As I mentioned, I can&#39;t use data.. Please refer my reply in comments of my first post. Feel free to correct me if I&#39;m wrong. Thanks.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 23rd 2011, 5:54:00 am">August 23rd 2011</span>
											by <span class='authorname'>Michael Sync</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Please post a sample of your code, sir.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 23rd 2011, 5:57:40 am">August 23rd 2011</span>
											by <span class='authorname'>Chris Magnussen</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>my code is something like .. I&#39;m showing the idea so I&#39;m typing the code just like that.. </p>
<p>var table = Titanium.UI.createTableView( { height:100, width:100 });</p>
<p>var row = Titanium.UI.createTableViewRow ( { title: &#39;A&#39;, color:&#39;black&#39;} ) ;</p>
<p>row.addEventListener(&quot;click&quot;, function(e) { doSomething; };</p>
<p>table.appendRow(row); </p>
<p>win.add(table);</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 23rd 2011, 6:34:19 am">August 23rd 2011</span>
											by <span class='authorname'>Michael Sync</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>As stated below, tableview.data[0].rows should do the trick. I suggest using an array though. You can have a clickevent on the entire table. Look at this;</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> data = [];

<span class="hljs-keyword">var</span> <span class="hljs-keyword">table</span> = Titanium.UI.createTableView({
    height:100, 
    width:100,
    data: data
});

<span class="hljs-keyword">table</span>.addEventListener(<span class="hljs-string">"click"</span>, function(<span class="hljs-keyword">e</span>) {
    <span class="hljs-keyword">var</span> rowClicked = <span class="hljs-keyword">e</span>.row;

    <span class="hljs-comment">// Will change the rows background color.</span>
    rowClicked.backgroundColor = <span class="hljs-string">"#eee"</span>;

    Ti.API.info(<span class="hljs-string">"Row clicked: "</span>+rowClicked.title);

});

<span class="hljs-keyword">var</span> items = [<span class="hljs-string">"row1"</span>, <span class="hljs-string">"row2"</span>, <span class="hljs-string">"row3"</span>];

<span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i=0;i&lt;items.length;i++) {
    <span class="hljs-keyword">var</span> row = Titanium.UI.createTableViewRow({ 
        title: items[i],
        color:'black'
    });

    data.push(row);
}

<span class="hljs-keyword">table</span>.setData(data);
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="August 23rd 2011, 6:51:00 am">August 23rd 2011</span>
											by <span class='authorname'>Chris Magnussen</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-217157">
				
						<section>
							<p>I believe the only place you have access to the table&#39;s rows are in the event handler unless you keep a reference yourself.</p>
<p>My approach is to store the rows in my own array while also appending the rows to the tableView</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 22nd 2011, 2:46:51 pm">August 22nd 2011</span>
								by <span class='authorname'>Aaron Saunders</span><br>
								<a class="icon-bg icon-link" href="question/124601/how-to-get-all-rows-from-tableview.html#answer-217157" rel="permalink">permalink</a>
							</div>

							<h5>2 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>I think I might have to store the reference as well. Let me try it and will let you know.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 23rd 2011, 5:52:50 am">August 23rd 2011</span>
											by <span class='authorname'>Michael Sync</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Aaron, you do not need to keep your own array unless you are using an array with setData() to populate the table.  If you are just appending or inserting rows, you can just access the table object&#39;s collection of rows.</p>
<p>The collection of rows is a two-tier array:  the first array is the collection of sections (i.e. groups).  If you are not using a grouped table, there is still an array with a single index of zero.  Within each section there is a collection of rows.</p>
<p>For example, see <a href="http:&#x2F;&#x2F;developer.appcelerator.com&#x2F;question&#x2F;9121&#x2F;getting-tableview-data-array">this</a> thread for one way to walk the rows in the table.  Note that these collections are dynamic and reflect current data as you insert &#x2F; delete rows, or even allow the user to drag rows to another sequence using edit mode.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 23rd 2011, 6:13:03 am">August 23rd 2011</span>
											by <span class='authorname'>Doug Handy</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>-2</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
