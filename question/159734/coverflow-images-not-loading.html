<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Coverflow images not loading » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Coverflow images not loading</h1>
		</header>
		<section>
			<p>Another coverflow question.</p>
<p>I&#39;ve gt a coverflow working with an image on top of the coverflow images. The problem I have now is that when i start the app, the coverflow images aren&#39;t loading but the image on top is loaded.</p>
<p>Here is my code:</p>
<pre><code class="hljs">var containerMag = Ti.UI.iOS.createCoverFlowView({
            <span class="hljs-variable">width</span>:Ti.UI.FILL, <span class="hljs-comment">//backgroundColor:'white',</span>
            <span class="hljs-variable">height</span>:<span class="hljs-string">'53%'</span>, <span class="hljs-comment">//transparentBackground:true,</span>
        });


<span class="hljs-keyword">for</span> (var i = <span class="hljs-number">0</span>; i &lt; data.books.length; i++) 
{
    var holderView = Ti.UI.createView({<span class="hljs-variable">width</span>:<span class="hljs-number">250</span>, <span class="hljs-variable">height</span>:<span class="hljs-number">340</span>});
    var thumb = Ti.UI.createImageView({<span class="hljs-built_in">image</span>:baseUrl + data.books[i].thumbnail, <span class="hljs-variable">width</span>:<span class="hljs-number">250</span>, <span class="hljs-variable">height</span>:<span class="hljs-number">340</span>});
    holderView.<span class="hljs-built_in">add</span>(thumb);

    var newLogo = Ti.UI.createView({<span class="hljs-variable">width</span>:<span class="hljs-number">100</span>, <span class="hljs-variable">height</span>:<span class="hljs-number">100</span>, backgroundImage:<span class="hljs-string">'../images/New.png'</span>, top:<span class="hljs-number">0</span>, left:<span class="hljs-number">0</span>});
    holderView.<span class="hljs-built_in">add</span>(newLogo);

    cover.push({<span class="hljs-built_in">image</span>: holderView.toImage(), <span class="hljs-variable">width</span>:<span class="hljs-number">250</span>, <span class="hljs-variable">height</span>:<span class="hljs-number">340</span>});
} 

containerMag.setImages(cover);
</code></pre><p>I think I have to use load event but i can&#39;t get it working nicely….anyone can help with this?<br>Using this code, sometimes the image is loaded but sometimes it doesn&#39;t.<br>I&#39;m building for iPad and using 3.0.2</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="November 22nd 2013, 1:07:59 am">November 22nd 2013</span>
				by <span class='authorname'>Chung Farn Kien</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>coverflow</span></li>
					
						<li><span class='tagname'>imageview</span></li>
					
						<li><span class='tagname'>ipad</span></li>
					
						<li><span class='tagname'>toimage</span></li>
					
				</ul>
			

			<section>
				<h5>8 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>screenshot of what you are seeing would help.</p>
</div>
							<div class="author">
								&mdash; commented <span title="November 22nd 2013, 1:18:00 am">November 22nd 2013</span>
								by <span class='authorname'>Stephen Feather</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>here is the link to it: http:&#x2F;&#x2F;i42.tinypic.com&#x2F;14scyo7.png</p>
</div>
							<div class="author">
								&mdash; commented <span title="November 22nd 2013, 1:36:04 am">November 22nd 2013</span>
								by <span class='authorname'>Chung Farn Kien</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Hello Chung Farn Kien,</p>
<p>do you have remote url in the image field?</p>
</div>
							<div class="author">
								&mdash; commented <span title="November 22nd 2013, 4:43:24 am">November 22nd 2013</span>
								by <span class='authorname'>Gaurang Chhatbar</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>yes..its a remote url…</p>
</div>
							<div class="author">
								&mdash; commented <span title="November 22nd 2013, 5:01:27 am">November 22nd 2013</span>
								by <span class='authorname'>Chung Farn Kien</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Hello Chung :</p>
<p>try this :  <code>cover.push(holderView.toImage());</code></p>
</div>
							<div class="author">
								&mdash; commented <span title="November 22nd 2013, 5:14:33 am">November 22nd 2013</span>
								by <span class='authorname'>Sanat Mamtora</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>and also set <code>coverFlow</code> <strong>Height</strong> and <strong>Width</strong> like :</p>
<pre><code class="hljs">var containerMag = Ti.UI.iOS.createCoverFlowView({
            width: <span class="hljs-number">250</span>,
            height: <span class="hljs-number">340</span>
        });
</code></pre><p><strong>no need to set in</strong></p>
<p><code>cover.push({image: holderView.toImage(), width:250, height:340});</code></p>
<p><strong>only push image in cover array  like :</strong>  </p>
<p><code>cover.push(holderView.toImage());</code>.</p>
</div>
							<div class="author">
								&mdash; commented <span title="November 22nd 2013, 5:21:23 am">November 22nd 2013</span>
								by <span class='authorname'>Sanat Mamtora</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>it doesn&#39;t work…same problem..sometimes it load, sometimes it doesn&#39;t….</p>
</div>
							<div class="author">
								&mdash; commented <span title="November 22nd 2013, 5:27:31 am">November 22nd 2013</span>
								by <span class='authorname'>Chung Farn Kien</span>
							</div>
						</li>
					
						<li class="comment">
							<div><pre><code class="hljs">thumb.addEventListener(<span class="hljs-string">"load"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span> </span>{
   Ti.API.info(<span class="hljs-string">"Image Loaded"</span>);
});

thumb.addEventListener(<span class="hljs-string">"error"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span> </span>{
   Ti.API.info(<span class="hljs-string">"Error : Image not Loaded"</span>);
});
</code></pre></div>
							<div class="author">
								&mdash; commented <span title="November 22nd 2013, 6:39:47 am">November 22nd 2013</span>
								by <span class='authorname'>Sanat Mamtora</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-271644">
				
						<section>
							<p>Chung, use load event, It will solve your problem. Your problem is that you could not load images sometimes. when your code get remote url then your image displayed properly, while whenever you have delay to get remote image then your code runs without image and push object into your array and set it to coverflow, so your coverflow doesn&#39;t get images at that time.</p>
<p>So please use image load Event to confirm that you have image received properly and then after you combining it with other element.(for example : toImage())</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="November 22nd 2013, 8:03:00 am">November 22nd 2013</span>
								by <span class='authorname'>Gaurang Chhatbar</span><br>
								<a class="icon-bg icon-link" href="question/159734/coverflow-images-not-loading#answer-271644" rel="permalink">permalink</a>
							</div>

							<h5>6 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>You have to extend your logic for coverflow in your scenario.</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 22nd 2013, 8:08:57 am">November 22nd 2013</span>
											by <span class='authorname'>Gaurang Chhatbar</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>instead of using load event, I&#39;ve used HTTP client to load the image. Unfortunately the result is the same. As for load event, I&#39;ve tried using it but failed.</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 25th 2013, 2:26:48 am">November 25th 2013</span>
											by <span class='authorname'>Chung Farn Kien</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>But how you sync your load event and Titanium code?</p>
<p>Did you confirm that you code is running after loading of image? You have to load all images in your imageView then after your Titanium code will runs. I think you are receiving image url from your web service. There is still delay to fetch images from remote location. Confirm first.</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 25th 2013, 2:48:20 am">November 25th 2013</span>
											by <span class='authorname'>Gaurang Chhatbar</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Here is how my code runs now:</p>
<pre><code class="hljs">

<span class="lisp">
for <span class="hljs-list">(<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span><span class="hljs-comment">; i &lt; data.books.length; i++) </span>
{
    function loadImages<span class="hljs-list">(<span class="hljs-keyword">url</span>,pic)</span>{
            var c = Titanium.Network.createHTTPClient<span class="hljs-list">()</span><span class="hljs-comment">;</span>
            //c.setTimeout<span class="hljs-list">(<span class="hljs-number">10000</span>)</span><span class="hljs-comment">;</span>
            c.onload = function<span class="hljs-list">()</span> {
                if<span class="hljs-list">(<span class="hljs-keyword">c</span>.status == <span class="hljs-number">200</span>)</span> {
                    Ti.API.warn<span class="hljs-list">(<span class="hljs-quoted">'load</span>')</span><span class="hljs-comment">;</span>
                    pic.image = this.responseData<span class="hljs-comment">;  </span>
                    complete<span class="hljs-list">(<span class="hljs-keyword">holderView</span>)</span><span class="hljs-comment">;</span>
                }
            }<span class="hljs-comment">;</span>

            c.open<span class="hljs-list">(<span class="hljs-quoted">'GET</span>', url)</span><span class="hljs-comment">;</span>
            c.send<span class="hljs-list">()</span><span class="hljs-comment">;</span>
       }    

var holderView = Ti.UI.createView<span class="hljs-list">({width:<span class="hljs-number">250</span>, height:<span class="hljs-number">340</span>})</span><span class="hljs-comment">;</span>
    var thumb = Ti.UI.createImageView<span class="hljs-list">({width:<span class="hljs-number">250</span>, height:<span class="hljs-number">340</span>})</span><span class="hljs-comment">;</span>
    holderView.add<span class="hljs-list">(<span class="hljs-keyword">thumb</span>)</span><span class="hljs-comment">;</span>

    var newLogo = Ti.UI.createView<span class="hljs-list">({width:<span class="hljs-number">100</span>, height:<span class="hljs-number">100</span>, backgroundImage:'../images/New.png', top:<span class="hljs-number">0</span>, left:<span class="hljs-number">0</span>})</span><span class="hljs-comment">;</span>
    holderView.add<span class="hljs-list">(<span class="hljs-keyword">newLogo</span>)</span><span class="hljs-comment">;</span>

    loadImages<span class="hljs-list">(<span class="hljs-keyword">baseUrl</span> + data.books[i].thumbnail, thumb)</span><span class="hljs-comment">;</span>
} 

function complete<span class="hljs-list">(<span class="hljs-keyword">holderView</span>)</span>
{
    cover.push<span class="hljs-list">({image: holderView.toImage<span class="hljs-list">()</span>, width:<span class="hljs-number">250</span>, height:<span class="hljs-number">340</span>})</span><span class="hljs-comment">;</span>
    if<span class="hljs-list">(<span class="hljs-keyword">cover</span>.length === data.books.length)</span>
    {
        containerMag.setImages<span class="hljs-list">(<span class="hljs-keyword">cover</span>)</span><span class="hljs-comment">;</span>
    }
}</span></span>
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="November 25th 2013, 3:00:56 am">November 25th 2013</span>
											by <span class='authorname'>Chung Farn Kien</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Chung, you are making web service for individual image and setting every time Coverflow images with only one image by referencing you previous code post in question and assuming containerMag is your coverflow object.</p>
<p>First you have to set images individually to coverflow control. So instead you are using <code>setImages</code> I suggest you should use <code>setImage</code> in your code if you don&#39;t like to make big changes in your code.</p>
<p>Second there is an array parameter required in setImages([]) so make your code clear for logical errors. If you want to use <code>setImages</code> then you have to load all images first and make a array of images an then set to coverflow images.</p>
<pre><code class="hljs"><span class="hljs-tag">containerMag</span><span class="hljs-class">.setImages</span>(<span class="hljs-attr_selector">[{imageObject}]</span>);
</code></pre><p>Thanks</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 25th 2013, 3:52:37 am">November 25th 2013</span>
											by <span class='authorname'>Gaurang Chhatbar</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Here is the reference:</p>
<p><a href="http:&#x2F;&#x2F;docs.appcelerator.com&#x2F;titanium&#x2F;latest&#x2F;#!&#x2F;api&#x2F;Titanium.UI.iOS.CoverFlowView-method-setImage">http:&#x2F;&#x2F;docs.appcelerator.com&#x2F;titanium&#x2F;latest&#x2F;#!&#x2F;api&#x2F;Titanium.UI.iOS.CoverFlowView-method-setImage</a></p>
<p><a href="http:&#x2F;&#x2F;docs.appcelerator.com&#x2F;titanium&#x2F;latest&#x2F;#!&#x2F;api&#x2F;Titanium.UI.iOS.CoverFlowView-method-setImages">http:&#x2F;&#x2F;docs.appcelerator.com&#x2F;titanium&#x2F;latest&#x2F;#!&#x2F;api&#x2F;Titanium.UI.iOS.CoverFlowView-method-setImages</a></p>
</p>
										<div class="author">
											&mdash; commented <span title="November 25th 2013, 3:58:49 am">November 25th 2013</span>
											by <span class='authorname'>Gaurang Chhatbar</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
