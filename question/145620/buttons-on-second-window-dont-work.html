<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Buttons on Second Window Don&#39;t Work » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Buttons on Second Window Don&#39;t Work</h1>
		</header>
		<section>
			<p>Hi there my buttons on my first window(app.&#39;s) seem to work fine, however when I got to my second window(gallery.js), all of the button of that page stop functioning.</p>
<p>Target Platform: iOS, and<br>Ti SDK: 2.1.2GA</p>
<p>app.js code:</p>
<pre><code class="hljs"><span class="hljs-comment">//Creates Window and adds Black Background</span>
var win = Titanium.UI.createWindow({

    <span class="hljs-variable">width</span>:<span class="hljs-number">320</span>,
    <span class="hljs-variable">height</span>:<span class="hljs-number">450</span>,
    backgroundColor:<span class="hljs-string">"#000000"</span>,
    exitOnClose: <span class="hljs-keyword">true</span>

});

<span class="hljs-comment">//Adds Camera Control Panel Background</span>
var panel = Ti.UI.createImageView({

    bottom: <span class="hljs-number">0</span>,
    <span class="hljs-variable">width</span>:<span class="hljs-number">320</span>,
    <span class="hljs-variable">height</span>:<span class="hljs-number">105</span>,
    <span class="hljs-built_in">image</span>:<span class="hljs-string">'images/btn_panel.png'</span>

});



<span class="hljs-comment">//Adds Camera Shutter Button</span>
var cam_btn = Ti.UI.createButton({

    backgroundImage:<span class="hljs-string">"images/cam_btn.png"</span>,
    backgroundSelectedImage:<span class="hljs-string">"images/cam_btn_pressed.png"</span>,
    bottom: <span class="hljs-number">0</span>,
    left: <span class="hljs-number">112</span>,
    <span class="hljs-variable">width</span>:<span class="hljs-number">95</span>,
    <span class="hljs-variable">height</span>:<span class="hljs-number">105</span>

});


<span class="hljs-comment">//Adds Sound Button</span>
var sound_btn = Ti.UI.createButton({

    backgroundImage:<span class="hljs-string">"images/sound_btn.png"</span>,
    backgroundSelectedImage:<span class="hljs-string">"images/sound_btn_pressed.png"</span>,
    bottom: <span class="hljs-number">0</span>,
    left: <span class="hljs-number">67</span>,
    <span class="hljs-variable">width</span>:<span class="hljs-number">60</span>,
    <span class="hljs-variable">height</span>:<span class="hljs-number">105</span>

});

<span class="hljs-comment">//Adds Reverse Camera Button</span>
var rev_btn = Ti.UI.createButton({

    backgroundImage:<span class="hljs-string">"images/rev_btn.png"</span>,
    backgroundSelectedImage:<span class="hljs-string">"images/rev_btn_pressed.png"</span>,
    bottom: <span class="hljs-number">0</span>,
    right: <span class="hljs-number">6</span>,
    <span class="hljs-variable">width</span>:<span class="hljs-number">76</span>,
    <span class="hljs-variable">height</span>:<span class="hljs-number">105</span>

});


<span class="hljs-comment">//Adds Camera Gallery Button</span>
var img_btn = Ti.UI.createButton({

    backgroundImage:<span class="hljs-string">"images/img_btn.png"</span>,
    backgroundSelectedImage:<span class="hljs-string">"images/img_btn_pressed.png"</span>,
    bottom: <span class="hljs-number">0</span>,
    left:<span class="hljs-number">1</span>,
    <span class="hljs-variable">width</span>:<span class="hljs-number">62</span>,
    <span class="hljs-variable">height</span>:<span class="hljs-number">105</span>

});

img_btn.addEventListener(<span class="hljs-string">'click'</span>, function(e){

    var win2 = Titanium.UI.createWindow({
        url: <span class="hljs-string">'gallery.js'</span>

    });

    win2.<span class="hljs-built_in">open</span>();


});



win.<span class="hljs-built_in">add</span>(panel);
win.<span class="hljs-built_in">add</span>(cam_btn);
win.<span class="hljs-built_in">add</span>(sound_btn);
win.<span class="hljs-built_in">add</span>(rev_btn);
win.<span class="hljs-built_in">add</span>(img_btn);

win.<span class="hljs-built_in">open</span>();
</code></pre><p>gallery.js (second window):</p>
<pre><code class="hljs">
<span class="hljs-comment">//Adds White Background to Window</span>
var win2 = Titanium.UI.createWindow({

    <span class="hljs-variable">width</span>:<span class="hljs-number">320</span>,
    <span class="hljs-variable">height</span>:<span class="hljs-number">450</span>,
    backgroundColor:<span class="hljs-string">"#ffffff"</span>

});

<span class="hljs-comment">//Adds Camera Control Panel Background</span>
var edit_panel = Ti.UI.createImageView({

    bottom: <span class="hljs-number">0</span>,
    <span class="hljs-variable">width</span>:<span class="hljs-number">320</span>,
    <span class="hljs-variable">height</span>:<span class="hljs-number">75</span>,
    <span class="hljs-built_in">image</span>:<span class="hljs-string">'images/edit_panel.png'</span>

});



<span class="hljs-comment">//Adds Paint Button</span>
var paint_btn = Ti.UI.createButton({

    backgroundImage:<span class="hljs-string">"images/paint_btn.png"</span>,
    backgroundSelectedImage:<span class="hljs-string">"images/paint_btn_pressed.png"</span>,
    bottom: <span class="hljs-number">0</span>,
    left:<span class="hljs-number">0</span>,
    <span class="hljs-variable">width</span>:<span class="hljs-number">53</span>,
    <span class="hljs-variable">height</span>:<span class="hljs-number">75</span>

});


<span class="hljs-comment">//Adds Hat Button</span>
var hat_btn = Ti.UI.createButton({

    backgroundImage:<span class="hljs-string">"images/hat_btn.png"</span>,
    backgroundSelectedImage:<span class="hljs-string">"images/hat_btn_pressed.png"</span>,
    bottom: <span class="hljs-number">0</span>,
    left: <span class="hljs-number">53</span>,
    <span class="hljs-variable">width</span>:<span class="hljs-number">53</span>,
    <span class="hljs-variable">height</span>:<span class="hljs-number">75</span>

});

<span class="hljs-comment">//Adds Back to Camera Button</span>
var recam_btn = Ti.UI.createButton({

    backgroundImage:<span class="hljs-string">"images/recam_btn.png"</span>,
    backgroundSelectedImage:<span class="hljs-string">"images/recam_btn_pressed.png"</span>,
    bottom: <span class="hljs-number">0</span>,
    right: <span class="hljs-number">112</span>,
    <span class="hljs-variable">width</span>:<span class="hljs-number">96</span>,
    <span class="hljs-variable">height</span>:<span class="hljs-number">75</span>

});


recam_btn.addEventListener(<span class="hljs-string">'click'</span>, function(e){

    var backCam = Titanium.UI.createWindow({
        url: <span class="hljs-string">'app.js'</span>

    });

    backCam.<span class="hljs-built_in">open</span>();

});




<span class="hljs-comment">//Adds Frame Button</span>
var frame_btn = Ti.UI.createButton({

    backgroundImage:<span class="hljs-string">"images/frame_btn.png"</span>,
    backgroundSelectedImage:<span class="hljs-string">"images/frame_btn_pressed.png"</span>,
    bottom: <span class="hljs-number">0</span>,
    right: <span class="hljs-number">53</span>,
    <span class="hljs-variable">width</span>:<span class="hljs-number">53</span>,
    <span class="hljs-variable">height</span>:<span class="hljs-number">75</span>

});

<span class="hljs-comment">//Adds Trash Bin Button</span>
var delete_btn = Ti.UI.createButton({

    backgroundImage:<span class="hljs-string">"images/delete_btn.png"</span>,
    backgroundSelectedImage:<span class="hljs-string">"images/delete_btn_pressed.png"</span>,
    bottom: <span class="hljs-number">0</span>,
    right:<span class="hljs-number">0</span>,
    <span class="hljs-variable">width</span>:<span class="hljs-number">53</span>,
    <span class="hljs-variable">height</span>:<span class="hljs-number">75</span>

});



win2.<span class="hljs-built_in">add</span>(edit_panel);
win2.<span class="hljs-built_in">add</span>(paint_btn);
win2.<span class="hljs-built_in">add</span>(hat_btn);
win2.<span class="hljs-built_in">add</span>(recam_btn);
win2.<span class="hljs-built_in">add</span>(frame_btn);
win2.<span class="hljs-built_in">add</span>(delete_btn);

win2.<span class="hljs-built_in">open</span>();
</code></pre>
		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="December 11th 2012, 8:19:04 pm">December 11th 2012</span>
				by <span class='authorname'>Ahmad Atta</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>button window ios</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-252536">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>It looks like you are creating the second window twice. You are creating the window then pointing that window to a file that creates another window puts a bunch of buttons in it, then opens that window. Then you open another window over that first window. Its repetitive. If you are going to use the <code>url</code> property of the window, then you don&#39;t need to create and open another window in the file that you point the url to. Use the currentWindow.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="December 11th 2012, 8:51:37 pm">December 11th 2012</span>
								by <span class='authorname'>Anthony Decena</span><br>
								<a class="icon-bg icon-link" href="question/145620/buttons-on-second-window-dont-work#answer-252536" rel="permalink">permalink</a>
							</div>

							<h5>5 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Thank you so much for your answer I really appreciate it. Could you give me an example of what I&#39;m doing wrong? I&#39;m sorry, I am new to this and this is for a college assignment.</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 11th 2012, 8:54:54 pm">December 11th 2012</span>
											by <span class='authorname'>Ahmad Atta</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>file1:</p>
<pre><code class="hljs"><span class="hljs-comment">// You are opening and creating the second window here.</span>
<span class="hljs-variable"><span class="hljs-keyword">var</span> win2</span> = Ti.UI.createWindow({
    url: 'file2.js'
});
win2.<span class="hljs-keyword">open</span>();
</code></pre><p>file2:</p>
<pre><code class="hljs"><span class="hljs-comment">// Here you are opening a 3rd window, which will end up under the window that you open above.</span>
<span class="hljs-variable"><span class="hljs-keyword">var</span> win2</span> = Ti.UI.createWindow({
    backgroundColor:'#fff'
});
...add some buttons

win2.<span class="hljs-keyword">open</span>();
</code></pre><p>In file2, try changing the window to this:</p>
<pre><code class="hljs"><span class="hljs-variable"><span class="hljs-keyword">var</span> win2</span> = Ti.UI.currentWindow;
</code></pre><p>then don&#39;t open at the end, as it will be opened in file1.</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 11th 2012, 9:06:14 pm">December 11th 2012</span>
											by <span class='authorname'>Anthony Decena</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Wow thank you so much for your help. It worked perfectly. Your a Genius.</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 11th 2012, 9:23:03 pm">December 11th 2012</span>
											by <span class='authorname'>Ahmad Atta</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Do not forget to mark this as the answer so others can benefit from what you have learnt and so we know this no longer requires an answer.  And yes Anthony is known as a genius :)</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 11th 2012, 9:59:19 pm">December 11th 2012</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Yes, this is true, though my genius is usually self-proclaimed!</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 12th 2012, 11:28:31 am">December 12th 2012</span>
											by <span class='authorname'>Anthony Decena</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
