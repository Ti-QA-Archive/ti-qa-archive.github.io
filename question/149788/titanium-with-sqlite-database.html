<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>titanium with sqlite database Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>titanium with sqlite database</h1>
		</header>
		<section>
			<p>Hi iam doing my  project in titanium with sqlite database.<br>i have wrote update query is not updating in database.what wrong i can&#39;t found. pls any one give idea</p>
<p>var sym = &#39;acuvue&#39;;<br>     var id = 1;<br>    var db = Ti.Database.open(&quot;test5&quot;);<br>     var sql = db.execute(&#39;UPDATE home_data SET category = ? WHERE id = ?&#39;, sym, id);<br>     db.close();</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="March 20th 2013, 9:14:20 am">March 20th 2013</span>
				by <span class='authorname'>sangeetha xvalue</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>appcelerator</span></li>
					
						<li><span class='tagname'>titanium</span></li>
					
				</ul>
			

			<section>
				<h5>4 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Code with correct syntax format;</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> sym = 'acuvue';
<span class="hljs-keyword">var</span> id = 1;
<span class="hljs-keyword">var</span> <span class="hljs-keyword">db</span> = Ti.Database.<span class="hljs-keyword">open</span>(<span class="hljs-string">"test5"</span>);
<span class="hljs-keyword">var</span> sql = <span class="hljs-keyword">db</span>.execute('<span class="hljs-keyword">UPDATE</span> home_data <span class="hljs-keyword">SET</span> category = ? WHERE id = ?', sym, id);
<span class="hljs-keyword">db</span>.<span class="hljs-keyword">close</span>();
</code></pre></div>
							<div class="author">
								&mdash; commented <span title="March 20th 2013, 9:17:12 am">March 20th 2013</span>
								by <span class='authorname'>Malcolm Hollingsworth</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Thanks for the code but without the code syntax is a little hard to read.  In the future follow this guide;</p>
<p>Quick tip; When you add code snippets or logs always add 3 <strong>~</strong> on a blank line above your code and another 3 <strong>~</strong> below you code on another blank line - you will see the difference when you preview the comment. (you are not being told off)</p>
<p>Inserted code should look like;</p>
<pre><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">something</span><span class="hljs-params">(obj)</span> </span>{
    <span class="hljs-comment">// do something</span>
}
alert(<span class="hljs-string">'Hello'</span>);
</code></pre></div>
							<div class="author">
								&mdash; commented <span title="March 20th 2013, 9:17:50 am">March 20th 2013</span>
								by <span class='authorname'>Malcolm Hollingsworth</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>You can do one thing is open your database and just have a look that do you have any row with id 1, if yes then only your row will get affected, otherwise there is no problem in your code.</p>
</div>
							<div class="author">
								&mdash; commented <span title="March 20th 2013, 9:28:35 am">March 20th 2013</span>
								by <span class='authorname'>Moiz Chhatriwala</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>@sangeetha xvalue : First check that your table <strong>home_data</strong> have any row ? if <strong>yes</strong> than check its <strong>id</strong> if that row <strong>id</strong> is <strong>1</strong> than that row category is change and become <strong>acuvue</strong>. Your code is perfect according to this . And <strong>id 1</strong> is not available in table than no change happen and also no row affected.</p>
</div>
							<div class="author">
								&mdash; commented <span title="March 20th 2013, 9:40:42 am">March 20th 2013</span>
								by <span class='authorname'>Dharmik Patel</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-258986">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>Hi</p>
<p>As we do not have the table definition or knowledge of any of the data within the database the best I can do is tell you that there is nothing wrong with your query format.</p>
<pre><code class="hljs">var sql = db.execute('<span class="hljs-operator"><span class="hljs-keyword">UPDATE</span> home_data <span class="hljs-keyword">SET</span> <span class="hljs-keyword">category</span> = ? <span class="hljs-keyword">WHERE</span> <span class="hljs-keyword">id</span> = ?<span class="hljs-string">', sym, id);
// only needs to be
db.execute('</span><span class="hljs-keyword">UPDATE</span> home_data <span class="hljs-keyword">SET</span> <span class="hljs-keyword">category</span> = ? <span class="hljs-keyword">WHERE</span> <span class="hljs-keyword">id</span> = ?<span class="hljs-string">', sym, id);
// but it works either way</span></span>
</code></pre><p>This line;</p>
<pre><code class="hljs">db.execute('<span class="hljs-operator"><span class="hljs-keyword">UPDATE</span> home_data <span class="hljs-keyword">SET</span> <span class="hljs-keyword">category</span> = ? <span class="hljs-keyword">WHERE</span> <span class="hljs-keyword">id</span> = ?<span class="hljs-string">', sym, id);
// translate to 
UPDATE home_data SET category = '</span>acuvue<span class="hljs-string">' WHERE id = 1;</span></span>
</code></pre><p>So as long as you have one or more records that have an ID = 1, then those records will have a category of <strong>acuvue</strong>.  Provided you have;</p>
<ul>
<li>a database called <strong>test5</strong></li>
<li>a table called <strong>home_data</strong></li>
<li>that table having two columns called <strong>category</strong> &amp; <strong>id</strong></li>
</ul>
<p>If all of those things are correct then this will work.</p>
<p>Remember it will NOT report anything back until you do a select statement on the database to check the results.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="March 20th 2013, 9:22:14 am">March 20th 2013</span>
								by <span class='authorname'>Malcolm Hollingsworth</span><br>
								<a class="icon-bg icon-link" href="question/149788/titanium-with-sqlite-database#answer-258986" rel="permalink">permalink</a>
							</div>

							<h5>6 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><pre><code class="hljs">image.addEventListener(<span class="hljs-string">'click'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>
</span>{
    <span class="hljs-keyword">var</span> sym = <span class="hljs-string">'acuvue'</span>;
    <span class="hljs-keyword">var</span> id = <span class="hljs-number">1</span>;
    <span class="hljs-keyword">var</span> db = Ti.Database.open(<span class="hljs-string">"test7"</span>);
       <span class="hljs-keyword">var</span> sql = db.execute(<span class="hljs-string">'UPDATE home_data SET category = ? WHERE id = ?'</span>, sym, id);
       <span class="hljs-keyword">var</span> sql = db.execute(<span class="hljs-string">'SELECT category FROM home_data WHERE id=1'</span>);  
       Ti.API.info(<span class="hljs-string">'myresult: '</span> + sql.fieldByName(<span class="hljs-string">'category'</span>));
       db.close();  
       alert(<span class="hljs-string">"Rows updated"</span>); 
});
</code></pre><p>While using select query i can see my updation in category field, but there is no changes in my firefox addon sqlite database.i need my updation in my sqlite addon also.what to do?</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 20th 2013, 10:27:38 am">March 20th 2013</span>
											by <span class='authorname'>sangeetha xvalue</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Please learn the correct code insert method as explained above - it is really important as otherwise people will ignore your question as it is often VERY difficult to read code this way.  The preview button shows you what it looks like - if it does not look neat - you have done it wrong.</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 20th 2013, 10:34:16 am">March 20th 2013</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>The code as it should look;</p>
<pre><code class="hljs">image.addEventListener(<span class="hljs-string">'click'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">var</span> sym = <span class="hljs-string">'acuvue'</span>;
    <span class="hljs-keyword">var</span> id = <span class="hljs-number">1</span>;
    <span class="hljs-keyword">var</span> db = Ti.Database.open(<span class="hljs-string">"test7"</span>);
    <span class="hljs-keyword">var</span> sql = db.execute(<span class="hljs-string">'UPDATE home_data SET category = ? WHERE id = ?'</span>, sym, id);
    <span class="hljs-keyword">var</span> sql = db.execute(<span class="hljs-string">'SELECT category FROM home_data WHERE id=1'</span>);
    Ti.API.info(<span class="hljs-string">'myresult: '</span> + sql.fieldByName(<span class="hljs-string">'category'</span>));
    db.close();
    alert(<span class="hljs-string">"Rows updated"</span>);
});
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="March 20th 2013, 10:34:49 am">March 20th 2013</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>sure i&#39;lln&#39;t repeat it again.</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 20th 2013, 10:37:22 am">March 20th 2013</span>
											by <span class='authorname'>sangeetha xvalue</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>It will NOT update your version in the firefox add-on.</p>
<p>The database at this point is on your phone - it has no connection to the local machine once you have installed it into the device - this is NORMAL.</p>
<p>If you want to get the database back once you have made changes on the device you will have to send the db back from the device using; email, data post to httpClient or file post to httpClient.</p>
<p>Whilst you maybe editing the database inside you <strong>resources</strong> folder using the firefox add-on, your install command has done what it HAS to do and installed a copy for the device in a data location you have no direct access to.  So from this point onwards your two databases are different.</p>
<p>This is all normal and the correct process.  You would not expect to see the database from ever users device all on your own computer once you have deployed your app and right now you are one of those users when you use the simulator or the actual device.</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 20th 2013, 10:39:14 am">March 20th 2013</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Do you now understand that your computers local database which is only a copy of the original when installed on the device will not see changes made to the installed version?</p>
<p>As you are seeing the changes correctly on the actual device - as you should be, this question has been answered I think.</p>
<p>Do you agree?</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 20th 2013, 5:23:30 pm">March 20th 2013</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>2</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
