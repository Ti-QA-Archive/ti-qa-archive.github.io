<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>How to show a UIViewController in a iOS Titanium module? » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>How to show a UIViewController in a iOS Titanium module?</h1>
		</header>
		<section>
			<p>How to show a UIViewController in a iOS Titanium module?<br>How does createView works?<br>Does exist an updated guide to make an iOS titanium module?<br>Thanks</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="June 10th 2012, 9:37:28 pm">June 10th 2012</span>
				by <span class='authorname'>Alberto Velaz</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>ios</span></li>
					
						<li><span class='tagname'>module</span></li>
					
				</ul>
			

			<section>
				<h5>3 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>I&#39;m using Titanium SDK 1.7.2</p>
</div>
							<div class="author">
								&mdash; commented <span title="June 10th 2012, 9:52:19 pm">June 10th 2012</span>
								by <span class='authorname'>Alberto Velaz</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>I fired off a ton of info with regards to your questions above. In the comments it seems you have a more specific question. </p>
<p>Could you elaborate on what specifically you are trying to achieve? It would be ideal if we could see some code you are working on.</p>
</div>
							<div class="author">
								&mdash; commented <span title="June 10th 2012, 11:13:35 pm">June 10th 2012</span>
								by <span class='authorname'>Tony Lukasavage</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>I&#39;ll send you tomorrow the code. Thanks<br>Send me om twitter a DM with your email.<br>Thanks a lot</p>
</div>
							<div class="author">
								&mdash; commented <span title="June 10th 2012, 11:27:59 pm">June 10th 2012</span>
								by <span class='authorname'>Alberto Velaz</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-240583">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>It s actually pretty easy, first follow the naming rules<br>Let s say your module is calle my.module<br>Then create a MyModuleView.m<br>in it put this</p>
<pre><code class="hljs">@implementation MyModuleView

-(UIView*)<span class="hljs-keyword">view</span> 
{
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">view</span>==nil)
    {
        MyCustomController * mycontroller = [[MyCustomController alloc] init];
            <span class="hljs-keyword">view</span> = mycontroller.<span class="hljs-keyword">view</span>;

            [self addSubview:<span class="hljs-keyword">view</span>];
            [TiUtils setView:<span class="hljs-keyword">view</span> positionRect:self.bounds];
    }
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">view</span>;
}
</code></pre><p>Then compile….<br>in your app.js, you simply do</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> <span class="hljs-built_in">module</span> = <span class="hljs-built_in">require</span>(<span class="hljs-string">"my.module"</span>)
<span class="hljs-keyword">var</span> view = <span class="hljs-built_in">module</span>.createView();
win.add(view);
</code></pre><p>That s it !</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="June 11th 2012, 5:11:22 am">June 11th 2012</span>
								by <span class='authorname'>Martin Guillon</span><br>
								<a class="icon-bg icon-link" href="question/138149/how-to-show-a-uiviewcontroller-in-a-ios-titanium-module#answer-240583" rel="permalink">permalink</a>
							</div>

							<h5>4 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>It doesn&#39;t work. :-(</p>
<p>Do I need to change anything in my UIViewController methods? I don&#39;t know how lifecycle iOS Titanium module works.<br>Thanks</p>
</p>
										<div class="author">
											&mdash; commented <span title="June 11th 2012, 6:51:01 am">June 11th 2012</span>
											by <span class='authorname'>Alberto Velaz</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>In my UIViewController I have:</p>
<p><code>- (id)init {
    self = [super init];
    if (self) {
       NSLog(@&amp;quot;[INFO] %@ UIViewController init&amp;quot;,self);
    }
    return self;
}</code></p>
<p>But I don&#39;t get any log, so I suppose my UIViewController is not initialized</p>
<p>:-(</p>
</p>
										<div class="author">
											&mdash; commented <span title="June 11th 2012, 7:11:00 am">June 11th 2012</span>
											by <span class='authorname'>Alberto Velaz</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>In your code:</p>
<pre><code class="hljs">-(<span class="hljs-built_in">UIView</span>*)view
{
    <span class="hljs-built_in">NSLog</span>(<span class="hljs-string">@"[INFO] View inside"</span>);
    <span class="hljs-keyword">if</span> (view==<span class="hljs-literal">nil</span>)
    {
        <span class="hljs-comment">//view = [[UIView alloc] initWithFrame:[self frame]];</span>

        ComInnerFunctionIFSmartAdServerViewController *controller = [[ComInnerFunctionIFSmartAdServerViewController alloc] init];

        <span class="hljs-built_in">NSLog</span>(<span class="hljs-string">@"[INFO] %@ UIViewController init"</span>,<span class="hljs-keyword">self</span>);

        view = controller<span class="hljs-variable">.view</span>;
        [<span class="hljs-keyword">self</span> addSubview:view];
        [TiUtils setView:view positionRect:<span class="hljs-keyword">self</span><span class="hljs-variable">.bounds</span>];

    }
</code></pre><p>I don&#39;t get any log.<br>Is this normal? How I get a Log in Titanium? :-(</p>
</p>
										<div class="author">
											&mdash; commented <span title="June 11th 2012, 7:17:10 am">June 11th 2012</span>
											by <span class='authorname'>Alberto Velaz</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Thanks, finally it&#39;s working, but with strange things.</p>
</p>
										<div class="author">
											&mdash; commented <span title="June 11th 2012, 12:05:40 pm">June 11th 2012</span>
											by <span class='authorname'>Alberto Velaz</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>2</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-240569">
				
						<section>
							<p>Do you need to access an existing UIViewController? If so check this out: <a href="http:&#x2F;&#x2F;developer.appcelerator.com&#x2F;question&#x2F;123810&#x2F;how-to-get-the-windows-uiviewcontroller-inside-an-appcelerator-iphones-module-">http:&#x2F;&#x2F;developer.appcelerator.com&#x2F;question&#x2F;123810&#x2F;how-to-get-the-windows-uiviewcontroller-inside-an-appcelerator-iphones-module-</a></p>
<p>Do you want to create a UIViewController from scratch in the module? That would be a good bit more complicated, especially since Titanium has already done this in the JS API. In brief, the JS API itself is composed entirely of &quot;modules&quot;. Each supported UI element and service is built as a module. For this reason, you can look into the core source code to see exactly how the NavigationGroup is implemented in iOS. The part of the repo containing all the source files for iOS can be found here: <a href="https:&#x2F;&#x2F;github.com&#x2F;appcelerator&#x2F;titanium_mobile&#x2F;tree&#x2F;master&#x2F;iphone&#x2F;Classes">https:&#x2F;&#x2F;github.com&#x2F;appcelerator&#x2F;titanium_mobile&#x2F;tree&#x2F;master&#x2F;iphone&#x2F;Classes</a></p>
<p>The files that would be most importnat to you would be:</p>
<ul>
<li><a href="https:&#x2F;&#x2F;github.com&#x2F;appcelerator&#x2F;titanium_mobile&#x2F;blob&#x2F;master&#x2F;iphone&#x2F;Classes&#x2F;TiUIiPhoneNavigationGroup.h">https:&#x2F;&#x2F;github.com&#x2F;appcelerator&#x2F;titanium_mobile&#x2F;blob&#x2F;master&#x2F;iphone&#x2F;Classes&#x2F;TiUIiPhoneNavigationGroup.h</a></li>
<li><a href="https:&#x2F;&#x2F;github.com&#x2F;appcelerator&#x2F;titanium_mobile&#x2F;blob&#x2F;master&#x2F;iphone&#x2F;Classes&#x2F;TiUIiPhoneNavigationGroup.m">https:&#x2F;&#x2F;github.com&#x2F;appcelerator&#x2F;titanium_mobile&#x2F;blob&#x2F;master&#x2F;iphone&#x2F;Classes&#x2F;TiUIiPhoneNavigationGroup.m</a></li>
<li><a href="https:&#x2F;&#x2F;github.com&#x2F;appcelerator&#x2F;titanium_mobile&#x2F;blob&#x2F;master&#x2F;iphone&#x2F;Classes&#x2F;TiUIiPhoneNavigationGroupProxy.h">https:&#x2F;&#x2F;github.com&#x2F;appcelerator&#x2F;titanium_mobile&#x2F;blob&#x2F;master&#x2F;iphone&#x2F;Classes&#x2F;TiUIiPhoneNavigationGroupProxy.h</a></li>
<li><a href="https:&#x2F;&#x2F;github.com&#x2F;appcelerator&#x2F;titanium_mobile&#x2F;blob&#x2F;master&#x2F;iphone&#x2F;Classes&#x2F;TiUIiPhoneNavigationGroupProxy.m">https:&#x2F;&#x2F;github.com&#x2F;appcelerator&#x2F;titanium_mobile&#x2F;blob&#x2F;master&#x2F;iphone&#x2F;Classes&#x2F;TiUIiPhoneNavigationGroupProxy.m</a></li>
</ul>
<p>The latest version of the iOS Module Development guide is here: <a href="http:&#x2F;&#x2F;docs.appcelerator.com&#x2F;titanium&#x2F;2.0&#x2F;index.html#!&#x2F;guide&#x2F;iOS_Module_Development_Guide">http:&#x2F;&#x2F;docs.appcelerator.com&#x2F;titanium&#x2F;2.0&#x2F;index.html#!&#x2F;guide&#x2F;iOS_Module_Development_Guide</a></p>
<p>We understand that the iOS module development guide needs some work. There are only brief mentions of how <code>createView</code> works specifically. We do, however, have a pretty big list of open source modules from which you can model your own modules. It may not be as clear as documentation in some cases, but it does show you exactly how you can practically add native modules to your Titanium development. </p>
<p>titanium_modules on github: <a href="https:&#x2F;&#x2F;github.com&#x2F;appcelerator&#x2F;titanium_modules">https:&#x2F;&#x2F;github.com&#x2F;appcelerator&#x2F;titanium_modules</a></p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="June 10th 2012, 10:06:49 pm">June 10th 2012</span>
								by <span class='authorname'>Tony Lukasavage</span><br>
								<a class="icon-bg icon-link" href="question/138149/how-to-show-a-uiviewcontroller-in-a-ios-titanium-module#answer-240569" rel="permalink">permalink</a>
							</div>

							<h5>10 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Thanks Tony, but:</p>
<p>a) http:&#x2F;&#x2F;developer.appcelerator.com&#x2F;question&#x2F;123810&#x2F;how-to-get-the-windows-uiviewcontroller-inside-an-appcelerator-iphones-module- =&gt; It&#39;s not updated, examples with Xcode 3.2. I&#39;ve already read it 4 days ago.</p>
<p>b) In https:&#x2F;&#x2F;github.com&#x2F;appcelerator&#x2F;titanium_modules =&gt; There is no sample about how to create a UIViewController in a iOS Titanium Module.  I&#39;ve already read it 3 days ago.</p>
<p>c) I don&#39;t need this class:  TiUIiPhoneNavigationGroup.h. I&#39;ve a SmartAdServerView what needs a UIViewController as delegate, this UIViewController must be SmartAdServerViewDelegate protocol.</p>
<p>@interface NAMEOFCLASSCONTROLLER : UIViewController &lt;SmartAdServerViewDelegate&gt;<br>—&#x2F;&#x2F;</p>
<p>so</p>
<p>@interface NAMEOFCLASSVIEW.h : TiUIView<br>{<br>    SmartAdServerView *ad;<br>}</p>
<p>@implementation NAMEOFCLASSVIEW.m</p>
<p>…..<br>-(UIView*)square<br>{</p>
<pre><code class="hljs"><span class="hljs-keyword">if</span> (square==nil)
{
    square = [[UIView alloc] <span class="hljs-attribute">initWithFrame</span>:[self frame]];

    ad = [[SmartAdServerView alloc] initWithFrame :[self frame]];
    ad.expandsFromTop = NO;
    ad.autoresizingMask = UIViewAutoresizingFlexibleWidth | UIViewAutoresizingFlexibleTopMargin;
    <span class="hljs-pi">// Load the ad format, Master is YES, because it's the only ad on the page.
    [ad loadFormatId:12175 pageId:@"185330" master:YES target:nil];

//</span><span class="hljs-pi">////</span><span class="hljs-pi">////</span><span class="hljs-pi">////</span><span class="hljs-pi">////</span><span class="hljs-pi">////</span><span class="hljs-pi">////</span><span class="hljs-pi">////</span><span class="hljs-pi">////</span><span class="hljs-pi">////</span><span class="hljs-pi">////</span><span class="hljs-pi">////</span><span class="hljs-pi">////</span><span class="hljs-pi">////</span><span class="hljs-pi">//        
//</span><span class="hljs-pi">////</span><span class="hljs-pi">////</span>  In <span class="hljs-keyword">this</span> line <span class="hljs-keyword">is</span> the <span class="hljs-attribute">problem</span>:

ad.delegate = self; <span class="hljs-pi">//I get a warning about 

//</span><span class="hljs-pi">////</span><span class="hljs-pi">////</span><span class="hljs-pi">////</span><span class="hljs-pi">////</span><span class="hljs-pi">////</span><span class="hljs-pi">////</span><span class="hljs-pi">////</span><span class="hljs-pi">////</span><span class="hljs-pi">////</span><span class="hljs-pi">////</span><span class="hljs-pi">////</span><span class="hljs-pi">////</span><span class="hljs-pi">////</span><span class="hljs-pi">//
//</span><span class="hljs-pi">////</span><span class="hljs-pi">////</span><span class="hljs-pi">////</span><span class="hljs-pi">////</span><span class="hljs-pi">////</span><span class="hljs-pi">////</span><span class="hljs-pi">////</span><span class="hljs-pi">////</span><span class="hljs-pi">////</span><span class="hljs-pi">////</span><span class="hljs-pi">////</span><span class="hljs-pi">////</span><span class="hljs-pi">////</span><span class="hljs-pi">//

    [square addSubview:ad];
    [self addSubview:square];
} 


return square;</span>
</code></pre><p>}<br>…..</p>
<p>I have no idea how to do that.<br>And I haven&#39;t seen an example in whole Internet</p>
<p>In: titanium_modules on github: https:&#x2F;&#x2F;github.com&#x2F;appcelerator&#x2F;titanium_modules<br>there is an example with AdMob, but this needs as delegate a UIView, so there is not problem, but with an UIViewController ….</p>
<p>So, thanks for your help Tony, but I&#39;m exactly as in the origin.</p>
<p>No body know how to do that… amazing!!</p>
</p>
										<div class="author">
											&mdash; commented <span title="June 10th 2012, 10:26:13 pm">June 10th 2012</span>
											by <span class='authorname'>Alberto Velaz</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I&#39;m no Objective-C wizard so I don&#39;t think I can help debug your integration, but doesn&#39;t the post I listed at the beginning show you how you can access a native UIViewController and use it in your code?</p>
<p><a href="http:&#x2F;&#x2F;developer.appcelerator.com&#x2F;question&#x2F;123810&#x2F;how-to-get-the-windows-uiviewcontroller-inside-an-appcelerator-iphones-module-">http:&#x2F;&#x2F;developer.appcelerator.com&#x2F;question&#x2F;123810&#x2F;how-to-get-the-windows-uiviewcontroller-inside-an-appcelerator-iphones-module-</a></p>
<p>Also, it looks like the warning you were going to list with the problematic line is not shown.</p>
</p>
										<div class="author">
											&mdash; commented <span title="June 10th 2012, 10:32:43 pm">June 10th 2012</span>
											by <span class='authorname'>Tony Lukasavage</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Thanks again.<br>I don&#39;t know what will happen with those code lines. I&#39;m no Titanium Appcelerator wizard, but I&#39;m absolutely frustrated. Does anybody explain me, how createView() works? Is it so difficult? I can&#39;t wait for the answer, I need to know how works so I&#39;ll be able to understand it and try to find a solution.<br>Nobody knows how createView works…. It&#39;s incredible<br>What kind of platform doesn&#39;t explain how it works ?<br>LifeCycle of iOS module…?<br>….<br>Desperate…<br>But thanks again, you&#39;re not guilty for so many nosense situations</p>
</p>
										<div class="author">
											&mdash; commented <span title="June 10th 2012, 10:47:29 pm">June 10th 2012</span>
											by <span class='authorname'>Alberto Velaz</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>@Alberto Velaz, I found a solution for your problem, because it was my problem too. The same thing with SmartAdServerView.  </p>
<p>As Martin Guillon propose, I use a custom UIViewController inherits from SmartAdServerViewDelegate. Then, where you find your warning trying to assign deletate to your ad, I assign my custom UIViewController, and everything seems to work.</p>
<p>Please do not hesitate to contact me on @IsmaGNU twitter account.</p>
</p>
										<div class="author">
											&mdash; commented <span title="June 21st 2012, 1:16:53 pm">June 21st 2012</span>
											by <span class='authorname'>Ismael Sanchez</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I&#39;ve got the same issue, is it possible you can post the code here to resolve it. Much appreciated if you can</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 6th 2012, 5:59:40 pm">July 6th 2012</span>
											by <span class='authorname'>Nigel Underwood</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>@Ismael Sanchez: That s a way to do it. You must a custom UIViewController which is of class UIViewController. That viewcontroller has a view which is of class SmartAdServerView. Then in the init function of the viewcontroller, after allocating the view you do</p>
<pre><code class="hljs"><span class="hljs-title">[view setDelegate:self]</span><span class="hljs-comment">;</span>
</code></pre><p>That should be it.</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 7th 2012, 4:24:19 am">July 7th 2012</span>
											by <span class='authorname'>Martin Guillon</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Many thanks, we will give it a go and post back any issues.</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 10th 2012, 7:32:13 am">July 10th 2012</span>
											by <span class='authorname'>Nigel Underwood</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Don&#39;t seem to be having much luck with this, any chance of posting the full code here, much appreciated if it can be.</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 10th 2012, 7:11:27 pm">July 10th 2012</span>
											by <span class='authorname'>Nigel Underwood</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Can you explain a little more when you say it doesnt work. Where are you at? Do you have you view? Is it only the delegate that doesnt work?</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 11th 2012, 5:17:07 am">July 11th 2012</span>
											by <span class='authorname'>Martin Guillon</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Apologies, should have been more specific. I have the TIView module created with the Ad being displayed within the view, its the delegate part which I am having problems with. Followed the postings above but can&#39;t seem to create the custom UIViewController class for the delegate. If you can assist with that part it would be most appreciated.</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 11th 2012, 6:49:27 am">July 11th 2012</span>
											by <span class='authorname'>Nigel Underwood</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
