<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>RTSP / iOS HTTP media streaming » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>RTSP / iOS HTTP media streaming</h1>
		</header>
		<section>
			<p>Hi.</p>
<p>Is the latest version finally supports stable video playback from RTSP and iOS HTTP streaming sources?</p>
<p>Thanks!</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="July 9th 2011, 9:11:52 pm">July 9th 2011</span>
				by <span class='authorname'>Stas Oskin</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>http</span></li>
					
						<li><span class='tagname'>media</span></li>
					
						<li><span class='tagname'>rtsp</span></li>
					
						<li><span class='tagname'>streaming</span></li>
					
						<li><span class='tagname'>video</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>1</span> Vote</div>
			<div class="answers"><span>4</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>4 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-212683">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>I have been able to use HTTP Live Streaming for iOS, not sure about RTSP for Android.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="July 9th 2011, 11:15:05 pm">July 9th 2011</span>
								by <span class='authorname'>Brian Blankenship</span><br>
								<a class="icon-bg icon-link" href="question/122320/rtsp--ios-http-media-streaming#answer-212683" rel="permalink">permalink</a>
							</div>

							<h5>18 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Per our offline conversation, I was able to get RTSP on Android working.  Just making a change in the KiSink url didn&#39;t do it.  </p>
<p>At least what worked for me with was to set up and config your windows and movieplayer a certain way to make it work…see this ticket (http:&#x2F;&#x2F;support.appcelerator.com&#x2F;tickets&#x2F;NFQ-95678-747&#x2F;tickets&#x2F;search) or text below, provided by another AppC developer…(happy to mention their name if they don&#39;t mind).</p>
<p>&quot;The window with player must be open outside the tabgroup (if not, it crashes). It is necesary to use win.open and not currentTab.open The player should NOT be added to the window like in case of iphone, it opens by default without adding it.&quot;</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 1st 2011, 11:14:56 am">August 1st 2011</span>
											by <span class='authorname'>Brian Blankenship</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Hi.</p>
<p>Can you please post an example?</p>
<p>I also tried to access the mentioned URL but it didn&#39;t work for me.</p>
<p>Thanks in advance!</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 1st 2011, 11:46:25 am">August 1st 2011</span>
											by <span class='authorname'>Stas Oskin</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Sure (I was drafting you an e-mail already).  Create a new Ti mobile project, replace the app.js (from pastie) and create and add the other file from the pastie into your Resources folder…</p>
<p><a href="http:&#x2F;&#x2F;www.pastie.org&#x2F;2303978">pastie for sample test code</a></p>
<p>Note - My test Android device died and I don&#39;t think RTSP video works on the emulator anyway, so you would need to test on a device.  I can&#39;t at the moment re-verify this simplified test app I created until I get my new test device in the next couple days…</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 1st 2011, 1:06:11 pm">August 1st 2011</span>
											by <span class='authorname'>Brian Blankenship</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Hi.</p>
<p>Thanks a dozen for the sample!</p>
<p>We will test it here on several Android devices we have, and update here if all working fine.</p>
<p>Looking in code I see HLS part, so same example should work on iPhone as well?</p>
<p>Regards.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 2nd 2011, 8:11:04 am">August 2nd 2011</span>
											by <span class='authorname'>Stas Oskin</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Yes, HLS on iOS is confirmed in this code.  My new Android test device arrives today, so I should be able test&#x2F;tweak tonight, if necessary for RTSP.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 2nd 2011, 11:17:13 am">August 2nd 2011</span>
											by <span class='authorname'>Brian Blankenship</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Hi.</p>
<p>We tested your sample on our Android devices, and it works great. For some reason though, the server has to be Wowza (it doesn&#39;t work with other servers), so we are looking into this.</p>
<p>Also, we noticed that playback is done in device native application, which pops above the Titanium app. Is there a away to have the player &quot;hosted&quot; within the Titanium app, so we could place design and control around it? Or any other way to skin the player?</p>
<p>Thanks again.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 3rd 2011, 5:30:23 am">August 3rd 2011</span>
											by <span class='authorname'>Stas Oskin</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Yes, the sample code is using the native videoPlayer on both iOS and Android.  Per the Ti training, &quot;iOS – can embed video at any percentage size - however, video is not “embeddable” on Android and you must back out of the video&quot;.  </p>
<p>So, for Android, to meet your need, I think a webView may be the next option to consider.  See the below post, where within there are more details on video in an Android webView given.  I don&#39;t know if RTSP is supported through the webView, or through this &#39;videojs&#39; library, but it could be tested.</p>
<p><a href="http:&#x2F;&#x2F;developer.appcelerator.com&#x2F;question&#x2F;121495&#x2F;videoplayer--finish-reason-always-reported-as-videofinishreasonplaybackended">HTML5 video for Android in webView</a></p>
<p>(btw - if the original question of supporting RTSP and HTTPLS is answered, perhaps we can close this Q&amp;A item out)</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 3rd 2011, 1:09:56 pm">August 3rd 2011</span>
											by <span class='authorname'>Brian Blankenship</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Sure - the item is closed, thanks again for your help.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 3rd 2011, 1:20:37 pm">August 3rd 2011</span>
											by <span class='authorname'>Stas Oskin</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Brian, I tried the sample test code you posted on pastie (above), and I receive an &quot;unspecified error&quot; on my Android device when attempting to play the video, even from a brand new project with only your 2 .js files. When I run the dds debugger for Android, the only corresponding log that makes sense with the error refers to the URL not being specified. Has anyone else had issues like this? I even used your sample video feeds in the test project.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 24th 2011, 10:43:12 am">August 24th 2011</span>
											by <span class='authorname'>Joel Hulen</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I think it&#39;s that the sample Android stream&#39;s url is down, as I just tried it both on my Android device and my desktop and the stream essentially timed out.  Try another RTSP stream…(I don&#39;t have another url handy to give you at the moment).</p>
<p>Also, what platforms, SDKs, etc. are you using?  Are you on the sim or device (Android sim either doesn&#39;t work or doesn&#39;t work reliably for streaming video, at least that&#39;s the experience I remember from last time I dealt with this).</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 24th 2011, 12:47:52 pm">August 24th 2011</span>
											by <span class='authorname'>Brian Blankenship</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I just tried a working RTSP stream: <a href="rtsp:&#x2F;&#x2F;mobile.influxis.com:1935&#x2F;ljbcga993aviy45224_live&#x2F;hayatv_768_h264aac">rtsp:&#x2F;&#x2F;mobile.influxis.com:1935&#x2F;ljbcga993aviy45224_live&#x2F;hayatv_768_h264aac</a></p>
<p>I receive the same error when trying to play it on my Android device.</p>
<p>I am using Titanium Studio build 1.0.4.201108101535. My development is being performed on a Mac (due to simultaneous iPhone deployment), with the latest SDKs. My Android device is the Samsung Infuse with the Android O&#x2F;S build number: FROYO.UCKD5.</p>
<p>When I run the ddms tool to capture logs from my Android device, this is the output I receive when the player attempts to play the video:</p>
<ul>
<li>08-25 05:42:44.491: ERROR&#x2F;PlayerDriver(2508): Command PLAYER_INIT completed with an error or info -10</li>
<li>08-25 05:42:44.491: ERROR&#x2F;PlayerDriver(2508): Player Driver, CommandCompleted, NO URL </li>
<li>08-25 05:42:44.491: ERROR&#x2F;MediaPlayer(19552): message received msg=100, ext1=-10, ext2=-10</li>
<li>08-25 05:42:44.491: ERROR&#x2F;MediaPlayer(19552): error (-10, -10)</li>
<li>08-25 05:42:44.495: ERROR&#x2F;MediaPlayer(19552): callback application</li>
<li>08-25 05:42:44.495: ERROR&#x2F;MediaPlayer(19552): back from callback</li>
<li>08-25 05:42:44.495: ERROR&#x2F;MediaPlayer(19552): Error (-10,-10)</li>
<li>08-25 05:42:44.495: DEBUG&#x2F;VideoView(19552): Error: -10,-10</li>
</ul>
</p>
										<div class="author">
											&mdash; commented <span title="August 25th 2011, 8:06:02 am">August 25th 2011</span>
											by <span class='authorname'>Joel Hulen</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Brian Blankenship, How do you get your video files in m3u8 format?</p>
</p>
										<div class="author">
											&mdash; commented <span title="September 26th 2011, 2:18:30 pm">September 26th 2011</span>
											by <span class='authorname'>Dominik Koscielak</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>One way is to download and use Apple&#39;s tools, using your Apple Developer account. </p>
<p>From Apple&#39;s docs…</p>
<p> &quot;There are several tools available that can help you set up an HTTP Live Streaming service. The tools include a media stream segmenter, a media file segmenter, a stream validator, an id3 tag generator, and a variant playlist generator.</p>
<p>One way to navigate to the tools is to log onto connect.apple.com, then click iPhone under the Downloads heading.&quot;</p>
</p>
										<div class="author">
											&mdash; commented <span title="September 26th 2011, 2:35:33 pm">September 26th 2011</span>
											by <span class='authorname'>Brian Blankenship</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>For anyone getting an &#39;unspecified error&#39; when running the sample code - change this line: </p>
<p>if((Ti.Platform.osname = &#39;iphone&#39;) || (Ti.Platform.osname = &#39;ipad&#39; )){</p>
<p>to this:</p>
<p>if((Ti.Platform.osname == &#39;iphone&#39;) || (Ti.Platform.osname == &#39;ipad&#39; )){</p>
</p>
										<div class="author">
											&mdash; commented <span title="October 5th 2011, 9:44:02 am">October 5th 2011</span>
											by <span class='authorname'>Craig Marvelley</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I have RTSP streaming working on our TMobile Rapport device.</p>
<p>Running: OSX and Ti 1.0.6</p>
<p>The emulator (V2.2, HVGA) however, only plays the audio track. Don&#39;t trustthe Android Emulator alone. Build on device.</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 14th 2011, 8:58:14 am">November 14th 2011</span>
											by <span class='authorname'>Jonathan Morgan</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I want to change the background image at the video player… how do I do that?</p>
</p>
										<div class="author">
											&mdash; commented <span title="February 22nd 2012, 11:08:56 am">February 22nd 2012</span>
											by <span class='authorname'>Michael Deyzel</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Hey Brian,</p>
<p>I need to make a video chat app. Please guide me. How to approach.</p>
<p>Thanks,</p>
<p>Raju</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 9th 2012, 8:40:13 am">November 9th 2012</span>
											by <span class='authorname'>Raju Mahato</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>if i want play 2 video together, </p>
<p>If it can do. please guide me for command use.</p>
<p>Thanks.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 27th 2013, 8:42:54 am">August 27th 2013</span>
											by <span class='authorname'>apichart apinyansudja</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>2</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-212698">
				
						<section>
							<p>Hi.</p>
<p>1) How well the HLS protocol has worked for you?</p>
<p>2) Has anyone else used RTSP over Android?</p>
<p>Thanks.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="July 10th 2011, 10:45:31 am">July 10th 2011</span>
								by <span class='authorname'>Stas Oskin</span><br>
								<a class="icon-bg icon-link" href="question/122320/rtsp--ios-http-media-streaming#answer-212698" rel="permalink">permalink</a>
							</div>

							<h5>6 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>For me, HLS is required by Apple because my videos have been over 5 mins, so there is no alternative.  It has worked fine as far as HLS itself goes.  I have occasionally seen issues in the forum about the movieplayer itself (sans HLS), although often the posts are about video on Android.  I remember in the Ti training videos, it was stated that streaming video was not yet supported for Android, but I haven&#39;t tested it recently and just assumed having to use standard video files for now (or 3gp).  In case you don&#39;t have it, Apple has a test HLS stream at http:&#x2F;&#x2F;devimages.apple.com&#x2F;iphone&#x2F;samples&#x2F;bipbop&#x2F;bipbopall.m3u.  I have been unsuccessful in locating a test RSTP stream anywhere.</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 10th 2011, 2:29:12 pm">July 10th 2011</span>
											by <span class='authorname'>Brian Blankenship</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Hi.</p>
<p>The HLS example you provided is not working unfortunately.</p>
<p>Would you like me to PM you a RTSP stream, so you could give a look?</p>
<p>Thanks.</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 10th 2011, 6:17:19 pm">July 10th 2011</span>
											by <span class='authorname'>Stas Oskin</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>For the sample HLS stream I included, it must be accessed via the videoplayer object (make that url the url for the vp object).  I just re-tested it in my app successfully.  Otherwise, that url must be embedded in an HTML5 video tag to be accessed via a browser (Safari works best) as done in the sample html pages below (again from Apple).  And sure, pm me the RTSP stream.</p>
<p>&quot;Sample Streams</p>
<p>There are a series of HTTP streams available for testing on Apple’s developer site. These examples show proper formatting of HTML to embed streams, .M3U8 files to index the streams, and .ts media segment files. The streams can be accessed at the following URLs:</p>
<pre><code class="hljs"><span class="hljs-symbol">http:</span>/<span class="hljs-regexp">/devimages.apple.com/iphone</span><span class="hljs-regexp">/samples/bipbopgear</span>1.html

<span class="hljs-symbol">http:</span>/<span class="hljs-regexp">/devimages.apple.com/iphone</span><span class="hljs-regexp">/samples/bipbopgear</span>2.html

<span class="hljs-symbol">http:</span>/<span class="hljs-regexp">/devimages.apple.com/iphone</span><span class="hljs-regexp">/samples/bipbopgear</span>3.html

<span class="hljs-symbol">http:</span>/<span class="hljs-regexp">/devimages.apple.com/iphone</span><span class="hljs-regexp">/samples/bipbopgear</span>4.html

<span class="hljs-symbol">http:</span>/<span class="hljs-regexp">/devimages.apple.com/iphone</span><span class="hljs-regexp">/samples/bipbopall</span>.html
</code></pre><p>&quot;</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 11th 2011, 10:30:45 am">July 11th 2011</span>
											by <span class='authorname'>Brian Blankenship</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Hi.</p>
<p>Thanks for the sample, I will give a look.</p>
<p>I also PM&#39;ed you the RTSP stream.</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 11th 2011, 4:25:10 pm">July 11th 2011</span>
											by <span class='authorname'>Stas Oskin</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Sorry - still need to try out your stream - have been having odd Android issues that I&#39;m resolving before I can test…</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 17th 2011, 8:55:20 pm">July 17th 2011</span>
											by <span class='authorname'>Brian Blankenship</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Sure, let me know if you need any other details or how it works for you.</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 18th 2011, 7:03:08 am">July 18th 2011</span>
											by <span class='authorname'>Stas Oskin</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-247973">
				
						<section>
							<p>ffengine is a high performance ios &#x2F;android player sdk, it&#39;s from ffsdk.com<br>It supports playing rtsp&#x2F;rtp&#x2F;mkv&#x2F;rmvb files on iPhone&#x2F;Android.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="September 25th 2012, 2:43:47 am">September 25th 2012</span>
								by <span class='authorname'>Xie Wei</span><br>
								<a class="icon-bg icon-link" href="question/122320/rtsp--ios-http-media-streaming#answer-247973" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-267089">
				
						<section>
							<p>iOS does not support rtsp streaming natively, you must use one of the libraries in the internet that can read from rtsp streams and decoders if needed. Both ffmpeg and live555 projects can do this… I suggust ffmpeg as it has a capability of decoding </p>
<p>In shortly, ffmpeg based players work in below steps,</p>
<p>&gt; make a connection - avformat_open_input<br>&gt; find audio&#x2F;video codecs - avcodec_find_decoder<br>&gt; open audio&#x2F;video codecs - avcodec_open2<br>&gt; read encoded packets from file&#x2F;network stream in a loop - av_read_frame<br>   a. decode audio packets - avcodec_decode_audio4<br>   b. fill audio buffers with audiounit&#x2F;audioqueue framework</p>
<p>&gt;<br>a. decode video packets - avcodec_decode_video2<br>b. convert yuv pictures to rgb pictures - sws_scale or opengles shaders</p>
<p>BTW, I am thinking to prepare a tutorial about ffmpeg for ios and will show how to use above apis (www.videostreamsdk.com)</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 11th 2013, 5:55:02 pm">August 11th 2013</span>
								by <span class='authorname'>tarum nadus</span><br>
								<a class="icon-bg icon-link" href="question/122320/rtsp--ios-http-media-streaming#answer-267089" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>-2</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
