<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>LocalNotifications disappear after 40 seconds. » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>LocalNotifications disappear after 40 seconds.</h1>
		</header>
		<section>
			<p>I&#39;m currently having mutiple issues with the LocalNotification class on iOs.<br>This is one of it: I&#39;m sending a LocalNotification via the backgroundservice as soon as the app gets suspended via:</p>
<pre><code class="hljs">
<span class="hljs-tag">Ti</span><span class="hljs-class">.App</span><span class="hljs-class">.iOS</span><span class="hljs-class">.scheduleLocalNotification</span>(<span class="hljs-rules">{ 

    <span class="hljs-rule"><span class="hljs-attribute">alertBody</span>:<span class="hljs-value"> <span class="hljs-string">'Push'</span>, 
    alertAction: <span class="hljs-string">'To the app'</span>,
    date: new Date

</span></span></span>});
</code></pre><p>There is no other code than the above in my background service. When suspending, the notification shows up and it stays on screen (respectively in the notification center in iOs 5) for about 40 seconds until it just disappears! Notification of other apps don&#39;t simply just disappear. How come?</p>
<p>In another thread I read that setting an interval has helped… but this didn&#39;t do it for me (lowering the interval did neither):</p>
<pre><code class="hljs">setInterval(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{

    <span class="hljs-keyword">return</span>;

}, <span class="hljs-number">40000</span>);
</code></pre><p>What&#39;s interesting is that if I set the <code>date</code> property of the LocalNotification to <code>(new Date().getTime() + 35000)</code>, the notification will appear 5 seconds after it has disappeared … so, seemingly after 40 seconds after the app has gone to suspend mode everyhting related to it is killed.</p>
<p>How to work around?<br>Same issue with 1.7.2 and 1.7.3 &#x2F;&#x2F; iOs 4.3 and 5.0</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="October 20th 2011, 10:09:08 am">October 20th 2011</span>
				by <span class='authorname'>Peter Hamm</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>40 seconds</span></li>
					
						<li><span class='tagname'>backgroundservice</span></li>
					
						<li><span class='tagname'>ios</span></li>
					
						<li><span class='tagname'>localnotification</span></li>
					
						<li><span class='tagname'>setinterval</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-221479">
				
						<section>
							<p>I have solved it for me!</p>
<p>Instead of setting all my notifications in the background service, I&#39;m now already setting them while the app is still fully running - that works fine and the notifications don&#39;t disappear after 40 seconds.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="October 21st 2011, 6:41:37 am">October 21st 2011</span>
								by <span class='authorname'>Peter Hamm</span><br>
								<a class="icon-bg icon-link" href="question/127133/localnotifications-disappear-after-40-seconds#answer-221479" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Oh and by the way: In my app, the notifications ONLY work when they are set in the main app.js file.</p>
</p>
										<div class="author">
											&mdash; commented <span title="October 21st 2011, 7:17:58 am">October 21st 2011</span>
											by <span class='authorname'>Peter Hamm</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
