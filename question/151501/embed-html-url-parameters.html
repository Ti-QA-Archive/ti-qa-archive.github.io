<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>embed html url parameters » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>embed html url parameters</h1>
		</header>
		<section>
			<p>Hi!</p>
<p>I need to embed some local html files in a native app (Android and iOS). I&#39;ve loaded the index in a webview and it works. Then, Html files pass parameters to other html through url (defined in href). It works fine on iOS simulator and Android emulator, but it fails on Android device. </p>
<p>URL looks like this:</p>
<pre><code class="hljs"><span class="hljs-setting">href=<span class="hljs-value"><span class="hljs-string">"../products/product.htm?id=45321"</span></span></span>
</code></pre><p>I understand that Android devices (unless the ones I used to check, Samsung Galaxy and Sony tablet S) takes all the href content as filename, and it fails. </p>
<p>I&#39;ve readed some posts about Android-manifest.xm. but I don&#39;t know how can I modify that file to fix it.<br>Any idea about fixing this on devices? </p>
<p>Regards</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="April 24th 2013, 11:52:26 am">April 24th 2013</span>
				by <span class='authorname'>Antonio Gómez</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>html</span></li>
					
						<li><span class='tagname'>parameters</span></li>
					
						<li><span class='tagname'>url</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-261473">
				
						<section>
							<p>You should use the <a href="http:&#x2F;&#x2F;docs.appcelerator.com&#x2F;titanium&#x2F;latest&#x2F;#!&#x2F;api&#x2F;Titanium.UI.WebView-method-evalJS">evalJS</a> function when loading your WebView. Once it is loaded, you can call a function contained in your html file and pass it any value you want.</p>
<p>Hope this helps.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="April 24th 2013, 11:59:30 am">April 24th 2013</span>
								by <span class='authorname'>Christian Brousseau</span><br>
								<a class="icon-bg icon-link" href="question/151501/embed-html-url-parameters#answer-261473" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Thanks Christian!<br>I think evalJS doesn&#39;t help in this case because I load the &quot;index.html&quot; on the webView, which acts somehow as starting point, but the error comes out when clicking on 2nd to 3rd levels. For instance, load index on webView, from index You can choose many products and when click in particular one, to see its details, you get a 404 error.</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 24th 2013, 2:14:37 pm">April 24th 2013</span>
											by <span class='authorname'>Antonio Gómez</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-261477">
				
						<section>
							<p>Looks like you need to turn the compilejs setting off in your tiapp.xml file. Add the following to the XML of your tiapp.xml file, then do a clean build to your device:</p>
<pre><code class="hljs">&lt;<span class="hljs-keyword">property</span> <span class="hljs-property">name</span>=<span class="hljs-string">"ti.android.compilejs"</span> type=<span class="hljs-string">"bool"</span>&gt;<span class="hljs-constant">false</span>&lt;/<span class="hljs-keyword">property</span>&gt;
</code></pre><p>See the following guide for more info on Android-specific tiapp.xml settings: <a href="http:&#x2F;&#x2F;docs.appcelerator.com&#x2F;titanium&#x2F;latest&#x2F;#!&#x2F;guide&#x2F;tiapp.xml_and_timodule.xml_Reference-section-29004921_tiapp.xmlandtimodule.xmlReference-Androidspecificapplicationproperties">http:&#x2F;&#x2F;docs.appcelerator.com&#x2F;titanium&#x2F;latest&#x2F;#!&#x2F;guide&#x2F;tiapp.xml_and_timodule.xml_Reference-section-29004921_tiapp.xmlandtimodule.xmlReference-Androidspecificapplicationproperties</a></p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="April 24th 2013, 12:27:47 pm">April 24th 2013</span>
								by <span class='authorname'>Tim Poulsen</span><br>
								<a class="icon-bg icon-link" href="question/151501/embed-html-url-parameters#answer-261477" rel="permalink">permalink</a>
							</div>

							<h5>4 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Thanks Tim! Setting that property in tiapp.xml makes work the app on old Android versions such as 2.3 but it continue crashing on newer ones.</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 24th 2013, 2:09:11 pm">April 24th 2013</span>
											by <span class='authorname'>Antonio Gómez</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Antonio,</p>
<p>Your original note said you had found some possible solutions that involved editing the AndroidManifest.xml file. That&#39;s certainly possible with a Titanium project. You can customize the AndroidManifest via the tiapp.xml file.</p>
<p>There are two ways to do this, described in the <a href="http:&#x2F;&#x2F;docs.appcelerator.com&#x2F;titanium&#x2F;latest&#x2F;#!&#x2F;guide&#x2F;Orientation-section-29004932_Orientation-LimitingorientationmodesonAndroid">orientation handling</a> page of our guides. Obviously, you&#39;re not changing orientation. But you can follow those steps for modifying the AndroidManifest.xml. Then, add the tags you saw described at that other reference that will hopefully fix the problem for your newer devices.</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 24th 2013, 3:58:53 pm">April 24th 2013</span>
											by <span class='authorname'>Tim Poulsen</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Tim,</p>
<p>It didn&#39;t work for me. I guess the problem is next. I try to pass parameters through url but in my case, url is something like this</p>
<pre><code class="hljs">href=<span class="hljs-string">"../folder/document.html?productId="</span>+<span class="hljs-property">id</span>
</code></pre><p>and for the webview, url is formatted like this:</p>
<pre><code class="hljs"><span class="hljs-keyword">file</span>:<span class="hljs-comment">///../folder/document.html?productId=12345</span>
</code></pre><p>and I don&#39;t know if Android (at least &gt; 3.0 version) supports passing parameters to local files. Is there any other way to handle the local file as external url? Thanks.</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 24th 2013, 9:30:14 pm">April 24th 2013</span>
											by <span class='authorname'>Antonio Gómez</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Sorry I didn&#39;t spot this before, you can&#39;t use query string parameters with local files. Those parameters are part of the http specification and are available only when the page is served from a web server. </p>
<p>You could use an app-level event to fire the product ID into the web view. You&#39;d have an app-level event listener in your html file. Your html would have to support being loaded without the productID value, then updating itself once the event fires and the ID is passed to the javascript of your page.</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 25th 2013, 11:26:45 am">April 25th 2013</span>
											by <span class='authorname'>Tim Poulsen</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
