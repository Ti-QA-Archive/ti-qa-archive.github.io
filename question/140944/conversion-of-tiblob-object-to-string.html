<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Conversion of TiBlob Object to String » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Conversion of TiBlob Object to String</h1>
		</header>
		<section>
			<p>Hi,<br>    I need to Convert the TiBlob Image Object to String.I had tried the following Ways.But No Success.</p>
<pre><code class="hljs">
var imageFile = Titanium.Filesystem.getFile(<span class="hljs-attribute">'images8</span>.png');
var oneImage = imageFile.read();
var image = oneImage;
var tempFile = Titanium.Filesystem.createTempFile();
tempFile.write(oneImage);
var contents = tempFile.read();
var x = Ti.Utils.base64decode(contents);

alert(<span class="hljs-attribute">'type</span> <span class="hljs-keyword">of</span> x <span class="hljs-keyword">is</span> '+typeof(x));  //Object
alert(<span class="hljs-attribute">'type</span> <span class="hljs-keyword">of</span> x <span class="hljs-keyword">is</span> '+x.text);   //<span class="hljs-keyword">null</span>
alert(JSON.stringify(oneImage));  //output <span class="hljs-keyword">is</span> <span class="hljs-keyword">null</span>
alert(<span class="hljs-attribute">'value</span> <span class="hljs-keyword">of</span> image <span class="hljs-keyword">is</span> '+image);  //TiBlob Object
alert(typeof(contents.toString()));    //<span class="hljs-typename">String</span>
alert(<span class="hljs-attribute">'value</span> <span class="hljs-keyword">of</span> image <span class="hljs-keyword">after</span> conversion <span class="hljs-keyword">is</span> '+contents.toString()); //<span class="hljs-keyword">null</span>
alert(<span class="hljs-attribute">'value</span> <span class="hljs-keyword">of</span> text image <span class="hljs-keyword">is</span> '+typeof(contents.text));  //<span class="hljs-typename">String</span>
alert(<span class="hljs-attribute">'value</span> <span class="hljs-keyword">of</span> image <span class="hljs-keyword">after</span> conversion text <span class="hljs-keyword">is</span> '+contents.text);  //<span class="hljs-keyword">null</span>
</code></pre><pre><code class="hljs">Please anyone can help<span class="hljs-attribute">...</span><span class="hljs-attribute">...</span><span class="hljs-attribute">...</span>
</code></pre>
		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="August 13th 2012, 7:25:35 am">August 13th 2012</span>
				by <span class='authorname'>pankaj Goyal</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>camera</span></li>
					
						<li><span class='tagname'>mobile</span></li>
					
						<li><span class='tagname'>tiblob</span></li>
					
				</ul>
			

			<section>
				<h5>1 Comment</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>@pankaj do let me know as soon as you get the answer for this ??</p>
</div>
							<div class="author">
								&mdash; commented <span title="August 13th 2012, 7:59:28 am">August 13th 2012</span>
								by <span class='authorname'>Sahil Grover</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>5</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>5 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-245243">
				
						<section>
							<p>I think you might want to use <code>base64encode</code> (and not base64decode) to send it to the server as part of a JSON string. (You might be getting null as the image was not a valid base64encoded string to be decoded…). Then use x.toString();</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 14th 2012, 4:54:24 am">August 14th 2012</span>
								by <span class='authorname'>David Bankier</span><br>
								<a class="icon-bg icon-link" href="../../question/140944/conversion-of-tiblob-object-to-string.html#answer-245243" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>You are right Mr. David.I used base64encode only. that gives me same response as written above.and toString() method is also not working.It is  giving me type as string and value null.</p>
<p>Thanks.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 14th 2012, 5:23:04 am">August 14th 2012</span>
											by <span class='authorname'>pankaj Goyal</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-245200">
				
						<section>
							<p>according to the source, it should be working</p>
<p><a href="https:&#x2F;&#x2F;github.com&#x2F;appcelerator&#x2F;titanium_mobile&#x2F;blob&#x2F;master&#x2F;iphone&#x2F;Classes&#x2F;TiBlob.m#L146">https:&#x2F;&#x2F;github.com&#x2F;appcelerator&#x2F;titanium_mobile&#x2F;blob&#x2F;master&#x2F;iphone&#x2F;Classes&#x2F;TiBlob.m#L146</a></p>
<p>if you try to conver the original image before writing to temp file, does that work?</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 13th 2012, 11:20:49 am">August 13th 2012</span>
								by <span class='authorname'>Aaron Saunders</span><br>
								<a class="icon-bg icon-link" href="../../question/140944/conversion-of-tiblob-object-to-string.html#answer-245200" rel="permalink">permalink</a>
							</div>

							<h5>3 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>No Aaron,that also does not work for me.</p>
<p>In that Case,When I am using toString() method that gives me TiBlob Object rather than null String.<br>and rest of the responses are same.</p>
<p>Thanks.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 13th 2012, 1:15:30 pm">August 13th 2012</span>
											by <span class='authorname'>pankaj Goyal</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>you can try this old module I wrote?</p>
<p><a href="http:&#x2F;&#x2F;blog.clearlyinnovative.com&#x2F;post&#x2F;9546524557&#x2F;titanium-appcelerator-quickie-base64encode-ios-module">http:&#x2F;&#x2F;blog.clearlyinnovative.com&#x2F;post&#x2F;9546524557&#x2F;titanium-appcelerator-quickie-base64encode-ios-module</a></p>
</p>
										<div class="author">
											&mdash; commented <span title="August 13th 2012, 3:21:55 pm">August 13th 2012</span>
											by <span class='authorname'>Aaron Saunders</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Mr. Aaron,<br>                    Very Thankful to you for your help.But I need to do it without including any external module.So can you please tell me some other way.</p>
<p>Thanks.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 14th 2012, 5:25:35 am">August 14th 2012</span>
											by <span class='authorname'>pankaj Goyal</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-245221">
				
						<section>
							<p>Some notes:</p>
<ul>
<li>Binary is not text. If you are streaming BLOB, you need to use something like <code>Titanium.Stream.createStream</code> having the blob as source</li>
<li><code>JSON.stringify</code> will only convert a valid dictionary object into string. like { nameFirst: &#39;John&#39;, nameLast: &#39;Doe&#39; }, so you can save this info on a text file or send it through the wire. Maybe try using vanilla old <code>String(input)</code></li>
</ul>
<p>Now I think the real question would be: why are you trying to treat BLOB image as string? it would depend on how would you like to save that info a better workaround perhaps?</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 13th 2012, 6:00:22 pm">August 13th 2012</span>
								by <span class='authorname'>JC Guerrero</span><br>
								<a class="icon-bg icon-link" href="../../question/140944/conversion-of-tiblob-object-to-string.html#answer-245221" rel="permalink">permalink</a>
							</div>

							<h5>2 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Hi JC Guerrero,<br>                            My Requirement is like that i have to convert that blob object into its content as a string.because i need to send a JSON string to the server and in that JSON string one element is the blob object of image.Can you please tell me some way to do this.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 14th 2012, 3:36:37 am">August 14th 2012</span>
											by <span class='authorname'>pankaj Goyal</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>On <a href="https:&#x2F;&#x2F;wiki.appcelerator.org&#x2F;display&#x2F;guides&#x2F;Buffer+and+Codec">Buffer &amp; Codec Tutorial</a></p>
<p>You can see the following:</p>
<pre><code class="hljs">var buffer = Ti.createBuffer({ <span class="hljs-property">length</span>: <span class="hljs-number">1024</span> });
var <span class="hljs-property">length</span> = Ti.Codec.encodeString({
    source: <span class="hljs-string">"hello world"</span>,
    dest: buffer
});
buffer.<span class="hljs-property">length</span> = <span class="hljs-property">length</span>;
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="August 14th 2012, 12:59:48 pm">August 14th 2012</span>
											by <span class='authorname'>JC Guerrero</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-245454">
				
						<section>
							<p>After LOTS of testing and research, <code>Ti.Filesystem.getFile</code> accepts <code>File</code> objects =D<br>So instead of <code>oFnew.write(oFprev.read())</code>, do <code>oFnew.write(oFprev)</code> w&#x2F;o the <code>.read()</code></p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 16th 2012, 11:14:42 am">August 16th 2012</span>
								by <span class='authorname'>JC Guerrero</span><br>
								<a class="icon-bg icon-link" href="../../question/140944/conversion-of-tiblob-object-to-string.html#answer-245454" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>sorry, wrong forum</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 16th 2012, 11:19:32 am">August 16th 2012</span>
											by <span class='authorname'>JC Guerrero</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-245456">
				
						<section>
							<p>Sorry for that last dead end (I REALLY crave for an &quot;edit button&quot;) Anywho… If you check the API, both base64encode&#x2F;decode take String&#x2F;Blob and <strong>always return Blob</strong></p>
<p>BUT, if you already have a <code>Ti.Blob</code> (from <code>oImage.read()</code>), you can just <code>oBlob.toString()</code>, according to the latest <a href="http:&#x2F;&#x2F;docs.appcelerator.com&#x2F;titanium&#x2F;2.1&#x2F;index.html#!&#x2F;api&#x2F;Titanium.Blob-method-toString">API docs</a></p>
<p>I haven&#39;t test thgis myself, but I will have to shoirtly. good luck with that!</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 16th 2012, 11:25:18 am">August 16th 2012</span>
								by <span class='authorname'>JC Guerrero</span><br>
								<a class="icon-bg icon-link" href="../../question/140944/conversion-of-tiblob-object-to-string.html#answer-245456" rel="permalink">permalink</a>
							</div>

							<h5>2 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Hi JC Guerrero,<br>                                      Very Thankful to you for your efforts.I am aware that In their documentation,it is written that you should use toString() method.But  I had checked that,It gives me null value with String type.Still Struggling With the Issue.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 16th 2012, 1:47:54 pm">August 16th 2012</span>
											by <span class='authorname'>pankaj Goyal</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>You are trying to treat an image as text… I don&#39;t see that happening anytime soon. toString() will only return if the contents of the String is &quot;string-able&quot;</p>
<p>I think you have to reformulate your question as to &quot;How can I upload a file&quot;?</p>
<p><a href="http:&#x2F;&#x2F;webcache.googleusercontent.com&#x2F;search?q=cache:ZGj0mkQPchoJ:www.smokycogs.com&#x2F;blog&#x2F;titanium-tutorial-how-to-upload-a-file-to-a-server&#x2F;+&amp;cd=1&amp;hl=en&amp;ct=clnk&amp;gl=us&amp;client=firefox-a">Here is an article</a></p>
</p>
										<div class="author">
											&mdash; commented <span title="August 22nd 2012, 4:16:54 pm">August 22nd 2012</span>
											by <span class='authorname'>JC Guerrero</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
