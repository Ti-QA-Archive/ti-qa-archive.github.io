<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>custom Android Manifest file » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>custom Android Manifest file</h1>
		</header>
		<section>
			<p>I had custom Android Manifest file in my app.cleaning the build the apk file is missing in build folder and console is displaying as<br> D:\svn code files\iAssess\build\android\AndroidManifest.xml:5: error: Error parsing XML: not well-formed (invalid token)<br>[ERROR] Error generating R.java from manifest.<br>I have checked with the package attribute in manifest file and id in tiapp.xml file there are same.<br>Any suggestion pls.</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="November 22nd 2013, 12:59:17 pm">November 22nd 2013</span>
				by <span class='authorname'>Aparna M</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>custom</span></li>
					
						<li><span class='tagname'>xml</span></li>
					
				</ul>
			

			<section>
				<h5>2 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>I had custom Android Manifest file in my app.</p>
<p>cleaning the build, the apk file is missing in build folder and console is displaying as </p>
<pre><code class="hljs"><span class="hljs-keyword">D</span>:\svn code files\iAssess\build\android\AndroidManifest.xml:5: <span class="hljs-keyword">error</span>: <span class="hljs-keyword">Error</span> parsing XML: not well-formed (invalid <span class="hljs-keyword">token</span>)`
 [<span class="hljs-keyword">ERROR</span>] <span class="hljs-keyword">Error</span> generating R.java from manifest.
</code></pre><p>I have checked with the package attribute in manifest file and id in tiapp.xml file there are same. </p>
<p><strong>Any suggestion pls.</strong></p>
<p>Yeah, post the custom manifest so we at least have a fighting chance of determining what is malformed????</p>
</div>
							<div class="author">
								&mdash; commented <span title="November 22nd 2013, 1:13:27 pm">November 22nd 2013</span>
								by <span class='authorname'>Stephen Feather</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Hi Stephen,</p>
<pre><code class="hljs"><span class="hljs-pi">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">manifest</span> <span class="hljs-attribute">xmlns:android</span>=<span class="hljs-value">"http://schemas.android.com/apk/res/android"</span>
         <span class="hljs-attribute">package</span>=<span class="hljs-value">"com.edcirrus.iassess"</span> <span class="hljs-attribute">android:versionCode</span>=<span class="hljs-value">"1"</span>
    <span class="hljs-attribute">android:versionName</span>=<span class="hljs-value">"1"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">uses-sdk</span> <span class="hljs-attribute">android:minSdkVersion</span>=<span class="hljs-value">"10"</span> /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">sdk-version</span>&gt;</span>3.1.3.GA<span class="hljs-tag">&lt;/<span class="hljs-title">sdk-version</span>&gt;</span>

    <span class="hljs-comment">&lt;!-- TI_MANIFEST --&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-title">application</span> <span class="hljs-attribute">android:icon</span>=<span class="hljs-value">"@drawable/appicon"</span>
        <span class="hljs-attribute">android:label</span>=<span class="hljs-value">"iassess"</span> <span class="hljs-attribute">android:name</span>=<span class="hljs-value">"IassessApplication"</span>
        <span class="hljs-attribute">android:debuggable</span>=<span class="hljs-value">"false"</span>&gt;</span>

        <span class="hljs-comment">&lt;!-- TI_APPLICATION --&gt;</span>

        <span class="hljs-tag">&lt;<span class="hljs-title">activity</span> <span class="hljs-attribute">android:name</span>=<span class="hljs-value">".IassessActivity"</span>
            <span class="hljs-attribute">android:label</span>=<span class="hljs-value">"iassess"</span> <span class="hljs-attribute">android:theme</span>=<span class="hljs-value">"@style/Theme.Titanium"</span>
            <span class="hljs-attribute">android:configChanges</span>=<span class="hljs-value">"keyboardHidden"</span>
            <span class="hljs-attribute">android:screenOrientation</span>=<span class="hljs-value">"landscape"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">intent-filter</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">action</span> <span class="hljs-attribute">android:name</span>=<span class="hljs-value">"android.intent.action.MAIN"</span> /&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">category</span> <span class="hljs-attribute">android:name</span>=<span class="hljs-value">"android.intent.category.LAUNCHER"</span> /&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-title">intent-filter</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">activity</span>&gt;</span>



        <span class="hljs-tag">&lt;<span class="hljs-title">activity</span> <span class="hljs-attribute">android:name</span>=<span class="hljs-value">"org.appcelerator.titanium.TiActivity"</span>
            <span class="hljs-attribute">android:configChanges</span>=<span class="hljs-value">"keyboardHidden"</span>
            <span class="hljs-attribute">android:screenOrientation</span>=<span class="hljs-value">"landscape"</span> /&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">activity</span> <span class="hljs-attribute">android:name</span>=<span class="hljs-value">"org.appcelerator.titanium.TiTranslucentActivity"</span>
            <span class="hljs-attribute">android:configChanges</span>=<span class="hljs-value">"keyboardHidden"</span>
            <span class="hljs-attribute">android:theme</span>=<span class="hljs-value">"@android:style/Theme.Translucent"</span> 
            <span class="hljs-attribute">android:screenOrientation</span>=<span class="hljs-value">"landscape"</span>/&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">activity</span> <span class="hljs-attribute">android:name</span>=<span class="hljs-value">"ti.modules.titanium.ui.android.TiPreferencesActivity"</span>
            <span class="hljs-attribute">android:screenOrientation</span>=<span class="hljs-value">"landscape"</span> /&gt;</span>

        <span class="hljs-tag">&lt;<span class="hljs-title">service</span> <span class="hljs-attribute">android:name</span>=<span class="hljs-value">"org.appcelerator.titanium.analytics.TiAnalyticsService"</span>
            <span class="hljs-attribute">android:exported</span>=<span class="hljs-value">"false"</span> /&gt;</span>


    <span class="hljs-tag">&lt;/<span class="hljs-title">application</span>&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-title">uses-permission</span> <span class="hljs-attribute">android:name</span>=<span class="hljs-value">"android.permission.ACCESS_WIFI_STATE"</span>/&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">uses-permission</span> <span class="hljs-attribute">android:name</span>=<span class="hljs-value">"android.permission.ACCESS_NETWORK_STATE"</span>/&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">uses-permission</span> <span class="hljs-attribute">android:name</span>=<span class="hljs-value">"android.permission.WRITE_EXTERNAL_STORAGE"</span>/&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">uses-permission</span> <span class="hljs-attribute">android:name</span>=<span class="hljs-value">"android.permission.INTERNET"</span>/&gt;</span>


<span class="hljs-tag">&lt;/<span class="hljs-title">manifest</span>&gt;</span>
</code></pre></div>
							<div class="author">
								&mdash; commented <span title="November 22nd 2013, 1:18:38 pm">November 22nd 2013</span>
								by <span class='authorname'>Aparna M</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-271658">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>Manifest customizations should go in the tiapp.xml. Furthermore, you should make those customizations as late in your project&#39;s development timeline as you can. Manifest customizations can lead to issues when you change your app structure (e.g. adding new activities). If you don&#39;t update your customizations, your app might not be able to launch the activities you have (attempted) to define in your code. Furthermore, using a custom manifest file means that none of the builld script manifest generation routines run, so you lose any optimizations or capabilities that our tooling provides.</p>
<p>As I hope you know, a custom manifest goes in the {PROJECT_ROOT}&#x2F;platform&#x2F;android folder. Cleaning a build will not delete that file. so as Stephen suggests in his comment, if you&#39;re getting the &quot;Error generating R.java&quot; error, then the fault is most likely in the XML of your manifest file.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="November 22nd 2013, 1:24:08 pm">November 22nd 2013</span>
								by <span class='authorname'>Tim Poulsen</span><br>
								<a class="icon-bg icon-link" href="question/159750/custom-android-manifest-file#answer-271658" rel="permalink">permalink</a>
							</div>

							<h5>5 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Hi Tim,<br>Thanku.I need to launch and run the app in landscape mode so I went for custom manifest file.As per your suggestion I will do last of my project timeline.</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 22nd 2013, 1:46:38 pm">November 22nd 2013</span>
											by <span class='authorname'>Aparna M</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>You can set orientation handling within the tiapp.xml.</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 22nd 2013, 2:03:55 pm">November 22nd 2013</span>
											by <span class='authorname'>Tim Poulsen</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I used <code>android:screenOrientation=&amp;quot;landscape&amp;quot;</code><br> in activity in tiapp.xml but didnt worked</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 22nd 2013, 2:37:48 pm">November 22nd 2013</span>
											by <span class='authorname'>Aparna M</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>In tiapp.xml, replace this line:</p>
<pre><code class="hljs"><span class="hljs-tag">&lt;<span class="hljs-title">android</span> <span class="hljs-attribute">xmlns:android</span>=<span class="hljs-value">"http://schemas.android.com/apk/res/android"</span>/&gt;</span>
</code></pre><p>With this block of XML mostly taken from the generated build&#x2F;android&#x2F;AndroidManifest.xml file:</p>
<pre><code class="hljs"><span class="hljs-tag">&lt;<span class="hljs-title">android</span> <span class="hljs-attribute">xmlns:android</span>=<span class="hljs-value">"http://schemas.android.com/apk/res/android"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-title">manifest</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">application</span> <span class="hljs-attribute">android:icon</span>=<span class="hljs-value">"@drawable/appicon"</span>
        <span class="hljs-attribute">android:label</span>=<span class="hljs-value">"iassess"</span> <span class="hljs-attribute">android:name</span>=<span class="hljs-value">"IassessApplication"</span>
        <span class="hljs-attribute">android:debuggable</span>=<span class="hljs-value">"false"</span>&gt;</span>

        <span class="hljs-comment">&lt;!-- TI_APPLICATION --&gt;</span>

        <span class="hljs-tag">&lt;<span class="hljs-title">activity</span> <span class="hljs-attribute">android:name</span>=<span class="hljs-value">".IassessActivity"</span>
            <span class="hljs-attribute">android:label</span>=<span class="hljs-value">"iassess"</span> <span class="hljs-attribute">android:theme</span>=<span class="hljs-value">"@style/Theme.Titanium"</span>
            <span class="hljs-attribute">android:configChanges</span>=<span class="hljs-value">"keyboardHidden|orientation"</span>
            <span class="hljs-attribute">android:screenOrientation</span>=<span class="hljs-value">"landscape"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">intent-filter</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">action</span> <span class="hljs-attribute">android:name</span>=<span class="hljs-value">"android.intent.action.MAIN"</span> /&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">category</span> <span class="hljs-attribute">android:name</span>=<span class="hljs-value">"android.intent.category.LAUNCHER"</span> /&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-title">intent-filter</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">activity</span>&gt;</span>

    <span class="hljs-comment">&lt;!-- plus all the rest of your app's activity nodes --&gt;</span>

    <span class="hljs-tag">&lt;/<span class="hljs-title">application</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-title">manifest</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">android</span>&gt;</span>
</code></pre><p>Notice also that I added in the <code>|orientation</code> to your configChanges attribute. Some of our older docs indicate incorrectly that you should remove that. Leaving that in will prevent Android from restarting your activity in certain cases when the orientation changes (which is most likely what you want).</p>
<p>That should work to for orientation to landscape (for whichever activities you specify – it doesn&#39;t have to be all of them).</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 22nd 2013, 4:17:55 pm">November 22nd 2013</span>
											by <span class='authorname'>Tim Poulsen</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>thanku Tim its working.</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 22nd 2013, 5:25:33 pm">November 22nd 2013</span>
											by <span class='authorname'>Aparna M</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-271659">
				
						<section>
							<p>Delete this line from the manifest:</p>
<pre><code class="hljs">&lt;sdk-<span class="hljs-property">version</span>&gt;<span class="hljs-number">3.1</span><span class="hljs-number">.3</span>.GA&lt;/sdk-<span class="hljs-property">version</span>&gt;
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="November 22nd 2013, 1:59:14 pm">November 22nd 2013</span>
								by <span class='authorname'>Manuel Lehner</span><br>
								<a class="icon-bg icon-link" href="question/159750/custom-android-manifest-file#answer-271659" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
