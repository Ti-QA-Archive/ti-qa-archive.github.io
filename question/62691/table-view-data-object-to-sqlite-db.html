<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Table view data object to sqlite db » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Table view data object to sqlite db</h1>
		</header>
		<section>
			<p>I have a tableview made up from data that is held in a data object:</p>
<pre><code class="hljs">var data = [
<span class="hljs-comment">// BEDFORDSHIRE</span>
    {<span class="hljs-string">title:</span>BushmeadPrioryParams.title, <span class="hljs-string">hasChild:</span><span class="hljs-literal">true</span>, <span class="hljs-string">test:</span>BushmeadPrioryParams, <span class="hljs-string">header:</span><span class="hljs-string">'Bedfordshire'</span>},
    {<span class="hljs-string">title:</span>DeGreyMausoleumParams.title, <span class="hljs-string">hasChild:</span><span class="hljs-literal">true</span>, <span class="hljs-string">test:</span>DeGreyMausoleumParams},
    {<span class="hljs-string">title:</span>dunstabledownsParams.title, <span class="hljs-string">hasChild:</span><span class="hljs-literal">true</span>, <span class="hljs-string">test:</span>dunstabledownsParams},
    {<span class="hljs-string">title:</span>HoughtonHouseParams.title, <span class="hljs-string">hasChild:</span><span class="hljs-literal">true</span>, <span class="hljs-string">test:</span>HoughtonHouseParams},
</code></pre><p>etc.</p>
<p>in turn this data is held in an additional js file that looks like:</p>
<pre><code class="hljs">
<span class="hljs-keyword">var</span> dunstabledownsParams = {
    latitude:<span class="hljs-number">51.859700</span>,longitude:-<span class="hljs-number">0.546390</span>,
    title:<span class="hljs-string">"Dunstable Downs"</span>,
    subtitle:<span class="hljs-string">'Bedfordshire'</span>,
    animate:<span class="hljs-keyword">true</span>,
    rightButton: Titanium.UI.iPhone.SystemButton.DISCLOSURE,
    <span class="hljs-built_in">window</span>: win3,
    latitudeDelta:<span class="hljs-number">0.04</span>, longitudeDelta:<span class="hljs-number">0.04</span>
};
<span class="hljs-keyword">var</span> dunstabledowns = Titanium.<span class="hljs-built_in">Map</span>.createAnnotation(dunstabledownsParams);
</code></pre><p>Ideally I need a way of filtering this data by distance from the users current location, say 20miles? There doesnt seem to be any information that I can find on how this can be done, or indeed if it can be achieved. </p>
<p>Alternatively is there a way to easily port this information into a sqlite database? As I have seen an good example of distance filtering using a sql query string.</p>
<p>Thank you in advance for your help!  </p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="September 19th 2010, 8:42:36 pm">September 19th 2010</span>
				by <span class='authorname'>Ian Tearle</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>data</span></li>
					
						<li><span class='tagname'>sqlite</span></li>
					
						<li><span class='tagname'>tablview</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-116401">
				
						<section>
							<p>Rather than putting all the locations into the data array, you can dynamically add rows to the table. You&#39;d read the data from your js file and determine the distance from the user to that location. If within the range, add the row to the table. You have the lat&#x2F;long of all the points and the same data for the user. </p>
<p>See http:&#x2F;&#x2F;www.movable-type.co.uk&#x2F;scripts&#x2F;latlong.html or http:&#x2F;&#x2F;www.zipcodeworld.com&#x2F;samples&#x2F;distance.js.txt for Javascript versions of the math. According to this page, http:&#x2F;&#x2F;www.gsak.net&#x2F;help&#x2F;hs23810.htm there is a built-in sqlite function to do this, too. The Google API includes a function, but I don&#39;t think it would be accessible within your app.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="September 19th 2010, 11:40:17 pm">September 19th 2010</span>
								by <span class='authorname'>Tim Poulsen</span><br>
								<a class="icon-bg icon-link" href="question/62691/table-view-data-object-to-sqlite-db#answer-116401" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
