<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Issue while showing content in Webview using html and url. » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Issue while showing content in Webview using html and url.</h1>
		</header>
		<section>
			<p>Hi people,</p>
<p>Right now I am using one webview to show data from my aplicationDatadirectory, here everything is working fine, I get content when user click next back respectively. Now what I am doing is in onload of webview I register &quot;touchevent&quot; and &quot;touchmove&quot; in webview&#39;s html like this :-</p>
<p>$.webview.evalJS(&#39;document.getElementsByTagName(&quot;body&quot;)[0].addEventListener(&quot;touchstart&quot;, function mytouch(){Ti.App.fireEvent(&quot;touch&quot;, {X:event.touches[0].pageX,Y:event.touches[0].pageY,length:event.touches.length});}, false);&#39;);<br>                $.webview.evalJS(&#39;document.getElementsByTagName(&quot;body&quot;)[0].addEventListener(&quot;touchmove&quot;, function mymove(){Ti.App.fireEvent(&quot;move&quot;, {X:event.touches[0].pageX,Y:event.touches[0].pageY,length:event.touches.length});}, false);&#39;);</p>
<p>on the basis of this I find swipe event. I get correct html in webview(I can see images). But I am unable to get touchstart and move call. I dont know what is the problem here. I set data in webview using url here.</p>
<p>Now when I set data in webview using html(I used data of my html file(given below) in one var) now I am unable to see images it just shows me one black border(empty) but here my touchstart and touchmove events are firing also my swipe is also working as expected. I am checking this functionality in iPhone.</p>
<p>Can any one find the issue what is going wrong here?<br>Thanks.</p>
<p>———-Here is one of my html example—————–<br>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;<br>&lt;!DOCTYPE html PUBLIC &quot;-&#x2F;&#x2F;W3C&#x2F;&#x2F;DTD XHTML 1.1&#x2F;&#x2F;EN&quot;<br>  &quot;http:&#x2F;&#x2F;www.w3.org&#x2F;TR&#x2F;xhtml11&#x2F;DTD&#x2F;xhtml11.dtd&quot;&gt;<br>&lt;html xmlns=&quot;http:&#x2F;&#x2F;www.w3.org&#x2F;1999&#x2F;xhtml&quot;&gt;<br>&lt;head xmlns=&quot;http:&#x2F;&#x2F;www.w3.org&#x2F;1999&#x2F;xhtml&quot;&gt;<br>&lt;meta name=&quot;generator&quot; content=&quot;HTML Tidy for Linux (vers 25 March 2009), see www.w3.org&quot; &#x2F;&gt;<br> &lt;meta name=&quot;viewport&quot; content=&quot;width=768, height=576&quot; &#x2F;&gt;<br>&lt;style type=&quot;text&#x2F;css&quot;&gt; body { width: 768px; height: 576px; margin: 0; } &lt;&#x2F;style&gt;<br>&lt;meta content=&quot;text&#x2F;html; charset=UTF-8&quot; &#x2F;&gt;<br>&lt;title&gt;Vincent Van gogh&lt;&#x2F;title&gt;<br>&lt;&#x2F;head&gt;<br>&lt;body&gt;<br>&lt;div&gt;&lt;img width=&quot;768&quot; height=&quot;576&quot; alt=&quot;&quot; src=&quot;..&#x2F;images&#x2F;page1.1.jpg&quot; &#x2F;&gt;&lt;&#x2F;div&gt;<br>&lt;&#x2F;body&gt;<br>&lt;&#x2F;html&gt;</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="April 2nd 2013, 10:19:04 am">April 2nd 2013</span>
				by <span class='authorname'>roshan jha</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>webview swipe issue</span></li>
					
				</ul>
			

			<section>
				<h5>2 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Edit :-  while using webview.html I copied image to resource folder and then check and swipe is working(That black empty border was for not getting image I think). But when I use webview.url its not working. Any suggestions?</p>
</div>
							<div class="author">
								&mdash; commented <span title="April 2nd 2013, 11:13:26 am">April 2nd 2013</span>
								by <span class='authorname'>roshan jha</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>No comments? I thought someone will answer this question. Problem is that while I use webview.html my swipe fires. But when I use webview.url swipe does not work. I am keeping same html right now.</p>
</div>
							<div class="author">
								&mdash; commented <span title="April 8th 2013, 9:01:04 am">April 8th 2013</span>
								by <span class='authorname'>roshan jha</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-260287">
				
						<section>
							<p>Hi,roshan jha</p>
<p><strong>The webview needs to handle the touchevents for the content it has inside, so you have to choose between the html events or the webview as titanium view events. You cannot have both in the same time</strong></p>
<p><a href="http:&#x2F;&#x2F;docs.appcelerator.com&#x2F;titanium&#x2F;2.1&#x2F;index.html#!&#x2F;api&#x2F;Titanium.UI.WebView">http:&#x2F;&#x2F;docs.appcelerator.com&#x2F;titanium&#x2F;2.1&#x2F;index.html#!&#x2F;api&#x2F;Titanium.UI.WebView</a></p>
<p><strong>The native web view handles scrolling and other related touch events internally. If you add event listeners for any of the standard touch events (touchstart, click, and so on), these events do not reach the native web view, and the user will not be able to scroll, zoom, click on links, and so on.</strong></p>
<p><strong>In other words, you can have either Titanium-style events against the web view instance, or internal JavaScript events in the DOM, but not both.</strong></p>
<p><strong>Thanx</strong></p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="April 8th 2013, 9:10:36 am">April 8th 2013</span>
								by <span class='authorname'>Dharmik Patel</span><br>
								<a class="icon-bg icon-link" href="question/150349/issue-while-showing-content-in-webview-using-html-and-url.html#answer-260287" rel="permalink">permalink</a>
							</div>

							<h5>13 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Hi dharmik,</p>
<p>Thanks for your reply. I have read that document and that is why I switched to manage events with DOM. In load event of webview I have this code :-</p>
<p>$.webview.evalJS(&#39;document.getElementsByTagName(&quot;body&quot;)[0].addEventListener(&quot;touchstart&quot;, function mytouch(){Ti.App.fireEvent(&quot;touch&quot;, {X:event.touches[0].pageX,Y:event.touches[0].pageY,length:event.touches.length});}, false);&#39;);<br>    $.webview.evalJS(&#39;document.getElementsByTagName(&quot;body&quot;)[0].addEventListener(&quot;touchmove&quot;, function mymove(){Ti.App.fireEvent(&quot;move&quot;, {X:event.touches[0].pageX,Y:event.touches[0].pageY,length:event.touches.length});}, false);&#39;);</p>
<p>and this code is working correctly with android, also this code is working correctly with webview.html but when I change it to webview.url events are not called this is my problem.</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 8th 2013, 9:24:15 am">April 8th 2013</span>
											by <span class='authorname'>roshan jha</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>@roshan jha : When you are write <strong>webview.url</strong> at that time swipe event is not working ?</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 8th 2013, 9:30:58 am">April 8th 2013</span>
											by <span class='authorname'>Dharmik Patel</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Yes exactly. instead of url if I write my code like webview.html thne my &quot;touch&quot; is called which I added in load listener.</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 8th 2013, 9:33:35 am">April 8th 2013</span>
											by <span class='authorname'>roshan jha</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>@roshan jha : Let me suggest you one thing.</p>
<p>just change one thing for testing <strong>Remove that swipe event</strong> and <strong>write click event .</strong></p>
<p>And check that click event is working or not.</p>
<p>i just check it .</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 8th 2013, 9:37:56 am">April 8th 2013</span>
											by <span class='authorname'>Dharmik Patel</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>@roshan jha : my <strong>swipe</strong> event is working only some time but that <strong>click event</strong> is working is perfectly in my device.</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 8th 2013, 9:39:40 am">April 8th 2013</span>
											by <span class='authorname'>Dharmik Patel</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Can you please tell me from where you register your swipe event? using DOM or webview, because if I register swipe to webview directly then its scrolling gets disabled(that is expected I think.)</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 8th 2013, 9:41:05 am">April 8th 2013</span>
											by <span class='authorname'>roshan jha</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>@roshan jha : <strong>check it on device .</strong></p>
</p>
										<div class="author">
											&mdash; commented <span title="April 8th 2013, 9:41:17 am">April 8th 2013</span>
											by <span class='authorname'>Dharmik Patel</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>No its not working on device :(</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 8th 2013, 9:43:09 am">April 8th 2013</span>
											by <span class='authorname'>roshan jha</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>@roshan jha :Can you please tell me from where you register your swipe event?</p>
<p><strong>Ans : webview</strong></p>
</p>
										<div class="author">
											&mdash; commented <span title="April 8th 2013, 9:44:36 am">April 8th 2013</span>
											by <span class='authorname'>Dharmik Patel</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Using this only swipe will work but your scrolls will be disable I have checked this. I have also put my webview to scrollview but perhaps thats not the solution for me. My question is if webview.html works then what is going wrong with webview.url?</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 8th 2013, 9:46:56 am">April 8th 2013</span>
											by <span class='authorname'>roshan jha</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>@roshan jha :</p>
<p>I hope you already refer this.</p>
<p><a href="https:&#x2F;&#x2F;jira.appcelerator.org&#x2F;browse&#x2F;TIMOB-955?page=com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel">https:&#x2F;&#x2F;jira.appcelerator.org&#x2F;browse&#x2F;TIMOB-955?page=com.atlassian.jira.plugin.system.issuetabpanels:worklog-tabpanel</a></p>
</p>
										<div class="author">
											&mdash; commented <span title="April 8th 2013, 9:56:39 am">April 8th 2013</span>
											by <span class='authorname'>Dharmik Patel</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Yes. Please try to understand what I am saying here. Have you understand my problem exactly?</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 8th 2013, 10:10:31 am">April 8th 2013</span>
											by <span class='authorname'>roshan jha</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>let me clear my point once again, while using webview.html everything goes well and my registered methods calls as expected but when I use webview.url then it never calls. This is my problem.</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 8th 2013, 11:22:20 am">April 8th 2013</span>
											by <span class='authorname'>roshan jha</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
