<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Calling function from a child view on tabgroup. How to share js code on views? » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Calling function from a child view on tabgroup. How to share js code on views?</h1>
		</header>
		<section>
			<p>I have a function that needs to be called from either tab.<br>Do I have to repeat the code in both js controllers?</p>
<p>Basically I have a MapView on Tab 2 which has a function to draw a route.<br>But on click a button from Tab 1 I also need to draw a route and change view to Tab2.</p>
<pre><code class="hljs"><span class="hljs-tag">&lt;<span class="hljs-title">Alloy</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">TabGroup</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"selView"</span> <span class="hljs-attribute">exitOnClose</span>=<span class="hljs-value">"false"</span> <span class="hljs-attribute">navBarHidden</span>=<span class="hljs-value">"true"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">Tab</span> <span class="hljs-attribute">title</span>=<span class="hljs-value">"Local List"</span> &gt;</span>
            // Call function from myMapView controller here
        <span class="hljs-tag">&lt;/<span class="hljs-title">Tab</span>&gt;</span> 
        <span class="hljs-tag">&lt;<span class="hljs-title">Tab</span> <span class="hljs-attribute">title</span>=<span class="hljs-value">"Map View"</span> <span class="hljs-attribute">icon</span>=<span class="hljs-value">"/images/map.png"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">Window</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">Require</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"view"</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"myMapView"</span> <span class="hljs-attribute">src</span>=<span class="hljs-value">"localsSearch"</span>/&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-title">Window</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">Tab</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">TabGroup</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">Alloy</span>&gt;</span>
</code></pre><pre><code class="hljs">
</code></pre><p>I came up with the idea of passing the destination by Ti.App.setString() and then somehow check it when the tab is open. The problem is that the onOpen window is also in the TabGroup controller. So how can I do this? Do i need to have the same code on both tabgroup&#39;s view controller and mapview&#39;s controller?</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="May 24th 2013, 7:15:22 am">May 24th 2013</span>
				by <span class='authorname'>João Serra</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>alloy</span></li>
					
						<li><span class='tagname'>controller</span></li>
					
						<li><span class='tagname'>tabgroup</span></li>
					
						<li><span class='tagname'>titanium</span></li>
					
						<li><span class='tagname'>view</span></li>
					
				</ul>
			

			<section>
				<h5>2 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>maybe i can do something with the include? My function adds a route to mapview if I call the same function from the tabgroup controller will it by able to find the same mapview? or do i need to create another view? if so is this method advisable?</p>
</div>
							<div class="author">
								&mdash; commented <span title="May 24th 2013, 7:23:37 am">May 24th 2013</span>
								by <span class='authorname'>João Serra</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>just realize that it might be a bad idea to use include because im calling functions in the end of the js which would duplicate the same operations</p>
</div>
							<div class="author">
								&mdash; commented <span title="May 24th 2013, 7:26:04 am">May 24th 2013</span>
								by <span class='authorname'>João Serra</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-263283">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>Just move the function into a module, or attach it to Alloy.Globals, and then reference it in any controller&#x2F;markup that you want.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="May 24th 2013, 10:11:13 am">May 24th 2013</span>
								by <span class='authorname'>Tony Lukasavage</span><br>
								<a class="icon-bg icon-link" href="question/152799/calling-function-from-a-child-view-on-tabgroup-how-to-share-js-code-on-views#answer-263283" rel="permalink">permalink</a>
							</div>

							<h5>2 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Sorry, but could you give me an example? I&#39;m new in titanium and ive been trying to use require&#x2F;include all morning.</p>
<p>I tried to put this in alloy.js</p>
<pre><code class="hljs">Alloy.Globals.testAlert = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>
</span>{
    alert(<span class="hljs-string">"Boom!"</span>);
};
</code></pre><p>and call it like this on index.js  testAlert(); (didn&#39;t work)</p>
<p>I&#39;m also not sure if i should be using<br>require(&#39;mySharedCode&#39;); on index.js or even if the path should be mySharedCode.js </p>
<p>I&#39;ve also read about putting the code inside app&#x2F;lib&#x2F;mySharedCode.js </p>
<p>but i still cannot call it by using include(&#39;mySharedCode.js&#39;); or &#39;lib&#x2F;mySharedCode.js&#39; </p>
<p>you see all my confusion ? I can&#39;t find any good examples on this.</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 24th 2013, 10:33:19 am">May 24th 2013</span>
											by <span class='authorname'>João Serra</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I was finally able to use lib<br>I wasn&#39;t aware of the need of using CommonJs syntax</p>
<p>Also the example video I&#39;ve found on TItanium api was using &#39;lib&#x2F;mySharedCode&#39; path instead just the js name without the extension.</p>
<p>http:&#x2F;&#x2F;docs.appcelerator.com&#x2F;titanium&#x2F;latest&#x2F;#!&#x2F;video&#x2F;27447911</p>
<p>index.js</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> lib = <span class="hljs-built_in">require</span>(<span class="hljs-string">'mySharedCode'</span>);
</code></pre><p>lib&#x2F;mySharedCode.js</p>
<pre><code class="hljs">exports.testAlert = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>
</span>{
    alert(<span class="hljs-string">"this is lib"</span>);    
}
</code></pre><p>thank you for your help</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 24th 2013, 10:56:46 am">May 24th 2013</span>
											by <span class='authorname'>João Serra</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
