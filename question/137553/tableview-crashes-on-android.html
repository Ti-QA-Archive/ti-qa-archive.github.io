<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>TableView crashes on Android » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>TableView crashes on Android</h1>
		</header>
		<section>
			<p>I have an app on Android which loads a bunch of product-data into a tableview.</p>
<p>I use a function AddArtikel to add every row to the tableview, when the row is pressed, a view pops up with buttons to add a number of products to a &quot;cart&quot;.</p>
<p>However, it sometimes (there seems to be NO logic in the moment!!!) crashes for an unknown reason: The app just closes and restarts! No error message whatsoever…<br>I tried it on various devices, it crashes on all of them… In the emulator, it also does, but not as often.</p>
<p>Here is my code which I use to add a product to the cart</p>
<pre><code class="hljs">AddArtikel = function(Artikel,Simple,Calc,Scr,Table,TotPrijs) {
    <span class="hljs-keyword">if</span> (Adding == <span class="hljs-number">1</span>) {
        <span class="hljs-keyword">return</span>;
    }
    Adding = <span class="hljs-number">1</span>;

    var begTime = <span class="hljs-keyword">new</span> Date().getTime();
    row = Titanium.UI.createTableViewRow({
<span class="hljs-label">        className:</span><span class="hljs-string">'ArtDataRow'</span>
    });

    <span class="hljs-keyword">if</span> (TotPrijs == <span class="hljs-number">1</span>) {
        row.height = <span class="hljs-number">35</span>;
        var totaal  = Titanium.UI.createLabel({<span class="hljs-string">text:</span><span class="hljs-string">'Totaal:'</span>,<span class="hljs-string">color:</span><span class="hljs-string">'#000000'</span>,<span class="hljs-string">font:</span>{<span class="hljs-string">fontSize:</span><span class="hljs-number">15</span>,<span class="hljs-string">fontWeight:</span><span class="hljs-string">'bold'</span>},<span class="hljs-string">width:</span><span class="hljs-string">'auto'</span>,<span class="hljs-string">textAlign:</span><span class="hljs-string">'right'</span>,<span class="hljs-string">right:</span><span class="hljs-number">80</span>,<span class="hljs-string">top:</span><span class="hljs-number">2</span>,<span class="hljs-string">height:</span><span class="hljs-number">25</span>})
        var prijs   = Titanium.UI.createLabel({<span class="hljs-string">text:</span><span class="hljs-string">'\u20AC'</span>+tPrijs.toFixed(<span class="hljs-number">2</span>),<span class="hljs-string">color:</span><span class="hljs-string">'#AA0000'</span>,<span class="hljs-string">font:</span>{<span class="hljs-string">fontSize:</span><span class="hljs-number">15</span>,<span class="hljs-string">fontWeight:</span><span class="hljs-string">'bold'</span>},<span class="hljs-string">width:</span><span class="hljs-string">'auto'</span>,<span class="hljs-string">textAlign:</span><span class="hljs-string">'left'</span>,<span class="hljs-string">top:</span><span class="hljs-number">2</span>,<span class="hljs-string">right:</span><span class="hljs-number">10</span>,<span class="hljs-string">height:</span><span class="hljs-number">25</span>})
        row.className = <span class="hljs-string">'TotDataRow'</span>;
        row.add(totaal);
        row.add(prijs);
        row.pr = prijs;
        data.push(row);
        Adding = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">return</span>;
    }

    <span class="hljs-keyword">if</span> (Simple == <span class="hljs-number">0</span>) {
        row.height = <span class="hljs-number">45</span>;
        var artikel = Titanium.UI.createLabel({<span class="hljs-string">text:</span>Articles[Artikel].omschr,<span class="hljs-string">color:</span>tColor,<span class="hljs-string">font:</span>{<span class="hljs-string">fontSize:</span><span class="hljs-number">17</span>,<span class="hljs-string">fontWeight:</span><span class="hljs-string">'bold'</span>},<span class="hljs-string">width:</span><span class="hljs-string">'85%'</span>,<span class="hljs-string">textAlign:</span><span class="hljs-string">'left'</span>,<span class="hljs-string">top:</span>-<span class="hljs-number">1</span>,<span class="hljs-string">left:</span><span class="hljs-number">5</span>,<span class="hljs-string">height:</span><span class="hljs-number">30</span>})
        <span class="hljs-keyword">if</span> (Articles[Artikel].aantal == <span class="hljs-number">0</span>) {
            var aantal  = Titanium.UI.createLabel({<span class="hljs-string">text:</span><span class="hljs-string">''</span>,<span class="hljs-string">color:</span><span class="hljs-string">'#55075B'</span>,<span class="hljs-string">font:</span>{<span class="hljs-string">fontSize:</span><span class="hljs-number">26</span>,<span class="hljs-string">fontWeight:</span><span class="hljs-string">'bold'</span>},<span class="hljs-string">width:</span><span class="hljs-number">90</span>,<span class="hljs-string">textAlign:</span><span class="hljs-string">'right'</span>,<span class="hljs-string">top:</span><span class="hljs-number">5</span>,<span class="hljs-string">right:</span><span class="hljs-number">10</span>,<span class="hljs-string">height:</span><span class="hljs-number">35</span>});
        } <span class="hljs-keyword">else</span> {        
            <span class="hljs-keyword">if</span> (Articles[Artikel].gew == <span class="hljs-number">1</span>) {
                var aantal  = Titanium.UI.createLabel({<span class="hljs-string">text:</span>Articles[Artikel].aantal.toFixed(<span class="hljs-number">0</span>)+<span class="hljs-string">'gr'</span>,<span class="hljs-string">color:</span><span class="hljs-string">'#55075B'</span>,<span class="hljs-string">font:</span>{<span class="hljs-string">fontSize:</span><span class="hljs-number">26</span>,<span class="hljs-string">fontWeight:</span><span class="hljs-string">'bold'</span>},<span class="hljs-string">width:</span><span class="hljs-number">90</span>,<span class="hljs-string">textAlign:</span><span class="hljs-string">'right'</span>,<span class="hljs-string">top:</span><span class="hljs-number">5</span>,<span class="hljs-string">right:</span><span class="hljs-number">10</span>,<span class="hljs-string">height:</span><span class="hljs-number">35</span>});
            } <span class="hljs-keyword">else</span> {
                var aantal  = Titanium.UI.createLabel({<span class="hljs-string">text:</span><span class="hljs-string">'x'</span>+Articles[Artikel].aantal.toFixed(<span class="hljs-number">0</span>),<span class="hljs-string">color:</span><span class="hljs-string">'#55075B'</span>,<span class="hljs-string">font:</span>{<span class="hljs-string">fontSize:</span><span class="hljs-number">26</span>,<span class="hljs-string">fontWeight:</span><span class="hljs-string">'bold'</span>},<span class="hljs-string">width:</span><span class="hljs-number">90</span>,<span class="hljs-string">textAlign:</span><span class="hljs-string">'right'</span>,<span class="hljs-string">top:</span><span class="hljs-number">5</span>,<span class="hljs-string">right:</span><span class="hljs-number">10</span>,<span class="hljs-string">height:</span><span class="hljs-number">35</span>});
            }        
        }
        <span class="hljs-keyword">if</span> (Login.Prices == <span class="hljs-number">1</span>) {        
            var prijs   = Titanium.UI.createLabel({<span class="hljs-string">text:</span><span class="hljs-string">'\u20AC'</span>+Articles[Artikel].prijs,<span class="hljs-string">color:</span><span class="hljs-string">'#AA0000'</span>,<span class="hljs-string">font:</span>{<span class="hljs-string">fontSize:</span><span class="hljs-number">17</span>,<span class="hljs-string">fontWeight:</span><span class="hljs-string">'bold'</span>},<span class="hljs-string">width:</span><span class="hljs-string">'auto'</span>,<span class="hljs-string">textAlign:</span><span class="hljs-string">'right'</span>,<span class="hljs-string">top:</span>-<span class="hljs-number">1</span>,<span class="hljs-string">left:</span><span class="hljs-number">350</span>,<span class="hljs-string">height:</span><span class="hljs-number">30</span>})
            <span class="hljs-keyword">if</span> (prijs.text == <span class="hljs-string">'\u20AC'</span>) {
                prijs.text = <span class="hljs-string">''</span>;
            }
        }
    } <span class="hljs-keyword">else</span> {
        row.height = <span class="hljs-number">35</span>;
        <span class="hljs-keyword">if</span> (Articles[Artikel].gew == <span class="hljs-number">1</span>) {
            var aantal = Titanium.UI.createLabel({<span class="hljs-string">text:</span>Articles[Artikel].aantal.toFixed(<span class="hljs-number">0</span>)+<span class="hljs-string">'gr'</span>,<span class="hljs-string">color:</span><span class="hljs-string">'#55075B'</span>,<span class="hljs-string">font:</span>{<span class="hljs-string">fontSize:</span><span class="hljs-number">15</span>,<span class="hljs-string">fontWeight:</span><span class="hljs-string">'bold'</span>},<span class="hljs-string">width:</span><span class="hljs-number">50</span>,<span class="hljs-string">textAlign:</span><span class="hljs-string">'right'</span>,<span class="hljs-string">top:</span><span class="hljs-number">2</span>,<span class="hljs-string">left:</span><span class="hljs-number">1</span>,<span class="hljs-string">height:</span><span class="hljs-number">25</span>});
        } <span class="hljs-keyword">else</span> {
            var aantal = Titanium.UI.createLabel({<span class="hljs-string">text:</span>Articles[Artikel].aantal.toFixed(<span class="hljs-number">0</span>)+<span class="hljs-string">'x'</span>,<span class="hljs-string">color:</span><span class="hljs-string">'#55075B'</span>,<span class="hljs-string">font:</span>{<span class="hljs-string">fontSize:</span><span class="hljs-number">15</span>,<span class="hljs-string">fontWeight:</span><span class="hljs-string">'bold'</span>},<span class="hljs-string">width:</span><span class="hljs-number">50</span>,<span class="hljs-string">textAlign:</span><span class="hljs-string">'right'</span>,<span class="hljs-string">top:</span><span class="hljs-number">2</span>,<span class="hljs-string">left:</span><span class="hljs-number">1</span>,<span class="hljs-string">height:</span><span class="hljs-number">25</span>});
        }        
        var artikel = Titanium.UI.createLabel({<span class="hljs-string">text:</span>Articles[Artikel].omschr,<span class="hljs-string">color:</span>tColor,<span class="hljs-string">font:</span>{<span class="hljs-string">fontSize:</span><span class="hljs-number">15</span>},<span class="hljs-string">width:</span><span class="hljs-string">'85%'</span>,<span class="hljs-string">textAlign:</span><span class="hljs-string">'left'</span>,<span class="hljs-string">top:</span><span class="hljs-number">2</span>,<span class="hljs-string">left:</span><span class="hljs-number">60</span>,<span class="hljs-string">height:</span><span class="hljs-number">25</span>})

        <span class="hljs-keyword">if</span> (Login.Prices == <span class="hljs-number">1</span>) {        
            <span class="hljs-keyword">if</span> (Articles[Artikel].gew == <span class="hljs-number">1</span>) {
                var mAant = Articles[Artikel].aantal / <span class="hljs-number">1000</span>; 
                Ti.API.info(<span class="hljs-string">"gew :"</span>+mAant);
            } <span class="hljs-keyword">else</span> {
                var mAant = Articles[Artikel].aantal; 
                Ti.API.info(<span class="hljs-string">"ngew:"</span>+mAant);
            }
            <span class="hljs-keyword">if</span> (Articles[Artikel].prijs != <span class="hljs-string">''</span>) {
                var pr = Articles[Artikel].prijs * mAant;
                var prd = <span class="hljs-string">'('</span>+mAant + <span class="hljs-string">'x\u20AC'</span> + Articles[Artikel].prijs + <span class="hljs-string">'=)'</span>
            } <span class="hljs-keyword">else</span> {
                var prd = <span class="hljs-string">''</span>;            
            }
            var berek   = Titanium.UI.createLabel({<span class="hljs-string">text:</span>prd,<span class="hljs-string">color:</span><span class="hljs-string">'#AA0000'</span>,<span class="hljs-string">font:</span>{<span class="hljs-string">fontSize:</span><span class="hljs-number">15</span>,<span class="hljs-string">fontWeight:</span><span class="hljs-string">'bold'</span>},<span class="hljs-string">width:</span><span class="hljs-string">'auto'</span>,<span class="hljs-string">textAlign:</span><span class="hljs-string">'right'</span>,<span class="hljs-string">top:</span><span class="hljs-number">2</span>,<span class="hljs-string">right:</span><span class="hljs-number">80</span>,<span class="hljs-string">height:</span><span class="hljs-number">25</span>})
            var prijs   = Titanium.UI.createLabel({<span class="hljs-string">text:</span><span class="hljs-string">'\u20AC'</span> + pr.toFixed(<span class="hljs-number">2</span>),<span class="hljs-string">color:</span><span class="hljs-string">'#AA0000'</span>,<span class="hljs-string">font:</span>{<span class="hljs-string">fontSize:</span><span class="hljs-number">15</span>,<span class="hljs-string">fontWeight:</span><span class="hljs-string">'bold'</span>},<span class="hljs-string">width:</span><span class="hljs-string">'auto'</span>,<span class="hljs-string">textAlign:</span><span class="hljs-string">'left'</span>,<span class="hljs-string">top:</span><span class="hljs-number">2</span>,<span class="hljs-string">right:</span><span class="hljs-number">10</span>,<span class="hljs-string">height:</span><span class="hljs-number">25</span>})
            tPrijs = tPrijs + pr;
        }
    };

    <span class="hljs-keyword">if</span> (Simple == <span class="hljs-number">0</span>) {
        var artnr    = Titanium.UI.createLabel({<span class="hljs-string">text:</span>Articles[Artikel].artnr,<span class="hljs-string">font:</span>{<span class="hljs-string">fontSize:</span><span class="hljs-number">12</span>,<span class="hljs-string">fontWeight:</span><span class="hljs-string">'bold'</span>},<span class="hljs-string">width:</span><span class="hljs-string">'auto'</span>,<span class="hljs-string">textAlign:</span><span class="hljs-string">'left'</span>,<span class="hljs-string">top:</span><span class="hljs-number">21</span>,<span class="hljs-string">left:</span><span class="hljs-number">5</span>,<span class="hljs-string">height:</span><span class="hljs-number">30</span>})
        var streepje = Titanium.UI.createLabel({<span class="hljs-string">text:</span><span class="hljs-string">'|'</span>,<span class="hljs-string">font:</span>{<span class="hljs-string">fontSize:</span><span class="hljs-number">12</span>,<span class="hljs-string">fontWeight:</span><span class="hljs-string">'bold'</span>},<span class="hljs-string">width:</span><span class="hljs-string">'auto'</span>,<span class="hljs-string">textAlign:</span><span class="hljs-string">'left'</span>,<span class="hljs-string">top:</span><span class="hljs-number">21</span>,<span class="hljs-string">left:</span><span class="hljs-number">60</span>,<span class="hljs-string">height:</span><span class="hljs-number">30</span>})
        var inh      = Titanium.UI.createLabel({<span class="hljs-string">text:</span>Articles[Artikel].inh,<span class="hljs-string">font:</span>{<span class="hljs-string">fontSize:</span><span class="hljs-number">12</span>,<span class="hljs-string">fontWeight:</span><span class="hljs-string">'bold'</span>},<span class="hljs-string">width:</span><span class="hljs-string">'auto'</span>,<span class="hljs-string">textAlign:</span><span class="hljs-string">'left'</span>,<span class="hljs-string">top:</span><span class="hljs-number">21</span>,<span class="hljs-string">left:</span><span class="hljs-number">70</span>,<span class="hljs-string">height:</span><span class="hljs-number">30</span>})
    }

    <span class="hljs-keyword">if</span> (RowCnt == <span class="hljs-number">0</span>) {
        Table.addEventListener(<span class="hljs-string">'click'</span>, function(e) {
            <span class="hljs-keyword">if</span> (aViewOpen == <span class="hljs-number">0</span>) {
                Ti.UI.Android.hideSoftKeyboard();
                var aAant   = Articles[e.row.art].aantal;
                var aGew    = Articles[e.row.art].gew;
                var aView   = Titanium.UI.createView({<span class="hljs-string">backgroundColor:</span><span class="hljs-string">'#CCCCCC'</span>,<span class="hljs-string">top:</span><span class="hljs-string">'25%'</span>,<span class="hljs-string">opacity:</span><span class="hljs-number">0.75</span>,<span class="hljs-string">borderRadius:</span><span class="hljs-number">25</span>,<span class="hljs-string">width:</span><span class="hljs-number">400</span>,<span class="hljs-string">height:</span><span class="hljs-number">300</span>,<span class="hljs-string">font:</span>{<span class="hljs-string">fontsize:</span><span class="hljs-number">10</span>}}); 
                <span class="hljs-keyword">if</span> (Articles[e.row.art].gew == <span class="hljs-number">1</span>) {
                    var cAant = Titanium.UI.createLabel({<span class="hljs-string">text:</span>Articles[e.row.art].aantal.toFixed(<span class="hljs-number">0</span>)+<span class="hljs-string">"gr"</span>,<span class="hljs-string">top:</span><span class="hljs-number">140</span>,<span class="hljs-string">font:</span>{<span class="hljs-string">fontSize:</span><span class="hljs-number">25</span>,<span class="hljs-string">fontWeight:</span><span class="hljs-string">'bold'</span>},<span class="hljs-string">color:</span>tColor,<span class="hljs-string">width:</span><span class="hljs-string">'auto'</span>,<span class="hljs-string">textAlign:</span><span class="hljs-string">'center'</span>});
                } <span class="hljs-keyword">else</span> {        
                    var cAant = Titanium.UI.createLabel({<span class="hljs-string">text:</span>Articles[e.row.art].aantal.toFixed(<span class="hljs-number">0</span>),<span class="hljs-string">top:</span><span class="hljs-number">140</span>,<span class="hljs-string">font:</span>{<span class="hljs-string">fontSize:</span><span class="hljs-number">50</span>,<span class="hljs-string">fontWeight:</span><span class="hljs-string">'bold'</span>},<span class="hljs-string">color:</span>tColor,<span class="hljs-string">width:</span><span class="hljs-string">'auto'</span>,<span class="hljs-string">textAlign:</span><span class="hljs-string">'center'</span>});
                }
                var lProd = Titanium.UI.createLabel({<span class="hljs-string">text:</span>Articles[e.row.art].omschr,<span class="hljs-string">font:</span>{<span class="hljs-string">fontSize:</span><span class="hljs-number">30</span>,<span class="hljs-string">fontWeight:</span><span class="hljs-string">'bold'</span>},<span class="hljs-string">top:</span><span class="hljs-number">5</span>,<span class="hljs-string">color:</span>tColor,<span class="hljs-string">width:</span><span class="hljs-string">'auto'</span>,<span class="hljs-string">textAlign:</span><span class="hljs-string">'center'</span>});
                var btnPlus = Titanium.UI.createImageView({<span class="hljs-string">image:</span><span class="hljs-string">"inkar.png"</span>,<span class="hljs-string">font:</span>{<span class="hljs-string">fontsize:</span><span class="hljs-number">5</span>},<span class="hljs-string">top:</span><span class="hljs-number">80</span>,<span class="hljs-string">left:</span><span class="hljs-number">5</span>,<span class="hljs-string">height:</span><span class="hljs-number">128</span>,<span class="hljs-string">width:</span><span class="hljs-number">128</span>});
                var btnMin  = Titanium.UI.createImageView({<span class="hljs-string">image:</span><span class="hljs-string">"uitkar.png"</span>,<span class="hljs-string">font:</span>{<span class="hljs-string">fontsize:</span><span class="hljs-number">5</span>},<span class="hljs-string">top:</span><span class="hljs-number">80</span>,<span class="hljs-string">right:</span><span class="hljs-number">5</span>,<span class="hljs-string">height:</span><span class="hljs-number">128</span>,<span class="hljs-string">width:</span><span class="hljs-number">128</span>});

                   <span class="hljs-keyword">if</span> (Simple == <span class="hljs-number">1</span>) {
                       var btnToev = Titanium.UI.createButton({<span class="hljs-string">title:</span><span class="hljs-string">'Aanpassen'</span>,<span class="hljs-string">font:</span>{<span class="hljs-string">fontsize:</span><span class="hljs-number">5</span>},<span class="hljs-string">bottom:</span><span class="hljs-number">10</span>,<span class="hljs-string">height:</span><span class="hljs-number">65</span>,<span class="hljs-string">left:</span><span class="hljs-number">25</span>,<span class="hljs-string">right:</span><span class="hljs-number">25</span>});
                   } <span class="hljs-keyword">else</span> {
                       var btnToev = Titanium.UI.createButton({<span class="hljs-string">title:</span><span class="hljs-string">'Toevoegen'</span>,<span class="hljs-string">font:</span>{<span class="hljs-string">fontsize:</span><span class="hljs-number">5</span>},<span class="hljs-string">bottom:</span><span class="hljs-number">10</span>,<span class="hljs-string">height:</span><span class="hljs-number">65</span>,<span class="hljs-string">left:</span><span class="hljs-number">25</span>,<span class="hljs-string">right:</span><span class="hljs-number">25</span>});
                       <span class="hljs-keyword">if</span> (aAant == <span class="hljs-number">0</span>) {
                           btnToev.title = <span class="hljs-string">"Annuleren"</span>
                       }
                   }

                btnToev.addEventListener(<span class="hljs-string">'click'</span>, function(ev) {
                    Articles[e.row.art].aantal = aAant;
                      AddOrder(Articles[e.row.art].artnr,Articles[e.row.art].aantal.toFixed(<span class="hljs-number">0</span>));
                    <span class="hljs-keyword">if</span> (OrdCount &gt; <span class="hljs-number">0</span>) {
                        SaveOrder()
                    }
                      <span class="hljs-keyword">if</span> (Simple == <span class="hljs-number">1</span> &amp;&amp; Articles[e.row.art].aantal != <span class="hljs-number">0</span>) {
                        <span class="hljs-keyword">if</span> (Login.Prices == <span class="hljs-number">1</span>) {

                            <span class="hljs-keyword">if</span> (Articles[e.row.art].gew == <span class="hljs-number">1</span>) {
                                var mAant = Articles[e.row.art].aantal / <span class="hljs-number">1000</span>; 
                            } <span class="hljs-keyword">else</span> {
                                var mAant = Articles[e.row.art].aantal; 
                            }

                            <span class="hljs-keyword">if</span> (Articles[e.row.art].prijs != <span class="hljs-string">''</span>) {
                                var pr = <span class="hljs-string">'\u20AC'</span>+ (Articles[e.row.art].prijs * mAant).toFixed(<span class="hljs-number">2</span>);
                                var prd = <span class="hljs-string">'('</span>+mAant+<span class="hljs-string">'x\u20AC'</span> + Articles[e.row.art].prijs + <span class="hljs-string">'=)'</span>
                            } <span class="hljs-keyword">else</span> {
                                var pr  = <span class="hljs-string">''</span>;
                                var prd = <span class="hljs-string">''</span>;    
                            }
                            e.row.pr.text  = pr;
                            e.row.ber.text = prd;
                            var tpr = <span class="hljs-number">0</span>;
                            <span class="hljs-keyword">for</span> (var i = <span class="hljs-number">0</span>; i &lt; (Table.data[<span class="hljs-number">0</span>].rowCount-<span class="hljs-number">1</span>); i++) {
                                tpr = tpr + parseFloat(Table.data[<span class="hljs-number">0</span>].rows[i].pr.text.replace(<span class="hljs-string">'\u20AC'</span>,<span class="hljs-string">''</span>));
                            };
                            Table.data[<span class="hljs-number">0</span>].rows[Table.data[<span class="hljs-number">0</span>].rowCount-<span class="hljs-number">1</span>].pr.text = <span class="hljs-string">'\u20AC'</span>+tpr.toFixed(<span class="hljs-number">2</span>);
                        }

                          <span class="hljs-keyword">if</span> (Articles[e.row.art].gew == <span class="hljs-number">1</span>) {
                              e.row.af.text = Articles[e.row.art].aantal.toFixed(<span class="hljs-number">0</span>)+<span class="hljs-string">"gr"</span>;                 
                          } <span class="hljs-keyword">else</span> {
                              e.row.af.text = Articles[e.row.art].aantal.toFixed(<span class="hljs-number">0</span>)+<span class="hljs-string">"x"</span>;                 
                          }        
                      } <span class="hljs-keyword">else</span> {
                        <span class="hljs-keyword">if</span> (Articles[e.row.art].aantal == <span class="hljs-number">0</span>) {
                              e.row.af.text = <span class="hljs-string">""</span>;
                        } <span class="hljs-keyword">else</span> {
                              <span class="hljs-keyword">if</span> (Articles[e.row.art].gew == <span class="hljs-number">1</span>) {
                                  e.row.af.text = Articles[e.row.art].aantal.toFixed(<span class="hljs-number">0</span>)+<span class="hljs-string">"gr"</span>;
                              } <span class="hljs-keyword">else</span> {
                                  e.row.af.text = <span class="hljs-string">"x"</span> + Articles[e.row.art].aantal.toFixed(<span class="hljs-number">0</span>);
                              }        
                            data = Table.data;
                            Table.setData(data);
                        }
                      }
                    <span class="hljs-keyword">if</span> (Simple == <span class="hljs-number">1</span> &amp;&amp; Articles[e.row.art].aantal == <span class="hljs-number">0</span>) {
                            Table.deleteRow(e.row.row);
                        data = Table.data;
                        <span class="hljs-keyword">if</span> (Table.data[<span class="hljs-number">0</span>].rowCount == <span class="hljs-number">0</span> || (Table.data[<span class="hljs-number">0</span>].rowCount == <span class="hljs-number">1</span> &amp;&amp; Login.Prices == <span class="hljs-number">1</span>)) {
                            Scr.close();
                            aViewOpen = <span class="hljs-number">0</span>;
                        } <span class="hljs-keyword">else</span> {
                            <span class="hljs-keyword">for</span> (var i = <span class="hljs-number">0</span>; i &lt; Table.data[<span class="hljs-number">0</span>].rowCount; i++) {
                                Table.data[<span class="hljs-number">0</span>].rows[i].row = i
                            };
                              Table.setData(data);
                            <span class="hljs-keyword">if</span> (Login.Prices == <span class="hljs-number">1</span>) {
                                var tpr = <span class="hljs-number">0</span>;
                                <span class="hljs-keyword">for</span> (var i = <span class="hljs-number">0</span>; i &lt; (Table.data[<span class="hljs-number">0</span>].rowCount-<span class="hljs-number">1</span>); i++) {
                                    tpr = tpr + parseFloat(Table.data[<span class="hljs-number">0</span>].rows[i].pr.text.replace(<span class="hljs-string">'\u20AC'</span>,<span class="hljs-string">''</span>));
                                };
                                Table.data[<span class="hljs-number">0</span>].rows[Table.data[<span class="hljs-number">0</span>].rowCount-<span class="hljs-number">1</span>].pr.text = <span class="hljs-string">'\u20AC'</span>+tpr.toFixed(<span class="hljs-number">2</span>);
                            }
                        }
                    } <span class="hljs-keyword">else</span> {
                        <span class="hljs-keyword">if</span> (Simple == <span class="hljs-number">0</span>) {
                             data = Table.data;
                            Table.setData(data);
                        }
                    }
                      btnToev.removeEventListener(<span class="hljs-string">'click'</span>,function(ev){});
                      btnPlus.removeEventListener(<span class="hljs-string">'click'</span>,function(ev){});
                      btnMin.removeEventListener(<span class="hljs-string">'click'</span>,function(ev){});
                    Scr.remove(aView);
                    aView = <span class="hljs-literal">null</span>;
                    aViewOpen = <span class="hljs-number">0</span>;
                });

                btnPlus.addEventListener(<span class="hljs-string">'click'</span>, function(ev) {
                    <span class="hljs-keyword">if</span> (Articles[e.row.art].gew == <span class="hljs-number">1</span>) {
                        aAant = aAant + <span class="hljs-number">100</span>;
                          cAant.text = aAant.toFixed(<span class="hljs-number">0</span>) + <span class="hljs-string">'gr'</span>;
                    } <span class="hljs-keyword">else</span> {        
                        aAant = aAant + <span class="hljs-number">1</span>;
                          cAant.text = aAant.toFixed(<span class="hljs-number">0</span>);
                    }    
                    <span class="hljs-keyword">if</span> (aAant &gt; <span class="hljs-number">0</span> &amp;&amp; btnToev.title == <span class="hljs-string">"Verwijderen"</span>) { 
                        btnToev.title = <span class="hljs-string">"Aanpassen"</span>
                    }
                    <span class="hljs-keyword">if</span> (aAant &gt; <span class="hljs-number">0</span> &amp;&amp; btnToev.title == <span class="hljs-string">"Annuleren"</span>) { 
                        btnToev.title = <span class="hljs-string">"Toevoegen"</span>
                    }
                });
                btnMin.addEventListener(<span class="hljs-string">'click'</span>, function(ev) {
                      <span class="hljs-keyword">if</span> (aAant &gt; <span class="hljs-number">0</span>) {
                        <span class="hljs-keyword">if</span> (Articles[e.row.art].gew == <span class="hljs-number">1</span>) {
                            <span class="hljs-keyword">if</span> (aAant &lt; <span class="hljs-number">100</span>) {
                                aAant = <span class="hljs-number">0</span>;
                            } <span class="hljs-keyword">else</span> {
                                aAant = aAant - <span class="hljs-number">100</span>;
                            }
                              cAant.text = aAant.toFixed(<span class="hljs-number">0</span>) + <span class="hljs-string">'gr'</span>;
                        } <span class="hljs-keyword">else</span> {        
                            aAant = aAant - <span class="hljs-number">1</span>;
                              cAant.text = aAant.toFixed(<span class="hljs-number">0</span>);
                        }    
                        <span class="hljs-keyword">if</span> (aAant == <span class="hljs-number">0</span> &amp;&amp; Simple == <span class="hljs-number">1</span>) { 
                            btnToev.title = <span class="hljs-string">"Verwijderen"</span>
                        }
                        <span class="hljs-keyword">if</span> (aAant == <span class="hljs-number">0</span> &amp;&amp; Simple == <span class="hljs-number">0</span>) { 
                            btnToev.title = <span class="hljs-string">"Annuleren"</span>
                        }
                      };
                });
                aView.add(lProd);
                aView.add(cAant);
                aView.add(btnPlus);
                aView.add(btnMin);
                aView.add(btnToev);
                Scr.add(aView);
                aViewOpen = <span class="hljs-number">1</span>;
            }
        });
    }

    row.add(artikel);
    row.add(aantal);

     row.art = Artikel;
     row.af  = aantal;
     row.row = RowCnt;

    <span class="hljs-keyword">if</span> (Simple == <span class="hljs-number">0</span>) {
        row.add(artnr);
        row.add(streepje);
        row.add(inh);
        <span class="hljs-keyword">if</span> (Login.Prices == <span class="hljs-number">1</span>) {
            row.add(prijs);
            row.pr = prijs;
        }
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">if</span> (Login.Prices == <span class="hljs-number">1</span>) {
            row.add(berek);
            row.add(prijs);
            row.pr  = prijs;
            row.ber = berek;
        }
    }
    data.push(row);
    RowCnt = RowCnt + <span class="hljs-number">1</span>;

    Adding = <span class="hljs-number">0</span>;
}
</code></pre><p>Does anyone have a clue where it could go wrong? (Sorry for Dutch names LOL)</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="May 29th 2012, 9:25:24 am">May 29th 2012</span>
				by <span class='authorname'>Joost Anbeek</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>crash</span></li>
					
						<li><span class='tagname'>tableview</span></li>
					
						<li><span class='tagname'>tableviewrow</span></li>
					
				</ul>
			

			<section>
				<h5>3 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>looks like your code didn&#39;t come through.</p>
<p>When you say no error message, have you check in DDMS?</p>
</div>
							<div class="author">
								&mdash; commented <span title="May 29th 2012, 9:33:22 am">May 29th 2012</span>
								by <span class='authorname'>Stephen Feather</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Yes Stephen is right please disable fast development, some time it crash on simulator not in device and still there is a problem persist then please check it in DDMS so you got exact error.</p>
</div>
							<div class="author">
								&mdash; commented <span title="May 29th 2012, 9:40:33 am">May 29th 2012</span>
								by <span class='authorname'>Gaurang Chhatbar</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>The problem is that it hardly ever crashes in simulator :(</p>
</div>
							<div class="author">
								&mdash; commented <span title="May 29th 2012, 9:46:50 am">May 29th 2012</span>
								by <span class='authorname'>Joost Anbeek</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-239587">
				
						<section>
							<p>Hi Joost,</p>
<p>I think you need to set fastDev false in you tiapp.xml file.</p>
<pre><code class="hljs">&lt;<span class="hljs-keyword">property</span> <span class="hljs-property">name</span>=<span class="hljs-string">"ti.android.fastdev"</span> type=<span class="hljs-string">"bool"</span>&gt;<span class="hljs-constant">false</span>&lt;/<span class="hljs-keyword">property</span>&gt;
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="May 29th 2012, 9:34:24 am">May 29th 2012</span>
								by <span class='authorname'>Nitin Chavda</span><br>
								<a class="icon-bg icon-link" href="question/137553/tableview-crashes-on-android#answer-239587" rel="permalink">permalink</a>
							</div>

							<h5>2 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Does that work for all versions of titanium?</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 29th 2012, 9:43:42 am">May 29th 2012</span>
											by <span class='authorname'>Joost Anbeek</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>It&#39;s only for android not for IOS or any other.</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 29th 2012, 9:44:49 am">May 29th 2012</span>
											by <span class='authorname'>Nitin Chavda</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-239588">
				
						<section>
							<p>My bad, didn&#39;t paste the code properly..!</p>
<p>AddArtikel = function(Artikel,Simple,Calc,Scr,Table,TotPrijs) {<br>    if (Adding == 1) {<br>        return;<br>    }<br>    Adding = 1;</p>
<p>&#x2F;&#x2F; Voeg een artikel (row) toe aan een TableView<br>&#x2F;&#x2F; NB Simple=1 toont geen uitebreide info<br>&#x2F;&#x2F;    Calc=1   toont berekende prijzen<br>&#x2F;&#x2F;    Scr=     aanroepend scherm<br>&#x2F;&#x2F;    Table=   tabel waaraan artikelen worden toegevoegd<br>&#x2F;&#x2F;    &#x2F;&#x2F;debugFile.write(debugFile.read()+&#39;&gt; AddArtikel START\n&#39;);<br>    var begTime = new Date().getTime();<br>    row = Titanium.UI.createTableViewRow({<br>        className:&#39;ArtDataRow&#39;<br>    });<br>    &#x2F;&#x2F;debugFile.write(debugFile.read()+&#39; ROW created\n&#39;);</p>
<pre><code class="hljs"><span class="hljs-keyword">if</span> (TotPrijs == <span class="hljs-number">1</span>) {
    row.height = <span class="hljs-number">35</span>;
    var totaal  = Titanium.UI.createLabel({<span class="hljs-string">text:</span><span class="hljs-string">'Totaal:'</span>,<span class="hljs-string">color:</span><span class="hljs-string">'#000000'</span>,<span class="hljs-string">font:</span>{<span class="hljs-string">fontSize:</span><span class="hljs-number">15</span>,<span class="hljs-string">fontWeight:</span><span class="hljs-string">'bold'</span>},<span class="hljs-string">width:</span><span class="hljs-string">'auto'</span>,<span class="hljs-string">textAlign:</span><span class="hljs-string">'right'</span>,<span class="hljs-string">right:</span><span class="hljs-number">80</span>,<span class="hljs-string">top:</span><span class="hljs-number">2</span>,<span class="hljs-string">height:</span><span class="hljs-number">25</span>})
    var prijs   = Titanium.UI.createLabel({<span class="hljs-string">text:</span><span class="hljs-string">'\u20AC'</span>+tPrijs.toFixed(<span class="hljs-number">2</span>),<span class="hljs-string">color:</span><span class="hljs-string">'#AA0000'</span>,<span class="hljs-string">font:</span>{<span class="hljs-string">fontSize:</span><span class="hljs-number">15</span>,<span class="hljs-string">fontWeight:</span><span class="hljs-string">'bold'</span>},<span class="hljs-string">width:</span><span class="hljs-string">'auto'</span>,<span class="hljs-string">textAlign:</span><span class="hljs-string">'left'</span>,<span class="hljs-string">top:</span><span class="hljs-number">2</span>,<span class="hljs-string">right:</span><span class="hljs-number">10</span>,<span class="hljs-string">height:</span><span class="hljs-number">25</span>})
    row.className = <span class="hljs-string">'TotDataRow'</span>;
    row.add(totaal);
    row.add(prijs);
    row.pr = prijs;
    data.push(row);
    Adding = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">return</span>;
}

<span class="hljs-keyword">if</span> (Simple == <span class="hljs-number">0</span>) {
    row.height = <span class="hljs-number">45</span>;
    var artikel = Titanium.UI.createLabel({<span class="hljs-string">text:</span>Articles[Artikel].omschr,<span class="hljs-string">color:</span>tColor,<span class="hljs-string">font:</span>{<span class="hljs-string">fontSize:</span><span class="hljs-number">17</span>,<span class="hljs-string">fontWeight:</span><span class="hljs-string">'bold'</span>},<span class="hljs-string">width:</span><span class="hljs-string">'85%'</span>,<span class="hljs-string">textAlign:</span><span class="hljs-string">'left'</span>,<span class="hljs-string">top:</span>-<span class="hljs-number">1</span>,<span class="hljs-string">left:</span><span class="hljs-number">5</span>,<span class="hljs-string">height:</span><span class="hljs-number">30</span>})
    <span class="hljs-comment">//debugFile.write(debugFile.read()+' artikel created\n');</span>
    <span class="hljs-keyword">if</span> (Articles[Artikel].aantal == <span class="hljs-number">0</span>) {
        var aantal  = Titanium.UI.createLabel({<span class="hljs-string">text:</span><span class="hljs-string">''</span>,<span class="hljs-string">color:</span><span class="hljs-string">'#55075B'</span>,<span class="hljs-string">font:</span>{<span class="hljs-string">fontSize:</span><span class="hljs-number">26</span>,<span class="hljs-string">fontWeight:</span><span class="hljs-string">'bold'</span>},<span class="hljs-string">width:</span><span class="hljs-number">90</span>,<span class="hljs-string">textAlign:</span><span class="hljs-string">'right'</span>,<span class="hljs-string">top:</span><span class="hljs-number">5</span>,<span class="hljs-string">right:</span><span class="hljs-number">10</span>,<span class="hljs-string">height:</span><span class="hljs-number">35</span>});
    } <span class="hljs-keyword">else</span> {        
        <span class="hljs-keyword">if</span> (Articles[Artikel].gew == <span class="hljs-number">1</span>) {
            var aantal  = Titanium.UI.createLabel({<span class="hljs-string">text:</span>Articles[Artikel].aantal.toFixed(<span class="hljs-number">0</span>)+<span class="hljs-string">'gr'</span>,<span class="hljs-string">color:</span><span class="hljs-string">'#55075B'</span>,<span class="hljs-string">font:</span>{<span class="hljs-string">fontSize:</span><span class="hljs-number">26</span>,<span class="hljs-string">fontWeight:</span><span class="hljs-string">'bold'</span>},<span class="hljs-string">width:</span><span class="hljs-number">90</span>,<span class="hljs-string">textAlign:</span><span class="hljs-string">'right'</span>,<span class="hljs-string">top:</span><span class="hljs-number">5</span>,<span class="hljs-string">right:</span><span class="hljs-number">10</span>,<span class="hljs-string">height:</span><span class="hljs-number">35</span>});
        } <span class="hljs-keyword">else</span> {
            var aantal  = Titanium.UI.createLabel({<span class="hljs-string">text:</span><span class="hljs-string">'x'</span>+Articles[Artikel].aantal.toFixed(<span class="hljs-number">0</span>),<span class="hljs-string">color:</span><span class="hljs-string">'#55075B'</span>,<span class="hljs-string">font:</span>{<span class="hljs-string">fontSize:</span><span class="hljs-number">26</span>,<span class="hljs-string">fontWeight:</span><span class="hljs-string">'bold'</span>},<span class="hljs-string">width:</span><span class="hljs-number">90</span>,<span class="hljs-string">textAlign:</span><span class="hljs-string">'right'</span>,<span class="hljs-string">top:</span><span class="hljs-number">5</span>,<span class="hljs-string">right:</span><span class="hljs-number">10</span>,<span class="hljs-string">height:</span><span class="hljs-number">35</span>});
        }        
    }
    <span class="hljs-comment">//debugFile.write(debugFile.read()+' aantal created\n');</span>
    <span class="hljs-keyword">if</span> (Login.Prices == <span class="hljs-number">1</span>) {        
        var prijs   = Titanium.UI.createLabel({<span class="hljs-string">text:</span><span class="hljs-string">'\u20AC'</span>+Articles[Artikel].prijs,<span class="hljs-string">color:</span><span class="hljs-string">'#AA0000'</span>,<span class="hljs-string">font:</span>{<span class="hljs-string">fontSize:</span><span class="hljs-number">17</span>,<span class="hljs-string">fontWeight:</span><span class="hljs-string">'bold'</span>},<span class="hljs-string">width:</span><span class="hljs-string">'auto'</span>,<span class="hljs-string">textAlign:</span><span class="hljs-string">'right'</span>,<span class="hljs-string">top:</span>-<span class="hljs-number">1</span>,<span class="hljs-string">left:</span><span class="hljs-number">350</span>,<span class="hljs-string">height:</span><span class="hljs-number">30</span>})
        <span class="hljs-comment">//debugFile.write(debugFile.read()+' prijs created\n');</span>
        <span class="hljs-keyword">if</span> (prijs.text == <span class="hljs-string">'\u20AC'</span>) {
            prijs.text = <span class="hljs-string">''</span>;
        }
    }
} <span class="hljs-keyword">else</span> {
    row.height = <span class="hljs-number">35</span>;
    <span class="hljs-keyword">if</span> (Articles[Artikel].gew == <span class="hljs-number">1</span>) {
        var aantal = Titanium.UI.createLabel({<span class="hljs-string">text:</span>Articles[Artikel].aantal.toFixed(<span class="hljs-number">0</span>)+<span class="hljs-string">'gr'</span>,<span class="hljs-string">color:</span><span class="hljs-string">'#55075B'</span>,<span class="hljs-string">font:</span>{<span class="hljs-string">fontSize:</span><span class="hljs-number">15</span>,<span class="hljs-string">fontWeight:</span><span class="hljs-string">'bold'</span>},<span class="hljs-string">width:</span><span class="hljs-number">50</span>,<span class="hljs-string">textAlign:</span><span class="hljs-string">'right'</span>,<span class="hljs-string">top:</span><span class="hljs-number">2</span>,<span class="hljs-string">left:</span><span class="hljs-number">1</span>,<span class="hljs-string">height:</span><span class="hljs-number">25</span>});
    } <span class="hljs-keyword">else</span> {
        var aantal = Titanium.UI.createLabel({<span class="hljs-string">text:</span>Articles[Artikel].aantal.toFixed(<span class="hljs-number">0</span>)+<span class="hljs-string">'x'</span>,<span class="hljs-string">color:</span><span class="hljs-string">'#55075B'</span>,<span class="hljs-string">font:</span>{<span class="hljs-string">fontSize:</span><span class="hljs-number">15</span>,<span class="hljs-string">fontWeight:</span><span class="hljs-string">'bold'</span>},<span class="hljs-string">width:</span><span class="hljs-number">50</span>,<span class="hljs-string">textAlign:</span><span class="hljs-string">'right'</span>,<span class="hljs-string">top:</span><span class="hljs-number">2</span>,<span class="hljs-string">left:</span><span class="hljs-number">1</span>,<span class="hljs-string">height:</span><span class="hljs-number">25</span>});
    }        
    <span class="hljs-comment">//debugFile.write(debugFile.read()+' aantal created\n');</span>
    var artikel = Titanium.UI.createLabel({<span class="hljs-string">text:</span>Articles[Artikel].omschr,<span class="hljs-string">color:</span>tColor,<span class="hljs-string">font:</span>{<span class="hljs-string">fontSize:</span><span class="hljs-number">15</span>},<span class="hljs-string">width:</span><span class="hljs-string">'85%'</span>,<span class="hljs-string">textAlign:</span><span class="hljs-string">'left'</span>,<span class="hljs-string">top:</span><span class="hljs-number">2</span>,<span class="hljs-string">left:</span><span class="hljs-number">60</span>,<span class="hljs-string">height:</span><span class="hljs-number">25</span>})
    <span class="hljs-comment">//debugFile.write(debugFile.read()+' artikel created\n');</span>

    <span class="hljs-keyword">if</span> (Login.Prices == <span class="hljs-number">1</span>) {        
        <span class="hljs-keyword">if</span> (Articles[Artikel].gew == <span class="hljs-number">1</span>) {
            var mAant = Articles[Artikel].aantal / <span class="hljs-number">1000</span>; 
            Ti.API.info(<span class="hljs-string">"gew :"</span>+mAant);
        } <span class="hljs-keyword">else</span> {
            var mAant = Articles[Artikel].aantal; 
            Ti.API.info(<span class="hljs-string">"ngew:"</span>+mAant);
        }
        <span class="hljs-keyword">if</span> (Articles[Artikel].prijs != <span class="hljs-string">''</span>) {
            var pr = Articles[Artikel].prijs * mAant;
            var prd = <span class="hljs-string">'('</span>+mAant + <span class="hljs-string">'x\u20AC'</span> + Articles[Artikel].prijs + <span class="hljs-string">'=)'</span>
        } <span class="hljs-keyword">else</span> {
            var prd = <span class="hljs-string">''</span>;            
        }
        var berek   = Titanium.UI.createLabel({<span class="hljs-string">text:</span>prd,<span class="hljs-string">color:</span><span class="hljs-string">'#AA0000'</span>,<span class="hljs-string">font:</span>{<span class="hljs-string">fontSize:</span><span class="hljs-number">15</span>,<span class="hljs-string">fontWeight:</span><span class="hljs-string">'bold'</span>},<span class="hljs-string">width:</span><span class="hljs-string">'auto'</span>,<span class="hljs-string">textAlign:</span><span class="hljs-string">'right'</span>,<span class="hljs-string">top:</span><span class="hljs-number">2</span>,<span class="hljs-string">right:</span><span class="hljs-number">80</span>,<span class="hljs-string">height:</span><span class="hljs-number">25</span>})
        <span class="hljs-comment">//debugFile.write(debugFile.read()+' berek created\n');</span>
        var prijs   = Titanium.UI.createLabel({<span class="hljs-string">text:</span><span class="hljs-string">'\u20AC'</span> + pr.toFixed(<span class="hljs-number">2</span>),<span class="hljs-string">color:</span><span class="hljs-string">'#AA0000'</span>,<span class="hljs-string">font:</span>{<span class="hljs-string">fontSize:</span><span class="hljs-number">15</span>,<span class="hljs-string">fontWeight:</span><span class="hljs-string">'bold'</span>},<span class="hljs-string">width:</span><span class="hljs-string">'auto'</span>,<span class="hljs-string">textAlign:</span><span class="hljs-string">'left'</span>,<span class="hljs-string">top:</span><span class="hljs-number">2</span>,<span class="hljs-string">right:</span><span class="hljs-number">10</span>,<span class="hljs-string">height:</span><span class="hljs-number">25</span>})
        <span class="hljs-comment">//debugFile.write(debugFile.read()+' prijs created\n');</span>
        tPrijs = tPrijs + pr;
    }
};

<span class="hljs-keyword">if</span> (Simple == <span class="hljs-number">0</span>) {
    var artnr    = Titanium.UI.createLabel({<span class="hljs-string">text:</span>Articles[Artikel].artnr,<span class="hljs-string">font:</span>{<span class="hljs-string">fontSize:</span><span class="hljs-number">12</span>,<span class="hljs-string">fontWeight:</span><span class="hljs-string">'bold'</span>},<span class="hljs-string">width:</span><span class="hljs-string">'auto'</span>,<span class="hljs-string">textAlign:</span><span class="hljs-string">'left'</span>,<span class="hljs-string">top:</span><span class="hljs-number">21</span>,<span class="hljs-string">left:</span><span class="hljs-number">5</span>,<span class="hljs-string">height:</span><span class="hljs-number">30</span>})
    <span class="hljs-comment">//debugFile.write(debugFile.read()+' artnr created\n');</span>
    var streepje = Titanium.UI.createLabel({<span class="hljs-string">text:</span><span class="hljs-string">'|'</span>,<span class="hljs-string">font:</span>{<span class="hljs-string">fontSize:</span><span class="hljs-number">12</span>,<span class="hljs-string">fontWeight:</span><span class="hljs-string">'bold'</span>},<span class="hljs-string">width:</span><span class="hljs-string">'auto'</span>,<span class="hljs-string">textAlign:</span><span class="hljs-string">'left'</span>,<span class="hljs-string">top:</span><span class="hljs-number">21</span>,<span class="hljs-string">left:</span><span class="hljs-number">60</span>,<span class="hljs-string">height:</span><span class="hljs-number">30</span>})
    <span class="hljs-comment">//debugFile.write(debugFile.read()+' streepje created\n');</span>
    var inh      = Titanium.UI.createLabel({<span class="hljs-string">text:</span>Articles[Artikel].inh,<span class="hljs-string">font:</span>{<span class="hljs-string">fontSize:</span><span class="hljs-number">12</span>,<span class="hljs-string">fontWeight:</span><span class="hljs-string">'bold'</span>},<span class="hljs-string">width:</span><span class="hljs-string">'auto'</span>,<span class="hljs-string">textAlign:</span><span class="hljs-string">'left'</span>,<span class="hljs-string">top:</span><span class="hljs-number">21</span>,<span class="hljs-string">left:</span><span class="hljs-number">70</span>,<span class="hljs-string">height:</span><span class="hljs-number">30</span>})
    <span class="hljs-comment">//debugFile.write(debugFile.read()+' inh created\n');</span>
}

<span class="hljs-keyword">if</span> (RowCnt == <span class="hljs-number">0</span>) {
    Table.addEventListener(<span class="hljs-string">'click'</span>, function(e) {
        <span class="hljs-keyword">if</span> (aViewOpen == <span class="hljs-number">0</span>) {
            Ti.UI.Android.hideSoftKeyboard();
            var aAant   = Articles[e.row.art].aantal;
            var aGew    = Articles[e.row.art].gew;
            var aView   = Titanium.UI.createView({<span class="hljs-string">backgroundColor:</span><span class="hljs-string">'#CCCCCC'</span>,<span class="hljs-string">top:</span><span class="hljs-string">'25%'</span>,<span class="hljs-string">opacity:</span><span class="hljs-number">0.75</span>,<span class="hljs-string">borderRadius:</span><span class="hljs-number">25</span>,<span class="hljs-string">width:</span><span class="hljs-number">400</span>,<span class="hljs-string">height:</span><span class="hljs-number">300</span>,<span class="hljs-string">font:</span>{<span class="hljs-string">fontsize:</span><span class="hljs-number">10</span>}}); 
            <span class="hljs-comment">//debugFile.write(debugFile.read()+' aView created\n');</span>
            <span class="hljs-keyword">if</span> (Articles[e.row.art].gew == <span class="hljs-number">1</span>) {
                var cAant = Titanium.UI.createLabel({<span class="hljs-string">text:</span>Articles[e.row.art].aantal.toFixed(<span class="hljs-number">0</span>)+<span class="hljs-string">"gr"</span>,<span class="hljs-string">top:</span><span class="hljs-number">140</span>,<span class="hljs-string">font:</span>{<span class="hljs-string">fontSize:</span><span class="hljs-number">25</span>,<span class="hljs-string">fontWeight:</span><span class="hljs-string">'bold'</span>},<span class="hljs-string">color:</span>tColor,<span class="hljs-string">width:</span><span class="hljs-string">'auto'</span>,<span class="hljs-string">textAlign:</span><span class="hljs-string">'center'</span>});
            } <span class="hljs-keyword">else</span> {        
                var cAant = Titanium.UI.createLabel({<span class="hljs-string">text:</span>Articles[e.row.art].aantal.toFixed(<span class="hljs-number">0</span>),<span class="hljs-string">top:</span><span class="hljs-number">140</span>,<span class="hljs-string">font:</span>{<span class="hljs-string">fontSize:</span><span class="hljs-number">50</span>,<span class="hljs-string">fontWeight:</span><span class="hljs-string">'bold'</span>},<span class="hljs-string">color:</span>tColor,<span class="hljs-string">width:</span><span class="hljs-string">'auto'</span>,<span class="hljs-string">textAlign:</span><span class="hljs-string">'center'</span>});
            }
            <span class="hljs-comment">//debugFile.write(debugFile.read()+' cAant created\n');</span>
            var lProd = Titanium.UI.createLabel({<span class="hljs-string">text:</span>Articles[e.row.art].omschr,<span class="hljs-string">font:</span>{<span class="hljs-string">fontSize:</span><span class="hljs-number">30</span>,<span class="hljs-string">fontWeight:</span><span class="hljs-string">'bold'</span>},<span class="hljs-string">top:</span><span class="hljs-number">5</span>,<span class="hljs-string">color:</span>tColor,<span class="hljs-string">width:</span><span class="hljs-string">'auto'</span>,<span class="hljs-string">textAlign:</span><span class="hljs-string">'center'</span>});
            <span class="hljs-comment">//debugFile.write(debugFile.read()+' lProd created\n');</span>
            var btnPlus = Titanium.UI.createImageView({<span class="hljs-string">image:</span><span class="hljs-string">"inkar.png"</span>,<span class="hljs-string">font:</span>{<span class="hljs-string">fontsize:</span><span class="hljs-number">5</span>},<span class="hljs-string">top:</span><span class="hljs-number">80</span>,<span class="hljs-string">left:</span><span class="hljs-number">5</span>,<span class="hljs-string">height:</span><span class="hljs-number">128</span>,<span class="hljs-string">width:</span><span class="hljs-number">128</span>});
            <span class="hljs-comment">//debugFile.write(debugFile.read()+' btnPlus created\n');</span>
            var btnMin  = Titanium.UI.createImageView({<span class="hljs-string">image:</span><span class="hljs-string">"uitkar.png"</span>,<span class="hljs-string">font:</span>{<span class="hljs-string">fontsize:</span><span class="hljs-number">5</span>},<span class="hljs-string">top:</span><span class="hljs-number">80</span>,<span class="hljs-string">right:</span><span class="hljs-number">5</span>,<span class="hljs-string">height:</span><span class="hljs-number">128</span>,<span class="hljs-string">width:</span><span class="hljs-number">128</span>});
            <span class="hljs-comment">//debugFile.write(debugFile.read()+' btnMin created\n');</span>

               <span class="hljs-keyword">if</span> (Simple == <span class="hljs-number">1</span>) {
                   var btnToev = Titanium.UI.createButton({<span class="hljs-string">title:</span><span class="hljs-string">'Aanpassen'</span>,<span class="hljs-string">font:</span>{<span class="hljs-string">fontsize:</span><span class="hljs-number">5</span>},<span class="hljs-string">bottom:</span><span class="hljs-number">10</span>,<span class="hljs-string">height:</span><span class="hljs-number">65</span>,<span class="hljs-string">left:</span><span class="hljs-number">25</span>,<span class="hljs-string">right:</span><span class="hljs-number">25</span>});
               } <span class="hljs-keyword">else</span> {
                   var btnToev = Titanium.UI.createButton({<span class="hljs-string">title:</span><span class="hljs-string">'Toevoegen'</span>,<span class="hljs-string">font:</span>{<span class="hljs-string">fontsize:</span><span class="hljs-number">5</span>},<span class="hljs-string">bottom:</span><span class="hljs-number">10</span>,<span class="hljs-string">height:</span><span class="hljs-number">65</span>,<span class="hljs-string">left:</span><span class="hljs-number">25</span>,<span class="hljs-string">right:</span><span class="hljs-number">25</span>});
                   <span class="hljs-keyword">if</span> (aAant == <span class="hljs-number">0</span>) {
                       btnToev.title = <span class="hljs-string">"Annuleren"</span>
                   }
               }
            <span class="hljs-comment">//debugFile.write(debugFile.read()+' btnToev button created\n');</span>

            btnToev.addEventListener(<span class="hljs-string">'click'</span>, function(ev) {
                Articles[e.row.art].aantal = aAant;
                  AddOrder(Articles[e.row.art].artnr,Articles[e.row.art].aantal.toFixed(<span class="hljs-number">0</span>));
                <span class="hljs-keyword">if</span> (OrdCount &gt; <span class="hljs-number">0</span>) {
                    SaveOrder()
                }
                  <span class="hljs-keyword">if</span> (Simple == <span class="hljs-number">1</span> &amp;&amp; Articles[e.row.art].aantal != <span class="hljs-number">0</span>) {
                    <span class="hljs-keyword">if</span> (Login.Prices == <span class="hljs-number">1</span>) {

                        <span class="hljs-keyword">if</span> (Articles[e.row.art].gew == <span class="hljs-number">1</span>) {
                            var mAant = Articles[e.row.art].aantal / <span class="hljs-number">1000</span>; 
                        } <span class="hljs-keyword">else</span> {
                            var mAant = Articles[e.row.art].aantal; 
                        }

                        <span class="hljs-keyword">if</span> (Articles[e.row.art].prijs != <span class="hljs-string">''</span>) {
                            var pr = <span class="hljs-string">'\u20AC'</span>+ (Articles[e.row.art].prijs * mAant).toFixed(<span class="hljs-number">2</span>);
                            var prd = <span class="hljs-string">'('</span>+mAant+<span class="hljs-string">'x\u20AC'</span> + Articles[e.row.art].prijs + <span class="hljs-string">'=)'</span>
                        } <span class="hljs-keyword">else</span> {
                            var pr  = <span class="hljs-string">''</span>;
                            var prd = <span class="hljs-string">''</span>;    
                        }
                        e.row.pr.text  = pr;
                        e.row.ber.text = prd;
                        var tpr = <span class="hljs-number">0</span>;
                        <span class="hljs-keyword">for</span> (var i = <span class="hljs-number">0</span>; i &lt; (Table.data[<span class="hljs-number">0</span>].rowCount-<span class="hljs-number">1</span>); i++) {
                            tpr = tpr + parseFloat(Table.data[<span class="hljs-number">0</span>].rows[i].pr.text.replace(<span class="hljs-string">'\u20AC'</span>,<span class="hljs-string">''</span>));
                        };
                        Table.data[<span class="hljs-number">0</span>].rows[Table.data[<span class="hljs-number">0</span>].rowCount-<span class="hljs-number">1</span>].pr.text = <span class="hljs-string">'\u20AC'</span>+tpr.toFixed(<span class="hljs-number">2</span>);
                    }

                      <span class="hljs-keyword">if</span> (Articles[e.row.art].gew == <span class="hljs-number">1</span>) {
                          e.row.af.text = Articles[e.row.art].aantal.toFixed(<span class="hljs-number">0</span>)+<span class="hljs-string">"gr"</span>;                 
                      } <span class="hljs-keyword">else</span> {
                          e.row.af.text = Articles[e.row.art].aantal.toFixed(<span class="hljs-number">0</span>)+<span class="hljs-string">"x"</span>;                 
                      }        
                  } <span class="hljs-keyword">else</span> {
                    <span class="hljs-keyword">if</span> (Articles[e.row.art].aantal == <span class="hljs-number">0</span>) {
                          e.row.af.text = <span class="hljs-string">""</span>;
                    } <span class="hljs-keyword">else</span> {
                          <span class="hljs-keyword">if</span> (Articles[e.row.art].gew == <span class="hljs-number">1</span>) {
                              e.row.af.text = Articles[e.row.art].aantal.toFixed(<span class="hljs-number">0</span>)+<span class="hljs-string">"gr"</span>;
                          } <span class="hljs-keyword">else</span> {
                              e.row.af.text = <span class="hljs-string">"x"</span> + Articles[e.row.art].aantal.toFixed(<span class="hljs-number">0</span>);
                          }        
                        data = Table.data;
                        Table.setData(data);
                    }
                  }
                <span class="hljs-keyword">if</span> (Simple == <span class="hljs-number">1</span> &amp;&amp; Articles[e.row.art].aantal == <span class="hljs-number">0</span>) {
                        Table.deleteRow(e.row.row);
                    data = Table.data;
                    <span class="hljs-keyword">if</span> (Table.data[<span class="hljs-number">0</span>].rowCount == <span class="hljs-number">0</span> || (Table.data[<span class="hljs-number">0</span>].rowCount == <span class="hljs-number">1</span> &amp;&amp; Login.Prices == <span class="hljs-number">1</span>)) {
                        Scr.close();
                        aViewOpen = <span class="hljs-number">0</span>;
                    } <span class="hljs-keyword">else</span> {
                        <span class="hljs-keyword">for</span> (var i = <span class="hljs-number">0</span>; i &lt; Table.data[<span class="hljs-number">0</span>].rowCount; i++) {
                            Table.data[<span class="hljs-number">0</span>].rows[i].row = i
                        };
                          Table.setData(data);
                        <span class="hljs-keyword">if</span> (Login.Prices == <span class="hljs-number">1</span>) {
                            var tpr = <span class="hljs-number">0</span>;
                            <span class="hljs-keyword">for</span> (var i = <span class="hljs-number">0</span>; i &lt; (Table.data[<span class="hljs-number">0</span>].rowCount-<span class="hljs-number">1</span>); i++) {
                                tpr = tpr + parseFloat(Table.data[<span class="hljs-number">0</span>].rows[i].pr.text.replace(<span class="hljs-string">'\u20AC'</span>,<span class="hljs-string">''</span>));
                            };
                            Table.data[<span class="hljs-number">0</span>].rows[Table.data[<span class="hljs-number">0</span>].rowCount-<span class="hljs-number">1</span>].pr.text = <span class="hljs-string">'\u20AC'</span>+tpr.toFixed(<span class="hljs-number">2</span>);
                        }
                    }
                } <span class="hljs-keyword">else</span> {
                    <span class="hljs-keyword">if</span> (Simple == <span class="hljs-number">0</span>) {
                         data = Table.data;
                        Table.setData(data);
                    }
                }
                  btnToev.removeEventListener(<span class="hljs-string">'click'</span>,function(ev){});
                  btnPlus.removeEventListener(<span class="hljs-string">'click'</span>,function(ev){});
                  btnMin.removeEventListener(<span class="hljs-string">'click'</span>,function(ev){});
                Scr.remove(aView);
                aView = <span class="hljs-literal">null</span>;
                aViewOpen = <span class="hljs-number">0</span>;
            });
            <span class="hljs-comment">//debugFile.write(debugFile.read()+' btnToev EL added\n');</span>

            btnPlus.addEventListener(<span class="hljs-string">'click'</span>, function(ev) {
                <span class="hljs-keyword">if</span> (Articles[e.row.art].gew == <span class="hljs-number">1</span>) {
                    aAant = aAant + <span class="hljs-number">100</span>;
                      cAant.text = aAant.toFixed(<span class="hljs-number">0</span>) + <span class="hljs-string">'gr'</span>;
                } <span class="hljs-keyword">else</span> {        
                    aAant = aAant + <span class="hljs-number">1</span>;
                      cAant.text = aAant.toFixed(<span class="hljs-number">0</span>);
                }    
                <span class="hljs-keyword">if</span> (aAant &gt; <span class="hljs-number">0</span> &amp;&amp; btnToev.title == <span class="hljs-string">"Verwijderen"</span>) { 
                    btnToev.title = <span class="hljs-string">"Aanpassen"</span>
                }
                <span class="hljs-keyword">if</span> (aAant &gt; <span class="hljs-number">0</span> &amp;&amp; btnToev.title == <span class="hljs-string">"Annuleren"</span>) { 
                    btnToev.title = <span class="hljs-string">"Toevoegen"</span>
                }
            });
            <span class="hljs-comment">//debugFile.write(debugFile.read()+' btnPlus EL added\n');</span>
            btnMin.addEventListener(<span class="hljs-string">'click'</span>, function(ev) {
                  <span class="hljs-keyword">if</span> (aAant &gt; <span class="hljs-number">0</span>) {
                    <span class="hljs-keyword">if</span> (Articles[e.row.art].gew == <span class="hljs-number">1</span>) {
                        <span class="hljs-keyword">if</span> (aAant &lt; <span class="hljs-number">100</span>) {
                            aAant = <span class="hljs-number">0</span>;
                        } <span class="hljs-keyword">else</span> {
                            aAant = aAant - <span class="hljs-number">100</span>;
                        }
                          cAant.text = aAant.toFixed(<span class="hljs-number">0</span>) + <span class="hljs-string">'gr'</span>;
                    } <span class="hljs-keyword">else</span> {        
                        aAant = aAant - <span class="hljs-number">1</span>;
                          cAant.text = aAant.toFixed(<span class="hljs-number">0</span>);
                    }    
                    <span class="hljs-keyword">if</span> (aAant == <span class="hljs-number">0</span> &amp;&amp; Simple == <span class="hljs-number">1</span>) { 
                        btnToev.title = <span class="hljs-string">"Verwijderen"</span>
                    }
                    <span class="hljs-keyword">if</span> (aAant == <span class="hljs-number">0</span> &amp;&amp; Simple == <span class="hljs-number">0</span>) { 
                        btnToev.title = <span class="hljs-string">"Annuleren"</span>
                    }
                  };
            });
            <span class="hljs-comment">//debugFile.write(debugFile.read()+' btnMin EL added\n');</span>
            aView.add(lProd);
            <span class="hljs-comment">//debugFile.write(debugFile.read()+' lProd added\n');</span>
            aView.add(cAant);
            <span class="hljs-comment">//debugFile.write(debugFile.read()+' cAant added\n');</span>
            aView.add(btnPlus);
            <span class="hljs-comment">//debugFile.write(debugFile.read()+' btnPlus added\n');</span>
            aView.add(btnMin);
            <span class="hljs-comment">//debugFile.write(debugFile.read()+' btnMin added\n');</span>
            aView.add(btnToev);
            <span class="hljs-comment">//debugFile.write(debugFile.read()+' btnToev added\n');</span>
            Scr.add(aView);
            <span class="hljs-comment">//debugFile.write(debugFile.read()+' aView added\n');</span>
            aViewOpen = <span class="hljs-number">1</span>;
        }
    });
    <span class="hljs-comment">//debugFile.write(debugFile.read()+' Buttons+Events created\n');</span>
}

row.add(artikel);
<span class="hljs-comment">//debugFile.write(debugFile.read()+' artikel added\n');</span>
row.add(aantal);
<span class="hljs-comment">//debugFile.write(debugFile.read()+' aantal added\n');</span>

 row.art = Artikel;
 row.af  = aantal;
 row.row = RowCnt;

<span class="hljs-keyword">if</span> (Simple == <span class="hljs-number">0</span>) {
    row.add(artnr);
    <span class="hljs-comment">//debugFile.write(debugFile.read()+' artnr added\n');</span>
    row.add(streepje);
    <span class="hljs-comment">//debugFile.write(debugFile.read()+' streepje added\n');</span>
    row.add(inh);
    <span class="hljs-keyword">if</span> (Login.Prices == <span class="hljs-number">1</span>) {
        row.add(prijs);
        <span class="hljs-comment">//debugFile.write(debugFile.read()+' prijs added\n');</span>
        row.pr = prijs;
    }
} <span class="hljs-keyword">else</span> {
    <span class="hljs-keyword">if</span> (Login.Prices == <span class="hljs-number">1</span>) {
        row.add(berek);
        <span class="hljs-comment">//debugFile.write(debugFile.read()+' berek added\n');</span>
        row.add(prijs);
        <span class="hljs-comment">//debugFile.write(debugFile.read()+' prijs added\n');</span>
        row.pr  = prijs;
        row.ber = berek;
    }
}
data.push(row);
<span class="hljs-comment">//debugFile.write(debugFile.read()+' ROW pushed\n');</span>
RowCnt = RowCnt + <span class="hljs-number">1</span>;
</code></pre><p>&#x2F;&#x2F;    Ti.API.info(&#39;Elapsed time was &#39; + duration.toFixed(3) + &#39; secs&#39;);<br>    &#x2F;&#x2F;debugFile.write(debugFile.read()+&#39;&gt; AddArtikel END\n&#39;);<br>    Adding = 0;<br>}</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="May 29th 2012, 9:39:14 am">May 29th 2012</span>
								by <span class='authorname'>Joost Anbeek</span><br>
								<a class="icon-bg icon-link" href="question/137553/tableview-crashes-on-android#answer-239588" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
