<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Callbacks in javascript » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Callbacks in javascript</h1>
		</header>
		<section>
			<p>Hi ALL,</p>
<p>I want to implement CallBack functionaliy in javascript.I don&#39;t want to do network call or ajax call or any RPC call.I want to do local data processing.</p>
<p>What I want is described below.</p>
<p>file1.js contains module named C1. In C1 module there is one method named processData.<br>Method processData takes function as an argument.this function will be called after the data processing is done.</p>
<p>file2.js has a button click listener inside this listener we want to call the processData function.But the constraint is  processData function should be executed on different jacascript context rather than the main context.</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="August 27th 2012, 5:41:10 am">August 27th 2012</span>
				by <span class='authorname'>Ashwin Bhanushali</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>appcelerator</span></li>
					
						<li><span class='tagname'>background</span></li>
					
						<li><span class='tagname'>javascript</span></li>
					
						<li><span class='tagname'>url</span></li>
					
				</ul>
			

			<section>
				<h5>13 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>What is this?</p>
<p>Your school assignment?</p>
</div>
							<div class="author">
								&mdash; commented <span title="August 27th 2012, 7:06:53 am">August 27th 2012</span>
								by <span class='authorname'>Christian Brousseau</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Not at all.<br>If you think this as so simple then please provide me with demo titanium mobile app.</p>
</div>
							<div class="author">
								&mdash; commented <span title="August 27th 2012, 7:12:31 am">August 27th 2012</span>
								by <span class='authorname'>Ashwin Bhanushali</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Ashwin,</p>
<p>You really include some code detailing what you are trying to achieve. This will give everyone a better understanding of the problem you are facing.</p>
<p>Simply asking for an entire solution without having experienced it yourself seems counter-productive.</p>
</div>
							<div class="author">
								&mdash; commented <span title="August 27th 2012, 7:41:18 am">August 27th 2012</span>
								by <span class='authorname'>Christian Brousseau</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>ok. I will post my code.</p>
</div>
							<div class="author">
								&mdash; commented <span title="August 27th 2012, 8:15:44 am">August 27th 2012</span>
								by <span class='authorname'>Ashwin Bhanushali</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Hi Christian,</p>
<p>Below is the my generateTableData.js file</p>
<pre><code class="hljs">myApp.backGround = {}
myApp.backGround.tableData= function(){
    <span class="hljs-keyword">this</span>.getTableData = GetTableData;
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
}
function GetTableData(callbackFunc){
    var data=[];
    var f = Titanium.Filesystem.getFile(Titanium.Filesystem.resourcesDirectory, <span class="hljs-string">'etc/songs.json'</span>);
    Ti.API.info(<span class="hljs-string">'file = '</span> + f);
    var contents = f.read();
    var songdata = JSON.parse(contents.<span class="hljs-built_in">text</span>);
    Ti.API.info(<span class="hljs-string">'json song length = '</span> + songdata.length);
    <span class="hljs-keyword">for</span> (var i=<span class="hljs-number">0</span>; i &lt; songdata.length; i++) {
      var tableViewRow = Ti.UI.createTableViewRow({
        <span class="hljs-variable">height</span>:<span class="hljs-string">'50 dip'</span>,
        layout:<span class="hljs-string">'horizontal'</span>,
        <span class="hljs-variable">width</span>:Ti.UI.FILL,
        className: <span class="hljs-string">'standard'</span>,

    });
    var songImage = Ti.UI.createImageView({
        top:<span class="hljs-string">'0 dip'</span>,
        left:<span class="hljs-string">'3 dip'</span>,
        <span class="hljs-variable">height</span>:<span class="hljs-string">'50 dip'</span>,
        <span class="hljs-variable">width</span>:<span class="hljs-string">'50 dip'</span>,
        <span class="hljs-built_in">image</span>:<span class="hljs-string">'/images/drawable/albumart_mp_unknown_list.jpeg'</span>
    })

    var verticalView = Ti.UI.createView({
        layout:<span class="hljs-string">'vertical'</span>,
        <span class="hljs-variable">height</span>:Ti.UI.FILL,
        <span class="hljs-variable">width</span>:Ti.UI.SIZE,
        left:<span class="hljs-string">'5 dip'</span>
    })

    var title = Ti.UI.createLabel({
        <span class="hljs-built_in">text</span>:songdata[i].title,
        ellipsize:<span class="hljs-string">'true'</span>,
        <span class="hljs-variable">height</span>:Ti.UI.SIZE,
        <span class="hljs-variable">width</span>:<span class="hljs-string">'45 %'</span>,
        <span class="hljs-built_in">textAlign</span>:Ti.UI.TEXT_ALIGNMENT_LEFT,
        <span class="hljs-built_in">color</span>:<span class="hljs-string">'white'</span>,
        left:<span class="hljs-string">'0 dip'</span>
    })

    var subtitle = Ti.UI.createLabel({
        <span class="hljs-built_in">text</span>:songdata[i].primary_artist,
        ellipsize:<span class="hljs-string">'true'</span>,
        <span class="hljs-variable">height</span>:Ti.UI.SIZE,
        <span class="hljs-variable">width</span>:<span class="hljs-string">'45 %'</span>,
        <span class="hljs-built_in">textAlign</span>:Ti.UI.TEXT_ALIGNMENT_LEFT,
        <span class="hljs-built_in">color</span>:<span class="hljs-string">'white'</span>,
        left:<span class="hljs-string">'0 dip'</span>
    })

    verticalView.<span class="hljs-built_in">add</span>(title)
    verticalView.<span class="hljs-built_in">add</span>(subtitle)
    var crossImage = Ti.UI.createButton({
        <span class="hljs-comment">// top:'20 %',</span>
        left:<span class="hljs-string">'10 dip'</span>,
        <span class="hljs-comment">// bottom:'25 %',</span>
        <span class="hljs-variable">height</span>:<span class="hljs-string">'25 dip'</span>,
        <span class="hljs-variable">width</span>:<span class="hljs-string">'25 dip'</span>,
        backgroundImage:<span class="hljs-string">'/images/drawable/cross_gray.png'</span>,
        backgroundSelectedImage:<span class="hljs-string">'/images/drawable/cross_red.png'</span>

    })

    var downloadImg = Ti.UI.createButton({
        <span class="hljs-comment">// top:'20 %',</span>
        left:<span class="hljs-string">'10 dip'</span>,
        <span class="hljs-comment">// bottom:'25 %',</span>
        <span class="hljs-variable">height</span>:<span class="hljs-string">'25 dip'</span>,
        <span class="hljs-variable">width</span>:<span class="hljs-string">'25 dip'</span>,
        backgroundImage:<span class="hljs-string">'/images/drawable/down.png'</span>,
        backgroundSelectedImage:<span class="hljs-string">'/images/drawable/down_hover.png'</span>
    })
    var playImg = Ti.UI.createButton({
        <span class="hljs-comment">// top:'20 %',</span>
        left:<span class="hljs-string">'10 dip'</span>,
        <span class="hljs-comment">// bottom:'25 %',</span>
        <span class="hljs-variable">height</span>:<span class="hljs-string">'25 dip'</span>,
        <span class="hljs-variable">width</span>:<span class="hljs-string">'25 dip'</span>,
        backgroundImage:<span class="hljs-string">'/images/drawable/play.png'</span>,
        backgroundSelectedImage:<span class="hljs-string">'/images/drawable/play_hover.png'</span>
    })
    tableViewRow.<span class="hljs-built_in">add</span>(songImage);
    tableViewRow.<span class="hljs-built_in">add</span>(verticalView);
    tableViewRow.<span class="hljs-built_in">add</span>(playImg);
    tableViewRow.<span class="hljs-built_in">add</span>(downloadImg)
    tableViewRow.<span class="hljs-built_in">add</span>(crossImage)
    data.push(tableViewRow)

    };
    callbackFunc(data)

}
</code></pre><p>Here is the playlist.js file.</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> myApp ={};
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">playListUi</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">var</span> baseView = Ti.UI.createView({
        height : <span class="hljs-string">'auto'</span>,
        width : <span class="hljs-string">'auto'</span>,
        backgroundColor : <span class="hljs-string">'#000'</span>,
        layout : <span class="hljs-string">'composite'</span>
        <span class="hljs-comment">// right:'1 dip'</span>
    })
    addListView(baseView);
    <span class="hljs-keyword">return</span> baseView;
}
module.exports = playListUi;
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">addListView</span><span class="hljs-params">(baseView)</span> </span>{

    <span class="hljs-comment">// Create a TableView.</span>
    <span class="hljs-keyword">var</span> aTableView = Ti.UI.createTableView({
        bottom : <span class="hljs-string">'19 dip'</span>,
        right : <span class="hljs-string">'0 dip'</span>,
        top : <span class="hljs-string">'90 dip'</span>
    });
    Ti.<span class="hljs-keyword">include</span>(<span class="hljs-string">'/ui/common/baseUI/generateTableData.js'</span>)

    <span class="hljs-keyword">var</span> getData = myApp.backGround.tableData();

    aTableView.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span> </span>{
        alert(<span class="hljs-string">'title: \''</span> + e.row.title + <span class="hljs-string">'\', section: \''</span> + e.section.headerTitle + <span class="hljs-string">'\', index: '</span> + e.index);
    });
    getData.getTableData(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span></span>{
        aTableView.setData(e);
    })
        <span class="hljs-comment">/// some code here</span>
        <span class="hljs-comment">/// some code here    </span>
}
</code></pre><p>Now What I want is when I call getTableData function on getData object then the getTableData function should not be executed on same javascript context it should be executed on another javascript context so that Ui does not get stuck.Since we are passing function as a argument to the getTableData function getTableData function calls the callback function were we set the tableView Data.<br>I hope this will give crystal clear idea what I want.<br>thanks.</p>
</div>
							<div class="author">
								&mdash; commented <span title="August 27th 2012, 8:43:13 am">August 27th 2012</span>
								by <span class='authorname'>Ashwin Bhanushali</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p><img src="http:&#x2F;&#x2F;1.bp.blogspot.com&#x2F;-ZtFM198ZC78&#x2F;T-B_P0ts0LI&#x2F;AAAAAAAALPI&#x2F;AOlu5OyGBIM&#x2F;s1600&#x2F;jackie-chan-wtf.png" alt=""></p>
</div>
							<div class="author">
								&mdash; commented <span title="August 27th 2012, 10:20:20 am">August 27th 2012</span>
								by <span class='authorname'>Christian Brousseau</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Still Unclear about my Question.Ok what&#39;s the doubt??</p>
</div>
							<div class="author">
								&mdash; commented <span title="August 28th 2012, 3:30:32 am">August 28th 2012</span>
								by <span class='authorname'>Ashwin Bhanushali</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Hi Christian,</p>
<p>You might be knowing to fetch the location of the device we use something like mentioned below</p>
<pre><code class="hljs">Titanium.Geolocation.getCurrentPosition(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span></span>{

}
)
</code></pre><p>Now from above it is clear that the when location fix is done callback function is invoked which we are passing to getCurrentPosition I want to do the same but for my component.<br>My aim is to develop a function&#x2F;module as described below.</p>
<pre><code class="hljs"><span class="hljs-tag">myApp</span><span class="hljs-class">.processdata</span>(_<span class="hljs-tag">callbackFunction</span>);
</code></pre><p>The function process data is executed on javascript sub-context and when work is done the processdata function will call the _callbackFunction.</p>
</div>
							<div class="author">
								&mdash; commented <span title="August 28th 2012, 6:29:17 am">August 28th 2012</span>
								by <span class='authorname'>Ashwin Bhanushali</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>-1 sympathy vote on Chrisitan&#39;s behalf.</p>
</div>
							<div class="author">
								&mdash; commented <span title="August 28th 2012, 10:10:25 pm">August 28th 2012</span>
								by <span class='authorname'>Stephen Feather</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>and I&#39;m so stealing that sign language image for later use…</p>
</div>
							<div class="author">
								&mdash; commented <span title="August 28th 2012, 10:11:07 pm">August 28th 2012</span>
								by <span class='authorname'>Stephen Feather</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Give me reason why -1 vote.If you find so easy then give answer or accept it is not possible with titanium.Don&#39;t afraid in accepting platform limitations.</p>
</div>
							<div class="author">
								&mdash; commented <span title="August 29th 2012, 6:47:09 am">August 29th 2012</span>
								by <span class='authorname'>Ashwin Bhanushali</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Ashwin, reading your question you say &quot;function should be executed on different jacascript context rather than the main context.&quot; I don&#39;t believe there is currently any way to force start another JavaScript thread&quot;.</p>
</div>
							<div class="author">
								&mdash; commented <span title="August 30th 2012, 10:53:25 pm">August 30th 2012</span>
								by <span class='authorname'>Ray Belisle</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Then how do I achieve background data processing is there any work around?<br>Please suggest some way since I got very horrible responses for my app and client is on my head to resolve this issue.<br>Please help.<br>At this stage of application I can not go to native app development.</p>
</div>
							<div class="author">
								&mdash; commented <span title="August 31st 2012, 3:44:06 am">August 31st 2012</span>
								by <span class='authorname'>Ashwin Bhanushali</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>-1</span> Votes</div>
			<div class="answers"><span>0</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>0 Answers</h3>

	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
