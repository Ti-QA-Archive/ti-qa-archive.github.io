<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>2 Android problems (iPhone - Android app) » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>2 Android problems (iPhone - Android app)</h1>
		</header>
		<section>
			<p>Hello</p>
<p>I have finished my iPhone app, and I would like to get it working on Android. When I tried to run it on Android, it just crashed instantly, nothing works.</p>
<p>Now I&#39;m trying to edit it page by page, step by step. I&#39;ve ran into 2 problems which I would like to know why they show up.</p>
<h2 id="first-problem-">First problem:</h2>
<p>My application can&#39;t find the e.contentoffset.y when scrolled with a tableview. Why is this? It works just fine on my iPhone app.</p>
<p>code:</p>
<pre><code class="hljs">tableView.addEventListener('scroll', function(<span class="hljs-keyword">e</span>){
    <span class="hljs-keyword">var</span> offset = <span class="hljs-keyword">e</span>.contentOffset.y; <span class="hljs-comment">//My app can't read this in android!</span>
    <span class="hljs-keyword">var</span> height = <span class="hljs-keyword">e</span>.size.height;
    <span class="hljs-keyword">var</span> <span class="hljs-keyword">total</span> = offset + height;
    <span class="hljs-keyword">var</span> theEnd = <span class="hljs-keyword">e</span>.contentSize.height;
    <span class="hljs-keyword">var</span> distance = theEnd - <span class="hljs-keyword">total</span>;

...
});
</code></pre><h2 id="second-problem">Second problem</h2>
<p>Every time I use an Activity indicator my app crashes. this works just fine on my iPhone app. Is there an explanation for this?</p>
<p>Thanks!</p>
<p>Tjeu</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="July 18th 2011, 8:08:02 am">July 18th 2011</span>
				by <span class='authorname'>Tjeu Vdw</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>crash</span></li>
					
						<li><span class='tagname'>help</span></li>
					
						<li><span class='tagname'>iphone</span></li>
					
						<li><span class='tagname'>problem</span></li>
					
				</ul>
			

			<section>
				<h5>3 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>A few things… please provide code samples that the community can just drop in an app.js to test, it saves us work, and helps you get better quality answers faster. Also you must provide the Ti SDK and Android version you are using so the community is comparing apples to apples.</p>
</div>
							<div class="author">
								&mdash; commented <span title="July 18th 2011, 10:51:16 am">July 18th 2011</span>
								by <span class='authorname'>Matt Apperson</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>The tableview&#39;s offset code is above, and here&#39;s how I create the navactindicator:</p>
<pre><code class="hljs"><span class="hljs-comment">//Loading icon</span>
var navActInd = Titanium.UI.createActivityIndicator({
    <span class="hljs-variable">height</span>: <span class="hljs-number">50</span>,
    <span class="hljs-variable">width</span>: <span class="hljs-number">200</span>,
    <span class="hljs-built_in">color</span>: <span class="hljs-string">'#ffffff'</span>,
    opacity: <span class="hljs-number">0.9</span>,
    backgroundColor: <span class="hljs-string">'#aaaaaa'</span>,
    borderRadius: <span class="hljs-number">5</span>,
    message: <span class="hljs-string">'Loading tweets..'</span>,
    font: {
        fontFamily: <span class="hljs-string">'Helvetica Neue'</span>,
        fontSize: <span class="hljs-number">13</span>
    }
});
</code></pre><p>And i open it by</p>
<pre><code class="hljs"><span class="hljs-tag">navActInd</span><span class="hljs-class">.show</span>();
</code></pre></div>
							<div class="author">
								&mdash; commented <span title="July 18th 2011, 10:55:00 am">July 18th 2011</span>
								by <span class='authorname'>Tjeu Vdw</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>@Tjeu Vdw -&gt; did u find the solution for ur first problem..am lso stumbled in tat same position …can u gve me a code for android..?Tat ll help me a lot</p>
</div>
							<div class="author">
								&mdash; commented <span title="January 31st 2012, 8:28:48 am">January 31st 2012</span>
								by <span class='authorname'>AD Vishnu</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>1</span> Vote</div>
			<div class="answers"><span>4</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>4 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-213481">
				
						<section>
							<p>Tjew, the activity indicator on Android is some sort of window ( in fact it&#39;s an activity, as far as I know), and you cannot manipulate it as you do it on iOS. All you can set it&#39;s the message property, to show it and to hide it. Don&#39;t try to attach it to any other window.<br>Let me know id this works for you.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="July 18th 2011, 11:23:01 am">July 18th 2011</span>
								by <span class='authorname'>Dan Tamas</span><br>
								<a class="icon-bg icon-link" href="question/122723/2-android-problems-iphone---android-app#answer-213481" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>I know this is 2 months old, but this was causing issues for me as well even with the latest version of titanium.  </p>
<p>Your point about creating the activity indicator with only the message property fixed it for me.  In my app, I just define it with styles for iOS by using Ti.Platform.osname and differently with only the message property for Android.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 31st 2011, 7:31:30 pm">August 31st 2011</span>
											by <span class='authorname'>Ben Benesh</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-213674">
				
						<section>
							<p>There have been plenty of reports of Android activity indicators crashing since the 1.6 SDK. There is a <a href="http:&#x2F;&#x2F;jira.appcelerator.org&#x2F;browse&#x2F;TIMOB-3158">ticket relating to it</a>, but there hasn&#39;t been much change since it was created. This is the number one crash for my app, and the reason for most of my bad reviews.</p>
<p>You can find some discussion, and somethings to try to reduce the incidence of it crashing in <a href="http:&#x2F;&#x2F;developer.appcelerator.com&#x2F;question&#x2F;121664&#x2F;issue-w-activity-indicator-on-android">this question</a>.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="July 19th 2011, 4:11:36 pm">July 19th 2011</span>
								by <span class='authorname'>Mike Robinson</span><br>
								<a class="icon-bg icon-link" href="question/122723/2-android-problems-iphone---android-app#answer-213674" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-213487">
				
						<section>
							<p>In the api docs contentOffset is ios only.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="July 18th 2011, 12:04:11 pm">July 18th 2011</span>
								by <span class='authorname'>Steve Hovey</span><br>
								<a class="icon-bg icon-link" href="question/122723/2-android-problems-iphone---android-app#answer-213487" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Where do you see this? I just checked <a href="http:&#x2F;&#x2F;developer.appcelerator.com&#x2F;apidoc&#x2F;mobile&#x2F;latest&#x2F;Titanium.UI.ScrollView-object">here</a> and I don&#39;t see it&#39;s iOS only.</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 18th 2011, 12:06:49 pm">July 18th 2011</span>
											by <span class='authorname'>Tjeu Vdw</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-213493">
				
						<section>
							<p>That is the link for a scrollview.. I read the link for a tableview href=http:&#x2F;&#x2F;developer.appcelerator.com&#x2F;apidoc&#x2F;mobile&#x2F;latest&#x2F;Titanium.UI.TableView-object down in the event area</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="July 18th 2011, 12:13:32 pm">July 18th 2011</span>
								by <span class='authorname'>Steve Hovey</span><br>
								<a class="icon-bg icon-link" href="question/122723/2-android-problems-iphone---android-app#answer-213493" rel="permalink">permalink</a>
							</div>

							<h5>2 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Thanks</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 18th 2011, 12:18:53 pm">July 18th 2011</span>
											by <span class='authorname'>Tjeu Vdw</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>so how to get e.contentOffset.y on android ?</p>
<p>i want to make pagination…</p>
<p>it doesn&#39;t exist and on listView, we dont have scrollEvent…</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 22nd 2013, 11:59:56 am">April 22nd 2013</span>
											by <span class='authorname'>Djamel ZAHAL</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
