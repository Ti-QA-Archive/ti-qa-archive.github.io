<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>facebook module - login event not fired » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>facebook module - login event not fired</h1>
		</header>
		<section>
			<p>The login dialog is opened as expected, but the facebookLoginCallbackHandler is not called, so the login event is not fired. If the code below is run again, it opens the dialog again saying that the app is authorized. But this time, when I click ok, the login event is fired. My question is why doesn&#39;t the login event fire in the first place?</p>
<pre><code class="hljs">        <span class="hljs-keyword">var</span> fb = <span class="hljs-built_in">require</span>(<span class="hljs-string">'facebook'</span>);
        fb.appid = <span class="hljs-built_in">require</span>(<span class="hljs-string">'/config/config'</span>).facebook.appId;
        fb.permissions = [<span class="hljs-string">'email'</span>];
        <span class="hljs-comment">// Permissions your app needs</span>
        fb.forceDialogAuth = <span class="hljs-literal">true</span>;

        fb.addEventListener(<span class="hljs-string">'login'</span>, facebookLoginCallbackHandler);
        fb.authorize();
</code></pre>
		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="May 8th 2013, 5:45:56 pm">May 8th 2013</span>
				by <span class='authorname'>Razvan Popa</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>facebook</span></li>
					
				</ul>
			

			<section>
				<h5>3 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Is this for Android, or iOS, or both? I asked the same question in the JIRA report here: <a href="https:&#x2F;&#x2F;jira.appcelerator.org&#x2F;browse&#x2F;TC-2164">https:&#x2F;&#x2F;jira.appcelerator.org&#x2F;browse&#x2F;TC-2164</a></p>
<p>You can add yourself as a watcher to be notified of updates.</p>
</div>
							<div class="author">
								&mdash; commented <span title="May 10th 2013, 4:39:52 pm">May 10th 2013</span>
								by <span class='authorname'>Daniel Sefton</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Hi.<br>I&#39;m having the same issue. It is BOTH Android and iOS, tested on iPhone emulator and Android 2.3 device.<br>Since just one week ago everything worked like a charm: after inserting Username&#x2F;Password the FB overlay closes itself and fires the &#39;login&#39; event. Now, after loggin in it loads the FB Home Page in the Overlay that stays open :(<br>If I close the APP and then reload it checking for fb.getLoggedIn() it return True, so the login process works, but &#39;login&#39; event is not fired anymore :(</p>
</div>
							<div class="author">
								&mdash; commented <span title="May 10th 2013, 6:23:42 pm">May 10th 2013</span>
								by <span class='authorname'>Giorgio Pieretti</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>That&#39;s funny :) Today everything works as before…</p>
</div>
							<div class="author">
								&mdash; commented <span title="May 11th 2013, 6:48:28 pm">May 11th 2013</span>
								by <span class='authorname'>Giorgio Pieretti</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-262711">
				
						<section>
							<p>Hi, I&#39;m having the same issue, at least on iOS. It&#39;s true the login event no longer fires, even after a logout. Perhaps the logout is broken as well. However, even if the login even skips, you can still request user information with the &#x2F;me API for instance.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="May 14th 2013, 5:47:10 pm">May 14th 2013</span>
								by <span class='authorname'>Patrice Gagnon</span><br>
								<a class="icon-bg icon-link" href="../../question/152142/facebook-module---login-event-not-fired.html#answer-262711" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
