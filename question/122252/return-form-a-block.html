<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Return form a block Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Return form a block</h1>
		</header>
		<section>
			<p>Hi, Am making a titanium module for the latest ios.<br>Can u tell me how to return data from a block.<br>for example,</p>
<pre><code class="hljs"><span class="hljs-collection">[xyzclass requestAccessToAccountsWithType:accountType withCompletionHandler:^<span class="hljs-list">(<span class="hljs-keyword">BOOL</span> granted, NSError *error)</span><span class="hljs-collection">{

}</span>]</span><span class="hljs-comment">;</span>
</code></pre><p>the block has a return type void and executes async.<br>now how do i expose the block&#x2F;return data to the javascript.</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="July 8th 2011, 6:55:56 am">July 8th 2011</span>
				by <span class='authorname'>Sathya Narayanan</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>api</span></li>
					
						<li><span class='tagname'>ios</span></li>
					
						<li><span class='tagname'>module</span></li>
					
						<li><span class='tagname'>titanium</span></li>
					
				</ul>
			

			<section>
				<h5>2 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Can you be more specific as to how you are creating your module? Meaning, have you created the proper proxy views, etc.?  Where does this example block reside?  Need more info.</p>
</div>
							<div class="author">
								&mdash; commented <span title="July 8th 2011, 3:05:42 pm">July 8th 2011</span>
								by <span class='authorname'>Paul Nelson</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Am not creating proxy or views, am only extending TiModule and the functions in it are exposed to the javascript. the main function of my module is to expose a few apple api&#39;s to the ti-script. </p>
<p>my code snippet is as follows</p>
<pre><code class="hljs">-(<span class="hljs-keyword">id</span>)AccountHandler:(<span class="hljs-keyword">id</span>)args
{

    A<span class="hljs-built_in">CAccountStore</span> *store = [[A<span class="hljs-built_in">CAccountStore</span> alloc] init];
    A<span class="hljs-built_in">CAccountType</span> *accountType = [store accountTypeWithAccountTypeIdentifier:A<span class="hljs-built_in">CAccountTypeIdentifierTwitter</span>];
    twitterAccounts = <span class="hljs-literal">nil</span>;

    [store requestAccessToAccountsWithType:accountType withCompletionHandler:^(<span class="hljs-built_in">BOOL</span> granted, <span class="hljs-built_in">NSError</span> *error) {

        <span class="hljs-keyword">return</span> granted; <span class="hljs-comment">// this is what i want to return to javascript      </span>

    }];

    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
}
</code></pre><p>guys, let me know if i should remove the code snippet, on regard of nda ?</p>
</div>
							<div class="author">
								&mdash; commented <span title="July 11th 2011, 3:27:00 am">July 11th 2011</span>
								by <span class='authorname'>Sathya Narayanan</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-212592">
				
						<section>
							<p>These things are covered in the Module Development Guide of iOS on the wiki found here:  <a href="http:&#x2F;&#x2F;wiki.appcelerator.org&#x2F;display&#x2F;guides&#x2F;Module+Developer+Guide+for+iOS">http:&#x2F;&#x2F;wiki.appcelerator.org&#x2F;display&#x2F;guides&#x2F;Module+Developer+Guide+for+iOS</a></p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="July 8th 2011, 5:49:17 pm">July 8th 2011</span>
								by <span class='authorname'>Anthony Decena</span><br>
								<a class="icon-bg icon-link" href="question/122252/return-form-a-block#answer-212592" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>can u exactly tell me where the proxy is handled in the module dev. reference. i am not able to find it.</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 11th 2011, 3:17:49 am">July 11th 2011</span>
											by <span class='authorname'>Sathya Narayanan</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
