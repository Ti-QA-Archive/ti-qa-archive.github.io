<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Container not resize correctly » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Container not resize correctly</h1>
		</header>
		<section>
			<p>I&#39;m creating some container and images calculating the dimension with the displlay width.<br>On iPhone and iPad this works well but on android is not working…<br>This is the code:</p>
<pre><code class="hljs">var header_cont = Titanium.UI.createView({
       top:<span class="hljs-string">'0%'</span>,
    <span class="hljs-variable">height</span>:<span class="hljs-string">'60dp'</span>,
    backgroundImage: <span class="hljs-string">'/ui/common/images/sfondohead.png'</span>,
    });
    self.<span class="hljs-built_in">add</span>(header_cont);

 var a = Titanium.UI.createImageView({
        <span class="hljs-built_in">image</span>:<span class="hljs-string">'/ui/common/images/pulsanti/elimina.png'</span>,
        <span class="hljs-variable">width</span>:(Ti.Platform.displayCaps.platformWidth)/<span class="hljs-number">13</span>,
        bottom:<span class="hljs-string">'6.5%'</span>,
        left: <span class="hljs-string">'2%'</span>
    });
    header_cont.<span class="hljs-built_in">add</span>(a);
</code></pre><p>Where I am wrong?</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="November 5th 2014, 5:58:48 am">November 5th 2014</span>
				by <span class='authorname'>Simone Marini</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>image</span></li>
					
						<li><span class='tagname'>size</span></li>
					
						<li><span class='tagname'>width</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-283615">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>Hi Simone Marini,</p>
<p>Thanks for your concern.</p>
<p>Please check my test case below and see if it helps you. I&#39;ve tried this code for various android devices with various resolutions and works as expected for me.</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> win = Ti.UI.createWindow({
    backgroundColor:<span class="hljs-string">'#fff'</span>,
    top : <span class="hljs-number">20</span>
});

<span class="hljs-keyword">var</span> screenWidth = Ti.Platform.displayCaps.platformWidth;
<span class="hljs-keyword">var</span> screenHeight = Ti.Platform.displayCaps.platformHeight;

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">GetHeight</span>(<span class="hljs-params">value</span>) </span>{
    <span class="hljs-keyword">var</span> temp = (value * <span class="hljs-number">100</span>) / <span class="hljs-number">480</span>;
    <span class="hljs-keyword">return</span> <span class="hljs-built_in">parseInt</span>((screenHeight * temp) / <span class="hljs-number">100</span>);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">GetWidth</span>(<span class="hljs-params">value</span>) </span>{
    <span class="hljs-keyword">var</span> temp = (value * <span class="hljs-number">100</span>) / <span class="hljs-number">320</span>;
    <span class="hljs-keyword">return</span> <span class="hljs-built_in">parseInt</span>((screenWidth * temp) / <span class="hljs-number">100</span>);
}

<span class="hljs-keyword">var</span> btnTitle = Ti.UI.createButton({
    top : GetHeight(<span class="hljs-number">50</span>),
    left : GetWidth(<span class="hljs-number">20</span>),
    width : GetWidth(<span class="hljs-number">100</span>),
    height : GetHeight(<span class="hljs-number">60</span>),
    font:{
        fontFamily:<span class="hljs-string">'Toonish'</span>,
        fontSize:GetHeight(<span class="hljs-number">19</span>),
    },
    borderColor:<span class="hljs-string">'red'</span>,
    title : <span class="hljs-string">'Click Me'</span>,
    color : <span class="hljs-string">'black'</span>
});
win.add(btnTitle);
win.open();
</code></pre><p>If you have any concern about my answer, then feel free to let know.</p>
<p>Thanks</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="November 5th 2014, 7:58:57 am">November 5th 2014</span>
								by <span class='authorname'>Raju ®</span><br>
								<a class="icon-bg icon-link" href="question/178883/container-not-resize-correctly#answer-283615" rel="permalink">permalink</a>
							</div>

							<h5>6 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>You can also check the link: <a href="http:&#x2F;&#x2F;developer.appcelerator.com&#x2F;question&#x2F;177278&#x2F;why-using-percentages-is-bad-idea">Why using percentages is bad idea?</a></p>
</p>
										<div class="author">
											&mdash; commented <span title="November 5th 2014, 8:02:29 am">November 5th 2014</span>
											by <span class='authorname'>Raju ®</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Thank you, this seem working but I have to change all my app code!<br>Any idea on what can I do to avoid a complete revision of my code?</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 5th 2014, 8:34:11 am">November 5th 2014</span>
											by <span class='authorname'>Simone Marini</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Hi,</p>
<p>Yes, you can avoid complete revision of your code.</p>
<ul>
<li>First, create a user defined module like <strong>ui.js</strong> and code for this module say,</li>
</ul>
<pre><code class="hljs"><span class="hljs-keyword">var</span> base = {
    width : <span class="hljs-number">320</span>,
    height : <span class="hljs-number">480</span>
};
<span class="hljs-keyword">var</span> orgWidth = Titanium.Platform.displayCaps.platformWidth;
<span class="hljs-keyword">var</span> orgHeight = Titanium.Platform.displayCaps.platformHeight;
<span class="hljs-keyword">var</span> divide = base[<span class="hljs-string">'width'</span>] / orgWidth;
exports.fit= <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">px</span>) </span>{
    <span class="hljs-keyword">return</span> <span class="hljs-built_in">Math</span>.round(px / divide);
};
</code></pre><ul>
<li>Then in your every window you can reuse above code like,</li>
</ul>
<pre><code class="hljs"><span class="hljs-keyword">var</span> ui = require('ui');
Titanium.UI.setBackgroundColor('#000');

<span class="hljs-keyword">var</span> <span class="hljs-keyword">win</span>= Ti.UI.createWindow({
 backgroundImage: '#000'
});

<span class="hljs-keyword">var</span> anImageView = Ti.UI.createImageView({
    image : '/img.jpg',
    width : ui.<span class="hljs-keyword">fit</span>(320),
    height : ui.<span class="hljs-keyword">fit</span>(240),
    top : ui.<span class="hljs-keyword">fit</span>(50),
    left : ui.<span class="hljs-keyword">fit</span>(50)
});
<span class="hljs-keyword">win</span>.add(anImageView);

<span class="hljs-keyword">win</span>.<span class="hljs-keyword">open</span>();
</code></pre><p>This is a demo test case for your current problem. I&#39;ve just used this based on width and this should work. Now modify this based on your requirement. If my solution helps you to solve your question, then mark this answer as accepted.</p>
<p>Thanks</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 5th 2014, 8:48:31 am">November 5th 2014</span>
											by <span class='authorname'>Raju ®</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Hi, does my solution works for you. If you have any concern about my answer then feel free to ask.</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 11th 2014, 6:13:41 am">November 11th 2014</span>
											by <span class='authorname'>Raju ®</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Hi, I have tried it…it works but I still have to change all my container, images, text….and it&#39;s a long work.<br>I was trying to do something else, I tried to resize only the scroll view but nothing….I can&#39;t rewrite all my app….</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 11th 2014, 7:19:54 am">November 11th 2014</span>
											by <span class='authorname'>Simone Marini</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Well,</p>
<p>Happy that it helps you. If so, then mark this answer as accepted so that others can get help from here.</p>
<p>Thanks</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 11th 2014, 7:23:46 am">November 11th 2014</span>
											by <span class='authorname'>Raju ®</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
