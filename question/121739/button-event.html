<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Button Event » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Button Event</h1>
		</header>
		<section>
			<p>if i make a loop to create group of buttons like that:-<br> <code>for(var i=0;i&amp;lt;5;i++){
    var button = Titanium.UI.createButton({
        .....
    })
}</code><br>I want to know each button the user clicked ,but after creating the event<br>`button.addEventListener(&#39;click&#39;,function(e)<br>                {<br>                       alert(&quot;You clicked the button&quot;);<br>                       alert(i);</p>
<pre><code class="hljs">            })<span class="hljs-comment">;`</span>
</code></pre><p>I have only one event with the last button only.<br>I want an event to each button and  I want to know each button user clicked.<br>any help?</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="June 28th 2011, 10:29:35 pm">June 28th 2011</span>
				by <span class='authorname'>hema gawish</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>button</span></li>
					
						<li><span class='tagname'>click</span></li>
					
						<li><span class='tagname'>loop</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-211684">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<pre><code class="hljs">  for<span class="hljs-list">(<span class="hljs-keyword">var</span> i=0<span class="hljs-comment">;i&lt;5;i++){</span>
    var button = Titanium.UI.createButton<span class="hljs-list">({
        id:<span class="hljs-string">"button_"</span>+i,
        _index: i
    })</span>
}

button.addEventListener<span class="hljs-list">(<span class="hljs-quoted">'click</span>',function<span class="hljs-list">(<span class="hljs-keyword">e</span>)</span> {
   alert<span class="hljs-list">(<span class="hljs-string">"You clicked the button "</span> +e.source.id)</span><span class="hljs-comment">; </span>
   alert<span class="hljs-list">(<span class="hljs-string">"button index is "</span>+ e.source._index)</span><span class="hljs-comment">;</span>
})</span><span class="hljs-comment">;</span></span>
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="June 28th 2011, 10:34:55 pm">June 28th 2011</span>
								by <span class='authorname'>Aaron Saunders</span><br>
								<a class="icon-bg icon-link" href="question/121739/button-event#answer-211684" rel="permalink">permalink</a>
							</div>

							<h5>6 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>The last button worked only.</p>
</p>
										<div class="author">
											&mdash; commented <span title="June 28th 2011, 10:44:15 pm">June 28th 2011</span>
											by <span class='authorname'>hema gawish</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>my mistake, put the event listener outside of the loop</p>
<pre><code class="hljs">for<span class="hljs-list">(<span class="hljs-keyword">var</span> i=0<span class="hljs-comment">;i&lt;5;i++){</span>
    var button = Titanium.UI.createButton<span class="hljs-list">({
        id:<span class="hljs-string">"button_"</span>+i,
        _index: i
    })</span>

   button.addEventListener<span class="hljs-list">(<span class="hljs-quoted">'click</span>',function<span class="hljs-list">(<span class="hljs-keyword">e</span>)</span> {
      alert<span class="hljs-list">(<span class="hljs-string">"You clicked the button "</span> +e.source.id)</span><span class="hljs-comment">; </span>
      alert<span class="hljs-list">(<span class="hljs-string">"button index is "</span>+ e.source._index)</span><span class="hljs-comment">;</span>
   })</span><span class="hljs-comment">;</span>
}</span>
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="June 28th 2011, 11:08:39 pm">June 28th 2011</span>
											by <span class='authorname'>Aaron Saunders</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>it works :)..</p>
</p>
										<div class="author">
											&mdash; commented <span title="June 28th 2011, 11:24:22 pm">June 28th 2011</span>
											by <span class='authorname'>hema gawish</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>please mark answer as correct</p>
</p>
										<div class="author">
											&mdash; commented <span title="June 28th 2011, 11:46:43 pm">June 28th 2011</span>
											by <span class='authorname'>Aaron Saunders</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>thanks it really helpful</p>
</p>
										<div class="author">
											&mdash; commented <span title="September 12th 2011, 9:17:42 am">September 12th 2011</span>
											by <span class='authorname'>shaina ashraf</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>How to change background button in this case. Please help me.</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 15th 2013, 9:01:34 am">May 15th 2013</span>
											by <span class='authorname'>pv Hieu</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>2</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-211685">
				
						<section>
							<p>It would help if you posted the whole code segment.  But if you are calling addEventListener after the loop, then yes, you are only adding an event listener to the last button (the one that the variable &#39;button&#39; is currently pointing to).</p>
<p>If you put the addEventListener in the loop, then each button will indeed have an event listener, but when called, it will not have access to the variable &#39;i&#39;, because it will be called from a different context.  To uniquely identify the button being pushed, you can add an attribute to the button declaration, such as   index:i   which can be referenced from the e.source object like this :   alert(e.source.index).</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="June 28th 2011, 10:39:57 pm">June 28th 2011</span>
								by <span class='authorname'>Herb Rose</span><br>
								<a class="icon-bg icon-link" href="question/121739/button-event#answer-211685" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>ya alert(e.source.index). worked<br>but only the last button event work.</p>
</p>
										<div class="author">
											&mdash; commented <span title="June 28th 2011, 10:45:07 pm">June 28th 2011</span>
											by <span class='authorname'>hema gawish</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
