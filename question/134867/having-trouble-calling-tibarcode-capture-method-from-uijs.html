<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>having trouble calling ti.barcode capture method from ui.js » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>having trouble calling ti.barcode capture method from ui.js</h1>
		</header>
		<section>
			<p>so i am building an app that utilizes ti.barcode and i have my project broken down into app.js, ui.js and barcode.js. app.js and ui.js should be self explanatory but barcode.js includes all the properties methods and eventListeners for the barcode scanner. everything is working well, except for the capture method of ti.barcode… i think this problem is occuring because i am trying to access this method from ui.js but in theory i feel like it should be working, so i am at a lost. Any help would be greatly appreciated</p>
<p>ui.js code</p>
<pre><code class="hljs">bc.ui.createMainWindow = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span></span>{

    <span class="hljs-keyword">var</span> mainwin = Ti.UI.createWindow({
        backgroundColor: <span class="hljs-string">'#ddd'</span>,
        title: <span class="hljs-string">'Scan Product Barcode'</span>
    });
    <span class="hljs-keyword">var</span> scanCode = Ti.UI.createButton({
        title: <span class="hljs-string">'Scan Product Barcode'</span>,
        color: <span class="hljs-string">'#faa21b'</span>,
        width: <span class="hljs-number">200</span>,
        height: <span class="hljs-number">60</span>,
        top: <span class="hljs-number">20</span>
    });

    <span class="hljs-keyword">var</span> barcodevar = bc.scan.initScan();
    <span class="hljs-keyword">var</span> scanoverlay = bc.scan.createOverlay();
    <span class="hljs-keyword">var</span> cancelButton = bc.scan.createCancelScanButton();
    scanoverlay.add(cancelButton);

    scanCode.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{
        cancelButton.color = <span class="hljs-string">'#faa21b'</span>;
        cancelButton.backgroundColor = <span class="hljs-string">'#fff'</span>;
        bc.scan.reset(cancelButton);

        barcodevar.capture({
            animate: <span class="hljs-literal">true</span>,
            overlay: scanoverlay,
            showCancel: <span class="hljs-literal">false</span>,
            showRectangle: <span class="hljs-literal">true</span>,
            keepOpen: <span class="hljs-literal">true</span>,
            acceptedFormats: [
                barcodevar.FORMAT_UPC_A
            ]
         });
    });
    <span class="hljs-keyword">var</span> scrollView = Ti.UI.createScrollView({
        contentWidth: <span class="hljs-string">'auto'</span>,
        contentHeight: <span class="hljs-string">'auto'</span>,
        top: <span class="hljs-number">0</span>,
        showVerticalScrollIndicator: <span class="hljs-literal">true</span>,
        layout: <span class="hljs-string">'vertical'</span>
    });
    scrollView.add(scanCode);
    mainwin.add(scrollView);
    <span class="hljs-keyword">return</span> mainwin;
};
</code></pre>
		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="April 3rd 2012, 3:23:15 pm">April 3rd 2012</span>
				by <span class='authorname'>Alek Taraskewich</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>ios</span></li>
					
						<li><span class='tagname'>mobile</span></li>
					
						<li><span class='tagname'>ti.barcode</span></li>
					
						<li><span class='tagname'>ui</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-235318">
				
						<section>
							<p>So I couldn&#39;t figure out how to do this the way I wanted and I was trying to do some things that kind of worked but my code became unorganized and hard to follow. So I just moved all UI elements associated with the scanner into scan.js and everything worked fine. I am still curious if there is a way structure my code as mentioned above, if anyone has an idea.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="April 5th 2012, 11:46:52 am">April 5th 2012</span>
								by <span class='authorname'>Alek Taraskewich</span><br>
								<a class="icon-bg icon-link" href="question/134867/having-trouble-calling-tibarcode-capture-method-from-uijs.html#answer-235318" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
