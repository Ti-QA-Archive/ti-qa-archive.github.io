<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Taking picture on android problem » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Taking picture on android problem</h1>
		</header>
		<section>
			<p>Hi, all.</p>
<p>Recently I run into a problem that I couldnt fon solution for.<br>When I take picture on android device, after 15th picture app crashes only on android.</p>
<p>reason is java.io.FileNotFoundException … path…. :open failed EMFILE(Too many open files)</p>
<p>here is complete logcat output</p>
<p>http:&#x2F;&#x2F;pastebin.com&#x2F;RrZVPamk</p>
<p>I take picture using ti.media.showcamera, and then just work with result.</p>
<p>wirking on titanum 3.2.0 and android 4.0.4 device (tablet) byt same happened on any other device.</p>
<p>I will be happy for any advice.</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="July 9th 2014, 9:39:22 am">July 9th 2014</span>
				by <span class='authorname'>Martin Gmuca</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>app crash</span></li>
					
						<li><span class='tagname'>photo</span></li>
					
						<li><span class='tagname'>ti.media.showcamera</span></li>
					
				</ul>
			

			<section>
				<h5>12 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Can you share some code?</p>
</div>
							<div class="author">
								&mdash; commented <span title="July 9th 2014, 9:43:30 am">July 9th 2014</span>
								by <span class='authorname'>Manuel Lehner</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>it is very simple I am just taking picture,</p>
<p>on ios it creates an overlay for photo, to add into photo some additional text, but this does not happen on android. Problem is only on android</p>
<pre><code class="hljs">Ti.Media.showCamera({
        mediaTypes: Ti.Media.MEDIA_TYPE_PHOTO,

        success: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">_event</span>) </span>{

            APP.openLoading();
            APP.updateLoading(<span class="hljs-string">"Saving photo"</span>);
            <span class="hljs-keyword">if</span>(OS_IOS) {
                <span class="hljs-keyword">var</span> img_photo = ImageFactory.compress(ImageFactory.imageAsResized(_event.media, {
                    width: imgWidthPixels,
                    height: imgHeightPixels,
                    quality: <span class="hljs-number">2</span>
                }), <span class="hljs-number">0.3</span>);
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">var</span> img_photo = ImageFactory.compress(ImageFactory.imageAsResized(_event.media, {
                    width: imgWidthPixels,
                    height: imgHeightPixels
                }), <span class="hljs-number">0.3</span>);
            }

            <span class="hljs-keyword">var</span> datexx = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>();

            photoFileName = CONFIG.data.lfdnr.toString() + <span class="hljs-string">"_"</span> + APP.Session.companyNo + <span class="hljs-string">"-"</span> + CONFIG.data.lfdnr.toString() + <span class="hljs-string">"-"</span> + datexx.getFullYear() + <span class="hljs-string">"-"</span> + datexx.getMonth() + <span class="hljs-string">"-"</span> + datexx.getDate() + <span class="hljs-string">"-"</span> + datexx.getHours() + <span class="hljs-string">"-"</span> + datexx.getMinutes() + <span class="hljs-string">"-"</span> + datexx.getSeconds() + <span class="hljs-string">"-.jpeg"</span>;
            <span class="hljs-keyword">if</span>(OS_IOS) {
                view_final = Ti.UI.createView();

                view_photo = Ti.UI.createImageView({
                    height: (nativeResolution) ? img_photo.Height : imgHeight,
                    width: (nativeResolution) ? img_photo.width : imgWidth,
                    backgroundImage: img_photo,
                    zIndex: <span class="hljs-number">50</span>
                });

                <span class="hljs-comment">// Prepares the overlay for the photo</span>
                lbl_overlay = Ti.UI.createLabel({
                    height: <span class="hljs-string">"42dp"</span>,
                    width: (nativeResolution) ? img_photo.width : imgWidth,
                    top: <span class="hljs-string">"0dp"</span>,
                    left: <span class="hljs-string">"0dp"</span>,
                    textAlign: <span class="hljs-string">"left"</span>,
                    font: {
                        fontWeight: <span class="hljs-string">"bold"</span>,
                        fontSize: <span class="hljs-string">"12dp"</span>
                    },
                    verticalAlign: Titanium.UI.TEXT_VERTICAL_ALIGNMENT_CENTER,
                    color: <span class="hljs-string">"#000"</span>,
                    backgroundColor: <span class="hljs-string">"#fff"</span>,
                    zIndex: <span class="hljs-number">100</span>,
                    text: moment().format(<span class="hljs-string">"DD/MMM/YYYY HH:mm"</span>) + <span class="hljs-string">" - "</span> + UTIL.translate(<span class="hljs-string">"Ticket: "</span>) + CONFIG.data.wiegenr + <span class="hljs-string">" - "</span> + UTIL.translate(<span class="hljs-string">"Reg. Plate: "</span>) + CONFIG.data.waggonnr + <span class="hljs-string">"\n"</span> + UTIL.translate(<span class="hljs-string">"Account : "</span>) + CONFIG.data.pktoName
                });

                view_final.add(lbl_overlay);
                view_final.add(view_photo);
            }

            $.addStatus({
                status: <span class="hljs-string">"photo"</span>,
                fileName: photoFileName
            });

            <span class="hljs-keyword">try</span> {
                <span class="hljs-keyword">if</span>(OS_IOS) {
                    <span class="hljs-keyword">var</span> imgg = view_final.toImage();
                } <span class="hljs-keyword">else</span> {
                    <span class="hljs-keyword">var</span> imgg = _event.media;
                }

                <span class="hljs-keyword">var</span> jpegImage = ImageFactory.compress(imgg, <span class="hljs-number">0.8</span>);
            } <span class="hljs-keyword">catch</span>(exception) {
                alert(exception.toString());

            }
            <span class="hljs-keyword">var</span> img = Ti.Utils.base64encode(jpegImage);

            <span class="hljs-keyword">var</span> uuid = <span class="hljs-string">""</span>;
            <span class="hljs-keyword">if</span>(GLOBALOBJECT.selectedrow) {
                GLOBALOBJECT.selectedrow.hasPhoto = <span class="hljs-literal">true</span>;
                <span class="hljs-keyword">if</span>(GLOBALOBJECT.selectedrow.uuid) {
                    uuid = GLOBALOBJECT.selectedrow.uuid;
                }
            }

            CONFIG.photos.push({
                filename: photoFileName,
                uploaded: <span class="hljs-number">0</span>,
                failed: <span class="hljs-number">0</span>,
                saved: <span class="hljs-number">0</span>,
                positionuuid: uuid,
                base64image: img,
                lfdnr: CONFIG.data.lfdnr
            });
            $.tbl_ticket_pos.data[<span class="hljs-number">0</span>].rows[SELECTED_ROW_ID].children[<span class="hljs-number">0</span>].children[<span class="hljs-number">1</span>].children[<span class="hljs-number">3</span>].visible = <span class="hljs-literal">true</span>;
            $.tbl_ticket_pos.data[<span class="hljs-number">0</span>].rows[SELECTED_ROW_ID].children[<span class="hljs-number">0</span>].children[<span class="hljs-number">1</span>].children[<span class="hljs-number">3</span>].text = $.getPicturescount(uuid);

            APP.closeLoading();
            <span class="hljs-keyword">if</span>(OS_ANDROID) {
                _event.media.file.deleteFile();
                _event.media.file = <span class="hljs-literal">null</span>;
                _event.media = <span class="hljs-literal">null</span>;
                _event = <span class="hljs-literal">null</span>;
                img_photo = <span class="hljs-literal">null</span>;
            }

        },
        cancel: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{},
        error: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            UTIL.iAlert(<span class="hljs-string">"An error occured while saving the photo on the device."</span>, <span class="hljs-string">"Error"</span>);
        }
    });
</code></pre></div>
							<div class="author">
								&mdash; commented <span title="July 9th 2014, 9:51:42 am">July 9th 2014</span>
								by <span class='authorname'>Martin Gmuca</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>I&#39;m not 100% sure, but I think this could be an ImageFactory issue. Is it possible to test this without the ImageFactory module?</p>
</div>
							<div class="author">
								&mdash; commented <span title="July 9th 2014, 10:08:35 am">July 9th 2014</span>
								by <span class='authorname'>Manuel Lehner</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>thanks for advice, I removed imagefactory from process and now I have error when file is closing…<br>so it is trying to close file now… and again it is after +-15th picture</p>
<pre><code class="hljs"><span class="hljs-number">07</span>-<span class="hljs-number">09</span> <span class="hljs-number">14</span>:<span class="hljs-number">20</span>:<span class="hljs-number">43.505</span>: E/<span class="hljs-function"><span class="hljs-title">System</span><span class="hljs-params">(<span class="hljs-number">5609</span>)</span></span>: Uncaught exception thrown by finalizer
<span class="hljs-number">07</span>-<span class="hljs-number">09</span> <span class="hljs-number">14</span>:<span class="hljs-number">20</span>:<span class="hljs-number">43.505</span>: D/<span class="hljs-function"><span class="hljs-title">KeyguardViewMediator</span><span class="hljs-params">(<span class="hljs-number">235</span>)</span></span>: setHidden false
<span class="hljs-number">07</span>-<span class="hljs-number">09</span> <span class="hljs-number">14</span>:<span class="hljs-number">20</span>:<span class="hljs-number">43.513</span>: E/<span class="hljs-function"><span class="hljs-title">System</span><span class="hljs-params">(<span class="hljs-number">5609</span>)</span></span>: java<span class="hljs-class">.io</span><span class="hljs-class">.IOException</span>: close failed: EIO (I/O error)
<span class="hljs-number">07</span>-<span class="hljs-number">09</span> <span class="hljs-number">14</span>:<span class="hljs-number">20</span>:<span class="hljs-number">43.513</span>: E/<span class="hljs-function"><span class="hljs-title">System</span><span class="hljs-params">(<span class="hljs-number">5609</span>)</span></span>:     at libcore<span class="hljs-class">.io</span><span class="hljs-class">.IoUtils</span><span class="hljs-class">.close</span>(IoUtils<span class="hljs-class">.java</span>:<span class="hljs-number">41</span>)
<span class="hljs-number">07</span>-<span class="hljs-number">09</span> <span class="hljs-number">14</span>:<span class="hljs-number">20</span>:<span class="hljs-number">43.513</span>: E/<span class="hljs-function"><span class="hljs-title">System</span><span class="hljs-params">(<span class="hljs-number">5609</span>)</span></span>:     at java<span class="hljs-class">.io</span><span class="hljs-class">.FileInputStream</span><span class="hljs-class">.close</span>(FileInputStream<span class="hljs-class">.java</span>:<span class="hljs-number">121</span>)
<span class="hljs-number">07</span>-<span class="hljs-number">09</span> <span class="hljs-number">14</span>:<span class="hljs-number">20</span>:<span class="hljs-number">43.513</span>: E/<span class="hljs-function"><span class="hljs-title">System</span><span class="hljs-params">(<span class="hljs-number">5609</span>)</span></span>:     at java<span class="hljs-class">.io</span><span class="hljs-class">.FileInputStream</span><span class="hljs-class">.finalize</span>(FileInputStream<span class="hljs-class">.java</span>:<span class="hljs-number">142</span>)
<span class="hljs-number">07</span>-<span class="hljs-number">09</span> <span class="hljs-number">14</span>:<span class="hljs-number">20</span>:<span class="hljs-number">43.513</span>: E/<span class="hljs-function"><span class="hljs-title">System</span><span class="hljs-params">(<span class="hljs-number">5609</span>)</span></span>:     at java<span class="hljs-class">.lang</span><span class="hljs-class">.Daemons</span><span class="hljs-variable">$FinalizerDaemon</span>.<span class="hljs-function"><span class="hljs-title">doFinalize</span><span class="hljs-params">(Daemons.java:<span class="hljs-number">182</span>)</span></span>
<span class="hljs-number">07</span>-<span class="hljs-number">09</span> <span class="hljs-number">14</span>:<span class="hljs-number">20</span>:<span class="hljs-number">43.513</span>: E/<span class="hljs-function"><span class="hljs-title">System</span><span class="hljs-params">(<span class="hljs-number">5609</span>)</span></span>:     at java<span class="hljs-class">.lang</span><span class="hljs-class">.Daemons</span><span class="hljs-variable">$FinalizerDaemon</span>.<span class="hljs-function"><span class="hljs-title">run</span><span class="hljs-params">(Daemons.java:<span class="hljs-number">168</span>)</span></span>
<span class="hljs-number">07</span>-<span class="hljs-number">09</span> <span class="hljs-number">14</span>:<span class="hljs-number">20</span>:<span class="hljs-number">43.513</span>: E/<span class="hljs-function"><span class="hljs-title">System</span><span class="hljs-params">(<span class="hljs-number">5609</span>)</span></span>:     at java<span class="hljs-class">.lang</span><span class="hljs-class">.Thread</span><span class="hljs-class">.run</span>(Thread<span class="hljs-class">.java</span>:<span class="hljs-number">856</span>)
<span class="hljs-number">07</span>-<span class="hljs-number">09</span> <span class="hljs-number">14</span>:<span class="hljs-number">20</span>:<span class="hljs-number">43.513</span>: E/<span class="hljs-function"><span class="hljs-title">System</span><span class="hljs-params">(<span class="hljs-number">5609</span>)</span></span>: Caused by: libcore<span class="hljs-class">.io</span><span class="hljs-class">.ErrnoException</span>: close failed: EIO (I/O error)
<span class="hljs-number">07</span>-<span class="hljs-number">09</span> <span class="hljs-number">14</span>:<span class="hljs-number">20</span>:<span class="hljs-number">43.513</span>: E/<span class="hljs-function"><span class="hljs-title">System</span><span class="hljs-params">(<span class="hljs-number">5609</span>)</span></span>:     at libcore<span class="hljs-class">.io</span><span class="hljs-class">.Posix</span><span class="hljs-class">.close</span>(Native Method)
<span class="hljs-number">07</span>-<span class="hljs-number">09</span> <span class="hljs-number">14</span>:<span class="hljs-number">20</span>:<span class="hljs-number">43.513</span>: E/<span class="hljs-function"><span class="hljs-title">System</span><span class="hljs-params">(<span class="hljs-number">5609</span>)</span></span>:     at libcore<span class="hljs-class">.io</span><span class="hljs-class">.BlockGuardOs</span><span class="hljs-class">.close</span>(BlockGuardOs<span class="hljs-class">.java</span>:<span class="hljs-number">75</span>)
<span class="hljs-number">07</span>-<span class="hljs-number">09</span> <span class="hljs-number">14</span>:<span class="hljs-number">20</span>:<span class="hljs-number">43.513</span>: E/<span class="hljs-function"><span class="hljs-title">System</span><span class="hljs-params">(<span class="hljs-number">5609</span>)</span></span>:     at libcore<span class="hljs-class">.io</span><span class="hljs-class">.IoUtils</span><span class="hljs-class">.close</span>(IoUtils<span class="hljs-class">.java</span>:<span class="hljs-number">38</span>)
<span class="hljs-number">07</span>-<span class="hljs-number">09</span> <span class="hljs-number">14</span>:<span class="hljs-number">20</span>:<span class="hljs-number">43.513</span>: E/<span class="hljs-function"><span class="hljs-title">System</span><span class="hljs-params">(<span class="hljs-number">5609</span>)</span></span>:     ... <span class="hljs-number">5</span> more
<span class="hljs-number">07</span>-<span class="hljs-number">09</span> <span class="hljs-number">14</span>:<span class="hljs-number">20</span>:<span class="hljs-number">43.513</span>: E/<span class="hljs-function"><span class="hljs-title">System</span><span class="hljs-params">(<span class="hljs-number">5609</span>)</span></span>: Uncaught exception thrown by finalizer
<span class="hljs-number">07</span>-<span class="hljs-number">09</span> <span class="hljs-number">14</span>:<span class="hljs-number">20</span>:<span class="hljs-number">43.513</span>: E/<span class="hljs-function"><span class="hljs-title">System</span><span class="hljs-params">(<span class="hljs-number">5609</span>)</span></span>: java<span class="hljs-class">.io</span><span class="hljs-class">.IOException</span>: close failed: EIO (I/O error)
<span class="hljs-number">07</span>-<span class="hljs-number">09</span> <span class="hljs-number">14</span>:<span class="hljs-number">20</span>:<span class="hljs-number">43.513</span>: E/<span class="hljs-function"><span class="hljs-title">System</span><span class="hljs-params">(<span class="hljs-number">5609</span>)</span></span>:     at libcore<span class="hljs-class">.io</span><span class="hljs-class">.IoUtils</span><span class="hljs-class">.close</span>(IoUtils<span class="hljs-class">.java</span>:<span class="hljs-number">41</span>)
<span class="hljs-number">07</span>-<span class="hljs-number">09</span> <span class="hljs-number">14</span>:<span class="hljs-number">20</span>:<span class="hljs-number">43.513</span>: E/<span class="hljs-function"><span class="hljs-title">System</span><span class="hljs-params">(<span class="hljs-number">5609</span>)</span></span>:     at java<span class="hljs-class">.io</span><span class="hljs-class">.FileInputStream</span><span class="hljs-class">.close</span>(FileInputStream<span class="hljs-class">.java</span>:<span class="hljs-number">121</span>)
<span class="hljs-number">07</span>-<span class="hljs-number">09</span> <span class="hljs-number">14</span>:<span class="hljs-number">20</span>:<span class="hljs-number">43.513</span>: E/<span class="hljs-function"><span class="hljs-title">System</span><span class="hljs-params">(<span class="hljs-number">5609</span>)</span></span>:     at java<span class="hljs-class">.io</span><span class="hljs-class">.FileInputStream</span><span class="hljs-class">.finalize</span>(FileInputStream<span class="hljs-class">.java</span>:<span class="hljs-number">142</span>)
<span class="hljs-number">07</span>-<span class="hljs-number">09</span> <span class="hljs-number">14</span>:<span class="hljs-number">20</span>:<span class="hljs-number">43.513</span>: E/<span class="hljs-function"><span class="hljs-title">System</span><span class="hljs-params">(<span class="hljs-number">5609</span>)</span></span>:     at java<span class="hljs-class">.lang</span><span class="hljs-class">.Daemons</span><span class="hljs-variable">$FinalizerDaemon</span>.<span class="hljs-function"><span class="hljs-title">doFinalize</span><span class="hljs-params">(Daemons.java:<span class="hljs-number">182</span>)</span></span>
<span class="hljs-number">07</span>-<span class="hljs-number">09</span> <span class="hljs-number">14</span>:<span class="hljs-number">20</span>:<span class="hljs-number">43.513</span>: E/<span class="hljs-function"><span class="hljs-title">System</span><span class="hljs-params">(<span class="hljs-number">5609</span>)</span></span>:     at java<span class="hljs-class">.lang</span><span class="hljs-class">.Daemons</span><span class="hljs-variable">$FinalizerDaemon</span>.<span class="hljs-function"><span class="hljs-title">run</span><span class="hljs-params">(Daemons.java:<span class="hljs-number">168</span>)</span></span>
<span class="hljs-number">07</span>-<span class="hljs-number">09</span> <span class="hljs-number">14</span>:<span class="hljs-number">20</span>:<span class="hljs-number">43.513</span>: E/<span class="hljs-function"><span class="hljs-title">System</span><span class="hljs-params">(<span class="hljs-number">5609</span>)</span></span>:     at java<span class="hljs-class">.lang</span><span class="hljs-class">.Thread</span><span class="hljs-class">.run</span>(Thread<span class="hljs-class">.java</span>:<span class="hljs-number">856</span>)
<span class="hljs-number">07</span>-<span class="hljs-number">09</span> <span class="hljs-number">14</span>:<span class="hljs-number">20</span>:<span class="hljs-number">43.513</span>: E/<span class="hljs-function"><span class="hljs-title">System</span><span class="hljs-params">(<span class="hljs-number">5609</span>)</span></span>: Caused by: libcore<span class="hljs-class">.io</span><span class="hljs-class">.ErrnoException</span>: close failed: EIO (I/O error)
<span class="hljs-number">07</span>-<span class="hljs-number">09</span> <span class="hljs-number">14</span>:<span class="hljs-number">20</span>:<span class="hljs-number">43.513</span>: E/<span class="hljs-function"><span class="hljs-title">System</span><span class="hljs-params">(<span class="hljs-number">5609</span>)</span></span>:     at libcore<span class="hljs-class">.io</span><span class="hljs-class">.Posix</span><span class="hljs-class">.close</span>(Native Method)
<span class="hljs-number">07</span>-<span class="hljs-number">09</span> <span class="hljs-number">14</span>:<span class="hljs-number">20</span>:<span class="hljs-number">43.513</span>: E/<span class="hljs-function"><span class="hljs-title">System</span><span class="hljs-params">(<span class="hljs-number">5609</span>)</span></span>:     at libcore<span class="hljs-class">.io</span><span class="hljs-class">.BlockGuardOs</span><span class="hljs-class">.close</span>(BlockGuardOs<span class="hljs-class">.java</span>:<span class="hljs-number">75</span>)
<span class="hljs-number">07</span>-<span class="hljs-number">09</span> <span class="hljs-number">14</span>:<span class="hljs-number">20</span>:<span class="hljs-number">43.513</span>: E/<span class="hljs-function"><span class="hljs-title">System</span><span class="hljs-params">(<span class="hljs-number">5609</span>)</span></span>:     at libcore<span class="hljs-class">.io</span><span class="hljs-class">.IoUtils</span><span class="hljs-class">.close</span>(IoUtils<span class="hljs-class">.java</span>:<span class="hljs-number">38</span>)
<span class="hljs-number">07</span>-<span class="hljs-number">09</span> <span class="hljs-number">14</span>:<span class="hljs-number">20</span>:<span class="hljs-number">43.513</span>: E/<span class="hljs-function"><span class="hljs-title">System</span><span class="hljs-params">(<span class="hljs-number">5609</span>)</span></span>:     ... <span class="hljs-number">5</span> more
<span class="hljs-number">07</span>-<span class="hljs-number">09</span> <span class="hljs-number">14</span>:<span class="hljs-number">20</span>:<span class="hljs-number">43.520</span>: E/<span class="hljs-function"><span class="hljs-title">System</span><span class="hljs-params">(<span class="hljs-number">5609</span>)</span></span>: Uncaught exception thrown by finalizer
<span class="hljs-number">07</span>-<span class="hljs-number">09</span> <span class="hljs-number">14</span>:<span class="hljs-number">20</span>:<span class="hljs-number">43.528</span>: E/<span class="hljs-function"><span class="hljs-title">System</span><span class="hljs-params">(<span class="hljs-number">5609</span>)</span></span>: java<span class="hljs-class">.io</span><span class="hljs-class">.IOException</span>: close failed: EIO (I/O error)
<span class="hljs-number">07</span>-<span class="hljs-number">09</span> <span class="hljs-number">14</span>:<span class="hljs-number">20</span>:<span class="hljs-number">43.528</span>: E/<span class="hljs-function"><span class="hljs-title">System</span><span class="hljs-params">(<span class="hljs-number">5609</span>)</span></span>:     at libcore<span class="hljs-class">.io</span><span class="hljs-class">.IoUtils</span><span class="hljs-class">.close</span>(IoUtils<span class="hljs-class">.java</span>:<span class="hljs-number">41</span>)
<span class="hljs-number">07</span>-<span class="hljs-number">09</span> <span class="hljs-number">14</span>:<span class="hljs-number">20</span>:<span class="hljs-number">43.528</span>: E/<span class="hljs-function"><span class="hljs-title">System</span><span class="hljs-params">(<span class="hljs-number">5609</span>)</span></span>:     at java<span class="hljs-class">.io</span><span class="hljs-class">.FileInputStream</span><span class="hljs-class">.close</span>(FileInputStream<span class="hljs-class">.java</span>:<span class="hljs-number">121</span>)
<span class="hljs-number">07</span>-<span class="hljs-number">09</span> <span class="hljs-number">14</span>:<span class="hljs-number">20</span>:<span class="hljs-number">43.528</span>: E/<span class="hljs-function"><span class="hljs-title">System</span><span class="hljs-params">(<span class="hljs-number">5609</span>)</span></span>:     at java<span class="hljs-class">.io</span><span class="hljs-class">.FileInputStream</span><span class="hljs-class">.finalize</span>(FileInputStream<span class="hljs-class">.java</span>:<span class="hljs-number">142</span>)
<span class="hljs-number">07</span>-<span class="hljs-number">09</span> <span class="hljs-number">14</span>:<span class="hljs-number">20</span>:<span class="hljs-number">43.528</span>: E/<span class="hljs-function"><span class="hljs-title">System</span><span class="hljs-params">(<span class="hljs-number">5609</span>)</span></span>:     at java<span class="hljs-class">.lang</span><span class="hljs-class">.Daemons</span><span class="hljs-variable">$FinalizerDaemon</span>.<span class="hljs-function"><span class="hljs-title">doFinalize</span><span class="hljs-params">(Daemons.java:<span class="hljs-number">182</span>)</span></span>
<span class="hljs-number">07</span>-<span class="hljs-number">09</span> <span class="hljs-number">14</span>:<span class="hljs-number">20</span>:<span class="hljs-number">43.528</span>: E/<span class="hljs-function"><span class="hljs-title">System</span><span class="hljs-params">(<span class="hljs-number">5609</span>)</span></span>:     at java<span class="hljs-class">.lang</span><span class="hljs-class">.Daemons</span><span class="hljs-variable">$FinalizerDaemon</span>.<span class="hljs-function"><span class="hljs-title">run</span><span class="hljs-params">(Daemons.java:<span class="hljs-number">168</span>)</span></span>
<span class="hljs-number">07</span>-<span class="hljs-number">09</span> <span class="hljs-number">14</span>:<span class="hljs-number">20</span>:<span class="hljs-number">43.528</span>: E/<span class="hljs-function"><span class="hljs-title">System</span><span class="hljs-params">(<span class="hljs-number">5609</span>)</span></span>:     at java<span class="hljs-class">.lang</span><span class="hljs-class">.Thread</span><span class="hljs-class">.run</span>(Thread<span class="hljs-class">.java</span>:<span class="hljs-number">856</span>)
<span class="hljs-number">07</span>-<span class="hljs-number">09</span> <span class="hljs-number">14</span>:<span class="hljs-number">20</span>:<span class="hljs-number">43.528</span>: E/<span class="hljs-function"><span class="hljs-title">System</span><span class="hljs-params">(<span class="hljs-number">5609</span>)</span></span>: Caused by: libcore<span class="hljs-class">.io</span><span class="hljs-class">.ErrnoException</span>: close failed: EIO (I/O error)
<span class="hljs-number">07</span>-<span class="hljs-number">09</span> <span class="hljs-number">14</span>:<span class="hljs-number">20</span>:<span class="hljs-number">43.528</span>: E/<span class="hljs-function"><span class="hljs-title">System</span><span class="hljs-params">(<span class="hljs-number">5609</span>)</span></span>:     at libcore<span class="hljs-class">.io</span><span class="hljs-class">.Posix</span><span class="hljs-class">.close</span>(Native Method)
<span class="hljs-number">07</span>-<span class="hljs-number">09</span> <span class="hljs-number">14</span>:<span class="hljs-number">20</span>:<span class="hljs-number">43.528</span>: E/<span class="hljs-function"><span class="hljs-title">System</span><span class="hljs-params">(<span class="hljs-number">5609</span>)</span></span>:     at libcore<span class="hljs-class">.io</span><span class="hljs-class">.BlockGuardOs</span><span class="hljs-class">.close</span>(BlockGuardOs<span class="hljs-class">.java</span>:<span class="hljs-number">75</span>)
<span class="hljs-number">07</span>-<span class="hljs-number">09</span> <span class="hljs-number">14</span>:<span class="hljs-number">20</span>:<span class="hljs-number">43.528</span>: E/<span class="hljs-function"><span class="hljs-title">System</span><span class="hljs-params">(<span class="hljs-number">5609</span>)</span></span>:     at libcore<span class="hljs-class">.io</span><span class="hljs-class">.IoUtils</span><span class="hljs-class">.close</span>(IoUtils<span class="hljs-class">.java</span>:<span class="hljs-number">38</span>)
<span class="hljs-number">07</span>-<span class="hljs-number">09</span> <span class="hljs-number">14</span>:<span class="hljs-number">20</span>:<span class="hljs-number">43.528</span>: E/<span class="hljs-function"><span class="hljs-title">System</span><span class="hljs-params">(<span class="hljs-number">5609</span>)</span></span>:     ... <span class="hljs-number">5</span> more
<span class="hljs-number">07</span>-<span class="hljs-number">09</span> <span class="hljs-number">14</span>:<span class="hljs-number">20</span>:<span class="hljs-number">43.552</span>: D/<span class="hljs-function"><span class="hljs-title">dalvikvm</span><span class="hljs-params">(<span class="hljs-number">5368</span>)</span></span>: GC_CONCURRENT freed <span class="hljs-number">1407</span>K, <span class="hljs-number">6%</span> free <span class="hljs-number">27816</span>K/<span class="hljs-number">29575</span>K, paused <span class="hljs-number">2ms</span>+<span class="hljs-number">19ms</span>
</code></pre></div>
							<div class="author">
								&mdash; commented <span title="July 9th 2014, 10:29:08 am">July 9th 2014</span>
								by <span class='authorname'>Martin Gmuca</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>this I&#x2F;O error was probably something else, I recieved it only once, Now even whitout using Imagefactory, I recieve same error as first time :open failed EMFILE(Too many open files)</p>
</div>
							<div class="author">
								&mdash; commented <span title="July 9th 2014, 11:14:34 am">July 9th 2014</span>
								by <span class='authorname'>Martin Gmuca</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>OK, then my suspicion was false.</p>
<p>It&#39;s a little hard to understand your code… you basically doing something like this (on Android)</p>
<pre><code class="hljs">Ti.Media.showCamera({
  mediaTypes: Ti.Media.MEDIA_TYPE_PHOTO,

  success: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(_event)</span> </span>{

    <span class="hljs-keyword">var</span> img_photo = ImageFactory.compress(
      ImageFactory.imageAsResized(_event.media),
      <span class="hljs-number">0.3</span>
    );

    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">var</span> imgg = _event.media;
      <span class="hljs-keyword">var</span> jpegImage = ImageFactory.compress(imgg, <span class="hljs-number">0.8</span>);
    } <span class="hljs-keyword">catch</span>(<span class="hljs-keyword">exception</span>) {
      alert(<span class="hljs-keyword">exception</span>.toString());
    }

    <span class="hljs-keyword">var</span> img = Ti.Utils.base64encode(jpegImage);

    CONFIG.photos.push({
      base64image: img
    });

      <span class="hljs-keyword">if</span>(OS_ANDROID) {
        _event.media.file.deleteFile();
        _event.media.file = <span class="hljs-keyword">null</span>;
        _event.media = <span class="hljs-keyword">null</span>;
        _event = <span class="hljs-keyword">null</span>;
        img_photo = <span class="hljs-keyword">null</span>;
      }

  },
  cancel: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{},
  error: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
    UTIL.iAlert(<span class="hljs-string">"An error occured while saving the photo on the device."</span>, <span class="hljs-string">"Error"</span>);
  }
});
</code></pre><p>What is <code>CONFIG.photos.push</code> doing?</p>
<p>I believe that a reference is kept somewhere which causes the file to stay in memory.</p>
</div>
							<div class="author">
								&mdash; commented <span title="July 9th 2014, 11:37:51 am">July 9th 2014</span>
								by <span class='authorname'>Manuel Lehner</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Object CONFIG stays im nemory, until user is working with current record. </p>
<p>So, user have one record from server, do stuff with it, add pictures etc (all stored in CONFIG) then he can decide to save this record, or discard changes and load another record. </p>
<p>Is there a way how can I copy image to some another variable or do something with it to be sure that <strong>_event.media</strong> will not be referenced anywhere and file could be closed ?</p>
</div>
							<div class="author">
								&mdash; commented <span title="July 9th 2014, 11:45:04 am">July 9th 2014</span>
								by <span class='authorname'>Martin Gmuca</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>You could also set <code>imgg</code>, <code>img</code> and <code>jpegImage</code> to <code>null</code> but I don&#39;t think it will solve this. Maybe you need to set some breakpoints and find out where exactly the crash comes from.</p>
</div>
							<div class="author">
								&mdash; commented <span title="July 9th 2014, 12:34:29 pm">July 9th 2014</span>
								by <span class='authorname'>Manuel Lehner</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>crash comes when new picture is taken and Ti.media try to create new file with picture. this is not possible because (too many files open)</p>
</div>
							<div class="author">
								&mdash; commented <span title="July 9th 2014, 12:36:17 pm">July 9th 2014</span>
								by <span class='authorname'>Martin Gmuca</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>So, I did another test. I take a picture and did not even acess _event.media, or event variable. And this lead to same error. again, only after 11th - 15th picture and this cause app crash.</p>
<pre><code class="hljs"><span class="hljs-number">07</span>-<span class="hljs-number">10</span> <span class="hljs-number">07</span>:<span class="hljs-number">55</span>:<span class="hljs-number">00.828</span>: E/TiMedia(<span class="hljs-number">4135</span>): (KrollRuntimeThread) [<span class="hljs-number">22729</span>,<span class="hljs-number">398883</span>] Unable to create temp file
<span class="hljs-number">07</span>-<span class="hljs-number">10</span> <span class="hljs-number">07</span>:<span class="hljs-number">55</span>:<span class="hljs-number">00.828</span>: E/TiMedia(<span class="hljs-number">4135</span>): java.io.IOException: open failed: EMFILE (Too many open files)
<span class="hljs-number">07</span>-<span class="hljs-number">10</span> <span class="hljs-number">07</span>:<span class="hljs-number">55</span>:<span class="hljs-number">00.828</span>: E/TiMedia(<span class="hljs-number">4135</span>):     at java.io.File.createNewFile(File.java:<span class="hljs-number">940</span>)
<span class="hljs-number">07</span>-<span class="hljs-number">10</span> <span class="hljs-number">07</span>:<span class="hljs-number">55</span>:<span class="hljs-number">00.828</span>: E/TiMedia(<span class="hljs-number">4135</span>):     at java.io.File.createTempFile(File.java:<span class="hljs-number">1005</span>)
<span class="hljs-number">07</span>-<span class="hljs-number">10</span> <span class="hljs-number">07</span>:<span class="hljs-number">55</span>:<span class="hljs-number">00.828</span>: E/TiMedia(<span class="hljs-number">4135</span>):     at org.appcelerator.titanium.util.TiFileHelper.getTempFile(TiFileHelper.java:<span class="hljs-number">603</span>)
<span class="hljs-number">07</span>-<span class="hljs-number">10</span> <span class="hljs-number">07</span>:<span class="hljs-number">55</span>:<span class="hljs-number">00.828</span>: E/TiMedia(<span class="hljs-number">4135</span>):     at ti.modules.titanium.media.MediaModule.showCamera(MediaModule.java:<span class="hljs-number">299</span>)
<span class="hljs-number">07</span>-<span class="hljs-number">10</span> <span class="hljs-number">07</span>:<span class="hljs-number">55</span>:<span class="hljs-number">00.828</span>: E/TiMedia(<span class="hljs-number">4135</span>):     at org.appcelerator.kroll.runtime.v8.V8Object.nativeFireEvent(Native Method)
<span class="hljs-number">07</span>-<span class="hljs-number">10</span> <span class="hljs-number">07</span>:<span class="hljs-number">55</span>:<span class="hljs-number">00.828</span>: E/TiMedia(<span class="hljs-number">4135</span>):     at org.appcelerator.kroll.runtime.v8.V8Object.fireEvent(V8Object.java:<span class="hljs-number">64</span>)
<span class="hljs-number">07</span>-<span class="hljs-number">10</span> <span class="hljs-number">07</span>:<span class="hljs-number">55</span>:<span class="hljs-number">00.828</span>: E/TiMedia(<span class="hljs-number">4135</span>):     at org.appcelerator.kroll.KrollProxy.doFireEvent(KrollProxy.java:<span class="hljs-number">884</span>)
<span class="hljs-number">07</span>-<span class="hljs-number">10</span> <span class="hljs-number">07</span>:<span class="hljs-number">55</span>:<span class="hljs-number">00.828</span>: E/TiMedia(<span class="hljs-number">4135</span>):     at org.appcelerator.kroll.KrollProxy.handleMessage(KrollProxy.java:<span class="hljs-number">1107</span>)
<span class="hljs-number">07</span>-<span class="hljs-number">10</span> <span class="hljs-number">07</span>:<span class="hljs-number">55</span>:<span class="hljs-number">00.828</span>: E/TiMedia(<span class="hljs-number">4135</span>):     at org.appcelerator.titanium.proxy.TiViewProxy.handleMessage(TiViewProxy.java:<span class="hljs-number">329</span>)
<span class="hljs-number">07</span>-<span class="hljs-number">10</span> <span class="hljs-number">07</span>:<span class="hljs-number">55</span>:<span class="hljs-number">00.828</span>: E/TiMedia(<span class="hljs-number">4135</span>):     at android.os.Handler.dispatchMessage(Handler.java:<span class="hljs-number">95</span>)
<span class="hljs-number">07</span>-<span class="hljs-number">10</span> <span class="hljs-number">07</span>:<span class="hljs-number">55</span>:<span class="hljs-number">00.828</span>: E/TiMedia(<span class="hljs-number">4135</span>):     at android.os.Looper.loop(Looper.java:<span class="hljs-number">137</span>)
<span class="hljs-number">07</span>-<span class="hljs-number">10</span> <span class="hljs-number">07</span>:<span class="hljs-number">55</span>:<span class="hljs-number">00.828</span>: E/TiMedia(<span class="hljs-number">4135</span>):     at org.appcelerator.kroll.KrollRuntime$KrollRuntimeThread.run(KrollRuntime.java:<span class="hljs-number">112</span>)
<span class="hljs-number">07</span>-<span class="hljs-number">10</span> <span class="hljs-number">07</span>:<span class="hljs-number">55</span>:<span class="hljs-number">00.828</span>: E/TiMedia(<span class="hljs-number">4135</span>): Caused by: libcore.io.ErrnoException: open failed: EMFILE (Too many open files)
<span class="hljs-number">07</span>-<span class="hljs-number">10</span> <span class="hljs-number">07</span>:<span class="hljs-number">55</span>:<span class="hljs-number">00.828</span>: E/TiMedia(<span class="hljs-number">4135</span>):     at libcore.io.Posix.open(Native Method)
<span class="hljs-number">07</span>-<span class="hljs-number">10</span> <span class="hljs-number">07</span>:<span class="hljs-number">55</span>:<span class="hljs-number">00.828</span>: E/TiMedia(<span class="hljs-number">4135</span>):     at libcore.io.BlockGuardOs.open(BlockGuardOs.java:<span class="hljs-number">110</span>)
<span class="hljs-number">07</span>-<span class="hljs-number">10</span> <span class="hljs-number">07</span>:<span class="hljs-number">55</span>:<span class="hljs-number">00.828</span>: E/TiMedia(<span class="hljs-number">4135</span>):     at java.io.File.createNewFile(File.java:<span class="hljs-number">933</span>)
<span class="hljs-number">07</span>-<span class="hljs-number">10</span> <span class="hljs-number">07</span>:<span class="hljs-number">55</span>:<span class="hljs-number">00.828</span>: E/TiMedia(<span class="hljs-number">4135</span>):     ... <span class="hljs-number">11</span> more
<span class="hljs-number">07</span>-<span class="hljs-number">10</span> <span class="hljs-number">07</span>:<span class="hljs-number">55</span>:<span class="hljs-number">00.851</span>: E/JavaBinder(<span class="hljs-number">4135</span>): !!! FAILED BINDER TRANSACTION !!!
<span class="hljs-number">07</span>-<span class="hljs-number">10</span> <span class="hljs-number">07</span>:<span class="hljs-number">55</span>:<span class="hljs-number">00.851</span>: W/InputDispatcher(<span class="hljs-number">220</span>): channel ~ Consumer closed input channel or an error occurred.  events=<span class="hljs-number">0x8</span>
<span class="hljs-number">07</span>-<span class="hljs-number">10</span> <span class="hljs-number">07</span>:<span class="hljs-number">55</span>:<span class="hljs-number">00.851</span>: E/InputDispatcher(<span class="hljs-number">220</span>): channel ~ Channel is unrecoverably broken and will be disposed!
<span class="hljs-number">07</span>-<span class="hljs-number">10</span> <span class="hljs-number">07</span>:<span class="hljs-number">55</span>:<span class="hljs-number">00.851</span>: W/InputDispatcher(<span class="hljs-number">220</span>): Attempted to unregister already unregistered input channel
<span class="hljs-number">07</span>-<span class="hljs-number">10</span> <span class="hljs-number">07</span>:<span class="hljs-number">55</span>:<span class="hljs-number">00.851</span>: D/KeyguardViewMediator(<span class="hljs-number">220</span>): setHidden <span class="hljs-literal">false</span>
<span class="hljs-number">07</span>-<span class="hljs-number">10</span> <span class="hljs-number">07</span>:<span class="hljs-number">55</span>:<span class="hljs-number">00.851</span>: D/skia(<span class="hljs-number">4135</span>): ------- imageref_ashmem create failed &lt;(null)&gt; <span class="hljs-number">65536</span>
<span class="hljs-number">07</span>-<span class="hljs-number">10</span> <span class="hljs-number">07</span>:<span class="hljs-number">55</span>:<span class="hljs-number">00.851</span>: I/WindowManager(<span class="hljs-number">220</span>): WINDOW DIED Window{<span class="hljs-number">41f</span>7f520 XX.XXXXXXXXXXX.XXXXXXXXXXXX/XXX.XXXXXXXXXXXX.XXXXXXXX.XXXXXXXXXX paused=<span class="hljs-literal">false</span>}
<span class="hljs-number">07</span>-<span class="hljs-number">10</span> <span class="hljs-number">07</span>:<span class="hljs-number">55</span>:<span class="hljs-number">00.859</span>: W/TiUIDialog(<span class="hljs-number">4135</span>): (main) [<span class="hljs-number">35</span>,<span class="hljs-number">398918</span>] Context must have gone away: Adding window failed
<span class="hljs-number">07</span>-<span class="hljs-number">10</span> <span class="hljs-number">07</span>:<span class="hljs-number">55</span>:<span class="hljs-number">00.859</span>: W/TiUIDialog(<span class="hljs-number">4135</span>): java.lang.RuntimeException: Adding window failed
<span class="hljs-number">07</span>-<span class="hljs-number">10</span> <span class="hljs-number">07</span>:<span class="hljs-number">55</span>:<span class="hljs-number">00.859</span>: W/TiUIDialog(<span class="hljs-number">4135</span>):     at android.view.ViewRootImpl.setView(ViewRootImpl.java:<span class="hljs-number">578</span>)
<span class="hljs-number">07</span>-<span class="hljs-number">10</span> <span class="hljs-number">07</span>:<span class="hljs-number">55</span>:<span class="hljs-number">00.859</span>: W/TiUIDialog(<span class="hljs-number">4135</span>):     at android.view.WindowManagerImpl.addView(WindowManagerImpl.java:<span class="hljs-number">313</span>)
<span class="hljs-number">07</span>-<span class="hljs-number">10</span> <span class="hljs-number">07</span>:<span class="hljs-number">55</span>:<span class="hljs-number">00.859</span>: W/TiUIDialog(<span class="hljs-number">4135</span>):     at android.view.WindowManagerImpl.addView(WindowManagerImpl.java:<span class="hljs-number">215</span>)
<span class="hljs-number">07</span>-<span class="hljs-number">10</span> <span class="hljs-number">07</span>:<span class="hljs-number">55</span>:<span class="hljs-number">00.859</span>: W/TiUIDialog(<span class="hljs-number">4135</span>):     at android.view.WindowManagerImpl$CompatModeWrapper.addView(WindowManagerImpl.java:<span class="hljs-number">140</span>)
<span class="hljs-number">07</span>-<span class="hljs-number">10</span> <span class="hljs-number">07</span>:<span class="hljs-number">55</span>:<span class="hljs-number">00.859</span>: W/TiUIDialog(<span class="hljs-number">4135</span>):     at android.view.Window$LocalWindowManager.addView(Window.java:<span class="hljs-number">537</span>)
<span class="hljs-number">07</span>-<span class="hljs-number">10</span> <span class="hljs-number">07</span>:<span class="hljs-number">55</span>:<span class="hljs-number">00.859</span>: W/TiUIDialog(<span class="hljs-number">4135</span>):     at android.app.Dialog.show(Dialog.java:<span class="hljs-number">278</span>)
<span class="hljs-number">07</span>-<span class="hljs-number">10</span> <span class="hljs-number">07</span>:<span class="hljs-number">55</span>:<span class="hljs-number">00.859</span>: W/TiUIDialog(<span class="hljs-number">4135</span>):     at ti.modules.titanium.ui.widget.TiUIDialog.show(TiUIDialog.java:<span class="hljs-number">298</span>)
<span class="hljs-number">07</span>-<span class="hljs-number">10</span> <span class="hljs-number">07</span>:<span class="hljs-number">55</span>:<span class="hljs-number">00.859</span>: W/TiUIDialog(<span class="hljs-number">4135</span>):     at ti.modules.titanium.ui.AlertDialogProxy$<span class="hljs-number">1.</span>run(AlertDialogProxy.java:<span class="hljs-number">73</span>)
<span class="hljs-number">07</span>-<span class="hljs-number">10</span> <span class="hljs-number">07</span>:<span class="hljs-number">55</span>:<span class="hljs-number">00.859</span>: W/TiUIDialog(<span class="hljs-number">4135</span>):     at android.os.Handler.handleCallback(Handler.java:<span class="hljs-number">605</span>)
<span class="hljs-number">07</span>-<span class="hljs-number">10</span> <span class="hljs-number">07</span>:<span class="hljs-number">55</span>:<span class="hljs-number">00.859</span>: W/TiUIDialog(<span class="hljs-number">4135</span>):     at android.os.Handler.dispatchMessage(Handler.java:<span class="hljs-number">92</span>)
<span class="hljs-number">07</span>-<span class="hljs-number">10</span> <span class="hljs-number">07</span>:<span class="hljs-number">55</span>:<span class="hljs-number">00.859</span>: W/TiUIDialog(<span class="hljs-number">4135</span>):     at android.os.Looper.loop(Looper.java:<span class="hljs-number">137</span>)
<span class="hljs-number">07</span>-<span class="hljs-number">10</span> <span class="hljs-number">07</span>:<span class="hljs-number">55</span>:<span class="hljs-number">00.859</span>: W/TiUIDialog(<span class="hljs-number">4135</span>):     at android.app.ActivityThread.main(ActivityThread.java:<span class="hljs-number">4514</span>)
<span class="hljs-number">07</span>-<span class="hljs-number">10</span> <span class="hljs-number">07</span>:<span class="hljs-number">55</span>:<span class="hljs-number">00.859</span>: W/TiUIDialog(<span class="hljs-number">4135</span>):     at java.lang.reflect.Method.invokeNative(Native Method)
<span class="hljs-number">07</span>-<span class="hljs-number">10</span> <span class="hljs-number">07</span>:<span class="hljs-number">55</span>:<span class="hljs-number">00.859</span>: W/TiUIDialog(<span class="hljs-number">4135</span>):     at java.lang.reflect.Method.invoke(Method.java:<span class="hljs-number">511</span>)
<span class="hljs-number">07</span>-<span class="hljs-number">10</span> <span class="hljs-number">07</span>:<span class="hljs-number">55</span>:<span class="hljs-number">00.859</span>: W/TiUIDialog(<span class="hljs-number">4135</span>):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:<span class="hljs-number">790</span>)
<span class="hljs-number">07</span>-<span class="hljs-number">10</span> <span class="hljs-number">07</span>:<span class="hljs-number">55</span>:<span class="hljs-number">00.859</span>: W/TiUIDialog(<span class="hljs-number">4135</span>):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:<span class="hljs-number">557</span>)
<span class="hljs-number">07</span>-<span class="hljs-number">10</span> <span class="hljs-number">07</span>:<span class="hljs-number">55</span>:<span class="hljs-number">00.859</span>: W/TiUIDialog(<span class="hljs-number">4135</span>):     at dalvik.system.NativeStart.main(Native Method)
<span class="hljs-number">07</span>-<span class="hljs-number">10</span> <span class="hljs-number">07</span>:<span class="hljs-number">55</span>:<span class="hljs-number">00.859</span>: W/TiUIDialog(<span class="hljs-number">4135</span>): Caused by: android.os.TransactionTooLargeException
<span class="hljs-number">07</span>-<span class="hljs-number">10</span> <span class="hljs-number">07</span>:<span class="hljs-number">55</span>:<span class="hljs-number">00.859</span>: W/TiUIDialog(<span class="hljs-number">4135</span>):     at android.os.BinderProxy.transact(Native Method)
<span class="hljs-number">07</span>-<span class="hljs-number">10</span> <span class="hljs-number">07</span>:<span class="hljs-number">55</span>:<span class="hljs-number">00.859</span>: W/TiUIDialog(<span class="hljs-number">4135</span>):     at android.view.IWindowSession$Stub$Proxy.add(IWindowSession.java:<span class="hljs-number">516</span>)
<span class="hljs-number">07</span>-<span class="hljs-number">10</span> <span class="hljs-number">07</span>:<span class="hljs-number">55</span>:<span class="hljs-number">00.859</span>: W/TiUIDialog(<span class="hljs-number">4135</span>):     at android.view.ViewRootImpl.setView(ViewRootImpl.java:<span class="hljs-number">568</span>)
<span class="hljs-number">07</span>-<span class="hljs-number">10</span> <span class="hljs-number">07</span>:<span class="hljs-number">55</span>:<span class="hljs-number">00.859</span>: W/TiUIDialog(<span class="hljs-number">4135</span>):     ... <span class="hljs-number">16</span> more
<span class="hljs-number">07</span>-<span class="hljs-number">10</span> <span class="hljs-number">07</span>:<span class="hljs-number">55</span>:<span class="hljs-number">00.859</span>: W/InputManagerService(<span class="hljs-number">220</span>): Window already focused, ignoring focus gain of: com.android.internal.view.IInputMethodClient$Stub$Proxy@<span class="hljs-number">41</span>cc6ea8
</code></pre><p>I start to think that in titanium is not possible to take more than 15 pictures on android. and this seems to be serious problem.</p>
</div>
							<div class="author">
								&mdash; commented <span title="July 10th 2014, 4:03:29 am">July 10th 2014</span>
								by <span class='authorname'>Martin Gmuca</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Can you create a working test case? I would also like to test this. Maybe you should also create a <a href="http:&#x2F;&#x2F;jira.appcelerator.org">JIRA</a> issue if this seems to be a bug.</p>
</div>
							<div class="author">
								&mdash; commented <span title="July 10th 2014, 10:27:45 am">July 10th 2014</span>
								by <span class='authorname'>Manuel Lehner</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Finally I resolved this issue,</p>
<p>Issue disappear when I removed code which was openin loading window from this block. (APP.openloading)<br>this code just create new view with text &quot;loading &quot; and display it on screen</p>
<p>I have no idea how openieng and displaying new view could have influence on saving file but… it is working good now.</p>
</div>
							<div class="author">
								&mdash; commented <span title="July 10th 2014, 11:31:07 am">July 10th 2014</span>
								by <span class='authorname'>Martin Gmuca</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>-1</span> Votes</div>
			<div class="answers"><span>0</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>0 Answers</h3>

	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
