<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Google Maps v2 for Android - Map appears blank, only zoom and location buttons appear » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Google Maps v2 for Android - Map appears blank, only zoom and location buttons appear</h1>
		</header>
		<section>
			<p>In my app I use a view manager that loads content offscreen and then animates the View onscreen by setting the left property. The only way I can get the map to appear is if I also include changing the opacity in the animation call. I created a small Alloy app to illustrate.</p>
<p>index.js</p>
<pre><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">doClick</span>(<span class="hljs-params">e</span>) </span>{  
    $.mapView.animate({left:<span class="hljs-number">0</span>, opacity:<span class="hljs-number">1</span>})
}

<span class="hljs-keyword">var</span> map1 = MapModule.createView({
    userLocation: <span class="hljs-literal">true</span>,
    mapType: MapModule.NORMAL_TYPE,
    animate: <span class="hljs-literal">true</span>,
    region: {latitude: -<span class="hljs-number">33.87365</span>, longitude: <span class="hljs-number">151.20689</span>, latitudeDelta: <span class="hljs-number">0.1</span>, longitudeDelta: <span class="hljs-number">0.1</span> },
    height: <span class="hljs-string">'100%'</span>,
    top: <span class="hljs-number">0</span>,
    left: <span class="hljs-number">0</span>,
    width: <span class="hljs-string">'100%'</span>
});

$.mapView.add(map1);

$.win.open();
</code></pre><p>index.xml</p>
<pre><code class="hljs"><span class="hljs-tag">&lt;<span class="hljs-title">Alloy</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">Window</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"container"</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"win"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">Label</span> <span class="hljs-attribute">onClick</span>=<span class="hljs-value">"doClick"</span> <span class="hljs-attribute">height</span>=<span class="hljs-value">"100"</span>&gt;</span>Click HERE<span class="hljs-tag">&lt;/<span class="hljs-title">Label</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">View</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"mapView"</span>&gt;</span>

        <span class="hljs-tag">&lt;/<span class="hljs-title">View</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">Window</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">Alloy</span>&gt;</span>
</code></pre><p>index.tss</p>
<pre><code class="hljs">"<span class="hljs-class">.container</span>": <span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">backgroundColor</span>:<span class="hljs-value"><span class="hljs-string">"white"</span>
</span></span></span>},
"<span class="hljs-id">#mapView</span>": <span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">top</span>:<span class="hljs-value"><span class="hljs-number">0</span>,
    bottom:<span class="hljs-number">0</span>,
    opacity:<span class="hljs-number">1</span>,
    width:Ti.Platform.displayCaps.platformWidth,
    left:Ti.Platform.displayCaps.platformWidth
</span></span></span>}
</code></pre><p>If you remove opacity from the animate call the map shows up blank.</p>
<pre><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">doClick</span>(<span class="hljs-params">e</span>) </span>{  
    $.mapView.animate({left:<span class="hljs-number">0</span>})
}
</code></pre><p>Its a dirty trick that seems to work for me, although I would be very interested to know why changing the opacity in the animate call (just adding $.mapView.opacity = 1; doesn&#39;t work) makes the map appear… </p>
<p>Titanium SDK version: 3.0.2 (02&#x2F;15&#x2F;13 19:02 5a77fe7) OSX<br>Testing on Galaxy S3, Android 4.1.2</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="March 26th 2013, 4:35:37 pm">March 26th 2013</span>
				by <span class='authorname'>Nick Foti</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>alloy</span></li>
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>animation</span></li>
					
						<li><span class='tagname'>map</span></li>
					
						<li><span class='tagname'>module</span></li>
					
				</ul>
			

			<section>
				<h5>4 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Update still seeing this issue with Titanium SDK 3.1 and ti.map module v2.1.0. It does seem that adding the mapview to another view causes the issue. Any suggestions on how to get around it, besides adding to a Window? Should this be submitted as a bug?</p>
</div>
							<div class="author">
								&mdash; commented <span title="May 3rd 2013, 2:53:08 pm">May 3rd 2013</span>
								by <span class='authorname'>Nick Foti</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Hello Nick,</p>
<p>There is a similar discussion forum here: <a href="http:&#x2F;&#x2F;stackoverflow.com&#x2F;questions&#x2F;15615759&#x2F;blank-googlemap-on-a-real-android-2-3-device-with-google-api-lv-17">http:&#x2F;&#x2F;stackoverflow.com&#x2F;questions&#x2F;15615759&#x2F;blank-googlemap-on-a-real-android-2-3-device-with-google-api-lv-17</a>.</p>
<p>Can you try to manually set the date and time of device to current time? If the issue persists for you can you post device logs please?</p>
<p>Hope hearing from you soon, thanks.</p>
</div>
							<div class="author">
								&mdash; commented <span title="May 6th 2013, 5:44:01 pm">May 6th 2013</span>
								by <span class='authorname'>Eduardo Gomez</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Nick<br>How did you get the map module to even run on 3.0.2? I&#39;m trying to run the module, but i have to change the manifest from 3.1 to 3.0.2 and its not recognized in the build.</p>
<p>matt</p>
</div>
							<div class="author">
								&mdash; commented <span title="May 7th 2013, 8:18:47 pm">May 7th 2013</span>
								by <span class='authorname'>matt s</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>did you manage to fix this?</p>
</div>
							<div class="author">
								&mdash; commented <span title="September 24th 2013, 1:03:53 pm">September 24th 2013</span>
								by <span class='authorname'>Cleison Pereira</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>6</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>6 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-275308">
				
						<section>
							<p>me also faced same problem , the exact root cause of Problem expalains below </p>
<p>1)For Android 3.x and 4.0.x, do not place a map view inside a modal window, that is, do not set the Window&#39;s modal property to true.</p>
<p>2) Make sure that Google Play services is installed on the device.</p>
<p>3) android:anyDensity=&quot;false&quot; ( if you use this tag inside tiapp.xml under android manifest  map will appear in black )</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="February 17th 2014, 5:07:07 am">February 17th 2014</span>
								by <span class='authorname'>sravan kumar</span><br>
								<a class="icon-bg icon-link" href="question/150079/google-maps-v2-for-android---map-appears-blank-only-zoom-and-location-buttons-appear#answer-275308" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>It works for me when android:anyDensity=&quot;true&quot; is set. But all of the buttons and images are not displaying properly. How to make both work</p>
</p>
										<div class="author">
											&mdash; commented <span title="February 27th 2014, 1:28:43 am">February 27th 2014</span>
											by <span class='authorname'>Suresh Velagaleti</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-260683">
				
						<section>
							<p>Put the mapview into a window. Not into a view.</p>
<p>Try it. I had the same problem and this solved it.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="April 13th 2013, 6:52:53 pm">April 13th 2013</span>
								by <span class='authorname'>Miguel Ángel Castaño Fajardo</span><br>
								<a class="icon-bg icon-link" href="question/150079/google-maps-v2-for-android---map-appears-blank-only-zoom-and-location-buttons-appear#answer-260683" rel="permalink">permalink</a>
							</div>

							<h5>2 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Glad to hear someone else has observed the behavior. Seems very odd and maybe a bug? I don&#39;t see where in the docs it says you can&#39;t add mapview to a regular view. Also, the old v1 had no problems displaying in a view. The issue I have is that the app I&#39;m working in is constructed with one Window and multiple views are used to navigate through the app. So I would have no way of adding it to the window and displaying the map inline where I need it to be.</p>
<p>Any suggestions?</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 3rd 2013, 2:47:10 pm">May 3rd 2013</span>
											by <span class='authorname'>Nick Foti</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Nick, did you manage to resolve this issue? I have a similar issue to yours.</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 24th 2013, 3:37:49 am">May 24th 2013</span>
											by <span class='authorname'>Demostenes Garcia</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-262238">
				
						<section>
							<p>I finally got my v2 maps working. I had the same black screen issue. My problem was the window being modal. I think if the window becomes an android &quot;heavyweight&quot; window, Alloy can&#39;t manage to get it working.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="May 6th 2013, 8:50:59 pm">May 6th 2013</span>
								by <span class='authorname'>Tyler Reid</span><br>
								<a class="icon-bg icon-link" href="question/150079/google-maps-v2-for-android---map-appears-blank-only-zoom-and-location-buttons-appear#answer-262238" rel="permalink">permalink</a>
							</div>

							<h5>4 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Should the window be lightweight then?</p>
<p>Can you post a test case please?</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 6th 2013, 8:55:05 pm">May 6th 2013</span>
											by <span class='authorname'>Eduardo Gomez</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I haven&#39;t done any full testing. I simply removed modal from my window declaration and it worked.</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 6th 2013, 9:31:00 pm">May 6th 2013</span>
											by <span class='authorname'>Tyler Reid</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I don&#39;t think these issues have anything to do with Alloy, just to be clear. Sounds like it&#39;s an Android platform issue when using lightweight versus heavyweight windows, which Alloy has no impact on.</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 6th 2013, 11:46:15 pm">May 6th 2013</span>
											by <span class='authorname'>Tony Lukasavage</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I think you might be partially incorrect. I believe it&#39;s an Appcelerator issue. I discovered this when I thought alloy was the problem. So I made a regular Titanium project and gave up on alloy, lo and behold as soon as I made the window that contained a v2 map modal, all I got was a black screen. Take off modal and you get the map as per proper.</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 7th 2013, 4:42:40 am">May 7th 2013</span>
											by <span class='authorname'>Tyler Reid</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-273783">
				
						<section>
							<p>I have the same problem! </p>
<p>this a part of code: </p>
<pre><code class="hljs"><span class="hljs-variable"><span class="hljs-keyword">var</span> rc</span> = MapModule.isGooglePlayServicesAvailable();
<span class="hljs-keyword">if</span>(rc == MapModule.SUCCESS ) Ti.API.info('Google Play services <span class="hljs-keyword">is</span> installed.');
</code></pre><p>and this is the log</p>
<pre><code class="hljs">[ERROR] :  GooglePlayServicesUtil: The Google Play services resources were not found. <span class="hljs-operator"><span class="hljs-keyword">Check</span> your <span class="hljs-keyword">project</span> configuration <span class="hljs-keyword">to</span> ensure that the resources <span class="hljs-keyword">are</span> included.

[INFO] :   Google Play services <span class="hljs-keyword">is</span> installed.</span>
</code></pre><p>I have GooglePlayService, so why the error <strong>GooglePlayServicesUtil</strong> ???</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="January 11th 2014, 2:38:23 am">January 11th 2014</span>
								by <span class='authorname'>Vito Lipari</span><br>
								<a class="icon-bg icon-link" href="question/150079/google-maps-v2-for-android---map-appears-blank-only-zoom-and-location-buttons-appear#answer-273783" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>hi!</p>
<p>I had the same problem!<br>(  I am cannot speak English…) </p>
<p>Look at  alloy examples. (https:&#x2F;&#x2F;github.com&#x2F;appcelerator&#x2F;alloy&#x2F;tree&#x2F;master&#x2F;test&#x2F;apps&#x2F;ui&#x2F;map)</p>
<ul>
<li><p>Load  Ti.Map module at alloy.js</p>
<p>https:&#x2F;&#x2F;github.com&#x2F;appcelerator&#x2F;alloy&#x2F;blob&#x2F;master&#x2F;test&#x2F;apps&#x2F;ui&#x2F;map&#x2F;alloy.js </p>
</li>
<li><p>specify the following down on View tags at<br>https:&#x2F;&#x2F;github.com&#x2F;appcelerator&#x2F;alloy&#x2F;blob&#x2F;master&#x2F;test&#x2F;apps&#x2F;ui&#x2F;map&#x2F;views&#x2F;index.xml</p>
<p>&lt;View ns=&quot;Ti.Map&quot; id=&quot;map&quot;&gt;</p>
</li>
</ul>
<p>What&#39;s ns property? I don&#39;t understand.</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 26th 2014, 2:19:35 am">January 26th 2014</span>
											by <span class='authorname'>Issei KOMATSU</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-275306">
				
						<section>
							<p>me also faced same problem , the exact root cause of Problem explains below </p>
<p>1)For Android 3.x and 4.0.x, do not place a map view inside a modal window, that is, do not set the Window&#39;s modal property to true.</p>
<p>2) Make sure that Google Play services is installed on the device.</p>
<p>3) android:anyDensity=&quot;false&quot; ( if you use this tag inside tiapp.xml under android manifest  map will appear in<br>black )</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="February 17th 2014, 5:03:41 am">February 17th 2014</span>
								by <span class='authorname'>sravan kumar</span><br>
								<a class="icon-bg icon-link" href="question/150079/google-maps-v2-for-android---map-appears-blank-only-zoom-and-location-buttons-appear#answer-275306" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-261173">
				
						<section>
							<p>if you use Titan3.1, don&#39;t use MapModule.createView, use Ti.Map will get it works<br>MapModule.createView is for Titanium3.0 without the Ti.Map module</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="April 20th 2013, 6:50:59 am">April 20th 2013</span>
								by <span class='authorname'>Steven Diep</span><br>
								<a class="icon-bg icon-link" href="question/150079/google-maps-v2-for-android---map-appears-blank-only-zoom-and-location-buttons-appear#answer-261173" rel="permalink">permalink</a>
							</div>

							<h5>4 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Can you clarify this answer a little bit? What do you mean use Ti.Map?</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 26th 2013, 4:34:39 pm">April 26th 2013</span>
											by <span class='authorname'>Tyler Reid</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Yeah, I&#39;m not sure that&#39;s true. Using Ti.Map defaults to the old maps for android v1.</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 2nd 2013, 6:19:22 pm">May 2nd 2013</span>
											by <span class='authorname'>Nick Foti</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Yes, Ti.Map works perfectly on v1. For v2, in our case, we have to create a new SHA1. However, on Google Play, we have to submit as a new App rather than releasing a new version (due to different SHA1 compare to the previous release)</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 3rd 2013, 6:28:06 am">May 3rd 2013</span>
											by <span class='authorname'>Steven Diep</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I&#39;m still not sure I follow. I&#39;m using Ti 3.1 now and using Ti.Map in my code results in google maps for android v1 being displayed. To display google maps for android v2 I have to include ti.map module for android v2.1.0 in my tiapp.xml file and reference the module in my alloy.js file. </p>
<p>Are you saying that using Ti.Map.createView results in a google maps for android v2 in your app?</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 3rd 2013, 2:50:55 pm">May 3rd 2013</span>
											by <span class='authorname'>Nick Foti</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>-4</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
