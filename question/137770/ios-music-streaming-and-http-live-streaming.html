<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>iOS Music Streaming and HTTP Live Streaming » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>iOS Music Streaming and HTTP Live Streaming</h1>
		</header>
		<section>
			<p>Hi,</p>
<p>I have several questions about audio streaming :</p>
<p>1 °&#x2F; I need to stream some mp3 music file over http, they are encoded at 128Kbps. Do I really need the HTTP Live Streaming service (HLS) ?</p>
<p>2 °&#x2F; If I have to use the HLS, is the Ti.Media.AudioPlayer can handle the m3u8 HLS produced files ?</p>
<p>3 °&#x2F; Do I need a Mac OS Server to run the HLS ? Or a simple linux server can do the trick ?</p>
<p>4 °&#x2F; Where can I found a good tutorial about HLS ? (else than the Apple Doc)</p>
<p>Thanks !</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="June 2nd 2012, 9:40:56 am">June 2nd 2012</span>
				by <span class='authorname'>Ethan Sebban</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>audioplayer</span></li>
					
						<li><span class='tagname'>http live streaming</span></li>
					
						<li><span class='tagname'>ios</span></li>
					
						<li><span class='tagname'>m3u8</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-239977">
				
						<section>
							<p>have you tried a simple test using :</p>
<pre><code class="hljs">
Titanium.Media.audioSessionMode = Ti.Media.AUDIO_SESSION_MODE_PLAYBACK<span class="hljs-comment">;</span>

var streamer = Ti.Media.createAudioPlayer()<span class="hljs-comment">;</span>

streamer.url = "http://yourdomain.com/some_mp3_file.mp3"<span class="hljs-comment">;</span>

streamer.start()<span class="hljs-comment">;</span>
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="June 2nd 2012, 2:07:12 pm">June 2nd 2012</span>
								by <span class='authorname'>Kosso</span><br>
								<a class="icon-bg icon-link" href="question/137770/ios-music-streaming-and-http-live-streaming#answer-239977" rel="permalink">permalink</a>
							</div>

							<h5>3 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>You don&#39;t need to use HLS at all.<br>Simply host and serve the mp3 via standard HTTP.</p>
</p>
										<div class="author">
											&mdash; commented <span title="June 2nd 2012, 2:08:00 pm">June 2nd 2012</span>
											by <span class='authorname'>Kosso</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I know that, but i think i can&#39;t serve the mp3 via standard HTTP because of the iTunes submission guidelines…</p>
</p>
										<div class="author">
											&mdash; commented <span title="June 2nd 2012, 8:13:27 pm">June 2nd 2012</span>
											by <span class='authorname'>Ethan Sebban</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Another vote for using standard http.</p>
<ol>
<li>Many (if not all) podcatcher apps stream and download over 3G. I doubt they host <strong>all</strong> podcasts on their own servers.</li>
<li>AppStore reviewers aren&#39;t as strict as you think they are. And most cases, they just use the app rather than looking through the codes for technical issues.</li>
<li>Even if it is rejected, you can always fix resubmit… it&#39;s not the end of the world.</li>
</ol>
</p>
										<div class="author">
											&mdash; commented <span title="June 3rd 2012, 9:20:39 am">June 3rd 2012</span>
											by <span class='authorname'>soemarko ridwan</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-240003">
				
						<section>
							<ul>
<li><p>If you might run afoul of section 9.3 of the <a href="https:&#x2F;&#x2F;developer.apple.com&#x2F;appstore&#x2F;guidelines.html">iTunes submission guidelines</a>, you may need to run HLS.</p>
<p><em>9.3 Audio streaming content over a cellular network may not use more than 5MB over 5 minutes</em></p>
</li>
<li>You can host HLS files on any web server</li>
<li>The audioPlayer will NOT handle HLS files, you need to use the videoPlayer</li>
<li>Tutorials? Try the Apple HLS forums for help.</li>
</ul>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="June 2nd 2012, 6:24:18 pm">June 2nd 2012</span>
								by <span class='authorname'>Stephen Feather</span><br>
								<a class="icon-bg icon-link" href="question/137770/ios-music-streaming-and-http-live-streaming#answer-240003" rel="permalink">permalink</a>
							</div>

							<h5>4 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Thanks !<br>And about the bitrates, do I need to re-encode my mp3 to 64kbps or just segmentate them to respect the iTunes submission guidelines ?</p>
</p>
										<div class="author">
											&mdash; commented <span title="June 2nd 2012, 8:11:54 pm">June 2nd 2012</span>
											by <span class='authorname'>Ethan Sebban</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Now we start thinking like lawyers.  The guidelines say 5mb over 5 minutes. So, we are looking at 1mb per minute.</p>
<ul>
<li>32k, 1mb =  4 minutes, 22 seconds</li>
<li>64k, 1mb = 2 minutes, 11 seconds</li>
<li>96k, 1mb = 1 minute, 27 seconds</li>
<li>128k, 1mb = 1 minute, 5 seconds</li>
</ul>
<p>Your worry free point is really 96k.  But 128k should let you scrape by.<br>While the guidelines SAY 5 mb over 5 minutes, if your player pulls a 5mb mp3 down in one chunk in the first minute as a STREAM not saved to file system, app can&#x2F;may&#x2F;probably be rejected.</p>
<p>A 60 minute speech, that is only 10mb can get you rejected if it all comes down in the first minute.  Doesn&#39;t matter what the average over 60 minutes is.</p>
<p>Sure, there are apps in the store that violate this rule.  There are apps that were submitted with a low bitrate to get through then pumped it up after approval.</p>
<p>Your decision below the 128k threshhold depends more on the content of the mp3s themselves.  If its speech, you can get down to about 48k before the tinny sound from the mp3 compression kicks in. We average around 32k for our clients (speech only) but for music, it needs to be 96k-128k for it to sound decent. </p>
<p>I see 64k as a magic number.  That number is seen in 9.4 in regards to video.  Apple wants to see a 64k (or less) AUDIO feed as the fallback if the bandwidth is so bad we can&#39;t watch video.  That tells me that Apple, who never does anything without testing, has determined that for you to enjoy a bad video feed, you need to be listening to an audio stream up near 64k.</p>
</p>
										<div class="author">
											&mdash; commented <span title="June 3rd 2012, 12:00:16 am">June 3rd 2012</span>
											by <span class='authorname'>Stephen Feather</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>You do need osx to run Apples HLS tools.  There are other hacked together solutions.  Other than a delay in Lion binaries, we haven&#39;t had any problems with the tools.</p>
<p>We have an OSX workstation that accepts audio from clients via Dropbox.  When a new audio file is found, it runs bash scripts that compress the original to a value suitable for the net (mp3 for android&#x2F;web) then segments it (.m3u8 for ios), archives the original, and ncftps it all to the client&#39;s web server.</p>
<p>Different client&#39;s have different bit rate requirements, mostly dependent upon the quality of their audio recording equipment. More noise in the original means we can&#39;t compress it as much, as the audio we are looking for tends to get squeezed out.</p>
<p>For the record, I am not an audio engineer. I do, however, pay one to tell me what sounds best and how to fix problems in the audio.</p>
</p>
										<div class="author">
											&mdash; commented <span title="June 3rd 2012, 12:06:59 am">June 3rd 2012</span>
											by <span class='authorname'>Stephen Feather</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Apple&#39;s dirty little secret about HLS is its not much more than the .pls files used for Shoutcast&#x2F;Icecast servers about 10 years ago.  Its the segmenting thats the key.  Mini&#x2F;Chunked mp3 parts all in a playlist.</p>
<p><a href="http:&#x2F;&#x2F;code.google.com&#x2F;p&#x2F;httpsegmenter&#x2F;">httpSegmenter (linux,windows binaries)</a></p>
<p><a href="https:&#x2F;&#x2F;github.com&#x2F;johnf&#x2F;m3u8-segmenter">m3u8-segmenter (john ferlito&#39;s original)</a></p>
<p><a href="https:&#x2F;&#x2F;github.com&#x2F;krisbulman&#x2F;m3u8-segmenter">m3u8-segmenter (forked&#x2F;updated)</a></p>
</p>
										<div class="author">
											&mdash; commented <span title="June 3rd 2012, 12:18:29 am">June 3rd 2012</span>
											by <span class='authorname'>Stephen Feather</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
