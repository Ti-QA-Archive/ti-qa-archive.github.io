<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Titanium admob module not working on ios » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Titanium admob module not working on ios</h1>
		</header>
		<section>
			<p>Hello,<br>I can not display admob banner using ti.admob module (version 1.6.0) for iOS.</p>
<p>My code is similar to the code in the ti.admob example:</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> Admob = <span class="hljs-built_in">require</span>( <span class="hljs-string">'ti.admob'</span> );
<span class="hljs-keyword">var</span> win = Ti.UI.createWindow( {
  backgroundColor: <span class="hljs-string">'white'</span>
} );
<span class="hljs-keyword">var</span> ad;
win.add( ad = Admob.createView( {
  top: <span class="hljs-number">0</span>,
  left: <span class="hljs-number">0</span>,
  width: <span class="hljs-number">320</span>,
  height: <span class="hljs-number">50</span>,
  adUnitId: <span class="hljs-string">"ca-app-pub-####/####"</span>,
  adBackgroundColor: <span class="hljs-string">'black'</span>,
  <span class="hljs-comment">// You can get your device's id for testDevices by looking in the console log after the app launched</span>
  <span class="hljs-comment">//testDevices: [Admob.SIMULATOR_ID],</span>
  dateOfBirth: <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>( <span class="hljs-number">1985</span>, <span class="hljs-number">10</span>, <span class="hljs-number">1</span>, <span class="hljs-number">12</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span> ),
  gender: <span class="hljs-string">'male'</span>,
  keywords: <span class="hljs-string">''</span>
} ) );
ad.addEventListener( <span class="hljs-string">'didReceiveAd'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"> </span>) </span>{
  alert( <span class="hljs-string">'Did receive ad!'</span> );
} );
ad.addEventListener( <span class="hljs-string">'didFailToReceiveAd'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"> </span>) </span>{
  alert( <span class="hljs-string">'Failed to receive ad!'</span> );
} );
win.open( );
</code></pre><p>I always receive &#39;Failed to receive ad!&#39; in my iOS simulator. But when I uncomment the testDevices line, I receive a test banner image. I also tested it in a device (iPhone) and it has the same behavior outlined before.<br>Note that ads were working even on the simulator until around August 15th. After that they never worked again. Note they did and keep working on android with near 100% fill rate. </p>
<p>I’m using the module at <a href="https:&#x2F;&#x2F;github.com&#x2F;appcelerator&#x2F;titanium_modules&#x2F;tree&#x2F;master&#x2F;admob&#x2F;mobile&#x2F;ios">https:&#x2F;&#x2F;github.com&#x2F;appcelerator&#x2F;titanium_modules&#x2F;tree&#x2F;master&#x2F;admob&#x2F;mobile&#x2F;ios</a><br>I even tried updating it to use the latest sdk (version 6.11.0) and it still didn’t work.</p>
<p>Is it possible to get a real admob banner in the iOS simulator?</p>
<p>Do you have any suggestion?</p>
<p>Versions:</p>
<ul>
<li>OS: OSX 10.8.5</li>
<li>iOS simulator: 7.1</li>
<li>Titanium sdk: 3.2.3</li>
<li>ti.admob module: 1.6.0</li>
<li>iphone with iOS 7.1</li>
</ul>
<p>Thanks in advance.</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="September 16th 2014, 2:06:33 pm">September 16th 2014</span>
				by <span class='authorname'>Guillermo Constantino</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>admob</span></li>
					
						<li><span class='tagname'>ios</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-282415">
				
						<section>
							<p>Hi guys,</p>
<p>Something  has changed in the new Admobe module specially<br>adUnitId Replaced by publisherId and Deprecated testing Added testDevices. And check your adUnitId carefully after all take a look my test case. It works for me.</p>
<p><strong>Testing Environment</strong><br>Titanium SDK: 3.2.3.GA, 3.3.0 GA<br>Titanium CLI: 3.4.0,<br>iOS:7.1,<br>OS X Version: 10.9.4,<br>Titanium Studio: 3.4.0</p>
<p><strong>Test Case</strong></p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> Admob = <span class="hljs-built_in">require</span>(<span class="hljs-string">'ti.admob'</span>);
<span class="hljs-keyword">var</span> win = Ti.UI.createWindow({
    backgroundColor: <span class="hljs-string">'white'</span>
});

<span class="hljs-comment">/*
 We'll make two ads. This first one doesn't care about where the user is located.
 */</span>
<span class="hljs-keyword">var</span> ad;
win.add(ad = Admob.createView({
    top: <span class="hljs-number">0</span>, left: <span class="hljs-number">0</span>,
    width: <span class="hljs-number">320</span>, height: <span class="hljs-number">50</span>,
    adUnitId: <span class="hljs-string">'Previously it was publisher id'</span>, <span class="hljs-comment">// You can get your own at http: //www.admob.com/</span>
    adBackgroundColor: <span class="hljs-string">'black'</span>,
    <span class="hljs-comment">// You can get your device's id for testDevices by looking in the console log after the app launched</span>
    testDevices: [Admob.SIMULATOR_ID],
    dateOfBirth: <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(<span class="hljs-number">1985</span>, <span class="hljs-number">10</span>, <span class="hljs-number">1</span>, <span class="hljs-number">12</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>),
    gender: <span class="hljs-string">'male'</span>,
    keywords: <span class="hljs-string">''</span>
}));
ad.addEventListener(<span class="hljs-string">'didReceiveAd'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    alert(<span class="hljs-string">'Did receive ad!'</span>);
});
ad.addEventListener(<span class="hljs-string">'didFailToReceiveAd'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    alert(<span class="hljs-string">'Failed to receive ad!'</span>);
});

win.add(Ti.UI.createLabel({
    text: <span class="hljs-string">'Loading the ads now! '</span> +
        <span class="hljs-string">'Note that there may be a several minute delay '</span> +
        <span class="hljs-string">'if you have not viewed an ad in over 24 hours.'</span>,
    bottom: <span class="hljs-number">40</span>,
    height: Ti.UI.SIZE || <span class="hljs-string">'auto'</span>, width: Ti.UI.SIZE || <span class="hljs-string">'auto'</span>
}));
win.open();
</code></pre><p>If you have any question about this query, then let me know.</p>
<p>Thanks</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="September 17th 2014, 8:08:16 am">September 17th 2014</span>
								by <span class='authorname'>Motiur Rahman</span><br>
								<a class="icon-bg icon-link" href="question/177718/titanium-admob-module-not-working-on-ios#answer-282415" rel="permalink">permalink</a>
							</div>

							<h5>4 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Sorry Actually Replaced publisherId with adUnitId.</p>
</p>
										<div class="author">
											&mdash; commented <span title="September 17th 2014, 8:27:01 am">September 17th 2014</span>
											by <span class='authorname'>Motiur Rahman</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Thanks for you reply Motiur,<br>I test your code and I am getting the same result: </p>
<ul>
<li>With <em>&quot;testDevices&quot;</em>, It shows an &quot;Smart banner test ad&quot; image in the adView. And I get the &quot;Did receive Ad!&quot; alert.</li>
<li>Without <em>&quot;testDevices&quot;</em>, it doesn&#39;t load any banner, the adView is black. And I get the &quot;Failed to receive ad!&quot; alert.</li>
</ul>
<p>Do you get the same result?</p>
</p>
										<div class="author">
											&mdash; commented <span title="September 17th 2014, 11:30:23 am">September 17th 2014</span>
											by <span class='authorname'>Guillermo Constantino</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>No… Without &#39;testDevices&#39; it shows a real admob banner ad and with &quot;testDevices&quot;  I got a &quot;smart banner test ad&quot;. Try it again then let me know.</p>
<p>Thanks.</p>
</p>
										<div class="author">
											&mdash; commented <span title="September 19th 2014, 2:33:37 pm">September 19th 2014</span>
											by <span class='authorname'>Motiur Rahman</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>It seems we resolved our problem. The solution was to create different applications inside admob, one for android and one from ios. The tricky thing was that they didn&#39;t just always fail. They worked at the beginning and then failed. Same with new ads, but they started to fail sooner. Maybe it had something to do with the internal admob migration.</p>
</p>
										<div class="author">
											&mdash; commented <span title="September 22nd 2014, 11:51:39 am">September 22nd 2014</span>
											by <span class='authorname'>Federico Schroder</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
