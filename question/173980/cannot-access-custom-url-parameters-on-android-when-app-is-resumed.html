<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Cannot access custom URL parameters on android when app is resumed. Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Cannot access custom URL parameters on android when app is resumed.</h1>
		</header>
		<section>
			<p>I am allowing my app to be launched from a URL in certain situations.  When this happens, I need to pull data from the url.  I have this working in iOS, both when the app is initially launched from a url, or if the url is clicked when the app is already open.  However in Android, I cannot get that second scenario to work.<br>Here is a simplified version of the function to get the url data:</p>
<pre><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getURLdata</span><span class="hljs-params">()</span></span>{
    <span class="hljs-keyword">var</span> intent = Ti.Android.currentActivity.getIntent();
    <span class="hljs-keyword">var</span> theUrl = intent.data;
    <span class="hljs-keyword">return</span> theUrl;
}
</code></pre><p>I call this on the focus event of the index window.   When the app is initially launched from the link, I get the url.  However, I need to get it also if the was launched normally by clicking on it&#39;s icon and then the link was clicked later when the app is in the background.  In this case, the focus event fires, but theUrl is null.  (I have also tried to call the above function on the app&#39;s resume and resumed events, and the window&#39;s open event - same result)  </p>
<h3 id="use-case">Use Case</h3>
<p>The user may open the app from an emailed link for special functionality.  However, the app might already  be open.  If it is open when the click on the link, i still need to get the url from the link.</p>
<h3 id="environment">Environment</h3>
<p>Titanium SDK: 3.1.3 GA  (Although I have tried all recent sdks)<br>This is an Alloy project<br>As stated above, this issue only occurs in Android</p>
<p>Thanks in advance for any help.</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="May 7th 2014, 8:58:11 pm">May 7th 2014</span>
				by <span class='authorname'>Rick White</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>customurl parameters</span></li>
					
						<li><span class='tagname'>mobile</span></li>
					
				</ul>
			

			<section>
				<h5>1 Comment</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>same problem.<br>did you find a solution?</p>
</div>
							<div class="author">
								&mdash; commented <span title="June 12th 2014, 12:21:41 am">June 12th 2014</span>
								by <span class='authorname'>Mike Ev</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-278520">
				
						<section>
							<p>Are you grabbing the intent data in alloy.js?</p>
<p>You dont have a lot of time before android cleans up after itself.</p>
<pre><code class="hljs"><span class="hljs-keyword">if</span> (OS_ANDROID) {
    Alloy.Globals.launchurl = Ti.Android.currentActivity.<span class="hljs-type">intent</span>.<span class="hljs-type">data</span>;
}
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="May 7th 2014, 9:04:56 pm">May 7th 2014</span>
								by <span class='authorname'>Stephen Feather</span><br>
								<a class="icon-bg icon-link" href="question/173980/cannot-access-custom-url-parameters-on-android-when-app-is-resumed.html#answer-278520" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>I can access it initially if the app is opened from the URL. That is not the problem. The problem is accessing the URL if it is clicked when the app is opened. Alloy.js won&#39;t help here.</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 7th 2014, 9:34:25 pm">May 7th 2014</span>
											by <span class='authorname'>Rick White</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
