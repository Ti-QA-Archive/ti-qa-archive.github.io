<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Can Only add 19 Windows to Stack Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Can Only add 19 Windows to Stack</h1>
		</header>
		<section>
			<p>So here&#39;s a bizarre one.</p>
<p>On my HTC Incredible, I can only open 19 windows without the app crashing.  Makes absolutely no difference what&#39;s on the windows - they can be blank.  But when I click window.open() for the 19th time, the app crashes.</p>
<p>Works fine on iPhone and Android 4.0+ devices.</p>
<p>Here&#39;s my code for opening windows:</p>
<pre><code class="hljs">
exports.openWindow = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">newWindowName, params</span>)</span>{
  require_path = <span class="hljs-string">'modules/pages/'</span> + newWindowName;
  <span class="hljs-keyword">var</span> windowObj = <span class="hljs-built_in">require</span>(require_path);
  <span class="hljs-keyword">var</span> newWindow = windowObj.apply(<span class="hljs-keyword">this</span>, params);
  newWindow.open();
}
</code></pre>
		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="February 10th 2013, 9:32:40 pm">February 10th 2013</span>
				by <span class='authorname'>Ben Hill</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>htc</span></li>
					
						<li><span class='tagname'>windows</span></li>
					
				</ul>
			

			<section>
				<h5>2 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Missing from you question are several pieces of information that will help you obtain a speedy and accurate answer;</p>
<ul>
<li>Titanium SDK Version?</li>
<li>Android version installed on HTC Incredible?</li>
</ul>
</div>
							<div class="author">
								&mdash; commented <span title="February 10th 2013, 9:55:18 pm">February 10th 2013</span>
								by <span class='authorname'>Malcolm Hollingsworth</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Ti SDK 3.0.  Android 3.2.</p>
</div>
							<div class="author">
								&mdash; commented <span title="February 10th 2013, 10:02:04 pm">February 10th 2013</span>
								by <span class='authorname'>Ben Hill</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-256488">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>Hi</p>
<p>Not an answer yet, more of a question first.</p>
<ul>
<li>Why are you opening so many windows at the same time?</li>
</ul>
<p>A good app design would have memory management at its heart and I am not sure how aiming to have so many windows open at the same time would fall into that category.</p>
<p>The HTC Incredible has a reasonable spec but if it is still on 2.x then memory management is important.</p>
<p>Expand on the need to have so many windows open at the same time.</p>
<p>I would also consider adding a debug for the <a href="http:&#x2F;&#x2F;docs.appcelerator.com&#x2F;titanium&#x2F;3.0&#x2F;#!&#x2F;api&#x2F;Titanium.Platform-property-availableMemory">availableMemory</a> property as your app is being used.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="February 10th 2013, 10:05:00 pm">February 10th 2013</span>
								by <span class='authorname'>Malcolm Hollingsworth</span><br>
								<a class="icon-bg icon-link" href="question/148089/can-only-add-19-windows-to-stack.html#answer-256488" rel="permalink">permalink</a>
							</div>

							<h5>4 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Thanks so much for the answer, Malcolm!  </p>
<p>Answer: No reason in particular.  I have a multi-page app (yelp-like) where users can just navigate around as they please.  I hadn&#39;t been removing pages from memory because it seemed I never needed to.  On android at least, I understood the easiest way to go &quot;back&quot; is to just close the top window in the stack.  So by having them all remain open, they could conceivably go very deep in the app, then go all the way back.</p>
<p>Please educate me if I misunderstood how it should work in a well-built app.</p>
<p>Ben</p>
</p>
										<div class="author">
											&mdash; commented <span title="February 10th 2013, 10:14:08 pm">February 10th 2013</span>
											by <span class='authorname'>Ben Hill</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>So just tried something that I thought might work.  Whenever a window is opened, I add it to an array.  Then when the array grows past X (say 5), I close the second window.  Doesn&#39;t seem to do anything to address the issue above.</p>
<p>Do I need to do something else to release page memory?</p>
<pre><code class="hljs">
Ti.<span class="hljs-keyword">App</span>.windowStack.push(newWindow);
  <span class="hljs-keyword">if</span>(Ti.<span class="hljs-keyword">App</span>.windowStack.length &gt; 5){
    twoWindow = Ti.<span class="hljs-keyword">App</span>.windowStack[1];
    twoWindow.<span class="hljs-keyword">close</span>();
    Ti.<span class="hljs-keyword">App</span>.windowStack.splice(2,1);
    twoWindow = null;
  }
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="February 10th 2013, 10:30:43 pm">February 10th 2013</span>
											by <span class='authorname'>Ben Hill</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Also, according to Ti.Platform.availableMemory, my available memory never dips below 1967880.</p>
</p>
										<div class="author">
											&mdash; commented <span title="February 10th 2013, 10:41:03 pm">February 10th 2013</span>
											by <span class='authorname'>Ben Hill</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I ended up rewiring the app such that (for Android) it closes the prev window before opening the new one. Then set up the prev window as the target in the event listener for &quot;android:search&quot;.<br>No problems now.<br>Thanks, Malcolm.</p>
</p>
										<div class="author">
											&mdash; commented <span title="February 11th 2013, 1:51:04 am">February 11th 2013</span>
											by <span class='authorname'>Ben Hill</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-256490">
				
						<section>
							<p>Also, according to Ti.Platform.availableMemory, my available memory never dips below 1967880.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="February 10th 2013, 10:40:47 pm">February 10th 2013</span>
								by <span class='authorname'>Ben Hill</span><br>
								<a class="icon-bg icon-link" href="question/148089/can-only-add-19-windows-to-stack.html#answer-256490" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>I ended up rewiring the app such that (for Android) it closes the prev window before opening the new one.  Then set up the prev window as the target in the event listener for &quot;android:search&quot;.</p>
<p>No problems now.</p>
<p>Thanks, Malcolm.</p>
</p>
										<div class="author">
											&mdash; commented <span title="February 11th 2013, 1:50:34 am">February 11th 2013</span>
											by <span class='authorname'>Ben Hill</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
