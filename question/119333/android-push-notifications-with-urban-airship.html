<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Android Push Notifications with Urban Airship » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Android Push Notifications with Urban Airship</h1>
		</header>
		<section>
			<p>Hi everyone, </p>
<p>I&#39;m currently building an app on iOS and Android.<br>First thing I want you to know: the push notifications were quite easy to set up on iOS. Works great so far.</p>
<p>Troubles began when I tried to develop the Android version. I found several useful links about that, but I wasn&#39;t able to connect the dots yet.<br>So I thought it would be a good idea to ask: <strong>has someone succeeded to set up push notifications in Android</strong>?</p>
<p>Here are the things I&#39;ve read&#x2F;tried:</p>
<ul>
<li><a href="http:&#x2F;&#x2F;urbanairship.com&#x2F;blog&#x2F;2010&#x2F;09&#x2F;08&#x2F;push-notifications-on-android-faq&#x2F;">Official UrbanAirship announce</a> of Android Push Notification support. But they seem to install their own &quot;app&quot; to enable push notifications for devices with Android SDK &gt; 1.5</li>
<li><a href="http:&#x2F;&#x2F;code.google.com&#x2F;android&#x2F;c2dm&#x2F;index.html">The official Google documentation for C2DM</a>, which enable push notifications for devices with Android&gt;2.2 only</li>
<li><a href="https:&#x2F;&#x2F;developer.appcelerator.com&#x2F;package&#x2F;21&#x2F;urban-airship&#x2F;communication">The module provided by the Titanium team</a>. It says it&#39;s compatible with Android and iPhone…but what is the equivalent of the <code>Ti.Network.registerForPushNotifications</code> method? If there is no equivalent (and I think it&#39;s the case, since <a href="http:&#x2F;&#x2F;developer.appcelerator.com&#x2F;apidoc&#x2F;mobile&#x2F;latest&#x2F;Titanium.Network.registerForPushNotifications-method.html">the documentation says</a> it&#39;s an iPhone only method), how can I retrieve the token? From the documentation of this module: <code>token[object]: A blob object containing the device&amp;#39;s token. This should be obtained by a Ti.Network.registerForPushNotifications() callback.</code></li>
<li><a href="http:&#x2F;&#x2F;jira.appcelerator.org&#x2F;browse&#x2F;TIMOB-1919">Here</a> is a ticket (#1919) which contains an interesting discussion about Android Push Notifications implementation with C2DM</li>
<li><a href="https:&#x2F;&#x2F;github.com&#x2F;IGx89&#x2F;titanium-c2dm&#x2F;blob&#x2F;master&#x2F;src&#x2F;">The GitHub repo</a> of the source code indicated in the ticket #1919. I could build the module, but I couldn&#39;t figure out the correct use of it and what it offers exactly.</li>
</ul>
<p>Sorry for the lengthy post.<br>Any help is greatly appreciated! :)</p>
<p>Cheers,<br>Arnaud.</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="May 5th 2011, 1:46:03 pm">May 5th 2011</span>
				by <span class='authorname'>Arnaud Brousseau</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>notifications</span></li>
					
						<li><span class='tagname'>push</span></li>
					
						<li><span class='tagname'>urbanairship</span></li>
					
				</ul>
			

			<section>
				<h5>2 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Hi again, </p>
<p>I&#39;ve dug into the C2DM approach a bit more, and it still seems a bit experimental…at least too experimental to be considered as &quot;ready for production&quot;. Another drawback is the lack of support for device with Android &lt; 2.2.</p>
<p>For those interested in this approach, a very good tutorial can be found <a href="http:&#x2F;&#x2F;www.vogella.de&#x2F;articles&#x2F;AndroidCloudToDeviceMessaging&#x2F;article.html">here</a> (but I didn&#39;t manage to make things work since you need to set up your own &#39;application server&#39; – that&#39;s where I stopped).</p>
<p>So I&#39;m choosing the UrbanAirship-based solution. I might be ready to pay for the <a href="https:&#x2F;&#x2F;developer.appcelerator.com&#x2F;package&#x2F;21&#x2F;urban-airship&#x2F;communication">package provided by the Titanium Team</a> if it&#39;s working correctly. Currently, I have a hard time making it work. </p>
<p>As said above, I don&#39;t see how I can retrieve the <code>token</code> necessary to make the <code>registerDevice()</code> call.<br>Anyone has a clue about that ? Someone has already succeeded to push notifications to an Android device ?</p>
<p>Cheers, Arnaud.</p>
</div>
							<div class="author">
								&mdash; commented <span title="May 9th 2011, 10:59:49 am">May 9th 2011</span>
								by <span class='authorname'>Arnaud Brousseau</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Any news about this?</p>
</div>
							<div class="author">
								&mdash; commented <span title="July 15th 2011, 7:10:37 am">July 15th 2011</span>
								by <span class='authorname'>Julian Lindblad</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>6</span> Votes</div>
			<div class="answers"><span>6</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>6 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-207800">
				
						<section>
							<p>I&#39;m interested in this as well.. trying to import my push enabled app from iPhone to Android.</p>
<p>Thanks for the detailed info Arnaud.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="May 15th 2011, 6:51:30 am">May 15th 2011</span>
								by <span class='authorname'>Idan Jan</span><br>
								<a class="icon-bg icon-link" href="question/119333/android-push-notifications-with-urban-airship#answer-207800" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>-1</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-235236">
				
						<section>
							<p>does you guys found anything. i am stuck on this also</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="April 4th 2012, 12:30:10 pm">April 4th 2012</span>
								by <span class='authorname'>Abrar Sair</span><br>
								<a class="icon-bg icon-link" href="question/119333/android-push-notifications-with-urban-airship#answer-235236" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>-1</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-241900">
				
						<section>
							<p>Interested in this as well!</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="June 26th 2012, 6:18:02 am">June 26th 2012</span>
								by <span class='authorname'>Bryan Chua</span><br>
								<a class="icon-bg icon-link" href="question/119333/android-push-notifications-with-urban-airship#answer-241900" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>-1</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-242067">
				
						<section>
							<p>It is awesome the lack of support on this. Seems like everyone is wondering the same thing and Ti is doing nothing about it.A year has passed and we still dont know how to register android device using UA module</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="June 27th 2012, 4:17:33 pm">June 27th 2012</span>
								by <span class='authorname'>Mobile Developer</span><br>
								<a class="icon-bg icon-link" href="question/119333/android-push-notifications-with-urban-airship#answer-242067" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>-1</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-242492">
				
						<section>
							<p>Hi guys,</p>
<p>I registered to UrbanAirship, but I can&#39;t receive push notification on the device. On UrbanAirship, it said that it&#39;s goes out, but I can&#39;t get it on the phone.</p>
<p>Here&#39;s the code for Android:</p>
<pre><code class="hljs">
UrbanAirship.pushEnabled = <span class="hljs-literal">true</span>;    
UrbanAirship.showOnAppClick = <span class="hljs-literal">true</span>;
UrbanAirship.tags = [<span class="hljs-string">"android"</span>];

<span class="hljs-comment">//var c2dm = UrbanAirship.c2dmId;</span>

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">eventCallback</span><span class="hljs-params">(e)</span> </span>{

    <span class="hljs-keyword">if</span> (e.clicked) {

        Ti.API.info(<span class="hljs-string">'User clicked a notification'</span>);
    } <span class="hljs-keyword">else</span> {

            Ti.API.info(<span class="hljs-string">'Push message received'</span>);
    }

    Ti.API.info(<span class="hljs-string">'Message: '</span> + e.message);
    Ti.API.info(<span class="hljs-string">'Payload: '</span> + e.payload);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">eventSuccess</span><span class="hljs-params">(e)</span> </span>{

    Ti.API.info(<span class="hljs-string">'Received device token: '</span> + e.deviceToken);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">eventError</span><span class="hljs-params">(e)</span> </span>{

Ti.API.info(<span class="hljs-string">'Error:'</span> + e.error);

    <span class="hljs-keyword">var</span> alert = Ti.UI.createAlertDialog({
        title: <span class="hljs-string">'Error'</span>,
        message: e.error
    });

    alert.show();
}

UrbanAirship.addEventListener(UrbanAirship.EVENT_URBAN_AIRSHIP_CALLBACK, eventCallback);
UrbanAirship.addEventListener(UrbanAirship.EVENT_URBAN_AIRSHIP_SUCCESS, eventSuccess);
UrbanAirship.addEventListener(UrbanAirship.EVENT_URBAN_AIRSHIP_ERROR, eventError);
</code></pre><p>Don&#39;t forget the airshipconfig.properties file. You must put it in your [APPDIR]&#x2F;platform&#x2F;android&#x2F;bin&#x2F;assets&#x2F;airshipconfig.properties folder.</p>
<p>Look at the documentation. It&#39;s help me to register. Now I have to figured out why I don&#39;t get the push.</p>
<p>Hope this help.</p>
<p>Daniel</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="July 4th 2012, 4:40:31 pm">July 4th 2012</span>
								by <span class='authorname'>Daniel Lusignan</span><br>
								<a class="icon-bg icon-link" href="question/119333/android-push-notifications-with-urban-airship#answer-242492" rel="permalink">permalink</a>
							</div>

							<h5>9 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>My keeps saying that I dont have a license for the module, but it works fine in the iphone.<br>How id you get it to pass the validation?</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 5th 2012, 11:23:02 am">July 5th 2012</span>
											by <span class='authorname'>Mobile Developer</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Hi! What do you need by validation? Registration? In my model, the registration is done on the PHP side. </p>
<p>I finally get it to work 100% with this <a href="http:&#x2F;&#x2F;blog.jamesbaca.net&#x2F;?p=385&amp;cpage=1#comment-1771">post</a></p>
<p>Thanks.</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 5th 2012, 1:26:28 pm">July 5th 2012</span>
											by <span class='authorname'>Daniel Lusignan</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>No I meant the module, it keeps saying &quot;license violation detected&quot;, however, the ios build works fine</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 5th 2012, 1:56:19 pm">July 5th 2012</span>
											by <span class='authorname'>Mobile Developer</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Ha ok, I pay the monthly fee.</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 5th 2012, 2:03:01 pm">July 5th 2012</span>
											by <span class='authorname'>Daniel Lusignan</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>well, we have it a subscription.</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 5th 2012, 2:07:11 pm">July 5th 2012</span>
											by <span class='authorname'>Mobile Developer</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Ok! I never receive this message. Try to cancel your subscription and resubscribe. There is two UrbanAirship module. One for iOS only and the other for both iOS and Android. I pretty sure you have the good one but just in case.</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 5th 2012, 2:15:37 pm">July 5th 2012</span>
											by <span class='authorname'>Daniel Lusignan</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Your problem might be that you never register the device with UA. You have to get the APID (not sure how actually and am curious on how to do it) and send to UA.</p>
<p>The example doesnt show how to get the id either.</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 6th 2012, 5:46:38 pm">July 6th 2012</span>
											by <span class='authorname'>Mobile Developer</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>The APID is generated by te module wen you register. There is three callback method when you register. In the success method, you access the property deviceToken of the returning object and there you have your APID.</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 6th 2012, 7:51:21 pm">July 6th 2012</span>
											by <span class='authorname'>Daniel Lusignan</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Yeah, in IOS is registerForPushNotifications but i dont see in your code when you do register ?  Something similar to the call in iOS.</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 9th 2012, 12:05:22 pm">July 9th 2012</span>
											by <span class='authorname'>Mobile Developer</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>-1</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-242573">
				
						<section>
							<p>Yeah, i have the right one since the android package  is there, and I cant find the way to remove the module cuz i was looking to do that before. Some modules have a way to remove once you mouse over it but UA is one of the ones that when you mouse over the black settings layer is not there.<br>So, any ideas how you remove UA from &#39;your products&#39;?<br>thanks</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="July 5th 2012, 3:23:44 pm">July 5th 2012</span>
								by <span class='authorname'>Mobile Developer</span><br>
								<a class="icon-bg icon-link" href="question/119333/android-push-notifications-with-urban-airship#answer-242573" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>-2</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
