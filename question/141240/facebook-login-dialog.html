<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Facebook Login Dialog Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Facebook Login Dialog</h1>
		</header>
		<section>
			<p>I am using Titanium.Facebook Authorize method to launch facebook login dialog. At this point, I am disabling some buttons on my form. However I want to enable buttons again when user cancels that dialog using back button. But there is no event that is fired when user cancels this facebook dialog using back button. If user cancels this dialog using the &quot;x&quot; button on top left, then I can get the event.</p>
<p>Any idea on how I can handle back button with facebook login dialog will be very helpful.</p>
<p>Thanks</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="August 20th 2012, 7:14:44 pm">August 20th 2012</span>
				by <span class='authorname'>Apurva Goyal</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>mobile</span></li>
					
				</ul>
			

			<section>
				<h5>2 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Please provide the code you have so far, the SDK you are using and the platform you are targeting, without these it is hard to help you.</p>
<p>Help us to help you - homage to Stephen :)</p>
</div>
							<div class="author">
								&mdash; commented <span title="August 21st 2012, 5:03:43 am">August 21st 2012</span>
								by <span class='authorname'>Malcolm Hollingsworth</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Titanium SDK: 2.1.0.GA<br>Mobile Platform: Android 2.3<br>Here is the code. Please note that when I press back button to dismiss the facebook login dialog, none of the following events fire (not even cancel).</p>
<pre><code class="hljs"><span class="hljs-constant">Ti</span>.<span class="hljs-constant">Facebook</span>.addEventListener(<span class="hljs-string">'login'</span>, function(e) {
            <span class="hljs-regexp">//</span>_isFacebookLoginActive=<span class="hljs-keyword">false</span>;
            <span class="hljs-keyword">if</span> (<span class="hljs-constant">FallColorApp</span>.pictureWindow)
                <span class="hljs-constant">Ti</span>.<span class="hljs-constant">App</span>.fireEvent(<span class="hljs-string">'setpicturedisplaybuttonstate'</span>, {
                    state <span class="hljs-symbol">:</span> <span class="hljs-keyword">true</span>
                });

            <span class="hljs-keyword">if</span> (e.success) {                
                <span class="hljs-constant">Ti</span>.<span class="hljs-constant">App</span>.fireEvent(<span class="hljs-string">'facebookloginsucessful'</span>);

            } <span class="hljs-keyword">else</span> {

                <span class="hljs-regexp">//alert</span>(<span class="hljs-string">' or-here'</span>);

                <span class="hljs-keyword">if</span> (e.error) {
                    <span class="hljs-regexp">//alert</span>(<span class="hljs-string">'error-here'</span>);
                    <span class="hljs-constant">Ti</span>.<span class="hljs-constant">App</span>.fireEvent(<span class="hljs-string">'facebookloginerror'</span>,{
                        <span class="hljs-symbol">message:</span>e.error
                    });
                } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (e.cancel) {
                    <span class="hljs-regexp">//alert</span>(<span class="hljs-string">'cancel-here'</span>);
                    <span class="hljs-constant">Ti</span>.<span class="hljs-constant">App</span>.fireEvent(<span class="hljs-string">'facebooklogincancel'</span>);
                }
                <span class="hljs-keyword">else</span>{
                    <span class="hljs-regexp">//alert</span>(<span class="hljs-string">'here'</span>);
                    <span class="hljs-constant">Ti</span>.<span class="hljs-constant">App</span>.fireEvent(<span class="hljs-string">'facebooklogincancel'</span>);
                }
            }

        });

    }
</code></pre></div>
							<div class="author">
								&mdash; commented <span title="August 21st 2012, 11:41:07 am">August 21st 2012</span>
								by <span class='authorname'>Apurva Goyal</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-245874">
				
						<section>
							<p>you can try to listen for a focus event on the window that was displayed before the login dialog and then take the proper action if the login eventlistener was not called</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 22nd 2012, 11:23:35 pm">August 22nd 2012</span>
								by <span class='authorname'>Aaron Saunders</span><br>
								<a class="icon-bg icon-link" href="../../question/141240/facebook-login-dialog.html#answer-245874" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
