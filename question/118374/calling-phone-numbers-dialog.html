<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Calling phone numbers dialog » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Calling phone numbers dialog</h1>
		</header>
		<section>
			<p>Does anyone have an dialog for Android or iPhone which on an action gives an dialog where multiple or one phone numbers can be called. Im still strugeling with windows and the right events in titanium, so any help is welcome.</p>
<p>I keep losing part of previous written code where i had put an array into an row and get that when clicked.<br>So i forgot how to acces that data, e.source.data or e.rowData.data?</p>
<p>Can anyone help me out here</p>
<p>EDIT: i dont want to have an option dialog, i want an dialog which shows a call phone icon and not the radio buttons the option dialog shows</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="April 11th 2011, 11:16:07 am">April 11th 2011</span>
				by <span class='authorname'>Kami -</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>coding</span></li>
					
						<li><span class='tagname'>dialog</span></li>
					
						<li><span class='tagname'>iphone</span></li>
					
						<li><span class='tagname'>mobile</span></li>
					
						<li><span class='tagname'>popup</span></li>
					
						<li><span class='tagname'>window</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>1</span> Vote</div>
			<div class="answers"><span>4</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>4 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-205997">
				
						<section>
							<p>i dont think im 100% sure on what you want but this might help?</p>
<pre><code class="hljs"><span class="hljs-comment">// create table view data object</span>
<span class="hljs-keyword">var</span> data = [
    {title:<span class="hljs-string">'phone1'</span>, hasChild:<span class="hljs-literal">false</span>},
    {title:<span class="hljs-string">'phone2'</span>, hasChild:<span class="hljs-literal">false</span>}
];

<span class="hljs-comment">// create table view</span>
<span class="hljs-keyword">var</span> tableview = Titanium.UI.createTableView({
    data:data
});

<span class="hljs-comment">// create table view event listener</span>
tableview.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span>
</span>{
    <span class="hljs-keyword">if</span> (e.rowData.title == <span class="hljs-string">'phone1'</span>)
    {
    <span class="hljs-comment">// BUTTON 1 PRESSED</span>
Titanium.Platform.openURL(<span class="hljs-string">'tel:0844444444'</span>);
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (e.rowData.title == <span class="hljs-string">'phone2'</span>) {
    <span class="hljs-comment">// BUTTON 2 PRESSED</span>
Titanium.Platform.openURL(<span class="hljs-string">'tel:0844444444'</span>);    
    }
});

<span class="hljs-comment">// add table view to the window</span>
Titanium.UI.currentWindow.add(tableview);
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="April 11th 2011, 12:21:53 pm">April 11th 2011</span>
								by <span class='authorname'>adam kearsley</span><br>
								<a class="icon-bg icon-link" href="question/118374/calling-phone-numbers-dialog#answer-205997" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-205999">
				
						<section>
							<p>or maybe a popup?</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> win = Titanium.UI.currentWindow;
    <span class="hljs-keyword">var</span> alert1 = Titanium.UI.createAlertDialog({
      title:<span class="hljs-string">'PHONE'</span>, 
      message:<span class="hljs-string">'Which number do you want to phone?'</span>,
      buttonNames: [<span class="hljs-string">'0844?'</span>,<span class="hljs-string">'0800?'</span>,<span class="hljs-string">'0870?'</span>, <span class="hljs-string">'Cancel'</span>],
      cancel:<span class="hljs-number">3</span>
    });
    alert1.show();
    alert1.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(ev)</span>
    </span>{
    <span class="hljs-keyword">if</span> (ev.index == <span class="hljs-number">0</span>) { <span class="hljs-comment">// clicked "Yes"</span>
    Titanium.Platform.openURL(<span class="hljs-string">'tel:0844444444'</span>);
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (ev.index == <span class="hljs-number">1</span>) {
    Titanium.Platform.openURL(<span class="hljs-string">'tel:0800000000'</span>);
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (ev.index == <span class="hljs-number">2</span>) {
    Titanium.Platform.openURL(<span class="hljs-string">'tel:0870000000'</span>);
    }
    });
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="April 11th 2011, 12:27:30 pm">April 11th 2011</span>
								by <span class='authorname'>adam kearsley</span><br>
								<a class="icon-bg icon-link" href="question/118374/calling-phone-numbers-dialog#answer-205999" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-206003">
				
						<section>
							<p>Or a Dialog box?</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> win = Titanium.UI.currentWindow;
<span class="hljs-keyword">var</span> optionsDialogOpts = {
    options:[<span class="hljs-string">'Phone this number'</span>, <span class="hljs-string">'Phone a different number'</span>, <span class="hljs-string">'Cancel'</span>],
    destructive:<span class="hljs-number">1</span>,
    cancel:<span class="hljs-number">2</span>,
    title:<span class="hljs-string">'Please select a number to call!'</span>
};

<span class="hljs-keyword">var</span> dialog = Titanium.UI.createOptionDialog(optionsDialogOpts);
<span class="hljs-comment">// SHOW DIALOG</span>

dialog.show();

<span class="hljs-comment">// DIALOG EVENT CLICK</span>
    dialog.addEventListener(<span class="hljs-string">'click'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span>
</span>{
<span class="hljs-keyword">if</span>(e.index == <span class="hljs-string">'0'</span>) {
    Titanium.Platform.openURL(<span class="hljs-string">'tel:0844444444'</span>);
} <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(e.index == <span class="hljs-string">'1'</span>) {
    Titanium.Platform.openURL(<span class="hljs-string">'tel:0844555555'</span>);
}
});
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="April 11th 2011, 1:00:55 pm">April 11th 2011</span>
								by <span class='authorname'>adam kearsley</span><br>
								<a class="icon-bg icon-link" href="question/118374/calling-phone-numbers-dialog#answer-206003" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-206005">
				
						<section>
							<p>@ Adam, thank you for your input, verry useful and i now know more about option dialogs.</p>
<p>I do want to know how do i close the dialog manually? dialog.close(); doesnt seem to work???</p>
<p>This is what i am currently at</p>
<pre><code class="hljs">
<span class="hljs-keyword">if</span>(e.rowData.hasNumber){

            <span class="hljs-keyword">var</span> root = Ti.UI.createView({});

            <span class="hljs-keyword">var</span> view = Ti.UI.createView({
                width : <span class="hljs-string">'auto'</span>, height: <span class="hljs-string">'auto'</span>, backgroundColor: <span class="hljs-string">'#000'</span>, opacity:<span class="hljs-number">0.0</span>, left: <span class="hljs-number">0</span>, top: <span class="hljs-number">0</span>
            });
            root.add(view);
            <span class="hljs-keyword">var</span> dialog = Titanium.UI.createOptionDialog();

            <span class="hljs-keyword">var</span> button = uiElements.Button(<span class="hljs-string">'Button'</span>);

            <span class="hljs-keyword">var</span> data = [];
            data.push(<span class="hljs-string">'0800-0008050'</span>);
            data.push(<span class="hljs-string">'0141-0321658'</span>);
            data.push(<span class="hljs-string">'0514-3212326'</span>);

            <span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>;
            <span class="hljs-keyword">var</span> top = <span class="hljs-number">10</span>;

            Titanium.API.info(data[<span class="hljs-number">0</span>]);
            <span class="hljs-keyword">while</span>(data[i]){
                button = uiElements.Button(data[i]);
                button.width = <span class="hljs-string">'75%'</span>
                button.height = <span class="hljs-string">'auto'</span>;
                button.top = top;

                button.addEventListener(<span class="hljs-string">'click'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)
                </span>{
                    Titanium.API.info(<span class="hljs-string">'You selected '</span> + e.source +<span class="hljs-string">'   '</span> + e.source.title);
                    <span class="hljs-keyword">var</span> telNumClean =e.source.title.replace(<span class="hljs-regexp">/[^0-9]/g</span>, <span class="hljs-string">""</span>);
                    telNumClean = telNumClean.split(<span class="hljs-string">' '</span>).join(<span class="hljs-string">''</span>);
                    Titanium.Platform.openURL(<span class="hljs-string">'tel:'</span>+telNumClean+<span class="hljs-string">''</span>);
                });

                view.add(button);
                top += <span class="hljs-number">50</span>;
                i++;
                Titanium.API.info(<span class="hljs-string">'succes'</span>);
            }

            dialog.title = <span class="hljs-string">'Choose a number to call.'</span>;
            dialog.options = <span class="hljs-literal">null</span>;
            dialog.buttonNames = [<span class="hljs-string">'Cancel'</span>];
            dialog.androidView = root;
            dialog.show();

            <span class="hljs-comment">// add event listener</span>
            dialog.addEventListener(<span class="hljs-string">'click'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)
            </span>{
                Titanium.API.info(<span class="hljs-string">'You selected '</span> + e.index);

                <span class="hljs-keyword">if</span>( e.index == <span class="hljs-number">0</span> ){
                    Titanium.API.info(e.source + <span class="hljs-string">' test1 asdaaa '</span> + e.options);    
                }
            });
            dialog.show();
        }
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="April 11th 2011, 1:19:04 pm">April 11th 2011</span>
								by <span class='authorname'>Kami -</span><br>
								<a class="icon-bg icon-link" href="question/118374/calling-phone-numbers-dialog#answer-206005" rel="permalink">permalink</a>
							</div>

							<h5>2 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>does this work?</p>
<pre><code class="hljs"><span class="hljs-tag">dialog</span><span class="hljs-class">.hide</span>();
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="April 11th 2011, 1:31:00 pm">April 11th 2011</span>
											by <span class='authorname'>adam kearsley</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>this works, tnx</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 12th 2011, 5:13:14 am">April 12th 2011</span>
											by <span class='authorname'>Kami -</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
