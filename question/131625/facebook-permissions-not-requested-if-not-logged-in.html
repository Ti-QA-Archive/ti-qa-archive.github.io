<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Facebook permissions not requested if not logged in? » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Facebook permissions not requested if not logged in?</h1>
		</header>
		<section>
			<p>Hi,</p>
<p>This is my second question about facebook, sorry for that. I&#39;m having trouble with persmissions and I believe the problem is not in my application. There is some strange behavior with it.</p>
<p>So I ended playing with the facebook examples that come with the kitchen sink. </p>
<p>The behavior I describe below is odd, right?</p>
<p>Make sure you don&#39;t have the Titanium app as authorized in your Facebook privacy settings.</p>
<ol>
<li>1- Open the Facebook -&gt; Photos example of the kitchen sink app</li>
<li>2- Press login with Facebook</li>
<li>3- You are requested with permission to access your basic information. But NOT the publish and read stream as specified by the app (?)</li>
<li>4- Press Don&#39;t allow</li>
<li>5- Press login with Facebook button again. Now you can see the right permissions request in the dialog (?)</li>
</ol>
<p>I&#39;ve tried it several times and form the Facebook settings I can see that I have not granted permissions in #3 and permissions are ok in #5 steps.</p>
<p>Is it only me or can you guys see the same thing?<br>I updated my system 2 days back so that should be ok I guess.</p>
<p>I don&#39;t think this is the way it should go right?<br>It is nasty because I need to have the permissions right from the beginning, even though I just need email.  </p>
<p>I&#39;ll look for the way to request a new permission after authorizing but it would be great if any one reading this could test the same thing and describe the behavior.</p>
<p>Thanks.</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="February 3rd 2012, 1:52:04 pm">February 3rd 2012</span>
				by <span class='authorname'>GunsNRails GR</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>facebook</span></li>
					
						<li><span class='tagname'>permissions</span></li>
					
				</ul>
			

			<section>
				<h5>1 Comment</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Hmm. I can&#39;t find a way to request a new permission after the app is authorized…</p>
</div>
							<div class="author">
								&mdash; commented <span title="February 3rd 2012, 2:28:01 pm">February 3rd 2012</span>
								by <span class='authorname'>GunsNRails GR</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-229368">
				
						<section>
							<p>Hello,</p>
<p>what are the permissions you are using here? </p>
<pre><code class="hljs"><span class="hljs-name">Titanium</span>.<span class="hljs-name">Facebook</span>.<span class="hljs-atom">permissions</span> = [<span class="hljs-string">'publish_stream'</span>, <span class="hljs-string">'read_stream'</span>];
</code></pre><p>Best,</p>
<p>Mauro</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="February 3rd 2012, 4:42:14 pm">February 3rd 2012</span>
								by <span class='authorname'>Mauro Parra</span><br>
								<a class="icon-bg icon-link" href="question/131625/facebook-permissions-not-requested-if-not-logged-in#answer-229368" rel="permalink">permalink</a>
							</div>

							<h5>4 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Yeah those are the permissions. Remember I&#39;m not talking about my own code. All that is happening with the Kitchen Sink example of the Facebook API. I referred to the Photos example in the original post but the publish stream behaves the same. So yes those permissions.</p>
</p>
										<div class="author">
											&mdash; commented <span title="February 3rd 2012, 4:51:14 pm">February 3rd 2012</span>
											by <span class='authorname'>GunsNRails GR</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Hello,</p>
<p>can you please remove the app from your fb account, then login again and see if that works this time?</p>
<p>Best,</p>
<p>Mauro</p>
</p>
										<div class="author">
											&mdash; commented <span title="February 3rd 2012, 5:23:36 pm">February 3rd 2012</span>
											by <span class='authorname'>Mauro Parra</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Hi, I&#39;ve done that many times testing my own app and also the Kitchen Sink. No difference. Right now the Titanium App is not authorized in my FB account and the same behavior continues. In my opinion the required permissions should be requested when the dialog is presented the first time. Have you been able to test what it does in your system btw? I just downloaded the latest version of KS and checked it does the same thing. My iOS SDK version is 5.0 btw, everything else updated.</p>
<p>Thanks for the comments.</p>
</p>
										<div class="author">
											&mdash; commented <span title="February 3rd 2012, 5:38:11 pm">February 3rd 2012</span>
											by <span class='authorname'>GunsNRails GR</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>This case looks like the same problem: <a href="http:&#x2F;&#x2F;developer.appcelerator.com&#x2F;question&#x2F;131604">http:&#x2F;&#x2F;developer.appcelerator.com&#x2F;question&#x2F;131604</a></p>
</p>
										<div class="author">
											&mdash; commented <span title="February 3rd 2012, 7:05:58 pm">February 3rd 2012</span>
											by <span class='authorname'>GunsNRails GR</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-229412">
				
						<section>
							<p>Ok, so this was probably a bug on Facebook side because now it works fine with no code changes. Now the specified permissions are displayed right from the start. Tested on the emulator and device and works as expected.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="February 4th 2012, 6:58:56 am">February 4th 2012</span>
								by <span class='authorname'>GunsNRails GR</span><br>
								<a class="icon-bg icon-link" href="question/131625/facebook-permissions-not-requested-if-not-logged-in#answer-229412" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
