<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Keyboard reload Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Keyboard reload</h1>
		</header>
		<section>
			<p>I am currently trying to create a log-in page.  As part of this, I created a toolbar that goes on top of the keyboard to navigate between the username and password field.  However, when they go between the two, the toolbar reloads and re-animates, sliding back up.  I&#39;d really like to get rid of this animation so that the keyboard stays constant in between the two text fields. Is there a way to do this?  Thanks.</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="April 5th 2011, 12:25:15 pm">April 5th 2011</span>
				by <span class='authorname'>Jonathan Jekeli</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>keyboard</span></li>
					
						<li><span class='tagname'>textfield</span></li>
					
						<li><span class='tagname'>toolbar</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>4</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>4 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-232765">
				
						<section>
							<p>Hi,  I had a solution very close to this then decided to use your and I&#39;m having the same issue with yours; maybe you can help me out.  When I switch from text box to text box the toolbar seems to change.  After about 2 times the Nav buttons just disappear.  Have you noticed this too?  I&#39;m wondering if it&#39;s a bug in the Tootlbar or there&#39;s something wrong in my code.  I copied and cut your code into my project into a blank I can &#39;next&#39; from the first TB to the second when I click Prev the buttons disappear.  Any ideas?</p>
<p>Thanks.</p>
<p>Kevin</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="March 8th 2012, 2:53:59 pm">March 8th 2012</span>
								by <span class='authorname'>Kevin Brown</span><br>
								<a class="icon-bg icon-link" href="../../question/118152/keyboard-reload.html#answer-232765" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-205667">
				
						<section>
							<p>It sounds like you have an event listener probably on the blur and focus events. The blur hides the toolbar, and the focus shows it.</p>
<p>If I&#39;m right, then this reanimation is all controlled inside your event listeners. Maybe only put the hide animation in the blur on the second field. Alternatively, check to see if the focus has moved on to the next field before blurring. </p>
<p>Hope this helps. I&#39;ll check back and try to help.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="April 5th 2011, 1:32:32 pm">April 5th 2011</span>
								by <span class='authorname'>Clayton K</span><br>
								<a class="icon-bg icon-link" href="../../question/118152/keyboard-reload.html#answer-205667" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-205711">
				
						<section>
							<p>Clayton:</p>
<p>I don&#39;t have event listeners for the blur and focus events.  Rather I just have the keyboardToolbar attribute specified for both text fields, so when it goes from one text field to the other it reloads the entire keyboard, along with the toolbar.  Is this not the proper way to do it?</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="April 6th 2011, 2:17:17 am">April 6th 2011</span>
								by <span class='authorname'>Jonathan Jekeli</span><br>
								<a class="icon-bg icon-link" href="../../question/118152/keyboard-reload.html#answer-205711" rel="permalink">permalink</a>
							</div>

							<h5>5 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>I did this not too long ago. I had an event listener on the focus and blur events that called a function to open&#x2F;close the toolbar. </p>
<p>If your toolbar has a next or done button, you can put the event on this. If you&#39;re on the first field, the done button goes to the 2nd, if you&#39;re on the 2nd field the done button closes the toolbar and fires the blur event to close the keyboard.</p>
<p>Let me know if this helps.</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 6th 2011, 10:54:10 am">April 6th 2011</span>
											by <span class='authorname'>Clayton K</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I&#39;m not quite sure we&#39;re on the same page. I&#39;m not sure if there is a function to open or close the toolbar.  It&#39;s a toolbar that goes directly on top of the keyboard.  I.e. here is my code that inserts the toolbar:</p>
<pre><code class="hljs">var navTextfields = Titanium.UI.createButtonBar({
    labels:[<span class="hljs-string">'Previous'</span>,<span class="hljs-string">'Next'</span>],
    backgroundColor:<span class="hljs-string">'#000'</span>,
    top:<span class="hljs-number">100</span>,
    style:Titanium.UI.iPhone.SystemButtonStyle.BAR,
    <span class="hljs-variable">height</span>:<span class="hljs-number">25</span>,
    <span class="hljs-variable">width</span>:<span class="hljs-string">'auto'</span>
});
var done = Titanium.UI.createButton({
    systemButton:Titanium.UI.iPhone.SystemButton.DONE
});

<span class="hljs-comment">//flexible space for toolbar</span>
var flexSpace = Titanium.UI.createButton({
    systemButton:Titanium.UI.iPhone.SystemButton.FLEXIBLE_SPACE
});

<span class="hljs-comment">//http client to log-in using database</span>
var loginReq = Titanium.Network.createHTTPClient();

var username = Titanium.UI.createTextField({
    <span class="hljs-built_in">color</span>:<span class="hljs-string">'#336699'</span>,
    top:<span class="hljs-number">10</span>,
    left:<span class="hljs-number">10</span>,
    <span class="hljs-variable">width</span>:<span class="hljs-number">300</span>,
    <span class="hljs-variable">height</span>:<span class="hljs-number">40</span>,
    hintText:<span class="hljs-string">'Username'</span>,
    keyboardType:Titanium.UI.KEYBOARD_DEFAULT,
    returnKeyType:Titanium.UI.RETURNKEY_DEFAULT,
    borderStyle:Titanium.UI.INPUT_BORDERSTYLE_ROUNDED,
    keyboardToolbar:[navTextfields,flexSpace,flexSpace,flexSpace,done],
    keyboardToolbarColor: <span class="hljs-string">'#999'</span>,    
    keyboardToolbarHeight: <span class="hljs-number">30</span>
});
win.<span class="hljs-built_in">add</span>(username);

var password = Titanium.UI.createTextField({
    <span class="hljs-built_in">color</span>:<span class="hljs-string">'#336699'</span>,
    top:<span class="hljs-number">60</span>,
    left:<span class="hljs-number">10</span>,
    <span class="hljs-variable">width</span>:<span class="hljs-number">300</span>,
    <span class="hljs-variable">height</span>:<span class="hljs-number">40</span>,
    hintText:<span class="hljs-string">'Password'</span>,
    passwordMask:<span class="hljs-keyword">true</span>,
    keyboardType:Titanium.UI.KEYBOARD_DEFAULT,
    returnKeyType:Titanium.UI.RETURNKEY_GO,
    borderStyle:Titanium.UI.INPUT_BORDERSTYLE_ROUNDED,
    keyboardToolbar:[navTextfields,flexSpace,flexSpace,flexSpace,done],
    keyboardToolbarColor: <span class="hljs-string">'#999'</span>,    
    keyboardToolbarHeight: <span class="hljs-number">30</span>
});
win.<span class="hljs-built_in">add</span>(password);
</code></pre><p>So when you say have an event listener on the focus&#x2F;blur events, do you mean having an event listener on the text field?  And if so, how do I call a function that open&#x2F;closes the toolbar?</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 6th 2011, 1:27:30 pm">April 6th 2011</span>
											by <span class='authorname'>Jonathan Jekeli</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I could never get the &quot;keyboardToolbar&quot; to work, so I did it myself. Some inspiration was taken from:<br>http:&#x2F;&#x2F;developer.appcelerator.com&#x2F;question&#x2F;30821&#x2F;add-a-done-button-to-phone-keyboard</p>
<p>Try this code combined with yours above. This will actually add the toolbar to the window and hide&#x2F;show it with focus on a text field.</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> toolBar = Titanium.UI.createToolbar({
        items:[flexSpace,navTextFields,flexSpace,done],
        top:<span class="hljs-number">224</span>,
        visible:<span class="hljs-literal">false</span>
});

<span class="hljs-keyword">var</span> hasFocus = <span class="hljs-string">""</span>;
username.addEventListener(<span class="hljs-string">'focus'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span></span>{
        showToolbar();
        hasFocus = <span class="hljs-string">"username"</span>;
});
password.addEventListener(<span class="hljs-string">'focus'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span></span>{
        showToolbar();
        hasFocus = <span class="hljs-string">"password"</span>;
});

done.addEventListener(<span class="hljs-string">'click'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span></span>{
        username.blur();
        password.blur();
        hideToolbar();
});
navTextFields.addEventListener(<span class="hljs-string">'click'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span></span>{
        <span class="hljs-keyword">if</span> (e.index == <span class="hljs-number">0</span>) <span class="hljs-comment">//previous</span>
        {
            <span class="hljs-keyword">if</span> (hasFocus == <span class="hljs-string">"password"</span>)
            {
                username.focus();
            }
            <span class="hljs-keyword">else</span>
            {
                done.fireEvent(<span class="hljs-string">'click'</span>);
            }
        }
        <span class="hljs-keyword">else</span>
        {
            <span class="hljs-keyword">if</span> (hasFocus == <span class="hljs-string">"username"</span>)
            {
                password.focus();
            }
            <span class="hljs-keyword">else</span>
            {
                done.fireEvent(<span class="hljs-string">'click'</span>);
            }
        }
});

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">showToolbar</span><span class="hljs-params">()</span>
</span>{
    toolBar.visible = <span class="hljs-literal">true</span>;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">hideToolbar</span><span class="hljs-params">()</span>
</span>{
    toolBar.visible = <span class="hljs-literal">false</span>;
}

win.add(toolBar);
</code></pre><p>Note: I&#39;m not on my Mac, so couldn&#39;t test this, but in theory it should work! If you feel like getting crafty you can add animation instead of just changing visible between true&#x2F;false.</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 6th 2011, 2:55:50 pm">April 6th 2011</span>
											by <span class='authorname'>Clayton K</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>That works. Thanks!</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 7th 2011, 4:22:38 pm">April 7th 2011</span>
											by <span class='authorname'>Jonathan Jekeli</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Glad I could help!</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 7th 2011, 6:49:15 pm">April 7th 2011</span>
											by <span class='authorname'>Clayton K</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-232767">
				
						<section>
							<p>Sorry, I just realized that&#39; what you&#39;re trying to figure out too.  I&quot;ll keep trying.  I think what&#39;s happening is that the keyboard closes on blur of the first text box and reopens on the next one.  It seems pretty simple, but how to fix it, that&#39;s the questionâ¦</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="March 8th 2012, 3:04:31 pm">March 8th 2012</span>
								by <span class='authorname'>Kevin Brown</span><br>
								<a class="icon-bg icon-link" href="../../question/118152/keyboard-reload.html#answer-232767" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
