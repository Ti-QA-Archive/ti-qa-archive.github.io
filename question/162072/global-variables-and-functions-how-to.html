<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Global variables and functions, how to? Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Global variables and functions, how to?</h1>
		</header>
		<section>
			<p>Hi, how can i make a variable or function available to any window or include file? I run into missing variable errors and i have combatted this by using views instead of windows and duplicating variables which is not ideal.</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="January 29th 2014, 4:26:39 pm">January 29th 2014</span>
				by <span class='authorname'>Matt Pilott</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>global</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-274577">
				
						<section>
							<p>Have another question that will probably get to this level eventually.</p>
<p>If you are in Alloy, you can have a set of globals (Alloy.Globals) that you will have available throughout your app.</p>
<p>I recommend anyone starting out with Titanium at this point in time, to STRONGLY consider using Alloy.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="January 29th 2014, 4:28:32 pm">January 29th 2014</span>
								by <span class='authorname'>Stephen Feather</span><br>
								<a class="icon-bg icon-link" href="question/162072/global-variables-and-functions-how-to.html#answer-274577" rel="permalink">permalink</a>
							</div>

							<h5>12 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Hey Stephen, you seem to answer a lot of my n00b queries and i am most grateful. Alloy looks fantastic but i have been using titanium for a few years now and still use the classic code&#x2F;setup. How can i global stuff with this?</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 29th 2014, 4:31:13 pm">January 29th 2014</span>
											by <span class='authorname'>Matt Pilott</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>But, even within alloy, you don&#39;t want to be storing everything as a global.</p>
<p>For functions, create a library of functions in commonJS format, and pull that library in where you need it.</p>
<p>Pass variables in and out of your functions as parameters.  The advantage to this, is what is handed to the function is what you have inside.  If you rely on Globals, which can be overwritten, there is a chance that another section of code may have changed your variable.  In a one man project, this probably isnt going to happen, but add in a second dev, and the odds increase greatly.</p>
<h3 id="avoid-global-anythings-if-you-can">avoid global anythings if you can</h3>
<p>Also in alloy, you can declare some helpers and &#39;constants&#39; in alloy.js and attach them to your Globals.</p>
<p>If you do need to store things &#39;semi&#39;-permanently, take a look at Ti.App.Properties.</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 29th 2014, 4:32:35 pm">January 29th 2014</span>
											by <span class='authorname'>Stephen Feather</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Let&#39;s talk about your specific use case, what kind of data are you trying to store globally for use in the app?</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 29th 2014, 4:33:30 pm">January 29th 2014</span>
											by <span class='authorname'>Stephen Feather</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>What does your programming structure look like?  Really old school url: calls for window creation, Tweetanium (app.js, bootstrap.js, stuff stored in Resources&#x2F;ui), etc</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 29th 2014, 4:36:05 pm">January 29th 2014</span>
											by <span class='authorname'>Stephen Feather</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Well heres what i am currently doing: I am grabbing a json file and storing it in ti.app.properties, then i grab each of the values and use them in my views. I really don&#39;t use windows anymore as It tends to create issues that i don&#39;t fully understand. So i have a main js file with a few views and tableviews, the problem comes when i need to add something like a twitter feed and oath which is a lot of code so i use an include, now, the variable that i got from the json is not usable in the include file.</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 29th 2014, 4:39:39 pm">January 29th 2014</span>
											by <span class='authorname'>Matt Pilott</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I have an app.js which checks the os and includes either an ios.js or android.js i store everything resources</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 29th 2014, 4:41:27 pm">January 29th 2014</span>
											by <span class='authorname'>Matt Pilott</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>If the includes are refactored to commonJS, you can then pass the values through to the functions exported from the commonJS modules.</p>
<p>This also allows you to separate out your interests.</p>
<p>You can then move individual views out into their own files, then if you know you have an issue in a particular place, you head into that file.</p>
<p>Ti.includes are included inline at runtime.  So you have the potential for a lot of values and functions to suddenly hit memory.</p>
<p>Loading in views also uses memory, where as windows closing allows the windows&#39; children to be garbage collected, freeing up memory.</p>
<p>CommonJS doesn&#39;t load until its required.  If that require is behind an event listener, the loading is delayed.</p>
<p>Alloy extends this a bit more, by separating out your layout into xml, your styling into tss, and your js code into controllers.</p>
<p>Refactoring is a pain.  And in the short term, you hate it, you aren&#39;t making any money off that time, its frustrating.  HOWEVER, once its done, you are closer to the next refactor. Meaning, the number of changes is reduced, the drasticness <em>(&lt;- is that even a word?)</em> of the next change is lessened.</p>
<p>In our time with Titanium, we have refactored some of our apps four times.</p>
<ol>
<li>Window url:, </li>
<li>Common Namespace (Ti.Includes all over)</li>
<li>CommonJS</li>
<li>Alloy</li>
</ol>
</p>
										<div class="author">
											&mdash; commented <span title="January 29th 2014, 5:24:38 pm">January 29th 2014</span>
											by <span class='authorname'>Stephen Feather</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Do you think it wise to switch to alloy and stick with that for all new projects as the layout&#x2F;code is just like web development? Can i achieve all the same stuff, what are the drawbacks and the benefits?</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 29th 2014, 5:33:49 pm">January 29th 2014</span>
											by <span class='authorname'>Matt Pilott</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>As far as refactoring goes, putting your code under revision control helps immensely.  The greatest fear is that you are going to be working on something, make a mistake, lose work&#x2F;code&#x2F;your_mind.  </p>
<p>If this is private work, you can have unlimited private git repos at bitbucket.  Put your V1 code under revision, then branch it.  You work on your V2&#x2F;refactor in the branch.  You can always go back to the master if a client&#x2F;boss calls and needs a fix. With v1 sitting online, you can quickly browse through your code, see what you need to move into the new one (say if moving to alloy).</p>
<p>For an alloy refactor, you start as simply as building your first main screen in xml&#x2F;tss&#x2F;js.  A lot of your existing functions can most likely be moved into the controller fairly easily.  In your case, each of those separate views of yours can go into its own xml file, very easy to look at and see how it will appear.</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 29th 2014, 5:36:53 pm">January 29th 2014</span>
											by <span class='authorname'>Stephen Feather</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Okay great, i&#39;ll get on and have a bash with alloy. Aren;t we looking at some crazy new upgrade coming to titanium this year? 4.0? How does alloy fit into this, will there be a new method a need to switch to come 4.0?</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 29th 2014, 5:40:10 pm">January 29th 2014</span>
											by <span class='authorname'>Matt Pilott</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>the crazy new upgrade will be ti.next. It sits much closer to the native then where we are now.<br>In the current framework</p>
<p>Classic -&gt; Kroll -&gt; native<br>Alloy -&gt; Classic -&gt; Kroll - &gt; native (ios&#x2F;adroid)<br>Alloy -&gt; Classic -&gt; (kroll&#x2F;ti.next) -&gt; native</p>
<p>(alloy actually generates classic code behind the scenes, btw)</p>
<p>Ti.next is&#x2F;will-be great for module writers.</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 29th 2014, 5:48:14 pm">January 29th 2014</span>
											by <span class='authorname'>Stephen Feather</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Ah i see, thanks for all your help</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 29th 2014, 5:51:02 pm">January 29th 2014</span>
											by <span class='authorname'>Matt Pilott</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
