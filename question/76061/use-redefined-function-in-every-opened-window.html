<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Use redefined function in every opened window » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Use redefined function in every opened window</h1>
		</header>
		<section>
			<p>Hello everybody. I am trying to make a orientationchange listener that uses a specific function for the current window, and this function should be redefined in every .js opened as a window.</p>
<p>The code looks something like this:</p>
<p><strong><em>app.js</em></strong></p>
<pre><code class="hljs">
<span class="hljs-keyword">var</span> win = Titanium.UI.createWindow({
    url:<span class="hljs-string">'prod_win.js'</span>
});
Ti.Gesture.addEventListener(<span class="hljs-string">'orientationchange'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span> </span>{
    Ti.API.info(<span class="hljs-string">'orientationchange event'</span>);
    <span class="hljs-keyword">var</span> win = Titanium.UI.currentWindow;
        win.a();
});
</code></pre><p><strong>_prod<em>win.js</em></strong></p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> win = Titanium.UI.currentWindow;
win.a = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
   alert(<span class="hljs-string">'b'</span>);
}
win.a();
</code></pre><p>The call in the prod_win.js for the function win.a() happens with no problem, but the one from the trigger gives this error: &quot;Result of expression &#39;win&#39; [null] is not an object.&quot;;</p>
<p>Can someone tell me what I am doing wrong?<br>Thanks in advance.</p>
<p>Vali. </p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="November 3rd 2010, 8:14:06 am">November 3rd 2010</span>
				by <span class='authorname'>Vali Filip</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>function</span></li>
					
						<li><span class='tagname'>redefine</span></li>
					
						<li><span class='tagname'>reuse</span></li>
					
						<li><span class='tagname'>window</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>5</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>5 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-136821">
				
						<section>
							<p>Bump</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="November 3rd 2010, 12:19:46 pm">November 3rd 2010</span>
								by <span class='authorname'>Vali Filip</span><br>
								<a class="icon-bg icon-link" href="question/76061/use-redefined-function-in-every-opened-window.html#answer-136821" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-136911">
				
						<section>
							<p>Yet again. Please help me figure this out, because it would clean a lot of duplicate code that I have copied to make this work…</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="November 3rd 2010, 4:06:59 pm">November 3rd 2010</span>
								by <span class='authorname'>Vali Filip</span><br>
								<a class="icon-bg icon-link" href="question/76061/use-redefined-function-in-every-opened-window.html#answer-136911" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-136931">
				
						<section>
							<p>I dont know  for sure, but  why are you defining &quot;win&quot; in your app.js twice?</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="November 3rd 2010, 5:08:55 pm">November 3rd 2010</span>
								by <span class='authorname'>Josh Lewis</span><br>
								<a class="icon-bg icon-link" href="question/76061/use-redefined-function-in-every-opened-window.html#answer-136931" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-136941">
				
						<section>
							<p>I believe Titanium.UI.currentWindow will be null if it is called within app.js.  Are you seeing info in the console about a rotation but get an error about win being nil or win.a is not a function?</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="November 3rd 2010, 5:43:18 pm">November 3rd 2010</span>
								by <span class='authorname'>John McKnight</span><br>
								<a class="icon-bg icon-link" href="question/76061/use-redefined-function-in-every-opened-window.html#answer-136941" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>The initialization of win in the trigger is for its scope, every time the trigger is called, i want win to be redefined as thr current window. The call from prod_win.js works just fine, but the one in the trigger gives the referenced error. It I do a typeof win in the trigger, it will output &#39;object&#39; but it I go for typeof win.a the error reises again. Any ideas?</p>
<p>Thanks in advance.</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 4th 2010, 4:36:07 am">November 4th 2010</span>
											by <span class='authorname'>Vali Filip</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-200811">
				
						<section>
							<p>it looks like there is bug in Ti.Gesture.addEventListener(&#39;orientationchange&#39;,function(e) {}); scope.<br>you can&#39;t get current window from inside this event function. (don&#39;t get confused if it sometimes works. its because you can get this right just for one window what is active at the time of creating this event listener. but change of current window is not reflected)<br><a href="http:&#x2F;&#x2F;developer.appcelerator.com&#x2F;question&#x2F;114561&#x2F;orientationchange-scope">my related question</a></p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="February 21st 2011, 1:52:34 am">February 21st 2011</span>
								by <span class='authorname'>gondo gondo</span><br>
								<a class="icon-bg icon-link" href="question/76061/use-redefined-function-in-every-opened-window.html#answer-200811" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
