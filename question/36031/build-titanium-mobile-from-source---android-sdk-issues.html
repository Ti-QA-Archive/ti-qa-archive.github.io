<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Build Titanium mobile from source - Android SDK issues » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Build Titanium mobile from source - Android SDK issues</h1>
		</header>
		<section>
			<p>Following the answer <a href="http:&#x2F;&#x2F;developer.appcelerator.com&#x2F;question&#x2F;3931&#x2F;building-titanium-from-source">here</a> to build from the GitHub source.</p>
<p>I have my class paths all correct as stated <a href="http:&#x2F;&#x2F;developer.appcelerator.com&#x2F;doc&#x2F;mobile&#x2F;mobile-build-osx">here</a></p>
<p>Upon running Scons I get an error stating that Android SDK is missing, when it is installed and working (OS X 10.6)</p>
<pre><code class="hljs">scons: Reading SConscript files ...
Exception: <span class="hljs-keyword">No</span> Android SDK directory found:
  <span class="hljs-keyword">File</span> <span class="hljs-string">"/Users/jmw/src/titanium_mobile/SConstruct"</span>, <span class="hljs-keyword">line</span> 79:
    sdk = AndroidSDK(ARGUMENTS.<span class="hljs-literal">get</span>(<span class="hljs-string">"android_sdk"</span>, None), 4)
  <span class="hljs-keyword">File</span> <span class="hljs-string">"/Users/jmw/src/titanium_mobile/support/android/androidsdk.py"</span>, <span class="hljs-keyword">line</span> 42:
    raise Exception('<span class="hljs-keyword">No</span> Android SDK directory found')
</code></pre><p>My Class paths are:</p>
<pre><code class="hljs"><span class="hljs-comment">#Android</span>
<span class="hljs-built_in">export</span> PATH=<span class="hljs-variable">$HOME</span>/Dev/Android/android-sdk-mac_86/tools:<span class="hljs-variable">$PATH</span>
<span class="hljs-built_in">export</span> PATH=<span class="hljs-variable">$HOME</span>/Dev/Android/android-sdk-mac_86/platforms/android-<span class="hljs-number">3</span>/tools:<span class="hljs-variable">$PATH</span>
</code></pre><p>Where could I be going wrong?</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="June 18th 2010, 6:45:52 am">June 18th 2010</span>
				by <span class='authorname'>James Whittaker</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>build</span></li>
					
						<li><span class='tagname'>mobilesdk</span></li>
					
						<li><span class='tagname'>source</span></li>
					
				</ul>
			

			<section>
				<h5>1 Comment</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Even by specifying the android_sdk into the scons command I now get this error:</p>
<pre><code class="hljs">Exception: <span class="hljs-keyword">No</span> <span class="hljs-string">"android-4"</span> or <span class="hljs-string">"android-1.6"</span> <span class="hljs-keyword">in</span> the Android SDK:
  <span class="hljs-keyword">File</span> <span class="hljs-string">"/Users/jmw/src/titanium_mobile/SConstruct"</span>, <span class="hljs-keyword">line</span> 79:
    sdk = AndroidSDK(ARGUMENTS.<span class="hljs-literal">get</span>(<span class="hljs-string">"android_sdk"</span>, None), 4)
  <span class="hljs-keyword">File</span> <span class="hljs-string">"/Users/jmw/src/titanium_mobile/support/android/androidsdk.py"</span>, <span class="hljs-keyword">line</span> 46:
    self.find_platform_dir()
  <span class="hljs-keyword">File</span> <span class="hljs-string">"/Users/jmw/src/titanium_mobile/support/android/androidsdk.py"</span>, <span class="hljs-keyword">line</span> 88:
    raise Exception(<span class="hljs-string">"No \"</span>%s\<span class="hljs-string">" or \"</span>%s\<span class="hljs-string">" in the Android SDK"</span> % ('android-%s' % self.api_level, android_api_levels[self.api_level]))
</code></pre><p>Can someone PLEASE give clear instructions of how to build from source.</p>
</div>
							<div class="author">
								&mdash; commented <span title="June 19th 2010, 3:37:15 pm">June 19th 2010</span>
								by <span class='authorname'>James Whittaker</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>2</span> Votes</div>
			<div class="answers"><span>5</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>5 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-74141">
				
						<section>
							<p>I got this working by making a few changes.</p>
<p>Take a look at the diff here: http:&#x2F;&#x2F;github.com&#x2F;thisduck&#x2F;titanium_mobile&#x2F;commit&#x2F;89e5a00bffa05ce94879e6f0a14dc6e7ac10f222</p>
<p>Make those changes, or clone http:&#x2F;&#x2F;github.com&#x2F;thisduck&#x2F;titanium_mobile and then run</p>
<pre><code class="hljs">scons android_sdk=<span class="hljs-variable">$ANDROID</span>_HOME
</code></pre><p>That should build from the sources.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="June 22nd 2010, 2:12:48 am">June 22nd 2010</span>
								by <span class='authorname'>Adnan Ali</span><br>
								<a class="icon-bg icon-link" href="question/36031/build-titanium-mobile-from-source---android-sdk-issues#answer-74141" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>2</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-81111">
				
						<section>
							<p>Thanks Joel that was spot on!</p>
<p>So make sure you have a symlink from </p>
<pre><code class="hljs">/<span class="hljs-preprocessor">opt</span>/<span class="hljs-keyword">android-sdk/</span>
</code></pre><p>to your android-sdk directory.</p>
<p>All my symlinks were correct I just needed to change the line (as Joel stated above):</p>
<pre><code class="hljs">&lt;<span class="hljs-keyword">property</span> <span class="hljs-property">name</span>=<span class="hljs-string">"android.platform"</span> value=<span class="hljs-string">"${android.sdk}/platforms/android-1.6"</span>/&gt;
</code></pre><p>to</p>
<pre><code class="hljs">&lt;<span class="hljs-keyword">property</span> <span class="hljs-property">name</span>=<span class="hljs-string">"android.platform"</span> value=<span class="hljs-string">"${android.sdk}/platforms/android-4"</span>/&gt;
</code></pre><p>Build successful :-)</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="July 6th 2010, 6:33:37 am">July 6th 2010</span>
								by <span class='authorname'>James Whittaker</span><br>
								<a class="icon-bg icon-link" href="question/36031/build-titanium-mobile-from-source---android-sdk-issues#answer-81111" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>2</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-73101">
				
						<section>
							<p>After re-adding a sym link to my android directory as stated in the docs, I now get so far along with the build. </p>
<p>However build fails with </p>
<pre><code class="hljs">package com<span class="hljs-class">.google</span><span class="hljs-class">.android</span><span class="hljs-class">.maps</span> does not exist
</code></pre><p>I have checked and installed the Google API&#39;s Android API 8, revision 1 as detailed in the <a href="http:&#x2F;&#x2F;developer.android.com&#x2F;sdk&#x2F;RELEASENOTES.html">Google Android docs</a> as the Maps SDK is not installed by default.</p>
<p>Build still fails. Giving up now…</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="June 19th 2010, 4:40:20 pm">June 19th 2010</span>
								by <span class='authorname'>James Whittaker</span><br>
								<a class="icon-bg icon-link" href="question/36031/build-titanium-mobile-from-source---android-sdk-issues#answer-73101" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>I had to create symlinks in my platform and addons directory that correspond to the 1.6 android stuff.<br>Check out android&#x2F;build.xml in the titanium mobile repo.<br>Relevant XML is below.</p>
<pre><code class="hljs">&lt;<span class="hljs-keyword">property</span> <span class="hljs-property">name</span>=<span class="hljs-string">"android.platform"</span> value=<span class="hljs-string">"${android.sdk}/platforms/android-1.6"</span>/&gt;
&lt;<span class="hljs-keyword">property</span> <span class="hljs-property">name</span>=<span class="hljs-string">"google.apis"</span> value=<span class="hljs-string">"${android.sdk}/add-ons/google_apis-4_r02"</span>/&gt;
</code></pre><p>Basically, if you install the android sdk today, those directories will never exist, and titanium won&#39;t compile.</p>
</p>
										<div class="author">
											&mdash; commented <span title="June 30th 2010, 7:59:53 pm">June 30th 2010</span>
											by <span class='authorname'>Joel Meador</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-78671">
				
						<section>
							<p>Still not working I have forked the main repository dones the changes as specified by Adnan (thanks for the info) but I&#39;m still getting the same error messages. &quot;No &quot;android-4&quot; or &quot;android-1.6&quot; in the Android SDK:&quot;</p>
<p>I also don&#39;t get anything when I type aapt v in to the terminal. Somethings a miss but I can;&#39;t work out what it is?</p>
<p>Really need to build from source. Titanium folks can you add a how to build section into the README file please?</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="June 30th 2010, 7:25:10 am">June 30th 2010</span>
								by <span class='authorname'>James Whittaker</span><br>
								<a class="icon-bg icon-link" href="question/36031/build-titanium-mobile-from-source---android-sdk-issues#answer-78671" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>If you&#39;re not seeing any output from aapt -v then your path is wrong.  The builder script uses these commands to work out where things are for when it compiles the source.</p>
<p>Titanium has a minimum requirement of Android 1.6.<br>Assuming you have locate installed, the locate database is up to date (sudo updatedb) and you have all of them downloaded, you should be able to use locate to list their locations - ala:</p>
<pre><code class="hljs">locate android.jar <span class="hljs-string">| grep platforms</span>
</code></pre><p>You should see output like:</p>
<pre><code class="hljs"><span class="hljs-regexp">/usr/</span>local<span class="hljs-regexp">/android-sdk-linux/</span>platforms<span class="hljs-regexp">/android-1.5/</span>android.jar
<span class="hljs-regexp">/usr/</span>local<span class="hljs-regexp">/android-sdk-linux/</span>platforms<span class="hljs-regexp">/android-1.6/</span>android.jar
<span class="hljs-regexp">/usr/</span>local<span class="hljs-regexp">/android-sdk-linux/</span>platforms<span class="hljs-regexp">/android-2.0.1/</span>android.jar
<span class="hljs-regexp">/usr/</span>local<span class="hljs-regexp">/android-sdk-linux/</span>platforms<span class="hljs-regexp">/android-2.1/</span>android.jar
<span class="hljs-regexp">/usr/</span>local<span class="hljs-regexp">/android-sdk-linux/</span>platforms<span class="hljs-regexp">/android-8/</span>android.jar
</code></pre><p>Likewise - you can find the Google addons (used for maps) using:</p>
<pre><code class="hljs">locate maps.jar | <span class="hljs-keyword">grep</span> <span class="hljs-built_in">add</span>-ons
</code></pre><p>With the above info - you can pass the lib paths directly to scons with:</p>
<pre><code class="hljs">scons android_platform=<span class="hljs-regexp">/usr/</span>local<span class="hljs-regexp">/android-sdk-linux/</span>platforms<span class="hljs-regexp">/android-1.6 android_sdk=/u</span>sr<span class="hljs-regexp">/local/</span>android-sdk-linux google_apis=<span class="hljs-regexp">/usr/</span>local<span class="hljs-regexp">/android-sdk-linux/</span>add-ons<span class="hljs-regexp">/google_apis-4_r02/</span>
</code></pre><p>Assuming that works properly then you should fix your path - so that the aapt, adb &amp; android commands work.  It&#39;ll make everything else a little easier.</p>
<p>If it doesn&#39;t work - then if you can paste the complete output from when you run scons - it should be debug what the problem is.</p>
</p>
										<div class="author">
											&mdash; commented <span title="June 30th 2010, 8:21:00 am">June 30th 2010</span>
											by <span class='authorname'>David Ashwood</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-224907">
				
						<section>
							<p>Hello,</p>
<p>I have just published a post on my blog concerning building 1.8.0.1 from source on Ubuntu 10.04</p>
<p>http:&#x2F;&#x2F;www.wlaurance.com&#x2F;2011&#x2F;12&#x2F;06&#x2F;building-titanium-mobile-sdk-1-8-0-1-from-source</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="December 6th 2011, 3:10:02 am">December 6th 2011</span>
								by <span class='authorname'>Will Laurance</span><br>
								<a class="icon-bg icon-link" href="question/36031/build-titanium-mobile-from-source---android-sdk-issues#answer-224907" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
