<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Andriod - Buttons, windows Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Andriod - Buttons, windows</h1>
		</header>
		<section>
			<p>I have using the following code:</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> PeekWindow = <span class="hljs-built_in">require</span>(<span class="hljs-string">'/ui/PeekWindow'</span>);
<span class="hljs-keyword">var</span> peek_win = <span class="hljs-keyword">new</span> PeekWindow();

<span class="hljs-keyword">var</span> peekBtn = Ti.UI.createButton({
        width : the_screen.getHomeButtonWidth(),
        height : the_screen.getHomeButtonHeight(),
        top : the_screen.getHomeButtonTop(),
        backgroundImage : dir_path.R + <span class="hljs-string">"images/home/Home_Exercises.png"</span>
    });

peekBtn.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
        peek_win.win.open();
        <span class="hljs-comment">// Ti.App.fireEvent('open_peek');</span>
    });
</code></pre><p>Now on iPhones the window opens right away.</p>
<p>But on Andriod s3 phone. it takes 2 seconds to load.</p>
<p>Any reason it is so slow?</p>
<p>This code is called inside PeekWindow to create the window:</p>
<pre><code class="hljs">Core.prototype.createWindow = function(title, color, backImage) {
    <span class="hljs-keyword">if</span> (backImage != <span class="hljs-string">''</span>) {
        var win = Ti.UI.createWindow({
            <span class="hljs-string">backgroundImage :</span> backImage,
            <span class="hljs-string">navBarHidden :</span> isAndroid ? true : <span class="hljs-literal">false</span>,
            <span class="hljs-string">title :</span> title
        });
        win.orientationModes = [Ti.UI.PORTRAIT, Ti.UI.UPSIDE_PORTRAIT]
    } <span class="hljs-keyword">else</span> {
        var win = Ti.UI.createWindow({
            <span class="hljs-string">backgroundColor :</span> color,
            <span class="hljs-string">navBarHidden :</span> isAndroid ? true : <span class="hljs-literal">false</span>,
            <span class="hljs-string">title :</span> title
        });
        win.orientationModes = [Ti.UI.PORTRAIT, Ti.UI.UPSIDE_PORTRAIT]
    }
    <span class="hljs-comment">// win.layout = "vertical";</span>
    <span class="hljs-keyword">return</span> win;
}
</code></pre>
		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="June 15th 2013, 10:28:53 pm">June 15th 2013</span>
				by <span class='authorname'>Steven Marshall</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
				</ul>
			

			<section>
				<h5>1 Comment</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Any suggestions? Would be nice to resolve this?</p>
</div>
							<div class="author">
								&mdash; commented <span title="June 17th 2013, 6:39:04 pm">June 17th 2013</span>
								by <span class='authorname'>Steven Marshall</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-264452">
				
						<section>
							<p>Hi Steven,</p>
<p>Here in the code you are creating heavy weight window object and that would take little time for sure, while in iOS no concept of Heavy weight or light weight window makes it fast.</p>
<p>Also Java Script core engine in iOS is faster that V8 in Android.</p>
<pre><code class="hljs"><span class="hljs-comment">// 1st one</span>
var win = Ti.UI.createWindow({
            <span class="hljs-string">backgroundImage :</span> backImage,
            <span class="hljs-string">navBarHidden :</span> isAndroid ? true : <span class="hljs-literal">false</span>,
            <span class="hljs-string">title :</span> title
        });
        win.orientationModes = [Ti.UI.PORTRAIT, Ti.UI.UPSIDE_PORTRAIT]
    } <span class="hljs-keyword">else</span> {
        var win = Ti.UI.createWindow({
            <span class="hljs-string">backgroundColor :</span> color,
            <span class="hljs-string">navBarHidden :</span> isAndroid ? true : <span class="hljs-literal">false</span>,
            <span class="hljs-string">title :</span> title
        });
        win.orientationModes = [Ti.UI.PORTRAIT, Ti.UI.UPSIDE_PORTRAIT]
}
</code></pre><p>Not 100% sure but that is a possibility.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="June 18th 2013, 11:27:34 am">June 18th 2013</span>
								by <span class='authorname'>Ashish Nigam</span><br>
								<a class="icon-bg icon-link" href="../../question/153702/andriod---buttons-windows.html#answer-264452" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-264454">
				
						<section>
							<p>Hi</p>
<p>Have you added any performance debugging code to work out where the speed issue actually is?</p>
<p>For example placing a <strong>Ti.API.info()</strong> every couple of lines that shows the current time including milliseconds.  This way you can actually work out where the delay is - before trying to reduce or live with the problem.</p>
<p>Also you can simply your function as follows;</p>
<pre><code class="hljs">Core.prototype.createWindow = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(title, color, backImage)</span> </span>{
    <span class="hljs-keyword">var</span> win = Ti.UI.createWindow({
        backgroundImage: backImage !== <span class="hljs-string">''</span> ? backImage : color,
        navBarHidden: isAndroid ? <span class="hljs-literal">true</span> : <span class="hljs-literal">false</span>,
        title: title
    });
    win.orientationModes = [Ti.UI.PORTRAIT, Ti.UI.UPSIDE_PORTRAIT]
    <span class="hljs-keyword">return</span> win;
}
</code></pre><p>Given the only difference between the two windows is a single property,</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="June 18th 2013, 11:43:38 am">June 18th 2013</span>
								by <span class='authorname'>Malcolm Hollingsworth</span><br>
								<a class="icon-bg icon-link" href="../../question/153702/andriod---buttons-windows.html#answer-264454" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
