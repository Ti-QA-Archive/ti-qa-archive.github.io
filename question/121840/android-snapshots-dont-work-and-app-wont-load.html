<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Android snapshots don&#39;t work and app won&#39;t load » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Android snapshots don&#39;t work and app won&#39;t load</h1>
		</header>
		<section>
			<p>I have set up a clean mobile project with Titanium Studio (the default mapping application) and successfully launched this on iPad and iPhone emulators.  However, on Android I am having no such luck and have tried the following:</p>
<ol>
<li><p>Simply launch the app using the Android emulator with default settings (no snapshots).  The emulator takes forever to load (common problem with first load without snapshots) and when it does load the app is not loaded into the Android application.  I&#39;ve looked on all the screens&#x2F;desktops and gone into the menu to browse the applications, but the application is not there.  So why is my helloworld app not appearing on the Android.</p>
</li>
<li><p>Gone into Android Virtual Device manager and changed the settings of the titanium_8_WXGA virtual device which was configured by Titanium, to use Snapshots.  When launching I am then enabling &quot;Launch from Snapshot&quot; and &quot;Save to Snapshot&quot;.  When I start the Virtual Device from AVD it takes a long time at first to load, but all subsequent Start requests bring the emulator up within seconds which is great.  However, when I go back to Titanium and launch the emulator, the emulator loads, the first screen appears, and then the emulator just hangs there.  If I shut down the emulator and load it manually from AVD instead, it also hangs so I have to turn of &quot;Load from Snapshot&quot; to resurrect the Virtual Device.  Why is Titanium causing the emulator to hang when loading from a Snapshot?  If I can&#39;t load from a Snapshot, the performance of the Android emulator will probably be unusable.</p>
</li>
</ol>
<p>I am using:<br>Titanium Studio: 1.0.1.201106171427 with SDK 1.7.1<br>Android SDK release 11 (latest as of 29 June 2011)<br>Android 2.3.3 with a HVGA screen<br>Mac OS X 10.6.7</p>
<p>Thanks for your help.</p>
<p>Matt</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="June 30th 2011, 11:11:29 am">June 30th 2011</span>
				by <span class='authorname'>Matthew ORiordan</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>mobile</span></li>
					
						<li><span class='tagname'>snapshot</span></li>
					
				</ul>
			

			<section>
				<h5>2 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Further to this, here is the debug log</p>
<p>http:&#x2F;&#x2F;www.pastie.org&#x2F;2149381</p>
<p>It seems that Titanium is trying to execute a file &#x2F;Applications&#x2F;android-sdk&#x2F;platforms&#x2F;android-1.5&#x2F;tools&#x2F;aapt which does not exist.  Under my platforms folder there are folders such as android-3, android-4 …. android-12.  Not sure why Titanium is looking for android-1.5 which does not exist.</p>
<p>Any help would be appreciated.</p>
</div>
							<div class="author">
								&mdash; commented <span title="July 1st 2011, 8:48:29 am">July 1st 2011</span>
								by <span class='authorname'>Matthew ORiordan</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>I have since deleted the project, reset the emulator and tried again.  Bad news is that it is still not working, however I seem to have got a bit further.</p>
<p><a href="http:&#x2F;&#x2F;www.pastie.org&#x2F;2149420">See the log</a></p>
<p>Titanium &#x2F; ADB has provided a very unhelpful error:<br>[ERROR] Failed installing com.mattheworiordan.helloworld:     pkg: &#x2F;data&#x2F;local&#x2F;tmp&#x2F;app.apk<br>Failure [INSTALL_FAILED_MISSING_SHARED_LIBRARY]</p>
</div>
							<div class="author">
								&mdash; commented <span title="July 1st 2011, 8:58:27 am">July 1st 2011</span>
								by <span class='authorname'>Matthew ORiordan</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>1</span> Vote</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-211946">
				
						<section>
							<p>Hi all</p>
<p>The first issue to do with [INSTALL_FAILED_MISSING_SHARED_LIBRARY] and not being able tostart Android was fixed by downloading Google APIs and using those instead of the Android APIs.  See <a href="http:&#x2F;&#x2F;developer.appcelerator.com&#x2F;question&#x2F;35751&#x2F;error-failed-installing--pkg-datalocaltmpappapk.html#answer-211944">http:&#x2F;&#x2F;developer.appcelerator.com&#x2F;question&#x2F;35751&#x2F;error-failed-installing–pkg-datalocaltmpappapk.html#answer-211944</a> for a full explanation.</p>
<p>However, the issue relating to using a Snapshot to load the emulator still persists.  When I start up the emulator with Snapshots enabled, and load from snapshots selected, the emulator starts, hangs and the debug Log Titanium gives me is the following, which indicates that Titanium cannot see the emulator as it is not responding.</p>
<p>Has anyone got the emulator working with Titanium using snapshots?  That would save soooo much time as the startup is painfully slow.</p>
<p>[INFO] logfile = &#x2F;Users&#x2F;matthew&#x2F;Projects&#x2F;Titanium Studio Workspace&#x2F;helloworld&#x2F;build.log<br>[DEBUG] &#x2F;Library&#x2F;Application Support&#x2F;Titanium&#x2F;mobilesdk&#x2F;osx&#x2F;1.7.1&#x2F;android&#x2F;builder.py simulator helloworld &#x2F;Applications&#x2F;android-sdk &#x2F;Users&#x2F;matthew&#x2F;Projects&#x2F;Titanium Studio Workspace&#x2F;helloworld com.mattheworiordan.helloworld 6 HVGA<br>[INFO] Building helloworld for Android … one moment<br>[INFO] Titanium SDK version: 1.7.1 (06&#x2F;21&#x2F;11 14:28 1293a6d)<br>[DEBUG] Waiting for device to be ready …<br>[TRACE] adb devices returned 0 devices&#x2F;emulators<br>[TRACE] adb devices returned 0 devices&#x2F;emulators<br>[TRACE] adb devices returned 0 devices&#x2F;emulators<br>[TRACE] adb devices returned 0 devices&#x2F;emulators<br>[TRACE] adb devices returned 0 devices&#x2F;emulators<br>[TRACE] adb devices returned 0 devices&#x2F;emulators<br>[ERROR] Timed out waiting for emulator to be ready, you may need to close the emulator and try again</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="July 1st 2011, 9:41:07 am">July 1st 2011</span>
								by <span class='authorname'>Matthew ORiordan</span><br>
								<a class="icon-bg icon-link" href="../../question/121840/android-snapshots-dont-work-and-app-wont-load.html#answer-211946" rel="permalink">permalink</a>
							</div>

							<h5>2 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Matthew, please don&#39;t answer your own questions; use the comment facility instead. Thank you.</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 1st 2011, 2:23:37 pm">July 1st 2011</span>
											by <span class='authorname'>Paul Dowsett</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Ok, I thought as my response was actually an answer i.e. it solved one of the two issues, then it would be better to answer the question.  Admittedly asking two questions in one is probably not a great idea, whoops.</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 2nd 2011, 9:31:21 am">July 2nd 2011</span>
											by <span class='authorname'>Matthew ORiordan</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-211980">
				
						<section>
							<p>Matthew</p>
<p>Firstly, let&#39;s just get it working before you start experimenting with snapshots. I have never used them, and I have never had problems like these.</p>
<p>While we troubleshoot this, please do the following:</p>
<p>Close the emulator, start the Android AVD Manager, and delete all existing AVDs.</p>
<p>Instead of using Android APIs 2.3.3, use Android APIs 2.1.</p>
<p>In order for us to establish whether your environment configuration is sufficient:</p>
<p>Please copy and paste the following into your terminal&#x2F;shell so that all the commands execute successfully. Copy the output and paste it to your preferred <a href="http:&#x2F;&#x2F;pastebin.com&#x2F;">pastebin</a> service, and paste the link to it here. It&#39;s important that you do not modify it <strong>in any way</strong>, as this could mask problems with your configuration. Do <strong>NOT</strong> paste the actual code here! This is because the system will change the formatting.</p>
<p>Also, please create and share a screenshot of your android installed packages, using something like <a href="http:&#x2F;&#x2F;imageshack.us&#x2F;">ImageShack</a></p>
<p>Lastly, state the processor and RAM installed to your system.</p>
<p>Then I will help you further.</p>
<pre><code class="hljs">clear
<span class="hljs-built_in">cd</span> /
uname <span class="hljs-operator">-a</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"<span class="hljs-variable">$PATH</span>"</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"<span class="hljs-variable">$JAVA_HOME</span>"</span>
java -version
javac -version
python -V
<span class="hljs-built_in">echo</span> <span class="hljs-string">"<span class="hljs-variable">$ANDROID_SDK</span>"</span>
<span class="hljs-built_in">cd</span> <span class="hljs-string">"<span class="hljs-variable">$ANDROID_SDK</span>"</span>/tools
./adb version
./android list target
git --version
<span class="hljs-built_in">echo</span> <span class="hljs-string">" --- The following is optional ---"</span>
scons -v
<span class="hljs-built_in">echo</span> <span class="hljs-string">"<span class="hljs-variable">$HTTP_PROXY</span>"</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"<span class="hljs-variable">$HTTPS_PROXY</span>"</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"<span class="hljs-variable">$SOCKS_PROXY</span>"</span>
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="July 1st 2011, 2:28:50 pm">July 1st 2011</span>
								by <span class='authorname'>Paul Dowsett</span><br>
								<a class="icon-bg icon-link" href="../../question/121840/android-snapshots-dont-work-and-app-wont-load.html#answer-211980" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Hi Paul</p>
<p>Thanks for your assistance.</p>
<p>Ok, so followed your steps and here are some links for you.</p>
<p>Output from commands you asked me to run at <a href="http:&#x2F;&#x2F;www.pastie.org&#x2F;2154152">http:&#x2F;&#x2F;www.pastie.org&#x2F;2154152</a>.  Note that $ANDROID_SDK is not defined in my environment so I manually ran those adb and android commands in the tools directory so you get the correct output.</p>
<p>Screen shot of installed package at <a href="http:&#x2F;&#x2F;imageshack.us&#x2F;photo&#x2F;my-images&#x2F;30&#x2F;androidinstalledpackage.png&#x2F;">http:&#x2F;&#x2F;imageshack.us&#x2F;photo&#x2F;my-images&#x2F;30&#x2F;androidinstalledpackage.png&#x2F;</a></p>
<p>2.53 Ghz Intel Core 2 Duo, 4 GB of Ram, Mac OS X 10.6.7</p>
<p>Finally, FYI, after I deleted all AVDs, I then went back into Titanium, went to Run Configurations, found the Titanium emulator configuration and selected &quot;Google APIS Android 2.1-update1&quot; and ran that emulator.  That worked fine as expected (in line with my previous answer about how I fixed the initial emulator issue).</p>
<p>However, in regards to the Snapshot issue, as soon as I enable snapshots and start the emulator from within Titanium the emulator hangs, and the trace from Titanium is as follows <a href="http:&#x2F;&#x2F;www.pastie.org&#x2F;2154194">http:&#x2F;&#x2F;www.pastie.org&#x2F;2154194</a> and the last line keeps repeating into perpetuity.<br>As before, if I launch the emulator from AVD Manager everything works fine.</p>
<p>Thanks,<br>Matt</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 2nd 2011, 9:52:56 am">July 2nd 2011</span>
											by <span class='authorname'>Matthew ORiordan</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
