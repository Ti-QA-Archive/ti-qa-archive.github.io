<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>timeout after inactivity » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>timeout after inactivity</h1>
		</header>
		<section>
			<p>Hi together,<br>I&#39;m very new to Titanium and I&#39;m stuck with this problem:<br>I want to fire an event after 5 minutes of inactivity.</p>
<p>I have a window with a webview and an overlay view. So I have to track activity on Ti.UI.webview and Ti.UI.view. Or is there a very easy way to do this?</p>
<p>Thanks in advance for any suggestions.</p>
<p>Best regards,<br>Holger</p>
<hr>
<p>iOS &#x2F;&#x2F; iOS SDK 7.1</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="April 25th 2014, 5:10:38 am">April 25th 2014</span>
				by <span class='authorname'>Holger Hartmann</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>inactivity</span></li>
					
						<li><span class='tagname'>timeout</span></li>
					
				</ul>
			

			<section>
				<h5>1 Comment</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>include some code detailing what you are trying to achieve. This will give everyone a better understanding of the problem you are facing so that others can help you more to solve your problem…</p>
</div>
							<div class="author">
								&mdash; commented <span title="April 25th 2014, 5:13:24 am">April 25th 2014</span>
								by <span class='authorname'>Sanat Mamtora</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>3</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>3 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-278110">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>Hi Holger ,</p>
<p>You  can  add window&#39;s touchstart event for this :</p>
<p>try this :</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> idleTime = <span class="hljs-literal">null</span>;

<span class="hljs-built_in">window</span>.addEventListener(<span class="hljs-string">'touchstart'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
    clearInterval(idleTime);
    idleTime = setInterval(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
         funTimeout();
    }, <span class="hljs-number">10000</span>);   <span class="hljs-comment">//   &lt;--- 10 Second.  Set this as you need   </span>
});

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">funTimeout</span>(<span class="hljs-params"></span>)</span>{

    alert(<span class="hljs-string">"Time Out"</span>);
}
</code></pre><p>as above code 10 second of inactivity in app it&#39;s fire <strong>funTimeout</strong> function.</p>
<p>i hope this helps. thanks.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="April 25th 2014, 6:14:18 am">April 25th 2014</span>
								by <span class='authorname'>Sanat Mamtora</span><br>
								<a class="icon-bg icon-link" href="question/173046/timeout-after-inactivity#answer-278110" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>..works perfect, thanks!</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 25th 2014, 10:47:25 am">April 25th 2014</span>
											by <span class='authorname'>Holger Hartmann</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-278109">
				
						<section>
							<p>mmh, I have no really finished code. My problem is the how to solve this by what strategy.</p>
<p>-&gt; Is there a global method to listen to any touch gestures - independently from webView, View or window?<br>-&gt; or do I have to fireEvents &#x2F; addEventlisteners to every view &#x2F; webView?<br>    and when yes: how can I listen to touch events on a web view?</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="April 25th 2014, 5:27:37 am">April 25th 2014</span>
								by <span class='authorname'>Holger Hartmann</span><br>
								<a class="icon-bg icon-link" href="question/173046/timeout-after-inactivity#answer-278109" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-278119">
				
						<section>
							<p>Arrgh - another problem just cam up. The window.addEventListener works fine but now I&#39;m not able to interact or click anything in the web view. Any ideas?</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="April 25th 2014, 12:08:23 pm">April 25th 2014</span>
								by <span class='authorname'>Holger Hartmann</span><br>
								<a class="icon-bg icon-link" href="question/173046/timeout-after-inactivity#answer-278119" rel="permalink">permalink</a>
							</div>

							<h5>9 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>share your code.</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 25th 2014, 12:32:18 pm">April 25th 2014</span>
											by <span class='authorname'>Sanat Mamtora</span>
										</div>
									</li>
								
									<li class="comment">
										<p><pre><code class="hljs">
<span class="hljs-keyword">var</span> win = Ti.UI.createWindow();



<span class="hljs-keyword">var</span> webview = Ti.UI.createWebView({
    url: <span class="hljs-string">"http://www.google.de"</span>,
});
win.add(webview);


<span class="hljs-keyword">var</span> overlay = Ti.UI.createView({
    backgroundColor: <span class="hljs-string">"red"</span>,
    width: <span class="hljs-number">100</span>,
    height: Ti.UI.SIZE,
    zIndex: <span class="hljs-number">100</span>,
});
win.add(overlay);






<span class="hljs-keyword">var</span> idleTime = <span class="hljs-literal">null</span>;

win.addEventListener(<span class="hljs-string">'touchstart'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span> </span>{
    clearInterval(idleTime);

    idleTime = setInterval(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
         inactivityTimeout();
    }, <span class="hljs-number">5000</span>);   <span class="hljs-comment">//   &lt;--- Set time</span>

});

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">inactivityTimeout</span><span class="hljs-params">()</span></span>{

    alert(<span class="hljs-string">"Time Out"</span>);
}



win.open();
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="April 28th 2014, 7:45:59 am">April 28th 2014</span>
											by <span class='authorname'>Holger Hartmann</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>you add overlap view above webview so you can not able to click webview bcz of overlapview. you can also add event of webview like :</p>
<pre><code class="hljs">webview.addEventListener(<span class="hljs-string">"click"</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span></span>{
    Ti.API.info(<span class="hljs-string">"Web view clicked"</span>);
});
</code></pre><p><strong>Try and add webview event and check again.</strong></p>
</p>
										<div class="author">
											&mdash; commented <span title="April 29th 2014, 1:59:06 am">April 29th 2014</span>
											by <span class='authorname'>Sanat Mamtora</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>The event listener works fine. But now I cannot interact or click in the webview anymore.</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 29th 2014, 6:27:45 am">April 29th 2014</span>
											by <span class='authorname'>Holger Hartmann</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>have you add <strong>webview</strong> event listener??? and what you want on webview&#39;s click??</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 29th 2014, 6:33:26 am">April 29th 2014</span>
											by <span class='authorname'>Sanat Mamtora</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Yes I did on webview - not window.<br>I want to trigger if the user interacts with the iPad. After 5 minutes of inactivity the APP should close all windows. So I don&#39;t want to trigger &quot;click&quot; but all kind of interactivity. Do you know what I mean?</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 29th 2014, 6:42:55 am">April 29th 2014</span>
											by <span class='authorname'>Holger Hartmann</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>i think you do like this :</p>
<pre><code class="hljs">
<span class="hljs-keyword">var</span> idleTime = <span class="hljs-literal">null</span>;

webview.addEventListener(<span class="hljs-string">'touchstart'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span> </span>{
    clearInterval(idleTime);

    idleTime = setInterval(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
         inactivityTimeout();
    }, <span class="hljs-number">5000</span>);   <span class="hljs-comment">//   &lt;--- Set time</span>

});

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">inactivityTimeout</span><span class="hljs-params">()</span></span>{

    alert(<span class="hljs-string">"Time Out"</span>);
}

win.open();
</code></pre><p>this scenario  if you touch in <strong>overlap view</strong> than webview&#39;s touchstart event not fired. bcz the overlap view is not children of webview.</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 29th 2014, 6:50:46 am">April 29th 2014</span>
											by <span class='authorname'>Sanat Mamtora</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I know what you mean with overlap view - that&#39;s fine for me. For testing I comment out the &quot;overlap view&quot;.<br>But I still have the problem that I can&#39;t klick through the webview. Like I&#39;m not able to use the &quot;google search&quot; in this example.</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 29th 2014, 7:45:07 am">April 29th 2014</span>
											by <span class='authorname'>Holger Hartmann</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>###iOS Platform Implementation Notes</p>
<p>On the iOS platform, the native web view handles scrolling and other related touch events internally. If you add event listeners on the web view or its parent views for any of the standard touch events (touchstart, click, and so on), these events do not reach the native web view, and the user will not be able to scroll, zoom, click on links, and so on. To prevent this default behavior, set <a href="http:&#x2F;&#x2F;docs.appcelerator.com&#x2F;titanium&#x2F;latest&#x2F;#!&#x2F;api&#x2F;Titanium.UI.WebView-property-willHandleTouches">willHandleTouches</a> to false.</p>
<p>In other words, you can have either Titanium-style events against the web view instance, or internal JavaScript events in the DOM, but not both.</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 3rd 2014, 5:19:30 am">May 3rd 2014</span>
											by <span class='authorname'>Sanat Mamtora</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
