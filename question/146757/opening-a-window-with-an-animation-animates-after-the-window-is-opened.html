<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Opening a window with an animation animates after the window is opened Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Opening a window with an animation animates after the window is opened</h1>
		</header>
		<section>
			<p>When I open a window with an animation object in it the window opens but the animation is fired when the window is opened but I want the animation to happen when it is openeing and not after the window is already visible.</p>
<p>I used an example from the Kitchen Sink and build further on top of it and came up with this:</p>
<pre><code class="hljs"><span class="hljs-variable"><span class="hljs-keyword">var</span> openAnimation</span> = Titanium.UI.createAnimation();
openAnimation.top = <span class="hljs-number">30</span>;
openAnimation.duration = <span class="hljs-number">7000</span>;

Titanium.App.openAnimation = openAnimation;

<span class="hljs-comment">//    Show initial window(login)</span>
<span class="hljs-variable"><span class="hljs-keyword">var</span> firstWindow</span> = Titanium.UI.createWindow({
    title:<span class="hljs-string">"dashboard"</span>,
    backgroundColor:<span class="hljs-string">"#e5e5e5"</span>,
    barColor:<span class="hljs-string">"#32411b"</span>,
    url: <span class="hljs-string">"firstWindow.js"</span>
});

firstWindow.<span class="hljs-keyword">open</span>(openAnimation);
</code></pre><p>In the Kitchen Sink example (Base UI &gt; Window Standalone &gt; open nav bar visible) the opening of the window is happening during the animation. This is what I want, but my animation happens after the window is opened. Did I misunderstand the implementation? </p>
<p>Version info:</p>
<p>Application type: mobile</p>
<p>Titanium SDK version: 2.1.4 (11&#x2F;09&#x2F;12 12:46 51f2c64)</p>
<p>iPhone Device family: universal</p>
<p>iPhone SDK version: 6.0</p>
<p>iPhone simulated device: iphone</p>
<p>Host Operating System: OSX 10.8.2</p>
<p>Titanium Studio:build: 2.1.2.201208301612</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="January 11th 2013, 10:49:30 am">January 11th 2013</span>
				by <span class='authorname'>vincent c</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>animate</span></li>
					
						<li><span class='tagname'>animation</span></li>
					
						<li><span class='tagname'>open</span></li>
					
						<li><span class='tagname'>window</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-254331">
				
						<section>
							<p>hi,<br>try this one</p>
<pre><code class="hljs">var openAnimation = Titanium.UI.createAnimation();
    openAnimation.top = <span class="hljs-number">30</span>;
    openAnimation.height = <span class="hljs-number">420</span>;
    openAnimation.duration = <span class="hljs-number">7000</span>;

    Titanium.App.openAnimation = openAnimation;

    <span class="hljs-comment">//  Show initial window(login)</span>
    var firstWindow = Titanium.UI.createWindow({
        title : <span class="hljs-string">"dashboard"</span>,
        backgroundColor : <span class="hljs-string">"#e5e5e5"</span>,
        barColor : <span class="hljs-string">"#32411b"</span>,
        url: <span class="hljs-string">"firstWindow.js"</span>
        height : <span class="hljs-number">0</span>,
        bottom : <span class="hljs-number">0</span>
    });

    firstWindow.open(openAnimation);
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="January 11th 2013, 11:36:09 am">January 11th 2013</span>
								by <span class='authorname'>Mitul Bhalia</span><br>
								<a class="icon-bg icon-link" href="question/146757/opening-a-window-with-an-animation-animates-after-the-window-is-opened.html#answer-254331" rel="permalink">permalink</a>
							</div>

							<h5>6 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>It still gives me the same effect..</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 11th 2013, 12:07:40 pm">January 11th 2013</span>
											by <span class='authorname'>vincent c</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>ok,i read comment you posted in Matthias&#39;s answer so as he said you should not use url property or if you want to open window like this with url propety then you can use modal property to animate window like </p>
<pre><code class="hljs"><span class="hljs-tag">firstWindow</span><span class="hljs-class">.open</span>(<span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">modal </span>:<span class="hljs-value"> true
</span></span></span>});
</code></pre><p>as i can see that you have set <strong>barColor</strong> property , you can not set  barcolor if you open it with animation try it and give your feedback.</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 11th 2013, 12:21:23 pm">January 11th 2013</span>
											by <span class='authorname'>Mitul Bhalia</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Hi Mitul, I already tried that. But it seems to be impossible to open other windows &#x2F; tabgroups from a modal window..</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 11th 2013, 12:22:59 pm">January 11th 2013</span>
											by <span class='authorname'>vincent c</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>ok then you can one thing just create one view and add all the components in that then at creation time of that view set view&#39;s bottom to -(view&#39;s height) so it set at bottom then animate with that view when window is open as it looks like opening a window with animation and do not forget to set window&#39;s background&#39;s transparent.</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 11th 2013, 12:27:54 pm">January 11th 2013</span>
											by <span class='authorname'>Mitul Bhalia</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>try this code</p>
<pre><code class="hljs">var self = Ti.UI.createWindow({
     <span class="hljs-string">backgroundColor :</span> <span class="hljs-string">'transparent'</span>
<span class="hljs-label">     url:</span> <span class="hljs-string">"firstWindow.js"</span>
});

var view = Ti.UI.createView({
    <span class="hljs-string">backgroundColor :</span> <span class="hljs-string">'red'</span>,
    <span class="hljs-string">height :</span> <span class="hljs-number">420</span>,
    <span class="hljs-string">width :</span> <span class="hljs-number">320</span>,
    <span class="hljs-string">bottom :</span> -<span class="hljs-number">420</span>
});

var btn = Ti.UI.createButton({
    <span class="hljs-string">title :</span> <span class="hljs-string">'click'</span>,
    <span class="hljs-string">width :</span> Ti.UI.SIZE,
    <span class="hljs-string">height :</span> Ti.UI.SIZE
});
view.add(btn);

view.animate({
    <span class="hljs-string">duration :</span> <span class="hljs-number">2000</span>,
    <span class="hljs-string">bottom :</span> <span class="hljs-number">0</span>
});

self.add(view);
self.open();
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="January 11th 2013, 12:32:56 pm">January 11th 2013</span>
											by <span class='authorname'>Mitul Bhalia</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I will give it a try later on and will let you know!</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 11th 2013, 12:40:03 pm">January 11th 2013</span>
											by <span class='authorname'>vincent c</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-254332">
				
						<section>
							<p>Hi Vincent,</p>
<p>try this:</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> openAnimation = Ti.UI.createAnimation({
    top:<span class="hljs-number">30</span>,
    duration:<span class="hljs-number">7000</span>
});

<span class="hljs-comment">//  Show initial window(login)</span>
<span class="hljs-keyword">var</span> firstWindow = Ti.UI.createWindow({
    title:<span class="hljs-string">"dashboard"</span>,
    backgroundColor:<span class="hljs-string">"#e5e5e5"</span>,
    barColor:<span class="hljs-string">"#32411b"</span>,
    url: <span class="hljs-string">"firstWindow.js"</span>
});
firstWindow.addEventListener(<span class="hljs-string">'open'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span></span>{
    firstWindow.animate(openAnimation);
});

firstWindow.open();
</code></pre><p>Oh and you better don&#39;t use the url property, because this creates a new execution context.</p>
<p>And also don&#39;t extent Ti.App</p>
<p>You better use a CommonJS approach and read something about coding principles.</p>
<p>In Titanium docs this is a good starting point to study: <a href="http:&#x2F;&#x2F;docs.appcelerator.com&#x2F;titanium&#x2F;latest&#x2F;#!&#x2F;guide&#x2F;Coding_Strategies">Coding Strategies</a></p>
<p>Greetings,</p>
<p>Matthias</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="January 11th 2013, 11:49:48 am">January 11th 2013</span>
								by <span class='authorname'>Matthias Kroeger</span><br>
								<a class="icon-bg icon-link" href="question/146757/opening-a-window-with-an-animation-animates-after-the-window-is-opened.html#answer-254332" rel="permalink">permalink</a>
							</div>

							<h5>3 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Hi Matthias,</p>
<p>I still get the same and used the exact code the window is opened but the animation happens after it is opened. Is there something in de JS file that is used in the url property that might bug with it?</p>
<p>I am too far near the deadline (next week) to try out common js and ditch the url&#x2F;Ti.App.<br>The thing is, I was supposed to be creating an mobile app using webviews with Phonegap(managers choice) but performance was poor so I had too quickly decide what to do and Titanium seemed the best choice, I basically learned on the go and probably the bad way as you say..</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 11th 2013, 12:14:09 pm">January 11th 2013</span>
											by <span class='authorname'>vincent c</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Ok, if your very much close on deadline, simply skip that animate thing.</p>
<p>Better do some more important things and testing do deliver a stable version.</p>
<p>Put the icing on the cake into a future release.</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 11th 2013, 12:38:36 pm">January 11th 2013</span>
											by <span class='authorname'>Matthias Kroeger</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I am indeed putting this on hold for now, finishing the ui and will pick this up later. Did not expect this to be that much of a big deal. Sucks though, I kinda was under the impression that I understood Titanium up until you mentioned that the usage of the url property and  Ti.App is best to avoid. I can&#39;t remember where I found that, I believe somewhere in the comnunity , thanks again for all your effor.</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 11th 2013, 12:42:46 pm">January 11th 2013</span>
											by <span class='authorname'>vincent c</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
