<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Problem with navigation controller Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Problem with navigation controller</h1>
		</header>
		<section>
			<p>Hello everybody,</p>
<p>I am using the navigation controller example that was explained in that <a href="https:&#x2F;&#x2F;wiki.appcelerator.org&#x2F;display&#x2F;guides&#x2F;Cross+Platform+Navigation+Controller">link</a>. But I have encountered a problem while trying to test the app on an Android device. In fact, when I deploy the app from a windows 7 machine, everything is working fine BUT when I use a mac to deploy THE SAME CODE, I have this error : </p>
<p>Uncaught ReferenceError : SubcategoryWindow is not defined.</p>
<p>This is what I added in the app.js file : </p>
<pre><code class="hljs"><span class="hljs-comment">//require the UI components necessary to drive the test</span>
<span class="hljs-keyword">var</span> NavigationController = <span class="hljs-built_in">require</span>(<span class="hljs-string">'ui/Common/NavigationController'</span>).NavigationController,
    CategoryWindow         = <span class="hljs-built_in">require</span>(<span class="hljs-string">'ui/Android/CategoryWindow'</span>).CategoryWindow,
    SubcategoryWindow     = <span class="hljs-built_in">require</span>(<span class="hljs-string">'ui/Android/SubcategoryWindow'</span>).SubcategoryWindow,
    DetailWindow         = <span class="hljs-built_in">require</span>(<span class="hljs-string">'ui/Android/DetailWindow'</span>).DetailWindow;

<span class="hljs-comment">//create NavigationController which will drive our simple application</span>
<span class="hljs-keyword">var</span> controller = <span class="hljs-keyword">new</span> NavigationController();
</code></pre><p>and this is the callback from where the problem comes : </p>
<pre><code class="hljs"><span class="hljs-comment">// TABLE EVENTLISTENER</span>
    tableview.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span>
    </span>{    
        <span class="hljs-keyword">var</span> id = e.row.category.id;
        navController.open(<span class="hljs-keyword">new</span> SubcategoryWindow(navController, id));        

    });
</code></pre><p>I hope my problem is clear enough.</p>
<p>Thank you very much for your help !</p>
<p>Best,</p>
<p>Amine</p>
<p>Application type: mobile</p>
<p>Titanium SDK: 1.8.0.1.RC1</p>
<p>iPhone SDK version: 4.3</p>
<p>Android SDK version : 2.3.3</p>
<p>Device: Motorola milestone 2 </p>
<p>Host Operating System: OSX 10.6.8</p>
<p>Titanium Studio: 1.0.7.201112152014</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="January 26th 2012, 10:03:11 am">January 26th 2012</span>
				by <span class='authorname'>Mohamed Amine EL AOUANE</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>controller</span></li>
					
						<li><span class='tagname'>mac</span></li>
					
						<li><span class='tagname'>navigation</span></li>
					
						<li><span class='tagname'>windows 7</span></li>
					
				</ul>
			

			<section>
				<h5>1 Comment</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Try using the GA release of 1.8.0.1 instead of the RC1 ?</p>
</div>
							<div class="author">
								&mdash; commented <span title="January 26th 2012, 10:13:02 am">January 26th 2012</span>
								by <span class='authorname'>Nick Milner</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>9</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>9 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-228602">
				
						<section>
							<p>Try using the GA release of 1.8.0.1 instead of the RC1 ?</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="January 26th 2012, 10:13:14 am">January 26th 2012</span>
								by <span class='authorname'>Nick Milner</span><br>
								<a class="icon-bg icon-link" href="../../question/131202/problem-with-navigation-controller.html#answer-228602" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-228604">
				
						<section>
							<p>Hi, </p>
<p>Thank you Nick for your answer. I changed the SDK version in tiapp.xml, deleted the android build folder from my workspace, uninstalled the app from the device and deploy it again but unfortunately the same problem persists. Any other idea ?</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="January 26th 2012, 10:21:07 am">January 26th 2012</span>
								by <span class='authorname'>Mohamed Amine EL AOUANE</span><br>
								<a class="icon-bg icon-link" href="../../question/131202/problem-with-navigation-controller.html#answer-228604" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-228612">
				
						<section>
							<p>Without the full code it could be difficult to figure this out but if your eventlistener is in the same context as your navcontroller declaration, you have a naming mismatch. </p>
<p>You define a navcontroller named &#39;controller&#39; with this <code>var controller = new NavigationController();</code> then you reference the controller in the eventlistener with the name &#39;navController&#39; like this <code>navController.open(new SubcategoryWindow(navController, id));</code></p>
<p>Without the full code, tough to tell if that is it or not.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="January 26th 2012, 11:27:49 am">January 26th 2012</span>
								by <span class='authorname'>Ray Belisle</span><br>
								<a class="icon-bg icon-link" href="../../question/131202/problem-with-navigation-controller.html#answer-228612" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-228629">
				
						<section>
							<p>Hi Ray, </p>
<p>Thank you for your answer. I don&#39;t think the problem is coming from the reference to the controller since the same code was deployed from another machine and was working. I think the problem is coming from the settings rather than the code. In fact, I also tested the sample application provided in this <a href="https:&#x2F;&#x2F;github.com&#x2F;appcelerator-developer-relations&#x2F;Forging-Titanium&#x2F;tree&#x2F;master&#x2F;ep-002">repository</a> and I got the same error  (Uncaught reference error : controller is not defined) both on the device and the android simulator. This same app works on iOS simulator (it crashes when you want to go back to the first page) but at least it doesn&#39;t display this error. Do you have any ideo about weither the SDK version (of titanium, iOS or android) affects the use of this kind of structure ? is there any different way to do things when you are using a mac station to develop an android app ? </p>
<p>Thank you again for your help guys .</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="January 26th 2012, 12:52:40 pm">January 26th 2012</span>
								by <span class='authorname'>Mohamed Amine EL AOUANE</span><br>
								<a class="icon-bg icon-link" href="../../question/131202/problem-with-navigation-controller.html#answer-228629" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-228639">
				
						<section>
							<p>try to change your file references by putting <strong><em>&#39;.&#x2F;&#39; prefix</em></strong>, like this:</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> NavigationController = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./ui/Common/NavigationController'</span>).NavigationController,
    CategoryWindow      = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./ui/Android/CategoryWindow'</span>).CategoryWindow,
    SubcategoryWindow   = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./ui/Android/SubcategoryWindow'</span>).SubcategoryWindow,
    DetailWindow        = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./ui/Android/DetailWindow'</span>).DetailWindow;
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="January 26th 2012, 2:21:23 pm">January 26th 2012</span>
								by <span class='authorname'>yury bogomo</span><br>
								<a class="icon-bg icon-link" href="../../question/131202/problem-with-navigation-controller.html#answer-228639" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-228640">
				
						<section>
							<p>Alright,another stab in the dark,</p>
<p>I just used this code and had forgotten about this problem. Check the window code in your subcategory window. In the repository, the code for Testwindow.js shows:</p>
<pre><code class="hljs">exports.TestWindow = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(navController)</span> </span>{
    <span class="hljs-keyword">var</span> win = Ti.UI.createWindow({
        title:<span class="hljs-string">'Window '</span>+controller.windowStack.length,
        backgroundColor:<span class="hljs-string">'#fff'</span>,
        layout:<span class="hljs-string">'vertical'</span>
    });
</code></pre><p>The error I was getting was because trying to set the title with controller instead of navController. Not sure if that might be causing your error.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="January 26th 2012, 2:28:54 pm">January 26th 2012</span>
								by <span class='authorname'>Ray Belisle</span><br>
								<a class="icon-bg icon-link" href="../../question/131202/problem-with-navigation-controller.html#answer-228640" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-228641">
				
						<section>
							<p>Thank you guys for the ideas. I tried the code change that Yury proposed but it doesn&#39;t solve the problem. I am testing right now just the simple application proposed in the  <a href="https:&#x2F;&#x2F;github.com&#x2F;appcelerator-developer-relations&#x2F;Forging-Titanium&#x2F;tree&#x2F;master&#x2F;ep-002">repository</a></p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> NavigationController = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./NavigationController'</span>).NavigationController,
    TestWindow = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./TestWindow'</span>).TestWindow;
</code></pre><p>I also removed the call to the controller from the window title : </p>
<pre><code class="hljs">    <span class="hljs-keyword">var</span> win = Ti.UI.createWindow({
        title:<span class="hljs-string">'Window '</span>,
        backgroundColor:<span class="hljs-string">'#fff'</span>,
        layout:<span class="hljs-string">'vertical'</span>
    });
</code></pre><p>I can display the first window but once I click on one of the two buttons, I have the error again. The callback responsible of this error is the following : </p>
<pre><code class="hljs">    var <span class="hljs-built_in">add</span> = Ti.UI.createButton({
        title:<span class="hljs-string">'Add A New Window'</span>,
        <span class="hljs-variable">height</span>:<span class="hljs-string">'50dp'</span>,
        <span class="hljs-variable">width</span>:<span class="hljs-string">'200dp'</span>,
        top:<span class="hljs-string">'20dp'</span>
    });
    <span class="hljs-built_in">add</span>.addEventListener(<span class="hljs-string">'click'</span>, function() {
        navController.<span class="hljs-built_in">open</span>(<span class="hljs-keyword">new</span> TestWindow(navController));
    });
</code></pre><p>Any other propositions ?</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="January 26th 2012, 2:49:18 pm">January 26th 2012</span>
								by <span class='authorname'>Mohamed Amine EL AOUANE</span><br>
								<a class="icon-bg icon-link" href="../../question/131202/problem-with-navigation-controller.html#answer-228641" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-228659">
				
						<section>
							<p>Hi again, </p>
<p>It seems that this problem was resolved in the latest releases of the SDK according to this <a href="http:&#x2F;&#x2F;jira.appcelerator.org&#x2F;browse&#x2F;TIMOB-5123">ticket</a>. I updated my SDK and tested again but nothing new. I also followed the steps described in this <a href="http:&#x2F;&#x2F;developer.appcelerator.com&#x2F;question&#x2F;124473&#x2F;commonjs-modules---typeerror-in-production.html#answer-218739">workaound</a> also no result. Can a MacBook pro user using OS X snow leopard try the sample code in this <a href="https:&#x2F;&#x2F;github.com&#x2F;appcelerator-developer-relations&#x2F;Forging-Titanium&#x2F;tree&#x2F;master&#x2F;ep-002">directory</a> and tell me weither the test worked for him&#x2F;her or not ? </p>
<p>Thank you for your help.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="January 26th 2012, 5:39:22 pm">January 26th 2012</span>
								by <span class='authorname'>Mohamed Amine EL AOUANE</span><br>
								<a class="icon-bg icon-link" href="../../question/131202/problem-with-navigation-controller.html#answer-228659" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Because of the changes in CommonJS the navigation controller doesn&#39;t work anymore. I was just googling about this, as I&#39;m running in the same issue right now.</p>
<p>p.s. I&#39;m on Mac OS X Lion.</p>
</p>
										<div class="author">
											&mdash; commented <span title="February 17th 2012, 6:51:20 am">February 17th 2012</span>
											by <span class='authorname'>Nauris Pukis</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-228701">
				
						<section>
							<p>On Android try this </p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> NavigationController = <span class="hljs-built_in">require</span>(<span class="hljs-string">'/NavigationController'</span>).NavigationController,
    TestWindow = <span class="hljs-built_in">require</span>(<span class="hljs-string">'/TestWindow'</span>).TestWindow;
</code></pre><p>I had the issue with background images on buttons. Only with this kind of a path they were showing on Android.</p>
<p>And second thing. Try to create a blank new project and then copy all of your .js files where you need in that new project.<br>I had the issue that I couldn&#39;t run my project on Android after Titanium SDK update. Looks like some configuration files where changing also.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="January 27th 2012, 6:17:55 am">January 27th 2012</span>
								by <span class='authorname'>Dino Bartosak</span><br>
								<a class="icon-bg icon-link" href="../../question/131202/problem-with-navigation-controller.html#answer-228701" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Thnx Dino for the hints, I did what you suggested but the error is still popping up. I think it is smth related to the mac version of the SDK !!</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 27th 2012, 9:45:46 am">January 27th 2012</span>
											by <span class='authorname'>Mohamed Amine EL AOUANE</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
