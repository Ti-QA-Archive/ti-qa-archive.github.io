<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Trying to create a custom nav group need help » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Trying to create a custom nav group need help</h1>
		</header>
		<section>
			<p>Hi All</p>
<p>I am trying to create a custom nav&#x2F;tab group with titanium so i can style the group with custom styles.</p>
<p>Here is how i am calling the group</p>
<pre><code class="hljs">var winStack = [{
        <span class="hljs-string">title :</span> <span class="hljs-string">'one'</span>,
        <span class="hljs-string">image :</span> <span class="hljs-string">'/todo.png'</span>,
        <span class="hljs-string">win :</span> require(<span class="hljs-string">'oneui'</span>).createView({}),
<span class="hljs-label">        state:</span> <span class="hljs-number">0</span>
    }, {
        <span class="hljs-string">title :</span> <span class="hljs-string">'two'</span>,
        <span class="hljs-string">image :</span> <span class="hljs-string">'/two.png'</span>,
        <span class="hljs-string">win :</span> require(<span class="hljs-string">'twoui'</span>).createView({}),
<span class="hljs-label">        state:</span> <span class="hljs-number">0</span>
    }, {
        <span class="hljs-string">title :</span> <span class="hljs-string">'three'</span>,
        <span class="hljs-string">image :</span> <span class="hljs-string">'/three.png'</span>,
        <span class="hljs-string">win :</span> require(<span class="hljs-string">'threeui'</span>).createView({}),
<span class="hljs-label">        state:</span> <span class="hljs-number">0</span>
    }]

    main.add(require(<span class="hljs-string">'menu'</span>).createView(winStack, function(evt) {

        nav.open(winStack[evt.source.index].win, {
                <span class="hljs-string">animated :</span> <span class="hljs-literal">false</span>
            });
        <span class="hljs-keyword">for</span> (var i = <span class="hljs-number">0</span>; i &lt; winStack.length; i++) {
            <span class="hljs-keyword">if</span> (evt.source.index != i) {
                nav.close(winStack[i].win, {
                    <span class="hljs-string">animated :</span> <span class="hljs-literal">false</span>
                });
            }
        };

    }));
</code></pre><p>my menu.js looks like this</p>
<pre><code class="hljs">exports.createView = function(model, callback) {

    self = Titanium.UI.createView({
        <span class="hljs-string">backgroundColor :</span> <span class="hljs-string">'#8f014a'</span>,
        <span class="hljs-string">width :</span> Ti.Platform.displayCaps.platformWidth,
        <span class="hljs-string">height :</span> <span class="hljs-number">50</span>,
        <span class="hljs-string">left :</span> <span class="hljs-number">0</span>,
        <span class="hljs-string">bottom :</span> <span class="hljs-number">0</span>,
        <span class="hljs-string">layout :</span> <span class="hljs-string">'horizontal'</span>,
        <span class="hljs-string">zIndex :</span> <span class="hljs-number">9999</span>
    });

    var numButtons = model.length;
    var buttonWidth = Ti.Platform.displayCaps.platformWidth / numButtons;

    <span class="hljs-keyword">for</span> (var i = <span class="hljs-number">0</span>; i &lt; numButtons; i++) {

        var menuBtn = Titanium.UI.createView({
            <span class="hljs-string">backgroundColor :</span> <span class="hljs-string">'transparent'</span>,
            <span class="hljs-string">width :</span> buttonWidth,
            <span class="hljs-string">index :</span> i,
            <span class="hljs-string">height :</span> <span class="hljs-number">50</span>,
            <span class="hljs-string">left :</span> <span class="hljs-number">0</span>
        });

        var btnImage = Ti.UI.createImageView({
            <span class="hljs-string">image :</span> model[i].image,
            <span class="hljs-string">top :</span> <span class="hljs-number">10</span>,
            <span class="hljs-string">width :</span> <span class="hljs-number">22</span>,
            <span class="hljs-string">height :</span> <span class="hljs-number">22</span>,
            <span class="hljs-string">touchEnabled :</span> <span class="hljs-literal">false</span>
        });

        menuBtn.add(btnImage);

        var btnText = Ti.UI.createLabel({
            <span class="hljs-string">color :</span> <span class="hljs-string">'#fff'</span>,
            <span class="hljs-string">font :</span> {
                <span class="hljs-string">fontSize :</span> <span class="hljs-number">9</span>
            },
            <span class="hljs-string">text :</span> model[i].title,
            <span class="hljs-string">textAlign :</span> Ti.UI.TEXT_ALIGNMENT_CENTER,
            <span class="hljs-string">bottom :</span> <span class="hljs-number">2</span>,
            <span class="hljs-string">width :</span> <span class="hljs-string">'auto'</span>,
            <span class="hljs-string">height :</span> <span class="hljs-string">'auto'</span>,
            <span class="hljs-string">touchEnabled :</span> <span class="hljs-literal">false</span>
        });

        menuBtn.add(btnText);

        menuBtn.addEventListener(<span class="hljs-string">'click'</span>, function(evt) {

            callback(evt);

        });

        self.add(menuBtn);

    }

    <span class="hljs-keyword">return</span> self;

};
</code></pre><p>and each window will just basically be.</p>
<pre><code class="hljs">exports.createView = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(model)</span> </span>{

<span class="hljs-keyword">var</span> <span class="hljs-keyword">self</span> = Titanium.UI.createWindow({
    height : Ti.Platform.displayCaps.platformHeight - <span class="hljs-number">50</span>,
    navBarHidden : <span class="hljs-keyword">true</span>,
    top : <span class="hljs-number">0</span>
});

<span class="hljs-keyword">return</span> <span class="hljs-keyword">self</span>;
}
</code></pre><p>Ok this all works but i am getting so really weird results some times i guess what i am asking is instead of remove all the windows before opening the correct on can i just skip the nav group to the correct index window if its already open.</p>
<p>if i remove the for to close all the windows it get stuck</p>
<pre><code class="hljs"><span class="hljs-keyword">for</span> (var i = <span class="hljs-number">0</span><span class="hljs-comment">; i &lt; winStack.length; i++) {</span>
            <span class="hljs-keyword">if</span> (evt.source.index != i) {
                nav.close(winStack[i].win, {
                    animated : <span class="hljs-literal">false</span>
                })<span class="hljs-comment">;</span>
            }
        }<span class="hljs-comment">;</span>
</code></pre><p>Could do with some help with this or a suggestion for the best way to do this because i need a completely customised menu???</p>
<p>Thanks</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="January 24th 2013, 9:10:39 am">January 24th 2013</span>
				by <span class='authorname'>Samuel East</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>custom</span></li>
					
						<li><span class='tagname'>menu</span></li>
					
						<li><span class='tagname'>navigation</span></li>
					
						<li><span class='tagname'>tabgroup</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>1</span> Vote</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-255302">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>Well, i guess i would just say, that what you really want to do in a tabbed base application is not to close every window that is not the current window. The benefit of a tabbed application is that you can click back and forth to different section of the app that will maintain the state in which you left them. If you examine most apple tabbed apps, this is what happens. By &quot;opening&quot; and &quot;closing&quot; windows, you are essentially wiping them out and releasing them from memory, then recreating them when they need to be switched to again. Of course there may be instances where you want to refresh the contents of one of those windows, but i would simply call a function on the window if that were the case.</p>
<p>What i would suggest doing is simply hiding and unhiding windows as needed. I would start your application with all windows hidden except the first default tab. Then when a user clicks a different tab, simply show it….then hide the previous one at the same time. That way all you are really keeping track of is the currently open tab. Hope this helps.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="January 25th 2013, 3:27:56 am">January 25th 2013</span>
								by <span class='authorname'>Christopher Carranza</span><br>
								<a class="icon-bg icon-link" href="../../question/147340/trying-to-create-a-custom-nav-group-need-help.html#answer-255302" rel="permalink">permalink</a>
							</div>

							<h5>2 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Thanks Guys i did go with the show hide option. I open all the windows onload then show and hide where needed.</p>
<pre><code class="hljs">
//Open windows
for <span class="hljs-list">(<span class="hljs-keyword">var</span> i=0<span class="hljs-comment">;i&lt;winStack.length;i++){ </span>
    winStack[i].win.open<span class="hljs-list">()</span><span class="hljs-comment">;</span>
}

main.add<span class="hljs-list">(<span class="hljs-keyword">require</span><span class="hljs-list">(<span class="hljs-quoted">'menu</span>')</span>.createView<span class="hljs-list">(<span class="hljs-keyword">winStack</span>, function<span class="hljs-list">(<span class="hljs-keyword">evt</span>)</span> {

        winStack[evt.source.index].win.show<span class="hljs-list">()</span><span class="hljs-comment">;</span>
        for <span class="hljs-list">(<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span><span class="hljs-comment">; i &lt; winStack.length; i++) {</span>
            if <span class="hljs-list">(<span class="hljs-keyword">evt</span>.source.index != i)</span> {
                winStack[i].win.hide<span class="hljs-list">()</span><span class="hljs-comment">;</span>
            }
        }<span class="hljs-comment">;</span>

    })</span>)</span><span class="hljs-comment">;</span></span></span>
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="January 25th 2013, 8:00:29 am">January 25th 2013</span>
											by <span class='authorname'>Samuel East</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Glad to hear it Ned. Would you mind marking one of the responses as the answer, thanks!</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 25th 2013, 1:05:58 pm">January 25th 2013</span>
											by <span class='authorname'>Christopher Carranza</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-255251">
				
						<section>
							<p>This is how I did what your after. It does close the windows not in use though, and doesn&#39;t use tabs…</p>
<p><a href="http:&#x2F;&#x2F;www.thewarpedcoder.net&#x2F;2013&#x2F;01&#x2F;titanium-custom-menu&#x2F;">Look here</a></p>
<p>Hope it helps..</p>
<p>T..</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="January 24th 2013, 10:19:17 am">January 24th 2013</span>
								by <span class='authorname'>Trevor Ward</span><br>
								<a class="icon-bg icon-link" href="../../question/147340/trying-to-create-a-custom-nav-group-need-help.html#answer-255251" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
