<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Google Authorization » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Google Authorization</h1>
		</header>
		<section>
			<p>Am using <a href="https:&#x2F;&#x2F;bitbucket.org&#x2F;miroslavmagda&#x2F;google-auth-for-titanium&#x2F;src&#x2F;a7c8298144a0?at=master">this</a> module for google authentication. And I created app in google console and got secret key and required things .. In App, if I below code,</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> GoogleAuth = <span class="hljs-built_in">require</span>(<span class="hljs-string">'googleAuth'</span>);
<span class="hljs-keyword">var</span> googleAuth = <span class="hljs-keyword">new</span> GoogleAuth({
    clientId : <span class="hljs-string">'xxxx'</span>,
    clientSecret : <span class="hljs-string">'yyy'</span>,
    propertyName : <span class="hljs-string">'googleToken'</span>,
    redirectUri: <span class="hljs-string">'urn:ggwgweg'</span>,
    scope : [<span class="hljs-string">'https://www.googleapis.com/auth/plus.me'</span>]
});
<span class="hljs-comment">//create some button</span>
<span class="hljs-keyword">var</span> sync = $.sync;
<span class="hljs-comment">//do some action...</span>
sync.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    googleAuth.isAuthorized(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        Ti.API.info(<span class="hljs-string">'Access Token: '</span> + googleAuth.getAccessToken());
        alert(<span class="hljs-string">'Access Token: '</span> + googleAuth.getAccessToken());
        <span class="hljs-comment">//user is authorized so do something... just dont forget to add accessToken to your requests</span>

    }, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-comment">//authorize first</span>
        alert(<span class="hljs-string">"Not Authorized"</span>);
        googleAuth.authorize();
    });
});

$.index.open();
</code></pre><p>Its getting logging in and asking permission too but not authorizing the App. Whats wrong in it?.. I provided permission in google api console too and am running project in Android Emulator.</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="September 12th 2013, 11:27:46 am">September 12th 2013</span>
				by <span class='authorname'>Dont Know What to do</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>app</span></li>
					
						<li><span class='tagname'>appcelerator</span></li>
					
						<li><span class='tagname'>emulator</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-268465">
				
						<section>
							<p>var GoogleAuth = require(&#39;&#x2F;lib&#x2F;googleAuth&#39;);</p>
<pre><code class="hljs">            googleAuth = <span class="hljs-keyword">new</span> GoogleAuth({
                <span class="hljs-string">clientId :</span> <span class="hljs-string">'xxxxxxxxxxxxx'</span>,
                <span class="hljs-string">clientSecret :</span> <span class="hljs-string">'xxxxxxxxx'</span>,
                <span class="hljs-string">propertyName :</span> <span class="hljs-string">'googleToken'</span>,
                <span class="hljs-string">quiet :</span> <span class="hljs-literal">false</span>,
                <span class="hljs-string">scope :</span> [<span class="hljs-string">'https://www.googleapis.com/auth/userinfo.profile'</span>, <span class="hljs-string">'https://www.googleapis.com/auth/userinfo.email'</span>]
            });
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="September 12th 2013, 11:47:25 am">September 12th 2013</span>
								by <span class='authorname'>Jayesh  Joshi</span><br>
								<a class="icon-bg icon-link" href="question/157112/google-authorization#answer-268465" rel="permalink">permalink</a>
							</div>

							<h5>7 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Ya tried it so … Its still showing Unauthorized App, whether it has to be real time app in play store or what??</p>
</p>
										<div class="author">
											&mdash; commented <span title="September 12th 2013, 12:01:48 pm">September 12th 2013</span>
											by <span class='authorname'>Dont Know What to do</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>This is the thing I am getting as response and Why??<br>Please copy this code, switch to your application and paste it there:</p>
</p>
										<div class="author">
											&mdash; commented <span title="September 12th 2013, 1:49:44 pm">September 12th 2013</span>
											by <span class='authorname'>Dont Know What to do</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>When the request is posting for getting token its showing Bad Request.</p>
</p>
										<div class="author">
											&mdash; commented <span title="September 13th 2013, 5:05:00 am">September 13th 2013</span>
											by <span class='authorname'>Dont Know What to do</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>try {</p>
<pre><code class="hljs">            var GoogleAuth = require(<span class="hljs-string">'/lib/googleAuth'</span>);

            googleAuth = <span class="hljs-keyword">new</span> GoogleAuth({
                <span class="hljs-string">clientId :</span> <span class="hljs-string">'xxxxx'</span>,
                <span class="hljs-string">clientSecret :</span> <span class="hljs-string">'xxx'</span>,
                <span class="hljs-string">propertyName :</span> <span class="hljs-string">'googleToken'</span>,
                <span class="hljs-string">quiet :</span> <span class="hljs-literal">false</span>,
                <span class="hljs-string">scope :</span> [<span class="hljs-string">'https://www.googleapis.com/auth/userinfo.profile'</span>, <span class="hljs-string">'https://www.googleapis.com/auth/userinfo.email'</span>]
            });

            <span class="hljs-keyword">if</span> (googleAuth.isAuthorized() == <span class="hljs-literal">false</span>) {

                googleAuth.authorize();
            } <span class="hljs-keyword">else</span>
</code></pre><p>{<br>getuser();<br>}<br>            } catch(ex) {<br>                Ti.API.info(ex);</p>
<pre><code class="hljs">        }
</code></pre><p>var getuser = function()</p>
<p>{</p>
<pre><code class="hljs">//here generate xhrrequest <span class="hljs-operator">with</span> below <span class="hljs-built_in">URL</span>
</code></pre><p>}</p>
<p>in the googleAuth.js in the getToken() method at the  end of xhr.onload before win.close()Make one fire event which call the method getuser() in the your app.js that generate XHR request to following URL</p>
<p>URL : &#39;https:&#x2F;&#x2F;www.googleapis.com&#x2F;oauth2&#x2F;v1&#x2F;userinfo?access_token=&#39; + googleAuth.getAccessToken()</p>
</p>
										<div class="author">
											&mdash; commented <span title="September 13th 2013, 5:24:25 am">September 13th 2013</span>
											by <span class='authorname'>Jayesh  Joshi</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>In googleAuth.js… function –&gt; getToken(), sending an ajax .. Even that itself showing error thats why?</p>
</p>
										<div class="author">
											&mdash; commented <span title="September 13th 2013, 5:31:16 am">September 13th 2013</span>
											by <span class='authorname'>Dont Know What to do</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>In Google API, I have created an App and client id with installed application in it no secret key generated. Secret Key generated only for web application client only.. So I created a web and installed application and using web applications secret key..</p>
</p>
										<div class="author">
											&mdash; commented <span title="September 13th 2013, 5:36:54 am">September 13th 2013</span>
											by <span class='authorname'>Dont Know What to do</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>create oAuth Clien ID there you have set for ios application.</p>
<p>http:&#x2F;&#x2F;postimg.org&#x2F;image&#x2F;ytm76ewph&#x2F;</p>
</p>
										<div class="author">
											&mdash; commented <span title="September 13th 2013, 5:44:03 am">September 13th 2013</span>
											by <span class='authorname'>Jayesh  Joshi</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-278676">
				
						<section>
							<p>After giving permission to access the email with &quot;https:&#x2F;&#x2F;www.googleapis.com&#x2F;auth&#x2F;userinfo.email&quot;, how email is retrieved for storage in a variable?</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="May 13th 2014, 2:48:50 pm">May 13th 2014</span>
								by <span class='authorname'>Pilar Paulet</span><br>
								<a class="icon-bg icon-link" href="question/157112/google-authorization#answer-278676" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
