<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>How to set the event value of slider to global variable ? Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>How to set the event value of slider to global variable ?</h1>
		</header>
		<section>
			<p>###How to set the event value of slider to global variable ?</p>
<p>Hi there.</p>
<p>I&#39;m Mikito.</p>
<p>I have a question.<br>Would you tell me how to set the event value of slider to global variable ?</p>
<p>What I&#39;d like to do is to use the event value of slider in not only the function which has &#39;change&#39; event but also another function.</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> foo; <span class="hljs-comment">// I'd like to set the value of slider(e.value as follow)</span>

slider.addEventListener(<span class="hljs-string">'change'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span></span>{
foo = e.value; 
});

lblTimer.text = foo;
</code></pre><p>I tried this code on my iphone, but it didn&#39;t print anything.<br>When I set the constant to the variable foo instead of the &#39;e.value&#39;, it displays that constant without problems.</p>
<p>Please give me your advice.<br>Thank you very much and sorry for my bad English(I send this from japan).</p>
<p>Best Regards</p>
<p>Mikito</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="July 5th 2014, 3:52:26 pm">July 5th 2014</span>
				by <span class='authorname'>Mikito Matsui</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>change</span></li>
					
						<li><span class='tagname'>event</span></li>
					
						<li><span class='tagname'>global</span></li>
					
						<li><span class='tagname'>slider</span></li>
					
						<li><span class='tagname'>value</span></li>
					
				</ul>
			

			<section>
				<h5>2 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Your English and description are very clear.</p>
</div>
							<div class="author">
								&mdash; commented <span title="July 5th 2014, 5:31:18 pm">July 5th 2014</span>
								by <span class='authorname'>Malcolm Hollingsworth</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Thank you, Mr.Malcolm.</p>
</div>
							<div class="author">
								&mdash; commented <span title="July 6th 2014, 3:13:07 am">July 6th 2014</span>
								by <span class='authorname'>Mikito Matsui</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-280398">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>Hi</p>
<p>The solution to your problem is <a href="http:&#x2F;&#x2F;docs.appcelerator.com&#x2F;titanium&#x2F;latest&#x2F;#!&#x2F;guide&#x2F;CommonJS_Modules_in_Titanium">CommonJS</a>, this allows you to create different files that are self contained but can be accessed at any time from within the app.  The first time your app calls a module it is cached for speed later on.  The best part for you is that you can store variables inside a CommonJS module, manipulate it (if you wish) and return whatever values you need later on in blocks of code unrelated to where it first accessed if you need.</p>
<p><strong>helper.js</strong></p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> slider = <span class="hljs-number">0</span>;
<span class="hljs-keyword">var</span> firstname = <span class="hljs-string">''</span>;
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setSlider</span><span class="hljs-params">(val)</span> </span>{
    slider = val;
}
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getSlider</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">return</span> slider;
}
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setFirstName</span><span class="hljs-params">(val)</span> </span>{
    firstname = val;
}
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getFirstName</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">return</span> slider;
}
exports.getSlider = getSlider;
exports.setSlider = setSlider;
exports.getFirstName = getFirstName;
exports.setFirstName = setFirstName;
</code></pre><p><strong>Usage Examples</strong></p>
<pre><code class="hljs"><span class="hljs-comment">// setting</span>
slider.addEventListener(<span class="hljs-string">'change'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)</span>{
    <span class="hljs-built_in">require</span>(<span class="hljs-string">'helper'</span>).setSlider(e.value);
    lblTimer.text = e.value;
});

<span class="hljs-comment">// later on - retrieving</span>
alert(<span class="hljs-built_in">require</span>(<span class="hljs-string">'helper'</span>).getSlider());
</code></pre><p>The <strong>firstname</strong> entry is included simply to point out you can extend this to handle lots of things.  Keep in mind though CommonJS modules should contain small groups of related functions.  Feel free to make several.</p>
<p>CommonJS modules like this are designed to persist for the life-cycle of the app.  If the app is unloaded and then restarted - those previous setting values will no longer be the same.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="July 5th 2014, 5:25:02 pm">July 5th 2014</span>
								by <span class='authorname'>Malcolm Hollingsworth</span><br>
								<a class="icon-bg icon-link" href="../../question/175786/how-to-set-the-event-value-of-slider-to-global-variable-.html#answer-280398" rel="permalink">permalink</a>
							</div>

							<h5>7 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Should you need to keep a value beyond your app unloading and restarting the properties are your solution.  However these should only be used if the app MUST maintain values beyond the app life-cycle.</p>
<ul>
<li><a href="http:&#x2F;&#x2F;docs.appcelerator.com&#x2F;titanium&#x2F;latest&#x2F;#!&#x2F;api&#x2F;Titanium.App.Properties-method-setInt">Ti.App.Properties.setInt</a></li>
<li><a href="http:&#x2F;&#x2F;docs.appcelerator.com&#x2F;titanium&#x2F;latest&#x2F;#!&#x2F;api&#x2F;Titanium.App.Properties-method-getInt">Ti.App.Properties.getInt</a></li>
</ul>
<p>These are good starting points, you can also keep; strings, booleans, objects, arrays and floats.</p>
<p>These are good for login details you keep and retrieve next time.  But for usage with values that are only required during the app itself - CommonJS.  </p>
<p>Always think - does this need to be in memory now, does this need to persist for later and does this need to exist after the app closes.</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 5th 2014, 5:30:30 pm">July 5th 2014</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Thanks for pointing actually i dont want the question asker to to be more confused but with explanation as much as you have given to him he would get all</p>
<p>Thanks</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 5th 2014, 5:59:59 pm">July 5th 2014</span>
											by <span class='authorname'>Muhammad Wahhab Mirza</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Cheers for the compliment, BTW I did not notice your answer until after I had completed mine.  There is of course NOTHING wrong with your answer if the values are to go beyond the app being closed down and then restarting.</p>
<p>My answers have become more detail orientated as I am getting ready to launch a Titanium magazine every two weeks it is going to be a single specific different topic each issue and very in-depth.  So I have been working on being as detailed as possible to define my writing style for that.</p>
<p>BTW your answers as always good - if not I would comment on your answer to point out your potential mistake - same as you do with me.  Cheers</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 5th 2014, 6:40:06 pm">July 5th 2014</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Dear Mr.Malcolm</p>
<p>Thank you very much for your answer, Mr.Malcolm.<br>I really understand how to use Common JS in this time. It is so useful that I can use variables within different modules. When I googled about this problem, I saw the article about Common JS sometimes but didn&#39;t even know more. I&#39;m able to understand Common JS thanks for you. Thank you very much.</p>
<p>By the way, my problem seems in the execution sequence. I wrote the details in reply to?Mr.Muhammad below. Please see it.</p>
<p>You seem to get ready to launch a Titanium magazine, is that paper magazine or like web article? I&#39;m interested in it.</p>
<p>Thank you very much for your answer again, Mr.Malcolm. It is so useful, and your explain is easy to understand.</p>
<p>Best Regards</p>
<p>Mikito</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 6th 2014, 5:31:21 am">July 6th 2014</span>
											by <span class='authorname'>Mikito Matsui</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>It looks like you need a little extra detail to understand what is happening in the code;</p>
<p>This is your code;</p>
<pre><code class="hljs">slider.addEventListener(<span class="hljs-string">'change'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span></span>{ 
      Ti.App.Properties.setString(<span class="hljs-string">'slidervalue'</span>, e.value);
});

button.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span></span>{ 
       lblTimer.text = Ti.App.Properties.getString(<span class="hljs-string">'slidervalue'</span>);
});
</code></pre><p>The first thing you have to understand about properties is that they should be considered variables that are not cleared when the app closes.</p>
<p>A quick example;</p>
<pre><code class="hljs">var foo = <span class="hljs-number">1</span>; <span class="hljs-regexp">//</span> <span class="hljs-comment">#1</span>
<span class="hljs-constant">Ti.App.Properties.</span>setInt(<span class="hljs-string">'foo'</span>, <span class="hljs-number">1</span>); <span class="hljs-regexp">//</span> <span class="hljs-comment">#2</span>
</code></pre><p>Once this code is executed both values can be retrieved until the app has closed. The value assigned to #2 can be retrieved in ALL other parts of your app, also if the app closes and then restarts the last value assigned will still be retrievable.</p>
<p>So in your first event listener;</p>
<pre><code class="hljs">slider.addEventListener(<span class="hljs-string">'change'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span></span>{ 
      Ti.App.Properties.setString(<span class="hljs-string">'slidervalue'</span>, e.value);
});
</code></pre><p>This sets the property each time there is a change in the value.  You have not told it to do anything else so this is all it does.  You could also add this;</p>
<pre><code class="hljs"><span class="hljs-comment">// #3</span>
slider.addEventListener(<span class="hljs-string">'change'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span></span>{ 
      Ti.App.Properties.setString(<span class="hljs-string">'slidervalue'</span>, e.value);
       lblTimer.text = Ti.App.Properties.getString(<span class="hljs-string">'slidervalue'</span>);
});
</code></pre><p>This now ALSO updates the label with the new value.</p>
<p>So if you wanted both the value to be kept during the app life-cycle and even if the app is closed and started again - but also updating the caption - then #3 is the way to go.</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 6th 2014, 1:43:39 pm">July 6th 2014</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I forgot to say; you are very welcome.</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 6th 2014, 1:44:03 pm">July 6th 2014</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Dear Malcolm</p>
<p>Thank you for your reply and additional advice.</p>
<p>Oh, I understand clearly. That&#39;s what it means!<br>I can keep the value even if I close my app by using Titanium.App.Properties module. And, By use of your #3 way, I can keep the value of &#39;slidervalue&#39; and the text property even if he or she close the app.<br>Thank you very much, Mr.Malcom.</p>
<p>Can I ask you one more question, too?<br>I&#39;m developing the high speed Cam now. But I have a problem about  the shoot duration.</p>
<pre><code class="hljs">setInterval<span class="hljs-list">(<span class="hljs-keyword">function</span><span class="hljs-list">()</span>{
    Ti.Media.takePicture<span class="hljs-list">()</span><span class="hljs-comment">;</span>
}
,<span class="hljs-number">300</span>)</span><span class="hljs-comment">;</span>
</code></pre><p>When I set the 1000 millisecond to the argument, the app takes a picture every 1000 millisecond without problems. But when I set the 200 millisecond which is short interval, it stops taking a picture in the middle of doing it. (the rapid shooting doesn&#39;t work well)</p>
<pre><code class="hljs">for <span class="hljs-comment">(i = 1; i &lt;= 10; i++)</span> {
    setTimeout<span class="hljs-comment">(function()</span>{
        Ti.Media.takePicture<span class="hljs-comment">()</span>;
    }
    ,<span class="hljs-number">300</span>);
};
</code></pre><p>It doesn&#39;t work well even if I use &quot;setTimeout&quot;.<br>Is this caused by using Javascript, but not C++ ? If you know of it, would you be so kind to teach me ?</p>
<p>Best Regards</p>
<p>Mikito</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 8th 2014, 3:43:53 am">July 8th 2014</span>
											by <span class='authorname'>Mikito Matsui</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-280397">
				
						<section>
							<p>Ok do something like this</p>
<pre><code class="hljs">

<span class="actionscript">slider.addEventListener(<span class="hljs-string">'change'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(e)</span> </span>{
    Ti.App.Properties.setString(<span class="hljs-string">'slidervalue'</span>, e.value);
});

lblTimer.text = Ti.App.Properties.getString(<span class="hljs-string">'slidervalue'</span>);</span>
</code></pre><p>Thanks</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="July 5th 2014, 5:15:43 pm">July 5th 2014</span>
								by <span class='authorname'>Muhammad Wahhab Mirza</span><br>
								<a class="icon-bg icon-link" href="../../question/175786/how-to-set-the-event-value-of-slider-to-global-variable-.html#answer-280397" rel="permalink">permalink</a>
							</div>

							<h5>2 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Dear Mr.Muhammad</p>
<p>Thank you very much for your advice, Mr.Muhammad.</p>
<p>I was finally able to display the value of &#39;foo&#39; on the display just now. The problem seems the execution sequence.<br>You may understand this already, but I&#39;ll write the cause of this problem for other people who have problem like me.</p>
<pre><code class="hljs"><span class="hljs-comment">/* ERROR CODE */</span>
<span class="hljs-keyword">var</span> foo;  <span class="hljs-comment">// ?     //  assign is succeed and  'foo' has e.value without no problem</span>

slider.addEventListener(<span class="hljs-string">'change'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span></span>{ <span class="hljs-comment">// ?</span>
  foo = e.value; <span class="hljs-comment">// ?</span>
});

lblTimer.text = foo; <span class="hljs-comment">// ?</span>
</code></pre><p>This code is executed in order of the ???(registration of the event listener)??, ? is NOT executed.  When I change the slider bar on the display, only ? is executed. For that reasons, in my code, even if change event is fired, because the refresh of lblTimer.text (assign to text property) isn&#39;t executed if I change the slider bar nothing happens.</p>
<pre><code class="hljs"><span class="hljs-comment">/* SUCCEED CODE */</span>
<span class="hljs-comment">// var foo;    // You can use this variable instead of  Ti.App.Properties.setString()</span>

slider.addEventListener(<span class="hljs-string">'change'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span></span>{ 
      Ti.App.Properties.setString(<span class="hljs-string">'slidervalue'</span>, e.value);
  <span class="hljs-comment">// foo = e.value;</span>
});

button.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span></span>{ 
       lblTimer.text = Ti.App.Properties.getString(<span class="hljs-string">'slidervalue'</span>);
   <span class="hljs-comment">// lblTimer.text = foo;</span>
});
</code></pre><p>When I set the text property by use of the click event handler, value of &#39;foo&#39; is displayed on the display. The variable is also effective, but I think Ti.App.Properties.setString() you teach me is better (it has difficulty adjusting itself to changes). I&#39;ll use Ti.App.Properties.setString() after this.</p>
<p>Thank you very very much again, Mr. Muhammad. It helped me a lot.</p>
<p>Best Regards</p>
<p>Mikito</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 6th 2014, 4:55:46 am">July 6th 2014</span>
											by <span class='authorname'>Mikito Matsui</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>####(Iâm sorry for the duplicate submission)</p>
<p>Dear Mr.Muhammad</p>
<p>Thank you very much for your advice, Mr.Muhammad.</p>
<p>I was finally able to display the value of &#39;foo&#39; on the display just now. The problem seems the execution sequence.<br>You may understand this already, but I&#39;ll write the cause of this problem for other people who have problem like me.</p>
<pre><code class="hljs"><span class="hljs-comment">/* ERROR CODE */</span>
<span class="hljs-keyword">var</span> foo;  <span class="hljs-comment">// 1    //  assign is succeed and  'foo' has e.value without no problem</span>

slider.addEventListener(<span class="hljs-string">'change'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span></span>{ <span class="hljs-comment">// 2</span>
  foo = e.value; <span class="hljs-comment">// 3</span>
});

lblTimer.text = foo; <span class="hljs-comment">// 4</span>
</code></pre><p>This code is executed in order of the 1 -&gt; 2 (registration of the event listener) -&gt; 4, 3 is NOT executed.  When I change the slider bar on the display, only 3 is executed. For that reasons, in my code, even if change event is fired, because the refresh of lblTimer.text (assign to text property) isn&#39;t executed if I change the slider bar nothing happens.</p>
<pre><code class="hljs"><span class="hljs-comment">/* SUCCEED CODE */</span>
<span class="hljs-comment">// var foo;    // You can use this variable instead of  Ti.App.Properties.setString()</span>

slider.addEventListener(<span class="hljs-string">'change'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span></span>{ 
      Ti.App.Properties.setString(<span class="hljs-string">'slidervalue'</span>, e.value);
  <span class="hljs-comment">// foo = e.value;</span>
});

button.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span></span>{ 
       lblTimer.text = Ti.App.Properties.getString(<span class="hljs-string">'slidervalue'</span>);
   <span class="hljs-comment">// lblTimer.text = foo;</span>
});
</code></pre><p>When I set the text property by use of the click event handler, value of &#39;foo&#39; is displayed on the display. The variable is also effective, but I think Ti.App.Properties.setString() you teach me is better (it has difficulty adjusting itself to changes). I&#39;ll use Ti.App.Properties.setString() after this.</p>
<p>Thank you very very much again, Mr. Muhammad. It helped me a lot.</p>
<p>Best Regards</p>
<p>Mikito</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 6th 2014, 5:00:33 am">July 6th 2014</span>
											by <span class='authorname'>Mikito Matsui</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
