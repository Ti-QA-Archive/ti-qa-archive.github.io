<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Adding the annotation on map is leading to app crash Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Adding the annotation on map is leading to app crash</h1>
		</header>
		<section>
			<p>Hi there,</p>
<p>I need to add around 1000 annotation on the map. Here is my code snippet: </p>
<pre><code class="hljs">nsNearby.markersSetup = function() {
    var location = Alloy.Globals.playgroungLocationList.locations;
    var annotationData = [];
    <span class="hljs-comment">// Alloy.Globals.playgroungLocationList.locations.length</span>
    <span class="hljs-keyword">for</span> (var i = <span class="hljs-number">0</span>,
        len = Alloy.Globals.playgroungLocationList.locations.length; i &lt; len; i++) {

        var mapAnnotation = nsNearby.mapModule.createAnnotation({
            <span class="hljs-string">latitude :</span> location[i].latitude,
            <span class="hljs-string">longitude :</span> location[i].longitude,
            <span class="hljs-string">title :</span> location[i].name,
            <span class="hljs-string">subtitle :</span> location[i].street
        });

        <span class="hljs-keyword">if</span> (Titanium.Platform.osname === <span class="hljs-string">"android"</span>) {
            mapAnnotation.pincolor = nsNearby.mapModule.ANNOTATION_BLUE;
        } <span class="hljs-keyword">else</span> {
            mapAnnotation.pincolor = nsNearby.mapModule.ANNOTATION_PURPLE;
        }

        nsNearby.mapView1.region = {
            <span class="hljs-string">latitude :</span> location[i].latitude,
            <span class="hljs-string">longitude :</span> location[i].longitude,
            <span class="hljs-string">latitudeDelta :</span> <span class="hljs-number">1</span>,
            <span class="hljs-string">longitudeDelta :</span> <span class="hljs-number">1</span>
        };
        annotationData.push(mapAnnotation);

    }
    nsNearby.mapView1.setAnnotations(annotationData);
};
</code></pre><p>In iOS, it is working fine, but in Android, the app is crashing while adding the annotation.</p>
<p>If I put some specific numbers of annotation, it works.</p>
<p>It might be because of the extra load while placing the annotations. But, is there any way to achieve this?</p>
<p>Thanks in advance!</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="November 13th 2014, 10:42:51 am">November 13th 2014</span>
				by <span class='authorname'>Shraddha Porwal</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>annotation</span></li>
					
						<li><span class='tagname'>map</span></li>
					
						<li><span class='tagname'>mapview</span></li>
					
						<li><span class='tagname'>titanium</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-283807">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>Hi</p>
<p>I do not often come out of retirement but this one deserves it.</p>
<ul>
<li>DO NOT PUT 1,000 pins on a map</li>
</ul>
<p>It is a huge resource drain (thus the crashing), pointless for the user as they gain no real benefits.  Load the pins dynamically as the user moves around the map, remove previous ones.  </p>
<p>Seriously - this is a bad idea on so many levels.  You get events to say when the map moves, use them, your users should be treated as people wanting information near to where they are where they want to view.  Placing so many pins in once place is simply pointless as you cannot select any of them reliably and having them spread over too large a distance is useless as it becomes irrelevant information.</p>
<p>Think about the user and the use case.  Then as the code.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="November 13th 2014, 1:12:05 pm">November 13th 2014</span>
								by <span class='authorname'>Malcolm Hollingsworth</span><br>
								<a class="icon-bg icon-link" href="question/179042/adding-the-annotation-on-map-is-leading-to-app-crash#answer-283807" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>8</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
