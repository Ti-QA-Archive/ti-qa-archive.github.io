<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Sync local and server SQL database - any tools out there or best practices? » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Sync local and server SQL database - any tools out there or best practices?</h1>
		</header>
		<section>
			<p>I am developing an app that hook into a remote mySQL database. As the mobile app is a data collection terminal and may or may not have an internet connection, I need to replicate the server database on the mobile and then be able to (bidirectionally) SYNC the local and server databases when the connection comes back alive.</p>
<p>Not yet totally committed to mySQL yet but is there package out there that will automate this process and provide the tools to run both client and server databases? From the stuff I have found, this can get to be a bit of a knarly issue.</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="January 25th 2012, 1:49:43 pm">January 25th 2012</span>
				by <span class='authorname'>Kevin Embury</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>client server</span></li>
					
						<li><span class='tagname'>offline</span></li>
					
						<li><span class='tagname'>sql</span></li>
					
						<li><span class='tagname'>sync</span></li>
					
				</ul>
			

			<section>
				<h5>1 Comment</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Sync  mobile data to sql server Aasync is the great software with very unique features like four types of synchronization, Encryption, start and stop sync. etc you can find free trial version http:&#x2F;&#x2F;www.mobiledatabasesync.com&#x2F;</p>
</div>
							<div class="author">
								&mdash; commented <span title="January 29th 2015, 10:17:58 am">January 29th 2015</span>
								by <span class='authorname'>ankit ranjan</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>3</span> Votes</div>
			<div class="answers"><span>8</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>8 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-228574">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>Hi Kevin </p>
<p>In one of the site i have rean an article about <a href="http:&#x2F;&#x2F;code.google.com&#x2F;p&#x2F;openmobster&#x2F;">openMobster</a> which is somewhat similar to Apple Icloud. Try using that and one important thing they provide support with <a href="http:&#x2F;&#x2F;code.google.com&#x2F;p&#x2F;openmobster&#x2F;wiki&#x2F;TitaniumArea">Titanium</a> too.</p>
<p>Regards</p>
<p>Nikunj</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="January 26th 2012, 2:08:23 am">January 26th 2012</span>
								by <span class='authorname'>Nikunj Sakhrelia</span><br>
								<a class="icon-bg icon-link" href="../../question/131168/sync-local-and-server-sql-database---any-tools-out-there-or-best-practices.html#answer-228574" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-228528">
				
						<section>
							<p>As far as getting data from the master to the mobile device, I have two tutorials; here is a link to my original post:<br><a href="http:&#x2F;&#x2F;developer.appcelerator.com&#x2F;question&#x2F;96331&#x2F;titanium-tutorial---remote-database-synchronization">database sync tutorial</a></p>
<p>With respect to getting mobile data pushed back into the master, I am currently also doing this, but I haven&#39;t written a tutorial for it sorry.  I can&#39;t promise when I can write something, it&#39;s on my todo list, but lack of time is of course the issue.</p>
<p>Todd</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="January 25th 2012, 3:01:14 pm">January 25th 2012</span>
								by <span class='authorname'>Todd Trann</span><br>
								<a class="icon-bg icon-link" href="../../question/131168/sync-local-and-server-sql-database---any-tools-out-there-or-best-practices.html#answer-228528" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Great tutorial. I would love to see a two-way sync one. Thanks again.</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 26th 2012, 11:40:19 am">January 26th 2012</span>
											by <span class='authorname'>Stefan Schueller</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-228516">
				
						<section>
							<p>When I developed my first Database driven application I was syncing my local mobile database with server Database using HttpClient only.</p>
<p>So HttpClient is one you can sync your database by creating web service on server side.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="January 25th 2012, 1:56:23 pm">January 25th 2012</span>
								by <span class='authorname'>Yogin Bhungalia</span><br>
								<a class="icon-bg icon-link" href="../../question/131168/sync-local-and-server-sql-database---any-tools-out-there-or-best-practices.html#answer-228516" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-228523">
				
						<section>
							<p>Hi Kevin.</p>
<p>I&#39;m currently working on something similar, but probably more complex because database data sets on server and on devices do not have to be identical (server side will implement some features more slowly than I will on devices). Basically, we have n devices that will send data to the server at the end of working day. In a meanwhile, data on server can be changed, or even database schema can be changed - new feature can be implemented for example, and its data that was collected over time has to be inserted (it&#39;s really fucked up :) ).</p>
<p>I think we&#39;re going to use CouchDb, one master db instance on server and it will be replicated to all devices. master db will sync all devices (more or less automatically) and we&#39;ll write a script that syncs CouchDb with MySql. We&#39;re not yet sure how that sync will go, but it seems to me that conflicts will be present when record on server is different from data on master db (for new data, there is no problem).</p>
<p>2-step sync schema:</p>
<pre><code class="hljs">//manual sync
<span class="hljs-type">PHP</span>/<span class="hljs-type">MySql</span> &lt;-<span class="hljs-comment">--&gt; master (CouchDb)</span>

//auto sync
<span class="hljs-title">master</span> (<span class="hljs-type">CouchDb</span>)  &lt;-<span class="hljs-comment">---&gt; device 1  (CouchDb)</span>
                &lt;-<span class="hljs-comment">---&gt; device 2 (CouchDb)</span>
                    ...
                &lt;-<span class="hljs-comment">---&gt; device n (CouchDb)</span>
</code></pre><p>Not sure is this helpful in your situation, but it might give you some ideas. :)</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="January 25th 2012, 2:25:00 pm">January 25th 2012</span>
								by <span class='authorname'>Ivan Škugor</span><br>
								<a class="icon-bg icon-link" href="../../question/131168/sync-local-and-server-sql-database---any-tools-out-there-or-best-practices.html#answer-228523" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-228526">
				
						<section>
							<p>A key to succeeding with this in any SQL DB, regardsless of flavour will be to version each row in each table that requires synching.  That way you can always tell what is the latest version and if you are potentially overwriting data with stale copies.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="January 25th 2012, 2:51:30 pm">January 25th 2012</span>
								by <span class='authorname'>Nick Milner</span><br>
								<a class="icon-bg icon-link" href="../../question/131168/sync-local-and-server-sql-database---any-tools-out-there-or-best-practices.html#answer-228526" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-228537">
				
						<section>
							<p>Hi,</p>
<p>I once started working on db sync issues, though the project never went past the prototype phase. Requirements were:</p>
<ul>
<li><p>clients operate on a local DB with CRUD operations</p>
</li>
<li><p>a centralized server operate on a remote DB (MySQL) with CRUD operations</p>
</li>
<li><p>clients can sync at any time their local DB with the remote one through a sync service (implemented in PHP)</p>
</li>
<li><p>client-server sync should happen only on differences, not on the whole DB</p>
</li>
</ul>
<p>In other words the DB on devices and on the server share the same schema with the following restrictions:</p>
<ul>
<li><p>devices use SQLite while the server uses MySQL, so the schemas cannot be <em>exactly</em> the same -&gt; this needs to be solved in some custom way</p>
</li>
<li><p>record IDs need to be globally unique. In other words, inserting a record in a table on a device should never produce the same ID as the same operation performed on another device on the same table</p>
</li>
</ul>
<p>From an implementation perspective I started solving the problem in this way:</p>
<ul>
<li><p>Client apps keep a history table where they record all the operations done on the local DB (e.g. something like <code>{operation: &amp;#39;insert&amp;#39;, timestamp: 1202312312, data: &amp;#39;&amp;lt;JSON representation of the inserted record&amp;gt;&amp;#39;}</code></p>
</li>
<li><p>The same does the server, recording in the history table all the operations done on the remote DB</p>
</li>
<li><p>When syncing, the app gets the local history (only operations performed after the last sync), sends this info to the service, which in turn returns back its portion of history (all the operations performed after the last sync tstamp on the client)</p>
</li>
<li><p>The app replays the remote history on the local DB (performing the operations contained in each history record), and the same does the server with the history received by the client </p>
</li>
<li><p>This must be done carefully: while insert operations pose no problems, updates must be done checking timestamps</p>
</li>
</ul>
<p>Sorry for not going too much in the specifics, these are only some hints recovered from my brain ;-)<br>I remember though that for client app in Titanium I modified the joli.js ORM (<a href="https:&#x2F;&#x2F;github.com&#x2F;xavierlacot&#x2F;joli.js">https:&#x2F;&#x2F;github.com&#x2F;xavierlacot&#x2F;joli.js</a>) for recording the local history.<br>I hope this will help a bit…</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="January 25th 2012, 3:58:05 pm">January 25th 2012</span>
								by <span class='authorname'>Olivier Morandi</span><br>
								<a class="icon-bg icon-link" href="../../question/131168/sync-local-and-server-sql-database---any-tools-out-there-or-best-practices.html#answer-228537" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-228549">
				
						<section>
							<p>Instead of mySQL, my app sync&#39;s a TON of data with a SQL server database. I&#39;ve implemented it in two ways.. the first was using .Net web services and XML.. Don&#39;t recommend that way.. full of issues.. </p>
<p>Now I do it through JSON which is more lightweight and a much better fit for Javascript, simply stringify and send. Using XML web-services the SOAP payload &#x2F; envelope has to be constructed with all the XLMS fluff and .Net nuances.. </p>
<p>The best piece of advice I have to give is if possible keep a locally sync&#39;d (on the server) sqlite database. My app on a large construction project will have 40,000+ rows across 20-30 tables which would take (with no memory leaks blowing the app up) over 15 minutes for a device to insert into a SQLite database. This was no good so I keep a locally sync&#39;d SQLite database and when a client requests a project it simply streams the sync&#39;d db and installs it.</p>
<p>After that the amount of data that needs syncing is reduced massively, just new stuff. JSON is perfect for this, it sounds like your tables will be the same(ish) on the server and the client so you can just use a JSON parser to give you an object in whatever language you&#39;re using and insert &#x2F; update them there.. In .Net this is trivial if you setup the Web-services to accept JSON it converts the JSON payload to the object &#x2F; class you are after for you..</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="January 25th 2012, 6:17:42 pm">January 25th 2012</span>
								by <span class='authorname'>Mark Henderson</span><br>
								<a class="icon-bg icon-link" href="../../question/131168/sync-local-and-server-sql-database---any-tools-out-there-or-best-practices.html#answer-228549" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Sync  mobile data to sql server Aasync is the great software with very unique features like four types of synchronization, Encryption, start and stop sync. etc you can find free trial version http:&#x2F;&#x2F;www.mobiledatabasesync.com&#x2F;</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 29th 2015, 10:18:33 am">January 29th 2015</span>
											by <span class='authorname'>ankit ranjan</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-238181">
				
						<section>
							<p>We are wondering to add custom module to Titanium, which provide simple way to using our platform to syncing data. Before we will develop custom module, You can try our solution www.mobeelizer.com.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="May 9th 2012, 12:34:33 pm">May 9th 2012</span>
								by <span class='authorname'>Krzysztof Nadolski</span><br>
								<a class="icon-bg icon-link" href="../../question/131168/sync-local-and-server-sql-database---any-tools-out-there-or-best-practices.html#answer-238181" rel="permalink">permalink</a>
							</div>

							<h5>2 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Hi Krzysztof,</p>
<p>Is the custom module added to titanium?</p>
<p>Thanks,<br>Trupti.</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 12th 2012, 6:09:44 am">December 12th 2012</span>
											by <span class='authorname'>Trupti Veer</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Hi Trupti,<br>Yes, we have added this module to Titanium. You can check this out on our website logging for free version and here is our SDK: https:&#x2F;&#x2F;marketplace.appcelerator.com&#x2F;apps&#x2F;2597?301123030</p>
<p>Paulina<br>mobeelizer.com</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 12th 2012, 8:26:27 am">December 12th 2012</span>
											by <span class='authorname'>Paulina Najbar</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
