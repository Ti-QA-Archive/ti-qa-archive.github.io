<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>button listener not working in android 2.3.3 google api Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>button listener not working in android 2.3.3 google api</h1>
		</header>
		<section>
			<p>Hi , I am working with android 2.3.3. i have two button in my app such as right left for changing picture. But in android 2.2 it did work and i could get the next image by clicking on the right button an previous image by clicking on the left button. But in 2.3.3 this button are shown but whn clicking on them nothing happen. So please someone give me a sloution</p>
<p>the code is like this &quot;</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> left = Titanium.UI.createButton({ backgroundImage: <span class="hljs-string">'images/icon_arrow_left.png'</span>, top:<span class="hljs-number">380</span>, left:<span class="hljs-number">20</span> });

<span class="hljs-comment">//If the left button is clicked then show the previous photo</span>
left.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span> </span>{
  <span class="hljs-keyword">if</span> (selectedPhotoIndex &gt; <span class="hljs-number">0</span>) {

    <span class="hljs-comment">//Decrease the photo index and current photo number</span>
    selectedPhotoIndex--;
    <span class="hljs-keyword">var</span> currenPhotoNumber = selectedPhotoIndex + <span class="hljs-number">1</span>;

    <span class="hljs-comment">//Change the window title</span>
    win.title = currenPhotoNumber + <span class="hljs-string">' of '</span> + photosArray.length;

    <span class="hljs-comment">//Change the image</span>
    imageView.image = <span class="hljs-string">"http://farm"</span> + photosArray[selectedPhotoIndex].farm + <span class="hljs-string">".staticflickr.com/"</span> + photosArray[selectedPhotoIndex].server + <span class="hljs-string">"/"</span> + photosArray[selectedPhotoIndex].id + <span class="hljs-string">"_"</span> + photosArray[selectedPhotoIndex].secret + <span class="hljs-string">"_m.jpg"</span>;
   <span class="hljs-keyword">if</span>(Ti.Platform.osname===<span class="hljs-string">'ios'</span>){
         actIndicator.show();
    }

    <span class="hljs-comment">//Change the photo title</span>
    labelTitle.text = photosArray[selectedPhotoIndex].title;

    <span class="hljs-comment">//Change the username</span>
    <span class="hljs-keyword">if</span> (photosArray[selectedPhotoIndex].userData)
      labelUploadedBy.text = <span class="hljs-string">"Uploaded By: "</span> + photosArray[selectedPhotoIndex].userData.username;
    <span class="hljs-keyword">else</span>
      loadUserInfo(selectedPhotoIndex);
  }
});

<span class="hljs-keyword">var</span> right = Titanium.UI.createButton({ backgroundImage: <span class="hljs-string">'images/icon_arrow_right.png'</span>, top:<span class="hljs-number">380</span>, right:<span class="hljs-number">20</span> });

<span class="hljs-comment">//If the right button is clicked then show the next photo</span>
right.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span> </span>{
  <span class="hljs-keyword">if</span> (selectedPhotoIndex &lt; photosArray.length - <span class="hljs-number">1</span>) {

    <span class="hljs-comment">//Increase the photo index and current photo number</span>
    selectedPhotoIndex++;
    <span class="hljs-keyword">var</span> currenPhotoNumber = selectedPhotoIndex + <span class="hljs-number">1</span>;

    <span class="hljs-comment">//Change the window title</span>
    win.title = currenPhotoNumber + <span class="hljs-string">' of '</span> + photosArray.length;

    <span class="hljs-comment">//Change the image</span>
    imageView.image = <span class="hljs-string">"http://farm"</span> + photosArray[selectedPhotoIndex].farm + <span class="hljs-string">".staticflickr.com/"</span> + photosArray[selectedPhotoIndex].server + <span class="hljs-string">"/"</span> + photosArray[selectedPhotoIndex].id + <span class="hljs-string">"_"</span> + photosArray[selectedPhotoIndex].secret + <span class="hljs-string">"_m.jpg"</span>;
    <span class="hljs-keyword">if</span>(Ti.Platform.osname===<span class="hljs-string">'ios'</span>){
         actIndicator.show();
    }
</code></pre>
		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="September 19th 2012, 9:12:36 am">September 19th 2012</span>
				by <span class='authorname'>mahbubur rahaman</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>bug</span></li>
					
						<li><span class='tagname'>button</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-247528">
				
						<section>
							<p>Well, all the code being executed is dependent of the following condition:</p>
<pre><code class="hljs"><span class="hljs-keyword">if</span> (selectedPhotoIndex &gt; <span class="hljs-number">0</span>) {
</code></pre><p>Are you sure absolutely sure that this variable is higher than zero?</p>
<p>Some logs could help you determine that, like so:</p>
<pre><code class="hljs"><span class="hljs-keyword">if</span> <span class="hljs-comment">(selectedPhotoIndex &gt; 0)</span> {
    Ti.API.debug<span class="hljs-comment">('left button has been clicked')</span>;
    ...
}
</code></pre><p>If you see the logs, but nothing happens, then you know thee is something with your execution logic. If you don&#39;t see the logs, then it&#39;s related to the eventListener.</p>
<p>One more thing, try to be as concise as possible when posting code samples. Having all the code contained in your event listeners don&#39;t bring much to the table and make it harder to read for everyone. Thus making it more difficult for everyone to understand.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="September 19th 2012, 9:41:52 am">September 19th 2012</span>
								by <span class='authorname'>Christian Brousseau</span><br>
								<a class="icon-bg icon-link" href="question/142399/button-listener-not-working-in-android-233-google-api#answer-247528" rel="permalink">permalink</a>
							</div>

							<h5>2 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>thanks  for your suggestion..ok I will try and let you know</p>
</p>
										<div class="author">
											&mdash; commented <span title="September 19th 2012, 9:58:32 am">September 19th 2012</span>
											by <span class='authorname'>mahbubur rahaman</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>ya i did what you said ..but it seems like the listener is not functioning..when i clicked the button the even the did not show up. but the same code worked for android 2.2 then whats wrong in this 2.3.3 i cant understand.</p>
</p>
										<div class="author">
											&mdash; commented <span title="September 20th 2012, 6:36:38 am">September 20th 2012</span>
											by <span class='authorname'>mahbubur rahaman</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-247615">
				
						<section>
							<p>Finally got a solution i think. I was testing the application in google api 2.3.3 and the screen was HVGA in emulator. But when I changed the screen to QVGA or other screen except HVGA the button did work. So I think this was a emulator problem. Please let me know if I am wrong or right.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="September 20th 2012, 7:23:23 am">September 20th 2012</span>
								by <span class='authorname'>mahbubur rahaman</span><br>
								<a class="icon-bg icon-link" href="question/142399/button-listener-not-working-in-android-233-google-api#answer-247615" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
