<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Change colour of Table View row on selection and keep it at that colour till another row is selected - Android Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Change colour of Table View row on selection and keep it at that colour till another row is selected - Android</h1>
		</header>
		<section>
			<p>Hi,</p>
<p>My requirement is that when an user selects a row of the table, the backgroundColor of the table row should change to red and then it should stay at that colour till the user selects another row of the table whose backgroundColor now gets changed to red and the backgroundColor of the last selected row is changed to white. </p>
<p> I have tried doing  it in different ways but have not been able to solve it till now.<br>Other details : CLI version 3.2.3, Titanium SDK version 3.2.3.GA, Alloy version 1.3.1</p>
<p>Developing mobile app for android.</p>
<p>My code so far -</p>
<pre><code class="hljs">leftTable.xml
============
<span class="hljs-tag">&lt;<span class="hljs-title">Alloy</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">View</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"leftView"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">TableView</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"leftTable"</span> <span class="hljs-attribute">onClick</span>=<span class="hljs-value">"openTableRows"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">TableViewSection</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">TableViewRow</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"myFirstRow"</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"leftMenuRow"</span>/&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">TableViewRow</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"mySecondRow"</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"leftMenuRow"</span>/&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-title">TableViewSection</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">TableViewSection</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">TableViewRow</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"myThirdRow"</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"leftMenuRow"</span>/&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">TableViewRow</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"myFourthRow"</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"leftMenuRow"</span>/&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-title">TableViewSection</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">TableView</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">View</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">Alloy</span>&gt;</span>
</code></pre><h1 id="lefttable-js-">leftTable.js - </h1>
<pre><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">openTableRows</span>(<span class="hljs-params">e</span>) </span>{
    <span class="hljs-comment">// In the table there are more than 1 section</span>
    <span class="hljs-comment">// Grab the array of sections.</span>
    <span class="hljs-keyword">var</span> sections = $.leftTable.data;
    Ti.API.info(<span class="hljs-string">"sections is "</span> + sections);

    <span class="hljs-comment">// Get the rows in each section.</span>
    <span class="hljs-keyword">for</span> ( i = <span class="hljs-number">0</span>; i &lt; sections.length; i++) {
        <span class="hljs-keyword">var</span> section = sections[i];
        Ti.API.info(<span class="hljs-string">"No of sections is"</span> + section);

        <span class="hljs-comment">// Get the rows of each section.</span>
        <span class="hljs-keyword">var</span> rowOfEachSection = section.rows;
        Ti.API.info(<span class="hljs-string">"rowOfEachScetion is "</span> + rowOfEachSection);

        <span class="hljs-comment">// Set the background colour of each row to white.</span>
        <span class="hljs-keyword">for</span> ( i = <span class="hljs-number">0</span>; i &lt; rowOfEachSection.length; i++) {
            rowOfEachSection[i].backgroundColor = <span class="hljs-string">"white"</span>;
        }
    }

         <span class="hljs-comment">// this will set selected row color to red</span>
         e.row.backgroundColor = <span class="hljs-string">'red'</span>;
}
</code></pre><p>I am not sure what I am doing wrong, but with the above code I am getting the rows selected to have all backgroundColor red and they are not changing to white colour when another row is selected.</p>
<p>Hope some one can guide me in the right direction.</p>
<p>Thanks.</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="June 5th 2014, 3:35:20 am">June 5th 2014</span>
				by <span class='authorname'>Bably Das</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>click colour change</span></li>
					
						<li><span class='tagname'>table view row</span></li>
					
				</ul>
			

			<section>
				<h5>1 Comment</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Hi All,</p>
<p>I have been able to solve the problem on my own. My logic was wrong. I needed to change the variables to loop through to different ones, not just keep it at i. So I changed it to var i and j and it started working as required.  Thanks for your time.</p>
</div>
							<div class="author">
								&mdash; commented <span title="June 5th 2014, 3:59:31 am">June 5th 2014</span>
								by <span class='authorname'>Bably Das</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>0</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>0 Answers</h3>

	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
