<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>JSON http requests always log message about parsing error Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>JSON http requests always log message about parsing error</h1>
		</header>
		<section>
			<pre><code class="hljs">Entity: <span class="hljs-keyword">line</span> 1: parser <span class="hljs-keyword">error</span> : Start tag expected, '&lt;' not found 
{"code ... 
^
[<span class="hljs-keyword">ERROR</span>] <span class="hljs-keyword">Error</span> Domain=com.google.GDataXML ... TiDOMDocumentProxy.<span class="hljs-keyword">m</span>:48)
</code></pre><p>The request works fine, it just logs the error message</p>
<p>Any way to prevent the parse attempt and error logging?</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="November 17th 2010, 1:37:21 pm">November 17th 2010</span>
				by <span class='authorname'>Jeff Kreska</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>json</span></li>
					
						<li><span class='tagname'>titanium.network.httpclient</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>21</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>21 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-145331">
				
						<section>
							<p>Jeff, there may be a syntax error in your code somewhere that the parser can recover from.  You will need to provide some code in order to give you accurate advice.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="November 17th 2010, 1:40:24 pm">November 17th 2010</span>
								by <span class='authorname'>Paul Dowsett</span><br>
								<a class="icon-bg icon-link" href="../../question/80551/json-http-requests-always-log-message-about-parsing-error.html#answer-145331" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-145341">
				
						<section>
							<pre><code class="hljs">   var xhr = Titanium.Network.createHTTPClient();
    xhr.onload = function() {
        alert(this.responseText);
        alert(this.responseXML);  // This line causes an exception
    };
    xhr.open(<span class="hljs-string">"<span class="hljs-keyword">GET</span>"</span>,<span class="hljs-string">"&lt;hidden&gt;/getDefaultDeparture.html"</span>);
    xhr.send(data);
</code></pre><p>response</p>
<pre><code class="hljs">{"<span class="hljs-attribute">cityLocation</span>":<span class="hljs-value">{"<span class="hljs-attribute">cityLocationName</span>":<span class="hljs-value"><span class="hljs-string">"Dallas-Fort Worth, TX"</span></span>,
"<span class="hljs-attribute">code</span>":<span class="hljs-value"><span class="hljs-string">"DFW"</span></span>,"<span class="hljs-attribute">countryCode</span>":<span class="hljs-value"><span class="hljs-string">"US"</span></span>,"<span class="hljs-attribute">countryName</span>":
<span class="hljs-value"><span class="hljs-string">"United States"</span></span>,"<span class="hljs-attribute">latitude</span>":<span class="hljs-value"><span class="hljs-number">32.9</span></span>,"<span class="hljs-attribute">longitude</span>":
<span class="hljs-value">-<span class="hljs-number">97.0366666666667</span></span>,"<span class="hljs-attribute">name</span>":
<span class="hljs-value"><span class="hljs-string">"Dallas-Fort Worth"</span></span>,"<span class="hljs-attribute">rank</span>":<span class="hljs-value"><span class="hljs-number">8</span></span>,"<span class="hljs-attribute">state</span>":<span class="hljs-value"><span class="hljs-string">"TX"</span></span>,"<span class="hljs-attribute">stateName</span>":<span class="hljs-value"><span class="hljs-string">"Texas"</span></span>}</span>}
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="November 17th 2010, 1:59:12 pm">November 17th 2010</span>
								by <span class='authorname'>Jeff Kreska</span><br>
								<a class="icon-bg icon-link" href="../../question/80551/json-http-requests-always-log-message-about-parsing-error.html#answer-145341" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-145391">
				
						<section>
							<p>try adding this</p>
<pre><code class="hljs">var xhr = Titanium.Network.createHTTPClient();
xhr.onload = function() {
   alert(this.responseText);
};
xhr.open(<span class="hljs-string">"<span class="hljs-keyword">GET</span>"</span>,<span class="hljs-string">"&lt;hidden&gt;/getDefaultDeparture.html"</span>);

// set the request header
xhr.setRequestHeader('Content-Type', 'application/json; charset=utf-<span class="hljs-number">8</span>');

xhr.send(data);
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="November 17th 2010, 2:28:19 pm">November 17th 2010</span>
								by <span class='authorname'>Aaron Saunders</span><br>
								<a class="icon-bg icon-link" href="../../question/80551/json-http-requests-always-log-message-about-parsing-error.html#answer-145391" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Setting the contentType on the request had no effect, rather strange to think it would have an affect since the request contentType should be application&#x2F;x-www-form-urlencoded.</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 17th 2010, 2:36:00 pm">November 17th 2010</span>
											by <span class='authorname'>Jeff Kreska</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-145421">
				
						<section>
							<p>Jeff</p>
<p>The actual JSON data, as you have pasted it, is well-formed and so won&#39;t be causing the issue.</p>
<p>The <em>&quot;Start tag expected &lt;&quot;</em> message seems to imply that the parser is expecting html or xml from the server, would <em>may</em> be caused by the server sending a &quot;text&#x2F;html&quot; or similar response.</p>
<p>You could try setting the request header to &quot;application&#x2F;json&quot; using xhr.setRequestHeader(), but if the server is not configured appropriately, you won&#39;t have any control over its response.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="November 17th 2010, 3:05:12 pm">November 17th 2010</span>
								by <span class='authorname'>Paul Dowsett</span><br>
								<a class="icon-bg icon-link" href="../../question/80551/json-http-requests-always-log-message-about-parsing-error.html#answer-145421" rel="permalink">permalink</a>
							</div>

							<h5>4 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>I agree with you.  The response is text&#x2F;html but contains well formatted json. </p>
<p>I don&#39;t understand why something would be trying to parse the response.  </p>
<p>If the framework were updated to not try and parse the response it seems it would make all requests process faster.</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 17th 2010, 3:08:41 pm">November 17th 2010</span>
											by <span class='authorname'>Jeff Kreska</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>In fairness, the service provider who runs the server is at fault for not following generally accepted standards.</p>
<p>Have you tried setting <a href="http:&#x2F;&#x2F;developer.appcelerator.com&#x2F;apidoc&#x2F;mobile&#x2F;latest&#x2F;Titanium.Network.HTTPClient-object.html">Titanium.Network.HTTPClient</a> with the responseText property?  Do a text search for &quot;responseText&quot; throughout the KS files; there are numerous examples of its use there.</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 17th 2010, 4:32:28 pm">November 17th 2010</span>
											by <span class='authorname'>Paul Dowsett</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Why would I want to set the responseText property?  It is being set correctly when the response is received from the server.  </p>
<p>I searched KS and found no examples of setting the responseText property, plenty of examples of using the responseText.</p>
<p>Just to make sure we are on the same page, everything works fine but something in the app is trying to parse the response as if it were html&#x2F;xml and then logging the error.  Changing the contentType returned by the server is not possible, I have to make it work with the existing server.</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 17th 2010, 4:49:46 pm">November 17th 2010</span>
											by <span class='authorname'>Jeff Kreska</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Jeff, by putting Ti.API.info() messages around different parts of your code, can you isolate precisely which command is returning the error?  Would you post the information here?  Thanks</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 17th 2010, 5:40:51 pm">November 17th 2010</span>
											by <span class='authorname'>Paul Dowsett</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-145501">
				
						<section>
							<p>ping Jeff - see my latest comment, which may help you resolve the issue. Please let me know if it doesn&#39;t, or mark the answer as correct so that I can see that it worked, and other people with the same problem can find it in future.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="November 17th 2010, 4:32:57 pm">November 17th 2010</span>
								by <span class='authorname'>Paul Dowsett</span><br>
								<a class="icon-bg icon-link" href="../../question/80551/json-http-requests-always-log-message-about-parsing-error.html#answer-145501" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-145721">
				
						<section>
							<p>Jeff, by putting Ti.API.info() messages around different parts of your code, can you isolate precisely which command is returning the error? If so, would you post the information here? Thanks</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="November 17th 2010, 11:33:42 pm">November 17th 2010</span>
								by <span class='authorname'>Paul Dowsett</span><br>
								<a class="icon-bg icon-link" href="../../question/80551/json-http-requests-always-log-message-about-parsing-error.html#answer-145721" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-146321">
				
						<section>
							<p>Jeff</p>
<p>I&#39;d really like to help you get to the bottom of this issue, as other people are also having it. Would you please isolate the Titanium command that generates the error, and then I can see if it can be resolved.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="November 18th 2010, 9:02:54 pm">November 18th 2010</span>
								by <span class='authorname'>Paul Dowsett</span><br>
								<a class="icon-bg icon-link" href="../../question/80551/json-http-requests-always-log-message-about-parsing-error.html#answer-146321" rel="permalink">permalink</a>
							</div>

							<h5>4 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>This is my code, nothing more, nothing less:</p>
<pre><code class="hljs">var xhr = Titanium.Network.createHTTPClient();
    xhr.onload = function() {
        alert(this.responseText);
    };
    xhr.open(<span class="hljs-string">"<span class="hljs-keyword">GET</span>"</span>,<span class="hljs-string">"&lt;hidden&gt;/xxx.html"</span>);
    xhr.send(data);
</code></pre><p>Create a file on your web server called xxx.html with json text in the file.  Modify the url to ref the xxx.html file and you will see the error.</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 19th 2010, 10:10:54 am">November 19th 2010</span>
											by <span class='authorname'>Jeff Kreska</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>change the alert to :</p>
<pre><code class="hljs"><span class="hljs-function"><span class="hljs-title">alert</span><span class="hljs-params">(this.responseXML)</span></span>
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="November 19th 2010, 12:33:28 pm">November 19th 2010</span>
											by <span class='authorname'>Jeff Kreska</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Are you saying that changing the alert to the above fixed it?<br>That&#39;s very strange, considering the response that you pasted earlier was json.  Is there any explanation for this, that you can think of?</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 19th 2010, 3:22:34 pm">November 19th 2010</span>
											by <span class='authorname'>Paul Dowsett</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>No.  I am saying that if you try to access responseXML in a response that is json you get the exception.</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 19th 2010, 7:12:25 pm">November 19th 2010</span>
											by <span class='authorname'>Jeff Kreska</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-146491">
				
						<section>
							<p>Jeff, are you using JSON.parse somewhere in your code?  If so, you should remove it, because your data is accessible directly from this.responseText. Thus, this.responseText.cityLocation.stateName will return &quot;Texas&quot;.</p>
<p>Sorry it took some time, but I hope you find it useful anyway.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="November 19th 2010, 3:55:44 am">November 19th 2010</span>
								by <span class='authorname'>Paul Dowsett</span><br>
								<a class="icon-bg icon-link" href="../../question/80551/json-http-requests-always-log-message-about-parsing-error.html#answer-146491" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-150361">
				
						<section>
							<p>I have just started getting the same bloody error. Even if I comment out everything that has anything to do with the returned dataâ¦ </p>
<pre><code class="hljs">Entity: line 2: parser error : <span class="hljs-operator"><span class="hljs-keyword">Start</span> tag expected, <span class="hljs-string">'&lt;'</span> <span class="hljs-keyword">not</span> <span class="hljs-keyword">found</span>
{<span class="hljs-string">"LIST"</span>:<span class="hljs-string">"study_id,STUDY_ID_DICOM,STUDY_UID,ACCESSION_NUMBER,STUDY_DATETIME,STUDY
^
[ERROR] Error Domain=com.google.GDataXML Code=-1 "</span>The operation couldnâ<span class="hljs-keyword">t</span> be completed. (com.google.GDataXML <span class="hljs-keyword">error</span> -<span class="hljs-number">1.</span>)<span class="hljs-string">". in -[TiDOMDocumentProxy parseString:] (TiDOMDocumentProxy.m:50)</span></span>
</code></pre><p>It is the same JSON that I pull into another XCode project I haveâ¦ no errors thereâ¦</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="November 26th 2010, 1:54:17 am">November 26th 2010</span>
								by <span class='authorname'>Critter</span><br>
								<a class="icon-bg icon-link" href="../../question/80551/json-http-requests-always-log-message-about-parsing-error.html#answer-150361" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Exactly the same issue with me. Worked fine with 1.3, crashes from 1.4 on.</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 29th 2010, 3:53:19 pm">November 29th 2010</span>
											by <span class='authorname'>Ralf Klotzbuecher</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-151841">
				
						<section>
							<p>Experiencing same issue. Only change has been upgrade of Titanium from 1.4.2 r8e708e78 to nightly build 1.5.0 r6705da89, nothing else. Will post a ticket as this is a bug.</p>
<p>Unfortunately, things with httpclient are currently much more serious than this which is discouraging. The client has become unusable for any serious development work with  accumulation of issues over past months:</p>
<p>setRequestHeaders appears broken again which is at second or third regression of same issue #1983. getResponseHeaders is broken #1502 in iOS which goes back 7 months ago with #519. You need to be able to at least transport JSON and work with an authentication mechanism for most web services work. You can also forget about passing credentials in url #2149. At this point you can transport JSON with ERRORS or possibly XML data without any form of authentication or correct headers. I am not sure what sort of unit testing is occurring. Bug reports and ticket filing from users should not be first line of communication that state of the client has deteriorated to this extent.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="November 29th 2010, 1:28:03 pm">November 29th 2010</span>
								by <span class='authorname'>fairwinds dp</span><br>
								<a class="icon-bg icon-link" href="../../question/80551/json-http-requests-always-log-message-about-parsing-error.html#answer-151841" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-153821">
				
						<section>
							<p>Update: ticket #519 and #1502 have now been resolved so getResponseHeaders and setRequestHeaders are working the way they should. Passing credentials in url as user:pw is still broken and this particular problem with JSON persists on build from master. The emission of the XML parsing error  occurs despite setting an &quot;Accept&quot; header to &quot;application&#x2F;json&quot;. Ticket #2480 filed for this issue. It not possible to work around this at present with proper error handling in httpclient code making this a serious bug.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="December 2nd 2010, 2:07:18 am">December 2nd 2010</span>
								by <span class='authorname'>fairwinds dp</span><br>
								<a class="icon-bg icon-link" href="../../question/80551/json-http-requests-always-log-message-about-parsing-error.html#answer-153821" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-153971">
				
						<section>
							<p>You can prevent the error from happening by making sure you never access the responseXML value, any access to responseXML when the response is json and the content type is set to text&#x2F;html will cause this exception.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="December 2nd 2010, 11:25:12 am">December 2nd 2010</span>
								by <span class='authorname'>Jeff Kreska</span><br>
								<a class="icon-bg icon-link" href="../../question/80551/json-http-requests-always-log-message-about-parsing-error.html#answer-153971" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Jeff. Please read the ticket filed. responseText is being accessed, not reponseXML. Perhaps you are not current on master to see this issue.</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 2nd 2010, 12:15:00 pm">December 2nd 2010</span>
											by <span class='authorname'>fairwinds dp</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-154001">
				
						<section>
							<p>To clarify the current issue, access to responseText results in XML error. This is NOT access to reponseXML. As an example, the following will generate the error as of 1.5.0 master last night.</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> request = Titanium.Network.createHTTPClient({

    onload:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{ 
        <span class="hljs-comment">// check to see what we are getting</span>
        Titanium.API.info(<span class="hljs-string">'Loaded! Status: '</span> + <span class="hljs-keyword">this</span>.status);
        Titanium.API.info(<span class="hljs-string">'Response Header: '</span> + <span class="hljs-keyword">this</span>.getResponseHeader(<span class="hljs-string">'Content-Type'</span>));
        Titanium.API.info(<span class="hljs-string">'Response Text: '</span> + <span class="hljs-keyword">this</span>.responseText);

        <span class="hljs-comment">// check to see if response can be parsed despite XML error thrown</span>
        <span class="hljs-keyword">try</span> {
            json = <span class="hljs-built_in">JSON</span>.parse(<span class="hljs-keyword">this</span>.responseText);
            Titanium.API.info(<span class="hljs-string">'JSON parsed from raw response: '</span> +  json);
        } <span class="hljs-keyword">catch</span> (parse_error) {
            Titanium.API.error(<span class="hljs-string">'JSON parse error from raw response: '</span> +  parse_error.message);
        }   

        <span class="hljs-comment">// code to handle JSON response if successful - everything above this line to evaluate response</span>
        <span class="hljs-keyword">if</span> (request.status != <span class="hljs-number">200</span> &amp;&amp; request.status != <span class="hljs-number">201</span>) {
            request.onerror(e);
            <span class="hljs-keyword">return</span>;
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">try</span> {
                json = <span class="hljs-built_in">JSON</span>.parse(<span class="hljs-keyword">this</span>.responseText);
            } <span class="hljs-keyword">catch</span> (parse_error) {
                Titanium.API.error(<span class="hljs-string">'JSON parse error: '</span> +  parse_error.message);
            }
        }        
    },
    onerror:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
        label.text = <span class="hljs-string">"Got Error: "</span>+ e.error;
        Titanium.API.info(<span class="hljs-string">"Got Error: "</span>+ e.error);
    }
});
request.open(<span class="hljs-string">'GET'</span>, url, <span class="hljs-literal">true</span>);
request.setRequestHeader(<span class="hljs-string">'Accept'</span>, <span class="hljs-string">'application/json'</span>);
request.send();
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="December 2nd 2010, 12:37:31 pm">December 2nd 2010</span>
								by <span class='authorname'>fairwinds dp</span><br>
								<a class="icon-bg icon-link" href="../../question/80551/json-http-requests-always-log-message-about-parsing-error.html#answer-154001" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-154021">
				
						<section>
							<p>@fairwinds - I have a simpler case with this error too.<br>I simply try to get a location of a redirected url with 302.<br>I don&#39;t even access any response.</p>
<p>The same xml parsing error comes up.</p>
<p>I spoke with the appcelerator guys and they say it might be something in the header that confuses the httpclient.<br>Anyway it&#39;s still wrong so I simply use the httpclient classes from an older build.</p>
<p>Here is my post </p>
<p>http:&#x2F;&#x2F;developer.appcelerator.com&#x2F;question&#x2F;84881&#x2F;httpclient-broken-for-150âgithash1dd0106</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="December 2nd 2010, 2:36:20 pm">December 2nd 2010</span>
								by <span class='authorname'>Dan Tamas</span><br>
								<a class="icon-bg icon-link" href="../../question/80551/json-http-requests-always-log-message-about-parsing-error.html#answer-154021" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-154111">
				
						<section>
							<p>@Tamas  - Appreciate that you have isolated last working client. Btw, what was date of that?  I will update ticket with this information. If this was known by appcelerator personnel, why was a ticket not created at this time? It is a very serious problem. Shouldn&#39;t have to resort to blending files from a release to get a working httpclient. In last few days I have attempted to communicate how crippled the client has become for development - pretty much unusable. Fortunately, a couple of issues have been resolved with some authentication issues still to work out, but this is a major show stopper to development. I did not get into the Cookie issues with them for which I believe there are at least two or three outstanding tickets.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="December 2nd 2010, 3:37:11 pm">December 2nd 2010</span>
								by <span class='authorname'>fairwinds dp</span><br>
								<a class="icon-bg icon-link" href="../../question/80551/json-http-requests-always-log-message-about-parsing-error.html#answer-154111" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-154161">
				
						<section>
							<p>I&#39;m using the files:</p>
<p>TiNetworkHTTPClientResultProxy.m<br>TiNetworkHTTPClientProxy.m</p>
<p>from 06 Nov 2010 build.</p>
<p>As for the ticket donno what to say, the appcelerator guys asked me to be sure is not the headers of the url I call that breaks the httpClient, and I didn&#39;t had too much time to investigate.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="December 2nd 2010, 4:03:17 pm">December 2nd 2010</span>
								by <span class='authorname'>Dan Tamas</span><br>
								<a class="icon-bg icon-link" href="../../question/80551/json-http-requests-always-log-message-about-parsing-error.html#answer-154161" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-154211">
				
						<section>
							<p>@Tamas - Thanks. It would have been pretty difficult to assess within your app since getResponseHeaders has been broken for seven months and only repaired yesterday. At least with master right now you can see what you are getting back from your redirect. You can use curl -v to quickly get an answer about what you are getting in your response in any case but we needed a working getResponseHeaders.</p>
<p>Looks like Steven Tramer is to blame for issue. There were a few commits Nov 9, 10 after which Jeff Hanie attempted a fix of this very issue on Nov 22 so was recognized at that time. Jeff&#39;s fix was to examine Content-Type in header to differentiate however I am able to verify that Content-Type in response is application&#x2F;json.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="December 2nd 2010, 4:41:50 pm">December 2nd 2010</span>
								by <span class='authorname'>fairwinds dp</span><br>
								<a class="icon-bg icon-link" href="../../question/80551/json-http-requests-always-log-message-about-parsing-error.html#answer-154211" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-154251">
				
						<section>
							<p>well I do this:</p>
<pre><code class="hljs">httpclient-&gt;www<span class="hljs-class">.example</span><span class="hljs-class">.com</span>/index.php
</code></pre><p>but the server redirects me to </p>
<pre><code class="hljs">www.example.<span class="hljs-keyword">com</span>/<span class="hljs-built_in">index</span>.php?blah=foo
</code></pre><p>and I need the <strong>blah</strong> var.<br>The old httpclient populates the location property just fine.</p>
<p>The new one is not.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="December 2nd 2010, 5:48:25 pm">December 2nd 2010</span>
								by <span class='authorname'>Dan Tamas</span><br>
								<a class="icon-bg icon-link" href="../../question/80551/json-http-requests-always-log-message-about-parsing-error.html#answer-154251" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-154301">
				
						<section>
							<p>Tamas. I dropped some older files from Oct 20 into my SDK to get some work done in interim. Issue has been on trunk from Nov 9 forward it appears. httpclient in 1.5.0 is unusable in iOS until this is prioritized and fixed.</p>
<p>This has made me question what sort of testing is done by folks working on the SDK sources prior to committing to trunk and upon which I am building. Obviously, as any Ti developer working from trunk, one assumes more risks than working with release. Despite this, many projects prohibit changes to sources without first providing or writing tests and verifying work before it is added or merged to trunk. Don&#39;t really know what is happening with appcelerator as far as a process to prevent such occurrences. Thought appcelerator also had a qa personnel in addition to core developers. I know they are growing fast, but the product and value to developers is the SDK - something they seem to be committed to getting right.</p>
<p>By all accounts this has been a problem for a few weeks on the trunk.</p>
<p>You&#39;d probably want to know what you are getting in response in any case. You can check with<br>curl -vX GET www.example.com&#x2F;index.php?blah=foo</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="December 2nd 2010, 6:47:49 pm">December 2nd 2010</span>
								by <span class='authorname'>fairwinds dp</span><br>
								<a class="icon-bg icon-link" href="../../question/80551/json-http-requests-always-log-message-about-parsing-error.html#answer-154301" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-154331">
				
						<section>
							<p>What can I say, sometimes is frustrating, but I must admit I&#39;m all on the guys&#39; side.<br>Their work helped me a lot so I do whatever I can to help them back.<br>One way is participating on this QA ( good or bad as it is).</p>
<p>The same with the code.<br>Httpclient is one of the issues. If we can use an older version that works, fine, problem solved( at least for the moment)<br>I&#39;m sure they will fix it in the end.<br>Testing is hard, especially when you are the coder. How many times did we released a code that was not fully working( even we thought it does )? To manyâ¦</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="December 2nd 2010, 7:38:48 pm">December 2nd 2010</span>
								by <span class='authorname'>Dan Tamas</span><br>
								<a class="icon-bg icon-link" href="../../question/80551/json-http-requests-always-log-message-about-parsing-error.html#answer-154331" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-154411">
				
						<section>
							<p>True enough, this isn&#39;t about making things difficult, just getting things working and usable. I think we are all appreciative of the framework and what is getting accomplished in the long haul. That said appcelerator is a developing company and I am sure there will be more stability and refinement as things mature.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="December 2nd 2010, 9:41:02 pm">December 2nd 2010</span>
								by <span class='authorname'>fairwinds dp</span><br>
								<a class="icon-bg icon-link" href="../../question/80551/json-http-requests-always-log-message-about-parsing-error.html#answer-154411" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
