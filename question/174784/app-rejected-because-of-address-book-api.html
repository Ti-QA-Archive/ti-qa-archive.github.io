<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>App rejected because of Address Book API? » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>App rejected because of Address Book API?</h1>
		</header>
		<section>
			<p>I have a large number of apps that all use the same app template that I created. I have been submitting them to the app store over the past several years with minimal issues. If an app was rejected, it was pretty simple for me to fix the issue and resubmit the app.</p>
<p>But last week I had 2 apps rejected because they initialize the Address Book API but they do not use it in the app. These apps are currently built against 3.1.3.GA. I asked the resolution center to test out an older app using the same base and SDK to see if it had the same issue and they said it did and that I would need to fix it before I could submit a new version of that app too, that app was previously accepted and has been in the App Store for several months with no issues. So that tells me that whatever this issue is, it seems to be inherent in by base framework.</p>
<p>My question is, is there an Xcode way to see what API&#39;s my apps are using? I currently build the apps using the CLI and only really use Xcode to submit the apps to the store. If I could figure out how to tell which API&#39;s my apps are using, that would help me debug the issue.</p>
<p>Anybody with more experience using Xcode to debug and test apps than me?</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="June 2nd 2014, 1:08:41 pm">June 2nd 2014</span>
				by <span class='authorname'>Jeff Huelsbeck</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>address book api</span></li>
					
						<li><span class='tagname'>debugging</span></li>
					
						<li><span class='tagname'>ios</span></li>
					
						<li><span class='tagname'>rejected</span></li>
					
						<li><span class='tagname'>xcode</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>3</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>3 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-279602">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>Use <strong>nm</strong> to scan the app for AddressBook apis</p>
<pre><code class="hljs">nm -a path_to_app_build<span class="hljs-regexp">/YourApp.app/Y</span>ourApp  | <span class="hljs-keyword">grep</span> AddressBook
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="June 9th 2014, 6:43:50 pm">June 9th 2014</span>
								by <span class='authorname'>Dan Tamas</span><br>
								<a class="icon-bg icon-link" href="question/174784/app-rejected-because-of-address-book-api#answer-279602" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-279347">
				
						<section>
							<p>Are you using the Contacts api in you app?</p>
<p>Maybe some old code you forgot to delete, or a module that asks access to it?</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="June 2nd 2014, 1:23:39 pm">June 2nd 2014</span>
								by <span class='authorname'>Dan Tamas</span><br>
								<a class="icon-bg icon-link" href="question/174784/app-rejected-because-of-address-book-api#answer-279347" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-279353">
				
						<section>
							<p>We don&#39;t use the Contacts API in our apps, that was the first thing I checked in case it had been added inadvertently.</p>
<p>I am currently using a Flurry module and the Barcode module either of which I expect might be the culprit but I have no real way of knowing if taking either of those out fixes the issue and I don&#39;t think taking them out and resubmitting to Apple is the most productive debug method… ;-)</p>
<p>There has to be a way in Xcode to see what they are seeing, no?</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="June 2nd 2014, 2:30:35 pm">June 2nd 2014</span>
								by <span class='authorname'>Jeff Huelsbeck</span><br>
								<a class="icon-bg icon-link" href="question/174784/app-rejected-because-of-address-book-api#answer-279353" rel="permalink">permalink</a>
							</div>

							<h5>16 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><pre><code class="hljs">nm -a path_to_app_build<span class="hljs-regexp">/YourApp.app/Y</span>ourApp  | <span class="hljs-keyword">grep</span> AddressBook
</code></pre><p>I get his too in an app that doesn&#39;t use contacts, however I didn&#39;t test the modules I use to see if any of them does.</p>
<p>but I have a hunch that this is in titanium :(</p>
</p>
										<div class="author">
											&mdash; commented <span title="June 2nd 2014, 3:05:18 pm">June 2nd 2014</span>
											by <span class='authorname'>Dan Tamas</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Oh, so you had an app rejected for this same reason recently?</p>
</p>
										<div class="author">
											&mdash; commented <span title="June 2nd 2014, 4:28:23 pm">June 2nd 2014</span>
											by <span class='authorname'>Jeff Huelsbeck</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I can&#39;t seem to find the .app build, do I need to export it from Xcode.</p>
</p>
										<div class="author">
											&mdash; commented <span title="June 2nd 2014, 4:43:09 pm">June 2nd 2014</span>
											by <span class='authorname'>Jeff Huelsbeck</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Oh, I skipped the first Debug-iphonesimulator, found the .app, this is what I get when I run your code:</p>
<pre><code class="hljs"><span class="hljs-number">0042</span>db72 t +[AddressBookAUResultParser load]
<span class="hljs-number">0042</span>db72 - <span class="hljs-number">01</span> <span class="hljs-number">0000</span>   FUN +[AddressBookAUResultParser load]
<span class="hljs-number">0042</span>dba2 - <span class="hljs-number">01</span> <span class="hljs-number">0000</span>   FUN +[AddressBookAUResultParser parsedResultForString:format:]
<span class="hljs-number">0042</span>dba2 t +[AddressBookAUResultParser parsedResultForString:format:]
<span class="hljs-number">00173720</span> - <span class="hljs-number">01</span> <span class="hljs-number">0000</span>   FUN -[ContactsModule releaseAddressBook]
<span class="hljs-number">00173720</span> t -[ContactsModule releaseAddressBook]
<span class="hljs-number">0042</span>da6f t -[NSString(AddressBookAUResultParser) fieldsWithPrefix:maxResults:trim:]
<span class="hljs-number">0042</span>da6f - <span class="hljs-number">01</span> <span class="hljs-number">0000</span>   FUN -[NSString(AddressBookAUResultParser) fieldsWithPrefix:maxResults:trim:]
<span class="hljs-number">511</span>bbcfe - <span class="hljs-number">03</span> <span class="hljs-number">0001</span>   OSO /Users/jhuelsbeck/Sites/rappidappDev/appcelerator/v3/modules/iphone/ti.barcode/<span class="hljs-number">1.8</span><span class="hljs-number">.3</span>/libti.barcode.a(AddressBookAUResultParser.o)
<span class="hljs-number">00000000</span> - <span class="hljs-number">00</span> <span class="hljs-number">0000</span>    SO AddressBookAUResultParser.m
         U _ABAddressBookAddRecord
         U _ABAddressBookCopyArrayOfAllGroups
         U _ABAddressBookCopyArrayOfAllPeople
         U _ABAddressBookCopyPeopleWithName
         U _ABAddressBookCreate
         U _ABAddressBookCreateWithOptions
         U _ABAddressBookGetAuthorizationStatus
         U _ABAddressBookGetGroupWithRecordID
         U _ABAddressBookGetPersonWithRecordID
         U _ABAddressBookHasUnsavedChanges
         U _ABAddressBookRegisterExternalChangeCallback
         U _ABAddressBookRemoveRecord
         U _ABAddressBookRequestAccessWithCompletion
         U _ABAddressBookRevert
         U _ABAddressBookSave
         U _ABAddressBookUnregisterExternalChangeCallback
<span class="hljs-number">005</span>ae8f0 S _OBJC_CLASS_$_AddressBookAUResultParser
<span class="hljs-number">00000000</span> - <span class="hljs-number">00</span> <span class="hljs-number">0000</span>  GSYM _OBJC_CLASS_$_AddressBookAUResultParser
<span class="hljs-number">005</span>af840 s _OBJC_IVAR_$_ContactsModule.reloadAddressBook
<span class="hljs-number">00000000</span> - <span class="hljs-number">00</span> <span class="hljs-number">0000</span>  GSYM _OBJC_IVAR_$_ContactsModule.reloadAddressBook
<span class="hljs-number">005</span>ae8dc S _OBJC_METACLASS_$_AddressBookAUResultParser
<span class="hljs-number">00000000</span> - <span class="hljs-number">00</span> <span class="hljs-number">0000</span>  GSYM _OBJC_METACLASS_$_AddressBookAUResultParser
<span class="hljs-number">001737</span>a0 t ___36-[ContactsModule releaseAddressBook]_block_invoke
<span class="hljs-number">001737</span>a0 - <span class="hljs-number">01</span> <span class="hljs-number">0000</span>   FUN ___36-[ContactsModule releaseAddressBook]_block_invoke
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="June 2nd 2014, 4:59:13 pm">June 2nd 2014</span>
											by <span class='authorname'>Jeff Huelsbeck</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>No rejection yet. I&#39;ll try to se if there is something we can do about this.</p>
</p>
										<div class="author">
											&mdash; commented <span title="June 2nd 2014, 5:02:56 pm">June 2nd 2014</span>
											by <span class='authorname'>Dan Tamas</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Your dump there shows that it&#39;s Ti.Barcode that is doing referencing the API.</p>
</p>
										<div class="author">
											&mdash; commented <span title="June 2nd 2014, 5:09:24 pm">June 2nd 2014</span>
											by <span class='authorname'>Shannon Hicks</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Missed that</p>
<pre><code class="hljs">/Users/jhuelsbeck/Sites/rappidappDev/appcelerator/v3/modules/iphone/ti.barcode/<span class="hljs-number">1.8</span><span class="hljs-number">.3</span>/libti.barcode.a(AddressBookAUResultParser.o)
<span class="hljs-number">00000000</span> - <span class="hljs-number">00</span> <span class="hljs-number">0000</span>    SO AddressBookAUResultParser.m
</code></pre><p>So it&#39;s ti&#x2F;barcode for now</p>
<p>get rid of it, build for production and run again <strong>nm</strong></p>
</p>
										<div class="author">
											&mdash; commented <span title="June 2nd 2014, 5:14:32 pm">June 2nd 2014</span>
											by <span class='authorname'>Dan Tamas</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>yeah, I saw that… I&#39;m testing…</p>
</p>
										<div class="author">
											&mdash; commented <span title="June 2nd 2014, 5:20:41 pm">June 2nd 2014</span>
											by <span class='authorname'>Jeff Huelsbeck</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>So yeah, without the barcode I&#39;m getting:</p>
<pre><code class="hljs">00173370 t -[ContactsModule releaseAddressBook]
00173370 - 01 0000   FUN -[ContactsModule releaseAddressBook]
         <span class="hljs-keyword">U</span> _ABAddressBookAddRecord
         <span class="hljs-keyword">U</span> _ABAddressBookCopyArrayOfAllGroups
         <span class="hljs-keyword">U</span> _ABAddressBookCopyArrayOfAllPeople
         <span class="hljs-keyword">U</span> _ABAddressBookCopyPeopleWithName
         <span class="hljs-keyword">U</span> _ABAddressBookCreate
         <span class="hljs-keyword">U</span> _ABAddressBookCreateWithOptions
         <span class="hljs-keyword">U</span> _ABAddressBookGetAuthorizationStatus
         <span class="hljs-keyword">U</span> _ABAddressBookGetGroupWithRecordID
         <span class="hljs-keyword">U</span> _ABAddressBookGetPersonWithRecordID
         <span class="hljs-keyword">U</span> _ABAddressBookHasUnsavedChanges
         <span class="hljs-keyword">U</span> _ABAddressBookRegisterExternalChangeCallback
         <span class="hljs-keyword">U</span> _ABAddressBookRemoveRecord
         <span class="hljs-keyword">U</span> _ABAddressBookRequestAccessWithCompletion
         <span class="hljs-keyword">U</span> _ABAddressBookRevert
         <span class="hljs-keyword">U</span> _ABAddressBookSave
         <span class="hljs-keyword">U</span> _ABAddressBookUnregisterExternalChangeCallback
00571cd0 s _OBJC_IVAR_<span class="hljs-label">$_ContactsModule</span>.reloadAddressBook
00000000 - 00 0000  GSYM _OBJC_IVAR_<span class="hljs-label">$_ContactsModule</span>.reloadAddressBook
001733f0 - 01 0000   FUN ___36-[ContactsModule releaseAddressBook]_block_invoke
001733f0 t ___36-[ContactsModule releaseAddressBook]_block_invoke
</code></pre><p>So it appears that the Contacts module is included by default and automatically added to the project. Does that look more like what you are seeing?</p>
</p>
										<div class="author">
											&mdash; commented <span title="June 2nd 2014, 5:38:52 pm">June 2nd 2014</span>
											by <span class='authorname'>Jeff Huelsbeck</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Did you compile for production? The debug&#x2F;dev version I think don&#39;t strip the un-needed frameworks. For simulator I see the same, yes.</p>
</p>
										<div class="author">
											&mdash; commented <span title="June 2nd 2014, 5:41:39 pm">June 2nd 2014</span>
											by <span class='authorname'>Dan Tamas</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Yep, looks like removing the barcode module and rolling for production has removed the references to AddressBook.</p>
</p>
										<div class="author">
											&mdash; commented <span title="June 2nd 2014, 6:27:10 pm">June 2nd 2014</span>
											by <span class='authorname'>Jeff Huelsbeck</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>ti.barcode is open right? You could play with to remove the offending code and framework ;)</p>
</p>
										<div class="author">
											&mdash; commented <span title="June 2nd 2014, 6:56:11 pm">June 2nd 2014</span>
											by <span class='authorname'>Dan Tamas</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>True, but it might also work in our favor to actually implement vCard scanning to Address Book functionality. I&#39;m discussing with the team to see which route we will go down.</p>
<p>I have removed the barcode module from one of the apps that originally got rejected so we&#39;ll see how that goes. Interestingly I pushed an update to another app the same time those two got rejected and it was accepted so it feels like it might be at the reviewer&#39;s discretion. I have another app that I pushed last Thursday without the change so we&#39;ll see how that one fairs too. I have a few experiments going with non-essential apps, the one I removed the Barcode Module for is one of our essential apps.</p>
</p>
										<div class="author">
											&mdash; commented <span title="June 2nd 2014, 7:29:12 pm">June 2nd 2014</span>
											by <span class='authorname'>Jeff Huelsbeck</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Well, let me know what the results are ;)</p>
</p>
										<div class="author">
											&mdash; commented <span title="June 3rd 2014, 9:44:36 am">June 3rd 2014</span>
											by <span class='authorname'>Dan Tamas</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Apple did approve the app once the Barcode Module was removed from the project.</p>
<p>@Dan, can you post your &quot;nm&quot; command as a new new answer below so I can mark it as the best answer?</p>
</p>
										<div class="author">
											&mdash; commented <span title="June 9th 2014, 5:10:15 pm">June 9th 2014</span>
											by <span class='authorname'>Jeff Huelsbeck</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Done :)</p>
</p>
										<div class="author">
											&mdash; commented <span title="June 9th 2014, 6:44:18 pm">June 9th 2014</span>
											by <span class='authorname'>Dan Tamas</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
