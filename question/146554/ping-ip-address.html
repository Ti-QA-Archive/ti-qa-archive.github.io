<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Ping IP Address » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Ping IP Address</h1>
		</header>
		<section>
			<p>I&#39;m trying to find a way to ping a host and get an accurate result. I&#39;ve done this with a socket but the problem is its not very accurate most of the time. Sometimes it gives me the correct result, but most of the time it gives really high results. 300 - 500 MS when it should be about 80 MS. </p>
<p>Does anyone know of a way to fix this or a better way to ping a host and get the result?</p>
<pre><code class="hljs">ping: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">host</span>) </span>{
    <span class="hljs-keyword">var</span> pingTimeStart = (<span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>).getTime();
    <span class="hljs-keyword">var</span> pingTimeEnd = <span class="hljs-number">0</span>;

    <span class="hljs-keyword">var</span> pingSocket = Ti.Network.Socket.createTCP({
        host: host,
        port: <span class="hljs-number">80</span>,
        timeout: <span class="hljs-number">1000</span>,
        connected: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
            pingTimeEnd = (<span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>).getTime();
            l(pingTimeEnd-pingTimeStart);
            Elements.ping.text = ((pingTimeEnd-pingTimeStart)).toFixed(<span class="hljs-number">0</span>); <span class="hljs-comment">//pingTimeEnd-pingTimeStart</span>
        },
        error: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
            pingTimeEnd = (<span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>).getTime();
            Elements.ping.text = ((pingTimeEnd-pingTimeStart)).toFixed(<span class="hljs-number">0</span>);
        }
    });
    pingSocket.connect();
}
</code></pre>
		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="January 7th 2013, 2:21:27 pm">January 7th 2013</span>
				by <span class='authorname'>donovan lewis</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>network</span></li>
					
						<li><span class='tagname'>ping</span></li>
					
				</ul>
			

			<section>
				<h5>4 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>The latency could possibly be that high if the connection is over 3G</p>
</div>
							<div class="author">
								&mdash; commented <span title="January 7th 2013, 3:47:08 pm">January 7th 2013</span>
								by <span class='authorname'>Nick Milner</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>I&#39;m testing on WiFi.</p>
</div>
							<div class="author">
								&mdash; commented <span title="January 7th 2013, 3:48:17 pm">January 7th 2013</span>
								by <span class='authorname'>donovan lewis</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>If you are using port 80 (connecting to a web server ?) You could try the httpclient and issue a HEAD request. Its obviously not as fast as a TCP socket but you may benefit from keep-alive on the connection</p>
</div>
							<div class="author">
								&mdash; commented <span title="January 7th 2013, 4:23:24 pm">January 7th 2013</span>
								by <span class='authorname'>Nick Milner</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>I was looking for similar solution, Thanks lewis</p>
</div>
							<div class="author">
								&mdash; commented <span title="September 23rd 2014, 4:24:15 am">September 23rd 2014</span>
								by <span class='authorname'>Sohel Shekha</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>0</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>0 Answers</h3>

	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
