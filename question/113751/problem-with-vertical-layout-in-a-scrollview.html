<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Problem with vertical layout in a scrollView Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Problem with vertical layout in a scrollView</h1>
		</header>
		<section>
			<p>Hi all,</p>
<p>I&#39;ve been building my first mobile app using Appcelerator Titanium, and this forum has been very helpful thus far, but I have run into an issue I can&#39;t find an answer for so I decided to post it. So here goes.</p>
<p>I have a text window with scrollable, dynamic length content, so I need vertical layout in a ScrollView. However, I also need the window to close when user clicks on it. The problem is that the only way I seem to get the click (or singletap, doesn&#39;t matter which) to work on the window is to set touchenabled to false on all views inside it. When I do that, however, the ScrollView no longer seems to scroll. If I set the touchenabled of the scrollview to true, it starts scrolling again, but the click event on the window no longer fires. I have tried setting the click event on the scrollview instead, with no luck.</p>
<p>I have also tried using a wrapper view inside the scrollview (to move the layout: vertical from the scrollview to a different view), but still nothing.</p>
<p>This is all in iOS, using SDK 4.2.</p>
<p>The code I am using is as follows:</p>
<pre><code class="hljs">var textWindow = Ti.UI.createWindow({
    backgroundColor:<span class="hljs-string">'white'</span>,
    borderColor:    <span class="hljs-string">'black'</span>,
    borderWidth:    <span class="hljs-number">1</span>,
    <span class="hljs-variable">width</span>:        <span class="hljs-string">'100%'</span>,
    <span class="hljs-variable">height</span>:        <span class="hljs-string">'100%'</span>,
    navBarHidden:    <span class="hljs-keyword">true</span>
});
var scrollView = Ti.UI.createScrollView({
    layout:        <span class="hljs-string">'vertical'</span>,
    <span class="hljs-variable">height</span>:        <span class="hljs-string">'100%'</span>,
    contentWidth:    <span class="hljs-string">'auto'</span>,
    contentHeight:    <span class="hljs-string">'auto'</span>,
    showVerticalScrollIndicator: <span class="hljs-keyword">true</span>,
    touchEnabled:    <span class="hljs-keyword">true</span>
});
var titleLabel = Ti.UI.createLabel({
    left:        <span class="hljs-number">6</span>,
    top:        <span class="hljs-number">6</span>,
    <span class="hljs-variable">height</span>:        <span class="hljs-number">22</span>,
    <span class="hljs-built_in">color</span>:        <span class="hljs-string">'black'</span>,
    font:        { fontWeight:<span class="hljs-string">'bold'</span>, fontSize: fontSize + <span class="hljs-number">2</span> },
    <span class="hljs-built_in">textAlign</span>:    <span class="hljs-string">'left'</span>,
    <span class="hljs-built_in">text</span>:        item.title,
    touchEnabled:    <span class="hljs-keyword">false</span>
});
var textLabel = Ti.UI.createLabel({
    <span class="hljs-built_in">color</span>:        <span class="hljs-string">'black'</span>,
    font:        { fontWeight:<span class="hljs-string">'normal'</span>, fontSize: fontSize },
    <span class="hljs-built_in">text</span>:        item.<span class="hljs-built_in">text</span>,
    <span class="hljs-built_in">textAlign</span>:    <span class="hljs-string">'left'</span>,
    left:        <span class="hljs-number">6</span>,
    right:        <span class="hljs-number">6</span>,
    top:        <span class="hljs-number">6</span>,
    <span class="hljs-variable">height</span>:        <span class="hljs-string">'auto'</span>,
    touchEnabled:    <span class="hljs-keyword">false</span>
});
scrollView.<span class="hljs-built_in">add</span>(titleLabel);
scrollView.<span class="hljs-built_in">add</span>(textLabel);
textWindow.addEventListener(<span class="hljs-string">'singletap'</span>, function(){
    var t3 = Ti.UI.create2DMatrix().<span class="hljs-built_in">scale</span>(<span class="hljs-number">0</span>);
    textWindow.close({transform:t3,duration:<span class="hljs-number">300</span>});
});
textWindow.<span class="hljs-built_in">add</span>(scrollView);
</code></pre><p>Any help would be greatly appreciated.</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="February 18th 2011, 12:02:51 pm">February 18th 2011</span>
				by <span class='authorname'>Rene Aavik</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>ios</span></li>
					
						<li><span class='tagname'>ipad</span></li>
					
						<li><span class='tagname'>iphone</span></li>
					
						<li><span class='tagname'>layout</span></li>
					
						<li><span class='tagname'>mobile</span></li>
					
						<li><span class='tagname'>scrollview</span></li>
					
						<li><span class='tagname'>touchenabled</span></li>
					
						<li><span class='tagname'>vertical</span></li>
					
				</ul>
			

			<section>
				<h5>2 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Should have mentioned, that with the above code, scrolling works but the tap event doesn&#39;t fire. Setting touchenabled to false on scrollView fixes the event, but scrolling no longer works.</p>
</div>
							<div class="author">
								&mdash; commented <span title="February 18th 2011, 12:07:56 pm">February 18th 2011</span>
								by <span class='authorname'>Rene Aavik</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>I&#39;m not sure what exactly you&#39;re asking, can you restate the question in 1 or 2 sentences?</p>
</div>
							<div class="author">
								&mdash; commented <span title="April 5th 2011, 11:38:21 am">April 5th 2011</span>
								by <span class='authorname'>Joe iEntry</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>-2</span> Votes</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-205904">
				
						<section>
							<p>Hmm, I just had a problem with a ScrollView not showing up.<br>Not entirely sure if I&#39;m on-topic but a ScrollView apparently is not displayed when vertical layout is enabled in the current window (or maybe it&#39;s way off the viewport).</p>
<p>In a window with absolute layout everything is fine. Maybe this helps.</p>
<p>I kind think of a reason why one would have a vertical layout when using a ScrollView (i made a little mistake while &quot;refactoring&quot; so i still had it vertical and was wondering why my content disappeared).</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="April 8th 2011, 2:09:36 pm">April 8th 2011</span>
								by <span class='authorname'>Paul Voss</span><br>
								<a class="icon-bg icon-link" href="question/113751/problem-with-vertical-layout-in-a-scrollview#answer-205904" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>The reason I need vertical layout is because I have a dynamic length text field in the ScrollView. If I use absolute layout, and htere is less text than there is space, it will center the text vertically, instead of aligning it to the top of the page (under title). The only solution I managed to figure out to this problem was using layout: vertical.</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 20th 2011, 1:37:54 pm">April 20th 2011</span>
											by <span class='authorname'>Rene Aavik</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-206552">
				
						<section>
							<p>Instead of adding the eventlistener to the window, you will need to add it to one of the elements on it.<br>Usually you will add a back button, to close the window but in your case you can do this:</p>
<pre><code class="hljs">scrollView.addEventListener(<span class="hljs-string">'singletap'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span></span>{
    <span class="hljs-keyword">var</span> t3 = Ti.UI.create2DMatrix().scale(<span class="hljs-number">0</span>);
    textWindow.close({transform:t3,duration:<span class="hljs-number">300</span>});
});
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="April 19th 2011, 11:06:57 pm">April 19th 2011</span>
								by <span class='authorname'>Daniel Tome</span><br>
								<a class="icon-bg icon-link" href="question/113751/problem-with-vertical-layout-in-a-scrollview#answer-206552" rel="permalink">permalink</a>
							</div>

							<h5>2 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Thank you for the answer, however, if you look at my post more carefully, you will notice that I already tried this:<br>&gt; I have tried setting the click event on the scrollview instead, with no luck.</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 20th 2011, 1:33:38 pm">April 20th 2011</span>
											by <span class='authorname'>Rene Aavik</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Oh, and I did eventually fix the issue by using the back button, as you suggested. This was not ideal in my case, but served as a workaround.</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 20th 2011, 1:35:27 pm">April 20th 2011</span>
											by <span class='authorname'>Rene Aavik</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
