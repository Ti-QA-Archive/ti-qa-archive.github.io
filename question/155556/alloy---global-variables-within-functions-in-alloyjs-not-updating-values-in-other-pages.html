<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Alloy - Global variables within functions in alloy.js not updating values in other pages » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Alloy - Global variables within functions in alloy.js not updating values in other pages</h1>
		</header>
		<section>
			<p>Mobile Application<br>Titanium SDK 3.1.1<br>IOS Simulator SDK 6.1<br>Mac OS X<br>Alloy</p>
<p>I have a global variable and a global function that uses that variable in the alloy.js file.  In another file, I have a button that will link to the function in the alloy.js file.  Here are the two files:</p>
<p><strong>alloy.js</strong> </p>
<pre><code class="hljs">Alloy.Globals.winSkin = <span class="hljs-string">'/images/background/background_original.png'</span>;

Alloy.Globals.army = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
    Alloy.Globals.winSkin = <span class="hljs-string">"/images/background/background_army.png"</span>;
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'winSkin:['</span>+ Alloy.Globals.winSkin+<span class="hljs-string">"]"</span>);
    <span class="hljs-comment">//return Alloy.Globals.winSkin;</span>
    <span class="hljs-comment">//alert('work!');</span>
}
</code></pre><p><strong>settings.js</strong></p>
<pre><code class="hljs">
<span class="hljs-variable">$.</span>win.backgroundImage = <span class="hljs-constant">Alloy</span>.<span class="hljs-constant">Globals</span>.winSkin;
</code></pre><p>What I want to happen is: Alloy.Globals.winSkin holds the default background image for the app.  When a user clicks on the &#39;Army&#39; theme button, it should then trigger the army function located in the alloy.js file, which should change the Alloy.Globals.winSkin variable to the new image file, and then on the settings.js page, the value should also update and the background should then change to the new image.  The value of the winSkin variable does change, as seen in the console the new image path is there, but it doesn&#39;t update in the other windows, either at all or not until a refresh of the page.  Is there another way to do this?  Or is there a way to automatically refresh the page when a new value is introduced?  I have tried with and without the Alloy.Globals prefix, and with and without the &#39;return&#39; statement, all work the same so far.  Ideally I would like to put the same header in the settings file in all pages to utilize an app wide theme.</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="August 1st 2013, 7:01:37 pm">August 1st 2013</span>
				by <span class='authorname'>Jenna Harris</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>alloy</span></li>
					
						<li><span class='tagname'>global</span></li>
					
						<li><span class='tagname'>mobile</span></li>
					
				</ul>
			

			<section>
				<h5>1 Comment</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Have a look at the <a href="https:&#x2F;&#x2F;github.com&#x2F;appcelerator&#x2F;alloy&#x2F;tree&#x2F;master&#x2F;test&#x2F;apps&#x2F;advanced&#x2F;dynamic_styling">dynamic styling example</a></p>
</div>
							<div class="author">
								&mdash; commented <span title="August 6th 2013, 10:50:43 am">August 6th 2013</span>
								by <span class='authorname'>Manuel Lehner</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>0</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>0 Answers</h3>

	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
