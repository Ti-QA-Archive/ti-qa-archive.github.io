<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Horizontal centering of elements on Android - this must be simple? » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Horizontal centering of elements on Android - this must be simple?</h1>
		</header>
		<section>
			<p>I&#39;m sure there is a simple answer to this but I have searched the Q&amp;A and can&#39;t find an answer (several people have supplied answers but the ones I have tried out have all failed).  All I want to do is centrally align two elements in a view.  In iOS this works fine, in Android the elements are left justified.  Is there anyone out there that can make the (presumably!) very simple change to this app.js code to make the labels appear centred on Android?</p>
<pre><code class="hljs">Titanium.UI.setBackgroundColor(<span class="hljs-string">'#000'</span>);

var win1 = Titanium.UI.createWindow({
    <span class="hljs-string">title :</span> <span class="hljs-string">'Window'</span>,
    <span class="hljs-string">backgroundColor :</span> <span class="hljs-string">'#fff'</span>
});

var labelView = Titanium.UI.createView({
    <span class="hljs-string">backgroundColor :</span> <span class="hljs-string">'#576996'</span>,
    <span class="hljs-string">top :</span> <span class="hljs-string">'5dp'</span>,
    <span class="hljs-string">width :</span> <span class="hljs-string">'100%'</span>,
    <span class="hljs-string">height :</span> <span class="hljs-string">'50dp'</span>
});

var labelContainer = Titanium.UI.createView({
    <span class="hljs-string">width :</span> <span class="hljs-string">'auto'</span>,
    <span class="hljs-string">height :</span> <span class="hljs-string">'auto'</span>,
    <span class="hljs-string">layout :</span> <span class="hljs-string">'horizontal'</span>
});

var label1 = Titanium.UI.createLabel({
    <span class="hljs-string">borderRadius :</span> <span class="hljs-number">10</span>,
    <span class="hljs-string">backgroundColor :</span> <span class="hljs-string">'#FFF'</span>,
    <span class="hljs-string">color :</span> <span class="hljs-string">'#000'</span>,
    <span class="hljs-string">text :</span> <span class="hljs-string">'Label 1'</span>,
    <span class="hljs-string">width :</span> <span class="hljs-string">'100dp'</span>,
    <span class="hljs-string">textAlign :</span> <span class="hljs-string">'center'</span>,
    <span class="hljs-string">height :</span> <span class="hljs-string">'40dp'</span>
});

var label2 = Titanium.UI.createLabel({
    <span class="hljs-string">borderRadius :</span> <span class="hljs-number">10</span>,
    <span class="hljs-string">backgroundColor :</span> <span class="hljs-string">'#FFF'</span>,
    <span class="hljs-string">color :</span> <span class="hljs-string">'#000'</span>,
    <span class="hljs-string">text :</span> <span class="hljs-string">'Label 2'</span>,
    <span class="hljs-string">left :</span> <span class="hljs-string">'10dp'</span>,
    <span class="hljs-string">width :</span> <span class="hljs-string">'100dp'</span>,
    <span class="hljs-string">textAlign :</span> <span class="hljs-string">'center'</span>,
    <span class="hljs-string">height :</span> <span class="hljs-string">'40dp'</span>
});

labelContainer.add(label1);
labelContainer.add(label2);
labelView.add(labelContainer);

win1.add(labelView);

win1.open();
</code></pre>
		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="April 29th 2012, 5:26:17 pm">April 29th 2012</span>
				by <span class='authorname'>Richard Shergold</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>alignment</span></li>
					
						<li><span class='tagname'>android</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>1</span> Vote</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-237532">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>Without hacks :) , something like this:</p>
<pre><code class="hljs">Titanium.UI.setBackgroundColor(<span class="hljs-string">'#000'</span>);

var win1 = Titanium.UI.createWindow({
    <span class="hljs-string">title :</span> <span class="hljs-string">'Window'</span>,
    <span class="hljs-string">backgroundColor :</span> <span class="hljs-string">'#fff'</span>
});

var labelView = Titanium.UI.createView({
    <span class="hljs-string">backgroundColor :</span> <span class="hljs-string">'#576996'</span>,
    <span class="hljs-string">top :</span> <span class="hljs-string">'5dp'</span>,
    <span class="hljs-string">width :</span> <span class="hljs-string">'100%'</span>,
    <span class="hljs-string">height :</span> <span class="hljs-string">'50dp'</span>
});

var labelContainer = Titanium.UI.createView({
    <span class="hljs-string">width :</span> <span class="hljs-string">'auto'</span>,
    <span class="hljs-string">height :</span> <span class="hljs-string">'auto'</span>,
    <span class="hljs-string">layout :</span> <span class="hljs-string">'horizontal'</span>
});

var left = Titanium.UI.createView({
    <span class="hljs-string">width :</span> <span class="hljs-string">'50%'</span>,
    <span class="hljs-string">height :</span> <span class="hljs-string">'100%'</span>
});

var right = Titanium.UI.createView({
    <span class="hljs-string">width :</span> <span class="hljs-string">'50%'</span>,
    <span class="hljs-string">height :</span> <span class="hljs-string">'100%'</span>
});

var label1 = Titanium.UI.createLabel({
<span class="hljs-label">    right:</span> <span class="hljs-number">0</span>,
    <span class="hljs-string">borderRadius :</span> <span class="hljs-number">10</span>,
    <span class="hljs-string">backgroundColor :</span> <span class="hljs-string">'#FFF'</span>,
    <span class="hljs-string">color :</span> <span class="hljs-string">'#000'</span>,
    <span class="hljs-string">text :</span> <span class="hljs-string">'Label 1'</span>,
    <span class="hljs-string">width :</span> <span class="hljs-string">'100dp'</span>,
    <span class="hljs-string">textAlign :</span> <span class="hljs-string">'center'</span>,
    <span class="hljs-string">height :</span> <span class="hljs-string">'40dp'</span>
});

var label2 = Titanium.UI.createLabel({
<span class="hljs-label">    left:</span> <span class="hljs-number">0</span>,
    <span class="hljs-string">borderRadius :</span> <span class="hljs-number">10</span>,
    <span class="hljs-string">backgroundColor :</span> <span class="hljs-string">'#FFF'</span>,
    <span class="hljs-string">color :</span> <span class="hljs-string">'#000'</span>,
    <span class="hljs-string">text :</span> <span class="hljs-string">'Label 2'</span>,
    <span class="hljs-string">left :</span> <span class="hljs-string">'10dp'</span>,
    <span class="hljs-string">width :</span> <span class="hljs-string">'100dp'</span>,
    <span class="hljs-string">textAlign :</span> <span class="hljs-string">'center'</span>,
    <span class="hljs-string">height :</span> <span class="hljs-string">'40dp'</span>
});

left.add(label1);
right.add(label2);
labelContainer.add(left);
labelContainer.add(right);
labelView.add(labelContainer);

win1.add(labelView);

win1.open();
</code></pre><p>Hope I got what you want to achieve. :)</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="April 30th 2012, 5:02:23 am">April 30th 2012</span>
								by <span class='authorname'>Ivan Škugor</span><br>
								<a class="icon-bg icon-link" href="../../question/136220/horizontal-centering-of-elements-on-android---this-must-be-simple.html#answer-237532" rel="permalink">permalink</a>
							</div>

							<h5>2 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Perfect Ivan, thanks :-)</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 30th 2012, 5:06:24 am">April 30th 2012</span>
											by <span class='authorname'>Richard Shergold</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Damn, 2 years ago and still the only way to do it (since there is no titanium support). thanks…</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 6th 2013, 4:38:34 pm">November 6th 2013</span>
											by <span class='authorname'>Emre Avsar</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-237511">
				
						<section>
							<p>This is easy in release 2.0–but I suspect you aren&#39;t using 2.0, because in 2.0, this code doesn&#39;t produce the centered results you&#39;re looking for on iOS, either.</p>
<p>The problem here is that the &#39;auto&#39; behavior is different on iOS and Android–something that the layout changes in 2.0 were designed to fix. On Android, the labelContainer is sizing itself to the full width of the parent, so it can&#39;t be centered.</p>
<p>Fix for 2.0 is to change &#39;auto&#39; to <code>Ti.UI.SIZE</code>:</p>
<pre><code class="hljs">var labelContainer = Titanium.UI.createView({
   <span class="hljs-string">width :</span> Ti.UI.SIZE,
   <span class="hljs-string">height :</span> Ti.UI.SIZE,
   <span class="hljs-string">layout :</span> <span class="hljs-string">'horizontal'</span>
});
</code></pre><p>Not sure how to do it pre-2.0, unfortunately.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="April 29th 2012, 8:46:59 pm">April 29th 2012</span>
								by <span class='authorname'>Arthur Evans</span><br>
								<a class="icon-bg icon-link" href="../../question/136220/horizontal-centering-of-elements-on-android---this-must-be-simple.html#answer-237511" rel="permalink">permalink</a>
							</div>

							<h5>3 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Yes, this is a 1.8 app but I don&#39;t have time to convert it.  Thanks.  I was hoping there is an easy way to accomplish this in 1.8</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 30th 2012, 4:34:53 am">April 30th 2012</span>
											by <span class='authorname'>Richard Shergold</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>So, it&#39;s kind of a hack, but you could manually set the size of the labelContainer. Since you can&#39;t use the postlayout event in 1.8, the only way to do this is to set a timeout, to ensure that the window has finished the initial layout so you can calculate the sizes of the labels.</p>
<pre><code class="hljs">setTimeout(function(){
  labelContainer.<span class="hljs-variable">width</span> = label1.<span class="hljs-built_in">size</span>.<span class="hljs-variable">width</span> + label2.<span class="hljs-built_in">size</span>.<span class="hljs-variable">width</span> + <span class="hljs-number">20</span>;
  labelContainer.<span class="hljs-variable">height</span> = label1.<span class="hljs-built_in">size</span>.<span class="hljs-variable">height</span> &gt; label2.<span class="hljs-built_in">size</span>.<span class="hljs-variable">height</span> ? label1.<span class="hljs-built_in">size</span>.<span class="hljs-variable">height</span> : 
                                                 label2.<span class="hljs-built_in">size</span>.<span class="hljs-variable">height</span>;
 }, <span class="hljs-number">500</span>);
</code></pre><p>As an additional wrinkle, you can&#39;t get the labels&#39; position, so to adjust for the padding, you&#39;re going to need to manually convert the padding DIPs to pixels. Here I hard-coded it, but that&#39;s obviously not going to fly in the general case. Also, 500 ms is probably much longer than you need to wait for layout, but I haven&#39;t experimented with this much.</p>
<p>Once the labelContainer&#39;s width is set correctly, it centers like you&#39;d expect it to.</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 30th 2012, 4:47:11 am">April 30th 2012</span>
											by <span class='authorname'>Arthur Evans</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Thanks Arthur, will have a play.</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 30th 2012, 5:00:48 am">April 30th 2012</span>
											by <span class='authorname'>Richard Shergold</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
