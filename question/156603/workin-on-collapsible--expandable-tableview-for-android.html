<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Workin on Collapsible / Expandable Tableview for android Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Workin on Collapsible / Expandable Tableview for android</h1>
		</header>
		<section>
			<p>Hi guys :) ! Im trying to create a collapsible &#x2F; expandable Tableview on Android Platform. My code is based on a iphone example: https:&#x2F;&#x2F;gist.github.com&#x2F;rileydutton&#x2F;946647 (which created by rileydutton. The idea is 1st creating a tableview on screen and then assign an Eventlistener to it. Once we clicked the parent row then the child rowdata will pop out under the parent row. After the child row has opened, we can check 4 the rowdata &quot;opened&quot; boolean, if it is true, then the childrow will be deleted.</p>
<p>heres are my code:</p>
<pre><code class="hljs">
<span class="hljs-variable"><span class="hljs-keyword">var</span> win1</span> = Titanium.UI.createWindow({  

    backgroundColor:'#fff'
});

<span class="hljs-variable"><span class="hljs-keyword">var</span> layout</span> = [

    {
        title: <span class="hljs-string">"Parent 1"</span>,
        isparent: <span class="hljs-literal">true</span>,
        opened: <span class="hljs-literal">false</span>,
        sub: [
            {
                title: <span class="hljs-string">"Child 1"</span>
            },
            {
                title: <span class="hljs-string">"Child 2"</span>
            }
        ]
    },
    {
        title: <span class="hljs-string">"Parent 2"</span>,
        isparent: <span class="hljs-literal">true</span>,
        <span class="hljs-comment">//opened: false,</span>
        sub: [
            {
                title: <span class="hljs-string">"Child 3"</span>
            },
            {
                title: <span class="hljs-string">"Child 4"</span>
            }
        ]
    }];

    <span class="hljs-variable"><span class="hljs-keyword">var</span> tableView</span> = Ti.UI.createTableView

    ({
        top: <span class="hljs-number">0</span>,
        height: Ti.Platform.displayCaps.platformHeight,
        data: layout

    });


win1.add(tableView);



win1.<span class="hljs-keyword">open</span>();

    <span class="hljs-comment">//var e.row.opened = false;</span>


    tableView.addEventListener(<span class="hljs-string">"click"</span>, function(e) {

        <span class="hljs-comment">//Is this a parent cell?</span>
        <span class="hljs-keyword">if</span>(e.rowData.isparent==<span class="hljs-literal">true</span>) {

            <span class="hljs-comment">//Is it opened?</span>
            <span class="hljs-keyword">if</span>(e.rowData.opened==<span class="hljs-literal">true</span>) {

                <span class="hljs-keyword">for</span>(<span class="hljs-variable"><span class="hljs-keyword">var</span> i</span>=e.rowData.sub.length; i &gt; <span class="hljs-number">0</span>; i = i - <span class="hljs-number">1</span>) {
                tableView.deleteRow(e.index + i);

            }
                <span class="hljs-comment">//alert('hi');</span>
               e.rowData.height= <span class="hljs-number">100</span>;
               e.rowData.opened = <span class="hljs-literal">false</span>;



            } <span class="hljs-keyword">else</span> {
                <span class="hljs-comment">//Add teh children.</span>
                e.rowData.opened = <span class="hljs-literal">true</span>;
                <span class="hljs-variable"><span class="hljs-keyword">var</span> currentIndex</span> = e.index;
                <span class="hljs-keyword">for</span>(<span class="hljs-variable"><span class="hljs-keyword">var</span> i</span>=<span class="hljs-number">0</span>; i <span class="hljs-type">&lt; e.rowData.sub.length; i++) {
                    tableView.insertRowAfter(currentIndex, e.rowData.sub[i]);
                    currentIndex++;
                }



            }
        }
    });</span>
</code></pre><p>The &quot;Expandable&quot; part is work fine, but it seems unable to affect the rowdata &quot;opened&quot; boolean variable data, so the program not getting into the deleterow process (which is the collapsible part.</p>
<p>Please gimme a lil help with this :D thanks a lot !!!</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="August 30th 2013, 7:53:54 am">August 30th 2013</span>
				by <span class='authorname'>Lindsey Stasia</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>collapsible</span></li>
					
						<li><span class='tagname'>expandable</span></li>
					
						<li><span class='tagname'>mobile</span></li>
					
						<li><span class='tagname'>tableview</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-267874">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>change the <code>e.rowData</code> in <code>e.row</code> and it should work fine (rowData is iOS only)</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 30th 2013, 9:48:32 am">August 30th 2013</span>
								by <span class='authorname'>Alberto Marcone</span><br>
								<a class="icon-bg icon-link" href="question/156603/workin-on-collapsible--expandable-tableview-for-android.html#answer-267874" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>YES! Its kinda work fine nao :) Thanks 4 da help !</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 31st 2013, 2:58:06 pm">August 31st 2013</span>
											by <span class='authorname'>Lindsey Stasia</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
