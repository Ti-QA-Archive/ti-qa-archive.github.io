<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>iPhone TabGroup Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>iPhone TabGroup</h1>
		</header>
		<section>
			<p>Hi every1</p>
<p>Trying to figure out something.</p>
<p>I have a tabgroup based iphone app. Each tab could contain multiple windows. The thing i want to do is<br>that if a user clicks on a allready focused tab (the activeTab). The stack of windows in that tab is closed and the first window is opened &#x2F; reloaded again.  </p>
<p>This should only happen if the user clicks on an allready focused (activeTab)</p>
<p>So how do i do this.</p>
<p>I have tried putting an eventlistener like this </p>
<pre><code class="hljs">mytabgroup.addEventListener(<span class="hljs-string">'focus'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span>{</span>
    //<span class="hljs-keyword">if</span>(Ti.App.myData.<span class="hljs-keyword">tabs</span>.activeTab==)
    alert(<span class="hljs-string">"e.index="</span>+<span class="hljs-keyword">e</span>.<span class="hljs-built_in">index</span>+<span class="hljs-string">"e.previousindex="</span>+ <span class="hljs-keyword">e</span>.previousIndex)

});
</code></pre><p>But the thing is that once its allready focused it dont catch anything.<br>So how can i catch clicks on an activeTab ?</p>
<p>Thanks</p>
<p>Tom</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="December 13th 2012, 8:18:38 am">December 13th 2012</span>
				by <span class='authorname'>Tom Jakobsen</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>activetab</span></li>
					
						<li><span class='tagname'>iphone</span></li>
					
						<li><span class='tagname'>tab</span></li>
					
						<li><span class='tagname'>tabgroup</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>3</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>3 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-252676">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>Hi</p>
<p>Have you tried adding an event listener for focus on the primary window in the tab?</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="December 13th 2012, 9:11:14 am">December 13th 2012</span>
								by <span class='authorname'>Malcolm Hollingsworth</span><br>
								<a class="icon-bg icon-link" href="../../question/145686/iphone-tabgroup.html#answer-252676" rel="permalink">permalink</a>
							</div>

							<h5>6 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>I dont think that would work. Because what i want is to close and reload the window that is allready in focus. Seems like when the tab is active, it just wont catch anything (click, focus)</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 13th 2012, 1:03:27 pm">December 13th 2012</span>
											by <span class='authorname'>Tom Jakobsen</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Actually it does.  You will get a focus event when the window goes back to the root window.</p>
<p>See this example;</p>
<p>Create a new simple project and replace the contents of <strong>app.js</strong> with the code below.</p>
<p>If will show you the focus and blur events for a three deep tab window test.</p>
<p>All you would need to do is log that the primary window has initially shown and then when you see the event triggered next time then the window is in focus.  You already know how to check for the tab events.</p>
<pre><code class="hljs">Ti.UI.setBackgroundColor(<span class="hljs-string">'#000'</span>);

<span class="hljs-keyword">var</span> win1 = Ti.UI.createWindow({  
    backgroundColor: <span class="hljs-string">'#fff'</span>,
    title: <span class="hljs-string">'Win 1'</span>
});
win1.addEventListener(<span class="hljs-string">'focus'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) </span>{ Ti.API.info(<span class="hljs-string">'win1'</span>, <span class="hljs-string">'focus'</span>); });
win1.addEventListener(<span class="hljs-string">'blur'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) </span>{ Ti.API.info(<span class="hljs-string">'win1'</span>, <span class="hljs-string">'blur'</span>); });
<span class="hljs-keyword">var</span> tab1 = Ti.UI.createTab({  
    icon: <span class="hljs-string">'KS_nav_views.png'</span>,
    title: <span class="hljs-string">'Tab 1'</span>,
    <span class="hljs-built_in">window</span>: win1
});

<span class="hljs-keyword">var</span> btnOpen1 = Ti.UI.createButton({
    title: <span class="hljs-string">'One'</span>
});
win1.add(btnOpen1);
btnOpen1.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) </span>{
    <span class="hljs-keyword">var</span> win2 = Ti.UI.createWindow({  
        backgroundColor: <span class="hljs-string">'#fff'</span>,
        title: <span class="hljs-string">'Win 2'</span>
    });
    win2.addEventListener(<span class="hljs-string">'focus'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) </span>{ Ti.API.info(<span class="hljs-string">'win2'</span>, <span class="hljs-string">'focus'</span>); });
    win2.addEventListener(<span class="hljs-string">'blur'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) </span>{ Ti.API.info(<span class="hljs-string">'win2'</span>, <span class="hljs-string">'blur'</span>); });
    <span class="hljs-keyword">var</span> btnOpen2 = Ti.UI.createButton({
        title: <span class="hljs-string">'Two'</span>
    });
    win2.add(btnOpen2);
    btnOpen2.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) </span>{
        <span class="hljs-keyword">var</span> win3 = Ti.UI.createWindow({  
            backgroundColor: <span class="hljs-string">'#fff'</span>,
            title: <span class="hljs-string">'Win 3'</span>
        });
        win3.addEventListener(<span class="hljs-string">'focus'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) </span>{ Ti.API.info(<span class="hljs-string">'win3'</span>, <span class="hljs-string">'focus'</span>); });
        win3.addEventListener(<span class="hljs-string">'blur'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) </span>{ Ti.API.info(<span class="hljs-string">'win3'</span>, <span class="hljs-string">'blur'</span>); });
        <span class="hljs-keyword">var</span> btnOpen3 = Ti.UI.createButton({
            title: <span class="hljs-string">'Three'</span>
        });
        tab1.open(win3);
    });
    tab1.open(win2);
});

<span class="hljs-keyword">var</span> winA = Ti.UI.createWindow({  
    backgroundColor: <span class="hljs-string">'#fff'</span>,
    title: <span class="hljs-string">'Win A'</span>
});
<span class="hljs-keyword">var</span> tab2 = Ti.UI.createTab({  
    icon: <span class="hljs-string">'KS_nav_views.png'</span>,
    title: <span class="hljs-string">'Tab 2'</span>,
    <span class="hljs-built_in">window</span>: winA
});

<span class="hljs-keyword">var</span> tabGroup = Ti.UI.createTabGroup();
tabGroup.addTab(tab1);  
tabGroup.addTab(tab2);  
tabGroup.open();
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="December 13th 2012, 1:22:39 pm">December 13th 2012</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Actually it does.  You will get a focus event when the window goes back to the root window.</p>
<p>See this example;</p>
<p>Create a new simple project and replace the contents of <strong>app.js</strong> with the code below.</p>
<p>If will show you the focus and blur events for a three deep tab window test.</p>
<p>All you would need to do is log that the primary window has initially shown and then when you see the event triggered next time then the window is in focus.  You already know how to check for the tab events.</p>
<pre><code class="hljs">Ti.UI.setBackgroundColor(<span class="hljs-string">'#000'</span>);

<span class="hljs-keyword">var</span> win1 = Ti.UI.createWindow({  
    backgroundColor: <span class="hljs-string">'#fff'</span>,
    title: <span class="hljs-string">'Win 1'</span>
});
win1.addEventListener(<span class="hljs-string">'focus'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) </span>{ Ti.API.info(<span class="hljs-string">'win1'</span>, <span class="hljs-string">'focus'</span>); });
win1.addEventListener(<span class="hljs-string">'blur'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) </span>{ Ti.API.info(<span class="hljs-string">'win1'</span>, <span class="hljs-string">'blur'</span>); });
<span class="hljs-keyword">var</span> tab1 = Ti.UI.createTab({  
    icon: <span class="hljs-string">'KS_nav_views.png'</span>,
    title: <span class="hljs-string">'Tab 1'</span>,
    <span class="hljs-built_in">window</span>: win1
});

<span class="hljs-keyword">var</span> btnOpen1 = Ti.UI.createButton({
    title: <span class="hljs-string">'One'</span>
});
win1.add(btnOpen1);
btnOpen1.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) </span>{
    <span class="hljs-keyword">var</span> win2 = Ti.UI.createWindow({  
        backgroundColor: <span class="hljs-string">'#fff'</span>,
        title: <span class="hljs-string">'Win 2'</span>
    });
    win2.addEventListener(<span class="hljs-string">'focus'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) </span>{ Ti.API.info(<span class="hljs-string">'win2'</span>, <span class="hljs-string">'focus'</span>); });
    win2.addEventListener(<span class="hljs-string">'blur'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) </span>{ Ti.API.info(<span class="hljs-string">'win2'</span>, <span class="hljs-string">'blur'</span>); });
    <span class="hljs-keyword">var</span> btnOpen2 = Ti.UI.createButton({
        title: <span class="hljs-string">'Two'</span>
    });
    win2.add(btnOpen2);
    btnOpen2.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) </span>{
        <span class="hljs-keyword">var</span> win3 = Ti.UI.createWindow({  
            backgroundColor: <span class="hljs-string">'#fff'</span>,
            title: <span class="hljs-string">'Win 3'</span>
        });
        win3.addEventListener(<span class="hljs-string">'focus'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) </span>{ Ti.API.info(<span class="hljs-string">'win3'</span>, <span class="hljs-string">'focus'</span>); });
        win3.addEventListener(<span class="hljs-string">'blur'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) </span>{ Ti.API.info(<span class="hljs-string">'win3'</span>, <span class="hljs-string">'blur'</span>); });
        <span class="hljs-keyword">var</span> btnOpen3 = Ti.UI.createButton({
            title: <span class="hljs-string">'Three'</span>
        });
        tab1.open(win3);
    });
    tab1.open(win2);
});

<span class="hljs-keyword">var</span> winA = Ti.UI.createWindow({  
    backgroundColor: <span class="hljs-string">'#fff'</span>,
    title: <span class="hljs-string">'Win A'</span>
});
<span class="hljs-keyword">var</span> tab2 = Ti.UI.createTab({  
    icon: <span class="hljs-string">'KS_nav_views.png'</span>,
    title: <span class="hljs-string">'Tab 2'</span>,
    <span class="hljs-built_in">window</span>: winA
});

<span class="hljs-keyword">var</span> tabGroup = Ti.UI.createTabGroup();
tabGroup.addTab(tab1);  
tabGroup.addTab(tab2);  
tabGroup.open();
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="December 13th 2012, 1:23:39 pm">December 13th 2012</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>The form double posted automatically - not my intention.</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 13th 2012, 1:24:28 pm">December 13th 2012</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Malcolm i think you are actually right.  When i look into it, it seems like if i have &quot;subwindows&quot; open and reclick the tab, it closes the subwindows. So to reload the &quot;main window&quot; a focus event should do.<br>What can i say . Genious Malcolm :)</p>
<p>Thanks alot for your help.</p>
<p>Good to see a working forum like this.</p>
<p>Best regards</p>
<p>Tom</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 14th 2012, 6:17:42 am">December 14th 2012</span>
											by <span class='authorname'>Tom Jakobsen</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>You are very welcome and also wise enough to spot my genius ;)</p>
<p>Do not forget to mark the question answered when you are ready, so others may find an answer if they have a similar question.</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 14th 2012, 6:32:17 am">December 14th 2012</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-252669">
				
						<section>
							<p>hi,</p>
<p>in one of my app i have used the below solution..</p>
<p>first create one array with in app.js like</p>
<pre><code class="hljs">Ti.App.arrWin = <span class="hljs-string">[]</span>;
</code></pre><p>then when you open each tab&#39;s sub window then add that window in that array and on close event of that window pop that window from array.</p>
<p>and when user change tab then on focus of tab close all the window using for loop.<br>like </p>
<pre><code class="hljs"><span class="hljs-keyword">if</span> (Ti.<span class="hljs-keyword">App</span>.arrWin) {
        <span class="hljs-keyword">var</span> arrStack = Ti.<span class="hljs-keyword">App</span>.arrWin;

        <span class="hljs-keyword">if</span> (arrStack != null &amp;&amp; arrStack.length &gt; 0) {

            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = 0; i &lt; arrStack.length; i++) {
                <span class="hljs-keyword">var</span> <span class="hljs-keyword">win</span> = arrStack[i];
                <span class="hljs-keyword">win</span>.<span class="hljs-keyword">close</span>();
            }

            Ti.<span class="hljs-keyword">App</span>.arrWin = [];
        }
    }
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="December 13th 2012, 8:45:20 am">December 13th 2012</span>
								by <span class='authorname'>Mitul Bhalia</span><br>
								<a class="icon-bg icon-link" href="../../question/145686/iphone-tabgroup.html#answer-252669" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Yeah, that could do to close the windows. But i need something to catch click on the button first</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 13th 2012, 12:55:18 pm">December 13th 2012</span>
											by <span class='authorname'>Tom Jakobsen</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-252673">
				
						<section>
							<p>Mitul I think what Toms problem is, is not what to do after the event fires, but how to catch the event which does not seem to work.</p>
<p>Tom, I would suggest a custom Tabbar if you want to offer this functionality since there seems to be no way to catch that event. (I tried many times to do what you are trying to do but with no luck)</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="December 13th 2012, 8:57:02 am">December 13th 2012</span>
								by <span class='authorname'>Michael Massalas</span><br>
								<a class="icon-bg icon-link" href="../../question/145686/iphone-tabgroup.html#answer-252673" rel="permalink">permalink</a>
							</div>

							<h5>2 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>ok,but he also wants to close all the stack window see this line <strong>The stack of windows in that tab is closed and the first window is opened &#x2F; reloaded again.</strong></p>
</p>
										<div class="author">
											&mdash; commented <span title="December 13th 2012, 9:10:19 am">December 13th 2012</span>
											by <span class='authorname'>Mitul Bhalia</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Michael thats correct. I hope not to go with a custom tabbar because i want to use the native functions for headers &#x2F; buttons and so on.</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 13th 2012, 12:56:51 pm">December 13th 2012</span>
											by <span class='authorname'>Tom Jakobsen</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
