<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Button Plays 2 Sounds in Order » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Button Plays 2 Sounds in Order</h1>
		</header>
		<section>
			<p>Hey all, i want the playButton to play the goatsound first, than play the roostersound. With the code below, they both play at the same time!! please help! </p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> goatsound =  Ti.Media.createSound({url:<span class="hljs-string">"sounds/goat.wav"</span>});

goatsound.addEventListener(<span class="hljs-string">'complete'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
    goatButton.width = <span class="hljs-number">100</span>; <span class="hljs-comment">//dont worry about this, this is irrelevant to my question</span>
    goatButton.height = <span class="hljs-number">100</span>; 
});


<span class="hljs-keyword">var</span> roostersound =  Ti.Media.createSound({url:<span class="hljs-string">"sounds/rooster.wav"</span>});

roostersound.addEventListener(<span class="hljs-string">'complete'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
    roosterButton.width = <span class="hljs-number">100</span>; 
    roosterButton.height = <span class="hljs-number">100</span>; 
});

playButton.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(e)</span></span>{
    goatsound.play();

       roostersound.play();
});
</code></pre>
		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="October 22nd 2014, 11:20:15 am">October 22nd 2014</span>
				by <span class='authorname'>ahmad hosseini</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>button</span></li>
					
						<li><span class='tagname'>order</span></li>
					
						<li><span class='tagname'>sound</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-283286">
				
						<section>
							<p>it is obvious, you are calling &quot;play&quot; on both files in your click event, you have to call play of the secound audio file when the complete event of the first file is fired.</p>
<p>here you go:</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> goatsound =  Ti.Media.createSound({url:<span class="hljs-string">"sounds/goat.wav"</span>});

goatsound.addEventListener(<span class="hljs-string">'complete'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
    goatButton.width = <span class="hljs-number">100</span>; <span class="hljs-comment">//dont worry about this, this is irrelevant to my question</span>
    goatButton.height = <span class="hljs-number">100</span>; 
    roostersound.play();
});


<span class="hljs-keyword">var</span> roostersound =  Ti.Media.createSound({url:<span class="hljs-string">"sounds/rooster.wav"</span>});

roostersound.addEventListener(<span class="hljs-string">'complete'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
    roosterButton.width = <span class="hljs-number">100</span>; 
    roosterButton.height = <span class="hljs-number">100</span>; 
});

playButton.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(e)</span></span>{
    goatsound.play(); 
});
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="October 22nd 2014, 12:37:41 pm">October 22nd 2014</span>
								by <span class='authorname'>Moritz Knecht</span><br>
								<a class="icon-bg icon-link" href="question/178618/button-plays-2-sounds-in-order.html#answer-283286" rel="permalink">permalink</a>
							</div>

							<h5>5 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>sorry you have to put the &quot;var roostersound = …&quot; line above the complete event of the goatsound</p>
</p>
										<div class="author">
											&mdash; commented <span title="October 22nd 2014, 12:38:41 pm">October 22nd 2014</span>
											by <span class='authorname'>Moritz Knecht</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Would this logic still work if i wanted to play 3 sounds in order from 1 button? for example, say i added a lion button… would i just need to do lionsound.play(); it in the goatsound event listener?</p>
</p>
										<div class="author">
											&mdash; commented <span title="October 23rd 2014, 12:04:13 am">October 23rd 2014</span>
											by <span class='authorname'>ahmad hosseini</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>ahmad, please take a deep breath and think about the logic again. </p>
<p>you want to play 3 sounds in a specific order</p>
<p>so the order is &quot;goatsound&quot;, &quot;roostersound&quot;, &quot;lionsound&quot;. The logic is: play the first sound (&quot;goatsound&quot;) if the goat sound finished playing, play the next sound (&quot;roostersound&quot;), if the roostersound is completed play the third sound (&quot;lionsound&quot;).</p>
<p>How in the world did you come to the conclusion to trigger the third sound in the complete event of the first sound and not in the complete listener of the second sound?</p>
<p>here you have some generalized code to play multiple sounds in a row:</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> files = [<span class="hljs-string">"clave.wav"</span>, <span class="hljs-string">"cricket.wav"</span>, <span class="hljs-string">"hat.wav"</span>],
    sounds = [];

files.<span class="hljs-keyword">forEach</span>(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(file, index)</span> </span>{

    sounds[index] = Ti.Media.createSound({
        url: file,
        fileIndex: index
    });

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">completed</span><span class="hljs-params">(e)</span> </span>{
        m.jlog(e, <span class="hljs-string">"completed"</span>);
        sounds[index].removeEventListener(<span class="hljs-string">'complete'</span>, completed);
        <span class="hljs-keyword">if</span> (sounds[e.source.fileIndex+<span class="hljs-number">1</span>]) {
            sounds[e.source.fileIndex+<span class="hljs-number">1</span>].play();
        }
    }
    sounds[index].addEventListener(<span class="hljs-string">'complete'</span>, completed);
});

sounds[<span class="hljs-number">0</span>].play();
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="October 23rd 2014, 10:21:01 am">October 23rd 2014</span>
											by <span class='authorname'>Moritz Knecht</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>This is my first month of any sort of programming ever so forgive me if i sound silly at times. </p>
<p>With he generalised code you provided, what is the purpose of m in m.jlog?</p>
</p>
										<div class="author">
											&mdash; commented <span title="October 26th 2014, 4:09:00 am">October 26th 2014</span>
											by <span class='authorname'>ahmad hosseini</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>ok i understand, m.jlog is only a logging function, ignore that</p>
</p>
										<div class="author">
											&mdash; commented <span title="October 26th 2014, 7:53:36 am">October 26th 2014</span>
											by <span class='authorname'>Moritz Knecht</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
