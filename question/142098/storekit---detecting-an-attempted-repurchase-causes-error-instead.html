<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>StoreKit - detecting an attempted repurchase (causes error instead) Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>StoreKit - detecting an attempted repurchase (causes error instead)</h1>
		</header>
		<section>
			<p>Using StoreKit 1.5, Titanium Studio 2.1.1, SDK 2.1.0</p>
<p>I can make a purchase for a non-consumable successfully using one of my test user accounts. However, if I try to purchase the item again with the same account (as a user might attempt to do from another of his iOS devices), I see an alert that the item has already been purchased and not downloaded. So far so good. But StoreKit returns a FAILED result from the &#39;purchase&#39; function (Storekit.FAILED) instead of Storekit.RESTORED or even Storekit.PURCHASED. </p>
<p>I do have a &quot;restore my purchase button&quot;, but I just know that some users are going to try to make the purchase again and be frustrated when they are told that they have already made the purchase, but my app has no way of knowing to unlock the additional content.</p>
<p>Is this a known issue? Workarounds anyone?</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="September 10th 2012, 8:44:59 pm">September 10th 2012</span>
				by <span class='authorname'>Luke Bartolomeo</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>in-app-purchase</span></li>
					
						<li><span class='tagname'>ios</span></li>
					
						<li><span class='tagname'>repeat purchase</span></li>
					
						<li><span class='tagname'>restored</span></li>
					
						<li><span class='tagname'>storekit</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-247157">
				
						<section>
							<p>This seems to be working as expected now.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="September 12th 2012, 1:25:40 pm">September 12th 2012</span>
								by <span class='authorname'>Luke Bartolomeo</span><br>
								<a class="icon-bg icon-link" href="../../question/142098/storekit---detecting-an-attempted-repurchase-causes-error-instead.html#answer-247157" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
