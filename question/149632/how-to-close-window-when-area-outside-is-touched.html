<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>How to close window when area outside is touched? Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>How to close window when area outside is touched?</h1>
		</header>
		<section>
			<p>I created a small window on top of a tab view. It provides a slider control and two buttons. How can I close this window if the user touches outside the window area or any other control on the screen such as one of the tab buttons?</p>
<p>Here is the view used to create the window:</p>
<pre><code class="hljs">&lt;Alloy&gt;
    &lt;Window id=<span class="hljs-string">"winRate"</span> backgroundColor=<span class="hljs-string">"#D1D0CC"</span> <span class="hljs-attribute">height</span>=<span class="hljs-string">"110"</span> <span class="hljs-attribute">width</span>=<span class="hljs-string">"200dp"</span> 
            <span class="hljs-attribute">top</span>=<span class="hljs-string">"70"</span> <span class="hljs-attribute">opacity</span>=<span class="hljs-string">"0.8"</span>&gt;
        &lt;Label id=<span class="hljs-string">"label"</span> <span class="hljs-attribute">width</span>=<span class="hljs-string">"100%"</span> <span class="hljs-attribute">top</span>=<span class="hljs-string">"10"</span> center=<span class="hljs-string">"0"</span> 
            textAlign=<span class="hljs-string">"Ti.UI.TEXT_ALIGNMENT_CENTER"</span>/&gt;
        &lt;Slider id=<span class="hljs-string">"slider"</span> <span class="hljs-attribute">top</span>=<span class="hljs-string">"40"</span> min=<span class="hljs-string">"0"</span> max=<span class="hljs-string">"5"</span> <span class="hljs-attribute">width</span>=<span class="hljs-string">"100%"</span> value=<span class="hljs-string">"0"</span> 
            onChange=<span class="hljs-string">"updateLabel"</span>/&gt;
        &lt;Button id=<span class="hljs-string">"btnDone"</span> onClick=<span class="hljs-string">"done"</span> title=<span class="hljs-string">"Done"</span> <span class="hljs-attribute">top</span>=<span class="hljs-string">"70"</span> <span class="hljs-attribute">left</span>=<span class="hljs-string">"20"</span> 
            <span class="hljs-attribute">height</span>=<span class="hljs-string">"30"</span>/&gt;
        &lt;Button id=<span class="hljs-string">"btnCancel"</span> onClick=<span class="hljs-string">"cancel"</span> title=<span class="hljs-string">"Cancel"</span> <span class="hljs-attribute">top</span>=<span class="hljs-string">"70"</span> 
            <span class="hljs-attribute">right</span>=<span class="hljs-string">"20"</span> <span class="hljs-attribute">height</span>=<span class="hljs-string">"30"</span>/&gt;
    &lt;/Window&gt;
&lt;/Alloy&gt;
</code></pre><p>Thanks in advance!</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="March 15th 2013, 5:26:14 pm">March 15th 2013</span>
				by <span class='authorname'>Brian Burns</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>window</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-258719">
				
						<section>
							<p>Hi Brian,</p>
<p>If user touch outside the window area then you need to fire one event like : </p>
<pre><code class="hljs">Ti.App.fireEvent("closeSlider"); //<span class="hljs-operator"><span class="hljs-keyword">use</span> this fire <span class="hljs-keyword">event</span> <span class="hljs-keyword">when</span> you want <span class="hljs-keyword">to</span> <span class="hljs-keyword">close</span> the <span class="hljs-keyword">event</span>

//<span class="hljs-keyword">and</span> put this <span class="hljs-keyword">event</span> listener <span class="hljs-keyword">in</span> above <span class="hljs-keyword">xml</span> <span class="hljs-keyword">file</span> <span class="hljs-keyword">name</span><span class="hljs-string">'s js file.
Ti.App.addEventListener("closeSlider", function(){
    $.winRate.close();
});</span></span>
</code></pre><p>Thanks</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="March 16th 2013, 1:25:26 am">March 16th 2013</span>
								by <span class='authorname'>Jigar Maheshwari</span><br>
								<a class="icon-bg icon-link" href="question/149632/how-to-close-window-when-area-outside-is-touched#answer-258719" rel="permalink">permalink</a>
							</div>

							<h5>4 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>i think you have one problem like how could you know that user touches outside the window?</p>
<p>first, Please try above code snippet.</p>
<p>Thanks</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 16th 2013, 1:28:01 am">March 16th 2013</span>
											by <span class='authorname'>Jigar Maheshwari</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>any luk?</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 16th 2013, 3:08:36 pm">March 16th 2013</span>
											by <span class='authorname'>Jigar Maheshwari</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I added the fireEvent and the eventListener to the controller file (ratingDialog.js). The &quot;closeSlider&quot; event did not get fired even when I opened and closed the window. </p>
<p>Maybe after the slider window has been launched I need to fire an event from the underlying window when it is touched to close the slider window? So basically I would add the eventListener to the callback function that launches the slider window. Then when the slider window is closed remove the eventListener from the underlying window. I will give that a try and get back.</p>
<p>Thanks</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 16th 2013, 7:04:27 pm">March 16th 2013</span>
											by <span class='authorname'>Brian Burns</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I kind of got it working. I added an event listener for the click event on the underlying window to close the slider window. So whenever the underlying window is touched it checks to see if the slider window is opened. If open it closes the slider window. </p>
<p>I have a couple of issues with this approach:</p>
<p>1) Since it is opened on top of a tabGroup object I cannot add an event listener to the tabGroup (due to a bug in tabGroup). So I have to add the event listener to each window in the tabGroup. This means if the user touches one of the tabs it will not close the slider window.</p>
<p>2) I am using a navGroup as the primary navigation. I cannot find a way to add a listener to the navGroup so that when the nav bar is touched i can close the slider window.</p>
<p>This is not an acceptable solution. I am still looking for a way to accomplish this behavior. Any ideas or suggestions are welcomed. </p>
<p>Thanks</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 26th 2013, 5:21:46 pm">March 26th 2013</span>
											by <span class='authorname'>Brian Burns</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
