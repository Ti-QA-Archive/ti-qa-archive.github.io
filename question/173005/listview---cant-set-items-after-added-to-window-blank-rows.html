<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>ListView - Cant set items after added to window? Blank rows.. Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>ListView - Cant set items after added to window? Blank rows..</h1>
		</header>
		<section>
			<p>Hello, Im developing for iPhone with latest Ti 3.2.2. I cant get my head around this problem:</p>
<p>In a new window, I just create a ListView, and from within an ajax-call I would like to set the items to the listview (in order to refresh with new items as well, later). The thing is, when I try to do this the listview just gets empty (&quot;blank&quot;) rows inserted with no data&#x2F;views inside (from the templates). I&#39;ve tried alof of different approaches but the one that works is when I create the listview inside the ajax-call, adds the items and then add the ListView to the current window.</p>
<p>I dont get it, is it supposed to be this way? What am I doing wrong? SInce the listView actually adds row (even though they are empty) it&#39;s like it&#39;s a bug somewhere..</p>
<p>some code:</p>
<pre><code class="hljs">    <span class="hljs-keyword">var</span> refreshControl = Ti.UI.createRefreshControl({
        tintColor: <span class="hljs-string">"#FFFFFF"</span>
    });        

    <span class="hljs-keyword">var</span> listView = Ti.UI.createListView({
        top: (map_height + <span class="hljs-number">50</span>),
        left: <span class="hljs-number">0</span>,
        bottom: <span class="hljs-number">0</span>,
        right: <span class="hljs-number">0</span>,
           separatorColor: navbar_color_dark,
        backgroundColor: navbar_color_dark,
        templates: {
            <span class="hljs-keyword">default</span>: placeTemplate,
            <span class="hljs-string">'space'</span>: spaceRow,
        },
        defaultItemTemplate: <span class="hljs-string">'default'</span>,
        refreshControl: refreshControl
    });    

    Ti.UI.currentWindow.add(listView);

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ajax</span><span class="hljs-params">()</span>
    </span>{
        <span class="hljs-comment">// Doin ajax-call</span>
        <span class="hljs-keyword">var</span> list_data    = [];

        <span class="hljs-comment">/* Insert each menu-item to the menu */</span>
        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> key <span class="hljs-keyword">in</span> places)
        {
            <span class="hljs-keyword">var</span> place = places[key];

            list_data.push(
            {
                properties: { place_id: place[<span class="hljs-string">'id'</span>], place: place },
                name: { text: place[<span class="hljs-string">'name'</span>] },
                distance: { text: place[<span class="hljs-string">'distance'</span>] + <span class="hljs-string">"m"</span> },
                image: { image: getImage(<span class="hljs-string">"places/"</span> + place[<span class="hljs-string">'image'</span>], { width: <span class="hljs-number">100</span>, height: <span class="hljs-number">100</span> }) }
            });
        }

        list_data.push({ template: <span class="hljs-string">'space'</span> });

        listView.sections = [Ti.UI.createListSection({ items: list_data })];    
    }
</code></pre><p>As I stated earlier, when I create the listview inside the ajax-call and sets the sections directly in the &quot;creating&quot; of the listview, it works. But when I try to use &quot;listView.sections = blabla&quot; it doesnt..</p>
<p>Anyone who might have a clue what Im doing wrong here?</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="April 24th 2014, 4:51:42 am">April 24th 2014</span>
				by <span class='authorname'>Mathew Oakleaf</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>blank</span></li>
					
						<li><span class='tagname'>empty</span></li>
					
						<li><span class='tagname'>iphone</span></li>
					
						<li><span class='tagname'>listview</span></li>
					
						<li><span class='tagname'>row</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>0</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>0 Answers</h3>

	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
