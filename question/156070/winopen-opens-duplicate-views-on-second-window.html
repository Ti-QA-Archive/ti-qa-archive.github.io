<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>win.open Opens Duplicate Views on Second Window Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>win.open Opens Duplicate Views on Second Window</h1>
		</header>
		<section>
			<p>I am new to Titanium, but find it a quick study. I have a very basic app which has 2 Windows, each have their own .js and views, labels etc.. I am able to successfully open Win2 from Win1 via a button, but if I click back from Win2 to Win1, then hit the button again, Win2 opens and all of the views, objects are duplicated and overlay-ed. Totally confused at what I am doing wrong here. I even tried putting a button on Win2 with Ti.UI.currentWindow.close(). That dosent see to kill this Win2 so if I flip back and forth, still duplicated.</p>
<p>Running Windows Vista, Building for Android</p>
<p>Here are a few pieces of my code, winHome is win1, winToday is win2</p>
<p>app.js<br>        &#x2F;&#x2F;Root Window<br>    var winHome = Titanium.UI.createWindow({<br>        backgroundColor:&#39;#000000&#39;,<br>        exitOnClose: true<br>    });    </p>
<pre><code class="hljs"><span class="hljs-comment">//Window for Meal Today</span>
<span class="hljs-keyword">var</span> winToday = Ti.UI.createWindow({
    url: <span class="hljs-string">"mealtoday.js"</span>
    <span class="hljs-comment">//fullscreen: false</span>
});

    btnToday.addEventListener(<span class="hljs-string">"click"</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span></span>{
    winToday.open();
});
</code></pre>
		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="August 16th 2013, 11:35:24 pm">August 16th 2013</span>
				by <span class='authorname'>Brett Moyer</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>duplicate objects</span></li>
					
						<li><span class='tagname'>win.open</span></li>
					
				</ul>
			

			<section>
				<h5>5 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Hello,</p>
<p>winToday is never released after you close it with android back button. </p>
<p>You should check &quot;if winToday exists, just open it, otherwise, create it&quot;.</p>
<p>Best,</p>
<p>Mauro</p>
</div>
							<div class="author">
								&mdash; commented <span title="August 17th 2013, 12:01:09 am">August 17th 2013</span>
								by <span class='authorname'>Mauro Parra</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>You have provided way too little code to see what is going on, we enough just enough to be able to repeat to problem (NOT all your code).</p>
</div>
							<div class="author">
								&mdash; commented <span title="August 17th 2013, 9:49:47 am">August 17th 2013</span>
								by <span class='authorname'>Malcolm Hollingsworth</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Quick tip; When you add code snippets or logs always add 3 <strong>~</strong> on a blank line above your code and another 3 <strong>~</strong> below you code on another blank line - you will see the difference when you preview the comment. (you are not being told off)</p>
<p>Inserted code should look like;</p>
<pre><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">something</span><span class="hljs-params">(obj)</span> </span>{
    <span class="hljs-comment">// do something</span>
}
alert(<span class="hljs-string">'Hello'</span>);
</code></pre></div>
							<div class="author">
								&mdash; commented <span title="August 17th 2013, 9:50:01 am">August 17th 2013</span>
								by <span class='authorname'>Malcolm Hollingsworth</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Here is all my code, no problem. :) Thanks<br>App.js</p>
<pre><code class="hljs">    Ti.include(<span class="hljs-string">"toolbar.js"</span>);

<span class="hljs-comment">//------------------------------------------------------</span>
<span class="hljs-comment">//Start Basic Window Model</span>
<span class="hljs-comment">//------------------------------------------------------</span>
    <span class="hljs-comment">//Root Window</span>
    var winHome = Titanium.UI.createWindow({  
        backgroundColor:<span class="hljs-string">'#000000'</span>,
        exitOnClose: <span class="hljs-keyword">true</span>
    });    

    <span class="hljs-comment">//Window for Meal Today</span>
    var winToday = Ti.UI.createWindow({
        url: <span class="hljs-string">"mealtoday.js"</span>
        <span class="hljs-comment">//fullscreen: false</span>
    });

    <span class="hljs-comment">// draw the gridlines first so your other elements stack on top of them</span>
    <span class="hljs-comment">// without requiring you to set the z-index property of each</span>
    <span class="hljs-comment">///var grid = require('gridlines');</span>
    <span class="hljs-comment">//grid.drawgrid(10,win,'#cccccc');</span>
<span class="hljs-comment">//------------------------------------------------------</span>
<span class="hljs-comment">//End Basic Window Model</span>
<span class="hljs-comment">//------------------------------------------------------</span>

    <span class="hljs-comment">//Master ContainerView for all Views on this Window</span>
    var viewMaster = Ti.UI.createScrollView({
        layout: <span class="hljs-string">"vertical"</span>,
        contentWidth: <span class="hljs-string">'auto'</span>,
        contentHeight: <span class="hljs-string">'auto'</span>,
        showVerticalScrollIndicator: <span class="hljs-keyword">false</span>,
        <span class="hljs-variable">height</span>: <span class="hljs-string">'100%'</span>,
        <span class="hljs-variable">width</span>: <span class="hljs-string">'100%'</span>        
    });

<span class="hljs-comment">//------------------------------------------------------</span>
<span class="hljs-comment">//Start Today View</span>
<span class="hljs-comment">//------------------------------------------------------</span>
    var viewToday = Ti.UI.createView({
        backgroundColor: <span class="hljs-string">'yellow'</span>,
        <span class="hljs-variable">height</span>: Ti.UI.SIZE,
        layout: <span class="hljs-string">"horizontal"</span>,
        borderColor: <span class="hljs-string">'blue'</span>,
        borderRadius: <span class="hljs-number">5</span>,
        borderWidth: <span class="hljs-number">1</span>
    });

    var viewTodayStripe = Ti.UI.createView({
        <span class="hljs-comment">//backgroundColor: 'red',</span>
        <span class="hljs-variable">height</span>: <span class="hljs-number">25</span>        
    });    

    <span class="hljs-comment">//Table Title Label</span>
    var labelTitle = Ti.UI.createLabel({
        <span class="hljs-built_in">text</span>: <span class="hljs-string">"Today's Meals"</span>,
        verticalAlign: Ti.UI.TEXT_VERTICAL_ALIGNMENT_CENTER,
        <span class="hljs-variable">width</span>: <span class="hljs-string">"50%"</span>
    });

    <span class="hljs-comment">//Table Title Date Label</span>
    var labelTitleDate = Ti.UI.createLabel({
        <span class="hljs-built_in">text</span>: <span class="hljs-string">"8/14/2013"</span>,
        verticalAlign: Ti.UI.TEXT_VERTICAL_ALIGNMENT_CENTER,
        <span class="hljs-variable">width</span>: <span class="hljs-string">"50%"</span>
    });

    <span class="hljs-comment">//Add Objects to View</span>
    viewToday.<span class="hljs-built_in">add</span>(viewTodayStripe);
    viewToday.<span class="hljs-built_in">add</span>(labelTitle);
    viewToday.<span class="hljs-built_in">add</span>(labelTitleDate);

<span class="hljs-comment">//------------------------------------------------------</span>
<span class="hljs-comment">//End Today View</span>
<span class="hljs-comment">//------------------------------------------------------</span>


<span class="hljs-comment">//------------------------------------------------------</span>
<span class="hljs-comment">//Start Today Table View</span>
<span class="hljs-comment">//------------------------------------------------------</span>
    var viewTodayTable = Ti.UI.createView({
        <span class="hljs-comment">//backgroundColor: 'yellow',</span>
        <span class="hljs-variable">height</span>: <span class="hljs-string">"50%"</span>,        
        <span class="hljs-comment">/*borderColor: 'blue',
        borderRadius: 5,
        borderWidth: 1*/</span>
    });

    var sectionBreakfast = Ti.UI.createTableViewSection({headerTitle: <span class="hljs-string">'Breakfast'</span>});
        sectionBreakfast.<span class="hljs-built_in">add</span>(Ti.UI.createTableViewRow({title: <span class="hljs-string">'Apples'</span>}));

    var sectionLunch = Ti.UI.createTableViewSection({ headerTitle: <span class="hljs-string">'Lunch'</span> });
        sectionLunch.<span class="hljs-built_in">add</span>(Ti.UI.createTableViewRow({ title: <span class="hljs-string">'Carrots'</span> }));

    var sectionDinner = Ti.UI.createTableViewSection({ headerTitle: <span class="hljs-string">'Dinner'</span> });
        sectionDinner.<span class="hljs-built_in">add</span>(Ti.UI.createTableViewRow({ title: <span class="hljs-string">'Carrots and peas and chicken steak with fred beans and patoeaoes.'</span> }));        

    var todayTable = Ti.UI.createTableView({
      <span class="hljs-variable">width</span>: <span class="hljs-string">'90%'</span>,
      <span class="hljs-variable">height</span>: <span class="hljs-string">'90%'</span>,
      <span class="hljs-comment">/*borderColor: 'red',
      borderRadius: 5,
      borderWidth: 1,*/</span>
      data: [sectionBreakfast, sectionLunch, sectionDinner]
    });

    <span class="hljs-comment">//Add Objects to View    </span>
    viewTodayTable.<span class="hljs-built_in">add</span>(todayTable);
<span class="hljs-comment">//------------------------------------------------------</span>
<span class="hljs-comment">//End Today Table View</span>
<span class="hljs-comment">//------------------------------------------------------</span>


<span class="hljs-comment">//------------------------------------------------------</span>
<span class="hljs-comment">//Start WeightType View</span>
<span class="hljs-comment">//------------------------------------------------------</span>

    var viewWeightType = Ti.UI.createView({
        layout: <span class="hljs-string">"horizontal"</span>,
        <span class="hljs-variable">height</span>: Ti.UI.SIZE,
        borderColor: <span class="hljs-string">'yellow'</span>,
        borderRadius: <span class="hljs-number">5</span>,
        borderWidth: <span class="hljs-number">1</span>
    });

    <span class="hljs-comment">//Weight Title Label</span>
    var labelWTWeight = Ti.UI.createLabel({
        <span class="hljs-built_in">text</span>: <span class="hljs-string">"Weight: 245 lbs"</span>,
        <span class="hljs-variable">width</span>: <span class="hljs-string">"50%"</span>
    });

    <span class="hljs-comment">//Type Title Label (Overweight, Obesese, etc...)</span>
    var labelWTType = Ti.UI.createLabel({
        <span class="hljs-built_in">text</span>: <span class="hljs-string">"Type: Overweight"</span>,
        <span class="hljs-variable">width</span>: <span class="hljs-string">"50%"</span>
    });

    <span class="hljs-comment">//Add Objects to View</span>
    viewWeightType.<span class="hljs-built_in">add</span>(labelWTWeight);
    viewWeightType.<span class="hljs-built_in">add</span>(labelWTType);
<span class="hljs-comment">//------------------------------------------------------</span>
<span class="hljs-comment">//End WeightType View</span>
<span class="hljs-comment">//------------------------------------------------------</span>


<span class="hljs-comment">//------------------------------------------------------</span>
<span class="hljs-comment">//Start Divider View</span>
<span class="hljs-comment">//------------------------------------------------------</span>

    var viewTableDivide = Ti.UI.createView({
        backgroundColor: <span class="hljs-string">"#cccccc"</span>,
        <span class="hljs-variable">width</span> : <span class="hljs-string">"90%"</span>,
        <span class="hljs-variable">height</span>: <span class="hljs-number">1</span>,
        top: <span class="hljs-string">"10"</span>,
        bottom: <span class="hljs-string">"10"</span>
    });
<span class="hljs-comment">//------------------------------------------------------</span>
<span class="hljs-comment">//End Divider View</span>
<span class="hljs-comment">//------------------------------------------------------</span>


<span class="hljs-comment">//------------------------------------------------------</span>
<span class="hljs-comment">//Start Home Buttons View</span>
<span class="hljs-comment">//------------------------------------------------------</span>
    var viewHomeControls = Ti.UI.createView({
        <span class="hljs-comment">//backgroundColor: "#cccccc",        </span>
        <span class="hljs-variable">height</span>: Ti.UI.SIZE,
        layout: <span class="hljs-string">"horizontal"</span>        
    });

    var btnWidth = <span class="hljs-number">225</span>;
    var btnHeight = <span class="hljs-number">225</span>;

    var btnToday = Ti.UI.createButton({
        title: <span class="hljs-string">"Meals Today"</span>,
        top: <span class="hljs-number">25</span>,
        right: <span class="hljs-number">25</span>,
        bottom: <span class="hljs-number">12</span>,
        left: <span class="hljs-number">25</span>,
        <span class="hljs-variable">width</span>: btnWidth,
        <span class="hljs-variable">height</span>: btnHeight
    });

    btnToday.addEventListener(<span class="hljs-string">"click"</span>,function(e){
        winToday.<span class="hljs-built_in">open</span>();
    });

    var btnHistory = Ti.UI.createButton({
        title: <span class="hljs-string">"Meal History"</span>,
        top: <span class="hljs-number">25</span>,
        right: <span class="hljs-number">25</span>,
        bottom: <span class="hljs-number">12</span>,
        left: <span class="hljs-number">25</span>,
        <span class="hljs-variable">width</span>: btnWidth,
        <span class="hljs-variable">height</span>: btnHeight
    });    

    var btnExport = Ti.UI.createButton({
        title: <span class="hljs-string">"Export History"</span>,
        top: <span class="hljs-number">25</span>,
        right: <span class="hljs-number">25</span>,
        bottom: <span class="hljs-number">12</span>,
        left: <span class="hljs-number">25</span>,
        <span class="hljs-variable">width</span>: btnWidth,
        <span class="hljs-variable">height</span>: btnHeight
    });

    var btnExit = Ti.UI.createButton({
        title: <span class="hljs-string">"Exit Meals"</span>,
        top: <span class="hljs-number">25</span>,
        right: <span class="hljs-number">25</span>,
        bottom: <span class="hljs-number">12</span>,
        left: <span class="hljs-number">25</span>,
        <span class="hljs-variable">width</span>: btnWidth,
        <span class="hljs-variable">height</span>: btnHeight
    });

    <span class="hljs-comment">//Add Objects to View</span>
    viewHomeControls.<span class="hljs-built_in">add</span>(btnToday);
    viewHomeControls.<span class="hljs-built_in">add</span>(btnHistory);
    viewHomeControls.<span class="hljs-built_in">add</span>(btnExport);
    viewHomeControls.<span class="hljs-built_in">add</span>(btnExit);
<span class="hljs-comment">//------------------------------------------------------</span>
<span class="hljs-comment">//End Home Buttons View</span>
<span class="hljs-comment">//------------------------------------------------------</span>

    <span class="hljs-comment">//All Views to ContainerView</span>
    viewMaster.<span class="hljs-built_in">add</span>(viewToolbar);
    viewMaster.<span class="hljs-built_in">add</span>(viewToday);
    viewMaster.<span class="hljs-built_in">add</span>(viewTodayTable);
    viewMaster.<span class="hljs-built_in">add</span>(viewWeightType);
    viewMaster.<span class="hljs-built_in">add</span>(viewTableDivide);
    viewMaster.<span class="hljs-built_in">add</span>(viewHomeControls);

<span class="hljs-comment">//Add ContainerView to Window</span>
    winHome.<span class="hljs-built_in">add</span>(viewMaster);

<span class="hljs-comment">//Open the Window, Run the application</span>
    winHome.<span class="hljs-built_in">open</span>();
</code></pre><p>mealstoday.js</p>
<pre><code class="hljs">    Ti.include(<span class="hljs-string">"toolbar.js"</span>);

    <span class="hljs-comment">//Master ContainerView for all Views on this Window</span>
    var viewMaster = Ti.UI.createScrollView({
        layout: <span class="hljs-string">"vertical"</span>,
        contentWidth: <span class="hljs-string">'auto'</span>,
        contentHeight: <span class="hljs-string">'auto'</span>,
        showVerticalScrollIndicator: <span class="hljs-keyword">false</span>,
        <span class="hljs-variable">height</span>: <span class="hljs-string">'100%'</span>,
        <span class="hljs-variable">width</span>: <span class="hljs-string">'100%'</span>        
    });


<span class="hljs-comment">//------------------------------------------------------</span>
<span class="hljs-comment">//Start DateTime View</span>
<span class="hljs-comment">//------------------------------------------------------</span>
    var viewDateTime = Ti.UI.createView({
        <span class="hljs-variable">height</span>: Ti.UI.SIZE,
        layout: <span class="hljs-string">"horizontal"</span>        
    });

    <span class="hljs-comment">//DateTime Date Label</span>
    var labelDateTime = Ti.UI.createLabel({
        <span class="hljs-built_in">text</span>: <span class="hljs-string">"08/12/2013 8:32 PM"</span>,
        <span class="hljs-variable">width</span>: <span class="hljs-string">"75%"</span>
    });

    <span class="hljs-comment">//DateTime Change Button</span>
    var buttonDTChange = Ti.UI.createButton({
        title: <span class="hljs-string">"Change"</span>
    });

    <span class="hljs-comment">//Add Objects to View</span>
    viewDateTime.<span class="hljs-built_in">add</span>(labelDateTime);
    viewDateTime.<span class="hljs-built_in">add</span>(buttonDTChange);

<span class="hljs-comment">//------------------------------------------------------</span>
<span class="hljs-comment">//End Today View</span>
<span class="hljs-comment">//------------------------------------------------------</span>


<span class="hljs-comment">//------------------------------------------------------</span>
<span class="hljs-comment">//Start Meal Editor View</span>
<span class="hljs-comment">//------------------------------------------------------</span>
    var viewMealEditor = Ti.UI.createScrollView({
        <span class="hljs-variable">height</span>: Ti.UI.SIZE,
        layout: <span class="hljs-string">"vertical"</span>        
    });

    <span class="hljs-comment">//Breakfast Label</span>
    var labelBreakfast = Ti.UI.createLabel({
        <span class="hljs-built_in">text</span>: <span class="hljs-string">"Breakfast:"</span>,
        <span class="hljs-variable">width</span>: <span class="hljs-string">"90%"</span>,
        borderColor: <span class="hljs-string">'blue'</span>,
        borderRadius: <span class="hljs-number">5</span>,
        borderWidth: <span class="hljs-number">1</span>
    });

    <span class="hljs-comment">//Breakfast Textarea</span>
    var txtareaBreakfast = Ti.UI.createTextArea({
        <span class="hljs-variable">height</span> : <span class="hljs-number">300</span>,
        <span class="hljs-variable">width</span> : <span class="hljs-string">"90%"</span>,
        hintText : <span class="hljs-string">'What I ate for Breakfast'</span>,
        borderWidth: <span class="hljs-number">1</span>
    });    

    <span class="hljs-comment">//Lunch Label</span>
    var labelLunch = Ti.UI.createLabel({
        <span class="hljs-built_in">text</span>: <span class="hljs-string">"Lunch:"</span>,
        <span class="hljs-variable">width</span>: <span class="hljs-string">"90%"</span>,
        borderColor: <span class="hljs-string">'red'</span>,
        borderRadius: <span class="hljs-number">5</span>,
        borderWidth: <span class="hljs-number">1</span>
    });

    <span class="hljs-comment">//Lunch Textarea</span>
    var txtareaLunch = Ti.UI.createTextArea({
        <span class="hljs-variable">height</span> : <span class="hljs-number">300</span>,
        <span class="hljs-variable">width</span> : <span class="hljs-string">"90%"</span>,
        hintText : <span class="hljs-string">'What I ate for Lunch'</span>,
        borderWidth: <span class="hljs-number">1</span>
    });

    <span class="hljs-comment">//Dinner Label</span>
    var labelDinner = Ti.UI.createLabel({
        <span class="hljs-built_in">text</span>: <span class="hljs-string">"Dinner:"</span>,
        <span class="hljs-variable">width</span>: <span class="hljs-string">"90%"</span>,
        borderColor: <span class="hljs-string">'red'</span>,
        borderRadius: <span class="hljs-number">5</span>,
        borderWidth: <span class="hljs-number">1</span>
    });

    <span class="hljs-comment">//Dinner Textarea</span>
    var txtareaDinner = Ti.UI.createTextArea({
        <span class="hljs-variable">height</span> : <span class="hljs-number">300</span>,
        <span class="hljs-variable">width</span> : <span class="hljs-string">"90%"</span>,
        hintText : <span class="hljs-string">'What I ate for Dinner'</span>,
        borderWidth: <span class="hljs-number">1</span>
    });

    <span class="hljs-comment">//Snacks Label</span>
    var labelSnacks = Ti.UI.createLabel({
        <span class="hljs-built_in">text</span>: <span class="hljs-string">"Snacks:"</span>,
        <span class="hljs-variable">width</span>: <span class="hljs-string">"90%"</span>,
        borderColor: <span class="hljs-string">'red'</span>,
        borderRadius: <span class="hljs-number">5</span>,
        borderWidth: <span class="hljs-number">1</span>
    });

    <span class="hljs-comment">//Snacks Textarea</span>
    var txtareaSnacks = Ti.UI.createTextArea({
        <span class="hljs-variable">height</span> : <span class="hljs-number">300</span>,
        <span class="hljs-variable">width</span> : <span class="hljs-string">"90%"</span>,
        hintText : <span class="hljs-string">'What I ate for Snacks'</span>,
        borderWidth: <span class="hljs-number">1</span>
    });

    <span class="hljs-comment">//Dessert Label</span>
    var labelDessert = Ti.UI.createLabel({
        <span class="hljs-built_in">text</span>: <span class="hljs-string">"Dessert:"</span>,
        <span class="hljs-variable">width</span>: <span class="hljs-string">"90%"</span>,
        borderColor: <span class="hljs-string">'red'</span>,
        borderRadius: <span class="hljs-number">5</span>,
        borderWidth: <span class="hljs-number">1</span>
    });

    <span class="hljs-comment">//Dessert Textarea</span>
    var txtareaDessert = Ti.UI.createTextArea({
        <span class="hljs-variable">height</span> : <span class="hljs-number">300</span>,
        <span class="hljs-variable">width</span> : <span class="hljs-string">"90%"</span>,
        hintText : <span class="hljs-string">'What I ate for Dessert'</span>,
        borderWidth: <span class="hljs-number">1</span>
    });

    <span class="hljs-comment">//Drinks Label</span>
    var labelDrinks = Ti.UI.createLabel({
        <span class="hljs-built_in">text</span>: <span class="hljs-string">"Drinks:"</span>,
        <span class="hljs-variable">width</span>: <span class="hljs-string">"90%"</span>,
        borderColor: <span class="hljs-string">'red'</span>,
        borderRadius: <span class="hljs-number">5</span>,
        borderWidth: <span class="hljs-number">1</span>
    });

    <span class="hljs-comment">//Drinks Textarea</span>
    var txtareaDrinks = Ti.UI.createTextArea({
        <span class="hljs-variable">height</span> : <span class="hljs-number">300</span>,
        <span class="hljs-variable">width</span> : <span class="hljs-string">"90%"</span>,
        hintText : <span class="hljs-string">'What I ate for Drinks'</span>,
        borderWidth: <span class="hljs-number">1</span>
    });

    var viewEditorControls = Ti.UI.createView({
        <span class="hljs-variable">height</span>: Ti.UI.SIZE,
        layout: <span class="hljs-string">"horizontal"</span>        
    });

    <span class="hljs-comment">//DateTime Change Button</span>
    var buttonCancel = Ti.UI.createButton({
        title: <span class="hljs-string">"Cancel"</span>
    });

    <span class="hljs-comment">//DateTime Change Button</span>
    var buttonSave = Ti.UI.createButton({
        title: <span class="hljs-string">"Save"</span>
    });

    viewEditorControls.<span class="hljs-built_in">add</span>(buttonCancel);
    viewEditorControls.<span class="hljs-built_in">add</span>(buttonSave);    

    <span class="hljs-comment">//Add Objects to View</span>
    viewMealEditor.<span class="hljs-built_in">add</span>(labelBreakfast);
    viewMealEditor.<span class="hljs-built_in">add</span>(txtareaBreakfast);
    viewMealEditor.<span class="hljs-built_in">add</span>(labelLunch);
    viewMealEditor.<span class="hljs-built_in">add</span>(txtareaLunch);
    viewMealEditor.<span class="hljs-built_in">add</span>(labelDinner);
    viewMealEditor.<span class="hljs-built_in">add</span>(txtareaDinner);
    viewMealEditor.<span class="hljs-built_in">add</span>(labelSnacks);
    viewMealEditor.<span class="hljs-built_in">add</span>(txtareaSnacks);
    viewMealEditor.<span class="hljs-built_in">add</span>(labelDessert);
    viewMealEditor.<span class="hljs-built_in">add</span>(txtareaDessert);
    viewMealEditor.<span class="hljs-built_in">add</span>(labelDrinks);
    viewMealEditor.<span class="hljs-built_in">add</span>(txtareaDrinks);
    viewMealEditor.<span class="hljs-built_in">add</span>(viewEditorControls);

<span class="hljs-comment">//------------------------------------------------------</span>
<span class="hljs-comment">//End Today View</span>
<span class="hljs-comment">//------------------------------------------------------</span>

viewMaster.<span class="hljs-built_in">add</span>(viewToolbar);
viewMaster.<span class="hljs-built_in">add</span>(viewDateTime);
viewMaster.<span class="hljs-built_in">add</span>(viewMealEditor);

Ti.UI.currentWindow.<span class="hljs-built_in">add</span>(viewMaster);
</code></pre></div>
							<div class="author">
								&mdash; commented <span title="August 17th 2013, 1:32:18 pm">August 17th 2013</span>
								by <span class='authorname'>Brett Moyer</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>test</p>
</div>
							<div class="author">
								&mdash; commented <span title="August 17th 2013, 5:31:23 pm">August 17th 2013</span>
								by <span class='authorname'>Brett Moyer</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-267329">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>Hi</p>
<p>You are getting a bit confused - so I am going to start you back with a better starting point, you can add your views to the windows as you need using the code I have provided below;</p>
<p>These are all example files, I suggest you create a new classic default app and then use this code in that app to you can test the process without ruining your own code before you have had chance to move it.</p>
<p><strong>app.js</strong></p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> win = <span class="hljs-keyword">require</span>(<span class="hljs-string">'main'</span>).<span class="hljs-keyword">create</span>();
win.open();
</code></pre><p><strong>main.js</strong></p>
<pre><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">create</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> win = Ti.UI.createWindow({
        backgroundColor: <span class="hljs-string">'#fff'</span>,
        height: Ti.UI.FILL,
        width: Ti.UI.FILL
    });    
    <span class="hljs-keyword">var</span> btn = Ti.UI.createButton({
        title: <span class="hljs-string">'Main'</span>,
        top: <span class="hljs-number">100</span>
    });
    btn.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) </span>{
        <span class="hljs-keyword">var</span> newWin = <span class="hljs-built_in">require</span>(<span class="hljs-string">'second'</span>).create();
        newWin.open();
    });
    win.add(btn);    
    <span class="hljs-keyword">return</span> win;
}
exports.create = create;
</code></pre><p><strong>second.js</strong></p>
<pre><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">create</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">var</span> win = Ti.UI.createWindow({
        backgroundColor: <span class="hljs-string">'#fff'</span>,
        height: Ti.UI.FILL,
        width: Ti.UI.FILL
    });    
    <span class="hljs-keyword">var</span> btn = Ti.UI.createButton({
        title: <span class="hljs-string">'Close'</span>,
        top: <span class="hljs-number">50</span>
    });
    btn.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(e)</span> </span>{
        win.close();
        win = <span class="hljs-literal">null</span>;
    });
    win.add(btn);    
    <span class="hljs-keyword">return</span> win;
}
exports.create = create;
</code></pre><p>This separates each window into its own CommonJS file, you will see the code should be a little easier to read.  This approach places a single window in each file and then simply calls each one when required.</p>
<p>Using this method makes the <strong>app.js</strong> little more than a stub to start the process off.</p>
<p>This does not answer all questions or problems, but it will help you hang your app on this more easily than using the <strong>url</strong> property of windows.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 17th 2013, 5:56:41 pm">August 17th 2013</span>
								by <span class='authorname'>Malcolm Hollingsworth</span><br>
								<a class="icon-bg icon-link" href="../../question/156070/winopen-opens-duplicate-views-on-second-window.html#answer-267329" rel="permalink">permalink</a>
							</div>

							<h5>6 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Wow that is interesting, I very much like the cleaner setup where all the window code is in same file. So just to understand better, essentially every window is CREATED as its called and &quot;killed&quot; with the close button, Correct? What does win = null do? Stupid Question, I am sure it nulls the variable, but wouldn&#39;t&#x2F;shouldn&#39;t closing it manage that?</p>
<p>Just curious, any idea why my code does the weird duplicate windows?</p>
<p>Thanks so much will do as you say now and get a feel for this code. Thanks!</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 17th 2013, 6:18:28 pm">August 17th 2013</span>
											by <span class='authorname'>Brett Moyer</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Firstly - Happy to help, &quot;been there and done that&quot; so to speak.</p>
<p>Answers to the questions;</p>
<ul>
<li><strong>created and then killed</strong>; in short yes, the idea here is you create a window per file (you can do more but learn to walk first) and then when that window is finished with, simply close it</li>
<li><strong>win = null</strong>; this nullifies the win variable and things associated to (not everything - but that is a lesson for another day)</li>
<li><strong>why did my code duplicate things</strong>; this is because of how and where you defined the window, as the window reference in the main file was still in scope the second time it was added to</li>
</ul>
<p>Due to the separation of code I provided the duplication will not appear again because the scope of one window is very distinct from the others.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 17th 2013, 6:52:58 pm">August 17th 2013</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Thank you Malcolm this works, but have one question left. When I click back on Android the app closes, I tried adding exitOnClose as False in the second and True in the first, but on the second window it still closes app, What is not right here? Thanks Again.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 18th 2013, 4:51:53 pm">August 18th 2013</span>
											by <span class='authorname'>Brett Moyer</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>This is called a Gotcha (unless you like swearing - I do but not here).</p>
<p>Android and the back button have a special relationship, one not worth fully explaining here because it will cause you to get more confused and to be honest me a little confused as well (event the most seasoned of us still have moments with Android).</p>
<p>The shortest answer and the one you need right now is add the property <strong>fullscreen: false</strong> to each of the windows.  This will trigger the transformation from t a lightweight window (which they are right now) to a heavyweight window (the back buttons comes into play).</p>
<p>The difference right now, one works the other does not.  The very short reason is the back button interacts with heavyweight windows and not lightweight ones, so we make the windows heavyweight.</p>
<p>Then set the <strong>exitOnClose</strong> to true for the main window (and any others that might trigger the closure - it will happen at some point for you) and false for all the others.</p>
<p>Setting <strong>fullscreen</strong> to false will not change the appearance of your app but will get it to do what you want.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 18th 2013, 5:06:25 pm">August 18th 2013</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Excellent, thank you you have been very helpful. I have read about light&#x2F;heavyweight windows so I follow you to a degree. Thanks againâ¦.whats your number so if I have any other questions :) j&#x2F;k</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 18th 2013, 5:17:21 pm">August 18th 2013</span>
											by <span class='authorname'>Brett Moyer</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I am usually around here - do not worry.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 18th 2013, 5:23:42 pm">August 18th 2013</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-267328">
				
						<section>
							<p>Here is all my code, no problem. :) Thanks App.js</p>
<pre><code class="hljs">    Ti.include(<span class="hljs-string">"toolbar.js"</span>);

<span class="hljs-comment">//------------------------------------------------------</span>
<span class="hljs-comment">//Start Basic Window Model</span>
<span class="hljs-comment">//------------------------------------------------------</span>
    <span class="hljs-comment">//Root Window</span>
    var winHome = Titanium.UI.createWindow({  
        backgroundColor:<span class="hljs-string">'#000000'</span>,
        exitOnClose: <span class="hljs-keyword">true</span>
    });    

    <span class="hljs-comment">//Window for Meal Today</span>
    var winToday = Ti.UI.createWindow({
        url: <span class="hljs-string">"mealtoday.js"</span>
        <span class="hljs-comment">//fullscreen: false</span>
    });

    <span class="hljs-comment">// draw the gridlines first so your other elements stack on top of them</span>
    <span class="hljs-comment">// without requiring you to set the z-index property of each</span>
    <span class="hljs-comment">///var grid = require('gridlines');</span>
    <span class="hljs-comment">//grid.drawgrid(10,win,'#cccccc');</span>
<span class="hljs-comment">//------------------------------------------------------</span>
<span class="hljs-comment">//End Basic Window Model</span>
<span class="hljs-comment">//------------------------------------------------------</span>

    <span class="hljs-comment">//Master ContainerView for all Views on this Window</span>
    var viewMaster = Ti.UI.createScrollView({
        layout: <span class="hljs-string">"vertical"</span>,
        contentWidth: <span class="hljs-string">'auto'</span>,
        contentHeight: <span class="hljs-string">'auto'</span>,
        showVerticalScrollIndicator: <span class="hljs-keyword">false</span>,
        <span class="hljs-variable">height</span>: <span class="hljs-string">'100%'</span>,
        <span class="hljs-variable">width</span>: <span class="hljs-string">'100%'</span>        
    });

<span class="hljs-comment">//------------------------------------------------------</span>
<span class="hljs-comment">//Start Today View</span>
<span class="hljs-comment">//------------------------------------------------------</span>
    var viewToday = Ti.UI.createView({
        backgroundColor: <span class="hljs-string">'yellow'</span>,
        <span class="hljs-variable">height</span>: Ti.UI.SIZE,
        layout: <span class="hljs-string">"horizontal"</span>,
        borderColor: <span class="hljs-string">'blue'</span>,
        borderRadius: <span class="hljs-number">5</span>,
        borderWidth: <span class="hljs-number">1</span>
    });

    var viewTodayStripe = Ti.UI.createView({
        <span class="hljs-comment">//backgroundColor: 'red',</span>
        <span class="hljs-variable">height</span>: <span class="hljs-number">25</span>        
    });    

    <span class="hljs-comment">//Table Title Label</span>
    var labelTitle = Ti.UI.createLabel({
        <span class="hljs-built_in">text</span>: <span class="hljs-string">"Today's Meals"</span>,
        verticalAlign: Ti.UI.TEXT_VERTICAL_ALIGNMENT_CENTER,
        <span class="hljs-variable">width</span>: <span class="hljs-string">"50%"</span>
    });

    <span class="hljs-comment">//Table Title Date Label</span>
    var labelTitleDate = Ti.UI.createLabel({
        <span class="hljs-built_in">text</span>: <span class="hljs-string">"8/14/2013"</span>,
        verticalAlign: Ti.UI.TEXT_VERTICAL_ALIGNMENT_CENTER,
        <span class="hljs-variable">width</span>: <span class="hljs-string">"50%"</span>
    });

    <span class="hljs-comment">//Add Objects to View</span>
    viewToday.<span class="hljs-built_in">add</span>(viewTodayStripe);
    viewToday.<span class="hljs-built_in">add</span>(labelTitle);
    viewToday.<span class="hljs-built_in">add</span>(labelTitleDate);

<span class="hljs-comment">//------------------------------------------------------</span>
<span class="hljs-comment">//End Today View</span>
<span class="hljs-comment">//------------------------------------------------------</span>


<span class="hljs-comment">//------------------------------------------------------</span>
<span class="hljs-comment">//Start Today Table View</span>
<span class="hljs-comment">//------------------------------------------------------</span>
    var viewTodayTable = Ti.UI.createView({
        <span class="hljs-comment">//backgroundColor: 'yellow',</span>
        <span class="hljs-variable">height</span>: <span class="hljs-string">"50%"</span>,        
        <span class="hljs-comment">/*borderColor: 'blue',
        borderRadius: 5,
        borderWidth: 1*/</span>
    });

    var sectionBreakfast = Ti.UI.createTableViewSection({headerTitle: <span class="hljs-string">'Breakfast'</span>});
        sectionBreakfast.<span class="hljs-built_in">add</span>(Ti.UI.createTableViewRow({title: <span class="hljs-string">'Apples'</span>}));

    var sectionLunch = Ti.UI.createTableViewSection({ headerTitle: <span class="hljs-string">'Lunch'</span> });
        sectionLunch.<span class="hljs-built_in">add</span>(Ti.UI.createTableViewRow({ title: <span class="hljs-string">'Carrots'</span> }));

    var sectionDinner = Ti.UI.createTableViewSection({ headerTitle: <span class="hljs-string">'Dinner'</span> });
        sectionDinner.<span class="hljs-built_in">add</span>(Ti.UI.createTableViewRow({ title: <span class="hljs-string">'Carrots and peas and chicken steak with fred beans and patoeaoes.'</span> }));        

    var todayTable = Ti.UI.createTableView({
      <span class="hljs-variable">width</span>: <span class="hljs-string">'90%'</span>,
      <span class="hljs-variable">height</span>: <span class="hljs-string">'90%'</span>,
      <span class="hljs-comment">/*borderColor: 'red',
      borderRadius: 5,
      borderWidth: 1,*/</span>
      data: [sectionBreakfast, sectionLunch, sectionDinner]
    });

    <span class="hljs-comment">//Add Objects to View    </span>
    viewTodayTable.<span class="hljs-built_in">add</span>(todayTable);
<span class="hljs-comment">//------------------------------------------------------</span>
<span class="hljs-comment">//End Today Table View</span>
<span class="hljs-comment">//------------------------------------------------------</span>


<span class="hljs-comment">//------------------------------------------------------</span>
<span class="hljs-comment">//Start WeightType View</span>
<span class="hljs-comment">//------------------------------------------------------</span>

    var viewWeightType = Ti.UI.createView({
        layout: <span class="hljs-string">"horizontal"</span>,
        <span class="hljs-variable">height</span>: Ti.UI.SIZE,
        borderColor: <span class="hljs-string">'yellow'</span>,
        borderRadius: <span class="hljs-number">5</span>,
        borderWidth: <span class="hljs-number">1</span>
    });

    <span class="hljs-comment">//Weight Title Label</span>
    var labelWTWeight = Ti.UI.createLabel({
        <span class="hljs-built_in">text</span>: <span class="hljs-string">"Weight: 245 lbs"</span>,
        <span class="hljs-variable">width</span>: <span class="hljs-string">"50%"</span>
    });

    <span class="hljs-comment">//Type Title Label (Overweight, Obesese, etc...)</span>
    var labelWTType = Ti.UI.createLabel({
        <span class="hljs-built_in">text</span>: <span class="hljs-string">"Type: Overweight"</span>,
        <span class="hljs-variable">width</span>: <span class="hljs-string">"50%"</span>
    });

    <span class="hljs-comment">//Add Objects to View</span>
    viewWeightType.<span class="hljs-built_in">add</span>(labelWTWeight);
    viewWeightType.<span class="hljs-built_in">add</span>(labelWTType);
<span class="hljs-comment">//------------------------------------------------------</span>
<span class="hljs-comment">//End WeightType View</span>
<span class="hljs-comment">//------------------------------------------------------</span>


<span class="hljs-comment">//------------------------------------------------------</span>
<span class="hljs-comment">//Start Divider View</span>
<span class="hljs-comment">//------------------------------------------------------</span>

    var viewTableDivide = Ti.UI.createView({
        backgroundColor: <span class="hljs-string">"#cccccc"</span>,
        <span class="hljs-variable">width</span> : <span class="hljs-string">"90%"</span>,
        <span class="hljs-variable">height</span>: <span class="hljs-number">1</span>,
        top: <span class="hljs-string">"10"</span>,
        bottom: <span class="hljs-string">"10"</span>
    });
<span class="hljs-comment">//------------------------------------------------------</span>
<span class="hljs-comment">//End Divider View</span>
<span class="hljs-comment">//------------------------------------------------------</span>


<span class="hljs-comment">//------------------------------------------------------</span>
<span class="hljs-comment">//Start Home Buttons View</span>
<span class="hljs-comment">//------------------------------------------------------</span>
    var viewHomeControls = Ti.UI.createView({
        <span class="hljs-comment">//backgroundColor: "#cccccc",        </span>
        <span class="hljs-variable">height</span>: Ti.UI.SIZE,
        layout: <span class="hljs-string">"horizontal"</span>        
    });

    var btnWidth = <span class="hljs-number">225</span>;
    var btnHeight = <span class="hljs-number">225</span>;

    var btnToday = Ti.UI.createButton({
        title: <span class="hljs-string">"Meals Today"</span>,
        top: <span class="hljs-number">25</span>,
        right: <span class="hljs-number">25</span>,
        bottom: <span class="hljs-number">12</span>,
        left: <span class="hljs-number">25</span>,
        <span class="hljs-variable">width</span>: btnWidth,
        <span class="hljs-variable">height</span>: btnHeight
    });

    btnToday.addEventListener(<span class="hljs-string">"click"</span>,function(e){
        winToday.<span class="hljs-built_in">open</span>();
    });

    var btnHistory = Ti.UI.createButton({
        title: <span class="hljs-string">"Meal History"</span>,
        top: <span class="hljs-number">25</span>,
        right: <span class="hljs-number">25</span>,
        bottom: <span class="hljs-number">12</span>,
        left: <span class="hljs-number">25</span>,
        <span class="hljs-variable">width</span>: btnWidth,
        <span class="hljs-variable">height</span>: btnHeight
    });    

    var btnExport = Ti.UI.createButton({
        title: <span class="hljs-string">"Export History"</span>,
        top: <span class="hljs-number">25</span>,
        right: <span class="hljs-number">25</span>,
        bottom: <span class="hljs-number">12</span>,
        left: <span class="hljs-number">25</span>,
        <span class="hljs-variable">width</span>: btnWidth,
        <span class="hljs-variable">height</span>: btnHeight
    });

    var btnExit = Ti.UI.createButton({
        title: <span class="hljs-string">"Exit Meals"</span>,
        top: <span class="hljs-number">25</span>,
        right: <span class="hljs-number">25</span>,
        bottom: <span class="hljs-number">12</span>,
        left: <span class="hljs-number">25</span>,
        <span class="hljs-variable">width</span>: btnWidth,
        <span class="hljs-variable">height</span>: btnHeight
    });

    <span class="hljs-comment">//Add Objects to View</span>
    viewHomeControls.<span class="hljs-built_in">add</span>(btnToday);
    viewHomeControls.<span class="hljs-built_in">add</span>(btnHistory);
    viewHomeControls.<span class="hljs-built_in">add</span>(btnExport);
    viewHomeControls.<span class="hljs-built_in">add</span>(btnExit);
<span class="hljs-comment">//------------------------------------------------------</span>
<span class="hljs-comment">//End Home Buttons View</span>
<span class="hljs-comment">//------------------------------------------------------</span>

    <span class="hljs-comment">//All Views to ContainerView</span>
    viewMaster.<span class="hljs-built_in">add</span>(viewToolbar);
    viewMaster.<span class="hljs-built_in">add</span>(viewToday);
    viewMaster.<span class="hljs-built_in">add</span>(viewTodayTable);
    viewMaster.<span class="hljs-built_in">add</span>(viewWeightType);
    viewMaster.<span class="hljs-built_in">add</span>(viewTableDivide);
    viewMaster.<span class="hljs-built_in">add</span>(viewHomeControls);

<span class="hljs-comment">//Add ContainerView to Window</span>
    winHome.<span class="hljs-built_in">add</span>(viewMaster);

<span class="hljs-comment">//Open the Window, Run the application</span>
    winHome.<span class="hljs-built_in">open</span>();
</code></pre><p>mealtoday.js</p>
<pre><code class="hljs">    Ti.include(<span class="hljs-string">"toolbar.js"</span>);

    <span class="hljs-comment">//Master ContainerView for all Views on this Window</span>
    var viewMaster = Ti.UI.createScrollView({
        layout: <span class="hljs-string">"vertical"</span>,
        contentWidth: <span class="hljs-string">'auto'</span>,
        contentHeight: <span class="hljs-string">'auto'</span>,
        showVerticalScrollIndicator: <span class="hljs-keyword">false</span>,
        <span class="hljs-variable">height</span>: <span class="hljs-string">'100%'</span>,
        <span class="hljs-variable">width</span>: <span class="hljs-string">'100%'</span>        
    });


<span class="hljs-comment">//------------------------------------------------------</span>
<span class="hljs-comment">//Start DateTime View</span>
<span class="hljs-comment">//------------------------------------------------------</span>
    var viewDateTime = Ti.UI.createView({
        <span class="hljs-variable">height</span>: Ti.UI.SIZE,
        layout: <span class="hljs-string">"horizontal"</span>        
    });

    <span class="hljs-comment">//DateTime Date Label</span>
    var labelDateTime = Ti.UI.createLabel({
        <span class="hljs-built_in">text</span>: <span class="hljs-string">"08/12/2013 8:32 PM"</span>,
        <span class="hljs-variable">width</span>: <span class="hljs-string">"75%"</span>
    });

    <span class="hljs-comment">//DateTime Change Button</span>
    var buttonDTChange = Ti.UI.createButton({
        title: <span class="hljs-string">"Change"</span>
    });

    <span class="hljs-comment">//Add Objects to View</span>
    viewDateTime.<span class="hljs-built_in">add</span>(labelDateTime);
    viewDateTime.<span class="hljs-built_in">add</span>(buttonDTChange);

<span class="hljs-comment">//------------------------------------------------------</span>
<span class="hljs-comment">//End Today View</span>
<span class="hljs-comment">//------------------------------------------------------</span>


<span class="hljs-comment">//------------------------------------------------------</span>
<span class="hljs-comment">//Start Meal Editor View</span>
<span class="hljs-comment">//------------------------------------------------------</span>
    var viewMealEditor = Ti.UI.createScrollView({
        <span class="hljs-variable">height</span>: Ti.UI.SIZE,
        layout: <span class="hljs-string">"vertical"</span>        
    });

    <span class="hljs-comment">//Breakfast Label</span>
    var labelBreakfast = Ti.UI.createLabel({
        <span class="hljs-built_in">text</span>: <span class="hljs-string">"Breakfast:"</span>,
        <span class="hljs-variable">width</span>: <span class="hljs-string">"90%"</span>,
        borderColor: <span class="hljs-string">'blue'</span>,
        borderRadius: <span class="hljs-number">5</span>,
        borderWidth: <span class="hljs-number">1</span>
    });

    <span class="hljs-comment">//Breakfast Textarea</span>
    var txtareaBreakfast = Ti.UI.createTextArea({
        <span class="hljs-variable">height</span> : <span class="hljs-number">300</span>,
        <span class="hljs-variable">width</span> : <span class="hljs-string">"90%"</span>,
        hintText : <span class="hljs-string">'What I ate for Breakfast'</span>,
        borderWidth: <span class="hljs-number">1</span>
    });    

    <span class="hljs-comment">//Lunch Label</span>
    var labelLunch = Ti.UI.createLabel({
        <span class="hljs-built_in">text</span>: <span class="hljs-string">"Lunch:"</span>,
        <span class="hljs-variable">width</span>: <span class="hljs-string">"90%"</span>,
        borderColor: <span class="hljs-string">'red'</span>,
        borderRadius: <span class="hljs-number">5</span>,
        borderWidth: <span class="hljs-number">1</span>
    });

    <span class="hljs-comment">//Lunch Textarea</span>
    var txtareaLunch = Ti.UI.createTextArea({
        <span class="hljs-variable">height</span> : <span class="hljs-number">300</span>,
        <span class="hljs-variable">width</span> : <span class="hljs-string">"90%"</span>,
        hintText : <span class="hljs-string">'What I ate for Lunch'</span>,
        borderWidth: <span class="hljs-number">1</span>
    });

    <span class="hljs-comment">//Dinner Label</span>
    var labelDinner = Ti.UI.createLabel({
        <span class="hljs-built_in">text</span>: <span class="hljs-string">"Dinner:"</span>,
        <span class="hljs-variable">width</span>: <span class="hljs-string">"90%"</span>,
        borderColor: <span class="hljs-string">'red'</span>,
        borderRadius: <span class="hljs-number">5</span>,
        borderWidth: <span class="hljs-number">1</span>
    });

    <span class="hljs-comment">//Dinner Textarea</span>
    var txtareaDinner = Ti.UI.createTextArea({
        <span class="hljs-variable">height</span> : <span class="hljs-number">300</span>,
        <span class="hljs-variable">width</span> : <span class="hljs-string">"90%"</span>,
        hintText : <span class="hljs-string">'What I ate for Dinner'</span>,
        borderWidth: <span class="hljs-number">1</span>
    });

    <span class="hljs-comment">//Snacks Label</span>
    var labelSnacks = Ti.UI.createLabel({
        <span class="hljs-built_in">text</span>: <span class="hljs-string">"Snacks:"</span>,
        <span class="hljs-variable">width</span>: <span class="hljs-string">"90%"</span>,
        borderColor: <span class="hljs-string">'red'</span>,
        borderRadius: <span class="hljs-number">5</span>,
        borderWidth: <span class="hljs-number">1</span>
    });

    <span class="hljs-comment">//Snacks Textarea</span>
    var txtareaSnacks = Ti.UI.createTextArea({
        <span class="hljs-variable">height</span> : <span class="hljs-number">300</span>,
        <span class="hljs-variable">width</span> : <span class="hljs-string">"90%"</span>,
        hintText : <span class="hljs-string">'What I ate for Snacks'</span>,
        borderWidth: <span class="hljs-number">1</span>
    });

    <span class="hljs-comment">//Dessert Label</span>
    var labelDessert = Ti.UI.createLabel({
        <span class="hljs-built_in">text</span>: <span class="hljs-string">"Dessert:"</span>,
        <span class="hljs-variable">width</span>: <span class="hljs-string">"90%"</span>,
        borderColor: <span class="hljs-string">'red'</span>,
        borderRadius: <span class="hljs-number">5</span>,
        borderWidth: <span class="hljs-number">1</span>
    });

    <span class="hljs-comment">//Dessert Textarea</span>
    var txtareaDessert = Ti.UI.createTextArea({
        <span class="hljs-variable">height</span> : <span class="hljs-number">300</span>,
        <span class="hljs-variable">width</span> : <span class="hljs-string">"90%"</span>,
        hintText : <span class="hljs-string">'What I ate for Dessert'</span>,
        borderWidth: <span class="hljs-number">1</span>
    });

    <span class="hljs-comment">//Drinks Label</span>
    var labelDrinks = Ti.UI.createLabel({
        <span class="hljs-built_in">text</span>: <span class="hljs-string">"Drinks:"</span>,
        <span class="hljs-variable">width</span>: <span class="hljs-string">"90%"</span>,
        borderColor: <span class="hljs-string">'red'</span>,
        borderRadius: <span class="hljs-number">5</span>,
        borderWidth: <span class="hljs-number">1</span>
    });

    <span class="hljs-comment">//Drinks Textarea</span>
    var txtareaDrinks = Ti.UI.createTextArea({
        <span class="hljs-variable">height</span> : <span class="hljs-number">300</span>,
        <span class="hljs-variable">width</span> : <span class="hljs-string">"90%"</span>,
        hintText : <span class="hljs-string">'What I ate for Drinks'</span>,
        borderWidth: <span class="hljs-number">1</span>
    });

    var viewEditorControls = Ti.UI.createView({
        <span class="hljs-variable">height</span>: Ti.UI.SIZE,
        layout: <span class="hljs-string">"horizontal"</span>        
    });

    <span class="hljs-comment">//DateTime Change Button</span>
    var buttonCancel = Ti.UI.createButton({
        title: <span class="hljs-string">"Cancel"</span>
    });

    <span class="hljs-comment">//DateTime Change Button</span>
    var buttonSave = Ti.UI.createButton({
        title: <span class="hljs-string">"Save"</span>
    });

    viewEditorControls.<span class="hljs-built_in">add</span>(buttonCancel);
    viewEditorControls.<span class="hljs-built_in">add</span>(buttonSave);    

    <span class="hljs-comment">//Add Objects to View</span>
    viewMealEditor.<span class="hljs-built_in">add</span>(labelBreakfast);
    viewMealEditor.<span class="hljs-built_in">add</span>(txtareaBreakfast);
    viewMealEditor.<span class="hljs-built_in">add</span>(labelLunch);
    viewMealEditor.<span class="hljs-built_in">add</span>(txtareaLunch);
    viewMealEditor.<span class="hljs-built_in">add</span>(labelDinner);
    viewMealEditor.<span class="hljs-built_in">add</span>(txtareaDinner);
    viewMealEditor.<span class="hljs-built_in">add</span>(labelSnacks);
    viewMealEditor.<span class="hljs-built_in">add</span>(txtareaSnacks);
    viewMealEditor.<span class="hljs-built_in">add</span>(labelDessert);
    viewMealEditor.<span class="hljs-built_in">add</span>(txtareaDessert);
    viewMealEditor.<span class="hljs-built_in">add</span>(labelDrinks);
    viewMealEditor.<span class="hljs-built_in">add</span>(txtareaDrinks);
    viewMealEditor.<span class="hljs-built_in">add</span>(viewEditorControls);

<span class="hljs-comment">//------------------------------------------------------</span>
<span class="hljs-comment">//End Today View</span>
<span class="hljs-comment">//------------------------------------------------------</span>

viewMaster.<span class="hljs-built_in">add</span>(viewToolbar);
viewMaster.<span class="hljs-built_in">add</span>(viewDateTime);
viewMaster.<span class="hljs-built_in">add</span>(viewMealEditor);

Ti.UI.currentWindow.<span class="hljs-built_in">add</span>(viewMaster);
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 17th 2013, 5:33:21 pm">August 17th 2013</span>
								by <span class='authorname'>Brett Moyer</span><br>
								<a class="icon-bg icon-link" href="../../question/156070/winopen-opens-duplicate-views-on-second-window.html#answer-267328" rel="permalink">permalink</a>
							</div>

							<h5>3 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><pre><code class="hljs">    Ti.include(<span class="hljs-string">"toolbar.js"</span>);

<span class="hljs-comment">//------------------------------------------------------</span>
<span class="hljs-comment">//Start Basic Window Model</span>
<span class="hljs-comment">//------------------------------------------------------</span>
    <span class="hljs-comment">//Root Window</span>
    var winHome = Titanium.UI.createWindow({  
        backgroundColor:<span class="hljs-string">'#000000'</span>,
        exitOnClose: <span class="hljs-keyword">true</span>
    });    

    <span class="hljs-comment">//Window for Meal Today</span>
    var winToday = Ti.UI.createWindow({
        url: <span class="hljs-string">"mealtoday.js"</span>
        <span class="hljs-comment">//fullscreen: false</span>
    });

    <span class="hljs-comment">// draw the gridlines first so your other elements stack on top of them</span>
    <span class="hljs-comment">// without requiring you to set the z-index property of each</span>
    <span class="hljs-comment">///var grid = require('gridlines');</span>
    <span class="hljs-comment">//grid.drawgrid(10,win,'#cccccc');</span>
<span class="hljs-comment">//------------------------------------------------------</span>
<span class="hljs-comment">//End Basic Window Model</span>
<span class="hljs-comment">//------------------------------------------------------</span>

    <span class="hljs-comment">//Master ContainerView for all Views on this Window</span>
    var viewMaster = Ti.UI.createScrollView({
        layout: <span class="hljs-string">"vertical"</span>,
        contentWidth: <span class="hljs-string">'auto'</span>,
        contentHeight: <span class="hljs-string">'auto'</span>,
        showVerticalScrollIndicator: <span class="hljs-keyword">false</span>,
        <span class="hljs-variable">height</span>: <span class="hljs-string">'100%'</span>,
        <span class="hljs-variable">width</span>: <span class="hljs-string">'100%'</span>        
    });

<span class="hljs-comment">//------------------------------------------------------</span>
<span class="hljs-comment">//Start Today View</span>
<span class="hljs-comment">//------------------------------------------------------</span>
    var viewToday = Ti.UI.createView({
        backgroundColor: <span class="hljs-string">'yellow'</span>,
        <span class="hljs-variable">height</span>: Ti.UI.SIZE,
        layout: <span class="hljs-string">"horizontal"</span>,
        borderColor: <span class="hljs-string">'blue'</span>,
        borderRadius: <span class="hljs-number">5</span>,
        borderWidth: <span class="hljs-number">1</span>
    });

    var viewTodayStripe = Ti.UI.createView({
        <span class="hljs-comment">//backgroundColor: 'red',</span>
        <span class="hljs-variable">height</span>: <span class="hljs-number">25</span>        
    });    

    <span class="hljs-comment">//Table Title Label</span>
    var labelTitle = Ti.UI.createLabel({
        <span class="hljs-built_in">text</span>: <span class="hljs-string">"Today's Meals"</span>,
        verticalAlign: Ti.UI.TEXT_VERTICAL_ALIGNMENT_CENTER,
        <span class="hljs-variable">width</span>: <span class="hljs-string">"50%"</span>
    });

    <span class="hljs-comment">//Table Title Date Label</span>
    var labelTitleDate = Ti.UI.createLabel({
        <span class="hljs-built_in">text</span>: <span class="hljs-string">"8/14/2013"</span>,
        verticalAlign: Ti.UI.TEXT_VERTICAL_ALIGNMENT_CENTER,
        <span class="hljs-variable">width</span>: <span class="hljs-string">"50%"</span>
    });

    <span class="hljs-comment">//Add Objects to View</span>
    viewToday.<span class="hljs-built_in">add</span>(viewTodayStripe);
    viewToday.<span class="hljs-built_in">add</span>(labelTitle);
    viewToday.<span class="hljs-built_in">add</span>(labelTitleDate);

<span class="hljs-comment">//------------------------------------------------------</span>
<span class="hljs-comment">//End Today View</span>
<span class="hljs-comment">//------------------------------------------------------</span>


<span class="hljs-comment">//------------------------------------------------------</span>
<span class="hljs-comment">//Start Today Table View</span>
<span class="hljs-comment">//------------------------------------------------------</span>
    var viewTodayTable = Ti.UI.createView({
        <span class="hljs-comment">//backgroundColor: 'yellow',</span>
        <span class="hljs-variable">height</span>: <span class="hljs-string">"50%"</span>,        
        <span class="hljs-comment">/*borderColor: 'blue',
        borderRadius: 5,
        borderWidth: 1*/</span>
    });

    var sectionBreakfast = Ti.UI.createTableViewSection({headerTitle: <span class="hljs-string">'Breakfast'</span>});
        sectionBreakfast.<span class="hljs-built_in">add</span>(Ti.UI.createTableViewRow({title: <span class="hljs-string">'Apples'</span>}));

    var sectionLunch = Ti.UI.createTableViewSection({ headerTitle: <span class="hljs-string">'Lunch'</span> });
        sectionLunch.<span class="hljs-built_in">add</span>(Ti.UI.createTableViewRow({ title: <span class="hljs-string">'Carrots'</span> }));

    var sectionDinner = Ti.UI.createTableViewSection({ headerTitle: <span class="hljs-string">'Dinner'</span> });
        sectionDinner.<span class="hljs-built_in">add</span>(Ti.UI.createTableViewRow({ title: <span class="hljs-string">'Carrots and peas and chicken steak with fred beans and patoeaoes.'</span> }));        

    var todayTable = Ti.UI.createTableView({
      <span class="hljs-variable">width</span>: <span class="hljs-string">'90%'</span>,
      <span class="hljs-variable">height</span>: <span class="hljs-string">'90%'</span>,
      <span class="hljs-comment">/*borderColor: 'red',
      borderRadius: 5,
      borderWidth: 1,*/</span>
      data: [sectionBreakfast, sectionLunch, sectionDinner]
    });

    <span class="hljs-comment">//Add Objects to View    </span>
    viewTodayTable.<span class="hljs-built_in">add</span>(todayTable);
<span class="hljs-comment">//------------------------------------------------------</span>
<span class="hljs-comment">//End Today Table View</span>
<span class="hljs-comment">//------------------------------------------------------</span>


<span class="hljs-comment">//------------------------------------------------------</span>
<span class="hljs-comment">//Start WeightType View</span>
<span class="hljs-comment">//------------------------------------------------------</span>

    var viewWeightType = Ti.UI.createView({
        layout: <span class="hljs-string">"horizontal"</span>,
        <span class="hljs-variable">height</span>: Ti.UI.SIZE,
        borderColor: <span class="hljs-string">'yellow'</span>,
        borderRadius: <span class="hljs-number">5</span>,
        borderWidth: <span class="hljs-number">1</span>
    });

    <span class="hljs-comment">//Weight Title Label</span>
    var labelWTWeight = Ti.UI.createLabel({
        <span class="hljs-built_in">text</span>: <span class="hljs-string">"Weight: 245 lbs"</span>,
        <span class="hljs-variable">width</span>: <span class="hljs-string">"50%"</span>
    });

    <span class="hljs-comment">//Type Title Label (Overweight, Obesese, etc...)</span>
    var labelWTType = Ti.UI.createLabel({
        <span class="hljs-built_in">text</span>: <span class="hljs-string">"Type: Overweight"</span>,
        <span class="hljs-variable">width</span>: <span class="hljs-string">"50%"</span>
    });

    <span class="hljs-comment">//Add Objects to View</span>
    viewWeightType.<span class="hljs-built_in">add</span>(labelWTWeight);
    viewWeightType.<span class="hljs-built_in">add</span>(labelWTType);
<span class="hljs-comment">//------------------------------------------------------</span>
<span class="hljs-comment">//End WeightType View</span>
<span class="hljs-comment">//------------------------------------------------------</span>


<span class="hljs-comment">//------------------------------------------------------</span>
<span class="hljs-comment">//Start Divider View</span>
<span class="hljs-comment">//------------------------------------------------------</span>

    var viewTableDivide = Ti.UI.createView({
        backgroundColor: <span class="hljs-string">"#cccccc"</span>,
        <span class="hljs-variable">width</span> : <span class="hljs-string">"90%"</span>,
        <span class="hljs-variable">height</span>: <span class="hljs-number">1</span>,
        top: <span class="hljs-string">"10"</span>,
        bottom: <span class="hljs-string">"10"</span>
    });
<span class="hljs-comment">//------------------------------------------------------</span>
<span class="hljs-comment">//End Divider View</span>
<span class="hljs-comment">//------------------------------------------------------</span>


<span class="hljs-comment">//------------------------------------------------------</span>
<span class="hljs-comment">//Start Home Buttons View</span>
<span class="hljs-comment">//------------------------------------------------------</span>
    var viewHomeControls = Ti.UI.createView({
        <span class="hljs-comment">//backgroundColor: "#cccccc",        </span>
        <span class="hljs-variable">height</span>: Ti.UI.SIZE,
        layout: <span class="hljs-string">"horizontal"</span>        
    });

    var btnWidth = <span class="hljs-number">225</span>;
    var btnHeight = <span class="hljs-number">225</span>;

    var btnToday = Ti.UI.createButton({
        title: <span class="hljs-string">"Meals Today"</span>,
        top: <span class="hljs-number">25</span>,
        right: <span class="hljs-number">25</span>,
        bottom: <span class="hljs-number">12</span>,
        left: <span class="hljs-number">25</span>,
        <span class="hljs-variable">width</span>: btnWidth,
        <span class="hljs-variable">height</span>: btnHeight
    });

    btnToday.addEventListener(<span class="hljs-string">"click"</span>,function(e){
        winToday.<span class="hljs-built_in">open</span>();
    });

    var btnHistory = Ti.UI.createButton({
        title: <span class="hljs-string">"Meal History"</span>,
        top: <span class="hljs-number">25</span>,
        right: <span class="hljs-number">25</span>,
        bottom: <span class="hljs-number">12</span>,
        left: <span class="hljs-number">25</span>,
        <span class="hljs-variable">width</span>: btnWidth,
        <span class="hljs-variable">height</span>: btnHeight
    });    

    var btnExport = Ti.UI.createButton({
        title: <span class="hljs-string">"Export History"</span>,
        top: <span class="hljs-number">25</span>,
        right: <span class="hljs-number">25</span>,
        bottom: <span class="hljs-number">12</span>,
        left: <span class="hljs-number">25</span>,
        <span class="hljs-variable">width</span>: btnWidth,
        <span class="hljs-variable">height</span>: btnHeight
    });

    var btnExit = Ti.UI.createButton({
        title: <span class="hljs-string">"Exit Meals"</span>,
        top: <span class="hljs-number">25</span>,
        right: <span class="hljs-number">25</span>,
        bottom: <span class="hljs-number">12</span>,
        left: <span class="hljs-number">25</span>,
        <span class="hljs-variable">width</span>: btnWidth,
        <span class="hljs-variable">height</span>: btnHeight
    });

    <span class="hljs-comment">//Add Objects to View</span>
    viewHomeControls.<span class="hljs-built_in">add</span>(btnToday);
    viewHomeControls.<span class="hljs-built_in">add</span>(btnHistory);
    viewHomeControls.<span class="hljs-built_in">add</span>(btnExport);
    viewHomeControls.<span class="hljs-built_in">add</span>(btnExit);
<span class="hljs-comment">//------------------------------------------------------</span>
<span class="hljs-comment">//End Home Buttons View</span>
<span class="hljs-comment">//------------------------------------------------------</span>

    <span class="hljs-comment">//All Views to ContainerView</span>
    viewMaster.<span class="hljs-built_in">add</span>(viewToolbar);
    viewMaster.<span class="hljs-built_in">add</span>(viewToday);
    viewMaster.<span class="hljs-built_in">add</span>(viewTodayTable);
    viewMaster.<span class="hljs-built_in">add</span>(viewWeightType);
    viewMaster.<span class="hljs-built_in">add</span>(viewTableDivide);
    viewMaster.<span class="hljs-built_in">add</span>(viewHomeControls);

<span class="hljs-comment">//Add ContainerView to Window</span>
    winHome.<span class="hljs-built_in">add</span>(viewMaster);

<span class="hljs-comment">//Open the Window, Run the application</span>
    winHome.<span class="hljs-built_in">open</span>();
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="August 17th 2013, 5:34:41 pm">August 17th 2013</span>
											by <span class='authorname'>Brett Moyer</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Please stop adding your code and especially after previewing it realising the code failed to display - but posted it anyway.</p>
<p>Also please do not create a new answer when your contribution is actually a comment - it confuses things in the future when trying to work out relevance.  You are NOT being told off.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 17th 2013, 5:42:04 pm">August 17th 2013</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>sorry, the posting system is confusing.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 17th 2013, 5:46:36 pm">August 17th 2013</span>
											by <span class='authorname'>Brett Moyer</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>-1</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
