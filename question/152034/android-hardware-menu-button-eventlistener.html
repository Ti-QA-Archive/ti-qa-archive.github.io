<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Android hardware Menu button eventlistener. Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Android hardware Menu button eventlistener.</h1>
		</header>
		<section>
			<p>So I have found how to listen for the search button and the back button on an android app however is there can&#39;t find anything on detecting a clicked menu button. Many recent apps have a button for menu on android and apple on the screen and the hardware menu button just opens the same menu. This way you only have to have one menu system for all devices. Is this possible with appcelerator?</p>
<p><code>win.addEventListener(&amp;#39;androidback&amp;#39;,function());</code></p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="May 6th 2013, 3:43:50 pm">May 6th 2013</span>
				by <span class='authorname'>Nate Denlinger</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>eventlistener</span></li>
					
						<li><span class='tagname'>menu</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>3</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>3 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-262225">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>Hi</p>
<p>Can you provide a screen-shot of an app containing this device independent menu button.</p>
<p>There is no common hardware button used on both iPhone and Android.  Unless you are suggesting the physical menu button on Android operates a visual menu on an iPhone app.  If so still need to see a visual of this to see what you mean.</p>
<p>Android does (or least did) have a hardware menu button, devices since Android 3.0 and higher have removed this button in most cases and if it does exist (physically or virtually) it is meant as a compatibility between older apps (pre 3.0) and modern hardware.</p>
<p>Android 4.0 apps are not meant to use a hardware of software (when used in place of hardware) button.</p>
<p>If you are trying to attach event to this older menu button - you can do that, but they are commonly used to add extra items only visible when the button is pressed.</p>
<ul>
<li><a href="http:&#x2F;&#x2F;docs.appcelerator.com&#x2F;titanium&#x2F;latest&#x2F;#!&#x2F;api&#x2F;Titanium.Android.Menu">Titanium Android Menu</a></li>
</ul>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="May 6th 2013, 3:55:35 pm">May 6th 2013</span>
								by <span class='authorname'>Malcolm Hollingsworth</span><br>
								<a class="icon-bg icon-link" href="question/152034/android-hardware-menu-button-eventlistener.html#answer-262225" rel="permalink">permalink</a>
							</div>

							<h5>7 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Here <a href="http:&#x2F;&#x2F;imgur.com&#x2F;exEfCyd">image</a> is a screen shot of what I am talking about. Would like it so that if you click the onscreen menu button or the hardware button, the menu displayed opens, not the Android menu system.</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 6th 2013, 4:02:28 pm">May 6th 2013</span>
											by <span class='authorname'>Nate Denlinger</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Here is a test app (which works), simply create a new default app and replace the contents of <strong>app.js</strong> with the code below;</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> win = Ti.UI.createWindow({
  fullscreen: <span class="hljs-literal">true</span>
});

<span class="hljs-keyword">var</span> activity = win.activity;

activity.onCreateOptionsMenu = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span></span>{
    Ti.API.info(<span class="hljs-string">"onCreateOptionsMenu"</span>);
    <span class="hljs-comment">// this is where you normally create menus</span>
};
activity.onPrepareOptionsMenu = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span> </span>{
    Ti.API.info(<span class="hljs-string">"onPrepareOptionsMenu"</span>);
    <span class="hljs-comment">// this is the event you are lloking for</span>
};
win.open();
</code></pre><p>The important part for you is ;</p>
<pre><code class="hljs">activity.onPrepareOptionsMenu = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span> </span>{
    Ti.API.info(<span class="hljs-string">"onPrepareOptionsMenu"</span>);
    <span class="hljs-comment">// this is the event you are lloking for</span>
};
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="May 6th 2013, 4:26:30 pm">May 6th 2013</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Obviously lloking is a typo = looking</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 6th 2013, 4:27:00 pm">May 6th 2013</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Thanks a ton that works perfectly.</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 6th 2013, 4:37:51 pm">May 6th 2013</span>
											by <span class='authorname'>Nate Denlinger</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Happy to help</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 6th 2013, 5:07:51 pm">May 6th 2013</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I am using the action bar and onPrepareOptionsMenu is never called. Well, on the emulator it is, but not on my real device (Samsung Galaxy S3). Any solution here to detect the menu button click? I want to show a custom slide menu on click instead of the regular menu options. As seen in popular apps like Wunderlist or Badoo.</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 9th 2013, 2:31:07 am">November 9th 2013</span>
											by <span class='authorname'>Danny Pham</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>@Malcolm Hollingsworth this is not working for me. Has something changed in the SDKs that this no longer works</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 26th 2013, 11:05:23 am">November 26th 2013</span>
											by <span class='authorname'>user 4683</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>3</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-262226">
				
						<section>
							<p>Here <a href="http:&#x2F;&#x2F;imgur.com&#x2F;exEfCyd">image</a> is a screen shot of what I am talking about. Would like it so that if you click the onscreen menu button or the hardware button, the menu displayed opens, not the Android menu system.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="May 6th 2013, 4:01:29 pm">May 6th 2013</span>
								by <span class='authorname'>Nate Denlinger</span><br>
								<a class="icon-bg icon-link" href="question/152034/android-hardware-menu-button-eventlistener.html#answer-262226" rel="permalink">permalink</a>
							</div>

							<h5>2 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>You beat me to asking you to commenting on answers - well done ;-)</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 6th 2013, 4:07:41 pm">May 6th 2013</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Yeah did it as an answer on accident and you can&#39;t delete it.</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 6th 2013, 4:14:08 pm">May 6th 2013</span>
											by <span class='authorname'>Nate Denlinger</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-283023">
				
						<section>
							<p>This has stopped working in version 3.4.0GA for me, does anyone have an idea why. </p>
<p>The problem I get is when my app starts, the menu is shown straight away and the the hook to the button does not work any more??</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="October 11th 2014, 9:19:38 am">October 11th 2014</span>
								by <span class='authorname'>Martin Johansson</span><br>
								<a class="icon-bg icon-link" href="question/152034/android-hardware-menu-button-eventlistener.html#answer-283023" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
