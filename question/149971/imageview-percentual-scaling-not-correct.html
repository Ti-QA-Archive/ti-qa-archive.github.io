<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>ImageView percentual scaling not correct » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>ImageView percentual scaling not correct</h1>
		</header>
		<section>
			<p>Dear readers,</p>
<p>When I create an ImageView and set the width to 100% it will not stretch the image to the full width of the parent window. When I exit and &quot;restart&quot; the application on my Android phone it displays correct. Screenshots are: <a href="https:&#x2F;&#x2F;www.dropbox.com&#x2F;s&#x2F;ssn4wksqamdskw4&#x2F;2013-03-24%2015.58.17.png">first time I start app</a> and <a href="https:&#x2F;&#x2F;www.dropbox.com&#x2F;s&#x2F;7ihwyd7miypwh19&#x2F;2013-03-24%2015.58.26.png">the second time I restart the app</a>.</p>
<p>Anyone a clue how to fix this? Should I preload an image? Set the width after adding it to the window?</p>
<p>The code I have written:</p>
<p><strong>app.js</strong></p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> Designer = require('ui/<span class="hljs-keyword">app</span>.Designer');
<span class="hljs-keyword">var</span> <span class="hljs-keyword">Window</span> = Designer.<span class="hljs-keyword">Window</span>();
<span class="hljs-keyword">Window</span>.<span class="hljs-keyword">open</span>();
<span class="hljs-keyword">var</span> ImageLogo = new Designer.ImageLogo();
<span class="hljs-keyword">Window</span>.add(ImageLogo);
</code></pre><p><strong>ui&#x2F;app.Designer.js</strong></p>
<pre><code class="hljs">exports.Window = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
   <span class="hljs-keyword">var</span> <span class="hljs-keyword">self</span> = Titanium.UI.createWindow({
       backgroundImage:<span class="hljs-string">'images/Grey_Background_Small.jpg'</span>,
       layout:<span class="hljs-string">'vertical'</span>   });
   <span class="hljs-keyword">return</span> <span class="hljs-keyword">self</span>;
};
exports.ImageLogo = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
   <span class="hljs-keyword">var</span> <span class="hljs-keyword">self</span> = Titanium.UI.createImageView({
       image:<span class="hljs-string">'/images/Maastricht_University_Logo.jpg'</span>,
       left:<span class="hljs-string">'0%'</span>,
       width:<span class="hljs-string">'100%'</span>,
       top:<span class="hljs-string">'0%'</span>   });
   <span class="hljs-keyword">return</span> <span class="hljs-keyword">self</span>;
};
</code></pre><p>Best regards,<br>Rémy Samulski</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="March 24th 2013, 1:28:36 pm">March 24th 2013</span>
				by <span class='authorname'>Remy Samulski</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>imageview</span></li>
					
						<li><span class='tagname'>percentage</span></li>
					
						<li><span class='tagname'>scale</span></li>
					
				</ul>
			

			<section>
				<h5>1 Comment</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Yes this is the common problem with the stretching in titanium maybe somebody have solution i want to know myself too</p>
<p>Thanks</p>
</div>
							<div class="author">
								&mdash; commented <span title="March 24th 2013, 1:57:20 pm">March 24th 2013</span>
								by <span class='authorname'>Muhammad Wahhab Mirza</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-259271">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>Have you tried …</p>
<p>width: Ti.UI.FILL instead of 100% …</p>
<p>If that doesn&#39;t work, then try setting the width of the image, to the widht of the parent container …</p>
<p>i.e. width: view.width; </p>
<p>After you have displayed the parent view on the screen.</p>
<p>Also left and top should just be 0 not 0%.</p>
<p>As an explanation what I think is happening is that the first time through the image is being rendered before the view is.. So the view is taking the width of the image not the parent view. If you display the view, then add the image after it has been put onto the screen. It may well render the image correctly.</p>
<p>T.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="March 24th 2013, 2:09:37 pm">March 24th 2013</span>
								by <span class='authorname'>Trevor Ward</span><br>
								<a class="icon-bg icon-link" href="question/149971/imageview-percentual-scaling-not-correct#answer-259271" rel="permalink">permalink</a>
							</div>

							<h5>6 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Dear Trevor,</p>
<p>Thx for your time and help. I have changed the code as you suggested (assuming I have understood you correctly) into following, but without any result (except that the second time I start the app the result doesn&#39;t change). First I have replaced the top and left <em>&#39;100%&#39;</em> with <em>0</em> and <em>width: Ti.UI.Fill</em>. This didn&#39;t do the trick but the image if shifted to the right so I&#39;m assuming that the imageview container now hasn&#39;t got a 100% width anymore (with <em>width: &#39;100%&#39;</em> it does fill the whole width). Then I have inserted the following code <em>ImageLogo.width = Window.width;</em> but still the same result.</p>
<p><strong>app.js</strong></p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> Designer = require('ui/<span class="hljs-keyword">app</span>.Designer');
<span class="hljs-keyword">var</span> <span class="hljs-keyword">Window</span> = Designer.<span class="hljs-keyword">Window</span>();
<span class="hljs-keyword">Window</span>.<span class="hljs-keyword">open</span>();
<span class="hljs-keyword">var</span> ImageLogo = new Designer.ImageLogo();
<span class="hljs-keyword">Window</span>.add(ImageLogo);
ImageLogo.width = <span class="hljs-keyword">Window</span>.width;
</code></pre><p><strong>ui&#x2F;app.Designer.js</strong></p>
<pre><code class="hljs">exports.Window = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
   <span class="hljs-keyword">var</span> <span class="hljs-keyword">self</span> = Titanium.UI.createWindow({
       backgroundImage:<span class="hljs-string">'images/Grey_Background_Small.jpg'</span>,
       layout:<span class="hljs-string">'vertical'</span>   });
   <span class="hljs-keyword">return</span> <span class="hljs-keyword">self</span>;
};
exports.ImageLogo = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
   <span class="hljs-keyword">var</span> <span class="hljs-keyword">self</span> = Titanium.UI.createImageView({
       image:<span class="hljs-string">'/images/Maastricht_University_Logo.jpg'</span>,
       left:<span class="hljs-number">0</span>,
       width: Ti.UI.Full,
       top:<span class="hljs-number">0</span>   });
   <span class="hljs-keyword">return</span> <span class="hljs-keyword">self</span>;
};
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="March 24th 2013, 3:11:43 pm">March 24th 2013</span>
											by <span class='authorname'>Remy Samulski</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Ok spotted a couple of I or things.</p>
<p>Ti.UI.FILL or Ti.UI.SIZE will do the width.. not Ti.UI.Full</p>
<p>also setting the with of the image view, will only be able to be done when the window has been opened. As before it is the window object doesn&#39;t have a value.</p>
<p>So you would set the width to the screen width</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 24th 2013, 5:37:05 pm">March 24th 2013</span>
											by <span class='authorname'>Trevor Ward</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Dear Trevor,</p>
<p>Thx for your response and my apologies for the typo. I have tried width: Ti.UI.FILL and width: Titanium.UI.FILL and both imageview containers stretch to the width of the screen but the image within stays small see <a href="https:&#x2F;&#x2F;www.dropbox.com&#x2F;s&#x2F;4xjhyg4yzjxxwky&#x2F;2013-03-25%2008.12.06.png">screenshot</a>.</p>
<p><em>&quot;also setting the with of the image view, will only be able to be done when the window has been opened. As before it is the window object doesn&#39;t have a value.&quot;</em> –&gt; should I wait for an event to happen? Can you give me a hint&#x2F;code on how to do this?</p>
<p>Thx Rémy</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 25th 2013, 5:23:06 am">March 25th 2013</span>
											by <span class='authorname'>Remy Samulski</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>So a tip is you can add an event listener to the window object of open…. and close i.e.</p>
<pre><code class="hljs">
function setImageWidth() {
   <span class="hljs-comment">// do you image here ....</span>
}
<span class="hljs-keyword">win</span> = Ti.UI.createWindow();

<span class="hljs-keyword">win</span>.addEventListener('<span class="hljs-keyword">open</span>', setImageWidth);

<span class="hljs-keyword">win</span>.<span class="hljs-keyword">open</span>;
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="March 25th 2013, 7:48:38 am">March 25th 2013</span>
											by <span class='authorname'>Trevor Ward</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Thx Trevor,</p>
<p>That does the trick but I don&#39;t set the width in the open event handler but I <strong>ADD ALL</strong> the objects to the window. This is a workaround and surely not the way to go. A kingdom for a good example how to do this (and changing orientation and repainting the window).</p>
<p><strong>app.js</strong></p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> Designer = <span class="hljs-built_in">require</span>(<span class="hljs-string">'ui/app.Designer'</span>);

<span class="hljs-keyword">var</span> Window = Designer.Window();
<span class="hljs-keyword">var</span> ImageLogo = <span class="hljs-keyword">new</span> Designer.ImageLogo();

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setObjects</span>(<span class="hljs-params"></span>) </span>{
    Window.add(ImageLogo);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">resetObjects</span>(<span class="hljs-params"></span>) </span>{
    Window.remove(ImageLogo);
    setObjects();
}

Window.addEventListener(<span class="hljs-string">'open'</span>, setObjects);

Window.open();

Titanium.Gesture.addEventListener(<span class="hljs-string">'orientationchange'</span>, resetObjects);
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="March 25th 2013, 10:41:49 am">March 25th 2013</span>
											by <span class='authorname'>Remy Samulski</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Actually yes it is the way to go.. It&#39;s not a work around. It is how it works sorry …</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 25th 2013, 11:33:28 am">March 25th 2013</span>
											by <span class='authorname'>Trevor Ward</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-259274">
				
						<section>
							<p>Hi Remy,</p>
<p>Can you use view instead of imageView.<br>When i have this problem then i used a view instaed of imageview and that problem is solved for me.<br>but i am not sure in you case but please use below code.</p>
<p>Please try this : </p>
<p><strong>ui&#x2F;app.Designer.js</strong></p>
<pre><code class="hljs">exports.Window = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
   <span class="hljs-keyword">var</span> <span class="hljs-keyword">self</span> = Titanium.UI.createWindow({
       backgroundImage:<span class="hljs-string">'images/Grey_Background_Small.jpg'</span>,
       layout:<span class="hljs-string">'vertical'</span>   });
   <span class="hljs-keyword">return</span> <span class="hljs-keyword">self</span>;
};
exports.ImageLogo = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
   <span class="hljs-keyword">var</span> <span class="hljs-keyword">self</span> = Titanium.UI.createView({
       backgroundImage:<span class="hljs-string">'/images/Maastricht_University_Logo.jpg'</span>,
       left:<span class="hljs-string">'0%'</span>,
       width:<span class="hljs-string">'100%'</span>,
       top:<span class="hljs-string">'0%'</span>   });
   <span class="hljs-keyword">return</span> <span class="hljs-keyword">self</span>;
};
</code></pre><p>Thanks</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="March 24th 2013, 5:02:02 pm">March 24th 2013</span>
								by <span class='authorname'>Jigar Maheshwari</span><br>
								<a class="icon-bg icon-link" href="question/149971/imageview-percentual-scaling-not-correct#answer-259274" rel="permalink">permalink</a>
							</div>

							<h5>3 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>hi remy,</p>
<p>Can you tried this.?</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 25th 2013, 5:25:41 am">March 25th 2013</span>
											by <span class='authorname'>Jigar Maheshwari</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Dear Jigar,</p>
<p>I have tried your suggestion but then I have to calculate the height by knowing the parents height and width because the above code will not automatically set the height according to the image&#39;s aspect ratio (see <a href="https:&#x2F;&#x2F;www.dropbox.com&#x2F;s&#x2F;hq907043tlxw4ml&#x2F;2013-03-25%2008.29.52.png">screenshot</a>)</p>
<p>Thx Rémy</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 25th 2013, 5:32:50 am">March 25th 2013</span>
											by <span class='authorname'>Remy Samulski</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>okey Remy No problem.<br>But just i want to confirm this because when i have face this problem then i will try this. so thats y i suggest to you.</p>
<p>Thanks</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 25th 2013, 5:36:02 am">March 25th 2013</span>
											by <span class='authorname'>Jigar Maheshwari</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
