<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Blobs broken in 1.8.0.1 Android? Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Blobs broken in 1.8.0.1 Android?</h1>
		</header>
		<section>
			<p>Trying to get some image upload code working that works fine in 1.7.5 but doesn&#39;t work at all in 1.8.0.1 on Android.</p>
<pre><code class="hljs">Ti.Media.openPhotoGallery({
    success:function(event){
        var image = event.media;
        //resize and orient
        var imageAsTaken = Ti.UI.createImageView({image:image,width:newWidth,height:newHeight});
        var xhr = Ti.Network.createHTTPClient();
        xhr.open(<span class="hljs-string">"<span class="hljs-keyword">POST</span>"</span>,<span class="hljs-string">"http://192.168.1.109:60815/photo"</span>);
        xhr.send({fileData:imageAsTaken.toBlob()}); 
    }
});
</code></pre><p>The request never goes out, switching back to 1.7.5 and everything works as expected.  Also interestingly imageAsTaken.toImage() works on iOS but on android actually posts the JSON object instead of blob, maddening!</p>
<p>Anybody else encounter this?  </p>
<p>As a potential workaround I saved the image to the temp directory and then opened and read it with the File object but doing file.read() when posting yields the same results :|</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="January 17th 2012, 5:27:02 pm">January 17th 2012</span>
				by <span class='authorname'>scott vickers</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>blob</span></li>
					
						<li><span class='tagname'>broken</span></li>
					
						<li><span class='tagname'>imageview</span></li>
					
						<li><span class='tagname'>upload</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>1</span> Vote</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-227826">
				
						<section>
							<p>Hello,</p>
<p>added this as a bug <a href="http:&#x2F;&#x2F;jira.appcelerator.org&#x2F;browse&#x2F;TIMOB-7264">TIMOB-7264</a>.</p>
<p>Best,<br>Mauro</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="January 17th 2012, 8:52:55 pm">January 17th 2012</span>
								by <span class='authorname'>Mauro Parra</span><br>
								<a class="icon-bg icon-link" href="question/130798/blobs-broken-in-1801-android.html#answer-227826" rel="permalink">permalink</a>
							</div>

							<h5>2 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>I think it was already added as TIMOB 6973?</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 17th 2012, 10:18:06 pm">January 17th 2012</span>
											by <span class='authorname'>Oscar Kneib</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Yeah downloaded the latest 1.9 CI build and it works on android 2.3.2 but not 2.2 in the emulator for some reason.  2.2 on device works fine.</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 17th 2012, 10:30:47 pm">January 17th 2012</span>
											by <span class='authorname'>scott vickers</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
