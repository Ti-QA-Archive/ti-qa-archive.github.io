<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>commonJS vs tweetanium single context style? » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>commonJS vs tweetanium single context style?</h1>
		</header>
		<section>
			<p>So the current apps I am working on are based on the single context tweetanium style layout.  I am adjusting the tweetanium layout by getting rid of the views and &#39;fake&#39; tabs as i like to call them. I moved to an actual tabGroup with windows associated.</p>
<p>Now i&#39;ve been seeing alot of layouts using the commonJS approach. The latest forging titanium episode shows this off nicely.</p>
<p>My question is what is the benefit of moving my code over to the commonJS approach?  Is it more of an organization benefit or is there a true performance benefit?  I&#39;m a little concerned that I would need to &#39;require&#39; the same commonJS module multiple times. For example, if i have a ui module that handles view or window creation I would need to require that on each of my tabbed windows. Isn&#39;t that using up resources? Or is the commonJS only loaded once regardless of how many times it&#39;s included in your app?</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="March 1st 2012, 2:26:18 pm">March 1st 2012</span>
				by <span class='authorname'>John Scanlon</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>best practices</span></li>
					
						<li><span class='tagname'>commonjs</span></li>
					
						<li><span class='tagname'>tweetanium</span></li>
					
				</ul>
			

			<section>
				<h5>2 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>In my opinion your code is going to be easier to reuse, easier to maintain, more organise and is going to be easier to manage your memory use. + is what appcelerator is pushing right now.</p>
</div>
							<div class="author">
								&mdash; commented <span title="March 1st 2012, 2:34:32 pm">March 1st 2012</span>
								by <span class='authorname'>Arian Caraballo</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Which Forging Titanium video are you referring to?  The first one?</p>
</div>
							<div class="author">
								&mdash; commented <span title="April 25th 2012, 1:17:22 am">April 25th 2012</span>
								by <span class='authorname'>David Yang</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>8</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>8 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-232046">
				
						<section>
							<p>CommonJS has both perks of code layout and memory… however as for your concern of needing to include the same module more then once… no that will not use up extra memory because of the way Ti deals with the memory managment of CommonJs modules.</p>
<p>I ONLY use CommonJS, and highly recommend it.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="March 1st 2012, 2:39:31 pm">March 1st 2012</span>
								by <span class='authorname'>Matt Apperson</span><br>
								<a class="icon-bg icon-link" href="question/133029/commonjs-vs-tweetanium-single-context-style#answer-232046" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>2</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-232047">
				
						<section>
							<p>Hi John.</p>
<p>To answer your question briefly, you need to use the commonJS method. the Ti.include is being deprecated and will shortly no longer be available. This is because of a major switch over to commonJS by Appcelerator and the decision that this is the way forward.</p>
<p>I know this because I asked Jeff Haynie directly at the London User Group meeting recently.</p>
<p>Now to answer your question about requiring the modules in multiple places. Yes that will be the case, however the required module is actually only put into memory once, all you do in the other requires is bring it into scope of that module. Hope I have explained that ok.</p>
<p>This means that if you put a variable in your common module the value it contains is available to all the other modules you have required it in as long as it is exported, changing it in one module makes the new value available in the other.</p>
<p>The other thing to note is that the commonJS approach does not have a global scope. This is a very different approach to the common namespace method of tweetanium. It basically means you have a single control file and use event listeners and fire event handlers to control the application flow.</p>
<p>Hope this helps</p>
<p>T.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="March 1st 2012, 2:43:25 pm">March 1st 2012</span>
								by <span class='authorname'>Trevor Ward</span><br>
								<a class="icon-bg icon-link" href="question/133029/commonjs-vs-tweetanium-single-context-style#answer-232047" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>2</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-232048">
				
						<section>
							<p>I&#39;d say that old apps can stay in single context way, but you should create new apps using commonJS practise. It&#39;s really easier to maintain and you separate your app to different contexts, meaning, it is easier to reuse already created components in your other apps.<br>CommonJS practise ensures compatability, and well you don&#39;t know what Appcelerator plans for future, best way to ensure this compatability is to stay in line with best practices.</p>
<p>Answering your question about using CommonJS module multiple times, then yes it is loaded only once and cached. Then you simple create different instances of your module.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="March 1st 2012, 2:44:44 pm">March 1st 2012</span>
								by <span class='authorname'>Arturs Sosins</span><br>
								<a class="icon-bg icon-link" href="question/133029/commonjs-vs-tweetanium-single-context-style#answer-232048" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-232051">
				
						<section>
							<p>Awesome guys. Thanks for the info!  My only concern was the resource issue, but what you guys say make sense of only being cached once.  I&#39;m redesigning the ui of one of my apps, might as well move this over to commonJS.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="March 1st 2012, 3:17:02 pm">March 1st 2012</span>
								by <span class='authorname'>John Scanlon</span><br>
								<a class="icon-bg icon-link" href="question/133029/commonjs-vs-tweetanium-single-context-style#answer-232051" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-232070">
				
						<section>
							<p>Hello John.</p>
<p>CommonJS is a way to go in a long term as you have been told. But there are couple of things you need to have in mind: every CommonJS module creates new JS context, which means, everything you did with JS environment (like extending native prototypes, using global scope variables, using ECMA strict mode, etc.) needs to be re-done. This is potentially huge maintenance problem because every CommonJS module will have same code on top of the file that does same thing.</p>
<p>Also, CommonJS modules are singletons, which means - if something or someone changes your module, it will be reflected on all instances. Sometimes that is not desirable.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="March 1st 2012, 5:27:49 pm">March 1st 2012</span>
								by <span class='authorname'>Ivan Škugor</span><br>
								<a class="icon-bg icon-link" href="question/133029/commonjs-vs-tweetanium-single-context-style#answer-232070" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-232086">
				
						<section>
							<p>This is huuuge - will they really REMOVE Ti.include???</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="March 1st 2012, 11:52:15 pm">March 1st 2012</span>
								by <span class='authorname'>Esben Maaløe</span><br>
								<a class="icon-bg icon-link" href="question/133029/commonjs-vs-tweetanium-single-context-style#answer-232086" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>yes, thats the plan… not like it will be overnight though</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 2nd 2012, 1:32:21 am">March 2nd 2012</span>
											by <span class='authorname'>Matt Apperson</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-241344">
				
						<section>
							<p>25</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="June 19th 2012, 10:04:40 pm">June 19th 2012</span>
								by <span class='authorname'>Bill Freedman</span><br>
								<a class="icon-bg icon-link" href="question/133029/commonjs-vs-tweetanium-single-context-style#answer-241344" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-241800">
				
						<section>
							<p>Hello everybody,</p>
<p>I just want to share with you an issue I had when migrating my code to commonJS that made me cracy. It may be obvious for many of you, but it wasn&#39;t for me. As you know, when you require a module many times this is loaded just once. This is true if you are in a single javascript context. In my way of migrating from an old architecture, I had a window (contacts.js) created using the url property, and since this is a different context, when I required my module from contacts.js, it was loaded again.</p>
<p>I hope it helps.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="June 25th 2012, 7:50:48 am">June 25th 2012</span>
								by <span class='authorname'>Xurde Appio</span><br>
								<a class="icon-bg icon-link" href="question/133029/commonjs-vs-tweetanium-single-context-style#answer-241800" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
