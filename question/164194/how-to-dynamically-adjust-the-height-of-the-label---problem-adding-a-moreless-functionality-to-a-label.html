<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>How to dynamically adjust the height of the label - problem adding a &#34;more/less&#34; functionality to a label » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>How to dynamically adjust the height of the label - problem adding a &#34;more/less&#34; functionality to a label</h1>
		</header>
		<section>
			<p>Hello,</p>
<p>We are developping an Android and iPhone application using Titanium Studio (3.2.1. GA).<br>We need to implement a &quot;more&#x2F;less functionality&quot; for a label: </p>
<ul>
<li>At first, it shows just a few lines of a given label and a &#39;More&#39; button. </li>
<li>When the user clicks on the &#39;More&#39; button, it displays the whole text of the label.<br>Is there a way to calculate the height a label will take when displaying a given text?<br>We have a view containing our label and the &#39;More&#39; button:<br>~~~<br>&lt;ScrollView id=&quot;brandScrollableView&quot; layout=&quot;vertical&quot;&gt;<br>  &lt;ScrollableView id=&quot;scrollableView1&quot;&gt;               <pre><code class="hljs">  <span class="hljs-tag">&lt;<span class="hljs-title">View</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"brandContentView1"</span> <span class="hljs-attribute">layout</span>=<span class="hljs-value">"vertical"</span>&gt;</span> 
      ...
      <span class="hljs-tag">&lt;<span class="hljs-title">View</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"brandDescriptionView"</span> <span class="hljs-attribute">layout</span>=<span class="hljs-value">"absolute"</span>&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-title">View</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"leftViewDescriptionInfo"</span> <span class="hljs-attribute">layout</span>=<span class="hljs-value">"horizontal"</span>&gt;</span>
                      <span class="hljs-tag">&lt;<span class="hljs-title">Label</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"labelBrandDescription"</span> <span class="hljs-attribute">text</span>=<span class="hljs-value">"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Phasellus tristique non sapien at egestas. Praesent quis ..."</span> /&gt;</span>
              <span class="hljs-tag">&lt;/<span class="hljs-title">View</span>&gt;</span>
                  <span class="hljs-tag">&lt;<span class="hljs-title">View</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"rightViewDescriptionInfo"</span> <span class="hljs-attribute">layout</span>=<span class="hljs-value">"absolute"</span>&gt;</span>
                      <span class="hljs-tag">&lt;<span class="hljs-title">Label</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"moreBrandDescription"</span> <span class="hljs-attribute">text</span>=<span class="hljs-value">"More"</span> /&gt;</span>
              <span class="hljs-tag">&lt;/<span class="hljs-title">View</span>&gt;</span>
          <span class="hljs-tag">&lt;/<span class="hljs-title">View</span>&gt;</span>
</code></pre></li>
</ul>
<pre><code class="hljs">
The listener called when we click <span class="hljs-keyword">on</span> the <span class="hljs-string">"moreBrandDescription"</span> <span class="hljs-keyword">view</span> <span class="hljs-keyword">is</span> the followin<span class="hljs-variable">g:</span>
</code></pre><p>var longText = &quot;Lorem ipsum dolor sit amet, consectetur adipiscing elit. Phasellus tristique non sapien at egestas. Praesent quis luctus augue. Donec commodo, nibh vitae euismod malesuada, massa turpis blandit nunc, eget condimentum urna arcu sit amet ante. Proin pellentesque orci sit amet leo adipiscing fringilla. Proin sagittis nulla dui, quis elementum mi molestie quis. Curabitur commodo placerat tellus, a suscipit lorem ornare ac. Cras sed arcu felis. Ut sit amet urna ornare, ultrices orci porta, tempus urna.&quot;;</p>
<p>var shortText = &#39;Lorem ipsum dolor sit amet, consectetur adipiscing elit. Phasellus tristique non sapien at egestas. Praesent quis …&#39;;</p>
<p>$.moreBrandDescription.addEventListener(&#39;click&#39;, function(e) {<br> if ($.moreBrandDescription.text == &#39;More&#39;) {<br>  $.moreBrandDescription.text = &#39;Less&#39;;<br>  $.labelBrandDescription.text = longText;  </p>
<p>  &#x2F;&#x2F; TODO calculate the height needed for the label<br>  $.labelBrandDescription.height = unknownValue;</p>
<p>  &#x2F;&#x2F; adjust the height of the parent elements (scrollabeView etc.)</p>
<p> } else {<br>  $.moreBrandDescription.text = &#39;More&#39;;<br>  $.labelBrandDescription.text = shortText;  </p>
<p>  &#x2F;&#x2F; TODO calculate the height needed for the label<br>  $.labelBrandDescription.height = unknownValue;</p>
<p>  &#x2F;&#x2F; adjust the height of the parent elements (scrollabeView etc.)<br> }<br>});<br>~~~</p>
<p>We need to find out the exact height of the label in order to resize the parent views. The height &#39;auto&#39; does not work in this case because if we set height to auto on a view, it will take all the remaining height (adding too much space between the elements).</p>
<p>Another idea we have is to use two labels (one with the short description and the other one with the long description). But we have the same problem - how to determine the height, the label needs for displaying.</p>
<p>Thanks in advance</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="April 3rd 2014, 8:15:21 am">April 3rd 2014</span>
				by <span class='authorname'>Hervé Lechevallier</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>alloy</span></li>
					
						<li><span class='tagname'>developer</span></li>
					
						<li><span class='tagname'>javascript</span></li>
					
						<li><span class='tagname'>scrollview</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>3</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>3 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-277354">
				
						<section>
							<p>Try <a href="http:&#x2F;&#x2F;docs.appcelerator.com&#x2F;titanium&#x2F;latest&#x2F;#!&#x2F;api&#x2F;Titanium.UI-property-SIZE">Ti.UI.SIZE</a></p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="April 3rd 2014, 8:32:00 am">April 3rd 2014</span>
								by <span class='authorname'>Larrie Wilson</span><br>
								<a class="icon-bg icon-link" href="question/164194/how-to-dynamically-adjust-the-height-of-the-label---problem-adding-a-moreless-functionality-to-a-label.html#answer-277354" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-277358">
				
						<section>
							<p>Hi,</p>
<p>Try with height of Label as Ti.UI.SIZE(height same as that of content). </p>
<p>and if you want to find out the height taken by the component, then use event listener &quot;postLayout&quot;. and that will give you the content height taken by the component.</p>
<p>Hope it helps!!</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="April 3rd 2014, 9:53:09 am">April 3rd 2014</span>
								by <span class='authorname'>pankaj Goyal</span><br>
								<a class="icon-bg icon-link" href="question/164194/how-to-dynamically-adjust-the-height-of-the-label---problem-adding-a-moreless-functionality-to-a-label.html#answer-277358" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-277374">
				
						<section>
							<p>Both Larrie and Pankaj are right that Ti.UI.SIZE will help. But you will need to reset the height of both the label and the parent to Ti.UI.SIZE within the click event listener after setting the label to the new content. It will also likely help to set the parent view&#39;s layout=&#39;vertical&#39; so that any content that comes after the label will be automatically pushed up&#x2F;down when the size of the label changes. </p>
<p>There&#39;s no need for the postlayout event (which is not camel-cased by the way) unless you can&#39;t use the vertical layout.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="April 3rd 2014, 1:59:15 pm">April 3rd 2014</span>
								by <span class='authorname'>Tim Poulsen</span><br>
								<a class="icon-bg icon-link" href="question/164194/how-to-dynamically-adjust-the-height-of-the-label---problem-adding-a-moreless-functionality-to-a-label.html#answer-277374" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
