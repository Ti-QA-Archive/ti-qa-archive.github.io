<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>How to refresh view when tab icon is tapped on iOS Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>How to refresh view when tab icon is tapped on iOS</h1>
		</header>
		<section>
			<p>Hi guys,</p>
<p>Hopefully a quick one here.</p>
<p>Using iOS and the latest Titanium SDK I have a 5 tab app.</p>
<p>I&#39;m at the last couple of bits required before submission to Apple.</p>
<p>The client has requested that when you tap any of the tab bar icons at the bottom of the app, the view will always revert back to the start of the user journey.</p>
<p>So, say the App has a &#39;Home&#39; tab bar item, and the user taps it a few times and cycles their way through lots of window views, they then have to press back in the top left many time in order to get back to the main screen.</p>
<p>What they want to happen, is for the user to simply tap the tabbar and for the original starting point view to be shown.</p>
<p>How can I do this?</p>
<p>Simon</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="June 6th 2012, 11:24:47 am">June 6th 2012</span>
				by <span class='authorname'>Simon Hume</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>ios</span></li>
					
						<li><span class='tagname'>refresh</span></li>
					
						<li><span class='tagname'>tabbar</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>3</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>3 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-240275">
				
						<section>
							<p>By tab bar icons, do you mean the tabs in a tab group?  If so, assuming each child window is being opened inside the current tab with something like tabGroup.activeTab.open(win), then this should happen automatically.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="June 6th 2012, 12:47:26 pm">June 6th 2012</span>
								by <span class='authorname'>Adam Paxton</span><br>
								<a class="icon-bg icon-link" href="question/137968/how-to-refresh-view-when-tab-icon-is-tapped-on-ios.html#answer-240275" rel="permalink">permalink</a>
							</div>

							<h5>4 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Hi Adam. Yes, tabs in a tab group, sorry! Been a long day. I was thinking it should happen automatically. I may have to check my code and see if i&#39;ve got something up in there.</p>
</p>
										<div class="author">
											&mdash; commented <span title="June 6th 2012, 1:14:48 pm">June 6th 2012</span>
											by <span class='authorname'>Simon Hume</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Adam, this is how i&#39;m opening a window, is this not the right way?</p>
<pre><code class="hljs"><span class="hljs-tag">Ti</span><span class="hljs-class">.UI</span><span class="hljs-class">.currentTab</span><span class="hljs-class">.open</span>(<span class="hljs-tag">detailWindow</span>,<span class="hljs-rules">{<span class="hljs-rule"><span class="hljs-attribute">animated</span>:<span class="hljs-value">true</span></span></span>});
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="June 7th 2012, 9:39:37 am">June 7th 2012</span>
											by <span class='authorname'>Simon Hume</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Ti.UI.currentTab has been known to <a href="http:&#x2F;&#x2F;developer.appcelerator.com&#x2F;question&#x2F;98501&#x2F;titaniumuicurrenttab-is-null">have</a> some <a href="http:&#x2F;&#x2F;developer.appcelerator.com&#x2F;question&#x2F;117978&#x2F;cannot-find-documentation-to-use-titaniumuicurrenttab">problems</a>.  Not sure if it is the issue in this case, but I would try switching to using activeTab and seeing if that helps.  Depending on how your app is structured, you may need to put your tabgroup inside your global namespace variable so it can be referenced from all windows, or possibly start passing it to the windows.  </p>
<p>Another option is to just add the parent window&#39;s tab as an attrribute of the window, so it may be referenced by other child windows.  This is how the TabGroup template is doing it, as you can see here iwith <a href="https:&#x2F;&#x2F;github.com&#x2F;appcelerator-developer-relations&#x2F;Template.Tabbed&#x2F;blob&#x2F;master&#x2F;Resources&#x2F;ui&#x2F;handheld&#x2F;ApplicationWindow.js">containingTab</a>.</p>
</p>
										<div class="author">
											&mdash; commented <span title="June 7th 2012, 2:07:34 pm">June 7th 2012</span>
											by <span class='authorname'>Adam Paxton</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Hi Adam, that&#39;s very helpful, i&#39;ll take a look through and see if I can nail it. First time i&#39;ve come across this problem.</p>
</p>
										<div class="author">
											&mdash; commented <span title="June 7th 2012, 3:59:58 pm">June 7th 2012</span>
											by <span class='authorname'>Simon Hume</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-240285">
				
						<section>
							<p>I&#39;m pretty sure a double-tap on the tab will do this. </p>
<p>If not, you need to keep a track of an array&#x2F;stack of the windows you have opened, so that when the tab is clicked (with a click eventListener) you can then loop through them and close them and get back &#39;home&#39;.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="June 6th 2012, 2:54:06 pm">June 6th 2012</span>
								by <span class='authorname'>Kosso</span><br>
								<a class="icon-bg icon-link" href="question/137968/how-to-refresh-view-when-tab-icon-is-tapped-on-ios.html#answer-240285" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Currently opening a window like this on a click event</p>
<pre><code class="hljs"><span class="hljs-tag">Ti</span><span class="hljs-class">.UI</span><span class="hljs-class">.currentTab</span><span class="hljs-class">.open</span>(<span class="hljs-tag">detailWindow</span>,<span class="hljs-rules">{<span class="hljs-rule"><span class="hljs-attribute">animated</span>:<span class="hljs-value">true</span></span></span>});
</code></pre><p>Is that the right way to do it?</p>
</p>
										<div class="author">
											&mdash; commented <span title="June 7th 2012, 9:40:17 am">June 7th 2012</span>
											by <span class='authorname'>Simon Hume</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-242498">
				
						<section>
							<p>I think I&#39;ve finally found the part in customTabBar.js that is causing the issue. Can anyone shed any light on what to add inside this function to make the native function work as it should?</p>
<p>You can see the TODO item listed, which is where it needs to live.</p>
<p><a href="https:&#x2F;&#x2F;github.com&#x2F;netsells&#x2F;customTabBar">Here is the full script on GitHub</a></p>
<pre><code class="hljs">    <span class="hljs-keyword">var</span> assignClick = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(tabItem)</span> </span>{
        tabItem.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span> </span>{
            <span class="hljs-comment">// Just fetching the 'i' variable from the loop</span>
            <span class="hljs-keyword">var</span> pos = e.source.pos;

            <span class="hljs-keyword">if</span> (tabCurrent == pos) {
                <span class="hljs-comment">// TODO</span>
                <span class="hljs-comment">// Change back to root window, like the native tab action.</span>
                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
            }        

            <span class="hljs-comment">// Switch to the tab associated with the image pressed</span>
            settings.tabBar.tabs[pos].active = <span class="hljs-literal">true</span>;
            tabCurrent = pos;


            <span class="hljs-comment">// Reset all the tab images</span>
            resetTabs();

            <span class="hljs-comment">// Set the current tab as selected</span>
            tabBarItems[pos].image = settings.imagePath + settings.items[pos].selected;        
        });
    };
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="July 4th 2012, 7:37:59 pm">July 4th 2012</span>
								by <span class='authorname'>Simon Hume</span><br>
								<a class="icon-bg icon-link" href="question/137968/how-to-refresh-view-when-tab-icon-is-tapped-on-ios.html#answer-242498" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
