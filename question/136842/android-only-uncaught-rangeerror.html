<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Android only, Uncaught RangeError? Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Android only, Uncaught RangeError?</h1>
		</header>
		<section>
			<p>I&#39;m getting this error notice only in child windows in a taggroup that are being populated off of the same type of API caller that the root window uses to get its data from our remote API.</p>
<p>I&#39;m trying to trace it, but not getting that lucky. Is &quot;Uncaught RangeError: Maximum call stack size exceeded&quot; an infinity loop error? Any ideas on how to trace it with the debugger on the Emulator?</p>
<pre><code class="hljs"><span class="hljs-number">05</span>-<span class="hljs-number">11</span> <span class="hljs-number">12</span>:<span class="hljs-number">00</span>:<span class="hljs-number">10.690</span>: E/TiJSError(<span class="hljs-number">844</span>): (main) [<span class="hljs-number">69118</span>,<span class="hljs-number">191413</span>] ----- Titanium Javascript Runtime Error -----
<span class="hljs-number">05</span>-<span class="hljs-number">11</span> <span class="hljs-number">12</span>:<span class="hljs-number">00</span>:<span class="hljs-number">10.690</span>: E/TiJSError(<span class="hljs-number">844</span>): (main) [<span class="hljs-number">1</span>,<span class="hljs-number">191414</span>] - In ti:/titanium.js:<span class="hljs-number">263</span>,<span class="hljs-number">17</span>
<span class="hljs-number">05</span>-<span class="hljs-number">11</span> <span class="hljs-number">12</span>:<span class="hljs-number">00</span>:<span class="hljs-number">10.690</span>: E/TiJSError(<span class="hljs-number">844</span>): (main) [<span class="hljs-number">0</span>,<span class="hljs-number">191414</span>] - Message: Uncaught RangeError: Maximum call <span class="hljs-built_in">stack</span> size exceeded
<span class="hljs-number">05</span>-<span class="hljs-number">11</span> <span class="hljs-number">12</span>:<span class="hljs-number">00</span>:<span class="hljs-number">10.690</span>: E/TiJSError(<span class="hljs-number">844</span>): (main) [<span class="hljs-number">1</span>,<span class="hljs-number">191415</span>] - Source:     value: function(property) {
<span class="hljs-number">05</span>-<span class="hljs-number">11</span> <span class="hljs-number">12</span>:<span class="hljs-number">00</span>:<span class="hljs-number">10.770</span>: E/V8Exception(<span class="hljs-number">844</span>): Exception occurred at ti:/titanium.js:<span class="hljs-number">263</span>: Uncaught RangeError: Maximum call <span class="hljs-built_in">stack</span> size exceeded
<span class="hljs-number">05</span>-<span class="hljs-number">11</span> <span class="hljs-number">12</span>:<span class="hljs-number">00</span>:<span class="hljs-number">10.770</span>: E/V8Exception(<span class="hljs-number">844</span>): RangeError: Maximum call <span class="hljs-built_in">stack</span> size exceeded
</code></pre><p>I&#39;m really stuck at this point and need some help!</p>
<p>Thanks,</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="May 11th 2012, 2:06:59 pm">May 11th 2012</span>
				by <span class='authorname'>Levi Thornton</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>maximum stack size</span></li>
					
						<li><span class='tagname'>uncaught rangeerror</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-238414">
				
						<section>
							<p>hi levi,</p>
<p>I think  you need to use try and catch block.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="May 11th 2012, 2:52:55 pm">May 11th 2012</span>
								by <span class='authorname'>Nitin Chavda</span><br>
								<a class="icon-bg icon-link" href="question/136842/android-only-uncaught-rangeerror#answer-238414" rel="permalink">permalink</a>
							</div>

							<h5>3 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>I come from the world of PHP that is just getting exception handling, so I forgot JS had that option. Thanks!</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 11th 2012, 3:09:49 pm">May 11th 2012</span>
											by <span class='authorname'>Levi Thornton</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I have traced it down to &quot;HTTPClient Proxy Invalid value, expected type Number.&quot;</p>
<p>In the code:</p>
<pre><code class="hljs">/// set and post the post url
        Ti.API.info(<span class="hljs-string">"Opening connection to "</span>+pp.app.client.apiUrl+param<span class="hljs-string">['api_url']</span>);
          xhr.open(<span class="hljs-string">"<span class="hljs-keyword">POST</span>"</span>, pp.app.client.apiUrl+param<span class="hljs-string">['api_url']</span>); //ADD your URL
          xhr.setRequestHeader(<span class="hljs-string">"content-type"</span>, <span class="hljs-string">"application/json"</span>);

          Ti.API.info(<span class="hljs-string">"Posting params to API..."</span>);    
          xhr.send(JSON.stringify(param));
          Ti.API.info(<span class="hljs-string">"params "</span>+JSON.stringify(param));

        xhr.onload = function(){
              Ti.API.info(<span class="hljs-string">"raw api response "</span>+this.responseText);
</code></pre><p>In the console:</p>
<pre><code class="hljs">/TiAPI   (  <span class="hljs-number">655</span>): Firing pp.api.postRequest...
D/TiUIView(  <span class="hljs-number">655</span>): (main) [<span class="hljs-number">2606</span>,<span class="hljs-number">27858</span>] Nativeview is null
I/TiAPI   (  <span class="hljs-number">655</span>): Opening connection to https:<span class="hljs-comment">//dev.somedomain.com/api/get_item_types</span>
I/TiAPI   (  <span class="hljs-number">655</span>): Posting params to API...
I/TiAPI   (  <span class="hljs-number">655</span>): params {<span class="hljs-string">"api_url"</span>:<span class="hljs-string">"get_item_types"</span>,<span class="hljs-string">"username"</span>:<span class="hljs-string">"testuser"</span>,<span class="hljs-string">"password"</span>:<span class="hljs-string">"yourpassword"</span>}
E/HTTPClientProxy(  <span class="hljs-number">655</span>): Invalid value, expected type Number.
</code></pre><p>It then sits for a little bit and crashes with &quot;Uncaught RangeError: Maximum call stack size exceeded&quot;. I am understanding this correctly, there is some type of bad input from the API server?</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 11th 2012, 4:42:36 pm">May 11th 2012</span>
											by <span class='authorname'>Levi Thornton</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I think you have to first check what type of parameters are mandatory and also check any type casting  is necessary or not. Try using onerror function of http client for getting error type.</p>
<pre><code class="hljs">xhr.onerror = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span></span> {
        Ti.API.info(e);
        alert(e.<span class="hljs-keyword">type</span>);
    }
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="May 12th 2012, 2:58:30 am">May 12th 2012</span>
											by <span class='authorname'>Nitin Chavda</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-238420">
				
						<section>
							<p>No idea why it created the error down in the API processor, but I had to update my window manager that opened the windows to this:</p>
<pre><code class="hljs">    <span class="hljs-comment">// our window stack manager (opens a window and adds it to the stack)</span>
    pp.ui.openTabWin = function(obj) {
        <span class="hljs-keyword">if</span>(pp.<span class="hljs-keyword">app</span>.osname == 'iphone') {
            obj.<span class="hljs-keyword">tab</span>.<span class="hljs-keyword">open</span>(obj.<span class="hljs-keyword">win</span>,{animation:true});
            pp.ui.winStack.push(obj.<span class="hljs-keyword">win</span>)
        } <span class="hljs-keyword">else</span> {
            obj.<span class="hljs-keyword">win</span>.<span class="hljs-keyword">open</span>();
        }
        Ti.API.info(<span class="hljs-string">"Current Window Stack: "</span>+JSON.stringify(pp.ui.winStack));
    };
</code></pre><p>Me one, android emulator zero! :P</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="May 11th 2012, 6:00:56 pm">May 11th 2012</span>
								by <span class='authorname'>Levi Thornton</span><br>
								<a class="icon-bg icon-link" href="question/136842/android-only-uncaught-rangeerror#answer-238420" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
