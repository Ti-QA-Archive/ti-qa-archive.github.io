<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Handle network timeout request » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Handle network timeout request</h1>
		</header>
		<section>
			<p>Hi guys.</p>
<p>My app can download data and handle error properly if there is connection failure, but I couldn&#39;t find a way to handle timeout. In the documentation there are only onload and onerror. I think neither of the callback handle connection timeout. </p>
<p>The problem is when the connection timeout, my app is just showing blank page because simply there is no data downloaded and there is no error reported as well. Since 3G connection in my region is still slow sometimes, I need to make sure my app can work nicely in slow connection and inform user that the connection is slow. How should I handle connection timeout and inform user properly in this case?</p>
<p>Thanks in advance =)</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="October 2nd 2012, 4:59:06 am">October 2nd 2012</span>
				by <span class='authorname'>Steven Pongidin</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>httpclient</span></li>
					
						<li><span class='tagname'>timeout</span></li>
					
				</ul>
			

			<section>
				<h5>1 Comment</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Forgot to add &quot;android&quot; tag</p>
</div>
							<div class="author">
								&mdash; commented <span title="October 2nd 2012, 5:52:50 am">October 2nd 2012</span>
								by <span class='authorname'>Steven Pongidin</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-248442">
				
						<section>
							<p>var client = Titanium.Network.createHTTPClient();</p>
<p>.<br>.<br>.<br>.</p>
<p>client.setTimeout(10000);  </p>
<p>client.onerror = function() {</p>
<pre><code class="hljs">showAlertBox<span class="hljs-list">(<span class="hljs-quoted">'Service</span> timed out. Please try again.')</span><span class="hljs-comment">;</span>
</code></pre><p>};</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="October 2nd 2012, 5:22:50 am">October 2nd 2012</span>
								by <span class='authorname'>Muhammad Adnan</span><br>
								<a class="icon-bg icon-link" href="question/142945/handle-network-timeout-request#answer-248442" rel="permalink">permalink</a>
							</div>

							<h5>7 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>I&#39;ve put that but it seems the <code>onerror</code> is not detected in Android. Even when there is connection error, I have to put try and catch around the <code>xhr.open()</code> and <code>xhr.send()</code>. I haven&#39;t really tried this in iOS though, since I&#39;m focusing on Android now.</p>
</p>
										<div class="author">
											&mdash; commented <span title="October 2nd 2012, 5:42:41 am">October 2nd 2012</span>
											by <span class='authorname'>Steven Pongidin</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I have tested on IOS and it works in IOS</p>
</p>
										<div class="author">
											&mdash; commented <span title="October 2nd 2012, 5:50:29 am">October 2nd 2012</span>
											by <span class='authorname'>Muhammad Adnan</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>That&#39;s good news, thanks for the info! =) I won&#39;t have to worry about that in iOS then. But now I still couldn&#39;t find a workaround in Android. I forgot to put the tag though =(</p>
</p>
										<div class="author">
											&mdash; commented <span title="October 2nd 2012, 5:52:33 am">October 2nd 2012</span>
											by <span class='authorname'>Steven Pongidin</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>these function are also supported in android ,IOS and Ipad .It should work .May be complete clean and build is required for your your project</p>
</p>
										<div class="author">
											&mdash; commented <span title="October 2nd 2012, 6:01:29 am">October 2nd 2012</span>
											by <span class='authorname'>Muhammad Adnan</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Yes, according to the documentation. But somehow, if I don&#39;t put try and catch around the <code>xhr.open()</code> or <code>xhr.send()</code> (unsure which one so I put both of them together), when there is connection error, I will get runtime error. Also, the code I put in <code>onerror</code> for Android did not get fired. Instead, the catch block is the one get fired.</p>
</p>
										<div class="author">
											&mdash; commented <span title="October 2nd 2012, 6:04:27 am">October 2nd 2012</span>
											by <span class='authorname'>Steven Pongidin</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Oh, I also have cleaned a lot of times, since whenever I install the app into my device I always clean the project to avoid silly bugs =p</p>
</p>
										<div class="author">
											&mdash; commented <span title="October 2nd 2012, 6:05:27 am">October 2nd 2012</span>
											by <span class='authorname'>Steven Pongidin</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>http:&#x2F;&#x2F;developer.appcelerator.com&#x2F;question&#x2F;77141&#x2F;httpclient-settimeout-and-onerror-dont-work-in-android</p>
<p>http:&#x2F;&#x2F;developer.appcelerator.com&#x2F;question&#x2F;131042&#x2F;httpclient-and-settimeout-event</p>
<p>http:&#x2F;&#x2F;developer.appcelerator.com&#x2F;question&#x2F;118163&#x2F;android-settimeout-workarounds</p>
</p>
										<div class="author">
											&mdash; commented <span title="October 2nd 2012, 7:19:46 am">October 2nd 2012</span>
											by <span class='authorname'>Muhammad Adnan</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
