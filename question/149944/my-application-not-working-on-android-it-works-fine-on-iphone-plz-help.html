<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>My application not working on android? it works fine on IPhone plz help.... » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>My application not working on android? it works fine on IPhone plz help....</h1>
		</header>
		<section>
			<p>My app.js code</p>
<p>Ti.include(&#39;ui&#x2F;GlobalModule&#x2F;animationmodule.js&#39;);<br>Ti.include(&#39;ui&#x2F;GlobalModule&#x2F;common.js&#39;);<br>&#x2F;&#x2F;Ti.include(&#39;ui&#x2F;GlobalModule&#x2F;MemoryCleaner.js&#39;);<br>Titanium.UI.setBackgroundColor(&#39;#003b8c&#39;);<br>var artistIDforAlbum = null;<br>var tabGroup = null;<br>var MainTab = null;<br>var HomeWin = null;<br>var searchParameter = null;<br>var iconview = [];<br>var iconView = [];<br>var checkPlayerStatus = false;<br>var homeScreenMainView = null;<br>var IisPlaylist = false;<br>var shareFor = null;<br>var ARTIST = null;<br>var ALBUM = null;<br>var ALBUMIMG = null;<br>var ALBUMID = null;</p>
<p>&#x2F;&#x2F;used for sidebar<br>var sideBarMainContainer = null;<br>var sideBarIconContainer = null;<br>var sideMyStationButton = null;<br>var sideSleepButton = null;<br>var sideHomeButton = null;<br>var sideProfileButton = null;<br>var sideBuyButton = null;<br>var sideAlbumButton = null;<br>var sideShareButton = null;</p>
<p>var artistSearchTableview = null;<br>var songsSearchTableview = null;<br>var currentPlaylistView = null;</p>
<p>var currentPlayList = [];<br>var currentPlayListData = [];<br>var currentSongIndex = -1;<br>var skipCount = 0;<br>var nextclick = false;<br>var nowplayingstatus = false;</p>
<p>var nowplay = Titanium.UI.createAnimation();<br>nowplay.duration = 500;<br>&#x2F;&#x2F;Used to track the songs.<br>&#x2F;&#x2F;Animation parameters.<br>&#x2F;&#x2F;Default position parameters.<br>var a1 = Titanium.UI.createAnimation();<br>a1.duration = 100;</p>
<p>&#x2F;&#x2F;Change position parameters.<br>var a11 = Titanium.UI.createAnimation();<br>a11.duration = 100;</p>
<p>var searchview = null;</p>
<p>var imgurl1 = &quot;&#x2F;appimages&#x2F;mainwindow&#x2F;my_station.png&quot;;<br>var imgurl2 = &quot;&#x2F;appimages&#x2F;mainwindow&#x2F;browse.png&quot;;<br>var imgurl3 = &quot;&#x2F;appimages&#x2F;mainwindow&#x2F;now_play.png&quot;;<br>var imgurl4 = &quot;&#x2F;appimages&#x2F;mainwindow&#x2F;popular.png&quot;;<br>var imgurl5 = &quot;&#x2F;appimages&#x2F;mainwindow&#x2F;song_like.png&quot;;<br>var imgurl6 = &quot;&#x2F;appimages&#x2F;mainwindow&#x2F;listen_history.png&quot;;<br>var imgurl7 = &quot;&#x2F;appimages&#x2F;mainwindow&#x2F;upgrade.png&quot;;<br>var imgurl8 = &quot;&#x2F;appimages&#x2F;mainwindow&#x2F;setting.png&quot;;</p>
<p>&#x2F;&#x2F;Side Bar Images<br>var sideBarImageUrl1 = &quot;&#x2F;appimages&#x2F;sidebarimages&#x2F;my_station.png&quot;;<br>&#x2F;&#x2F;my Station<br>var sideBarImageUrl2 = &quot;&#x2F;appimages&#x2F;sidebarimages&#x2F;sleep.png&quot;;<br>&#x2F;&#x2F;Sleep<br>var sideBarImageUrl3 = &quot;&#x2F;appimages&#x2F;sidebarimages&#x2F;home.png&quot;;<br>&#x2F;&#x2F;for home<br>var sideBarImageUrl4 = &quot;&#x2F;appimages&#x2F;sidebarimages&#x2F;music_add.png&quot;;<br>&#x2F;&#x2F;Add Music<br>var sideBarImageUrl5 = &quot;&#x2F;appimages&#x2F;sidebarimages&#x2F;profle.png&quot;;<br>&#x2F;&#x2F;profile<br>var sideBarImageUrl6 = &quot;&#x2F;appimages&#x2F;sidebarimages&#x2F;buy.png&quot;;<br>&#x2F;&#x2F;Buy<br>var sideBarImageUrl7 = &quot;&#x2F;appimages&#x2F;sidebarimages&#x2F;share.png&quot;;<br>&#x2F;&#x2F;share<br>var sideBarImageUrl8 = &quot;&#x2F;appimages&#x2F;sidebarimages&#x2F;album.png&quot;;<br>&#x2F;&#x2F;album</p>
<p>&#x2F;&#x2F;Veriable used for sleepWindow<br>var sleepTimeout = null;<br>var homeContainerHeight = Math.round(winHeight <em> 0.90);<br>var audioContainerHeight = Math.round(winHeight </em> 0.10);<br>var iconSize = Math.round((winHeight <em> 0.74) &#x2F; 4);<br>var homesearch = null;<br>var sideIconWidth = Math.round(Math.round(winHeight &#x2F; 7) &gt; 100) ? 100 : ((Math.round(winHeight &#x2F; 7) &lt; 60) ? 60 : Math.round(winHeight &#x2F; 7));<br>var sideIconHeight = Math.round(sideIconWidth </em> 1.2);</p>
<p>function SetColor(ths, toSet) {<br>    if (ths == 1) {<br>        iconview[ths].backgroundColor = ( toSet ? &#39;#003b8c&#39; : &#39;#012759&#39;);<br>    } else if (ths == 2) {<br>        iconview[ths].backgroundColor = ( toSet ? &#39;#003b8c&#39; : &#39;#022a60&#39;);<br>    } else if (ths == 3) {<br>        iconview[ths].backgroundColor = ( toSet ? &#39;#003b8c&#39; : &#39;#022a60&#39;);<br>    } else if (ths == 4) {<br>        iconview[ths].backgroundColor = ( toSet ? &#39;#003b8c&#39; : &#39;#002e6b&#39;);<br>    } else if (ths == 5) {<br>        iconview[ths].backgroundColor = ( toSet ? &#39;#003b8c&#39; : &#39;#002e6b&#39;);<br>    } else if (ths == 6) {<br>        iconview[ths].backgroundColor = ( toSet ? &#39;#003b8c&#39; : &#39;#003173&#39;);<br>    } else if (ths == 7) {<br>        iconview[ths].backgroundColor = ( toSet ? &#39;#003b8c&#39; : &#39;#003173&#39;);<br>    } else {<br>        iconview[ths].backgroundColor = ( toSet ? &#39;#003b8c&#39; : &#39;#00347b&#39;);<br>    }<br>}</p>
<p>function CreateHomeScreenNevBar() {<br>    &#x2F;&#x2F;Create Navigation View Inside UpperView<br>    var nevBarView = Titanium.UI.createView({<br>        left : 0,<br>        right : 0,<br>        top : 0,<br>        backgroundImage : &quot;&#x2F;appimages&#x2F;mainwindow&#x2F;nevBarBg.png&quot;,<br>        height : Math.round(winHeight * 0.08),<br>    });</p>
<pre><code class="hljs"><span class="hljs-comment">//Create Navigation Bar Inner Contents</span>
var logoImage = Ti.UI.createImageView({
    <span class="hljs-string">width :</span> Math.round((winHeight * <span class="hljs-number">0.08</span>) - <span class="hljs-number">6</span>),
    <span class="hljs-string">height :</span> Math.round((winHeight * <span class="hljs-number">0.08</span>) - <span class="hljs-number">6</span>),
    <span class="hljs-string">left :</span> <span class="hljs-number">5</span>,
    <span class="hljs-string">backgroundImage :</span> <span class="hljs-string">"/appimages/mainwindow/logo.png"</span>,

});
nevBarView.add(logoImage);
<span class="hljs-comment">//Create Title Label</span>
var titleLabel = Ti.UI.createLabel({
    <span class="hljs-string">height :</span> <span class="hljs-string">'auto'</span>,
    <span class="hljs-string">text :</span> <span class="hljs-string">"Station Digital"</span>,
    <span class="hljs-string">color :</span> <span class="hljs-string">"white"</span>,
    <span class="hljs-string">fontWeight :</span> <span class="hljs-string">'bold'</span>,
    <span class="hljs-string">textAlign :</span> <span class="hljs-string">'center'</span>,
    <span class="hljs-string">font :</span> {
        <span class="hljs-string">fontWeight :</span> <span class="hljs-string">'bold'</span>,
        <span class="hljs-string">fontSize :</span> Math.round((winHeight * <span class="hljs-number">0.08</span>) * <span class="hljs-number">0.50</span>),
    }
});

nevBarView.add(titleLabel);

<span class="hljs-comment">//Create Signout button</span>
var signoutBtnView = Ti.UI.createView({
    <span class="hljs-string">right :</span> <span class="hljs-number">5</span>,
    <span class="hljs-string">width :</span> Math.round(winWidth * <span class="hljs-number">0.16</span>),
    <span class="hljs-string">height :</span> Math.round((winHeight * <span class="hljs-number">0.08</span>) / <span class="hljs-number">1.5</span>),
    <span class="hljs-string">borderRadius :</span> <span class="hljs-number">10</span>,
    <span class="hljs-string">backgroundImage :</span> <span class="hljs-string">"/appimages/mainwindow/signoutbtn.png"</span>,

});
nevBarView.add(signoutBtnView);
signoutBtnView.addEventListener(<span class="hljs-string">'click'</span>, function() {
    <span class="hljs-keyword">try</span> {
        <span class="hljs-comment">//var memoryPool = new MemoryPool;</span>
        <span class="hljs-comment">//memoryPool.clean(HomeWin);</span>
        currentPlayListData = [];
        <span class="hljs-keyword">if</span> (Titanium.Facebook.loggedIn) {
            Titanium.Facebook.logout();
        }
        checkPlayerStatus = <span class="hljs-literal">false</span>;
        MediaPlayer.pause();
        <span class="hljs-keyword">if</span> (Titanium.Platform.name == <span class="hljs-string">'iPhone OS'</span>) {
            <span class="hljs-comment">//MediaPlayer.stop();</span>
            Ti.App.fireEvent(<span class="hljs-string">'openSplash'</span>);
            tabGroup.removeTab(MainTab);
            HomeWin.hide();
            HomeWin = <span class="hljs-literal">null</span>;
            homeScreenMainView = <span class="hljs-literal">null</span>;
        } <span class="hljs-keyword">else</span> {
            HomeWin.close();
            <span class="hljs-comment">//MediaPlayer.release();</span>
        }
    } <span class="hljs-keyword">catch</span>(e) {
        alert(e);
    }

});

var signoulabel = Ti.UI.createLabel({
    <span class="hljs-string">width :</span> <span class="hljs-string">'auto'</span>,
    <span class="hljs-string">height :</span> <span class="hljs-string">'auto'</span>,
    <span class="hljs-string">text :</span> <span class="hljs-string">"Sign Out"</span>,
    <span class="hljs-string">textAlign :</span> <span class="hljs-string">'center'</span>,
    <span class="hljs-string">color :</span> <span class="hljs-string">"white"</span>,
    <span class="hljs-string">font :</span> {
        <span class="hljs-string">fontWeight :</span> <span class="hljs-string">'bold'</span>,
        <span class="hljs-string">fontSize :</span> Math.round((winHeight * <span class="hljs-number">0.08</span>) * <span class="hljs-number">0.20</span>),
    }
});
signoutBtnView.add(signoulabel);
<span class="hljs-keyword">return</span> nevBarView;
</code></pre><p>}</p>
<p>function AddSearchBar() {<br>    homesearch = Titanium.UI.createSearchBar({<br>        top : 0,<br>        value : &#39;&#39;,<br>        height : Math.round(winHeight * 0.08),<br>        right : 0,<br>        left : 0,<br>        barColor : &#39;#00347b&#39;,<br>        showCancel : true,<br>        enabled : true,<br>        borderRadius : 0,<br>    });<br>    homesearch.addEventListener(&#39;return&#39;, function(e) {<br>        if (e.value.length &lt; 3) {<br>            Ti.UI.createAlertDialog({<br>                title : &#39;Search result&#39;,<br>                message : &#39;Enter more than three characters..!&#39;<br>            }).show();<br>        } else {<br>            try {<br>                HomeWin.remove(searchContainer);<br>            } catch(e) {<br>            }<br>            ShowLoader(&#39;Loading…&#39;);<br>            homesearch.blur();<br>            clearTimeout(updateTimeout);<br>            &#x2F;&#x2F;SearchScreenMainView.visible = true;<br>            &#x2F;&#x2F;HomeWin.add(SearchScreenMainView);<br>            &#x2F;&#x2F;homeScreenMainView.visible = false;<br>            HomeWin.remove(homeScreenMainView);<br>            CreateMainSearchContainer(1, e.value);<br>            GetSearchResult(e.value, 2);<br>            homesearch.value = &#39;&#39;;<br>        }<br>    });<br>    var updateTimeout;<br>    homesearch.addEventListener(&#39;change&#39;, function(evt) {<br>        if (updateTimeout)<br>            clearTimeout(updateTimeout);<br>        updateTimeout = setTimeout(function() {<br>            if (evt.value.length &gt; 3) {<br>                homesearch.blur();<br>                ShowLoader(&#39;Loading…&#39;);<br>                GetSearchResult(evt.value, 1);<br>            }<br>        }, 2000);<br>    });<br>    homesearch.addEventListener(&#39;cancel&#39;, function(e) {<br>        homesearch.blur();<br>        homesearch.value = &#39;&#39;;<br>        try {<br>            HomeWin.remove(searchContainer);<br>        } catch(e) {<br>        }<br>    });<br>    return homesearch;<br>}</p>
<p>function CreateIconContainer() {<br>    var iconContainerScrollView = Ti.UI.createScrollView({<br>        top : 0,<br>        bottom : 0,<br>        &#x2F;&#x2F;width : winWidth,<br>        contentHeight : &#39;auto&#39;,<br>        contentWidth : &#39;auto&#39;<br>    });<br>    var iconContainerMainView = Ti.UI.createView({<br>        top : 0,<br>        bottom : 0,<br>        &#x2F;&#x2F;width : winWidth,<br>        height : Math.round(iconSize * 4),<br>    });<br>    iconContainerScrollView.add(iconContainerMainView);</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> mystationbtn = createIcon(iconSize, <span class="hljs-string">"My Stations"</span>, <span class="hljs-number">0</span>, <span class="hljs-literal">null</span>, imgurl1, <span class="hljs-number">0</span>, <span class="hljs-string">'#012759'</span>, <span class="hljs-number">1</span>);
mystationbtn.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span> </span>{
    SetColor(e.source.indx, <span class="hljs-literal">true</span>);
    setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
        SetColor(e.source.indx, <span class="hljs-literal">false</span>);
        HomeWin.remove(homeScreenMainView);
        openMyStationWindow(Titanium.App.Properties.getString(<span class="hljs-string">"userid"</span>));
        openAnimation(myStationScreenMainView);
    }, <span class="hljs-number">50</span>);
});
iconContainerMainView.add(mystationbtn);
<span class="hljs-keyword">var</span> browsebtn = createIcon(iconSize, <span class="hljs-string">"Browse"</span>, <span class="hljs-literal">null</span>, <span class="hljs-number">0</span>, imgurl2, <span class="hljs-number">0</span>, <span class="hljs-string">'#022a60'</span>, <span class="hljs-number">2</span>);
browsebtn.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span> </span>{
    SetColor(e.source.indx, <span class="hljs-literal">true</span>);
    setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
        SetColor(e.source.indx, <span class="hljs-literal">false</span>);
        HomeWin.remove(homeScreenMainView);
        OpenBrowse();
        openAnimation(BrowseScreenMainView);
    }, <span class="hljs-number">50</span>);
});
iconContainerMainView.add(browsebtn);
<span class="hljs-keyword">var</span> nowplayingbtn = createIcon(iconSize, <span class="hljs-string">"Now Playing"</span>, <span class="hljs-number">0</span>, <span class="hljs-literal">null</span>, imgurl3, iconSize, <span class="hljs-string">'#022a60'</span>, <span class="hljs-number">3</span>);
nowplayingbtn.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span> </span>{
    SetColor(e.source.indx, <span class="hljs-literal">true</span>);
    setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
        SetColor(e.source.indx, <span class="hljs-literal">false</span>);
        HomeWin.remove(homeScreenMainView);
        HomeWin.orientationModes = [Titanium.UI.PORTRAIT];
        HomeWin.add(nowplayingScreenMainView);
        nowplayingScreenMainView.height = winHeight;
        openAnimation(nowplayingScreenMainView);
        nowplayingstatus = <span class="hljs-literal">true</span>;
        shareFor = <span class="hljs-number">0</span>;
    }, <span class="hljs-number">50</span>);
});
iconContainerMainView.add(nowplayingbtn);
<span class="hljs-keyword">var</span> popularbtn = createIcon(iconSize, <span class="hljs-string">"Popular"</span>, <span class="hljs-literal">null</span>, <span class="hljs-number">0</span>, imgurl4, iconSize, <span class="hljs-string">' #002e6b'</span>, <span class="hljs-number">4</span>);
popularbtn.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span> </span>{
    SetColor(e.source.indx, <span class="hljs-literal">true</span>);
    setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
        SetColor(e.source.indx, <span class="hljs-literal">false</span>);
        HomeWin.remove(homeScreenMainView);
        OpenPopular();
        openAnimation(PopularScreenMainView);
    }, <span class="hljs-number">50</span>);
});
iconContainerMainView.add(popularbtn);

<span class="hljs-keyword">var</span> songilikebtn = createIcon(iconSize, <span class="hljs-string">"Song I Like"</span>, <span class="hljs-number">0</span>, <span class="hljs-literal">null</span>, imgurl5, iconSize * <span class="hljs-number">2</span>, <span class="hljs-string">'#002e6b'</span>, <span class="hljs-number">5</span>)
songilikebtn.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span> </span>{
    SetColor(e.source.indx, <span class="hljs-literal">true</span>);
    setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
        SetColor(e.source.indx, <span class="hljs-literal">false</span>);
        HomeWin.remove(homeScreenMainView);
        openSongILikewindow(Titanium.App.Properties.getString(<span class="hljs-string">"userid"</span>));
        openAnimation(songILikeScreenMainView);
    }, <span class="hljs-number">50</span>);
});
iconContainerMainView.add(songilikebtn);
<span class="hljs-keyword">var</span> listenhistorybtn = createIcon(iconSize, <span class="hljs-string">"Listen History"</span>, <span class="hljs-literal">null</span>, <span class="hljs-number">0</span>, imgurl6, iconSize * <span class="hljs-number">2</span>, <span class="hljs-string">'#003173'</span>, <span class="hljs-number">6</span>);
listenhistorybtn.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span> </span>{
    SetColor(e.source.indx, <span class="hljs-literal">true</span>);
    setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
        SetColor(e.source.indx, <span class="hljs-literal">false</span>);
        HomeWin.remove(homeScreenMainView);
        openListenHistory(Titanium.App.Properties.getString(<span class="hljs-string">"userid"</span>));
        openAnimation(listenHistoryScreenMainView);
    }, <span class="hljs-number">50</span>);
});
iconContainerMainView.add(listenhistorybtn);
<span class="hljs-keyword">var</span> upgradebtn = createIcon(iconSize, <span class="hljs-string">"Upgrade"</span>, <span class="hljs-number">0</span>, <span class="hljs-literal">null</span>, imgurl7, iconSize * <span class="hljs-number">3</span>, <span class="hljs-string">'#003173'</span>, <span class="hljs-number">7</span>);
upgradebtn.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span> </span>{
    SetColor(e.source.indx, <span class="hljs-literal">true</span>);
    setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
        SetColor(e.source.indx, <span class="hljs-literal">false</span>);
        Ti.UI.createAlertDialog({
            title : <span class="hljs-string">'Wait for this'</span>,
            message : <span class="hljs-string">"Coming Soon!!!!!!..."</span>,
        }).show();
    }, <span class="hljs-number">50</span>);
});
iconContainerMainView.add(upgradebtn);
<span class="hljs-keyword">var</span> settinfbtn = createIcon(iconSize, <span class="hljs-string">"Settings"</span>, <span class="hljs-literal">null</span>, <span class="hljs-number">0</span>, imgurl8, iconSize * <span class="hljs-number">3</span>, <span class="hljs-string">'#00347b'</span>, <span class="hljs-number">8</span>);
settinfbtn.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span> </span>{
    SetColor(e.source.indx, <span class="hljs-literal">true</span>);
    setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
        SetColor(e.source.indx, <span class="hljs-literal">false</span>);
        openSettingWindow();
        HomeWin.remove(homeScreenMainView);
        openAnimation(settingsScreenMainView);
    }, <span class="hljs-number">50</span>);
});
iconContainerMainView.add(settinfbtn);
<span class="hljs-keyword">return</span> iconContainerScrollView;
</code></pre><p>}</p>
<p>Ti.Media.audioSessionMode = Ti.Media.AUDIO_SESSION_MODE_PLAYBACK;<br>&#x2F;&#x2F;veriables used for song Tracking<br>var MediaPlayer = MediaPlayer = Ti.Media.createAudioPlayer({<br>    allowBackground : true,<br>    preload : true,<br>    waiting : true,<br>});<br>MediaPlayer.addEventListener(&#39;progress&#39;, function(e) {<br>    audioprogress.value = Math.floor(e.progress &#x2F; 1000);<br>    nowPlayingProgressBar.value = Math.floor(e.progress &#x2F; 1000);<br>    &#x2F;&#x2F;Ti.API.info(&#39;Songs-&#39; + Math.floor(e.progress &#x2F; 1000));<br>    var sec = e.progress &#x2F; 1000;<br>    timeElapsedLabel.text = &quot;00:&quot; + parseInt(sec);<br>    &#x2F;&#x2F;    timeElapsedLabel.text=(min&gt;10?min:&#39;0&#39;+min)+&quot;:&quot;sec;<br>});<br>MediaPlayer.addEventListener(&#39;change&#39;, function(e) {<br> Ti.API.info(&#39;State: &#39; + e.description + &#39; (&#39; + e.state + &#39;)&#39;);<br>    if (checkPlayerStatus == false) {<br>        MediaPlayer.pause();<br>        try {<br>            if (Titanium.Platform.name != &#39;iPhone OS&#39;) {<br>                MediaPlayer.release();<br>                MediaPlayer.url = null;<br>            }<br>            MediaPlayer.stop();<br>            MediaPlayer.url = null;<br>        } catch(e) {<br>        }<br>    } else if (Titanium.Platform.name != &#39;iPhone OS&#39;) {<br>        if (e.state == 7 &amp;&amp; nextclick == false) {<br>            nextclick = true;<br>            currentSongIndex++;<br>            AddSongs(TrackIDs[currentSongIndex], IisPlaylist);<br>        }<br>    } else {<br>        if (e.state == 7 &amp;&amp; nextclick == false) {<br>            nextclick = true;<br>            currentSongIndex++;<br>            AddSongs(TrackIDs[currentSongIndex], IisPlaylist);<br>            &#x2F;&#x2F;    Ti.App.fireEvent(&#39;SkiporNext&#39;, {<br>            &#x2F;&#x2F;        CurrentINDX : currentSongIndex<br>            &#x2F;&#x2F;    });<br>        }<br>    }<br>    if (e.state == 1) {<br>        nextclick = false;<br>    }<br>    &#x2F;&#x2F;Ti.API.info(&#39;Change-&#39; + e.state+&quot; Disc-&quot;+e.description);<br>});<br>var audioPlayerImage = null;<br>var audioprogress = null;<br>var audioPlayerLabel = null;<br>var playButton = null;<br>var nextButton = null;<br>var playerStatus = true;</p>
<p>&#x2F;<em><br>MediaPlayer.addEventListener(&#39;complete&#39;,function(){<br>currentSongIndex++;<br>Ti.App.fireEvent(&#39;SkiporNext&#39;, {<br>CurrentINDX : currentSongIndex<br>});<br>});</em>&#x2F;<br>&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;&#x2F;<br>function CreateAudioPlayer() {</p>
<pre><code class="hljs"><span class="hljs-comment">//Create Audio Player Container</span>
var audioPlayerContainer = Ti.UI.createView({
    <span class="hljs-string">left :</span> <span class="hljs-number">0</span>,
    <span class="hljs-string">right :</span> <span class="hljs-number">0</span>,
    <span class="hljs-string">bottom :</span> <span class="hljs-number">0</span>,
    <span class="hljs-string">height :</span> audioContainerHeight,
    <span class="hljs-string">backgroundImage :</span> <span class="hljs-string">"/appimages/audioplayerimages/player_bg.png"</span>,
});
<span class="hljs-comment">//Make two Sub Containers inside audioPlayerContainer</span>
<span class="hljs-comment">//View 1</span>
var audioPlayerLeftContainer = Ti.UI.createView({
    <span class="hljs-string">left :</span> <span class="hljs-number">0</span>,
    <span class="hljs-string">height :</span> audioContainerHeight,
    <span class="hljs-string">right :</span> Math.round(winWidth * <span class="hljs-number">0.25</span>),
    <span class="hljs-comment">//backgroundColor : "#012759"</span>
});
audioPlayerContainer.add(audioPlayerLeftContainer);
<span class="hljs-comment">//Add 3 Controls inside audioPlayerLeftContainer</span>
<span class="hljs-comment">//Create Image View</span>
audioPlayerImage = Ti.UI.createImageView({
    <span class="hljs-string">left :</span> <span class="hljs-number">5</span>,
    <span class="hljs-string">height :</span> Math.round(audioContainerHeight * <span class="hljs-number">0.80</span>),
    <span class="hljs-string">width :</span> Math.round(audioContainerHeight * <span class="hljs-number">0.80</span>),
    <span class="hljs-string">image :</span> <span class="hljs-string">"/appimages/mainwindow/defaultimage.jpg"</span>,
});
audioPlayerLeftContainer.add(audioPlayerImage);
audioprogress = Titanium.UI.createProgressBar({
    <span class="hljs-string">right :</span> <span class="hljs-number">0</span>,
    <span class="hljs-string">left :</span> Math.round(audioContainerHeight * <span class="hljs-number">0.80</span>) + <span class="hljs-number">10</span>,
    <span class="hljs-string">min :</span> <span class="hljs-number">0</span>,
    <span class="hljs-string">max :</span> <span class="hljs-number">100</span>,
    <span class="hljs-string">value :</span> <span class="hljs-number">0</span>,
    <span class="hljs-string">height :</span> (Titanium.Platform.name != <span class="hljs-string">'iPhone OS'</span> ? 30 : <span class="hljs-number">20</span>),
    <span class="hljs-string">color :</span> <span class="hljs-string">'green'</span>,
    <span class="hljs-string">style :</span> Titanium.UI.iPhone.ProgressBarStyle.PLAIN,
    <span class="hljs-string">bottom :</span> <span class="hljs-number">5</span>,
});
audioPlayerLeftContainer.add(audioprogress);
audioprogress.show();
<span class="hljs-comment">//Create Label</span>
audioPlayerLabel = Ti.UI.createLabel({
    <span class="hljs-string">left :</span> Math.round(audioContainerHeight * <span class="hljs-number">0.80</span>) + <span class="hljs-number">10</span>,
    <span class="hljs-string">right :</span> <span class="hljs-number">0</span>,
    <span class="hljs-string">height :</span> Math.round(audioContainerHeight * <span class="hljs-number">0.50</span>) - <span class="hljs-number">5</span>,
    <span class="hljs-string">text :</span> <span class="hljs-string">""</span>,
    <span class="hljs-string">top :</span> <span class="hljs-number">5</span>,
    <span class="hljs-string">color :</span> <span class="hljs-string">"white"</span>,
    <span class="hljs-string">font :</span> {
        <span class="hljs-string">fontWeight :</span> <span class="hljs-string">'bold'</span>,
        <span class="hljs-string">fontSize :</span> Math.round((audioContainerHeight) * <span class="hljs-number">0.25</span>),
    }
});

audioPlayerLeftContainer.add(audioPlayerLabel);

<span class="hljs-comment">//View 2</span>
var audioPlayerRightContainer = Ti.UI.createView({
    <span class="hljs-string">right :</span> <span class="hljs-number">0</span>,
    <span class="hljs-string">height :</span> audioContainerHeight,
    <span class="hljs-string">width :</span> Math.round(winWidth * <span class="hljs-number">0.25</span>),
    <span class="hljs-comment">//backgroundColor : "#012759"</span>
});
audioPlayerContainer.add(audioPlayerRightContainer);

<span class="hljs-comment">//Add 3 buttons inside audioPlayerRightContainer</span>
<span class="hljs-comment">//Previous Button</span>
var previousButton = Ti.UI.createButton({
    <span class="hljs-string">left :</span> <span class="hljs-number">0</span>,
    <span class="hljs-string">height :</span> Math.round(audioContainerHeight * <span class="hljs-number">0.70</span>),
    <span class="hljs-string">width :</span> Math.round(audioContainerHeight * <span class="hljs-number">0.70</span>),
    <span class="hljs-string">backgroundImage :</span> <span class="hljs-string">"/appimages/audioplayerimages/prev.png"</span>,
    <span class="hljs-string">enabled :</span> <span class="hljs-literal">false</span>,
});
<span class="hljs-comment">//audioPlayerRightContainer.add(previousButton);</span>
<span class="hljs-comment">//Play Button</span>
playButton = Ti.UI.createButton({
    <span class="hljs-string">left :</span> <span class="hljs-number">10</span>,
    <span class="hljs-string">height :</span> Math.round(audioContainerHeight * <span class="hljs-number">0.70</span>),
    <span class="hljs-string">width :</span> Math.round(audioContainerHeight * <span class="hljs-number">0.70</span>),
    <span class="hljs-string">backgroundImage :</span> <span class="hljs-string">"/appimages/audioplayerimages/play.png"</span>

});
playButton.addEventListener(<span class="hljs-string">'click'</span>, function() {
    <span class="hljs-keyword">if</span> (currentPlayListData.length &gt; <span class="hljs-number">0</span>) {
        <span class="hljs-keyword">if</span> (playerStatus) {
            MediaPlayer.pause();
            playButton.backgroundImage = <span class="hljs-string">"/appimages/audioplayerimages/play.png"</span>;
            middleInnerButton.backgroundImage = <span class="hljs-string">"/appimages/NowPlayingWindow/play.png"</span>;
            playerStatus = <span class="hljs-literal">false</span>;
        } <span class="hljs-keyword">else</span> {
            MediaPlayer.play();
            playButton.backgroundImage = <span class="hljs-string">"/appimages/audioplayerimages/pausesmall.png"</span>;
            middleInnerButton.backgroundImage = <span class="hljs-string">"/appimages/NowPlayingWindow/pause.png"</span>;
            playerStatus = <span class="hljs-literal">true</span>;
        }
    } <span class="hljs-keyword">else</span> {
        Titanium.UI.createAlertDialog({
            <span class="hljs-string">title :</span> <span class="hljs-string">'No Station Selected'</span>,
            <span class="hljs-string">message :</span> <span class="hljs-string">'Create Playlst first there are no contents to play.'</span>,
        }).show();
    }
});
audioPlayerRightContainer.add(playButton);
<span class="hljs-comment">//Next Button</span>
nextButton = Ti.UI.createButton({
    <span class="hljs-string">right :</span> <span class="hljs-number">10</span>,
    <span class="hljs-string">height :</span> Math.round(audioContainerHeight * <span class="hljs-number">0.70</span>),
    <span class="hljs-string">width :</span> Math.round(audioContainerHeight * <span class="hljs-number">0.70</span>),
    <span class="hljs-string">backgroundImage :</span> <span class="hljs-string">"/appimages/audioplayerimages/next.png"</span>
});
nextButton.addEventListener(<span class="hljs-string">'click'</span>, function() {
    <span class="hljs-keyword">if</span> (skipCount == <span class="hljs-number">1</span>) {
        var skipCountTimeout = setTimeout(function() {
            skipCount = <span class="hljs-number">0</span>;
        }, Math.round((<span class="hljs-number">60</span> * <span class="hljs-number">60</span>) * <span class="hljs-number">1000</span>));
    }
    <span class="hljs-keyword">if</span> (skipCount &gt;= <span class="hljs-number">6</span>) {
        Titanium.UI.createAlertDialog({
            <span class="hljs-string">title :</span> <span class="hljs-string">'Not Allowed'</span>,
            <span class="hljs-string">message :</span> <span class="hljs-string">'Unfortunately our music licenses force us to limit the number of tracks you may skip each hour. If you want to hear something else, try creating another station starting with different artist or track.'</span>,
        }).show();
        <span class="hljs-keyword">return</span>;
    }
    skipCount++;
    nextclick = <span class="hljs-literal">true</span>;
    currentSongIndex++;
    AddSongs(TrackIDs[currentSongIndex], IisPlaylist);
    <span class="hljs-comment">//Ti.App.fireEvent('SkiporNext', {</span>
    <span class="hljs-comment">//    CurrentINDX : currentSongIndex</span>
    <span class="hljs-comment">//});</span>
});
audioPlayerRightContainer.add(nextButton);
<span class="hljs-keyword">return</span> audioPlayerContainer;
</code></pre><p>}</p>
<p>function createSideBar() {<br>    sideBarMainContainer = Ti.UI.createView({<br>        top : Math.round(winHeight <em> 0.08),<br>        bottom : 0, &#x2F;&#x2F;Math.round(winHeight </em> 0.10),<br>        right : 0,<br>        width : 1,<br>        backgroundImage : &#39;&#x2F;appimages&#x2F;sidebarimages&#x2F;sidebar_bg.png&#39;,<br>        &#x2F;&#x2F;height : Ti.Platform.displayCaps.platformHeight - Math.round(Math.round(winHeight <em> 0.08) + Math.round(winHeight </em> 0.10)),<br>        zIndex : 999,<br>    });<br>    var sideBarMainScrollContainer = Ti.UI.createScrollView({<br>        top : 0,<br>        bottom : 0,<br>        right : 0,<br>        &#x2F;&#x2F;visible : false,<br>    });<br>    sideBarMainContainer.add(sideBarMainScrollContainer);<br>    var closeview = Ti.UI.createView({<br>        width : 20,<br>        height : 40,<br>        left : 0,<br>        backgroundImage : &quot;&#x2F;appimages&#x2F;sidebarimages&#x2F;closeSide.png&quot;,<br>        zIndex : 10,<br>    });<br>    sideBarMainContainer.add(closeview);</p>
<pre><code class="hljs"><span class="hljs-comment">//Listener to sideViewCloseView</span>
closeview.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
    CloseSidebar();
});

sideBarIconContainer = Ti.UI.createView({
    layout : <span class="hljs-string">"vertical"</span>,
    height : <span class="hljs-string">'auto'</span>,
    width : sideIconWidth,
    backgroundColor : <span class="hljs-string">"transparent"</span>
});
sideBarMainScrollContainer.add(sideBarIconContainer);
<span class="hljs-keyword">try</span> {
    <span class="hljs-comment">//add buttons inside sideScrollViewContainer</span>
    sideMyStationButton = createSideBarIcons(sideIconHeight, sideIconWidth, <span class="hljs-string">"Stations"</span>, sideBarImageUrl1, <span class="hljs-number">1</span>);
    sideMyStationButton.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span> </span>{
        <span class="hljs-keyword">try</span> {
            HomeWin.remove(albumScreenMainView);
        } <span class="hljs-keyword">catch</span>(e) {
        }
        <span class="hljs-keyword">try</span> {
            HomeWin.remove(albumInfoScreenMainView);
        } <span class="hljs-keyword">catch</span>(e) {
        }
        <span class="hljs-keyword">try</span> {
            HomeWin.remove(BrowseScreenMainView);
        } <span class="hljs-keyword">catch</span>(e) {
        }
        <span class="hljs-keyword">try</span> {
            HomeWin.remove(BrowseResultMainView);
        } <span class="hljs-keyword">catch</span>(e) {
        }
        <span class="hljs-keyword">try</span> {
            HomeWin.remove(listenHistoryScreenMainView);
        } <span class="hljs-keyword">catch</span>(e) {
        }
        <span class="hljs-keyword">try</span> {
            HomeWin.remove(myStationScreenMainView);
        } <span class="hljs-keyword">catch</span>(e) {
        }
        <span class="hljs-keyword">try</span> {
            HomeWin.remove(nowplayingScreenMainView);
        } <span class="hljs-keyword">catch</span>(e) {
        }
        <span class="hljs-keyword">try</span> {
            HomeWin.remove(PopularScreenMainView);
        } <span class="hljs-keyword">catch</span>(e) {
        }
        <span class="hljs-keyword">try</span> {
            HomeWin.remove(PopularResultMainView);
        } <span class="hljs-keyword">catch</span>(e) {
        }
        <span class="hljs-keyword">try</span> {
            HomeWin.remove(SearchScreenMainView);
        } <span class="hljs-keyword">catch</span>(e) {
        }
        <span class="hljs-keyword">try</span> {
            HomeWin.remove(PopularPlayListMainView);
        } <span class="hljs-keyword">catch</span>(e) {
        }
        <span class="hljs-keyword">try</span> {
            HomeWin.remove(settingsScreenMainView);
        } <span class="hljs-keyword">catch</span>(e) {
        }
        <span class="hljs-keyword">try</span> {
            HomeWin.remove(songILikeScreenMainView);
        } <span class="hljs-keyword">catch</span>(e) {
        }
        <span class="hljs-keyword">try</span> {
            HomeWin.remove(ProfileScreenMainView);
        } <span class="hljs-keyword">catch</span>(e) {
        }
        CloseSidebar();
        addMyStationsidebar();
        openMyStationWindow(Titanium.App.Properties.getString(<span class="hljs-string">"userid"</span>));
        openAnimation(myStationScreenMainView);
        HomeWin.orientationModes = [Titanium.UI.PORTRAIT, Titanium.UI.UPSIDE_PORTRAIT, Titanium.UI.LANDSCAPE_LEFT, Titanium.UI.LANDSCAPE_RIGHT];
    });

    sideSleepButton = createSideBarIcons(sideIconHeight, sideIconWidth, <span class="hljs-string">"Sleep"</span>, sideBarImageUrl2, <span class="hljs-number">2</span>);
    sideSleepButton.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span> </span>{
        openSleepWindow();
        CloseSidebar();
    });

    sideHomeButton = createSideBarIcons(sideIconHeight, sideIconWidth, <span class="hljs-string">"Home"</span>, sideBarImageUrl3, <span class="hljs-number">3</span>);
    sideHomeButton.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span> </span>{
        <span class="hljs-keyword">try</span> {
            HomeWin.remove(albumScreenMainView);
        } <span class="hljs-keyword">catch</span>(e) {
        }
        <span class="hljs-keyword">try</span> {
            HomeWin.remove(albumInfoScreenMainView);
        } <span class="hljs-keyword">catch</span>(e) {
        }
        <span class="hljs-keyword">try</span> {
            HomeWin.remove(BrowseScreenMainView);
        } <span class="hljs-keyword">catch</span>(e) {
        }
        <span class="hljs-keyword">try</span> {
            HomeWin.remove(BrowseResultMainView);
        } <span class="hljs-keyword">catch</span>(e) {
        }
        <span class="hljs-keyword">try</span> {
            HomeWin.remove(listenHistoryScreenMainView);
        } <span class="hljs-keyword">catch</span>(e) {
        }
        <span class="hljs-keyword">try</span> {
            HomeWin.remove(myStationScreenMainView);
        } <span class="hljs-keyword">catch</span>(e) {
        }
        <span class="hljs-keyword">try</span> {
            HomeWin.remove(nowplayingScreenMainView);
        } <span class="hljs-keyword">catch</span>(e) {
        }
        <span class="hljs-keyword">try</span> {
            HomeWin.remove(PopularScreenMainView);
        } <span class="hljs-keyword">catch</span>(e) {
        }
        <span class="hljs-keyword">try</span> {
            HomeWin.remove(PopularResultMainView);
        } <span class="hljs-keyword">catch</span>(e) {
        }
        <span class="hljs-keyword">try</span> {
            HomeWin.remove(PopularPlayListMainView);
        } <span class="hljs-keyword">catch</span>(e) {
        }
        <span class="hljs-keyword">try</span> {
            HomeWin.remove(SearchScreenMainView);
        } <span class="hljs-keyword">catch</span>(e) {
        }
        <span class="hljs-keyword">try</span> {
            HomeWin.remove(settingsScreenMainView);
        } <span class="hljs-keyword">catch</span>(e) {
        }
        <span class="hljs-keyword">try</span> {
            HomeWin.remove(songILikeScreenMainView);
        } <span class="hljs-keyword">catch</span>(e) {
        }
        <span class="hljs-keyword">try</span> {
            HomeWin.remove(ProfileScreenMainView);
        } <span class="hljs-keyword">catch</span>(e) {
        }
        HomeWin.add(homeScreenMainView);
        CloseSidebar();
    });
    sideProfileButton = createSideBarIcons(sideIconHeight, sideIconWidth, <span class="hljs-string">"Profile"</span>, sideBarImageUrl5, <span class="hljs-number">5</span>);
    sideProfileButton.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span> </span>{
        <span class="hljs-keyword">try</span> {
            OpenArtistProfile(currentPlayListData[<span class="hljs-number">0</span>][<span class="hljs-number">4</span>], currentPlayListData[<span class="hljs-number">0</span>][<span class="hljs-number">1</span>], <span class="hljs-number">1</span>, currentPlayListData[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>]);
            HomeWin.remove(nowplayingScreenMainView);
            CloseSidebar();
        } <span class="hljs-keyword">catch</span>(e) {
            Ti.UI.createAlertDialog({
                title : <span class="hljs-string">'No Track'</span>,
                message : <span class="hljs-string">"No Playing Traack Found..."</span>,
            }).show();
        }
    });
    sideBuyButton = createSideBarIcons(sideIconHeight, sideIconWidth, <span class="hljs-string">"Buy"</span>, sideBarImageUrl6, <span class="hljs-number">6</span>);
    sideBuyButton.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span> </span>{
        ShowBuyWindow(<span class="hljs-string">"Station Digital"</span>, <span class="hljs-string">'http://shop.stationdigital.com'</span>);
        CloseSidebar();
    });

    sideShareButton = createSideBarIcons(sideIconHeight, sideIconWidth, <span class="hljs-string">"Share"</span>, sideBarImageUrl7, <span class="hljs-number">7</span>);
    sideShareButton.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span> </span>{
        openShareWindow();
        CloseSidebar();
    });

    sideAlbumButton = createSideBarIcons(sideIconHeight, sideIconWidth, <span class="hljs-string">"Album"</span>, sideBarImageUrl8, <span class="hljs-number">8</span>);
    sideAlbumButton.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span> </span>{
        <span class="hljs-keyword">try</span> {
            OpenAlbumList(artistIDforAlbum);
            CloseSidebar();
        } <span class="hljs-keyword">catch</span>(e) {
            Ti.UI.createAlertDialog({
                title : <span class="hljs-string">'No Track'</span>,
                message : <span class="hljs-string">"No Playing Traack Found..."</span>,
            }).show();
        }
    });

} <span class="hljs-keyword">catch</span>(e) {
    alert(e);
}
<span class="hljs-keyword">return</span> sideBarMainContainer;
</code></pre><p>}</p>
<p>function addNowPlayingsidebar() {<br>    if (sideBarIconContainer.children != null) {<br>        var cLength = sideBarIconContainer.children.length;<br>        for (var i = 0; i &lt; cLength; i++) {<br>            sideBarIconContainer.remove(sideBarIconContainer.children[0]);<br>            wait(50);<br>        }<br>    }<br>    sideBarIconContainer.add(sideSleepButton);<br>    sideBarIconContainer.add(sideProfileButton);<br>    sideBarIconContainer.add(sideBuyButton);<br>    sideBarIconContainer.add(sideShareButton);<br>    sideBarIconContainer.add(sideHomeButton);<br>}</p>
<p>function addProfilesidebar() {<br>    if (sideBarIconContainer.children != null) {<br>        var cLength = sideBarIconContainer.children.length;<br>        for (var i = 0; i &lt; cLength; i++) {<br>            sideBarIconContainer.remove(sideBarIconContainer.children[0]);<br>            wait(50);<br>        }<br>    }<br>    sideBarIconContainer.add(sideAlbumButton);<br>    sideBarIconContainer.add(sideMyStationButton);<br>    sideBarIconContainer.add(sideShareButton);<br>    sideBarIconContainer.add(sideSleepButton);<br>    sideBarIconContainer.add(sideHomeButton);<br>}</p>
<p>function addMyStationsidebar() {<br>    if (sideBarIconContainer.children != null) {<br>        var cLength = sideBarIconContainer.children.length;<br>        for (var i = 0; i &lt; cLength; i++) {<br>            sideBarIconContainer.remove(sideBarIconContainer.children[0]);<br>            wait(50);<br>        }<br>    }<br>    sideBarIconContainer.add(sideSleepButton);<br>    sideBarIconContainer.add(sideHomeButton);<br>}</p>
<p>function addOthersidebar() {<br>    if (sideBarIconContainer.children != null) {<br>        var cLength = sideBarIconContainer.children.length;<br>        for (var i = 0; i &lt; cLength; i++) {<br>            sideBarIconContainer.remove(sideBarIconContainer.children[0]);<br>            wait(50);<br>        }<br>    }<br>    sideBarIconContainer.add(sideMyStationButton);<br>    sideBarIconContainer.add(sideSleepButton);<br>    sideBarIconContainer.add(sideHomeButton);<br>}</p>
<p>function OpenHomeScreen() {<br>    try {<br>        &#x2F;&#x2F;    HomeWin.remove(homeScreenMainView);<br>        if (nowplayingstatus) {<br>            HomeWin.remove(nowplayingScreenMainView);<br>        }<br>    } catch(e) {<br>    }<br>    HomeWin.add(homeScreenMainView);<br>}</p>
<p>function OpenSidebar() {<br>    &#x2F;&#x2F;a11.left = Ti.Platform.displayCaps.platformWidth-100;<br>    a11.right = 0;<br>    a11.height = Ti.Platform.displayCaps.platformHeight - Math.round(Math.round(winHeight * 0.08));<br>    a11.width = sideIconWidth;<br>    &#x2F;&#x2F;a11.visible=true;<br>    sideBarMainContainer.animate(a11);<br>}</p>
<p>function CloseSidebar() {<br>    &#x2F;&#x2F;a1.left=Ti.Platform.displayCaps.platformWidth-1;<br>    a1.right = 0;<br>    a1.width = 1;<br>    a1.height = Ti.Platform.displayCaps.platformHeight - Math.round(Math.round(winHeight * 0.08));<br>    &#x2F;&#x2F;    a1.visible=false;<br>    sideBarMainContainer.animate(a1);<br>}</p>
<p>function Skip_Play_Song(e) {<br>    try {<br>            MediaPlayer.stop();<br>            if (Titanium.Platform.name != &#39;iPhone OS&#39;) {<br>                MediaPlayer.release();<br>            }<br>            &#x2F;&#x2F;Ti.API.info(&#39;inside call2&#39;);<br>        audioPlayerImage.image = currentPlayListData[e.CurrentINDX][0];<br>        nowPlayingImage.image = currentPlayListData[e.CurrentINDX][0];<br>        audioprogress.value = 0;<br>        audioprogress.max = 26;<br>        &#x2F;&#x2F;currentPlayListData[e.CurrentINDX][0]6;<br>        &#x2F;&#x2F;try {<br>        timeElapsedLabel.text = &quot;00:00&quot;;<br>        totalTimeLabel.text = currentPlayListData[e.CurrentINDX][7];<br>        nowPlayingTitleLabel.text = currentPlayListData[e.CurrentINDX][2];<br>        audioPlayerLabel.text = currentPlayListData[e.CurrentINDX][1];<br>        songNameLabel.text = currentPlayListData[e.CurrentINDX][2];<br>        albumNameLabel.text = currentPlayListData[e.CurrentINDX][6];<br>        middleInnerButton.backgroundImage = &quot;&#x2F;appimages&#x2F;NowPlayingWindow&#x2F;pause.png&quot;;<br>        playButton.backgroundImage = &quot;&#x2F;appimages&#x2F;audioplayerimages&#x2F;pausesmall.png&quot;;<br>        playerStatus = true;<br>        Ti.API.info(&#39;url–&gt;&#39; + currentPlayListData[e.CurrentINDX][8]);<br>        Ti.API.info(&#39;id–&gt;&#39; + currentPlayListData[e.CurrentINDX][9]);<br>        MediaPlayer.url = currentPlayListData[e.CurrentINDX][8];<br>        &#x2F;&#x2F;Ti.API.info(currentPlayListData[e.CurrentINDX][8]);<br>        try {<br>            MediaPlayer.start();<br>        } catch(e) {<br>            alert(&#39;Media===&#39; + e);<br>        }</p>
<pre><code class="hljs">} catch<span class="hljs-comment">(e)</span> {
    alert<span class="hljs-comment">(e)</span>;
}
</code></pre><p>}</p>
<p>Ti.App.addEventListener(&#39;SkiporNext&#39;, Skip_Play_Song);</p>
<p>Ti.Gesture.addEventListener(&#39;orientationchange&#39;, function(e) {<br>    try {<br>        if (e.orientation &gt;= 1 &amp;&amp; e.orientation &lt;= 4) {<br>            sideBarMainContainer.height = Ti.Platform.displayCaps.platformHeight - Math.round(Math.round(winHeight * 0.08));<br>        }<br>    } catch(e) {<br>    }<br>});</p>
<p>Ti.Gesture.addEventListener(&#39;shake&#39;, function(e) {<br>    if (Titanium.App.Properties.getBool(&quot;shake&quot;) == &quot;&quot; || Titanium.App.Properties.getBool(&quot;shake&quot;) == null) {<br>        Titanium.App.Properties.setBool(&quot;shake&quot;, true);<br>    } else if (Titanium.App.Properties.getBool(&quot;shake&quot;)) {<br>        if (skipCount == 1) {<br>            var sleepTimeout = setTimeout(function() {<br>                skipCount = 0;<br>            }, Math.round((60 <em> 60) </em> 1000));<br>        }<br>        if (skipCount &gt;= 6) {<br>            Titanium.UI.createAlertDialog({<br>                title : &#39;Not Allowed&#39;,<br>                message : &#39;Unfortunately our music licenses force us to limit the number of tracks you may skip each hour. If you want to hear something else, try creating another station starting with different artist or track.&#39;,<br>            }).show();<br>            return;<br>        }</p>
<pre><code class="hljs">    skipCount++<span class="hljs-comment">;</span>
    nextclick = true<span class="hljs-comment">;</span>
    currentSongIndex++<span class="hljs-comment">;</span>
    AddSongs(TrackIDs[currentSongIndex], IisPlaylist)<span class="hljs-comment">;</span>
    //Ti.App.fireEvent('SkiporNext', {
    //    CurrentINDX : currentSongIndex
    //})<span class="hljs-comment">;</span>
}
</code></pre><p>});</p>
<p>function OpenSplashWindow() {<br>    var splashWindow = Titanium.UI.createWindow({<br>        url : &#39;ui&#x2F;splash.js&#39;,<br>        backgroundImage : &quot;&#x2F;appimages&#x2F;splashscreen&#x2F;splashback.jpg&quot;,<br>        navBarHidden : true,<br>        fullscreen : true,<br>        exitOnClose : false,<br>    });<br>    splashWindow.orientationModes = [Titanium.UI.PORTRAIT, Titanium.UI.UPSIDE_PORTRAIT, Titanium.UI.LANDSCAPE_LEFT, Titanium.UI.LANDSCAPE_RIGHT];<br>    splashWindow.open();<br>}</p>
<p>function LoginWindow() {<br>    var signinWindow = null;<br>    signinWindow = Titanium.UI.createWindow({<br>        url : &#39;ui&#x2F;SignInModule&#x2F;signinmodulefile.js&#39;,<br>        backgroundImage : &quot;&#x2F;appimages&#x2F;splashscreen&#x2F;splashback.jpg&quot;,<br>        fullscreen : true,<br>        navBarHidden : true,<br>    });<br>    signinWindow.orientationModes = [Titanium.UI.PORTRAIT, Titanium.UI.UPSIDE_PORTRAIT, Titanium.UI.LANDSCAPE_LEFT, Titanium.UI.LANDSCAPE_RIGHT];<br>    signinWindow.open();<br>}</p>
<p>function RegistrationWindow(e) {<br>    var registrationMainWindow = Ti.UI.createWindow({<br>        navBarHidden : true,<br>        fullscreen : true,<br>        exitOnClose : false,<br>        url : &#39;ui&#x2F;RegistrationModule&#x2F;registrationmodule.js&#39;,<br>        custm : e.data,<br>    });<br>    registrationMainWindow.orientationModes = [Titanium.UI.PORTRAIT, Titanium.UI.UPSIDE_PORTRAIT, Titanium.UI.LANDSCAPE_LEFT, Titanium.UI.LANDSCAPE_RIGHT];<br>    registrationMainWindow.open();<br>}</p>
<p>function WellcomeWindow() {<br>    var WellcomeMainWindow = Ti.UI.createWindow({<br>        url : &#39;ui&#x2F;RegistrationModule&#x2F;WelcomeModule.js&#39;,<br>        navBarHidden : true,<br>        fullscreen : true,<br>        exitOnClose : false,</p>
<pre><code class="hljs">})<span class="hljs-comment">;</span>
WellcomeMainWindow.orientationModes = [Titanium.UI.PORTRAIT, Titanium.UI.UPSIDE_PORTRAIT, Titanium.UI.LANDSCAPE_LEFT, Titanium.UI.LANDSCAPE_RIGHT]<span class="hljs-comment">;</span>
WellcomeMainWindow.open()<span class="hljs-comment">;</span>
</code></pre><p>}</p>
<p>function RefreshScreen() {</p>
<p>}</p>
<p>function LoadAgain() {<br>    RefreshScreen();<br>}</p>
<p>function LoadMainScreen() {</p>
<pre><code class="hljs">homeScreenMainView = Titanium.UI.createView({
    left : <span class="hljs-number">0</span>,
    right : <span class="hljs-number">0</span>,
    top : <span class="hljs-number">0</span>,
    bottom : Math.round(winHeight * <span class="hljs-number">0.10</span>),
    backgroundColor : <span class="hljs-string">"transparent"</span>,
    layout : <span class="hljs-string">'vertical'</span>,
    <span class="hljs-comment">//backgroundImage : "/appimages/mainwindow/homebackground.jpg"</span>
});

HomeWin = Titanium.UI.createWindow({
    backgroundColor : <span class="hljs-string">"#012759"</span>,
    exitOnClose : <span class="hljs-literal">true</span>,
    fullscreen : <span class="hljs-literal">true</span>,
    navBarHidden : <span class="hljs-literal">true</span>,
});
HomeWin.addEventListener(<span class="hljs-string">'open'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span> </span>{
    checkPlayerStatus = <span class="hljs-literal">true</span>;
});
HomeWin.addEventListener(<span class="hljs-string">'close'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
    checkPlayerStatus = <span class="hljs-literal">false</span>;
});

HomeWin.orientationModes = [Titanium.UI.PORTRAIT, Titanium.UI.UPSIDE_PORTRAIT, Titanium.UI.LANDSCAPE_LEFT, Titanium.UI.LANDSCAPE_RIGHT];

HomeWin.addEventListener(<span class="hljs-string">'touchstart'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e1)</span> </span>{
    start = e1.y;
});

HomeWin.addEventListener(<span class="hljs-string">'touchend'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e2)</span> </span>{
    end = e2.y;
    <span class="hljs-keyword">if</span> ((start) &amp;&amp; (start &lt; audioContainerHeight)) {
        <span class="hljs-keyword">if</span> (swipeUp(start, end)) {
            <span class="hljs-keyword">if</span> (nowplayingstatus) {
                HomeWin.remove(nowplayingScreenMainView);
                nowplayingstatus = <span class="hljs-literal">false</span>;
            }
            <span class="hljs-keyword">if</span> (!nowplayingstatus) {
                ShowLoader(<span class="hljs-string">'wait'</span>);
                shareFor = <span class="hljs-number">0</span>;
                HomeWin.orientationModes = [Titanium.UI.PORTRAIT];
                nowplayingScreenMainView.transform = Ti.UI.create2DMatrix().scale(<span class="hljs-number">1</span>);
                HomeWin.add(nowplayingScreenMainView);
                nowplayingScreenMainView.height = <span class="hljs-number">1</span>;
                nowplayingScreenMainView.bottom = <span class="hljs-number">0</span>;
                nowplay.height = winHeight;
                nowplayingScreenMainView.animate(nowplay);
                nowplayingstatus = <span class="hljs-literal">true</span>;
                HideLoader();
            }
        }
        start = <span class="hljs-literal">null</span>;
    }
});

Ti.<span class="hljs-keyword">include</span>(<span class="hljs-string">"ui/GlobalModule/activityIndicator.js"</span>);
<span class="hljs-keyword">if</span> (Titanium.Platform.name != <span class="hljs-string">'iPhone OS'</span>) {
    HomeWin.open();
    <span class="hljs-keyword">var</span> dialog = Titanium.UI.createAlertDialog({
        title : <span class="hljs-string">'Station Digital'</span>,
        buttonNames : [<span class="hljs-string">'Yes'</span>, <span class="hljs-string">'No'</span>],
        cancel : <span class="hljs-number">1</span>,
        message : <span class="hljs-string">'Do you want to exit from Station Digital'</span>,
    });

    dialog.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span> </span>{
        <span class="hljs-keyword">if</span> (e.index == <span class="hljs-number">0</span>) {
            HomeWin.close();
        }
    });

    HomeWin.addEventListener(<span class="hljs-string">'android:back'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span> </span>{
        dialog.show();
    });

} <span class="hljs-keyword">else</span> {
    HomeWin.hideTabBar();
    tabGroup = Titanium.UI.createTabGroup({});
    MainTab = Titanium.UI.createTab({
        window : HomeWin
    });
    tabGroup.addTab(MainTab);
    tabGroup.open({
        transition : Titanium.UI.iPhone.AnimationStyle.FLIP_FROM_LEFT
    });

    Titanium.UI.currentTab = MainTab;
}
ShowLoader(<span class="hljs-string">'Loading...'</span>);
Ti.<span class="hljs-keyword">include</span>(<span class="hljs-string">'ui/DashBoardModule/createPlayList.js'</span>);
Ti.<span class="hljs-keyword">include</span>(<span class="hljs-string">'ui/GlobalModule/homescreeniconcreater.js'</span>);
Ti.<span class="hljs-keyword">include</span>(<span class="hljs-string">'ui/GlobalModule/rowcreater.js'</span>);
Ti.<span class="hljs-keyword">include</span>(<span class="hljs-string">'ui/DashBoardModule/shareModule.js'</span>);
Ti.<span class="hljs-keyword">include</span>(<span class="hljs-string">"ui/DashBoardModule/ListenHistoryModule.js"</span>);
Ti.<span class="hljs-keyword">include</span>(<span class="hljs-string">"ui/DashBoardModule/SongILikeModule.js"</span>);
Ti.<span class="hljs-keyword">include</span>(<span class="hljs-string">"ui/DashBoardModule/MyStationModule.js"</span>);
Ti.<span class="hljs-keyword">include</span>(<span class="hljs-string">'ui/DashBoardModule/nowplayingModule.js'</span>);
Ti.<span class="hljs-keyword">include</span>(<span class="hljs-string">'ui/DashBoardModule/sleepModule.js'</span>);
Ti.<span class="hljs-keyword">include</span>(<span class="hljs-string">'ui/DashBoardModule/settingModule.js'</span>);
Ti.<span class="hljs-keyword">include</span>(<span class="hljs-string">'ui/DashBoardModule/profilemodule.js'</span>);
Ti.<span class="hljs-keyword">include</span>(<span class="hljs-string">'ui/DashBoardModule/albummodule.js'</span>);
Ti.<span class="hljs-keyword">include</span>(<span class="hljs-string">'ui/DashBoardModule/popularModule.js'</span>);
Ti.<span class="hljs-keyword">include</span>(<span class="hljs-string">'ui/DashBoardModule/browseModule.js'</span>);
Ti.<span class="hljs-keyword">include</span>(<span class="hljs-string">'ui/DashBoardModule/searchModule.js'</span>);
Ti.<span class="hljs-keyword">include</span>(<span class="hljs-string">'ui/DashBoardModule/dashboardsearch.js'</span>);
homeScreenMainView.add(CreateHomeScreenNevBar());
homeScreenMainView.add(AddSearchBar());
homeScreenMainView.add(CreateIconContainer());
HomeWin.add(homeScreenMainView);
HomeWin.add(CreateAudioPlayer());
HomeWin.add(createSideBar());
homesearch.blur();
HideLoader();
</code></pre><p>}</p>
<p>var swipeUp = function(start, end) {<br>    var dif = start - end;<br>    if (dif &gt; 75) {<br>        return true;<br>    } else {<br>        return false;<br>    }<br>}<br>var start = null;<br>var end = null;</p>
<p>Ti.App.addEventListener(&#39;openMain&#39;, LoadMainScreen);<br>Ti.App.addEventListener(&#39;openLogin&#39;, LoginWindow);<br>Ti.App.addEventListener(&#39;openRegistration&#39;, RegistrationWindow);<br>Ti.App.addEventListener(&#39;openWellcome&#39;, WellcomeWindow);<br>Ti.App.addEventListener(&#39;openSplash&#39;, OpenSplashWindow);</p>
<p>Ti.App.fireEvent(&#39;openSplash&#39;);</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="March 23rd 2013, 11:49:45 am">March 23rd 2013</span>
				by <span class='authorname'>Vilas kharate</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android emulator</span></li>
					
						<li><span class='tagname'>custom event</span></li>
					
						<li><span class='tagname'>include() function</span></li>
					
						<li><span class='tagname'>javascript</span></li>
					
				</ul>
			

			<section>
				<h5>2 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>hii …<br>     My android app not move forword of splash screen it stuck on splash screen and sometime it work but terminate the app abnormay so what is the problem wth my code..</p>
</div>
							<div class="author">
								&mdash; commented <span title="March 23rd 2013, 11:54:50 am">March 23rd 2013</span>
								by <span class='authorname'>Vilas kharate</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>First of all try to format the code by putting 3~ before and after the code</p>
<p>Thanks</p>
</div>
							<div class="author">
								&mdash; commented <span title="March 23rd 2013, 12:30:02 pm">March 23rd 2013</span>
								by <span class='authorname'>Muhammad Wahhab Mirza</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>-3</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-259338">
				
						<section>
							<pre><code class="hljs">Ti.include(<span class="hljs-string">'ui/GlobalModule/animationmodule.js'</span>);
Ti.include(<span class="hljs-string">'ui/GlobalModule/common.js'</span>);
<span class="hljs-comment">//Ti.include('ui/GlobalModule/MemoryCleaner.js');</span>
Titanium.UI.setBackgroundColor(<span class="hljs-string">'#003b8c'</span>);
<span class="hljs-keyword">var</span> artistIDforAlbum = <span class="hljs-literal">null</span>;
<span class="hljs-keyword">var</span> tabGroup = <span class="hljs-literal">null</span>;
<span class="hljs-keyword">var</span> MainTab = <span class="hljs-literal">null</span>;
<span class="hljs-keyword">var</span> HomeWin = <span class="hljs-literal">null</span>;
<span class="hljs-keyword">var</span> searchParameter = <span class="hljs-literal">null</span>;
<span class="hljs-keyword">var</span> iconview = [];
<span class="hljs-keyword">var</span> iconView = [];
<span class="hljs-keyword">var</span> checkPlayerStatus = <span class="hljs-literal">false</span>;
<span class="hljs-keyword">var</span> homeScreenMainView = <span class="hljs-literal">null</span>;
<span class="hljs-keyword">var</span> IisPlaylist = <span class="hljs-literal">false</span>;
<span class="hljs-keyword">var</span> shareFor = <span class="hljs-literal">null</span>;
<span class="hljs-keyword">var</span> ARTIST = <span class="hljs-literal">null</span>;
<span class="hljs-keyword">var</span> ALBUM = <span class="hljs-literal">null</span>;
<span class="hljs-keyword">var</span> ALBUMIMG = <span class="hljs-literal">null</span>;
<span class="hljs-keyword">var</span> ALBUMID = <span class="hljs-literal">null</span>;

<span class="hljs-comment">//used for sidebar</span>
<span class="hljs-keyword">var</span> sideBarMainContainer = <span class="hljs-literal">null</span>;
<span class="hljs-keyword">var</span> sideBarIconContainer = <span class="hljs-literal">null</span>;
<span class="hljs-keyword">var</span> sideMyStationButton = <span class="hljs-literal">null</span>;
<span class="hljs-keyword">var</span> sideSleepButton = <span class="hljs-literal">null</span>;
<span class="hljs-keyword">var</span> sideHomeButton = <span class="hljs-literal">null</span>;
<span class="hljs-keyword">var</span> sideProfileButton = <span class="hljs-literal">null</span>;
<span class="hljs-keyword">var</span> sideBuyButton = <span class="hljs-literal">null</span>;
<span class="hljs-keyword">var</span> sideAlbumButton = <span class="hljs-literal">null</span>;
<span class="hljs-keyword">var</span> sideShareButton = <span class="hljs-literal">null</span>;

<span class="hljs-keyword">var</span> artistSearchTableview = <span class="hljs-literal">null</span>;
<span class="hljs-keyword">var</span> songsSearchTableview = <span class="hljs-literal">null</span>;
<span class="hljs-keyword">var</span> currentPlaylistView = <span class="hljs-literal">null</span>;

<span class="hljs-keyword">var</span> currentPlayList = [];
<span class="hljs-keyword">var</span> currentPlayListData = [];
<span class="hljs-keyword">var</span> currentSongIndex = -<span class="hljs-number">1</span>;
<span class="hljs-keyword">var</span> skipCount = <span class="hljs-number">0</span>;
<span class="hljs-keyword">var</span> nextclick = <span class="hljs-literal">false</span>;
<span class="hljs-keyword">var</span> nowplayingstatus = <span class="hljs-literal">false</span>;

<span class="hljs-keyword">var</span> nowplay = Titanium.UI.createAnimation();
nowplay.duration = <span class="hljs-number">500</span>;
<span class="hljs-comment">//Used to track the songs.</span>
<span class="hljs-comment">//Animation parameters.</span>
<span class="hljs-comment">//Default position parameters.</span>
<span class="hljs-keyword">var</span> a1 = Titanium.UI.createAnimation();
a1.duration = <span class="hljs-number">100</span>;

<span class="hljs-comment">//Change position parameters.</span>
<span class="hljs-keyword">var</span> a11 = Titanium.UI.createAnimation();
a11.duration = <span class="hljs-number">100</span>;

<span class="hljs-keyword">var</span> searchview = <span class="hljs-literal">null</span>;

<span class="hljs-keyword">var</span> imgurl1 = <span class="hljs-string">"/appimages/mainwindow/my_station.png"</span>;
<span class="hljs-keyword">var</span> imgurl2 = <span class="hljs-string">"/appimages/mainwindow/browse.png"</span>;
<span class="hljs-keyword">var</span> imgurl3 = <span class="hljs-string">"/appimages/mainwindow/now_play.png"</span>;
<span class="hljs-keyword">var</span> imgurl4 = <span class="hljs-string">"/appimages/mainwindow/popular.png"</span>;
<span class="hljs-keyword">var</span> imgurl5 = <span class="hljs-string">"/appimages/mainwindow/song_like.png"</span>;
<span class="hljs-keyword">var</span> imgurl6 = <span class="hljs-string">"/appimages/mainwindow/listen_history.png"</span>;
<span class="hljs-keyword">var</span> imgurl7 = <span class="hljs-string">"/appimages/mainwindow/upgrade.png"</span>;
<span class="hljs-keyword">var</span> imgurl8 = <span class="hljs-string">"/appimages/mainwindow/setting.png"</span>;

<span class="hljs-comment">//Side Bar Images</span>
<span class="hljs-keyword">var</span> sideBarImageUrl1 = <span class="hljs-string">"/appimages/sidebarimages/my_station.png"</span>;
<span class="hljs-comment">//my Station</span>
<span class="hljs-keyword">var</span> sideBarImageUrl2 = <span class="hljs-string">"/appimages/sidebarimages/sleep.png"</span>;
<span class="hljs-comment">//Sleep</span>
<span class="hljs-keyword">var</span> sideBarImageUrl3 = <span class="hljs-string">"/appimages/sidebarimages/home.png"</span>;
<span class="hljs-comment">//for home</span>
<span class="hljs-keyword">var</span> sideBarImageUrl4 = <span class="hljs-string">"/appimages/sidebarimages/music_add.png"</span>;
<span class="hljs-comment">//Add Music</span>
<span class="hljs-keyword">var</span> sideBarImageUrl5 = <span class="hljs-string">"/appimages/sidebarimages/profle.png"</span>;
<span class="hljs-comment">//profile</span>
<span class="hljs-keyword">var</span> sideBarImageUrl6 = <span class="hljs-string">"/appimages/sidebarimages/buy.png"</span>;
<span class="hljs-comment">//Buy</span>
<span class="hljs-keyword">var</span> sideBarImageUrl7 = <span class="hljs-string">"/appimages/sidebarimages/share.png"</span>;
<span class="hljs-comment">//share</span>
<span class="hljs-keyword">var</span> sideBarImageUrl8 = <span class="hljs-string">"/appimages/sidebarimages/album.png"</span>;
<span class="hljs-comment">//album</span>

<span class="hljs-comment">//Veriable used for sleepWindow</span>
<span class="hljs-keyword">var</span> sleepTimeout = <span class="hljs-literal">null</span>;
<span class="hljs-keyword">var</span> homeContainerHeight = <span class="hljs-built_in">Math</span>.round(winHeight * <span class="hljs-number">0.90</span>);
<span class="hljs-keyword">var</span> audioContainerHeight = <span class="hljs-built_in">Math</span>.round(winHeight * <span class="hljs-number">0.10</span>);
<span class="hljs-keyword">var</span> iconSize = <span class="hljs-built_in">Math</span>.round((winHeight * <span class="hljs-number">0.74</span>) / <span class="hljs-number">4</span>);
<span class="hljs-keyword">var</span> homesearch = <span class="hljs-literal">null</span>;
<span class="hljs-keyword">var</span> sideIconWidth = <span class="hljs-built_in">Math</span>.round(<span class="hljs-built_in">Math</span>.round(winHeight / <span class="hljs-number">7</span>) &gt; <span class="hljs-number">100</span>) ? <span class="hljs-number">100</span> : ((<span class="hljs-built_in">Math</span>.round(winHeight / <span class="hljs-number">7</span>) &lt; <span class="hljs-number">60</span>) ? <span class="hljs-number">60</span> : <span class="hljs-built_in">Math</span>.round(winHeight / <span class="hljs-number">7</span>));
<span class="hljs-keyword">var</span> sideIconHeight = <span class="hljs-built_in">Math</span>.round(sideIconWidth * <span class="hljs-number">1.2</span>);

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">SetColor</span>(<span class="hljs-params">ths, toSet</span>) </span>{
    <span class="hljs-keyword">if</span> (ths == <span class="hljs-number">1</span>) {
        iconview[ths].backgroundColor = ( toSet ? <span class="hljs-string">'#003b8c'</span> : <span class="hljs-string">'#012759'</span>);
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (ths == <span class="hljs-number">2</span>) {
        iconview[ths].backgroundColor = ( toSet ? <span class="hljs-string">'#003b8c'</span> : <span class="hljs-string">'#022a60'</span>);
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (ths == <span class="hljs-number">3</span>) {
        iconview[ths].backgroundColor = ( toSet ? <span class="hljs-string">'#003b8c'</span> : <span class="hljs-string">'#022a60'</span>);
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (ths == <span class="hljs-number">4</span>) {
        iconview[ths].backgroundColor = ( toSet ? <span class="hljs-string">'#003b8c'</span> : <span class="hljs-string">'#002e6b'</span>);
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (ths == <span class="hljs-number">5</span>) {
        iconview[ths].backgroundColor = ( toSet ? <span class="hljs-string">'#003b8c'</span> : <span class="hljs-string">'#002e6b'</span>);
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (ths == <span class="hljs-number">6</span>) {
        iconview[ths].backgroundColor = ( toSet ? <span class="hljs-string">'#003b8c'</span> : <span class="hljs-string">'#003173'</span>);
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (ths == <span class="hljs-number">7</span>) {
        iconview[ths].backgroundColor = ( toSet ? <span class="hljs-string">'#003b8c'</span> : <span class="hljs-string">'#003173'</span>);
    } <span class="hljs-keyword">else</span> {
        iconview[ths].backgroundColor = ( toSet ? <span class="hljs-string">'#003b8c'</span> : <span class="hljs-string">'#00347b'</span>);
    }
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">CreateHomeScreenNevBar</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-comment">//Create Navigation View Inside UpperView</span>
    <span class="hljs-keyword">var</span> nevBarView = Titanium.UI.createView({
        left : <span class="hljs-number">0</span>,
        right : <span class="hljs-number">0</span>,
        top : <span class="hljs-number">0</span>,
        backgroundImage : <span class="hljs-string">"/appimages/mainwindow/nevBarBg.png"</span>,
        height : <span class="hljs-built_in">Math</span>.round(winHeight * <span class="hljs-number">0.08</span>),
    });

    <span class="hljs-comment">//Create Navigation Bar Inner Contents</span>
    <span class="hljs-keyword">var</span> logoImage = Ti.UI.createImageView({
        width : <span class="hljs-built_in">Math</span>.round((winHeight * <span class="hljs-number">0.08</span>) - <span class="hljs-number">6</span>),
        height : <span class="hljs-built_in">Math</span>.round((winHeight * <span class="hljs-number">0.08</span>) - <span class="hljs-number">6</span>),
        left : <span class="hljs-number">5</span>,
        backgroundImage : <span class="hljs-string">"/appimages/mainwindow/logo.png"</span>,

    });
    nevBarView.add(logoImage);
    <span class="hljs-comment">//Create Title Label</span>
    <span class="hljs-keyword">var</span> titleLabel = Ti.UI.createLabel({
        height : <span class="hljs-string">'auto'</span>,
        text : <span class="hljs-string">"Station Digital"</span>,
        color : <span class="hljs-string">"white"</span>,
        fontWeight : <span class="hljs-string">'bold'</span>,
        textAlign : <span class="hljs-string">'center'</span>,
        font : {
            fontWeight : <span class="hljs-string">'bold'</span>,
            fontSize : <span class="hljs-built_in">Math</span>.round((winHeight * <span class="hljs-number">0.08</span>) * <span class="hljs-number">0.50</span>),
        }
    });

    nevBarView.add(titleLabel);

    <span class="hljs-comment">//Create Signout button</span>
    <span class="hljs-keyword">var</span> signoutBtnView = Ti.UI.createView({
        right : <span class="hljs-number">5</span>,
        width : <span class="hljs-built_in">Math</span>.round(winWidth * <span class="hljs-number">0.16</span>),
        height : <span class="hljs-built_in">Math</span>.round((winHeight * <span class="hljs-number">0.08</span>) / <span class="hljs-number">1.5</span>),
        borderRadius : <span class="hljs-number">10</span>,
        backgroundImage : <span class="hljs-string">"/appimages/mainwindow/signoutbtn.png"</span>,

    });
    nevBarView.add(signoutBtnView);
    signoutBtnView.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">try</span> {
            <span class="hljs-comment">//var memoryPool = new MemoryPool;</span>
            <span class="hljs-comment">//memoryPool.clean(HomeWin);</span>
            currentPlayListData = [];
            <span class="hljs-keyword">if</span> (Titanium.Facebook.loggedIn) {
                Titanium.Facebook.logout();
            }
            checkPlayerStatus = <span class="hljs-literal">false</span>;
            MediaPlayer.pause();
            <span class="hljs-keyword">if</span> (Titanium.Platform.name == <span class="hljs-string">'iPhone OS'</span>) {
                <span class="hljs-comment">//MediaPlayer.stop();</span>
                Ti.App.fireEvent(<span class="hljs-string">'openSplash'</span>);
                tabGroup.removeTab(MainTab);
                HomeWin.hide();
                HomeWin = <span class="hljs-literal">null</span>;
                homeScreenMainView = <span class="hljs-literal">null</span>;
            } <span class="hljs-keyword">else</span> {
                HomeWin.close();
                <span class="hljs-comment">//MediaPlayer.release();</span>
            }
        } <span class="hljs-keyword">catch</span>(e) {
            alert(e);
        }

    });

    <span class="hljs-keyword">var</span> signoulabel = Ti.UI.createLabel({
        width : <span class="hljs-string">'auto'</span>,
        height : <span class="hljs-string">'auto'</span>,
        text : <span class="hljs-string">"Sign Out"</span>,
        textAlign : <span class="hljs-string">'center'</span>,
        color : <span class="hljs-string">"white"</span>,
        font : {
            fontWeight : <span class="hljs-string">'bold'</span>,
            fontSize : <span class="hljs-built_in">Math</span>.round((winHeight * <span class="hljs-number">0.08</span>) * <span class="hljs-number">0.20</span>),
        }
    });
    signoutBtnView.add(signoulabel);
    <span class="hljs-keyword">return</span> nevBarView;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">AddSearchBar</span>(<span class="hljs-params"></span>) </span>{
    homesearch = Titanium.UI.createSearchBar({
        top : <span class="hljs-number">0</span>,
        value : <span class="hljs-string">''</span>,
        height : <span class="hljs-built_in">Math</span>.round(winHeight * <span class="hljs-number">0.08</span>),
        right : <span class="hljs-number">0</span>,
        left : <span class="hljs-number">0</span>,
        barColor : <span class="hljs-string">'#00347b'</span>,
        showCancel : <span class="hljs-literal">true</span>,
        enabled : <span class="hljs-literal">true</span>,
        borderRadius : <span class="hljs-number">0</span>,
    });
    homesearch.addEventListener(<span class="hljs-string">'return'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
        <span class="hljs-keyword">if</span> (e.value.length &lt; <span class="hljs-number">3</span>) {
            Ti.UI.createAlertDialog({
                title : <span class="hljs-string">'Search result'</span>,
                message : <span class="hljs-string">'Enter more than three characters..!'</span>
            }).show();
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">try</span> {
                HomeWin.remove(searchContainer);
            } <span class="hljs-keyword">catch</span>(e) {
            }
            ShowLoader(<span class="hljs-string">'Loading...'</span>);
            homesearch.blur();
            clearTimeout(updateTimeout);
            <span class="hljs-comment">//SearchScreenMainView.visible = true;</span>
            <span class="hljs-comment">//HomeWin.add(SearchScreenMainView);</span>
            <span class="hljs-comment">//homeScreenMainView.visible = false;</span>
            HomeWin.remove(homeScreenMainView);
            CreateMainSearchContainer(<span class="hljs-number">1</span>, e.value);
            GetSearchResult(e.value, <span class="hljs-number">2</span>);
            homesearch.value = <span class="hljs-string">''</span>;
        }
    });
    <span class="hljs-keyword">var</span> updateTimeout;
    homesearch.addEventListener(<span class="hljs-string">'change'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">evt</span>) </span>{
        <span class="hljs-keyword">if</span> (updateTimeout)
            clearTimeout(updateTimeout);
        updateTimeout = setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">if</span> (evt.value.length &gt; <span class="hljs-number">3</span>) {
                homesearch.blur();
                ShowLoader(<span class="hljs-string">'Loading...'</span>);
                GetSearchResult(evt.value, <span class="hljs-number">1</span>);
            }
        }, <span class="hljs-number">2000</span>);
    });
    homesearch.addEventListener(<span class="hljs-string">'cancel'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
        homesearch.blur();
        homesearch.value = <span class="hljs-string">''</span>;
        <span class="hljs-keyword">try</span> {
            HomeWin.remove(searchContainer);
        } <span class="hljs-keyword">catch</span>(e) {
        }
    });
    <span class="hljs-keyword">return</span> homesearch;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">CreateIconContainer</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> iconContainerScrollView = Ti.UI.createScrollView({
        top : <span class="hljs-number">0</span>,
        bottom : <span class="hljs-number">0</span>,
        <span class="hljs-comment">//width : winWidth,</span>
        contentHeight : <span class="hljs-string">'auto'</span>,
        contentWidth : <span class="hljs-string">'auto'</span>
    });
    <span class="hljs-keyword">var</span> iconContainerMainView = Ti.UI.createView({
        top : <span class="hljs-number">0</span>,
        bottom : <span class="hljs-number">0</span>,
        <span class="hljs-comment">//width : winWidth,</span>
        height : <span class="hljs-built_in">Math</span>.round(iconSize * <span class="hljs-number">4</span>),
    });
    iconContainerScrollView.add(iconContainerMainView);

    <span class="hljs-keyword">var</span> mystationbtn = createIcon(iconSize, <span class="hljs-string">"My Stations"</span>, <span class="hljs-number">0</span>, <span class="hljs-literal">null</span>, imgurl1, <span class="hljs-number">0</span>, <span class="hljs-string">'#012759'</span>, <span class="hljs-number">1</span>);
    mystationbtn.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
        SetColor(e.source.indx, <span class="hljs-literal">true</span>);
        setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            SetColor(e.source.indx, <span class="hljs-literal">false</span>);
            HomeWin.remove(homeScreenMainView);
            openMyStationWindow(Titanium.App.Properties.getString(<span class="hljs-string">"userid"</span>));
            openAnimation(myStationScreenMainView);
        }, <span class="hljs-number">50</span>);
    });
    iconContainerMainView.add(mystationbtn);
    <span class="hljs-keyword">var</span> browsebtn = createIcon(iconSize, <span class="hljs-string">"Browse"</span>, <span class="hljs-literal">null</span>, <span class="hljs-number">0</span>, imgurl2, <span class="hljs-number">0</span>, <span class="hljs-string">'#022a60'</span>, <span class="hljs-number">2</span>);
    browsebtn.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
        SetColor(e.source.indx, <span class="hljs-literal">true</span>);
        setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            SetColor(e.source.indx, <span class="hljs-literal">false</span>);
            HomeWin.remove(homeScreenMainView);
            OpenBrowse();
            openAnimation(BrowseScreenMainView);
        }, <span class="hljs-number">50</span>);
    });
    iconContainerMainView.add(browsebtn);
    <span class="hljs-keyword">var</span> nowplayingbtn = createIcon(iconSize, <span class="hljs-string">"Now Playing"</span>, <span class="hljs-number">0</span>, <span class="hljs-literal">null</span>, imgurl3, iconSize, <span class="hljs-string">'#022a60'</span>, <span class="hljs-number">3</span>);
    nowplayingbtn.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
        SetColor(e.source.indx, <span class="hljs-literal">true</span>);
        setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            SetColor(e.source.indx, <span class="hljs-literal">false</span>);
            HomeWin.remove(homeScreenMainView);
            HomeWin.orientationModes = [Titanium.UI.PORTRAIT];
            HomeWin.add(nowplayingScreenMainView);
            nowplayingScreenMainView.height = winHeight;
            openAnimation(nowplayingScreenMainView);
            nowplayingstatus = <span class="hljs-literal">true</span>;
            shareFor = <span class="hljs-number">0</span>;
        }, <span class="hljs-number">50</span>);
    });
    iconContainerMainView.add(nowplayingbtn);
    <span class="hljs-keyword">var</span> popularbtn = createIcon(iconSize, <span class="hljs-string">"Popular"</span>, <span class="hljs-literal">null</span>, <span class="hljs-number">0</span>, imgurl4, iconSize, <span class="hljs-string">' #002e6b'</span>, <span class="hljs-number">4</span>);
    popularbtn.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
        SetColor(e.source.indx, <span class="hljs-literal">true</span>);
        setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            SetColor(e.source.indx, <span class="hljs-literal">false</span>);
            HomeWin.remove(homeScreenMainView);
            OpenPopular();
            openAnimation(PopularScreenMainView);
        }, <span class="hljs-number">50</span>);
    });
    iconContainerMainView.add(popularbtn);

    <span class="hljs-keyword">var</span> songilikebtn = createIcon(iconSize, <span class="hljs-string">"Song I Like"</span>, <span class="hljs-number">0</span>, <span class="hljs-literal">null</span>, imgurl5, iconSize * <span class="hljs-number">2</span>, <span class="hljs-string">'#002e6b'</span>, <span class="hljs-number">5</span>)
    songilikebtn.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
        SetColor(e.source.indx, <span class="hljs-literal">true</span>);
        setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            SetColor(e.source.indx, <span class="hljs-literal">false</span>);
            HomeWin.remove(homeScreenMainView);
            openSongILikewindow(Titanium.App.Properties.getString(<span class="hljs-string">"userid"</span>));
            openAnimation(songILikeScreenMainView);
        }, <span class="hljs-number">50</span>);
    });
    iconContainerMainView.add(songilikebtn);
    <span class="hljs-keyword">var</span> listenhistorybtn = createIcon(iconSize, <span class="hljs-string">"Listen History"</span>, <span class="hljs-literal">null</span>, <span class="hljs-number">0</span>, imgurl6, iconSize * <span class="hljs-number">2</span>, <span class="hljs-string">'#003173'</span>, <span class="hljs-number">6</span>);
    listenhistorybtn.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
        SetColor(e.source.indx, <span class="hljs-literal">true</span>);
        setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            SetColor(e.source.indx, <span class="hljs-literal">false</span>);
            HomeWin.remove(homeScreenMainView);
            openListenHistory(Titanium.App.Properties.getString(<span class="hljs-string">"userid"</span>));
            openAnimation(listenHistoryScreenMainView);
        }, <span class="hljs-number">50</span>);
    });
    iconContainerMainView.add(listenhistorybtn);
    <span class="hljs-keyword">var</span> upgradebtn = createIcon(iconSize, <span class="hljs-string">"Upgrade"</span>, <span class="hljs-number">0</span>, <span class="hljs-literal">null</span>, imgurl7, iconSize * <span class="hljs-number">3</span>, <span class="hljs-string">'#003173'</span>, <span class="hljs-number">7</span>);
    upgradebtn.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
        SetColor(e.source.indx, <span class="hljs-literal">true</span>);
        setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            SetColor(e.source.indx, <span class="hljs-literal">false</span>);
            Ti.UI.createAlertDialog({
                title : <span class="hljs-string">'Wait for this'</span>,
                message : <span class="hljs-string">"Coming Soon!!!!!!..."</span>,
            }).show();
        }, <span class="hljs-number">50</span>);
    });
    iconContainerMainView.add(upgradebtn);
    <span class="hljs-keyword">var</span> settinfbtn = createIcon(iconSize, <span class="hljs-string">"Settings"</span>, <span class="hljs-literal">null</span>, <span class="hljs-number">0</span>, imgurl8, iconSize * <span class="hljs-number">3</span>, <span class="hljs-string">'#00347b'</span>, <span class="hljs-number">8</span>);
    settinfbtn.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
        SetColor(e.source.indx, <span class="hljs-literal">true</span>);
        setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            SetColor(e.source.indx, <span class="hljs-literal">false</span>);
            openSettingWindow();
            HomeWin.remove(homeScreenMainView);
            openAnimation(settingsScreenMainView);
        }, <span class="hljs-number">50</span>);
    });
    iconContainerMainView.add(settinfbtn);
    <span class="hljs-keyword">return</span> iconContainerScrollView;
}

Ti.Media.audioSessionMode = Ti.Media.AUDIO_SESSION_MODE_PLAYBACK;
<span class="hljs-comment">//veriables used for song Tracking</span>
<span class="hljs-keyword">var</span> MediaPlayer = MediaPlayer = Ti.Media.createAudioPlayer({
    allowBackground : <span class="hljs-literal">true</span>,
    preload : <span class="hljs-literal">true</span>,
    waiting : <span class="hljs-literal">true</span>,
});
MediaPlayer.addEventListener(<span class="hljs-string">'progress'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
    audioprogress.value = <span class="hljs-built_in">Math</span>.floor(e.progress / <span class="hljs-number">1000</span>);
    nowPlayingProgressBar.value = <span class="hljs-built_in">Math</span>.floor(e.progress / <span class="hljs-number">1000</span>);
    <span class="hljs-comment">//Ti.API.info('Songs-' + Math.floor(e.progress / 1000));</span>
    <span class="hljs-keyword">var</span> sec = e.progress / <span class="hljs-number">1000</span>;
    timeElapsedLabel.text = <span class="hljs-string">"00:"</span> + <span class="hljs-built_in">parseInt</span>(sec);
    <span class="hljs-comment">//    timeElapsedLabel.text=(min&gt;10?min:'0'+min)+":"sec;</span>
});
MediaPlayer.addEventListener(<span class="hljs-string">'change'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
 Ti.API.info(<span class="hljs-string">'State: '</span> + e.description + <span class="hljs-string">' ('</span> + e.state + <span class="hljs-string">')'</span>);
    <span class="hljs-keyword">if</span> (checkPlayerStatus == <span class="hljs-literal">false</span>) {
        MediaPlayer.pause();
        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">if</span> (Titanium.Platform.name != <span class="hljs-string">'iPhone OS'</span>) {
                MediaPlayer.release();
                MediaPlayer.url = <span class="hljs-literal">null</span>;
            }
            MediaPlayer.stop();
            MediaPlayer.url = <span class="hljs-literal">null</span>;
        } <span class="hljs-keyword">catch</span>(e) {
        }
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (Titanium.Platform.name != <span class="hljs-string">'iPhone OS'</span>) {
        <span class="hljs-keyword">if</span> (e.state == <span class="hljs-number">7</span> &amp;&amp; nextclick == <span class="hljs-literal">false</span>) {
            nextclick = <span class="hljs-literal">true</span>;
            currentSongIndex++;
            AddSongs(TrackIDs[currentSongIndex], IisPlaylist);
        }
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">if</span> (e.state == <span class="hljs-number">7</span> &amp;&amp; nextclick == <span class="hljs-literal">false</span>) {
            nextclick = <span class="hljs-literal">true</span>;
            currentSongIndex++;
            AddSongs(TrackIDs[currentSongIndex], IisPlaylist);
            <span class="hljs-comment">//    Ti.App.fireEvent('SkiporNext', {</span>
            <span class="hljs-comment">//        CurrentINDX : currentSongIndex</span>
            <span class="hljs-comment">//    });</span>
        }
    }
    <span class="hljs-keyword">if</span> (e.state == <span class="hljs-number">1</span>) {
        nextclick = <span class="hljs-literal">false</span>;
    }
    <span class="hljs-comment">//Ti.API.info('Change-' + e.state+" Disc-"+e.description);</span>
});
<span class="hljs-keyword">var</span> audioPlayerImage = <span class="hljs-literal">null</span>;
<span class="hljs-keyword">var</span> audioprogress = <span class="hljs-literal">null</span>;
<span class="hljs-keyword">var</span> audioPlayerLabel = <span class="hljs-literal">null</span>;
<span class="hljs-keyword">var</span> playButton = <span class="hljs-literal">null</span>;
<span class="hljs-keyword">var</span> nextButton = <span class="hljs-literal">null</span>;
<span class="hljs-keyword">var</span> playerStatus = <span class="hljs-literal">true</span>;

<span class="hljs-comment">/*
MediaPlayer.addEventListener('complete',function(){
currentSongIndex++;
Ti.App.fireEvent('SkiporNext', {
CurrentINDX : currentSongIndex
});
});*/</span>
<span class="hljs-comment">/////////////////////////////////</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">CreateAudioPlayer</span>(<span class="hljs-params"></span>) </span>{

    <span class="hljs-comment">//Create Audio Player Container</span>
    <span class="hljs-keyword">var</span> audioPlayerContainer = Ti.UI.createView({
        left : <span class="hljs-number">0</span>,
        right : <span class="hljs-number">0</span>,
        bottom : <span class="hljs-number">0</span>,
        height : audioContainerHeight,
        backgroundImage : <span class="hljs-string">"/appimages/audioplayerimages/player_bg.png"</span>,
    });
    <span class="hljs-comment">//Make two Sub Containers inside audioPlayerContainer</span>
    <span class="hljs-comment">//View 1</span>
    <span class="hljs-keyword">var</span> audioPlayerLeftContainer = Ti.UI.createView({
        left : <span class="hljs-number">0</span>,
        height : audioContainerHeight,
        right : <span class="hljs-built_in">Math</span>.round(winWidth * <span class="hljs-number">0.25</span>),
        <span class="hljs-comment">//backgroundColor : "#012759"</span>
    });
    audioPlayerContainer.add(audioPlayerLeftContainer);
    <span class="hljs-comment">//Add 3 Controls inside audioPlayerLeftContainer</span>
    <span class="hljs-comment">//Create Image View</span>
    audioPlayerImage = Ti.UI.createImageView({
        left : <span class="hljs-number">5</span>,
        height : <span class="hljs-built_in">Math</span>.round(audioContainerHeight * <span class="hljs-number">0.80</span>),
        width : <span class="hljs-built_in">Math</span>.round(audioContainerHeight * <span class="hljs-number">0.80</span>),
        image : <span class="hljs-string">"/appimages/mainwindow/defaultimage.jpg"</span>,
    });
    audioPlayerLeftContainer.add(audioPlayerImage);
    audioprogress = Titanium.UI.createProgressBar({
        right : <span class="hljs-number">0</span>,
        left : <span class="hljs-built_in">Math</span>.round(audioContainerHeight * <span class="hljs-number">0.80</span>) + <span class="hljs-number">10</span>,
        min : <span class="hljs-number">0</span>,
        max : <span class="hljs-number">100</span>,
        value : <span class="hljs-number">0</span>,
        height : (Titanium.Platform.name != <span class="hljs-string">'iPhone OS'</span> ? <span class="hljs-number">30</span> : <span class="hljs-number">20</span>),
        color : <span class="hljs-string">'green'</span>,
        style : Titanium.UI.iPhone.ProgressBarStyle.PLAIN,
        bottom : <span class="hljs-number">5</span>,
    });
    audioPlayerLeftContainer.add(audioprogress);
    audioprogress.show();
    <span class="hljs-comment">//Create Label</span>
    audioPlayerLabel = Ti.UI.createLabel({
        left : <span class="hljs-built_in">Math</span>.round(audioContainerHeight * <span class="hljs-number">0.80</span>) + <span class="hljs-number">10</span>,
        right : <span class="hljs-number">0</span>,
        height : <span class="hljs-built_in">Math</span>.round(audioContainerHeight * <span class="hljs-number">0.50</span>) - <span class="hljs-number">5</span>,
        text : <span class="hljs-string">""</span>,
        top : <span class="hljs-number">5</span>,
        color : <span class="hljs-string">"white"</span>,
        font : {
            fontWeight : <span class="hljs-string">'bold'</span>,
            fontSize : <span class="hljs-built_in">Math</span>.round((audioContainerHeight) * <span class="hljs-number">0.25</span>),
        }
    });

    audioPlayerLeftContainer.add(audioPlayerLabel);

    <span class="hljs-comment">//View 2</span>
    <span class="hljs-keyword">var</span> audioPlayerRightContainer = Ti.UI.createView({
        right : <span class="hljs-number">0</span>,
        height : audioContainerHeight,
        width : <span class="hljs-built_in">Math</span>.round(winWidth * <span class="hljs-number">0.25</span>),
        <span class="hljs-comment">//backgroundColor : "#012759"</span>
    });
    audioPlayerContainer.add(audioPlayerRightContainer);

    <span class="hljs-comment">//Add 3 buttons inside audioPlayerRightContainer</span>
    <span class="hljs-comment">//Previous Button</span>
    <span class="hljs-keyword">var</span> previousButton = Ti.UI.createButton({
        left : <span class="hljs-number">0</span>,
        height : <span class="hljs-built_in">Math</span>.round(audioContainerHeight * <span class="hljs-number">0.70</span>),
        width : <span class="hljs-built_in">Math</span>.round(audioContainerHeight * <span class="hljs-number">0.70</span>),
        backgroundImage : <span class="hljs-string">"/appimages/audioplayerimages/prev.png"</span>,
        enabled : <span class="hljs-literal">false</span>,
    });
    <span class="hljs-comment">//audioPlayerRightContainer.add(previousButton);</span>
    <span class="hljs-comment">//Play Button</span>
    playButton = Ti.UI.createButton({
        left : <span class="hljs-number">10</span>,
        height : <span class="hljs-built_in">Math</span>.round(audioContainerHeight * <span class="hljs-number">0.70</span>),
        width : <span class="hljs-built_in">Math</span>.round(audioContainerHeight * <span class="hljs-number">0.70</span>),
        backgroundImage : <span class="hljs-string">"/appimages/audioplayerimages/play.png"</span>

    });
    playButton.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (currentPlayListData.length &gt; <span class="hljs-number">0</span>) {
            <span class="hljs-keyword">if</span> (playerStatus) {
                MediaPlayer.pause();
                playButton.backgroundImage = <span class="hljs-string">"/appimages/audioplayerimages/play.png"</span>;
                middleInnerButton.backgroundImage = <span class="hljs-string">"/appimages/NowPlayingWindow/play.png"</span>;
                playerStatus = <span class="hljs-literal">false</span>;
            } <span class="hljs-keyword">else</span> {
                MediaPlayer.play();
                playButton.backgroundImage = <span class="hljs-string">"/appimages/audioplayerimages/pausesmall.png"</span>;
                middleInnerButton.backgroundImage = <span class="hljs-string">"/appimages/NowPlayingWindow/pause.png"</span>;
                playerStatus = <span class="hljs-literal">true</span>;
            }
        } <span class="hljs-keyword">else</span> {
            Titanium.UI.createAlertDialog({
                title : <span class="hljs-string">'No Station Selected'</span>,
                message : <span class="hljs-string">'Create Playlst first there are no contents to play.'</span>,
            }).show();
        }
    });
    audioPlayerRightContainer.add(playButton);
    <span class="hljs-comment">//Next Button</span>
    nextButton = Ti.UI.createButton({
        right : <span class="hljs-number">10</span>,
        height : <span class="hljs-built_in">Math</span>.round(audioContainerHeight * <span class="hljs-number">0.70</span>),
        width : <span class="hljs-built_in">Math</span>.round(audioContainerHeight * <span class="hljs-number">0.70</span>),
        backgroundImage : <span class="hljs-string">"/appimages/audioplayerimages/next.png"</span>
    });
    nextButton.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (skipCount == <span class="hljs-number">1</span>) {
            <span class="hljs-keyword">var</span> skipCountTimeout = setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                skipCount = <span class="hljs-number">0</span>;
            }, <span class="hljs-built_in">Math</span>.round((<span class="hljs-number">60</span> * <span class="hljs-number">60</span>) * <span class="hljs-number">1000</span>));
        }
        <span class="hljs-keyword">if</span> (skipCount &gt;= <span class="hljs-number">6</span>) {
            Titanium.UI.createAlertDialog({
                title : <span class="hljs-string">'Not Allowed'</span>,
                message : <span class="hljs-string">'Unfortunately our music licenses force us to limit the number of tracks you may skip each hour. If you want to hear something else, try creating another station starting with different artist or track.'</span>,
            }).show();
            <span class="hljs-keyword">return</span>;
        }
        skipCount++;
        nextclick = <span class="hljs-literal">true</span>;
        currentSongIndex++;
        AddSongs(TrackIDs[currentSongIndex], IisPlaylist);
        <span class="hljs-comment">//Ti.App.fireEvent('SkiporNext', {</span>
        <span class="hljs-comment">//    CurrentINDX : currentSongIndex</span>
        <span class="hljs-comment">//});</span>
    });
    audioPlayerRightContainer.add(nextButton);
    <span class="hljs-keyword">return</span> audioPlayerContainer;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">createSideBar</span>(<span class="hljs-params"></span>) </span>{
    sideBarMainContainer = Ti.UI.createView({
        top : <span class="hljs-built_in">Math</span>.round(winHeight * <span class="hljs-number">0.08</span>),
        bottom : <span class="hljs-number">0</span>, <span class="hljs-comment">//Math.round(winHeight * 0.10),</span>
        right : <span class="hljs-number">0</span>,
        width : <span class="hljs-number">1</span>,
        backgroundImage : <span class="hljs-string">'/appimages/sidebarimages/sidebar_bg.png'</span>,
        <span class="hljs-comment">//height : Ti.Platform.displayCaps.platformHeight - Math.round(Math.round(winHeight * 0.08) + Math.round(winHeight * 0.10)),</span>
        zIndex : <span class="hljs-number">999</span>,
    });
    <span class="hljs-keyword">var</span> sideBarMainScrollContainer = Ti.UI.createScrollView({
        top : <span class="hljs-number">0</span>,
        bottom : <span class="hljs-number">0</span>,
        right : <span class="hljs-number">0</span>,
        <span class="hljs-comment">//visible : false,</span>
    });
    sideBarMainContainer.add(sideBarMainScrollContainer);
    <span class="hljs-keyword">var</span> closeview = Ti.UI.createView({
        width : <span class="hljs-number">20</span>,
        height : <span class="hljs-number">40</span>,
        left : <span class="hljs-number">0</span>,
        backgroundImage : <span class="hljs-string">"/appimages/sidebarimages/closeSide.png"</span>,
        zIndex : <span class="hljs-number">10</span>,
    });
    sideBarMainContainer.add(closeview);

    <span class="hljs-comment">//Listener to sideViewCloseView</span>
    closeview.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        CloseSidebar();
    });

    sideBarIconContainer = Ti.UI.createView({
        layout : <span class="hljs-string">"vertical"</span>,
        height : <span class="hljs-string">'auto'</span>,
        width : sideIconWidth,
        backgroundColor : <span class="hljs-string">"transparent"</span>
    });
    sideBarMainScrollContainer.add(sideBarIconContainer);
    <span class="hljs-keyword">try</span> {
        <span class="hljs-comment">//add buttons inside sideScrollViewContainer</span>
        sideMyStationButton = createSideBarIcons(sideIconHeight, sideIconWidth, <span class="hljs-string">"Stations"</span>, sideBarImageUrl1, <span class="hljs-number">1</span>);
        sideMyStationButton.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
            <span class="hljs-keyword">try</span> {
                HomeWin.remove(albumScreenMainView);
            } <span class="hljs-keyword">catch</span>(e) {
            }
            <span class="hljs-keyword">try</span> {
                HomeWin.remove(albumInfoScreenMainView);
            } <span class="hljs-keyword">catch</span>(e) {
            }
            <span class="hljs-keyword">try</span> {
                HomeWin.remove(BrowseScreenMainView);
            } <span class="hljs-keyword">catch</span>(e) {
            }
            <span class="hljs-keyword">try</span> {
                HomeWin.remove(BrowseResultMainView);
            } <span class="hljs-keyword">catch</span>(e) {
            }
            <span class="hljs-keyword">try</span> {
                HomeWin.remove(listenHistoryScreenMainView);
            } <span class="hljs-keyword">catch</span>(e) {
            }
            <span class="hljs-keyword">try</span> {
                HomeWin.remove(myStationScreenMainView);
            } <span class="hljs-keyword">catch</span>(e) {
            }
            <span class="hljs-keyword">try</span> {
                HomeWin.remove(nowplayingScreenMainView);
            } <span class="hljs-keyword">catch</span>(e) {
            }
            <span class="hljs-keyword">try</span> {
                HomeWin.remove(PopularScreenMainView);
            } <span class="hljs-keyword">catch</span>(e) {
            }
            <span class="hljs-keyword">try</span> {
                HomeWin.remove(PopularResultMainView);
            } <span class="hljs-keyword">catch</span>(e) {
            }
            <span class="hljs-keyword">try</span> {
                HomeWin.remove(SearchScreenMainView);
            } <span class="hljs-keyword">catch</span>(e) {
            }
            <span class="hljs-keyword">try</span> {
                HomeWin.remove(PopularPlayListMainView);
            } <span class="hljs-keyword">catch</span>(e) {
            }
            <span class="hljs-keyword">try</span> {
                HomeWin.remove(settingsScreenMainView);
            } <span class="hljs-keyword">catch</span>(e) {
            }
            <span class="hljs-keyword">try</span> {
                HomeWin.remove(songILikeScreenMainView);
            } <span class="hljs-keyword">catch</span>(e) {
            }
            <span class="hljs-keyword">try</span> {
                HomeWin.remove(ProfileScreenMainView);
            } <span class="hljs-keyword">catch</span>(e) {
            }
            CloseSidebar();
            addMyStationsidebar();
            openMyStationWindow(Titanium.App.Properties.getString(<span class="hljs-string">"userid"</span>));
            openAnimation(myStationScreenMainView);
            HomeWin.orientationModes = [Titanium.UI.PORTRAIT, Titanium.UI.UPSIDE_PORTRAIT, Titanium.UI.LANDSCAPE_LEFT, Titanium.UI.LANDSCAPE_RIGHT];
        });

        sideSleepButton = createSideBarIcons(sideIconHeight, sideIconWidth, <span class="hljs-string">"Sleep"</span>, sideBarImageUrl2, <span class="hljs-number">2</span>);
        sideSleepButton.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
            openSleepWindow();
            CloseSidebar();
        });

        sideHomeButton = createSideBarIcons(sideIconHeight, sideIconWidth, <span class="hljs-string">"Home"</span>, sideBarImageUrl3, <span class="hljs-number">3</span>);
        sideHomeButton.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
            <span class="hljs-keyword">try</span> {
                HomeWin.remove(albumScreenMainView);
            } <span class="hljs-keyword">catch</span>(e) {
            }
            <span class="hljs-keyword">try</span> {
                HomeWin.remove(albumInfoScreenMainView);
            } <span class="hljs-keyword">catch</span>(e) {
            }
            <span class="hljs-keyword">try</span> {
                HomeWin.remove(BrowseScreenMainView);
            } <span class="hljs-keyword">catch</span>(e) {
            }
            <span class="hljs-keyword">try</span> {
                HomeWin.remove(BrowseResultMainView);
            } <span class="hljs-keyword">catch</span>(e) {
            }
            <span class="hljs-keyword">try</span> {
                HomeWin.remove(listenHistoryScreenMainView);
            } <span class="hljs-keyword">catch</span>(e) {
            }
            <span class="hljs-keyword">try</span> {
                HomeWin.remove(myStationScreenMainView);
            } <span class="hljs-keyword">catch</span>(e) {
            }
            <span class="hljs-keyword">try</span> {
                HomeWin.remove(nowplayingScreenMainView);
            } <span class="hljs-keyword">catch</span>(e) {
            }
            <span class="hljs-keyword">try</span> {
                HomeWin.remove(PopularScreenMainView);
            } <span class="hljs-keyword">catch</span>(e) {
            }
            <span class="hljs-keyword">try</span> {
                HomeWin.remove(PopularResultMainView);
            } <span class="hljs-keyword">catch</span>(e) {
            }
            <span class="hljs-keyword">try</span> {
                HomeWin.remove(PopularPlayListMainView);
            } <span class="hljs-keyword">catch</span>(e) {
            }
            <span class="hljs-keyword">try</span> {
                HomeWin.remove(SearchScreenMainView);
            } <span class="hljs-keyword">catch</span>(e) {
            }
            <span class="hljs-keyword">try</span> {
                HomeWin.remove(settingsScreenMainView);
            } <span class="hljs-keyword">catch</span>(e) {
            }
            <span class="hljs-keyword">try</span> {
                HomeWin.remove(songILikeScreenMainView);
            } <span class="hljs-keyword">catch</span>(e) {
            }
            <span class="hljs-keyword">try</span> {
                HomeWin.remove(ProfileScreenMainView);
            } <span class="hljs-keyword">catch</span>(e) {
            }
            HomeWin.add(homeScreenMainView);
            CloseSidebar();
        });
        sideProfileButton = createSideBarIcons(sideIconHeight, sideIconWidth, <span class="hljs-string">"Profile"</span>, sideBarImageUrl5, <span class="hljs-number">5</span>);
        sideProfileButton.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
            <span class="hljs-keyword">try</span> {
                OpenArtistProfile(currentPlayListData[<span class="hljs-number">0</span>][<span class="hljs-number">4</span>], currentPlayListData[<span class="hljs-number">0</span>][<span class="hljs-number">1</span>], <span class="hljs-number">1</span>, currentPlayListData[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>]);
                HomeWin.remove(nowplayingScreenMainView);
                CloseSidebar();
            } <span class="hljs-keyword">catch</span>(e) {
                Ti.UI.createAlertDialog({
                    title : <span class="hljs-string">'No Track'</span>,
                    message : <span class="hljs-string">"No Playing Traack Found..."</span>,
                }).show();
            }
        });
        sideBuyButton = createSideBarIcons(sideIconHeight, sideIconWidth, <span class="hljs-string">"Buy"</span>, sideBarImageUrl6, <span class="hljs-number">6</span>);
        sideBuyButton.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
            ShowBuyWindow(<span class="hljs-string">"Station Digital"</span>, <span class="hljs-string">'http://shop.stationdigital.com'</span>);
            CloseSidebar();
        });

        sideShareButton = createSideBarIcons(sideIconHeight, sideIconWidth, <span class="hljs-string">"Share"</span>, sideBarImageUrl7, <span class="hljs-number">7</span>);
        sideShareButton.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
            openShareWindow();
            CloseSidebar();
        });

        sideAlbumButton = createSideBarIcons(sideIconHeight, sideIconWidth, <span class="hljs-string">"Album"</span>, sideBarImageUrl8, <span class="hljs-number">8</span>);
        sideAlbumButton.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
            <span class="hljs-keyword">try</span> {
                OpenAlbumList(artistIDforAlbum);
                CloseSidebar();
            } <span class="hljs-keyword">catch</span>(e) {
                Ti.UI.createAlertDialog({
                    title : <span class="hljs-string">'No Track'</span>,
                    message : <span class="hljs-string">"No Playing Traack Found..."</span>,
                }).show();
            }
        });

    } <span class="hljs-keyword">catch</span>(e) {
        alert(e);
    }
    <span class="hljs-keyword">return</span> sideBarMainContainer;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">addNowPlayingsidebar</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">if</span> (sideBarIconContainer.children != <span class="hljs-literal">null</span>) {
        <span class="hljs-keyword">var</span> cLength = sideBarIconContainer.children.length;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; cLength; i++) {
            sideBarIconContainer.remove(sideBarIconContainer.children[<span class="hljs-number">0</span>]);
            wait(<span class="hljs-number">50</span>);
        }
    }
    sideBarIconContainer.add(sideSleepButton);
    sideBarIconContainer.add(sideProfileButton);
    sideBarIconContainer.add(sideBuyButton);
    sideBarIconContainer.add(sideShareButton);
    sideBarIconContainer.add(sideHomeButton);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">addProfilesidebar</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">if</span> (sideBarIconContainer.children != <span class="hljs-literal">null</span>) {
        <span class="hljs-keyword">var</span> cLength = sideBarIconContainer.children.length;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; cLength; i++) {
            sideBarIconContainer.remove(sideBarIconContainer.children[<span class="hljs-number">0</span>]);
            wait(<span class="hljs-number">50</span>);
        }
    }
    sideBarIconContainer.add(sideAlbumButton);
    sideBarIconContainer.add(sideMyStationButton);
    sideBarIconContainer.add(sideShareButton);
    sideBarIconContainer.add(sideSleepButton);
    sideBarIconContainer.add(sideHomeButton);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">addMyStationsidebar</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">if</span> (sideBarIconContainer.children != <span class="hljs-literal">null</span>) {
        <span class="hljs-keyword">var</span> cLength = sideBarIconContainer.children.length;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; cLength; i++) {
            sideBarIconContainer.remove(sideBarIconContainer.children[<span class="hljs-number">0</span>]);
            wait(<span class="hljs-number">50</span>);
        }
    }
    sideBarIconContainer.add(sideSleepButton);
    sideBarIconContainer.add(sideHomeButton);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">addOthersidebar</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">if</span> (sideBarIconContainer.children != <span class="hljs-literal">null</span>) {
        <span class="hljs-keyword">var</span> cLength = sideBarIconContainer.children.length;
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; cLength; i++) {
            sideBarIconContainer.remove(sideBarIconContainer.children[<span class="hljs-number">0</span>]);
            wait(<span class="hljs-number">50</span>);
        }
    }
    sideBarIconContainer.add(sideMyStationButton);
    sideBarIconContainer.add(sideSleepButton);
    sideBarIconContainer.add(sideHomeButton);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">OpenHomeScreen</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">try</span> {
        <span class="hljs-comment">//    HomeWin.remove(homeScreenMainView);</span>
        <span class="hljs-keyword">if</span> (nowplayingstatus) {
            HomeWin.remove(nowplayingScreenMainView);
        }
    } <span class="hljs-keyword">catch</span>(e) {
    }
    HomeWin.add(homeScreenMainView);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">OpenSidebar</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-comment">//a11.left = Ti.Platform.displayCaps.platformWidth-100;</span>
    a11.right = <span class="hljs-number">0</span>;
    a11.height = Ti.Platform.displayCaps.platformHeight - <span class="hljs-built_in">Math</span>.round(<span class="hljs-built_in">Math</span>.round(winHeight * <span class="hljs-number">0.08</span>));
    a11.width = sideIconWidth;
    <span class="hljs-comment">//a11.visible=true;</span>
    sideBarMainContainer.animate(a11);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">CloseSidebar</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-comment">//a1.left=Ti.Platform.displayCaps.platformWidth-1;</span>
    a1.right = <span class="hljs-number">0</span>;
    a1.width = <span class="hljs-number">1</span>;
    a1.height = Ti.Platform.displayCaps.platformHeight - <span class="hljs-built_in">Math</span>.round(<span class="hljs-built_in">Math</span>.round(winHeight * <span class="hljs-number">0.08</span>));
    <span class="hljs-comment">//    a1.visible=false;</span>
    sideBarMainContainer.animate(a1);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Skip_Play_Song</span>(<span class="hljs-params">e</span>) </span>{
    <span class="hljs-keyword">try</span> {
            MediaPlayer.stop();
            <span class="hljs-keyword">if</span> (Titanium.Platform.name != <span class="hljs-string">'iPhone OS'</span>) {
                MediaPlayer.release();
            }
            <span class="hljs-comment">//Ti.API.info('inside call2');</span>
        audioPlayerImage.image = currentPlayListData[e.CurrentINDX][<span class="hljs-number">0</span>];
        nowPlayingImage.image = currentPlayListData[e.CurrentINDX][<span class="hljs-number">0</span>];
        audioprogress.value = <span class="hljs-number">0</span>;
        audioprogress.max = <span class="hljs-number">26</span>;
        <span class="hljs-comment">//currentPlayListData[e.CurrentINDX][0]6;</span>
        <span class="hljs-comment">//try {</span>
        timeElapsedLabel.text = <span class="hljs-string">"00:00"</span>;
        totalTimeLabel.text = currentPlayListData[e.CurrentINDX][<span class="hljs-number">7</span>];
        nowPlayingTitleLabel.text = currentPlayListData[e.CurrentINDX][<span class="hljs-number">2</span>];
        audioPlayerLabel.text = currentPlayListData[e.CurrentINDX][<span class="hljs-number">1</span>];
        songNameLabel.text = currentPlayListData[e.CurrentINDX][<span class="hljs-number">2</span>];
        albumNameLabel.text = currentPlayListData[e.CurrentINDX][<span class="hljs-number">6</span>];
        middleInnerButton.backgroundImage = <span class="hljs-string">"/appimages/NowPlayingWindow/pause.png"</span>;
        playButton.backgroundImage = <span class="hljs-string">"/appimages/audioplayerimages/pausesmall.png"</span>;
        playerStatus = <span class="hljs-literal">true</span>;
        Ti.API.info(<span class="hljs-string">'url--&gt;'</span> + currentPlayListData[e.CurrentINDX][<span class="hljs-number">8</span>]);
        Ti.API.info(<span class="hljs-string">'id--&gt;'</span> + currentPlayListData[e.CurrentINDX][<span class="hljs-number">9</span>]);
        MediaPlayer.url = currentPlayListData[e.CurrentINDX][<span class="hljs-number">8</span>];
        <span class="hljs-comment">//Ti.API.info(currentPlayListData[e.CurrentINDX][8]);</span>
        <span class="hljs-keyword">try</span> {
            MediaPlayer.start();
        } <span class="hljs-keyword">catch</span>(e) {
            alert(<span class="hljs-string">'Media==='</span> + e);
        }

    } <span class="hljs-keyword">catch</span>(e) {
        alert(e);
    }
}

Ti.App.addEventListener(<span class="hljs-string">'SkiporNext'</span>, Skip_Play_Song);

Ti.Gesture.addEventListener(<span class="hljs-string">'orientationchange'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
    <span class="hljs-keyword">try</span> {
        <span class="hljs-keyword">if</span> (e.orientation &gt;= <span class="hljs-number">1</span> &amp;&amp; e.orientation &lt;= <span class="hljs-number">4</span>) {
            sideBarMainContainer.height = Ti.Platform.displayCaps.platformHeight - <span class="hljs-built_in">Math</span>.round(<span class="hljs-built_in">Math</span>.round(winHeight * <span class="hljs-number">0.08</span>));
        }
    } <span class="hljs-keyword">catch</span>(e) {
    }
});

Ti.Gesture.addEventListener(<span class="hljs-string">'shake'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
    <span class="hljs-keyword">if</span> (Titanium.App.Properties.getBool(<span class="hljs-string">"shake"</span>) == <span class="hljs-string">""</span> || Titanium.App.Properties.getBool(<span class="hljs-string">"shake"</span>) == <span class="hljs-literal">null</span>) {
        Titanium.App.Properties.setBool(<span class="hljs-string">"shake"</span>, <span class="hljs-literal">true</span>);
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (Titanium.App.Properties.getBool(<span class="hljs-string">"shake"</span>)) {
        <span class="hljs-keyword">if</span> (skipCount == <span class="hljs-number">1</span>) {
            <span class="hljs-keyword">var</span> sleepTimeout = setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                skipCount = <span class="hljs-number">0</span>;
            }, <span class="hljs-built_in">Math</span>.round((<span class="hljs-number">60</span> * <span class="hljs-number">60</span>) * <span class="hljs-number">1000</span>));
        }
        <span class="hljs-keyword">if</span> (skipCount &gt;= <span class="hljs-number">6</span>) {
            Titanium.UI.createAlertDialog({
                title : <span class="hljs-string">'Not Allowed'</span>,
                message : <span class="hljs-string">'Unfortunately our music licenses force us to limit the number of tracks you may skip each hour. If you want to hear something else, try creating another station starting with different artist or track.'</span>,
            }).show();
            <span class="hljs-keyword">return</span>;
        }

        skipCount++;
        nextclick = <span class="hljs-literal">true</span>;
        currentSongIndex++;
        AddSongs(TrackIDs[currentSongIndex], IisPlaylist);
        <span class="hljs-comment">//Ti.App.fireEvent('SkiporNext', {</span>
        <span class="hljs-comment">//    CurrentINDX : currentSongIndex</span>
        <span class="hljs-comment">//});</span>
    }
});

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">OpenSplashWindow</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> splashWindow = Titanium.UI.createWindow({
        url : <span class="hljs-string">'ui/splash.js'</span>,
        backgroundImage : <span class="hljs-string">"/appimages/splashscreen/splashback.jpg"</span>,
        navBarHidden : <span class="hljs-literal">true</span>,
        fullscreen : <span class="hljs-literal">true</span>,
        exitOnClose : <span class="hljs-literal">false</span>,
    });
    splashWindow.orientationModes = [Titanium.UI.PORTRAIT, Titanium.UI.UPSIDE_PORTRAIT, Titanium.UI.LANDSCAPE_LEFT, Titanium.UI.LANDSCAPE_RIGHT];
    splashWindow.open();
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">LoginWindow</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> signinWindow = <span class="hljs-literal">null</span>;
    signinWindow = Titanium.UI.createWindow({
        url : <span class="hljs-string">'ui/SignInModule/signinmodulefile.js'</span>,
        backgroundImage : <span class="hljs-string">"/appimages/splashscreen/splashback.jpg"</span>,
        fullscreen : <span class="hljs-literal">true</span>,
        navBarHidden : <span class="hljs-literal">true</span>,
    });
    signinWindow.orientationModes = [Titanium.UI.PORTRAIT, Titanium.UI.UPSIDE_PORTRAIT, Titanium.UI.LANDSCAPE_LEFT, Titanium.UI.LANDSCAPE_RIGHT];
    signinWindow.open();
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">RegistrationWindow</span>(<span class="hljs-params">e</span>) </span>{
    <span class="hljs-keyword">var</span> registrationMainWindow = Ti.UI.createWindow({
        navBarHidden : <span class="hljs-literal">true</span>,
        fullscreen : <span class="hljs-literal">true</span>,
        exitOnClose : <span class="hljs-literal">false</span>,
        url : <span class="hljs-string">'ui/RegistrationModule/registrationmodule.js'</span>,
        custm : e.data,
    });
    registrationMainWindow.orientationModes = [Titanium.UI.PORTRAIT, Titanium.UI.UPSIDE_PORTRAIT, Titanium.UI.LANDSCAPE_LEFT, Titanium.UI.LANDSCAPE_RIGHT];
    registrationMainWindow.open();
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">WellcomeWindow</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> WellcomeMainWindow = Ti.UI.createWindow({
        url : <span class="hljs-string">'ui/RegistrationModule/WelcomeModule.js'</span>,
        navBarHidden : <span class="hljs-literal">true</span>,
        fullscreen : <span class="hljs-literal">true</span>,
        exitOnClose : <span class="hljs-literal">false</span>,

    });
    WellcomeMainWindow.orientationModes = [Titanium.UI.PORTRAIT, Titanium.UI.UPSIDE_PORTRAIT, Titanium.UI.LANDSCAPE_LEFT, Titanium.UI.LANDSCAPE_RIGHT];
    WellcomeMainWindow.open();
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">RefreshScreen</span>(<span class="hljs-params"></span>) </span>{

}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">LoadAgain</span>(<span class="hljs-params"></span>) </span>{
    RefreshScreen();
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">LoadMainScreen</span>(<span class="hljs-params"></span>) </span>{

    homeScreenMainView = Titanium.UI.createView({
        left : <span class="hljs-number">0</span>,
        right : <span class="hljs-number">0</span>,
        top : <span class="hljs-number">0</span>,
        bottom : <span class="hljs-built_in">Math</span>.round(winHeight * <span class="hljs-number">0.10</span>),
        backgroundColor : <span class="hljs-string">"transparent"</span>,
        layout : <span class="hljs-string">'vertical'</span>,
        <span class="hljs-comment">//backgroundImage : "/appimages/mainwindow/homebackground.jpg"</span>
    });

    HomeWin = Titanium.UI.createWindow({
        backgroundColor : <span class="hljs-string">"#012759"</span>,
        exitOnClose : <span class="hljs-literal">true</span>,
        fullscreen : <span class="hljs-literal">true</span>,
        navBarHidden : <span class="hljs-literal">true</span>,
    });
    HomeWin.addEventListener(<span class="hljs-string">'open'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
        checkPlayerStatus = <span class="hljs-literal">true</span>;
    });
    HomeWin.addEventListener(<span class="hljs-string">'close'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        checkPlayerStatus = <span class="hljs-literal">false</span>;
    });

    HomeWin.orientationModes = [Titanium.UI.PORTRAIT, Titanium.UI.UPSIDE_PORTRAIT, Titanium.UI.LANDSCAPE_LEFT, Titanium.UI.LANDSCAPE_RIGHT];

    HomeWin.addEventListener(<span class="hljs-string">'touchstart'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e1</span>) </span>{
        start = e1.y;
    });

    HomeWin.addEventListener(<span class="hljs-string">'touchend'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e2</span>) </span>{
        end = e2.y;
        <span class="hljs-keyword">if</span> ((start) &amp;&amp; (start &lt; audioContainerHeight)) {
            <span class="hljs-keyword">if</span> (swipeUp(start, end)) {
                <span class="hljs-keyword">if</span> (nowplayingstatus) {
                    HomeWin.remove(nowplayingScreenMainView);
                    nowplayingstatus = <span class="hljs-literal">false</span>;
                }
                <span class="hljs-keyword">if</span> (!nowplayingstatus) {
                    ShowLoader(<span class="hljs-string">'wait'</span>);
                    shareFor = <span class="hljs-number">0</span>;
                    HomeWin.orientationModes = [Titanium.UI.PORTRAIT];
                    nowplayingScreenMainView.transform = Ti.UI.create2DMatrix().scale(<span class="hljs-number">1</span>);
                    HomeWin.add(nowplayingScreenMainView);
                    nowplayingScreenMainView.height = <span class="hljs-number">1</span>;
                    nowplayingScreenMainView.bottom = <span class="hljs-number">0</span>;
                    nowplay.height = winHeight;
                    nowplayingScreenMainView.animate(nowplay);
                    nowplayingstatus = <span class="hljs-literal">true</span>;
                    HideLoader();
                }
            }
            start = <span class="hljs-literal">null</span>;
        }
    });

    Ti.include(<span class="hljs-string">"ui/GlobalModule/activityIndicator.js"</span>);
    <span class="hljs-keyword">if</span> (Titanium.Platform.name != <span class="hljs-string">'iPhone OS'</span>) {
        HomeWin.open();
        <span class="hljs-keyword">var</span> dialog = Titanium.UI.createAlertDialog({
            title : <span class="hljs-string">'Station Digital'</span>,
            buttonNames : [<span class="hljs-string">'Yes'</span>, <span class="hljs-string">'No'</span>],
            cancel : <span class="hljs-number">1</span>,
            message : <span class="hljs-string">'Do you want to exit from Station Digital'</span>,
        });

        dialog.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
            <span class="hljs-keyword">if</span> (e.index == <span class="hljs-number">0</span>) {
                HomeWin.close();
            }
        });

        HomeWin.addEventListener(<span class="hljs-string">'android:back'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
            dialog.show();
        });

    } <span class="hljs-keyword">else</span> {
        HomeWin.hideTabBar();
        tabGroup = Titanium.UI.createTabGroup({});
        MainTab = Titanium.UI.createTab({
            <span class="hljs-built_in">window</span> : HomeWin
        });
        tabGroup.addTab(MainTab);
        tabGroup.open({
            transition : Titanium.UI.iPhone.AnimationStyle.FLIP_FROM_LEFT
        });

        Titanium.UI.currentTab = MainTab;
    }
    ShowLoader(<span class="hljs-string">'Loading...'</span>);
    Ti.include(<span class="hljs-string">'ui/DashBoardModule/createPlayList.js'</span>);
    Ti.include(<span class="hljs-string">'ui/GlobalModule/homescreeniconcreater.js'</span>);
    Ti.include(<span class="hljs-string">'ui/GlobalModule/rowcreater.js'</span>);
    Ti.include(<span class="hljs-string">'ui/DashBoardModule/shareModule.js'</span>);
    Ti.include(<span class="hljs-string">"ui/DashBoardModule/ListenHistoryModule.js"</span>);
    Ti.include(<span class="hljs-string">"ui/DashBoardModule/SongILikeModule.js"</span>);
    Ti.include(<span class="hljs-string">"ui/DashBoardModule/MyStationModule.js"</span>);
    Ti.include(<span class="hljs-string">'ui/DashBoardModule/nowplayingModule.js'</span>);
    Ti.include(<span class="hljs-string">'ui/DashBoardModule/sleepModule.js'</span>);
    Ti.include(<span class="hljs-string">'ui/DashBoardModule/settingModule.js'</span>);
    Ti.include(<span class="hljs-string">'ui/DashBoardModule/profilemodule.js'</span>);
    Ti.include(<span class="hljs-string">'ui/DashBoardModule/albummodule.js'</span>);
    Ti.include(<span class="hljs-string">'ui/DashBoardModule/popularModule.js'</span>);
    Ti.include(<span class="hljs-string">'ui/DashBoardModule/browseModule.js'</span>);
    Ti.include(<span class="hljs-string">'ui/DashBoardModule/searchModule.js'</span>);
    Ti.include(<span class="hljs-string">'ui/DashBoardModule/dashboardsearch.js'</span>);
    homeScreenMainView.add(CreateHomeScreenNevBar());
    homeScreenMainView.add(AddSearchBar());
    homeScreenMainView.add(CreateIconContainer());
    HomeWin.add(homeScreenMainView);
    HomeWin.add(CreateAudioPlayer());
    HomeWin.add(createSideBar());
    homesearch.blur();
    HideLoader();
}

<span class="hljs-keyword">var</span> swipeUp = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">start, end</span>) </span>{
    <span class="hljs-keyword">var</span> dif = start - end;
    <span class="hljs-keyword">if</span> (dif &gt; <span class="hljs-number">75</span>) {
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    }
}
<span class="hljs-keyword">var</span> start = <span class="hljs-literal">null</span>;
<span class="hljs-keyword">var</span> end = <span class="hljs-literal">null</span>;

Ti.App.addEventListener(<span class="hljs-string">'openMain'</span>, LoadMainScreen);
Ti.App.addEventListener(<span class="hljs-string">'openLogin'</span>, LoginWindow);
Ti.App.addEventListener(<span class="hljs-string">'openRegistration'</span>, RegistrationWindow);
Ti.App.addEventListener(<span class="hljs-string">'openWellcome'</span>, WellcomeWindow);
Ti.App.addEventListener(<span class="hljs-string">'openSplash'</span>, OpenSplashWindow);
Ti.App.fireEvent(<span class="hljs-string">'openSplash'</span>);
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="March 25th 2013, 11:10:40 am">March 25th 2013</span>
								by <span class='authorname'>Vilas kharate</span><br>
								<a class="icon-bg icon-link" href="question/149944/my-application-not-working-on-android-it-works-fine-on-iphone-plz-help#answer-259338" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
