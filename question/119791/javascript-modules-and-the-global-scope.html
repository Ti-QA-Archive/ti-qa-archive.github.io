<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>javascript modules and the global scope » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>javascript modules and the global scope</h1>
		</header>
		<section>
			<p>I have used javascript in webapps, but never anything large enough to worry about the global scope.  I have seen several programming patterns for modules.  The two below are the most common I&#39;ve come across. </p>
<p>Can someone tell me the difference between the following two approaches and their affect on the global scope?  Your help in understanding this is much appreciated!!!</p>
<pre><code class="hljs">tw.UI = (<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">createAppWindow</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">return</span> Ti.UI.createWindow({
            backgroundColor: <span class="hljs-string">'black'</span>
        });
    }
    <span class="hljs-keyword">return</span>{
        createAppWindow:createAppWindow
    }
})();


(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
    tw.UI = {};
    tw.UI.createAppWindow = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">return</span> Ti.UI.createWindow({
            backgroundColor: <span class="hljs-string">'black'</span>
        });
    };
})();
</code></pre><p>I understand how the two patterns are functionally equivalent.  My question is what is the affect on the global scope of having tw.UI defined outside the function, as in the first example, and having tw.UI defined inside the function, as in the second example?</p>
<p>This isn&#39;t Titanium specific.  If there is a more appropriate forum someone can point me to, I can ask my java script questions there instead.</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="May 17th 2011, 2:21:50 pm">May 17th 2011</span>
				by <span class='authorname'>E Lynette Rayle</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>javascript</span></li>
					
						<li><span class='tagname'>modules</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-207928">
				
						<section>
							<p>in my understanding (but not 100% entirely sure) </p>
<p>tw.UI = (function() {}); leaves the tw.UI object after your code is finished.<br>you have to set the tw.ui=null&#x2F;nothing to clear some memory. (only little memory, an empty function object will not be large) </p>
<p>(function() {tw.UI={}})() leaves nothing when your function code is finished.<br>automatic garbage collection destroys all on finish.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="May 17th 2011, 3:17:46 pm">May 17th 2011</span>
								by <span class='authorname'>peet klomp</span><br>
								<a class="icon-bg icon-link" href="question/119791/javascript-modules-and-the-global-scope.html#answer-207928" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Peet,</p>
<p>I don&#39;t think there will be any garbage collection involved because tw.UI is referenced outside closure.</p>
<p>I think there no much difference, it&#39;s just a matter of coding style.</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 18th 2011, 4:33:56 am">May 18th 2011</span>
											by <span class='authorname'>Ivan Škugor</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
