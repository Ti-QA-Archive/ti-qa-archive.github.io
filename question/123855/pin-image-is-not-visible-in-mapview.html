<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Pin image is not visible in MapView » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Pin image is not visible in MapView</h1>
		</header>
		<section>
			<p>I have been at this for about a day now reading the documentation and forums.<br>I&#39;m successfully able to run this sample code to generate a window with map.</p>
<p>However I <strong>cannot see the pin image on the map</strong>.  The image map-pin.png exists in the Resources\images folder and this piece code is in app.js under Resources folder.</p>
<p>I&#39;m trying this on Android platform 2.3.1 simulator (Win XP).<br>I can&#39;t see any error reported on this on the log.<br>Any help is appreciated.  I have attached a screenshot of what I see with the following code.<br>Thanks</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> win1 = Ti.UI.createWindow({
    title: <span class="hljs-string">'Local Read'</span>
});
<span class="hljs-keyword">var</span> isAndroid = <span class="hljs-keyword">false</span>;
<span class="hljs-keyword">if</span> (Titanium.Platform.name == <span class="hljs-string">'android'</span>) {
    isAndroid = <span class="hljs-keyword">true</span>;
}

<span class="hljs-comment">//</span>
<span class="hljs-comment">//CREATE MAP VIEW</span>
<span class="hljs-comment">//</span>
<span class="hljs-keyword">var</span> mapview = Titanium.<span class="hljs-built_in">Map</span>.createView({
    mapType: Titanium.<span class="hljs-built_in">Map</span>.STANDARD_TYPE,
    region:{latitude:<span class="hljs-number">33.74511</span>, longitude:-<span class="hljs-number">84.38993</span>, latitudeDelta:<span class="hljs-number">0.5</span>, longitudeDelta:<span class="hljs-number">0.5</span>},
    animate:<span class="hljs-keyword">true</span>,
    regionFit:<span class="hljs-keyword">true</span>,
    userLocation:<span class="hljs-keyword">true</span>
});


     <span class="hljs-comment">//Create Annotations</span>
     <span class="hljs-keyword">var</span> annotationParams = {
        latitude:<span class="hljs-number">33.74511</span>,
        longitude:-<span class="hljs-number">84.38993</span>,
        title:<span class="hljs-string">'title'</span>,
        subtitle:<span class="hljs-string">'subtitle'</span>,
        animate:<span class="hljs-keyword">true</span>,
        leftButton: <span class="hljs-string">'images/appcelerator_small.png'</span>,
        myid:<span class="hljs-number">1</span>
    };

    <span class="hljs-keyword">if</span> (!isAndroid) {
        annotationParams.pincolor = Titanium.<span class="hljs-built_in">Map</span>.ANNOTATION_RED;
    } <span class="hljs-keyword">else</span> {
        annotationParams.image = <span class="hljs-string">'images/map-pin.png'</span>;
    }

    annotationParams.image = <span class="hljs-string">'images/map-pin.png'</span>;
    <span class="hljs-keyword">var</span> annotation = Titanium.<span class="hljs-built_in">Map</span>.createAnnotation(annotationParams);

    mapview.addAnnotation(annotation);

win1.add(mapview);
win1.open();
</code></pre><p><img src="http:&#x2F;&#x2F;i53.tinypic.com&#x2F;vol9xk.jpg &quot;Resulting map&quot;" alt="map with no pin"></p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="August 6th 2011, 9:40:20 pm">August 6th 2011</span>
				by <span class='authorname'>Siva Kanesh</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>mapview</span></li>
					
						<li><span class='tagname'>pin</span></li>
					
				</ul>
			

			<section>
				<h5>1 Comment</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Using Titanium Mobile SDK 1.7.1</p>
</div>
							<div class="author">
								&mdash; commented <span title="August 8th 2011, 5:04:22 am">August 8th 2011</span>
								by <span class='authorname'>Siva Kanesh</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-215644">
				
						<section>
							<p>Just tested this on Android 2.3.3 and Ti SDK 1.7.2 using the same file name for the pin image and it displayed fine.  I tested it both in resources&#x2F;images and resources&#x2F;android&#x2F;images and it worked in both with no changes to your code. My only recommendations would be to 1) make sure the png isn&#39;t corrupt or unreadable and 2) try cleaning out the Project Build (In Ti Studio under Project &gt; Clean…).</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 6th 2011, 10:36:00 pm">August 6th 2011</span>
								by <span class='authorname'>Adam Paxton</span><br>
								<a class="icon-bg icon-link" href="../../question/123855/pin-image-is-not-visible-in-mapview.html#answer-215644" rel="permalink">permalink</a>
							</div>

							<h5>5 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Thanks for testing it Adam.  I have cleaned my project and tried to run the project again on the simulator.  Started to get errors. Please see this <a href="http:&#x2F;&#x2F;www.pastie.org&#x2F;2332447">pastie link</a>.</p>
<p>Not sure why it is complaining about the missing file in the build folder. But I have copied the appicon.png there and this error goes away and the application is deployed and the map is shown.  But the map pin is not visible.  And to make it worse the appcelerator_small.png that was visible before has now disappeared too.</p>
<p>I&#39;m not sure what else it could be.  I think I may have to remove both Android SDK and Titanium and do a fresh install and cross my fingers.  Would you agree?</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 6th 2011, 11:37:22 pm">August 6th 2011</span>
											by <span class='authorname'>Siva Kanesh</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>When I&#39;ve got these kind of problems, I usually create a new project and replace the Resources map with that of the old project. If I changed tiapp.xml, I overwrite this as well.</p>
<p>Try this before you reinstall everything!</p>
<p>In any case, the Android SDK is not the problem.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 7th 2011, 5:04:11 am">August 7th 2011</span>
											by <span class='authorname'>Mark Aalderink</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I have created a new project with just the app.js + the image folder.  I have made it so that both the &#39;leftButton of the popup <strong>AND</strong> the the pin image are &#39;appcelerator_small.png&#39;.  The pin is still invisible, However the leftButton image is visible on the map. This suggests that the image itself is fine. </p>
<p>However I can see that Titanium is making a GET request for the image when the application launches and when the title is shown on the map.</p>
<p>Do you think it is possible that the pin is below the map somehow? (&lt;_&gt;)<br>Is it possible that Google Map API itself preventing it for some reason?</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 7th 2011, 8:04:37 am">August 7th 2011</span>
											by <span class='authorname'>Siva Kanesh</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>What Titanium SDK are you using?</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 7th 2011, 10:20:16 pm">August 7th 2011</span>
											by <span class='authorname'>Adam Paxton</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Titanium Mobile SDK 1.7.1.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 8th 2011, 5:24:53 am">August 8th 2011</span>
											by <span class='authorname'>Siva Kanesh</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-215800">
				
						<section>
							<p>I have just setup a fresh titanium (1.7.2) environment at my work PC. Run the same code on an emulator (Google API, 2.3.1).  Again, don&#39;t see the pin on the map.  Could it be that you have something different about your API level or directory structure?</p>
<p>I have done a lot of the hard work to this app by implementing a complex workflow logic reading and committing to online data sources. But without the pin appearing on the map it all becomes useless.  Is there anything else I can try?</p>
<p>Thanks</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 8th 2011, 8:26:32 am">August 8th 2011</span>
								by <span class='authorname'>Siva Kanesh</span><br>
								<a class="icon-bg icon-link" href="../../question/123855/pin-image-is-not-visible-in-mapview.html#answer-215800" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
