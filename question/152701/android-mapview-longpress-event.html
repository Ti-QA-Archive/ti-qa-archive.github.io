<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Android Mapview Longpress Event Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Android Mapview Longpress Event</h1>
		</header>
		<section>
			<p>At the moment i am working on an app which uses the map module. Now i want the user to be able to create custom annotations by a long press like in the vanilla maps app on android. This works fine on the iphone by adding an eventlistener to the mapview. But on android this event is not fired.<br>I also tried to create an overlay view but the result was that i got the longpress event and was able to create annotations therefore the map wasn&#39;t controllable anymore.</p>
<p>Does anyone know a workaround to this problem?</p>
<p>Thanks in advance</p>
<p>David</p>
<p>Here is my code:</p>
<pre><code class="hljs"> <span class="hljs-keyword">if</span>(core.isAndroid){    
        <span class="hljs-keyword">var</span> mapviewContainer = Ti.UI.createView({
            height:Ti.UI.FILL,
            width:Ti.UI.FILL
        });
        <span class="hljs-keyword">var</span> mapviewEventOverlay = Ti.UI.createView({
            height:Ti.UI.FILL,
            width:Ti.UI.FILL,
            zIndex:<span class="hljs-number">2</span>
        });
        mapviewContainer.add(mapview);
        mapviewContainer.add(mapviewEventOverlay);
        mapviewEventOverlay.addEventListener(<span class="hljs-string">'longpress'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span></span>{
            alert(e);
        });
        win.win.add(mapviewContainer);        
    }<span class="hljs-keyword">else</span>{
        mapview.addEventListener(<span class="hljs-string">'longpress'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span></span>{
            alert(e);
        });
        win.win.add(mapview);
    };
</code></pre>
		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="May 22nd 2013, 8:18:41 am">May 22nd 2013</span>
				by <span class='authorname'>David Thulke</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>click</span></li>
					
						<li><span class='tagname'>event</span></li>
					
						<li><span class='tagname'>eventlistener</span></li>
					
						<li><span class='tagname'>mapview</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-263196">
				
						<section>
							<p>Hello,</p>
<p><a href="http:&#x2F;&#x2F;docs.appcelerator.com&#x2F;titanium&#x2F;latest&#x2F;#!&#x2F;guide&#x2F;Google_Maps_v2_for_Android-section-36739898_GoogleMapsv2forAndroid-EventHandling">according to the docs</a>, the Android Maps v2 module doesn&#39;t support that events. Add a feature request in <a href="http:&#x2F;&#x2F;jira.appcelerator.org">jira</a>.</p>
<p>Best,</p>
<p>Mauro</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="May 22nd 2013, 5:26:40 pm">May 22nd 2013</span>
								by <span class='authorname'>Mauro Parra</span><br>
								<a class="icon-bg icon-link" href="question/152701/android-mapview-longpress-event#answer-263196" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Thanks for your answer. I didn&#39;t read this part of the docs. I thought that the basic features of Ti.Map are included in v2. Longpress is in my opinion the visceral gesture for the user to create custom annotations. Unfortunately it seems as if it isn&#39;t supported. I added a feature request in jira but maybe someone knows a working workaround to this problem because I need this feature urgently for my app.</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 23rd 2013, 5:57:45 am">May 23rd 2013</span>
											by <span class='authorname'>David Thulke</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
