<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>App random crashes but no closure and remains open on android device but not iOS... Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>App random crashes but no closure and remains open on android device but not iOS...</h1>
		</header>
		<section>
			<p>Hi guys,</p>
<p>SDK: 2.1.4.GA and above</p>
<p>The app has been built with an mvc approach and on opening a window I build the views and straight after closes the previous window and nulls all the objects to free from memory. It does load data from a sqlite DB on some screens but not all.</p>
<p>I have an app that works on iOS both in the simulator and on the device fine, on android it works most of the time on both the simulator and the device but after using it for a little while on the device it basically crashes but leaves the app running with a black screen and says unfortunately LDC has stopped. I dont get any errors in the debug monitor and even very light screens on restart will crash it over and over. Then all of a sudden it comes alive till it crashes again. If you look at the open applications it shows a preview of the app with the black screen so the app is not fully closing and I think this is where the problem lies on the repeated crashes. Some times it gives me no errors at all, goes to home screen of device  but again remains in the recent applications menu with a black screen for the preview. Click on it and the app reboots back up to initial screen and clicking on a menu item the loop continues.</p>
<p>On my last test it crashed, I left it 3 or 4 mins and it restarted itself and back to the apps home screen!</p>
<p>Any ideas on where to start? getting really stuck on this as I just cant work out why the hell it keeps doing it.</p>
<p>Thanks,</p>
<p>Alex</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="February 13th 2013, 4:16:23 pm">February 13th 2013</span>
				by <span class='authorname'>Alex Akass</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>black screen</span></li>
					
						<li><span class='tagname'>crash</span></li>
					
						<li><span class='tagname'>device</span></li>
					
						<li><span class='tagname'>random</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-256733">
				
						<section>
							<p>Hi</p>
<p>This is going to be very difficult to actually test as it sounds as if the problem is memory or process related.</p>
<ul>
<li>What exactly does the error message say?</li>
<li>Is LDC the name of the app?</li>
</ul>
<p>Things to do and try</p>
<ul>
<li>If you are getting a &quot;stopped responding&quot; error it is often a process running that is locking things up<ul>
<li>Are you adding things to a SQL database when it occurs?  If you are adding lots of data at the same time then you should be using <strong>Transactions</strong>, let me know if you need a code example</li>
<li>If you are running long loops when it locks then your problem is there, possible a memory issue of you are concatenating strings for example</li>
<li>Does the message happen in the same places each time or totally random.  Localise the problem and then remove that code if you can and see it continues - this is a rule out technique</li>
</ul>
</li>
<li>Write a local device log file you can email yourself using the Titanium Email dialog and an attached filename.  Then write to that file where you are and a date and time stamp of each entry.  When the app crashes see where you were last.</li>
<li>Ideally add a reference to the availableMemory method as that &quot;may&quot; be relevant.</li>
</ul>
<p>Try these and report back.  I will try and suggest more based on what you report back.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="February 13th 2013, 5:22:13 pm">February 13th 2013</span>
								by <span class='authorname'>Malcolm Hollingsworth</span><br>
								<a class="icon-bg icon-link" href="question/148239/app-random-crashes-but-no-closure-and-remains-open-on-android-device-but-not-ios.html#answer-256733" rel="permalink">permalink</a>
							</div>

							<h5>10 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Hi,</p>
<p>Thanks for your quick response. So I have been having a good look round and will report my findings to you but will answer your questions one by one.</p>
<p>One thing to give you a visual is this:</p>
<p>https:&#x2F;&#x2F;play.google.com&#x2F;store&#x2F;apps&#x2F;details?id=com.londondivechamber.ldc&amp;hl=en</p>
<p>Its the first version which used single context so had to be updated and its this new updated version thats just dying!</p>
<p>What errors? none on screen sometimes and other times it tells me its not responding.<br>LDC is the app.</p>
<p>SQL? yes I do load it but the errors happen going between windows, some windows are simple views with no SQLite in sight and others load in data from a DB and create table rows. All views load, you can go around each view but every now and then it just dies without warning.</p>
<p>No long loops on lock up, its happening when going from view to view. I will add an example of how I do that just in case its obvious!</p>
<p>It happens without warning and different all the time, its like something just trips it up, sometimes a few views in sometimes I could have been going around the app for a good few minutes.</p>
<p>Ok so your email idea, good idea but going to be long so I did some logging in android debugger instead which helped a little!</p>
<p>So using memory available I did notice from the start there is sod all left before I have even loaded a single file! So in app.js I call the controller which then manages a global event handler to load and close windows. Please see below:</p>
<p>02-13 21:34:29.948: E&#x2F;TiAPI(1321): Memory point: before controller  = 140824</p>
<p>02-13 21:34:30.377: E&#x2F;TiAPI(1321): Memory point: after controller  = 4519296</p>
<p>02-13 21:34:32.828: E&#x2F;TiAPI(1321): Memory point: open home  = 1784056</p>
<p>02-13 21:35:17.828: E&#x2F;TiAPI(1321): Memory point: close home = 1907840</p>
<p>02-13 21:35:17.837: E&#x2F;TiAPI(1321): Memory point: close home = 1907176</p>
<p>02-13 21:35:19.177: E&#x2F;TiAPI(1321): Memory point: predive open = 1280512</p>
<p>02-13 21:35:30.657: E&#x2F;TiAPI(1321): Memory point: open home  = 1524488</p>
<p>02-13 21:35:30.877: E&#x2F;TiAPI(1321): Memory point: predive close = 1509904</p>
<p>02-13 21:35:36.080: E&#x2F;TiAPI(1321): Memory point: close home = 741768</p>
<p>02-13 21:35:37.048: E&#x2F;TiAPI(1321): Memory point: open atoz = 1529936</p>
<p>02-13 21:35:44.498: E&#x2F;TiAPI(1321): Memory point: close atoz = 980984</p>
<p>02-13 21:35:45.528: E&#x2F;TiAPI(1321): Memory point: open atoz details  = 1171184</p>
<p>Using instruments and ddms I see stuff getting allocated and then removed fine, I am a good boy by the looks of things, will supply instruments output if need to make sure I am reading it right.</p>
<p>One thing I have just noticed is this:</p>
<p>02-13 21:35:47.137: E&#x2F;TiBaseActivity(1321): (main) [1345,75278] Layout cleanup.</p>
<p>02-13 21:35:51.977: E&#x2F;dalvikvm-heap(1321): Out of memory on a 614416-byte allocation.</p>
<p>02-13 21:35:52.117: E&#x2F;TiApplication(1321): (main) [870,80201] Sending event: exception on thread: main msg:java.lang.OutOfMemoryError; Titanium 2.1.4,2012&#x2F;11&#x2F;09 12:47,51f2c64</p>
<p>02-13 21:35:52.117: E&#x2F;TiApplication(1321): java.lang.OutOfMemoryError</p>
<p>02-13 21:35:52.117: E&#x2F;TiApplication(1321):     at android.graphics.BitmapFactory.nativeDecodeStream(Native Method)</p>
<p>02-13 21:35:52.117: E&#x2F;TiApplication(1321):     at android.graphics.BitmapFactory.decodeStream(BitmapFactory.java:493)</p>
<p>02-13 21:35:52.117: E&#x2F;TiApplication(1321):     at android.graphics.BitmapFactory.decodeResourceStream(BitmapFactory.java:351)</p>
<p>02-13 21:35:52.117: E&#x2F;TiApplication(1321):     at android.graphics.drawable.Drawable.createFromRe<br>sourceStream(Drawable.java:773)</p>
<p>02-13 21:35:52.117: E&#x2F;TiApplication(1321):     at android.graphics.drawable.Drawable.createFromStream(Drawable.java:733)</p>
<p>Now I saw a few comments on this and people say they are loading big or lots of images. I am not! if you install my old version of the app you can clearly see that there is around 5 images being loaded on that screen and my entire images folder is only 750k, these 5 are about 17K so very very small.</p>
<p>Hope that helps you to help me ;-)</p>
</p>
										<div class="author">
											&mdash; commented <span title="February 13th 2013, 7:53:59 pm">February 13th 2013</span>
											by <span class='authorname'>Alex Akass</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>A quick point about images.  There is no relationship between the file size of an image and the memory footprint when it is loaded into memory.</p>
<p>If you have a 500x500 JPEG then the image is 500x500x3 bytes or 732.5K when loaded into memory.  This is true EVEN if the image file size is 1K.  The reason is because the device needs to keep the image in memory and it can only do that by keeping an image with all the pixels and colour depth.  If you have the image stretched so it is larger than the pixel size it takes up even more memory as it needs to map the display memory as well, if it is smaller than the pixel size you do not save any memory it still needs the original image data.</p>
<p>If you have a normal PNG with or without opacity then you multiple by 4 instead of the JPG factor of 3.  PNG8 is a factor of 1.</p>
<p>So if your image is a 500x500 PNG then it is 500x500x4 = 976.6K.</p>
<p>So your images can really add up and add up quickly.</p>
<p>Does this new information give you any places to look that you may not have considered previously?</p>
</p>
										<div class="author">
											&mdash; commented <span title="February 13th 2013, 8:06:24 pm">February 13th 2013</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Ah interesting, I do have images that I tiled, I have a 1px wide image for the top and bottom toolbar images so this might explain it.</p>
<p>I will give jpg&#39;s and proper width a go then as that could well explain it.</p>
<p>Do images get destroyed when you close or null a window?</p>
<p>How being a web developer and saving load times can completely screw you up in mobile dev!</p>
<p>Thanks for your help, I will make some changes and see how we go!</p>
<p>Alex</p>
</p>
										<div class="author">
											&mdash; commented <span title="February 13th 2013, 8:14:41 pm">February 13th 2013</span>
											by <span class='authorname'>Alex Akass</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Images will get removed from memory as long as the thing they are attached to is also removed.  I know that does not sound like a yes - it is meant to be, but with a hint of - there are times when it is not an automatic process.  I do not think you you are near that sort of thing though.</p>
<p>I get the point about being a web developer; take solace in the fact that whilst most people can make apps (with something like Titanium) good apps come from people who take care to find all the little things that make your app better.  A good app is greater than the sum of its parts and many focus on the visuals and nothing else.  Taking care of things behind the scenes is often much more important - and then all the pretty bits :-)</p>
</p>
										<div class="author">
											&mdash; commented <span title="February 13th 2013, 8:23:12 pm">February 13th 2013</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Thanks for your help so far, no luck! we still get that message about being out of memory. Something that looks odd is this:</p>
<pre><code class="hljs">
[INFO] [<span class="hljs-number">2013</span>-<span class="hljs-number">02</span>-<span class="hljs-number">13</span> <span class="hljs-number">22</span>:<span class="hljs-number">36</span>:<span class="hljs-number">05</span>,<span class="hljs-number">388</span>] get images/sync-button-background-spacing.png: /mobile-studio/ldc-app/Resources/images/sync-button-background-spacing.png

[INFO] [<span class="hljs-number">2013</span>-<span class="hljs-number">02</span>-<span class="hljs-number">13</span> <span class="hljs-number">22</span>:<span class="hljs-number">36</span>:<span class="hljs-number">05</span>,<span class="hljs-number">410</span>] get images/sync-button-background-spacing.png: /mobile-studio/ldc-app/Resources/images/sync-button-background-spacing.png

[INFO] [<span class="hljs-number">2013</span>-<span class="hljs-number">02</span>-<span class="hljs-number">13</span> <span class="hljs-number">22</span>:<span class="hljs-number">36</span>:<span class="hljs-number">05</span>,<span class="hljs-number">432</span>] get images/sync-button-background-spacing.png: /mobile-studio/ldc-app/Resources/images/sync-button-background-spacing.png

[INFO] [<span class="hljs-number">2013</span>-<span class="hljs-number">02</span>-<span class="hljs-number">13</span> <span class="hljs-number">22</span>:<span class="hljs-number">36</span>:<span class="hljs-number">05</span>,<span class="hljs-number">451</span>] get images/sync-button-background-spacing.png: /mobile-studio/ldc-app/Resources/images/sync-button-background-spacing.png

[INFO] [<span class="hljs-number">2013</span>-<span class="hljs-number">02</span>-<span class="hljs-number">13</span> <span class="hljs-number">22</span>:<span class="hljs-number">36</span>:<span class="hljs-number">05</span>,<span class="hljs-number">498</span>] get images/background.png: /mobile-studio/ldc-app/Resources/images/background.png

[INFO] [<span class="hljs-number">2013</span>-<span class="hljs-number">02</span>-<span class="hljs-number">13</span> <span class="hljs-number">22</span>:<span class="hljs-number">36</span>:<span class="hljs-number">05</span>,<span class="hljs-number">718</span>] get images/background.png: /mobile-studio/ldc-app/Resources/images/background.png

[INFO] [<span class="hljs-number">2013</span>-<span class="hljs-number">02</span>-<span class="hljs-number">13</span> <span class="hljs-number">22</span>:<span class="hljs-number">36</span>:<span class="hljs-number">05</span>,<span class="hljs-number">767</span>] get images/background.png: /mobile-studio/ldc-app/Resources/images/background.png

[INFO] [<span class="hljs-number">2013</span>-<span class="hljs-number">02</span>-<span class="hljs-number">13</span> <span class="hljs-number">22</span>:<span class="hljs-number">36</span>:<span class="hljs-number">05</span>,<span class="hljs-number">815</span>] get images/background.png: /mobile-studio/ldc-app/Resources/images/background.png

[INFO] [<span class="hljs-number">2013</span>-<span class="hljs-number">02</span>-<span class="hljs-number">13</span> <span class="hljs-number">22</span>:<span class="hljs-number">36</span>:<span class="hljs-number">05</span>,<span class="hljs-number">996</span>] get images/bubble.png: /mobile-studio/ldc-app/Resources/images/bubble.png

[INFO] [<span class="hljs-number">2013</span>-<span class="hljs-number">02</span>-<span class="hljs-number">13</span> <span class="hljs-number">22</span>:<span class="hljs-number">36</span>:<span class="hljs-number">06</span>,<span class="hljs-number">328</span>] get images/bubble.png: /mobile-studio/ldc-app/Resources/images/bubble.png

[INFO] [<span class="hljs-number">2013</span>-<span class="hljs-number">02</span>-<span class="hljs-number">13</span> <span class="hljs-number">22</span>:<span class="hljs-number">36</span>:<span class="hljs-number">06</span>,<span class="hljs-number">628</span>] get images/bubble.png: /mobile-studio/ldc-app/Resources/images/bubble.png

[INFO] [<span class="hljs-number">2013</span>-<span class="hljs-number">02</span>-<span class="hljs-number">13</span> <span class="hljs-number">22</span>:<span class="hljs-number">36</span>:<span class="hljs-number">06</span>,<span class="hljs-number">922</span>] get images/bubble.png: /mobile-studio/ldc-app/Resources/images/bubble.png
</code></pre><p>Is it normal for it to be reporting that its loading images 4 times even though its used once?</p>
<p>Agree with the detail, devil is always in the detail and with code for web or mobile good code takes time and effort! but is always worth it in the end.</p>
<p>Think I will need to paste some code for you to look at, will clean up some examples of how I do it throughout the app and some screen caps of memory reports in DDDMS and instruments to see what you think. I will put those up here tomorrow as I am all out of juice.</p>
</p>
										<div class="author">
											&mdash; commented <span title="February 13th 2013, 8:47:12 pm">February 13th 2013</span>
											by <span class='authorname'>Alex Akass</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Links to videos:</p>
<p>iOS instruments: http:&#x2F;&#x2F;youtu.be&#x2F;Y8zfSTmuk58</p>
<p>Android DDMS: http:&#x2F;&#x2F;youtu.be&#x2F;ACMNVqFsjSs</p>
<p>Instruments shows nicely the memory being used and dumped out nicely. DDMS clearly shows the heap getting bigger and bigger, till its unstable and crashes. Any ideas why Android is not clearing memory and why my app starts with 15mb already loaded in? what exactly does it load during the app start up phase, even before I have done any of my stuff yet?</p>
<p>So this is how my app works on a very basic level with alot of detail stripped:</p>
<p>app.js:</p>
<p>Simply calls my controller function to start app</p>
<p>controller:</p>
<p>It has a main application event handler which is a giant switch:</p>
<pre><code class="hljs">
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">processGlobalListener</span>(<span class="hljs-params">inParam</span>) </span>{
<span class="hljs-pi">    'use strict'</span>;
    <span class="hljs-keyword">switch</span> (inParam.TYPE) {
    <span class="hljs-keyword">case</span> <span class="hljs-string">"ERROR"</span>:
        handleError(inParam);
        <span class="hljs-keyword">break</span>;
    <span class="hljs-keyword">case</span> <span class="hljs-string">"startApp"</span>:
        startApp();
        <span class="hljs-keyword">break</span>;
    <span class="hljs-keyword">case</span> <span class="hljs-string">"loadHomeScreen"</span>:
        loadHomeScreen();
        resetVars(<span class="hljs-literal">true</span>);
        <span class="hljs-keyword">break</span>;
    <span class="hljs-keyword">case</span> <span class="hljs-string">"openUser"</span>:
        loadUserUpScreen();
        <span class="hljs-keyword">break</span>;
    <span class="hljs-keyword">case</span> <span class="hljs-string">"loadPrediveScreen"</span>:
        loadPrediveScreen();
        <span class="hljs-keyword">break</span>;
        ... AND SO ON ...
    <span class="hljs-keyword">default</span>:
        <span class="hljs-keyword">break</span>;
    }
}

Ti.App.addEventListener(<span class="hljs-string">'GLOBALLISTENER'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">inParam</span>) </span>{
<span class="hljs-pi">    'use strict'</span>;
    <span class="hljs-keyword">var</span> gblParams    = {}, paramKeyIn;
    <span class="hljs-keyword">for</span> (paramKeyIn <span class="hljs-keyword">in</span> inParam) { <span class="hljs-keyword">if</span> (inParam[paramKeyIn]) { gblParams[paramKeyIn] = inParam[paramKeyIn]; } }
    processGlobalListener(gblParams);
});
</code></pre><p>That in turn calls one of the functions in my controller which would look like this:</p>
<pre><code class="hljs">
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">loadAtozScreen</span>(<span class="hljs-params"></span>) </span>{
<span class="hljs-pi">    'use strict'</span>;
    azs = <span class="hljs-built_in">require</span>(<span class="hljs-string">'/ui/screens/atozScreen'</span>);
    azWin = <span class="hljs-keyword">new</span> azs.loadAtozScreen();
    <span class="hljs-keyword">if</span> (hsWin !== <span class="hljs-literal">null</span> &amp;&amp; <span class="hljs-keyword">typeof</span>(hsWin) !== <span class="hljs-string">"undefined"</span> &amp;&amp; <span class="hljs-keyword">typeof</span>(hsWin.close) !== <span class="hljs-string">"undefined"</span>) { 
        hsWin.close();
        hsWin = <span class="hljs-literal">null</span>;
        hs = <span class="hljs-literal">null</span>;
    }
    <span class="hljs-keyword">if</span> (azDWin !== <span class="hljs-literal">null</span> &amp;&amp; <span class="hljs-keyword">typeof</span>(azDWin) !== <span class="hljs-string">"undefined"</span> &amp;&amp; <span class="hljs-keyword">typeof</span>(azDWin.close) !== <span class="hljs-string">"undefined"</span>) { 
        azDWin.close();
        azDWin = <span class="hljs-literal">null</span>;
        azds = <span class="hljs-literal">null</span>;
    }
}
</code></pre><p>which as you can see closes the previous window after setting itself up and opening.</p>
<p>So the loadAtozScreen() in this case does the following:</p>
<pre><code class="hljs">
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">loadAtozScreen</span>(<span class="hljs-params"></span>) </span>{
<span class="hljs-pi">    'use strict'</span>;

    css = <span class="hljs-built_in">require</span>(<span class="hljs-string">'/ui/layout'</span>);
    img = <span class="hljs-built_in">require</span>(<span class="hljs-string">'/ui/images'</span>);
    common = <span class="hljs-built_in">require</span>(<span class="hljs-string">'/tools/common'</span>);
    persHandler = <span class="hljs-built_in">require</span>(<span class="hljs-string">'/tools/persHandler'</span>);


    <span class="hljs-keyword">var</span> atozInnerWin = Titanium.UI.createView({
        top: css.css.iw.t,
        bottom: css.css.iw.b,
        contents: Ti.Locale.getString(<span class="hljs-string">'appTitle'</span>),
        backgroundColor: css.css.gc.hs,
        backgroundImage: img.img.mwb,
        barImage: img.img.tbb
    }),
    CREATE OTHER ITEMS HERE

    ATTACH ITEMS HERE

    atozInnerWin.add(atozTable);
    atozTable.setData([loadingRow]);

    search.addEventListener(<span class="hljs-string">'focus'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">f</span>(<span class="hljs-params">e</span>)</span>{
        <span class="hljs-keyword">if</span>(first){
            first = <span class="hljs-literal">false</span>;
            search.blur();
        }<span class="hljs-keyword">else</span>{
            search.removeEventListener(<span class="hljs-string">'focus'</span>, f);
        }
    });

    atozTable.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
        <span class="hljs-keyword">if</span> (persHandler.retPersData({type: <span class="hljs-number">2</span>}) === <span class="hljs-string">'android'</span>) {
            <span class="hljs-comment">// Clear search bar</span>
            search.value =<span class="hljs-string">""</span>;
            <span class="hljs-comment">// hiding and showing the search bar forces it back to its non-focused appearance.</span>
            search.hide();
            search.show();
        }
    });

    backButton.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
        Ti.App.fireEvent(<span class="hljs-string">"GLOBALLISTENER"</span>, {TYPE: <span class="hljs-string">"closeAction"</span>, FOLLOWUP: <span class="hljs-string">"loadHomeScreen"</span>}); 
    });

    atozWin.addEventListener(<span class="hljs-string">'close'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        css = img = common = persHandler = loadingRow = atozInnerWin = BottomBarView = 
        ContactUsButton = TopBarView = backLabel = backButton = titleLabel = search = 
        atozTable = atozWin = <span class="hljs-literal">null</span>;
        Ti.API.error(<span class="hljs-string">"Memory point: close atoz = "</span>+Titanium.Platform.getAvailableMemory());
    });

    ContactUsButton.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{ 
        Ti.App.fireEvent(<span class="hljs-string">"GLOBALLISTENER"</span>, {TYPE: <span class="hljs-string">"loadContactUp"</span>});
    });

    <span class="hljs-keyword">if</span> (persHandler.retPersData({type: <span class="hljs-number">2</span>}) === <span class="hljs-string">'android'</span>) {
        atozWin.addEventListener(<span class="hljs-string">'android:back'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
            Ti.App.fireEvent(<span class="hljs-string">"GLOBALLISTENER"</span>, {TYPE: <span class="hljs-string">"closeAction"</span>, FOLLOWUP: <span class="hljs-string">"loadHomeScreen"</span>});
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        });
    }

    atozTable.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)</span>{
        <span class="hljs-keyword">if</span> (e.rowData.atoz){
            Ti.App.fireEvent(<span class="hljs-string">"GLOBALLISTENER"</span>, {TYPE: <span class="hljs-string">"loadAtozDetail"</span>, atoz: e.rowData.atoz});  
        }    
    });
    atozWin.addEventListener(<span class="hljs-string">'open'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
        setTimeout(loadData,<span class="hljs-number">150</span>);
        Ti.API.error(<span class="hljs-string">"Memory point: open atoz = "</span>+Titanium.Platform.getAvailableMemory());
    });

    atozWin.open();

    <span class="hljs-keyword">return</span> atozWin;
}
</code></pre><p>As you can see, I have an open event listener to load in data as I found screens to slow to transition if loaded with data in for android and iOS. Then on close event I null all the variables I have created.</p>
<p>I have 54 screens intotal and will be adding another 20 or so in phase two of the app.</p>
<p>Not sure if this will help shed any more light on the matter or if I will just have to play around some more. Ideally something sticks out and that can help you guide me in right direction!</p>
<p>Thanks for your time and help so far!</p>
<p>Alex</p>
</p>
										<div class="author">
											&mdash; commented <span title="February 14th 2013, 11:29:13 am">February 14th 2013</span>
											by <span class='authorname'>Alex Akass</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>No more clues or help any one?</p>
</p>
										<div class="author">
											&mdash; commented <span title="February 16th 2013, 11:10:55 am">February 16th 2013</span>
											by <span class='authorname'>Alex Akass</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I will be taking another look later on today.</p>
</p>
										<div class="author">
											&mdash; commented <span title="February 16th 2013, 12:01:40 pm">February 16th 2013</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Thank you, I must learn patients ;-)</p>
</p>
										<div class="author">
											&mdash; commented <span title="February 16th 2013, 12:03:59 pm">February 16th 2013</span>
											by <span class='authorname'>Alex Akass</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Did you manage to have a look Malcolm? still got the issues and cant seem to figure it out. I have worked out that changing the images to gif or jpg lowers the start point of the memory heap in Android but its still growing and not dumping it out. Basically it seems to load the images into memory on every view load till it runs out of memory.</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 3rd 2013, 12:29:31 pm">March 3rd 2013</span>
											by <span class='authorname'>Alex Akass</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
