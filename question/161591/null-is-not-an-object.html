<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Null Is not an object » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Null Is not an object</h1>
		</header>
		<section>
			<p>Hi please help me, I am getting this error when I change a value in picker, </p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> picker = Ti.UI.createPicker({
  top:<span class="hljs-string">'18%'</span>,
  <span class="hljs-comment">//visibleItems:4,</span>
  useSpinner: <span class="hljs-keyword">true</span>
});
picker.selectionIndicator = <span class="hljs-keyword">true</span>;    
<span class="hljs-keyword">self</span>.add(picker);
<span class="hljs-keyword">var</span> rows = db.execute(<span class="hljs-string">'SELECT * FROM table1'</span>);

<span class="hljs-keyword">var</span> pickerValues = [];
<span class="hljs-comment">//var l=0;</span>
<span class="hljs-keyword">while</span> (rows.isValidRow())
{
pickerValues=Ti.UI.createPickerRow({
    title:rows.fieldByName(<span class="hljs-string">'field1_Name'</span>),
    id:rows.fieldByName(<span class="hljs-string">'filed1_Id'</span>) 
});

picker.add(pickerValues);


     <span class="hljs-comment">//l++;</span>
rows.next();
}
picker.addEventListener(<span class="hljs-string">'change'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span></span>{
     Ti.App.stateId = {stateDesc:e.source.id};
    <span class="hljs-keyword">var</span> data=[];

<span class="hljs-keyword">var</span> dbRows = db.execute(<span class="hljs-string">'SELECT * FROM table2 WHERE field1_Id = "'</span>+ Ti.App.stateId.stateDesc +<span class="hljs-string">'"  order by field2_Desc ASC'</span>);

<span class="hljs-keyword">while</span> (dbRows.isValidRow())
{
data.push({title:dbRows.fieldByName(<span class="hljs-string">'field2_Desc'</span>) });

dbRows.next();
}

<span class="hljs-keyword">var</span> tableView = Titanium.UI.createTableView({
        data:data,
        top:<span class="hljs-string">'60%'</span>,
        width:<span class="hljs-string">'85%'</span>,
        height:<span class="hljs-string">'20%'</span>,
        left:<span class="hljs-string">'7%'</span>
    });
    <span class="hljs-keyword">self</span>.add(tableView);


});
</code></pre><p>Thanks</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="January 16th 2014, 12:32:34 pm">January 16th 2014</span>
				by <span class='authorname'>Prashaanth N.G.S</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>ios</span></li>
					
						<li><span class='tagname'>nul</span></li>
					
						<li><span class='tagname'>picker</span></li>
					
						<li><span class='tagname'>table view</span></li>
					
				</ul>
			

			<section>
				<h5>3 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Iam getting error &quot;&#39;null&#39; is not an object (evaluating &#39;dbRows.isValidRow&#39;)&quot;;</p>
</div>
							<div class="author">
								&mdash; commented <span title="January 16th 2014, 12:33:56 pm">January 16th 2014</span>
								by <span class='authorname'>Prashaanth N.G.S</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>@Prashaanth - I already was before you emailed, BTW turn on your <a href="http:&#x2F;&#x2F;developer.appcelerator.com&#x2F;devlink&#x2F;profile&#x2F;1546669&#x2F;prashaanth-ngs">DevEmail</a> option - means others can connect with you.</p>
</div>
							<div class="author">
								&mdash; commented <span title="January 16th 2014, 1:00:03 pm">January 16th 2014</span>
								by <span class='authorname'>Malcolm Hollingsworth</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>thanks, I have turn on email option</p>
</div>
							<div class="author">
								&mdash; commented <span title="January 16th 2014, 1:18:38 pm">January 16th 2014</span>
								by <span class='authorname'>Prashaanth N.G.S</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-273993">
				
						<section>
							<p>Hi</p>
<p>Answering database questions is always difficult as the lack of data and state of app at the time is difficult to replicate.</p>
<p>I would not do this;</p>
<pre><code class="hljs">Ti.App.<span class="hljs-keyword">state</span>Id = {<span class="hljs-keyword">state</span>Desc:e.source.id};
</code></pre><p>Not only are you adding an object to the Titanium namespace in doing so the object node (stateDesc) part has a tendency to not work as you expect.</p>
<p>I would suggest you confirm this by adding a debug line into your app;</p>
<pre><code class="hljs">// what appears <span class="hljs-keyword">in</span> the console?
Ti.API.info('Ti.App.<span class="hljs-keyword">state</span>Id.<span class="hljs-keyword">state</span>Desc: ' + Ti.App.<span class="hljs-keyword">state</span>Id.<span class="hljs-keyword">state</span>Desc);
var dbRows = db.execute('SELECT * FROM table2 WHERE field1_Id = <span class="hljs-string">"'+ Ti.App.stateId.stateDesc +'"</span>  order by field2_Desc ASC');
</code></pre><p>Ideally this should be simple variable in the scope of the event you are responding to or if required outside the scope of the event then place it in the parent function or window.</p>
<pre><code class="hljs"><span class="hljs-comment">// this</span>
Ti.<span class="hljs-keyword">App</span>.stateId = {stateDesc:<span class="hljs-keyword">e</span>.source.id};
<span class="hljs-comment">// becomes</span>
<span class="hljs-keyword">var</span> stateDesc = <span class="hljs-keyword">e</span>.source.id;
...
<span class="hljs-comment">// this</span>
<span class="hljs-keyword">var</span> dbRows = <span class="hljs-keyword">db</span>.execute('SELECT * FROM table2 WHERE field1_Id = <span class="hljs-string">"'+ Ti.App.stateId.stateDesc +'"</span>  <span class="hljs-keyword">order</span> <span class="hljs-keyword">by</span> field2_Desc ASC');
<span class="hljs-comment">// becomes</span>
<span class="hljs-keyword">var</span> dbRows = <span class="hljs-keyword">db</span>.execute('SELECT * FROM table2 WHERE field1_Id = <span class="hljs-string">"'+ stateDesc +'"</span>  <span class="hljs-keyword">order</span> <span class="hljs-keyword">by</span> field2_Desc ASC');
</code></pre><p>I am assuming the lack of <strong>db</strong> being declared is simply due to the snippet being displayed.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="January 16th 2014, 12:58:13 pm">January 16th 2014</span>
								by <span class='authorname'>Malcolm Hollingsworth</span><br>
								<a class="icon-bg icon-link" href="question/161591/null-is-not-an-object#answer-273993" rel="permalink">permalink</a>
							</div>

							<h5>4 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Thanks Malcolm wil debug and let u know.</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 16th 2014, 1:02:23 pm">January 16th 2014</span>
											by <span class='authorname'>Prashaanth N.G.S</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Iam getting as Ti.App.stateId.stateDesc: undefined<br>, but though I have removed the global variable, IAm getting the same error<br>Thanks</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 16th 2014, 1:08:39 pm">January 16th 2014</span>
											by <span class='authorname'>Prashaanth N.G.S</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>The fact that <strong>Ti.App.stateId.stateDesc</strong> is undefined is why your returned sql execute results are null.</p>
<p>If you swap over to using the variable as explained above and remove any references to <strong>Ti.App.stateId.stateDesc</strong> from this section of your code (ideally any part of your code) - then all should work fine.</p>
<p>Basically right now your select statement is saying <em>select all columns from table2 where the id is equal to undefined and order by field2</em>.  You need it to correctly return the <strong>id</strong> from the <strong>e.source.id</strong> request and include it into the select statement so it says instead; <em>select all columns from table2 where the id is equal to <strong>actual returned value</strong> and order by field2</em>.</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 16th 2014, 1:32:12 pm">January 16th 2014</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>HI Malicol, then where can I declare that variable, If I declare in any other place it is saying, e is not declared, please help me, and can you give an example , when a value is selected in picker, a button should be populated and by clicking that database result should be displayed the relevant data of picker value.<br>Thanks</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 17th 2014, 3:09:52 am">January 17th 2014</span>
											by <span class='authorname'>Prashaanth N.G.S</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
