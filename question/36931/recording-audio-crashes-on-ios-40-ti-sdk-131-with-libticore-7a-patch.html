<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Recording audio crashes on iOS 4.0 Ti SDK 1.3.1 with libTiCore-7.a patch » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Recording audio crashes on iOS 4.0 Ti SDK 1.3.1 with libTiCore-7.a patch</h1>
		</header>
		<section>
			<p>Hi, I can&#39;t find anything in this forum related to this, so hopefully someone has an idea. I have an app that has been shipping on iPhone for about three months. I am now trying to update it for iOS 4.0 (the original app crashes out immediately on 4.0, as expected). I did the 4.0 libTiCore-7.a patch per Jeff Haynie&#39;s blog and the app now works great on 4.0; no crashing. With one exception… and this is even more frustrating as it will not crash in the emulator, only on the device!</p>
<p>I have the below code to allow the user to press a button and record (other buttons etc to playback of course). The code is pretty much taken straight from KS and works perfectly in the emulator and on a pre- iOS 4.0 device. In the app, I tap the record button, app sits for a second and then crashes back to Springboard. I&#39;m not 100% the crash is happening in the record, but I get no response from the app between the tapping of the record button and the crash.</p>
<p>And again, it works fine in the emulator. Any ideas? Thanks in advance!</p>
<pre><code class="hljs"><span class="hljs-comment">// create record button</span>
<span class="hljs-keyword">var</span> buttonRecord = Ti.UI.createButton
({
    backgroundImage:<span class="hljs-string">'../images/record.png'</span>,
    width:<span class="hljs-number">50</span>,
    height:<span class="hljs-number">60</span>,
    left:<span class="hljs-number">107</span>,
    top:<span class="hljs-number">4</span>
});
buttonRecord.addEventListener( <span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>
</span>{
    <span class="hljs-keyword">if</span> ( recording.recording )
    {
        file = recording.stop();
        buttonRecord.backgroundImage = <span class="hljs-string">'../images/record.png'</span>;
        buttonPlay.enabled = <span class="hljs-literal">true</span>;
    }
    <span class="hljs-keyword">else</span>
    {
        buttonRecord.backgroundImage = <span class="hljs-string">'../images/stop.png'</span>;
        recording.start();
        buttonPlay.enabled = <span class="hljs-literal">false</span>;
    }
});
buttonView.add( buttonRecord );
</code></pre><p>EDIT: Quick update, with the &quot;recording.start();&quot; line commented out, the app does not crash on the device. It would be great to hear from Appcelerator folks if audio recording should be working on iOS 4.0. Thanks!</p>
<p>EDIT 2: I just noticed the documentation indicates that Titanium.Media.AudioRecorder.stop() returns void, whereas the KS example (and other examples I&#39;ve seen for recording audio) use the stop() function to return a reference to the recorded audio data. I assume the docs are wrong?</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="June 22nd 2010, 2:49:37 am">June 22nd 2010</span>
				by <span class='authorname'>karlo kilayko</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>audio</span></li>
					
						<li><span class='tagname'>crash</span></li>
					
						<li><span class='tagname'>emulator</span></li>
					
						<li><span class='tagname'>iphone</span></li>
					
						<li><span class='tagname'>recording</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>4</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>4 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-82621">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>Just posting an answer so I can mark it as &#39;best&#39;: This has been fixed in v1.3.3. Works great! Thanks very much Appcelerator team!</p>
<p>EDIT: oops, I guess I can&#39;t mark my own response as the best answer. If someone wants to post that this is fixed in 1.3.3, I will mark it as the best answer. Thanks!</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="July 8th 2010, 5:49:47 pm">July 8th 2010</span>
								by <span class='authorname'>karlo kilayko</span><br>
								<a class="icon-bg icon-link" href="question/36931/recording-audio-crashes-on-ios-40-ti-sdk-131-with-libticore-7a-patch#answer-82621" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-74191">
				
						<section>
							<p>(double post)</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="June 22nd 2010, 3:32:37 am">June 22nd 2010</span>
								by <span class='authorname'>Sj Singh</span><br>
								<a class="icon-bg icon-link" href="question/36931/recording-audio-crashes-on-ios-40-ti-sdk-131-with-libticore-7a-patch#answer-74191" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-74201">
				
						<section>
							<p>Can you run KS on your iOS4 and see if it works thru there? You can do that by opening up the KS project in xCode then do Debug on Device. </p>
<p>If the problem still occurs, files a bug here: https:&#x2F;&#x2F;appcelerator.lighthouseapp.com&#x2F;projects&#x2F;32238-titanium-mobile&#x2F;tickets</p>
<p>They have to test over 50 combinations so im sure one or two things might have slid past. </p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="June 22nd 2010, 3:32:50 am">June 22nd 2010</span>
								by <span class='authorname'>Sj Singh</span><br>
								<a class="icon-bg icon-link" href="question/36931/recording-audio-crashes-on-ios-40-ti-sdk-131-with-libticore-7a-patch#answer-74201" rel="permalink">permalink</a>
							</div>

							<h5>2 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>I haven&#39;t yet checked KS on the device, but I will do so before (and after ;) trying the 1.3.2 RC. Thanks for the cool tip on using Xcode to directly test on device; I was going to provision it!</p>
</p>
										<div class="author">
											&mdash; commented <span title="June 22nd 2010, 8:42:48 am">June 22nd 2010</span>
											by <span class='authorname'>karlo kilayko</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Okay, sorry for the delay - Xcode wouldn&#39;t let me run on device without a provision, so i just went that route and…. KS exhibits the same behaviour: &quot;Record&quot; button highlights, hangs for a second, then KS crashes out to SpringBoard. Again this does not happen in emulator, only on 3GS device. I will post an issue to lighthouse.</p>
</p>
										<div class="author">
											&mdash; commented <span title="June 22nd 2010, 4:13:24 pm">June 22nd 2010</span>
											by <span class='authorname'>karlo kilayko</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-82611">
				
						<section>
							<p>I&#39;m having the same issue, I have an App that was ready to be published to the AppStore but can&#39;t publish it now cause the Audio Recording doesn&#39;t work on my iPhone 3GS, it does exactly the same thing where it hangs for a couple of seconds then it crashes.</p>
<p>Does anyone know the solution to this, this has to be fixed by the Appcelerator team please.</p>
<p>Many thanks for your help in advance,</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="July 8th 2010, 5:42:32 pm">July 8th 2010</span>
								by <span class='authorname'>Samuel Lopez</span><br>
								<a class="icon-bg icon-link" href="question/36931/recording-audio-crashes-on-ios-40-ti-sdk-131-with-libticore-7a-patch#answer-82611" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>This has been fixed by the Appcelerator guys in version 1.3.3. Worked great for me (though Apple has yet to approve&#x2F;reject my app update submission)</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 8th 2010, 5:48:58 pm">July 8th 2010</span>
											by <span class='authorname'>karlo kilayko</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
