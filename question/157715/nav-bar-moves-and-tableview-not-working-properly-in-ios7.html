<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Nav Bar Moves and TableView Not Working Properly in ios7 Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Nav Bar Moves and TableView Not Working Properly in ios7</h1>
		</header>
		<section>
			<p>I am trying to port my application over from ios6 to ios7 and am running into a couple of issues on how it is displaying - each tab I have is a tableview so when the app initially opens, the bottom of the table is cut off by the tab bar and other times, the whole nav bar moves down cutting off the top of the tableview.  I was wondering if anyone else has experienced this or if it is something in my code - I am running the latest Titatium and SDK on a Mac with Snow Leopard.  Code for my app.js is:</p>
<pre><code class="hljs">Titanium.UI.setBackgroundColor(<span class="hljs-string">'white'</span>);
<span class="hljs-keyword">var</span> tabGroup = Titanium.UI.createTabGroup();

<span class="hljs-keyword">var</span> win1 = Titanium.UI.createWindow({    
    top: <span class="hljs-number">0</span>, 
    title:<span class="hljs-string">'Tab1'</span>,
       url:<span class="hljs-string">'/main_windows/main.js'</span>,
});
<span class="hljs-keyword">var</span> tab1 = Titanium.UI.createTab({  
    icon:<span class="hljs-string">'tab1.png'</span>,
   title:<span class="hljs-string">'Tab1'</span>,
    <span class="hljs-built_in">window</span>:win1
});

<span class="hljs-keyword">var</span> win2 = Titanium.UI.createWindow({  
    title:<span class="hljs-string">'Tab2'</span>,
       url:<span class="hljs-string">'/main_windows/tab2.js'</span>,
});
<span class="hljs-keyword">var</span> tab2 = Titanium.UI.createTab({  
    icon:<span class="hljs-string">'tab2.png'</span>,
    title:<span class="hljs-string">'Tab2'</span>,
    <span class="hljs-built_in">window</span>:win2
});

<span class="hljs-keyword">var</span> win3 = Titanium.UI.createWindow({  
    title:<span class="hljs-string">'Tab3'</span>,
       url:<span class="hljs-string">'/main_windows/tab3.js'</span>,
});
<span class="hljs-keyword">var</span> tab3 = Titanium.UI.createTab({  
    icon:<span class="hljs-string">'tab3.png'</span>,
    title:<span class="hljs-string">'Tab3'</span>,
    <span class="hljs-built_in">window</span>:win3
});

tabGroup.addTab(tab1);  
tabGroup.addTab(tab2);  
tabGroup.addTab(tab3);

<span class="hljs-keyword">var</span> popwin = Titanium.UI.createWindow({
    height: Titanium.UI.FILL,
<span class="hljs-comment">//    top:0,</span>
    backgroundColor:<span class="hljs-string">'#FFF'</span>,
    bottom:<span class="hljs-number">0</span>,
    exitOnClose: <span class="hljs-literal">true</span>,
});

popwin.title = <span class="hljs-string">'Welcome'</span>;

<span class="hljs-keyword">var</span> baseWin = Ti.UI.createWindow();
<span class="hljs-keyword">var</span> navGroup = Ti.UI.iPhone.createNavigationGroup({
    <span class="hljs-built_in">window</span> : popwin
    });

popwin.navGroup = navGroup;
baseWin.add(navGroup);

setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
    baseWin.open();
}, <span class="hljs-number">3</span> * <span class="hljs-number">1000</span>);

<span class="hljs-keyword">var</span> view = Ti.UI.createView({
    backgroundColor:<span class="hljs-string">'#FFF'</span>
});

<span class="hljs-keyword">var</span> view0pic = Ti.UI.createImageView({
    image:<span class="hljs-string">'/images/tourapp0.jpg'</span>,
    left:<span class="hljs-number">0</span>,
    height:<span class="hljs-number">355</span>,
    width:<span class="hljs-number">320</span>,
});
view.add(view0pic);

<span class="hljs-keyword">var</span> intro0 = Ti.UI.createLabel({
    color:<span class="hljs-string">'#000'</span>,
    font:{fontSize:<span class="hljs-number">24</span>, fontWeight:<span class="hljs-string">'bold'</span>},
    top:<span class="hljs-number">255</span>,
    text:<span class="hljs-string">'WELCOME'</span>,
    height:<span class="hljs-string">'auto'</span>,
    width:<span class="hljs-string">'auto'</span>
});
view0pic.add(intro0);

<span class="hljs-keyword">var</span> intro20 = Ti.UI.createLabel({
    color:<span class="hljs-string">'#000'</span>,
    font:{fontSize:<span class="hljs-number">16</span>},
    top:<span class="hljs-number">290</span>,
    textAlign:<span class="hljs-string">'center'</span>,
    text:<span class="hljs-string">'Use the arrows or swipe \nleft or right to take a quick tour of \nwhat the app has to offer'</span>,
    height:<span class="hljs-string">'auto'</span>,
    width:<span class="hljs-string">'auto'</span>
});
view0pic.add(intro20);


<span class="hljs-keyword">var</span> view1a = Ti.UI.createView({
    backgroundColor:<span class="hljs-string">'#FFF'</span>
});

<span class="hljs-keyword">var</span> intropic = Ti.UI.createImageView({
    image:<span class="hljs-string">'/images/tourapp1.jpg'</span>,
    left:<span class="hljs-number">0</span>,
    height:<span class="hljs-number">355</span>,
    width:<span class="hljs-number">320</span>,
});
view1a.add(intropic);

<span class="hljs-keyword">var</span> intro1 = Ti.UI.createLabel({
    color:<span class="hljs-string">'#000'</span>,
    font:{fontSize:<span class="hljs-number">24</span>, fontWeight:<span class="hljs-string">'bold'</span>},
    top:<span class="hljs-number">255</span>,
    text:<span class="hljs-string">'TAB 1'</span>,
    height:<span class="hljs-string">'auto'</span>,
    width:<span class="hljs-string">'auto'</span>
});
intropic.add(intro1);

<span class="hljs-keyword">var</span> view1 = Ti.UI.createView({
    backgroundColor:<span class="hljs-string">'#FFF'</span>
});

<span class="hljs-keyword">var</span> view1pic = Ti.UI.createImageView({
    image:<span class="hljs-string">'/images/tourapp2.jpg'</span>,
    left:<span class="hljs-number">0</span>,
    height:<span class="hljs-number">355</span>,
    width:<span class="hljs-number">320</span>,
});
view1.add(view1pic);

<span class="hljs-keyword">var</span> view11 = Ti.UI.createLabel({
    color:<span class="hljs-string">'#000'</span>,
    font:{fontSize:<span class="hljs-number">24</span>, fontWeight:<span class="hljs-string">'bold'</span>},
    top:<span class="hljs-number">265</span>,
    text:<span class="hljs-string">'TAB2'</span>,
    height:<span class="hljs-string">'auto'</span>,
    width:<span class="hljs-string">'auto'</span>
});
view1pic.add(view11);

<span class="hljs-keyword">var</span> view2 = Ti.UI.createView({
    backgroundColor:<span class="hljs-string">'#FFF'</span>
});

<span class="hljs-keyword">var</span> view2pic = Ti.UI.createImageView({
    image:<span class="hljs-string">'/images/tourapp3.jpg'</span>,
    left:<span class="hljs-number">0</span>,
    height:<span class="hljs-number">355</span>,
    width:<span class="hljs-number">320</span>,
});
view2.add(view2pic);

<span class="hljs-keyword">var</span> view21 = Ti.UI.createLabel({
    color:<span class="hljs-string">'#000'</span>,
    font:{fontSize:<span class="hljs-number">24</span>, fontWeight:<span class="hljs-string">'bold'</span>},
    top:<span class="hljs-number">265</span>,
    text:<span class="hljs-string">'TAB3'</span>,
    height:<span class="hljs-string">'auto'</span>,
    width:<span class="hljs-string">'auto'</span>
});
view2pic.add(view21);

<span class="hljs-comment">//Add scrollview**********************************************************</span>

<span class="hljs-keyword">var</span> views = [view,view1a,view1,view2];

<span class="hljs-keyword">var</span> scrollView = Titanium.UI.createScrollableView({
    views:views,
    showPagingControl:<span class="hljs-literal">false</span>,
    maxZoomScale:<span class="hljs-number">2.0</span>,
    currentPage:<span class="hljs-number">0</span>
});

popwin.add(scrollView);

<span class="hljs-keyword">var</span> i=<span class="hljs-number">1</span>;
<span class="hljs-keyword">var</span> activeView = view;

scrollView.addEventListener(<span class="hljs-string">'scroll'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)
</span>{
    activeView = e.view;  <span class="hljs-comment">// the object handle to the view that is about to become visible</span>
    i = e.currentPage;
    Titanium.API.info(<span class="hljs-string">"scroll called - current index "</span> + i + <span class="hljs-string">' active view '</span> + activeView);
});
scrollView.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)
</span>{
    Ti.API.info(<span class="hljs-string">'ScrollView received click event, source = '</span> + e.source);
});
scrollView.addEventListener(<span class="hljs-string">'touchend'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)
</span>{
    Ti.API.info(<span class="hljs-string">'ScrollView received touchend event, source = '</span> + e.source);
});

<span class="hljs-keyword">var</span> left = Titanium.UI.createButton({
    image:<span class="hljs-string">'/images/icon_arrow_left.png'</span>
});
left.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) </span>{
    <span class="hljs-keyword">var</span> intPage = scrollView.getCurrentPage();
    <span class="hljs-keyword">if</span> (intPage &gt; <span class="hljs-number">0</span>) {
        scrollView.scrollToView(intPage - <span class="hljs-number">1</span>);
    }
});

<span class="hljs-keyword">var</span> right = Titanium.UI.createButton({
    image:<span class="hljs-string">'/images/icon_arrow_right.png'</span>
});
right.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) </span>{
    <span class="hljs-keyword">var</span> intPage = scrollView.getCurrentPage();
    <span class="hljs-keyword">if</span> (intPage &lt; (views.length - <span class="hljs-number">1</span>)) {
        scrollView.scrollToView(intPage + <span class="hljs-number">1</span>);
    }
});

<span class="hljs-keyword">var</span> flexSpace = Titanium.UI.createButton({
    systemButton:Titanium.UI.iPhone.SystemButton.FLEXIBLE_SPACE
});

popwin.setToolbar([flexSpace,left,flexSpace,right,flexSpace]);


<span class="hljs-comment">// create window open animation</span>
<span class="hljs-keyword">var</span> ani = Titanium.UI.createAnimation();
    ani.height = <span class="hljs-string">'auto'</span>;
    ani.duration = <span class="hljs-number">300</span>;

<span class="hljs-comment">// create a button to close window</span>
<span class="hljs-keyword">var</span> done = Titanium.UI.createButton({
    systemButton:Titanium.UI.iPhone.SystemButton.DONE
});

popwin.setRightNavButton(done);

done.addEventListener(<span class="hljs-string">'click'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) 
</span>{
    ani.height = <span class="hljs-number">0</span>;
    popwin.close(ani);
    popwin.setToolbar(<span class="hljs-literal">null</span>);
    tabGroup.open();
});

setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    popwin.open(ani);
}, <span class="hljs-number">3</span> * <span class="hljs-number">1000</span>);
</code></pre>
		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="September 26th 2013, 2:44:14 pm">September 26th 2013</span>
				by <span class='authorname'>J W</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>ios</span></li>
					
						<li><span class='tagname'>ios7</span></li>
					
						<li><span class='tagname'>navbar</span></li>
					
						<li><span class='tagname'>tabgroup</span></li>
					
						<li><span class='tagname'>tableview</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>0</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>0 Answers</h3>

	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
