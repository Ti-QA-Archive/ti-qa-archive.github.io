<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Android TableView data[] not working Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Android TableView data[] not working</h1>
		</header>
		<section>
			<p>I need to access rows in a table from a button click event where the button is outside the table.  I think all the KitchenSink TableView examples only access the row data on the row click event of that table.  This question has been posted before and the advice has been to use appendRow() or setData().  I&#39;m using Ti SDK 1.5.1 and Android 1.6.  I believe that the &quot;appendRow() or setData() advice&quot; applies to older Ti SDK versions.  I can&#39;t find any case where I can access TableView row data from outside the row click event of that table with Ti SDK 1.5.1.  Here are 2 examples of a complete small program in app.js that uses the previous advice.  Both work with iphone 4.2.  The Android error is &quot;can&#39;t read property 0 from undefined&quot; - apparently &#39;rows[0]&#39; is undefined.</p>
<p>Any advice? Has anyone accessed TableView data with data[] on Android?</p>
<p>Thanks</p>
<pre><code class="hljs">mainWindow = Ti.UI.createWindow({});    
<span class="hljs-keyword">var</span> <span class="hljs-keyword">view</span> = Ti.UI.createView({});

<span class="hljs-keyword">var</span> tableView = Ti.UI.createView({bottom: 50});
<span class="hljs-keyword">var</span> <span class="hljs-keyword">table</span> = Titanium.UI.createTableView();
<span class="hljs-keyword">table</span>.appendRow({title:'row 1'});
<span class="hljs-keyword">table</span>.appendRow({title:'row 2'});
<span class="hljs-keyword">table</span>.appendRow({title:'row 3'});
tableView.add(<span class="hljs-keyword">table</span>);

<span class="hljs-keyword">var</span> btw = Ti.UI.createButton({color: 'white', bottom: 0,
                              width: 50, height: 20});
btn.addEventListener('click', function(<span class="hljs-keyword">e</span>) {
        alert(<span class="hljs-keyword">table</span>.data[0].rows[0].title+'\<span class="hljs-keyword">n</span>'+
              <span class="hljs-keyword">table</span>.data[0].rows[1].title+'\<span class="hljs-keyword">n</span>'+
              <span class="hljs-keyword">table</span>.data[0].rows[2].title);
});

<span class="hljs-keyword">view</span>.add(tableView);
<span class="hljs-keyword">view</span>.add(btn);
mainWindow.add(<span class="hljs-keyword">view</span>);
mainWindow.<span class="hljs-keyword">open</span>();
</code></pre><p>and this example:</p>
<pre><code class="hljs">mainWindow = Ti.UI.createWindow({});    
<span class="hljs-keyword">var</span> <span class="hljs-keyword">view</span> = Ti.UI.createView({});

<span class="hljs-keyword">var</span> tableView = Ti.UI.createView({bottom: 50});
<span class="hljs-keyword">var</span> tData = [{title:'row 1'}, 
             {title:'row 2'}, 
             {title:'row 3'}];
<span class="hljs-keyword">var</span> <span class="hljs-keyword">table</span> = Titanium.UI.createTableView({data: tData});
<span class="hljs-keyword">table</span>.setData(tData);
tableView.add(<span class="hljs-keyword">table</span>);

<span class="hljs-keyword">var</span> btn = Ti.UI.createButton({color: 'white', bottom: 0,
                              width: 50, height: 20});
btn.addEventListener('click', function(<span class="hljs-keyword">e</span>) {
        alert(<span class="hljs-keyword">table</span>.data[0].rows[0].title+'\<span class="hljs-keyword">n</span>'+
              <span class="hljs-keyword">table</span>.data[0].rows[1].title+'\<span class="hljs-keyword">n</span>'+
              <span class="hljs-keyword">table</span>.data[0].rows[2].title);
});

<span class="hljs-keyword">view</span>.add(tableView);
<span class="hljs-keyword">view</span>.add(btn);
mainWindow.add(<span class="hljs-keyword">view</span>);
mainWindow.<span class="hljs-keyword">open</span>();
</code></pre>
		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="January 25th 2011, 2:42:06 am">January 25th 2011</span>
				by <span class='authorname'>Kevin Kiddy</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>data</span></li>
					
						<li><span class='tagname'>tableview</span></li>
					
				</ul>
			

			<section>
				<h5>2 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Would adding a tableView listener which puts the current rowData from the table into an application property work ? So you tap the tableView and the property then always has the last selected row.</p>
</div>
							<div class="author">
								&mdash; commented <span title="January 25th 2011, 5:14:38 am">January 25th 2011</span>
								by <span class='authorname'>Alan Bourke</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Pulling the data out of the tableView listener could work.  However, my table is a simple input form with labels and textfields like &quot;name&quot;, &quot;address&quot;, etc and then a &quot;submit&quot; button outside the table.  In my case, the user could submit all the default values in the textfields and then never select a row.  From what I know, I have to completely remove the TableView from my app and basically create my own table from a scroll view with subviews where each subview has a label and textfield.  Hopefully, someone has accessed TableView data in an Android program and I don&#39;t have to recreate my own table from scratch.</p>
</div>
							<div class="author">
								&mdash; commented <span title="January 25th 2011, 10:44:34 am">January 25th 2011</span>
								by <span class='authorname'>Kevin Kiddy</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>3</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>3 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-184791">
				
						<section>
							<p>Ok - deadlines are approaching.  I guess I need to remove all TableViews and create my own tables look-a-like  with a ScrollView and a array of labels and textfields.  I recently read that a TableView is the most used mobile app UI so I find it odd that TableView basic functionality like access to table data doesn&#39;t work with Titanium Android.  </p>
<p>Also, for Mr. Bourke&#39;s suggestion, when there are textfields inside the table I&#39;m not sure when the tableview listener would actually be called if a person a slow in typing and backspacing and changing characters.</p>
<p>So, to answer the question - the solution is to not use TableView with Titanium.  User beware!</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="January 25th 2011, 12:42:38 pm">January 25th 2011</span>
								by <span class='authorname'>Kevin Kiddy</span><br>
								<a class="icon-bg icon-link" href="question/104451/android-tableview-data-not-working#answer-184791" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>2</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-184811">
				
						<section>
							<p>Have you tried</p>
<pre><code class="hljs"><span class="hljs-tag">table</span><span class="hljs-class">.sections</span><span class="hljs-attr_selector">[0]</span><span class="hljs-class">.rows</span><span class="hljs-attr_selector">[0]</span> ?
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="January 25th 2011, 1:00:50 pm">January 25th 2011</span>
								by <span class='authorname'>Dan Tamas</span><br>
								<a class="icon-bg icon-link" href="question/104451/android-tableview-data-not-working#answer-184811" rel="permalink">permalink</a>
							</div>

							<h5>2 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Thanks for the help but sections is not defined.  Do you know the way to see what exists inside a TableView?  JSON.stringify(table) only produces &#39;{}&#39;.  I just found &quot;table.data[0].rows[0]&quot; in a post - I don&#39;t know how someone figured out that it works on the iphone.  I can&#39;t find where TableView data access is documented.</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 25th 2011, 1:19:18 pm">January 25th 2011</span>
											by <span class='authorname'>Kevin Kiddy</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Also, I see from KitchenSink that in the TableView listener you have access to section.row[0].  The problem that I&#39;m having is that I want to access the data from a button outside of the table - like a &#39;submit&#39; button at the bottom of a form with &#39;name&#39;, &#39;address&#39;, etc. where &#39;name&#39; and a textfield are in the table.</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 25th 2011, 1:24:34 pm">January 25th 2011</span>
											by <span class='authorname'>Kevin Kiddy</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-198611">
				
						<section>
							<p>I got the same problem and this is RESOLVED now: </p>
<p>Note: Please update your SDK from 1.5.1 to some new Continuous build  from Appcelerator</p>
<p>Technique for installation is <a href="http:&#x2F;&#x2F;guides.appcelerator.com&#x2F;en&#x2F;continuous_builds.html#obtaining_the_build">here</a></p>
<p>and site from where you can download the continuous build is <a href="http:&#x2F;&#x2F;build.appcelerator.net">here</a></p>
<p>Now 1.6,0 RC1 is also <a href="http:&#x2F;&#x2F;developer.appcelerator.com&#x2F;blog&#x2F;2011&#x2F;02&#x2F;release-candidate-for-titanium-mobile-1-6-0.html">there</a></p>
<p>Please try after installing the new SDK,</p>
<pre><code class="hljs">tableview.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span>
</span>{
    <span class="hljs-keyword">var</span> row = e.section.rows[e.index]; <span class="hljs-comment">// It works now for Android</span>
}
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="February 16th 2011, 4:17:23 am">February 16th 2011</span>
								by <span class='authorname'>Shoaib Khan</span><br>
								<a class="icon-bg icon-link" href="question/104451/android-tableview-data-not-working#answer-198611" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
