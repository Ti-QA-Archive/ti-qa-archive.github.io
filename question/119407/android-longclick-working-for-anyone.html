<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Android LongClick working for anyone? » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Android LongClick working for anyone?</h1>
		</header>
		<section>
			<p>does anyone have Android LongClick for tableview rows working?</p>
<p>We are running the latest release of Mobile v1.6.2</p>
<p>Here&#39;s a sample app we are trying to get working to trigger an alert popover from a longclick of a row…<br>……</p>
<p>&#x2F;&#x2F; create table view data object<br>var data = [<br>    {title:&#39;Row 1&#39;, hasChild:false, color:&#39;red&#39;, selectedColor:&#39;#fff&#39;},<br>    {title:&#39;Row 2&#39;, hasDetail:false, color:&#39;green&#39;, selectedColor:&#39;#fff&#39;},<br>    {title:&#39;Row 3&#39;, hasCheck:false, color:&#39;blue&#39;, selectedColor:&#39;#fff&#39;},<br>    {title:&#39;Row 4&#39;, color:&#39;orange&#39;, selectedColor:&#39;#fff&#39;}<br>];</p>
<p>&#x2F;&#x2F;var view = Ti.UI.createView();<br>    var label = Ti.UI.createLabel({<br>        text:&#39;Row Label &#39;,<br>        height:&#39;auto&#39;,<br>        width:&#39;auto&#39;,<br>        color:&#39;#336699&#39;,<br>        left:10<br>    });<br>    var row = Ti.UI.createTableViewRow({height:50});<br>    &#x2F;&#x2F;view.add(label);<br>    row.add(label);<br>    data.push(row);</p>
<p>&#x2F;&#x2F; create table view<br>var tableview = Titanium.UI.createTableView({<br>    data:data<br>});</p>
<p>var touched = false;</p>
<p>&#x2F;&#x2F; create table view event listener<br>tableview.addEventListener(&#39;click&#39;, function(e)<br>{<br>    &#x2F;&#x2F; event data<br>    var index = e.index;<br>    var section = e.section;<br>    var row = e.row;<br>    var rowdata = e.rowData;<br>    Ti.API.info(&#39;detail &#39; + e.detail);<br>    &#x2F;&#x2F;Titanium.UI.createAlertDialog({title:&#39;aTable View&#39;,message:&#39;row &#39; + row + &#39; index &#39; + index + &#39; section &#39; + section  + &#39; row data &#39; + rowdata}).show();<br>    touched = false<br>});</p>
<p>tableview.addEventListener(&#39;touchstart&#39;, function(e){<br>    touched = true;<br>    setTimeout(function(){<br>        if (touched)<br>            alert(&quot;Long press&quot;);<br>    },1000);<br>});</p>
<p>tableview.addEventListener(&#39;touchmove&#39;, function(e){<br>    touched = false;<br>});<br>tableview.addEventListener(&#39;touchend&#39;, function(e){<br>    Ti.API.info(&quot;touchend fired&quot;);<br>    touched = false;<br>});</p>
<p>&#x2F;&#x2F; add table view to the window<br>Titanium.UI.currentWindow.add(tableview);</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="May 8th 2011, 12:26:28 pm">May 8th 2011</span>
				by <span class='authorname'>Brian Dittmer</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>longclick</span></li>
					
						<li><span class='tagname'>mobile</span></li>
					
				</ul>
			

			<section>
				<h5>1 Comment</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>I just make the code more readable…</p>
<pre><code class="hljs">
<span class="hljs-comment">// create table view data object</span>
<span class="hljs-keyword">var</span> data = [
    {title:<span class="hljs-string">'Row 1'</span>, hasChild:<span class="hljs-literal">false</span>, color:<span class="hljs-string">'red'</span>, selectedColor:<span class="hljs-string">'#fff'</span>},
    {title:<span class="hljs-string">'Row 2'</span>, hasDetail:<span class="hljs-literal">false</span>, color:<span class="hljs-string">'green'</span>, selectedColor:<span class="hljs-string">'#fff'</span>},
    {title:<span class="hljs-string">'Row 3'</span>, hasCheck:<span class="hljs-literal">false</span>, color:<span class="hljs-string">'blue'</span>, selectedColor:<span class="hljs-string">'#fff'</span>},
    {title:<span class="hljs-string">'Row 4'</span>, color:<span class="hljs-string">'orange'</span>, selectedColor:<span class="hljs-string">'#fff'</span>}
];

<span class="hljs-comment">//var view = Ti.UI.createView();</span>
    <span class="hljs-keyword">var</span> label = Ti.UI.createLabel({
        text:<span class="hljs-string">'Row Label '</span>,
        height:<span class="hljs-string">'auto'</span>,
        width:<span class="hljs-string">'auto'</span>,
        color:<span class="hljs-string">'#336699'</span>,
        left:<span class="hljs-number">10</span>
    });
    <span class="hljs-keyword">var</span> row = Ti.UI.createTableViewRow({height:<span class="hljs-number">50</span>});
    <span class="hljs-comment">//view.add(label);</span>
    row.add(label);
    data.push(row);

<span class="hljs-comment">// create table view</span>
<span class="hljs-keyword">var</span> tableview = Titanium.UI.createTableView({
    data:data
});



<span class="hljs-keyword">var</span> touched = <span class="hljs-literal">false</span>;

<span class="hljs-comment">// create table view event listener</span>
tableview.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span>
</span>{
    <span class="hljs-comment">// event data</span>
    <span class="hljs-keyword">var</span> index = e.index;
    <span class="hljs-keyword">var</span> section = e.section;
    <span class="hljs-keyword">var</span> row = e.row;
    <span class="hljs-keyword">var</span> rowdata = e.rowData;
    Ti.API.info(<span class="hljs-string">'detail '</span> + e.detail);
    <span class="hljs-comment">//Titanium.UI.createAlertDialog({title:'aTable View',message:'row ' + row + ' index ' + index + ' section ' + section  + ' row data ' + rowdata}).show();</span>
    touched = <span class="hljs-literal">false</span>
});

tableview.addEventListener(<span class="hljs-string">'touchstart'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span></span>{
    touched = <span class="hljs-literal">true</span>;
    setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span></span>{
        <span class="hljs-keyword">if</span> (touched)
            alert(<span class="hljs-string">"Long press"</span>);
    },<span class="hljs-number">1000</span>);
});

tableview.addEventListener(<span class="hljs-string">'touchmove'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span></span>{
    touched = <span class="hljs-literal">false</span>;
});
tableview.addEventListener(<span class="hljs-string">'touchend'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span></span>{
    Ti.API.info(<span class="hljs-string">"touchend fired"</span>);
    touched = <span class="hljs-literal">false</span>;
});


<span class="hljs-comment">// add table view to the window</span>
Titanium.UI.currentWindow.add(tableview);
</code></pre></div>
							<div class="author">
								&mdash; commented <span title="May 8th 2011, 12:31:36 pm">May 8th 2011</span>
								by <span class='authorname'>Abdul Rehman</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>7</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>7 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-207672">
				
						<section>
							<p>Ping.  Anyone?  Row longclick is such a common functionality in Android apps….I can&#39;t believe more folks aren&#39;t frustrated not having it work in Ti yet.</p>
<p>~Brian</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="May 12th 2011, 10:14:04 am">May 12th 2011</span>
								by <span class='authorname'>Brian Dittmer</span><br>
								<a class="icon-bg icon-link" href="question/119407/android-longclick-working-for-anyone#answer-207672" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-208605">
				
						<section>
							<p>We&#39;re still trying to get some kind of Longclick work for tableviews.  Anyone out there have something working?</p>
<p>~Brian</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="May 26th 2011, 2:54:11 pm">May 26th 2011</span>
								by <span class='authorname'>Brian Dittmer</span><br>
								<a class="icon-bg icon-link" href="question/119407/android-longclick-working-for-anyone#answer-208605" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-208700">
				
						<section>
							<p>I agree. It surprises me that the feature request for this in Jira is marked with low priority, since long-press really is a key part of interacting with native Android apps. I hope to see this feature getting more attention :)</p>
<p>Meanwhile, has anyone got a functional workaround for long-press on tableview rows on Android? </p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="May 27th 2011, 7:43:31 pm">May 27th 2011</span>
								by <span class='authorname'>Rune Lund-Hermansen</span><br>
								<a class="icon-bg icon-link" href="question/119407/android-longclick-working-for-anyone#answer-208700" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-209062">
				
						<section>
							<p>How do we go about getting the priority of supporting Android Longclick&#x2F;Longpress raised ??</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="June 2nd 2011, 2:07:02 pm">June 2nd 2011</span>
								by <span class='authorname'>Brian Dittmer</span><br>
								<a class="icon-bg icon-link" href="question/119407/android-longclick-working-for-anyone#answer-209062" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-209091">
				
						<section>
							<p>Yeah… I&#39;ve got longpress working. This function below is simplified from a lot more I do with the touch… I fire all kinds of custom events such as swiping, touchhold (fires multiple times if you keep holding), swipestop, tap, and swipe.  So the below code has all that other stuff trimmed out for simplicity…</p>
<pre><code class="hljs">

<span class="actionscript"><span class="hljs-keyword">var</span> touchable = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(control)</span> </span>{
        <span class="hljs-comment">// Settings</span>
            <span class="hljs-keyword">var</span> tolerance = <span class="hljs-number">2</span>;
        <span class="hljs-keyword">var</span> longpressDuration = <span class="hljs-number">500</span>;
        <span class="hljs-keyword">var</span> _touchTimeout = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">var</span> _longpressInterval = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">var</span> reset = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
            <span class="hljs-keyword">if</span> (_longpressInterval) clearTimeout(_longpressInterval);
        };
        <span class="hljs-keyword">var</span> longpressFire = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
            control.fireEvent(<span class="hljs-string">'longpress'</span>, start);
        };
        control.addEventListener(<span class="hljs-string">'touchstart'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(evt)</span> </span>{
            reset();
            _longpressTimeout = setTimeout(longpressFire, longpressDuration);
        });
        control.addEventListener(<span class="hljs-string">'touchmove'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(e)</span> </span>{
              <span class="hljs-comment">// can add a check here to have some forgiveness for moving a few pixels (which is my tolerance variable)</span>
                  <span class="hljs-keyword">if</span> (_longpressInterval) clearTimeout(_longpressInterval);
        });
        control.addEventListener(<span class="hljs-string">'touchcancel'</span>, reset);
        control.addEventListener(<span class="hljs-string">'touchend'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(end)</span> </span>{
            reset();
        });
        <span class="hljs-keyword">return</span> control;
    };</span>
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="June 3rd 2011, 3:25:06 am">June 3rd 2011</span>
								by <span class='authorname'>Jason B</span><br>
								<a class="icon-bg icon-link" href="question/119407/android-longclick-working-for-anyone#answer-209091" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-209158">
				
						<section>
							<p>I agree. I want to implement this in a current app so I hope it gets pushed to a higher priority soon.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="June 3rd 2011, 6:45:01 pm">June 3rd 2011</span>
								by <span class='authorname'>brian kurzius</span><br>
								<a class="icon-bg icon-link" href="question/119407/android-longclick-working-for-anyone#answer-209158" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-212365">
				
						<section>
							<p>thanks Jason….I didn&#39;t see your reply till just now.  Let me try it out.</p>
<p>What SDK and Android versions(s) is this working for you on?</p>
<p>Does it trigger for a longpress anywhere on the entire row?</p>
<p>thanks<br>Brian</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="July 6th 2011, 5:20:43 pm">July 6th 2011</span>
								by <span class='authorname'>Brian Dittmer</span><br>
								<a class="icon-bg icon-link" href="question/119407/android-longclick-working-for-anyone#answer-212365" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
