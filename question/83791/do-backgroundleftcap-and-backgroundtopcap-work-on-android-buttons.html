<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Do backgroundLeftCap and backgroundTopCap work on Android buttons? » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Do backgroundLeftCap and backgroundTopCap work on Android buttons?</h1>
		</header>
		<section>
			<p>Does Android support intelligent stretching of background images for buttons in Titanium mobile?  Should the backgroundLeftCap and backgroundTopCap properties have any effect under Android?</p>
<p>I am trying to use an image which is 11 pixels wide.  It has 5 pixel wide corner radius curves, with a single pixel in the middle to be used for the stretch.  So I tried setting both caps to 5 pixels but nothing I do seems (whether 5 or something else) seems to have any effect and the image just seems stretched to fit the button size instead of honoring the caps.</p>
<p>I even tried renaming the image xxx.9.png in hopes that may allow Android to treat it as a NinePatchDrawable image (see http:&#x2F;&#x2F;developer.android.com&#x2F;guide&#x2F;topics&#x2F;graphics&#x2F;2d-graphics.html#nine-patch ).</p>
<p>I found a thread asking about these caps in views, and the answer was that they are only supported in buttons and text fields.  But I am trying to use them on a button.  See this thread:</p>
<p>http:&#x2F;&#x2F;developer.appcelerator.com&#x2F;question&#x2F;48641&#x2F;how-do-you-use-the-backgroundtopcap-and-backgroundleftcap-properties</p>
<p>I am using Titanium mobile 1.4.3 because my project won&#39;t run under the nightly 1.5.0 builds.</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="November 29th 2010, 5:24:52 am">November 29th 2010</span>
				by <span class='authorname'>Doug Handy</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>backgroundleftcap</span></li>
					
						<li><span class='tagname'>image</span></li>
					
						<li><span class='tagname'>mobile</span></li>
					
						<li><span class='tagname'>strech</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>5</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>5 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-151781">
				
						<section>
							<p>Doug</p>
<p>Personally, I use 9Patch images when possible, although currently it only works on android.  The <a href="http:&#x2F;&#x2F;developer.android.com&#x2F;guide&#x2F;developing&#x2F;tools&#x2F;draw9patch.html">9Patch tool</a> will create and save them using the correct extension. It will also indicate whether the image contains any errors, thus helping to ensure that it is valid. </p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="November 29th 2010, 1:04:35 pm">November 29th 2010</span>
								by <span class='authorname'>Paul Dowsett</span><br>
								<a class="icon-bg icon-link" href="question/83791/do-backgroundleftcap-and-backgroundtopcap-work-on-android-buttons#answer-151781" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>To answer your question, yes I believe the background*Cap properties work under android</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 29th 2010, 1:06:46 pm">November 29th 2010</span>
											by <span class='authorname'>Paul Dowsett</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>3</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-217060">
				
						<section>
							<p>I&#39;ve just noticed that if you specify a filename, eg &#39;refresh.png&#39; and a &#39;.9&#39; version exists, eg. &#39;refresh.9.png&#39;, Android will preference the 9-patch version. So it should be possible to use the filename &#39;refresh.png&#39; in your code, put a &#39;refresh.9.png&#39; in android&#x2F; and a &#39;refresh.png&#39; in iphone&#x2F;. Hope this helps someone having the same issue.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 21st 2011, 11:01:16 am">August 21st 2011</span>
								by <span class='authorname'>Josh Sharp</span><br>
								<a class="icon-bg icon-link" href="question/83791/do-backgroundleftcap-and-backgroundtopcap-work-on-android-buttons#answer-217060" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>This might come in handy (this reminds me of the epiphany I had with the @2x on iOS development :p)</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 24th 2012, 2:04:21 pm">January 24th 2012</span>
											by <span class='authorname'>Robbe Clerckx</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>2</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-152421">
				
						<section>
							<p>Hal,</p>
<p>I got my buttons to stretch properly on Android after using the 9Patch Tool, so thanks.  From my experiments using 1.4.3, it seems Android ignores the backgroundXxxCap properties and you must use a proper *.9.png for the images to stretch correctly.</p>
<p>But then those same images don&#39;t look right in iOS due to the extra 1-pixel partial lines in the edges.  So what I ended up doing was changing my image names to <em>.9.png then putting a real 9patch version in the Resources&#x2F;android folder, and my former non-9patch version in the Resources&#x2F;iphone folder.  Still called </em>.9.png, but without the edges.</p>
<p>Is that what you do?  Is there a simpler way to make them properly stretch on both platforms?</p>
<p>Thanks again for the pointer to the 9patch tool.  I was so close and yet so far…</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="November 30th 2010, 1:29:39 am">November 30th 2010</span>
								by <span class='authorname'>Doug Handy</span><br>
								<a class="icon-bg icon-link" href="question/83791/do-backgroundleftcap-and-backgroundtopcap-work-on-android-buttons#answer-152421" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-153201">
				
						<section>
							<p>Hi again, Doug</p>
<p>I&#39;m glad you could make use of the 9patch tool - it was the first time I had heard of it, and I found it pretty cool once I got used to it.</p>
<p>What I would do is write a wrapper in the form of a function around the logic that constructs an image file path and name based on platform, and then use this function in my buttons&#39; image properties.</p>
<p>Hope this helps.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="December 1st 2010, 1:36:51 am">December 1st 2010</span>
								by <span class='authorname'>Paul Dowsett</span><br>
								<a class="icon-bg icon-link" href="question/83791/do-backgroundleftcap-and-backgroundtopcap-work-on-android-buttons#answer-153201" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-260994">
				
						<section>
							<p>We&#39;re two years down the line, and the docs still say that backgroundLeftCap and backgroundTopCap are iOS only. In my experience, they do have an effect when used on Android, but the effect is unpredictable and different from what happens on iOS. </p>
<p>On iOS if you set leftCap to 15, then the leftmost 15 pixels are &#39;protected&#39; and the 16th leftmost pixel is stretched (and the remaining pixels are protected). On Android I get the impression that if you set leftCap to 15, the first 15 pixels will be stretched until the image fills the assigned space. But I could be wrong here. Suffice it to say the result is just different on the two platforms.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="April 18th 2013, 7:50:13 am">April 18th 2013</span>
								by <span class='authorname'>remko posthuma</span><br>
								<a class="icon-bg icon-link" href="question/83791/do-backgroundleftcap-and-backgroundtopcap-work-on-android-buttons#answer-260994" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
