<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>iPad orientationchange problems.. » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>iPad orientationchange problems..</h1>
		</header>
		<section>
			<p>What this code is supposed to do is change those properties when the iPad switches orientation, and it does in the Simulator and on my iPad. But the problem is that it switches whenever there is any slight movement. Like say I have my iPad in Portrait mode and I&#39;m just walking around it switches back and forth from the Portrait and Landscape settings I specified, even though the device hasn&#39;t been turned on it&#39;s side to Landscape.</p>
<p>Here is my code..</p>
<pre><code class="hljs"><span class="hljs-comment">//////////ORIENTATION</span>
win1.orientationModes = [ 
    Titanium.UI.PORTRAIT, 
    Titanium.UI.UPSIDE_PORTRAIT, 
    Titanium.UI.LANDSCAPE_LEFT, 
    Titanium.UI.LANDSCAPE_RIGHT, 
    Titanium.UI.FACE_UP, 
    Titanium.UI.FACE_DOWN
];

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getOrientation</span><span class="hljs-params">(o)</span> </span>{
    <span class="hljs-keyword">switch</span> (o) {
        <span class="hljs-keyword">case</span> Titanium.UI.PORTRAIT: <span class="hljs-keyword">return</span> <span class="hljs-string">'portrait'</span>;
        <span class="hljs-keyword">case</span> Titanium.UI.UPSIDE_PORTRAIT: <span class="hljs-keyword">return</span> <span class="hljs-string">'portrait'</span>;
        <span class="hljs-keyword">case</span> Titanium.UI.LANDSCAPE_LEFT: <span class="hljs-keyword">return</span> <span class="hljs-string">'landscape'</span>;
        <span class="hljs-keyword">case</span> Titanium.UI.LANDSCAPE_RIGHT: <span class="hljs-keyword">return</span> <span class="hljs-string">'landscape'</span>;
    }
}

Ti.Gesture.addEventListener(<span class="hljs-string">'orientationchange'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span></span>{
    <span class="hljs-keyword">var</span> orientation = getOrientation(e.orientation);
    <span class="hljs-keyword">if</span> (orientation == <span class="hljs-string">'portrait'</span>) {
        header.bottom = <span class="hljs-number">800</span>;
        header.left = <span class="hljs-number">34</span>;
        view.left = <span class="hljs-number">34</span>;
        view.bottom = <span class="hljs-number">0</span>;
        view.height = <span class="hljs-number">800</span>;
        dateDisplay.bottom = <span class="hljs-number">675</span>;
        dateDisplay.left = <span class="hljs-number">635</span>;

    } <span class="hljs-keyword">else</span> {
        header.bottom = <span class="hljs-number">550</span>;
        header.left = <span class="hljs-number">300</span>;
        view.height = <span class="hljs-number">550</span>;
        view.left = <span class="hljs-number">300</span>;
        dateDisplay.bottom = <span class="hljs-number">423</span>;
        dateDisplay.left = <span class="hljs-number">900</span>;

    }

});
</code></pre><p>Has anyone else had problems with this or did I just do something wrong. Any help would be great! Thanks!</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="May 3rd 2010, 12:15:44 am">May 3rd 2010</span>
				by <span class='authorname'>Ross Waycaster</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>ipad</span></li>
					
						<li><span class='tagname'>landscape</span></li>
					
						<li><span class='tagname'>mobile</span></li>
					
						<li><span class='tagname'>orientation</span></li>
					
						<li><span class='tagname'>orientationchange</span></li>
					
						<li><span class='tagname'>portrait</span></li>
					
						<li><span class='tagname'>transition</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>1</span> Vote</div>
			<div class="answers"><span>4</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>4 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-47711">
				
						<section>
							<p>@Juan Pons Thanks, I did that but it didn&#39;t fix the problem.</p>
<p>FIXED IT!<br>However I did find a solution. I added an if landscape and it worked.. check the code below.</p>
<pre><code class="hljs"><span class="hljs-comment">//////////ORIENTATION</span>
win1.orientationModes = [ 
    Titanium.UI.PORTRAIT, 
    Titanium.UI.UPSIDE_PORTRAIT, 
    Titanium.UI.LANDSCAPE_LEFT, 
    Titanium.UI.LANDSCAPE_RIGHT
];

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getOrientation</span><span class="hljs-params">(o)</span> </span>{
    <span class="hljs-keyword">switch</span> (o) {
        <span class="hljs-keyword">case</span> Titanium.UI.PORTRAIT: <span class="hljs-keyword">return</span> <span class="hljs-string">'portrait'</span>;
        <span class="hljs-keyword">case</span> Titanium.UI.UPSIDE_PORTRAIT: <span class="hljs-keyword">return</span> <span class="hljs-string">'portrait'</span>;
        <span class="hljs-keyword">case</span> Titanium.UI.LANDSCAPE_LEFT: <span class="hljs-keyword">return</span> <span class="hljs-string">'landscape'</span>;
        <span class="hljs-keyword">case</span> Titanium.UI.LANDSCAPE_RIGHT: <span class="hljs-keyword">return</span> <span class="hljs-string">'landscape'</span>;
    }
}

Ti.Gesture.addEventListener(<span class="hljs-string">'orientationchange'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span></span>{
    <span class="hljs-keyword">var</span> orientation = getOrientation(e.orientation);
    <span class="hljs-keyword">if</span> (orientation == <span class="hljs-string">'portrait'</span>) {
        header.bottom = <span class="hljs-number">800</span>;
        header.left = <span class="hljs-number">34</span>;
        view.left = <span class="hljs-number">34</span>;
        view.bottom = <span class="hljs-number">0</span>;
        view.height = <span class="hljs-number">800</span>;
        dateDisplay.bottom = <span class="hljs-number">675</span>;
        dateDisplay.left = <span class="hljs-number">635</span>;

    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (orientation == <span class="hljs-string">'landscape'</span>) {
        header.bottom = <span class="hljs-number">550</span>;
        header.left = <span class="hljs-number">300</span>;
        view.height = <span class="hljs-number">550</span>;
        view.left = <span class="hljs-number">300</span>;
        dateDisplay.bottom = <span class="hljs-number">423</span>;
        dateDisplay.left = <span class="hljs-number">900</span>;

    } <span class="hljs-keyword">else</span> {
    <span class="hljs-comment">//do nothing</span>
    }

});
</code></pre><p>Hope this helps someone! It works perfectly now!</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="May 3rd 2010, 7:34:31 pm">May 3rd 2010</span>
								by <span class='authorname'>Ross Waycaster</span><br>
								<a class="icon-bg icon-link" href="question/21681/ipad-orientationchange-problems.html#answer-47711" rel="permalink">permalink</a>
							</div>

							<h5>3 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Does the orientation layout feel smooth? Or does it flicker after changing the orientation?<br>Have a look at <a href="http:&#x2F;&#x2F;developer.appcelerator.com&#x2F;question&#x2F;19521&#x2F;ipad-orientation-change-transitions">this question</a> thanks</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 24th 2011, 1:20:45 pm">March 24th 2011</span>
											by <span class='authorname'>Daniel Tome</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Thanks for the solution. Today I had a similar problem and this post saved me hours of precious time. The solution works elegantly, without any flickering.</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 21st 2011, 9:27:24 pm">December 21st 2011</span>
											by <span class='authorname'>Nahum Romero</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I still can&#39;t get this to work. Here is my code. Can you see anything I might be doing wrong?</p>
<pre><code class="hljs">Ti.Gesture.isLandscape = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(orient)</span> </span>{
  orient = orient || Ti.UI.orientation;
  <span class="hljs-keyword">return</span> orient == Ti.UI.LANDSCAPE_LEFT || orient == Ti.UI.LANDSCAPE_RIGHT;
};

Ti.Gesture.isPortrait = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(orient)</span> </span>{
  orient = orient || Ti.UI.orientation;
  <span class="hljs-keyword">return</span> orient == Ti.UI.PORTRAIT || orient == Ti.UI.UPSIDE_PORTRAIT;
};

Ti.Gesture.addEventListener(<span class="hljs-string">'orientationchange'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span></span>{  
  <span class="hljs-keyword">if</span>(Ti.Gesture.isLandscape(e.orientation)) {
    <span class="hljs-comment">//Landscape ---                 </span>
        ...
  }<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(Ti.Gesture.isPortrait(e.orientation)){
    <span class="hljs-comment">//Portrait ---</span>
        ...
  }<span class="hljs-keyword">else</span>{
      <span class="hljs-comment">//Do nothing ---</span>
  }
})
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="May 8th 2012, 3:29:19 am">May 8th 2012</span>
											by <span class='authorname'>Clifton Labrum</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>5</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-47251">
				
						<section>
							<p>Ross,</p>
<p>I&#39;ve seen similar issues, and I believe that is has to do with the Face_Up and Face_Down events.</p>
<p>Try removing these two lines from your orientationModes and see if that helps</p>
<pre><code class="hljs">Titanium<span class="hljs-class">.UI</span><span class="hljs-class">.FACE_UP</span>, 
Titanium<span class="hljs-class">.UI</span><span class="hljs-class">.FACE_DOWN</span>
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="May 3rd 2010, 10:43:22 am">May 3rd 2010</span>
								by <span class='authorname'>Juan Pons</span><br>
								<a class="icon-bg icon-link" href="question/21681/ipad-orientationchange-problems.html#answer-47251" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-50501">
				
						<section>
							<p>I had the same issue. I think the iPad fires orientationchange events for every ever so slight change (that&#39;s how you roll an airplane in x-plane). This would explain why your code for &quot;landscape&quot; was executing every time a change event came in, before you added the &quot;if statement&quot;…</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="May 8th 2010, 12:29:40 pm">May 8th 2010</span>
								by <span class='authorname'>Iko Knyphausen</span><br>
								<a class="icon-bg icon-link" href="question/21681/ipad-orientationchange-problems.html#answer-50501" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-239664">
				
						<section>
							<p>Shake also triggers orientationchange maybe the root cause.<br>http:&#x2F;&#x2F;developer.appcelerator.com&#x2F;question&#x2F;128920&#x2F;shake-also-triggers-orientationchange</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="May 30th 2012, 6:44:15 am">May 30th 2012</span>
								by <span class='authorname'>Abaw Chen</span><br>
								<a class="icon-bg icon-link" href="question/21681/ipad-orientationchange-problems.html#answer-239664" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
