<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>RssReader using yql not working » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>RssReader using yql not working</h1>
		</header>
		<section>
			<p>Hi i have made a rssreader in titanium using yql query but it is not giving me the requiremd result This is my code</p>
<pre><code class="hljs">
var win1 = Titanium.UI.createWindow({
<span class="hljs-string">backgroundColor :</span> <span class="hljs-string">'#f00'</span>
   }); 
     var tableView1 = Titanium.UI.createTableView(); 
       win1.add(tableView1);


        var Row = [];
                Titanium.Yahoo.yql(<span class="hljs-string">'select content from html where url="http://www.riqapp.be/index.html" and xpath="//p" '</span>, function(e) {

    var  results = (e.data.p.content <span class="hljs-keyword">instanceof</span> Array) ? e.data.p.content : [e.data.p.content];

        <span class="hljs-keyword">for</span> (var i = <span class="hljs-number">0</span>; i &lt;results.length; i++) {
            var rss = results[i];


            var rssRow = Titanium.UI.createTableViewRow({
                <span class="hljs-string">height :</span> <span class="hljs-number">45</span>,
                <span class="hljs-string">className :</span> <span class="hljs-string">'rssrow'</span>

            });
            var titleLabel = Titanium.UI.createLabel({
                <span class="hljs-string">text :</span> rss,
                <span class="hljs-string">font :</span> {
                    <span class="hljs-string">fontSize :</span> <span class="hljs-number">16</span>,
                    <span class="hljs-string">fontWeight :</span> <span class="hljs-string">'bold'</span>
                },
                <span class="hljs-string">width :</span> <span class="hljs-string">'auto'</span>,
                <span class="hljs-string">top :</span> <span class="hljs-number">5</span>,
                <span class="hljs-string">left :</span> <span class="hljs-number">80</span>,
                <span class="hljs-string">height :</span> <span class="hljs-number">20</span>,

            });

            rssRow.add(titleLabel);

            Row.push(rssRow);
        };

        tableView1.setData(Row);
    });
</code></pre><p>This is the result of my yql query</p>
<pre><code class="hljs"> <span class="hljs-variable">&lt;results&gt;</span>
     <span class="hljs-variable">&lt;p&gt;</span>Purchase todays tip
              <span class="hljs-variable">&lt;/p&gt;</span>
      <span class="hljs-variable">&lt;p&gt;</span>I am <span class="hljs-keyword">in</span> purchase today page
              <span class="hljs-variable">&lt;/p&gt;</span>
     <span class="hljs-variable">&lt;p&gt;</span>by iPage
      <span class="hljs-variable">&lt;/p&gt;</span>
     <span class="hljs-variable">&lt;/results&gt;</span>
</code></pre><p>Actually i want to display all these entities in one table</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="November 19th 2012, 7:43:06 pm">November 19th 2012</span>
				by <span class='authorname'>Muhammad Wahhab Mirza</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>rssreader</span></li>
					
						<li><span class='tagname'>titanium</span></li>
					
						<li><span class='tagname'>yql</span></li>
					
				</ul>
			

			<section>
				<h5>4 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Hi sorry to disturb u but i wan to access &quot;I am in purchase today page&quot;Your code has given me the header of them</p>
<p>Thanks</p>
</div>
							<div class="author">
								&mdash; commented <span title="November 19th 2012, 8:32:06 pm">November 19th 2012</span>
								by <span class='authorname'>Muhammad Wahhab Mirza</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>I thought you were saying that you wanted the titles to display in a table. If you want the entries, then your existing code already does that. You posted the results that have the element that you are trying to access. This would also be alot easier if you returned the results in json rather than xml.</p>
</div>
							<div class="author">
								&mdash; commented <span title="November 19th 2012, 8:48:32 pm">November 19th 2012</span>
								by <span class='authorname'>Anthony Decena</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Hi anthny it was just my table was not showing the contents could you told why</p>
</div>
							<div class="author">
								&mdash; commented <span title="November 19th 2012, 9:13:41 pm">November 19th 2012</span>
								by <span class='authorname'>Muhammad Wahhab Mirza</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Its probably because your response is coming as xml and you are trying to loop through it like it was an array. Like I said before, get it back in JSON to make it easier to work with</p>
</div>
							<div class="author">
								&mdash; commented <span title="November 19th 2012, 11:30:11 pm">November 19th 2012</span>
								by <span class='authorname'>Anthony Decena</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>-1</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-251364">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>If you want the titles, it looks like you&#39;ll need to grab the header tag for the titles as none of them are in a &lt;p&gt; tag. This will grab just the titles:</p>
<pre><code class="hljs"><span class="hljs-operator"><span class="hljs-keyword">select</span> <span class="hljs-keyword">content</span> <span class="hljs-keyword">from</span> html <span class="hljs-keyword">where</span> <span class="hljs-keyword">url</span>=<span class="hljs-string">"http://www.riqapp.be/index.html"</span> <span class="hljs-keyword">and</span> xpath=<span class="hljs-string">"//h2"</span></span>
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="November 19th 2012, 8:14:40 pm">November 19th 2012</span>
								by <span class='authorname'>Anthony Decena</span><br>
								<a class="icon-bg icon-link" href="question/144876/rssreader-using-yql-not-working#answer-251364" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
