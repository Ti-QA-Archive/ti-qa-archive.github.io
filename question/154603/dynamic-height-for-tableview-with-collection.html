<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Dynamic height for TableView with collection » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Dynamic height for TableView with collection</h1>
		</header>
		<section>
			<p>Hi,</p>
<p>I used:</p>
<ul>
<li>Titanium 3.1.0GA</li>
<li>Alloy 1.2</li>
<li>Android ( 480x800 and 720x1280 )</li>
</ul>
<p>I have a question about tableView in alloy<br>I tried everything that I think.<br>Auto height for each row, fixed height row, Ti.UI.SIZE, but I have nothing.</p>
<p>My code is:</p>
<pre><code class="hljs"><span class="hljs-function"><span class="hljs-title">TableView</span><span class="hljs-params">(id=<span class="hljs-string">"table"</span>, layout=<span class="hljs-string">"vertical"</span>, dataCollection=<span class="hljs-string">"track"</span>, dataFilter=<span class="hljs-string">"onDataFilter"</span>)</span></span>
                    <span class="hljs-function"><span class="hljs-title">Require</span><span class="hljs-params">(src=<span class="hljs-string">"TrackRow"</span>)</span></span>
</code></pre><p><strong>TrackRow:</strong></p>
<pre><code class="hljs">Alloy
    <span class="hljs-function"><span class="hljs-title">TableViewRow</span><span class="hljs-params">(class=<span class="hljs-string">"row"</span>, layout=<span class="hljs-string">"vertical"</span>, trackId=<span class="hljs-string">"{id}"</span>, onClick=<span class="hljs-string">"onClick"</span>)</span></span>
        <span class="hljs-function"><span class="hljs-title">Label</span><span class="hljs-params">(text=<span class="hljs-string">"{title}"</span>, class=<span class="hljs-string">"title"</span>)</span></span>
</code></pre><p>This is my style:</p>
<pre><code class="hljs">  <span class="hljs-string">".row"</span>:
    <span class="hljs-attribute">width</span>: Ti<span class="hljs-class">.UI</span><span class="hljs-class">.FILL</span>
    <span class="hljs-attribute">height</span>: <span class="hljs-number">100</span>
    borderWidth: <span class="hljs-number">1</span>
    borderColor: <span class="hljs-string">"#CBCBCB"</span>

  <span class="hljs-string">".title"</span>:
    <span class="hljs-attribute">color</span>: <span class="hljs-string">"#535353"</span>
    textAlign: Ti<span class="hljs-class">.UI</span><span class="hljs-class">.TEXT_ALIGNMENT_RIGHT</span>
    <span class="hljs-attribute">width</span>: Ti<span class="hljs-class">.UI</span><span class="hljs-class">.FILL</span>
    <span class="hljs-attribute">right</span>: <span class="hljs-number">25</span>
    <span class="hljs-attribute">font</span>:
      fontSize: <span class="hljs-number">26</span>
      fontFamily: Alloy<span class="hljs-class">.CFG</span><span class="hljs-class">.fonts</span><span class="hljs-class">.FAMILY</span>
      fontWeight: <span class="hljs-string">"bold"</span>

  <span class="hljs-string">"#table"</span>:
    <span class="hljs-attribute">top</span>: <span class="hljs-number">510</span>
    backgroundColor: <span class="hljs-string">"#E5E5E5"</span>
    borderWidth: <span class="hljs-number">1</span>
    borderColor: <span class="hljs-string">"#CBCBCB"</span>
    rowHeight: <span class="hljs-string">"auto"</span>
    <span class="hljs-attribute">width</span>: Ti<span class="hljs-class">.UI</span><span class="hljs-class">.FILL</span>
    <span class="hljs-attribute">height</span>: Ti<span class="hljs-class">.UI</span><span class="hljs-class">.SIZE</span>
</code></pre><p>Any one has suggest?</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="July 8th 2013, 4:28:16 pm">July 8th 2013</span>
				by <span class='authorname'>Navid Ghahramani</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>alloy</span></li>
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>appcelerator</span></li>
					
						<li><span class='tagname'>tableview</span></li>
					
						<li><span class='tagname'>tableviewrow</span></li>
					
				</ul>
			

			<section>
				<h5>15 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>All of this syntax looks wrong. Have you read through the alloy guides? <a href="http:&#x2F;&#x2F;docs.appcelerator.com&#x2F;titanium&#x2F;latest&#x2F;#!&#x2F;guide&#x2F;Alloy_Framework">http:&#x2F;&#x2F;docs.appcelerator.com&#x2F;titanium&#x2F;latest&#x2F;#!&#x2F;guide&#x2F;Alloy_Framework</a></p>
</div>
							<div class="author">
								&mdash; commented <span title="July 8th 2013, 4:37:14 pm">July 8th 2013</span>
								by <span class='authorname'>Tony Lukasavage</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Pardon me?<br>Yes, of curse I read it.<br>All of properties works except height of table view even the height of table view row works.<br>Please tell me where is my wrong in syntax?</p>
</div>
							<div class="author">
								&mdash; commented <span title="July 8th 2013, 5:28:29 pm">July 8th 2013</span>
								by <span class='authorname'>Navid Ghahramani</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Oh I got it, I use coffee script and jade template file. :)</p>
</div>
							<div class="author">
								&mdash; commented <span title="July 8th 2013, 5:33:55 pm">July 8th 2013</span>
								by <span class='authorname'>Navid Ghahramani</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Can you create a standalone test case in the normal Alloy syntax?</p>
</div>
							<div class="author">
								&mdash; commented <span title="July 8th 2013, 6:35:03 pm">July 8th 2013</span>
								by <span class='authorname'>Tony Lukasavage</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Sure.<br>This is my code:</p>
<pre><code class="hljs"><span class="hljs-tag">&lt;<span class="hljs-title">Alloy</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-title">Window</span> <span class="hljs-attribute">onClick</span>=<span class="hljs-value">"onClick"</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"window"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">ScrollView</span> <span class="hljs-attribute">layout</span>=<span class="hljs-value">"vertical"</span> <span class="hljs-attribute">showVerticalScrollIndicator</span>=<span class="hljs-value">"true"</span> <span class="hljs-attribute">scrollType</span>=<span class="hljs-value">"vertical"</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"scrollView"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">View</span> <span class="hljs-attribute">layout</span>=<span class="hljs-value">"composite"</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"albumItem"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">TableView</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"table"</span> <span class="hljs-attribute">layout</span>=<span class="hljs-value">"vertical"</span> <span class="hljs-attribute">dataCollection</span>=<span class="hljs-value">"track"</span> <span class="hljs-attribute">dataFilter</span>=<span class="hljs-value">"onDataFilter"</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-title">Require</span> <span class="hljs-attribute">src</span>=<span class="hljs-value">"TrackRow"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">Require</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">TableView</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-title">View</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">ScrollView</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-title">Window</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">Alloy</span>&gt;</span>
</code></pre><p><strong>TrackRow:</strong></p>
<pre><code class="hljs"><span class="hljs-tag">&lt;<span class="hljs-title">Alloy</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-title">TableViewRow</span> <span class="hljs-attribute">layout</span>=<span class="hljs-value">"vertical"</span> <span class="hljs-attribute">trackId</span>=<span class="hljs-value">"{id}"</span> <span class="hljs-attribute">onClick</span>=<span class="hljs-value">"onClick"</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"row"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">Label</span> <span class="hljs-attribute">text</span>=<span class="hljs-value">"{title}"</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"title"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">Label</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-title">TableViewRow</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">Alloy</span>&gt;</span>
</code></pre><p>And <strong>TrackRow.tss</strong></p>
<pre><code class="hljs">  "<span class="hljs-class">.row</span>": <span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">width</span>:<span class="hljs-value"> Ti.UI.FILL,
    height: <span class="hljs-number">100</span>,
    borderWidth: <span class="hljs-number">1</span>,
    borderColor: <span class="hljs-string">"#CBCBCB"</span>
  </span></span></span>},
  "<span class="hljs-class">.title</span>": <span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">color</span>:<span class="hljs-value"> <span class="hljs-string">"#535353"</span>,
    textAlign: Ti.UI.TEXT_ALIGNMENT_RIGHT,
    width: Ti.UI.FILL,
    right: <span class="hljs-number">25</span>,
    font: {
      fontSize: <span class="hljs-number">26</span>,
      fontFamily: Alloy.CFG.fonts.FAMILY,
      fontWeight: <span class="hljs-string">"bold"</span>
    </span></span></span>}
  }
</code></pre><p><strong>Album.tss</strong></p>
<pre><code class="hljs">  "<span class="hljs-class">.window</span>": <span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">backgroundImage</span>:<span class="hljs-value"> <span class="hljs-string">"none"</span>,
    backgroundColor: <span class="hljs-string">"#E5E5E5"</span>
  </span></span></span>},
  "<span class="hljs-class">.scrollView</span>": <span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">width</span>:<span class="hljs-value"> Ti.UI.FILL,
    contentHeight: <span class="hljs-string">"auto"</span>
  </span></span></span>},
  "<span class="hljs-class">.albumItem</span>": <span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">height</span>:<span class="hljs-value"> Ti.UI.SIZE,
    width: Ti.UI.FILL
  </span></span></span>},
  "<span class="hljs-class">.title</span>": <span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">color</span>:<span class="hljs-value"> <span class="hljs-string">"#282828"</span>,
    textAlign: Ti.UI.TEXT_ALIGNMENT_RIGHT,
    width: Ti.UI.FILL,
    font: {
      fontSize: <span class="hljs-number">26</span>,
      fontFamily: Alloy.CFG.fonts.FAMILY,
      fontWeight: <span class="hljs-string">"bold"</span>
    </span></span></span>}
  },
  "<span class="hljs-id">#table</span>": <span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">top</span>:<span class="hljs-value"> <span class="hljs-number">510</span>,
    backgroundColor: <span class="hljs-string">"#E5E5E5"</span>,
    borderWidth: <span class="hljs-number">1</span>,
    borderColor: <span class="hljs-string">"#CBCBCB"</span>,
    width: Ti.UI.FILL,
    height: Ti.UI.SIZE
  </span></span></span>}
</code></pre></div>
							<div class="author">
								&mdash; commented <span title="July 8th 2013, 9:22:06 pm">July 8th 2013</span>
								by <span class='authorname'>Navid Ghahramani</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>This isn&#39;t a standalone test case. You haven&#39;t supplied controller(s) and you haven&#39;t defined the &quot;track&quot; model used or populated it with data. You also haven&#39;t been entirely clear as to what the problem is and what you are expecting to happen.</p>
</div>
							<div class="author">
								&mdash; commented <span title="July 9th 2013, 11:38:49 am">July 9th 2013</span>
								by <span class='authorname'>Tony Lukasavage</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>oh sorry,<br>This is my controllers:<br><strong>Album.js:</strong></p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> album, data, onDataFilter;

  onDataFilter = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">db</span>) </span>{
    <span class="hljs-keyword">return</span> db.where({
      album_id: data.id
    });
  };

  $.Album.addEventListener(<span class="hljs-string">"blur close"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
   $.destroy();
  });

data = <span class="hljs-built_in">arguments</span>[<span class="hljs-number">0</span>] || {};
album = Alloy.Collections.album.get(data.id);
$.image.image = album.get(<span class="hljs-string">"image"</span>);
$.trackImage.image = album.get(<span class="hljs-string">"thumbnail"</span>);
$.title.text = album.get(<span class="hljs-string">"title"</span>);
$.artist.text = album.get(<span class="hljs-string">"artist"</span>);
$.year.text = album.get(<span class="hljs-string">"year"</span>);
Alloy.Collections.track.fetch();
</code></pre><p><strong>TrackRow:</strong></p>
<pre><code class="hljs">onClick = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span> </span>{
    alert(e.rowData.trackId);
})
</code></pre><p><strong>Album.js:</strong></p>
<pre><code class="hljs">exports.definition = {
    config: {
      columns: {
        id: <span class="hljs-string">"text"</span>,
        title: <span class="hljs-string">"text"</span>,
        thumbnail: <span class="hljs-string">"text"</span>,
        image: <span class="hljs-string">"text"</span>,
        year: <span class="hljs-string">"text"</span>,
        artist: <span class="hljs-string">"text"</span>
      },
      adapter: {
        type: <span class="hljs-string">"sql"</span>,
        collection_name: <span class="hljs-string">"album"</span>,
        idAttribute: <span class="hljs-string">"id"</span>,
        remoteBackup: false
      }
    }
  };
</code></pre><p><strong>1.0_Album:</strong></p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> albums = [
    {
        id: <span class="hljs-number">1</span>,
        title: <span class="hljs-string">"title"</span>,
        artist: <span class="hljs-string">"artist"</span>,
        year: <span class="hljs-number">2013</span>,
        image: <span class="hljs-string">"/images/defaultAlbum.jpg"</span>,
        thumbnail: <span class="hljs-string">"url"</span>
    }
];

migration.up = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(db)</span> </span>{

    db.createTable({
        <span class="hljs-string">"columns"</span>: {
            <span class="hljs-string">"id"</span>: <span class="hljs-string">"text"</span>,
            <span class="hljs-string">"title"</span>: <span class="hljs-string">"text"</span>,
            <span class="hljs-string">"thumbnail"</span>: <span class="hljs-string">"text"</span>,
            <span class="hljs-string">"image"</span>: <span class="hljs-string">"text"</span>,
            <span class="hljs-string">"year"</span>: <span class="hljs-string">"text"</span>,
            <span class="hljs-string">"artist"</span>: <span class="hljs-string">"text"</span>
        }
    });

    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; albums.length; i++) {
        db.insertRow(albums[i]);
    }
};

migration.down = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(db)</span> </span>{
    db.dropTable(<span class="hljs-string">"Album"</span>);
};
</code></pre></div>
							<div class="author">
								&mdash; commented <span title="July 9th 2013, 12:46:27 pm">July 9th 2013</span>
								by <span class='authorname'>Navid Ghahramani</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>And what is your exact problem? You want the tableviewrow to grow with the size of the content?</p>
</div>
							<div class="author">
								&mdash; commented <span title="July 9th 2013, 12:49:20 pm">July 9th 2013</span>
								by <span class='authorname'>Tony Lukasavage</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>yes because I use ScrollView and I want to scroll page replace to scroll tableView</p>
</div>
							<div class="author">
								&mdash; commented <span title="July 9th 2013, 2:20:51 pm">July 9th 2013</span>
								by <span class='authorname'>Navid Ghahramani</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>I&#39;m confused by your wording. Why do you have a table inside of a scrollview? The conflicting scroll controls will probably cause problems.</p>
</div>
							<div class="author">
								&mdash; commented <span title="July 9th 2013, 2:48:02 pm">July 9th 2013</span>
								by <span class='authorname'>Tony Lukasavage</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Sorry for my bad English. it&#39;s my second language.<br>I have a lot of item top of table view that their height is bigger than window height.<br>and I want to use table view for template and other implement of database connection that table view implemented.</p>
</div>
							<div class="author">
								&mdash; commented <span title="July 9th 2013, 4:14:20 pm">July 9th 2013</span>
								by <span class='authorname'>Navid Ghahramani</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>You don&#39;t need to apologize for your English, but it is making it a little hard for me to follow exactly what needs to go on here. Again, I am still confused why you have a tableview inside of a scrollview? </p>
<p>Would it be possible for you to create a much smaller test case than what you have provided to make it simpler to understand what is going on? Eliminate anything that is not critical to your issue. Eliminate the models, minimize the styles and markup to make it as clear as possible.</p>
</div>
							<div class="author">
								&mdash; commented <span title="July 9th 2013, 4:19:19 pm">July 9th 2013</span>
								by <span class='authorname'>Tony Lukasavage</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>I want to create a application like google play in my language and my music list.<br>if you see new style of google play, when you go to an album the tracks of the album show bottom of page and when you scroll the page it show other tracks that you couldn&#39;t see them.<br>In fact the tableview scroll is disabled and the scroll of scrollview is main scroll function.<br>I hope I could say what I need. :(</p>
<p>simple: disable table view functionality and use scrollView scroll functionality instead of that.</p>
</div>
							<div class="author">
								&mdash; commented <span title="July 9th 2013, 4:28:19 pm">July 9th 2013</span>
								by <span class='authorname'>Navid Ghahramani</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Navid, the tracks may look like a TableView but most likely they&#39;re not.  You shouldn&#39;t add a TableView to a ScrollView…it is confusing for both the user and the OS.  I&#39;d suggest you add your tracks as views styled as table rows, and add them all to a single scrollview.</p>
</div>
							<div class="author">
								&mdash; commented <span title="July 9th 2013, 4:47:02 pm">July 9th 2013</span>
								by <span class='authorname'>Ricardo Alcocer</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>well, then I have to implement connect to collection and etc that the table view already implemented.<br>Do you have any other suggestion? if not I have to do it.</p>
</div>
							<div class="author">
								&mdash; commented <span title="July 9th 2013, 5:31:00 pm">July 9th 2013</span>
								by <span class='authorname'>Navid Ghahramani</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>0</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>0 Answers</h3>

	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
