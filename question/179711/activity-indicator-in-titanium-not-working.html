<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Activity indicator in Titanium not working? » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Activity indicator in Titanium not working?</h1>
		</header>
		<section>
			<p>HI All,</p>
<p>In my app I have using activity indicator for  loading new controller or file downloading.</p>
<p>But I need like below image </p>
<p><img src="http:&#x2F;&#x2F;www.ityug.com&#x2F;image&#x2F;image_gallery?uuid=415ce4ce-ab21-453d-aeae-6d2571d90920&amp;groupId=23106&amp;t=1418829339006" alt="alt text"></p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="December 17th 2014, 1:32:19 pm">December 17th 2014</span>
				by <span class='authorname'>Chanakya Puramshetty</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>activityindicator</span></li>
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>titanium</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>3</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>3 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-284585">
				
						<section>
							<pre><code class="hljs"><span class="hljs-variable"><span class="hljs-keyword">var</span> loadingView</span> = Ti.UI.createWindow({
    width: Ti.UI.FILL,
    height: Ti.UI.FILL,
    backgroundColor: <span class="hljs-string">"white"</span>
});
<span class="hljs-variable"><span class="hljs-keyword">var</span> indicator</span> = Ti.UI.createActivityIndicator({
    style: Titanium.UI.iPhone.ActivityIndicatorStyle.DARK,
    message: <span class="hljs-string">"Loading"</span>
});
loadingView.add(indicator);
indicator.show();
loadingView.<span class="hljs-keyword">open</span>();
</code></pre><p>hide loadingView when done</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="December 17th 2014, 1:38:19 pm">December 17th 2014</span>
								by <span class='authorname'>Gerben Hofman</span><br>
								<a class="icon-bg icon-link" href="question/179711/activity-indicator-in-titanium-not-working#answer-284585" rel="permalink">permalink</a>
							</div>

							<h5>2 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>and if you want Android and iOS:</p>
<pre><code class="hljs"><span class="hljs-variable"><span class="hljs-keyword">var</span> loadingView</span> = Ti.UI.createWindow({
    width: Ti.UI.FILL,
    height: Ti.UI.FILL,
    backgroundColor: <span class="hljs-string">"white"</span>
});

<span class="hljs-variable"><span class="hljs-keyword">var</span> indicator</span> = Ti.UI.createActivityIndicator({
    message: <span class="hljs-string">"Loading"</span>
});

<span class="hljs-keyword">if</span> (Ti.Platform.name === 'iPhone OS'){
  style = Ti.UI.iPhone.ActivityIndicatorStyle.DARK;
}
<span class="hljs-keyword">else</span> {
  style = Ti.UI.ActivityIndicatorStyle.DARK;
}

loadingView.add(indicator);
indicator.show();
loadingView.<span class="hljs-keyword">open</span>();
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="December 17th 2014, 1:40:11 pm">December 17th 2014</span>
											by <span class='authorname'>Gerben Hofman</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>HI Gerben Hofman,</p>
<p>Thnaks for your replay.</p>
<p>I tried this one but it is showing round symbol and loading text like below image. </p>
<p><img src="http:&#x2F;&#x2F;www.ityug.com&#x2F;image&#x2F;image_gallery?uuid=6cca9a16-54f6-4305-87ef-11101869146e&amp;groupId=23106&amp;t=1418831329622" alt="alt text"></p>
<p>But I need black color of background of acitvity indicator .</p>
<p>I was unable give the good feel for activity indicator,</p>
<p>Can you help me out .</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 17th 2014, 2:02:53 pm">December 17th 2014</span>
											by <span class='authorname'>Chanakya Puramshetty</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-284586">
				
						<section>
							<p>If you want to show a real progress (maybe you can get progress info  from httpclient) it in awesome to use circularprogress from Marcel Pociot. It works native for iOS. For Android you can uese the alloy variant (inspirated from Malcom H.)</p>
<p><img src="https:&#x2F;&#x2F;github.com&#x2F;mpociot&#x2F;TiCircularProgress&#x2F;raw&#x2F;master&#x2F;images&#x2F;demo.gif" alt=""></p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="December 17th 2014, 1:54:11 pm">December 17th 2014</span>
								by <span class='authorname'>Rainer Schleevoigt</span><br>
								<a class="icon-bg icon-link" href="question/179711/activity-indicator-in-titanium-not-working#answer-284586" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-284591">
				
						<section>
							<p>Here is a generic popup that works on ios and android; you can just add it to any view when you want to display it, and remove it when you&#39;re done.</p>
<p>It puts a semi-transparent overlay on top of the entire underlying view so the user can&#39;t interact with it while waiting.</p>
<p>If it&#39;s critical that you have the text to the side of the spinner, it wouldn&#39;t be a very hard modification.</p>
<p>Screenshot:</p>
<p><img src="http:&#x2F;&#x2F;i.imgur.com&#x2F;QqiBaCb.png" alt="AIPopup"></p>
<p>(btw – the image markdown syntax in the little help popup is wrong – you don&#39;t include a title – close the parens immediately after your image URL)</p>
<p>AIPopup.js:</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> _default_message = <span class="hljs-string">''</span>;

<span class="hljs-comment">/**
 * Note -- you cannot add this popup to a parent view with layout 'horizontal' or 'vertical'.
 *
 * @param params
 * @returns {*}
 * @constructor
 */</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">AIPopup</span> (<span class="hljs-params">params</span>)
</span>{
    <span class="hljs-keyword">var</span> _self;

    <span class="hljs-keyword">var</span> _message = _default_message;

    <span class="hljs-keyword">var</span> _backgroundColor = <span class="hljs-string">'transparent'</span>;

    _process_params ();
    _init ();

    <span class="hljs-keyword">return</span> _self;

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_process_params</span> (<span class="hljs-params"></span>)
    </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> params === <span class="hljs-string">'undefined'</span>)
        {
            params = {};
        }
        <span class="hljs-keyword">else</span>
        {
            params = <span class="hljs-built_in">JSON</span>.parse (<span class="hljs-built_in">JSON</span>.stringify (params));
        }

        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> params.backgroundColor !== <span class="hljs-string">'undefined'</span>)
        {
            _backgroundColor = params.backgroundColor;
            <span class="hljs-keyword">delete</span> params.backgroundColor;
        }

        <span class="hljs-keyword">var</span> config;

        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> params.config !== <span class="hljs-string">'undefined'</span>)
        {
            config = params.config;
            <span class="hljs-keyword">delete</span> params.config;
        }
        <span class="hljs-keyword">else</span>
        {
            <span class="hljs-keyword">return</span>;
        }

        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> config.message !== <span class="hljs-string">'undefined'</span>)
        {
            _message = config.message;
        }
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_init</span> (<span class="hljs-params"></span>)
    </span>{
        _self = Ti.UI.createView ({
            top: <span class="hljs-number">0</span>,
            left: <span class="hljs-number">0</span>,
            right: <span class="hljs-number">0</span>,
            bottom: <span class="hljs-number">0</span>,
            backgroundColor: _backgroundColor
        });

        <span class="hljs-keyword">var</span> overlay = Ti.UI.createView ({
            top: <span class="hljs-number">0</span>,
            left: <span class="hljs-number">0</span>,
            right: <span class="hljs-number">0</span>,
            bottom: <span class="hljs-number">0</span>,
            backgroundColor: <span class="hljs-string">'#041E30'</span>, 
            opacity: <span class="hljs-number">0.2</span>
        });

        _self.add (overlay);

        <span class="hljs-keyword">var</span> background = Ti.UI.createView ({
            width: <span class="hljs-number">140</span>,
            height: <span class="hljs-number">140</span>,
            backgroundColor: <span class="hljs-string">'#041E30'</span>,
            borderRadius: <span class="hljs-number">10</span>,
            opacity: <span class="hljs-number">1</span>
        });

        _self.add (background);

        <span class="hljs-keyword">var</span> style;
        <span class="hljs-keyword">var</span> font;
        <span class="hljs-keyword">if</span> (Ti.Platform.name == <span class="hljs-string">'iPhone OS'</span>)
        {
            style = Ti.UI.iPhone.ActivityIndicatorStyle.BIG;
            font = { fontWeight: <span class="hljs-string">'bold'</span>, fontSize: <span class="hljs-number">16</span> };
        }
        <span class="hljs-keyword">else</span>
        {
            style = Ti.UI.ActivityIndicatorStyle.BIG;
            font = { fontWeight: <span class="hljs-string">'bold'</span>, fontSize: <span class="hljs-string">'15dp'</span> };
        }

        <span class="hljs-keyword">var</span> wrapper = Ti.UI.createView ({
            layout: <span class="hljs-string">'vertical'</span>,
            left: <span class="hljs-number">0</span>,
            right: <span class="hljs-number">0</span>,
            height: Ti.UI.SIZE
        });

        <span class="hljs-keyword">var</span> ai = Ti.UI.createActivityIndicator ({
            style: style,
            color: <span class="hljs-string">'#fff'</span>,
            zIndex: <span class="hljs-number">100</span>
        });

        wrapper.add (ai);
        ai.show ();

        <span class="hljs-keyword">if</span> (_message != <span class="hljs-string">''</span>)
        {
            <span class="hljs-keyword">var</span> l = Ti.UI.createLabel ({
                top: <span class="hljs-number">8</span>,
                left: <span class="hljs-number">0</span>,
                right: <span class="hljs-number">0</span>,
                textAlign: <span class="hljs-string">'center'</span>,
                color: <span class="hljs-string">'#fff'</span>,
                font: font,
                text: _message
            });

            wrapper.add (l);
        }

        background.add (wrapper);
    }
}

AIPopup.setDefaultMessage = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">msg</span>)
</span>{
    _default_message = msg;
};

<span class="hljs-built_in">module</span>.exports = AIPopup;
</code></pre><p>example app.js:</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> AIPopup = <span class="hljs-built_in">require</span> (<span class="hljs-string">'/AIPopup'</span>);
AIPopup.setDefaultMessage (<span class="hljs-string">'Keep Calm and Titan On'</span>);

<span class="hljs-keyword">var</span> win = Ti.UI.createWindow({
    backgroundColor: <span class="hljs-string">'#fff'</span>
});

<span class="hljs-keyword">var</span> l = Ti.UI.createLabel ({
    color: <span class="hljs-string">'#000'</span>,
    text: <span class="hljs-string">'Hello, World'</span>
});

win.add (l);

win.open();

<span class="hljs-keyword">var</span> ai = <span class="hljs-keyword">new</span> AIPopup ();

win.add (ai);

setTimeout (<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
    win.remove (ai);
}, <span class="hljs-number">5000</span>);
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="December 17th 2014, 6:25:12 pm">December 17th 2014</span>
								by <span class='authorname'>Jason Priebe</span><br>
								<a class="icon-bg icon-link" href="question/179711/activity-indicator-in-titanium-not-working#answer-284591" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Hi Jason Priebe,</p>
<p>Thanks for your replay.</p>
<p>It is working for me with out  <strong>borderRadius</strong> porperty of background View for android.</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 18th 2014, 7:14:49 am">December 18th 2014</span>
											by <span class='authorname'>Chanakya Puramshetty</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
