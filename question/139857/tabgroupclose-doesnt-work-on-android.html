<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>tabGroup.close() doesnt work on Android » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>tabGroup.close() doesnt work on Android</h1>
		</header>
		<section>
			<p>tabGroup.close() doesnt work on Android, please suggest alternate solution as my application is shutting down after showing black screen. However I am calling new Window to open as before tabGroup.close() is called, But Application is throwing exception as follow.</p>
<p>355)] jsValueToJavaObject returning null<br>[ERROR]TiBaseActivity( 355) [8679,42904] Layout cleanup.<br>[WARN][InputManagerService( 61)] Starting input on non-focused client com.android.internal.view.IInputMethodClient$Stub$Proxy@44f5a660 (uid=10040 pid=355)</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="July 18th 2012, 11:38:29 am">July 18th 2012</span>
				by <span class='authorname'>Umaid Saleem</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>appcelerator</span></li>
					
						<li><span class='tagname'>javascript</span></li>
					
						<li><span class='tagname'>titanium studio</span></li>
					
				</ul>
			

			<section>
				<h5>1 Comment</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>I want to completely remove tabGroup on Toggle button</p>
<pre><code class="hljs">
<span class="hljs-transposed_variable">button.</span>addEventListener(<span class="hljs-string">"click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span>{</span>

    <span class="hljs-transposed_variable">window.</span>open();  <span class="hljs-comment">// Another window open</span>

    <span class="hljs-transposed_variable">tabGroup.</span>close();

})
</code></pre><p>Application is closing after showing black screen, although it shows Window.open() for some interval of second.</p>
<p>I am succeded in hidding tabGroup but this is not solution for removing TabGroup completely</p>
<pre><code class="hljs">
<span class="hljs-component">button.addEventListener("click', function(e){

        window<span class="hljs-string">.open()</span>;
                //tabGroup<span class="hljs-string">.close()</span>;

                tabGroup<span class="hljs-string">.removeTab(tab1)</span>;
                tabGroup<span class="hljs-string">.removeTab(tab2)</span>;
                tabGroup<span class="hljs-string">.removeTab(tab3)</span>;
                tabGroup<span class="hljs-string">.removeTab(tab4)</span>;
                tabGroup<span class="hljs-string">.removeTab(tab5)</span>;

                if (tabGroup<span class="hljs-string">.tabBarVisible</span> == true) {
                    tabGroup<span class="hljs-string">.animate({top:-60</span>,duration:50}</span>);
                    tabGroup.tabBarVisible = false;
                }

})
</code></pre><p>So please suggest how to remove tabgroup without quitting the application and move to one view back as in iphone tabGroup.close() is working absolutely fine but problem with Android :(</p>
</div>
							<div class="author">
								&mdash; commented <span title="July 18th 2012, 12:25:49 pm">July 18th 2012</span>
								by <span class='authorname'>Umaid Saleem</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-243369">
				
						<section>
							<p>From the docs:</p>
<p><em>On Android, only one tab group may exist at one time. A tab group may<br>be closed to allow a new one to be opened later, but the root of the application<br>must be a heavyweight window to prevent it exiting. Tabs cannot be removed<br>from the tab group once added, and tabs cannot be reordered.</em></p>
<p><em>On iOS, more than one tab group may exist, and the may be opened and closed as required. Each tab can contain a stack of windows, and the user can switch between them by tapping the tab&#39;s associated control. Tabs can be removed, and the user may (optionally) be allowed to reorder tabs.</em></p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="July 18th 2012, 3:01:47 pm">July 18th 2012</span>
								by <span class='authorname'>Jason Priebe</span><br>
								<a class="icon-bg icon-link" href="question/139857/tabgroupclose-doesnt-work-on-android#answer-243369" rel="permalink">permalink</a>
							</div>

							<h5>5 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Ok, I understand the explanatory note from doc, anyways can I remove tabs from tabGroup and re-add them immediately by calling my custom EventListener. As I am </p>
<pre><code class="hljs"><span class="hljs-transposed_variable">button.</span>addEventListener(<span class="hljs-string">"click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span>{</span>

            <span class="hljs-transposed_variable">win1.</span>close();  <span class="hljs-comment">// it is added in tab1 which is going to remove as below</span>
                <span class="hljs-comment">//tabGroup.close();</span>

                <span class="hljs-transposed_variable">tabGroup.</span>removeTab(tab1);
                <span class="hljs-transposed_variable">tabGroup.</span>removeTab(tab2);
                <span class="hljs-transposed_variable">tabGroup.</span>removeTab(tab3);
                <span class="hljs-transposed_variable">tabGroup.</span>removeTab(tab4);
                <span class="hljs-transposed_variable">tabGroup.</span>removeTab(tab5);

        OpenNewTabs();
});

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">OpenNewTabs</span><span class="hljs-params">()</span></span>
{
    var win1 = <span class="hljs-transposed_variable">Ti.</span><span class="hljs-transposed_variable">UI.</span>createWindow({
            width:<span class="hljs-number">320</span>,
            height:<span class="hljs-number">480</span>,
            top:<span class="hljs-number">0</span>,
            left:<span class="hljs-number">0</span>,
            backgroundImage: <span class="hljs-string">'images/bkg-complete.png'</span>,
            <span class="hljs-comment">//title: 'New1',</span>
            barImage: <span class="hljs-string">'images/bkg-header.png'</span>,
            url:<span class="hljs-string">'ui/home_ar.js'</span>,
            exitOnClose:true
        });

        <span class="hljs-transposed_variable">win1.</span>orientationModes = <span class="hljs-matrix">[
            Titanium.UI.PORTRAIT,
            Titanium.UI.UPSIDE_PORTRAIT,
        ]</span>;

        var tab1 = <span class="hljs-transposed_variable">Ti.</span><span class="hljs-transposed_variable">UI.</span>createTab({
            icon:<span class="hljs-string">'images/home_30.png'</span>,
            <span class="hljs-comment">//title:'New1',</span>
            window: win1
        });

        var win2 = <span class="hljs-transposed_variable">Ti.</span><span class="hljs-transposed_variable">UI.</span>createWindow({
            width:<span class="hljs-number">320</span>,
            height:<span class="hljs-number">480</span>,
            top:<span class="hljs-number">0</span>,
            left:<span class="hljs-number">0</span>,
            backgroundImage: <span class="hljs-string">'images/bkg-complete.png'</span>,
            title: <span class="hljs-string">'New2'</span>,
            barImage: <span class="hljs-string">'images/bkg-header.png'</span>,
            url:<span class="hljs-string">'ui/home_ar.js'</span>,
            exitOnClose:true
        });

        <span class="hljs-transposed_variable">win2.</span>orientationModes = <span class="hljs-matrix">[
            Titanium.UI.PORTRAIT,
            Titanium.UI.UPSIDE_PORTRAIT,
        ]</span>;

        var tab2 = <span class="hljs-transposed_variable">Ti.</span><span class="hljs-transposed_variable">UI.</span>createTab({
            icon:<span class="hljs-string">'images/home_30.png'</span>,
            title:<span class="hljs-string">'New2'</span>,
            window: win2
        });

        var win3 = <span class="hljs-transposed_variable">Ti.</span><span class="hljs-transposed_variable">UI.</span>createWindow({
            width:<span class="hljs-number">320</span>,
            height:<span class="hljs-number">480</span>,
            top:<span class="hljs-number">0</span>,
            left:<span class="hljs-number">0</span>,
            backgroundImage: <span class="hljs-string">'images/bkg-complete.png'</span>,
            title: <span class="hljs-transposed_variable">New3'</span>,
            barImage: <span class="hljs-string">'images/bkg-header.png'</span>,
            url:<span class="hljs-string">'ui/home_ar.js'</span>,
            exitOnClose:true
        });

        <span class="hljs-transposed_variable">win3.</span>orientationModes = <span class="hljs-matrix">[
            Titanium.UI.PORTRAIT,
            Titanium.UI.UPSIDE_PORTRAIT,
        ]</span>;

        var tab3 = <span class="hljs-transposed_variable">Ti.</span><span class="hljs-transposed_variable">UI.</span>createTab({
            icon:<span class="hljs-string">'images/home_30.png'</span>,
            title:<span class="hljs-string">'New3'</span>,
            window: win3
        });


        var win4 = <span class="hljs-transposed_variable">Ti.</span><span class="hljs-transposed_variable">UI.</span>createWindow({
            width:<span class="hljs-number">320</span>,
            height:<span class="hljs-number">480</span>,
            top:<span class="hljs-number">0</span>,
            left:<span class="hljs-number">0</span>,
            backgroundImage: <span class="hljs-string">'images/bkg-complete.png'</span>,
            title: <span class="hljs-string">'New4'</span>,
            barImage: <span class="hljs-string">'images/bkg-header.png'</span>,
            url:<span class="hljs-string">'ui/home_ar.js'</span>,
            exitOnClose:true
        });

        <span class="hljs-transposed_variable">win4.</span>orientationModes = <span class="hljs-matrix">[
            Titanium.UI.PORTRAIT,
            Titanium.UI.UPSIDE_PORTRAIT,
        ]</span>;

        var tab4 = <span class="hljs-transposed_variable">Ti.</span><span class="hljs-transposed_variable">UI.</span>createTab({
            icon:<span class="hljs-string">'images/home_30.png'</span>,
            title:<span class="hljs-string">'New5'</span>,
            window: win4
        });

        var win5 = <span class="hljs-transposed_variable">Ti.</span><span class="hljs-transposed_variable">UI.</span>createWindow({
            width:<span class="hljs-number">320</span>,
            height:<span class="hljs-number">480</span>,
            top:<span class="hljs-number">0</span>,
            left:<span class="hljs-number">0</span>,
            backgroundImage: <span class="hljs-string">'images/bkg-complete.png'</span>,
            title: <span class="hljs-string">'New5'</span>,
            barImage: <span class="hljs-string">'images/bkg-header.png'</span>,
            url:<span class="hljs-string">'ui/home_ar.js'</span>,
            exitOnClose:true
        });

        <span class="hljs-transposed_variable">win5.</span>orientationModes = <span class="hljs-matrix">[
            Titanium.UI.PORTRAIT,
            Titanium.UI.UPSIDE_PORTRAIT,
        ]</span>;

        var tab5 = <span class="hljs-transposed_variable">Ti.</span><span class="hljs-transposed_variable">UI.</span>createTab({
            icon:<span class="hljs-string">'images/home_30.png'</span>,
            title:<span class="hljs-string">'New5'</span>,
            window: win5
        });

        <span class="hljs-transposed_variable">tabGroup.</span>addTab(tab5);
        <span class="hljs-transposed_variable">tabGroup.</span>addTab(tab4);
        <span class="hljs-transposed_variable">tabGroup.</span>addTab(tab3);
        <span class="hljs-transposed_variable">tabGroup.</span>addTab(tab2);
        <span class="hljs-transposed_variable">tabGroup.</span>addTab(tab1);

        <span class="hljs-transposed_variable">tabGroup.</span>setActiveTab(<span class="hljs-number">4</span>);
}
</code></pre><p>Although tabs are properly being added but previous tabs arent removing from the screen, can you please suggest me a good solution for adding and removing tabs.</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 19th 2012, 5:05:53 am">July 19th 2012</span>
											by <span class='authorname'>Umaid Saleem</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I don&#39;t know how much clearer I can make this – the docs state pretty directly that you cannot remove tabs from a TabGroup on android.</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 19th 2012, 11:13:40 am">July 19th 2012</span>
											by <span class='authorname'>Jason Priebe</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I understand your concern. So please suggest me workaround for this, as how to re-add them in Android with new windows and closing all previous window. And how to resolve these kind of limitations, please suggest.</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 19th 2012, 1:12:28 pm">July 19th 2012</span>
											by <span class='authorname'>Umaid Saleem</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Here&#39;s an idea:  forget Ti.UI.TabGroup and make your own user interface that looks similar to a tab group – you could use Button objects or ImageView objects instead.  You&#39;ll have to do more work (possibly a lot more work) to manage the state of the UI, but you&#39;ll have ultimate control over the &quot;tabs&quot;.</p>
<p>You might be able to use one of the many tabbed UI modules available in the marketplace.  Just make sure the one you want to use supports both iOS and android (many are iOS only), and if it&#39;s implemented in javascript, make sure it adheres to current Titanium coding standards of CommonJS modules.</p>
<p>Good luck!</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 19th 2012, 2:33:12 pm">July 19th 2012</span>
											by <span class='authorname'>Jason Priebe</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>No I cant adopt this solution for now, as I have very less time to launch and only this issue is remaining as iphone application is ready for uploading now. So please suggest me using Ti.UI.TabGroup only</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 20th 2012, 8:16:47 am">July 20th 2012</span>
											by <span class='authorname'>Umaid Saleem</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-243486">
				
						<section>
							<p>I think we&#39;re beyond the point where I can give you any help.  You&#39;re trying to brute force a solution that will not work on android.</p>
<p>This won&#39;t help you much at this point, but maybe it will help others who are just getting started.  If you want to build a cross-platform application, <strong>DO NOT</strong> fall into the trap of just testing on the iOS simulator, even though that&#39;s the fastest tool we have available.  <strong>DO</strong> test at least once per day on all target platforms.  Every time you try adding a new view to your application, test on all target platforms.  Every time you try handling new events, test on all target platforms.</p>
<p>There are so many differences between the platforms that you need to catch any issues as they arise.  Trying to deal with an entire app&#39;s worth of inconsistencies would be painful at best, impossible at worst.  In this case, Umaid has built his app&#39;s entire structure around a concept that does not work on android, which will ultimately force him to do some heavy restructuring (or give up on android).</p>
<p>Believe me, it is possible to write an app that runs well on both iOS and android.  But you have to commit to both platforms from the beginning of your project.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="July 20th 2012, 9:15:23 am">July 20th 2012</span>
								by <span class='authorname'>Jason Priebe</span><br>
								<a class="icon-bg icon-link" href="question/139857/tabgroupclose-doesnt-work-on-android#answer-243486" rel="permalink">permalink</a>
							</div>

							<h5>3 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>I can&#39;t say much now, only looking to write a custom wrapper :(, rather doing removing TabGroup for Android, but any help in the regard will be much appreciated from anyone.</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 20th 2012, 9:22:40 am">July 20th 2012</span>
											by <span class='authorname'>Umaid Saleem</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>how to close Tab in andrdoi and open new window..?</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 26th 2012, 5:33:29 am">November 26th 2012</span>
											by <span class='authorname'>Jayesh  Joshi</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Jay: Please start a new question rather than adding a question as a comment to a 5-month-old thread.  Respond to this comment with the new question URL so I can see it when you create it.</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 26th 2012, 12:51:40 pm">November 26th 2012</span>
											by <span class='authorname'>Jason Priebe</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
