<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Empty a Window » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Empty a Window</h1>
		</header>
		<section>
			<p>Hi, </p>
<p>I have a window that contains six buttons, each button has a Click event that fills a window named products, this six products are displayed depending on the button pressed.<br>My problem is that when I return to the window of the six main buttons and  click another button displayed last six products plus six new products.<br>How I can avoid that? I used win.remove or win.close and keeps everything seen, window not is cleaned.</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="October 11th 2012, 7:24:54 pm">October 11th 2012</span>
				by <span class='authorname'>Juan Segura</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>clean</span></li>
					
						<li><span class='tagname'>close</span></li>
					
						<li><span class='tagname'>remove</span></li>
					
						<li><span class='tagname'>window</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>3</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>3 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-249128">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>As long as you&#39;re closing the product window and opening a new one each time, then you shouldn&#39;t have any issues.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="October 11th 2012, 8:35:29 pm">October 11th 2012</span>
								by <span class='authorname'>Anthony Decena</span><br>
								<a class="icon-bg icon-link" href="question/143396/empty-a-window#answer-249128" rel="permalink">permalink</a>
							</div>

							<h5>5 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>yes, I have no problem, but when I re-enter the previous one it cleans the product</p>
</p>
										<div class="author">
											&mdash; commented <span title="October 11th 2012, 8:45:49 pm">October 11th 2012</span>
											by <span class='authorname'>Juan Segura</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>doesn&#39;t cleans…</p>
</p>
										<div class="author">
											&mdash; commented <span title="October 11th 2012, 8:47:25 pm">October 11th 2012</span>
											by <span class='authorname'>Juan Segura</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>You shouldn&#39;t have to clean, it should be a brand new, fresh, unbuilt, unused, unconstructed window.</p>
</p>
										<div class="author">
											&mdash; commented <span title="October 11th 2012, 8:50:02 pm">October 11th 2012</span>
											by <span class='authorname'>Anthony Decena</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>how I do it?… if the window have dinamic information, and it its created dinamically from database information…</p>
</p>
										<div class="author">
											&mdash; commented <span title="October 11th 2012, 8:57:34 pm">October 11th 2012</span>
											by <span class='authorname'>Juan Segura</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Here is a small example of how you SHOULD (best practices) be doing this:</p>
<p>app.js:</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> win = Ti.UI.createWindow({
    backgroundColor:<span class="hljs-string">'#fff'</span>,
    layout:<span class="hljs-string">'vertical'</span>
});

<span class="hljs-keyword">var</span> ProductWindow = <span class="hljs-built_in">require</span>(<span class="hljs-string">'ProductWindow'</span>),
    prodWin;

<span class="hljs-keyword">var</span> btnWin = Ti.UI.createButton({
    title:<span class="hljs-string">'Windows OS'</span>,
    top:<span class="hljs-number">20</span>
});
btnWin.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    prodWin = <span class="hljs-keyword">new</span> ProductWindow([<span class="hljs-string">'Windows XP'</span>, <span class="hljs-string">'Windows Vista'</span>, <span class="hljs-string">'Windows 7'</span>, <span class="hljs-string">'Windows 8'</span>]);
    prodWin.open();
});
win.add(btnWin);

<span class="hljs-keyword">var</span> btnMac = Ti.UI.createButton({
    title:<span class="hljs-string">'Mac OS'</span>,
    top:<span class="hljs-number">20</span>
});
btnMac.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    prodWin = <span class="hljs-keyword">new</span> ProductWindow([<span class="hljs-string">'Leopard'</span>, <span class="hljs-string">'Snow Leopard'</span>, <span class="hljs-string">'Lion'</span>, <span class="hljs-string">'Mountain Lion'</span>]);
    prodWin.open();
});
win.add(btnMac);

<span class="hljs-keyword">var</span> btnLinux = Ti.UI.createButton({
    title:<span class="hljs-string">'Linux OS'</span>,
    top:<span class="hljs-number">20</span>
});
btnLinux.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    prodWin = <span class="hljs-keyword">new</span> ProductWindow([<span class="hljs-string">'Gentoo'</span>, <span class="hljs-string">'Ubuntu'</span>, <span class="hljs-string">'Knoppix'</span>, <span class="hljs-string">'Debian'</span>]);
    prodWin.open();    
});
win.add(btnLinux);
win.open();
</code></pre><p>ProductWindow.js</p>
<pre><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ProductWindow</span><span class="hljs-params">(_args)</span> </span>{
    <span class="hljs-keyword">var</span> <span class="hljs-keyword">self</span> = Ti.UI.createWindow({
        backgroundColor:<span class="hljs-string">'#fff'</span>,
        layout:<span class="hljs-string">'vertical'</span>
    });

    <span class="hljs-keyword">var</span> closeBtn = Ti.UI.createButton({
        title:<span class="hljs-string">'Close Product Window'</span>,
        top:<span class="hljs-number">20</span>
    });
    closeBtn.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">self</span>.close();
    });
    <span class="hljs-keyword">self</span>.add(closeBtn);

    <span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>,
        len = _args.length,
        prod, label;
    <span class="hljs-keyword">for</span> ( ; i &lt; len; i++) {
        prod = _args[i];
        label = Ti.UI.createLabel({
            text:prod,
            top:<span class="hljs-number">20</span>
        });
        <span class="hljs-keyword">self</span>.add(label);
    }

    <span class="hljs-keyword">return</span> <span class="hljs-keyword">self</span>;
}
module.exports = ProductWindow;
</code></pre><p>In this example I pass in the products to display on the page, but if you were using a database, you would pass in maybe the category id or some other identifier to query the db for.</p>
</p>
										<div class="author">
											&mdash; commented <span title="October 11th 2012, 9:38:40 pm">October 11th 2012</span>
											by <span class='authorname'>Anthony Decena</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-249126">
				
						<section>
							<p>Are u using commonJS? that can help you. Sometimes when some object is linked in the global scope, the garbage collector cant take those resources and they stay alive… check memory leak docs and videos for that.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="October 11th 2012, 7:52:25 pm">October 11th 2012</span>
								by <span class='authorname'>Majid Mazinani</span><br>
								<a class="icon-bg icon-link" href="question/143396/empty-a-window#answer-249126" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Yes, I use CommonJS</p>
</p>
										<div class="author">
											&mdash; commented <span title="October 11th 2012, 8:02:59 pm">October 11th 2012</span>
											by <span class='authorname'>Juan Segura</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-249131">
				
						<section>
							<pre><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">removeChildrens</span><span class="hljs-params">(objeto)</span> </span>{
    <span class="hljs-keyword">for</span> (i <span class="hljs-keyword">in</span> objeto.children) {
        <span class="hljs-keyword">var</span> child=objeto.children[<span class="hljs-number">0</span>];
        removeChildrens(child);
        objeto.remove(child);
        child=<span class="hljs-literal">null</span>;
    }
}
</code></pre><p>fix it</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="October 11th 2012, 9:18:42 pm">October 11th 2012</span>
								by <span class='authorname'>Juan Segura</span><br>
								<a class="icon-bg icon-link" href="question/143396/empty-a-window#answer-249131" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>If you are using commonjs properly as you say, this should not be necessary. The problem with this is if you reference one of those child elements outside of this scope, even though the child is removed, the reference will remain in memory, along with any children of that reference. Use with caution.</p>
</p>
										<div class="author">
											&mdash; commented <span title="October 11th 2012, 9:40:57 pm">October 11th 2012</span>
											by <span class='authorname'>Anthony Decena</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
