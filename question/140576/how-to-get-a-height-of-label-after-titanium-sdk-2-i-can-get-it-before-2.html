<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>How to get a height of Label after Titanium SDK 2? (I can get it before 2) » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>How to get a height of Label after Titanium SDK 2? (I can get it before 2)</h1>
		</header>
		<section>
			<p>(i confirms these examples by iOS simulator)</p>
<p>when I use Titanium SDK 1.8.3, i can get a height of Label by the following code.</p>
<pre><code class="hljs">var label = Ti.UI.createLabel({<span class="hljs-built_in">text</span>: <span class="hljs-string">'fooooo barrrrrr buzzzzzzzz'</span>, <span class="hljs-variable">width</span>: <span class="hljs-number">110</span>, <span class="hljs-variable">height</span>: <span class="hljs-string">'auto'</span>, font: {fontSize: <span class="hljs-number">20</span>}});
win1.<span class="hljs-built_in">add</span>(label);
Ti.API.info(label.<span class="hljs-variable">height</span>); <span class="hljs-comment">// 72, OK</span>
Ti.API.info(label.toImage().<span class="hljs-variable">height</span>); <span class="hljs-comment">// 72, OK</span>
</code></pre><p>but, after 2, i can&#39;t get it. i tried the following code on 2.0.2 GA, 2.1.0 GA, 2.1.1 GA and it didn&#39;t work.</p>
<pre><code class="hljs">var label = Ti.UI.createLabel({<span class="hljs-built_in">text</span>: <span class="hljs-string">'fooooo barrrrrr buzzzzzzzz'</span>, <span class="hljs-variable">width</span>: <span class="hljs-number">110</span>, <span class="hljs-variable">height</span>: <span class="hljs-string">'auto'</span>, font: {fontSize: <span class="hljs-number">20</span>}});
win1.<span class="hljs-built_in">add</span>(label);
Ti.API.info(label.<span class="hljs-variable">height</span>); <span class="hljs-comment">// 'auto'</span>
Ti.API.info(label.toImage().<span class="hljs-variable">height</span>); <span class="hljs-comment">// 24 ... it maybe a height of only one line</span>
label.addEventListener(<span class="hljs-string">'postlayout'</span>, function(e) { <span class="hljs-comment">// not called ...</span>
  Ti.API.info(e.source.<span class="hljs-built_in">rect</span>.<span class="hljs-variable">height</span>);
});
</code></pre><p>how can i do that? thanks in advance.</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="August 5th 2012, 3:05:00 pm">August 5th 2012</span>
				by <span class='authorname'>Takumi Tsunokake</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>height</span></li>
					
						<li><span class='tagname'>ios</span></li>
					
						<li><span class='tagname'>label</span></li>
					
				</ul>
			

			<section>
				<h5>3 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>i referred this page to code.<br>http:&#x2F;&#x2F;developer.appcelerator.com&#x2F;question&#x2F;139552&#x2F;how-to-get-label-height-</p>
</div>
							<div class="author">
								&mdash; commented <span title="August 5th 2012, 3:06:31 pm">August 5th 2012</span>
								by <span class='authorname'>Takumi Tsunokake</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>EDIT 2: after 2, i also tried to change the height argument of label, e.g. &#39;auto&#39;, Ti.UI.SIZE, Ti.UI.FULL, but i can&#39;t get it</p>
</div>
							<div class="author">
								&mdash; commented <span title="August 5th 2012, 3:10:21 pm">August 5th 2012</span>
								by <span class='authorname'>Takumi Tsunokake</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>EDIT 3: i really want to do is that &quot;for example, i&#39;d like to create a TableViewRow which has two flexible-height labels. so i have to adjust a height of TableViewRow depending on these labels. i tried to code as follows, but it didn&#39;t go well.&quot;</p>
</div>
							<div class="author">
								&mdash; commented <span title="August 6th 2012, 7:31:22 am">August 6th 2012</span>
								by <span class='authorname'>Takumi Tsunokake</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>1</span> Vote</div>
			<div class="answers"><span>4</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>4 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-244558">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>Hi Takumi</p>
<p>This code will create a new row, with a title and an optional subtitle, both can be whatever length of text you like and they will automatically size themselves as required within the row - which will also automatically resize itself to fit the contents.</p>
<p>You would need to tweak it to suit your visual needs, but functionally it does everything you want without ANY need to calculate ANY dimensions manually.</p>
<p>Fully tested on iOS and Android, plus I have made it as a function that you can call as option as you like in a loop.</p>
<pre><code class="hljs">function addRow(obj) {  
    Ti.API.info(<span class="hljs-string">'title'</span>, obj.title);
    Ti.API.info(<span class="hljs-string">'subtitle'</span>, obj.subtitle);
    var row = Ti.UI.createTableViewRow({
        <span class="hljs-variable">height</span>: Ti.UI.SIZE,
        backgroundColor: <span class="hljs-string">'#fff'</span>,
        <span class="hljs-variable">width</span>: Ti.UI.FILL
    });
    var viewParent = Ti.UI.createView({
        bottom: <span class="hljs-number">10</span>, <span class="hljs-comment">// use as margin from the row edges</span>
        <span class="hljs-variable">height</span>: Ti.UI.SIZE,
        layout: <span class="hljs-string">'vertical'</span>,
        left: <span class="hljs-number">10</span>, <span class="hljs-comment">// use as margin from the row edges</span>
        right: <span class="hljs-number">10</span>, <span class="hljs-comment">// use as margin from the row edges</span>
        top: <span class="hljs-number">10</span>, <span class="hljs-comment">// use as margin from the row edges</span>
        <span class="hljs-variable">width</span>: Ti.UI.FILL    
    });
    row.<span class="hljs-built_in">add</span>(viewParent);
    var lblTitle = Ti.UI.createLabel({
        font: {
            fontSize: <span class="hljs-number">20</span>
        },
        <span class="hljs-variable">height</span>: Ti.UI.SIZE,
        left: <span class="hljs-number">0</span>,
        <span class="hljs-built_in">text</span>: (obj.title || <span class="hljs-string">''</span>),
        <span class="hljs-variable">width</span>: Ti.UI.SIZE
    });
    viewParent.<span class="hljs-built_in">add</span>(lblTitle);
    <span class="hljs-keyword">if</span> (obj.subtitle) {
        var lblSubTitle = Ti.UI.createLabel({
            <span class="hljs-built_in">color</span>: <span class="hljs-string">'#666'</span>, <span class="hljs-comment">// used for contrast only</span>
            font: {
                fontSize: <span class="hljs-number">20</span>
            },
            <span class="hljs-variable">height</span>: Ti.UI.SIZE,
            left: <span class="hljs-number">0</span>,
            <span class="hljs-built_in">text</span>: (obj.subtitle || <span class="hljs-string">''</span>),
            top: <span class="hljs-number">10</span>, <span class="hljs-comment">// this will place 10 pixels between the title and the subtitle - adjust to suit your needs</span>
            <span class="hljs-variable">width</span>: Ti.UI.SIZE
        });
        viewParent.<span class="hljs-built_in">add</span>(lblSubTitle);
    }
    <span class="hljs-keyword">return</span> row;
}

var data = [];

data.push(addRow({
    title: <span class="hljs-string">'Title 1'</span>,
    subtitle: <span class="hljs-string">'Sub-title 1'</span>
}));
data.push(addRow({
    title: <span class="hljs-string">'Title 2'</span>
}));
data.push(addRow({
    title: <span class="hljs-string">'Title 3'</span>,
    subtitle: <span class="hljs-string">'Sub-title 3 is really long and with any luck will jump across more than one line within the row.'</span>
}));

var tbl = Ti.UI.createTableView({
    <span class="hljs-variable">height</span>: Ti.UI.FILL,
    data: data,
    <span class="hljs-variable">width</span>: Ti.UI.FILL
});

win.<span class="hljs-built_in">add</span>(tbl);
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 6th 2012, 7:16:43 am">August 6th 2012</span>
								by <span class='authorname'>Malcolm Hollingsworth</span><br>
								<a class="icon-bg icon-link" href="question/140576/how-to-get-a-height-of-label-after-titanium-sdk-2-i-can-get-it-before-2#answer-244558" rel="permalink">permalink</a>
							</div>

							<h5>4 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>woooow! you&#39;re amazing! it really goes well. thanks ;)<br>i&#39;ll read your code line by line from now.</p>
<p>cheers,</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 6th 2012, 7:29:34 am">August 6th 2012</span>
											by <span class='authorname'>Takumi Tsunokake</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>we did not exactly used this code. but we got an idea thanks to this.</p>
<p>Thank you and more power! :)</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 30th 2013, 8:32:27 am">July 30th 2013</span>
											by <span class='authorname'>Mark Tangpus</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Thank you for this great working example! The only thing I noticed is that to have two labels (or in my case a label top-right, and a picture icon top-left in each row), I needed to set the &quot;top&quot; property of the second item I added with a negative top number - to move it back up parallel to the top of the first. Seems to work fine but does anyone know if that&#39;s supported?<br>Otherwise - great example - thanks!</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 18th 2013, 5:02:11 pm">August 18th 2013</span>
											by <span class='authorname'>Tom Gimpel</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I appreciate your appreciation @Tom, start a new question with this comment as the basis, let me know if you are wanting;</p>
<ul>
<li>Side by Side, centred vertically <em>or</em></li>
<li>Side by Side, label aligned to the top of the image&#x2F;icon, with room for more than one line</li>
<li>Is the image&#x2F;icon optional and if so does the label then move left into the now unused space?</li>
</ul>
<p>The reason for the new question; newbie rarely search this far back, so fresh questions on common issues are always good</p>
<p>I will keep and eye out for it.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 18th 2013, 5:13:04 pm">August 18th 2013</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>3</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-244507">
				
						<section>
							<p>Hi Takumi</p>
<p>This has actually become much easier and much more efficient of resources.</p>
<p>Use the new function <code>getRect()</code>.  For example;</p>
<pre><code class="hljs"><span class="hljs-tag">Ti</span><span class="hljs-class">.API</span><span class="hljs-class">.info</span>(<span class="hljs-tag">label</span><span class="hljs-class">.getRect</span>()<span class="hljs-class">.height</span>);
</code></pre><p>See this <a href="http:&#x2F;&#x2F;docs.appcelerator.com&#x2F;titanium&#x2F;2.0&#x2F;#!&#x2F;api&#x2F;Titanium.UI.Label-method-getRect">documentation</a></p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 5th 2012, 3:11:41 pm">August 5th 2012</span>
								by <span class='authorname'>Malcolm Hollingsworth</span><br>
								<a class="icon-bg icon-link" href="question/140576/how-to-get-a-height-of-label-after-titanium-sdk-2-i-can-get-it-before-2#answer-244507" rel="permalink">permalink</a>
							</div>

							<h5>4 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>It wont work until the layout is finished. This is also documented in your link, to quote </p>
<p><code>The correct values will only be available when layout is complete.</code></p>
</p>
										<div class="author">
											&mdash; commented <span title="August 5th 2012, 3:16:53 pm">August 5th 2012</span>
											by <span class='authorname'>Alexander Bauer</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Wow you jumped in quick with a minus one, I was just adding to this.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 5th 2012, 3:19:25 pm">August 5th 2012</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Sorry for that but you should put it in your answer, instead of after-commenting it.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 5th 2012, 3:21:22 pm">August 5th 2012</span>
											by <span class='authorname'>Alexander Bauer</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>The results of <code>getRect()</code> and its close friend <code>getSize()</code> are only available once the view has finished rendering.</p>
<p>The event <code>postlayout</code> should be used.</p>
<p>That said, careful creation using these correctly;</p>
<pre><code class="hljs">Ti<span class="hljs-class">.UI</span><span class="hljs-class">.SIZE</span>
Ti<span class="hljs-class">.UI</span><span class="hljs-class">.FILL</span>
layout: <span class="hljs-string">'vertical'</span>
layout: <span class="hljs-string">'horizontal'</span>
</code></pre><p>renders most of the need to determine heights irrelevant if you are using them to work out positions against others items.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 5th 2012, 3:23:12 pm">August 5th 2012</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-244508">
				
						<section>
							<pre><code class="hljs">label.addEventListener(<span class="hljs-string">'postlayout'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span> </span>{ <span class="hljs-comment">// not called ...</span>
  Ti.API.info(e.source.rect.height);
});
</code></pre><p>Is the correct one, you need to remove <code>toImage()</code> or call it after postlayout.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 5th 2012, 3:14:00 pm">August 5th 2012</span>
								by <span class='authorname'>Alexander Bauer</span><br>
								<a class="icon-bg icon-link" href="question/140576/how-to-get-a-height-of-label-after-titanium-sdk-2-i-can-get-it-before-2#answer-244508" rel="permalink">permalink</a>
							</div>

							<h5>7 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>hi Alexander,</p>
<p>thanks for your comment ;)</p>
<p>i tried it, then,</p>
<pre><code class="hljs">var label = Ti.UI.createLabel({<span class="hljs-built_in">text</span>: <span class="hljs-string">'fooooo barrrrrr buzzzzzzzz'</span>, <span class="hljs-variable">width</span>: <span class="hljs-number">110</span>, <span class="hljs-variable">height</span>: <span class="hljs-string">'auto'</span>, font: {fontSize: <span class="hljs-number">20</span>}});
win1.<span class="hljs-built_in">add</span>(label);
label.addEventListener(<span class="hljs-string">'postlayout'</span>, function(e) {
  Ti.API.info(e.source.<span class="hljs-built_in">rect</span>.<span class="hljs-variable">height</span>); <span class="hljs-comment">// 0, NG</span>
});
</code></pre><pre><code class="hljs">var label = Ti.UI.createLabel({<span class="hljs-string">text:</span> <span class="hljs-string">'fooooo barrrrrr buzzzzzzzz'</span>, <span class="hljs-string">width:</span> <span class="hljs-number">110</span>, <span class="hljs-string">height:</span> <span class="hljs-string">'auto'</span>, <span class="hljs-string">font:</span> {<span class="hljs-string">fontSize:</span> <span class="hljs-number">20</span>}});
win1.add(label);
label.addEventListener(<span class="hljs-string">'postlayout'</span>, function(e) {
  Ti.API.info(e.source.getRect().height); <span class="hljs-comment">// 0, NG</span>
});
</code></pre><pre><code class="hljs">var label = Ti.UI.createLabel({<span class="hljs-string">text:</span> <span class="hljs-string">'fooooo barrrrrr buzzzzzzzz'</span>, <span class="hljs-string">width:</span> <span class="hljs-number">110</span>, <span class="hljs-string">height:</span> <span class="hljs-string">'auto'</span>, <span class="hljs-string">font:</span> {<span class="hljs-string">fontSize:</span> <span class="hljs-number">20</span>}});
win1.add(label);
label.addEventListener(<span class="hljs-string">'postlayout'</span>, function(e) {
  Ti.API.info(e.source.toImage().height); <span class="hljs-comment">// 72, OK</span>
});
</code></pre><p>i don&#39;t understand what it goes but getRect() and rect return correct height after toImage().</p>
<pre><code class="hljs">var label = Ti.UI.createLabel({<span class="hljs-built_in">text</span>: <span class="hljs-string">'fooooo barrrrrr buzzzzzzzz'</span>, <span class="hljs-variable">width</span>: <span class="hljs-number">110</span>, <span class="hljs-variable">height</span>: <span class="hljs-string">'auto'</span>, font: {fontSize: <span class="hljs-number">20</span>}});
win1.<span class="hljs-built_in">add</span>(label);
label.addEventListener(<span class="hljs-string">'postlayout'</span>, function(e) {
  Ti.API.info(e.source.toImage().<span class="hljs-variable">height</span>); <span class="hljs-comment">// 72, OK</span>
  Ti.API.info(e.source.getRect().<span class="hljs-variable">height</span>); <span class="hljs-comment">// 72, OK</span>
  Ti.API.info(e.source.<span class="hljs-built_in">rect</span>.<span class="hljs-variable">height</span>); <span class="hljs-comment">// 72, OK</span>
});
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="August 5th 2012, 3:33:18 pm">August 5th 2012</span>
											by <span class='authorname'>Takumi Tsunokake</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Well its because you add the label to the window and then you add the eventListener, so basically  the event is called <em>before</em> you even had a chance to add a listener to it.</p>
<p>You should always add the eventListener first and then add the element to a container such as a window.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 5th 2012, 3:35:43 pm">August 5th 2012</span>
											by <span class='authorname'>Alexander Bauer</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>the above result is 2.1.1 GA</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 5th 2012, 3:35:55 pm">August 5th 2012</span>
											by <span class='authorname'>Takumi Tsunokake</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>thanks for your advice ;) i tried to add the eventListener first, but results of rect and getRect() were 0 both. </p>
<pre><code class="hljs">var label = Ti.UI.createLabel({<span class="hljs-built_in">text</span>: <span class="hljs-string">'fooooo barrrrrr buzzzzzzzz'</span>, <span class="hljs-variable">width</span>: <span class="hljs-number">110</span>, <span class="hljs-variable">height</span>: <span class="hljs-string">'auto'</span>, font: {fontSize: <span class="hljs-number">20</span>}});
label.addEventListener(<span class="hljs-string">'postlayout'</span>, function(e) {
  Ti.API.info(e.source.<span class="hljs-built_in">rect</span>.<span class="hljs-variable">height</span>); <span class="hljs-comment">// 0</span>
});
win1.<span class="hljs-built_in">add</span>(label);
</code></pre><pre><code class="hljs">var label = Ti.UI.createLabel({<span class="hljs-string">text:</span> <span class="hljs-string">'fooooo barrrrrr buzzzzzzzz'</span>, <span class="hljs-string">width:</span> <span class="hljs-number">110</span>, <span class="hljs-string">height:</span> <span class="hljs-string">'auto'</span>, <span class="hljs-string">font:</span> {<span class="hljs-string">fontSize:</span> <span class="hljs-number">20</span>}});
label.addEventListener(<span class="hljs-string">'postlayout'</span>, function(e) {
  Ti.API.info(e.source.getRect().height); <span class="hljs-comment">// 0</span>
});
win1.add(label);
</code></pre><p>toImage() goes well,</p>
<pre><code class="hljs">var label = Ti.UI.createLabel({<span class="hljs-string">text:</span> <span class="hljs-string">'fooooo barrrrrr buzzzzzzzz'</span>, <span class="hljs-string">width:</span> <span class="hljs-number">110</span>, <span class="hljs-string">height:</span> <span class="hljs-string">'auto'</span>, <span class="hljs-string">font:</span> {<span class="hljs-string">fontSize:</span> <span class="hljs-number">20</span>}});
label.addEventListener(<span class="hljs-string">'postlayout'</span>, function(e) {
  Ti.API.info(e.source.toImage().height); <span class="hljs-comment">// 72</span>
});
win1.add(label);
</code></pre><p>umm…</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 5th 2012, 3:44:07 pm">August 5th 2012</span>
											by <span class='authorname'>Takumi Tsunokake</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>this works for me, you may need a clean rebuild<br>environment: SDK 2.1.2 &amp; iOS Simulator</p>
<pre><code class="hljs">var win1 = Ti.UI.createWindow();
var label = Ti.UI.createLabel({<span class="hljs-built_in">text</span>: <span class="hljs-string">'fooooo barrrrrr buzzzzzzzz'</span>, <span class="hljs-variable">width</span>: <span class="hljs-number">110</span>, <span class="hljs-variable">height</span>: <span class="hljs-string">'auto'</span>, font: {fontSize: <span class="hljs-number">20</span>}});
label.addEventListener(<span class="hljs-string">'postlayout'</span>, function(e) {
  Ti.API.info(e.source.<span class="hljs-built_in">rect</span>.<span class="hljs-variable">height</span>);
});
win1.<span class="hljs-built_in">add</span>(label);
win1.<span class="hljs-built_in">open</span>();
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="August 5th 2012, 3:47:16 pm">August 5th 2012</span>
											by <span class='authorname'>Alexander Bauer</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>i made a clean rebuild then the following code worked. thanks ;) my environment is SDK 2.1.1 GA &amp; iOS simulator</p>
<pre><code class="hljs">var win1 = Ti.UI.createWindow({backgroundColor: <span class="hljs-string">'white'</span>});
var label = Ti.UI.createLabel({<span class="hljs-built_in">text</span>: <span class="hljs-string">'fooooo barrrrrr buzzzzzzzz'</span>, <span class="hljs-variable">width</span>: <span class="hljs-number">110</span>, <span class="hljs-variable">height</span>: <span class="hljs-string">'auto'</span>, font: {fontSize: <span class="hljs-number">20</span>}});
label.addEventListener(<span class="hljs-string">'postlayout'</span>, function(e) {
  Ti.API.info(e.source.<span class="hljs-built_in">rect</span>.<span class="hljs-variable">height</span>);
});
win1.<span class="hljs-built_in">add</span>(label);
win1.<span class="hljs-built_in">open</span>();
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="August 5th 2012, 3:54:57 pm">August 5th 2012</span>
											by <span class='authorname'>Takumi Tsunokake</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>(the above result was 72)</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 5th 2012, 3:55:38 pm">August 5th 2012</span>
											by <span class='authorname'>Takumi Tsunokake</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-244511">
				
						<section>
							<p>Hi Takumi</p>
<p>The problem might relate to the fact you have more than just a label on the window and because of this other views updates are effecting your label and how it reports back.</p>
<p>Try moving the postlayout event to the parent, or even the window.</p>
<pre><code class="hljs">win1.addEventListener(<span class="hljs-string">'postlayout'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span> </span>{
  Ti.API.info(label.getRect().height);
});
</code></pre><p>Chances are this may fire more than once, but the answer should be right.</p>
<p>You can reduce the number of times it fires by adding this at the start</p>
<pre><code class="hljs">wi<span class="hljs-label">n1</span>.startLayout<span class="hljs-comment">()</span>;
</code></pre><p>and this at the end.</p>
<pre><code class="hljs"><span class="hljs-tag">win1</span><span class="hljs-class">.finishLayout</span>();
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 5th 2012, 3:55:12 pm">August 5th 2012</span>
								by <span class='authorname'>Malcolm Hollingsworth</span><br>
								<a class="icon-bg icon-link" href="question/140576/how-to-get-a-height-of-label-after-titanium-sdk-2-i-can-get-it-before-2#answer-244511" rel="permalink">permalink</a>
							</div>

							<h5>3 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>hi, Malcolm, thanks for your kind answer :)</p>
<p>yes, that is i really want to do.<br>for example, i&#39;d like to create a TableViewRow which has two flexible-height labels. so i have to adjust a height of TableViewRow depending on these labels.<br>i tried to code as follows, but it didn&#39;t go well.</p>
<pre><code class="hljs">var win = Ti.UI.createWindow({backgroundColor: <span class="hljs-string">'white'</span>});
var tableView = Ti.UI.createTableView();
var row = Ti.UI.createTableViewRow();

var label1 = Ti.UI.createLabel({
  <span class="hljs-built_in">text</span>: <span class="hljs-string">'fooooo baaaaaaaar buzzzzzzz'</span>,
  top: <span class="hljs-number">0</span>,
  <span class="hljs-variable">width</span>: <span class="hljs-number">110</span>,
  <span class="hljs-variable">height</span>: <span class="hljs-string">'auto'</span>,
  font: {fontSize: <span class="hljs-number">20</span>}
});

var label2 = Ti.UI.createLabel({
  <span class="hljs-built_in">text</span>: <span class="hljs-string">'hello woooorld'</span>,
  <span class="hljs-variable">width</span>: <span class="hljs-number">110</span>,
  <span class="hljs-variable">height</span>: <span class="hljs-string">'auto'</span>,
  font: {fontSize: <span class="hljs-number">20</span>}
});

row.addEventListener(<span class="hljs-string">'postlayout'</span>, function(e) {
  Ti.API.info(label1.<span class="hljs-built_in">rect</span>.<span class="hljs-variable">height</span>); <span class="hljs-comment">//=&gt; 72</span>
  Ti.API.info(label2.<span class="hljs-built_in">rect</span>.<span class="hljs-variable">height</span>); <span class="hljs-comment">//=&gt; 48</span>

  label2.top = label1.<span class="hljs-built_in">rect</span>.<span class="hljs-variable">height</span> + <span class="hljs-number">5</span>; 

  row.<span class="hljs-variable">height</span> = label1.<span class="hljs-built_in">rect</span>.<span class="hljs-variable">height</span> + label2.<span class="hljs-built_in">rect</span>.<span class="hljs-variable">height</span> + <span class="hljs-number">5</span>; <span class="hljs-comment">// it makes loop..</span>
});
row.<span class="hljs-built_in">add</span>(label1);
row.<span class="hljs-built_in">add</span>(label2);

tableView.data = [row];

win.<span class="hljs-built_in">add</span>(tableView);
win.<span class="hljs-built_in">open</span>();
</code></pre><p>UI seems to be good, but it has a infinite loop. how can i do that?</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 6th 2012, 6:33:16 am">August 6th 2012</span>
											by <span class='authorname'>Takumi Tsunokake</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Hi</p>
<p>Do you want them above each other or side by side?</p>
<p>Let me know and I will give you the answer right back.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 6th 2012, 6:40:07 am">August 6th 2012</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>thanks ;) i&#39;d like to align vertically each label, not horizontally.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 6th 2012, 6:48:54 am">August 6th 2012</span>
											by <span class='authorname'>Takumi Tsunokake</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
