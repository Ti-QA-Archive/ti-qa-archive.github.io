<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>remove the Webview Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>remove the Webview</h1>
		</header>
		<section>
			<p>Got the following:</p>
<pre><code class="hljs"><span class="hljs-tag">&lt;<span class="hljs-title">View</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"viewMap"</span> &gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">WebView</span> <span class="hljs-attribute">url</span>=<span class="hljs-value">"OpenLayers/map/page/map.html"</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"mapPlantation"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">WebView</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">View</span>&gt;</span>
</code></pre><p>But, I must destroy it as soon as complete an action, call the $.viewMap.remove($.mapPlantation); and Safari and stateful memory webView realize that was not removed and is stored in memory, which with time becomes a big problem. </p>
<p>I&#39;m doing it a certain way? is possible to force a memory cleaning? </p>
<p>How can I solve this problem?</p>
<p>ps: Sorry for bad english, I&#39;m Brazilian and my forte is the good old Portuguese</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="October 22nd 2014, 5:20:18 pm">October 22nd 2014</span>
				by <span class='authorname'>Breno Douglas Araujo Souza</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>alloy</span></li>
					
						<li><span class='tagname'>memory</span></li>
					
						<li><span class='tagname'>webview</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-283299">
				
						<section>
							<p>As well as calling</p>
<pre><code class="hljs"><span class="hljs-variable">$.</span>viewMap.remove(<span class="hljs-variable">$.</span>mapPlantation);
</code></pre><p>you need to set it to null for it to be cleaned up</p>
<pre><code class="hljs">$.mapPlantation = <span class="hljs-literal">null</span>;
</code></pre><p>I suggest you read <a href="http:&#x2F;&#x2F;www.tidev.io&#x2F;2014&#x2F;03&#x2F;27&#x2F;memory-management&#x2F;">this</a></p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="October 23rd 2014, 5:03:37 am">October 23rd 2014</span>
								by <span class='authorname'>Larrie Wilson</span><br>
								<a class="icon-bg icon-link" href="../../question/178627/remove-the-webview.html#answer-283299" rel="permalink">permalink</a>
							</div>

							<h5>2 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>already did that and also used a: </p>
<pre><code class="hljs">$.viewMap.remove($.mapPlantation);
$.mapPlantation = <span class="hljs-literal">null</span>;
$.viewMap = <span class="hljs-literal">null</span>;

<span class="hljs-keyword">delete</span> $.viewMap;
<span class="hljs-keyword">delete</span> $.mapPlantation;
</code></pre><p>However, my app consumes 35Mb of memory and 38MB oscillates up until the moment that goes to the screen that has webview and starts to consume 58MB left and not cleaned even when performing these actions before going out and killing everything inside the webview javascript. It shall be 55MB will only increasing consumption and whenever I enter the webview.</p>
</p>
										<div class="author">
											&mdash; commented <span title="October 23rd 2014, 10:21:25 am">October 23rd 2014</span>
											by <span class='authorname'>Breno Douglas Araujo Souza</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Can I suggest you try</p>
<pre><code class="hljs"><span class="hljs-variable">$.</span>mapPlantation.html = <span class="hljs-string">''</span>;
</code></pre><p>before removing it from the viewMap?</p>
<p>There has been previous issues where the webview isn&#39;t releasing memory when a local HTML file is used.</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 5th 2014, 6:27:59 am">November 5th 2014</span>
											by <span class='authorname'>Larrie Wilson</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
