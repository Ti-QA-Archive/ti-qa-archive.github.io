<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Issue with HttpClient Error in Anroid Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Issue with HttpClient Error in Anroid</h1>
		</header>
		<section>
			<p>I have a Login Win that communicates with a server to authenticate. I&#39;m using the same examples as many have posted here (using POST, xhr send, onload, params, etc). The thing is that in iOS works perfectly; in Android doesn&#39;t. It&#39;s giving me a &quot;Not Found&quot; error. When I verify the URL i&#39;m using in the xhr.open argument directly in the browser, it works perfect (also in iOS). However,in Android it doesn&#39;t. Is anybody have a fix for this? Any help will be appreciate. I&#39;m on Titanium Studio with 1.7.2 sdk, latest iOS and latest Android.</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="September 21st 2011, 1:34:20 am">September 21st 2011</span>
				by <span class='authorname'>Pablo Rodriguez</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>httpclient</span></li>
					
						<li><span class='tagname'>post</span></li>
					
						<li><span class='tagname'>xhr</span></li>
					
				</ul>
			

			<section>
				<h5>1 Comment</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>I had this problem initially. After researching a little on the firums this is what I found. I think it helped coz I dont get the &quot;XHR not found&quot; error anymore. I just get different ones now ;-)</p>
<p>In your Tiapp.xml, under Android, add these permissions-</p>
<pre><code class="hljs"> &lt;uses-permission android:<span class="hljs-property">name</span>=<span class="hljs-string">"android.permission.INTERNET"</span>/&gt;
 &lt;uses-permission android:<span class="hljs-property">name</span>=<span class="hljs-string">"android.permission.ACCESS_WIFI_STATE"</span>/&gt;
 &lt;uses-permission android:<span class="hljs-property">name</span>=<span class="hljs-string">"android.permission.ACCESS_NETWORK_STATE"</span>/&gt;
</code></pre><p>Atleast the Internet one. I just added the others coz it made sense.</p>
<p>Good Luck! Hope this helps.</p>
</div>
							<div class="author">
								&mdash; commented <span title="November 22nd 2011, 3:50:15 pm">November 22nd 2011</span>
								by <span class='authorname'>Sridevi Kolluri</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>7</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>7 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-219261">
				
						<section>
							<p>I am having the same issue.  I am trying to download a file from my server to my Android phone (both emulator and device) and it just does not work.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="September 21st 2011, 12:13:03 pm">September 21st 2011</span>
								by <span class='authorname'>Josh Magalich</span><br>
								<a class="icon-bg icon-link" href="../../question/125841/issue-with-httpclient-error-in-anroid.html#answer-219261" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Have you found anything? I&#39;m still trying to make it work, but nothing so far. I don&#39;t really understand why is not working. In iOS works like a charm.</p>
</p>
										<div class="author">
											&mdash; commented <span title="September 22nd 2011, 12:12:56 am">September 22nd 2011</span>
											by <span class='authorname'>Pablo Rodriguez</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-219295">
				
						<section>
							<p>Anyone?</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="September 22nd 2011, 12:13:24 am">September 22nd 2011</span>
								by <span class='authorname'>Pablo Rodriguez</span><br>
								<a class="icon-bg icon-link" href="../../question/125841/issue-with-httpclient-error-in-anroid.html#answer-219295" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-219297">
				
						<section>
							<p>What SDK level are you using?  And when does the &quot;Not Found&quot; error occur.  Is this a compile time error, or are you getting a HTTP status 404 document not found from the server?</p>
<p>More information and a copy of the relevant code is much more likely to get you a helpful response.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="September 22nd 2011, 12:31:21 am">September 22nd 2011</span>
								by <span class='authorname'>Doug Handy</span><br>
								<a class="icon-bg icon-link" href="../../question/125841/issue-with-httpclient-error-in-anroid.html#answer-219297" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-219326">
				
						<section>
							<p>I&#39;m on Android 2.3.3 API Level 10 Revision 2 (the latest). I have a button with an event listener that creates the var xhr and all its parts (onload, onerror, params, send, etc). The error occur when the button is pressed. This is part of the error is showing in the console: </p>
<pre><code class="hljs">E/<span class="hljs-function"><span class="hljs-title">TiHttpClient</span><span class="hljs-params">(  <span class="hljs-number">380</span>)</span></span>: (TiHttpClient-<span class="hljs-number">1</span>) [<span class="hljs-number">11</span>,<span class="hljs-number">95350</span>] HTTP Error (org<span class="hljs-class">.apache</span><span class="hljs-class">.http</span><span class="hljs-class">.client</span><span class="hljs-class">.HttpResponseException</span>): Not Found
E/<span class="hljs-function"><span class="hljs-title">TiHttpClient</span><span class="hljs-params">(  <span class="hljs-number">380</span>)</span></span>: org<span class="hljs-class">.apache</span><span class="hljs-class">.http</span><span class="hljs-class">.client</span><span class="hljs-class">.HttpResponseException</span>: Not Found
E/<span class="hljs-function"><span class="hljs-title">TiHttpClient</span><span class="hljs-params">(  <span class="hljs-number">380</span>)</span></span>:     at ti<span class="hljs-class">.modules</span><span class="hljs-class">.titanium</span><span class="hljs-class">.network</span><span class="hljs-class">.TiHTTPClient</span><span class="hljs-variable">$LocalResponseHandler</span>.<span class="hljs-function"><span class="hljs-title">handleResponse</span><span class="hljs-params">(TiHTTPClient.java:<span class="hljs-number">211</span>)</span></span>
E/<span class="hljs-function"><span class="hljs-title">TiHttpClient</span><span class="hljs-params">(  <span class="hljs-number">380</span>)</span></span>:     at ti<span class="hljs-class">.modules</span><span class="hljs-class">.titanium</span><span class="hljs-class">.network</span><span class="hljs-class">.TiHTTPClient</span><span class="hljs-variable">$LocalResponseHandler</span>.<span class="hljs-function"><span class="hljs-title">handleResponse</span><span class="hljs-params">(TiHTTPClient.java:<span class="hljs-number">171</span>)</span></span>
E/<span class="hljs-function"><span class="hljs-title">TiHttpClient</span><span class="hljs-params">(  <span class="hljs-number">380</span>)</span></span>:     at org<span class="hljs-class">.apache</span><span class="hljs-class">.http</span><span class="hljs-class">.impl</span><span class="hljs-class">.client</span><span class="hljs-class">.AbstractHttpClient</span><span class="hljs-class">.execute</span>(AbstractHttpClient<span class="hljs-class">.java</span>:<span class="hljs-number">657</span>)
E/<span class="hljs-function"><span class="hljs-title">TiHttpClient</span><span class="hljs-params">(  <span class="hljs-number">380</span>)</span></span>:     at org<span class="hljs-class">.apache</span><span class="hljs-class">.http</span><span class="hljs-class">.impl</span><span class="hljs-class">.client</span><span class="hljs-class">.AbstractHttpClient</span><span class="hljs-class">.execute</span>(AbstractHttpClient<span class="hljs-class">.java</span>:<span class="hljs-number">637</span>)
E/<span class="hljs-function"><span class="hljs-title">TiHttpClient</span><span class="hljs-params">(  <span class="hljs-number">380</span>)</span></span>:     at ti<span class="hljs-class">.modules</span><span class="hljs-class">.titanium</span><span class="hljs-class">.network</span><span class="hljs-class">.TiHTTPClient</span><span class="hljs-variable">$ClientRunnable</span>.<span class="hljs-function"><span class="hljs-title">run</span><span class="hljs-params">(TiHTTPClient.java:<span class="hljs-number">1002</span>)</span></span>
E/<span class="hljs-function"><span class="hljs-title">TiHttpClient</span><span class="hljs-params">(  <span class="hljs-number">380</span>)</span></span>:     at java<span class="hljs-class">.lang</span><span class="hljs-class">.Thread</span><span class="hljs-class">.run</span>(Thread<span class="hljs-class">.java</span>:<span class="hljs-number">1019</span>)
I/<span class="hljs-function"><span class="hljs-title">TiHttpClient</span><span class="hljs-params">(  <span class="hljs-number">380</span>)</span></span>: (TiHttpClient-<span class="hljs-number">1</span>) [<span class="hljs-number">4</span>,<span class="hljs-number">95354</span>] Sending error Not Found
I/ALERT   (  <span class="hljs-number">380</span>): (kroll$<span class="hljs-number">2</span>: file:<span class="hljs-comment">///android_asset/Resources/app.js) [4,95358] Not Found</span>
</code></pre><p>In the iPhone is working great and directly to any browser too.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="September 22nd 2011, 1:05:22 pm">September 22nd 2011</span>
								by <span class='authorname'>Pablo Rodriguez</span><br>
								<a class="icon-bg icon-link" href="../../question/125841/issue-with-httpclient-error-in-anroid.html#answer-219326" rel="permalink">permalink</a>
							</div>

							<h5>3 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>This is a class not found issue. Google may have changed an underlying API. Please add a test case that demonstrates the problem.</p>
</p>
										<div class="author">
											&mdash; commented <span title="September 22nd 2011, 5:51:35 pm">September 22nd 2011</span>
											by <span class='authorname'>Don Thorp</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>It&#39;s funny, now I&#39;m testing with another domain and it works. Switched back to the original domain, and doesn&#39;t work. It&#39;s like it doesn&#39;t like the domain I was using. Don, do you have an email where i can send you the code? I can&#39;t publish the domain I&#39;m using (because of the client). Thanks!</p>
</p>
										<div class="author">
											&mdash; commented <span title="September 22nd 2011, 5:57:46 pm">September 22nd 2011</span>
											by <span class='authorname'>Pablo Rodriguez</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Don,</p>
<p>I am building on Titanium 1.7.3, Android 2.2. In the Installed Packages on my AVD Manager, I have Google APIs 7-13. What other Google API do you think I need for the HttpClient to work?</p>
<p>I am having the exact same problem.</p>
<p>Thanks,<br>Sri</p>
</p>
										<div class="author">
											&mdash; commented <span title="October 26th 2011, 3:41:00 am">October 26th 2011</span>
											by <span class='authorname'>Sridevi Kolluri</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-219342">
				
						<section>
							<p>This is the code I&#39;m using:</p>
<pre><code class="hljs">the_button.addEventListener(<span class="hljs-string">'click'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)</span>{
    <span class="hljs-keyword">var</span> xhr = Titanium.Network.createHTTPClient();

    xhr.onload = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
        <span class="hljs-keyword">var</span> response = <span class="hljs-built_in">JSON</span>.parse(<span class="hljs-keyword">this</span>.responseText);
        Ti.API.info(response);
        <span class="hljs-keyword">if</span> (response.logged == <span class="hljs-literal">true</span>){
            alert(<span class="hljs-string">'Success'</span>);
        }
        <span class="hljs-keyword">else</span>{
            alert(<span class="hljs-string">'Not in database'</span>);
        }
    };
    xhr.onerror = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)</span>{
        alert(e.error);
    };

    xhr.open(<span class="hljs-string">'POST'</span>,<span class="hljs-string">'#### THE URL TO LOGIN.PHP ####'</span>);

    <span class="hljs-keyword">var</span> param = {
        username: <span class="hljs-string">'john'</span>,
        password: <span class="hljs-string">'test'</span>
    };

    xhr.send(param);
});
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="September 22nd 2011, 6:03:17 pm">September 22nd 2011</span>
								by <span class='authorname'>Pablo Rodriguez</span><br>
								<a class="icon-bg icon-link" href="../../question/125841/issue-with-httpclient-error-in-anroid.html#answer-219342" rel="permalink">permalink</a>
							</div>

							<h5>4 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Hi Pablo,</p>
<p>Did you ever find an answer to your question? I am having the exact same problem. I had to comment out all the HttpClient calls because of that, just so, I could get the base app running. </p>
<p>If you did find a way to do it, can you please let me know. </p>
<p>Anyone?</p>
<p>Thanks,<br>Sri</p>
</p>
										<div class="author">
											&mdash; commented <span title="October 26th 2011, 3:35:30 am">October 26th 2011</span>
											by <span class='authorname'>Sridevi Kolluri</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Sorry for the delay. Well, I never found the answer to this. The issue was with the domain name i was using. Somehow it didn&#39;t work. I ended up using another domain name and it worked. Very weird issue. Hope someone from appcelerator can look into this.</p>
</p>
										<div class="author">
											&mdash; commented <span title="October 31st 2011, 2:18:24 am">October 31st 2011</span>
											by <span class='authorname'>Pablo Rodriguez</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I&#39;ve got the same problem - Pablo, I don&#39;t suppose you could highlight what the difference was between the two domains? Were they just different TLDs, or were subdomains etc. involved?</p>
</p>
										<div class="author">
											&mdash; commented <span title="October 31st 2011, 8:03:26 am">October 31st 2011</span>
											by <span class='authorname'>Craig Marvelley</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Hi Craig. The two domains are from different providers (one is godaddy and the other mydomains). The one not working is the one from godaddy. Both works on iOS.</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 1st 2011, 11:51:57 am">November 1st 2011</span>
											by <span class='authorname'>Pablo Rodriguez</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-243276">
				
						<section>
							<p>This looks like a known bug by the titanium mobile team.<br>Even in the kitchenSink they did not enable the file upload test for android.</p>
<p>https:&#x2F;&#x2F;github.com&#x2F;appcelerator&#x2F;titanium_mobile&#x2F;blob&#x2F;master&#x2F;demos&#x2F;KitchenSink&#x2F;Resources&#x2F;examples&#x2F;xhr.js</p>
<p>https:&#x2F;&#x2F;github.com&#x2F;appcelerator&#x2F;titanium_mobile&#x2F;blob&#x2F;master&#x2F;demos&#x2F;KitchenSink&#x2F;Resources&#x2F;examples&#x2F;xhr_fileupload.js</p>
<p>This is the only place where they use post but doing it only on iphone?</p>
<p>We will appreciate if they can clarify the route cause of this issue.</p>
<p>This issue is a blocking point on my app.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="July 17th 2012, 1:00:34 pm">July 17th 2012</span>
								by <span class='authorname'>Ibrahim BAKAYOKO</span><br>
								<a class="icon-bg icon-link" href="../../question/125841/issue-with-httpclient-error-in-anroid.html#answer-243276" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-277762">
				
						<section>
							<p>Hi folks - I had the same problem. An XHR post request, working in iOS, but not Android. I found that changing </p>
<pre><code class="hljs">xhr.<span class="hljs-keyword">open</span>(<span class="hljs-string">'post'</span>, url);
</code></pre><p>to</p>
<pre><code class="hljs">xhr.<span class="hljs-keyword">open</span>(<span class="hljs-string">'POST'</span>, url);
</code></pre><p>Did the trick - at least for me. I couldn&#39;t make this stuff up, I swearâ¦</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="April 14th 2014, 12:12:28 pm">April 14th 2014</span>
								by <span class='authorname'>Ryan White</span><br>
								<a class="icon-bg icon-link" href="../../question/125841/issue-with-httpclient-error-in-anroid.html#answer-277762" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Ryanâ¦ I own you a beerâ¦ I&#39;ve been so blocked by this uppercase problem. Would you mind telling me how you figured it out? I&#39;ve searched everywhere for days and couldn&#39;t find anythingâ¦</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 18th 2014, 6:22:16 pm">April 18th 2014</span>
											by <span class='authorname'>Paulo Hecht</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
