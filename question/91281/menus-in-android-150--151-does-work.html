<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Menus in Android 1.5.0 / 1.5.1 does work. Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Menus in Android 1.5.0 / 1.5.1 does work.</h1>
		</header>
		<section>
			<p>Just wanted to share how to set up menus in Android on the last SDK&#39;s 1.5.0 and onwards.</p>
<p>Introducing menucreation on the activity from 1.5.0 onwards, it can sometimes be unclear how to make it work. Especially if you run your applicaton in the app.js file.</p>
<p>There are two important things to do. First, open a &quot;heavy&quot; window using either <strong>navBarHidden</strong>, <strong>fullScreen</strong> or the <strong>modal</strong> parameter to a value when creating the window. This forces the window to get its own Activity.</p>
<p>Codesnippet from my app.js:</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> appWin = Titanium.UI.createWindow({
  navBarHidden: <span class="hljs-literal">false</span>
});

<span class="hljs-keyword">var</span> gam = <span class="hljs-literal">null</span>;
<span class="hljs-keyword">var</span> ram = <span class="hljs-literal">null</span>;

<span class="hljs-keyword">var</span> connectEvents = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
    Titanium.API.info(<span class="hljs-string">"wireing click handlers"</span>);

    gam.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
        Showall();
    });

    ram.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
        RemoveAll();
    });
}

appWin.activity.onCreateOptionsMenu = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span> </span>{
    Titanium.API.info(<span class="hljs-string">"creating the menus"</span>);
    <span class="hljs-keyword">var</span> menu = e.menu;
    gam = menu.add({title : <span class="hljs-string">'Show All'</span>});
    ram = menu.add({title : <span class="hljs-string">'Remove All'</span>});
    <span class="hljs-comment">//connect the events</span>
    connectEvents();
    }
</code></pre><p>Pretty much as documented, but the important part missing is to add the params which does create the needed activity object. And then the syntax to use the newly created activity for your window.</p>
<p>It took me a long time to figure this out, and I had to read about menus in the Android SDKs for it.</p>
<p>I was struggling with this for days, hopefully it will help someone!</p>
<p>Harald</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="December 17th 2010, 4:19:55 pm">December 17th 2010</span>
				by <span class='authorname'>Harald Sakshaug</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>activity</span></li>
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>events</span></li>
					
						<li><span class='tagname'>menu</span></li>
					
						<li><span class='tagname'>oncreateoptionsmenu</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-164821">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>Cool, thanks for the tip!</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="December 17th 2010, 7:10:20 pm">December 17th 2010</span>
								by <span class='authorname'>Kevin Whinnery</span><br>
								<a class="icon-bg icon-link" href="question/91281/menus-in-android-150--151-does-work#answer-164821" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
