<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Using Google Analytics in Titanium Mobile » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Using Google Analytics in Titanium Mobile</h1>
		</header>
		<section>
			<p>This is an Answer not a Question! :)</p>
<p>I&#39;ve wanted to use Google Analytics to track pages in my app, however implementing the Google Analytics SDK via a Titanium module was a pain!</p>
<p>So, I decided to replicate the SDK code direct into Titanium.</p>
<p>This also means I don&#39;t have to maintain and build a separate module, which is nice.</p>
<p>All the code is on github: <a href="https:&#x2F;&#x2F;github.com&#x2F;rogchap&#x2F;Titanium-Google-Analytics">https:&#x2F;&#x2F;github.com&#x2F;rogchap&#x2F;Titanium-Google-Analytics</a></p>
<p>It is currently setup for iOS, however it would be easy to change to Android by changing the user-agent string.</p>
<p>I hope some one out there finds this useful!?</p>
<p>Leave a comment if you use it.</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="November 10th 2010, 8:04:35 am">November 10th 2010</span>
				by <span class='authorname'>Roger Chapman</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>mobile</span></li>
					
				</ul>
			

			<section>
				<h5>16 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Sweet! I actually started to track my apps by having a hidden webview which I redirected to a blank webpage on my website and used to standard js google analytics library. This is much better though! I will try it out… The country code thing actually solves another problem of mine so thanks for that aswell :)</p>
</div>
							<div class="author">
								&mdash; commented <span title="November 10th 2010, 8:39:51 am">November 10th 2010</span>
								by <span class='authorname'>Magnus Ottosson</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>It would be great if we could add support for custom variables aswell… it should not be that hard to implement.</p>
</div>
							<div class="author">
								&mdash; commented <span title="November 10th 2010, 8:51:22 am">November 10th 2010</span>
								by <span class='authorname'>Magnus Ottosson</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>The benefit of this solution over a hidden webview is that even if the application does not have a network connection events are stored in the database until a network connection is available. This will happen a lot on the iPad where most people only have the WiFi version. Your idea is clever though; would have never have thought to do that! :)</p>
<p>I need to get tracking events finished off first, then I&#39;ll look into adding custom variables.</p>
</div>
							<div class="author">
								&mdash; commented <span title="November 10th 2010, 6:53:09 pm">November 10th 2010</span>
								by <span class='authorname'>Roger Chapman</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Can you please post a sample user agent accepted by GA for Android?</p>
</div>
							<div class="author">
								&mdash; commented <span title="November 17th 2010, 7:32:34 am">November 17th 2010</span>
								by <span class='authorname'>Mario Capocaccia</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>So awesome, thank you!  Works like a charm.</p>
</div>
							<div class="author">
								&mdash; commented <span title="February 11th 2011, 8:33:24 am">February 11th 2011</span>
								by <span class='authorname'>Philip Kaplan</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>SWEET ARCHITECTURE!<br>I like that you used event listeners to make your analytic functions available from anywhere in the app.<br>It is indeed the correct way to to this,<br>Thanks a lot</p>
</div>
							<div class="author">
								&mdash; commented <span title="April 18th 2011, 7:13:17 pm">April 18th 2011</span>
								by <span class='authorname'>Luc Martin</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>I&#39;ve to run sample in the provided link but it always give no results only the labels in the tabs! am i missing anything?</p>
</div>
							<div class="author">
								&mdash; commented <span title="June 8th 2011, 8:50:08 am">June 8th 2011</span>
								by <span class='authorname'>Bandar Aljohani</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>I had tried every thing in this application but i think this code is of dam no use ….has any body got solution how to implement google analytics or can any body share code with me….</p>
</div>
							<div class="author">
								&mdash; commented <span title="June 15th 2011, 4:18:44 am">June 15th 2011</span>
								by <span class='authorname'>Moiz Chhatriwala</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>not very useful,should provide some more example of Google Analytics implementation.</p>
</div>
							<div class="author">
								&mdash; commented <span title="June 15th 2011, 4:31:21 am">June 15th 2011</span>
								by <span class='authorname'>Ashutosh Chaturvedi</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Hi Roger,</p>
<p>Firs of all, I&#39;d like to thank you for this useful script.It works like a magic :) . </p>
<p>Did you manage implementing the custom variables? we are having difficulties modifying your script to extend the functionalities of setCustomVariableAtIndex of Google Analytics. Thanks in advanced.</p>
</div>
							<div class="author">
								&mdash; commented <span title="December 14th 2011, 12:13:12 am">December 14th 2011</span>
								by <span class='authorname'>Ryan Dizon</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Hi Roger,<br>         We are using this in our app.Once doubt that I had in mind was Why are we using event listeners if we can declare a global function in App that in turn calls the methods trackPageview and trackEvent?</p>
</div>
							<div class="author">
								&mdash; commented <span title="February 27th 2012, 9:28:23 am">February 27th 2012</span>
								by <span class='authorname'>Mukund Samant</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Is the trackEvent function completed? It would be great to use this. Thanks</p>
</div>
							<div class="author">
								&mdash; commented <span title="April 13th 2012, 12:11:07 pm">April 13th 2012</span>
								by <span class='authorname'>Somme Sakounthong</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Lovely work!!! :D</p>
</div>
							<div class="author">
								&mdash; commented <span title="May 30th 2012, 6:07:12 am">May 30th 2012</span>
								by <span class='authorname'>George Marmaridis</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Hi roger,</p>
<p>I think the path for the httpclient isn&#39;t correct. You use Titanium.Platform.countrycode, but this gives &#39;undefined&#39;. Have you any solution for this?</p>
</div>
							<div class="author">
								&mdash; commented <span title="August 22nd 2012, 5:51:07 am">August 22nd 2012</span>
								by <span class='authorname'>Jordy van der Heijden</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Never mind! It works Fantastic! Thanks a lot!</p>
</div>
							<div class="author">
								&mdash; commented <span title="August 22nd 2012, 6:17:55 am">August 22nd 2012</span>
								by <span class='authorname'>Jordy van der Heijden</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Hi roger tk you very much 4 the code. I try to find a solution to integrate the custum variables in your code but i dont succed. Is anyone or roger have done something before ? Tk u very much</p>
</div>
							<div class="author">
								&mdash; commented <span title="November 3rd 2012, 12:48:31 pm">November 3rd 2012</span>
								by <span class='authorname'>gautier pialat</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>29</span> Votes</div>
			<div class="answers"><span>20</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>20 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-215648">
				
						<section>
							<p>@Scott Miller</p>
<p>In your app.js call the analytics.js<br>set the params and the events.</p>
<p>Then on each window&#x2F;page&#x2F;view you want to track, have an onFocus event set that calls his track page view function.  The param it takes is the &quot;page&quot; that shows in your google analytics results.</p>
<pre><code class="hljs">win1.addEventListener(<span class="hljs-string">'focus'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span></span>{
    Titanium.App.Analytics.trackPageview(<span class="hljs-string">'/win1'</span>);
});
</code></pre><p>So, if I have a window whose views show a RSS feed, i might call</p>
<pre><code class="hljs">win1.addEventListener(<span class="hljs-string">'focus'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span></span>{
    Titanium.App.Analytics.trackPageview(<span class="hljs-string">'/rss'</span>);
});
</code></pre><p>After the user clicks one of the items in the list and views a window with the article in it, maybe call something like</p>
<pre><code class="hljs">win1.addEventListener(<span class="hljs-string">'focus'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span></span>{
    Titanium.App.Analytics.trackPageview(<span class="hljs-string">'/win1/'</span>+urlencode(rsstitle);
});
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 6th 2011, 11:32:06 pm">August 6th 2011</span>
								by <span class='authorname'>Stephen Feather</span><br>
								<a class="icon-bg icon-link" href="question/78151/using-google-analytics-in-titanium-mobile#answer-215648" rel="permalink">permalink</a>
							</div>

							<h5>5 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Hate the lack of an edit button:</p>
<pre><code class="hljs">win1.addEventListener(<span class="hljs-string">'focus'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span></span>{
    Titanium.App.Analytics.trackPageview(<span class="hljs-string">'/rss/'</span>+urlencode(rsstitle);
});
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="August 6th 2011, 11:33:12 pm">August 6th 2011</span>
											by <span class='authorname'>Stephen Feather</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>My Google Analytics account status does not change, it is as &quot;Tracking not installed&quot;, this is normal?</p>
<p>I did some tests but as the delay Analytics to show the report do not know if implemented correctly.</p>
</p>
										<div class="author">
											&mdash; commented <span title="September 3rd 2011, 4:20:02 pm">September 3rd 2011</span>
											by <span class='authorname'>Micael Estrazulas</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Couple of things:</p>
<ol>
<li><p>Our tracking is tied to a website&#x2F;domain.  So it might be represented off a subdirectory (&#x2F;app) off the main site or as a sub domain.  In either case, analytics has already been setup and verified by GA.</p>
</li>
<li><p>As for the &#39;delay&#39;, you can select the current day even though it might not be highlighted or selected by default, and it will show you just shy of real time.</p>
</li>
</ol>
</p>
										<div class="author">
											&mdash; commented <span title="September 5th 2011, 10:22:19 pm">September 5th 2011</span>
											by <span class='authorname'>Stephen Feather</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>As an update, using Roger&#39;s latest code, you can modify it to load as a commonJS module.  This is required for use with TiShadow.</p>
<p>In the analytics.js file change </p>
<p><code>var Analytics = AnalyticsBase.extend({</code> </p>
<p>to </p>
<p><code>exports.Analytics = AnalyticsBase.extend({</code></p>
<p>You call in app.js now looks like this:</p>
<pre><code class="hljs"><span class="hljs-comment">// Configure our Google Analytics</span>
<span class="hljs-keyword">var</span> Analytics = <span class="hljs-built_in">require</span>(<span class="hljs-string">'/lib/analytics'</span>).Analytics;
<span class="hljs-keyword">var</span> analytics = <span class="hljs-keyword">new</span> Analytics(config.ganalytics);
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="May 30th 2012, 9:45:49 am">May 30th 2012</span>
											by <span class='authorname'>Stephen Feather</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Here is a gist for easier download: <a href="https:&#x2F;&#x2F;gist.github.com&#x2F;2859407">https:&#x2F;&#x2F;gist.github.com&#x2F;2859407</a></p>
</p>
										<div class="author">
											&mdash; commented <span title="June 2nd 2012, 4:10:52 pm">June 2nd 2012</span>
											by <span class='authorname'>Stephen Feather</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>2</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-141141">
				
						<section>
							<p>Roger, I&#39;m getting an error (downloading the source and compiling without changes):</p>
<p>&quot;[ERROR] Script Error = Can&#39;t find variable: Class at analytics.js (line 78).</p>
<p>[ERROR] Script Error = Result of expression &#39;Analytics&#39; [undefined] is not a constructor. at app.js (line 6).&quot;</p>
<p>(I&#39;m compiling with version 1.4.1.1 of the SDK, but that doesn&#39;t especially matter in this instance.)</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="November 10th 2010, 4:00:06 pm">November 10th 2010</span>
								by <span class='authorname'>John Welch</span><br>
								<a class="icon-bg icon-link" href="question/78151/using-google-analytics-in-titanium-mobile#answer-141141" rel="permalink">permalink</a>
							</div>

							<h5>2 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>My bad… &quot;Class&quot; at line 78 should be &quot;AnalyticsBase&quot;. I&#39;ll update the source now.</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 10th 2010, 6:35:35 pm">November 10th 2010</span>
											by <span class='authorname'>Roger Chapman</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Thanks!… I was trying to figure it out but couldn&#39;t.</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 10th 2010, 7:46:30 pm">November 10th 2010</span>
											by <span class='authorname'>John Welch</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-207176">
				
						<section>
							<p>works like a charme. thanks Roger!</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="May 3rd 2011, 9:21:55 am">May 3rd 2011</span>
								by <span class='authorname'>Sebastian Klaus</span><br>
								<a class="icon-bg icon-link" href="question/78151/using-google-analytics-in-titanium-mobile#answer-207176" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-232844">
				
						<section>
							<p>Hi,</p>
<p>I&#39;m getting the following warning message when calling &#39;Titanium.App.Analytics.trackPageview(my_url)&#39; from other pages.</p>
<pre><code class="hljs">[WARN] <span class="hljs-function"><span class="hljs-params">(<span class="hljs-literal">null</span>)</span>-&gt;</span>(<span class="hljs-literal">null</span>) [<span class="hljs-number">0</span>]<span class="hljs-function">-&gt;</span><span class="hljs-keyword">not</span> specified <span class="hljs-keyword">is</span> being made <span class="hljs-keyword">in</span> a thread <span class="hljs-keyword">not</span> owned <span class="hljs-keyword">by</span> &lt;<span class="hljs-attribute">KrollContext</span>: <span class="hljs-number">0xc006200</span>&gt;
</code></pre><p>Any ideas?</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="March 9th 2012, 9:48:02 am">March 9th 2012</span>
								by <span class='authorname'>John Paul Green</span><br>
								<a class="icon-bg icon-link" href="question/78151/using-google-analytics-in-titanium-mobile#answer-232844" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-254982">
				
						<section>
							<p>hi ?i used the analytics.js,but it does not work!</p>
<p>1 Copy analytics.js to Resources<br>2 Paste next code into app.js</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> googleAnalyTics_id = <span class="hljs-string">'UA-37684090-1'</span>;

<span class="hljs-comment">/* analytics */</span>  
Titanium.<span class="hljs-keyword">include</span>(<span class="hljs-string">'analytics.js'</span>);  
<span class="hljs-keyword">var</span> analytics = <span class="hljs-keyword">new</span> Analytics(googleAnalyTics_id);  
analytics.reset();
Titanium.App.addEventListener(<span class="hljs-string">'analytics_trackPageview'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span></span>{  
    analytics.trackPageview(<span class="hljs-string">'/iPad'</span> + e.pageUrl);
});  
Titanium.App.addEventListener(<span class="hljs-string">'analytics_trackEvent'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span></span>{  
    analytics.trackEvent(e.category, e.action, e.label, e.value);  
});  
Titanium.App.Analytics = {  
    trackPageview:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(pageUrl)</span></span>{  
        Titanium.App.fireEvent(<span class="hljs-string">'analytics_trackPageview'</span>, {pageUrl:pageUrl});  
    },  
    trackEvent:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(category, action, label, value)</span></span>{  
        Titanium.App.fireEvent(<span class="hljs-string">'analytics_trackEvent'</span>, {category:category, action:action, label:label, value:value});  
    }  
}  
analytics.start(<span class="hljs-number">10</span>);  
<span class="hljs-comment">/* analytics end */</span>  
Titanium.App.addEventListener(<span class="hljs-string">'close'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span></span>{
    analytics.stop();
});
</code></pre><p>3 Paste next code when a win open</p>
<pre><code class="hljs"><span class="hljs-type">Titanium</span>.<span class="hljs-type">App</span>.<span class="hljs-type">Analytics</span>.trackPageview(<span class="hljs-symbol">'win</span>-name');
</code></pre><p>It is no error!  but when i go to https:&#x2F;&#x2F;www.google.com&#x2F;analytics&#x2F;web&#x2F; ,there is no data.</p>
<p>The url Analytics&#39;client opened  is<br>http:&#x2F;&#x2F;www.google-analytics.com&#x2F;<strong>utm.gif?utmwv=4.4mi&amp;utmn=644932630&amp;utmcs=UTF-8&amp;utmsr=320x480&amp;utmsc=24-bit&amp;utmul=en-undefined&amp;utmac=UA-37684090-1&amp;utmt=event&amp;utme=5(Button<em>Click</em>login)(4)&amp;utmcc=</strong>utma=737325.-317559966.1358739378.1358739378.1358739378.1</p>
<p>Was there something i missed?</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="January 21st 2013, 1:40:42 am">January 21st 2013</span>
								by <span class='authorname'>guo jianhua</span><br>
								<a class="icon-bg icon-link" href="question/78151/using-google-analytics-in-titanium-mobile#answer-254982" rel="permalink">permalink</a>
							</div>

							<h5>6 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>most often, TIME.</p>
<p>By default, today isn&#39;t shown immediately by default.<br>You need to select today.</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 21st 2013, 2:06:02 am">January 21st 2013</span>
											by <span class='authorname'>Stephen Feather</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>i tested it four days ago?</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 21st 2013, 2:15:54 am">January 21st 2013</span>
											by <span class='authorname'>guo jianhua</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>i began to test it four days ago!  And Continued two days!  there was no data</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 21st 2013, 2:19:23 am">January 21st 2013</span>
											by <span class='authorname'>guo jianhua</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Well, I know that its working for us.<br>We converted Roger&#39;s code to commonJS format: <a href="https:&#x2F;&#x2F;gist.github.com&#x2F;2859407">https:&#x2F;&#x2F;gist.github.com&#x2F;2859407</a></p>
</p>
										<div class="author">
											&mdash; commented <span title="January 21st 2013, 2:26:39 am">January 21st 2013</span>
											by <span class='authorname'>Stephen Feather</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>HI, I replace UA-37684090-1 to an error accountID &#39;abcd&#39;</p>
<pre><code class="hljs">Titanium.<span class="hljs-keyword">include</span>(<span class="hljs-string">'analytics.js'</span>);  

<span class="hljs-keyword">var</span> analytics = <span class="hljs-keyword">new</span> Analytics(<span class="hljs-string">'abcd'</span>);
</code></pre><pre><code class="hljs"><span class="hljs-keyword">this</span>._httpClient.onerror = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span> </span>{
                    Ti.API.error(<span class="hljs-string">'send google-analytics:'</span>+e.error);
                };

                <span class="hljs-keyword">this</span>._httpClient.onload = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span> </span>{
                    Ti.API.info(<span class="hljs-string">'onload:'</span>+e);
                };
                <span class="hljs-keyword">this</span>._httpClient.open(<span class="hljs-string">'GET'</span>, <span class="hljs-string">'http://www.google-analytics.com'</span> + path, <span class="hljs-literal">false</span>);
                <span class="hljs-keyword">this</span>._httpClient.setRequestHeader(<span class="hljs-string">'User-Agent'</span>, <span class="hljs-keyword">this</span>._USER_AGENT);
                <span class="hljs-keyword">this</span>._httpClient.send();
                Ti.API.info(<span class="hljs-keyword">this</span>._USER_AGENT);
                eventsToDelete.push(event.event_id);
</code></pre><p>there is also no error!  is that normal ?</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 21st 2013, 6:58:27 am">January 21st 2013</span>
											by <span class='authorname'>guo jianhua</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I am experiencing the same problem. I&#39;ve been trying to get it working for 5 days and nothing appears on my Analytics Dashboard. I don&#39;t know what else to do!<br>Should it work on simulators?<br>Thanks!</p>
</p>
										<div class="author">
											&mdash; commented <span title="February 26th 2013, 8:43:34 am">February 26th 2013</span>
											by <span class='authorname'>Douglas Alves</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-269425">
				
						<section>
							<p>Hi Roger or anyone else that may have used this to publish an app.</p>
<p>Does the app store allow the location data fed back to Google?</p>
<p>It is probably not GPS but rather your ISP providing a location, but just wanted to know if it has caused anyone any issues?</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="September 30th 2013, 9:01:40 pm">September 30th 2013</span>
								by <span class='authorname'>anx patel</span><br>
								<a class="icon-bg icon-link" href="question/78151/using-google-analytics-in-titanium-mobile#answer-269425" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-275720">
				
						<section>
							<p>BTW - you might want to check out Appsee for your mobile analytics, its way nicer than GA and gives you things like user video recordings and heat maps… They have an appcelerator plugin <a href="http:&#x2F;&#x2F;www.appsee.com">(www.appsee.com)</a></p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="February 26th 2014, 4:53:57 pm">February 26th 2014</span>
								by <span class='authorname'>Tal Sinay</span><br>
								<a class="icon-bg icon-link" href="question/78151/using-google-analytics-in-titanium-mobile#answer-275720" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-141091">
				
						<section>
							<p>Nice work Roger!</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="November 10th 2010, 3:00:31 pm">November 10th 2010</span>
								by <span class='authorname'>John Welch</span><br>
								<a class="icon-bg icon-link" href="question/78151/using-google-analytics-in-titanium-mobile#answer-141091" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>-1</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-142141">
				
						<section>
							<p>Any reason why data wouldn&#39;t show up in the GA interface?</p>
<p>I&#39;m seeing the info messages within titanium saying that a page has been reached… </p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="November 11th 2010, 2:00:35 pm">November 11th 2010</span>
								by <span class='authorname'>John Welch</span><br>
								<a class="icon-bg icon-link" href="question/78151/using-google-analytics-in-titanium-mobile#answer-142141" rel="permalink">permalink</a>
							</div>

							<h5>3 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>The info messages are showing that the page views have been logged in the database. It will then dispatch to GA every 10 seconds (or what every time you set) if there is a network connection. The best way to see if the tracking code is being sent to Google is by using a web proxy like <a href="http:&#x2F;&#x2F;www.charlesproxy.com&#x2F;">Charles Web Proxy</a>. You should then see the GA __utm.gif being requested.<br>Also GA interface is 24 hours behind, you just may need to wait (real pain when you are trying to debug!)</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 11th 2010, 2:08:40 pm">November 11th 2010</span>
											by <span class='authorname'>Roger Chapman</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>The GA interface typically runs 3-4 hours behind… You just have to change the date that you are looking at. I&#39;ll use that web proxy to test. Thanks for the tip. Looks like I had the wrong tracking in the code.</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 11th 2010, 2:32:30 pm">November 11th 2010</span>
											by <span class='authorname'>John Welch</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Looks like it works. I&#39;m seeing results in GA.</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 11th 2010, 4:36:49 pm">November 11th 2010</span>
											by <span class='authorname'>John Welch</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>-1</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-142331">
				
						<section>
							<p>I&#39;m not sure if GA doesn&#39;t completely report the data until hours later, but it appears the iPhone OS version is not available within GA. Any idea why? These user-agent strings look good:</p>
<p>Here is the user-agent from your js file:<br>User-Agent:    GoogleAnalytics&#x2F;1.0 (iPhone Simulator; U; CPU iPhone OS 4.1 like Mac OS X; en-undefined)</p>
<p>Here is the user-agent from iPhone simulator on a website:<br>User-Agent:    Mozilla&#x2F;5.0 (iPhone Simulator; U; CPU iPhone OS 4_1 like Mac OS X; en-us) AppleWebKit&#x2F;532.9 (KHTML, like Gecko) Version&#x2F;4.0.5 Mobile&#x2F;8B117 Safari&#x2F;6531.22.7</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="November 11th 2010, 4:54:43 pm">November 11th 2010</span>
								by <span class='authorname'>John Welch</span><br>
								<a class="icon-bg icon-link" href="question/78151/using-google-analytics-in-titanium-mobile#answer-142331" rel="permalink">permalink</a>
							</div>

							<h5>3 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>The en-undefined is occurring since I didn&#39;t edit the Titanium SDK I believe… But I didn&#39;t think this would be needed…</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 11th 2010, 4:56:45 pm">November 11th 2010</span>
											by <span class='authorname'>John Welch</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>The user agent is a special user agent that is used by the official GA SDK. if you don&#39;t want to change the Titanium SDK, you could manually set the countryCode to US.</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 11th 2010, 6:33:11 pm">November 11th 2010</span>
											by <span class='authorname'>Roger Chapman</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I was mostly referring to the fact the OS version wasn&#39;t being displayed.</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 11th 2010, 7:13:24 pm">November 11th 2010</span>
											by <span class='authorname'>John Welch</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>-1</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-144581">
				
						<section>
							<p>Thanks for sharing, I will be implementing this when my app nears completion</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="November 16th 2010, 3:24:28 pm">November 16th 2010</span>
								by <span class='authorname'>Mark Beech</span><br>
								<a class="icon-bg icon-link" href="question/78151/using-google-analytics-in-titanium-mobile#answer-144581" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>-1</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-160841">
				
						<section>
							<p>Roger, </p>
<p>Have you checked the module against 1.5? I think some runtime errors are occurring. </p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="December 14th 2010, 5:08:34 pm">December 14th 2010</span>
								by <span class='authorname'>John Welch</span><br>
								<a class="icon-bg icon-link" href="question/78151/using-google-analytics-in-titanium-mobile#answer-160841" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>I&#39;m using 1.5.1 and it seems to work fine.</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 6th 2011, 1:04:00 pm">January 6th 2011</span>
											by <span class='authorname'>Roger Chapman</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>-1</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-167551">
				
						<section>
							<p>Hello guys, i am new to titanium. Somebody could give a step by step on how to implement this module into an app?</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="December 22nd 2010, 2:58:56 pm">December 22nd 2010</span>
								by <span class='authorname'>pablo espinosa</span><br>
								<a class="icon-bg icon-link" href="question/78151/using-google-analytics-in-titanium-mobile#answer-167551" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>You you have a look at the github repo link there is a sample application you can follow.</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 6th 2011, 1:04:57 pm">January 6th 2011</span>
											by <span class='authorname'>Roger Chapman</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>-1</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-197781">
				
						<section>
							<p>I am getting an error when I include analytics.js</p>
<p>&quot;Result of expression &#39;Titanium.Database&#39; [undefined] is not an object at analytics.js (line 107)</p>
<p>Any clue?</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="February 14th 2011, 2:45:52 pm">February 14th 2011</span>
								by <span class='authorname'>pablo espinosa</span><br>
								<a class="icon-bg icon-link" href="question/78151/using-google-analytics-in-titanium-mobile#answer-197781" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>You&#39;ll need to delete everything in the build folder and try to launch it again.</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 3rd 2011, 10:27:05 pm">April 3rd 2011</span>
											by <span class='authorname'>Daniel Tome</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>-1</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-206453">
				
						<section>
							<p>Roger in your readme file you say &quot;In the Titanium SDK add the following… iphone&#x2F;Classes&#x2F;PlatformModule.m</p>
<p>-(NSString<em>)countryCode<br>{<br>    NSLocale </em>locale = [NSLocale currentLocale];<br>    return [locale objectForKey:NSLocaleCountryCode];<br>}</p>
<p>iphone&#x2F;Classes&#x2F;PlatformModule.h</p>
<p>@property(readonly,nonatomic) NSString *countryCode;<br>&quot; </p>
<p>what is the file name of the file to update?  There is a lot of files in the sdk folder.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="April 18th 2011, 7:28:47 pm">April 18th 2011</span>
								by <span class='authorname'>Luc Martin</span><br>
								<a class="icon-bg icon-link" href="question/78151/using-google-analytics-in-titanium-mobile#answer-206453" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>iphone&#x2F;Classes&#x2F;PlatformModule.m ;)</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 3rd 2011, 9:21:06 am">May 3rd 2011</span>
											by <span class='authorname'>Sebastian Klaus</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>-1</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-211464">
				
						<section>
							<p>i was trying to run the project file provided, unfortunately it cant be run in emulator (no &quot;launch&quot; button). anyone could help me?</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="June 27th 2011, 1:16:53 am">June 27th 2011</span>
								by <span class='authorname'>kaki lang</span><br>
								<a class="icon-bg icon-link" href="question/78151/using-google-analytics-in-titanium-mobile#answer-211464" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>-1</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-214907">
				
						<section>
							<p>I&#39;ve just started testing this out and it seems promising! However, from the example in app.js, do I need to put the code at the top on every page I want to track? Just curious as to how you all did it. I&#39;m thinking maybe just using an include?</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="July 29th 2011, 6:06:40 pm">July 29th 2011</span>
								by <span class='authorname'>Scott Millar</span><br>
								<a class="icon-bg icon-link" href="question/78151/using-google-analytics-in-titanium-mobile#answer-214907" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>-1</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-220130">
				
						<section>
							<p>roger plz i want the explanation to this code…….can u do that for me</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="October 4th 2011, 9:01:01 am">October 4th 2011</span>
								by <span class='authorname'>nagina nagina</span><br>
								<a class="icon-bg icon-link" href="question/78151/using-google-analytics-in-titanium-mobile#answer-220130" rel="permalink">permalink</a>
							</div>

							<h5>4 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>i have tried this code but i couldn&#39;t get my events tracked………plz help me out of this</p>
</p>
										<div class="author">
											&mdash; commented <span title="October 4th 2011, 9:02:04 am">October 4th 2011</span>
											by <span class='authorname'>nagina nagina</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I have the same issue.<br>Followings are what I did to integrate GA into my titanium project.</p>
<ol>
<li>I&#39;d created home site (http:&#x2F;&#x2F;sites.goole.com&#x2F;testsite)</li>
<li>activated google analytics account to get web property ID.</li>
<li>put analytics.js into the folder where app.js is</li>
<li>then copy and paste next code into app.js :</li>
</ol>
<p>&gt; Titanium.include(&#39;analytics.js&#39;);<br>&gt; var analytics = new Analytics(&#39;UA-xxxxx-y&#39;); &#x2F;&#x2F; replaced to my web property id<br>&gt; Titanium.App.addEventListener(&#39;analytics_trackPageview&#39;, function(e){<br>    analytics.trackPageview(&#39;&#x2F;iPad&#39; + e.pageUrl);<br>});    &#x2F;&#x2F; replaced &#39;&#x2F;iPad&#39; to &#39;&#x2F;folderName&#39; that I want.</p>
<p>&gt; Titanium.App.addEventListener(&#39;analytics_trackEvent&#39;, function(e){<br>    analytics.trackEvent(e.category, e.action, e.label, e.value);<br>});</p>
<p>&gt; Titanium.App.Analytics = {<br>    trackPageview:function(pageUrl){<br>        Titanium.App.fireEvent(&#39;analytics_trackPageview&#39;, {pageUrl:pageUrl});<br>    },<br>    trackEvent:function(category, action, label, value){<br>&gt; Titanium.App.fireEvent(&#39;analytics_trackEvent&#39;, {category:category, action:action, label:label, value:value});<br>    }<br>}</p>
<p>&gt; analytics.start(10);</p>
<p>&gt; Titanium.App.addEventListener(&#39;close&#39;, function(e){<br>    analytics.stop();<br>});</p>
<ol>
<li>added event to track at one of windows like :<br>&gt; winName.addEventListener(&#39;focus&#39;, function(e){<br> Titanium.App.Analytics.trackPageview(&#39;&#x2F;folderName&#39;);<br>});</li>
</ol>
<p>google analytics pages still keeps saying to me &#39;Analytics is not installed yet&#39;<br>is there anything missing?<br>some posts says roger chapman&#39;s code works great, but not to me yet :(<br>show the the way please.</p>
</p>
										<div class="author">
											&mdash; commented <span title="October 11th 2011, 1:00:03 pm">October 11th 2011</span>
											by <span class='authorname'>jeeheon bak</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>hi …i am trying to implement google analytics in my app but i am getting this exception after analytics service started and nothing is getting  displayed on the dashboard……… (Thread-20) [40439,67197] Error posting events: Connect to &#x2F;107.21.236.169:443 timed out org.apache.http.conn.ConnectTimeoutException: Connect to &#x2F;107.21.236.169:443 timed out at org.apache.http.conn.scheme.PlainSocketFactory.connectSocket(PlainSocketFactory.java:121) at org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:143) at org.apache.http.impl.conn.AbstractPoolEntry.open(AbstractPoolEntry.java:164) at org.apache.http.impl.conn.AbstractPooledConnAdapter.open(AbstractPooledConnAdapter.java:119) at org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:348) at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:555) at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:653) at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:627) at org.apache.http.impl.client.AbstractHttpClient.execute(AbstractHttpClient.java:616) at org.appcelerator.titanium.analytics.TiAnalyticsService$1.run(TiAnalyticsService.java:133) at java.lang.Thread.run(Thread.java:1096)</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 26th 2012, 11:04:02 am">December 26th 2012</span>
											by <span class='authorname'>raj kumar</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Hi There, </p>
<p>i have same issue. Please help</p>
<p>Thanks,<br>Saamy</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 19th 2013, 6:06:32 pm">April 19th 2013</span>
											by <span class='authorname'>Saamy</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>-1</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-253729">
				
						<section>
							<p>I got it to work perfectly but I have one problem: when you&#39;re on a slow connection like edge or really slow 3g the app will stop functioning for a few seconds while uploading to google. Can you change the time limit or do anything else to make it work more smoothly?</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="January 2nd 2013, 10:37:17 am">January 2nd 2013</span>
								by <span class='authorname'>Pontus Backlund</span><br>
								<a class="icon-bg icon-link" href="question/78151/using-google-analytics-in-titanium-mobile#answer-253729" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>-1</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-268517">
				
						<section>
							<p><strong>&quot;I hope some one out there finds this useful!?&quot;</strong></p>
<p>Ha Ha Ha!!!</p>
<p>you sir are amazing! and i hope you will live for 1000 years!</p>
<p>answer to your question: found it useful thanks :D</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="September 13th 2013, 12:53:55 pm">September 13th 2013</span>
								by <span class='authorname'>anx patel</span><br>
								<a class="icon-bg icon-link" href="question/78151/using-google-analytics-in-titanium-mobile#answer-268517" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>-1</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
