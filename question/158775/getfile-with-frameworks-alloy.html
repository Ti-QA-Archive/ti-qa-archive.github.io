<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>GetFile with frameworks Alloy » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>GetFile with frameworks Alloy</h1>
		</header>
		<section>
			<p>Hello everyone.</p>
<p>I test the frameworks Alloy and I made ??good progress, but I&#39;m stuck on the recovery of a JSON file and retrieve its contents.<br>I develop for IOS.<br>I have a folder in APP &quot;extras&quot; with my JSON &quot;agenda.json&quot; file.</p>
<p>my controller agenda.js:</p>
<pre><code class="hljs">$.bt_yes.addEventListener(<span class="hljs-string">'click'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{    
      <span class="hljs-keyword">var</span> json = Ti.Filesystem.getFile(Ti.Filesystem.resourcesDirectory, <span class="hljs-string">'extras/agenda.json'</span>); 
      <span class="hljs-keyword">if</span>(json.exists()){
            <span class="hljs-keyword">var</span> response = <span class="hljs-built_in">JSON</span>.parse(json);  
          alert(response);
      }
        <span class="hljs-keyword">else</span>{alert(<span class="hljs-string">"pas de fichier"</span>);};
});
</code></pre><p>my file JSON agenda.json</p>
<pre><code class="hljs">{
    "<span class="hljs-attribute">lundi</span>":<span class="hljs-value">[
        {
            "<span class="hljs-attribute">focus</span>":<span class="hljs-value"><span class="hljs-string">"true"</span></span>,
            "<span class="hljs-attribute">dateJ</span>":<span class="hljs-value"><span class="hljs-string">"25"</span></span>,
            "<span class="hljs-attribute">dateM</span>":<span class="hljs-value"><span class="hljs-string">"Juin"</span></span>,
            "<span class="hljs-attribute">facebook</span>":<span class="hljs-value"><span class="hljs-string">"https://www.facebook.com/pages/Spin-Smashers/141952902582238?fref=ts"</span></span>,
            "<span class="hljs-attribute">imgFocus</span>":<span class="hljs-value"><span class="hljs-string">"img_focus.png"</span></span>,
            "<span class="hljs-attribute">heure</span>":<span class="hljs-value"><span class="hljs-string">"15h"</span></span>,
            "<span class="hljs-attribute">spectacle</span>":<span class="hljs-value"><span class="hljs-string">"SPIN SMASHER"</span></span>,
            "<span class="hljs-attribute">style</span>":<span class="hljs-value"><span class="hljs-string">"éléctro"</span></span>,
            "<span class="hljs-attribute">salle</span>":<span class="hljs-value"><span class="hljs-string">"MC DAID'S"</span></span>,
            "<span class="hljs-attribute">adresse</span>":<span class="hljs-value"><span class="hljs-string">"97 Rue Paul Doumer, 76600 Le Havre"</span></span>,
            "<span class="hljs-attribute">tel</span>":<span class="hljs-value"><span class="hljs-string">"02 35 41 30 40"</span></span>,
            "<span class="hljs-attribute">pub</span>":<span class="hljs-value"><span class="hljs-string">""</span></span>,
            "<span class="hljs-attribute">tarif</span>":<span class="hljs-value"><span class="hljs-string">"0€"</span></span>,
            "<span class="hljs-attribute">texte</span>":<span class="hljs-value"><span class="hljs-string">"Lorem ipsum dolor sit amet, consectetur adipiscing elit. In ut sapien est. Pellentesque ornare condimentum posuere. Morbi nec arcu orci. Pellentesque at luctus dui.Lorem ipsum dolor sit amet, consectetur adipiscing elit. In ut sapien est. Pellentesque ornare condimentum posuere. Morbi nec arcu orci. Pellentesque at luctus dui."</span>
        </span>},
        {
            "<span class="hljs-attribute">focus</span>":<span class="hljs-value"><span class="hljs-string">"true"</span></span>,
            "<span class="hljs-attribute">dateJ</span>":<span class="hljs-value"><span class="hljs-string">"25"</span></span>,
            "<span class="hljs-attribute">dateM</span>":<span class="hljs-value"><span class="hljs-string">"Juin"</span></span>,
            "<span class="hljs-attribute">facebook</span>":<span class="hljs-value"><span class="hljs-string">"https://www.facebook.com/pages/Spin-Smashers/141952902582238?fref=ts"</span></span>,
            "<span class="hljs-attribute">imgFocus</span>":<span class="hljs-value"><span class="hljs-string">"img_focus.png"</span></span>,
            "<span class="hljs-attribute">heure</span>":<span class="hljs-value"><span class="hljs-string">"18h"</span></span>,
            "<span class="hljs-attribute">spectacle</span>":<span class="hljs-value"><span class="hljs-string">"Tombola party"</span></span>,
            "<span class="hljs-attribute">style</span>":<span class="hljs-value"><span class="hljs-string">"éléctro pop"</span></span>,
            "<span class="hljs-attribute">salle</span>":<span class="hljs-value"><span class="hljs-string">"Salle de france"</span></span>,
            "<span class="hljs-attribute">adresse</span>":<span class="hljs-value"><span class="hljs-string">"97 Rue Paul Doumer, 76600 Le Havre"</span></span>,
            "<span class="hljs-attribute">tel</span>":<span class="hljs-value"><span class="hljs-string">"02 35 41 30 40"</span></span>,
            "<span class="hljs-attribute">pub</span>":<span class="hljs-value"><span class="hljs-string">""</span></span>,
            "<span class="hljs-attribute">tarif</span>":<span class="hljs-value"><span class="hljs-string">"0€"</span></span>,
            "<span class="hljs-attribute">texte</span>":<span class="hljs-value"><span class="hljs-string">"Lorem ipsum dolor sit amet, consectetur adipiscing elit. In ut sapien est. Pellentesque ornare condimentum posuere. Morbi nec arcu orci. Pellentesque at luctus dui.Lorem ipsum dolor sit amet, consectetur adipiscing elit. In ut sapien est. Pellentesque ornare condimentum posuere. Morbi nec arcu orci. Pellentesque at luctus dui."</span>
        </span>},
        {
            "<span class="hljs-attribute">focus</span>":<span class="hljs-value"><span class="hljs-string">"true"</span></span>,
            "<span class="hljs-attribute">dateJ</span>":<span class="hljs-value"><span class="hljs-string">"25"</span></span>,
            "<span class="hljs-attribute">dateM</span>":<span class="hljs-value"><span class="hljs-string">"Juin"</span></span>,
            "<span class="hljs-attribute">facebook</span>":<span class="hljs-value"><span class="hljs-string">"https://www.facebook.com/pages/Spin-Smashers/141952902582238?fref=ts"</span></span>,
            "<span class="hljs-attribute">imgFocus</span>":<span class="hljs-value"><span class="hljs-string">"img_focus.png"</span></span>,
            "<span class="hljs-attribute">heure</span>":<span class="hljs-value"><span class="hljs-string">"23h"</span></span>,
            "<span class="hljs-attribute">spectacle</span>":<span class="hljs-value"><span class="hljs-string">"Tombola party"</span></span>,
            "<span class="hljs-attribute">style</span>":<span class="hljs-value"><span class="hljs-string">"éléctro pop"</span></span>,
            "<span class="hljs-attribute">salle</span>":<span class="hljs-value"><span class="hljs-string">"Salle de france"</span></span>,
            "<span class="hljs-attribute">adresse</span>":<span class="hljs-value"><span class="hljs-string">"97 Rue Paul Doumer, 76600 Le Havre"</span></span>,
            "<span class="hljs-attribute">tel</span>":<span class="hljs-value"><span class="hljs-string">"02 35 41 30 40"</span></span>,
            "<span class="hljs-attribute">pub</span>":<span class="hljs-value"><span class="hljs-string">""</span></span>,
            "<span class="hljs-attribute">tarif</span>":<span class="hljs-value"><span class="hljs-string">"0€"</span></span>,
            "<span class="hljs-attribute">texte</span>":<span class="hljs-value"><span class="hljs-string">"Lorem ipsum dolor sit amet, consectetur adipiscing elit. In ut sapien est. Pellentesque ornare condimentum posuere. Morbi nec arcu orci. Pellentesque at luctus dui.Lorem ipsum dolor sit amet, consectetur adipiscing elit. In ut sapien est. Pellentesque ornare condimentum posuere. Morbi nec arcu orci. Pellentesque at luctus dui."</span>
        </span>}



    ]
</span>}
</code></pre><p>Thanks for your answers.</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="October 25th 2013, 7:59:20 am">October 25th 2013</span>
				by <span class='authorname'>stephane marry</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>alloy</span></li>
					
						<li><span class='tagname'>getfile</span></li>
					
						<li><span class='tagname'>json</span></li>
					
						<li><span class='tagname'>location</span></li>
					
						<li><span class='tagname'>parse</span></li>
					
				</ul>
			

			<section>
				<h5>2 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Hi Stephane,<br>where you put your <strong>extras</strong> folder in App??? put it in App&#x2F;assets&#x2F;extras.</p>
</div>
							<div class="author">
								&mdash; commented <span title="October 25th 2013, 8:09:01 am">October 25th 2013</span>
								by <span class='authorname'>Sanat Mamtora</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>no App&#x2F;extras&#x2F;agenda.json but i test too App&#x2F;assets&#x2F;iphone&#x2F;extras&#x2F;agenda.json</p>
</div>
							<div class="author">
								&mdash; commented <span title="October 25th 2013, 8:11:16 am">October 25th 2013</span>
								by <span class='authorname'>stephane marry</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>1</span> Vote</div>
			<div class="answers"><span>4</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>4 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-270420">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>HI Stephane,</p>
<p>Put Your folder in <strong>app&gt;assets</strong> and your file. now your is in  <strong>app&gt;asssets&gt;extras&gt;agenda.json</strong>.</p>
<p>and your code is:</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> json = Ti.Filesystem.getFile(Ti.Filesystem.resourcesDirectory, <span class="hljs-string">'extras/agenda.json'</span>); 

<span class="hljs-comment">// you also try bellow</span>

<span class="hljs-comment">//    var json = Ti.Filesystem.getFile(Ti.Filesystem.resourcesDirectory, '/extras/agenda.json'); </span>

<span class="hljs-comment">//    var json = Ti.Filesystem.getFile(Ti.Filesystem.applicationDataDirectory + '/extras/agenda.json');</span>
</code></pre><p>Thanks.. :)</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="October 25th 2013, 8:19:25 am">October 25th 2013</span>
								by <span class='authorname'>Sanat Mamtora</span><br>
								<a class="icon-bg icon-link" href="question/158775/getfile-with-frameworks-alloy#answer-270420" rel="permalink">permalink</a>
							</div>

							<h5>2 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>and use it as @Larrie says,</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> jsonData = JSON.<span class="hljs-keyword">parse</span>(json.<span class="hljs-keyword">read</span>().text);
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="October 25th 2013, 8:21:48 am">October 25th 2013</span>
											by <span class='authorname'>Sanat Mamtora</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Enjoy.. ;)</p>
</p>
										<div class="author">
											&mdash; commented <span title="October 25th 2013, 10:47:10 am">October 25th 2013</span>
											by <span class='authorname'>Sanat Mamtora</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-270419">
				
						<section>
							<p>The variable json just contains a File object, not the actual json, so you need to read the contents in as follows:</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> response = JSON.<span class="hljs-keyword">parse</span>(json.<span class="hljs-keyword">read</span>().text);
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="October 25th 2013, 8:19:08 am">October 25th 2013</span>
								by <span class='authorname'>Larrie Wilson</span><br>
								<a class="icon-bg icon-link" href="question/158775/getfile-with-frameworks-alloy#answer-270419" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-270432">
				
						<section>
							<p>Thanks for your answers. It&#39;s ok now. ^^</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="October 25th 2013, 10:42:36 am">October 25th 2013</span>
								by <span class='authorname'>stephane marry</span><br>
								<a class="icon-bg icon-link" href="question/158775/getfile-with-frameworks-alloy#answer-270432" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-281676">
				
						<section>
							<p>Are you sure this works? I am on 3.3.0 GA and have the same file in assets&#x2F;data&#x2F;data.json. Because when the compilation will happen the path will always be (if running on an iPhone simulator) as Resources&#x2F;iphone&#x2F;data&#x2F;data.json</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 14th 2014, 2:58:01 pm">August 14th 2014</span>
								by <span class='authorname'>Adnan Baliwala</span><br>
								<a class="icon-bg icon-link" href="question/158775/getfile-with-frameworks-alloy#answer-281676" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
