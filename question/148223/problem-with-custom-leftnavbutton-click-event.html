<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Problem with custom leftNavButton click event Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Problem with custom leftNavButton click event</h1>
		</header>
		<section>
			<p>Hi guys,</p>
<p>I&#39;ve got a strange problem with a custom styled leftNavButton. I&#39;ve managed to completely change look the of the leftNavButton, and the addeventlisteners are working perfectly as well. However, whenever I directly tap on the button, I get this dark transparent overlay on top of the button and I can&#39;t seem to get rid of it. When I tap slightly to the right of the button (because of the slightly larger hit field) I don&#39;t get the dark transparent overlay. This is the way it actually should be when tapping directly on top of the button as well. But when I tap directly on top of the button I do get the overlay, and I don&#39;t want this to happen. Anyone know a solution to this?</p>
<p>Here&#39;s my code and some screenshot.</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> backButton = Ti.UI.createButton({
    style: <span class="hljs-number">0</span>,
    image:<span class="hljs-string">'/images/skin/navigation/back-btn.png'</span>,
    backgroundImage:<span class="hljs-string">'none'</span>,
    backgroundColor:<span class="hljs-string">'none'</span>,
    width:<span class="hljs-number">41</span>,
    height:<span class="hljs-number">44</span>,
    top:<span class="hljs-number">0</span>,
    left:<span class="hljs-number">0</span>,
});
<span class="hljs-built_in">window</span>.leftNavButton = backButton;
backButton.addEventListener(<span class="hljs-string">'singletap'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
    Ti.UI.currentWindow.close();
});

<span class="hljs-comment">// Here I change the image of the button, this image has the white glow on top of the button to indicate it's being tapped </span>
backButton.addEventListener(<span class="hljs-string">'touchstart'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)</span>{
    backButton.image=<span class="hljs-string">'/images/skin/navigation/back-btn-click.png'</span>; <span class="hljs-comment">//</span>
});

backButton.addEventListener(<span class="hljs-string">'touchend'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
    backButton.image= <span class="hljs-string">'/images/skin/navigation/back-btn.png'</span>;
    <span class="hljs-comment">// Perform the code you would have normally done in the click event</span>
});
backButton.addEventListener(<span class="hljs-string">'touchcancel'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
    backButton.image= <span class="hljs-string">'/images/skin/navigation/back-btn.png'</span>;
});
</code></pre><p>This is a screenshot when tapping directly on top of the button. Here I get the dark overlay which I don&#39;t want.<br><img src="http:&#x2F;&#x2F;users.telenet.be&#x2F;lonniedarko&#x2F;screenshots&#x2F;tap-hit.png" alt="I don&#39;t want this"></p>
<p>this is a screenshot when tapping slightly to the right of the button. As you can see I don&#39;t get the dark overlay here. This is how I want it to be when I tap on the button itself.<br><img src="http:&#x2F;&#x2F;users.telenet.be&#x2F;lonniedarko&#x2F;screenshots&#x2F;tap-right.png" alt="I want this"></p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="February 13th 2013, 10:10:08 am">February 13th 2013</span>
				by <span class='authorname'>Elon Mulder</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>button</span></li>
					
						<li><span class='tagname'>click</span></li>
					
						<li><span class='tagname'>image</span></li>
					
						<li><span class='tagname'>leftnavbutton</span></li>
					
						<li><span class='tagname'>tap</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>3</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>3 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-256752">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>Hi</p>
<p>You are unlikely to get exactly what you want as unfortunately the rules on styles for things that appear in the navigation bar are working against you - it is not personal.</p>
<p>There is a way around though.</p>
<pre><code class="hljs">var backButton = <span class="hljs-type">Ti</span>.<span class="hljs-type">UI</span>.createButton({
    backgroundImage: <span class="hljs-symbol">'KS_nav_ui</span>.png',
    backgroundSelectedImage: <span class="hljs-symbol">'KS_nav_views</span>.png',
    height: <span class="hljs-number">43</span>,
    image: <span class="hljs-symbol">'trans</span>.png',
    left: <span class="hljs-number">0</span>,
    top: <span class="hljs-number">0</span>,
    style: <span class="hljs-number">0</span>,
    width: <span class="hljs-number">46</span>
});
</code></pre><p>This DOES work on iOS, even though the documentation will have you think it does not.</p>
<p>The trick here is that you use a transparent image with the same dimensions as the image you expect to use.</p>
<p>My example uses the two default icons to show state changes, but you change them to however you wish to reflect the change.  You will not get the dark overlay and you choose the effect by providing a suitable selected image.  So you can of course add the effect of a glow or choose something more fitting for your app as you get to choose now.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="February 13th 2013, 8:40:05 pm">February 13th 2013</span>
								by <span class='authorname'>Malcolm Hollingsworth</span><br>
								<a class="icon-bg icon-link" href="question/148223/problem-with-custom-leftnavbutton-click-event#answer-256752" rel="permalink">permalink</a>
							</div>

							<h5>2 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Thank you so much Malcolm, that totally did the trick. You&#39;re a life saver!</p>
</p>
										<div class="author">
											&mdash; commented <span title="February 13th 2013, 8:54:56 pm">February 13th 2013</span>
											by <span class='authorname'>Elon Mulder</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Happy to help.</p>
</p>
										<div class="author">
											&mdash; commented <span title="February 13th 2013, 9:06:44 pm">February 13th 2013</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-256706">
				
						<section>
							<p>The glow effect started in v1.8.x of the SDK. Some people like it, others dont! Checkout <a href="http:&#x2F;&#x2F;developer.appcelerator.com&#x2F;question&#x2F;131526&#x2F;buttons-glow-in-181-">this page</a> for some solutions</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="February 13th 2013, 10:14:37 am">February 13th 2013</span>
								by <span class='authorname'>Nick Milner</span><br>
								<a class="icon-bg icon-link" href="question/148223/problem-with-custom-leftnavbutton-click-event#answer-256706" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>he is talking about that dark overlay not the glow effect.</p>
</p>
										<div class="author">
											&mdash; commented <span title="February 13th 2013, 10:22:57 am">February 13th 2013</span>
											by <span class='authorname'>Mitul Bhalia</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-256707">
				
						<section>
							<p>hi,<br>try to set backgroundImage and backgroundSelectedImage</p>
<pre><code class="hljs"><span class="xml">var backButton = Ti.UI.createButton(</span><span class="hljs-expression">{
    <span class="hljs-variable">style</span>: 0,
    <span class="hljs-variable">backgroundImage</span>:'<span class="hljs-end-block">/images</span><span class="hljs-end-block">/skin</span><span class="hljs-end-block">/navigation</span><span class="hljs-end-block">/back-btn.png</span>',
    <span class="hljs-variable">backgroundSelectedImage</span>:'<span class="hljs-end-block">/images</span><span class="hljs-end-block">/skin</span><span class="hljs-end-block">/navigation</span><span class="hljs-end-block">/back-btn.png</span>',
    <span class="hljs-variable">width</span>:41,
    <span class="hljs-variable">height</span>:44,
    <span class="hljs-variable">top</span>:0,
    <span class="hljs-variable">left</span>:0,
}</span><span class="xml">);</span>
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="February 13th 2013, 10:22:17 am">February 13th 2013</span>
								by <span class='authorname'>Mitul Bhalia</span><br>
								<a class="icon-bg icon-link" href="question/148223/problem-with-custom-leftnavbutton-click-event#answer-256707" rel="permalink">permalink</a>
							</div>

							<h5>3 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Hi Mitul,</p>
<p>thank you for your answer. I tried using backgroundSelectedImage, but no luck either. Also, according to Titanium Studio backgroundSelectedImage is for mobileweb and Android only, so it doesn&#39;t seem to affect iPhone.</p>
</p>
										<div class="author">
											&mdash; commented <span title="February 13th 2013, 10:44:15 am">February 13th 2013</span>
											by <span class='authorname'>Elon Mulder</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>it works in iphone also</p>
</p>
										<div class="author">
											&mdash; commented <span title="February 13th 2013, 10:49:54 am">February 13th 2013</span>
											by <span class='authorname'>Mitul Bhalia</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Hi Mitul,</p>
<p>tried using backgroundSelectedImage but still get the dark overlay.</p>
</p>
										<div class="author">
											&mdash; commented <span title="February 13th 2013, 12:52:51 pm">February 13th 2013</span>
											by <span class='authorname'>Elon Mulder</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
