<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Hide tabgroup on scroll » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Hide tabgroup on scroll</h1>
		</header>
		<section>
			<p>I am trying to implement the new iOS 7 feature you see on Safari, Facebook or even pinterest. When the user scrolls, the bottom tabgroup (or header) hides away seamlessly. This makes for a very pleasing content consumption experience. Once the user scrolls back up the tab comes back.</p>
<p>I am trying to implement that in appcelerator and facing some performance problems. I have the logic working to hide the tabgroup when the scroll occurs. However the experience is jerky. When the tabgroup hides away or shows up the actual scrolling speed is impacted. As if the animation operations momentarily pause the scroll operations. Wondering if anyone has a better way of doing this. Here is my code on this:</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> startY = <span class="hljs-number">0</span>;
<span class="hljs-keyword">var</span> endY = <span class="hljs-number">0</span>;
<span class="hljs-keyword">var</span> tabHidden = <span class="hljs-literal">false</span>;

<span class="hljs-comment">//collections is a tableview</span>
$.collections.addEventListener(<span class="hljs-string">"scroll"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)</span>{
    <span class="hljs-comment">//Ti.API.info("SCROLL BEGIN");</span>
    <span class="hljs-comment">//Ti.API.info(e);</span>

    <span class="hljs-keyword">if</span>(e.contentOffset.y &gt; startY)
    {
        <span class="hljs-comment">// User scrolling down, hide the tab</span>
        <span class="hljs-keyword">if</span>(!tabHidden)
        {
            <span class="hljs-comment">// My global alloy variable for the tabs, which can be accessed anywhere</span>
            Alloy.Globals.homeTab.animate({bottom:-<span class="hljs-number">49</span>,duration:<span class="hljs-number">250</span>});
                 tabHidden = <span class="hljs-literal">true</span>;            
        }
    }
    <span class="hljs-keyword">else</span>
    {
        <span class="hljs-comment">// User going up. show the tab</span>
        <span class="hljs-keyword">if</span>(tabHidden)
        {
            Alloy.Globals.homeTab.animate({bottom:<span class="hljs-number">0</span>,duration:<span class="hljs-number">250</span>});
            tabHidden = <span class="hljs-literal">false</span>;            
        }
    }
    <span class="hljs-comment">// set the new Y</span>
    endY = e.contentOffset.y;
});

$.collections.addEventListener(<span class="hljs-string">"scrollend"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)</span>{
    <span class="hljs-comment">//Ti.API.info("SCROLL END");</span>
    <span class="hljs-comment">//Ti.API.info(e);    </span>
    endY = e.contentOffset.y;
    startY = endY;
});
</code></pre>
		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="March 19th 2014, 3:38:27 pm">March 19th 2014</span>
				by <span class='authorname'>Abhishek Tiwari</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>ios7</span></li>
					
						<li><span class='tagname'>performance</span></li>
					
						<li><span class='tagname'>tabgroup</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>0</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>0 Answers</h3>

	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
