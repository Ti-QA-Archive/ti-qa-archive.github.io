<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>JSON View Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>JSON View</h1>
		</header>
		<section>
			<p>I want to parse this: </p>
<pre><code class="hljs">[{"<span class="hljs-attribute">City</span>":<span class="hljs-value"><span class="hljs-literal">null</span></span>,"<span class="hljs-attribute">Distance</span>":<span class="hljs-value"><span class="hljs-number">469</span></span>,"<span class="hljs-attribute">Email</span>":<span class="hljs-value"><span class="hljs-literal">null</span></span>,"<span class="hljs-attribute">Latitude</span>":<span class="hljs-value"><span class="hljs-number">0</span></span>,"<span class="hljs-attribute">Longitude</span>":<span class="hljs-value"><span class="hljs-number">0</span></span>,"<span class="hljs-attribute">Name</span>":<span class="hljs-value"><span class="hljs-string">"Cretin-Derham Hall"</span></span>,"<span class="hljs-attribute">PhoneNo</span>":<span class="hljs-value"><span class="hljs-literal">null</span></span>,"<span class="hljs-attribute">SchoolId</span>":<span class="hljs-value"><span class="hljs-number">75</span></span>,"<span class="hljs-attribute">State</span>":<span class="hljs-value"><span class="hljs-literal">null</span></span>,"<span class="hljs-attribute">Zip</span>":<span class="hljs-value"><span class="hljs-literal">null</span></span>},{"<span class="hljs-attribute">City</span>":<span class="hljs-value"><span class="hljs-literal">null</span></span>,"<span class="hljs-attribute">Distance</span>":<span class="hljs-value"><span class="hljs-number">213</span></span>,"<span class="hljs-attribute">Email</span>":<span class="hljs-value"><span class="hljs-literal">null</span></span>,"<span class="hljs-attribute">Latitude</span>":<span class="hljs-value"><span class="hljs-number">0</span></span>,"<span class="hljs-attribute">Longitude</span>":<span class="hljs-value"><span class="hljs-number">0</span></span>,"<span class="hljs-attribute">Name</span>":<span class="hljs-value"><span class="hljs-string">"East Ridge"</span></span>,"<span class="hljs-attribute">PhoneNo</span>":<span class="hljs-value"><span class="hljs-literal">null</span></span>,"<span class="hljs-attribute">SchoolId</span>":<span class="hljs-value"><span class="hljs-number">76</span></span>,"<span class="hljs-attribute">State</span>":<span class="hljs-value"><span class="hljs-literal">null</span></span>,"<span class="hljs-attribute">Zip</span>":<span class="hljs-value"><span class="hljs-literal">null</span></span>},{"<span class="hljs-attribute">City</span>":<span class="hljs-value"><span class="hljs-literal">null</span></span>,"<span class="hljs-attribute">Distance</span>":<span class="hljs-value"><span class="hljs-number">26</span></span>,"<span class="hljs-attribute">Email</span>":<span class="hljs-value"><span class="hljs-literal">null</span></span>,"<span class="hljs-attribute">Latitude</span>":<span class="hljs-value"><span class="hljs-number">0</span></span>,"<span class="hljs-attribute">Longitude</span>":<span class="hljs-value"><span class="hljs-number">0</span></span>,"<span class="hljs-attribute">Name</span>":<span class="hljs-value"><span class="hljs-string">"Hastings"</span></span>,"<span class="hljs-attribute">PhoneNo</span>":<span class="hljs-value"><span class="hljs-literal">null</span></span>,"<span class="hljs-attribute">SchoolId</span>":<span class="hljs-value"><span class="hljs-number">78</span></span>,"<span class="hljs-attribute">State</span>":<span class="hljs-value"><span class="hljs-literal">null</span></span>,"<span class="hljs-attribute">Zip</span>":<span class="hljs-value"><span class="hljs-literal">null</span></span>},{"<span class="hljs-attribute">City</span>":<span class="hljs-value"><span class="hljs-literal">null</span></span>,"<span class="hljs-attribute">Distance</span>":<span class="hljs-value"><span class="hljs-number">116</span></span>,"<span class="hljs-attribute">Email</span>":<span class="hljs-value"><span class="hljs-literal">null</span></span>,"<span class="hljs-attribute">Latitude</span>":<span class="hljs-value"><span class="hljs-number">0</span></span>,"<span class="hljs-attribute">Longitude</span>":<span class="hljs-value"><span class="hljs-number">0</span></span>,"<span class="hljs-attribute">Name</span>":<span class="hljs-value"><span class="hljs-string">"Stillwater"</span></span>,"<span class="hljs-attribute">PhoneNo</span>":<span class="hljs-value"><span class="hljs-literal">null</span></span>,"<span class="hljs-attribute">SchoolId</span>":<span class="hljs-value"><span class="hljs-number">81</span></span>,"<span class="hljs-attribute">State</span>":<span class="hljs-value"><span class="hljs-literal">null</span></span>,"<span class="hljs-attribute">Zip</span>":<span class="hljs-value"><span class="hljs-literal">null</span></span>},{"<span class="hljs-attribute">City</span>":<span class="hljs-value"><span class="hljs-literal">null</span></span>,"<span class="hljs-attribute">Distance</span>":<span class="hljs-value"><span class="hljs-number">0</span></span>,"<span class="hljs-attribute">Email</span>":<span class="hljs-value"><span class="hljs-literal">null</span></span>,"<span class="hljs-attribute">Latitude</span>":<span class="hljs-value"><span class="hljs-number">0</span></span>,"<span class="hljs-attribute">Longitude</span>":<span class="hljs-value"><span class="hljs-number">0</span></span>,"<span class="hljs-attribute">Name</span>":<span class="hljs-value"><span class="hljs-string">"White Bear Lake"</span></span>,"<span class="hljs-attribute">PhoneNo</span>":<span class="hljs-value"><span class="hljs-literal">null</span></span>,"<span class="hljs-attribute">SchoolId</span>":<span class="hljs-value"><span class="hljs-number">82</span></span>,"<span class="hljs-attribute">State</span>":<span class="hljs-value"><span class="hljs-literal">null</span></span>,"<span class="hljs-attribute">Zip</span>":<span class="hljs-value"><span class="hljs-literal">null</span></span>}
</code></pre><p>and push it into a table view in Alloy</p>
<p>here&#39;s my current code:</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> xhr = Titanium.Network.createHTTPClient();

xhr.onload = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)
</span>{
    Ti.API.info(<span class="hljs-string">'in utf-8 onload for GET'</span>);

    <span class="hljs-keyword">var</span> schools = <span class="hljs-built_in">eval</span>(<span class="hljs-string">'('</span> + <span class="hljs-keyword">this</span>.responseText +<span class="hljs-string">')'</span>);
};
<span class="hljs-keyword">var</span> tv = Ti.UI.createTableView();
<span class="hljs-built_in">window</span>.add(tv);

xhr.onload = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)
</span>{
    <span class="hljs-keyword">var</span> data = [];
    Ti.API.info(<span class="hljs-string">'in utf-8 onload for GET'</span>);
    <span class="hljs-keyword">var</span> schools = <span class="hljs-built_in">JSON</span>.parse(<span class="hljs-keyword">this</span>.responseText);
    <span class="hljs-keyword">for</span> (s <span class="hljs-keyword">in</span> schools)
    {
        data.push(Ti.UI.createTableViewRow({title: schools[s].Name});
    }

    tv.data = data;

};
</code></pre><p>It&#39;s not working. Can someone help me format it in alloy and make it functional?</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="March 30th 2015, 3:26:51 pm">March 30th 2015</span>
				by <span class='authorname'>Luminya Kala</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>alloy</span></li>
					
						<li><span class='tagname'>json</span></li>
					
						<li><span class='tagname'>table</span></li>
					
				</ul>
			

			<section>
				<h5>2 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Also, I would like to have the code in the actual file like a local file. How would i incorporate it in?</p>
</div>
							<div class="author">
								&mdash; commented <span title="March 30th 2015, 3:27:51 pm">March 30th 2015</span>
								by <span class='authorname'>Luminya Kala</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>What is the error that you are receiving ?</p>
<p>Is the data that you are receiving is valid ? You can check if your data is valid or not - <a href="http:&#x2F;&#x2F;jsonlint.com">JSON Validator</a></p>
</div>
							<div class="author">
								&mdash; commented <span title="March 30th 2015, 3:46:56 pm">March 30th 2015</span>
								by <span class='authorname'>Ranjith Kumar Nagella</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>-1</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-286799">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<pre><code class="hljs"><span class="hljs-keyword">var</span> schools = <span class="hljs-built_in">eval</span>(<span class="hljs-string">'('</span> + <span class="hljs-keyword">this</span>.responseText +<span class="hljs-string">')'</span>);
</code></pre><h4 id="why-in-the-name-of-all-that-is-holy-are-you-doing-this-">WHY IN THE NAME OF ALL THAT IS HOLY ARE YOU DOING THIS?????</h4>
<p>To be Frank, (May I be Frank? You can be George if you want. ) looking over your questions the last 24 hours, you really have no idea what you are doing.</p>
<p>If the response truly is json, then</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> schools = <span class="hljs-built_in">JSON</span>.parse(<span class="hljs-keyword">this</span>.responseText);
</code></pre><p>Based upon your sample above, schools is now an <strong>ARRAY</strong> of <strong>OBJECTS</strong> that you will need to walk through (probably in a FOR loop) to pull out each of the objects and do something with.</p>
<p>Now, I JUST answered a question like this in the last week, with a sample of code, showing it all in a nice try&#x2F;catch, to be sure you got JSON.  Search for it, find it, read it.  I was a darn good answer.</p>
<p>Since this is a darn good answer, you better mark it as correct. Just because you do not understand the answer, doesn&#39;t make it a wrong answer.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="March 30th 2015, 6:30:39 pm">March 30th 2015</span>
								by <span class='authorname'>Stephen Feather</span><br>
								<a class="icon-bg icon-link" href="question/181760/json-view.html#answer-286799" rel="permalink">permalink</a>
							</div>

							<h5>3 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p><a href="http:&#x2F;&#x2F;developer.appcelerator.com&#x2F;question&#x2F;181578&#x2F;json-alloy">http:&#x2F;&#x2F;developer.appcelerator.com&#x2F;question&#x2F;181578&#x2F;json-alloy</a></p>
</p>
										<div class="author">
											&mdash; commented <span title="March 30th 2015, 6:32:51 pm">March 30th 2015</span>
											by <span class='authorname'>Stephen Feather</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I already resolved this through looking at docs. I&#39;m new to titanium and alloy (model, controller and view) concept is new to me. I&#39;ve programmed before, but not with this concept. I&#39;m trying to learn quickly and bypass troubles I have through others assisting me. There is no reason to be brash and rude. Thank you for fitting into the stereotype of a programmer.</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 30th 2015, 6:35:30 pm">March 30th 2015</span>
											by <span class='authorname'>Luminya Kala</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Moderator</p>
<p>I have marked this question as answered as it has been and correctly. When questions are answered they should always be marked as such so others know you longer require assistance. </p>
<p>Please do not confuse the equal parts of humour and frustration by the person providing the answer with arrogance as sometimes answers need to be blunt. In the example code you provided you hit on an all too common problem that is repeated by too many new developers who find such examples by poor developers and are left wanting when they do not actually solve the problem - in this case &quot;eval&quot;. If not for the bluntness provided here that is designed to provide by both you and those who read this later - many would still think that the &quot;eval&quot; solution is correct. </p>
<p>This is the same base way I would have answered this question and many others would as well; a bit of humour and an attempt to focus those who read this into understanding the main issue. </p>
<p>For clarity - the main need to focus is based in this line;</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> schools = <span class="hljs-built_in">eval</span>(<span class="hljs-string">'('</span> + <span class="hljs-keyword">this</span>.responseText +<span class="hljs-string">')'</span>);
</code></pre><p>Look up &quot;eval is evil&quot; in your favourite search for the many dangers of following the &#39;help&#39; you found elsewhere to try this approach before seeking further assistance here. </p>
<p>I doubt Stephen really wanted you to be &#39;George&#39; notice the happy smilie face - equal parts humour and frustration that poor assistance is still out there as I said. </p>
<p>Keep coding and learning as we need new people becoming part of the community - but remember that sometimes we do need a bit of a shoke every once in a while to help us focus when we get led astray. Even us older seasoned developers.</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 30th 2015, 7:58:26 pm">March 30th 2015</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
