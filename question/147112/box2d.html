<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Box2D » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Box2D</h1>
		</header>
		<section>
			<p>Any one know how to remove collion on box2d module ? thanks</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="January 18th 2013, 5:06:51 pm">January 18th 2013</span>
				by <span class='authorname'>guellai farid</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>box2d</span></li>
					
						<li><span class='tagname'>game</span></li>
					
						<li><span class='tagname'>iphone</span></li>
					
				</ul>
			

			<section>
				<h5>4 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>What do you mean by remove collision?</p>
</div>
							<div class="author">
								&mdash; commented <span title="January 18th 2013, 5:29:01 pm">January 18th 2013</span>
								by <span class='authorname'>Paul Nelson</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>remove collision between objects</p>
</div>
							<div class="author">
								&mdash; commented <span title="January 18th 2013, 5:29:46 pm">January 18th 2013</span>
								by <span class='authorname'>guellai farid</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>You mean, you don&#39;t want objects to collide?</p>
</div>
							<div class="author">
								&mdash; commented <span title="January 18th 2013, 5:31:11 pm">January 18th 2013</span>
								by <span class='authorname'>Paul Nelson</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>I&#39;m trying use only Box2D gravity and setLinearvelocity</p>
</div>
							<div class="author">
								&mdash; commented <span title="January 18th 2013, 5:37:59 pm">January 18th 2013</span>
								by <span class='authorname'>guellai farid</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-254888">
				
						<section>
							<p>You can set the objects awake to false and&#x2F;or remove the object from the world.<br>ie.</p>
<pre><code class="hljs"><span class="hljs-tag">worldObject</span><span class="hljs-class">.setAwake</span>(<span class="hljs-tag">false</span>);

<span class="hljs-tag">world</span><span class="hljs-class">.destroyBody</span>(<span class="hljs-tag">worldObject</span>);
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="January 18th 2013, 5:30:34 pm">January 18th 2013</span>
								by <span class='authorname'>Paul Nelson</span><br>
								<a class="icon-bg icon-link" href="question/147112/box2d#answer-254888" rel="permalink">permalink</a>
							</div>

							<h5>15 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>worldObject.setAwake(false)  don&#39;t work in my code :</p>
<pre><code class="hljs">there is my code 


var redBall = Ti.UI.createView({
        backgroundColor: <span class="hljs-string">"red"</span>,
        i:i,
    <span class="hljs-comment">//    touchEnabled:false,</span>
        borderRadius: <span class="hljs-number">15</span>,
        red:<span class="hljs-literal">false</span>,
        width: <span class="hljs-number">60</span>,
        height: <span class="hljs-number">60</span>,
        bottom: <span class="hljs-number">0</span>,
        bottom:<span class="hljs-number">15</span>,
        left:<span class="hljs-number">80</span>
    });
    views.push(redBall);
redBallBodyRef[i] = world.addBody(redBall, {
        i:i,
        density: <span class="hljs-number">12.0</span>,
        friction: <span class="hljs-number">0.3</span>,
        restitution: <span class="hljs-number">0.4</span>,
        type: <span class="hljs-string">"dynamic"</span>
    });
</code></pre><p>i used array beacause i have the same several same object</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 18th 2013, 5:35:43 pm">January 18th 2013</span>
											by <span class='authorname'>guellai farid</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Yea, the array is the way to go.  You should be able to do…</p>
<pre><code class="hljs"><span class="hljs-tag">redBallBodyRef</span><span class="hljs-attr_selector">[i]</span><span class="hljs-class">.setAwake</span>(<span class="hljs-tag">false</span>);
</code></pre><p>Are you setting the awake to the object in the array or the redBall var?</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 18th 2013, 5:40:55 pm">January 18th 2013</span>
											by <span class='authorname'>Paul Nelson</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>i did the same think but it&#39;s don&#39;t work</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 18th 2013, 5:42:27 pm">January 18th 2013</span>
											by <span class='authorname'>guellai farid</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>So, your redBallBodyRef[i] is in the box2d world, bouncing around or what ever?  But when you go to set its awake to false, nothing happens?</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 18th 2013, 5:44:43 pm">January 18th 2013</span>
											by <span class='authorname'>Paul Nelson</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>exactly, i still have collision between the objects</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 18th 2013, 5:45:53 pm">January 18th 2013</span>
											by <span class='authorname'>guellai farid</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>there is all my code :</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> <span class="hljs-built_in">window</span> = Ti.UI.createWindow();
<span class="hljs-built_in">window</span>.orientationModes = [
    Titanium.UI.LANDSCAPE_LEFT
];    
<span class="hljs-built_in">window</span>.fullscreen=<span class="hljs-literal">true</span>;
<span class="hljs-keyword">var</span> view = Ti.UI.createView({
    top:<span class="hljs-number">0</span>,
    left:<span class="hljs-number">0</span>,
    height:<span class="hljs-number">768</span>
});
<span class="hljs-built_in">window</span>.add(view);
<span class="hljs-built_in">window</span>.open();

<span class="hljs-comment">// load the module</span>
<span class="hljs-keyword">var</span> Box2D = <span class="hljs-built_in">require</span>(<span class="hljs-string">'ti.box2d'</span>);

<span class="hljs-comment">// create the world, using view as the surface</span>
<span class="hljs-keyword">var</span> world = Box2D.createWorld(view);


<span class="hljs-keyword">var</span> blueBall = Ti.UI.createView({
    backgroundColor: <span class="hljs-string">"blue"</span>,
<span class="hljs-comment">//    touchEnabled:false,</span>
    borderRadius: <span class="hljs-number">15</span>,
    width: <span class="hljs-number">30</span>,
    height: <span class="hljs-number">30</span>,
    bottom: <span class="hljs-number">10</span>,
    left:<span class="hljs-number">80</span>
});

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ramdom</span>(<span class="hljs-params">from,to</span>)</span>{
    <span class="hljs-keyword">return</span> <span class="hljs-built_in">Math</span>.floor(<span class="hljs-built_in">Math</span>.random() * (to - from + <span class="hljs-number">1</span>) + from);    
}
<span class="hljs-keyword">var</span> interval =<span class="hljs-number">1000</span>;
<span class="hljs-keyword">var</span> redBallBodyRef=[];
<span class="hljs-keyword">var</span> i=<span class="hljs-number">0</span>;
<span class="hljs-keyword">var</span> views=[];
setInterval(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    Ti.API.info(<span class="hljs-string">'interval='</span>+interval);
    <span class="hljs-keyword">var</span> type = ramdom(<span class="hljs-number">1</span>,<span class="hljs-number">2</span>); <span class="hljs-comment">// 1 red ball 2-blue ball</span>
    <span class="hljs-keyword">var</span> pos = ramdom(<span class="hljs-number">1</span>,<span class="hljs-number">16</span>);
    <span class="hljs-keyword">var</span> deg = ramdom(<span class="hljs-number">1</span>,<span class="hljs-number">8</span>);
    <span class="hljs-keyword">var</span> puissance = ramdom(<span class="hljs-number">20</span>,<span class="hljs-number">35</span>);
    <span class="hljs-keyword">if</span> ((deg &lt;=<span class="hljs-number">4</span>) &amp;&amp; (puissance&gt;<span class="hljs-number">30</span>)){
        puissance=<span class="hljs-number">22</span>;
    }

    Ti.API.info(<span class="hljs-string">'type='</span>+type,<span class="hljs-string">' '</span>,<span class="hljs-string">"pos="</span>+pos,<span class="hljs-string">' puissance='</span>+puissance,<span class="hljs-string">' interval='</span>+interval);


    <span class="hljs-keyword">var</span> redBall = Ti.UI.createView({
        backgroundColor: <span class="hljs-string">"red"</span>,
        i:i,
    <span class="hljs-comment">//    touchEnabled:false,</span>
        borderRadius: <span class="hljs-number">15</span>,
        red:<span class="hljs-literal">false</span>,
        width: <span class="hljs-number">60</span>,
        height: <span class="hljs-number">60</span>,
        bottom: <span class="hljs-number">0</span>,
        bottom:<span class="hljs-number">15</span>,
        left:<span class="hljs-number">80</span>
    });
    views.push(redBall);

    redBall.addEventListener(<span class="hljs-string">"click"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
        <span class="hljs-keyword">if</span> ( e.source.red){
            Ti.API.info(<span class="hljs-string">'touche rouge'</span>);

            <span class="hljs-keyword">if</span> (interval &gt;=<span class="hljs-number">300</span>){
                interval=interval-<span class="hljs-number">100</span>;
            }    

            views[e.source.i].opacity=<span class="hljs-number">0.5</span>;
            <span class="hljs-comment">//world.DestroyBody(views[e.source.i]);</span>
            <span class="hljs-comment">//view.remove();</span>
        } 


    });

    <span class="hljs-keyword">if</span> (pos&gt;<span class="hljs-number">8</span>){
        deg=deg*-<span class="hljs-number">1</span>; <span class="hljs-comment">// inverser le deg</span>
    }

    <span class="hljs-keyword">if</span> (type ==<span class="hljs-number">1</span> ){
        redBall.backgroundColor=<span class="hljs-string">'red'</span>;
        redBall.red=<span class="hljs-literal">true</span>;

    } <span class="hljs-keyword">else</span> {
        redBall.backgroundColor=<span class="hljs-string">'blue'</span>;
        redBall.red=<span class="hljs-literal">false</span>;
    }
    redBall.left=pos*<span class="hljs-number">64</span>;

    redBallBodyRef[i] = world.addBody(redBall, {
        i:i,
        density: <span class="hljs-number">12.0</span>,
        friction: <span class="hljs-number">0.3</span>,
        restitution: <span class="hljs-number">0.4</span>,
        type: <span class="hljs-string">"dynamic"</span>
    });


    redBallBodyRef[i].setAwake(<span class="hljs-literal">false</span>);
<span class="hljs-comment">//    redBallBodyRef[i].setActive(false);</span>
    redBallBodyRef[i].setLinearVelocity(deg, puissance);
        i+=<span class="hljs-number">1</span>;
    },interval);

world.addEventListener(<span class="hljs-string">"collision"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{

    Ti.API.info(<span class="hljs-built_in">JSON</span>.stringify(e),<span class="hljs-string">' '</span>+e.a+<span class="hljs-string">' '</span>+e.b);
    <span class="hljs-comment">//var object = e.a;</span>
    <span class="hljs-comment">//Ti.API.info(objet);</span>


});

<span class="hljs-comment">/*
Ti.Gesture.addEventListener('orientationchange', function(e) {
    if (e.orientation == Titanium.UI.LANDSCAPE_LEFT) {
        world.setGravity(9.91, 0);
    } else if (e.orientation == Titanium.UI.LANDSCAPE_RIGHT) {
        world.setGravity(-9.91, 0);
    } else if (e.orientation == Titanium.UI.UPSIDE_PORTRAIT) {
        world.setGravity(0, 9.91);
    } else if (e.orientation == Titanium.UI.PORTRAIT) {
        world.setGravity(0, -9.91);
    }
});


*/</span>
<span class="hljs-comment">// start the world</span>
world.start();
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="January 18th 2013, 5:48:43 pm">January 18th 2013</span>
											by <span class='authorname'>guellai farid</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Can you try and add one object, without using the redBallBodyRef array, and see if you can setAwake(false) to it?  I&#39;m guessing, your reference to the array is lining up somehow.</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 18th 2013, 5:48:56 pm">January 18th 2013</span>
											by <span class='authorname'>Paul Nelson</span>
										</div>
									</li>
								
									<li class="comment">
										<p><pre><code class="hljs"><span class="hljs-tag">world</span><span class="hljs-class">.destroyBody</span>(<span class="hljs-tag">redBallBodyRef</span><span class="hljs-attr_selector">[i]</span>);
</code></pre><p>work well</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 18th 2013, 5:55:24 pm">January 18th 2013</span>
											by <span class='authorname'>guellai farid</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>any idea Paul  excuse me i taked lot of your time :)</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 18th 2013, 6:01:02 pm">January 18th 2013</span>
											by <span class='authorname'>guellai farid</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I&#39;m going to make a sample app now and test it.  I use the setAwake in my game with no problems, not sure why it&#39;s not working for you.</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 18th 2013, 6:01:42 pm">January 18th 2013</span>
											by <span class='authorname'>Paul Nelson</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Your setAwake is working.  I believe the problem, is by calling linearVelocity, you are setting the awake back to true.  You can add the setAwake to your collision event listener, and see the objects stopping when they collide.  Try below.</p>
<pre><code class="hljs">world.addEventListener(<span class="hljs-string">"collision"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{

    Ti.API.info(<span class="hljs-built_in">JSON</span>.stringify(e),<span class="hljs-string">' '</span>+e.a+<span class="hljs-string">' '</span>+e.b);

    e.a.setAwake(<span class="hljs-literal">false</span>);
    e.b.setAwake(<span class="hljs-literal">false</span>);
    <span class="hljs-comment">//var object = e.a;</span>
    <span class="hljs-comment">//Ti.API.info(objet);</span>

});
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="January 18th 2013, 6:07:47 pm">January 18th 2013</span>
											by <span class='authorname'>Paul Nelson</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Your right but it&#39;s not the what i want to do  if you have run my exemple you see there is red and blue blocks and i want that no collision between them</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 18th 2013, 6:13:43 pm">January 18th 2013</span>
											by <span class='authorname'>guellai farid</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>If you don&#39;t want collision between them, they need to exist within 2 different worlds.  I believe box2d assumes any dynamic&#x2F;static objects should have some form of collision detection.  Maybe you can make a blueWorld and redWorld.</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 18th 2013, 6:16:56 pm">January 18th 2013</span>
											by <span class='authorname'>Paul Nelson</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>thanks a lot Paul for your help i&#39;ll try that</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 18th 2013, 6:20:00 pm">January 18th 2013</span>
											by <span class='authorname'>guellai farid</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Paul I think the only way to solve that it&#39;s to use mask filting but i dont know how i can use it in titanium :)</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 18th 2013, 6:32:22 pm">January 18th 2013</span>
											by <span class='authorname'>guellai farid</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
