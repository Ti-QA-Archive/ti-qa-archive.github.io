<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>app has bee rejected by   non-public API » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>app has bee rejected by   non-public API</h1>
		</header>
		<section>
			<p>after app submission. apple has reject by non-public api</p>
<p>below message from apple: </p>
<p>Our system has determined your app is using private or undocumented APIs:<br>The app references private or undocumented symbols<br>__bzero</p>
<p>how can i trace which API is problem</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="August 5th 2011, 5:04:36 am">August 5th 2011</span>
				by <span class='authorname'>Sarut Chaprasert</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>non-public api</span></li>
					
				</ul>
			

			<section>
				<h5>3 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>sdk 1.7.2</p>
</div>
							<div class="author">
								&mdash; commented <span title="August 5th 2011, 5:22:29 am">August 5th 2011</span>
								by <span class='authorname'>Sarut Chaprasert</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Weird. That appears to be a standard (by possible deprecated) command for &#39;copying zeros in to a string&#39;<br>http:&#x2F;&#x2F;pubs.opengroup.org&#x2F;onlinepubs&#x2F;000095399&#x2F;functions&#x2F;bzero.html</p>
<p>It&#39;s has been in the Titanium SDK for quite some time. </p>
<p>It appears in AsyncUdpSocket.m, NSData+Additions.m and Reachability.m in the Titanium SDK source.</p>
</div>
							<div class="author">
								&mdash; commented <span title="August 5th 2011, 9:35:40 am">August 5th 2011</span>
								by <span class='authorname'>Kosso</span>
							</div>
						</li>
					
						<li class="comment">
							<div><ul>
<li>but possibly deprecated*  (argh, we need an edit button here!)</li>
</ul>
</div>
							<div class="author">
								&mdash; commented <span title="August 5th 2011, 9:36:08 am">August 5th 2011</span>
								by <span class='authorname'>Kosso</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>4</span> Votes</div>
			<div class="answers"><span>3</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>3 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-218367">
				
						<section>
							<p>Sarut: Your apple reviewer is high on something.</p>
<p>Not only is this a Public API (BSD License), and documented by Apple, but Apple&#39;s own <a href="http:&#x2F;&#x2F;developer.apple.com&#x2F;library&#x2F;prerelease&#x2F;ios&#x2F;#samplecode&#x2F;Reachability&#x2F;Listings&#x2F;Classes_Reachability_m.html#&#x2F;&#x2F;apple_ref&#x2F;doc&#x2F;uid&#x2F;DTS40007324-Classes_Reachability_m-DontLinkElementID_7">sample code</a> uses it</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="September 7th 2011, 7:13:58 pm">September 7th 2011</span>
								by <span class='authorname'>Tony Guntharp</span><br>
								<a class="icon-bg icon-link" href="question/123785/app-has-bee-rejected-by-non-public-api.html#answer-218367" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>You have to be high on something to work for Steve Jobs. Quite a few of Apple&#39;s employees are driven to alcholism, they tend to leave their iPhones in bars :)</p>
</p>
										<div class="author">
											&mdash; commented <span title="September 7th 2011, 9:03:39 pm">September 7th 2011</span>
											by <span class='authorname'>Shamsul Azhar Ahmad Shamsuddin</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>6</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-215589">
				
						<section>
							<p>That sucks! All these are trivially changeable into memset&#39;s. If you are desperate to get it submitted again I would go and hack the files Kosso pointed out locally and rebuild.</p>
<p>Should be quick and simple, pattern is </p>
<pre><code class="hljs"><span class="hljs-function"><span class="hljs-title">bzero</span><span class="hljs-params">(ptr, len)</span></span> -&gt; <span class="hljs-function"><span class="hljs-title">memset</span><span class="hljs-params">(ptr, <span class="hljs-number">0</span>L, len)</span></span>
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 5th 2011, 10:04:57 pm">August 5th 2011</span>
								by <span class='authorname'>Martin Slater</span><br>
								<a class="icon-bg icon-link" href="question/123785/app-has-bee-rejected-by-non-public-api.html#answer-215589" rel="permalink">permalink</a>
							</div>

							<h5>3 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>But what&#39;s the root issue here? Is this a problem in 1.7.2 that is preventing app store acceptance? Wouldn&#39;t everyone be getting rejected?</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 5th 2011, 11:51:26 pm">August 5th 2011</span>
											by <span class='authorname'>Robb Shecter</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Only if they are using modules are used in the application, Titanium will only include modules you actually reference. But needs to be fixed for sure by the appcelerator guys (or sub them a patch to incorporate).</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 6th 2011, 12:11:21 am">August 6th 2011</span>
											by <span class='authorname'>Martin Slater</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Because the titanium project generation is smart enough to only include the portions of the SDK which are needed for your project.  The implication here is the files Kosso identified are not widely used by typical Titanium projects.</p>
<p>A second alternative would be if Apple just recently added __bzero to the list of disallowed APIs.</p>
<p>Note that I don&#39;t know how widespread this is – I am just trying to answer your question about why it might not occur for everyone.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 6th 2011, 12:13:37 am">August 6th 2011</span>
											by <span class='authorname'>Doug Handy</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>2</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-215772">
				
						<section>
							<p>I&#39;ve already change bzero() –&gt; memset() in  AsyncUdpSocket.m, NSData+Additions.m and Reachability.m  but still got same error message after submission.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 8th 2011, 3:21:09 am">August 8th 2011</span>
								by <span class='authorname'>Sarut Chaprasert</span><br>
								<a class="icon-bg icon-link" href="question/123785/app-has-bee-rejected-by-non-public-api.html#answer-215772" rel="permalink">permalink</a>
							</div>

							<h5>2 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Unfortunately libTiCore.a references it as well, you will need to rebuild that as well.</p>
<pre><code class="hljs">macbook:iphone martinslater$ find . -exec grep -H -i -n bzero {} \;
<span class="hljs-keyword">.</span>/Classes/ASI/Reachability.m:167:   <span class="hljs-function"> bzero(</span>&amp;zeroAddress,<span class="hljs-function"> sizeof(</span>zeroAddress<span class="hljs-function">)</span><span class="hljs-function">)</span>;
<span class="hljs-keyword">.</span>/Classes/ASI/Reachability.m:177:   <span class="hljs-function"> bzero(</span>&amp;localWifiAddress,<span class="hljs-function"> sizeof(</span>localWifiAddress<span class="hljs-function">)</span><span class="hljs-function">)</span>;
<span class="hljs-keyword">.</span>/Classes/AsyncUdpSocket.m:1676:   <span class="hljs-function"> bzero(</span>&amp;ifr,<span class="hljs-function"> sizeof(</span>ifr<span class="hljs-function">)</span><span class="hljs-function">)</span>;
<span class="hljs-keyword">.</span>/Classes/NSData+Additions.m:106:   <span class="hljs-function"> bzero(</span>keyPtr,<span class="hljs-function"> sizeof(</span>keyPtr<span class="hljs-function">)</span><span class="hljs-function">)</span>; //<span class="hljs-instruction"> fill </span>with zeroes<span class="hljs-function"> (</span>for padding<span class="hljs-function">)</span>
<span class="hljs-keyword">.</span>/Classes/NSData+Additions.m:140:   <span class="hljs-function"> bzero(</span>keyPtr,<span class="hljs-function"> sizeof(</span>keyPtr<span class="hljs-function">)</span><span class="hljs-function">)</span>; //<span class="hljs-instruction"> fill </span>with zeroes<span class="hljs-function"> (</span>for padding<span class="hljs-function">)</span>
<span class="hljs-keyword">.</span>/encryptor/encryptor.m:70:   <span class="hljs-function"> bzero(</span>keyPtr,<span class="hljs-function"> sizeof(</span>keyPtr<span class="hljs-function">)</span><span class="hljs-function">)</span>; //<span class="hljs-instruction"> fill </span>with zeroes<span class="hljs-function"> (</span>for padding<span class="hljs-function">)</span>
Binary file ./lib/libTiCore.a matches
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="August 8th 2011, 3:37:42 am">August 8th 2011</span>
											by <span class='authorname'>Martin Slater</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>How can i rebuild libTiCore.a</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 8th 2011, 4:26:10 am">August 8th 2011</span>
											by <span class='authorname'>Sarut Chaprasert</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
