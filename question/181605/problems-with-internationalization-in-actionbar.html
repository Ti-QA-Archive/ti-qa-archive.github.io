<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Problems with internationalization in ActionBar » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Problems with internationalization in ActionBar</h1>
		</header>
		<section>
			<p>Hello,</p>
<p>I want to set language depends on the settings, for intance if user has set English I show my app labels, buttons, etc in English. I already do with the buttons and labels, however when I try to apply in the actionBar I get this:  <strong>ALLOY_EXPR</strong>–L(&#39;actionPet&#39;), I am doing it in android so I have my files platform&#x2F;android&#x2F;res&#x2F;values-en and values-es.</p>
<p>My tss is:</p>
<pre><code class="hljs">
<span class="hljs-string">'#actionPet'</span>: {
    icon: <span class="hljs-string">'/actionicon.png'</span>,
    displayHomeAsUp: <span class="hljs-literal">true</span>,
    title: L(<span class="hljs-string">'actionPet'</span>)
    <span class="hljs-comment">//backgroundImage: "/actionbackground.png"</span>
   }
</code></pre><p>My index.xml is:</p>
<pre><code class="hljs">
<span class="hljs-tag">&lt;<span class="hljs-title">Alloy</span>&gt;</span>     


    <span class="hljs-tag">&lt;<span class="hljs-title">Window</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"pet"</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"container"</span> <span class="hljs-attribute">layout</span>=<span class="hljs-value">"vertical"</span> <span class="hljs-attribute">theme</span>=<span class="hljs-value">"Light"</span> &gt;</span>    

                <span class="hljs-comment">&lt;!--MENU --&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-title">ActionBar</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"actionPet"</span> /&gt;</span> <span class="hljs-comment">&lt;!-- onHomeIconItemSelected="onClick"--&gt;</span>

                    <span class="hljs-tag">&lt;<span class="hljs-title">Menu</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-title">MenuItem</span> <span class="hljs-attribute">title</span>=<span class="hljs-value">"Nuevo"</span> <span class="hljs-attribute">onClick</span>=<span class="hljs-value">"galeria"</span> /&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-title">MenuItem</span> <span class="hljs-attribute">title</span>=<span class="hljs-value">"verMascota"</span> <span class="hljs-attribute">onClick</span>=<span class="hljs-value">"verMascota"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">MenuItem</span>&gt;</span>
                    <span class="hljs-tag">&lt;/<span class="hljs-title">Menu</span>&gt;</span>
                <span class="hljs-comment">&lt;!--END MENU --&gt;</span>
             <span class="hljs-tag">&lt;<span class="hljs-title">View</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">TableView</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"table"</span> <span class="hljs-attribute">onClick</span>=<span class="hljs-value">"openDetail"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">TableView</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-title">View</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">Window</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">Alloy</span>&gt;</span>
</code></pre><p>And my string.xml is: (Only for english for this example)</p>
<pre><code class="hljs"><span class="hljs-pi">&lt;?xml version="1.0" encoding="UTF-8" ?&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-title">resources</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">string</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"lblUsuario"</span>&gt;</span>username<span class="hljs-tag">&lt;/<span class="hljs-title">string</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">string</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"lblPassword"</span>&gt;</span>password<span class="hljs-tag">&lt;/<span class="hljs-title">string</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">string</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"btnSignIn"</span>&gt;</span>Sign in<span class="hljs-tag">&lt;/<span class="hljs-title">string</span>&gt;</span>


    <span class="hljs-comment">&lt;!-- ActionBars --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">string</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"actionPet"</span>&gt;</span>My Pet<span class="hljs-tag">&lt;/<span class="hljs-title">string</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">resources</span>&gt;</span>
</code></pre><p>Do you have any thoughts to solve this issue? </p>
<p>I already set directly the title from the .tss file and works, I already check many times the names and all match.</p>
<p>Thank you in advance for any help.</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="March 24th 2015, 1:25:10 pm">March 24th 2015</span>
				by <span class='authorname'>Ricardo O</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>titanium</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-286680">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>Weird that it does not work when setting the title attribute of the actionbar.</p>
<p>What you should do is add the title to the &lt;Window&gt;-element instead. The actionbar takes the title of the &lt;Window&gt;-element.</p>
<p>example:</p>
<p><strong>index.xml:</strong></p>
<pre><code class="hljs"><span class="hljs-tag">&lt;<span class="hljs-title">Alloy</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">Window</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"mainWindow"</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"container"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">ActionBar</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"actionbar"</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">Window</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">Alloy</span>&gt;</span>
</code></pre><p><strong>index.tss:</strong></p>
<pre><code class="hljs">"<span class="hljs-id">#mainWindow</span>": <span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">title</span>:<span class="hljs-value"> <span class="hljs-function">L</span>(<span class="hljs-string">'actionBarTitle'</span>)
</span></span></span>}
</code></pre><p>If you also want to be able to set the subtitle, then maybe it is just better to set up your action bar from the controller.<br>Then you get something like this:</p>
<p><strong>index.js:</strong></p>
<pre><code class="hljs">$.mainWindow.addEventListener(<span class="hljs-string">'open'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
    <span class="hljs-keyword">var</span> actionBar = $.mainWindow.activity.actionBar;
    actionBar.setSubtitle(L(<span class="hljs-string">'actionBarTitle'</span>));
});
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="March 25th 2015, 11:26:12 am">March 25th 2015</span>
								by <span class='authorname'>Bryan Slop</span><br>
								<a class="icon-bg icon-link" href="question/181605/problems-with-internationalization-in-actionbar#answer-286680" rel="permalink">permalink</a>
							</div>

							<h5>3 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Thank you Bryan it works just fine!, you are awesome my friend, like you said it is weird that it does not work when setting the title attribute to the actionBar, however I already know I have got to set the title from the Window. Thank you as well for the extra information about set a subtitle.</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 25th 2015, 2:54:32 pm">March 25th 2015</span>
											by <span class='authorname'>Ricardo O</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Glad I could help. Let&#39;s hope this will be fixed soon.</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 25th 2015, 7:33:46 pm">March 25th 2015</span>
											by <span class='authorname'>Bryan Slop</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>It is fixed, thank you again.</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 25th 2015, 7:41:18 pm">March 25th 2015</span>
											by <span class='authorname'>Ricardo O</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
