<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Need help opening nested windows in Android Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Need help opening nested windows in Android</h1>
		</header>
		<section>
			<p>[INFO] Android SDK 2.2, Titanium 3.0, Master&#x2F;Detail project</p>
<p>I&#39;ve got my main screen all setup, and I open my first window just fine from the main, but opening windows from the previously opened window will NOT work. </p>
<p>My main window:</p>
<pre><code class="hljs">
function ApplicationWindow() {

    /<span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span>
     <span class="hljs-keyword">*</span> global var to tell a window which row called it
     <span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span>/
    var sourceRow;

    var mainWin = Ti.UI.createWindow({
        backgroundColor : '<span class="hljs-comment">#282828',</span>
        exitOnClose : true,
        navBarHidden : true
    });

    /<span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span>
     <span class="hljs-keyword">*</span> top label
     <span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span>/
    var topLabel = Ti.UI.createView({
        backgroundColor : 'black',
        top : 0,
        bottom : '90%'
    });

    var topText = Ti.UI.createLabel({
        color : 'white',
        text : 'CCISD',
        font : {
            fontSize : '30sp'
        }
    });

    topLabel.add(topText);
    mainWin.add(topLabel);

    /<span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span>
     <span class="hljs-keyword">*</span> DIRECTORY
     <span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span>/
    var button1 = Ti.UI.createView({
        borderWidth : 1,
        borderColor : 'black',
        backgroundColor : '<span class="hljs-comment">#3399CC',</span>
        top : '15%',
        bottom : '70%',
        left : '2%',
        right : '69.3%'
    });

    var but1Label = Ti.UI.createLabel({
        color : 'white',
        text : 'directory',
        font : {
            fontSize : '20sp'
        }
    });

    button1.addEventListener('click', function(e) {
        var Window = Titanium.UI.createWindow({
            url : '/directory/directoryMenu.js',
            title : 'directoryMenu',
            backgroundColor : '<span class="hljs-comment">#CCC'</span>

        });
        Window.open({
            modal : true,
            navBarHidden : true
        });
    });

    button1.add(but1Label);
    mainWin.add(button1);


    return mainWin;
}

//make constructor function the public component interface
module.exports = ApplicationWindow;
</code></pre><p>My opened window: </p>
<pre><code class="hljs">var directoryMenu = Ti.UI.currentWindow;

directoryMenu.setBackgroundColor('<span class="hljs-comment">#282828');</span>

/<span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span>
 <span class="hljs-keyword">*</span> top label
 <span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span>/
var topLabel = Ti.UI.createView({
    backgroundColor : 'black',
    top : 0,
    bottom : '90%'
});

var topText = Ti.UI.createLabel({
    color : 'white',
    text : 'Directory',
    font : {
        fontSize : '30sp'
    }
});

/<span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span>
 <span class="hljs-keyword">*</span> table list text
 <span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span>/
var list = ['ELEMENTARY SCHOOLS', 'MIDDLE SCHOOLS', 'HIGH SCHOOLS', 'OTHER', 'DISTRICT'];

var table = Ti.UI.createTableView({
    top : '15%',
    left : '5%',
    right : '5%',
    bottom : '10%',
    backgroundColor : 'white'
});

/<span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span>
 <span class="hljs-keyword">*</span> rows added to tableRows
 <span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span>/
var tableRows = [];

var loopColor = 0;

for (var i = 0; i <span class="hljs-variable">&lt; list.length; i++) {

    var colorBar = Ti.UI.createLabel({
        backgroundColor : 'black',
        top : '42%',
        left : '6%',
        height : '20dp',
        width : '8dp',
    });

    /***************************************************
     * this switch enables colorBar to alternate colors.
     *
     ***************************************************/
    switch(loopColor) {
        case 0:
            colorBar.setBackgroundColor('#FF6666');
            break;
        case 1:
            colorBar.setBackgroundColor('#088da5');
            break;
        case 2:
            colorBar.setBackgroundColor('#FF9900');
            break;
    }

    var row = Ti.UI.createTableViewRow({
        height : '88dp',
        className : 'rows',
        backgroundColor : 'white',
        selectedBackgroundColor : 'white'
    });

    var tableLabel = Ti.UI.createLabel({
        color : 'black',
        text : list[i],
        font : {
            fontSize : '20sp',
            fontWeight : 'bold'
        }
    });

    row.addEventListener('click', function(e) {
        //sourceRow = e.index;

        var Window = Titanium.UI.createWindow({
        url : 'subDirectory.js',
        title : 'subDirectory',
        backgroundColor : '#CCC'
        });

        Window.open({
            modal : true,
            navBarHidden : true
        });
    });

    row.add(colorBar);

    row.add(tableLabel);
    tableRows.push(row);

    loopColor++;

    if (loopColor &gt;</span> 2)
        loopColor = 0;
}

table.setData(tableRows);

topLabel.add(topText);
directoryMenu.add(topLabel);
directoryMenu.add(table);

//capturing back button action in order to close window
directoryMenu.addEventListener('android:back', function(e) {
    directoryMenu.close(Ti.UI.currentWindow);
});
</code></pre><p>The window I would like to open:</p>
<pre><code class="hljs">var subDirectory = Ti.UI.currentWindow;

subDirectory.setBackgroundColor(<span class="hljs-string">'#282828'</span>);

<span class="hljs-comment">//will include the database file</span>
Ti.Database.install(<span class="hljs-string">'ui/common/ccisd_mobile.db'</span>, <span class="hljs-string">'CCISD_DB'</span>);
<span class="hljs-comment">//makes call to open database</span>
var db = Ti.Database.open(<span class="hljs-string">'CCISD_DB'</span>);

<span class="hljs-comment">//call to retrieve data</span>

var dataList = db.execute(<span class="hljs-string">'SELECT * FROM Building'</span>);
var CustomData = [];
var data = [];

<span class="hljs-comment">//Ti.API.info(dataList.rowCount);</span>

<span class="hljs-comment">//stores data to array</span>
<span class="hljs-keyword">while</span> (dataList.isValidRow()) {
    var tempData = {
        <span class="hljs-string">ID :</span> dataList.fieldByName(<span class="hljs-string">'BuildingID'</span>),
        <span class="hljs-string">title :</span> dataList.fieldByName(<span class="hljs-string">'BuildingName'</span>)
    };
    Ti.API.info(dataList.fieldByName(<span class="hljs-string">'BuildingName'</span>));
    dataList.next();
    CustomData.push(tempData);
}

dataList.close();
db.close();
<span class="hljs-comment">/***********
 * top label
 ***********/</span>
var topLabel = Ti.UI.createView({
    <span class="hljs-string">backgroundColor :</span> <span class="hljs-string">'black'</span>,
    <span class="hljs-string">top :</span> <span class="hljs-number">0</span>,
    <span class="hljs-string">bottom :</span> <span class="hljs-string">'90%'</span>
});

var topText = Ti.UI.createLabel({
    <span class="hljs-string">color :</span> <span class="hljs-string">'white'</span>,
    <span class="hljs-string">text :</span> <span class="hljs-string">'Directory'</span>,
    <span class="hljs-string">font :</span> {
        <span class="hljs-string">fontSize :</span> <span class="hljs-string">'30sp'</span>
    }
});

<span class="hljs-comment">/*****************
 * table list text
 *****************/</span>
var table = Ti.UI.createTableView({
    <span class="hljs-string">top :</span> <span class="hljs-string">'15%'</span>,
    <span class="hljs-string">left :</span> <span class="hljs-string">'5%'</span>,
    <span class="hljs-string">right :</span> <span class="hljs-string">'5%'</span>,
    <span class="hljs-string">bottom :</span> <span class="hljs-string">'10%'</span>,
    <span class="hljs-string">backgroundColor :</span> <span class="hljs-string">'white'</span>
});

<span class="hljs-comment">/*************************
 * rows added to tableRows
 *************************/</span>
var tableRows = [];

var loopColor = <span class="hljs-number">0</span>;

<span class="hljs-keyword">for</span> (var i = <span class="hljs-number">0</span>; i &lt; dataList.length; i++) {

    var colorBar = Ti.UI.createLabel({
        <span class="hljs-string">backgroundColor :</span> <span class="hljs-string">'black'</span>,
        <span class="hljs-string">top :</span> <span class="hljs-string">'30%'</span>,
        <span class="hljs-string">left :</span> <span class="hljs-string">'7%'</span>,
        <span class="hljs-string">height :</span> <span class="hljs-string">'72dp'</span>,
        <span class="hljs-string">width :</span> <span class="hljs-string">'4dp'</span>,
    });

    <span class="hljs-comment">/***************************************************
     * this switch enables colorBar to alternate colors.
     *
     ***************************************************/</span>
    <span class="hljs-keyword">switch</span>(loopColor) {
        <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:
            colorBar.setBackgroundColor(<span class="hljs-string">'#FF6666'</span>);
            <span class="hljs-keyword">break</span>;
        <span class="hljs-keyword">case</span> <span class="hljs-number">1</span>:
            colorBar.setBackgroundColor(<span class="hljs-string">'#088da5'</span>);
            <span class="hljs-keyword">break</span>;
        <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:
            colorBar.setBackgroundColor(<span class="hljs-string">'#FF9900'</span>);
            <span class="hljs-keyword">break</span>;
    }

    var row = Ti.UI.createTableViewRow({
        <span class="hljs-string">height :</span> <span class="hljs-string">'120dp'</span>,
        <span class="hljs-string">className :</span> <span class="hljs-string">'rows'</span>,
        <span class="hljs-string">backgroundColor :</span> <span class="hljs-string">'white'</span>,
        <span class="hljs-string">selectedBackgroundColor :</span> <span class="hljs-string">'white'</span>
    });

    var campus = Titanium.UI.createLabel({
        <span class="hljs-string">text :</span> CustomData[i].schoolName,
        <span class="hljs-string">color :</span> <span class="hljs-string">'black'</span>,
        <span class="hljs-string">font :</span> {
            <span class="hljs-string">fontSize :</span> <span class="hljs-string">'18sp'</span>,
            <span class="hljs-string">fontWeight :</span> <span class="hljs-string">'bold'</span>
        },
        <span class="hljs-string">width :</span> <span class="hljs-string">'auto'</span>,
        <span class="hljs-string">textAlign :</span> <span class="hljs-string">'left'</span>,
        <span class="hljs-string">top :</span> <span class="hljs-string">'3%'</span>,
        <span class="hljs-string">left :</span> <span class="hljs-string">'6%'</span>,
        <span class="hljs-string">height :</span> <span class="hljs-string">'35dp'</span>
    });

    var principal = Titanium.UI.createLabel({
        <span class="hljs-string">text :</span> <span class="hljs-string">'Principal:  '</span> + CustomData[i].principal,
        <span class="hljs-string">font :</span> {
            <span class="hljs-string">fontSize :</span> <span class="hljs-string">'15sp'</span>
        },
        <span class="hljs-string">color :</span> <span class="hljs-string">'black'</span>,
        <span class="hljs-string">width :</span> <span class="hljs-string">'auto'</span>,
        <span class="hljs-string">textAlign :</span> <span class="hljs-string">'left'</span>,
        <span class="hljs-string">top :</span> <span class="hljs-string">'27%'</span>,
        <span class="hljs-string">left :</span> <span class="hljs-string">'10%'</span>,
        <span class="hljs-string">height :</span> <span class="hljs-string">'20dp'</span>
    });

    var number = Titanium.UI.createLabel({
        <span class="hljs-string">text :</span> <span class="hljs-string">'Number:   '</span> + CustomData[i].phone,
        <span class="hljs-string">font :</span> {
            <span class="hljs-string">fontSize :</span> <span class="hljs-string">'15sp'</span>
        },
        <span class="hljs-string">color :</span> <span class="hljs-string">'black'</span>,
        <span class="hljs-string">width :</span> <span class="hljs-string">'auto'</span>,
        <span class="hljs-string">textAlign :</span> <span class="hljs-string">'left'</span>,
        <span class="hljs-string">top :</span> <span class="hljs-string">'44%'</span>,
        <span class="hljs-string">left :</span> <span class="hljs-string">'10%'</span>,
        <span class="hljs-string">height :</span> <span class="hljs-string">'20dp'</span>
    });

    var address = Titanium.UI.createLabel({
        <span class="hljs-string">text :</span> <span class="hljs-string">'Address:   '</span> + CustomData[i].address,
        <span class="hljs-string">font :</span> {
            <span class="hljs-string">fontSize :</span> <span class="hljs-string">'15sp'</span>
        },
        <span class="hljs-string">color :</span> <span class="hljs-string">'black'</span>,
        <span class="hljs-string">width :</span> <span class="hljs-string">'auto'</span>,
        <span class="hljs-string">textAlign :</span> <span class="hljs-string">'left'</span>,
        <span class="hljs-string">top :</span> <span class="hljs-string">'60%'</span>,
        <span class="hljs-string">left :</span> <span class="hljs-string">'10%'</span>,
        <span class="hljs-string">height :</span> <span class="hljs-string">'40dp'</span>
    });

    row.add(colorBar);
    row.add(campus);
    row.add(principal);
    row.add(number);
    row.add(address);
    tableRows.push(row);

    loopColor++;

    <span class="hljs-keyword">if</span> (loopColor &gt; <span class="hljs-number">2</span>)
        loopColor = <span class="hljs-number">0</span>;
}

table.setData(tableRows);

topLabel.add(topText);
subDirectory.add(topLabel);
subDirectory.add(table);

subDirectory.open();

<span class="hljs-comment">//capturing back button action in order to close window</span>
subDirectory.addEventListener(<span class="hljs-string">'android:back'</span>, function(e) {
    subDirectory.close(Ti.UI.currentWindow);
});
</code></pre>
		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="April 7th 2013, 10:46:38 pm">April 7th 2013</span>
				by <span class='authorname'>Andrew Cox</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>url</span></li>
					
						<li><span class='tagname'>windows</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-260242">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>Hi Andrew have you tried this <a href="https:&#x2F;&#x2F;github.com&#x2F;appcelerator-developer-relations&#x2F;Template.MasterDetail&#x2F;tree&#x2F;master&#x2F;Resources">https:&#x2F;&#x2F;github.com&#x2F;appcelerator-developer-relations&#x2F;Template.MasterDetail&#x2F;tree&#x2F;master&#x2F;Resources</a> it is related to master detail and would give you a better idea</p>
<p>Thanks</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="April 8th 2013, 12:55:13 am">April 8th 2013</span>
								by <span class='authorname'>Muhammad Wahhab Mirza</span><br>
								<a class="icon-bg icon-link" href="question/150608/need-help-opening-nested-windows-in-android.html#answer-260242" rel="permalink">permalink</a>
							</div>

							<h5>11 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>So if I&#39;m understanding correctly: I should do views, adding them to the main window?</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 8th 2013, 1:21:45 am">April 8th 2013</span>
											by <span class='authorname'>Andrew Cox</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>yes exactly for master detail same pattern is followed</p>
<p>Thanks</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 8th 2013, 1:22:43 am">April 8th 2013</span>
											by <span class='authorname'>Muhammad Wahhab Mirza</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>you could shift your code to that example or follow that example</p>
<p>Thanks</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 8th 2013, 1:24:14 am">April 8th 2013</span>
											by <span class='authorname'>Muhammad Wahhab Mirza</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>And if it helped you dont forget to mark the thread as answered would help other people in future</p>
<p>Thanks</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 8th 2013, 1:33:16 am">April 8th 2013</span>
											by <span class='authorname'>Muhammad Wahhab Mirza</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I am getting an Uncaught TypeError: undefined is not a function&quot; error. </p>
<p>Source: var directoryMeny = new directoryMenu();</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 8th 2013, 2:10:52 am">April 8th 2013</span>
											by <span class='authorname'>Andrew Cox</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>it is because name are same this should be like this</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> directoryMeny = <span class="hljs-keyword">new</span> DirectoryMenu();
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="April 8th 2013, 2:13:21 am">April 8th 2013</span>
											by <span class='authorname'>Muhammad Wahhab Mirza</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>That was a typo, meant directoryMenu for both.</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 8th 2013, 2:14:37 am">April 8th 2013</span>
											by <span class='authorname'>Andrew Cox</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Thanks that worked (I&#39;m still new to JS).</p>
<p>Now its giving me an TypeError: Object function errorâ¦.<br>Here&#39;s my changed code ( testing right now):</p>
<p>my main:</p>
<pre><code class="hljs"><span class="hljs-comment">//Application Window Component Constructor</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ApplicationWindow</span>(<span class="hljs-params"></span>) </span>{

    <span class="hljs-comment">//module dependencies</span>
    <span class="hljs-keyword">var</span> directoryMenu = <span class="hljs-built_in">require</span>(<span class="hljs-string">'directory/directoryMenu'</span>);
    <span class="hljs-keyword">var</span> subDirectory = <span class="hljs-built_in">require</span>(<span class="hljs-string">'directory/subDirectory'</span>);
    <span class="hljs-keyword">var</span> mainPage = <span class="hljs-built_in">require</span>(<span class="hljs-string">'ui/common/mainPage'</span>);

    <span class="hljs-comment">//object instance</span>
    <span class="hljs-keyword">var</span> thisWindow = Ti.UI.createWindow({
        backgroundColor : <span class="hljs-string">'#282828'</span>,
        exitOnClose : <span class="hljs-literal">true</span>,
        navBarHidden : <span class="hljs-literal">true</span>
    });

    <span class="hljs-keyword">var</span> mainPage = <span class="hljs-keyword">new</span> mainPage();
    thisWindow.add(mainPage);

    mainPage.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{

        <span class="hljs-comment">//create directoryMenu container</span>
        <span class="hljs-keyword">var</span> DirectoryMenu = <span class="hljs-keyword">new</span> directoryMenu();
        <span class="hljs-keyword">var</span> directoryContainer = Ti.UI.createWindow({
            navBarHidden:<span class="hljs-literal">true</span>,
            backgroundColor:<span class="hljs-string">'#ffffff'</span>
        });
        directoryContainer.add(DirectoryMenu);
        directoryContainer.open();
    });

    <span class="hljs-keyword">return</span> thisWindow;
};

<span class="hljs-comment">//make constructor function the public component interface</span>
<span class="hljs-built_in">module</span>.exports = ApplicationWindow;
</code></pre><p>window I want to open:</p>
<pre><code class="hljs">function directoryMenu() {

    var thisView = Ti.UI.createView({
        backgroundColor : '<span class="hljs-comment">#282828'</span>
    });

    /<span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span>
     <span class="hljs-keyword">*</span> top label
     <span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span>/
    var topLabel = Ti.UI.createView({
        backgroundColor : 'black',
        top : 0,
        bottom : '90%'
    });

    var topText = Ti.UI.createLabel({
        color : 'white',
        text : 'Directory',
        font : {
            fontSize : '30sp'
        }
    });

    /<span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span>
     <span class="hljs-keyword">*</span> table list text
     <span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span>/
    var list = ['ELEMENTARY SCHOOLS', 'MIDDLE SCHOOLS', 'HIGH SCHOOLS', 'OTHER', 'DISTRICT'];

    var table = Ti.UI.createTableView({
        top : '15%',
        left : '5%',
        right : '5%',
        bottom : '10%',
        backgroundColor : 'white'
    });

    /<span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span>
     <span class="hljs-keyword">*</span> rows added to tableRows
     <span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span>/
    var tableRows = [];

    var loopColor = 0;

    for (var i = 0; i <span class="hljs-variable">&lt; list.length; i++) {

        var colorBar = Ti.UI.createLabel({
            backgroundColor : 'black',
            top : '42%',
            left : '6%',
            height : '20dp',
            width : '8dp',
        });

        /***************************************************
         * this switch enables colorBar to alternate colors.
         *
         ***************************************************/
        switch(loopColor) {
            case 0:
                colorBar.setBackgroundColor('#FF6666');
                break;
            case 1:
                colorBar.setBackgroundColor('#088da5');
                break;
            case 2:
                colorBar.setBackgroundColor('#FF9900');
                break;
        }

        var row = Ti.UI.createTableViewRow({
            height : '88dp',
            className : 'rows',
            backgroundColor : 'white',
            selectedBackgroundColor : 'white'
        });

        var tableLabel = Ti.UI.createLabel({
            color : 'black',
            text : list[i],
            font : {
                fontSize : '20sp',
                fontWeight : 'bold'
            }
        });

        row.addEventListener('click', function(e) {
            //sourceRow = e.index;

            var thisView = Titanium.UI.createthisView({
                url : 'subDirectory.js',
                title : 'subDirectory',
                backgroundColor : '#CCC'
            });

            thisView.open({
                modal : true,
                navBarHidden : true
            });
        });

        row.add(colorBar);

        row.add(tableLabel);
        tableRows.push(row);

        loopColor++;

        if (loopColor &gt;</span> 2)
            loopColor = 0;
    }

    table.setData(tableRows);

    topLabel.add(topText);
    directoryMenu.add(topLabel);
    directoryMenu.add(table);

    return thisView;
};

module.exports = directoryMenu;
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="April 8th 2013, 2:22:02 am">April 8th 2013</span>
											by <span class='authorname'>Andrew Cox</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>actaully could you make the js file name with capital and other name with small letter and let me know the result</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 8th 2013, 2:28:29 am">April 8th 2013</span>
											by <span class='authorname'>Muhammad Wahhab Mirza</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Alright, changed all directoryMenu&#39;s to capital Ds except my new.</p>
<p>It did open a new window with my view.</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 8th 2013, 2:38:41 am">April 8th 2013</span>
											by <span class='authorname'>Andrew Cox</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I changed the names back to test.</p>
<p> I believe it was due to errors in my directoryMenu that I fixed, not my applicationWindow.</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 8th 2013, 2:45:50 am">April 8th 2013</span>
											by <span class='authorname'>Andrew Cox</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
