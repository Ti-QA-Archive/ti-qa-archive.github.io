<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Android - E/dalvikvm-heap(22638): Out of memory on a 5030656-byte allocation » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Android - E/dalvikvm-heap(22638): Out of memory on a 5030656-byte allocation</h1>
		</header>
		<section>
			<p>I&#39;m running into issues with my application where a tableview is not being shown sometimes, i can see from the logs that the below memory error is flagged at the time:</p>
<p>I&#39;ve attached the full output <a href="https:&#x2F;&#x2F;gist.github.com&#x2F;Tam2&#x2F;9aaf94adbd6bfabd760a">HERE ON GIST</a></p>
<p>Any ideas?</p>
<pre><code class="hljs"><span class="hljs-number">10</span>-<span class="hljs-number">05</span> <span class="hljs-number">11</span>:<span class="hljs-number">12</span>:<span class="hljs-number">09.766</span>: I/dalvikvm-heap(<span class="hljs-number">22638</span>): Forcing collection of SoftReferences <span class="hljs-keyword">for</span> <span class="hljs-number">5030656</span>-byte allocation
<span class="hljs-number">10</span>-<span class="hljs-number">05</span> <span class="hljs-number">11</span>:<span class="hljs-number">12</span>:<span class="hljs-number">09.856</span>: D/dalvikvm(<span class="hljs-number">22638</span>): GC_BEFORE_OOM freed &lt;<span class="hljs-number">1</span>K, <span class="hljs-number">10</span>% <span class="hljs-built_in">free</span> <span class="hljs-number">116152</span>K/<span class="hljs-number">128624</span>K, paused <span class="hljs-number">91</span>ms, total <span class="hljs-number">91</span>ms
<span class="hljs-number">10</span>-<span class="hljs-number">05</span> <span class="hljs-number">11</span>:<span class="hljs-number">12</span>:<span class="hljs-number">09.856</span>: E/dalvikvm-heap(<span class="hljs-number">22638</span>): Out of memory on a <span class="hljs-number">5030656</span>-byte allocation.
<span class="hljs-number">10</span>-<span class="hljs-number">05</span> <span class="hljs-number">11</span>:<span class="hljs-number">12</span>:<span class="hljs-number">09.856</span>: I/dalvikvm(<span class="hljs-number">22638</span>): <span class="hljs-string">"main"</span> prio=<span class="hljs-number">5</span> tid=<span class="hljs-number">1</span> RUNNABLE
<span class="hljs-number">10</span>-<span class="hljs-number">05</span> <span class="hljs-number">11</span>:<span class="hljs-number">12</span>:<span class="hljs-number">09.856</span>: I/dalvikvm(<span class="hljs-number">22638</span>):   | group=<span class="hljs-string">"main"</span> sCount=<span class="hljs-number">0</span> dsCount=<span class="hljs-number">0</span> obj=<span class="hljs-number">0x40decb38</span> self=<span class="hljs-number">0x406540a0</span>
<span class="hljs-number">10</span>-<span class="hljs-number">05</span> <span class="hljs-number">11</span>:<span class="hljs-number">12</span>:<span class="hljs-number">09.856</span>: I/dalvikvm(<span class="hljs-number">22638</span>):   | sysTid=<span class="hljs-number">22638</span> nice=<span class="hljs-number">0</span> sched=<span class="hljs-number">0</span>/<span class="hljs-number">0</span> cgrp=apps handle=<span class="hljs-number">1074972124</span>
<span class="hljs-number">10</span>-<span class="hljs-number">05</span> <span class="hljs-number">11</span>:<span class="hljs-number">12</span>:<span class="hljs-number">09.856</span>: I/dalvikvm(<span class="hljs-number">22638</span>):   | state=R schedstat=( <span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">0</span> ) utm=<span class="hljs-number">5736</span> stm=<span class="hljs-number">621</span> core=<span class="hljs-number">1</span>
<span class="hljs-number">10</span>-<span class="hljs-number">05</span> <span class="hljs-number">11</span>:<span class="hljs-number">12</span>:<span class="hljs-number">09.856</span>: I/dalvikvm(<span class="hljs-number">22638</span>):   at android.graphics.Bitmap.nativeCreate(Native Method)
<span class="hljs-number">10</span>-<span class="hljs-number">05</span> <span class="hljs-number">11</span>:<span class="hljs-number">12</span>:<span class="hljs-number">09.856</span>: I/dalvikvm(<span class="hljs-number">22638</span>):   at android.graphics.Bitmap.createBitmap(Bitmap.java:<span class="hljs-number">718</span>)
<span class="hljs-number">10</span>-<span class="hljs-number">05</span> <span class="hljs-number">11</span>:<span class="hljs-number">12</span>:<span class="hljs-number">09.856</span>: I/dalvikvm(<span class="hljs-number">22638</span>):   at android.graphics.Bitmap.createBitmap(Bitmap.java:<span class="hljs-number">678</span>)
<span class="hljs-number">10</span>-<span class="hljs-number">05</span> <span class="hljs-number">11</span>:<span class="hljs-number">12</span>:<span class="hljs-number">09.856</span>: I/dalvikvm(<span class="hljs-number">22638</span>):   at android.view.View.buildDrawingCache(View.java:<span class="hljs-number">13368</span>)
<span class="hljs-number">10</span>-<span class="hljs-number">05</span> <span class="hljs-number">11</span>:<span class="hljs-number">12</span>:<span class="hljs-number">09.856</span>: I/dalvikvm(<span class="hljs-number">22638</span>):   at android.view.View.getDisplayList(View.java:<span class="hljs-number">13098</span>)
<span class="hljs-number">10</span>-<span class="hljs-number">05</span> <span class="hljs-number">11</span>:<span class="hljs-number">12</span>:<span class="hljs-number">09.856</span>: I/dalvikvm(<span class="hljs-number">22638</span>):   at android.view.View.getDisplayList(View.java:<span class="hljs-number">13163</span>)
<span class="hljs-number">10</span>-<span class="hljs-number">05</span> <span class="hljs-number">11</span>:<span class="hljs-number">12</span>:<span class="hljs-number">09.856</span>: I/dalvikvm(<span class="hljs-number">22638</span>):   at android.view.View.draw(View.java:<span class="hljs-number">13897</span>)
<span class="hljs-number">10</span>-<span class="hljs-number">05</span> <span class="hljs-number">11</span>:<span class="hljs-number">12</span>:<span class="hljs-number">09.856</span>: I/dalvikvm(<span class="hljs-number">22638</span>):   at android.view.ViewGroup.drawChild(ViewGroup.java:<span class="hljs-number">3024</span>)
<span class="hljs-number">10</span>-<span class="hljs-number">05</span> <span class="hljs-number">11</span>:<span class="hljs-number">12</span>:<span class="hljs-number">09.856</span>: I/dalvikvm(<span class="hljs-number">22638</span>):   at android.view.ViewGroup.dispatchDraw(ViewGroup.java:<span class="hljs-number">2893</span>)
<span class="hljs-number">10</span>-<span class="hljs-number">05</span> <span class="hljs-number">11</span>:<span class="hljs-number">12</span>:<span class="hljs-number">09.856</span>: I/dalvikvm(<span class="hljs-number">22638</span>):   at org.appcelerator.titanium.view.TiCompositeLayout.dispatchDra
</code></pre>
		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="October 5th 2013, 8:16:34 am">October 5th 2013</span>
				by <span class='authorname'>Tamoor Malik</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>alloy</span></li>
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>memory</span></li>
					
				</ul>
			

			<section>
				<h5>5 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Does this happen on device or only on emulator? Are you loading things that take a lot of memory, like big images, in each row? This might be the cause of your problem.</p>
</div>
							<div class="author">
								&mdash; commented <span title="October 7th 2013, 12:18:45 pm">October 7th 2013</span>
								by <span class='authorname'>Tony Lukasavage</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>There&#39;s no images being loaded into each row, just text.</p>
<p><a href="https:&#x2F;&#x2F;gist.github.com&#x2F;Tam2&#x2F;f83796aedec9da7a65f7">Attached code here for review</a></p>
</div>
							<div class="author">
								&mdash; commented <span title="October 7th 2013, 12:51:12 pm">October 7th 2013</span>
								by <span class='authorname'>Tamoor Malik</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Forgot to mention, It happens on device, and only when you open&#x2F;close the view 10-15 times</p>
</div>
							<div class="author">
								&mdash; commented <span title="October 7th 2013, 12:58:48 pm">October 7th 2013</span>
								by <span class='authorname'>Tamoor Malik</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Thank you for providing code, but you should provide the smallest possible test case that exhibits these issues so that it can be tested by others. Giving more code than is necessary to cause the issue makes it much harder to diagnose the problem. It also often helps the question asker find the answer on their own by dismantling their own work.</p>
</div>
							<div class="author">
								&mdash; commented <span title="October 7th 2013, 1:44:25 pm">October 7th 2013</span>
								by <span class='authorname'>Tony Lukasavage</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Thanks for the comments, but I&#39;ve only provided code for the one controller that I&#39;m having issues with, I&#39;ve chopped and changed it around to see if I could find the issue with no luck, that&#39;s why I&#39;ve provided the code for the entire controller as I may have missed something obvious.</p>
<p>Secondly, I&#39;ve also tried debugging with DDMS and it does appear that when this controller is closed the memory does clear. Whenever the issue happens the actual window does open and all other things in the view render on the view except for the tableview, which leads me to thing that either I&#39;m constructing the tableview wrong (I&#39;m using the exact same code in my iOS production app)  or there is an issue with something else and the tableview is just a symptom</p>
</div>
							<div class="author">
								&mdash; commented <span title="October 7th 2013, 2:04:57 pm">October 7th 2013</span>
								by <span class='authorname'>Tamoor Malik</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>0</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>0 Answers</h3>

	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
