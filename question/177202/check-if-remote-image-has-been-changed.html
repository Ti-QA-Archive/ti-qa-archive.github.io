<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Check if remote image has been changed » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Check if remote image has been changed</h1>
		</header>
		<section>
			<p>Build: 3.3.0.201407100905</p>
<p>Device: iPhone simulator 3.5 inch</p>
<p>SDK: 3.2.3.GA</p>
<p>OS: Mac OSX 10.8.5</p>
<p>In the app I&#39;m working on users can upload profile photos to our servers and others can see them. They can, whenever they like, replace this profile photo and the server replaces the photo on the server with the new one. However because of this the remote image location never changes, and the app simply loads the cached version. Is there a way to check to see if the image has been changed on the server and load the new image if it has been?</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="August 22nd 2014, 2:30:21 pm">August 22nd 2014</span>
				by <span class='authorname'>Richard Fyffe</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>cache</span></li>
					
						<li><span class='tagname'>image</span></li>
					
						<li><span class='tagname'>imageview</span></li>
					
						<li><span class='tagname'>remote image</span></li>
					
						<li><span class='tagname'>titanium</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-281870">
				
						<section>
							<p>I havent tried this with Ti but in the web world you can use a &#39;cache-buster&#39;.  Just append a random query string value to the image url request and that will usually be interpreted as a new resource request and bypass the cache ? </p>
<pre><code class="hljs">
<span class="hljs-keyword">var</span> imgUrl = <span class="hljs-string">'http://www.somesite.com/images/myimage.png?id='</span>+<span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>().toString();
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 22nd 2014, 3:18:20 pm">August 22nd 2014</span>
								by <span class='authorname'>Nick Milner</span><br>
								<a class="icon-bg icon-link" href="question/177202/check-if-remote-image-has-been-changed#answer-281870" rel="permalink">permalink</a>
							</div>

							<h5>12 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Does this force a full reload? Is there no means of comparing timestamps or hashes?</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 22nd 2014, 3:20:32 pm">August 22nd 2014</span>
											by <span class='authorname'>Richard Fyffe</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Like I say, I never tried in Ti, but give it a go ?</p>
<p>And no, there are only two events <code>load</code> and <code>error</code> on a remote imageview images and they dont contain cache details</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 22nd 2014, 3:35:21 pm">August 22nd 2014</span>
											by <span class='authorname'>Nick Milner</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Tried it out, it forces a full reload but also floods the phone with copies of the photo. Looks like I&#39;m gonna have to talk to be server guy and get new images made and URLs changed with every new image</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 22nd 2014, 3:42:54 pm">August 22nd 2014</span>
											by <span class='authorname'>Richard Fyffe</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Is that really an issue ? I&#39;m pretty sure the cache manager will start to delete them on low disk space ?</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 22nd 2014, 4:13:42 pm">August 22nd 2014</span>
											by <span class='authorname'>Nick Milner</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Images reloading every time you want to view them is an issue however. It makes the app appear slower.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 22nd 2014, 4:15:08 pm">August 22nd 2014</span>
											by <span class='authorname'>Richard Fyffe</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>The other option is to download the images and store locally - manage your cache that way ?</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 22nd 2014, 4:43:35 pm">August 22nd 2014</span>
											by <span class='authorname'>Nick Milner</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Maybe, but simply changing how it&#39;s stored on the server seems like the much simpler option.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 22nd 2014, 4:47:11 pm">August 22nd 2014</span>
											by <span class='authorname'>Richard Fyffe</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>sure, you need to coordinate the url though and refresh accordingly.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 22nd 2014, 5:01:04 pm">August 22nd 2014</span>
											by <span class='authorname'>Nick Milner</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Are you expecting the url source image to auto-refresh on the current page after its updated ?</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 22nd 2014, 5:14:56 pm">August 22nd 2014</span>
											by <span class='authorname'>Nick Milner</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Once I get the successful return from the server I&#39;ll just reload the page with the new information. I already have all that code in place.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 22nd 2014, 5:50:35 pm">August 22nd 2014</span>
											by <span class='authorname'>Richard Fyffe</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Ah, ok.  In the test I did, that was enough to get a later image… Perhaps check and see what response code is being returned? (eg 304 Not Modified) ?</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 22nd 2014, 6:06:33 pm">August 22nd 2014</span>
											by <span class='authorname'>Nick Milner</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>The server will throw custom errors that I have handles for.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 22nd 2014, 6:07:38 pm">August 22nd 2014</span>
											by <span class='authorname'>Richard Fyffe</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-281878">
				
						<section>
							<p>There is no solution client-side to achieve what I was hoping for. I&#39;m going to solve this issue by having uploaded images have a unique URL to ensure that the caching doesn&#39;t accidentally ignore changed images.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 22nd 2014, 8:37:05 pm">August 22nd 2014</span>
								by <span class='authorname'>Richard Fyffe</span><br>
								<a class="icon-bg icon-link" href="question/177202/check-if-remote-image-has-been-changed#answer-281878" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
