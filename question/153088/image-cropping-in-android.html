<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Image Cropping in Android Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Image Cropping in Android</h1>
		</header>
		<section>
			<p>Hi,</p>
<p>There are several questions on this forum dealing with the cropping of images in Titanium.I have tried everything suggested by the answers in those questions.</p>
<p>1.Firstly I tried this one:<br>http:&#x2F;&#x2F;developer.appcelerator.com&#x2F;question&#x2F;72431&#x2F;crop-imageview<br>On Android the toImage method returns a dictionary object.Obviously when this is assigned to the imageView ,the image is not shown.Also tried using the media property from the dictionary object,but to no success.How to get toImage to run in Android</p>
<p>2.Used the imageAsCropped method of Ti.Blob to crop the blob.But when I give a larger height for the cropped area,it does not return a blob and the imageView to which cropped blob is assigned shows nothing</p>
<p>Code:</p>
<pre><code class="hljs">    <span class="hljs-variable"><span class="hljs-keyword">var</span> initialHeight</span> = capturedImage.height;
    <span class="hljs-variable"><span class="hljs-keyword">var</span> initialWidth</span> = capturedImage.width;

    <span class="hljs-variable"><span class="hljs-keyword">var</span> cropWidth</span>=<span class="hljs-number">0.6</span>*initialWidth;
    <span class="hljs-variable"><span class="hljs-keyword">var</span> cropHeight</span>=<span class="hljs-number">0.86</span>*initialHeight;

    <span class="hljs-variable"><span class="hljs-keyword">var</span> yCord</span> = capturedImage.height * <span class="hljs-number">0.07</span>;

    <span class="hljs-variable"><span class="hljs-keyword">var</span> xCord</span> = capturedImage.width * <span class="hljs-number">0.15</span>;

    <span class="hljs-variable"><span class="hljs-keyword">var</span> croppedImage</span> = capturedImage.imageAsCropped({
        width :  cropWidth,
        height : cropHeight,
        x : xCord,
        y : yCord
    });
</code></pre><p>In the above code if cropHeight exceeds 0.67,the imageView where the cropped Blob is displayed shows nothing.Is it a performance issue?</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="May 31st 2013, 4:35:38 am">May 31st 2013</span>
				by <span class='authorname'>Mukund Samant</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>crop</span></li>
					
						<li><span class='tagname'>image</span></li>
					
				</ul>
			

			<section>
				<h5>1 Comment</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>One thing to note is that the image is from the device camera..and not a static image</p>
</div>
							<div class="author">
								&mdash; commented <span title="May 31st 2013, 5:04:11 am">May 31st 2013</span>
								by <span class='authorname'>Mukund Samant</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-263658">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>have you tried this <a href="https:&#x2F;&#x2F;marketplace.appcelerator.com&#x2F;apps&#x2F;4973?568039915">free module</a> from AppC ?</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="May 31st 2013, 5:40:52 am">May 31st 2013</span>
								by <span class='authorname'>Alberto Marcone</span><br>
								<a class="icon-bg icon-link" href="question/153088/image-cropping-in-android#answer-263658" rel="permalink">permalink</a>
							</div>

							<h5>6 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Thanks mate!!<br>One  question..the download button on the market place takes me to GitHub.I can see the option to download the entire repository as zip..Where can I get only the imagefactory  module zip?</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 31st 2013, 7:35:03 am">May 31st 2013</span>
											by <span class='authorname'>Mukund Samant</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>The entire repository contains other modules as well</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 31st 2013, 7:35:44 am">May 31st 2013</span>
											by <span class='authorname'>Mukund Samant</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>the module is <a href="https:&#x2F;&#x2F;github.com&#x2F;appcelerator&#x2F;titanium_modules&#x2F;tree&#x2F;master&#x2F;imagefactory&#x2F;mobile&#x2F;android&#x2F;dist">here</a></p>
</p>
										<div class="author">
											&mdash; commented <span title="May 31st 2013, 7:43:13 am">May 31st 2013</span>
											by <span class='authorname'>Alberto Marcone</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Worked like a charm buddy!! One final question :)<br>I have a rectangular view port which I am going to show on a camera overlay.I am giving it dimensions  in percentages.I have the left and top(x and y) in percentages as well.Now as seen in the above code snippet I am using these percentages to get the exact same area as the viewport to crop.Can I safely assume those areas will exactly match(small margin of error is acceptable)?</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 31st 2013, 8:27:40 am">May 31st 2013</span>
											by <span class='authorname'>Mukund Samant</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>sorry, I&#39;m not sure what you mean and I don&#39;t have enough experience on this particular field</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 31st 2013, 8:33:50 am">May 31st 2013</span>
											by <span class='authorname'>Alberto Marcone</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Alright no issues ..have a good day!</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 31st 2013, 8:34:43 am">May 31st 2013</span>
											by <span class='authorname'>Mukund Samant</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
