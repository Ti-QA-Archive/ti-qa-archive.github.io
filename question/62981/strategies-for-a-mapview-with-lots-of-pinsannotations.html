<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Strategies for a MapView with LOTS of pins/annotations » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Strategies for a MapView with LOTS of pins/annotations</h1>
		</header>
		<section>
			<p>I&#39;m interested to hear how others have handled the situation of a MapView with too many annotations. This seems like a pretty common thing that several app developers must run in to, but I haven&#39;t seen too many best practices or defined strategies for overcoming it.</p>
<h1 id="example-situation">Example Situation</h1>
<p>You have an app that places an annotation at every gas station. When zoomed in to a pretty tight level, you may see a dozen or so pins. But the more you zoom out, the more you see, until it becomes problematic for both usability and performance.</p>
<h1 id="my-idea-feedback-on-this-please-">My Idea (Feedback on this please)</h1>
<p>Conceptually separate the MapView into a grid of 100 cells (10 high x 10 wide). When any cell contains more than <em>X</em> number of items, instead of displaying those annotations, display a single annotation [of a different color] centered in that cell. This annotation, when selected, displays how many items there are in this cell, and tells the user they need to zoom in. This annotation would also likely have a button that performed the zoom for them.</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="September 20th 2010, 12:36:27 pm">September 20th 2010</span>
				by <span class='authorname'>Bart Lewis</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>mapview</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>1</span> Vote</div>
			<div class="answers"><span>6</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>6 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-116761">
				
						<section>
							<p>I also have a need for something like this.. but the points on my maps are fairly static.  I was planning on handling this on a web page.  But was thinking that using some kind of json file to create a map would also be an option.  I would just refresh the JSON file from the web.<br>I was also going to use DRUPAL as my backend JSON and&#x2F;or web server.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="September 20th 2010, 2:16:58 pm">September 20th 2010</span>
								by <span class='authorname'>vincent youmans</span><br>
								<a class="icon-bg icon-link" href="question/62981/strategies-for-a-mapview-with-lots-of-pinsannotations.html#answer-116761" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-116911">
				
						<section>
							<p>I have a similar situation. I have decided to limit the number of pins for each query. So I do SELECT … LIMIT 200. It seems like the map view can handle a lot of pins, just not adding a lot at a time. Are you seeing the same thing, or does the performance suffer for you just by having a certain number of pins present period? </p>
<p>I also allow the user to jump to another location at any time, and when I do that I call removeAllAnnotations() first so the old ones at the previous location are not kept in memory, just in case the number of pins present does affect the performance. If the user pans the map around I do add new ones as they go, but don&#39;t remove the old ones. </p>
<p>I&#39;d like some help in this area too, to improve map view performance.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="September 20th 2010, 3:38:36 pm">September 20th 2010</span>
								by <span class='authorname'>Randy Hall</span><br>
								<a class="icon-bg icon-link" href="question/62981/strategies-for-a-mapview-with-lots-of-pinsannotations.html#answer-116911" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-116941">
				
						<section>
							<p>This isn&#39;t a solution but you can see how clustering annotations would look.  Toward the bottom you&#39;ll see DTClusterMaker.</p>
<p>http:&#x2F;&#x2F;www.drobnik.com&#x2F;touch&#x2F;parts-store&#x2F;</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="September 20th 2010, 4:16:58 pm">September 20th 2010</span>
								by <span class='authorname'>John McKnight</span><br>
								<a class="icon-bg icon-link" href="question/62981/strategies-for-a-mapview-with-lots-of-pinsannotations.html#answer-116941" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Right. I found that as well. The thing I don&#39;t like about that implementation is that the clustered pin&#39;s action simply unclusters it. Makes way more sense to me to have the action be a zoom to point.</p>
</p>
										<div class="author">
											&mdash; commented <span title="September 20th 2010, 4:23:03 pm">September 20th 2010</span>
											by <span class='authorname'>Bart Lewis</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-178291">
				
						<section>
							<p>I have this issue too, I have over 900 POI&#39;s and its growing, adding markers on the map severely slows the device, removing the animations speeds up the process slightly, but still not good enough, I have got around it by only showing some of the markers at a time, they can be split by who owns them. But its not an ideal solution, I would much rather see a Titanium implementation of marker clustering.<br>Especially as a webview, whilst would work, doesn&#39;t have tight integration with passing data from a SQLite db, which is how I have stored my data. </p>
<p>However, if anyone has a working example they could share it would be so much appreciated, either via webview or native maps. </p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="January 13th 2011, 9:17:10 am">January 13th 2011</span>
								by <span class='authorname'>Ian Tearle</span><br>
								<a class="icon-bg icon-link" href="question/62981/strategies-for-a-mapview-with-lots-of-pinsannotations.html#answer-178291" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-178311">
				
						<section>
							<p>The problem of many Pins on a map exist on any client. Javascript, mobile of desktop. The only efficient way to handle this is to incorporate the pins as pixels on the map tiles themselves.</p>
<p>If the limit is 200, 900 or as I experienced with JavaScript: 16000 is somewhat dependent on the device, gfx cpu and the amount of ram.</p>
<p>If one needs to many pins on a map, setting these with the client will eventually slowly and steadily kill your app.</p>
<p>If google offers layering with pixels in the bitmaps I am not certain about, but the tileserver we use in our company does. We used ESRI and put the pins on the tiles using layered maps on the ESRI server. I am not certain if the map functions in appCelerator supports this, but I am pretty certain the webView does.</p>
<p>Annotations are added on the client only for the pins visible in the display, limited to an amount which one safely can assume the client can handle.</p>
<p>I offer no solutions here, but adding more than a limited number of pins in a map on the client will eventually lead to a grinding halt on your device…</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="January 13th 2011, 9:43:36 am">January 13th 2011</span>
								by <span class='authorname'>Harald Sakshaug</span><br>
								<a class="icon-bg icon-link" href="question/62981/strategies-for-a-mapview-with-lots-of-pinsannotations.html#answer-178311" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>I think everyone gets that adding many pins on a map is an issue, and im pretty certain we would all like to see a solution where by a tested means (on web at least) of clustering markers natively with appcelerator or a means of integrating device app data with a webview offering clustering services. Your option does not seem valid nor does it help anyone else who has posted on this subject. The only live app I have seen which does clustering is the National Trust app, but I cannot figure out which they used, a web container or a native maps hook. I would love to know.</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 13th 2011, 3:15:17 pm">January 13th 2011</span>
											by <span class='authorname'>Ian Tearle</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-215862">
				
						<section>
							<p>The only right solution is to use a clustering. In the web google map api world are lot of solutions. In relation of zoom level (in our world = region) a part of markers (in our world = annotations) will suppressed displaying of superfluouses annotations. There are a lot of rules to do this.</p>
<p>What we need is a annotations manager. It collects teh annotations and controls displaying of annoations.</p>
<p>Any ideas?</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 8th 2011, 4:02:12 pm">August 8th 2011</span>
								by <span class='authorname'>Rainer Schleevoigt</span><br>
								<a class="icon-bg icon-link" href="question/62981/strategies-for-a-mapview-with-lots-of-pinsannotations.html#answer-215862" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
