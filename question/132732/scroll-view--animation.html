<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>scroll view &amp; animation » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>scroll view &amp; animation</h1>
		</header>
		<section>
			<p>Hey all.</p>
<p>I have a TextArea, attached to a KeyBoardToolBar, all on a ScrollView.  With me so far?  Ok, The text area gets focus the keyboard slides up, the textarea slides up as well and the world is good.  However, when the done button on the keyboard is pressed the keyboard slides down but the rest of the controls on the page drop.  The properties for the hide and show are exactly the same I&#39;m just wondering if I&#39;m missing something in the ScrollView?</p>
<p>Any ideas?  Code below…</p>
<h2 id="thank-you">Thank you</h2>
<p>var flexSpace = Titanium.UI.createButton({<br>    systemButton:Titanium.UI.iPhone.SystemButton.FLEXIBLE_SPACE<br>});</p>
<p>&#x2F;&#x2F;Done System Button<br>var btn_done = Titanium.UI.createButton({<br>    systemButton:Titanium.UI.iPhone.SystemButton.DONE,<br>});</p>
<p>var keyboardToolbar = Titanium.UI.createToolbar({<br>    items:[flexSpace,btn_done],<br>    top:224,<br>    borderTop:true,<br>    borderBottom:true,<br>    visible:false,<br>    opacity:100,<br>    barColor:&#39;#336699&#39;<br>});</p>
<p>var done = Titanium.UI.createButton({<br>    height:50,<br>    systemButton:Titanium.UI.iPhone.SystemButton.DONE<br>});</p>
<p>var indvTa = Titanium.UI.createTextArea({<br>    editable: true,<br>    height:200,<br>    top:150,<br>    left:10,<br>    width:300,<br>    font:{fontSize:20,fontFamily:&#39;Marker Felt&#39;, fontWeight:&#39;bold&#39;},<br>    color:&#39;#888&#39;,<br>    textAlign:&#39;left&#39;,<br>    appearance:Titanium.UI.KEYBOARD_APPEARANCE_ALERT,<br>    keyboardType:Titanium.UI.KEYBOARD_DEFAULT,<br>    returnKeyType:Titanium.UI.RETURNKEY_DEFAULT,<br>    keyboardToolbar:[flexSpace, done],<br>    keyboardToolbarColor: &#39;#336699&#39;,<br>    keyboardToolbarHeight: 40,<br>    borderWidth:2,<br>    borderColor:&#39;#bbb&#39;,<br>    borderRadius:5,<br>    suppressReturn:false</p>
<p>});</p>
<p>var scrollView = Ti.UI.createScrollView({<br>    contentHeight:&#39;auto&#39;,<br>    contentWidth:&#39;auto&#39;<br>});</p>
<p>scrollView.add(indvTa);</p>
<p>indvTa.addEventListener(&#39;focus&#39;, function(e)<br>{<br>    Titanium.App.fireEvent(&quot;showKeyboardToolbar&quot;);</p>
<p>});</p>
<p>function showKeyboardToobar() {<br>    Ti.API.info(&quot;showKeyboardToobar Function Called&quot;)</p>
<pre><code class="hljs">keyboarToolbarAnimation = Titanium.UI.createAnimation({
    curve: Ti.UI.ANIMATION_CURVE_EASE_IN_OUT,
    top:<span class="hljs-number">204</span>,
    opacity: <span class="hljs-number">100</span>,
    duration: <span class="hljs-number">300</span>,
    delay: <span class="hljs-number">200</span>,
    zIndex:<span class="hljs-number">4</span>
});
keyboardToolbar.visible = <span class="hljs-literal">true</span>;
keyboardToolbar.animate(keyboarToolbarAnimation);
</code></pre><p>}</p>
<p>function hideKeyboardToobar() {<br>    Ti.API.info(&quot;hideKeyboardToobar Function Called&quot;)</p>
<pre><code class="hljs">keyboarToolbarAnimation = Titanium.UI.createAnimation({
    curve: Ti.UI.ANIMATION_CURVE_EASE_IN_OUT,
    top:<span class="hljs-number">204</span>,
    opacity: <span class="hljs-number">100</span>,
    duration: <span class="hljs-number">300</span>,
    delay: <span class="hljs-number">200</span>,
    zIndex:<span class="hljs-number">4</span>
});
keyboardToolbar.visible = <span class="hljs-literal">false</span>;
keyboardToolbar.animate(keyboarToolbarAnimation);
</code></pre><p>}</p>
<p>Titanium.App.addEventListener(&#39;showKeyboardToolbar&#39;, function(e)<br>{<br>    showKeyboardToobar();<br>});</p>
<p>Titanium.App.addEventListener(&#39;hideKeyboardToolbar&#39;, function(e)<br>{<br>    hideKeyboardToobar();<br>});</p>
<p>I just can&#39;t figure out why the controls on the</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="February 24th 2012, 3:27:53 pm">February 24th 2012</span>
				by <span class='authorname'>Kevin Brown</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>animation</span></li>
					
						<li><span class='tagname'>iphone</span></li>
					
						<li><span class='tagname'>keyboardtoolbar</span></li>
					
						<li><span class='tagname'>scrollview</span></li>
					
						<li><span class='tagname'>textarea</span></li>
					
				</ul>
			

			<section>
				<h5>1 Comment</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Hello Kevin,</p>
<p>if you format your code (check the markdown syntax) it&#39;s likely you will get help.</p>
<p>Best,</p>
<p>Mauro</p>
</div>
							<div class="author">
								&mdash; commented <span title="February 27th 2012, 5:54:28 pm">February 27th 2012</span>
								by <span class='authorname'>Mauro Parra</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>4</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>4 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-246333">
				
						<section>
							<p>For me this works very well. Your code was just a bit messy (you had two toolbars, one created manually and one by the text view):</p>
<pre><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">clickEvent</span>) </span>{
<span class="hljs-pi">    "use strict"</span>;

    <span class="hljs-keyword">var</span> done,
        flexSpace,
        indvTa,
        scrollView,
        subWindow;

    done = Titanium.UI.createButton({
        height: <span class="hljs-number">50</span>,
        systemButton: Titanium.UI.iPhone.SystemButton.DONE
    });
    done.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">clickEvent</span>) </span>{
        indvTa.blur();
    });

    flexSpace = Titanium.UI.createButton({
        systemButton: Titanium.UI.iPhone.SystemButton.FLEXIBLE_SPACE
    });

    indvTa = Titanium.UI.createTextArea({
        editable: <span class="hljs-literal">true</span>,
        height: <span class="hljs-number">200</span>,
        top: <span class="hljs-number">150</span>,
        left: <span class="hljs-number">10</span>,
        width: <span class="hljs-number">300</span>,
        font: {
            fontSize: <span class="hljs-number">20</span>,
            fontFamily: <span class="hljs-string">'Marker Felt'</span>,
            fontWeight: <span class="hljs-string">'bold'</span>
        },
        color: <span class="hljs-string">'#888'</span>,
        textAlign: <span class="hljs-string">'left'</span>,
        appearance: Titanium.UI.KEYBOARD_APPEARANCE_ALERT,
        keyboardType: Titanium.UI.KEYBOARD_DEFAULT,
        returnKeyType: Titanium.UI.RETURNKEY_DEFAULT,
        keyboardToolbar: [flexSpace, done],
        keyboardToolbarColor: <span class="hljs-string">'#336699'</span>,
        borderWidth: <span class="hljs-number">2</span>,
        borderColor: <span class="hljs-string">'#bbb'</span>,
        borderRadius: <span class="hljs-number">5</span>,
        suppressReturn: <span class="hljs-literal">false</span>
    });

    scrollView = Ti.UI.createScrollView({
        contentHeight: <span class="hljs-string">'auto'</span>,
        contentWidth: <span class="hljs-string">'auto'</span>
    });
    scrollView.add(indvTa);

    subWindow = Titanium.UI.createWindow({
        backgroundColor: <span class="hljs-string">'#ccc'</span>
    });
    subWindow.add(scrollView);
    subWindow.open({
        transition: Titanium.UI.iPhone.AnimationStyle.FLIP_FROM_RIGHT
    });
}
</code></pre><p>This code will properly blur the text view when you hit the <code>done</code> button.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 30th 2012, 6:43:10 am">August 30th 2012</span>
								by <span class='authorname'>Sven Herzberg</span><br>
								<a class="icon-bg icon-link" href="question/132732/scroll-view--animation#answer-246333" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-231717">
				
						<section>
							<p>i don&#39;t understand what you&#39;re saying.  The code was formatted until I pasted it into the page to ask the question.  Thank you though.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="February 27th 2012, 9:09:30 pm">February 27th 2012</span>
								by <span class='authorname'>Kevin Brown</span><br>
								<a class="icon-bg icon-link" href="question/132732/scroll-view--animation#answer-231717" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-231718">
				
						<section>
							<p>i don&#39;t understand what you&#39;re saying.  The code was formatted until I pasted it into the page to ask the question.  Thank you though.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="February 27th 2012, 9:09:32 pm">February 27th 2012</span>
								by <span class='authorname'>Kevin Brown</span><br>
								<a class="icon-bg icon-link" href="question/132732/scroll-view--animation#answer-231718" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>It helps, when you post if you put 3 X ~ to get the code formatted. Like this</p>
<pre><code class="hljs">var flexSpace = Titanium.UI.createButton({ <span class="hljs-string">systemButton:</span>Titanium.UI.iPhone.SystemButton.FLEXIBLE_SPACE });
<span class="hljs-comment">//Done System Button var btn_done = Titanium.UI.createButton({ systemButton:Titanium.UI.iPhone.SystemButton.DONE, });</span>
var keyboardToolbar = Titanium.UI.createToolbar({ <span class="hljs-string">items:</span>[flexSpace,btn_done], <span class="hljs-string">top:</span><span class="hljs-number">224</span>, <span class="hljs-string">borderTop:</span><span class="hljs-literal">true</span>, <span class="hljs-string">borderBottom:</span><span class="hljs-literal">true</span>, <span class="hljs-string">visible:</span><span class="hljs-literal">false</span>, <span class="hljs-string">opacity:</span><span class="hljs-number">100</span>, <span class="hljs-string">barColor:</span><span class="hljs-string">'#336699'</span> });
var done = Titanium.UI.createButton({ <span class="hljs-string">height:</span><span class="hljs-number">50</span>, <span class="hljs-string">systemButton:</span>Titanium.UI.iPhone.SystemButton.DONE });
var indvTa = Titanium.UI.createTextArea({ <span class="hljs-string">editable:</span> <span class="hljs-literal">true</span>, <span class="hljs-string">height:</span><span class="hljs-number">200</span>, <span class="hljs-string">top:</span><span class="hljs-number">150</span>, <span class="hljs-string">left:</span><span class="hljs-number">10</span>, <span class="hljs-string">width:</span><span class="hljs-number">300</span>, <span class="hljs-string">font:</span>{<span class="hljs-string">fontSize:</span><span class="hljs-number">20</span>,<span class="hljs-string">fontFamily:</span><span class="hljs-string">'Marker Felt'</span>, <span class="hljs-string">fontWeight:</span><span class="hljs-string">'bold'</span>}, <span class="hljs-string">color:</span><span class="hljs-string">'#888'</span>, <span class="hljs-string">textAlign:</span><span class="hljs-string">'left'</span>, <span class="hljs-string">appearance:</span>Titanium.UI.KEYBOARD_APPEARANCE_ALERT,
<span class="hljs-string">keyboardType:</span>Titanium.UI.KEYBOARD_DEFAULT, <span class="hljs-string">returnKeyType:</span>Titanium.UI.RETURNKEY_DEFAULT, <span class="hljs-string">keyboardToolbar:</span>[flexSpace, done], <span class="hljs-string">keyboardToolbarColor:</span> <span class="hljs-string">'#336699'</span>,
<span class="hljs-string">keyboardToolbarHeight:</span> <span class="hljs-number">40</span>, <span class="hljs-string">borderWidth:</span><span class="hljs-number">2</span>, <span class="hljs-string">borderColor:</span><span class="hljs-string">'#bbb'</span>, <span class="hljs-string">borderRadius:</span><span class="hljs-number">5</span>, <span class="hljs-string">suppressReturn:</span><span class="hljs-literal">false</span>
});
var scrollView = Ti.UI.createScrollView({ <span class="hljs-string">contentHeight:</span><span class="hljs-string">'auto'</span>, <span class="hljs-string">contentWidth:</span><span class="hljs-string">'auto'</span> });
scrollView.add(indvTa);
indvTa.addEventListener(<span class="hljs-string">'focus'</span>, function(e) { Titanium.App.fireEvent(<span class="hljs-string">"showKeyboardToolbar"</span>);
});
function showKeyboardToobar() { Ti.API.info(<span class="hljs-string">"showKeyboardToobar Function Called"</span>)
keyboarToolbarAnimation = Titanium.UI.createAnimation({
<span class="hljs-label">    curve:</span> Ti.UI.ANIMATION_CURVE_EASE_IN_OUT,
<span class="hljs-label">    top:</span><span class="hljs-number">204</span>,
<span class="hljs-label">    opacity:</span> <span class="hljs-number">100</span>,
<span class="hljs-label">    duration:</span> <span class="hljs-number">300</span>,
<span class="hljs-label">    delay:</span> <span class="hljs-number">200</span>,
<span class="hljs-label">    zIndex:</span><span class="hljs-number">4</span>
});
keyboardToolbar.visible = <span class="hljs-literal">true</span>;
keyboardToolbar.animate(keyboarToolbarAnimation);
}
function hideKeyboardToobar() { Ti.API.info(<span class="hljs-string">"hideKeyboardToobar Function Called"</span>)
keyboarToolbarAnimation = Titanium.UI.createAnimation({
<span class="hljs-label">    curve:</span> Ti.UI.ANIMATION_CURVE_EASE_IN_OUT,
<span class="hljs-label">    top:</span><span class="hljs-number">204</span>,
<span class="hljs-label">    opacity:</span> <span class="hljs-number">100</span>,
<span class="hljs-label">    duration:</span> <span class="hljs-number">300</span>,
<span class="hljs-label">    delay:</span> <span class="hljs-number">200</span>,
<span class="hljs-label">    zIndex:</span><span class="hljs-number">4</span>
});
keyboardToolbar.visible = <span class="hljs-literal">false</span>;
keyboardToolbar.animate(keyboarToolbarAnimation);
}
Titanium.App.addEventListener(<span class="hljs-string">'showKeyboardToolbar'</span>, function(e) { showKeyboardToobar(); });
Titanium.App.addEventListener(<span class="hljs-string">'hideKeyboardToolbar'</span>, function(e) { hideKeyboardToobar(); });
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="March 2nd 2012, 6:33:17 pm">March 2nd 2012</span>
											by <span class='authorname'>Leonardo Amigoni</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-232210">
				
						<section>
							<p>I have a similar issue. The scrollview goes up with the keyboard but won&#39;t come back down.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="March 2nd 2012, 6:34:58 pm">March 2nd 2012</span>
								by <span class='authorname'>Leonardo Amigoni</span><br>
								<a class="icon-bg icon-link" href="question/132732/scroll-view--animation#answer-232210" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
