<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>tab.open() won&#39;t work on android » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>tab.open() won&#39;t work on android</h1>
		</header>
		<section>
			<p>Hello,</p>
<p>I have the following code which works perfectly in iOS</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> tableView = Titanium.UI.createTableView();

tableView.setData(newArray); <span class="hljs-comment">// newArray is an array I have loaded with data before</span>

tableView.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span></span>{

<span class="hljs-keyword">var</span> tab = Titanium.UI.currentTab;

w = Titanium.UI.createWindow({
url:<span class="hljs-string">'/src/controllers/profile.js'</span>
})

tab.open(w,{animated:<span class="hljs-literal">true</span>});
</code></pre><p>In Android I get the error: Uncaught TypeError: Cannot call method &#39;open&#39; of undefined</p>
<p>what&#39;s the problem with Android here?</p>
<p>thank you</p>
<p>George</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="May 31st 2012, 9:30:54 am">May 31st 2012</span>
				by <span class='authorname'>George Georgiou</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android tab</span></li>
					
						<li><span class='tagname'>undefined currenttab</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>4</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>4 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-239799">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>Ti.UI.currentTab doesn&#39;t work.  You&#39;ll need to store a reference to the tabgroup in a global variable, then call getActiveTab() on the tabgroup to get the current tab.</p>
<p>Don&#39;t ask why Ti.UI.currentTab doesn&#39;t work.  After a couple of weeks of Titanium development, you just give up trying to figure out the inconsistencies between platforms, the inconsistencies in the documentation, the inconsistencies in the examples, etc.  You just build a toolbox of trusted workarounds and use them over and over.  Sorry – don&#39;t mean to rant – pent up frustration needs somewhere to vent…</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="May 31st 2012, 10:35:07 am">May 31st 2012</span>
								by <span class='authorname'>Jason Priebe</span><br>
								<a class="icon-bg icon-link" href="question/137674/tabopen-wont-work-on-android#answer-239799" rel="permalink">permalink</a>
							</div>

							<h5>6 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>I guess you are referring into this issue, right? </p>
<p>http:&#x2F;&#x2F;developer.appcelerator.com&#x2F;question&#x2F;98501&#x2F;titaniumuicurrenttab-is-null</p>
<p>duhh… it&#39;s SDK2.0 and they haven&#39;t attacked this issue yet? :-(</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 31st 2012, 11:08:44 am">May 31st 2012</span>
											by <span class='authorname'>George Georgiou</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Yes, among many other issues.  Javier Vega&#39;s solution (the last answer to that question) looks like a good one.  I use my own special &quot;globals&quot; object class to store a reference to the tabgroup, but his is a bit more streamlined.  I&#39;m a little hesitant to create properties of Ti.UI, but it is pretty elegant.</p>
<p>Please post back and let us know if you can make your code work once you are managing the tabgroup reference manually.</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 31st 2012, 11:12:25 am">May 31st 2012</span>
											by <span class='authorname'>Jason Priebe</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I am a little bit confused with Javier&#39;s solution. Can you please help how to do this …?</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 31st 2012, 11:14:13 am">May 31st 2012</span>
											by <span class='authorname'>George Georgiou</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>He&#39;s just saying that at the time you create the tabgroup, save it to Ti.UI.currentTabGroup (this property is not part of the actual API for Ti.UI; it&#39;s just an additional property that you&#39;re creating).  That property will be available to all your code, across all your modules (you <em>are</em> using CommonJS modules, right?).</p>
<pre><code class="hljs">var tabGroup = Ti.UI.createTabGroup()<span class="hljs-comment">;    </span>
Ti.UI.currentTabGroup = tabGroup<span class="hljs-comment">;</span>
</code></pre><p>Then later you can reference it like this:</p>
<pre><code class="hljs"><span class="hljs-tag">Ti</span><span class="hljs-class">.UI</span><span class="hljs-class">.currentTabGroup</span><span class="hljs-class">.getActiveTab</span>()<span class="hljs-class">.open</span> (<span class="hljs-tag">w</span>);
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="May 31st 2012, 11:38:00 am">May 31st 2012</span>
											by <span class='authorname'>Jason Priebe</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Yes, I am using CommonJS modules. I tried the above and although it works on iOS, on Android I am getting a message &quot;Uncaught TypeError: Cannot call method &#39;getActiveTab&#39; or undefined.</p>
<p>Do I have to define this method somewhere?</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 31st 2012, 11:58:54 am">May 31st 2012</span>
											by <span class='authorname'>George Georgiou</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>somehow this worked now! Thank you Jason!</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 31st 2012, 1:26:37 pm">May 31st 2012</span>
											by <span class='authorname'>George Georgiou</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-239795">
				
						<section>
							<p>Hi, George, try </p>
<pre><code class="hljs"><span class="hljs-keyword">tab</span>.<span class="hljs-keyword">open</span>(w);
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="May 31st 2012, 9:53:45 am">May 31st 2012</span>
								by <span class='authorname'>Gaurang Chhatbar</span><br>
								<a class="icon-bg icon-link" href="question/137674/tabopen-wont-work-on-android#answer-239795" rel="permalink">permalink</a>
							</div>

							<h5>2 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>make sure you got the current tab in <code>tab</code></p>
</p>
										<div class="author">
											&mdash; commented <span title="May 31st 2012, 9:54:35 am">May 31st 2012</span>
											by <span class='authorname'>Gaurang Chhatbar</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>negative … still doesn&#39;t work in Android, although it&#39;s ok in iOS</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 31st 2012, 10:51:24 am">May 31st 2012</span>
											by <span class='authorname'>George Georgiou</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-239806">
				
						<section>
							<p>Try : <code>Ti.UI.currentWindow.tab.open(w, {animated:true});</code></p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="May 31st 2012, 11:00:11 am">May 31st 2012</span>
								by <span class='authorname'>Kosso</span><br>
								<a class="icon-bg icon-link" href="question/137674/tabopen-wont-work-on-android#answer-239806" rel="permalink">permalink</a>
							</div>

							<h5>5 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>this won&#39;t work either …</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 31st 2012, 11:14:30 am">May 31st 2012</span>
											by <span class='authorname'>George Georgiou</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>which SDK version are you using? </p>
<p>I use 1.9 and it works fine for me.</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 31st 2012, 11:21:19 am">May 31st 2012</span>
											by <span class='authorname'>Kosso</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>2.0.1.GA2 ! :(</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 31st 2012, 11:24:46 am">May 31st 2012</span>
											by <span class='authorname'>George Georgiou</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>What I haven&#39;t mentioned is that I am using this within a commonjs module … it&#39;s withtin a function which is exportable though!</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 31st 2012, 11:25:56 am">May 31st 2012</span>
											by <span class='authorname'>George Georgiou</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Interesting. I have also just tested in 2.1 (from a CI build) and it worked too. </p>
<p>Although, I have now found something else which doesn&#39;t work.</p>
<p>To be honest, I&#39;m sticking with 1.9 for a while - SO many things have changed with 2.0 that it&#39;s like a new learning curve. Again. </p>
<p>:(</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 31st 2012, 11:40:53 am">May 31st 2012</span>
											by <span class='authorname'>Kosso</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-239819">
				
						<section>
							<p>No – the error doesn&#39;t mean that getActiveTab is not defined; it means that Ti.UI.currentTabGroup is null.</p>
<p>Somehow, the Ti.UI.currentTabGroup is not being defined like you think it should be.</p>
<p>There&#39;s also a chance that you can&#39;t just define arbitrary properties on Ti.UI like Javier proposed.  I have not tested his idea first-hand.  Maybe there&#39;s some &quot;magic&quot; about Ti.UI that prevents that from working (Titanium development makes you superstitious like that).</p>
<p>As I mentioned, I have my own globals class defined in util&#x2F;globals.js:</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> <span class="hljs-keyword">g</span> = {};

module.exports.<span class="hljs-keyword">g</span> = <span class="hljs-keyword">g</span>;
</code></pre><p>When I create the tab group, I store it in the global array:</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> globals = <span class="hljs-built_in">require</span> (<span class="hljs-string">'util/globals'</span>);

<span class="hljs-keyword">var</span> tabGroup = Titanium.UI.createTabGroup();

globals.g.mainTabGroup = tabGroup;
</code></pre><p>In another module, when I need to open a window, I do this:</p>
<pre><code class="hljs">var globals = require (<span class="hljs-symbol">'util</span>/globals');

globals.g.mainTabGroup.getActiveTab<span class="hljs-literal">()</span>.<span class="hljs-keyword">open</span> (w);
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="May 31st 2012, 12:10:33 pm">May 31st 2012</span>
								by <span class='authorname'>Jason Priebe</span><br>
								<a class="icon-bg icon-link" href="question/137674/tabopen-wont-work-on-android#answer-239819" rel="permalink">permalink</a>
							</div>

							<h5>2 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>hm.. strange. I did exact this and I am still getting an error. Here&#39;s what I did …</p>
<p>created my globals.js and placed it at &#x2F;src&#x2F;common&#x2F;globals.js</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> <span class="hljs-keyword">g</span> = {};
module.exports.<span class="hljs-keyword">g</span> = <span class="hljs-keyword">g</span>;
</code></pre><p>then, on my default controller, I have this code right after I create my masterTabGroup.</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> masterTabGroup = Titanium.UI.createTabGroup();

<span class="hljs-comment">//added the suggested code</span>

<span class="hljs-keyword">var</span> globals = <span class="hljs-built_in">require</span>(<span class="hljs-string">'/src/common/utils/globals'</span>);
globals.g.mainTabGroup = masterTabGroup;
</code></pre><p>and then, within one of my CommonJS modules, I have this:</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> globals = <span class="hljs-built_in">require</span>(<span class="hljs-string">'/src/common/utils/globals'</span>);

globals.g.mainTabGroup.getActiveTab().open(w,{animated:<span class="hljs-literal">true</span>});
</code></pre><p>the error that I receive now is :</p>
<p>&#39;undefined&#39; is not an object (evaluating &#39;globals.g.mainTabGroup.getActiveTab&#39;);</p>
<p>this won&#39;t work in iOS either …</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 31st 2012, 12:31:53 pm">May 31st 2012</span>
											by <span class='authorname'>George Georgiou</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Have you tried stepping through in the debugger?  Set a breakpoint at </p>
<pre><code class="hljs"><span class="hljs-tag">globals</span><span class="hljs-class">.g</span><span class="hljs-class">.mainTabGroup</span><span class="hljs-class">.getActiveTab</span>()<span class="hljs-class">.open</span>(<span class="hljs-tag">w</span>,<span class="hljs-rules">{<span class="hljs-rule"><span class="hljs-attribute">animated</span>:<span class="hljs-value">true</span></span></span>});
</code></pre><p>Inspect your variables: globals, globals.g, and globals.g.mainTabGroup.  I think if you look closely at those variables, you might be able to figure out which variable is not set properly.</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 31st 2012, 1:21:36 pm">May 31st 2012</span>
											by <span class='authorname'>Jason Priebe</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
