<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Get new value of a text field Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Get new value of a text field</h1>
		</header>
		<section>
			<p>Good morning,<br>I have a question concerning values of textfields. In an app I wrote, I have a textfield and a button; when the button is clicked, the program should get the value of the textfield, which the user set previously. Then I want to include this value in an e-mail. However, it doesn&#39;t work, the mail prints out all other variables perfectly, except for the value of the textfield.<br>In the following, I included the necessary code:</p>
<pre><code class="hljs">var Eingabefeld = Titanium.UI.createTextField({
    <span class="hljs-string">clearOnEdit :</span> <span class="hljs-literal">false</span>,
    <span class="hljs-string">backgroundGradient :</span> {
        <span class="hljs-string">type :</span> <span class="hljs-string">'linear'</span>,
        <span class="hljs-string">colors :</span> [<span class="hljs-string">'#DCDCDC'</span>, <span class="hljs-string">'#FFF'</span>],
        <span class="hljs-string">startPoint :</span> {
            <span class="hljs-string">x :</span> <span class="hljs-number">0</span>,
            <span class="hljs-string">y :</span> <span class="hljs-number">0</span>
        },
        <span class="hljs-string">endPoint :</span> {
            <span class="hljs-string">x :</span> <span class="hljs-number">0</span>,
            <span class="hljs-string">y :</span> <span class="hljs-number">50</span>
        },
        <span class="hljs-string">backFillStart :</span> <span class="hljs-literal">false</span>
    },
    <span class="hljs-string">color :</span> <span class="hljs-string">'#350062'</span>,
    <span class="hljs-string">font :</span> {
        <span class="hljs-string">fontSize :</span> <span class="hljs-number">24</span>,
        <span class="hljs-string">fontFamily :</span> <span class="hljs-string">'Helvetica Neue'</span>
    },
    <span class="hljs-string">borderColor :</span> <span class="hljs-string">'#350062'</span>,
    <span class="hljs-string">top :</span> <span class="hljs-number">170</span>,
    <span class="hljs-string">width :</span> <span class="hljs-number">290</span>,
    <span class="hljs-string">height :</span> <span class="hljs-number">30</span>
});

var Button = Titanium.UI.createButton({
    <span class="hljs-string">title :</span> <span class="hljs-string">'Read Later'</span>,
    <span class="hljs-string">style :</span> Titanium.UI.iPhone.SystemButtonStyle.PLAIN,
    <span class="hljs-string">backgroundGradient :</span> {
        <span class="hljs-string">type :</span> <span class="hljs-string">'linear'</span>,
        <span class="hljs-string">colors :</span> [<span class="hljs-string">'#6F00CE'</span>, <span class="hljs-string">'#350062'</span>],
        <span class="hljs-string">startPoint :</span> {
            <span class="hljs-string">x :</span> <span class="hljs-number">0</span>,
            <span class="hljs-string">y :</span> <span class="hljs-number">0</span>
        },
        <span class="hljs-string">endPoint :</span> {
            <span class="hljs-string">x :</span> <span class="hljs-number">0</span>,
            <span class="hljs-string">y :</span> <span class="hljs-number">50</span>
        },
        <span class="hljs-string">backFillStart :</span> <span class="hljs-literal">false</span>
    },
    <span class="hljs-string">borderRadius :</span> <span class="hljs-number">20</span>,
    <span class="hljs-string">top :</span> <span class="hljs-number">220</span>,
    <span class="hljs-string">width :</span> <span class="hljs-number">300</span>,
    <span class="hljs-string">height :</span> <span class="hljs-number">40</span>
});

Button.addEventListener(<span class="hljs-string">'click'</span>, function(e) {
    emailDialog.open()
});

var currentTime = <span class="hljs-keyword">new</span> Date();

var month = currentTime.getMonth() + <span class="hljs-number">1</span>
var day = currentTime.getDate()
var year = currentTime.getFullYear()

var emailDialog = Titanium.UI.createEmailDialog( {
<span class="hljs-label">    subject:</span> <span class="hljs-string">'Test '</span> + month + <span class="hljs-string">'/'</span> + day + <span class="hljs-string">'/'</span> + year,
<span class="hljs-label">    toRecipients:</span> [<span class="hljs-string">'justin.rennert12@googlemail.com'</span>],
<span class="hljs-label">    messageBody:</span> <span class="hljs-string">'This is a test for the '</span> + day + <span class="hljs-string">'th of '</span> + month + <span class="hljs-string">' '</span> + year + <span class="hljs-string">': '</span> + Eingabefeld.value + <span class="hljs-string">'Check back tomorrow!'</span>  
});


Win1.add(TitleLabel);

Win1.add(Eingabefeld);

Win1.add(Button);

Win1.open();
</code></pre>
		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="June 26th 2012, 9:46:51 am">June 26th 2012</span>
				by <span class='authorname'>John Appleseed</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>button</span></li>
					
						<li><span class='tagname'>textfield</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-241919">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>You should create the email dialog window <strong>inside</strong> the <code>click</code> event.</p>
<h4 id="the-code-could-go-something-like-this-">The code could go something like this:</h4>
<pre><code class="hljs">Button.addEventListener(<span class="hljs-string">'click'</span>, function(e) {
  var emailDialog = Titanium.UI.createEmailDialog( {
      subject: <span class="hljs-string">'Test '</span> + <span class="hljs-built_in">month</span> + <span class="hljs-string">'/'</span> + <span class="hljs-built_in">day</span> + <span class="hljs-string">'/'</span> + <span class="hljs-built_in">year</span>,
      toRecipients: [<span class="hljs-string">'justin.rennert12@googlemail.com'</span>],
      messageBody: <span class="hljs-string">'This is a test for the '</span> + <span class="hljs-built_in">day</span> + <span class="hljs-string">'th of '</span> + <span class="hljs-built_in">month</span> + <span class="hljs-string">' '</span> + <span class="hljs-built_in">year</span> + <span class="hljs-string">': '</span> + Eingabefeld.getValue() + <span class="hljs-string">'Check back tomorrow!'</span>  
  });

  emailDialog.<span class="hljs-built_in">open</span>()
});
</code></pre><p>I also suggest that you use the <code>getValue()</code> funciton instead of the <code>value</code> property.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="June 26th 2012, 10:59:05 am">June 26th 2012</span>
								by <span class='authorname'>Christian Brousseau</span><br>
								<a class="icon-bg icon-link" href="../../question/138842/get-new-value-of-a-text-field.html#answer-241919" rel="permalink">permalink</a>
							</div>

							<h5>2 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Normally, I would recommend using a getter versus directly accessing the property, too.  But I have found that <code>getValue()</code> does not work with TextFields on android.   So I think he should stick with <code>value</code></p>
</p>
										<div class="author">
											&mdash; commented <span title="June 26th 2012, 11:07:25 am">June 26th 2012</span>
											by <span class='authorname'>Jason Priebe</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Thanks, that really helped!</p>
</p>
										<div class="author">
											&mdash; commented <span title="June 26th 2012, 11:59:37 am">June 26th 2012</span>
											by <span class='authorname'>John Appleseed</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-241915">
				
						<section>
							<p>You&#39;re creating the dialog before the window is even open, at which time, the value of the text field is an empty string.  Create it when the user clicks the button so you can use the current value of the text field.  Try creating your EmailDialog <em>inside</em> of your button&#39;s click event listener.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="June 26th 2012, 10:31:01 am">June 26th 2012</span>
								by <span class='authorname'>Jason Priebe</span><br>
								<a class="icon-bg icon-link" href="../../question/138842/get-new-value-of-a-text-field.html#answer-241915" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Thanks, that really helped!</p>
</p>
										<div class="author">
											&mdash; commented <span title="June 26th 2012, 11:59:45 am">June 26th 2012</span>
											by <span class='authorname'>John Appleseed</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
