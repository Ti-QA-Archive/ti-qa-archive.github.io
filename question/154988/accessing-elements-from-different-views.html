<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Accessing elements from different views Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Accessing elements from different views</h1>
		</header>
		<section>
			<p>I want to set labels in a different view depending on what happens in the current view. Basically, I want to display user&#39;s name and email if successfully logged in.</p>
<p>The user logs in from the index view. if successful, welcome view is loaded. In the welcome view, there are two empty labels which have to be populated with name and email.</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="July 18th 2013, 5:19:48 am">July 18th 2013</span>
				by <span class='authorname'>Bhavesh Hirani</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>alloy</span></li>
					
						<li><span class='tagname'>element</span></li>
					
						<li><span class='tagname'>label</span></li>
					
						<li><span class='tagname'>view</span></li>
					
						<li><span class='tagname'>window</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>3</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>3 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-266067">
				
						<section>
							<p>you didn&#39;t give enough information to see what framework you&#39;re using or how you build your windows. One quick and dirty way is using global vars like:</p>
<pre><code class="hljs">Ti.App.username = username<span class="hljs-comment">;</span>
Ti.App.password = password<span class="hljs-comment">;</span>
</code></pre><p>the Ti.App variables are accessible throughout the whole project.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="July 18th 2013, 5:48:07 am">July 18th 2013</span>
								by <span class='authorname'>Alberto Marcone</span><br>
								<a class="icon-bg icon-link" href="question/154988/accessing-elements-from-different-views.html#answer-266067" rel="permalink">permalink</a>
							</div>

							<h5>2 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Sorry about that. I&#39;m using Alloy and here is my code.</p>
<p>index.xml</p>
<pre><code class="hljs">&lt;Alloy&gt;
    &lt;Window class=<span class="hljs-string">"container"</span>&gt;
        &lt;TextField id=<span class="hljs-string">"username"</span> autocorrect=<span class="hljs-string">"false"</span> hintText=<span class="hljs-string">"Username"</span> borderStyle=<span class="hljs-string">"Ti.UI.INPUT_BORDERSTYLE_ROUNDED"</span> <span class="hljs-attribute">color</span>=<span class="hljs-string">"#336699"</span> <span class="hljs-attribute">top</span>=<span class="hljs-string">"10"</span> <span class="hljs-attribute">left</span>=<span class="hljs-string">"10"</span> <span class="hljs-attribute">width</span>=<span class="hljs-string">"250"</span> <span class="hljs-attribute">height</span>=<span class="hljs-string">"30"</span>/&gt;
        &lt;TextField id=<span class="hljs-string">"password"</span> hintText=<span class="hljs-string">"Password"</span> borderStyle=<span class="hljs-string">"Ti.UI.INPUT_BORDERSTYLE_ROUNDED"</span> <span class="hljs-attribute">color</span>=<span class="hljs-string">"#336699"</span> <span class="hljs-attribute">top</span>=<span class="hljs-string">"50"</span> <span class="hljs-attribute">left</span>=<span class="hljs-string">"10"</span> <span class="hljs-attribute">width</span>=<span class="hljs-string">"250"</span> <span class="hljs-attribute">height</span>=<span class="hljs-string">"30"</span> passwordMask=<span class="hljs-string">"true"</span> /&gt;
        &lt;Button id=<span class="hljs-string">"login"</span> onClick=<span class="hljs-string">"login"</span> title=<span class="hljs-string">"Login"</span> <span class="hljs-attribute">top</span>=<span class="hljs-string">"90"</span> <span class="hljs-attribute">left</span>=<span class="hljs-string">"10"</span> <span class="hljs-attribute">width</span>=<span class="hljs-string">"100"</span> <span class="hljs-attribute">height</span>=<span class="hljs-string">"30"</span> /&gt;
        &lt;Button id=<span class="hljs-string">"register"</span> onClick=<span class="hljs-string">"register"</span> title=<span class="hljs-string">"Register"</span> <span class="hljs-attribute">top</span>=<span class="hljs-string">"90"</span> <span class="hljs-attribute">left</span>=<span class="hljs-string">"120"</span> <span class="hljs-attribute">width</span>=<span class="hljs-string">"100"</span> <span class="hljs-attribute">height</span>=<span class="hljs-string">"30"</span> /&gt;
    &lt;/Window&gt;
&lt;/Alloy&gt;
</code></pre><p>index.js</p>
<pre><code class="hljs"><span class="hljs-comment">// function doClick() {  </span>
    <span class="hljs-comment">// var win2 = Alloy.createController("window2").getView();</span>
    <span class="hljs-comment">// win2.open({</span>
        <span class="hljs-comment">// modal:true,</span>
        <span class="hljs-comment">// modalTransition:Ti.UI.iPhone.MODAL_TRANSITION_STYLE_FLIP_HORIZONTAL,</span>
        <span class="hljs-comment">// modalStyle:Ti.UI.iPhone.MODAL_PRESENTATION_FORMSHEET</span>
    <span class="hljs-comment">// });</span>
<span class="hljs-comment">// }</span>

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">login</span>(<span class="hljs-params"></span>)</span>{
    <span class="hljs-keyword">var</span> loginReq = Titanium.Network.createHTTPClient();
    <span class="hljs-keyword">if</span>($.username.value != <span class="hljs-string">''</span> &amp;&amp; $.password.value != <span class="hljs-string">''</span>)
    {
        loginReq.open(<span class="hljs-string">"POST"</span>, <span class="hljs-string">"http://localhost:8888/ti_proj1/login.php"</span>);
        <span class="hljs-keyword">var</span> params = {
            username : $.username.value,
            password : Ti.Utils.md5HexDigest($.password.value)
        };
        loginReq.send(params);
    }
    <span class="hljs-keyword">else</span>
    {
        alert(<span class="hljs-string">"Username/Password required"</span>);
    }

    <span class="hljs-keyword">var</span> welcome = Alloy.createController(<span class="hljs-string">"welcome"</span>).getView();

    loginReq.onload = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)
    </span>{
        <span class="hljs-keyword">var</span> json = <span class="hljs-keyword">this</span>.responseText;
        <span class="hljs-keyword">var</span> response = <span class="hljs-built_in">JSON</span>.parse(json);
        <span class="hljs-keyword">if</span>(response.logged == <span class="hljs-literal">true</span>)
        {
                welcome.open({
                modal:<span class="hljs-literal">true</span>,
                modalTransition:Ti.UI.iPhone.MODAL_TRANSITION_STYLE_FLIP_HORIZONTAL,
                modalStyle:Ti.UI.iPhone.MODAL_PRESENTATION_FORMSHEET
                });
                Ti.App.name = response.name;
                Ti.App.email = response.email;
            <span class="hljs-comment">//alert("Welcome " + response.name + ". Your email is: " + response.email);</span>
        }
        <span class="hljs-keyword">else</span>
        {
            alert(response.message);
        }
    };
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">register</span>(<span class="hljs-params"></span>)</span>{
    <span class="hljs-keyword">var</span> reg = Alloy.createController(<span class="hljs-string">"register"</span>).getView();
    reg.open({
        modal:<span class="hljs-literal">true</span>,
        modalTransition:Ti.UI.iPhone.MODAL_TRANSITION_STYLE_FLIP_HORIZONTAL,
        modalStyle:Ti.UI.iPhone.MODAL_PRESENTATION_FORMSHEET
    });
}

$.index.open();
</code></pre><p>welcome.xml</p>
<pre><code class="hljs"><span class="hljs-tag">&lt;<span class="hljs-title">Alloy</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">Window</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"container"</span> <span class="hljs-attribute">navBarHidden</span>=<span class="hljs-value">"true"</span> <span class="hljs-attribute">layout</span>=<span class="hljs-value">"vertical"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">Label</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"name"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">Label</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">Label</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"email"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">Label</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">Button</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"close"</span> <span class="hljs-attribute">onClick</span>=<span class="hljs-value">"closeme"</span> <span class="hljs-attribute">title</span>=<span class="hljs-value">"Close"</span> <span class="hljs-attribute">top</span>=<span class="hljs-value">"10"</span> <span class="hljs-attribute">width</span>=<span class="hljs-value">"100"</span> <span class="hljs-attribute">height</span>=<span class="hljs-value">"30"</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">Window</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">Alloy</span>&gt;</span>
</code></pre><p>welcome.js</p>
<pre><code class="hljs">$.name.setText(Ti.App.name);
$.email.setText(Ti.App.email);
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">closeme</span>(<span class="hljs-params">e</span>)</span>{
    $.welcome.close()
}
</code></pre><p>There something wrong i might be doing with the global variables. name outputs the project name.<br>and nothing for email.</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 18th 2013, 8:37:01 am">July 18th 2013</span>
											by <span class='authorname'>Bhavesh Hirani</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I&#39;m not sure what&#39;s wrong with that, it should work. Matter of fact, name is a reserved variable name (in fact is the project name), as you can see from the code highlighting. Are the two value in response valid? is the welcome.js happening after the response?</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 18th 2013, 8:37:44 am">July 18th 2013</span>
											by <span class='authorname'>Alberto Marcone</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-266076">
				
						<section>
							<p>Thats right. welcome.js is invoked after a successful login. i tried with <code>Ti.App.fullName</code> instead of <code>Ti.App.name</code>. But nothing comes on the screen.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="July 18th 2013, 8:56:10 am">July 18th 2013</span>
								by <span class='authorname'>Bhavesh Hirani</span><br>
								<a class="icon-bg icon-link" href="question/154988/accessing-elements-from-different-views.html#answer-266076" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>don&#39;t use new answers, use comments to keep the conversation in order.</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 18th 2013, 3:26:31 pm">July 18th 2013</span>
											by <span class='authorname'>Tony Lukasavage</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-266101">
				
						<section>
							<p>Take a look at this test app: <a href="https:&#x2F;&#x2F;github.com&#x2F;appcelerator&#x2F;alloy&#x2F;tree&#x2F;master&#x2F;test&#x2F;apps&#x2F;models&#x2F;login">https:&#x2F;&#x2F;github.com&#x2F;appcelerator&#x2F;alloy&#x2F;tree&#x2F;master&#x2F;test&#x2F;apps&#x2F;models&#x2F;login</a></p>
<p>it shows something very similar. It utilizes data binding. You don&#39;t need to use data binding, but even without it you can do something very similar.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="July 18th 2013, 3:29:55 pm">July 18th 2013</span>
								by <span class='authorname'>Tony Lukasavage</span><br>
								<a class="icon-bg icon-link" href="question/154988/accessing-elements-from-different-views.html#answer-266101" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>If i use the method in the github url, i&#39;d have to store all user details in the app. instead <code>Ti.App.fireEvent()</code> did the job for me. but thanks a lot for the help. if anyone wants the code just let me know.</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 18th 2013, 11:23:56 pm">July 18th 2013</span>
											by <span class='authorname'>Bhavesh Hirani</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
