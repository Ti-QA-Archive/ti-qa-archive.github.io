<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Why do Android and iOS return different label objects to my event listener? Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Why do Android and iOS return different label objects to my event listener?</h1>
		</header>
		<section>
			<p>Using the following code in the android emulator vs the ios simulator I receive different event sources. In the emulator I receive [object Label] but in the simulator [object TiUILabel]. It seems that the result of thisis that I get different properties when I run the app for different platforms. How can I get android and iOS to pass the same type of label object to my onClick listener?</p>
<p>The full results of running Ti.API.info can be found at <a href="http:&#x2F;&#x2F;pastebin.com&#x2F;tFe9gFaD">Android</a> &amp;  <a href="http:&#x2F;&#x2F;pastebin.com&#x2F;MKxMgqWX">iOS</a></p>
<p>Titanium SDK: 3.1.2.GA</p>
<p>Platform &amp; version: iOS 6.1, Android 4.3, Android 4.2.2</p>
<p>Device: iOS simulator &amp; Android emulator</p>
<p>Host Operating System: OSX 10.8.4</p>
<p>Studio: Titanium Studio, build: 3.1.2.201308091617</p>
<pre><code class="hljs"><span class="hljs-tag">&lt;<span class="hljs-title">ListView</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"news_list"</span> <span class="hljs-attribute">defaultItemTemplate</span>=<span class="hljs-value">"news_template"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">Templates</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">ItemTemplate</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"news_template"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">View</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">'story_container'</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">View</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"image_container"</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-title">ImageView</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"story_image"</span> <span class="hljs-attribute">bindId</span>=<span class="hljs-value">"photo"</span> /&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-title">View</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">View</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"story"</span> &gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-title">Label</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"news_title"</span> <span class="hljs-attribute">bindId</span>=<span class="hljs-value">"news_title"</span> /&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-title">Label</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"brief"</span> <span class="hljs-attribute">bindId</span>=<span class="hljs-value">"brief"</span> /&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-title">Label</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"url_text"</span> <span class="hljs-attribute">bindId</span>=<span class="hljs-value">"url_text"</span> <span class="hljs-attribute">onClick</span>=<span class="hljs-value">"getFullStory"</span> /&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-title">View</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-title">View</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">ItemTemplate</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">Templates</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">ListSection</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">ListItem</span> <span class="hljs-attribute">url_text:url</span>=<span class="hljs-value">"http://some.url"</span> <span class="hljs-attribute">url_text:text</span>=<span class="hljs-value">"Full Story"</span> <span class="hljs-attribute">news_title:text</span>=<span class="hljs-value">"Story Title"</span> <span class="hljs-attribute">brief:text</span>=<span class="hljs-value">"Brief text from article"</span> <span class="hljs-attribute">photo:image</span>=<span class="hljs-value">"images/image.png"</span> /&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">ListItem</span> <span class="hljs-attribute">url_text:url</span>=<span class="hljs-value">"http://some.url"</span> <span class="hljs-attribute">url_text:text</span>=<span class="hljs-value">"Full Story"</span> <span class="hljs-attribute">news_title:text</span>=<span class="hljs-value">"Story Title"</span> <span class="hljs-attribute">brief:text</span>=<span class="hljs-value">"Brief text from article"</span> <span class="hljs-attribute">photo:image</span>=<span class="hljs-value">"images/image.png"</span> /&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">ListItem</span> <span class="hljs-attribute">url_text:url</span>=<span class="hljs-value">"http://some.url"</span> <span class="hljs-attribute">url_text:text</span>=<span class="hljs-value">"Full Story"</span> <span class="hljs-attribute">news_title:text</span>=<span class="hljs-value">"Story Title"</span> <span class="hljs-attribute">brief:text</span>=<span class="hljs-value">"Brief text from article"</span> <span class="hljs-attribute">photo:image</span>=<span class="hljs-value">"images/image.png"</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">ListSection</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">ListView</span>&gt;</span>
</code></pre><pre><code class="hljs">function getFullStory(e) {
    Ti.API.<span class="hljs-keyword">info</span>(<span class="hljs-string">'&lt;--------E-----------------------------'</span>);
    Ti.API.<span class="hljs-keyword">info</span>(e);
    <span class="hljs-keyword">for</span> (var ekey in e) {
        var evalue = e[ekey];
        Ti.API.<span class="hljs-keyword">info</span>(ekey+<span class="hljs-string">' : '</span>+evalue);
    }
    Ti.API.<span class="hljs-keyword">info</span>(<span class="hljs-string">'--------E-----------------------------&gt;'</span>);

    Ti.API.<span class="hljs-keyword">info</span>(<span class="hljs-string">'&lt;--------E SOURCE-----------------------------'</span>);
    Ti.API.<span class="hljs-keyword">info</span>(e.<span class="hljs-keyword">source</span>);
    <span class="hljs-keyword">for</span> (var key in e.<span class="hljs-keyword">source</span>) {
        var value = e.<span class="hljs-keyword">source</span>[key];
        Ti.API.<span class="hljs-keyword">info</span>(key+<span class="hljs-string">' : '</span>+value);
    }
    Ti.API.<span class="hljs-keyword">info</span>(<span class="hljs-string">'--------E SOURCE-----------------------------&gt;'</span>);

    Ti.API.<span class="hljs-keyword">info</span>(<span class="hljs-string">'&lt;--------SOURCE URL-----------------------------'</span>);
    Ti.API.<span class="hljs-keyword">info</span>(e.<span class="hljs-keyword">source</span>.url);
    Ti.API.<span class="hljs-keyword">info</span>(<span class="hljs-string">'--------SOURCE URL-----------------------------&gt;'</span>);
}
</code></pre>
		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="September 11th 2013, 3:32:37 pm">September 11th 2013</span>
				by <span class='authorname'>William Hopkins</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>event listener</span></li>
					
						<li><span class='tagname'>event source</span></li>
					
						<li><span class='tagname'>label</span></li>
					
				</ul>
			

			<section>
				<h5>5 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>I may be asking wrong question. What I&#39;m trying to get to is the url attribute of my ListItems. I was thinking that the problem was the difference between how label objects are referenced in iOS vs Android. But I&#39;m not sure.</p>
</div>
							<div class="author">
								&mdash; commented <span title="September 11th 2013, 6:22:57 pm">September 11th 2013</span>
								by <span class='authorname'>William Hopkins</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>This may be my answer from the <a href="http:&#x2F;&#x2F;docs.appcelerator.com&#x2F;titanium&#x2F;3.0&#x2F;#!&#x2F;api&#x2F;Titanium.UI.ListView-event-itemclick">documentation</a></p>
<p>&quot;Do not rely on the source property to determine which item fired the event. Use the sectionIndex and itemIndex, or the itemId to determine the list item that generated the event, and use the bindId to check which child control fired the event.&quot;</p>
</div>
							<div class="author">
								&mdash; commented <span title="September 11th 2013, 7:33:21 pm">September 11th 2013</span>
								by <span class='authorname'>William Hopkins</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Hello,</p>
<p>it should not be a problem. What you need to actually do? </p>
<p>Best,</p>
<p>Mauro</p>
</div>
							<div class="author">
								&mdash; commented <span title="September 12th 2013, 6:26:59 am">September 12th 2013</span>
								by <span class='authorname'>Mauro Parra</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>I need to grab the url from the ListItem but it&#39;s not being passed on android as it is on iOS. The result of e.source.url from android is undefined but the result from iOS is the url. I&#39;m going to try using <code>itemclick</code>.</p>
</div>
							<div class="author">
								&mdash; commented <span title="September 12th 2013, 11:05:35 am">September 12th 2013</span>
								by <span class='authorname'>William Hopkins</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>I&#39;m going to start over with a different question. I think the issue has more to do with how alloy handles events in android vs iOS.</p>
</div>
							<div class="author">
								&mdash; commented <span title="September 12th 2013, 7:55:16 pm">September 12th 2013</span>
								by <span class='authorname'>William Hopkins</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>0</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>0 Answers</h3>

	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
