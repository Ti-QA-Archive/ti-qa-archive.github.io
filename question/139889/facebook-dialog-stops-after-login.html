<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Facebook Dialog stops after login » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Facebook Dialog stops after login</h1>
		</header>
		<section>
			<p>For posting to the users Facebook wall I use the Facebook Dialog. This because this includes the login and so this can be used for both users that are already logged in to Facebook as well as users that are not logged in to Facebook. </p>
<p>When the user triggers this function and he is logged in to Facebook the share dialog appears nicely and the user can post things to his Facebook wall.</p>
<p>When the user is not logged in the dialog shows a login page, as expected, but when the credentials are correctly validated the dialog shuts down and the results throws an error. What I would expect is that after the correct login the user is taken to the share dialog view and he can place a post.</p>
<p>Any one familiar with this bug? Or does somebody have a work around?</p>
<p>I use the following code:</p>
<pre><code class="hljs">    var data = {
        <span class="hljs-string">link :</span> <span class="hljs-string">"http://www.example.com"</span>,
        <span class="hljs-string">name :</span> <span class="hljs-string">"Funny text"</span>,
        <span class="hljs-string">message :</span> <span class="hljs-string">"I really like this!"</span>,
        <span class="hljs-string">caption :</span> <span class="hljs-string">"You should read this"</span>,
        <span class="hljs-string">picture :</span> <span class="hljs-string">"http://www.example.com/image.png"</span>,
        <span class="hljs-string">description :</span> <span class="hljs-string">"This is awesome"</span>
    };
    Titanium.Facebook.dialog(<span class="hljs-string">'feed'</span>, data, showRequestResult);

var showRequestResult = function(e) {
    <span class="hljs-keyword">if</span>(e.success) {
        <span class="hljs-keyword">if</span>(e.result) {
            var alertDialog = Titanium.UI.createAlertDialog({
                <span class="hljs-string">title :</span> L(<span class="hljs-string">'posted'</span>, <span class="hljs-string">'Posted!'</span>),
                <span class="hljs-string">message :</span> L(<span class="hljs-string">'posted_facebook_success'</span>,<span class="hljs-string">'Your message has been posted'</span>),
                <span class="hljs-string">buttonNames :</span> [L(<span class="hljs-string">'ok'</span>,<span class="hljs-string">'Ok'</span>)]
            });
            alertDialog.show();
        }

        <span class="hljs-keyword">if</span>(!e.result &amp;&amp; !e.data) {

        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(e.cancelled) {

        }
    } <span class="hljs-keyword">else</span> {
        var alertDialog = Titanium.UI.createAlertDialog({
            <span class="hljs-string">title :</span> <span class="hljs-string">'Oops!'</span>,
            <span class="hljs-string">message :</span> <span class="hljs-string">'Something went wrong please try again'</span>,
            <span class="hljs-string">buttonNames :</span> [<span class="hljs-string">'Ok'</span>]
        });
        alertDialog.show();
    }
}
</code></pre>
		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="July 19th 2012, 6:55:55 am">July 19th 2012</span>
				by <span class='authorname'>Wienke Giezeman</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>dialog</span></li>
					
						<li><span class='tagname'>facebook</span></li>
					
						<li><span class='tagname'>ios</span></li>
					
				</ul>
			

			<section>
				<h5>1 Comment</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>What is your error. I have the same problem here - the error is<br><code>The operation couldn’t be completed. (NSURLErrorDomain error -999.)</code></p>
</div>
							<div class="author">
								&mdash; commented <span title="July 19th 2012, 11:32:20 am">July 19th 2012</span>
								by <span class='authorname'>Marta Kostova</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>1</span> Vote</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-244411">
				
						<section>
							<p>The only thing that i can see missing is that you don&#39;t have a &#39;to&#39; parameter in your data object. This should be the facebook id of the users wall you wish to post on.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 3rd 2012, 1:08:14 pm">August 3rd 2012</span>
								by <span class='authorname'>Martyn Joyce</span><br>
								<a class="icon-bg icon-link" href="question/139889/facebook-dialog-stops-after-login#answer-244411" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>sorry jumped in there… re-reading i see thats not your issue!</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 3rd 2012, 1:10:50 pm">August 3rd 2012</span>
											by <span class='authorname'>Martyn Joyce</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
