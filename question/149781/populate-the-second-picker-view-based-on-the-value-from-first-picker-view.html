<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Populate the second picker view based on the value from first picker view » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Populate the second picker view based on the value from first picker view</h1>
		</header>
		<section>
			<p>Hi,<br>I have a problem in populating the second picker value based on first picker value.Am able to achieve this for the first time but after that value is not getting reloaded or repainted in picker view.The cahnge of values am able to see in the logs but not in the picker view.</p>
<p>This is the piece of code i have used.In ios same doesn&#39;t work at all again am able to see the value in logs but not in the picker view.</p>
<p>var column1 = Ti.UI.createPickerColumn();<br>var column2 = Ti.UI.createPickerColumn();</p>
<p>var practiceData = [<br>    {practice: &#39;Practice1&#39;, internalMedicine: [&#39;IM1&#39;, &#39;IM2&#39;, &#39;IM3&#39;]},<br>    {practice: &#39;Practice2&#39;, internalMedicine: [&#39;IM4&#39;, &#39;IM5&#39;, &#39;IM6&#39;]},<br>    {practice: &#39;Practice3&#39;, internalMedicine: [&#39;IM7&#39;, &#39;IM8&#39;, &#39;IM9&#39;]}<br>];</p>
<p>var practicePicker = Ti.UI.createPicker({<br>    &#x2F;&#x2F;selectionIndicator: true,<br>    top:90,<br>    height:&#39;auto&#39;,<br>    width:300<br>});</p>
<p>var internalMedicinePicker = Ti.UI.createPicker({<br>    top:130,<br>    height:&#39;auto&#39;,<br>    width:300<br>})</p>
<p>practicePicker.addEventListener(&#39;change&#39;, function(e){</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> imColumns = internalMedicinePicker.columns;
<span class="hljs-type">Ti</span>.<span class="hljs-type">API</span>.info(<span class="hljs-symbol">'Before</span> <span class="hljs-keyword">if</span> - columns' + imColumns.rows + <span class="hljs-symbol">'ending</span> column');
<span class="hljs-keyword">if</span> (imColumns.rows) {
    <span class="hljs-type">Ti</span>.<span class="hljs-type">API</span>.info(<span class="hljs-symbol">'column</span>s');
    <span class="hljs-type">Ti</span>.<span class="hljs-type">API</span>.info(imColumns.rows);

    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> k =<span class="hljs-number">0</span>; k &lt; imColumns.rows.length; k++){
        imColumns.removeRow(imColumns.rows[k]);
    }    
};

<span class="hljs-comment">//internalMedicinePicker.reloadColumn(imColumns);</span>

<span class="hljs-comment">// var _col = internalMedicinePicker.columns;</span>
<span class="hljs-comment">// var len = _col.length;</span>
<span class="hljs-comment">// for(var x = len-1; x &gt;= 0; x-- ){</span>
    <span class="hljs-comment">// var _row = _col.rows[x]</span>
    <span class="hljs-comment">// Ti.API.info(x);</span>
    <span class="hljs-comment">// _col.removeRow(_row);</span>
</code></pre><p>&#x2F;&#x2F;<br>    &#x2F;&#x2F; }<br>    &#x2F;&#x2F; internalMedicinePicker.reloadColumn(_col);</p>
<pre><code class="hljs">for <span class="hljs-list">(<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span><span class="hljs-comment">; i &lt; practiceData.length; i++){</span>
    if <span class="hljs-list">(<span class="hljs-keyword">e</span>.row.title ===  practiceData[i].practice)</span>{
        imData = practiceData[i].interna1lMedicine<span class="hljs-comment">;</span>
        Ti.API.info<span class="hljs-list">(<span class="hljs-keyword">practiceData</span>)</span><span class="hljs-comment">;</span>
        Ti.API.info<span class="hljs-list">(<span class="hljs-keyword">practiceData</span>[i])</span><span class="hljs-comment">;</span>

        var internalMedicinecolumn = Ti.UI.createPickerColumn<span class="hljs-list">()</span><span class="hljs-comment">;    </span>

        for <span class="hljs-list">(<span class="hljs-keyword">var</span> j = <span class="hljs-number">0</span><span class="hljs-comment">; j &lt; practiceData[i].internalMedicine.length; j++){</span>
             var row1 = Ti.UI.createPickerRow<span class="hljs-list">({
                title: practiceData[i].internalMedicine[j],

            })</span><span class="hljs-comment">;</span>
            internalMedicinecolumn.addRow<span class="hljs-list">(<span class="hljs-keyword">row1</span>)</span><span class="hljs-comment">;</span>
            Ti.API.info<span class="hljs-list">(<span class="hljs-keyword">practiceData</span>[i].internalMedicine[j])</span>        
        }
        internalMedicinePicker.add<span class="hljs-list">([internalMedicinecolumn])</span><span class="hljs-comment">;</span>
    }
} </span></span>
</code></pre><p>});        </p>
<p>Anything am doing wrong here please help me on this, i have been struck o nthis for long time now :(</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="March 20th 2013, 4:43:43 am">March 20th 2013</span>
				by <span class='authorname'>Srinivas HN</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>picker view</span></li>
					
				</ul>
			

			<section>
				<h5>6 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Hi Srinivas ,format your code please .</p>
</div>
							<div class="author">
								&mdash; commented <span title="March 20th 2013, 6:03:41 am">March 20th 2013</span>
								by <span class='authorname'>Mauro Vitale</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>@Srinivas HN : Very confuse to understand your code , please arrange it first .</p>
</div>
							<div class="author">
								&mdash; commented <span title="March 20th 2013, 7:35:07 am">March 20th 2013</span>
								by <span class='authorname'>Dharmik Patel</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>As the others have said above but here is how;</p>
<p>Thanks for the code but without the code syntax is a little hard to read.</p>
<p>Quick tip; When you add code snippets or logs always add 3 <strong>~</strong> on a blank line above your code and another 3 <strong>~</strong> below you code on another blank line - you will see the difference when you preview the comment. (you are not being told off)</p>
<p>Inserted code should look like;</p>
<pre><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">something</span><span class="hljs-params">(obj)</span> </span>{
    <span class="hljs-comment">// do something</span>
}
alert(<span class="hljs-string">'Hello'</span>);
</code></pre></div>
							<div class="author">
								&mdash; commented <span title="March 20th 2013, 7:50:45 am">March 20th 2013</span>
								by <span class='authorname'>Malcolm Hollingsworth</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Hi All,</p>
<p>sorry for that i dint knew the way of formatting the code in the question hope this helps in understanding my code </p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> column1 = Ti.UI.createPickerColumn();
<span class="hljs-keyword">var</span> column2 = Ti.UI.createPickerColumn();

<span class="hljs-keyword">var</span> practiceData = [ {practice: <span class="hljs-string">'Practice1'</span>, internalMedicine: [<span class="hljs-string">'IM1'</span>, <span class="hljs-string">'IM2'</span>, <span class="hljs-string">'IM3'</span>]},
                   {practice: <span class="hljs-string">'Practice2'</span>, internalMedicine: [<span class="hljs-string">'IM4'</span>, <span class="hljs-string">'IM5'</span>, <span class="hljs-string">'IM6'</span>]},
                   {practice: <span class="hljs-string">'Practice3'</span>, internalMedicine: [<span class="hljs-string">'IM7'</span>, <span class="hljs-string">'IM8'</span>, <span class="hljs-string">'IM9'</span>]} ];

<span class="hljs-keyword">var</span> practicePicker = Ti.UI.createPicker({ <span class="hljs-comment">//selectionIndicator: true, top:90, height:'auto', width:300 });</span>

<span class="hljs-keyword">var</span> internalMedicinePicker = Ti.UI.createPicker({ top:<span class="hljs-number">130</span>, height:<span class="hljs-string">'auto'</span>, width:<span class="hljs-number">300</span> })

practicePicker.addEventListener(<span class="hljs-string">'change'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span></span>{

<span class="hljs-keyword">var</span> imColumns = internalMedicinePicker.columns;
Ti.API.info(<span class="hljs-string">'Before if - columns'</span> + imColumns.rows + <span class="hljs-string">'ending column'</span>);
<span class="hljs-keyword">if</span> (imColumns.rows) {
    Ti.API.info(<span class="hljs-string">'columns'</span>);
    Ti.API.info(imColumns.rows);

    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> k =<span class="hljs-number">0</span>; k &lt; imColumns.rows.length; k++){
        imColumns.removeRow(imColumns.rows[k]);
    }   
};

<span class="hljs-comment">//internalMedicinePicker.reloadColumn(imColumns);</span>

<span class="hljs-comment">// var _col = internalMedicinePicker.columns;</span>
<span class="hljs-comment">// var len = _col.length;</span>
<span class="hljs-comment">// for(var x = len-1; x &gt;= 0; x-- ){</span>
    <span class="hljs-comment">// var _row = _col.rows[x]</span>
    <span class="hljs-comment">// Ti.API.info(x);</span>
    <span class="hljs-comment">// _col.removeRow(_row);</span>

<span class="hljs-comment">//</span>
<span class="hljs-comment">// } // internalMedicinePicker.reloadColumn(_col);</span>

<span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; practiceData.length; i++){
    <span class="hljs-keyword">if</span> (e.row.title ===  practiceData[i].practice){
        imData = practiceData[i].interna1lMedicine;
        Ti.API.info(practiceData);
        Ti.API.info(practiceData[i]);

        <span class="hljs-keyword">var</span> internalMedicinecolumn = Ti.UI.createPickerColumn();    

        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> j = <span class="hljs-number">0</span>; j &lt; practiceData[i].internalMedicine.length; j++){
             <span class="hljs-keyword">var</span> row1 = Ti.UI.createPickerRow({
                title: practiceData[i].internalMedicine[j],

            });
            internalMedicinecolumn.addRow(row1);
            Ti.API.info(practiceData[i].internalMedicine[j])        
        }
        internalMedicinePicker.add([internalMedicinecolumn]);
    }
} 

});
</code></pre></div>
							<div class="author">
								&mdash; commented <span title="March 20th 2013, 8:05:59 am">March 20th 2013</span>
								by <span class='authorname'>Srinivas HN</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>What is the variable <strong>e</strong> ?  It looks like you mean it to refer to an event, but I don&#39;t see any event listeners.  It is important for people to be able to see how you&#39;ve wired up your event listeners.</p>
<p>I suggest you come back with a single app.js file that demonstrates the exact problem.  We should be able to take app.js and put it into a test project in Ti Studio and run it <em>with no modifications</em>.  You need to participate in the process by making it easier for forum members to help you.</p>
</div>
							<div class="author">
								&mdash; commented <span title="March 20th 2013, 10:03:11 am">March 20th 2013</span>
								by <span class='authorname'>Jason Priebe</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Ok here it is the app.js file you can copy paste this to any sample app and run.<br>It has two picker views am trying to populate second picker view values based one first picker view value.<br>Am listening to change event of picker and try to create picker row for second picker and it is working for first time and for second time onwards picker view is not getting loaded its displays previous value itself.<br>This is the problem am trying to solve same thing on iOS it is not at all working first time also .</p>
<p>This code you can use it for any test app to see the problem</p>
<p><em>this is the app.js code</em></p>
<pre><code class="hljs"><span class="hljs-comment">// this sets the background color of the master UIView (when there are no windows/tab groups on it)</span>
Titanium.UI.setBackgroundColor(<span class="hljs-string">'#000'</span>);

<span class="hljs-comment">//</span>
<span class="hljs-comment">// create base UI tab and root window</span>
<span class="hljs-comment">//</span>
<span class="hljs-keyword">var</span> win1 = Titanium.UI.createWindow({  
    title:<span class="hljs-string">'Tab 1'</span>,
    backgroundColor:<span class="hljs-string">'#fff'</span>
});

<span class="hljs-keyword">var</span> label1 = Titanium.UI.createLabel({
    color:<span class="hljs-string">'#999'</span>,
    text:<span class="hljs-string">'I am Window 1'</span>,
    font:{fontSize:<span class="hljs-number">20</span>,fontFamily:<span class="hljs-string">'Helvetica Neue'</span>},
    textAlign:<span class="hljs-string">'center'</span>,
    width:<span class="hljs-string">'auto'</span>
});

<span class="hljs-comment">// add picker view     </span>
<span class="hljs-keyword">var</span> practicePicker = Ti.UI.createPicker({
    <span class="hljs-comment">//selectionIndicator: true,</span>
    top:<span class="hljs-number">90</span>,
    height:<span class="hljs-string">'auto'</span>,
    width:<span class="hljs-number">300</span>
});



<span class="hljs-keyword">var</span> column1 = Ti.UI.createPickerColumn();
<span class="hljs-keyword">var</span> column2 = Ti.UI.createPickerColumn();

<span class="hljs-keyword">var</span> practiceData = [
    {practice: <span class="hljs-string">'Practice1'</span>, internalMedicine: [<span class="hljs-string">'IM1'</span>, <span class="hljs-string">'IM2'</span>, <span class="hljs-string">'IM3'</span>]}, 
    {practice: <span class="hljs-string">'Practice2'</span>, internalMedicine: [<span class="hljs-string">'IM4'</span>, <span class="hljs-string">'IM5'</span>, <span class="hljs-string">'IM6'</span>]}, 
    {practice: <span class="hljs-string">'Practice3'</span>, internalMedicine: [<span class="hljs-string">'IM7'</span>, <span class="hljs-string">'IM8'</span>, <span class="hljs-string">'IM9'</span>]}
];

<span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; practiceData.length; i++){
    <span class="hljs-keyword">var</span> row1 = Ti.UI.createPickerRow({
        title: practiceData[i].practice,

    });
    column1.addRow(row1);
}

practicePicker.add([column1]);

<span class="hljs-keyword">var</span> internalMedicinePicker = Ti.UI.createPicker({
    top:<span class="hljs-number">130</span>,
    height:<span class="hljs-string">'auto'</span>,
    width:<span class="hljs-number">300</span>
})
<span class="hljs-keyword">var</span> imData = [<span class="hljs-string">'IM1'</span>, <span class="hljs-string">'IM2'</span>, <span class="hljs-string">'IM3'</span>];

practicePicker.addEventListener(<span class="hljs-string">'change'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span></span>{

    <span class="hljs-keyword">var</span> imColumns = internalMedicinePicker.columns;
    Ti.API.info(<span class="hljs-string">'Before if - columns'</span> + imColumns.rows + <span class="hljs-string">'ending column'</span>);
    <span class="hljs-keyword">if</span> (imColumns.rows) {
        Ti.API.info(<span class="hljs-string">'columns'</span>);
        Ti.API.info(imColumns.rows);

        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> k =<span class="hljs-number">0</span>; k &lt; imColumns.rows.length; k++){
            imColumns.removeRow(imColumns.rows[k]);
        }    
    };

    <span class="hljs-comment">//internalMedicinePicker.reloadColumn(imColumns);</span>

    <span class="hljs-comment">// var _col = internalMedicinePicker.columns;</span>
    <span class="hljs-comment">// var len = _col.length;</span>
    <span class="hljs-comment">// for(var x = len-1; x &gt;= 0; x-- ){</span>
        <span class="hljs-comment">// var _row = _col.rows[x]</span>
        <span class="hljs-comment">// Ti.API.info(x);</span>
        <span class="hljs-comment">// _col.removeRow(_row);</span>
<span class="hljs-comment">//             </span>
    <span class="hljs-comment">// }</span>
    <span class="hljs-comment">// internalMedicinePicker.reloadColumn(_col);</span>

    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; practiceData.length; i++){
        <span class="hljs-keyword">if</span> (e.row.title ===  practiceData[i].practice){
            imData = practiceData[i].interna1lMedicine;
            Ti.API.info(practiceData);
            Ti.API.info(practiceData[i]);

            <span class="hljs-keyword">var</span> internalMedicinecolumn = Ti.UI.createPickerColumn();    

            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> j = <span class="hljs-number">0</span>; j &lt; practiceData[i].internalMedicine.length; j++){
                 <span class="hljs-keyword">var</span> row1 = Ti.UI.createPickerRow({
                    title: practiceData[i].internalMedicine[j],

                });
                internalMedicinecolumn.addRow(row1);
                Ti.API.info(practiceData[i].internalMedicine[j])        
            }
            internalMedicinePicker.add([internalMedicinecolumn]);
        }
    } 
});        

win1.add(practicePicker);
win1.add(internalMedicinePicker);
win1.add(label1);



<span class="hljs-comment">// open the window</span>
win1.open();
</code></pre></div>
							<div class="author">
								&mdash; commented <span title="March 20th 2013, 11:40:28 am">March 20th 2013</span>
								by <span class='authorname'>Srinivas HN</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>0</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>0 Answers</h3>

	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
