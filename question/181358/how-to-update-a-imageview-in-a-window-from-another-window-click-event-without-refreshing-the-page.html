<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>How to update a imageview in a window from another window click event without refreshing the page » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>How to update a imageview in a window from another window click event without refreshing the page</h1>
		</header>
		<section>
			<p>Hi,</p>
<p>I do have a app with a main window with image listings with scroll loading. and each image had a like and comment buttons on it. while i click the the like button it turns in to pinkcolour</p>
<p>The issue is:<br>1: i am clicking like from the main window and click the image to get details<br>2.and then open a new window with the image details along with the liked pink colour<br>3.if i click the same image to unlike it will turn to normal colour it is ok.<br>4.but while i close the details window, the main page will display the old status (like while i unlike from detail window).</p>
<p>what i need is to update the main window image without refreshing the page.<br>please help me to find a solution.</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="March 11th 2015, 9:51:05 am">March 11th 2015</span>
				by <span class='authorname'>syam nath</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>refresh from window</span></li>
					
						<li><span class='tagname'>update view</span></li>
					
						<li><span class='tagname'>views update</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-286427">
				
						<section>
							<p>Hi Syam,</p>
<p>You can do it by using custom property of image view or any other controller. Just add custom property to image view when you create it and assign button (like button) reference. and pass this image view reference to next screen and change it according to your requirement.</p>
<p>here i explain you some step.. if you have any doubt then let me know</p>
<pre><code class="hljs"><span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i=0;i&lt;10;i++){
...
    <span class="hljs-keyword">var</span> img = Ti.UI.createImageView({
    width : 100,
    height : 100,
});

<span class="hljs-keyword">var</span> btnLike = Ti.UI.createButton({
    width : 60,
    height : 30,
    color : <span class="hljs-string">"gray"</span> <span class="hljs-comment">//Suppose default gray</span>
});

img.btnLike = btnLike;
}
..

img.addEventListener(<span class="hljs-string">"click"</span>,function(<span class="hljs-keyword">e</span>){
    <span class="hljs-keyword">var</span> payload = {
        img : <span class="hljs-keyword">e</span>.source
    };
    <span class="hljs-keyword">var</span> <span class="hljs-keyword">win</span> = Alloy.createController(<span class="hljs-string">"winDetail"</span>,payload).getView();
    <span class="hljs-keyword">win</span>.<span class="hljs-keyword">open</span>();
});


<span class="hljs-comment">//winDetail</span>

<span class="hljs-keyword">var</span> <span class="hljs-keyword">args</span> = arguments[0] || {};

btnUnlike.addEventListener(<span class="hljs-string">"click"</span>,function(<span class="hljs-keyword">e</span>){
    <span class="hljs-comment">//This is the like/unlike button event of detail screen</span>
    <span class="hljs-comment">//if it's like</span>
        <span class="hljs-keyword">args</span>.img.btnLike.color = <span class="hljs-string">"pink"</span>;
    <span class="hljs-comment">// else if unlike</span>
        <span class="hljs-keyword">args</span>.img.btnLike.color = <span class="hljs-string">"gray"</span>;
});
</code></pre><p>Thanks</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="March 11th 2015, 10:10:32 am">March 11th 2015</span>
								by <span class='authorname'>Nilesh Patel</span><br>
								<a class="icon-bg icon-link" href="question/181358/how-to-update-a-imageview-in-a-window-from-another-window-click-event-without-refreshing-the-page.html#answer-286427" rel="permalink">permalink</a>
							</div>

							<h5>13 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Hi Nilesh Patel,</p>
<p>Thanks for your response,<br>but here we are using classic frame work not alloy,<br>could you explain for that.</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 12th 2015, 2:54:44 am">March 12th 2015</span>
											by <span class='authorname'>syam nath</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Yes  you can do same things in classic also. just pass arguments when open detail window.. that&#39;s it.. no need to change any thing…</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 12th 2015, 2:56:51 am">March 12th 2015</span>
											by <span class='authorname'>Nilesh Patel</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Hi Nilesh,</p>
<p>I tried the same but not changing the color or the count and i am getting the values and the image view on detail page. but cant able to update the old window.</p>
<p>can you please create a sample app.js and a detail window to describe the function.</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 12th 2015, 6:20:37 am">March 12th 2015</span>
											by <span class='authorname'>syam nath</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>can you share sample code hows you implement.?</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 12th 2015, 6:47:11 am">March 12th 2015</span>
											by <span class='authorname'>Nilesh Patel</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Hi,</p>
<p>Here is like the  sample code that i tried</p>
<p>Main window click event</p>
<p>function clickLeft(e) {</p>
<p>var item = e.section.getItemAt(e.itemIndex);</p>
<p>var lustc= item.ImageLike; &#x2F;&#x2F; passing imageview </p>
<p>Ti.API.info(&quot;ProjID=&quot; + item.leftside.ProjID);<br>Ti.API.info(&quot;SellerID=&quot; + item.leftside.SellerID);<br>Ti.API.info(&quot;LustImage=&quot; + lustc);<br>var ItemDetailWindow = require(&#39;&#x2F;ui&#x2F;common&#x2F;ItemDetailWindow’);<br>new ItemDetailWindow(ProjectID, SellerID, item, lustc).open(); &#x2F;&#x2F;opening detail window with like image details<br>}</p>
<p>Details window section </p>
<p>i got the like image details on the details page with the count </p>
<p>function ItemDetailWindow(ProjectID, SellerID, item, lustc)</p>
<p>{</p>
<p>alert(lustc.likeimage.text);&#x2F;&#x2F; got the like count from main page</p>
<p>like.addEventListener(&quot;click&quot;,function(e){<br>        lustc.likeimage.color = &quot;pink”;<br>        lustc.likeimage.text = &quot;10&quot;;<br>});<br>}</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 12th 2015, 7:43:13 am">March 12th 2015</span>
											by <span class='authorname'>syam nath</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Are you using listView or table view in main window.?</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 12th 2015, 7:45:54 am">March 12th 2015</span>
											by <span class='authorname'>Nilesh Patel</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Hi,</p>
<p>I am using listview in main window</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 12th 2015, 7:53:25 am">March 12th 2015</span>
											by <span class='authorname'>syam nath</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Ohhhh :) that&#39;s why it&#39;s not updating.. if you want to update anything in list view then you must need to update list item using <code>updateItemAt</code> method of section..</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 12th 2015, 7:58:05 am">March 12th 2015</span>
											by <span class='authorname'>Nilesh Patel</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Yes,<br> i am using the same on each update<br>like e.section.updateItemAt(e.itemIndex, item);</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 12th 2015, 8:01:00 am">March 12th 2015</span>
											by <span class='authorname'>syam nath</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Do one thing pass list section and list item reference to detail screen and update it according to changes. but remember one thing if you want to update then you need to set all value of controller even if there is no any change for example image.. </p>
<p>i have one more idea if you don&#39;t want to pass section and item to detail screen. just create one function in main window and pass reference of this function to detail screen and call this function from detail when you did any changes and according change update that item of section only.</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 12th 2015, 8:03:32 am">March 12th 2015</span>
											by <span class='authorname'>Nilesh Patel</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Are update item from detail also.?</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 12th 2015, 8:04:58 am">March 12th 2015</span>
											by <span class='authorname'>Nilesh Patel</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>yes, </p>
<p>just now tried from details window also, no change.<br>and i will try the pass the entire list section and let you know the progress.</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 12th 2015, 8:59:45 am">March 12th 2015</span>
											by <span class='authorname'>syam nath</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>@Syam, did you try Ti.App.fireEvent to update the color on main Window after like&#x2F;unlike from top window ?</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 13th 2015, 10:12:59 am">March 13th 2015</span>
											by <span class='authorname'>Prashant Saini</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
