<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Directions From Maps Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Directions From Maps</h1>
		</header>
		<section>
			<p>Is it possible to give directions in a Ti mapview from one annotation to another? If not, is it possible to send the coordinates to the maps app and open it that way?</p>
<p>Thanks<br>Todd</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="March 23rd 2010, 6:39:45 pm">March 23rd 2010</span>
				by <span class='authorname'>Todd Tompkins</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>directions</span></li>
					
						<li><span class='tagname'>google</span></li>
					
						<li><span class='tagname'>iphone</span></li>
					
						<li><span class='tagname'>maps</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>10</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>10 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-211301">
				
						<section>
							<p>You can&#39;t do this easily in a mapview.<br>But you can open the native Maps app and give it start coordinates and destination coordinates.</p>
<p><code>Ti.App.openURL(&amp;#39;http:&amp;#x2F;&amp;#x2F;maps.google.com&amp;#x2F;maps?saddr=&amp;quot;+StartLatitude+&amp;quot;,&amp;quot;+StartLongitude+&amp;quot;&amp;amp;daddr=&amp;#39;+DestLatitude+&amp;#39;,&amp;#39;+DestLongitude);</code></p>
<p>To do this in a mapview, you have to find a way to get the coordinates of all the points composing your route. And then to draw the route in your mapview using <code>mapview.addroute()</code>.<br>You can find an example in KitchenSink, in map_view2.js</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="June 24th 2011, 12:54:36 pm">June 24th 2011</span>
								by <span class='authorname'>Adrien Mas</span><br>
								<a class="icon-bg icon-link" href="question/6131/directions-from-maps.html#answer-211301" rel="permalink">permalink</a>
							</div>

							<h5>3 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Anrien, I just wanna thank you since it helped me too. But Ti.App.openURL has been changed tp Ti.Platform.openURLin in Titanium SDK 1.6.</p>
</p>
										<div class="author">
											&mdash; commented <span title="June 26th 2011, 5:11:46 am">June 26th 2011</span>
											by <span class='authorname'>Mel Maxwell</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Yes, you&#39;re absolutely right Nigel.<br>It&#39;s Ti.Platform.openURL now.</p>
</p>
										<div class="author">
											&mdash; commented <span title="June 26th 2011, 7:49:50 am">June 26th 2011</span>
											by <span class='authorname'>Adrien Mas</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Hi Anrien, since you&#39;re at it. I have a question about currention to ask.<br>I have tried the geolocation demostration from the kitchen sink. I noticed that it geolocation module relies on the GPS.<br>My concern is to get the user current location faster by 3G or wifi since I don&#39;t need a very precise coordinate to use your code. Any idea?</p>
<pre><code class="hljs"><span class="hljs-transposed_variable">Ti.</span><span class="hljs-transposed_variable">Platform.</span>openURL(<span class="hljs-string">'http://maps.google.com/maps?saddr="</span>+StartLatitude+<span class="hljs-string">","</span>+StartLongitude+<span class="hljs-string">"&amp;daddr='</span>+DestLatitude+<span class="hljs-string">','</span>+DestLongitude);
</code></pre><p>Geo code from kitchen sink</p>
<pre><code class="hljs">Titanium.Geolocation.getCurrentPosition(function(e)
{
    <span class="hljs-keyword">if</span> (e.error)
    {
        alert('HFL cannot <span class="hljs-keyword">get</span> your current location');
        <span class="hljs-keyword">return</span>;
    }

    <span class="hljs-variable"><span class="hljs-keyword">var</span> longitude</span> = e.coords.longitude;
    <span class="hljs-variable"><span class="hljs-keyword">var</span> latitude</span> = e.coords.latitude;
    <span class="hljs-variable"><span class="hljs-keyword">var</span> altitude</span> = e.coords.altitude;
    <span class="hljs-variable"><span class="hljs-keyword">var</span> heading</span> = e.coords.heading;
    <span class="hljs-variable"><span class="hljs-keyword">var</span> accuracy</span> = e.coords.accuracy;
    <span class="hljs-variable"><span class="hljs-keyword">var</span> speed</span> = e.coords.speed;
    <span class="hljs-variable"><span class="hljs-keyword">var</span> timestamp</span> = e.coords.timestamp;
    <span class="hljs-variable"><span class="hljs-keyword">var</span> altitudeAccuracy</span> = e.coords.altitudeAccuracy;

    <span class="hljs-comment">//</span>
    <span class="hljs-comment">//CREATE MAP VIEW</span>
    <span class="hljs-comment">//</span>
    <span class="hljs-variable"><span class="hljs-keyword">var</span> mapview</span> = Titanium.Map.createView({
        mapType: Titanium.Map.STANDARD_TYPE,
        region: {latitude: latitude, longitude: longitude, latitudeDelta:<span class="hljs-number">0.01</span>, longitudeDelta:<span class="hljs-number">0.01</span>},
        animate:<span class="hljs-literal">true</span>,
        regionFit:<span class="hljs-literal">true</span>,
        userLocation:<span class="hljs-literal">true</span>,
        annotations:[annotation]
    });

    win.add(mapview);


});
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="June 26th 2011, 11:14:20 am">June 26th 2011</span>
											by <span class='authorname'>Mel Maxwell</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>4</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-226099">
				
						<section>
							<p>Using the official Google Directions API works as well. I prefer a compressed JSON response instead of XML ;)</p>
<p>Can publish an example on demand.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="December 26th 2011, 9:12:11 pm">December 26th 2011</span>
								by <span class='authorname'>Danny Pham</span><br>
								<a class="icon-bg icon-link" href="question/6131/directions-from-maps.html#answer-226099" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Please do publish</p>
</p>
										<div class="author">
											&mdash; commented <span title="February 5th 2012, 10:55:13 am">February 5th 2012</span>
											by <span class='authorname'>Noble Edward</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-13721">
				
						<section>
							<p>it&#39;s not currently possible.  i&#39;m not sure what you mean by your second question.  can you be more specific?</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="March 23rd 2010, 9:30:41 pm">March 23rd 2010</span>
								by <span class='authorname'>Nolan Wright</span><br>
								<a class="icon-bg icon-link" href="question/6131/directions-from-maps.html#answer-13721" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-13771">
				
						<section>
							<p>Sorry for the confusion. Is there a way to open the native Maps app and send the coordinates for the starting location and ending location? I have seen this done in other apps. </p>
<p>Thanks<br>Todd</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="March 23rd 2010, 10:07:28 pm">March 23rd 2010</span>
								by <span class='authorname'>Todd Tompkins</span><br>
								<a class="icon-bg icon-link" href="question/6131/directions-from-maps.html#answer-13771" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-13791">
				
						<section>
							<p>we don&#39;t have a way to show a route right now.  you can place start&#x2F;end annotations on a map view though - but it sounds like you need the former.   </p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="March 23rd 2010, 10:16:59 pm">March 23rd 2010</span>
								by <span class='authorname'>Nolan Wright</span><br>
								<a class="icon-bg icon-link" href="question/6131/directions-from-maps.html#answer-13791" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-13851">
				
						<section>
							<p>correct, it would be nice to be able to do that in my app. I would be ok if I could send the data to the Google Maps app and open that application and view the map and directions from there though. Is that possible?</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="March 23rd 2010, 10:44:23 pm">March 23rd 2010</span>
								by <span class='authorname'>Todd Tompkins</span><br>
								<a class="icon-bg icon-link" href="question/6131/directions-from-maps.html#answer-13851" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-14081">
				
						<section>
							<p>Are you planning to make a route planner? because i&#39;ve also looked into that, and Google will not allow that (only in their own maps.app).</p>
<p>But you can calculate the distance between points, and in what direction you need to walk. And its also possible to draw a straight line from one annotation to another one.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="March 24th 2010, 6:11:01 am">March 24th 2010</span>
								by <span class='authorname'>Glenn Tillemans</span><br>
								<a class="icon-bg icon-link" href="question/6131/directions-from-maps.html#answer-14081" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-211473">
				
						<section>
							<p>I haven&#39;t made any tests about it, but when you use Geolocation, there are two parameters about precision.</p>
<ul>
<li><p><code>Ti.Geolocation.preferredProvider</code></p>
<pre><code class="hljs"><span class="hljs-comment">// For GPS</span>
<span class="hljs-constant">Ti.Geolocation.preferredProvider</span> = Ti.Geolocation.PROVIDER_GPS;
<span class="hljs-comment">// or, for Network geolocation</span>
<span class="hljs-constant">Ti.Geolocation.preferredProvider</span> = Ti.Geolocation.PROVIDER_NETWORK;
</code></pre></li>
<li><p><code>Ti.Geolocation.accuracy</code></p>
<pre><code class="hljs"><span class="hljs-comment">// Supported values :</span>
<span class="hljs-comment">// Titanium.Geolocation.ACCURACY_BEST</span>
<span class="hljs-comment">// Titanium.Geolocation.ACCURACY_NEAREST_TEN_METERS</span>
<span class="hljs-comment">// Titanium.Geolocation.ACCURACY_HUNDRED_METERS</span>
<span class="hljs-comment">// Titanium.Geolocation.ACCURACY_KILOMETER</span>
<span class="hljs-comment">// Titanium.Geolocation.ACCURACY_THREE_KILOMETERS</span>
<span class="hljs-constant">Ti.Geolocation.accuracy</span> = Ti.Geolocation.ACCURACY_BEST;
</code></pre></li>
</ul>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="June 27th 2011, 5:47:04 am">June 27th 2011</span>
								by <span class='authorname'>Adrien Mas</span><br>
								<a class="icon-bg icon-link" href="question/6131/directions-from-maps.html#answer-211473" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-225663">
				
						<section>
							<p>This will give you the coordinates for the route, which you can then pass along to the mapView.addRoute function:</p>
<pre><code class="hljs">Ti.Geolocation.reverseGeocoder(sourceLatitude, sourceLongitude, function (evt) {
                <span class="hljs-keyword">var</span> places = evt.places;
                <span class="hljs-keyword">if</span> (places &amp;&amp; places.length &gt; 0) {
                    <span class="hljs-comment">//get points from google maps.</span>
                    <span class="hljs-keyword">var</span> sourceAddress = places[0].address;
                    Ti.API.info(<span class="hljs-string">"sourceAddress: "</span> + sourceAddress);
                    <span class="hljs-keyword">var</span> url = <span class="hljs-string">"http://maps.google.com/?saddr="</span> + sourceAddress
                        + <span class="hljs-string">"&amp;daddr="</span> + destinationAddress + <span class="hljs-string">"&amp;doflg=ptk&amp;hl=en&amp;output=kml"</span>
                    utils.ajaxXml(url, function (xml) {
                        <span class="hljs-comment">//add points to route.</span>
                        <span class="hljs-keyword">var</span> points = [];
                        <span class="hljs-keyword">var</span> coords = xml.documentElement.getElementsByTagName(<span class="hljs-string">"LineString"</span>);
                        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> <span class="hljs-keyword">cc</span> = 0; <span class="hljs-keyword">cc</span> &lt; coords.length; <span class="hljs-keyword">cc</span>++) {
                            <span class="hljs-keyword">var</span> <span class="hljs-keyword">line</span> = coords.item(<span class="hljs-keyword">cc</span>);
                            <span class="hljs-keyword">var</span> str = <span class="hljs-keyword">line</span>.firstChild.text.<span class="hljs-keyword">split</span>(<span class="hljs-string">" "</span>);
                            <span class="hljs-keyword">for</span> (dd = 0; dd &lt; str.length; dd++) {
                                <span class="hljs-keyword">var</span> <span class="hljs-keyword">loc</span> = str[dd].<span class="hljs-keyword">split</span>(',');
                                <span class="hljs-keyword">if</span> (<span class="hljs-keyword">loc</span>[0] &amp;&amp; <span class="hljs-keyword">loc</span>[1]) {
                                    points.push({ latitude: <span class="hljs-keyword">loc</span>[1],
                                        longitude: <span class="hljs-keyword">loc</span>[0]
                                    });
                                }
                            }
                        }
                        <span class="hljs-comment">//add route to map.</span>
                        <span class="hljs-keyword">var</span> route = {
            name: <span class="hljs-string">"My Route"</span>, points: points, color: <span class="hljs-string">"#7c74d4"</span>, width: 4
        };
        mapView.addRoute(route);
        setTimeout(function () { mapView.regionFit = true; }, 700);<span class="hljs-comment">//hack to get route to show</span>

                    });
                }
            });
</code></pre><p>ajaxXml is just a helper method that makes a basic http call and returns back this.responseXML.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="December 19th 2011, 1:04:17 pm">December 19th 2011</span>
								by <span class='authorname'>Justin Toth</span><br>
								<a class="icon-bg icon-link" href="question/6131/directions-from-maps.html#answer-225663" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>i love the get to show route hack!</p>
<pre><code class="hljs">setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{ mapView.regionFit = <span class="hljs-literal">true</span>; }, <span class="hljs-number">700</span>);<span class="hljs-comment">//hack to get route to show</span>
</code></pre><p>thanks!</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 10th 2012, 1:44:44 pm">January 10th 2012</span>
											by <span class='authorname'>Aizil Akmar Omar</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-14271">
				
						<section>
							<p>it is an feature request for an app that already has a map and shows different locations. </p>
<p>I have seen other apps that have their own map and points and then they can pass the data and open up the maps app with that point plotted on the map. The name of it is Whole Foods.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="March 24th 2010, 11:25:54 am">March 24th 2010</span>
								by <span class='authorname'>Todd Tompkins</span><br>
								<a class="icon-bg icon-link" href="question/6131/directions-from-maps.html#answer-14271" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>-1</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
