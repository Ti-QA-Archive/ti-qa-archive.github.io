<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Masuidrive-TiStoreKit module not working with 1.7.0 » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Masuidrive-TiStoreKit module not working with 1.7.0</h1>
		</header>
		<section>
			<p>I was wondering if anyone has been able to make the masuidrive&#x2F;TiStoreKit module work with SDK 1.7.0 ?</p>
<p>I have it working fine with 1.6.3 but i get nothing when compiling with 1.7.0. I tried to recompile the module using new SDK version but it didnt work (i get no callback when using StoreKit.findProducts().</p>
<p>Thanks<br>Sylvain</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="June 16th 2011, 3:49:57 pm">June 16th 2011</span>
				by <span class='authorname'>Sylvain Simard</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>iphone</span></li>
					
						<li><span class='tagname'>storekit</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>4</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>4 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-210518">
				
						<section>
							<p>As an aside. This isn&#39;t supported officially by the company.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="June 16th 2011, 3:55:23 pm">June 16th 2011</span>
								by <span class='authorname'>Tony Guntharp</span><br>
								<a class="icon-bg icon-link" href="question/121178/masuidrive-tistorekit-module-not-working-with-170#answer-210518" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-211123">
				
						<section>
							<p>You&#39;ll open &#39;titanium.xconfig&#39; in TiStoreKit folder.<br>And you should edit the version in this xconfig file.</p>
<p><code>TITANIUM_SDK_VERSION = 1.6.3</code></p>
<p>This line will sets to like this.</p>
<p><code>TITANIUM_SDK_VERSION = 1.7.0</code></p>
<p>After all, you&#39;ll re-build with terminal.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="June 23rd 2011, 6:53:39 am">June 23rd 2011</span>
								by <span class='authorname'>digistate digistate co., ltd.</span><br>
								<a class="icon-bg icon-link" href="question/121178/masuidrive-tistorekit-module-not-working-with-170#answer-211123" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Thanks for your help, i tried that and i am still getting the same error.</p>
</p>
										<div class="author">
											&mdash; commented <span title="June 23rd 2011, 11:27:12 am">June 23rd 2011</span>
											by <span class='authorname'>Sylvain Simard</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-210927">
				
						<section>
							<p>I realize that the module itself is not supported but my problem seems to be related to <a href="http:&#x2F;&#x2F;developer.appcelerator.com&#x2F;question&#x2F;121072&#x2F;warnings-and-possible-issues">that thread</a> since i am getting the same kind of errors with wrong context warnings.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="June 21st 2011, 5:37:22 pm">June 21st 2011</span>
								by <span class='authorname'>Sylvain Simard</span><br>
								<a class="icon-bg icon-link" href="question/121178/masuidrive-tistorekit-module-not-working-with-170#answer-210927" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-211156">
				
						<section>
							<p>I debugged this problem a little more and here is what i found:</p>
<p>Actually the bug is comming from the krollobject.m Titanium SDK file in the convertIDTiValue(line 348) function. At the bottom of the function, there is some added code (since 1.6.3) that creates a bridge to the object returned like that:</p>
<pre><code class="hljs">ourBridge = [KrollBridge krollBridgeForThreadName:<span class="hljs-string">[[NSThread currentThread] name]]</span>;
</code></pre><p>The thing is, when trying to access the name of that thread, it returns nill and then the following code is executed, resulting in a nil object beeing returned by the proxy:</p>
<pre><code class="hljs">krollBridgeForThreadName
+ (KrollBridge *)krollBridgeForThreadName:(<span class="hljs-built_in">NSString</span> *)threadName;
{
<span class="hljs-keyword">if</span>(threadName == <span class="hljs-literal">nil</span>)
{
<span class="hljs-keyword">return</span> <span class="hljs-literal">nil</span>;
}
</code></pre><p>Now the question is, why would the thread name be nil ? Is there something missing inside the module ?</p>
<p>Thanks,<br>Sylvain</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="June 23rd 2011, 11:36:14 am">June 23rd 2011</span>
								by <span class='authorname'>Sylvain Simard</span><br>
								<a class="icon-bg icon-link" href="question/121178/masuidrive-tistorekit-module-not-working-with-170#answer-211156" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
