<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Playing videos from a Youtube Channel » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Playing videos from a Youtube Channel</h1>
		</header>
		<section>
			<p>I have seen a few code snippets for playing youtube videos using Titanium media player but none for playing a youtube channel.  I have created a tableview with video links from this channel:  http:&#x2F;&#x2F;www.youtube.com&#x2F;rss&#x2F;user&#x2F;DejAyEnterprise&#x2F;videos.rss and would like to open a video player to play each associated video when clicked. </p>
<p>I have tried the code from Kenan at this link: https:&#x2F;&#x2F;gist.github.com&#x2F;3151702 but can&#39;t seem to adapt it to my case where I can pass in the e.rowData from the tableview. </p>
<p>Titans I will appreciate any help you can render in this respect. I have exhausted my research and tech abilities. Thx.</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="January 18th 2013, 11:23:33 am">January 18th 2013</span>
				by <span class='authorname'>adebisi oladipupo</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>youtube</span></li>
					
				</ul>
			

			<section>
				<h5>3 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Please share at least the table code that you&#39;ve got so far so that someone can easily help you with your code without having to rewrite everything from scratch. Also, when asking questions like this you really need to share your entire dev environment so that it can be duplicated for testing. If you have any questions regarding what info needs to be posted please see the <a href="http:&#x2F;&#x2F;developer.appcelerator.com&#x2F;question&#x2F;ask">Ask A Question Page</a> for more info.</p>
</div>
							<div class="author">
								&mdash; commented <span title="January 18th 2013, 12:51:43 pm">January 18th 2013</span>
								by <span class='authorname'>Anthony Decena</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Missing from you question are several pieces of information that will help you obtain a speedy and accurate answer, please provide details for ALL of the following ONLY if they are relevant;</p>
<ul>
<li>Titanium SDK Version?</li>
<li>Target platform (which of the following)<ul>
<li>iPhone; which OS version?</li>
<li>iPad; which OS version?</li>
<li>Android Phones; which min&#x2F;target OS version?</li>
<li>Android Tablets; which min&#x2F;target OS version?</li>
<li>Blackberry Phones; which min&#x2F;target OS version?</li>
<li>Blackberry Tablets; which min&#x2F;target OS version?</li>
<li>Mobile Web; which testing device(s)?</li>
<li>Other?</li>
</ul>
</li>
<li>A code snippet that can be used to determine what you have achieved so far</li>
</ul>
</div>
							<div class="author">
								&mdash; commented <span title="January 18th 2013, 12:56:19 pm">January 18th 2013</span>
								by <span class='authorname'>Malcolm Hollingsworth</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Dev platform is Mac OSX Mountain Lion and SDK 3.0.1. My target platforms are iPhone, iPad, (minimum OS 5.1) Android Phones and Tablets (minimum OS 2.3.3).  Sorry I didn&#39;t include these data earlier.</p>
</div>
							<div class="author">
								&mdash; commented <span title="January 18th 2013, 3:18:10 pm">January 18th 2013</span>
								by <span class='authorname'>adebisi oladipupo</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-254872">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>Hi</p>
<p>If all you are trying to do it parse the url and then use that in an app to show a video then this will sort you out.</p>
<pre><code class="hljs">function getYouTubeHTML(url) {
    var youtube_id = url.replace(/^[^v]+v.(.{11}).*/,"$1"); 
    var html = '<span class="hljs-doctype">&lt;!DOCTYPE HTML&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">html</span> <span class="hljs-attribute">lang</span>=<span class="hljs-value">"en-US"</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">head</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">meta</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"viewport"</span> <span class="hljs-attribute">content</span>=<span class="hljs-value">"width=device-width, initial-scale=1, maximum-scale=1"</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">meta</span> <span class="hljs-attribute">charset</span>=<span class="hljs-value">"UTF-8"</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">title</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">title</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">style</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"text/css"</span>&gt;</span><span class="css"><span class="hljs-tag">body</span>, <span class="hljs-tag">html</span> <span class="hljs-rules">{ <span class="hljs-rule"><span class="hljs-attribute">margin</span>:<span class="hljs-value"> <span class="hljs-number">0</span></span></span>; <span class="hljs-rule"><span class="hljs-attribute">width</span>:<span class="hljs-value"> <span class="hljs-string">' + Ti.Platform.displayCaps.platformWidth + '</span>px</span></span>; <span class="hljs-rule"><span class="hljs-attribute">height</span>:<span class="hljs-value"> <span class="hljs-string">' + Ti.Platform.displayCaps.platformHeight + '</span>px</span></span>; }</span></span><span class="hljs-tag">&lt;/<span class="hljs-title">style</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">head</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">body</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">iframe</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"youtube-player"</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"text/html"</span> <span class="hljs-attribute">width</span>=<span class="hljs-value">"100%"</span> <span class="hljs-attribute">height</span>=<span class="hljs-value">"100%"</span> <span class="hljs-attribute">src</span>=<span class="hljs-value">"http://www.youtube.com/embed/'+youtube_id+'"</span> <span class="hljs-attribute">frameborder</span>=<span class="hljs-value">"0"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">iframe</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">body</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">html</span>&gt;</span>';
    return html;
}

var url = 'https://www.youtube.com/watch?v=0Ou-aYa4hAw';
var webview = Ti.UI.createWebView({
    html: getYouTubeHTML(url),
    height: Ti.UI.FILL,
    width: Ti.UI.FILL
});
win.add(webview);
</code></pre><p>The function <strong>getYouTubeHTML</strong> take the url you get from your feed and then converts this into the embed code that iOS uses to swap out for an embedded YoutTube video.</p>
<p>I seem to think your developing for Android, but if not use this.  Report back on the questions above and if it is Android I will be back with code for that.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="January 18th 2013, 12:56:00 pm">January 18th 2013</span>
								by <span class='authorname'>Malcolm Hollingsworth</span><br>
								<a class="icon-bg icon-link" href="question/147094/playing-videos-from-a-youtube-channel.html#answer-254872" rel="permalink">permalink</a>
							</div>

							<h5>21 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Looks like there is a working good example of using the media player to solve the display of YouTube videos.</p>
<p><a href="http:&#x2F;&#x2F;developer.appcelerator.com&#x2F;question&#x2F;70481&#x2F;playing-youtube-using-titaniummediavideoplayer">Playing YouTube using Titanium.Media.VideoPlayer</a></p>
<p>I wonder if this helps?</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 18th 2013, 1:06:24 pm">January 18th 2013</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Hey buddy Malcolm. Thx for chipping in. I am trying to avoid the use of a web view.  I have been to the link you pointed out but unable to adapt it to my case. I have a table view that has pulled in my youtube video titles and would like to launch the linked video onClick event.  Here is the code that pulls my videos from youtube channel.</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> sermonRSS = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{

    <span class="hljs-comment">// Builds the RSS reader window</span>
<span class="hljs-comment">//    require('/includes/getSermon').fetchRSSData('http://christonline.wordpress.com/feed/');</span>

    <span class="hljs-keyword">var</span> b = Titanium.UI.createButton({title:<span class="hljs-string">'Menu'</span>});
    <span class="hljs-keyword">var</span> margin = TU.UI.Sizer.getDimension (<span class="hljs-number">10</span>);
    <span class="hljs-built_in">require</span>(<span class="hljs-string">'/includes/getVideo'</span>).fetchRSSData(<span class="hljs-string">'http://www.youtube.com/rss/user/eaadeboye/videos.rss'</span>); 

    <span class="hljs-keyword">var</span> rssWindow = Titanium.UI.createWindow({  
        title:<span class="hljs-string">''</span>,
        backgroundColor:TU.UI.Theme.darkBackgroundColor,
        barColor:TU.UI.Theme.barColor
    });
    <span class="hljs-comment">// create the tableview</span>
    tv = Titanium.UI.createTableView({

            top: margin,
            borderRadius: margin,
            borderColor:TU.UI.Theme.borderColor,
            backgroundColor: TU.UI.Theme.backgroundColor,
            separatorColor: TU.UI.Theme.textColor,

    });
    rssWindow.add(tv);

    <span class="hljs-comment">// helper function for adding rows, we'll need this later</span>
    <span class="hljs-keyword">var</span> addTableRows = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">tblData</span>)</span>{

        <span class="hljs-keyword">var</span> rowh = TU.UI.Sizer.getDimension (<span class="hljs-number">70</span>);
        <span class="hljs-keyword">var</span> tableRows = []; <span class="hljs-comment">// an array to hold our rows</span>
        <span class="hljs-keyword">var</span> imgV = <span class="hljs-string">'null'</span>;
        <span class="hljs-keyword">var</span> pDate = <span class="hljs-string">'null'</span>;
        <span class="hljs-keyword">var</span> tblView = <span class="hljs-string">'null'</span>;
        <span class="hljs-keyword">var</span> titleview = <span class="hljs-string">'null'</span>;

        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i=<span class="hljs-number">0</span>; i&lt;tblData.length; i++) {
            tblView = Ti.UI.createTableViewRow({
<span class="hljs-comment">//                title: tblData[i].postTitle,</span>
                link: tblData[i].postLink,
                className: <span class="hljs-string">'itemRow'</span>,
<span class="hljs-comment">//                font:TU.UI.Theme.fonts.mediumBold,</span>
                selectedBackgroundColor: TU.UI.Theme.highlightColor,
                backgroundColor: TU.UI.Theme.backgroundColor,
                color: TU.UI.Theme.textColor,
                rightImage: <span class="hljs-string">'/images/icons/rightArrow.png'</span>,
                height:rowh
            });

            titleview = Ti.UI.createLabel({
                text: tblData[i].postTitle,
                color: TU.UI.Theme.textColor,
                font:TU.UI.Theme.fonts.mediumBold,
                height: <span class="hljs-string">'50dp'</span>,
                left: <span class="hljs-string">'73dp'</span>,
                right: <span class="hljs-string">'5dp'</span>
            });

            imgV = Ti.UI.createImageView({
            image: <span class="hljs-string">'/images/icons/sermonRSS.png'</span>,
            height: <span class="hljs-string">'42dp'</span>, 
            width: <span class="hljs-string">'42dp'</span>, 
            left: <span class="hljs-string">'5dp'</span>,
            top: <span class="hljs-string">'3dp'</span>
            });

            <span class="hljs-comment">// Date region</span>
            pDate = Ti.UI.createLabel({
            text: tblData[i].pubDate,
            textAlign: <span class="hljs-string">'center'</span>,
            color: TU.UI.Theme.textColor,
            font:TU.UI.Theme.fonts.small,
            height: <span class="hljs-string">'auto'</span>,
            width: <span class="hljs-string">'42dp'</span>,
            left: <span class="hljs-string">'3dp'</span>,
            bottom: <span class="hljs-string">'3dp'</span>
            });
            tblView.add(imgV);
            tblView.add(pDate);
            tblView.add(titleview);
            tableRows.push(tblView); 
        }
        tv.setData(tableRows);            
    };
    <span class="hljs-comment">// add click event listener to open blog post when row is tapped</span>

    tv.addEventListener(<span class="hljs-string">'click'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
        <span class="hljs-keyword">var</span> ArticleWindow = <span class="hljs-built_in">require</span>(<span class="hljs-string">'includes/vidcastPlayer'</span>);
        <span class="hljs-keyword">var</span> articlewindow = <span class="hljs-keyword">new</span> ArticleWindow(e.rowData);
        articlewindow.open({modal:<span class="hljs-literal">true</span>});
    });
    <span class="hljs-comment">// set up an event listener to populate data when it's available from the network and remove same when window closes</span>
    <span class="hljs-comment">//to conserve memory</span>

    <span class="hljs-keyword">var</span> eventHandler = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
            <span class="hljs-comment">// Set the window's title</span>
        rssWindow.title = e.blogTitle;
        <span class="hljs-comment">// Add the table rows</span>
        addTableRows(e.blogPosts);
    };


    Ti.App.addEventListener(<span class="hljs-string">'net:videoDataReturned'</span>, eventHandler);

    b.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)
    </span>{

    Ti.App.removeEventListener(<span class="hljs-string">'net:videoDataReturned'</span>, eventHandler);

    });

    <span class="hljs-keyword">return</span> rssWindow;
}; <span class="hljs-comment">// end createSermonRSS()</span>

<span class="hljs-built_in">module</span>.exports = sermonRSS;
</code></pre><p>I have tried several codes in the vidcastPlayer that is called in the code but no luck. Clicking my table row should pass a link (pod.link) to the player in vidcastPlayer.js (no working code yet for this).  Thx<br>BTW, I am running SDK 3.0.1 of Titanium on Mac OSX Mountian Lion and would like app to work on both iOS and android platforms.</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 18th 2013, 2:51:14 pm">January 18th 2013</span>
											by <span class='authorname'>adebisi oladipupo</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Again in answer to your questions, I am developing for both ios and android platforms using SDK 3.0.1 and running on Mac OSX 10.5.x</p>
<p>Thx my friend.</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 18th 2013, 3:25:24 pm">January 18th 2013</span>
											by <span class='authorname'>adebisi oladipupo</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Hi</p>
<p>Did you try the link I also provided that strips the information and shows it in a media player (video player) rather than the webview hook of my first example?</p>
<p><a href="http:&#x2F;&#x2F;developer.appcelerator.com&#x2F;question&#x2F;70481&#x2F;playing-youtube-using-titaniummediavideoplayer">Playing YouTube using Titanium.Media.VideoPlayer</a></p>
</p>
										<div class="author">
											&mdash; commented <span title="January 18th 2013, 3:39:40 pm">January 18th 2013</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I found that link earlier and my confusion is how to adapt it to my case plus there seem to be some mssing functions that are not included e.g. _callBackOk(), _callBackOnError, etc.  The code from Martin which you probably refer to is good but I am not sure how to pass the youtube_id to the function call from the link in my tableview rows.  Also, since the function shown is not a constructor, not sure how to return the video window for display and playing of the video.  I will appreciate it much if you can show me which code snippets to pull together from that thread to do what I am trying to achieve.</p>
<p>As a newbie I was happy to see that link but then lost on how to use itwith modifications.  Thx</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 18th 2013, 3:51:21 pm">January 18th 2013</span>
											by <span class='authorname'>adebisi oladipupo</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I will take a look for you but it may not be until tomorrow.</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 18th 2013, 3:54:07 pm">January 18th 2013</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Thanks. Your solution is always worth waiting for.  I am the one asking for help and will be patient. I n the time being I will continue to research and learn coding techniques of titanium in order to join the elite club of Malcolm and et al some day. Thx</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 18th 2013, 3:59:13 pm">January 18th 2013</span>
											by <span class='authorname'>adebisi oladipupo</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Good morning or afternoon (if you&#39;re in UK) Malcolm. Just checking in to see if you have had time to take a look at my request as you promised. Hope your weekend was restful and enjoyable. Looking forward. Thx</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 21st 2013, 11:20:10 am">January 21st 2013</span>
											by <span class='authorname'>adebisi oladipupo</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>On it today, I needed to get a big project out.  BTW 13:24 right now in the UK.</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 21st 2013, 11:24:50 am">January 21st 2013</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Here you go, the code provided in the other answer did have the answer, I have revised the code to make it work a little easier.</p>
<p>I have created a stand-alone app for you can see it work - it is easy.  Usual routine - create a new default project and the paste in the code below;</p>
<pre><code class="hljs">Ti.UI.setBackgroundColor(<span class="hljs-string">'#000'</span>);

<span class="hljs-keyword">var</span> win = Ti.UI.createWindow({  
    backgroundColor:<span class="hljs-string">'#000'</span>,
    title:<span class="hljs-string">'Menu'</span> 
});
<span class="hljs-keyword">var</span> tab1 = Ti.UI.createTab({  
    icon: <span class="hljs-string">'KS_nav_views.png'</span>,
    title: <span class="hljs-string">'Menu'</span>,
    <span class="hljs-built_in">window</span>: win
});

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">youtube</span>(<span class="hljs-params">obj</span>) </span>{ <span class="hljs-comment">//_youtubeId, _callbackOk, _callbackError) { //http://www.youtube.com/watch?v=8To-6VIJZRE</span>
    <span class="hljs-keyword">var</span> request = Titanium.Network.createHTTPClient({
        timeout : <span class="hljs-number">10000</span> <span class="hljs-comment">/* in milliseconds */</span>
    });
    request.setRequestHeader(<span class="hljs-string">"Referer"</span>, <span class="hljs-string">"http://www.youtube.com/watch?v="</span> + obj.id);
    request.open(<span class="hljs-string">"GET"</span>, <span class="hljs-string">"http://m.youtube.com/watch?ajax=1&amp;feature=related&amp;layout=mobile&amp;tsp=1&amp;&amp;v="</span> + obj.id);
    request.onerror = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
        <span class="hljs-keyword">if</span> (obj.error) {
            obj.error(e);
        }
    };
    request.onload = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
        <span class="hljs-keyword">var</span> qualities = {};
        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">var</span> fmtarray = <span class="hljs-built_in">JSON</span>.parse(<span class="hljs-built_in">decodeURIComponent</span>(<span class="hljs-keyword">this</span>.responseText.substring(<span class="hljs-number">4</span>, <span class="hljs-keyword">this</span>.responseText.length))).content.video[<span class="hljs-string">'fmt_stream_map'</span>];
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>, j = fmtarray.length; i &lt; j; i++) {
                <span class="hljs-keyword">var</span> data = fmtarray[i];
                <span class="hljs-keyword">var</span> type = <span class="hljs-built_in">decodeURIComponent</span>(data[<span class="hljs-string">'type'</span>]);
                <span class="hljs-keyword">if</span> (type.indexOf(<span class="hljs-string">'mp4'</span>) &gt;= <span class="hljs-number">0</span>) {
                    <span class="hljs-keyword">var</span> url = <span class="hljs-built_in">decodeURIComponent</span>(data[<span class="hljs-string">'url'</span>]);
                    <span class="hljs-keyword">var</span> quality = <span class="hljs-built_in">decodeURIComponent</span>(data[<span class="hljs-string">'quality'</span>]);
                    qualities[quality] = url;
                }
            }
            <span class="hljs-keyword">if</span> (obj.success) {
                obj.success(qualities);
            }
        } <span class="hljs-keyword">catch</span> (e) {
            <span class="hljs-keyword">if</span> (obj.problem) {
                obj.problem();
            }
        }
    }
    request.send(); 
}

<span class="hljs-keyword">var</span> videoPlayer = Titanium.Media.createVideoPlayer({
    autoplay: <span class="hljs-literal">false</span>,
    backgroundColor: <span class="hljs-string">'#000'</span>,
    height: Ti.UI.FILL,
    width: Ti.UI.FILL,
    mediaControlStyle: Titanium.Media.VIDEO_CONTROL_DEFAULT,
    scalingMode: Titanium.Media.VIDEO_SCALING_ASPECT_FIT
});
win.add(videoPlayer);

<span class="hljs-keyword">var</span> btnPlay = Ti.UI.createButton({
    title: <span class="hljs-string">'Play'</span>
});
win.setLeftNavButton(btnPlay);
btnPlay.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) </span>{
    videoPlayer.play();
});
<span class="hljs-keyword">var</span> btnTest = Ti.UI.createButton({
    title: <span class="hljs-string">'Video'</span>
});
win.setRightNavButton(btnTest);
btnTest.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) </span>{
    youtube({
        id: <span class="hljs-string">'8To-6VIJZRE'</span>,
        success: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) </span>{
            Ti.API.info(<span class="hljs-string">'data'</span>, <span class="hljs-built_in">JSON</span>.stringify(e));
            videoPlayer.setUrl(e.medium);
        },
        problem: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) </span>{
            alert(<span class="hljs-built_in">JSON</span>.stringify(e));
        },
        error: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) </span>{
            alert(<span class="hljs-built_in">JSON</span>.stringify(e));
        }
    });
});

<span class="hljs-keyword">var</span> tabGroup = Ti.UI.createTabGroup();
tabGroup.addTab(tab1);  
tabGroup.open();
</code></pre><p>The main function is;</p>
<pre><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">youtube</span>(<span class="hljs-params">obj</span>) </span>{
    <span class="hljs-keyword">var</span> request = Titanium.Network.createHTTPClient({
        timeout : <span class="hljs-number">10000</span> <span class="hljs-comment">/* in milliseconds */</span>
    });
    request.setRequestHeader(<span class="hljs-string">"Referer"</span>, <span class="hljs-string">"http://www.youtube.com/watch?v="</span> + obj.id);
    request.open(<span class="hljs-string">"GET"</span>, <span class="hljs-string">"http://m.youtube.com/watch?ajax=1&amp;feature=related&amp;layout=mobile&amp;tsp=1&amp;&amp;v="</span> + obj.id);
    request.onerror = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
        <span class="hljs-keyword">if</span> (obj.error) {
            obj.error(e);
        }
    };
    request.onload = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
        <span class="hljs-keyword">var</span> qualities = {};
        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">var</span> fmtarray = <span class="hljs-built_in">JSON</span>.parse(<span class="hljs-built_in">decodeURIComponent</span>(<span class="hljs-keyword">this</span>.responseText.substring(<span class="hljs-number">4</span>, <span class="hljs-keyword">this</span>.responseText.length))).content.video[<span class="hljs-string">'fmt_stream_map'</span>];
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>, j = fmtarray.length; i &lt; j; i++) {
                <span class="hljs-keyword">var</span> data = fmtarray[i];
                <span class="hljs-keyword">var</span> type = <span class="hljs-built_in">decodeURIComponent</span>(data[<span class="hljs-string">'type'</span>]);
                <span class="hljs-keyword">if</span> (type.indexOf(<span class="hljs-string">'mp4'</span>) &gt;= <span class="hljs-number">0</span>) {
                    <span class="hljs-keyword">var</span> url = <span class="hljs-built_in">decodeURIComponent</span>(data[<span class="hljs-string">'url'</span>]);
                    <span class="hljs-keyword">var</span> quality = <span class="hljs-built_in">decodeURIComponent</span>(data[<span class="hljs-string">'quality'</span>]);
                    qualities[quality] = url;
                }
            }
            <span class="hljs-keyword">if</span> (obj.success) {
                obj.success(qualities);
            }
        } <span class="hljs-keyword">catch</span> (e) {
            <span class="hljs-keyword">if</span> (obj.problem) {
                obj.problem();
            }
        }
    }
    request.send(); 
}
</code></pre><p>Then call it as follows;</p>
<pre><code class="hljs">youtube<span class="hljs-list">({
    id: '<span class="hljs-number">8</span>To-6VIJZRE',
    success: function <span class="hljs-list">(<span class="hljs-keyword">e</span>)</span> {
        Ti.API.info<span class="hljs-list">(<span class="hljs-quoted">'data</span>', JSON.stringify<span class="hljs-list">(<span class="hljs-keyword">e</span>)</span>)</span><span class="hljs-comment">;</span>
        videoPlayer.setUrl<span class="hljs-list">(<span class="hljs-keyword">e</span>.medium)</span><span class="hljs-comment">;</span>
    },
    problem: function <span class="hljs-list">(<span class="hljs-keyword">e</span>)</span> {
        alert<span class="hljs-list">(<span class="hljs-keyword">JSON</span>.stringify<span class="hljs-list">(<span class="hljs-keyword">e</span>)</span>)</span><span class="hljs-comment">;</span>
    },
    error: function <span class="hljs-list">(<span class="hljs-keyword">e</span>)</span> {
        alert<span class="hljs-list">(<span class="hljs-keyword">JSON</span>.stringify<span class="hljs-list">(<span class="hljs-keyword">e</span>)</span>)</span><span class="hljs-comment">;</span>
    }
})</span><span class="hljs-comment">;</span>
</code></pre><p>With id being the id of the video you are after.</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 21st 2013, 1:00:39 pm">January 21st 2013</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>On the basis you are using the following URL;</p>
<pre><code class="hljs"><span class="hljs-symbol">http:</span>/<span class="hljs-regexp">/gdata.youtube.com/feeds</span><span class="hljs-regexp">/base/users</span><span class="hljs-regexp">/eaadeboye/uploads</span>?client=ytapi-youtube-rss-redirect&amp;alt=rss&amp;v=<span class="hljs-number">2</span>&amp;orderby=updated
</code></pre><p>You need to grab the URL from each <strong>item</strong>, the property is <strong>link</strong>, I have created a helper function for you;</p>
<pre><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getYoutubeID</span>(<span class="hljs-params">url</span>) </span>{
    <span class="hljs-keyword">return</span> url.match(<span class="hljs-regexp">/v=([^&amp;]*)/gim</span>)[<span class="hljs-number">0</span>].replace(<span class="hljs-regexp">/^v=/gim</span>, <span class="hljs-string">''</span>);
}
</code></pre><p>Use it like this;</p>
<pre><code class="hljs"><span class="hljs-variable"><span class="hljs-keyword">var</span> strLink</span> = 'http:<span class="hljs-comment">//www.youtube.com/watch?v=soos3rN31Gw&amp;amp;feature=youtube_gdata';</span>
alert(getYoutubeID(strLink));
</code></pre><p>This and the previous code will get your youtube video in the built in video player.</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 21st 2013, 1:26:07 pm">January 21st 2013</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Thx mate. I will revert later after I adapt your solution to my case.  You&#39;re an angel and may God reward your labor of love.  You&#39;ve been a great and present help to the community in general and to me in particular.  Will be back later on.  Cheers</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 21st 2013, 1:57:21 pm">January 21st 2013</span>
											by <span class='authorname'>adebisi oladipupo</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Hi buddy Malcolm. I have adapted your code with much thanks. But player not pulling in the video whose youTubeId is correctly extracted. My problem is probably that the youtube(obj) id property is not getting passed even though the id is correctly extracted.  Here&#39;s the full code:</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> vidCaster = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">video</span>) </span>{

    <span class="hljs-keyword">var</span> win = Titanium.UI.createWindow({
        barColor: TU.UI.Theme.barColor,
        orientationModes: [Ti.UI.LANDSCAPE_LEFT, Ti.UI.LANDSCAPE_RIGHT],
        title: <span class="hljs-string">'Sermon Player'</span>

    });

<span class="hljs-keyword">var</span> strLink = video.link; <span class="hljs-comment">//url obtained from the e.Rowdata of table listing sermon videos</span>

Ti.API.info(<span class="hljs-string">'Working with this url:'</span> + strLink);

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getYoutubeID</span>(<span class="hljs-params">url</span>) </span>{
    <span class="hljs-keyword">return</span> url.match(<span class="hljs-regexp">/v=([^&amp;]*)/gim</span>)[<span class="hljs-number">0</span>].replace(<span class="hljs-regexp">/^v=/gim</span>, <span class="hljs-string">''</span>);
}


<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">youtube</span>(<span class="hljs-params">obj</span>) </span>{ <span class="hljs-comment">//_youtubeId, _callbackOk, _callbackError) { //http://www.youtube.com/watch?v=8To-6VIJZRE</span>
    <span class="hljs-keyword">var</span> request = Titanium.Network.createHTTPClient({
        timeout : <span class="hljs-number">10000</span> <span class="hljs-comment">/* in milliseconds */</span>
    });
    request.setRequestHeader(<span class="hljs-string">"Referer"</span>, <span class="hljs-string">"http://www.youtube.com/watch?v="</span> + obj.id);
    request.open(<span class="hljs-string">"GET"</span>, <span class="hljs-string">"http://m.youtube.com/watch?ajax=1&amp;feature=related&amp;layout=mobile&amp;tsp=1&amp;&amp;v="</span> + obj.id);
    request.onerror = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
        <span class="hljs-keyword">if</span> (obj.error) {
            obj.error(e);
        }
    };
    request.onload = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
        <span class="hljs-keyword">var</span> qualities = {};
        <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">var</span> fmtarray = <span class="hljs-built_in">JSON</span>.parse(<span class="hljs-built_in">decodeURIComponent</span>(<span class="hljs-keyword">this</span>.responseText.substring(<span class="hljs-number">4</span>, <span class="hljs-keyword">this</span>.responseText.length))).content.video[<span class="hljs-string">'fmt_stream_map'</span>];
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>, j = fmtarray.length; i &lt; j; i++) {
                <span class="hljs-keyword">var</span> data = fmtarray[i];
                <span class="hljs-keyword">var</span> type = <span class="hljs-built_in">decodeURIComponent</span>(data[<span class="hljs-string">'type'</span>]);
                <span class="hljs-keyword">if</span> (type.indexOf(<span class="hljs-string">'mp4'</span>) &gt;= <span class="hljs-number">0</span>) {
                    <span class="hljs-keyword">var</span> url = <span class="hljs-built_in">decodeURIComponent</span>(data[<span class="hljs-string">'url'</span>]);
                    <span class="hljs-keyword">var</span> quality = <span class="hljs-built_in">decodeURIComponent</span>(data[<span class="hljs-string">'quality'</span>]);
                    qualities[quality] = url;
                }
            }
            <span class="hljs-keyword">if</span> (obj.success) {
                obj.success(qualities);
            }
        } <span class="hljs-keyword">catch</span> (e) {
            <span class="hljs-keyword">if</span> (obj.problem) {
                obj.problem();
            }
        }
    }
    request.send(); 
}

<span class="hljs-keyword">var</span> videoPlayer = Titanium.Media.createVideoPlayer({
    autoplay: <span class="hljs-literal">false</span>,
    backgroundColor: <span class="hljs-string">'#13386c'</span>,
    height: Ti.UI.FILL,
    width: Ti.UI.FILL,
    mediaControlStyle: Titanium.Media.VIDEO_CONTROL_DEFAULT,
    scalingMode: Titanium.Media.VIDEO_SCALING_ASPECT_FIT
});
win.add(videoPlayer);


<span class="hljs-keyword">var</span> btnPlay = Ti.UI.createButton({
    title: <span class="hljs-string">'Close'</span>
});
win.setLeftNavButton(btnPlay);

btnPlay.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) </span>{
    win.close();
});

<span class="hljs-keyword">var</span> btnTest = Ti.UI.createButton({
    title: <span class="hljs-string">'Video'</span>
});
win.setRightNavButton(btnTest);

btnTest.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) </span>{

    <span class="hljs-keyword">var</span> youtubeId = getYoutubeID(strLink);
    Ti.API.info(<span class="hljs-string">'Extracted youTubeId is:'</span> + youtubeId);

    youtube({
<span class="hljs-comment">//        id: '8To-6VIJZRE',</span>
        id: youtubeId,
        success: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) </span>{
            Ti.API.info(<span class="hljs-string">'data'</span>, <span class="hljs-built_in">JSON</span>.stringify(e));
            videoPlayer.setUrl(e.medium);
        },
        problem: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) </span>{
            alert(<span class="hljs-built_in">JSON</span>.stringify(e));
        },
        error: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) </span>{
            alert(<span class="hljs-built_in">JSON</span>.stringify(e));
        }
    });
});


    <span class="hljs-keyword">return</span> win;
}

<span class="hljs-built_in">module</span>.exports = vidCaster;
</code></pre><p>Here&#39;s the console output:</p>
<p>[INFO] :  Working with this url:http:&#x2F;&#x2F;www.youtube.com&#x2F;watch?v=soos3rN31Gw&amp;feature=youtube_gdata<br>[INFO] :  Extracted youTubeId is:soos3rN31Gw<br>[INFO] :  data {&quot;small&quot;:&quot;http:&#x2F;&#x2F;r6—sn-p5qlsn7e.c.youtube.com&#x2F;videoplayback?mt=1358826550&amp;mv=m&amp;ms=au&amp;sver=3&amp;yms=T0uYvvFb-kk&amp;dnc=1&amp;key=yt1&amp;signature=6A00C2788E68E812B3929AB4DADE19CF49DDC0E4.C6CCAA96404107B1A76CF2A20B2EB1A915BB510B&amp;newshard=yes&amp;fexp=909712,904448,916611,920704,912806,922403,922405,929901,913605,925710,929104,929110,908493,920201,913302,919009,911116,926403,910221,901451&amp;cp=U0hUTVhPVV9IUkNONF9QSVlBOlg5dFp6ekZlLWpv&amp;id=b28a2cdeb377d46c&amp;expire=1358847038&amp;el=watch&amp;ip=70.161.212.176&amp;itag=36&amp;sparams=cp,id,ip,ipbits,itag,ratebypass,source,upn,expire&amp;source=youtube&amp;upn=kZ1mm63X8Ko&amp;ipbits=8&amp;app=youtube_mobile&amp;ratebypass=yes&quot;}</p>
<p>But nothing plays in the player.  Thx for your help.</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 22nd 2013, 1:57:46 am">January 22nd 2013</span>
											by <span class='authorname'>adebisi oladipupo</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Here&#39;s the screen shot:<br><img src="&#x2F;Users&#x2F;obisi7&#x2F;Desktop&#x2F;videoplayer.png" alt="iphone screenshot"></p>
</p>
										<div class="author">
											&mdash; commented <span title="January 22nd 2013, 2:01:01 am">January 22nd 2013</span>
											by <span class='authorname'>adebisi oladipupo</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>FYI, to narrow down the issue, I provided the youTube ID (soos3rN31Gw) explicitly as you did in your code and still got a blank player with no errors reported. Comparing the output when using your ID and things work to when using my ID and no video, </p>
<p>I noticed that in the data output: data {&quot;small&quot;:&quot;http:&#x2F;&#x2F;r6—sn-p5q7ynez.c.youtube.com&#x2F;videoplayback?key=yt1&amp;ip=70.161.212.176&amp;app=youtube_mobile&amp;itag=36&amp;id=b28a2cdeb377d46c&amp;mt=1358830510&amp;ipbits=8&amp;el=watch&amp;mv=m&amp;ms=au&amp;signature=8A18C9AE5BD540949DD826C345BAD31908465080.1B0F060852A50F98FB01FD7FD7C35704E687BEAC&amp;newshard=yes&amp;sver=3&amp;expire=1358850638&amp;source=youtube&amp;ratebypass=yes&amp;cp=U0hUTVhQTl9IUkNONF9QSlJHOlg5dFp6ekd4LWpv&amp;upn=ec9jPvLnsrc&amp;sparams=cp,id,ip,ipbits,itag,ratebypass,source,upn,expire&amp;yms=T0uYvvFb-kk&amp;fexp=909712,904448,916611,920704,912806,922403,922405,929901,913605,925710,929104,929110,908493,920201,913302,919009,911116,926403,910221,901451&amp;dnc=1&quot;}</p>
<p> quality is small instead of medium.  Not sure if that is the reason for my issue.  I am confused as all the params are in place. Does the youtube video have to be mp4 to work? The youtube videos are of different formats … I am just thinking aloud here for a solution.  Thx for your help.</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 22nd 2013, 3:01:01 am">January 22nd 2013</span>
											by <span class='authorname'>adebisi oladipupo</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>The returned object includes quality parameters which can include more than one value depending on the quality of the original upload.  It may be that you only have small available in your case.  Change;</p>
<pre><code class="hljs"><span class="hljs-tag">videoPlayer</span><span class="hljs-class">.setUrl</span>(<span class="hljs-tag">e</span><span class="hljs-class">.medium</span>);
</code></pre><p>To </p>
<pre><code class="hljs"><span class="hljs-tag">videoPlayer</span><span class="hljs-class">.setUrl</span>(<span class="hljs-tag">e</span><span class="hljs-class">.small</span>);
</code></pre><p>If this works we can create a helper routine to give us back the best resolution available.</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 22nd 2013, 5:40:39 am">January 22nd 2013</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Malcolm, making that change works.  I will appreciate your helper function that returns the best resolution available.</p>
<p>Thanks a bunch. Looking forward.</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 22nd 2013, 11:18:11 am">January 22nd 2013</span>
											by <span class='authorname'>adebisi oladipupo</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Here we go - this is so simple you will love it.</p>
<pre><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getBestResolution</span><span class="hljs-params">(obj)</span> </span>{
    <span class="hljs-keyword">return</span> obj.large || obj.medium || obj.small;
}
</code></pre><p>This says use large is available, if not try medium, if not fall-back to small.  The order is important as it sets the preference.  So you may decide that you would prefer to get medium rather than high due to bandwidth but if there is no medium you will accept high.  Otherwise leave it as it is.</p>
<p>Use as follows;</p>
<pre><code class="hljs"><span class="hljs-tag">videoPlayer</span><span class="hljs-class">.setUrl</span>(<span class="hljs-tag">getBestResolution</span>(<span class="hljs-tag">e</span>));
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="January 22nd 2013, 12:34:22 pm">January 22nd 2013</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I think we have well and truly answered this question now ;-)</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 22nd 2013, 12:34:51 pm">January 22nd 2013</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Yes we have with much thanks to you Malcolm. Case close. Mucho Gracias partner.</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 22nd 2013, 12:58:39 pm">January 22nd 2013</span>
											by <span class='authorname'>adebisi oladipupo</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>As always you are welcome and I look forward to our next outing.</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 22nd 2013, 1:47:48 pm">January 22nd 2013</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-285146">
				
						<section>
							<p>hey i used the same code to but it shows the error in request.onLoad function</p>
<p>here is the code </p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> win = Ti.UI.currentWindow;

<span class="hljs-keyword">var</span> videoPlayer = Titanium.Media.createVideoPlayer({
    autoplay: <span class="hljs-literal">false</span>,
    backgroundColor: <span class="hljs-string">'#000'</span>,
    height: <span class="hljs-number">200</span>,
    width: Ti.UI.FILL,
    mediaControlStyle: Titanium.Media.VIDEO_CONTROL_DEFAULT,
    scalingMode: Titanium.Media.VIDEO_SCALING_ASPECT_FIT
});


win.add(videoPlayer);

<span class="hljs-keyword">var</span> btnPlay = Ti.UI.createButton({
    title: <span class="hljs-string">'Play'</span>,
      top: <span class="hljs-number">10</span>
});
<span class="hljs-comment">//win.setLeftNavButton(btnPlay);</span>
<span class="hljs-comment">//win.setLeftNavButton(btnPlay);</span>
btnPlay.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) </span>{
    videoPlayer.play();
    Ti.API.info(<span class="hljs-string">"inp[ay]"</span>);

});

<span class="hljs-keyword">var</span> btnTest = Ti.UI.createButton({
    title: <span class="hljs-string">'Video'</span>,
    top: <span class="hljs-number">10</span>,
    left : <span class="hljs-number">25</span>
});
<span class="hljs-comment">//win.setRightNavButton(btnTest);</span>
btnTest.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) </span>{
    youtube({
        id: <span class="hljs-string">'8To-6VIJZRE'</span>,
        success: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) </span>{
            Ti.API.info(<span class="hljs-string">'data'</span>, <span class="hljs-built_in">JSON</span>.stringify(e));
            videoPlayer.setUrl(e.medium);
        },
        problem: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) </span>{
            alert(<span class="hljs-built_in">JSON</span>.stringify(e));
            Ti.API.info(<span class="hljs-string">'problem'</span>, <span class="hljs-built_in">JSON</span>.stringify(e));

        },
        error: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) </span>{
            alert(<span class="hljs-built_in">JSON</span>.stringify(e));
            Ti.API.info(<span class="hljs-string">'error'</span>, <span class="hljs-built_in">JSON</span>.stringify(e));

        }
    });
});


<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">youtube</span>(<span class="hljs-params">obj</span>) </span>{ <span class="hljs-comment">//_youtubeId, _callbackOk, _callbackError) { //http://www.youtube.com/watch?v=8To-6VIJZRE</span>
    <span class="hljs-keyword">var</span> request = Titanium.Network.createHTTPClient({
        timeout : <span class="hljs-number">10000</span> <span class="hljs-comment">/* in milliseconds */</span>
    });
    request.setRequestHeader(<span class="hljs-string">"Referer"</span>, <span class="hljs-string">"http://www.youtube.com/watch?v="</span> + obj.id);
    request.open(<span class="hljs-string">"GET"</span>, <span class="hljs-string">"http://m.youtube.com/watch?ajax=1&amp;feature=related&amp;layout=mobile&amp;tsp=1&amp;&amp;v="</span> + obj.id);
    request.onerror = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
        <span class="hljs-keyword">if</span> (obj.error) {
            obj.error(e);
        }
    };
    request.onload = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
        <span class="hljs-keyword">var</span> qualities = {};
         <span class="hljs-keyword">try</span> {
            <span class="hljs-keyword">var</span> fmtarray = <span class="hljs-built_in">JSON</span>.parse(<span class="hljs-built_in">decodeURIComponent</span>(<span class="hljs-keyword">this</span>.responseText.substring(<span class="hljs-number">4</span>, <span class="hljs-keyword">this</span>.responseText.length))).content.video[<span class="hljs-string">'fmt_stream_map'</span>];
            ;
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>, j = fmtarray.length; i &lt; j; i++) {
                <span class="hljs-keyword">var</span> data = fmtarray[i];
                <span class="hljs-keyword">var</span> type = <span class="hljs-built_in">decodeURIComponent</span>(data[<span class="hljs-string">'type'</span>]);
                <span class="hljs-keyword">if</span> (type.indexOf(<span class="hljs-string">'mp4'</span>) &gt;= <span class="hljs-number">0</span>) {
                    <span class="hljs-keyword">var</span> url = <span class="hljs-built_in">decodeURIComponent</span>(data[<span class="hljs-string">'url'</span>]);
                    <span class="hljs-keyword">var</span> quality = <span class="hljs-built_in">decodeURIComponent</span>(data[<span class="hljs-string">'quality'</span>]);
                    qualities[quality] = url;
                }
            }
            <span class="hljs-keyword">if</span> (obj.success) {
                obj.success(qualities);
            }
        } <span class="hljs-keyword">catch</span> (e) {
            <span class="hljs-keyword">if</span> (obj.problem) {
                obj.problem();
            }
        }
    };
    request.send(); 
}
win.add(btnPlay);
win.add(btnTest);
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="January 15th 2015, 4:59:12 am">January 15th 2015</span>
								by <span class='authorname'>vishal ghadge</span><br>
								<a class="icon-bg icon-link" href="question/147094/playing-videos-from-a-youtube-channel.html#answer-285146" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
