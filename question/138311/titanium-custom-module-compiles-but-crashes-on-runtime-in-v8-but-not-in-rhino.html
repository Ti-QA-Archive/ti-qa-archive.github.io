<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Titanium Custom Module Compiles But Crashes on runtime in V8 but not in Rhino » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Titanium Custom Module Compiles But Crashes on runtime in V8 but not in Rhino</h1>
		</header>
		<section>
			<p>My custom module compiles fine but when i run it using titanium sdk 2.0.1GA2 and V8 Runtime environment it crashes and terminal gives the following log. But If i select the Rhino Runtime the application runs fine and so is my custom module.<br>Hope to get a response. Thanks.</p>
<pre><code class="hljs">[<span class="hljs-link_label">ERROR</span>][<span class="hljs-link_reference">TiApplication(  784)</span>] (KrollRuntimeThread) [1569,1569] APP PROXY: ti.modules.titanium.app.AppModule@44fcc620
[<span class="hljs-link_label">WARN</span>][<span class="hljs-link_reference">V8Object(  784)</span>] Runtime disposed, cannot set property 'userAgent'
[<span class="hljs-link_label">WARN</span>][<span class="hljs-link_reference">dalvikvm(  784)</span>] threadid=8: thread exiting with uncaught exception (group=0x4001d800)
[<span class="hljs-link_label">ERROR</span>][<span class="hljs-link_reference">TiApplication(  784)</span>] (KrollRuntimeThread) [333,1902] Sending event: exception on thread: KrollRuntimeThread msg:java.lang.UnsatisfiedLinkError: Library com.aadils.heromodule not found; Titanium 2.0.1,2012/04/12 16:36,999c68a
[<span class="hljs-link_label">ERROR</span>][<span class="hljs-link_reference">TiApplication(  784)</span>] java.lang.UnsatisfiedLinkError: Library com.aadils.heromodule not found
[<span class="hljs-link_label">ERROR</span>][<span class="hljs-link_reference">TiApplication(  784)</span>]     at java.lang.Runtime.loadLibrary(Runtime.java:461)
[<span class="hljs-link_label">ERROR</span>][<span class="hljs-link_reference">TiApplication(  784)</span>]     at java.lang.System.loadLibrary(System.java:557)
[<span class="hljs-link_label">ERROR</span>][<span class="hljs-link_reference">TiApplication(  784)</span>]     at org.appcelerator.kroll.runtime.v8.V8Runtime.loadExternalModules(V8Runtime.java:106)
[<span class="hljs-link_label">ERROR</span>][<span class="hljs-link_reference">TiApplication(  784)</span>]     at org.appcelerator.kroll.runtime.v8.V8Runtime.initRuntime(V8Runtime.java:72)
[<span class="hljs-link_label">ERROR</span>][<span class="hljs-link_reference">TiApplication(  784)</span>]     at org.appcelerator.kroll.KrollRuntime.doInit(KrollRuntime.java:163)
[<span class="hljs-link_label">ERROR</span>][<span class="hljs-link_reference">TiApplication(  784)</span>]     at org.appcelerator.kroll.KrollRuntime$KrollRuntimeThread.run(KrollRuntime.java:101)
[<span class="hljs-link_label">ERROR</span>][<span class="hljs-link_reference">AndroidRuntime(  784)</span>] FATAL EXCEPTION: KrollRuntimeThread
[<span class="hljs-link_label">ERROR</span>][<span class="hljs-link_reference">AndroidRuntime(  784)</span>] java.lang.UnsatisfiedLinkError: Library com.aadils.heromodule not found
[<span class="hljs-link_label">ERROR</span>][<span class="hljs-link_reference">AndroidRuntime(  784)</span>]     at java.lang.Runtime.loadLibrary(Runtime.java:461)
[<span class="hljs-link_label">ERROR</span>][<span class="hljs-link_reference">AndroidRuntime(  784)</span>]     at java.lang.System.loadLibrary(System.java:557)
[<span class="hljs-link_label">ERROR</span>][<span class="hljs-link_reference">AndroidRuntime(  784)</span>]     at org.appcelerator.kroll.runtime.v8.V8Runtime.loadExternalModules(V8Runtime.java:106)
[<span class="hljs-link_label">ERROR</span>][<span class="hljs-link_reference">AndroidRuntime(  784)</span>]     at org.appcelerator.kroll.runtime.v8.V8Runtime.initRuntime(V8Runtime.java:72)
[<span class="hljs-link_label">ERROR</span>][<span class="hljs-link_reference">AndroidRuntime(  784)</span>]     at org.appcelerator.kroll.KrollRuntime.doInit(KrollRuntime.java:163)
[<span class="hljs-link_label">ERROR</span>][<span class="hljs-link_reference">AndroidRuntime(  784)</span>]     at org.appcelerator.kroll.KrollRuntime$KrollRuntimeThread.run(KrollRuntime.java:101)
</code></pre>
		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="June 14th 2012, 12:41:04 am">June 14th 2012</span>
				by <span class='authorname'>Aadil Farooq</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>crash</span></li>
					
						<li><span class='tagname'>custom</span></li>
					
						<li><span class='tagname'>emulator</span></li>
					
						<li><span class='tagname'>module</span></li>
					
				</ul>
			

			<section>
				<h5>5 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Missing from your question are a number of important pieces of information. I suggest you take a look at the <a href="https:&#x2F;&#x2F;wiki.appcelerator.org&#x2F;display&#x2F;guides&#x2F;Using+Questions+and+Answers">Using Questions and Answers</a> article, specifically the Q&amp;A Question Checklist.  The missing information is critical to reproducing problems in a test environment and often indicates other factors that cause the undesirable outcome you are experiencing.</p>
</div>
							<div class="author">
								&mdash; commented <span title="June 14th 2012, 12:51:23 am">June 14th 2012</span>
								by <span class='authorname'>Stephen Feather</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>While you have posted the error, we have no context regarding it.  What platform are you on? What android API level are you targeting? etc.</p>
<p>Additionally, some context about &#39;userAgent&#39; could be helpful.  For example, is it userAgent in one place, but you call it useragent someplace else and one engine complains about the case difference, and the other doesn&#39;t.</p>
</div>
							<div class="author">
								&mdash; commented <span title="June 14th 2012, 12:53:44 am">June 14th 2012</span>
								by <span class='authorname'>Stephen Feather</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>And this looks awfully similar to <a href="http:&#x2F;&#x2F;developer.appcelerator.com&#x2F;question&#x2F;138265&#x2F;javalangunsatisfiedlinkerror-library-comalphonsotestmodule-not-found">java.lang.UnsatisfiedLinkError: Library com.alphonso.testmodule not found</a> posted 18 hours ago under a different user name.</p>
</div>
							<div class="author">
								&mdash; commented <span title="June 14th 2012, 12:57:25 am">June 14th 2012</span>
								by <span class='authorname'>Stephen Feather</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Thanks for the reply Stephen.</p>
<p>Application type: mobile<br>Titanium SDK version: 2.0.1 (04&#x2F;12&#x2F;12 16:33 999c68a)<br>Platform &amp; version: Android 2.2, Windows 7<br>Device: Both Android emulator and physical device model(Google Nexus S)<br>Host Operating System: Windows 7<br>Titanium Studio, build: 2.0.2.201205311912</p>
<p>I have made a titanium module for Android from Eclipse(android module, module version 2.0.1, ndkr8). Built it through ant and then added it to titanium mobile project by copying into the module directory and adding module in tiapp.xml.<br>But whats happening now is that the module runs with the project fine if Rhino Runtime Engine is selected by for V8 it crashes as soon as splash screen come with &#39;Force Close&#39; message box.</p>
<p>Logs: <em>given above</em></p>
</div>
							<div class="author">
								&mdash; commented <span title="June 14th 2012, 1:40:25 am">June 14th 2012</span>
								by <span class='authorname'>Aadil Farooq</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>i have the same issue. </p>
<p>Let me check whether mine runs under Rhino . But how to change to Rhino Runtime from V8?</p>
</div>
							<div class="author">
								&mdash; commented <span title="October 24th 2013, 4:59:06 am">October 24th 2013</span>
								by <span class='authorname'>Abhishek Prabhakar</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-240843">
				
						<section>
							<p>Just got it resolved! Actually i was not compiling my module the right way. It was saying that [modulename]&#x2F;build&#x2F;generated&#x2F;libs was not found. But when i didnt saw the error and manually added the lib. It compiled but my module crashed when i import it in a project under v8 runtime.<br> I got it resolved by removing spaces from my module file path and also installing &#39;gperf&#39; on windows and setting &#39;gperf&#39; path in my environment variables.</p>
<p>Thanks Stephen for your time…</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="June 14th 2012, 4:11:29 am">June 14th 2012</span>
								by <span class='authorname'>Aadil Farooq</span><br>
								<a class="icon-bg icon-link" href="../../question/138311/titanium-custom-module-compiles-but-crashes-on-runtime-in-v8-but-not-in-rhino.html#answer-240843" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>i have the same issue. </p>
<p>Where can i find the module path?</p>
</p>
										<div class="author">
											&mdash; commented <span title="October 24th 2013, 5:03:47 am">October 24th 2013</span>
											by <span class='authorname'>Abhishek Prabhakar</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>2</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-240834">
				
						<section>
							<p>Try renaming all your project source files to lower case.  If the source of &#39;your module&#39; which a bunch of other people all seem to be using (same training course?) came from a system that case sensitive then you try to run it on a system that is case insensitive it might just fail.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="June 14th 2012, 1:01:27 am">June 14th 2012</span>
								by <span class='authorname'>Stephen Feather</span><br>
								<a class="icon-bg icon-link" href="../../question/138311/titanium-custom-module-compiles-but-crashes-on-runtime-in-v8-but-not-in-rhino.html#answer-240834" rel="permalink">permalink</a>
							</div>

							<h5>6 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>that sound snippy, didn&#39;t it?  Wasn&#39;t intended to be.</p>
</p>
										<div class="author">
											&mdash; commented <span title="June 14th 2012, 1:39:00 am">June 14th 2012</span>
											by <span class='authorname'>Stephen Feather</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Am i still missing on some info? This was my first post on titanium…</p>
</p>
										<div class="author">
											&mdash; commented <span title="June 14th 2012, 1:43:24 am">June 14th 2012</span>
											by <span class='authorname'>Aadil Farooq</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>What are the file names in your module?</p>
</p>
										<div class="author">
											&mdash; commented <span title="June 14th 2012, 2:16:01 am">June 14th 2012</span>
											by <span class='authorname'>Stephen Feather</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>names of src files of module: <em>ArabicReshaper.java, ArabicUtilities.java, ArtestModule.java and ExampleProxy.java</em></p>
</p>
										<div class="author">
											&mdash; commented <span title="June 14th 2012, 2:31:14 am">June 14th 2012</span>
											by <span class='authorname'>Aadil Farooq</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>When i was building the module through ant it gave me error that libs directory not found at build&#x2F;generated&#x2F;libs… so i added it manually. and then it worked fine</p>
</p>
										<div class="author">
											&mdash; commented <span title="June 14th 2012, 2:38:10 am">June 14th 2012</span>
											by <span class='authorname'>Aadil Farooq</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>and here is how my build.properties look like</p>
<pre><code class="hljs">titanium.sdk=C:<span class="hljs-command">\\</span>Users<span class="hljs-command">\\</span>Aadil<span class="hljs-command">\\</span>AppData<span class="hljs-command">\\</span>Roaming<span class="hljs-command">\\</span>Titanium<span class="hljs-command">\\</span>mobilesdk<span class="hljs-command">\\</span>win32<span class="hljs-command">\\</span>2.0.1.GA2<span class="hljs-command">\\</span>android
titanium.os=android
titanium.version=2.0.1.GA2
android.sdk=D:<span class="hljs-command">\\</span>Setups<span class="hljs-command">\\</span>Development tools<span class="hljs-command">\\</span>Android Mobile Dev Kit<span class="hljs-command">\\</span>Android toolkit<span class="hljs-command">\\</span>android sdk<span class="hljs-command">\\</span>android-sdk-windows

titanium.platform=C:<span class="hljs-command">\\</span>Users<span class="hljs-command">\\</span>Aadil<span class="hljs-command">\\</span>AppData<span class="hljs-command">\\</span>Roaming<span class="hljs-command">\\</span>Titanium<span class="hljs-command">\\</span>mobilesdk<span class="hljs-command">\\</span>win32<span class="hljs-command">\\</span>2.0.1.GA2<span class="hljs-command">\\</span>android
android.platform=D:<span class="hljs-command">\\</span>Setups<span class="hljs-command">\\</span>Development tools<span class="hljs-command">\\</span>Android Mobile Dev Kit<span class="hljs-command">\\</span>Android toolkit<span class="hljs-command">\\</span>android sdk<span class="hljs-command">\\</span>android-sdk-windows<span class="hljs-command">\\</span>platforms<span class="hljs-command">\\</span>android-8
google.apis=D:<span class="hljs-command">\\</span>Setups<span class="hljs-command">\\</span>Development tools<span class="hljs-command">\\</span>Android Mobile Dev Kit<span class="hljs-command">\\</span>Android toolkit<span class="hljs-command">\\</span>android sdk<span class="hljs-command">\\</span>android-sdk-windows<span class="hljs-command">\\</span>add-ons<span class="hljs-command">\\</span>addon_google_apis_google_inc_8

android.ndk=D:<span class="hljs-command">\\</span>android-ndk-r8
</code></pre><p>Hope I have provided required info. </p>
<p>Thanks….</p>
</p>
										<div class="author">
											&mdash; commented <span title="June 14th 2012, 2:43:50 am">June 14th 2012</span>
											by <span class='authorname'>Aadil Farooq</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>-1</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
