<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>After updating Titanium signed APK won&#39;t install. » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>After updating Titanium signed APK won&#39;t install.</h1>
		</header>
		<section>
			<p>I&#39;m using Titanium Studio, build: 3.2.0.201312191547</p>
<p>I&#39;ve been trying to figure this out for two days now. I don&#39;t see how it could be related to upgrading Titanium however, the breakage seems to coincide with that event. I always used shell script to sign my app-unsigned.apk file before releasing it. My apk is not on the play store. Anyway, now when I sign the apk using my shell script I get the error &quot;Package with that name and different signature already installed.&quot;</p>
<p>I&#39;ve tried letting Titanium Studio sign it for me with my provided keystore file and I get the same results. The keystore file has not been modified and neither has the shell script.</p>
<p>As I said earlier, I really don&#39;t think this has anything to do with Titanium itself, but I can&#39;t think of anything else to try. Anyone else had a similar problem?</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="January 21st 2014, 7:20:39 pm">January 21st 2014</span>
				by <span class='authorname'>Clifton Newton</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>titanium studio</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-274220">
				
						<section>
							<p>Hello Clifton, </p>
<h2 id="bug-report">Bug Report</h2>
<p>As you mentioned, there is an issue with the signing (build package for distribution). Because of that, I added an issue: <a href="https:&#x2F;&#x2F;jira.appcelerator.org&#x2F;browse&#x2F;TISTUD-6075">https:&#x2F;&#x2F;jira.appcelerator.org&#x2F;browse&#x2F;TISTUD-6075</a></p>
<h2 id="workaround">Workaround</h2>
<p>Right now there is no workaround for this, I will look for one. </p>
<p>Let us know if you can provide more information about the way you reproduce the issue. </p>
<p>Thanks for helping us improve the platform!</p>
<p>Best,</p>
<p>Mauro</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="January 21st 2014, 10:49:56 pm">January 21st 2014</span>
								by <span class='authorname'>Mauro Parra</span><br>
								<a class="icon-bg icon-link" href="question/161780/after-updating-titanium-signed-apk-wont-install.html#answer-274220" rel="permalink">permalink</a>
							</div>

							<h5>2 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>I&#39;m not getting that particular error. What happens to me is that when Titanium finishes signing the apk it fails to install it on the device because a previous copy is already installed and (apparently) has a different signature. The previous copy was signed with a shell script I wrote. However, this shell script uses the exact same procedure as Titanium (according to the console output). I know that I could just uninstall the old apk to get the new one to install but the problem is that we already have this on multiple devices across the state and I would have to call and guide someone through uninstalling, downloading and installing on each device. Anyway, this is my console output. I have only included the portion that pertains to the signing and installing the apk.</p>
<pre><code class="hljs"><span class="hljs-special">[</span>INFO<span class="hljs-special">]</span> :   Creating unsigned apk
<span class="hljs-special">[</span>INFO<span class="hljs-special">]</span> :   Processing C:<span class="hljs-command">\SSProjects</span><span class="hljs-command">\android</span><span class="hljs-command">\TTMobileAlloy</span><span class="hljs-command">\build</span><span class="hljs-command">\android</span><span class="hljs-command">\src</span>
<span class="hljs-special">[</span>INFO<span class="hljs-special">]</span> :   Writing unsigned apk: C:<span class="hljs-command">\SSProjects</span><span class="hljs-command">\android</span><span class="hljs-command">\TTMobileAlloy</span><span class="hljs-command">\build</span><span class="hljs-command">\android</span><span class="hljs-command">\bin</span><span class="hljs-command">\app</span>-unsigned.apk
<span class="hljs-special">[</span>INFO<span class="hljs-special">]</span> :   Determining signature algorithm: C:<span class="hljs-command">\Progra</span><span class="hljs-special">~</span>1<span class="hljs-command">\Java</span><span class="hljs-command">\jdk</span>1.6.0_38<span class="hljs-command">\bin</span><span class="hljs-command">\keytool</span>.exe "-J-Duser.language=en" "-v" "-list" "-keystore" "C:<span class="hljs-command">\SSProjects</span><span class="hljs-command">\android</span><span class="hljs-command">\TTMobileAlloy</span><span class="hljs-command">\privateKey</span><span class="hljs-command">\ttMobileAlloy</span>.keystore" "-storepass" "********" "-alias" "ttMobileAlloy"
<span class="hljs-special">[</span>INFO<span class="hljs-special">]</span> :   Using SHA1withRSA signature algorithm
<span class="hljs-special">[</span>INFO<span class="hljs-special">]</span> :   Signing apk: C:<span class="hljs-command">\Progra</span><span class="hljs-special">~</span>1<span class="hljs-command">\Java</span><span class="hljs-command">\jdk</span>1.6.0_38<span class="hljs-command">\bin</span><span class="hljs-command">\jarsigner</span>.exe "-sigalg" "SHA1withRSA" "-digestalg" "SHA1" "-keystore" "C:<span class="hljs-command">\SSProjects</span><span class="hljs-command">\android</span><span class="hljs-command">\TTMobileAlloy</span><span class="hljs-command">\privateKey</span><span class="hljs-command">\ttMobileAlloy</span>.keystore" "-storepass" "********" "-signedjar" "C:<span class="hljs-command">\SSProjects</span><span class="hljs-command">\android</span><span class="hljs-command">\TTMobileAlloy</span><span class="hljs-command">\build</span><span class="hljs-command">\android</span><span class="hljs-command">\bin</span><span class="hljs-command">\Transitrak</span>.apk" "C:<span class="hljs-command">\SSProjects</span><span class="hljs-command">\android</span><span class="hljs-command">\TTMobileAlloy</span><span class="hljs-command">\build</span><span class="hljs-command">\android</span><span class="hljs-command">\bin</span><span class="hljs-command">\app</span>-unsigned.apk" "ttMobileAlloy"
<span class="hljs-special">[</span>INFO<span class="hljs-special">]</span> :   Aligning zip file: C:<span class="hljs-command">\Android</span>_SDK<span class="hljs-command">\tools</span><span class="hljs-command">\zipalign</span>.exe "-v" "4" "C:<span class="hljs-command">\SSProjects</span><span class="hljs-command">\android</span><span class="hljs-command">\TTMobileAlloy</span><span class="hljs-command">\build</span><span class="hljs-command">\android</span><span class="hljs-command">\bin</span><span class="hljs-command">\Transitrak</span>.apk" "C:<span class="hljs-command">\SSProjects</span><span class="hljs-command">\android</span><span class="hljs-command">\TTMobileAlloy</span><span class="hljs-command">\build</span><span class="hljs-command">\android</span><span class="hljs-command">\bin</span><span class="hljs-command">\Transitrak</span>.apkz"
<span class="hljs-special">[</span>INFO<span class="hljs-special">]</span> :   Writing build manifest: C:<span class="hljs-command">\SSProjects</span><span class="hljs-command">\android</span><span class="hljs-command">\TTMobileAlloy</span><span class="hljs-command">\build</span><span class="hljs-command">\android</span><span class="hljs-command">\build</span>-manifest.json
<span class="hljs-special">[</span>INFO<span class="hljs-special">]</span> :   Making sure the adb server is running
<span class="hljs-special">[</span>INFO<span class="hljs-special">]</span> :   Removing deploy.json from SD card
<span class="hljs-special">[</span>INFO<span class="hljs-special">]</span> :   Installing apk: C:<span class="hljs-command">\SSProjects</span><span class="hljs-command">\android</span><span class="hljs-command">\TTMobileAlloy</span><span class="hljs-command">\build</span><span class="hljs-command">\android</span><span class="hljs-command">\bin</span><span class="hljs-command">\Transitrak</span>.apk
<span class="hljs-special">[</span>INFO<span class="hljs-special">]</span> :   Installing app on device: SCH-I915
<span class="hljs-special">[</span>ERROR<span class="hljs-special">]</span> Application Installer abnormal process termination. Process exit value was 1
<span class="hljs-special">[</span>ERROR<span class="hljs-special">]</span> :  Failed to install apk on "d20c033d"
</code></pre><p>Also, here is the shell script I&#39;ve been using to sign the apk.</p>
<pre><code class="hljs">rm ./ttMobileAlloy.apk<span class="hljs-comment">;</span>
mv ./app-unsigned.apk ./ttMobileAlloy.apk<span class="hljs-comment">;</span>
jarsigner -verbose -sigalg SHA1withRSA -digestalg SHA1 -keystore ttMobileAlloy.keystore ttMobileAlloy.apk ttMobileAlloy<span class="hljs-comment">;</span>
zipalign -v 4 ttMobileAlloy.apk ttMobileAlloy-aligned.apk<span class="hljs-comment">;</span>
rm ./ttMobileAlloy.apk<span class="hljs-comment">;</span>
mv ./ttMobileAlloy-aligned.apk ./ttMobileAlloy.apk<span class="hljs-comment">;</span>
</code></pre><p>Just a reminder; I have tried signing the apk myself with my shell script and I&#39;ve tried letting Titanium sign it and I get the same results in both situations.</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 22nd 2014, 12:31:39 pm">January 22nd 2014</span>
											by <span class='authorname'>Clifton Newton</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Hello Clifton,</p>
<p>the error related to &quot;can&#39;t install this new apk, since there is one with a different signature&quot; is a native issue, for you an error, but in general a security policy so no other app can &#39;impersonate&#39; yours. </p>
<p>There is no workaround for that, since is a security measure in Android. </p>
<p>Best,</p>
<p>Mauro</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 22nd 2014, 5:38:54 pm">January 22nd 2014</span>
											by <span class='authorname'>Mauro Parra</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-288002">
				
						<section>
							<p>Try installing the manually using &quot;adb install …&quot; and you might see the actual error that is preventing the app from being installed. In my case, the app was already installed on my Android under another user profile and I had to uninstall it from all users in the phone. I am using Lollipop</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="September 12th 2015, 3:21:27 am">September 12th 2015</span>
								by <span class='authorname'>WebMaster Idéeclic</span><br>
								<a class="icon-bg icon-link" href="question/161780/after-updating-titanium-signed-apk-wont-install.html#answer-288002" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
