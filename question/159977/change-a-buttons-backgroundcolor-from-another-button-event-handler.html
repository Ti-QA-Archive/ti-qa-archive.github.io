<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Change a buttons backgroundColor from another button event handler » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Change a buttons backgroundColor from another button event handler</h1>
		</header>
		<section>
			<p>I&#39;m trying to change a buttons backgroundColor from the onClick event of another button but it does not change. I have checked with the debuger that I&#39;m trying to modify the correct property. What&#39;s the problem?</p>
<p>Application type: mobile<br>Titanium SDK:3.1.3GA<br>Platform &amp; version: Android 2.3.3<br>Titanium Studio : 3.1.3.201309132423</p>
<p>Sample code :</p>
<p>var ME_Button is global.</p>
<p>if(CommentButton.backgroundColor == &quot;#FF8080&quot;)<br>{<br>    CommentButton.backgroundColor = &quot;#FF0000&quot;;<br>    Using_XWRIS = true;<br>    if(Using_ME == true)<br>    {<br>        Using_ME = false;<br>        &#x2F;&#x2F; Find the control and change its color<br>        &#x2F;&#x2F;var The_Button = FindControlByTextInView(CommentButton.getParent(), &quot;??:&quot;);<br>        ME_Button.backgroundColor == &quot;#80FF80&quot;;<br>    }<br>}<br>else<br>{<br>    CommentButton.backgroundColor = &quot;#FF8080&quot;;<br>    Using_XWRIS = false;<br>}    </p>
<p>Thanks</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="November 30th 2013, 7:55:40 am">November 30th 2013</span>
				by <span class='authorname'>Antony Kladogenis</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>backgroundcolor</span></li>
					
						<li><span class='tagname'>button</span></li>
					
						<li><span class='tagname'>onclick</span></li>
					
				</ul>
			

			<section>
				<h5>1 Comment</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><pre><code class="hljs"><span class="hljs-keyword">if</span> (CommentButton.backgroundColor == <span class="hljs-string">"<span class="hljs-subst">#FF8080</span>"</span>) {
    CommentButton.backgroundColor = <span class="hljs-string">"<span class="hljs-subst">#FF0000</span>"</span>;
    Using_XWRIS = <span class="hljs-literal">true</span>;

    <span class="hljs-keyword">if</span>(Using_ME == <span class="hljs-literal">true</span>) {
        Using_ME = <span class="hljs-literal">false</span>; <span class="hljs-pi">// Find the control and change its color
        //</span><span class="hljs-keyword">var</span> The_Button = FindControlByTextInView(CommentButton.getParent(), <span class="hljs-string">"??:"</span>);
        ME_Button.backgroundColor == <span class="hljs-string">"#80FF80"</span>; }

    } <span class="hljs-keyword">else</span> {
        CommentButton.backgroundColor = <span class="hljs-string">"<span class="hljs-subst">#FF8080</span>"</span>;
        Using_XWRIS = <span class="hljs-literal">false</span>;
    }
}
</code></pre><p>This is not an answer to your question yet; for better readability here, you can pretty-print code snippets with markdown syntax: put code between two lines made of three ~ characters.</p>
<p>The code you provide is not enough (for me) to understand the cause of your problem, sorry.</p>
</div>
							<div class="author">
								&mdash; commented <span title="November 30th 2013, 8:29:52 am">November 30th 2013</span>
								by <span class='authorname'>patrick demarta</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>3</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>3 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-271942">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<pre><code class="hljs">var win = Ti.UI.createWindow({
    <span class="hljs-string">backgroundColor :</span> <span class="hljs-string">'white'</span>
});

var b1 = Ti.UI.createButton({
    <span class="hljs-string">top :</span> <span class="hljs-number">10</span>,
    <span class="hljs-string">width :</span> <span class="hljs-number">200</span>,
    <span class="hljs-string">height :</span> <span class="hljs-number">50</span>,
    <span class="hljs-string">backgroundColor :</span> <span class="hljs-string">'green'</span>
});

var b2 = Ti.UI.createButton({
    <span class="hljs-string">top :</span> <span class="hljs-number">200</span>,
    <span class="hljs-string">width :</span> <span class="hljs-number">200</span>,
    <span class="hljs-string">height :</span> <span class="hljs-number">50</span>,
    <span class="hljs-string">backgroundColor :</span> <span class="hljs-string">'red'</span>
});

b1.addEventListener(<span class="hljs-string">'click'</span>, function() {

    b2.backgroundColor = <span class="hljs-string">'yellow'</span>;
});
win.add(b1);
win.add(b2);
win.open();
</code></pre><p>works for me</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="November 30th 2013, 8:03:31 am">November 30th 2013</span>
								by <span class='authorname'>Nick Milner</span><br>
								<a class="icon-bg icon-link" href="question/159977/change-a-buttons-backgroundcolor-from-another-button-event-handler#answer-271942" rel="permalink">permalink</a>
							</div>

							<h5>4 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>This is also my approach. However it is not working. The code I attached is the event handler of one of the buttons. Are you sure what you posted works?</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 30th 2013, 2:33:51 pm">November 30th 2013</span>
											by <span class='authorname'>Antony Kladogenis</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Yes, create a new project (non-alloy) and paste in that code. works perfectly. You dont show enough of your code for us to tell what&#39;s wrong</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 30th 2013, 2:41:56 pm">November 30th 2013</span>
											by <span class='authorname'>Nick Milner</span>
										</div>
									</li>
								
									<li class="comment">
										<p><pre><code class="hljs">Titanium.UI.setBackgroundColor(<span class="hljs-string">'#000'</span>);

<span class="hljs-keyword">var</span> win = Ti.UI.createWindow({
    title : <span class="hljs-string">'Moble Web Test'</span>,
    backgroundColor : <span class="hljs-string">'#fff'</span>
});
<span class="hljs-keyword">var</span> Using_ME = <span class="hljs-literal">false</span>;
<span class="hljs-keyword">var</span> Using_XWRIS = <span class="hljs-literal">false</span>;

<span class="hljs-keyword">var</span> CommentButton = Ti.UI.createButton({
    title : <span class="hljs-string">'CommentButton'</span>,
    height : <span class="hljs-string">'auto'</span>,
    width : <span class="hljs-string">'auto'</span>,
    top : <span class="hljs-number">50</span>,
    left : <span class="hljs-number">50</span>
});

<span class="hljs-comment">// Listen for click events.</span>
CommentButton.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
    Using_ME = <span class="hljs-literal">true</span>;
    colorChange();

});

<span class="hljs-comment">// Add to the parent view.</span>
win.add(CommentButton);

<span class="hljs-keyword">var</span> ME_Button = Ti.UI.createButton({
    title : <span class="hljs-string">'ME_Button'</span>,
    height : <span class="hljs-string">'auto'</span>,
    width : <span class="hljs-string">'auto'</span>,
    top : <span class="hljs-number">250</span>,
    left : <span class="hljs-number">50</span>
});

<span class="hljs-comment">// Listen for click events.</span>
ME_Button.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
    Using_XWRIS = <span class="hljs-literal">true</span>;
    colorChange();
});

<span class="hljs-comment">// Add to the parent view.</span>
win.add(ME_Button);

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">colorChange</span><span class="hljs-params">()</span> </span>{

    <span class="hljs-keyword">if</span> (Using_ME == <span class="hljs-literal">true</span>) {
        Using_ME = <span class="hljs-literal">false</span>;
        Using_XWRIS = <span class="hljs-literal">true</span>;
        ME_Button.backgroundColor = <span class="hljs-string">"#80FF80"</span>;
    } <span class="hljs-keyword">else</span> {
        CommentButton.backgroundColor = <span class="hljs-string">"#FF8080"</span>;
        Using_XWRIS = <span class="hljs-literal">false</span>;
        Using_ME = <span class="hljs-literal">true</span>;
    }
}

win.open();
</code></pre><p>This works for me</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 30th 2013, 3:12:26 pm">November 30th 2013</span>
											by <span class='authorname'>Nick Milner</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Your right. The bug was in the line </p>
<pre><code class="hljs"><span class="hljs-constant">ME_Button.backgroundColor</span> == <span class="hljs-string">"#80FF80"</span>;
</code></pre><p>Instead of = I used == :-( ….</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 30th 2013, 7:04:12 pm">November 30th 2013</span>
											by <span class='authorname'>Antony Kladogenis</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-271948">
				
						<section>
							<p>Titanium.UI.setBackgroundColor(&#39;#000&#39;);<br>var win=Ti.UI.createWindow({<br>    title:&#39;Moble Web Test&#39;,<br>    backgroundColor:&#39;#fff&#39;<br>});<br>var Using_ME = false;<br>var Using_XWRIS = false;</p>
<p>var CommentButton = Ti.UI.createButton({<br>    title : &#39;CommentButton&#39;,<br>    height : &#39;auto&#39;,<br>    width : &#39;auto&#39;,<br>    top : 50,<br>    left : 50<br>});</p>
<p>&#x2F;&#x2F; Listen for click events.<br>CommentButton.addEventListener(&#39;click&#39;, function() {<br>Using_ME = true;<br>colorChange();</p>
<p>});</p>
<p>&#x2F;&#x2F; Add to the parent view.<br>win.add(CommentButton);</p>
<p>var ME_Button = Ti.UI.createButton({<br>    title : &#39;ME_Button&#39;,<br>    height : &#39;auto&#39;,<br>    width : &#39;auto&#39;,<br>    top : 250,<br>    left : 50<br>});</p>
<p>&#x2F;&#x2F; Listen for click events.<br>ME_Button.addEventListener(&#39;click&#39;, function() {<br>Using_XWRIS = true;<br>colorChange();<br>});</p>
<p>&#x2F;&#x2F; Add to the parent view.<br>win.add(ME_Button);</p>
<p>function colorChange()<br>{<br>    if(Using_ME == true)<br>    {<br>        Using_ME = false;<br>        Using_XWRIS = true;<br>        ME_Button.backgroundColor = &quot;#80FF80&quot;;<br>    }<br>    else<br>    {<br>        CommentButton.backgroundColor = &quot;#FF8080&quot;;<br>        Using_XWRIS = false;<br>        Using_ME = true;<br>    }<br>}</p>
<p>win.open();</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="November 30th 2013, 11:38:37 am">November 30th 2013</span>
								by <span class='authorname'>Amimul Hossain</span><br>
								<a class="icon-bg icon-link" href="question/159977/change-a-buttons-backgroundcolor-from-another-button-event-handler#answer-271948" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>The code I attached it the event handler of one of the buttons. Although it changes the color of the button that sent the event it fails to change the color of the other button.</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 30th 2013, 2:44:58 pm">November 30th 2013</span>
											by <span class='authorname'>Antony Kladogenis</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-271964">
				
						<section>
							<p>&#x2F;&#x2F;Try this and it will work for both button</p>
<pre><code class="hljs">
Titanium.UI.setBackgroundColor(<span class="hljs-string">'#000'</span>); 
<span class="hljs-keyword">var</span> win=Ti.UI.createWindow({ 
    title:<span class="hljs-string">'Moble Web Test'</span>, 
    backgroundColor:<span class="hljs-string">'#fff'</span> }); 
    <span class="hljs-keyword">var</span> Using_ME = <span class="hljs-literal">false</span>; 
    <span class="hljs-keyword">var</span> Using_XWRIS = <span class="hljs-literal">false</span>;

<span class="hljs-keyword">var</span> CommentButton = Ti.UI.createButton({ 
    title : <span class="hljs-string">'CommentButton'</span>, height : <span class="hljs-string">'auto'</span>,
     width : <span class="hljs-string">'auto'</span>, top : <span class="hljs-number">50</span>, left : <span class="hljs-number">50</span> 
    });

 CommentButton.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> 
 </span>{ 
     Using_ME = <span class="hljs-literal">true</span>; colorChange();

})


win.add(CommentButton);

<span class="hljs-keyword">var</span> ME_Button = Ti.UI.createButton({ 
    title : <span class="hljs-string">'ME_Button'</span>, height : <span class="hljs-string">'auto'</span>, width : <span class="hljs-string">'auto'</span>, top : <span class="hljs-number">250</span>, left : <span class="hljs-number">50</span> });


ME_Button.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{ Using_XWRIS = <span class="hljs-literal">true</span>; colorChange(); });


win.add(ME_Button);

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">colorChange</span><span class="hljs-params">()</span> 
</span>{ 
    <span class="hljs-keyword">if</span>(Using_ME == <span class="hljs-literal">true</span>) 
    { 
        Using_ME = <span class="hljs-literal">false</span>; 
        Using_XWRIS = <span class="hljs-literal">true</span>; ME_Button.backgroundColor = <span class="hljs-string">"#80FF80"</span>; 
    } <span class="hljs-keyword">else</span> 
    { 
        CommentButton.backgroundColor = <span class="hljs-string">"#FF8080"</span>;
        Using_XWRIS = <span class="hljs-literal">false</span>;
         Using_ME = <span class="hljs-literal">true</span>; 

    } 
}



win.open();
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="December 1st 2013, 1:45:45 am">December 1st 2013</span>
								by <span class='authorname'>Amimul Hossain</span><br>
								<a class="icon-bg icon-link" href="question/159977/change-a-buttons-backgroundcolor-from-another-button-event-handler#answer-271964" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
