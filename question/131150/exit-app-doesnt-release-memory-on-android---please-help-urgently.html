<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Exit App doesn&#39;t release memory on Android - Please help urgently » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Exit App doesn&#39;t release memory on Android - Please help urgently</h1>
		</header>
		<section>
			<p>Hi, I have a big problem with memory leak issue in Titanium.</p>
<p>When I exit app (close all windows) then restart the app again and again, memory usage of the app is not released (even a simple app with only 1 window). It only really releases when I stop the app using Task Manager.</p>
<p>Example code like this can still produce memory leak:</p>
<pre><code class="hljs"><span class="hljs-list">(<span class="hljs-keyword">function</span><span class="hljs-list">()</span> {
    var win1 = Titanium.UI.createWindow<span class="hljs-list">({
        title:<span class="hljs-quoted">'Win</span> <span class="hljs-number">1</span>',
        backgroundColor:<span class="hljs-quoted">'#FFFFFF</span>'
    })</span><span class="hljs-comment">;</span>
    var label1 = Titanium.UI.createLabel<span class="hljs-list">({
        text:<span class="hljs-quoted">'I</span> am Window <span class="hljs-number">1</span>',
        textAlign:<span class="hljs-quoted">'center</span>'
    })</span><span class="hljs-comment">;</span>
    win1.add<span class="hljs-list">(<span class="hljs-keyword">label1</span>)</span><span class="hljs-comment">;</span>

    win1.open<span class="hljs-list">()</span><span class="hljs-comment">;</span>
})</span><span class="hljs-list">()</span><span class="hljs-comment">;</span>
</code></pre><p>Does anyone has the same problem? Is that problem of Titanium or my code above has something missing?</p>
<p>With the code above, I try on Android 2.2 (Samsung Galaxy S), the first start of the app uses 13MB of RAM. Then I close the window with back button and start the app again, now it uses 16MB. 3rd =&gt; 18MB, 4th =&gt; 19MB, 5th =&gt; 20MB, 6th =&gt; 21MB, so on and so on. If the app is bigger, the memory usage can be even 100MB after 3 times restart the app.</p>
<p>My Project&#39;s deadline is going to come very soon. I cannot ask customer or say sorry because of the problem like this :(. Any help is very appreciated!!!</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="January 25th 2012, 7:40:22 am">January 25th 2012</span>
				by <span class='authorname'>danchoi f2</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>close app</span></li>
					
						<li><span class='tagname'>memory leak</span></li>
					
						<li><span class='tagname'>restart</span></li>
					
				</ul>
			

			<section>
				<h5>1 Comment</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>I&#39;m using Titanium SDK 1.8.0.1 on MacOS</p>
</div>
							<div class="author">
								&mdash; commented <span title="January 25th 2012, 7:52:35 am">January 25th 2012</span>
								by <span class='authorname'>danchoi f2</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>4</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>4 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-228484">
				
						<section>
							<p>i notice this too.. i ask about it.. <a href="http:&#x2F;&#x2F;developer.appcelerator.com&#x2F;question&#x2F;129480&#x2F;android-application-is-not-closed">here</a> is what i asked.. he say its android lifecycle design…</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="January 25th 2012, 7:54:24 am">January 25th 2012</span>
								by <span class='authorname'>Ken Crucillo</span><br>
								<a class="icon-bg icon-link" href="../../question/131150/exit-app-doesnt-release-memory-on-android---please-help-urgently.html#answer-228484" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-228502">
				
						<section>
							<p>I have tried some other apps. Some have the same problem (but memory only increases for the 2nd or 3rd times, then stable =&gt; so it still ok), some always release memory when I exit and have no problem like this. If it is the problem of android design, how some apps can clear it&#39;s memory usage?</p>
<p>For my app, I restart about 10 times (run smoothly with memory usage from 30Mb for the first time then increase 5MB each Restart). After that, at the 11st restart it cannot load resources (images) and just display labels, then I received a popup &quot;Runtime Error&quot; message (memory usage about 80MB):</p>
<pre><code class="hljs">Location:
[178,19] ti:/titanium.js
Message:
Uncaught Error: Failed to <span class="hljs-operator"><span class="hljs-keyword">load</span> <span class="hljs-keyword">resource</span>, <span class="hljs-keyword">Java</span> <span class="hljs-keyword">exception</span> was thrown.
<span class="hljs-keyword">Source</span>:
<span class="hljs-keyword">source</span> = assets.readAsset(assetPath);</span>
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="January 25th 2012, 11:11:33 am">January 25th 2012</span>
								by <span class='authorname'>danchoi f2</span><br>
								<a class="icon-bg icon-link" href="../../question/131150/exit-app-doesnt-release-memory-on-android---please-help-urgently.html#answer-228502" rel="permalink">permalink</a>
							</div>

							<h5>3 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>I mean, &quot;some apps&quot; here are not Titanium apps. They are pre-installed by default when I bought the Android Samsung Galaxy.</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 25th 2012, 11:13:53 am">January 25th 2012</span>
											by <span class='authorname'>danchoi f2</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>hey friend do u got solution of this run time error ?? i am also facing same kind of error.</p>
</p>
										<div class="author">
											&mdash; commented <span title="February 15th 2012, 9:16:06 am">February 15th 2012</span>
											by <span class='authorname'>Fernan Delgado</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I&#39;m having exactly the same problem as &#39;danchoi&#39; describes. Using SDK 1.7.5. Really annoying as it&#39;s the only issue left before I release my App. I read Ken Crucillo&#39;s question and the response regarding this being normal Android behaviour but I&#39;m not convinced as the memory doesn&#39;t get freed and like &#39;danchoi&#39; my app just starts getting problems like failing to load images and then will eventually crash.</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 3rd 2012, 7:09:46 pm">March 3rd 2012</span>
											by <span class='authorname'>Andy Potter</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-229614">
				
						<section>
							<p>HI,<br>I am try some other apps. I have also same problem. I think this problem Then occur. When, we include new image, or import a new image.<br>for Sort Out this problem. </p>
<ol>
<li><p>Remove the all new Image whose u use just like (backgroundImage :&#39;abc.png&#39; )etc. or make comment</p>
</li>
<li><p>Remove or make comment Ti.include(&#39;abc.js&#39;) line  and</p>
</li>
<li>Make Clean (Project Menu —&gt; clean);<br>after this,run in simulator. i think run easily or proper way. </li>
</ol>
<p>Thanks</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="February 7th 2012, 8:10:05 am">February 7th 2012</span>
								by <span class='authorname'>Mritunjay Singh</span><br>
								<a class="icon-bg icon-link" href="../../question/131150/exit-app-doesnt-release-memory-on-android---please-help-urgently.html#answer-229614" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-231002">
				
						<section>
							<p>Using DDMS i found that Memory allocated to application is get increases as i am navigating screen by screen and after some time it crash application with force close message&#x2F;Fail to load resources. Even i have remove all objects from window and after that assign null to it. i.e window.remove(viewname); viewname=null; window.close(); window=null. Please help Me OUT.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="February 21st 2012, 4:12:22 am">February 21st 2012</span>
								by <span class='authorname'>Fernan Delgado</span><br>
								<a class="icon-bg icon-link" href="../../question/131150/exit-app-doesnt-release-memory-on-android---please-help-urgently.html#answer-231002" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Hey Fernan, Don&#39;t know if it is relevant but checkout my post at the end of this question as it might be relevant to your problem. http:&#x2F;&#x2F;developer.appcelerator.com&#x2F;question&#x2F;120446&#x2F;memory-management—android</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 3rd 2012, 7:14:19 pm">March 3rd 2012</span>
											by <span class='authorname'>Andy Potter</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
