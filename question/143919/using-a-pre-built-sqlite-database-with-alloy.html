<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Using a pre-built SQLite database with alloy » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Using a pre-built SQLite database with alloy</h1>
		</header>
		<section>
			<p>What is the best way to use a pre-built SQLite database with an alloy model? Where should the db file be put and what should it be named such that it is automatically read by the Backbone.js interface? Does it need copying first if it is to be writable?</p>
<p>Thanks!</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="October 24th 2012, 2:32:08 pm">October 24th 2012</span>
				by <span class='authorname'>Paul Mackay</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>alloy</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>3</span> Votes</div>
			<div class="answers"><span>5</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>5 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-265758">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>Hi,<br>Now you can use preloaded sqlite db in alloy framework.</p>
<p><a href="http:&#x2F;&#x2F;learnappcelerator.blogspot.in&#x2F;2013&#x2F;07&#x2F;alloy-framework-use-preloaded-sqlite.html">Alloy Sqlite database tutorial</a></p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="July 11th 2013, 9:34:24 am">July 11th 2013</span>
								by <span class='authorname'>Prakash M</span><br>
								<a class="icon-bg icon-link" href="question/143919/using-a-pre-built-sqlite-database-with-alloy.html#answer-265758" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>There&#39;s a test app that shows exactly how to do this now in Alloy: <a href="https:&#x2F;&#x2F;github.com&#x2F;appcelerator&#x2F;alloy&#x2F;tree&#x2F;master&#x2F;test&#x2F;apps&#x2F;models&#x2F;sql_preload">https:&#x2F;&#x2F;github.com&#x2F;appcelerator&#x2F;alloy&#x2F;tree&#x2F;master&#x2F;test&#x2F;apps&#x2F;models&#x2F;sql_preload</a></p>
</p>
										<div class="author">
											&mdash; commented <span title="July 11th 2013, 11:05:14 am">July 11th 2013</span>
											by <span class='authorname'>Tony Lukasavage</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>2</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-250703">
				
						<section>
							<p>Unofficial Answer Through T&amp;E and Hacking:</p>
<p>Create your SQLite database and load it with your initial data (e.g. <code>my.sqlite</code>).  I did this through Nodejs code that is not part of my Titanium Studio project.  Place the generated database file into app&#x2F;assets and it will be copied over to Resources. WARNING: Do not put it into the app&#x2F;lib folder, as Alloy will corrupt the database thinking its a JavaScript file.</p>
<p>Inside app&#x2F;models, create your model definitions to reflect your table structure and place the table name as the collection name.  Follow the example within the Alloy tests: <a href="https:&#x2F;&#x2F;github.com&#x2F;appcelerator&#x2F;alloy&#x2F;tree&#x2F;master&#x2F;test&#x2F;apps&#x2F;models&#x2F;sql">test&#x2F;apps&#x2F;models&#x2F;sql&#x2F;</a>.</p>
<p>Install the database to the device&#x2F;emulator&#x2F;simulator by issuing the <code>Ti.Database.install(&amp;#39;&amp;#x2F;my.sqlite&amp;#39;, &amp;#39;_alloy_&amp;#39;)</code>.  Do this at the top of your index.js controller.  IMPORTANT:  The file location must start with a forward slash <code>&amp;#x2F;</code>.  The name of the database must be <code>&amp;#39;_alloy_&amp;#39;</code> to match what Alloy is expecting.</p>
<p>You may confirm that the correct database is installed by going to the default location on the device&#39;s terminal.  For example, on Android emulator issue <code>adb -e shell</code> then <code>cd &amp;#x2F;data&amp;#x2F;data&amp;#x2F;your.app.name&amp;#x2F;databases&amp;#x2F;</code> and open it with the SQLite command line tool <code>sqlite3 _alloy_</code>. You should see your table data with <code>.schema</code>.</p>
<p>Assess the data with the <code>Alloy.createCollection(&amp;#39;table_name&amp;#39;)</code> command within your controllers.</p>
<p>There maybe some gotchas that I didn&#39;t capture.  For instance, on Android you may need to create the &#39;android_metadata&#39; table as follows:</p>
<pre><code class="hljs"><span class="hljs-operator"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span>  “android_metadata” (“locale” <span class="hljs-built_in">TEXT</span> <span class="hljs-keyword">DEFAULT</span> ‘en_US’);</span>
<span class="hljs-operator"><span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> “android_metadata” <span class="hljs-keyword">VALUES</span> (‘en_US’);</span>
</code></pre><p>I haven&#39;t tested this on iOS yet.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="November 7th 2012, 11:05:05 am">November 7th 2012</span>
								by <span class='authorname'>Dan Rydr</span><br>
								<a class="icon-bg icon-link" href="question/143919/using-a-pre-built-sqlite-database-with-alloy.html#answer-250703" rel="permalink">permalink</a>
							</div>

							<h5>2 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>First off, kudos to Dan! Well done wading through the code and finding a solution for the time being.</p>
<p>We have a ticket in for doing this automatically through a model definition, and it will be done in the next development cycle. Check here to follow along: <a href="https:&#x2F;&#x2F;jira.appcelerator.org&#x2F;browse&#x2F;ALOY-345">https:&#x2F;&#x2F;jira.appcelerator.org&#x2F;browse&#x2F;ALOY-345</a></p>
</p>
										<div class="author">
											&mdash; commented <span title="December 25th 2012, 7:40:43 pm">December 25th 2012</span>
											by <span class='authorname'>Tony Lukasavage</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>thanks a ton Dan. Can you provide a working example which uses two dbs in alloy titanium project.</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 29th 2014, 9:02:18 am">May 29th 2014</span>
											by <span class='authorname'>Vishnu Khaunte</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-253394">
				
						<section>
							<p>Is there now an official way to do this?</p>
<p>This is quite an important task :-)</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="December 25th 2012, 9:09:39 am">December 25th 2012</span>
								by <span class='authorname'>Misha Peric</span><br>
								<a class="icon-bg icon-link" href="question/143919/using-a-pre-built-sqlite-database-with-alloy.html#answer-253394" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-253718">
				
						<section>
							<p>Hello,<br>I need to do this in my upcoming projects. Any way to do this ?<br>Thanks and happy new year!</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="January 2nd 2013, 7:11:05 am">January 2nd 2013</span>
								by <span class='authorname'>Pascal Achard</span><br>
								<a class="icon-bg icon-link" href="question/143919/using-a-pre-built-sqlite-database-with-alloy.html#answer-253718" rel="permalink">permalink</a>
							</div>

							<h5>2 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Check dan&#39;s answer for the current workaround. Also check the comment under Dan&#39;s answer where I have the link to the ticket responsible for adding this functionality. It is scheduled for the next release of Alloy.</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 4th 2013, 12:49:21 pm">January 4th 2013</span>
											by <span class='authorname'>Tony Lukasavage</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Ok thanks!</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 4th 2013, 12:52:12 pm">January 4th 2013</span>
											by <span class='authorname'>Pascal Achard</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-265826">
				
						<section>
							<p>i&#39;m a new member i want to step by step create table and insert data in sqlite Alloy, i don&#39;t known create it , help me please</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="July 12th 2013, 8:43:24 am">July 12th 2013</span>
								by <span class='authorname'>trong khiem nguyen</span><br>
								<a class="icon-bg icon-link" href="question/143919/using-a-pre-built-sqlite-database-with-alloy.html#answer-265826" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>check this doc</p>
<p><a href="http:&#x2F;&#x2F;docs.appcelerator.com&#x2F;titanium&#x2F;latest&#x2F;#!&#x2F;api&#x2F;Titanium.Database.DB-method-execute">Titanium.Database.DB-method-execute</a></p>
</p>
										<div class="author">
											&mdash; commented <span title="July 12th 2013, 9:22:42 am">July 12th 2013</span>
											by <span class='authorname'>Prakash M</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
