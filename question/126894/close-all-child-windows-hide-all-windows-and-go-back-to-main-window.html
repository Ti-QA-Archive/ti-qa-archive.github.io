<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>close all child windows/ Hide all windows and go back to main window Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>close all child windows/ Hide all windows and go back to main window</h1>
		</header>
		<section>
			<p>Hi,</p>
<p>I am working on Ti Studio 1.7.2 for a project where I have to go back to main windowon menu button click available on android device by closing all windows which user navigated to reach the current child window. </p>
<p>I am using following code to close the current window -</p>
<p>~~~<br>window opening code</p>
<p> var win = Titanium.UI.createWindow();<br>           win.url = &#39;index3.js&#39;;<br>        win.exitOnclose = false;<br>        win.title = &#39;Index 3&#39;;<br>        win.fullscreen = false;<br>        _parent: Titanium.UI.currentWindow;</p>
<pre><code class="hljs">    <span class="hljs-tag">win</span><span class="hljs-class">.open</span>(<span class="hljs-tag">win</span>,<span class="hljs-rules">{<span class="hljs-rule"><span class="hljs-attribute">animated</span>:<span class="hljs-value">true,modal:false</span></span></span>});
</code></pre><p>&#x2F;&#x2F;closing code<br>var activity=Ti.Android.currentActivity;<br>    activity.onCreateOptionsMenu = function(e) {<br>    var menu = e.menu;<br>    var menuItem = menu.add({ visible:false });<br>    menuItem.addEventListener(&quot;click&quot;, function(e) {</p>
<pre><code class="hljs"> alert(<span class="hljs-string">"lastwindow.js"</span>);
     <span class="hljs-keyword">win</span>.<span class="hljs-keyword">close</span>();
     <span class="hljs-keyword">win</span>.<span class="hljs-keyword">close</span>(_parent);
});    

 menuItem.fireEvent(<span class="hljs-string">"click"</span>,<span class="hljs-keyword">e</span>);
};
</code></pre><p>~~~m</p>
<p>Is there any way to close all open windows and leave main window open?</p>
<p>I have searched many soltuions and found few approches  but none is working as of now -</p>
<ol>
<li>creating non-modal windows(child)</li>
<li>assigning _parent and try to access _parent from child window</li>
<li>Re opening Main window (however this seems incorrect)</li>
</ol>
<p>Is there any suggestion</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="October 15th 2011, 10:18:36 am">October 15th 2011</span>
				by <span class='authorname'>ravi g</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>close child windows</span></li>
					
						<li><span class='tagname'>windows close/hide</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-221023">
				
						<section>
							<p>the best solution is to create your own method that wraps opening a window and keep track of all open windows there.</p>
<p>then when it is time to close all the windows, just iterate through the list and close all the windows.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="October 15th 2011, 1:13:20 pm">October 15th 2011</span>
								by <span class='authorname'>Aaron Saunders</span><br>
								<a class="icon-bg icon-link" href="question/126894/close-all-child-windows-hide-all-windows-and-go-back-to-main-window#answer-221023" rel="permalink">permalink</a>
							</div>

							<h5>3 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Hi Aaron,</p>
<p>Thanks for the response.<br>I am working on the solution you have suggested and post here.<br>In the mean time if you can suggest any reference or sample available in<br>appcelerator tutorials that would be handy.</p>
</p>
										<div class="author">
											&mdash; commented <span title="October 15th 2011, 3:41:27 pm">October 15th 2011</span>
											by <span class='authorname'>ravi g</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I tried one more solution here thats not very elegant though.<br>I opened the main window from the last child window on menu button click available on android device. It works as I assigned last child window null value.</p>
<p><code>win=null;</code></p>
<p>But I believe it will create memory issue so I have to close all the other open handles of window instance. That is the just another approach of doing the same stuff suggested by Aaron. Now I am searching Titanium API for any function or property to get the reference to open window handles.</p>
</p>
										<div class="author">
											&mdash; commented <span title="October 15th 2011, 3:57:47 pm">October 15th 2011</span>
											by <span class='authorname'>ravi g</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Hi Aaron,</p>
<p>I have implemented your approach. My app is now working proper but when user is at main menu after pressing menu button on android device (which was the required functionality), if user wants to reach again that child window there is some error : Java null reference pointer and application suddenly closes due to unexpected error.</p>
<p>Now what should I do?</p>
</p>
										<div class="author">
											&mdash; commented <span title="October 15th 2011, 7:26:39 pm">October 15th 2011</span>
											by <span class='authorname'>ravi g</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
