<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Animation doesn&#39;t work on iOS since i tried to make my app having a responsive design » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Animation doesn&#39;t work on iOS since i tried to make my app having a responsive design</h1>
		</header>
		<section>
			<p>in my application i have a view : accueilscreen.xml </p>
<pre><code class="hljs"><span class="hljs-tag">&lt;<span class="hljs-title">Alloy</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">View</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">ScrollableView</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"scrollableView"</span> <span class="hljs-attribute">showPagingControl</span>=<span class="hljs-value">"true"</span> <span class="hljs-attribute">visible</span>=<span class="hljs-value">"true"</span> /&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">ImageView</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"accOptsView"</span> <span class="hljs-attribute">image</span>=<span class="hljs-value">"images/accOptsViewFr.png"</span> /&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">View</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"topbookinBlock"</span> &gt;</span>    
            <span class="hljs-tag">&lt;<span class="hljs-title">View</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"topbookin"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">View</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"topbookinbgrnd"</span>/&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">Label</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"topbookinLabel"</span> &gt;</span>TOP BOOKING<span class="hljs-tag">&lt;/<span class="hljs-title">Label</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-title">View</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">ScrollView</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"scrollView"</span> <span class="hljs-attribute">backgroundColor</span>=<span class="hljs-value">"yellow"</span>  /&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">View</span>&gt;</span>    
    <span class="hljs-tag">&lt;/<span class="hljs-title">View</span>&gt;</span>    
<span class="hljs-tag">&lt;/<span class="hljs-title">Alloy</span>&gt;</span>
</code></pre><p>and its styleSheet : </p>
<pre><code class="hljs">"<span class="hljs-id">#accOptsView</span>":<span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">top</span>:<span class="hljs-value"><span class="hljs-string">'32.56410256410256%'</span>, // <span class="hljs-number">127</span> de <span class="hljs-number">390</span>
    width:Ti.UI.FILL,
    height:<span class="hljs-string">'15.128205128205128%'</span>
</span></span></span>}


"<span class="hljs-id">#scrollableView</span>":<span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">top</span>:<span class="hljs-value"><span class="hljs-number">0</span>,
    width:Ti.UI.FILL,
    height:<span class="hljs-string">'30.76923076923077%'</span>, // <span class="hljs-number">120</span> de <span class="hljs-number">390</span>
    pagingControlColor :<span class="hljs-string">'black'</span>,
    pagingControlAlpha :<span class="hljs-number">0.5</span>
</span></span></span>}

"<span class="hljs-id">#topbookinLabel</span>":<span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">font</span>:<span class="hljs-value"> {
    fontSize :<span class="hljs-string">'2sp'</span>        
    </span></span></span>},    
    <span class="hljs-tag">color</span><span class="hljs-pseudo">:"</span><span class="hljs-id">#C29531</span>"
}


"<span class="hljs-id">#topbookin</span>":<span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">top</span>:<span class="hljs-value"><span class="hljs-number">0</span>, // <span class="hljs-number">0</span> de <span class="hljs-number">286</span>
    borderColor :<span class="hljs-string">"#C29531"</span>,
    borderWidth : <span class="hljs-number">0.5</span>,
    height:<span class="hljs-string">'6.993006993006993%'</span>, // <span class="hljs-number">20</span> de <span class="hljs-number">286</span>
    left:<span class="hljs-string">'-0.625%'</span>,
    width:<span class="hljs-string">'101.25%'</span>    
</span></span></span>}

"<span class="hljs-id">#topbookinbgrnd</span>":<span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">top</span>:<span class="hljs-value"><span class="hljs-number">0</span>,
    left:<span class="hljs-string">'-0.625%'</span>, // -<span class="hljs-number">2</span> de <span class="hljs-number">320</span>
    opacity:<span class="hljs-number">0.5</span>,
    width:Ti.UI.FILL,
    height:Ti.UI.FILL,
    backgroundColor:<span class="hljs-string">'black'</span>    
</span></span></span>}
"<span class="hljs-id">#scrollView</span>":<span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">top</span>:<span class="hljs-value"><span class="hljs-string">'10.48951048951049%'</span>,
    height:<span class="hljs-string">'59.34265734265734%'</span>, // <span class="hljs-number">164</span> de <span class="hljs-number">286</span>
    width:<span class="hljs-string">"95%"</span>        
</span></span></span>}


"<span class="hljs-id">#topbookinBlock</span>":<span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">top</span>:<span class="hljs-value"><span class="hljs-string">"49.743589743589745%"</span>,  // <span class="hljs-number">194</span> de <span class="hljs-number">390</span>
    height:<span class="hljs-string">"73.33333333333333%"</span>  // <span class="hljs-number">480</span> - <span class="hljs-number">194</span> = <span class="hljs-number">286</span> de <span class="hljs-number">390</span> 
</span></span></span>}
</code></pre><p>Somewhere else in my app i try to animate the &#39;scrollView&#39; (its id is &#39;scrollView&#39; also)</p>
<pre><code class="hljs">Alloy.Globals.accueilscreenCtrl.scrollView.setHeight('<span class="hljs-number">79.487179487</span>17949%')<span class="hljs-comment">;</span>

Alloy.Globals.accueilscreenCtrl.accOptsView.animate({
    top : '<span class="hljs-number">79.487179487</span>17949%'
})<span class="hljs-comment">;</span>

//Alloy.Globals.accueilscreenCtrl.scrollView.setTop(0)<span class="hljs-comment">;</span>
Alloy.Globals.accueilscreenCtrl.scrollView.animate({
     top : 0
})<span class="hljs-comment">;</span>
</code></pre><p>This problem only happened since i changed my app dimensions to percentage. This same animation used to work fine when dimensions were in dp. Here is the same view and all the code before changing its dimensions to percentage and in which the animation works fine :</p>
<p>accueilscreen.xml :</p>
<pre><code class="hljs"><span class="hljs-tag">&lt;<span class="hljs-title">Alloy</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">View</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">ScrollableView</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"scrollableView"</span> <span class="hljs-attribute">showPagingControl</span>=<span class="hljs-value">"true"</span> <span class="hljs-attribute">visible</span>=<span class="hljs-value">"true"</span> /&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">ImageView</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"accOptsView"</span> <span class="hljs-attribute">image</span>=<span class="hljs-value">"images/accOptsViewFr.png"</span> /&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">View</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"topbookinBlock"</span>&gt;</span>    
            <span class="hljs-tag">&lt;<span class="hljs-title">View</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"topbookin"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">View</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"topbookinbgrnd"</span>/&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">Label</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"topbookinLabel"</span> &gt;</span>TOP BOOKING<span class="hljs-tag">&lt;/<span class="hljs-title">Label</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-title">View</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">ScrollView</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"scrollView"</span> <span class="hljs-attribute">height</span>=<span class="hljs-value">"147"</span> <span class="hljs-attribute">width</span>=<span class="hljs-value">"95%"</span>/&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">View</span>&gt;</span>    
    <span class="hljs-tag">&lt;/<span class="hljs-title">View</span>&gt;</span>    
<span class="hljs-tag">&lt;/<span class="hljs-title">Alloy</span>&gt;</span>
</code></pre><p>accueilscreen.tss    </p>
<pre><code class="hljs">"<span class="hljs-id">#accOptsView</span>":<span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">top</span>:<span class="hljs-value"><span class="hljs-number">127</span>,
    width:Ti.UI.FILL,
    height:<span class="hljs-number">59</span>
</span></span></span>}


"<span class="hljs-id">#scrollableView</span>":<span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">top</span>:<span class="hljs-value"><span class="hljs-number">0</span>,
    width:Ti.UI.FILL,
    height:<span class="hljs-number">120</span>,
    pagingControlColor :<span class="hljs-string">'black'</span>,
    pagingControlAlpha :<span class="hljs-number">0.5</span>
</span></span></span>}

"<span class="hljs-id">#topbookinLabel</span>":<span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">font</span>:<span class="hljs-value"> {
    fontSize :<span class="hljs-number">2</span>        
    </span></span></span>},    
    <span class="hljs-tag">color</span><span class="hljs-pseudo">:"</span><span class="hljs-id">#C29531</span>"
}


"<span class="hljs-id">#topbookin</span>":<span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">top</span>:<span class="hljs-value"><span class="hljs-number">194</span>,
    borderColor :<span class="hljs-string">"#C29531"</span>,
    borderWidth : <span class="hljs-number">0.5</span>,
    height:<span class="hljs-number">20</span>,
    left:-<span class="hljs-number">2</span>,
    width:<span class="hljs-number">324</span>    
</span></span></span>}

"<span class="hljs-id">#topbookinbgrnd</span>":<span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">top</span>:<span class="hljs-value"><span class="hljs-number">0</span>,
    left:-<span class="hljs-number">2</span>,
    opacity:<span class="hljs-number">0.5</span>,
    width:Ti.UI.FILL,
    height:Ti.UI.FILL,
    backgroundColor:<span class="hljs-string">'black'</span>    
</span></span></span>}
"<span class="hljs-id">#scrollView</span>":<span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">top</span>:<span class="hljs-value"><span class="hljs-number">224</span>        
</span></span></span>}
</code></pre><p>the animation code :</p>
<pre><code class="hljs"><span class="hljs-tag">Alloy</span><span class="hljs-class">.Globals</span><span class="hljs-class">.accueilscreenCtrl</span><span class="hljs-class">.scrollView</span><span class="hljs-class">.setHeight</span>(310);

<span class="hljs-tag">Alloy</span><span class="hljs-class">.Globals</span><span class="hljs-class">.accueilscreenCtrl</span><span class="hljs-class">.accOptsView</span><span class="hljs-class">.animate</span>(<span class="hljs-rules">{
     <span class="hljs-rule"><span class="hljs-attribute">top </span>:<span class="hljs-value"> <span class="hljs-number">310</span>
</span></span></span>});

<span class="hljs-tag">Alloy</span><span class="hljs-class">.Globals</span><span class="hljs-class">.accueilscreenCtrl</span><span class="hljs-class">.scrollView</span><span class="hljs-class">.animate</span>(<span class="hljs-rules">{
      <span class="hljs-rule"><span class="hljs-attribute">top </span>:<span class="hljs-value"> <span class="hljs-number">0</span>
</span></span></span>});
</code></pre>
		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="April 10th 2014, 2:42:41 pm">April 10th 2014</span>
				by <span class='authorname'>mobile webdev2014</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>alloy</span></li>
					
						<li><span class='tagname'>animation</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>0</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>0 Answers</h3>

	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
