<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>More pictures in coverflow with navbar buttons » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>More pictures in coverflow with navbar buttons</h1>
		</header>
		<section>
			<p>Hi.</p>
<p>I have an app that takes pictures from a facebook page and shows them in coverflowview.</p>
<p>Facebook has a limit of 25 pics in one api call so i need to put a &quot;Next&quot; button to the right in the navbar to get the next 25 pictures. And when one have clicked &quot;next&quot; one or more times i also need a &quot;Back&quot; button on the left side in the navbar.</p>
<p>The code i use to show the pictures is this</p>
<pre><code class="hljs">
<span class="hljs-keyword">var</span> win = Ti.UI.currentWindow;

    win.hideNavBar();

    <span class="hljs-comment">// Create our HTTP Client and name it "loader"</span>
        <span class="hljs-keyword">var</span> loader = Titanium.Network.createHTTPClient();

        <span class="hljs-comment">// Runs the function when the data is ready for us to process</span>
        loader.onload = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">var</span> data = <span class="hljs-built_in">JSON</span>.parse(<span class="hljs-keyword">this</span>.responseText);
            <span class="hljs-keyword">var</span> images = [];
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> c=<span class="hljs-number">0</span>;c&lt;data.data.length;c++)
            {
                    images[c]= {image: data.data[c].source, width:<span class="hljs-string">'320dp'</span>};
            }

            <span class="hljs-comment">// create coverflow view with images</span>
            <span class="hljs-keyword">var</span> view = Titanium.UI.iOS.createCoverFlowView({
                    images:images,
                    backgroundColor:<span class="hljs-string">'#000'</span>,
                    top: <span class="hljs-string">'2'</span>,
                    bottom: <span class="hljs-string">'2'</span>,
                    left: <span class="hljs-string">'2'</span>,
                    right: <span class="hljs-string">'2'</span>
            });  win.add(view);


            <span class="hljs-comment">// click listener - when image is clicked</span>
    view.addEventListener(<span class="hljs-string">'click'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{<span class="hljs-comment">//&lt;&lt;&lt;---this is the convertFlowView</span>

    <span class="hljs-comment">// the window to place the image in</span>
    <span class="hljs-keyword">var</span> imgWindow = Ti.UI.createWindow({ 
        modal: <span class="hljs-literal">true</span>,
        barColor: <span class="hljs-string">'#050505'</span>,
        backgroundColor: <span class="hljs-string">'#050505'</span> 
    }); 

    <span class="hljs-comment">// The new image view to place the selected image</span>
    <span class="hljs-keyword">var</span> fullImage = Ti.UI.createWebView({
    html: <span class="hljs-string">'&lt;meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2, user-scalable=yes" /&gt;&lt;img src="'</span>+ images[e.index].image + <span class="hljs-string">'" / Width="100%"&gt;'</span>,


        backgroundColor: <span class="hljs-string">'#050505'</span> 
    });

    <span class="hljs-comment">// Create a button to close the modal window</span>
    <span class="hljs-keyword">var</span> close_modal = Titanium.UI.createButton({title:<span class="hljs-string">'Stäng'</span>});
    imgWindow.rightNavButton = close_modal;

    <span class="hljs-comment">// Handle close_modal event</span>
    close_modal.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        imgWindow.close();
    });

    <span class="hljs-comment">// Add the views to the window and open it</span>
    imgWindow.add(fullImage);
    imgWindow.open();
});

        }  

         <span class="hljs-comment">// From where i get my photos</span>
         <span class="hljs-keyword">var</span> photoId = <span class="hljs-string">'420951027365'</span>
         <span class="hljs-keyword">var</span> url = <span class="hljs-string">"https://graph.facebook.com/"</span> + photoId + <span class="hljs-string">"/photos"</span>;

        loader.open(<span class="hljs-string">"GET"</span>, url);

        <span class="hljs-comment">// Send the HTTP request</span>
        loader.send();
</code></pre><p>To get the next 25 pictures from facebook they use this url:</p>
<p>https:&#x2F;&#x2F;graph.facebook.com&#x2F;414896358531308&#x2F;photos?limit=25&amp;offset=25&amp;__after_id=414897298531214</p>
<p>So i guess the value for the next button should be:</p>
<pre><code class="hljs"> url = <span class="hljs-string">"https://graph.facebook.com/"</span> + photoId + <span class="hljs-string">"/photos?limit=25&amp;offset=25&amp;__after_id="</span> + (The <span class="hljs-keyword">last</span> photo Id <span class="hljs-keyword">in</span> <span class="hljs-keyword">the</span> <span class="hljs-keyword">set</span> <span class="hljs-keyword">of</span> <span class="hljs-keyword">the</span> <span class="hljs-number">25</span>);
</code></pre><p>So how can i get the id from the last photo shown in the string so i can use it in (The last photo….)</p>
<p>And how will i do to get the buttons in the navbar and so on….</p>
<p>Thanx</p>
<p>&#x2F;&#x2F;R</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="May 19th 2012, 12:41:54 pm">May 19th 2012</span>
				by <span class='authorname'>Richard Harrysson</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>coverflowview</span></li>
					
						<li><span class='tagname'>facebook</span></li>
					
						<li><span class='tagname'>ios</span></li>
					
						<li><span class='tagname'>json</span></li>
					
						<li><span class='tagname'>mobile</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>3</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>3 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-239297">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>Ok here is the deal. I modified your code a lil&#39;, you still need to couple it with your current application but it shouldnt be a problem. On your code you are going to delete every thing that goes after these lines</p>
<pre><code class="hljs"><span class="hljs-variable"><span class="hljs-keyword">var</span> win</span> = Ti.UI.currentWindow;

win.showNavBar();

<span class="hljs-variable"><span class="hljs-keyword">var</span> bgImage</span> = Ti.UI.createImageView({
    height  : 'auto',
    top     : -<span class="hljs-number">11</span>,
    fullscreen: <span class="hljs-literal">true</span>,
    image   : 'images/h-<span class="hljs-number">5.</span>jpg',
    zIndex  : <span class="hljs-number">0</span>
});
win.add(bgImage);

<span class="hljs-variable"><span class="hljs-keyword">var</span> artist</span> ='lucyseven';

<span class="hljs-variable"><span class="hljs-keyword">var</span> url</span> = <span class="hljs-string">"https://graph.facebook.com/"</span> + artist + <span class="hljs-string">"/albums"</span>;
</code></pre><p>and replace it with this</p>
<pre><code class="hljs">var table = Ti.UI.createTableView({
            <span class="hljs-string">backgroundColor :</span> <span class="hljs-string">'transparent'</span>,
            <span class="hljs-string">separatorColor :</span> <span class="hljs-string">'transparent'</span>,
<span class="hljs-label">            height:</span> <span class="hljs-number">500</span>,
<span class="hljs-label">            data:</span> []
        });

        var tableData = [];

        function setTableData(_data) {
            json = _data;
            <span class="hljs-keyword">for</span>( i = <span class="hljs-number">0</span>; i &lt; json.data.length; i++) {
                data = json.data[i];
                row = Ti.UI.createTableViewRow({
                    <span class="hljs-string">height :</span> <span class="hljs-string">'70dp'</span>,
                    <span class="hljs-string">backgroundColor :</span> <span class="hljs-string">'transparent'</span>,
                    <span class="hljs-string">separatorColor :</span> <span class="hljs-string">'transparent'</span>,
<span class="hljs-label">                    id:</span> data.id,
<span class="hljs-label">                    name:</span> data.name
                });
                var name = Ti.UI.createLabel({
                    <span class="hljs-string">text :</span> data.name,
                    <span class="hljs-string">font :</span> {
                        <span class="hljs-string">fontSize :</span> <span class="hljs-string">'17dp'</span>,
                        <span class="hljs-string">fontWeight :</span> <span class="hljs-string">'bold'</span>
                    },
                    <span class="hljs-string">height :</span> Ti.UI.FILL,
                    <span class="hljs-string">left :</span> <span class="hljs-string">'90dp'</span>,
                    <span class="hljs-string">top :</span> <span class="hljs-string">'10dp'</span>,
                    <span class="hljs-string">touchEnabled :</span> <span class="hljs-literal">true</span>
                });
                row.add(name);

                <span class="hljs-comment">// Avatar</span>
                var img = Ti.UI.createImageView({
                    <span class="hljs-string">image :</span> <span class="hljs-string">"https://fbcdn-profile-a.akamaihd.net/hprofile-ak-snc4/373026_41763487365_845007439_n.jpg"</span>,
                    <span class="hljs-string">width :</span> <span class="hljs-number">70</span>,
                    <span class="hljs-string">height :</span> <span class="hljs-number">50</span>,
                    <span class="hljs-string">top :</span> <span class="hljs-number">5</span>,
                    <span class="hljs-string">bottom :</span> <span class="hljs-number">5</span>,
                    <span class="hljs-string">left :</span> <span class="hljs-number">5</span>,
                    <span class="hljs-string">borderRadius :</span> <span class="hljs-number">5</span>,
                    <span class="hljs-string">borderColor :</span> <span class="hljs-string">'#eee'</span>
                });
                row.add(img);
                tableData.push(row);
            }

            table.setData(tableData);
        }

        self.add(table);
        <span class="hljs-comment">// Handle a click event on the table</span>
        table.addEventListener(<span class="hljs-string">'click'</span>, function(e) {
            var faceWindow = Ti.UI.createWindow({
                <span class="hljs-string">title   :</span> e.row.name,
<span class="hljs-label">                data:</span> e.row.id,
<span class="hljs-label">                barColor:</span> <span class="hljs-string">'#050505'</span>,
<span class="hljs-label">                backgroundColor:</span> <span class="hljs-string">'#050505'</span>,
<span class="hljs-label">                modal:</span> <span class="hljs-literal">true</span>           
            });
            var close = Titanium.UI.createButton({
<span class="hljs-label">                title:</span> <span class="hljs-string">'Bakåt'</span>,
<span class="hljs-label">                style:</span> Titanium.UI.iPhone.SystemButtonStyle.PLAIN
            });
            faceWindow.setLeftNavButton(close);

            <span class="hljs-comment">// Handle the close event</span>
            close.addEventListener(<span class="hljs-string">'click'</span>,function() {
                faceWindow.close();
            });

            var gallery = require(<span class="hljs-string">'/examples/fb/gallery_view'</span>)();<span class="hljs-comment">//////&lt;&lt;&lt;&lt;&lt;&lt;&lt;---- need to set the right url</span>
            Ti.API.info(typeof gallery)
            faceWindow.add(gallery);

            faceWindow.open();

        });

        var params = {
<span class="hljs-label">            requestType:</span> <span class="hljs-string">'GET'</span>,
<span class="hljs-label">            URL:</span>  url,
        }

        net(params, setTableData);
</code></pre><p>now you still need the network module that we talk before. On your <code>gallview.js</code> you are going to delete everything and replace it with this</p>
<pre><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Gallery</span><span class="hljs-params">()</span></span>{
    <span class="hljs-keyword">var</span> net = <span class="hljs-keyword">require</span>(<span class="hljs-string">'/ui/network'</span>);<span class="hljs-comment">//////&lt;&lt;&lt;&lt;&lt;&lt;&lt;---- need to set the right url</span>
    <span class="hljs-keyword">var</span> <span class="hljs-keyword">self</span> = Ti.UI.createView({
        top: <span class="hljs-number">30</span>,
        bottom: <span class="hljs-number">30</span>,
        right: <span class="hljs-number">30</span>,
        left: <span class="hljs-number">30</span>,
        backgroundColor: <span class="hljs-string">'#bcbcbc'</span>
    });
    {<span class="hljs-comment">//CONVERFLOW </span>
        <span class="hljs-keyword">var</span> nextUrl = <span class="hljs-string">''</span>;
        <span class="hljs-keyword">var</span> prevUrl = <span class="hljs-string">''</span>;
        <span class="hljs-keyword">var</span> view = Titanium.UI.iOS.createCoverFlowView({
            images:[<span class="hljs-string">"https://fbcdn-profile-a.akamaihd.net/hprofile-ak-snc4/373026_41763487365_845007439_n.jpg"</span>],
            backgroundColor:<span class="hljs-string">'#000'</span>,
            width: Ti.UI.FILL,
            height: <span class="hljs-number">500</span>,
        });  <span class="hljs-keyword">self</span>.add(view);

        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">albunPictures</span><span class="hljs-params">(_data)</span> </span>{

            <span class="hljs-keyword">if</span> (_data.data.length === <span class="hljs-number">0</span>){
                <span class="hljs-keyword">return</span>;
            }

            <span class="hljs-keyword">var</span> images = [];
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> c = <span class="hljs-number">0</span>; c &lt; _data.data.length; c++){
                images[c]= {image: _data.data[c].picture, width:<span class="hljs-number">225</span>, height:<span class="hljs-number">225</span>};
            }

            view.images = images;
            view.selected = <span class="hljs-number">0</span>;

            _data.paging.next ? nextUrl = _data.paging.next : nextUrl = <span class="hljs-keyword">false</span>;
            _data.paging.previous ? prevUrl = _data.paging.previous : prevUrl = <span class="hljs-keyword">false</span>;

        }  
    }
    <span class="hljs-keyword">var</span> url = <span class="hljs-string">"http://graph.facebook.com/420951027365/photos"</span>;<span class="hljs-comment">//////&lt;&lt;&lt;&lt;&lt;&lt;&lt;---- need to set the right url</span>
    <span class="hljs-keyword">var</span> params = {
        requestType: <span class="hljs-string">'GET'</span>,
        URL:  url,
    }

    net(params, albunPictures);

    <span class="hljs-keyword">var</span> next = Titanium.UI.createButton({
        title: <span class="hljs-string">'next'</span>,
        bottom: <span class="hljs-number">30</span>,
        right: <span class="hljs-number">30</span>,
    });  <span class="hljs-keyword">self</span>.add(next);

    next.addEventListener(<span class="hljs-string">'click'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
        Ti.API.info(nextUrl)
        <span class="hljs-keyword">if</span> (nextUrl){
            <span class="hljs-keyword">var</span> params = {
                requestType: <span class="hljs-string">'GET'</span>,
                URL:  nextUrl,
            }

            net(params, albunPictures);
        }
    });

    <span class="hljs-keyword">var</span> prev = Titanium.UI.createButton({
        title: <span class="hljs-string">'previous'</span>,
        bottom: <span class="hljs-number">30</span>,
        left: <span class="hljs-number">30</span>,
    });  <span class="hljs-keyword">self</span>.add(prev);

    prev.addEventListener(<span class="hljs-string">'click'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">if</span> (prevUrl){
            <span class="hljs-keyword">var</span> params = {
                requestType: <span class="hljs-string">'GET'</span>,
                URL:  prevUrl,
            }

            net(params, albunPictures);
        }
    });

    <span class="hljs-keyword">return</span> <span class="hljs-keyword">self</span>;
};
module.exports = Gallery;
</code></pre><p>through out the code check for my comments because you might have to change some url depending on your current file structure and the requestes you are making</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="May 23rd 2012, 6:03:01 pm">May 23rd 2012</span>
								by <span class='authorname'>Arian Caraballo</span><br>
								<a class="icon-bg icon-link" href="question/137186/more-pictures-in-coverflow-with-navbar-buttons#answer-239297" rel="permalink">permalink</a>
							</div>

							<h5>8 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Hi.</p>
<p>I get an error &quot;cant find variable &#39;self&#39; at gallery.js line 71&quot;</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 23rd 2012, 7:07:22 pm">May 23rd 2012</span>
											by <span class='authorname'>Richard Harrysson</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I´ve changed that to </p>
<pre><code class="hljs"><span class="hljs-keyword">win</span>.add(<span class="hljs-keyword">table</span>);
</code></pre><p>but then i get &quot;cant find variable net on line 105&quot;</p>
<pre><code class="hljs">net<span class="hljs-list">(<span class="hljs-keyword">params</span>, setTableData)</span><span class="hljs-comment">;</span>
</code></pre><p>I´ve put the network.js in a folder called services so i changed</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> net = <span class="hljs-built_in">require</span>(<span class="hljs-string">'/ui/network'</span>);
</code></pre><p>to</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> net = <span class="hljs-built_in">require</span>(<span class="hljs-string">'/services/network'</span>);
</code></pre><p>I also changed the</p>
<pre><code class="hljs">require<span class="hljs-list">(<span class="hljs-quoted">'/examples/fb/gallery_view</span>')</span><span class="hljs-list">()</span><span class="hljs-comment">;</span>
</code></pre><p>to</p>
<pre><code class="hljs">require<span class="hljs-list">(<span class="hljs-quoted">'/gallview</span>')</span><span class="hljs-list">()</span><span class="hljs-comment">;</span>
</code></pre><p>But i dont get what to change </p>
<pre><code class="hljs"><span class="hljs-variable"><span class="hljs-keyword">var</span> url</span> = <span class="hljs-string">"http://graph.facebook.com/420951027365/photos"</span>;<span class="hljs-comment">//////&lt;&lt;&lt;&lt;&lt;&lt;&lt;---- need to set the right url</span>
</code></pre><p>in the gallview.js to …</p>
<p>Wouldnt that url depend on wich row&#x2F;album thats been clicked?  like </p>
<pre><code class="hljs"><span class="hljs-tag">var</span> url = <span class="hljs-string">"http://graph.facebook.com/"</span> + data<span class="hljs-class">.id</span> + /photos<span class="hljs-string">";</span>
</code></pre><p>&#x2F;&#x2F;R</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 23rd 2012, 7:21:01 pm">May 23rd 2012</span>
											by <span class='authorname'>Richard Harrysson</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Nevermind. I got it to work! </p>
<p>All except the url for wich album that has been clicked.</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 23rd 2012, 7:31:20 pm">May 23rd 2012</span>
											by <span class='authorname'>Richard Harrysson</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>ok nice</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 23rd 2012, 7:32:22 pm">May 23rd 2012</span>
											by <span class='authorname'>Arian Caraballo</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>what wrong with the url?</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 23rd 2012, 7:33:11 pm">May 23rd 2012</span>
											by <span class='authorname'>Arian Caraballo</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>ok easy fix on the line that says <code>var gallery = require(&amp;#39;&amp;#x2F;gallery_view&amp;#39;)();</code> </p>
<p>replace it with <code>var gallery = require(&amp;#39;&amp;#x2F;gallery_view&amp;#39;)(e.row.id);</code> and then on the gallery_view.js</p>
<p>on the first line change it to this <code>function Gallery(albunId){</code> and do your url variable like this</p>
<pre><code class="hljs"><span class="hljs-variable"><span class="hljs-keyword">var</span> url</span> = <span class="hljs-string">"http://graph.facebook.com/"</span> +albunId+<span class="hljs-string">"/photos"</span>;
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="May 23rd 2012, 7:40:38 pm">May 23rd 2012</span>
											by <span class='authorname'>Arian Caraballo</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Yepp!  That did the trick!</p>
<p>You are a genius!</p>
<p>Thank you so much!!</p>
<p>&#x2F;&#x2F;R</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 23rd 2012, 7:49:14 pm">May 23rd 2012</span>
											by <span class='authorname'>Richard Harrysson</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I had these lines of code in my prev code to get the images fullscreen</p>
<pre><code class="hljs">
<span class="hljs-comment">// click listener - when image is clicked</span>
    view.addEventListener(<span class="hljs-string">'click'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span> </span>{<span class="hljs-comment">//&lt;&lt;&lt;---this is the convertFlowView</span>

    <span class="hljs-comment">// the window to place the image in</span>
    <span class="hljs-keyword">var</span> imgWindow = Ti.UI.createWindow({ 
        modal: <span class="hljs-literal">true</span>,
        barColor: <span class="hljs-string">'#050505'</span>,
        backgroundColor: <span class="hljs-string">'#050505'</span> 
    }); 

    <span class="hljs-comment">// The new image view to place the selected image</span>
    <span class="hljs-keyword">var</span> fullImage = Ti.UI.createWebView({
    html: <span class="hljs-string">'&lt;meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2, user-scalable=yes" /&gt;&lt;img src="'</span>+ images[e.index].image + <span class="hljs-string">'" / Width="100%"&gt;'</span>,


        backgroundColor: <span class="hljs-string">'#050505'</span> 
    });

    <span class="hljs-comment">// Create a button to close the modal window</span>
    <span class="hljs-keyword">var</span> close_modal = Titanium.UI.createButton({title:<span class="hljs-string">'Stäng'</span>});
    imgWindow.rightNavButton = close_modal;

    <span class="hljs-comment">// Handle close_modal event</span>
    close_modal.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
        imgWindow.close();
    });

    <span class="hljs-comment">// Add the views to the window and open it</span>
    imgWindow.add(fullImage);
    imgWindow.open();
});
</code></pre><p>Now i guess that the  &lt;img src=&quot;&#39;+ images[e.index].image + &#39;&quot; &#x2F; Width=&quot;100%&quot;&gt;&#39;,  is wrong </p>
<p>cause it wont work to get them fullscreen.</p>
<p>&#x2F;&#x2F;R</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 23rd 2012, 8:00:55 pm">May 23rd 2012</span>
											by <span class='authorname'>Richard Harrysson</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-239023">
				
						<section>
							<p>on your for loop add an if stament that check for the last image in the array you are getting back here is some sudocode</p>
<pre><code class="hljs">var lastID = null;

onload: function(){
    <span class="hljs-keyword">for</span> (<span class="hljs-number">0</span> <span class="hljs-keyword">to</span> <span class="hljs-keyword">the</span> <span class="hljs-keyword">end</span> <span class="hljs-keyword">of</span> <span class="hljs-keyword">the</span> response <span class="hljs-type">text</span>){
        images[x] =  blah....

        <span class="hljs-keyword">if</span> x === <span class="hljs-keyword">the</span> <span class="hljs-keyword">end</span> <span class="hljs-keyword">of</span> <span class="hljs-keyword">the</span> loop 
            lastID = save <span class="hljs-keyword">the</span> image <span class="hljs-property">id</span>
    }
}

make other call <span class="hljs-keyword">with</span> <span class="hljs-keyword">that</span> <span class="hljs-property">id</span> <span class="hljs-function_start"><span class="hljs-keyword">on</span></span> <span class="hljs-keyword">the</span> url
</code></pre><p>here is a freebee. Used this function to abstract you xhr calls you pass the arguments for the call and the function to callback with the response when the call is done. this is not sudo code you might need to make some adjustments to your current function. now on the event listener of your &quot;NextBTN&quot; you only have to call this function with the right parameters.</p>
<pre><code class="hljs"><span class="hljs-comment">//you need to put this on file by its own maybe "Resources/services/network"</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Network</span>(<span class="hljs-params">_args, callback</span>)</span>{
    <span class="hljs-keyword">var</span> xhr = Ti.Network.createHTTPClient({
        timeout: <span class="hljs-number">15000</span>
    });

    xhr.onload = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
        callback(<span class="hljs-built_in">JSON</span>.parse(<span class="hljs-keyword">this</span>.responseText));
    };
    xhr.onerror = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)</span>{ 
        alert(e.error);

    };
    xhr.open(_args.requestType, _args.URL);
    xhr.send(_args.functionValues);

};

<span class="hljs-built_in">module</span>.exports = Network;
</code></pre><p>here is what you would do to make the call</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> net = <span class="hljs-built_in">require</span>(<span class="hljs-string">'/services/network'</span>);
<span class="hljs-keyword">var</span> params = {
    requestType: <span class="hljs-string">'GET'</span>
    URL:  <span class="hljs-string">"https://graph.facebook.com/"</span> + photoId + <span class="hljs-string">"/photos"</span>
    functionValues: {
        limit: <span class="hljs-number">25</span>,
        offset: <span class="hljs-number">25</span>,
        __after_id: lastID
    }
}
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">yourFunction</span> (<span class="hljs-params">e</span>) </span>{
            <span class="hljs-keyword">var</span> data = e
            <span class="hljs-keyword">var</span> images = [];
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> c=<span class="hljs-number">0</span>;c&lt;data.data.length;c++)
            {
                    images[c]= {image: data.data[c].source, width:<span class="hljs-string">'320dp'</span>};
            }

            <span class="hljs-comment">// create coverflow view with images</span>
            <span class="hljs-keyword">var</span> view = Titanium.UI.iOS.createCoverFlowView({
                    images:images,
                    backgroundColor:<span class="hljs-string">'#000'</span>,
                    top: <span class="hljs-string">'2'</span>,
                    bottom: <span class="hljs-string">'2'</span>,
                    left: <span class="hljs-string">'2'</span>,
                    right: <span class="hljs-string">'2'</span>
            });  win.add(view);


            <span class="hljs-comment">// click listener - when image is clicked</span>
    view.addEventListener(<span class="hljs-string">'click'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{<span class="hljs-comment">//&lt;&lt;&lt;---this is the convertFlowView</span>

    <span class="hljs-comment">// the window to place the image in</span>
    <span class="hljs-keyword">var</span> imgWindow = Ti.UI.createWindow({ 
        modal: <span class="hljs-literal">true</span>,
        barColor: <span class="hljs-string">'#050505'</span>,
        backgroundColor: <span class="hljs-string">'#050505'</span> 
    }); 

    <span class="hljs-comment">// The new image view to place the selected image</span>
    <span class="hljs-keyword">var</span> fullImage = Ti.UI.createWebView({
    html: <span class="hljs-string">'&lt;meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2, user-scalable=yes" /&gt;&lt;img src="'</span>+ images[e.index].image + <span class="hljs-string">'" / Width="100%"&gt;'</span>,


        backgroundColor: <span class="hljs-string">'#050505'</span> 
    });

    <span class="hljs-comment">// Create a button to close the modal window</span>
    <span class="hljs-keyword">var</span> close_modal = Titanium.UI.createButton({title:<span class="hljs-string">'Stäng'</span>});
    imgWindow.rightNavButton = close_modal;

    <span class="hljs-comment">// Handle close_modal event</span>
    close_modal.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        imgWindow.close();
    });

    <span class="hljs-comment">// Add the views to the window and open it</span>
    imgWindow.add(fullImage);
    imgWindow.open();
});

net(params, yourFunction);
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="May 19th 2012, 1:14:24 pm">May 19th 2012</span>
								by <span class='authorname'>Arian Caraballo</span><br>
								<a class="icon-bg icon-link" href="question/137186/more-pictures-in-coverflow-with-navbar-buttons#answer-239023" rel="permalink">permalink</a>
							</div>

							<h5>10 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Ok i am a total newbie so iam going to ask you a bunch of stupid questions now.<br>This is a template that i am fooling around with and i am picking it up as i go to understand what i am doing. All i want to do is to make a kick ass app for my band so i am not a programmer.<br>The network file will i call that network.js and put it in services?<br>How will i get the buttons in the navbar with the appropriate code?<br>Sorry for being a total mess…..<br>Thanx<br>&#x2F;&#x2F;R</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 19th 2012, 2:55:37 pm">May 19th 2012</span>
											by <span class='authorname'>Richard Harrysson</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Yes you need to create a file named network.js( or whatever.js) and put it on a folder name services (or any other name for the folder) the thing is that when you call this module you need to put the right path to the file without the .js. for this case and for keeping things organice do it like this: in your Resources folder  create the following structure <code>Resources&amp;#x2F;services&amp;#x2F;network.js</code> now to call the function that inside the network.js do this </p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> net = <span class="hljs-built_in">require</span>(<span class="hljs-string">'/services/network'</span>);
</code></pre><p>to add this function to the navBar button</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> rightBtn = Ti.UI.createButton({
    title: next;
})
rightBtn.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span></span>{
    net(params, yourFunction);
})

win.rightNavButton = rightBtn;
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="May 19th 2012, 3:48:12 pm">May 19th 2012</span>
											by <span class='authorname'>Arian Caraballo</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Alright! I´ll give it a go!</p>
<p>Thanx!!</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 19th 2012, 3:50:05 pm">May 19th 2012</span>
											by <span class='authorname'>Richard Harrysson</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Ok.  So here is my code now</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> win = Ti.UI.currentWindow;

    win.showNavBar();

  <span class="hljs-keyword">var</span> net = <span class="hljs-built_in">require</span>(<span class="hljs-string">'/services/network'</span>);

  <span class="hljs-keyword">var</span> rightBtn = Ti.UI.createButton({
    title: <span class="hljs-string">'next'</span>
})
rightBtn.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
    net(params, yourFunction);
})

win.rightNavButton = rightBtn;


  <span class="hljs-comment">// From where i get my photos</span>
         <span class="hljs-keyword">var</span> photoId = <span class="hljs-string">'420951027365'</span>;
<span class="hljs-keyword">var</span> params = {
    requestType: <span class="hljs-string">'GET'</span>,
    URL:  <span class="hljs-string">"https://graph.facebook.com/"</span> + photoId + <span class="hljs-string">"/photos"</span>,
    functionValues: {
        limit: <span class="hljs-number">25</span>,
        offset: <span class="hljs-number">25</span>,
        __after_id: lastID
    }
}
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">yourFunction</span> (<span class="hljs-params">e</span>) </span>{
            <span class="hljs-keyword">var</span> data = e
            <span class="hljs-keyword">var</span> images = [];
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> c=<span class="hljs-number">0</span>;c&lt;data.data.length;c++)
            {
                    images[c]= {image: data.data[c].source, width:<span class="hljs-string">'320dp'</span>};
            }
}

<span class="hljs-keyword">var</span> lastID = <span class="hljs-literal">null</span>;

  onload: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
    <span class="hljs-keyword">for</span> (<span class="hljs-number">0</span> to the end <span class="hljs-keyword">of</span> the response text){
        images[x] =  {image: data.data[c].id};

        <span class="hljs-keyword">if</span> x === the end <span class="hljs-keyword">of</span> the loop 
            lastID = save the image id
    }
}


            <span class="hljs-comment">// create coverflow view with images</span>
            <span class="hljs-keyword">var</span> view = Titanium.UI.iOS.createCoverFlowView({
                    images:images,
                    backgroundColor:<span class="hljs-string">'#000'</span>,
                    top: <span class="hljs-string">'2'</span>,
                    bottom: <span class="hljs-string">'2'</span>,
                    left: <span class="hljs-string">'2'</span>,
                    right: <span class="hljs-string">'2'</span>
            });  win.add(view);


            <span class="hljs-comment">// click listener - when image is clicked</span>
    view.addEventListener(<span class="hljs-string">'click'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{<span class="hljs-comment">//&lt;&lt;&lt;---this is the convertFlowView</span>

    <span class="hljs-comment">// the window to place the image in</span>
    <span class="hljs-keyword">var</span> imgWindow = Ti.UI.createWindow({ 
        modal: <span class="hljs-literal">true</span>,
        barColor: <span class="hljs-string">'#050505'</span>,
        backgroundColor: <span class="hljs-string">'#050505'</span> 
    }); 

    <span class="hljs-comment">// The new image view to place the selected image</span>
    <span class="hljs-keyword">var</span> fullImage = Ti.UI.createWebView({
    html: <span class="hljs-string">'&lt;meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2, user-scalable=yes" /&gt;&lt;img src="'</span>+ images[e.index].image + <span class="hljs-string">'" / Width="100%"&gt;'</span>,


        backgroundColor: <span class="hljs-string">'#050505'</span> 
    });

    <span class="hljs-comment">// Create a button to close the modal window</span>
    <span class="hljs-keyword">var</span> close_modal = Titanium.UI.createButton({title:<span class="hljs-string">'Stäng'</span>});
    imgWindow.rightNavButton = close_modal;

    <span class="hljs-comment">// Handle close_modal event</span>
    close_modal.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        imgWindow.close();
    });

    <span class="hljs-comment">// Add the views to the window and open it</span>
    imgWindow.add(fullImage);
    imgWindow.open();
});

net(params, yourFunction);
</code></pre><p>I get  some errors on the         </p>
<pre><code class="hljs">
onload: function(){
    <span class="hljs-keyword">for</span> (<span class="hljs-number">0</span> <span class="hljs-keyword">to</span> <span class="hljs-keyword">the</span> <span class="hljs-keyword">end</span> <span class="hljs-keyword">of</span> <span class="hljs-keyword">the</span> response <span class="hljs-type">text</span>){
        images[x] =  {image: data.data[c].<span class="hljs-property">id</span>};

        <span class="hljs-keyword">if</span> x === <span class="hljs-keyword">the</span> <span class="hljs-keyword">end</span> <span class="hljs-keyword">of</span> <span class="hljs-keyword">the</span> loop 
            lastID = save <span class="hljs-keyword">the</span> image <span class="hljs-property">id</span>
    }
}
</code></pre><p>so i cant try it.  I have set the network.js file in place.</p>
<p>So what is wrong with the onload:function? </p>
<p>Thanx.</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 19th 2012, 4:14:19 pm">May 19th 2012</span>
											by <span class='authorname'>Richard Harrysson</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>your onload function is not finish. Thats something I wrote to give you an idea of what you needed to do and the steps to take, that what sudo code means. refresh me on how far you are on this code</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 21st 2012, 10:13:41 am">May 21st 2012</span>
											by <span class='authorname'>Arian Caraballo</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>HI.</p>
<p>I got stuck on that and nothing i did seemed to work.</p>
<p>So i just divided it in to 2 files and did it like this</p>
<pre><code class="hljs">
<span class="hljs-keyword">var</span> win = Ti.UI.currentWindow;

win.showNavBar();

<span class="hljs-keyword">var</span> bgImage = Ti.UI.createImageView({
    height    : <span class="hljs-string">'auto'</span>,
    top        : -<span class="hljs-number">11</span>,
    fullscreen: <span class="hljs-literal">true</span>,
    image    : <span class="hljs-string">'images/h-5.jpg'</span>,
    zIndex    : <span class="hljs-number">0</span>
});
win.add(bgImage);

<span class="hljs-keyword">var</span> artist =<span class="hljs-string">'lucyseven'</span>;

<span class="hljs-keyword">var</span> url = <span class="hljs-string">"https://graph.facebook.com/"</span> + artist + <span class="hljs-string">"/albums"</span>;

<span class="hljs-keyword">var</span> table = Ti.UI.createTableView({

            backgroundColor: <span class="hljs-string">'transparent'</span>,
            separatorColor:<span class="hljs-string">'transparent'</span>,
        });
<span class="hljs-keyword">var</span> tableData = [];
<span class="hljs-keyword">var</span> json, data, name, picture, description;

<span class="hljs-keyword">var</span> xhr = Ti.Network.createHTTPClient({
    onload: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-comment">// Ti.API.debug(this.responseText);</span>

    json = <span class="hljs-built_in">JSON</span>.parse(<span class="hljs-keyword">this</span>.responseText);
    <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; json.data.length; i++) {
        data = json.data[i];
        row = Ti.UI.createTableViewRow({
            height:<span class="hljs-string">'70dp'</span>,
            backgroundColor: <span class="hljs-string">'transparent'</span>,
            separatorColor:<span class="hljs-string">'transparent'</span>,
        });
      <span class="hljs-keyword">var</span>  name = Ti.UI.createLabel({
            text: data.name,
            font:{
                fontSize:<span class="hljs-string">'17dp'</span>,
            fontWeight:<span class="hljs-string">'bold'</span>
        },
        height:<span class="hljs-string">'auto'</span>,
        left:<span class="hljs-string">'90dp'</span>,
        top:<span class="hljs-string">'10dp'</span>,
        color:<span class="hljs-string">'#eee'</span>,
        touchEnabled:<span class="hljs-literal">true</span>
        });
        row.add(name);

      <span class="hljs-comment">// Avatar</span>
                <span class="hljs-keyword">var</span> img = Ti.UI.createImageView({
                    image    : <span class="hljs-string">"https://fbcdn-profile-a.akamaihd.net/hprofile-ak-snc4/373026_41763487365_845007439_n.jpg"</span> ,
                    width    : <span class="hljs-number">70</span>,
                    height    : <span class="hljs-number">50</span>,
                    top        : <span class="hljs-number">5</span>,
                    bottom    : <span class="hljs-number">5</span>,
                    borderRadius: <span class="hljs-number">5</span>,
                    borderColor: <span class="hljs-string">'#eee'</span>,
                    left    : <span class="hljs-number">5</span>
                });
                row.add(img);




        row.id = data.id;
        row.name = data.name;


        tableData.push(row);
        }

    table.setData(tableData);
    },
    onerror: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
    Ti.API.debug(<span class="hljs-string">"STATUS: "</span> + <span class="hljs-keyword">this</span>.status);
    Ti.API.debug(<span class="hljs-string">"TEXT:   "</span> + <span class="hljs-keyword">this</span>.responseText);
    Ti.API.debug(<span class="hljs-string">"ERROR:  "</span> + e.error);
    alert(<span class="hljs-string">'There was an error retrieving the remote data. Try again.'</span>);
    },
    timeout:<span class="hljs-number">5000</span>
});

xhr.open(<span class="hljs-string">"GET"</span>, url);
xhr.send();

win.add(table);
win.open();
<span class="hljs-comment">// Handle a click event on the table</span>
        table.addEventListener(<span class="hljs-string">'click'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
            <span class="hljs-comment">// Create the new window with the link from the post</span>
            <span class="hljs-keyword">var</span> faceWindow = Ti.UI.createWindow({
                title    : e.row.name,
                data: e.row.id,           <span class="hljs-comment">// Pass the row data to the new window for use</span>
                url: <span class="hljs-string">'gallview.js'</span>,
                barColor: <span class="hljs-string">'#050505'</span>,
                backgroundColor: <span class="hljs-string">'#050505'</span>                
            });


            <span class="hljs-comment">// Create the close button to go in the left area of the navbar popup</span>
            <span class="hljs-keyword">var</span> close = Titanium.UI.createButton({
                title: <span class="hljs-string">'Bakåt'</span>,
                style: Titanium.UI.iPhone.SystemButtonStyle.PLAIN
            });
            faceWindow.setLeftNavButton(close);

            <span class="hljs-comment">// Handle the close event</span>
            close.addEventListener(<span class="hljs-string">'click'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                faceWindow.close();
            });



                    <span class="hljs-comment">// Open the window in the current tab</span>
    Titanium.UI.currentTab.open(faceWindow, { animated:<span class="hljs-literal">true</span> });
        });
</code></pre><p>And this is the gallview.js</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> win = Ti.UI.currentWindow;

    win.showNavBar();

 <span class="hljs-keyword">var</span> bgImage = Ti.UI.createImageView({
    height    : <span class="hljs-string">'auto'</span>,
    top        : -<span class="hljs-number">11</span>,
    image    : <span class="hljs-string">'images/h-6.jpg'</span>,
    zIndex    : <span class="hljs-number">0</span>
});
win.add(bgImage);



     <span class="hljs-comment">// From where i get my photos</span>
         <span class="hljs-keyword">var</span> url = <span class="hljs-string">"https://graph.facebook.com/"</span> + win.data + <span class="hljs-string">"/photos"</span>;

    <span class="hljs-comment">// Create our HTTP Client and name it "loader"</span>
        <span class="hljs-keyword">var</span> loader = Titanium.Network.createHTTPClient();

        <span class="hljs-comment">// Runs the function when the data is ready for us to process</span>
        loader.onload = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">var</span> data = <span class="hljs-built_in">JSON</span>.parse(<span class="hljs-keyword">this</span>.responseText);
            <span class="hljs-keyword">var</span> images = [];
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> c=<span class="hljs-number">0</span>;c&lt;data.data.length;c++)
            {
                    images[c]= {image: data.data[c].source, width:<span class="hljs-string">'250dp'</span>, height:<span class="hljs-string">'250dp'</span>};
            }

            <span class="hljs-comment">// create coverflow view with images</span>
            <span class="hljs-keyword">var</span> view = Titanium.UI.iOS.createCoverFlowView({
                    images:images,
                    backgroundColor:<span class="hljs-string">'transparent'</span>,


            });  win.add(view);


            <span class="hljs-comment">// click listener - when image is clicked</span>
    view.addEventListener(<span class="hljs-string">'click'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{<span class="hljs-comment">//&lt;&lt;&lt;---this is the convertFlowView</span>

    <span class="hljs-comment">// the window to place the image in</span>
    <span class="hljs-keyword">var</span> imgWindow = Ti.UI.createWindow({ 
        modal: <span class="hljs-literal">true</span>,
        barColor: <span class="hljs-string">'#050505'</span>,
        backgroundColor: <span class="hljs-string">'#050505'</span> 
    }); 

    <span class="hljs-comment">// The new image view to place the selected image</span>
    <span class="hljs-keyword">var</span> fullImage = Ti.UI.createWebView({
    html: <span class="hljs-string">'&lt;meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2, user-scalable=yes" /&gt;&lt;img src="'</span>+ images[e.index].image + <span class="hljs-string">'" / Width="100%"&gt;'</span>,


        backgroundColor: <span class="hljs-string">'#050505'</span> 
    });

    <span class="hljs-comment">// Create a button to close the modal window</span>
    <span class="hljs-keyword">var</span> close_modal = Titanium.UI.createButton({title:<span class="hljs-string">'Stäng'</span>});
    imgWindow.rightNavButton = close_modal;

    <span class="hljs-comment">// Handle close_modal event</span>
    close_modal.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        imgWindow.close();
    });

    <span class="hljs-comment">// Add the views to the window and open it</span>
    imgWindow.add(fullImage);
    imgWindow.open();
});
                   }  


        loader.open(<span class="hljs-string">"GET"</span>, url);

        <span class="hljs-comment">// Send the HTTP request</span>
        loader.send();
</code></pre><p>That way i just can get 25 pics from album so i just put 25 pics in every album.</p>
<p>But it would be nicer to be able to have more pics and the the nav thru the api with next and back buttons in the navbar.</p>
<p>One thing i cant get to work with this is the avatar pic in the first codeto the coverphoto of the albums.</p>
<p>I should be able to parse it thru &quot;http:&#x2F;&#x2F;www.graph.facebook.com&#x2F;&quot; + data.cover_photo + &quot;&#x2F;photos&quot; but that dont return anything….</p>
<p>It would be great if you had a solution on the back&#x2F;next buttons.</p>
<p>Thanx for your time.</p>
<p>&#x2F;&#x2F;R</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 22nd 2012, 5:36:14 pm">May 22nd 2012</span>
											by <span class='authorname'>Richard Harrysson</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>ok Lets do this can you post the URL that you are using to get pictures from again here. im going to give you the syntax up to the point where you get the right json by clicking next&#x2F;back you are going to build the UI ( user interface ) base on that json</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 23rd 2012, 11:02:52 am">May 23rd 2012</span>
											by <span class='authorname'>Arian Caraballo</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Alright!</p>
<p>Here is where i get my albums:</p>
<p>http:&#x2F;&#x2F;graph.facebook.com&#x2F;lucyseven&#x2F;albums</p>
<p>After clicked on the album i get the photos from here:</p>
<p>http:&#x2F;&#x2F;graph.facebook.com&#x2F; + win.data + &#x2F;photos   where win.data is 439240522365 for profile pic album for example. so if you look at http:&#x2F;&#x2F;graph.facebook&#x2F;439240522365&#x2F;photos then you see &quot;paging&quot; in the bottom.</p>
<p>Thanx!</p>
<p>&#x2F;&#x2F;R</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 23rd 2012, 11:30:36 am">May 23rd 2012</span>
											by <span class='authorname'>Richard Harrysson</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Im getting empty  data if I go to the next paging link…. is it because there is no more pictures???? Do you have one with more than 25 pic?</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 23rd 2012, 12:31:48 pm">May 23rd 2012</span>
											by <span class='authorname'>Arian Caraballo</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Sorry for that….   this album has 52 pictures</p>
<p>http:&#x2F;&#x2F;graph.facebook.com&#x2F;420951027365&#x2F;photos</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 23rd 2012, 12:54:30 pm">May 23rd 2012</span>
											by <span class='authorname'>Richard Harrysson</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-239025">
				
						<section>
							<p>Ok i am a total newbie so iam going to ask you a bunch of stupid questions now.</p>
<p>This is a template that i am fooling around with and i am picking it up as i go to understand what i am doing.<br>All i want to do is to make a kick ass app for my band so i am not a programmer.</p>
<p>The network file  will i call that network.js and put it in services?</p>
<p>How will i get the buttons in the navbar with the appropriate code? </p>
<p>Sorry for being a total mess…..</p>
<p>Thanx</p>
<p>&#x2F;&#x2F;R</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="May 19th 2012, 1:43:26 pm">May 19th 2012</span>
								by <span class='authorname'>Richard Harrysson</span><br>
								<a class="icon-bg icon-link" href="question/137186/more-pictures-in-coverflow-with-navbar-buttons#answer-239025" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
