<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Calculation from input and and another variable » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Calculation from input and and another variable</h1>
		</header>
		<section>
			<p>Hi<br>Im new to tianium and am currently working on a small application which preforms a simple mathematical equation, I can not seem to get an output with a result it just comes up as NAN were my result should be.</p>
<p>The user types in a number and when the user pushes the button the application should then take the users data they input into the field and dived it by 13 then output the result. </p>
<p>I have been checking out resources but no specific answer I have found for this kind of scenario. </p>
<p>Any advice would be much appreciated thanks</p>
<p>Below is my current code.</p>
<pre><code class="hljs">var win = Titanium.UI.currentWindow;
<span class="hljs-comment">// Bar color and tite decleration for page</span>
win.barColor = <span class="hljs-string">'#9d2425'</span>;
win.backgroundColor = <span class="hljs-string">'#fff'</span>;
win.title = L(<span class="hljs-string">'Calculator'</span>);
<span class="hljs-comment">// Aspects of UI and functions</span>

<span class="hljs-comment">// Top Instructions</span>
var topInst = Titanium.UI.createLabel({
  <span class="hljs-built_in">color</span>:<span class="hljs-string">'#999'</span>,
  <span class="hljs-built_in">text</span>:<span class="hljs-string">'How Many Grams of Carbohydrates does you meal contain?'</span>,
  font:{fontSize:<span class="hljs-number">18</span>},
  <span class="hljs-built_in">textAlign</span>:<span class="hljs-string">'center'</span>,
  top: <span class="hljs-number">10</span>,
  <span class="hljs-variable">width</span>: <span class="hljs-number">310</span>
});

<span class="hljs-comment">//Inoput text area for carbs</span>
var carbs = Ti.UI.createTextArea({
  borderWidth: <span class="hljs-number">2</span>,
  marginLeft: <span class="hljs-string">'auto'</span>,
  marginRight: <span class="hljs-string">'auto'</span>,
  borderColor: <span class="hljs-string">'#bbb'</span>,
  borderRadius: <span class="hljs-number">5</span>,
  <span class="hljs-built_in">color</span>: <span class="hljs-string">'#999'</span>,
  font: {fontSize:<span class="hljs-number">24</span>, fontWeight:<span class="hljs-string">'bold'</span>},
  keyboardType: Ti.UI.KEYBOARD_NUMBERS_PUNCTUATION,
  returnKeyType: Ti.UI.RETURNKEY_GO,
  <span class="hljs-built_in">textAlign</span>: <span class="hljs-string">'center'</span>,
  top: <span class="hljs-number">70</span>,
  <span class="hljs-variable">width</span>: <span class="hljs-number">200</span>, <span class="hljs-variable">height</span> : <span class="hljs-number">40</span>
});

<span class="hljs-comment">//Convertor button</span>
var buttonCon = Ti.UI.createButton({
 title:<span class="hljs-string">'Convert'</span>,
 <span class="hljs-variable">width</span>: <span class="hljs-number">200</span>,
 <span class="hljs-variable">height</span>: <span class="hljs-number">40</span>,
 top: <span class="hljs-number">130</span>
});

<span class="hljs-comment">//Output box with result</span>
var output = Titanium.UI.createLabel({
        top:<span class="hljs-number">200</span>,
        <span class="hljs-variable">width</span>:<span class="hljs-number">200</span>,
        <span class="hljs-variable">height</span>:<span class="hljs-string">'auto'</span>,
        <span class="hljs-built_in">color</span>:<span class="hljs-string">'#fff'</span>,
        backgroundColor: <span class="hljs-string">'#9d2526'</span>,
          borderRadius: <span class="hljs-number">5</span>,
        font:{fontSize:<span class="hljs-number">32</span>},
        <span class="hljs-built_in">textAlign</span>:<span class="hljs-string">'center'</span>,
        <span class="hljs-built_in">text</span>:<span class="hljs-string">''</span>
    });

<span class="hljs-comment">//Event listners for functions button &amp; calc. </span>

    var incarb = carbs.value;
    <span class="hljs-comment">//var result = incarb/13;</span>
    var rat1 = <span class="hljs-number">13</span>
buttonCon.addEventListener(<span class="hljs-string">'click'</span>, function(e)         

    {    
        output.<span class="hljs-built_in">text</span> = (e.incarb/e.rat1);

    });
</code></pre>
		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="March 26th 2013, 12:57:51 pm">March 26th 2013</span>
				by <span class='authorname'>Richard Farley</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>calculator</span></li>
					
						<li><span class='tagname'>iphone</span></li>
					
						<li><span class='tagname'>mobile</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>3</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>3 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-259419">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>Hi</p>
<p>Here is the code for you run it in app.js and happy coding</p>
<pre><code class="hljs">var win = Titanium.UI.createWindow({
    <span class="hljs-string">backgroundColor :</span> <span class="hljs-string">'white'</span>
});
<span class="hljs-comment">// Bar color and tite decleration for page</span>
win.barColor = <span class="hljs-string">'#9d2425'</span>;
win.backgroundColor = <span class="hljs-string">'#fff'</span>;
win.title = L(<span class="hljs-string">'Calculator'</span>);
<span class="hljs-comment">// Aspects of UI and functions</span>

<span class="hljs-comment">// Top Instructions</span>
var topInst = Titanium.UI.createLabel({
    <span class="hljs-string">color :</span> <span class="hljs-string">'#999'</span>,
    <span class="hljs-string">text :</span> <span class="hljs-string">'How Many Grams of Carbohydrates does you meal contain?'</span>,
    <span class="hljs-string">font :</span> {
        <span class="hljs-string">fontSize :</span> <span class="hljs-number">18</span>
    },
    <span class="hljs-string">textAlign :</span> <span class="hljs-string">'center'</span>,
    <span class="hljs-string">top :</span> <span class="hljs-number">10</span>,
    <span class="hljs-string">width :</span> <span class="hljs-number">310</span>
});
win.add(topInst);
<span class="hljs-comment">//Inoput text area for carbs</span>
var carbs = Ti.UI.createTextArea({
    <span class="hljs-string">borderWidth :</span> <span class="hljs-number">2</span>,
    <span class="hljs-string">marginLeft :</span> <span class="hljs-string">'auto'</span>,
    <span class="hljs-string">marginRight :</span> <span class="hljs-string">'auto'</span>,
    <span class="hljs-string">borderColor :</span> <span class="hljs-string">'#bbb'</span>,
    <span class="hljs-string">borderRadius :</span> <span class="hljs-number">5</span>,
    <span class="hljs-string">color :</span> <span class="hljs-string">'#999'</span>,
    <span class="hljs-string">font :</span> {
        <span class="hljs-string">fontSize :</span> <span class="hljs-number">24</span>,
        <span class="hljs-string">fontWeight :</span> <span class="hljs-string">'bold'</span>
    },
    <span class="hljs-string">keyboardType :</span> Ti.UI.KEYBOARD_NUMBERS_PUNCTUATION,
    <span class="hljs-string">returnKeyType :</span> Ti.UI.RETURNKEY_GO,
    <span class="hljs-string">textAlign :</span> <span class="hljs-string">'center'</span>,
    <span class="hljs-string">top :</span> <span class="hljs-number">70</span>,
    <span class="hljs-string">width :</span> <span class="hljs-number">200</span>,
    <span class="hljs-string">height :</span> <span class="hljs-number">40</span>
});
win.add(carbs);
<span class="hljs-comment">//Convertor button</span>
var buttonCon = Ti.UI.createButton({
    <span class="hljs-string">title :</span> <span class="hljs-string">'Convert'</span>,
    <span class="hljs-string">width :</span> <span class="hljs-number">200</span>,
    <span class="hljs-string">height :</span> <span class="hljs-number">40</span>,
    <span class="hljs-string">top :</span> <span class="hljs-number">130</span>
});
win.add(buttonCon);
<span class="hljs-comment">//Output box with result</span>
var output = Titanium.UI.createLabel({
    <span class="hljs-string">top :</span> <span class="hljs-number">200</span>,
    <span class="hljs-string">width :</span> <span class="hljs-number">200</span>,
    <span class="hljs-string">height :</span> <span class="hljs-string">'auto'</span>,
    <span class="hljs-string">color :</span> <span class="hljs-string">'#fff'</span>,
    <span class="hljs-string">backgroundColor :</span> <span class="hljs-string">'#9d2526'</span>,
    <span class="hljs-string">borderRadius :</span> <span class="hljs-number">5</span>,
    <span class="hljs-string">font :</span> {
        <span class="hljs-string">fontSize :</span> <span class="hljs-number">32</span>
    },
    <span class="hljs-string">textAlign :</span> <span class="hljs-string">'center'</span>,
    <span class="hljs-string">text :</span> <span class="hljs-string">''</span>
});
win.add(output);
<span class="hljs-comment">//Event listners for functions button &amp; calc.</span>

var incarb = carbs.value;
<span class="hljs-comment">//var result = incarb/13;</span>
var rat1 = <span class="hljs-number">13</span>
buttonCon.addEventListener(<span class="hljs-string">'click'</span>, function(e) {
    output.text = (incarb / rat1);

});
win.open();
</code></pre><p>Thanks</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="March 26th 2013, 1:30:46 pm">March 26th 2013</span>
								by <span class='authorname'>Muhammad Wahhab Mirza</span><br>
								<a class="icon-bg icon-link" href="question/150059/calculation-from-input-and-and-another-variable#answer-259419" rel="permalink">permalink</a>
							</div>

							<h5>2 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Here is the best tested code:</p>
<pre><code class="hljs">var win = Titanium.UI.createWindow({
    <span class="hljs-string">backgroundColor :</span> <span class="hljs-string">'white'</span>
});
<span class="hljs-comment">// Bar color and tite decleration for page</span>
win.barColor = <span class="hljs-string">'#9d2425'</span>;
win.backgroundColor = <span class="hljs-string">'#fff'</span>;
win.title = L(<span class="hljs-string">'Calculator'</span>);
<span class="hljs-comment">// Aspects of UI and functions</span>

<span class="hljs-comment">// Top Instructions</span>
var topInst = Titanium.UI.createLabel({
    <span class="hljs-string">color :</span> <span class="hljs-string">'#999'</span>,
    <span class="hljs-string">text :</span> <span class="hljs-string">'How Many Grams of Carbohydrates does you meal contain?'</span>,
    <span class="hljs-string">font :</span> {
        <span class="hljs-string">fontSize :</span> <span class="hljs-number">18</span>
    },
    <span class="hljs-string">textAlign :</span> <span class="hljs-string">'center'</span>,
    <span class="hljs-string">top :</span> <span class="hljs-number">10</span>,
    <span class="hljs-string">width :</span> <span class="hljs-number">310</span>
});
win.add(topInst);
<span class="hljs-comment">//Inoput text area for carbs</span>
var carbs = Ti.UI.createTextArea({
    <span class="hljs-string">borderWidth :</span> <span class="hljs-number">2</span>,
    <span class="hljs-string">marginLeft :</span> <span class="hljs-string">'auto'</span>,
    <span class="hljs-string">marginRight :</span> <span class="hljs-string">'auto'</span>,
    <span class="hljs-string">borderColor :</span> <span class="hljs-string">'#bbb'</span>,
    <span class="hljs-string">borderRadius :</span> <span class="hljs-number">5</span>,
    <span class="hljs-string">color :</span> <span class="hljs-string">'#999'</span>,
    <span class="hljs-string">font :</span> {
        <span class="hljs-string">fontSize :</span> <span class="hljs-number">24</span>,
        <span class="hljs-string">fontWeight :</span> <span class="hljs-string">'bold'</span>
    },
    <span class="hljs-string">keyboardType :</span> Ti.UI.KEYBOARD_NUMBERS_PUNCTUATION,
    <span class="hljs-string">returnKeyType :</span> Ti.UI.RETURNKEY_GO,
    <span class="hljs-string">textAlign :</span> <span class="hljs-string">'center'</span>,
    <span class="hljs-string">top :</span> <span class="hljs-number">70</span>,
    <span class="hljs-string">width :</span> <span class="hljs-number">200</span>,
    <span class="hljs-string">height :</span> <span class="hljs-number">40</span>
});
win.add(carbs);
<span class="hljs-comment">//Convertor button</span>
var buttonCon = Ti.UI.createButton({
    <span class="hljs-string">title :</span> <span class="hljs-string">'Convert'</span>,
    <span class="hljs-string">width :</span> <span class="hljs-number">200</span>,
    <span class="hljs-string">height :</span> <span class="hljs-number">40</span>,
    <span class="hljs-string">top :</span> <span class="hljs-number">130</span>
});
win.add(buttonCon);
<span class="hljs-comment">//Output box with result</span>
var output = Titanium.UI.createLabel({
    <span class="hljs-string">top :</span> <span class="hljs-number">200</span>,
    <span class="hljs-string">width :</span> <span class="hljs-number">200</span>,
    <span class="hljs-string">height :</span> <span class="hljs-string">'auto'</span>,
    <span class="hljs-string">color :</span> <span class="hljs-string">'#fff'</span>,
    <span class="hljs-string">backgroundColor :</span> <span class="hljs-string">'#9d2526'</span>,
    <span class="hljs-string">borderRadius :</span> <span class="hljs-number">5</span>,
    <span class="hljs-string">font :</span> {
        <span class="hljs-string">fontSize :</span> <span class="hljs-number">32</span>
    },
    <span class="hljs-string">textAlign :</span> <span class="hljs-string">'center'</span>,
    <span class="hljs-string">text :</span> <span class="hljs-string">''</span>
});
win.add(output);

var rat1 = <span class="hljs-number">13</span>
buttonCon.addEventListener(<span class="hljs-string">'click'</span>, function(e) {
    output.text = (carbs.value / rat1);

});
win.open();
</code></pre><p>Thanks</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 26th 2013, 1:35:11 pm">March 26th 2013</span>
											by <span class='authorname'>Muhammad Wahhab Mirza</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Muhammad.. Wont this only use the original value …. as it will set the carbs.value as it was at time of creating the event listener and funtion… so it needs to be e.value …</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 26th 2013, 1:48:46 pm">March 26th 2013</span>
											by <span class='authorname'>Trevor Ward</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-259418">
				
						<section>
							<p>I think you may have got a little confused …</p>
<p>e contains the properties of the buttonCon object, not variables defined within the code.</p>
<p>so ….</p>
<pre><code class="hljs">
output.text = <span class="hljs-keyword">Number</span>(e.<span class="hljs-keyword">value</span>) / rat1;
</code></pre><p>T..</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="March 26th 2013, 1:24:23 pm">March 26th 2013</span>
								by <span class='authorname'>Trevor Ward</span><br>
								<a class="icon-bg icon-link" href="question/150059/calculation-from-input-and-and-another-variable#answer-259418" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-259420">
				
						<section>
							<p>Thanks For the help guys and the explanations on were I was going wrong.</p>
<p>Thanks.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="March 26th 2013, 1:48:08 pm">March 26th 2013</span>
								by <span class='authorname'>Richard Farley</span><br>
								<a class="icon-bg icon-link" href="question/150059/calculation-from-input-and-and-another-variable#answer-259420" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>OK if it helped you don&#39;t forget to mark the thread as answered would help other in future and use the comment facility instead of making the whole new answer which is actually a comment</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 26th 2013, 1:54:40 pm">March 26th 2013</span>
											by <span class='authorname'>Muhammad Wahhab Mirza</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
