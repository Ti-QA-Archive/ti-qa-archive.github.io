<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>about timer Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>about timer</h1>
		</header>
		<section>
			<p>am using the following code for timer. the problem it is the code to decrease the timer. i need the code to increase the timer from 1sec. that is the timer has to start from 00:00   is it possible if so what are the changes to be made. thanks.</p>
<pre><code class="hljs"><span class="hljs-comment">/*************************************************************
 * This script is developed by Arturs Sosins aka ar2rsawseen, http://appcodingeasy.com/
 * Feel free to distribute and modify code, but keep reference to its creator
 *
 * Coutndown class displays updating countdown using provided left time or target timestamp.
 * It is possible to display countdown in different time units and formats by providing
 * label objects for specified time units
 *
 * For more information, examples and online documentation visit: 
 * http://appcodingeasy.com/Titanium-Mobile/Any-format-countdown
**************************************************************/</span>
<span class="hljs-keyword">var</span> countdown = function(config) {
    <span class="hljs-keyword">var</span> <span class="hljs-keyword">timer</span> = null;
    <span class="hljs-keyword">var</span> <span class="hljs-keyword">conf</span> = {
        <span class="hljs-comment">//specified timestamp</span>
        time: 0,
        <span class="hljs-comment">//time</span>
        year : 0,
        month : 0,
        week : 0,
        day : 0,
        hour : 0,
        min : 0,
        sec : 0,
        <span class="hljs-comment">//labels</span>
        label_year : null,
        label_month : null,
        label_week : null,
        label_day : null,
        label_hour : null,
        label_min : null,
        label_sec : null,
        <span class="hljs-comment">//end label</span>
        end : null,
        <span class="hljs-comment">//settings</span>
        hide_zeros : false,
        leading_zeros: true,
        onend: null,
        onstep: null
    };

    <span class="hljs-keyword">var</span> offset = false;
    <span class="hljs-keyword">var</span> abr = {
        y : {name: <span class="hljs-string">"year"</span>, used: false, value: 0, template:<span class="hljs-string">""</span>},
        <span class="hljs-keyword">m</span> : {name: <span class="hljs-string">"month"</span>, used: false, value: 0, template:<span class="hljs-string">""</span>},
        w : {name: <span class="hljs-string">"week"</span>, used: false, value: 0, template:<span class="hljs-string">""</span>},
        <span class="hljs-keyword">d</span> : {name: <span class="hljs-string">"day"</span>, used: false, value: 0, template:<span class="hljs-string">""</span>},
        <span class="hljs-keyword">h</span> : {name: <span class="hljs-string">"hour"</span>, used: false, value: 0, template:<span class="hljs-string">""</span>},
        i : {name: <span class="hljs-string">"min"</span>, used: false, value: 0, template:<span class="hljs-string">""</span>},
        s : {name: <span class="hljs-string">"sec"</span>, used: false, value: 0, template:<span class="hljs-string">""</span>}
    };
    <span class="hljs-keyword">var</span> months = [
        [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31],
        [31, 29, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31]
    ];

    <span class="hljs-comment">//start countdown</span>
    <span class="hljs-keyword">var</span> construct = function(){
        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> opt <span class="hljs-keyword">in</span> config){
            <span class="hljs-keyword">conf</span>[opt]= config[opt];
        }
        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i <span class="hljs-keyword">in</span> abr)
        {
            <span class="hljs-keyword">if</span>(<span class="hljs-keyword">conf</span>[<span class="hljs-string">"label_"</span> + abr[i].name] != null)
            {
                abr[i].used = true;
                <span class="hljs-keyword">if</span>(<span class="hljs-keyword">conf</span>[<span class="hljs-string">"label_"</span> + abr[i].name].text.<span class="hljs-keyword">toString</span>().indexOf(<span class="hljs-string">"{"</span> + i + <span class="hljs-string">"}"</span>) != -1)
                {
                    abr[i].template = <span class="hljs-keyword">conf</span>[<span class="hljs-string">"label_"</span> + abr[i].name].text.<span class="hljs-keyword">toString</span>();
                    <span class="hljs-keyword">conf</span>[<span class="hljs-string">"label_"</span> + abr[i].name].text = <span class="hljs-string">""</span>;
                }
            }
        }
        <span class="hljs-keyword">if</span>(<span class="hljs-keyword">conf</span>.time &gt; 0)
        {
            <span class="hljs-keyword">conf</span>.sec = <span class="hljs-keyword">conf</span>.time - Math.<span class="hljs-literal">round</span>(new <span class="hljs-literal">Date</span>().getTime() / 1000);
        }
        normalize();
        recalc();
        <span class="hljs-keyword">timer</span> = setInterval(<span class="hljs-keyword">update</span>, 1000);
    };

    this.start = function(){
        <span class="hljs-keyword">if</span>(<span class="hljs-keyword">timer</span> == null)
        {
            <span class="hljs-keyword">timer</span> = setInterval(<span class="hljs-keyword">update</span>, 1000);
        }
    }

    this.stop = function(){
        <span class="hljs-keyword">if</span>(<span class="hljs-keyword">timer</span> != null)
        {
            clearInterval(<span class="hljs-keyword">timer</span>);
            <span class="hljs-keyword">timer</span> = null;
        }
    }

    <span class="hljs-comment">//normalize things like 100 sec to 1 min and 40 sec</span>
    <span class="hljs-keyword">var</span> normalize = function(){
        <span class="hljs-keyword">conf</span>.min += Math.<span class="hljs-literal">floor</span>(<span class="hljs-keyword">conf</span>.sec/60);
        <span class="hljs-keyword">conf</span>.sec = <span class="hljs-keyword">conf</span>.sec % 60;

        <span class="hljs-keyword">conf</span>.hour += Math.<span class="hljs-literal">floor</span>(<span class="hljs-keyword">conf</span>.min/60);
        <span class="hljs-keyword">conf</span>.min = <span class="hljs-keyword">conf</span>.min % 60;

        <span class="hljs-keyword">conf</span>.day += Math.<span class="hljs-literal">floor</span>(<span class="hljs-keyword">conf</span>.hour/24);
        <span class="hljs-keyword">conf</span>.hour = <span class="hljs-keyword">conf</span>.hour % 24;

        <span class="hljs-keyword">conf</span>.day += <span class="hljs-keyword">conf</span>.week*7;
        <span class="hljs-keyword">conf</span>.week = 0;

        <span class="hljs-keyword">var</span> <span class="hljs-keyword">d</span> = new <span class="hljs-literal">Date</span>();
        <span class="hljs-keyword">var</span> month = <span class="hljs-keyword">d</span>.getMonth();
        <span class="hljs-keyword">var</span> year = <span class="hljs-keyword">d</span>.getFullYear();
        <span class="hljs-keyword">var</span> date = <span class="hljs-keyword">d</span>.getDate();
        <span class="hljs-keyword">var</span> leftover = months[is_leap_year(year)][month] - date;
        <span class="hljs-keyword">var</span> temp;
        <span class="hljs-keyword">if</span>(<span class="hljs-keyword">conf</span>.day &gt; leftover)
        {
            <span class="hljs-keyword">conf</span>.day -= leftover; 
            <span class="hljs-keyword">do</span>
            {
                month++;
                <span class="hljs-keyword">if</span>(month &gt; 11)
                {
                    year++;
                    month = 0;
                }
                temp = <span class="hljs-keyword">conf</span>.day - months[is_leap_year(year)][month];
                <span class="hljs-keyword">if</span>(temp &gt;= 0)
                {
                    <span class="hljs-keyword">conf</span>.month++;
                    <span class="hljs-keyword">if</span>(<span class="hljs-keyword">conf</span>.month &gt; 11)
                    {
                        <span class="hljs-keyword">conf</span>.year++;
                        <span class="hljs-keyword">conf</span>.month = 0;
                    }
                    <span class="hljs-keyword">conf</span>.day = temp;
                }
            }
            <span class="hljs-keyword">while</span>(temp &gt; 0);
            <span class="hljs-keyword">if</span>(<span class="hljs-keyword">conf</span>.day &gt;= date)
            {
                <span class="hljs-keyword">conf</span>.day -= date;
                <span class="hljs-keyword">conf</span>.month++;
                offset = true;
            }
            <span class="hljs-keyword">else</span>
            {
                <span class="hljs-keyword">conf</span>.day += leftover;
            }
            <span class="hljs-keyword">conf</span>.week += Math.<span class="hljs-literal">floor</span>(<span class="hljs-keyword">conf</span>.day/7);
            <span class="hljs-keyword">conf</span>.day = <span class="hljs-keyword">conf</span>.day % 7;
        }

        <span class="hljs-keyword">conf</span>.year += Math.<span class="hljs-literal">floor</span>(<span class="hljs-keyword">conf</span>.month/12);
        <span class="hljs-keyword">conf</span>.month = <span class="hljs-keyword">conf</span>.month % 12;
    };

    <span class="hljs-comment">//recalculate to whats been requested in format string</span>
    <span class="hljs-keyword">var</span> recalc = function(){
        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i <span class="hljs-keyword">in</span> abr)
        {
            abr[i].value = <span class="hljs-keyword">conf</span>[abr[i].name];
        }
        <span class="hljs-keyword">if</span>(!abr.y.used)
        {
            abr.<span class="hljs-keyword">m</span>.value += (abr.y.value*12);
            abr.y.value = 0;
        }
        <span class="hljs-keyword">if</span>(!abr.<span class="hljs-keyword">m</span>.used)
        {
            <span class="hljs-keyword">var</span> <span class="hljs-keyword">d</span> = new <span class="hljs-literal">Date</span>();
            <span class="hljs-keyword">var</span> month = <span class="hljs-keyword">d</span>.getMonth();
            <span class="hljs-keyword">var</span> year = <span class="hljs-keyword">d</span>.getFullYear();
            <span class="hljs-keyword">if</span>(!offset)
            {
                month++;
                <span class="hljs-keyword">if</span>(month &gt; 11)
                {
                    year++;
                    month = 0;
                }
            }
            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i = 0; i &lt; abr.<span class="hljs-keyword">m</span>.value; i++)
            {
                abr.<span class="hljs-keyword">d</span>.value += months[is_leap_year(year)][month];
                month++;
                <span class="hljs-keyword">if</span>(month &gt; 11)
                {
                    year++;
                    month = 0;
                }
            }
            abr.<span class="hljs-keyword">m</span>.value = 0;
        }
        <span class="hljs-keyword">if</span>(!abr.w.used)
        {
            abr.<span class="hljs-keyword">d</span>.value += (abr.w.value*7);
            abr.w.value = 0;
        }
        <span class="hljs-keyword">else</span>
        {
            abr.w.value += Math.<span class="hljs-literal">floor</span>(abr.<span class="hljs-keyword">d</span>.value/7);
            abr.<span class="hljs-keyword">d</span>.value = abr.<span class="hljs-keyword">d</span>.value % 7;
        }
        <span class="hljs-keyword">if</span>(!abr.<span class="hljs-keyword">d</span>.used)
        {
            abr.<span class="hljs-keyword">h</span>.value += (abr.<span class="hljs-keyword">d</span>.value*24);
            abr.<span class="hljs-keyword">d</span>.value = 0;
        }
        <span class="hljs-keyword">if</span>(!abr.<span class="hljs-keyword">h</span>.used)
        {
            abr.i.value += (abr.<span class="hljs-keyword">h</span>.value*60);
            abr.<span class="hljs-keyword">h</span>.value = 0;
        }
        <span class="hljs-keyword">if</span>(!abr.i.used)
        {
            abr.s.value += (abr.i.value*60);
            abr.i.value = 0;
        }
        <span class="hljs-keyword">if</span>(!abr.s.used)
        {
            abr.s.value = 0;
        }
    };

    <span class="hljs-comment">//update countdown elements</span>
    <span class="hljs-keyword">var</span> <span class="hljs-keyword">update</span> = function (){
        <span class="hljs-keyword">conf</span>.sec--;
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">conf</span>.sec == -1)
        {
            <span class="hljs-keyword">conf</span>.min--;
            <span class="hljs-keyword">conf</span>.sec = 59;
        }
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">conf</span>.min == -1)
        {
            <span class="hljs-keyword">conf</span>.hour--;
            <span class="hljs-keyword">conf</span>.min = 59;
        }
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">conf</span>.hour == -1)
        {
            <span class="hljs-keyword">conf</span>.day--;
            <span class="hljs-keyword">conf</span>.hour = 23;
        }
        <span class="hljs-keyword">if</span>(<span class="hljs-keyword">conf</span>.day == -1)
        {
            <span class="hljs-keyword">conf</span>.week--;
            <span class="hljs-keyword">conf</span>.day = 6;
        }
        <span class="hljs-keyword">if</span>(<span class="hljs-keyword">conf</span>.week == -1)
        {
            <span class="hljs-keyword">conf</span>.month--;
            <span class="hljs-keyword">var</span> <span class="hljs-keyword">d</span> = new <span class="hljs-literal">Date</span>();
            <span class="hljs-keyword">var</span> month = <span class="hljs-keyword">d</span>.getMonth();
            <span class="hljs-keyword">var</span> year = <span class="hljs-keyword">d</span>.getFullYear();
            <span class="hljs-keyword">if</span>(!offset)
            {
                month++;
                <span class="hljs-keyword">if</span>(month &gt; 11)
                {
                    year++;
                    month = 0;
                }
            }
            <span class="hljs-keyword">var</span> days = months[is_leap_year(year)][month]-1;
            <span class="hljs-keyword">conf</span>.week = Math.<span class="hljs-literal">floor</span>(days/7);
            <span class="hljs-keyword">conf</span>.day = days % 7;
        }
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">conf</span>.month == -1)
        {
            <span class="hljs-keyword">conf</span>.year--;
            <span class="hljs-keyword">conf</span>.month = 11;
        }
        recalc();
        <span class="hljs-keyword">if</span>(<span class="hljs-keyword">conf</span>.onstep)
        {
            <span class="hljs-keyword">conf</span>.onstep(get_sec());
        }
        output(abr.y, <span class="hljs-keyword">conf</span>.label_year, <span class="hljs-string">"{y}"</span>);
        output(abr.<span class="hljs-keyword">m</span>, <span class="hljs-keyword">conf</span>.label_month, <span class="hljs-string">"{m}"</span>);
        output(abr.w, <span class="hljs-keyword">conf</span>.label_week, <span class="hljs-string">"{w}"</span>);
        output(abr.<span class="hljs-keyword">d</span>, <span class="hljs-keyword">conf</span>.label_day, <span class="hljs-string">"{d}"</span>);
        output(abr.<span class="hljs-keyword">h</span>, <span class="hljs-keyword">conf</span>.label_hour, <span class="hljs-string">"{h}"</span>, true);
        output(abr.i, <span class="hljs-keyword">conf</span>.label_min, <span class="hljs-string">"{i}"</span>, true);
        output(abr.s, <span class="hljs-keyword">conf</span>.label_sec, <span class="hljs-string">"{s}"</span>, true);
        <span class="hljs-keyword">if</span>(<span class="hljs-keyword">conf</span>.hide_zeros)
        {
            <span class="hljs-keyword">var</span> hide = true;
            <span class="hljs-keyword">if</span>(abr.y.used)
            {
                <span class="hljs-keyword">if</span>(abr.y.value &lt;= 0 &amp;&amp; hide)
                {
                    <span class="hljs-keyword">conf</span>.label_year.setVisible(false);
                }
                <span class="hljs-keyword">else</span>
                {
                    hide = false;
                }
            }
            <span class="hljs-keyword">if</span>(abr.<span class="hljs-keyword">m</span>.used)
            {
                <span class="hljs-keyword">if</span>(abr.<span class="hljs-keyword">m</span>.value &lt;= 0 &amp;&amp; hide)
                {
                    <span class="hljs-keyword">conf</span>.label_month.setVisible(false);
                }
                <span class="hljs-keyword">else</span>
                {
                    hide = false;
                }
            }
            <span class="hljs-keyword">if</span>(abr.w.used)
            {
                <span class="hljs-keyword">if</span>(abr.w.value &lt;= 0 &amp;&amp; hide)
                {
                    <span class="hljs-keyword">conf</span>.label_week.setVisible(false);
                }
                <span class="hljs-keyword">else</span>
                {
                    hide = false;
                }
            }
            <span class="hljs-keyword">if</span>(abr.<span class="hljs-keyword">d</span>.used)
            {
                <span class="hljs-keyword">if</span>(abr.<span class="hljs-keyword">d</span>.value &lt;= 0 &amp;&amp; hide)
                {
                    <span class="hljs-keyword">conf</span>.label_day.setVisible(false);
                }
                <span class="hljs-keyword">else</span>
                {
                    hide = false;
                }
            }
            <span class="hljs-keyword">if</span>(abr.<span class="hljs-keyword">h</span>.used)
            {
                <span class="hljs-keyword">if</span>(abr.<span class="hljs-keyword">h</span>.value &lt;= 0 &amp;&amp; hide)
                {
                    <span class="hljs-keyword">conf</span>.label_hour.setVisible(false);
                }
                <span class="hljs-keyword">else</span>
                {
                    hide = false;
                }
            }
            <span class="hljs-keyword">if</span>(abr.i.used)
            {
                <span class="hljs-keyword">if</span>(abr.i.value &lt;= 0 &amp;&amp; hide)
                {
                    <span class="hljs-keyword">conf</span>.label_min.setVisible(false);
                }
                <span class="hljs-keyword">else</span>
                {
                    hide = false;
                }
            }
            <span class="hljs-keyword">if</span>(abr.s.used)
            {
                <span class="hljs-keyword">if</span>(abr.s.value &lt;= 0 &amp;&amp; hide)
                {
                    <span class="hljs-keyword">conf</span>.label_sec.setVisible(false);
                }
                <span class="hljs-keyword">else</span>
                {
                    hide = false;
                }
            }
        }
        <span class="hljs-keyword">if</span>(is_ended())
        {
            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i <span class="hljs-keyword">in</span> abr)
            {
                <span class="hljs-keyword">if</span>(abr[i].used)
                {
                    <span class="hljs-keyword">conf</span>[<span class="hljs-string">"label_"</span> + abr[i].name].setVisible(false);
                }
            }
            <span class="hljs-keyword">if</span>(<span class="hljs-keyword">conf</span>.end != null)
            {
                <span class="hljs-keyword">conf</span>.end.setVisible(true);
            }
            clearInterval(<span class="hljs-keyword">timer</span>);
            <span class="hljs-keyword">if</span>(<span class="hljs-keyword">conf</span>.onend)
            {
                <span class="hljs-keyword">conf</span>.onend();
            }
        }
    };

    <span class="hljs-keyword">var</span> output = function(span, <span class="hljs-keyword">label</span>, <span class="hljs-keyword">mark</span>, leading){
        leading = (leading) ? true : false;
        <span class="hljs-keyword">if</span>(span.used &amp;&amp; <span class="hljs-keyword">label</span> != null)
        {
            <span class="hljs-keyword">if</span>(span.template != <span class="hljs-string">""</span>)
            {
                <span class="hljs-keyword">if</span>(leading)
                {
                    <span class="hljs-keyword">label</span>.text = span.template.<span class="hljs-keyword">replace</span>(<span class="hljs-keyword">mark</span>, lead_zeros(span.value.<span class="hljs-keyword">toString</span>()));
                }
                <span class="hljs-keyword">else</span>
                {
                    <span class="hljs-keyword">label</span>.text = span.template.<span class="hljs-keyword">replace</span>(<span class="hljs-keyword">mark</span>, span.value.<span class="hljs-keyword">toString</span>());
                }
            }
            <span class="hljs-keyword">else</span>
            {
                <span class="hljs-keyword">if</span>(leading)
                {
                    <span class="hljs-keyword">label</span>.text = lead_zeros(span.value.<span class="hljs-keyword">toString</span>());
                }
                <span class="hljs-keyword">else</span>
                {
                    <span class="hljs-keyword">label</span>.text = span.value.<span class="hljs-keyword">toString</span>();
                }
            }
        }    
    };

    <span class="hljs-keyword">var</span> is_ended = function(){
        <span class="hljs-keyword">var</span> is_zero = true;
        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i <span class="hljs-keyword">in</span> abr)
        {
            <span class="hljs-keyword">if</span>(abr[i].used &amp;&amp; abr[i].value &lt; 0)
            {
                <span class="hljs-keyword">return</span> true;
            }
            <span class="hljs-keyword">if</span>(abr[i].value &gt; 0)
            {
                is_zero = false;
            }
        }
        <span class="hljs-keyword">return</span> is_zero;
    };
    <span class="hljs-comment">//how much seconds left</span>
    <span class="hljs-keyword">var</span> get_sec = function(){
        <span class="hljs-keyword">var</span> arr = [];
        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i <span class="hljs-keyword">in</span> abr)
        {
            arr[i] = new Object();
            arr[i].value = ob.<span class="hljs-keyword">conf</span>[abr[i].name];

        }
        arr.<span class="hljs-keyword">m</span>.value += (arr.y.value*12);
        <span class="hljs-keyword">var</span> <span class="hljs-keyword">d</span> = new <span class="hljs-literal">Date</span>();
        <span class="hljs-keyword">var</span> month = <span class="hljs-keyword">d</span>.getMonth();
        <span class="hljs-keyword">var</span> year = <span class="hljs-keyword">d</span>.getFullYear();
        <span class="hljs-keyword">if</span>(!offset)
        {
            month++;
            <span class="hljs-keyword">if</span>(month &gt; 11)
            {
                year++;
                month = 0;
            }
        }
        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i = 0; i &lt; arr.<span class="hljs-keyword">m</span>.value; i++)
        {
            arr.<span class="hljs-keyword">d</span>.value += months[is_leap_year(year)][month];
            month++;
            <span class="hljs-keyword">if</span>(month &gt; 11)
            {
                year++;
                month = 0;
            }
        }
        arr.<span class="hljs-keyword">d</span>.value += (arr.w.value*7);
        arr.<span class="hljs-keyword">h</span>.value += (arr.<span class="hljs-keyword">d</span>.value*24);
        arr.i.value += (arr.<span class="hljs-keyword">h</span>.value*60);
        arr.s.value += (arr.i.value*60);
        <span class="hljs-keyword">return</span> arr.s.value;
    };
    <span class="hljs-comment">//place leading zeros</span>
    <span class="hljs-keyword">var</span> lead_zeros = function(num){
        <span class="hljs-keyword">if</span>(<span class="hljs-keyword">conf</span>.leading_zeros)
        {
            <span class="hljs-keyword">return</span> (parseInt(num) &lt; 10) ? <span class="hljs-string">"0"</span>+num : num;
        }
        <span class="hljs-keyword">else</span>
        {
            <span class="hljs-keyword">return</span> num;
        }
    };

    <span class="hljs-comment">//check if is leap year</span>
    <span class="hljs-keyword">var</span> is_leap_year = function(year){
        <span class="hljs-keyword">if</span>(new <span class="hljs-literal">Date</span>(year,1,29).getDate() == 29)
        {
            <span class="hljs-keyword">return</span> 1;
        }
        <span class="hljs-keyword">else</span>
        {
            <span class="hljs-keyword">return</span> 0;
        }
    };

    construct();
};
module.exports = countdown;
</code></pre>
		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="May 6th 2013, 2:48:23 am">May 6th 2013</span>
				by <span class='authorname'>lakshmi ddk</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>appcelerator</span></li>
					
				</ul>
			

			<section>
				<h5>2 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>where is the code ?</p>
</div>
							<div class="author">
								&mdash; commented <span title="May 6th 2013, 2:53:16 am">May 6th 2013</span>
								by <span class='authorname'>Hani Hamadeh</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>var countdown = function(config) {<br>    var timer = null;<br>    var conf = {<br>        &#x2F;&#x2F;specified timestamp<br>        time: 0,<br>        &#x2F;&#x2F;time<br>        year : 0,<br>        month : 0,<br>        week : 0,<br>        day : 0,<br>        hour : 0,<br>        min : 0,<br>        sec : 0,<br>        &#x2F;&#x2F;labels<br>        label_year : null,<br>        label_month : null,<br>        label_week : null,<br>        label_day : null,<br>        label_hour : null,<br>        label_min : null,<br>        label_sec : null,<br>        &#x2F;&#x2F;end label<br>        end : null,<br>        &#x2F;&#x2F;settings<br>        hide_zeros : false,<br>        leading_zeros: true,<br>        onend: null,<br>        onstep: null<br>    };</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> offset = false;
<span class="hljs-keyword">var</span> abr = {
    y : {name: <span class="hljs-string">"year"</span>, used: false, value: 0, template:<span class="hljs-string">""</span>},
    <span class="hljs-keyword">m</span> : {name: <span class="hljs-string">"month"</span>, used: false, value: 0, template:<span class="hljs-string">""</span>},
    w : {name: <span class="hljs-string">"week"</span>, used: false, value: 0, template:<span class="hljs-string">""</span>},
    <span class="hljs-keyword">d</span> : {name: <span class="hljs-string">"day"</span>, used: false, value: 0, template:<span class="hljs-string">""</span>},
    <span class="hljs-keyword">h</span> : {name: <span class="hljs-string">"hour"</span>, used: false, value: 0, template:<span class="hljs-string">""</span>},
    i : {name: <span class="hljs-string">"min"</span>, used: false, value: 0, template:<span class="hljs-string">""</span>},
    s : {name: <span class="hljs-string">"sec"</span>, used: false, value: 0, template:<span class="hljs-string">""</span>}
};
<span class="hljs-keyword">var</span> months = [
    [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31],
    [31, 29, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31]
];

<span class="hljs-comment">//start countdown</span>
<span class="hljs-keyword">var</span> construct = function(){
    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> opt <span class="hljs-keyword">in</span> config){
        <span class="hljs-keyword">conf</span>[opt]= config[opt];
    }
    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i <span class="hljs-keyword">in</span> abr)
    {
        <span class="hljs-keyword">if</span>(<span class="hljs-keyword">conf</span>[<span class="hljs-string">"label_"</span> + abr[i].name] != null)
        {
            abr[i].used = true;
            <span class="hljs-keyword">if</span>(<span class="hljs-keyword">conf</span>[<span class="hljs-string">"label_"</span> + abr[i].name].text.<span class="hljs-keyword">toString</span>().indexOf(<span class="hljs-string">"{"</span> + i + <span class="hljs-string">"}"</span>) != -1)
            {
                abr[i].template = <span class="hljs-keyword">conf</span>[<span class="hljs-string">"label_"</span> + abr[i].name].text.<span class="hljs-keyword">toString</span>();
                <span class="hljs-keyword">conf</span>[<span class="hljs-string">"label_"</span> + abr[i].name].text = <span class="hljs-string">""</span>;
            }
        }
    }
    <span class="hljs-keyword">if</span>(<span class="hljs-keyword">conf</span>.time &gt; 0)
    {
        <span class="hljs-keyword">conf</span>.sec = <span class="hljs-keyword">conf</span>.time - Math.<span class="hljs-literal">round</span>(new <span class="hljs-literal">Date</span>().getTime() / 1000);
    }
    normalize();
    recalc();
    <span class="hljs-keyword">timer</span> = setInterval(<span class="hljs-keyword">update</span>, 1000);
};

this.start = function(){
    <span class="hljs-keyword">if</span>(<span class="hljs-keyword">timer</span> == null)
    {
        <span class="hljs-keyword">timer</span> = setInterval(<span class="hljs-keyword">update</span>, 1000);
    }
}

this.stop = function(){
    <span class="hljs-keyword">if</span>(<span class="hljs-keyword">timer</span> != null)
    {
        clearInterval(<span class="hljs-keyword">timer</span>);
        <span class="hljs-keyword">timer</span> = null;
    }
}

<span class="hljs-comment">//normalize things like 100 sec to 1 min and 40 sec</span>
<span class="hljs-keyword">var</span> normalize = function(){
    <span class="hljs-keyword">conf</span>.min += Math.<span class="hljs-literal">floor</span>(<span class="hljs-keyword">conf</span>.sec/60);
    <span class="hljs-keyword">conf</span>.sec = <span class="hljs-keyword">conf</span>.sec % 60;

    <span class="hljs-keyword">conf</span>.hour += Math.<span class="hljs-literal">floor</span>(<span class="hljs-keyword">conf</span>.min/60);
    <span class="hljs-keyword">conf</span>.min = <span class="hljs-keyword">conf</span>.min % 60;

    <span class="hljs-keyword">conf</span>.day += Math.<span class="hljs-literal">floor</span>(<span class="hljs-keyword">conf</span>.hour/24);
    <span class="hljs-keyword">conf</span>.hour = <span class="hljs-keyword">conf</span>.hour % 24;

    <span class="hljs-keyword">conf</span>.day += <span class="hljs-keyword">conf</span>.week*7;
    <span class="hljs-keyword">conf</span>.week = 0;

    <span class="hljs-keyword">var</span> <span class="hljs-keyword">d</span> = new <span class="hljs-literal">Date</span>();
    <span class="hljs-keyword">var</span> month = <span class="hljs-keyword">d</span>.getMonth();
    <span class="hljs-keyword">var</span> year = <span class="hljs-keyword">d</span>.getFullYear();
    <span class="hljs-keyword">var</span> date = <span class="hljs-keyword">d</span>.getDate();
    <span class="hljs-keyword">var</span> leftover = months[is_leap_year(year)][month] - date;
    <span class="hljs-keyword">var</span> temp;
    <span class="hljs-keyword">if</span>(<span class="hljs-keyword">conf</span>.day &gt; leftover)
    {
        <span class="hljs-keyword">conf</span>.day -= leftover; 
        <span class="hljs-keyword">do</span>
        {
            month++;
            <span class="hljs-keyword">if</span>(month &gt; 11)
            {
                year++;
                month = 0;
            }
            temp = <span class="hljs-keyword">conf</span>.day - months[is_leap_year(year)][month];
            <span class="hljs-keyword">if</span>(temp &gt;= 0)
            {
                <span class="hljs-keyword">conf</span>.month++;
                <span class="hljs-keyword">if</span>(<span class="hljs-keyword">conf</span>.month &gt; 11)
                {
                    <span class="hljs-keyword">conf</span>.year++;
                    <span class="hljs-keyword">conf</span>.month = 0;
                }
                <span class="hljs-keyword">conf</span>.day = temp;
            }
        }
        <span class="hljs-keyword">while</span>(temp &gt; 0);
        <span class="hljs-keyword">if</span>(<span class="hljs-keyword">conf</span>.day &gt;= date)
        {
            <span class="hljs-keyword">conf</span>.day -= date;
            <span class="hljs-keyword">conf</span>.month++;
            offset = true;
        }
        <span class="hljs-keyword">else</span>
        {
            <span class="hljs-keyword">conf</span>.day += leftover;
        }
        <span class="hljs-keyword">conf</span>.week += Math.<span class="hljs-literal">floor</span>(<span class="hljs-keyword">conf</span>.day/7);
        <span class="hljs-keyword">conf</span>.day = <span class="hljs-keyword">conf</span>.day % 7;
    }

    <span class="hljs-keyword">conf</span>.year += Math.<span class="hljs-literal">floor</span>(<span class="hljs-keyword">conf</span>.month/12);
    <span class="hljs-keyword">conf</span>.month = <span class="hljs-keyword">conf</span>.month % 12;
};

<span class="hljs-comment">//recalculate to whats been requested in format string</span>
<span class="hljs-keyword">var</span> recalc = function(){
    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i <span class="hljs-keyword">in</span> abr)
    {
        abr[i].value = <span class="hljs-keyword">conf</span>[abr[i].name];
    }
    <span class="hljs-keyword">if</span>(!abr.y.used)
    {
        abr.<span class="hljs-keyword">m</span>.value += (abr.y.value*12);
        abr.y.value = 0;
    }
    <span class="hljs-keyword">if</span>(!abr.<span class="hljs-keyword">m</span>.used)
    {
        <span class="hljs-keyword">var</span> <span class="hljs-keyword">d</span> = new <span class="hljs-literal">Date</span>();
        <span class="hljs-keyword">var</span> month = <span class="hljs-keyword">d</span>.getMonth();
        <span class="hljs-keyword">var</span> year = <span class="hljs-keyword">d</span>.getFullYear();
        <span class="hljs-keyword">if</span>(!offset)
        {
            month++;
            <span class="hljs-keyword">if</span>(month &gt; 11)
            {
                year++;
                month = 0;
            }
        }
        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i = 0; i &lt; abr.<span class="hljs-keyword">m</span>.value; i++)
        {
            abr.<span class="hljs-keyword">d</span>.value += months[is_leap_year(year)][month];
            month++;
            <span class="hljs-keyword">if</span>(month &gt; 11)
            {
                year++;
                month = 0;
            }
        }
        abr.<span class="hljs-keyword">m</span>.value = 0;
    }
    <span class="hljs-keyword">if</span>(!abr.w.used)
    {
        abr.<span class="hljs-keyword">d</span>.value += (abr.w.value*7);
        abr.w.value = 0;
    }
    <span class="hljs-keyword">else</span>
    {
        abr.w.value += Math.<span class="hljs-literal">floor</span>(abr.<span class="hljs-keyword">d</span>.value/7);
        abr.<span class="hljs-keyword">d</span>.value = abr.<span class="hljs-keyword">d</span>.value % 7;
    }
    <span class="hljs-keyword">if</span>(!abr.<span class="hljs-keyword">d</span>.used)
    {
        abr.<span class="hljs-keyword">h</span>.value += (abr.<span class="hljs-keyword">d</span>.value*24);
        abr.<span class="hljs-keyword">d</span>.value = 0;
    }
    <span class="hljs-keyword">if</span>(!abr.<span class="hljs-keyword">h</span>.used)
    {
        abr.i.value += (abr.<span class="hljs-keyword">h</span>.value*60);
        abr.<span class="hljs-keyword">h</span>.value = 0;
    }
    <span class="hljs-keyword">if</span>(!abr.i.used)
    {
        abr.s.value += (abr.i.value*60);
        abr.i.value = 0;
    }
    <span class="hljs-keyword">if</span>(!abr.s.used)
    {
        abr.s.value = 0;
    }
};

<span class="hljs-comment">//update countdown elements</span>
<span class="hljs-keyword">var</span> <span class="hljs-keyword">update</span> = function (){
    <span class="hljs-keyword">conf</span>.sec--;
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">conf</span>.sec == -1)
    {
        <span class="hljs-keyword">conf</span>.min--;
        <span class="hljs-keyword">conf</span>.sec = 59;
    }
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">conf</span>.min == -1)
    {
        <span class="hljs-keyword">conf</span>.hour--;
        <span class="hljs-keyword">conf</span>.min = 59;
    }
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">conf</span>.hour == -1)
    {
        <span class="hljs-keyword">conf</span>.day--;
        <span class="hljs-keyword">conf</span>.hour = 23;
    }
    <span class="hljs-keyword">if</span>(<span class="hljs-keyword">conf</span>.day == -1)
    {
        <span class="hljs-keyword">conf</span>.week--;
        <span class="hljs-keyword">conf</span>.day = 6;
    }
    <span class="hljs-keyword">if</span>(<span class="hljs-keyword">conf</span>.week == -1)
    {
        <span class="hljs-keyword">conf</span>.month--;
        <span class="hljs-keyword">var</span> <span class="hljs-keyword">d</span> = new <span class="hljs-literal">Date</span>();
        <span class="hljs-keyword">var</span> month = <span class="hljs-keyword">d</span>.getMonth();
        <span class="hljs-keyword">var</span> year = <span class="hljs-keyword">d</span>.getFullYear();
        <span class="hljs-keyword">if</span>(!offset)
        {
            month++;
            <span class="hljs-keyword">if</span>(month &gt; 11)
            {
                year++;
                month = 0;
            }
        }
        <span class="hljs-keyword">var</span> days = months[is_leap_year(year)][month]-1;
        <span class="hljs-keyword">conf</span>.week = Math.<span class="hljs-literal">floor</span>(days/7);
        <span class="hljs-keyword">conf</span>.day = days % 7;
    }
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">conf</span>.month == -1)
    {
        <span class="hljs-keyword">conf</span>.year--;
        <span class="hljs-keyword">conf</span>.month = 11;
    }
    recalc();
    <span class="hljs-keyword">if</span>(<span class="hljs-keyword">conf</span>.onstep)
    {
        <span class="hljs-keyword">conf</span>.onstep(get_sec());
    }
    output(abr.y, <span class="hljs-keyword">conf</span>.label_year, <span class="hljs-string">"{y}"</span>);
    output(abr.<span class="hljs-keyword">m</span>, <span class="hljs-keyword">conf</span>.label_month, <span class="hljs-string">"{m}"</span>);
    output(abr.w, <span class="hljs-keyword">conf</span>.label_week, <span class="hljs-string">"{w}"</span>);
    output(abr.<span class="hljs-keyword">d</span>, <span class="hljs-keyword">conf</span>.label_day, <span class="hljs-string">"{d}"</span>);
    output(abr.<span class="hljs-keyword">h</span>, <span class="hljs-keyword">conf</span>.label_hour, <span class="hljs-string">"{h}"</span>, true);
    output(abr.i, <span class="hljs-keyword">conf</span>.label_min, <span class="hljs-string">"{i}"</span>, true);
    output(abr.s, <span class="hljs-keyword">conf</span>.label_sec, <span class="hljs-string">"{s}"</span>, true);
    <span class="hljs-keyword">if</span>(<span class="hljs-keyword">conf</span>.hide_zeros)
    {
        <span class="hljs-keyword">var</span> hide = true;
        <span class="hljs-keyword">if</span>(abr.y.used)
        {
            <span class="hljs-keyword">if</span>(abr.y.value &lt;= 0 &amp;&amp; hide)
            {
                <span class="hljs-keyword">conf</span>.label_year.setVisible(false);
            }
            <span class="hljs-keyword">else</span>
            {
                hide = false;
            }
        }
        <span class="hljs-keyword">if</span>(abr.<span class="hljs-keyword">m</span>.used)
        {
            <span class="hljs-keyword">if</span>(abr.<span class="hljs-keyword">m</span>.value &lt;= 0 &amp;&amp; hide)
            {
                <span class="hljs-keyword">conf</span>.label_month.setVisible(false);
            }
            <span class="hljs-keyword">else</span>
            {
                hide = false;
            }
        }
        <span class="hljs-keyword">if</span>(abr.w.used)
        {
            <span class="hljs-keyword">if</span>(abr.w.value &lt;= 0 &amp;&amp; hide)
            {
                <span class="hljs-keyword">conf</span>.label_week.setVisible(false);
            }
            <span class="hljs-keyword">else</span>
            {
                hide = false;
            }
        }
        <span class="hljs-keyword">if</span>(abr.<span class="hljs-keyword">d</span>.used)
        {
            <span class="hljs-keyword">if</span>(abr.<span class="hljs-keyword">d</span>.value &lt;= 0 &amp;&amp; hide)
            {
                <span class="hljs-keyword">conf</span>.label_day.setVisible(false);
            }
            <span class="hljs-keyword">else</span>
            {
                hide = false;
            }
        }
        <span class="hljs-keyword">if</span>(abr.<span class="hljs-keyword">h</span>.used)
        {
            <span class="hljs-keyword">if</span>(abr.<span class="hljs-keyword">h</span>.value &lt;= 0 &amp;&amp; hide)
            {
                <span class="hljs-keyword">conf</span>.label_hour.setVisible(false);
            }
            <span class="hljs-keyword">else</span>
            {
                hide = false;
            }
        }
        <span class="hljs-keyword">if</span>(abr.i.used)
        {
            <span class="hljs-keyword">if</span>(abr.i.value &lt;= 0 &amp;&amp; hide)
            {
                <span class="hljs-keyword">conf</span>.label_min.setVisible(false);
            }
            <span class="hljs-keyword">else</span>
            {
                hide = false;
            }
        }
        <span class="hljs-keyword">if</span>(abr.s.used)
        {
            <span class="hljs-keyword">if</span>(abr.s.value &lt;= 0 &amp;&amp; hide)
            {
                <span class="hljs-keyword">conf</span>.label_sec.setVisible(false);
            }
            <span class="hljs-keyword">else</span>
            {
                hide = false;
            }
        }
    }
    <span class="hljs-keyword">if</span>(is_ended())
    {
        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i <span class="hljs-keyword">in</span> abr)
        {
            <span class="hljs-keyword">if</span>(abr[i].used)
            {
                <span class="hljs-keyword">conf</span>[<span class="hljs-string">"label_"</span> + abr[i].name].setVisible(false);
            }
        }
        <span class="hljs-keyword">if</span>(<span class="hljs-keyword">conf</span>.end != null)
        {
            <span class="hljs-keyword">conf</span>.end.setVisible(true);
        }
        clearInterval(<span class="hljs-keyword">timer</span>);
        <span class="hljs-keyword">if</span>(<span class="hljs-keyword">conf</span>.onend)
        {
            <span class="hljs-keyword">conf</span>.onend();
        }
    }
};

<span class="hljs-keyword">var</span> output = function(span, <span class="hljs-keyword">label</span>, <span class="hljs-keyword">mark</span>, leading){
    leading = (leading) ? true : false;
    <span class="hljs-keyword">if</span>(span.used &amp;&amp; <span class="hljs-keyword">label</span> != null)
    {
        <span class="hljs-keyword">if</span>(span.template != <span class="hljs-string">""</span>)
        {
            <span class="hljs-keyword">if</span>(leading)
            {
                <span class="hljs-keyword">label</span>.text = span.template.<span class="hljs-keyword">replace</span>(<span class="hljs-keyword">mark</span>, lead_zeros(span.value.<span class="hljs-keyword">toString</span>()));
            }
            <span class="hljs-keyword">else</span>
            {
                <span class="hljs-keyword">label</span>.text = span.template.<span class="hljs-keyword">replace</span>(<span class="hljs-keyword">mark</span>, span.value.<span class="hljs-keyword">toString</span>());
            }
        }
        <span class="hljs-keyword">else</span>
        {
            <span class="hljs-keyword">if</span>(leading)
            {
                <span class="hljs-keyword">label</span>.text = lead_zeros(span.value.<span class="hljs-keyword">toString</span>());
            }
            <span class="hljs-keyword">else</span>
            {
                <span class="hljs-keyword">label</span>.text = span.value.<span class="hljs-keyword">toString</span>();
            }
        }
    }    
};

<span class="hljs-keyword">var</span> is_ended = function(){
    <span class="hljs-keyword">var</span> is_zero = true;
    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i <span class="hljs-keyword">in</span> abr)
    {
        <span class="hljs-keyword">if</span>(abr[i].used &amp;&amp; abr[i].value &lt; 0)
        {
            <span class="hljs-keyword">return</span> true;
        }
        <span class="hljs-keyword">if</span>(abr[i].value &gt; 0)
        {
            is_zero = false;
        }
    }
    <span class="hljs-keyword">return</span> is_zero;
};
<span class="hljs-comment">//how much seconds left</span>
<span class="hljs-keyword">var</span> get_sec = function(){
    <span class="hljs-keyword">var</span> arr = [];
    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i <span class="hljs-keyword">in</span> abr)
    {
        arr[i] = new Object();
        arr[i].value = ob.<span class="hljs-keyword">conf</span>[abr[i].name];

    }
    arr.<span class="hljs-keyword">m</span>.value += (arr.y.value*12);
    <span class="hljs-keyword">var</span> <span class="hljs-keyword">d</span> = new <span class="hljs-literal">Date</span>();
    <span class="hljs-keyword">var</span> month = <span class="hljs-keyword">d</span>.getMonth();
    <span class="hljs-keyword">var</span> year = <span class="hljs-keyword">d</span>.getFullYear();
    <span class="hljs-keyword">if</span>(!offset)
    {
        month++;
        <span class="hljs-keyword">if</span>(month &gt; 11)
        {
            year++;
            month = 0;
        }
    }
    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i = 0; i &lt; arr.<span class="hljs-keyword">m</span>.value; i++)
    {
        arr.<span class="hljs-keyword">d</span>.value += months[is_leap_year(year)][month];
        month++;
        <span class="hljs-keyword">if</span>(month &gt; 11)
        {
            year++;
            month = 0;
        }
    }
    arr.<span class="hljs-keyword">d</span>.value += (arr.w.value*7);
    arr.<span class="hljs-keyword">h</span>.value += (arr.<span class="hljs-keyword">d</span>.value*24);
    arr.i.value += (arr.<span class="hljs-keyword">h</span>.value*60);
    arr.s.value += (arr.i.value*60);
    <span class="hljs-keyword">return</span> arr.s.value;
};
<span class="hljs-comment">//place leading zeros</span>
<span class="hljs-keyword">var</span> lead_zeros = function(num){
    <span class="hljs-keyword">if</span>(<span class="hljs-keyword">conf</span>.leading_zeros)
    {
        <span class="hljs-keyword">return</span> (parseInt(num) &lt; 10) ? <span class="hljs-string">"0"</span>+num : num;
    }
    <span class="hljs-keyword">else</span>
    {
        <span class="hljs-keyword">return</span> num;
    }
};

<span class="hljs-comment">//check if is leap year</span>
<span class="hljs-keyword">var</span> is_leap_year = function(year){
    <span class="hljs-keyword">if</span>(new <span class="hljs-literal">Date</span>(year,1,29).getDate() == 29)
    {
        <span class="hljs-keyword">return</span> 1;
    }
    <span class="hljs-keyword">else</span>
    {
        <span class="hljs-keyword">return</span> 0;
    }
};

construct();
</code></pre><p>};<br>module.exports = countdown;</p>
</div>
							<div class="author">
								&mdash; commented <span title="May 6th 2013, 2:59:48 am">May 6th 2013</span>
								by <span class='authorname'>lakshmi ddk</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>-1</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-262181">
				
						<section>
							<p>Hi Deepthi,</p>
<p>You can find custom timer from here.</p>
<p><a href="https:&#x2F;&#x2F;mobiscroll.com&#x2F;login">https:&#x2F;&#x2F;mobiscroll.com&#x2F;login</a></p>
<p>Thanks</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="May 6th 2013, 3:00:14 am">May 6th 2013</span>
								by <span class='authorname'>Sunny Patel</span><br>
								<a class="icon-bg icon-link" href="question/151997/about-timer#answer-262181" rel="permalink">permalink</a>
							</div>

							<h5>2 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>can we make any changes in above coding? thanks</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 6th 2013, 3:11:24 am">May 6th 2013</span>
											by <span class='authorname'>lakshmi ddk</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>hi sunny am using the following code. start and stop are working. what i need is when after stop if we click again on start it has to start from that time. can you please help me?<br>&#x2F;&#x2F; countdown timer </p>
<p>var countDown =  function( m , s, fn_tick, fn_end  ) {<br>    return {<br>        total_sec:m*60+s,<br>        timer:this.timer,</p>
<pre><code class="hljs">    start: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> self = <span class="hljs-keyword">this</span>;
        <span class="hljs-keyword">this</span>.timer = setInterval( <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">if</span> (self.total_sec) {
                self.total_sec++;
                self.time = { m : <span class="hljs-built_in">parseInt</span>(self.total_sec/<span class="hljs-number">60</span>), s: (self.total_sec%<span class="hljs-number">60</span>) };
                fn_tick();
            }
            <span class="hljs-keyword">else</span> {
                self.stop();
                fn_end();
            }
            }, <span class="hljs-number">1000</span> );
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
    },
    stop: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        clearInterval(<span class="hljs-keyword">this</span>.timer);
        <span class="hljs-keyword">this</span>.time = {m:<span class="hljs-number">0</span>,s:<span class="hljs-number">0</span>};
        <span class="hljs-keyword">this</span>.total_sec = <span class="hljs-number">0</span>;
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>;
    }
};
</code></pre><p>};    </p>
<p>var my_timer = new countDown(00,01,<br>        function() {<br>            display_lbl.text = my_timer.time.m+&quot; : &quot;+my_timer.time.s;<br>        },<br>        function() {<br>            alert(&quot;The time is up!&quot;);<br>        }<br>    );</p>
<p>&#x2F;&#x2F; interface</p>
<p>var win1 = Titanium.UI.createWindow({<br>    backgroundColor:&#39;#ccc&#39;<br>});</p>
<p>var display_lbl =  Titanium.UI.createLabel({<br>    text:&quot;00: 00&quot;,<br>    height:80,<br>    width:320,<br>    top:100,<br>    left:0,<br>    color:&#39;#fff&#39;,<br>    borderRadius:10,<br>    backgroundColor:&#39;#000&#39;,<br>    font:{<br>        fontSize:70,<br>        fontWeight:&#39;bold&#39;<br>    },<br>    textAlign:&#39;center&#39;<br>});</p>
<p>var start_btn = Titanium.UI.createButton({<br>    title:&#39;Start&#39;,<br>    width:200,<br>    height:30,<br>    top:250,<br>    left:60,<br>    font:{<br>        fontSize:20,<br>        fontWeight:&#39;bold&#39;<br>    },<br>    textAlign:&#39;center&#39;<br>});</p>
<p>var stop_btn = Titanium.UI.createButton({<br>    title:&#39;Stop&#39;,<br>    width:200,<br>    height:30,<br>    top:300,<br>    left:60,<br>    font:{<br>        fontSize:20,<br>        fontWeight:&#39;bold&#39;<br>    },<br>    textAlign:&#39;center&#39;<br>});</p>
<p>stop_btn.addEventListener(&#39;click&#39;,function(){<br>    my_timer.stop();<br>});</p>
<p>start_btn.addEventListener(&#39;click&#39;,function(){<br>    my_timer.start();<br>});</p>
<p>win1.add(display_lbl);</p>
<p>win1.add(start_btn);<br>win1.add(stop_btn);<br>win1.open();</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 6th 2013, 4:15:38 am">May 6th 2013</span>
											by <span class='authorname'>lakshmi ddk</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
