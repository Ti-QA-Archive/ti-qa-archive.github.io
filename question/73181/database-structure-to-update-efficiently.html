<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>database structure to update efficiently Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>database structure to update efficiently</h1>
		</header>
		<section>
			<p>hi folks, </p>
<p>imaging the follow scenario:<br>i have a sqlite-database for an iphone app with some &quot;documents&quot; as templates. the user is able to add his own templates too. now i want to update the program and the database. is there any chance to do so without overwriting the users data?<br>i thought about two different db but since this is an overhead it want to avoid this.</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="October 25th 2010, 1:19:33 pm">October 25th 2010</span>
				by <span class='authorname'>dev 1605</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>database</span></li>
					
						<li><span class='tagname'>mobile</span></li>
					
						<li><span class='tagname'>sql</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-132201">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<pre><code class="hljs">I was thinking this same thought.  Does Titanium let you <span class="hljs-operator"><span class="hljs-keyword">delete</span> files <span class="hljs-keyword">from</span> your apps <span class="hljs-keyword">directory</span>?  <span class="hljs-keyword">If</span> so, <span class="hljs-keyword">I</span> would think the code would flow <span class="hljs-keyword">like</span> this.

<span class="hljs-keyword">if</span> (old_database_exists)
<span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> new_database (<span class="hljs-keyword">select</span> * <span class="hljs-keyword">from</span> old_database)
<span class="hljs-keyword">delete</span> <span class="hljs-keyword">old</span> <span class="hljs-keyword">database</span></span>
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="October 25th 2010, 6:38:52 pm">October 25th 2010</span>
								by <span class='authorname'>Josh Lewis</span><br>
								<a class="icon-bg icon-link" href="question/73181/database-structure-to-update-efficiently.html#answer-132201" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>so i will insert a flag in the database table which is true if it is userContent. so the statement&#39;s like:</p>
<p>if (old_database_exists)<br>insert into new_database (select * from old_database where flag=1)<br>delete old_database</p>
</p>
										<div class="author">
											&mdash; commented <span title="October 29th 2010, 12:36:38 pm">October 29th 2010</span>
											by <span class='authorname'>dev 1605</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-132161">
				
						<section>
							<p>When you&#39;re updating a production database, just like any other database app, you&#39;ll need to write SQL scripts to migrate your database to the newer version.  Titanium doesn&#39;t provide any mechanism for doing this, but the practice of migrating production databases via SQL scripts is pretty common.  You might consider adding database version information to your database and check that in your script, similar to how Ruby on Rails migrations work.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="October 25th 2010, 4:01:39 pm">October 25th 2010</span>
								by <span class='authorname'>Kevin Whinnery</span><br>
								<a class="icon-bg icon-link" href="question/73181/database-structure-to-update-efficiently.html#answer-132161" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
