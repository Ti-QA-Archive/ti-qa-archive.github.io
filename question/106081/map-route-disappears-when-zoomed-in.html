<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Map Route disappears when zoomed in. Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Map Route disappears when zoomed in.</h1>
		</header>
		<section>
			<p>I believe I have stumbled upon a problem with the current route function in Titanium, the route will only draw on the map if you have zoomed out a sufficient (seemingly arbitrary) amount. </p>
<p>The following example app.js I created (for testing) shows the problem if you zoom in. on a longer route this is really noticeable.<br><a href="http:&#x2F;&#x2F;pastie.org&#x2F;1505866">Pastie</a></p>
<p>Can anyone else confirm this problem or have a solution to it ?</p>
<p>FYI I used the map route code example <a href="http:&#x2F;&#x2F;developer.appcelerator.com&#x2F;question&#x2F;74221&#x2F;mobile-map-route-from-google-server">here.</a></p>
<p>Thanks!</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="January 28th 2011, 12:30:43 pm">January 28th 2011</span>
				by <span class='authorname'>Chris Brooks</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>disappear</span></li>
					
						<li><span class='tagname'>google</span></li>
					
						<li><span class='tagname'>invisible</span></li>
					
						<li><span class='tagname'>iphone</span></li>
					
						<li><span class='tagname'>map</span></li>
					
						<li><span class='tagname'>maps</span></li>
					
						<li><span class='tagname'>mobile</span></li>
					
						<li><span class='tagname'>route</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>1</span> Vote</div>
			<div class="answers"><span>11</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>11 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-197801">
				
						<section>
							<p>I&#39;ve got it!<br>Thanks to Christopher Fox (<a href="http:&#x2F;&#x2F;developer.appcelerator.com&#x2F;question&#x2F;90001&#x2F;dynamically-updating-route-on-map---best-practice#164321">thread</a>)<br>You CAN split the route and add multiple routes on the map.. only if they have different names!</p>
<pre><code class="hljs"><span class="hljs-label">var</span> newPoints = []<span class="hljs-comment">;</span>
<span class="hljs-label">var</span> curPoints = []<span class="hljs-comment">;</span>
<span class="hljs-label">for</span> (var i = <span class="hljs-number">0</span><span class="hljs-comment">; i &lt; points.length; i++) {</span>
       curPoints.<span class="hljs-keyword">push(points[i]);
</span>       <span class="hljs-preprocessor">if</span> (i % <span class="hljs-number">15</span> == <span class="hljs-number">14</span>) {
          newPoints.<span class="hljs-keyword">push(curPoints);
</span>          curPoints = []<span class="hljs-comment">;</span>
          curPoints.<span class="hljs-keyword">push(points[i]);
</span>       }
}
<span class="hljs-label">newPoints.push</span>(curPoints)<span class="hljs-comment">;</span>
<span class="hljs-label">for</span> (var i = <span class="hljs-number">0</span><span class="hljs-comment">; i &lt; newPoints.length; i++) {</span>
      mapView.<span class="hljs-keyword">addRoute({
</span><span class="hljs-label">         name:</span> <span class="hljs-string">"route "</span> + i,
<span class="hljs-label">         points:</span> newPoints[i],
<span class="hljs-label">         color:</span> <span class="hljs-string">"blue"</span>,
<span class="hljs-label">         width:</span><span class="hljs-number">4</span>
      })<span class="hljs-comment">;</span>
}
</code></pre><p>Hope this helps! Of course you can change the number 14&#x2F;15!</p>
<p>Cheers!</p>
<p>Felix</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="February 14th 2011, 3:32:03 pm">February 14th 2011</span>
								by <span class='authorname'>Felix Krause</span><br>
								<a class="icon-bg icon-link" href="question/106081/map-route-disappears-when-zoomed-in.html#answer-197801" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Well done! Ill check this out in the next few days :)</p>
</p>
										<div class="author">
											&mdash; commented <span title="February 22nd 2011, 9:47:46 pm">February 22nd 2011</span>
											by <span class='authorname'>Chris Brooks</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-197831">
				
						<section>
							<p>To save some memory.. here a better solution:</p>
<pre><code class="hljs">for <span class="hljs-list">(<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span><span class="hljs-comment">; i &lt; points.length; i++) {</span>
   curPoints.push<span class="hljs-list">(<span class="hljs-keyword">points</span>[i])</span><span class="hljs-comment">;</span>
   if <span class="hljs-list">(<span class="hljs-keyword">i</span> % <span class="hljs-number">10</span> == <span class="hljs-number">9</span>)</span> {
      addRoute2Map<span class="hljs-list">(<span class="hljs-keyword">curPoints</span>, i)</span><span class="hljs-comment">;</span>
      curPoints = []<span class="hljs-comment">;</span>
      curPoints.push<span class="hljs-list">(<span class="hljs-keyword">points</span>[i])</span><span class="hljs-comment">;</span>
   }
}
addRoute2Map<span class="hljs-list">(<span class="hljs-keyword">curPoints</span>, i)</span><span class="hljs-comment">;</span>




function addRoute2Map<span class="hljs-list">(<span class="hljs-keyword">points</span>, i)</span> {
   mapView.addRoute<span class="hljs-list">({
      name: <span class="hljs-string">"route "</span> + i,
      points: points,
      color: <span class="hljs-string">"blue"</span>,
      width: <span class="hljs-number">4</span>
   })</span><span class="hljs-comment">;</span>
}</span>
</code></pre><p>Cheers</p>
<p>Felix</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="February 14th 2011, 3:50:19 pm">February 14th 2011</span>
								by <span class='authorname'>Felix Krause</span><br>
								<a class="icon-bg icon-link" href="question/106081/map-route-disappears-when-zoomed-in.html#answer-197831" rel="permalink">permalink</a>
							</div>

							<h5>2 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>I guess you get even more faster code by using slice():</p>
<pre><code class="hljs">for <span class="hljs-comment">(var i = 0; i &lt; points.length; i += 10)</span> {
  mapView.addRoute<span class="hljs-comment">({
      name: "route " + i,
      points: points.slice(i, i + 10)</span>,
      color: <span class="hljs-string">"blue"</span>,
      width: <span class="hljs-number">4</span>
   });
}
</code></pre><p>Note that the slice returns 11, not 10 elements. Code is not tested BTW :)</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 10th 2011, 8:21:55 am">August 10th 2011</span>
											by <span class='authorname'>Mark Ruys</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Should be <code>points.slice(i, i + 10 + 1)</code> instead of <code>points.slice(i, i + 10)</code>.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 10th 2011, 3:53:06 pm">August 10th 2011</span>
											by <span class='authorname'>Mark Ruys</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-187621">
				
						<section>
							<p>I have exactly the same problem! Really annoying bug. Hope it will be fixed!</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="January 29th 2011, 9:16:20 am">January 29th 2011</span>
								by <span class='authorname'>Felix Krause</span><br>
								<a class="icon-bg icon-link" href="question/106081/map-route-disappears-when-zoomed-in.html#answer-187621" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Glad its not just me, I am surprised this hasn&#39;t been reported before!</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 29th 2011, 2:49:25 pm">January 29th 2011</span>
											by <span class='authorname'>Chris Brooks</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-187711">
				
						<section>
							<p>I have just noticed there is a <a href="https:&#x2F;&#x2F;appcelerator.lighthouseapp.com&#x2F;projects&#x2F;32238&#x2F;tickets&#x2F;2898-route-disappears-when-zooming-in">lighthouse ticket</a> created for this bug.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="January 29th 2011, 2:53:19 pm">January 29th 2011</span>
								by <span class='authorname'>Chris Brooks</span><br>
								<a class="icon-bg icon-link" href="question/106081/map-route-disappears-when-zoomed-in.html#answer-187711" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-188181">
				
						<section>
							<p>I tried to just split the route. So every route only has 10 points. But the map can only have ONE route. If the map could have more than one route, the splitting should work!</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="January 30th 2011, 10:56:02 am">January 30th 2011</span>
								by <span class='authorname'>Felix Krause</span><br>
								<a class="icon-bg icon-link" href="question/106081/map-route-disappears-when-zoomed-in.html#answer-188181" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>This would be a good temporary workaround, but still isn&#39;t a true fix to the problem ^^</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 31st 2011, 9:47:41 am">January 31st 2011</span>
											by <span class='authorname'>Chris Brooks</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-188951">
				
						<section>
							<p>Any news? It doesn&#39;t help if I render the map new, when the users zooms inâ¦</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="January 31st 2011, 2:33:38 pm">January 31st 2011</span>
								by <span class='authorname'>Felix Krause</span><br>
								<a class="icon-bg icon-link" href="question/106081/map-route-disappears-when-zoomed-in.html#answer-188951" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Unfortunately I think this is one Appcelerator might have to fix, considering its the rendering which is the problem.</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 31st 2011, 3:22:57 pm">January 31st 2011</span>
											by <span class='authorname'>Chris Brooks</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-189221">
				
						<section>
							<p>I found a cool example to view a route on a map: http:&#x2F;&#x2F;spitzkoff.com&#x2F;craig&#x2F;?p=136<br>The example works perfectly! You can see the route while scrolling and zooming! It looks really nice!<br>I&#39;m trying to integrate this, but am not really able to develop Objective C so it&#39;s quite hard for me to integrate this to Titanium.</p>
<p>The file it has to be integrated is TiMapRouteAnnotationView.m<br>If somebody could make this for the community, I would really appreciate this!</p>
<p>Thanks<br>Felix</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="January 31st 2011, 7:55:58 pm">January 31st 2011</span>
								by <span class='authorname'>Felix Krause</span><br>
								<a class="icon-bg icon-link" href="question/106081/map-route-disappears-when-zoomed-in.html#answer-189221" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>I would believe Appcelerator will be working on implementing this into Titanium already, I haven&#39;t personally looked into creating modules for titanium, I may get some time to do this in the coming weeks, but I cant make any promises.</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 31st 2011, 7:59:23 pm">January 31st 2011</span>
											by <span class='authorname'>Chris Brooks</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-189621">
				
						<section>
							<p>I tried to make my own Titanium Module, but I wasn&#39;t able to manage it.. I hope Titanium will fix this very annoying bug! (It would be great, if the route would be shown, when the user moves or zooms the map.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="February 1st 2011, 12:30:42 pm">February 1st 2011</span>
								by <span class='authorname'>Felix Krause</span><br>
								<a class="icon-bg icon-link" href="question/106081/map-route-disappears-when-zoomed-in.html#answer-189621" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-193371">
				
						<section>
							<p>Any new workarounds?</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="February 6th 2011, 3:25:20 pm">February 6th 2011</span>
								by <span class='authorname'>Felix Krause</span><br>
								<a class="icon-bg icon-link" href="question/106081/map-route-disappears-when-zoomed-in.html#answer-193371" rel="permalink">permalink</a>
							</div>

							<h5>3 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Not here, but id keep an eye <a href="https:&#x2F;&#x2F;appcelerator.lighthouseapp.com&#x2F;projects&#x2F;32238&#x2F;tickets&#x2F;2898-route-disappears-when-zooming-in">here</a></p>
</p>
										<div class="author">
											&mdash; commented <span title="February 6th 2011, 5:18:38 pm">February 6th 2011</span>
											by <span class='authorname'>Chris Brooks</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Jira ticket: <a href="http:&#x2F;&#x2F;jira.appcelerator.org&#x2F;browse&#x2F;TIMOB-2898">route disappears when zooming in</a></p>
</p>
										<div class="author">
											&mdash; commented <span title="August 10th 2011, 8:26:20 am">August 10th 2011</span>
											by <span class='authorname'>Mark Ruys</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Bug is resolved on 1.8 version of SDK.</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 15th 2011, 10:08:18 am">November 15th 2011</span>
											by <span class='authorname'>Manuel Pedrera</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-203504">
				
						<section>
							<p>@Chris: Did you already try it? It doesn&#39;t work for me, when the route is very, very large (more than 1000 points). The app crashes :( That&#39;s very bad, because Apple will reject crashing apps!</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="March 1st 2011, 4:34:34 pm">March 1st 2011</span>
								by <span class='authorname'>Felix Krause</span><br>
								<a class="icon-bg icon-link" href="question/106081/map-route-disappears-when-zoomed-in.html#answer-203504" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-203521">
				
						<section>
							<p>Just developed a little script that removes all routes from the map, when the map is scrolled or zoomed by the user. It calculates, which points of the route are visible and add just those! With this method you can zoom in as far as you want, without really splitting the route (splitting causes crashes on real devices!)</p>
<p>But the performance of this is horrible. Is there any possibility to draw simple lines to the mapview? I know how I can calculate where to draw the linesâ¦</p>
<p>Thanks! </p>
<p>Felix</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="March 1st 2011, 7:50:08 pm">March 1st 2011</span>
								by <span class='authorname'>Felix Krause</span><br>
								<a class="icon-bg icon-link" href="question/106081/map-route-disappears-when-zoomed-in.html#answer-203521" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
