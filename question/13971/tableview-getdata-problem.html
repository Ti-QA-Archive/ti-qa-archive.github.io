<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>TableView getData problem » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>TableView getData problem</h1>
		</header>
		<section>
			<p>Hi,<br>I&#39;am developing for Android and I have a problem with getData in TableView. When I&#39;m using, for example: </p>
<pre><code class="hljs"><span class="hljs-tag">var</span> temp = tableview.<span class="hljs-function"><span class="hljs-title">getData</span><span class="hljs-params">()</span></span>
</code></pre><p>it throws a Runtime Exception <a href="http:&#x2F;&#x2F;pastie.org&#x2F;909154">http:&#x2F;&#x2F;pastie.org&#x2F;909154</a>. When I try: </p>
<pre><code class="hljs"><span class="hljs-title">var</span> temp = tableview.<span class="hljs-typedef"><span class="hljs-keyword">data</span></span>
</code></pre><p>it returns temp as a function and I can not manipulate with the data. On the other hand, the setter works well. Does anyone have the same problem?</p>
<p>Regards,</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="April 8th 2010, 10:03:52 am">April 8th 2010</span>
				by <span class='authorname'>Anh Tuan Kieu</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>getdata</span></li>
					
						<li><span class='tagname'>tableview</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>9</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>9 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-32491">
				
						<section>
							<p>I have checked the code, here is the &quot;buggy&quot; version of table_view_basic.js in KitchenSink:</p>
<pre><code class="hljs"><span class="hljs-comment">// create table view data object</span>
var data = [
    {<span class="hljs-string">title:</span><span class="hljs-string">'Row 1'</span>, <span class="hljs-string">hasChild:</span><span class="hljs-literal">true</span>, <span class="hljs-string">color:</span><span class="hljs-string">'red'</span>, <span class="hljs-string">selectedColor:</span><span class="hljs-string">'#fff'</span>},
    {<span class="hljs-string">title:</span><span class="hljs-string">'Row 2'</span>, <span class="hljs-string">hasDetail:</span><span class="hljs-literal">true</span>, <span class="hljs-string">color:</span><span class="hljs-string">'green'</span>, <span class="hljs-string">selectedColor:</span><span class="hljs-string">'#fff'</span>},
    {<span class="hljs-string">title:</span><span class="hljs-string">'Row 3'</span>, <span class="hljs-string">hasCheck:</span><span class="hljs-literal">true</span>, <span class="hljs-string">color:</span><span class="hljs-string">'blue'</span>, <span class="hljs-string">selectedColor:</span><span class="hljs-string">'#fff'</span>},
    {<span class="hljs-string">title:</span><span class="hljs-string">'Row 4'</span>, <span class="hljs-string">color:</span><span class="hljs-string">'orange'</span>, <span class="hljs-string">selectedColor:</span><span class="hljs-string">'#fff'</span>}


];

<span class="hljs-comment">// create table view</span>
var tableview = Titanium.UI.createTableView({
<span class="hljs-label">    data:</span>data
});

var temp = tableview.getData(); <span class="hljs-comment">//=&gt; just for test, this line throws a Runtime Error</span>
<span class="hljs-comment">// create table view event listener</span>
tableview.addEventListener(<span class="hljs-string">'click'</span>, function(e)
{
    <span class="hljs-comment">// event data</span>
    var index = e.index;
    var section = e.section;
    var row = e.row;
    var rowdata = e.rowData;
    Titanium.UI.createAlertDialog({<span class="hljs-string">title:</span><span class="hljs-string">'Table View'</span>,<span class="hljs-string">message:</span><span class="hljs-string">'row '</span> + row + <span class="hljs-string">' index '</span> + index + <span class="hljs-string">' section '</span> + section  + <span class="hljs-string">' row data '</span> + rowdata}).show();
});

<span class="hljs-comment">// add table view to the window</span>
Titanium.UI.currentWindow.add(tableview);
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="April 8th 2010, 2:24:07 pm">April 8th 2010</span>
								by <span class='authorname'>Anh Tuan Kieu</span><br>
								<a class="icon-bg icon-link" href="question/13971/tableview-getdata-problem#answer-32491" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-32141">
				
						<section>
							<p>Hi,</p>
<p>I don&#39;t see a getData() method on the TableView object which will be why you get an exception. You are on the right track with the data property though. In the same way that you can use it to add an array of rows, its also an array you can inspect. Hope this snippit helps.</p>
<p>&#x2F;&#x2F; Here is a simple TableView</p>
<p>var tView = Titanium.UI.createTableView({<br>  top:10,<br>  backgroundColor:&#39;black&#39;<br>});</p>
<p>&#x2F;&#x2F; put some rows into it. I&#39;m using tView.appendRow(…) </p>
<p>&#x2F;&#x2F; Now lets inspect that data</p>
<p>Titanium.API.debug(&quot;tView length: &quot; + tView.data.length);</p>
<p>&#x2F;&#x2F; Now lets get the first row:</p>
<p>var aRow = tView.data[0]; &#x2F;&#x2F; This is a TableViewRow object</p>
<p>I hope that helps. Happy coding :-)</p>
<p>Ian</p>
<p>p.s. I&#39;m using Titanium SDK 1.1.2 and 1.2.0</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="April 8th 2010, 12:00:11 pm">April 8th 2010</span>
								by <span class='authorname'>Ian Buckner</span><br>
								<a class="icon-bg icon-link" href="question/13971/tableview-getdata-problem#answer-32141" rel="permalink">permalink</a>
							</div>

							<h5>2 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>The problem with this is that tView.data only stores the original table data, rather than the current data, meaning that as soon as you change the table data, tView.data is out of data.<br>Note that my platform is android emulator and Ti 1.3.2</p>
</p>
										<div class="author">
											&mdash; commented <span title="June 29th 2010, 6:05:16 pm">June 29th 2010</span>
											by <span class='authorname'>Paul Dowsett</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>typo: &quot;tView.data is out of data&quot;  s&#x2F;b  &quot;tView.data is out of date&quot;</p>
</p>
										<div class="author">
											&mdash; commented <span title="June 29th 2010, 10:25:39 pm">June 29th 2010</span>
											by <span class='authorname'>Paul Dowsett</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-32281">
				
						<section>
							<p>Hi Ian,<br>Thank you for your answer.<br>Yes appendRow was working for me but when you want to add multiple rows at once, it&#39;s better to use setData as suggested by Don Thorp http:&#x2F;&#x2F;developer.appcelerator.com&#x2F;question&#x2F;4621&#x2F;tableview—add-row-dynamically, that&#39;s why I want to have a variable to hold current data then add multiple rows to this array, after that I just have to call setData(data). For information, my app which uses getData() works well on 1.1.2. Apparently, there was a ticket for that https:&#x2F;&#x2F;appcelerator.lighthouseapp.com&#x2F;projects&#x2F;32238&#x2F;tickets&#x2F;334-android-missing-data-property-on-tableview and I see that it&#39;s fixed but that does not seem to be.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="April 8th 2010, 12:50:53 pm">April 8th 2010</span>
								by <span class='authorname'>Anh Tuan Kieu</span><br>
								<a class="icon-bg icon-link" href="question/13971/tableview-getdata-problem#answer-32281" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-32291">
				
						<section>
							<p>Hi Ian,<br>Thank you for your answer.<br>Yes appendRow was working for me but when you want to add multiple rows at once, it&#39;s better to use setData as suggested by Don Thorp (http:&#x2F;&#x2F;developer.appcelerator.com&#x2F;question&#x2F;4621&#x2F;tableview—add-row-dynamically), that&#39;s why I want to have a variable to hold current data then add multiple rows to this array, after that I just have to call setData(data). For information, my app which uses getData() works well on 1.1.2. Apparently, there was a ticket for that https:&#x2F;&#x2F;appcelerator.lighthouseapp.com&#x2F;projects&#x2F;32238&#x2F;tickets&#x2F;334-android-missing-data-property-on-tableview and I see that it&#39;s fixed but that does not seem to be.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="April 8th 2010, 12:52:06 pm">April 8th 2010</span>
								by <span class='authorname'>Anh Tuan Kieu</span><br>
								<a class="icon-bg icon-link" href="question/13971/tableview-getdata-problem#answer-32291" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-32371">
				
						<section>
							<p>Are you calling setData(null) before this code? The stack trace has an error that is executed from setData.. (and a resulting NullPointerException)</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="April 8th 2010, 1:23:55 pm">April 8th 2010</span>
								by <span class='authorname'>Marshall Culpepper</span><br>
								<a class="icon-bg icon-link" href="question/13971/tableview-getdata-problem#answer-32371" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-32391">
				
						<section>
							<p>Hi Marshall,<br>No, I don&#39;t call setData(null) before. You can stimulate by adding this line:</p>
<pre><code class="hljs"><span class="hljs-variable"><span class="hljs-keyword">var</span> temp</span> = tableview.getData(); <span class="hljs-comment">//=&gt; produces a runtime error</span>
</code></pre><p>after </p>
<pre><code class="hljs">// <span class="hljs-operator"><span class="hljs-keyword">create</span> <span class="hljs-keyword">table</span> <span class="hljs-keyword">view</span>
<span class="hljs-keyword">var</span> tableview = Titanium.UI.createTableView({
    <span class="hljs-keyword">data</span>:<span class="hljs-keyword">data</span>
});</span>
</code></pre><p>in table_view_basic.js in KitchenSink.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="April 8th 2010, 1:32:07 pm">April 8th 2010</span>
								by <span class='authorname'>Anh Tuan Kieu</span><br>
								<a class="icon-bg icon-link" href="question/13971/tableview-getdata-problem#answer-32391" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-32441">
				
						<section>
							<p>It looks like &quot;data&quot; might be null when you pass it to createTableView() can you double check it?</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="April 8th 2010, 1:59:09 pm">April 8th 2010</span>
								by <span class='authorname'>Marshall Culpepper</span><br>
								<a class="icon-bg icon-link" href="question/13971/tableview-getdata-problem#answer-32441" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-32511">
				
						<section>
							<p>Sorry about that, I missed the part about KitchenSink :) I&#39;ll paste the code here and see if I can figure out the problem</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="April 8th 2010, 2:41:14 pm">April 8th 2010</span>
								by <span class='authorname'>Marshall Culpepper</span><br>
								<a class="icon-bg icon-link" href="question/13971/tableview-getdata-problem#answer-32511" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-32821">
				
						<section>
							<p>Marshall, I think I found the problem. I have to explicitly call tableview.setData(data) even if I&#39;ve passed data as a parameter while initializing via:</p>
<pre><code class="hljs"><span class="hljs-comment">// create table view</span>
<span class="hljs-built_in">var</span> tableview = Titanium<span class="hljs-built_in">.</span>UI<span class="hljs-built_in">.</span>createTableView({
    <span class="hljs-built_in">data</span>:<span class="hljs-built_in">data</span>
});

<span class="hljs-comment">//var temp = tableview.getData(); //Doesn't work</span>
<span class="hljs-comment">//I have to explicitly call</span>
tableview<span class="hljs-built_in">.</span>setData(<span class="hljs-built_in">data</span>);
<span class="hljs-built_in">var</span> temp = tableview<span class="hljs-built_in">.</span>getData(); <span class="hljs-comment">//Now it works</span>
</code></pre><p>I take a look at the source code: http:&#x2F;&#x2F;github.com&#x2F;appcelerator&#x2F;titanium_mobile&#x2F;blob&#x2F;master&#x2F;android&#x2F;modules&#x2F;ui&#x2F;src&#x2F;ti&#x2F;modules&#x2F;titanium&#x2F;ui&#x2F;widget&#x2F;TiUITableView.java, the data property is commented (line 135), might be that&#39;s the cause?</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="April 8th 2010, 5:34:55 pm">April 8th 2010</span>
								by <span class='authorname'>Anh Tuan Kieu</span><br>
								<a class="icon-bg icon-link" href="question/13971/tableview-getdata-problem#answer-32821" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>This still seems to be a bug, as of 1.3.2.<br>By the way, I really don&#39;t see the point of using setData(data) to get getData to work, when all you are getting is the information in the &quot;data&quot; array.<br>I have raised a ticket here:<br><a href="https:&#x2F;&#x2F;appcelerator.lighthouseapp.com&#x2F;projects&#x2F;32238-titanium-mobile&#x2F;tickets&#x2F;1215-tiuitableviewdatalength-returns-the-original-no-of-rows-in-table-rather-than-current-number-of-rows">#1215</a></p>
</p>
										<div class="author">
											&mdash; commented <span title="June 29th 2010, 6:01:56 pm">June 29th 2010</span>
											by <span class='authorname'>Paul Dowsett</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
