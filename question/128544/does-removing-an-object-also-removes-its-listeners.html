<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Does removing an object also removes its listeners? » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Does removing an object also removes its listeners?</h1>
		</header>
		<section>
			<p>Yes or no?</p>
<p>Titanium does garbage collection and clears memory?</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="November 22nd 2011, 1:48:52 am">November 22nd 2011</span>
				by <span class='authorname'>Peter Lum</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>garbage collection</span></li>
					
						<li><span class='tagname'>listeners</span></li>
					
						<li><span class='tagname'>removing an object</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>5</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>5 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-223946">
				
						<section>
							<p>Hi Peter</p>
<p>1) Does removing and object also removes its listeners?<br>=&gt; Yes, when you remove any object from the window or view it automatically removes its listeners.</p>
<p>2) Titanium does garbage collection and clears memory?<br>=&gt; As of you know that titanium convert the JS to Native code so all the responsibility of garbage collection is handle by the OS itself. I am sure with IPhone that it manage well the garbage collection for the app build with titanium. (its based on my past experience in development of Iphone App).</p>
<p>While if this question is particularly for android OS, Then i can say that i don&#39;t find any such garbage collection or clear memory management for those app in my experience. But will love to see that in the near future SDK updates. </p>
<p>I believe that appcelerator Community members would like to add something on this.</p>
<p>Regards</p>
<p>Nikunj</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="November 22nd 2011, 2:07:36 am">November 22nd 2011</span>
								by <span class='authorname'>Nikunj Sakhrelia</span><br>
								<a class="icon-bg icon-link" href="question/128544/does-removing-an-object-also-removes-its-listeners#answer-223946" rel="permalink">permalink</a>
							</div>

							<h5>4 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Thanks, Nikunj</p>
<p>I have an iOS app that works fine on Iphone 4S and Ipad2 but crashes in ipod gen 2, 8GB. I wonder if it is my app or the device.</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 22nd 2011, 2:26:53 am">November 22nd 2011</span>
											by <span class='authorname'>Peter Lum</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Hi Peter</p>
<p>I am not sure with the Ipod as i never have developed app considering the Ipod as the target. Well it may be possible that your code trying to access any things which is not a part of the Ipod ( This is just my assumption) Well if you can i can test your app in IPod and check the log for the solution or you can provide me the logs for the crash report.</p>
<p>Regards</p>
<p>Nikunj</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 22nd 2011, 2:36:55 am">November 22nd 2011</span>
											by <span class='authorname'>Nikunj Sakhrelia</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Hmm… how do i access the crash log files from an ipod device? Via itunes?</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 22nd 2011, 3:06:46 am">November 22nd 2011</span>
											by <span class='authorname'>Peter Lum</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>have you run the app through Xcode on the device.. the logs etc should all be there…</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 23rd 2011, 11:25:02 am">November 23rd 2011</span>
											by <span class='authorname'>Trevor Ward</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>2</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-223963">
				
						<section>
							<p>This is a subject which is not straight forward, and a very valid question to understand how titanium works.</p>
<p>My understanding is this… If you remove an object from a window like a view and you have an event listener on that view, although you cannot access the event the view and the event listener stay in memory.</p>
<p>So upon removing the item from the view if you want to free up the memory you should remove the event listener. Also to free up more is to null the variable of the component.</p>
<p>i.e. buttonView    =    null; this should also remove the event listener.</p>
<p>If you set an application listener then these do not get cleaned up.</p>
<p>Also event listeners will persist for a while before garbage collection cleans them up even if you remove the view so better to remove them when required.</p>
<p>Saying that though if you are closing a window then its sub components and event listeners are not always cleared form memory especially android.</p>
<p>So I put in a close event on the window which nulls the window variable, this although not always necessary does clean up the memory and remaining event listeners.</p>
<p>I am sure other people will contribute to this.</p>
<p>Hope this helps.</p>
<p>T.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="November 22nd 2011, 6:33:52 am">November 22nd 2011</span>
								by <span class='authorname'>Trevor Ward</span><br>
								<a class="icon-bg icon-link" href="question/128544/does-removing-an-object-also-removes-its-listeners#answer-223963" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-223975">
				
						<section>
							<p>Here is my opinion: </p>
<ul>
<li>In theory: Titanium removes event handlers when component is removed (explicitly or implicitly)</li>
<li>In practice: Titanium does not remove event handlers in all cases. In my app I had crashes due to &quot;Sending event on dead thread&quot; exceptions. I couldn&#39;t figure out why do they happen, but I wrote my own event system (that is basically wrapper around Titanium event system) and then manually removed components and their events when window closed and after that exceptions were gone (also, memory is pretty constant while using application). Figure out yourself.</li>
</ul>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="November 22nd 2011, 9:02:01 am">November 22nd 2011</span>
								by <span class='authorname'>Ivan Škugor</span><br>
								<a class="icon-bg icon-link" href="question/128544/does-removing-an-object-also-removes-its-listeners#answer-223975" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-224043">
				
						<section>
							<p>Hi</p>
<p>If I create a dashboard object and later remove it from the window. How do I remove the dashboard listeners like the below:</p>
<p>dashboard.addEventListener(&#39;edit&#39;,function()<br>dashboard.addEventListener(&#39;commit&#39;,function()<br>dashboard.addEventListener(&#39;click&#39;,function()</p>
<p>etc.</p>
<p>win.removeEventListener(&quot;click&quot;); ?</p>
<p>Because I have many &quot;click&quot; event listeners for different objects….</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="November 22nd 2011, 11:53:10 pm">November 22nd 2011</span>
								by <span class='authorname'>Peter Lum</span><br>
								<a class="icon-bg icon-link" href="question/128544/does-removing-an-object-also-removes-its-listeners#answer-224043" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>dashboard.removeEventListner(&#39;edit&#39;, function()…</p>
<p>You have to remove each event listener calling the function which the add called……</p>
<p>so dashboard.addEventListener(&#39;edit&#39;, myFunc);<br>is dashboard.removeEventListener(&#39;edit&#39;, myFunc);</p>
<p>each one is removed separately… hope this helps</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 23rd 2011, 6:16:01 am">November 23rd 2011</span>
											by <span class='authorname'>Trevor Ward</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-223949">
				
						<section>
							<p>yes, i m surprized that how can u ask this kindda question.Bcoz when u removes an object from window or view ,its event listener becomes vestigal part of code.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="November 22nd 2011, 3:09:43 am">November 22nd 2011</span>
								by <span class='authorname'>Gagan Tiwari</span><br>
								<a class="icon-bg icon-link" href="question/128544/does-removing-an-object-also-removes-its-listeners#answer-223949" rel="permalink">permalink</a>
							</div>

							<h5>2 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Hi, gagan</p>
<p>With respecting your answer yes its obvious to get surprise but we cant say <strong>&quot;how can u ask this kindda question&quot;</strong> Well I believe community site is hosted to solve the issue for all developer and to make them clear about the fundamentals too. So instead, you can provide the link where the fellow developer could able to get more better understanding. Should welcome all question so that developer can feel free to ask their query.</p>
<p>Regards</p>
<p>Nikunj</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 22nd 2011, 3:21:22 am">November 22nd 2011</span>
											by <span class='authorname'>Nikunj Sakhrelia</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Dear Gagan</p>
<p>I asked because there is removeEventListener method. It doesn&#39;t seem obvious to me whether I have to use it when I remove objects.</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 22nd 2011, 3:36:05 am">November 22nd 2011</span>
											by <span class='authorname'>Peter Lum</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>-4</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
