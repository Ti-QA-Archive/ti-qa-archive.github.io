<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Page Up Curl / Page Down Curl iPhone Bug? » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Page Up Curl / Page Down Curl iPhone Bug?</h1>
		</header>
		<section>
			<p>I have an application window that has a simple curl up and down animation after a button is pressed but recently after the page curls up and then the user presses the button to close and the page curls down, the window is now misaligned and too high with the paging control disappearing.  This was working perfectly recently so I was wondering if anyone else has experienced this issue or if it a bug with the latest update to Titanium or the SDK?</p>
<pre><code class="hljs">var win = Titanium.UI.currentWindow;
win.backgroundColor = <span class="hljs-string">'#FFF'</span>;

win.orientationModes = [
    Titanium.UI.PORTRAIT,
];

var vertScrollView = Titanium.UI.createScrollView({
    contentWidth:<span class="hljs-string">'auto'</span>,
    contentHeight:<span class="hljs-string">'auto'</span>,
    top:<span class="hljs-number">0</span>,
    bottom:<span class="hljs-number">0</span>,
    showVerticalScrollIndicator:<span class="hljs-keyword">true</span>,
    showHorizontalScrollIndicator:<span class="hljs-keyword">false</span>
});

var view = Ti.UI.createView({
    backgroundColor:<span class="hljs-string">'#fff'</span>
});

vertScrollView.<span class="hljs-built_in">add</span>(view)

var intropic = Ti.UI.createImageView({
    <span class="hljs-built_in">image</span>:<span class="hljs-string">'../images/pic.png'</span>,
    left:<span class="hljs-number">0</span>,
    <span class="hljs-variable">height</span>:<span class="hljs-number">300</span>,
    <span class="hljs-variable">width</span>:<span class="hljs-number">320</span>,
    top:<span class="hljs-number">0</span>,
})

view.<span class="hljs-built_in">add</span>(intropic);

var intro2 = Ti.UI.createLabel({
    <span class="hljs-built_in">color</span>:<span class="hljs-string">'#000'</span>,
    font:{fontSize:<span class="hljs-number">16</span>},
    left:<span class="hljs-number">10</span>,
    top:<span class="hljs-number">305</span>,
    right:<span class="hljs-number">10</span>,
    <span class="hljs-built_in">textAlign</span>:<span class="hljs-string">'left'</span>,
    <span class="hljs-built_in">text</span>:<span class="hljs-string">'Lorem Ipsum...'</span>,
    <span class="hljs-variable">height</span>:<span class="hljs-string">'auto'</span>,
    <span class="hljs-variable">width</span>:<span class="hljs-string">'auto'</span>
});
view.<span class="hljs-built_in">add</span>(intro2);

<span class="hljs-comment">//Start of Questions*********************************************</span>

var view1 = Ti.UI.createView({
    backgroundColor:<span class="hljs-string">'#FFF'</span>
});

<span class="hljs-comment">//OK AS IS Button and Event Listener Text************************</span>

var b1 = Titanium.UI.createButton({
    <span class="hljs-variable">width</span>:<span class="hljs-number">145</span>,
    <span class="hljs-variable">height</span>:<span class="hljs-number">40</span>,
    left:<span class="hljs-number">10</span>,
    top:<span class="hljs-number">240</span>
});
var b1Label = Ti.UI.createLabel({
    <span class="hljs-built_in">text</span>:<span class="hljs-string">'OK as is'</span>,
    left:<span class="hljs-number">53</span>,
    <span class="hljs-variable">width</span>:<span class="hljs-number">100</span>,
    <span class="hljs-variable">height</span>:<span class="hljs-number">20</span>,
    <span class="hljs-built_in">color</span>:<span class="hljs-string">'#336699'</span>,
    font:{fontSize:<span class="hljs-number">18</span>,fontWeight:<span class="hljs-string">'bold'</span>},
});
b1.<span class="hljs-built_in">add</span>(b1Label);

var b1ImageView = Ti.UI.createImageView({
    <span class="hljs-built_in">image</span>:<span class="hljs-string">'../images/check.png'</span>,
    left:<span class="hljs-number">10</span>,
    <span class="hljs-variable">height</span>:<span class="hljs-number">30</span>,
    <span class="hljs-variable">width</span>:<span class="hljs-number">33</span>
});
b1.<span class="hljs-built_in">add</span>(b1ImageView);

b1.addEventListener(<span class="hljs-string">'click'</span>,function()
{
    l1.<span class="hljs-built_in">text</span> = <span class="hljs-string">"Incorrect!"</span>;
    l1.<span class="hljs-built_in">color</span> = <span class="hljs-string">'#cc0000'</span>; 
    l1b.<span class="hljs-built_in">text</span> = <span class="hljs-string">"Lorem ipsum."</span>;
});

view1.<span class="hljs-built_in">add</span>(b1);

var b2 = Titanium.UI.createButton({
    <span class="hljs-variable">width</span>:<span class="hljs-number">300</span>,
    <span class="hljs-variable">height</span>:<span class="hljs-number">40</span>,
    left:<span class="hljs-number">10</span>,
    top:<span class="hljs-number">288</span>
});
var b2Label = Ti.UI.createLabel({
    <span class="hljs-built_in">text</span>:<span class="hljs-string">'Not sure...'</span>,
    left:<span class="hljs-number">53</span>,
    <span class="hljs-variable">width</span>:<span class="hljs-number">200</span>,
    <span class="hljs-variable">height</span>:<span class="hljs-number">20</span>,
    <span class="hljs-built_in">color</span>:<span class="hljs-string">'#336699'</span>,
    font:{fontSize:<span class="hljs-number">18</span>,fontWeight:<span class="hljs-string">'bold'</span>},
});
b2.<span class="hljs-built_in">add</span>(b2Label);

var b2ImageView = Ti.UI.createImageView({
    <span class="hljs-built_in">image</span>:<span class="hljs-string">'../images/hint.png'</span>,
    left:<span class="hljs-number">10</span>,
    <span class="hljs-variable">height</span>:<span class="hljs-number">30</span>,
    <span class="hljs-variable">width</span>:<span class="hljs-number">33</span>
});
b2.<span class="hljs-built_in">add</span>(b2ImageView);


b2.addEventListener(<span class="hljs-string">'click'</span>, function()
{
    var w = Ti.UI.createWindow({
        backgroundImage:<span class="hljs-string">'../images/hintbgd.jpg'</span>
    });

    <span class="hljs-comment">//add hint text</span>
    var hint = Ti.UI.createLabel({
    <span class="hljs-built_in">text</span>:<span class="hljs-string">'This is the hint text'</span>,
    <span class="hljs-variable">width</span>:<span class="hljs-number">300</span>,
    <span class="hljs-variable">height</span>:<span class="hljs-string">'auto'</span>,
    top:<span class="hljs-number">60</span>,
    left:<span class="hljs-number">60</span>,
    <span class="hljs-built_in">color</span>:<span class="hljs-string">'#FFF'</span>,
    font:{fontSize:<span class="hljs-number">24</span>}
});
    w.<span class="hljs-built_in">add</span>(hint);

    var b = Ti.UI.createButton({title:<span class="hljs-string">'Got It'</span>,<span class="hljs-variable">width</span>:<span class="hljs-number">200</span>,<span class="hljs-variable">height</span>:<span class="hljs-number">40</span>,top:<span class="hljs-number">350</span>});
    b.addEventListener(<span class="hljs-string">'click'</span>, function()
    {
        w.close({transition:Ti.UI.iPhone.AnimationStyle.CURL_DOWN});
    });
    w.<span class="hljs-built_in">add</span>(b);

    w.<span class="hljs-built_in">open</span>({transition:Ti.UI.iPhone.AnimationStyle.CURL_UP});
});

view1.<span class="hljs-built_in">add</span>(b2);

var b3 = Titanium.UI.createButton({
    <span class="hljs-variable">width</span>:<span class="hljs-number">145</span>,
    <span class="hljs-variable">height</span>:<span class="hljs-number">40</span>,
    left:<span class="hljs-number">165</span>,
    top:<span class="hljs-number">240</span>
});
var b3Label = Ti.UI.createLabel({
    <span class="hljs-built_in">text</span>:<span class="hljs-string">'Wrong'</span>,
    left:<span class="hljs-number">53</span>,
    <span class="hljs-variable">width</span>:<span class="hljs-number">100</span>,
    <span class="hljs-variable">height</span>:<span class="hljs-number">20</span>,
    <span class="hljs-built_in">color</span>:<span class="hljs-string">'#336699'</span>,
    font:{fontSize:<span class="hljs-number">18</span>,fontWeight:<span class="hljs-string">'bold'</span>},
});
b3.<span class="hljs-built_in">add</span>(b3Label);

var b3ImageView = Ti.UI.createImageView({
    <span class="hljs-built_in">image</span>:<span class="hljs-string">'../images/wrong.png'</span>,
    left:<span class="hljs-number">10</span>,
    <span class="hljs-variable">height</span>:<span class="hljs-number">30</span>,
    <span class="hljs-variable">width</span>:<span class="hljs-number">33</span>
});
b3.<span class="hljs-built_in">add</span>(b3ImageView);


b3.addEventListener(<span class="hljs-string">'click'</span>,function()
{
    l1.<span class="hljs-built_in">text</span> = <span class="hljs-string">"Correct"</span>;
    l1.<span class="hljs-built_in">color</span> = <span class="hljs-string">'#669933'</span>;
    l1b.<span class="hljs-built_in">text</span> = <span class="hljs-string">"Lorem ipsum..."</span>;
});

view1.<span class="hljs-built_in">add</span>(b3);

var paper = Ti.UI.createImageView({
    <span class="hljs-built_in">image</span>:<span class="hljs-string">'../images/tornpaper2.png'</span>,
    top:<span class="hljs-number">70</span>,
    left:<span class="hljs-number">0</span>,
    <span class="hljs-variable">width</span>: <span class="hljs-string">'320'</span>,
    <span class="hljs-variable">height</span>: <span class="hljs-string">'23'</span>,
});
view1.<span class="hljs-built_in">add</span>(paper);


var l = Ti.UI.createLabel({
    <span class="hljs-built_in">text</span>:<span class="hljs-string">'Lorem ipsum...'</span>,
    <span class="hljs-variable">width</span>:<span class="hljs-number">300</span>,
    <span class="hljs-variable">height</span>:<span class="hljs-string">'auto'</span>,
    top:<span class="hljs-number">12</span>,
    font:{fontSize:<span class="hljs-number">24</span>}
});
view1.<span class="hljs-built_in">add</span>(l);

var l1 = Ti.UI.createLabel({
    <span class="hljs-built_in">color</span>:<span class="hljs-string">'#000'</span>,
    font:{fontSize:<span class="hljs-number">24</span>},
    left:<span class="hljs-number">10</span>,
    top:<span class="hljs-number">100</span>,
    <span class="hljs-built_in">textAlign</span>:<span class="hljs-string">'left'</span>,
    <span class="hljs-built_in">text</span>:<span class="hljs-string">''</span>,
    <span class="hljs-variable">height</span>:<span class="hljs-string">'auto'</span>,
    <span class="hljs-variable">width</span>:<span class="hljs-string">'auto'</span>
});
view1.<span class="hljs-built_in">add</span>(l1);

var l1b = Ti.UI.createLabel({
    <span class="hljs-built_in">color</span>:<span class="hljs-string">'#000'</span>,
    font:{fontSize:<span class="hljs-number">14</span>},
    left:<span class="hljs-number">10</span>,
    top:<span class="hljs-number">128</span>,
    <span class="hljs-built_in">textAlign</span>:<span class="hljs-string">'left'</span>,
    <span class="hljs-built_in">text</span>:<span class="hljs-string">''</span>,
    <span class="hljs-variable">height</span>:<span class="hljs-string">'auto'</span>,
    <span class="hljs-variable">width</span>:<span class="hljs-string">'auto'</span>
});
view1.<span class="hljs-built_in">add</span>(l1b);

<span class="hljs-comment">//Add scrollview**********************************************************</span>

var scrollView = Titanium.UI.createScrollableView({
    views:[vertScrollView,view1,view2,],
    showPagingControl:<span class="hljs-keyword">true</span>,
    pagingControlHeight:<span class="hljs-number">25</span>,
    maxZoomScale:<span class="hljs-number">2.0</span>,
    currentPage:<span class="hljs-number">0</span>
});

win.<span class="hljs-built_in">add</span>(scrollView);

var i=<span class="hljs-number">1</span>;
var activeView = view1;

scrollView.addEventListener(<span class="hljs-string">'scroll'</span>, function(e)
{
    activeView = e.view;  <span class="hljs-comment">// the object handle to the view that is about to become visible</span>
    i = e.currentPage;
    Titanium.API.info(<span class="hljs-string">"scroll called - current index "</span> + i + <span class="hljs-string">' active view '</span> + activeView);
});
scrollView.addEventListener(<span class="hljs-string">'click'</span>, function(e)
{
    Ti.API.info(<span class="hljs-string">'ScrollView received click event, source = '</span> + e.source);
});
scrollView.addEventListener(<span class="hljs-string">'touchend'</span>, function(e)
{
    Ti.API.info(<span class="hljs-string">'ScrollView received touchend event, source = '</span> + e.source);
});
</code></pre>
		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="August 8th 2012, 7:49:47 pm">August 8th 2012</span>
				by <span class='authorname'>J W</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>animation</span></li>
					
						<li><span class='tagname'>appcelerator</span></li>
					
						<li><span class='tagname'>curl down</span></li>
					
						<li><span class='tagname'>iphone</span></li>
					
						<li><span class='tagname'>view</span></li>
					
				</ul>
			

			<section>
				<h5>5 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>I think we&#39;re going to need more information here. I just ran this and besides having to change some things to get it to run, I did not encounter the problem you are having. So, please share your dev environment: platform and version, mobile sdk version, os version, and studio version</p>
</div>
							<div class="author">
								&mdash; commented <span title="August 8th 2012, 10:15:45 pm">August 8th 2012</span>
								by <span class='authorname'>Anthony Decena</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>I am working on MacBook Pro 2.2 i7 on OSX version 10.6.8 running Titanium Studio version      2.1.1.201207271312-27072012131418 with Titanium Mobile SDK Version 2.0.2 and running iOS simulation version 5.0</p>
<p>Let me know if you need anymore details or what you changed - this window runs after clicking a table row.  Thanks.</p>
</div>
							<div class="author">
								&mdash; commented <span title="August 9th 2012, 12:36:36 pm">August 9th 2012</span>
								by <span class='authorname'>J W</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>What do you mean by &quot;misaligned and too high with the paging control disappearing.&quot; ??</p>
</div>
							<div class="author">
								&mdash; commented <span title="August 17th 2012, 5:06:34 pm">August 17th 2012</span>
								by <span class='authorname'>Amy H</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>When the user clicks the close button and the window closes with the page curl down, the view is then misaligned with the image and text suddenly ~75pixels higher then it should be.</p>
</div>
							<div class="author">
								&mdash; commented <span title="August 17th 2012, 6:13:26 pm">August 17th 2012</span>
								by <span class='authorname'>J W</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>@J W If problem persists, can you please tell me what happens if you close the window without any transition?</p>
<ul>
<li>w.close({transition:Ti.UI.iPhone.AnimationStyle.CURL_DOWN});</li>
</ul>
<p>Hope hearing from you soon, thanks.</p>
</div>
							<div class="author">
								&mdash; commented <span title="January 17th 2013, 9:28:05 pm">January 17th 2013</span>
								by <span class='authorname'>Eduardo Gomez</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>0</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>0 Answers</h3>

	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
