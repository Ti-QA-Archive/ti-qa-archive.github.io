<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Layout issues after migrating to 2.0 Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Layout issues after migrating to 2.0</h1>
		</header>
		<section>
			<p>Hi guys,</p>
<p>I have the following code: </p>
<pre><code class="hljs">var tableView = Ti.UI.createTableView({
    style:Titanium.UI.iPhone.TableViewStyle.GROUPED,
});

var tableRow = Ti.UI.createTableViewRow({
    <span class="hljs-variable">height</span>: Ti.UI.SIZE,
    className: <span class="hljs-string">'address'</span>,
    address: some_text.replace(/(\r\n|\r|\n)/g, <span class="hljs-string">" "</span>),
    layout: <span class="hljs-string">'horizontal'</span>,
    hasChild: <span class="hljs-keyword">true</span>
});

function DetailText(<span class="hljs-built_in">text</span>) {

    <span class="hljs-keyword">return</span> Ti.UI.createLabel({
        backgroundColor: <span class="hljs-string">'yellow'</span>,
        <span class="hljs-built_in">text</span>: <span class="hljs-built_in">text</span> ? <span class="hljs-built_in">text</span>.replace(/(\r\n|\r|\n)/g, <span class="hljs-string">" "</span>) : <span class="hljs-string">''</span>,
        top: <span class="hljs-number">10</span>,
        <span class="hljs-comment">// bottom: 10,</span>
        <span class="hljs-comment">// left: 10,</span>
        <span class="hljs-comment">// right: 10,</span>
        font: {
            fontSize: <span class="hljs-number">13</span>,
            fontWeight: <span class="hljs-string">'bold'</span>
        },
        <span class="hljs-variable">height</span>: Ti.UI.SIZE,
        <span class="hljs-variable">width</span>: Ti.UI.SIZE,
    });
}

function DetailLabel(<span class="hljs-built_in">text</span>) {

    <span class="hljs-keyword">return</span> Ti.UI.createLabel({
        backgroundColor: <span class="hljs-string">'cyan'</span>,
        <span class="hljs-built_in">color</span>: <span class="hljs-string">'#516691'</span>,
        <span class="hljs-variable">height</span>: Ti.UI.SIZE,
        <span class="hljs-built_in">text</span>: <span class="hljs-built_in">text</span>,
        top: <span class="hljs-number">10</span>,
        <span class="hljs-comment">// left: 0,</span>
        <span class="hljs-variable">width</span>: <span class="hljs-number">75</span>,
        <span class="hljs-built_in">textAlign</span>: Ti.UI.TEXT_ALIGNMENT_RIGHT,
        font: {
            fontSize: <span class="hljs-number">13</span>,
            fontWeight: <span class="hljs-string">'bold'</span>
        }
    });
}
</code></pre><p>Here is a link with the result: <a href="http:&#x2F;&#x2F;screencast.com&#x2F;t&#x2F;NqQrO4ZYSfbb">First screenshot</a></p>
<p>The problem is that the rows in the red area are always displayed wrong if I use Ti.UI.SIZE or Ti.UI.FILL as the width of the yellow labels.</p>
<p>I&#39;m using that RegExp to remove new line characters and stop them interfering with the design.</p>
<p>If I use a fixed width like 185 to the yellow labels, the rows will look like this: <a href="http:&#x2F;&#x2F;screencast.com&#x2F;t&#x2F;jlILiIKqLoU">Another screenshot</a></p>
<p>If I remove the top 10, the undeclared bottom 10 disappear too, but only in the multiline label rows: <a href="http:&#x2F;&#x2F;screencast.com&#x2F;t&#x2F;xJrdlG1Ogr">screenshot</a> (I also added 10 left points for the yellow label). On single line rows it seems the 10 points are still there from the cyan label. </p>
<p>If I add 10 top and 10 bottom to that yellow label: <a href="http:&#x2F;&#x2F;screencast.com&#x2F;t&#x2F;Jn9OEAXzE415">Screenshot</a>.</p>
<p>Does anybody have an idea why does the 10 points at the top add 10 at the bottom too? Why can&#39;t I use Ti.UI.SIZE width on the yellow labels?</p>
<p>The whole purpose of these questions is that I need a table view row with those two types of labels inside and I need 10 points at the top and bottom to make the content more readable. And also some distance in between. Also it is preferable that the elements should be width agnostic.</p>
<p>Thanks!</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="April 19th 2012, 10:49:46 am">April 19th 2012</span>
				by <span class='authorname'>Lucian Pacurar</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>ios</span></li>
					
						<li><span class='tagname'>layout</span></li>
					
						<li><span class='tagname'>titanium</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-236766">
				
						<section>
							<p><code>width: Ti.UI.SIZE</code> is correct for the label.  I would consider this a bug in the new layout engine.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="April 20th 2012, 6:48:19 pm">April 20th 2012</span>
								by <span class='authorname'>Shawn Lipscomb</span><br>
								<a class="icon-bg icon-link" href="question/135663/layout-issues-after-migrating-to-20#answer-236766" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
