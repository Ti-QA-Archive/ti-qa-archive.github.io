<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Upgrading to Titanium SDK 3.3.0 causes unhandled exception on Android 2.3.4 » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Upgrading to Titanium SDK 3.3.0 causes unhandled exception on Android 2.3.4</h1>
		</header>
		<section>
			<p>When I attempt to build my application with the 3.3.0 sdk, iOS seems fine, but my Android apk crashes upon launching.  I am testing with an HTC Incredible running Android 2.3.4.  I am using Alloy for all of the user interface.  All of my initialization code executes without errors, but as soon as that code finishes, I get the dialog:</p>
<p>&quot;Sorry!  The application ___ has stopped unexpectedly.  Please try again.&quot;</p>
<p>I dug through your release notes and I didn&#39;t find any red flags about converting any code.  I am not using targetSdkVersion in any xml files.</p>
<p>The Titanium Studio Console shows the following output:</p>
<p>[INFO] :   dalvikvm: Could not find method android.app.Application.onTrimMemory, referenced from method org.appcelerator.titanium.TiApplication.onTrimMemory<br>[WARN] :   dalvikvm: VFY: unable to resolve virtual method 192: Landroid&#x2F;app&#x2F;Application;.onTrimMemory (I)V<br>[INFO] :   TiApplication: (main) [0,0] checkpoint, app created.<br>[INFO] :   TiApplication: (main) [692,692] Titanium 3.3.0 (2014&#x2F;07&#x2F;11 12:36 787cd39)<br>[INFO] :   I&#x2F;dalvikvm-heap: Grow heap (frag case) to 9.187MB for 3127514-byte allocation<br>[INFO] :   TiApplication: (main) [1698,2390] Titanium Javascript runtime: v8<br>[INFO] :   TiRootActivity: (main) [0,0] checkpoint, on root activity create, savedInstanceState: null<br>[INFO] :   TiApplication: (main) [0,0] Analytics have been disabled<br>[WARN] :   V8Object: Runtime disposed, cannot set property &#39;userAgent&#39;<br>[INFO] :   dalvikvm: Total arena pages for JIT: 11<br>[INFO] :   TiRootActivity: (main) [0,0] checkpoint, on root activity resume. activity = com.step.taleblazer.TaleblazerActivity@405d6530<br>[INFO] :   dalvikvm: Could not find method android.view.View.setTranslationX, referenced from method org.appcelerator.titanium.view.TiUIView.resetTranslationX<br>[WARN] :   dalvikvm: VFY: unable to resolve virtual method 8481: Landroid&#x2F;view&#x2F;View;.setTranslationX (F)V<br>[INFO] :   dalvikvm: Could not find method android.view.View.setTranslationY, referenced from method org.appcelerator.titanium.view.TiUIView.resetTranslationY<br>[WARN] :   dalvikvm: VFY: unable to resolve virtual method 8482: Landroid&#x2F;view&#x2F;View;.setTranslationY (F)V<br>[INFO] :   dalvikvm: Could not find method android.view.View.setAlpha, referenced from method org.appcelerator.titanium.view.TiUIView.setAlpha<br>[WARN] :   dalvikvm: VFY: unable to resolve virtual method 8439: Landroid&#x2F;view&#x2F;View;.setAlpha (F)V<br>[INFO] :   dalvikvm: Could not find method ti.modules.titanium.ui.widget.TiArrowView.setLayerType, referenced from method ti.modules.titanium.ui.widget.TiArrowView.&lt;init&gt;<br>[WARN] :   dalvikvm: VFY: unable to resolve virtual method 19261: Lti&#x2F;modules&#x2F;titanium&#x2F;ui&#x2F;widget&#x2F;TiArrowView;.setLayerType (ILandroid&#x2F;graphics&#x2F;Paint;)V<br>[INFO] :   dalvikvm: Could not find method android.view.View.setPivotX, referenced from method org.appcelerator.titanium.util.TiAnimationBuilder.setViewPivotHC<br>[WARN] :   dalvikvm: VFY: unable to resolve virtual method 8469: Landroid&#x2F;view&#x2F;View;.setPivotX (F)V<br>[WARN] :   dalvikvm: threadid=1: thread exiting with uncaught exception (group=0x4001d5a0)</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="August 6th 2014, 6:57:05 pm">August 6th 2014</span>
				by <span class='authorname'>Lisa Stump</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>sdk 3.3.0</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>3</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>3 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-281484">
				
						<section>
							<p>FYI, when I build and run with sdk 3.2.2, it works fine and I get this output:</p>
<p>[INFO] :   dalvikvm: Could not find method android.app.Application.onTrimMemory, referenced from method org.appcelerator.titanium.TiApplication.onTrimMemory<br>[WARN] :   dalvikvm: VFY: unable to resolve virtual method 126: Landroid&#x2F;app&#x2F;Application;.onTrimMemory (I)V<br>[INFO] :   TiApplication: (main) [0,0] checkpoint, app created.<br>[INFO] :   TiApplication: (main) [366,366] Titanium 3.2.2 (2014&#x2F;03&#x2F;05 12:22 96e9a07)<br>[INFO] :   I&#x2F;dalvikvm-heap: Grow heap (frag case) to 8.645MB for 3127450-byte allocation<br>[INFO] :   TiApplication: (main) [1709,2075] Titanium Javascript runtime: v8<br>[INFO] :   TiRootActivity: (main) [0,0] checkpoint, on root activity create, savedInstanceState: null<br>[INFO] :   TiApplication: (main) [1,1] Analytics have been disabled<br>[INFO] :   dalvikvm: Could not find method android.app.Activity.invalidateOptionsMenu, referenced from method org.appcelerator.titanium.proxy.ActivityProxy.handleInvalidateOptionsMenu<br>[WARN] :   dalvikvm: VFY: unable to resolve virtual method 53: Landroid&#x2F;app&#x2F;Activity;.invalidateOptionsMenu ()V<br>[WARN] :   V8Object: Runtime disposed, cannot set property &#39;userAgent&#39;<br>[INFO] :   dalvikvm: Total arena pages for JIT: 11<br>[INFO] :   dalvikvm: Could not find method android.view.View.setTranslationX, referenced from method org.appcelerator.titanium.view.TiUIView.resetTranslationX<br>[WARN] :   dalvikvm: VFY: unable to resolve virtual method 3551: Landroid&#x2F;view&#x2F;View;.setTranslationX (F)V<br>[INFO] :   dalvikvm: Could not find method android.view.View.setTranslationY, referenced from method org.appcelerator.titanium.view.TiUIView.resetTranslationY<br>[WARN] :   dalvikvm: VFY: unable to resolve virtual method 3552: Landroid&#x2F;view&#x2F;View;.setTranslationY (F)V<br>[INFO] :   dalvikvm: Could not find method android.view.View.setAlpha, referenced from method org.appcelerator.titanium.view.TiUIView.setAlpha<br>[WARN] :   dalvikvm: VFY: unable to resolve virtual method 3519: Landroid&#x2F;view&#x2F;View;.setAlpha (F)V<br>[INFO] :   dalvikvm: Could not find method android.view.View.setPivotX, referenced from method org.appcelerator.titanium.util.TiAnimationBuilder.setViewPivotHC<br>[WARN] :   dalvikvm: VFY: unable to resolve virtual method 3541: Landroid&#x2F;view&#x2F;View;.setPivotX (F)V<br>[INFO] :   TiRootActivity: (main) [0,0] checkpoint, on root activity resume. activity = com.step.taleblazer.TaleblazerActivity@4059c120<br>[INFO] :   dalvikvm: Could not find method android.graphics.Bitmap.getByteCount, referenced from method org.appcelerator.titanium.util.TiImageLruCache.sizeOf<br>[WARN] :   dalvikvm: VFY: unable to resolve virtual method 438: Landroid&#x2F;graphics&#x2F;Bitmap;.getByteCount ()I<br>[WARN] :   IInputConnectionWrapper: showStatusIcon on inactive InputConnection<br>[WARN] :   IInputConnectionWrapper: InputConnection = android.view.inputmethod.BaseInputConnection@4076ac10, active client = false</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 6th 2014, 6:59:52 pm">August 6th 2014</span>
								by <span class='authorname'>Lisa Stump</span><br>
								<a class="icon-bg icon-link" href="question/176821/upgrading-to-titanium-sdk-330-causes-unhandled-exception-on-android-234.html#answer-281484" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-281485">
				
						<section>
							<p>I also tested on a Nexus 7 running Android 4.4 with the same result:</p>
<p>[INFO] :   TiApplication: (main) [0,0] checkpoint, app created.<br>[INFO] :   TiApplication: (main) [358,358] Titanium 3.3.0 (2014&#x2F;07&#x2F;11 12:36 787cd39)<br>[INFO] :   DatabaseHelper: No value in database for platform key: &#39;unique_machine_id&#39; returning supplied default &#39;&#39;<br>[INFO] :   DatabaseHelper: No value in database for platform key: &#39;hardware_machine_id&#39; returning supplied default &#39;&#39;<br>[INFO] :   I&#x2F;dalvikvm-heap: Grow heap (frag case) to 12.980MB for 3127514-byte allocation<br>[WARN] :   linker: libstlport_shared.so has text relocations. This is wasting memory and is a security risk. Please fix.<br>[WARN] :   linker: libkroll-v8.so has text relocations. This is wasting memory and is a security risk. Please fix.<br>[WARN] :   linker: libtiverify.so has text relocations. This is wasting memory and is a security risk. Please fix.<br>[INFO] :   TiApplication: (main) [636,994] Titanium Javascript runtime: v8<br>[INFO] :   TiRootActivity: (main) [0,0] checkpoint, on root activity create, savedInstanceState: null<br>[INFO] :   TiApplication: (main) [0,0] Analytics have been disabled<br>[WARN] :   V8Object: Runtime disposed, cannot set property &#39;userAgent&#39;<br>[INFO] :   TiRootActivity: (main) [0,0] checkpoint, on root activity resume. activity = com.step.taleblazer.TaleblazerActivity@41f5ff88<br>[INFO] :   dalvikvm: Total arena pages for JIT: 11<br>[INFO] :   dalvikvm: Total arena pages for JIT: 12<br>[INFO] :   dalvikvm: Total arena pages for JIT: 13<br>[INFO] :   dalvikvm: Total arena pages for JIT: 14<br>[INFO] :   dalvikvm: Total arena pages for JIT: 15<br>[INFO] :   dalvikvm: Total arena pages for JIT: 16<br>[INFO] :   dalvikvm: Total arena pages for JIT: 17<br>[INFO] :   dalvikvm: Total arena pages for JIT: 18<br>[WARN] :   dalvikvm: threadid=1: thread exiting with uncaught exception (group=0x4155fb90)<br>[INFO] :   Process: Sending signal. PID: 3906 SIG: 9</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 6th 2014, 7:14:42 pm">August 6th 2014</span>
								by <span class='authorname'>Lisa Stump</span><br>
								<a class="icon-bg icon-link" href="question/176821/upgrading-to-titanium-sdk-330-causes-unhandled-exception-on-android-234.html#answer-281485" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-281490">
				
						<section>
							<p>Hi Lisa</p>
<p>A quick note, when adding additional information,can you do it as a comment please. It looks like you already have people helping out here.</p>
<p>Not sure what OS your running, Mac or Windows, but either way, you need to update you Android SDK and have 23.0.2 installed, and also try setting a minimum target SDK.</p>
<p>T.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 7th 2014, 4:48:44 am">August 7th 2014</span>
								by <span class='authorname'>Trevor Ward</span><br>
								<a class="icon-bg icon-link" href="question/176821/upgrading-to-titanium-sdk-330-causes-unhandled-exception-on-android-234.html#answer-281490" rel="permalink">permalink</a>
							</div>

							<h5>7 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Oops - sorry about answers vs. comments issue.</p>
<p>I am running Mac.  By Android SDK I think you talking about the &#39;Platform Tools&#39; installable via the Android sdk Manager?  I followed your instructions and installed the latest version - 23.0.2.  Then I rebooted and ran </p>
<p>alloy compile –config platform=android </p>
<p>from terminal before I built and ran my app via Titanium Studio.</p>
<p>I am still seeing the same error, but I don&#39;t know how to confirm that Titanium is using the latest version of the Android platform tools.</p>
<p>Also, I have the following line in the AndroidManifest.xml file:</p>
<pre><code class="hljs"><span class="hljs-tag">&lt;<span class="hljs-title">uses-sdk</span> <span class="hljs-attribute">android:minSdkVersion</span>=<span class="hljs-value">"10"</span>/&gt;</span>
</code></pre><p>(FYI, the text editor on the Titanium website is translating the quotes and greater&#x2F;less than xml characters into html, but not displaying them properly - don&#39;t know how to fix this…?)</p>
<p>Is there another line that you&#39;d recommend?</p>
<p>Finally, I have had issues in the past where newer versions of Titanium Studio generate&#x2F;require different settings than older versions of Titanium Studio.  Since I am trying to upgrade an existing project (which was originally generated 3 years ago), I do need to know which settings if any I should change to make my project compatible with the new Titanium sdk.  Do you have any suggestions in this regard?</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 11th 2014, 3:50:39 pm">August 11th 2014</span>
											by <span class='authorname'>Lisa Stump</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Hi Lisa</p>
<p>OK Lets try and deal with one issue.</p>
<p>We need to check if the tooling has been installed correctly and working.</p>
<p>Using the dashboard in studio, create a simple android application and run it.</p>
<p>Does it work ????….</p>
<p>Working through upgrading a 3 yr old application which is back in version 1 of the tooling, pre alloy and probably pre commonJS, means it uses global namespace if your lucky.</p>
<p>So lets deal with the original question about installs.</p>
<p>If it works on a new basic app, then this is resolved, please raise another question about upgrading an old application.</p>
<p>T.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 11th 2014, 6:20:23 pm">August 11th 2014</span>
											by <span class='authorname'>Trevor Ward</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>More precise info:</p>
<p>I have installed:<br>Android SDK Tools 23.0.2<br>Android SDK Platform-tools 20<br>Android SDK Build-tools 20</p>
<p>I do not have any reference to any sdk version in my tiapp.xml file, but in androidmanifest.xml, I do have:<br>        &lt;uses-sdk android:minSdkVersion=&quot;10&quot;&#x2F;&gt;</p>
<p>in my androidmanifest.xml file.</p>
<p>This has suddenly become urgent.  After upgrading the Android tools, I can no longer build Android at all.  When I downgrade back to Titanium sdk 3.2.2, I get:</p>
<p>[ERROR] :  Unable to find Android SDK tools: zipalign.<br>[ERROR] :  You have an incomplete or out-of-date installation.<br>[ERROR] :  Verify your Android SDK packages or reinstall the Android SDK by running &#39;titanium setup android&#39; or manually downloading from http:&#x2F;&#x2F;appcelerator.com&#x2F;android-sdk.</p>
<p>The build continues for a while before ending in:</p>
<p>&#x2F;usr&#x2F;local&#x2F;lib&#x2F;node_modules&#x2F;titanium&#x2F;node_modules&#x2F;longjohn&#x2F;dist&#x2F;longjohn.js:185<br>        throw e;<br>              ^<br>TypeError: Bad argument<br>    at ChildProcess.spawn (child_process.js:933:24)<br>…<br>…<br>…<br>[ERROR] Application Installer abnormal process termination. Process exit value was 8</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 11th 2014, 6:26:51 pm">August 11th 2014</span>
											by <span class='authorname'>Lisa Stump</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Hi Trevor, I added my comment before seeing yours.  I am following your advice now…</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 11th 2014, 6:28:42 pm">August 11th 2014</span>
											by <span class='authorname'>Lisa Stump</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>OK, building a new app worked.  Not sure that this is SO relevant since &#39;upgrading&#39; any app to a new version of Titanium sdk does involve &#39;upgrading&#39; an old application, but I will take your advice and open a new issue.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 11th 2014, 6:34:04 pm">August 11th 2014</span>
											by <span class='authorname'>Lisa Stump</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Thanks.</p>
<p>Please include what type of app your upgrading some example code and a guide to what the last version of the tooling you used.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 11th 2014, 7:00:54 pm">August 11th 2014</span>
											by <span class='authorname'>Trevor Ward</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I added a new issues:</p>
<p><a href="http:&#x2F;&#x2F;developer.appcelerator.com&#x2F;question&#x2F;176939&#x2F;upgrading-an-old-app-3-years-old-to-titanium-sdk-330-causes-the-app-to-crash-upon-launching-on-android#comment-217006">here</a></p>
</p>
										<div class="author">
											&mdash; commented <span title="August 11th 2014, 7:38:33 pm">August 11th 2014</span>
											by <span class='authorname'>Lisa Stump</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
