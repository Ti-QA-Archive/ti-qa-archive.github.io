<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Ti.Media.Sound.play() no sound on iPhone speaker, works only on headphones » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Ti.Media.Sound.play() no sound on iPhone speaker, works only on headphones</h1>
		</header>
		<section>
			<p>Hi,<br>I got this simple code to play a wave file (downloaded from KitchenSink, so it should work) and the problem is, it works on iPhone&#x2F;iPad simulator well but when deployed to iPhone 4 the sound is played only when headphones are pluged in. When I unplug it, there is no sound on the phone speaker.</p>
<p>Now I&#39;m sure the file is not corrupted and the path is ok, because on headphones it works, also the phone speaker isn&#39;t muted and the volume is 100% (I can hear the &#39;click&#39; sound on the speare when unlocking the phone).</p>
<p>There is no errors on device logs.</p>
<p>The code is nothing special:</p>
<pre><code class="hljs">    var player = <span class="hljs-type">Ti</span>.<span class="hljs-type">Media</span>.createSound({
        url: <span class="hljs-symbol">'cricket</span>.wav'
    });

    <span class="hljs-type">Titanium</span>.<span class="hljs-type">API</span>.debug(player.getVolume<span class="hljs-literal">()</span>);
    player.play<span class="hljs-literal">()</span>;
</code></pre><p>Used versions:<br>iPhone 4 (4.3.5),<br>Titanium SDK: 5.0<br>xCode: 4.2</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="October 21st 2012, 11:21:01 am">October 21st 2012</span>
				by <span class='authorname'>Michal Knasiecki</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>audio</span></li>
					
						<li><span class='tagname'>iphone</span></li>
					
						<li><span class='tagname'>sound</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>5</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>5 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-249758">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>Titanium.Media.audioSessionMode = Ti.Media.AUDIO_SESSION_MODE_PLAYBACK;</p>
<p>Please Add this line just above your line player.play(); and you will get  the sound through the speakers and please don&#39;t declare  the line i wrote globally because if you will do that and if you are recording some sounds also then it will not record because for recording you have to declare like this just before you call start() method of recorder:-</p>
<p>Titanium.Media.audioSessionMode = Ti.Media.AUDIO_SESSION_MODE_PLAY_AND_RECORD;<br>please mark the answer as permanent if your problem is resolved</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="October 22nd 2012, 12:28:06 pm">October 22nd 2012</span>
								by <span class='authorname'>Ishan Singh</span><br>
								<a class="icon-bg icon-link" href="question/143765/timediasoundplay-no-sound-on-iphone-speaker-works-only-on-headphones#answer-249758" rel="permalink">permalink</a>
							</div>

							<h5>2 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Thanks Alot</p>
</p>
										<div class="author">
											&mdash; commented <span title="October 23rd 2012, 3:05:39 am">October 23rd 2012</span>
											by <span class='authorname'>Ishan Singh</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I have same issue with WebView. setting the AudoiSessionCategory or Mode does not help. is there any other solution?</p>
</p>
										<div class="author">
											&mdash; commented <span title="June 25th 2015, 2:03:44 pm">June 25th 2015</span>
											by <span class='authorname'>Ramesh Ramamurthy</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>3</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-249761">
				
						<section>
							<p>Hi Michal, i tested the code written in kitchen sink app and it works without headphone. so just check for any possible mistake from there.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="October 22nd 2012, 1:12:20 pm">October 22nd 2012</span>
								by <span class='authorname'>Ashish Nigam</span><br>
								<a class="icon-bg icon-link" href="question/143765/timediasoundplay-no-sound-on-iphone-speaker-works-only-on-headphones#answer-249761" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-249774">
				
						<section>
							<p>Well Ishan,</p>
<p>with Ti.Media.AUDIO_SESSION_MODE_PLAYBACK set it works like a charm.</p>
<p>Many thanks.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="October 22nd 2012, 3:54:28 pm">October 22nd 2012</span>
								by <span class='authorname'>Michal Knasiecki</span><br>
								<a class="icon-bg icon-link" href="question/143765/timediasoundplay-no-sound-on-iphone-speaker-works-only-on-headphones#answer-249774" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-269304">
				
						<section>
							<p>it shoud work with this too</p>
<pre><code class="hljs">        sound.audioSessionMode = Ti.Media.AUDIO_SESSION_MODE_PLAYBACK<span class="hljs-comment">;</span>
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="September 28th 2013, 7:16:26 am">September 28th 2013</span>
								by <span class='authorname'>Mohammed Abunada</span><br>
								<a class="icon-bg icon-link" href="question/143765/timediasoundplay-no-sound-on-iphone-speaker-works-only-on-headphones#answer-269304" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-281091">
				
						<section>
							<p>HI! why mine that not working?</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="July 24th 2014, 12:37:17 pm">July 24th 2014</span>
								by <span class='authorname'>Ranor Yap</span><br>
								<a class="icon-bg icon-link" href="question/143765/timediasoundplay-no-sound-on-iphone-speaker-works-only-on-headphones#answer-281091" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
