<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>can&#39;t set object properties on iOS Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>can&#39;t set object properties on iOS</h1>
		</header>
		<section>
			<p>Hi, my latest app I&#39;ve created a global object to make it easier to construct my layout, like a framework, ex:</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> APPNAME = {
    <span class="hljs-string">"UI"</span>:{
        <span class="hljs-string">"Button"</span>:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(props)</span> </span>{

            <span class="hljs-keyword">var</span> button = Ti.UI.createView({
                <span class="hljs-string">"height"</span>:<span class="hljs-number">51</span>,
                <span class="hljs-string">"status"</span>:{
                    <span class="hljs-string">"selected"</span>:<span class="hljs-literal">false</span>,
                    <span class="hljs-string">"inactive"</span>:<span class="hljs-literal">false</span>
                },
                <span class="hljs-string">"backgroundColor"</span>:<span class="hljs-string">"white"</span>
            });

            button.select = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(status)</span> </span>{

                <span class="hljs-keyword">if</span>(status) {

                    button.status.selected = <span class="hljs-literal">true</span>;
                    button.backgroundColor = <span class="hljs-string">"red"</span>;
                }
                <span class="hljs-keyword">else</span> {

                    button.status.selected = <span class="hljs-literal">false</span>;
                    button.backgroundColor = <span class="hljs-string">"white"</span>;
                }

            };

            <span class="hljs-keyword">return</span> button;
        },
        <span class="hljs-string">"Table"</span>:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(props)</span> </span>{ ... },
        <span class="hljs-string">"Slider"</span>:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(props)</span> </span>{ ... }
    },
    <span class="hljs-string">"MODULES"</span>:{
        <span class="hljs-string">"CreateOrder"</span>:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(props)</span> </span>{ ... },
        <span class="hljs-string">"SendOrder"</span>:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(props)</span> </span>{ ... }
    }
};
</code></pre><p>If I want to use a button, I would do like:</p>
<pre><code class="hljs">
<span class="hljs-variable"><span class="hljs-keyword">var</span> exemple_btn</span> = APPNAME.UI.Button({
    <span class="hljs-string">"title"</span>:<span class="hljs-string">"exemple btn"</span>
});
</code></pre><p>Or like this, the result its the same:</p>
<pre><code class="hljs">
<span class="hljs-keyword">var</span> exemple_btn = <span class="hljs-keyword">new</span> APPNAME.UI.Button({
    <span class="hljs-string">"title"</span>:<span class="hljs-string">"exemple btn"</span>
});
</code></pre><p>On Android it works perfectly, but I&#39;m trying to run that on iPad simulator, and it just don&#39;t change the object property value (that&#39;s inside another object).</p>
<p>After some time, I change my APPNAME.UI.Button function to this, check the console logs:</p>
<pre><code class="hljs">
<span class="hljs-keyword">var</span> button = Ti.UI.createView({
    <span class="hljs-string">"height"</span>:<span class="hljs-number">51</span>,
    <span class="hljs-string">"status"</span>:{
        <span class="hljs-string">"selected"</span>:<span class="hljs-literal">false</span>,
        <span class="hljs-string">"inactive"</span>:<span class="hljs-literal">false</span>
    },
    <span class="hljs-string">"backgroundColor"</span>:<span class="hljs-string">"white"</span>,
    <span class="hljs-string">"test1"</span>:{
        <span class="hljs-string">"valA"</span>:<span class="hljs-string">"start"</span>,
        <span class="hljs-string">"valB"</span>:<span class="hljs-string">"start"</span>
    },
    <span class="hljs-string">"test2"</span>:{
        <span class="hljs-string">"valA"</span>:<span class="hljs-string">"start"</span>,
        <span class="hljs-string">"valB"</span>:<span class="hljs-string">"start"</span>
    },
    <span class="hljs-string">"test3"</span>:{
        <span class="hljs-string">"valA"</span>:<span class="hljs-string">"start"</span>,
        <span class="hljs-string">"valB"</span>:<span class="hljs-string">"start"</span>
    },
    <span class="hljs-string">"test4"</span>:{
        <span class="hljs-string">"valA"</span>:<span class="hljs-string">"start"</span>,
        <span class="hljs-string">"valB"</span>:<span class="hljs-string">"start"</span>
    },
    <span class="hljs-string">"test5"</span>:<span class="hljs-string">"start"</span>,
    <span class="hljs-string">"test6"</span>:<span class="hljs-string">"start"</span>
});

button.select = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{

    button.test1[<span class="hljs-string">"valA"</span>] = <span class="hljs-string">"done"</span>;
    button.test1[<span class="hljs-string">"valB"</span>] = <span class="hljs-string">"done"</span>;
    button.test2.valA = <span class="hljs-string">"done"</span>;
    button.test2.valB = <span class="hljs-string">"done"</span>;
    <span class="hljs-keyword">this</span>.test3[<span class="hljs-string">"valA"</span>] = <span class="hljs-string">"done"</span>;
    <span class="hljs-keyword">this</span>.test3[<span class="hljs-string">"valB"</span>] = <span class="hljs-string">"done"</span>;
    <span class="hljs-keyword">this</span>.test4.valA = <span class="hljs-string">"done"</span>;
    <span class="hljs-keyword">this</span>.test4.valB = <span class="hljs-string">"done"</span>;
    button.test5 = <span class="hljs-string">"done"</span>;
    <span class="hljs-keyword">this</span>.test6 = <span class="hljs-string">"done"</span>;

    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"test1A: "</span>+button.test1[<span class="hljs-string">"valA"</span>]); <span class="hljs-comment">// test1A: start</span>
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"test1B: "</span>+button.test1[<span class="hljs-string">"valB"</span>]); <span class="hljs-comment">// test1B: start</span>
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"test2A: "</span>+button.test2.valA); <span class="hljs-comment">// test2A: start</span>
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"test2B: "</span>+button.test2.valB); <span class="hljs-comment">// test2B: start</span>
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"test3A: "</span>+<span class="hljs-keyword">this</span>.test3[<span class="hljs-string">"valA"</span>]); <span class="hljs-comment">// test3A: start</span>
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"test3B: "</span>+<span class="hljs-keyword">this</span>.test3[<span class="hljs-string">"valB"</span>]); <span class="hljs-comment">// test3B: start</span>
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"test4A: "</span>+<span class="hljs-keyword">this</span>.test4.valA); <span class="hljs-comment">// test4A: start</span>
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"test4B: "</span>+<span class="hljs-keyword">this</span>.test4.valB); <span class="hljs-comment">// test4B: start</span>
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"test5: "</span>+button.test5); <span class="hljs-comment">// test5: done</span>
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"test6: "</span>+<span class="hljs-keyword">this</span>.test6); <span class="hljs-comment">// test6: done</span>

};

<span class="hljs-keyword">return</span> button;
</code></pre>
		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="September 10th 2014, 7:37:44 am">September 10th 2014</span>
				by <span class='authorname'>Ricardo Pereira</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>ios</span></li>
					
						<li><span class='tagname'>object</span></li>
					
						<li><span class='tagname'>properties</span></li>
					
				</ul>
			

			<section>
				<h5>1 Comment</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>I forgot to say paste this:</p>
<pre><code class="hljs">button.addEventListener(<span class="hljs-string">"click"</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span></span> {

    <span class="hljs-keyword">if</span>(!button.status.selected) {
        button.<span class="hljs-built_in">select</span>(<span class="hljs-keyword">true</span>);
    }
    <span class="hljs-keyword">else</span> {
        button.<span class="hljs-built_in">select</span>(<span class="hljs-keyword">false</span>);
    }

});
</code></pre></div>
							<div class="author">
								&mdash; commented <span title="September 10th 2014, 7:46:31 am">September 10th 2014</span>
								by <span class='authorname'>Ricardo Pereira</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>3</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>3 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-282251">
				
						<section>
							<p>Looks like a scope problem, change you function to use this:</p>
<pre><code class="hljs">button.select = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(status)</span> </span>{

    <span class="hljs-keyword">if</span>(status) {

        <span class="hljs-keyword">this</span>.status.selected = <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">this</span>.backgroundColor = <span class="hljs-string">"red"</span>;
    }
    <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">this</span>.status.selected = <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">this</span>.backgroundColor = <span class="hljs-string">"white"</span>;
    }

};
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="September 10th 2014, 8:13:10 am">September 10th 2014</span>
								by <span class='authorname'>Larrie Wilson</span><br>
								<a class="icon-bg icon-link" href="question/177572/cant-set-object-properties-on-ios.html#answer-282251" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>I&#39;ve create a new app just to test this, this is my new code, as you can see, now I&#39;ve only use &#39;this&#39;:</p>
<pre><code class="hljs">
<span class="hljs-keyword">var</span> APPNAME = {
    <span class="hljs-string">"UI"</span>:{
        <span class="hljs-string">"Buttons"</span>:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">props</span>) </span>{

            <span class="hljs-keyword">var</span> button = Ti.UI.createView({
                <span class="hljs-string">"height"</span>:<span class="hljs-number">51</span>,
                <span class="hljs-string">"status"</span>:{
                    <span class="hljs-string">"selected"</span>:<span class="hljs-literal">false</span>,
                    <span class="hljs-string">"inactive"</span>:<span class="hljs-literal">false</span>
                },
                <span class="hljs-string">"backgroundColor"</span>:<span class="hljs-string">"white"</span>
            });

            button.select = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">sttz</span>) </span>{

                <span class="hljs-keyword">if</span>(sttz) {

                    <span class="hljs-keyword">this</span>.status.selected = <span class="hljs-literal">true</span>;

                    <span class="hljs-keyword">this</span>.backgroundColor = <span class="hljs-string">"red"</span>;
                }
                <span class="hljs-keyword">else</span> {

                    <span class="hljs-keyword">this</span>.status.selected = <span class="hljs-literal">false</span>;

                    <span class="hljs-keyword">this</span>.backgroundColor = <span class="hljs-string">"white"</span>;
                }

                <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"selected status: "</span>+<span class="hljs-keyword">this</span>.status.selected);

            };

            button.addEventListener(<span class="hljs-string">"click"</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{

                <span class="hljs-keyword">if</span>(!<span class="hljs-keyword">this</span>.status.selected) {
                    <span class="hljs-keyword">this</span>.select(<span class="hljs-literal">true</span>);
                }
                <span class="hljs-keyword">else</span> {
                    <span class="hljs-keyword">this</span>.select(<span class="hljs-literal">false</span>);
                }

            });

            <span class="hljs-keyword">return</span> button;
        }
    }
};

<span class="hljs-keyword">var</span> exemple_btn = APPNAME.UI.Buttons();

$.index.add(exemple_btn);

$.index.open();
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="September 10th 2014, 8:39:16 am">September 10th 2014</span>
											by <span class='authorname'>Ricardo Pereira</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-282258">
				
						<section>
							<p>Why not use the framework the platform gives you? See the <a href="http:&#x2F;&#x2F;docs.appcelerator.com&#x2F;titanium&#x2F;latest&#x2F;#!&#x2F;guide&#x2F;Alloy_Quick_Start">Alloy guide</a>  and  <a href="http:&#x2F;&#x2F;developer.appcelerator.com&#x2F;question&#x2F;177542&#x2F;classic-vs-alloy.html#answer-282240">some reasons to use it</a>. You&#39;ll save yourself a lot of time, trouble, and bugs by going with a tested and supported standard framework rather than inventing your own.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="September 10th 2014, 10:55:37 am">September 10th 2014</span>
								by <span class='authorname'>Tim Poulsen</span><br>
								<a class="icon-bg icon-link" href="question/177572/cant-set-object-properties-on-ios.html#answer-282258" rel="permalink">permalink</a>
							</div>

							<h5>4 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>I use Alloy framework, and organize the project in Alloy structure, but sometimes instead of create elements by Alloy, I have elements that are used a lot of times like specific buttons, tables, sliders with bullets, sliding menus, etc..</p>
<p>The project it&#39;s done, but one of my clients want&#39;s the app in his iPad, the layout e functions are functional, the only issue is this, the object inside an object can&#39;t receive a new value, and I can&#39;t understand why</p>
</p>
										<div class="author">
											&mdash; commented <span title="September 10th 2014, 11:18:43 am">September 10th 2014</span>
											by <span class='authorname'>Ricardo Pereira</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Tim, I&#39;ve a question for you, I read a lot of answered questions here on the topic &quot;alloy vs classic&quot;, but use this button as exemple, with about 5 functions on this button to change bg color and title like this exemple above</p>
<p>There is more code than visual objects, I&#39;ve a table that uses 3 objects (title,rowHeader,rowCell) and it&#39;s pretty close to html tables, I&#39;ve about 60 lines of visual objects and another 780 of functions and events.</p>
<p>If my code is this, there&#39;s no need to do this in Alloy, correct ?</p>
<pre><code class="hljs">MYAPP.UI = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(properties)</span> </span>{

    <span class="hljs-keyword">var</span> button = Ti.UI.createView({
        height: <span class="hljs-number">51</span>,
        status:{
            selected:<span class="hljs-literal">false</span>,
            inactive:<span class="hljs-literal">false</span>
        },
        backgroundColor:<span class="hljs-string">"white"</span>,
        name:properties.name
    });

    <span class="hljs-keyword">var</span> button_image = Ti.UI.createView({
        height: <span class="hljs-number">31</span>,
        width: <span class="hljs-number">31</span>,
        right:<span class="hljs-number">10</span>,
        top:<span class="hljs-number">10</span>,
        backgroundImage:<span class="hljs-string">"/images/button/"</span>+properties.name+<span class="hljs-string">".png"</span>
    });

    button.add(button_image);

    <span class="hljs-keyword">var</span> button_title = Ti.UI.createLabel({
        left:<span class="hljs-number">10</span>,
        color:<span class="hljs-string">"black"</span>
    });

    button.add(button_title);

    button.selected = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(status)</span> </span>{
        <span class="hljs-keyword">if</span>(status) {
            <span class="hljs-keyword">this</span>.setBackgroundColor(<span class="hljs-string">"brown"</span>);
            button_title.setColor(<span class="hljs-string">"white"</span>);
        }
        <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">this</span>.setBackgroundColor(<span class="hljs-string">"white"</span>);
            button_title.setColor(<span class="hljs-string">"black"</span>);
        }
    };

    button.inactive = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(status)</span> </span>{
        <span class="hljs-keyword">if</span>(status) {
            <span class="hljs-keyword">this</span>.setTouchEnabled(<span class="hljs-literal">false</span>);
            <span class="hljs-keyword">this</span>.setOpacity(<span class="hljs-number">0.7</span>);
        }
        <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">this</span>.setTouchEnabled(<span class="hljs-literal">true</span>);
            <span class="hljs-keyword">this</span>.setOpacity(<span class="hljs-number">1</span>);
        }
    };

    button.warn = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(title)</span> </span>{
        <span class="hljs-keyword">this</span>.setBackgroundColor(<span class="hljs-string">"yellow"</span>);
        <span class="hljs-keyword">this</span>.setTitle(title);
        <span class="hljs-comment">// after 3 sec run:</span>
        <span class="hljs-keyword">this</span>.selected(<span class="hljs-literal">false</span>);
    };

    button.done = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(title)</span> </span>{
        <span class="hljs-keyword">this</span>.setBackgroundColor(<span class="hljs-string">"green"</span>);
        <span class="hljs-keyword">this</span>.setTitle(title);
        <span class="hljs-comment">// after 3 sec run:</span>
        <span class="hljs-keyword">this</span>.selected(<span class="hljs-literal">false</span>);
    };

    button.setTitle= <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(title)</span> </span>{
        button_title.setText(title);
    };

    <span class="hljs-keyword">return</span> button;
};
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="September 17th 2014, 7:51:38 pm">September 17th 2014</span>
											by <span class='authorname'>Ricardo Pereira</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>There is never a need to do something with Alloy. It&#39;s a developer choice. I&#39;ve posted a few answers recently describing why I think Alloy makes more sense in many cases. Reasons like developer efficiency, faster apps, more maintainable code, a standard framework across apps that make it easier to deal with new or changing team members, etc.</p>
<p>If your existing framework is working for you, meeting your needs, and is simple enough for others to pick up as they join a project (or for you to dive into again six months later when you need to update an old project), then go for it. There&#39;s nothing wrong with that.</p>
<p>A note about your code above, you should not be adding methods to the native proxies. (Adding functions to the View as you do above.) This can cause issues that lead to crashes, slow execution, etc. You should create a wrapper object, hang methods off that, and put the actual View proxies as a property of that standard JavaScript object. Alloy does this by default to prevent such issues.</p>
<p>Not that it&#39;s any less code, but here&#39;s a quick translation of your code above to Alloy:</p>
<h4 id="button-xml">button.xml</h4>
<pre><code class="hljs">&lt;Alloy&gt;
    &lt;View <span class="hljs-property">id</span>=<span class="hljs-string">"btn"</span> <span class="hljs-type">class</span>=<span class="hljs-string">"buttonWrapper"</span>&gt;
        &lt;ImageView <span class="hljs-property">id</span>=<span class="hljs-string">"img"</span> <span class="hljs-type">class</span>=<span class="hljs-string">"buttonImage"</span>/&gt;
        &lt;Label <span class="hljs-property">id</span>=<span class="hljs-string">"title"</span> <span class="hljs-type">class</span>=<span class="hljs-string">"buttonTitle"</span>/&gt;
    &lt;/View&gt;
&lt;/Alloy&gt;
</code></pre><h4 id="button-tss-or-app-tss-">button.tss (or app.tss)</h4>
<pre><code class="hljs">"<span class="hljs-class">.buttonWrapper</span>": <span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">height</span>:<span class="hljs-value"> <span class="hljs-number">51</span>,
    status:{
        selected:false,
        inactive:false
    </span></span></span>},
    <span class="hljs-tag">backgroundColor</span><span class="hljs-pseudo">:"white"</span>
}
"<span class="hljs-class">.buttonImage</span>": <span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">height</span>:<span class="hljs-value"> <span class="hljs-number">31</span>,
    width: <span class="hljs-number">31</span>,
    right:<span class="hljs-number">10</span>,
    top:<span class="hljs-number">10</span>
</span></span></span>}
"<span class="hljs-class">.buttonTitle</span>": <span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">left</span>:<span class="hljs-value"><span class="hljs-number">10</span>,
    color:<span class="hljs-string">"black"</span>
</span></span></span>}
</code></pre><h4 id="button-js">button.js</h4>
<pre><code class="hljs"><span class="hljs-keyword">var</span> args = <span class="hljs-built_in">arguments</span>[<span class="hljs-number">0</span>] || {};
<span class="hljs-comment">// add some parameter validation here (to test for arg </span>
<span class="hljs-comment">// properties) so you're sure the rest works ...</span>
$.btn.name = args.name;
$.btn.title = args.name;
$.img.image = <span class="hljs-string">'/images/button/'</span> + args.name + <span class="hljs-string">'.png'</span>;

<span class="hljs-comment">// expose some methods now</span>
$.selected = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">status</span>) </span>{
    $.btn.backgroundColor = (status) ? <span class="hljs-string">'brown'</span> : <span class="hljs-string">'white'</span>;
    $.title.color = (status) ? <span class="hljs-string">'white'</span> : <span class="hljs-string">'black'</span>; 
};

$.inactive = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">status</span>) </span>{
    $.btn.touchEnabled = (status===<span class="hljs-literal">true</span>);
    $.btn.opacity = (status) ? <span class="hljs-number">0.7</span> : <span class="hljs-number">1</span>; 
};

$.warn = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">title</span>) </span>{
    $.btn.setBackgroundColor(<span class="hljs-string">"yellow"</span>);
    $.setTitle(title);
    <span class="hljs-comment">// after 3 sec run:</span>
    $.selected(<span class="hljs-literal">false</span>);
};

$.done = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">title</span>) </span>{
    $.btn.setBackgroundColor(<span class="hljs-string">"green"</span>);
    $.setTitle(title);
    <span class="hljs-comment">// after 3 sec run:</span>
    $.selected(<span class="hljs-literal">false</span>);
};

$.setTitle = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">title</span>) </span>{
    $.btn.setText(title);
};
</code></pre><h4 id="to-use">to use</h4>
<pre><code class="hljs"><span class="hljs-keyword">var</span> someButton = Alloy.createController(<span class="hljs-string">'button'</span> { name: <span class="hljs-string">'Foo'</span>});
$.win.add(someButton.getView());
<span class="hljs-comment">// later ...</span>
someButton.warn(<span class="hljs-string">'Danger Will Robinson'</span>);
</code></pre><p>Or, you could put all the above into a widget. Then, you could include the component via XML</p>
<pre><code class="hljs"><span class="hljs-tag">&lt;<span class="hljs-title">Widget</span> <span class="hljs-attribute">src</span>=<span class="hljs-value">'yourbuttonwidget'</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">'someButton'</span>/&gt;</span>
</code></pre><p>and in your controller, simply</p>
<pre><code class="hljs"><span class="hljs-variable">$.</span>someButton.warn(<span class="hljs-string">'Look out!'</span>);
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="September 18th 2014, 1:34:57 pm">September 18th 2014</span>
											by <span class='authorname'>Tim Poulsen</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Thanks Tim, I will use this in my next build!</p>
</p>
										<div class="author">
											&mdash; commented <span title="September 19th 2014, 7:02:07 am">September 19th 2014</span>
											by <span class='authorname'>Ricardo Pereira</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-282381">
				
						<section>
							<p>I try to do the same using alloy only. The issue stays the same.</p>
<p>The solution is, instead os change a property of the object, I have to change the all properties, ex: </p>
<pre><code class="hljs">
<span class="hljs-variable">$.</span>button.status = {
    <span class="hljs-string">"selected"</span><span class="hljs-symbol">:</span> <span class="hljs-keyword">false</span>,
    <span class="hljs-string">"inactive"</span><span class="hljs-symbol">:false</span>
};
</code></pre><p>when I click the button, I can&#39;t do this:</p>
<pre><code class="hljs">
<span class="hljs-variable">$.</span>button.status.selected = <span class="hljs-literal">true</span>;
</code></pre><p>I have to do this:</p>
<pre><code class="hljs">
<span class="hljs-variable">$.</span>button.status = {
    <span class="hljs-string">"selected"</span><span class="hljs-symbol">:</span> <span class="hljs-keyword">true</span>,
    <span class="hljs-string">"inactive"</span><span class="hljs-symbol">:false</span>
};
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="September 16th 2014, 7:02:33 am">September 16th 2014</span>
								by <span class='authorname'>Ricardo Pereira</span><br>
								<a class="icon-bg icon-link" href="question/177572/cant-set-object-properties-on-ios.html#answer-282381" rel="permalink">permalink</a>
							</div>

							<h5>5 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>When you create the view remove the quotes from the property names:</p>
<pre><code class="hljs"><span class="hljs-variable"><span class="hljs-keyword">var</span> button</span> = Ti.UI.createView({
    height: <span class="hljs-number">51</span>,
    status:{
        selected:<span class="hljs-literal">false</span>,
        inactive:<span class="hljs-literal">false</span>
    },
    backgroundColor:<span class="hljs-string">"white"</span>
});
</code></pre><p>Then try</p>
<pre><code class="hljs"><span class="hljs-variable">$.</span>button.status.selected = <span class="hljs-literal">true</span>;
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="September 16th 2014, 7:19:16 am">September 16th 2014</span>
											by <span class='authorname'>Larrie Wilson</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I&#39;ve tried that, it still don&#39;t change the value.</p>
<p>I&#39;m using this function:</p>
<pre><code class="hljs">    <span class="hljs-keyword">var</span> cloneObj = function(obj, theProperty, theValue) {

        <span class="hljs-keyword">var</span> <span class="hljs-built_in">copy</span>;

        <span class="hljs-keyword">if</span>(null == obj || <span class="hljs-string">"object"</span> != typeof obj) {

            <span class="hljs-keyword">return</span> obj;
        }

        <span class="hljs-keyword">if</span>(obj instanceof Date) {

            <span class="hljs-built_in">copy</span> = <span class="hljs-built_in">new</span> Date();
            <span class="hljs-built_in">copy</span>.setTime(obj.getTime());

            <span class="hljs-keyword">return</span> <span class="hljs-built_in">copy</span>;
        }

        <span class="hljs-keyword">if</span>(obj instanceof Array) {

            <span class="hljs-built_in">copy</span> = [];

            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>, <span class="hljs-built_in">len</span> = obj.length; i &lt; <span class="hljs-built_in">len</span>; i++) {
                <span class="hljs-built_in">copy</span>[i] = clone(obj[i]);
            }

            <span class="hljs-keyword">return</span> <span class="hljs-built_in">copy</span>;
        }

        <span class="hljs-keyword">if</span>(obj instanceof Object) {

            <span class="hljs-built_in">copy</span> = {};

            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> attr in obj) {

                <span class="hljs-keyword">if</span>(obj.hasOwnProperty(attr)) {

                    <span class="hljs-keyword">if</span>(attr == theProperty) { 
                        <span class="hljs-built_in">copy</span>[attr] = theValue;
                    }
                    <span class="hljs-keyword">else</span> {
                        <span class="hljs-built_in">copy</span>[attr] = cloneObj(obj[attr], theProperty, theValue);
                    }
                }
            }

            <span class="hljs-keyword">return</span> <span class="hljs-built_in">copy</span>;
        }
    }
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="September 16th 2014, 8:51:28 am">September 16th 2014</span>
											by <span class='authorname'>Ricardo Pereira</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>some times this function doesn&#39;t do what I want, ex: </p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> obj = Ti.UI.createView({
    objA:{
        valA:<span class="hljs-string">"val a"</span>,
        valB:<span class="hljs-string">"val b"</span>
    },
    valA:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{

        <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"some func"</span>);
    }
});
</code></pre><p>if I do this:</p>
<pre><code class="hljs">obj = cloneObj<span class="hljs-list">(<span class="hljs-keyword">obj</span>, <span class="hljs-string">"valA"</span>, <span class="hljs-string">"val a updated"</span>)</span><span class="hljs-comment">;</span>
</code></pre><p>It replaces all valA that I have in object:</p>
<pre><code class="hljs"><span class="hljs-variable"><span class="hljs-keyword">var</span> obj</span> = Ti.UI.createView({
    objA:{
        valA:<span class="hljs-string">"val a updated"</span>,
        valB:<span class="hljs-string">"val b"</span>
    },
    valA:<span class="hljs-string">"val a updated"</span>
});
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="September 17th 2014, 7:39:49 am">September 17th 2014</span>
											by <span class='authorname'>Ricardo Pereira</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>that I changed to this following function, to called like this:</p>
<pre><code class="hljs">cloneObject<span class="hljs-list">(<span class="hljs-keyword">obj</span>, [<span class="hljs-string">"objA"</span>,<span class="hljs-string">"valA"</span>] ,<span class="hljs-string">"val a updated"</span>)</span><span class="hljs-comment">;</span>
</code></pre><pre><code class="hljs"><span class="hljs-keyword">var</span> cloneObject = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">obj, thePropertiesPath, theValue, recursionLevel, inChangeTree</span>) </span>{

    <span class="hljs-keyword">var</span> copy;

    <span class="hljs-keyword">if</span>(recursionLevel === <span class="hljs-literal">undefined</span>) {
        recursionLevel = <span class="hljs-number">0</span>;
    }

    <span class="hljs-keyword">if</span>(inChangeTree === <span class="hljs-literal">undefined</span>) {
        inChangeTree = <span class="hljs-literal">true</span>;
    }

    <span class="hljs-keyword">if</span>(<span class="hljs-literal">null</span> == obj || <span class="hljs-string">"object"</span> != <span class="hljs-keyword">typeof</span> obj) {
        <span class="hljs-keyword">return</span> obj;
    }

    <span class="hljs-keyword">if</span>(obj <span class="hljs-keyword">instanceof</span> <span class="hljs-built_in">Date</span>) {

        copy = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>();
        copy.setTime(obj.getTime());

        <span class="hljs-keyword">return</span> copy;
    }

    <span class="hljs-keyword">if</span>(obj <span class="hljs-keyword">instanceof</span> <span class="hljs-built_in">Array</span>) {

        copy = [];

        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>, len = obj.length; i &lt; len; i++) {
            copy[i] = clone(obj[i]);
        }

        <span class="hljs-keyword">return</span> copy;
    }

    <span class="hljs-keyword">if</span>(obj <span class="hljs-keyword">instanceof</span> <span class="hljs-built_in">Object</span>) {

        copy = {};

        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> attr <span class="hljs-keyword">in</span> obj) {

            <span class="hljs-keyword">if</span>(inChangeTree &amp;&amp; attr == thePropertiesPath[recursionLevel]) {

                <span class="hljs-keyword">if</span>(recursionLevel == thePropertiesPath.length - <span class="hljs-number">1</span>) {
                    copy[attr] = theValue;
                }
                <span class="hljs-keyword">else</span> {
                    copy[attr] = cloneObject(obj[attr], thePropertiesPath, theValue, recursionLevel + <span class="hljs-number">1</span>, <span class="hljs-literal">true</span>);
                }
            }
            <span class="hljs-keyword">else</span> {
                copy[attr] = cloneObject(obj[attr], thePropertiesPath, theValue, recursionLevel + <span class="hljs-number">1</span>, <span class="hljs-literal">false</span>);
            }
        }

        <span class="hljs-keyword">return</span> copy;
    }
};
</code></pre><p>But some how, when this is creating a clone object, I don&#39;t know why, but it throws an error if I have an function inside the main object</p>
</p>
										<div class="author">
											&mdash; commented <span title="September 17th 2014, 7:44:35 am">September 17th 2014</span>
											by <span class='authorname'>Ricardo Pereira</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Anyway, I can&#39;t see an working way to do this, so I&#39;ve reported a bug on JIRA:</p>
<p><a href="https:&#x2F;&#x2F;jira.appcelerator.org&#x2F;browse&#x2F;TC-4727">https:&#x2F;&#x2F;jira.appcelerator.org&#x2F;browse&#x2F;TC-4727</a></p>
</p>
										<div class="author">
											&mdash; commented <span title="September 17th 2014, 7:45:48 am">September 17th 2014</span>
											by <span class='authorname'>Ricardo Pereira</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
