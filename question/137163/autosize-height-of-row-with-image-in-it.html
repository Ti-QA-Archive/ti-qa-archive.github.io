<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Autosize height of row with image in it Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Autosize height of row with image in it</h1>
		</header>
		<section>
			<p>I have a tableView where I would like a remote image to load on top and then have rows underneath but the problem I am running into is that I can&#39;t seem to get the top row&#39;s height to autosize around the image, currently when it shrinks down to fit the width, the height is also the same as the width which causes a lot of white space on top and bottom of the image.</p>
<pre><code class="hljs">var win = Titanium.UI.currentWindow;

var tableView;
var data = [];

{
    var row = Ti.UI.createTableViewRow();
    row.selectedBackgroundColor = <span class="hljs-string">'#fff'</span>;
    row.<span class="hljs-variable">width</span> = <span class="hljs-string">'auto'</span>;
    row.hasChild = <span class="hljs-keyword">false</span>;

    var photo = Ti.UI.createImageView({
        <span class="hljs-built_in">image</span>:<span class="hljs-string">'http://www.URL/images/main-pic1.jpg'</span>,
        top:<span class="hljs-number">0</span>,
        left:<span class="hljs-number">0</span>,
        bottom:<span class="hljs-number">0</span>,
        <span class="hljs-variable">width</span>:<span class="hljs-string">'auto'</span>,
    });
    row.<span class="hljs-built_in">add</span>(photo);


    data.push(row);
}

{
    var row = Ti.UI.createTableViewRow();
    row.selectedBackgroundColor = <span class="hljs-string">'#fff'</span>;
    row.<span class="hljs-variable">height</span> = <span class="hljs-string">'auto'</span>;
    row.hasChild = <span class="hljs-keyword">true</span>;
    row.test = <span class="hljs-string">'newsrss.js'</span>;

    var photo = Ti.UI.createView({
        backgroundImage:<span class="hljs-string">'../images/facebook.png'</span>,
        top:<span class="hljs-number">53</span>,
        left:<span class="hljs-number">10</span>,
        <span class="hljs-variable">width</span>:<span class="hljs-number">70</span>,
        <span class="hljs-variable">height</span>:<span class="hljs-number">110</span>,
    });
    row.<span class="hljs-built_in">add</span>(photo);

    var user = Ti.UI.createLabel({
        <span class="hljs-built_in">color</span>:<span class="hljs-string">'#000000'</span>,
        font:{fontSize:<span class="hljs-number">22</span>,fontWeight:<span class="hljs-string">'bold'</span>},
        left:<span class="hljs-number">100</span>,
        top:<span class="hljs-number">30</span>,
        <span class="hljs-variable">height</span>:<span class="hljs-number">55</span>,
        <span class="hljs-variable">width</span>:<span class="hljs-number">200</span>,
        <span class="hljs-built_in">text</span>:<span class="hljs-string">'Lorem Ipsum'</span>
    });

    row.<span class="hljs-built_in">add</span>(user);

    var comment = Ti.UI.createLabel({
        <span class="hljs-built_in">color</span>:<span class="hljs-string">'#222'</span>,
        font:{fontSize:<span class="hljs-number">16</span>,fontWeight:<span class="hljs-string">'normal'</span>},
        left:<span class="hljs-number">100</span>,
        top:<span class="hljs-number">75</span>,
        bottom:<span class="hljs-number">33</span>,
        <span class="hljs-variable">height</span>:<span class="hljs-number">80</span>,
        <span class="hljs-variable">width</span>:<span class="hljs-number">200</span>,
        <span class="hljs-built_in">text</span>:<span class="hljs-string">'Lorem ipsum...'</span>
    });
    row.<span class="hljs-built_in">add</span>(comment);

    data.push(row);
}

{
    var row = Ti.UI.createTableViewRow();
    row.selectedBackgroundColor = <span class="hljs-string">'#fff'</span>;
    row.<span class="hljs-variable">height</span> = <span class="hljs-string">'auto'</span>;
    row.hasChild = <span class="hljs-keyword">true</span>;
    row.test = <span class="hljs-string">'sportsrss.js'</span>;

    var photo = Ti.UI.createView({
        backgroundImage:<span class="hljs-string">'../images/book.jpg'</span>,
        top:<span class="hljs-number">30</span>,
        left:<span class="hljs-number">10</span>,
        <span class="hljs-variable">width</span>:<span class="hljs-number">70</span>,
        <span class="hljs-variable">height</span>:<span class="hljs-number">150</span>,
    });
    row.<span class="hljs-built_in">add</span>(photo);

    var user = Ti.UI.createLabel({
        <span class="hljs-built_in">color</span>:<span class="hljs-string">'#000000'</span>,
        font:{fontSize:<span class="hljs-number">22</span>,fontWeight:<span class="hljs-string">'bold'</span>},
        left:<span class="hljs-number">100</span>,
        top:<span class="hljs-number">30</span>,
        <span class="hljs-variable">height</span>:<span class="hljs-number">55</span>,
        <span class="hljs-variable">width</span>:<span class="hljs-number">200</span>,
        <span class="hljs-built_in">text</span>:<span class="hljs-string">'Lorem Ipsum'</span>
    });

    row.<span class="hljs-built_in">add</span>(user);

    var comment = Ti.UI.createLabel({
        <span class="hljs-built_in">color</span>:<span class="hljs-string">'#222'</span>,
        font:{fontSize:<span class="hljs-number">16</span>,fontWeight:<span class="hljs-string">'normal'</span>},
        left:<span class="hljs-number">100</span>,
        top:<span class="hljs-number">75</span>,
        bottom:<span class="hljs-number">33</span>,
        <span class="hljs-variable">height</span>:<span class="hljs-number">80</span>,
        <span class="hljs-variable">width</span>:<span class="hljs-number">200</span>,
        <span class="hljs-built_in">text</span>:<span class="hljs-string">'Lorem Ipsum...'</span>
    });
    row.<span class="hljs-built_in">add</span>(comment);

    data.push(row);
}

tableView = Titanium.UI.createTableView({
    data:data,
    scrollable:<span class="hljs-keyword">true</span>,
    backgroundColor:<span class="hljs-string">'white'</span>
});

tableView.addEventListener(<span class="hljs-string">'click'</span>, function(e)
{
    <span class="hljs-keyword">if</span> (e.rowData.test)
    {
        var win = Titanium.UI.createWindow({
            url:e.rowData.test,
            title:e.rowData.title
        });
        Titanium.UI.currentTab.<span class="hljs-built_in">open</span>(win,{animated:<span class="hljs-keyword">true</span>});
    }
});

win.<span class="hljs-built_in">add</span>(tableView);
</code></pre>
		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="May 18th 2012, 4:28:30 pm">May 18th 2012</span>
				by <span class='authorname'>J W</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>images</span></li>
					
						<li><span class='tagname'>imageview</span></li>
					
						<li><span class='tagname'>mobile</span></li>
					
						<li><span class='tagname'>tableview</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>1</span> Vote</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-238986">
				
						<section>
							<p>I think you might be confusing the app by having the top and bottom properties of the image set to &#39;0&#39;. I would say it&#39;s better to set the width and let the height be &#39;auto&#39;.</p>
<p>Also, try setting the size properties WITHIN the createTableViewRow call, as you have done with the labels.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="May 18th 2012, 5:11:55 pm">May 18th 2012</span>
								by <span class='authorname'>Kosso</span><br>
								<a class="icon-bg icon-link" href="question/137163/autosize-height-of-row-with-image-in-it.html#answer-238986" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Gotcha - thanks.  One more question - is it possible to have the image align to the bottom of the row since right now it sits in the middle after the image is resized with white bars above and below the image?</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 18th 2012, 5:34:44 pm">May 18th 2012</span>
											by <span class='authorname'>J W</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-238994">
				
						<section>
							<p>Something else to keep in mind is that ImageView&#39;s maintain their aspect ratio, so if you&#39;re table view row is a different aspect ratio than your image, you will get bars on the left&#x2F;right or top&#x2F;bottom. Instead, you might try adding a regular old view with the backgroundImage property set to the image you want.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="May 18th 2012, 7:32:26 pm">May 18th 2012</span>
								by <span class='authorname'>Bryan Hughes</span><br>
								<a class="icon-bg icon-link" href="question/137163/autosize-height-of-row-with-image-in-it.html#answer-238994" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
