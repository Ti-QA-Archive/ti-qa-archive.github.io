<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Window opening multiple time » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Window opening multiple time</h1>
		</header>
		<section>
			<p>Hi All,<br>  I am developing Shopping related application.<br>For that  in Shop page i am showing multiple item images through web view.</p>
<p>And i am using <del>~Ti.APP.addEventListener()</del>~ for open the Item description window.</p>
<p>And i am having Close button on that item description page for closing that window.<br>And i will back to my Shop page..</p>
<h1 id="in-shop-js">in shop.js</h1>
<pre><code class="hljs"><span class="hljs-keyword">var</span> openpopup = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span></span>{
    <span class="hljs-keyword">var</span> dwin = Titanium.UI.createWindow({
      shop:<span class="hljs-string">'shop'</span>,
    MyID : e.locid,
    SellerID :e.sellerid,
    backgroundColor : <span class="hljs-string">'transparent'</span>,
    url : <span class="hljs-string">"card_detail.js"</span>
});
dwin.open();
<span class="hljs-comment">/*  //when i use this code..i can click on item images first time..and then i ll move to item description pag//e..then i can't click on any images.for opening the next image description page
dwin.addEventListener('close',function(e){
    Ti.App.removeEventListener('help',openpopup);
});
*/</span>
}

Ti.App.addEventListener(<span class="hljs-string">'help'</span>,openpopup);
</code></pre><h1 id="-in-item-js"> in item.js</h1>
<pre><code class="hljs"><span class="hljs-keyword">var</span> openpopup = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span></span>{};

close.addEventListener(<span class="hljs-string">'click'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span></span>{          
        Ti.App.removeEventListener(<span class="hljs-string">'help'</span>,openpopup);          
        view_menu = <span class="hljs-literal">null</span>;    
        Ti.UI.currentWindow.close();              
});
</code></pre><p>But its not help me..please suggest me a best solution.</p>
<ol>
<li>Application type : Mobile</li>
<li>Titanium SDK  : 2.1.3 (10&#x2F;02&#x2F;12 16:16 15997d0)<br>3.Platform : iOS &amp; Android<br>4.Device: iOS,Android device &amp; simulator&#39;s</li>
<li>Host Operating System: OSX 10.8.2</li>
<li>Titanium Studio: 3.0.2.201302191606</li>
</ol>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="December 6th 2013, 10:01:53 am">December 6th 2013</span>
				by <span class='authorname'>Silambarasan Raman</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>appcelerator</span></li>
					
						<li><span class='tagname'>multi event firing</span></li>
					
						<li><span class='tagname'>ti.app.addevent</span></li>
					
						<li><span class='tagname'>webview</span></li>
					
						<li><span class='tagname'>window close</span></li>
					
				</ul>
			

			<section>
				<h5>2 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>&#x2F;*  when i use this code..i can click on item images first time..and then i ll move to item description page..then i can&#39;t click on any images.for opening the next image description page</p>
<pre><code class="hljs">dwin.addEventListener(<span class="hljs-string">'close'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span></span>{
    Ti.App.removeEventListener(<span class="hljs-string">'help'</span>,openpopup);
});
</code></pre><p>*&#x2F;  So that i have commented this remove Event..and declared openpoup in item.js</p>
</div>
							<div class="author">
								&mdash; commented <span title="December 6th 2013, 10:17:26 am">December 6th 2013</span>
								by <span class='authorname'>Silambarasan Raman</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Silambarasan,</p>
<p>as an aside, I&#39;m curious where you learned your titanium methodology.  Namely the use of url: properties to create windows and the user of Ti.App level event listeners?</p>
</div>
							<div class="author">
								&mdash; commented <span title="December 6th 2013, 10:28:21 am">December 6th 2013</span>
								by <span class='authorname'>Stephen Feather</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-272218">
				
						<section>
							<p>Hi,</p>
<p>No need to remove listener from item.js because openpopup function is in shop.js file.</p>
<p>second thing,just put alert in close event of dwin so that you know that this event is called on close of window or not…</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="December 6th 2013, 10:18:09 am">December 6th 2013</span>
								by <span class='authorname'>Mitul Bhalia</span><br>
								<a class="icon-bg icon-link" href="question/160196/window-opening-multiple-time.html#answer-272218" rel="permalink">permalink</a>
							</div>

							<h5>9 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>you are actually adding help eventListener one time and on click event of image it will call openpopup function and remove that listener that&#39;s why you can not call openpopup second time.</p>
<p>so i suggest to remove help listener on close event of shop.js window.</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 6th 2013, 10:21:09 am">December 6th 2013</span>
											by <span class='authorname'>Mitul Bhalia</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>do like this..</p>
<p>shop.js</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> <span class="hljs-keyword">win</span> = Ti.UI.currentWindow;

<span class="hljs-keyword">var</span> openpopup = function(<span class="hljs-keyword">e</span>){
    <span class="hljs-keyword">var</span> dwin = Titanium.UI.createWindow({
    shop:'shop',
    MyID : <span class="hljs-keyword">e</span>.locid,
    SellerID :<span class="hljs-keyword">e</span>.sellerid,
    backgroundColor : 'transparent',
    url : <span class="hljs-string">"card_detail.js"</span>
});
    dwin.<span class="hljs-keyword">open</span>();

}

Ti.<span class="hljs-keyword">App</span>.addEventListener('<span class="hljs-keyword">help</span>',openpopup);
<span class="hljs-keyword">win</span>.addEventListener('<span class="hljs-keyword">close</span>',function(<span class="hljs-keyword">e</span>){
    Ti.<span class="hljs-keyword">App</span>.removeEventListener('<span class="hljs-keyword">help</span>',openpopup);
});
</code></pre><p><strong><em>and also remove that line code from item.js file also</em></strong></p>
</p>
										<div class="author">
											&mdash; commented <span title="December 6th 2013, 10:23:45 am">December 6th 2013</span>
											by <span class='authorname'>Mitul Bhalia</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I am not closing that shop window..Because its webview and scrollable..</p>
<p>User is click on item from the middle part of that shop page..and when user click on image..it will open item.js window..And when click close button on it.</p>
<p>I must close that item.js and have to show the shop.js where user leave. (for avoid user scroll page from top)</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 6th 2013, 10:26:33 am">December 6th 2013</span>
											by <span class='authorname'>Silambarasan Raman</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Thanks Mitul,</p>
<p>I will try by your code..and let you know</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 6th 2013, 10:34:26 am">December 6th 2013</span>
											by <span class='authorname'>Silambarasan Raman</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>ok then no need to remove that listener every time on click of image so just remove that part from your shop.js and also to use url is bad right now so you can use commonJS structure or latest Alloy structure to develop app.</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 6th 2013, 10:37:36 am">December 6th 2013</span>
											by <span class='authorname'>Mitul Bhalia</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>ok..</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 6th 2013, 11:07:12 am">December 6th 2013</span>
											by <span class='authorname'>Mitul Bhalia</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Hi Mitul,</p>
<p> I am developing this app from 6 month before..i will move to Ti SDK 3.1.3 after submit this to app store..and i ll not use url after that.</p>
<p>Now i am in a final stage..this is main issue of my app</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 6th 2013, 11:07:27 am">December 6th 2013</span>
											by <span class='authorname'>Silambarasan Raman</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Hi Mitul,</p>
<p>I have tried by ur code..<br>But its not helping me</p>
<pre><code class="hljs">win_cur.addEventListener(<span class="hljs-string">'close'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span></span>{ 
    alert(<span class="hljs-string">"Mitul"</span>);
    Ti.App.removeEventListener(<span class="hljs-string">'help'</span>,openpopup);
});
</code></pre><p>alert is not firing</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 6th 2013, 11:16:20 am">December 6th 2013</span>
											by <span class='authorname'>Silambarasan Raman</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>just remove that code from close event.</p>
<p>and also clean build of your project and also remove app from emulator&#x2F;simulator and try again.</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 6th 2013, 11:23:30 am">December 6th 2013</span>
											by <span class='authorname'>Mitul Bhalia</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
