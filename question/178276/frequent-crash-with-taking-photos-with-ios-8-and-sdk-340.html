<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Frequent Crash with Taking photos with ios 8 and sdk 3.4.0 » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Frequent Crash with Taking photos with ios 8 and sdk 3.4.0</h1>
		</header>
		<section>
			<p>After taking a photo and press &quot;Use photo&quot; button the app crash and i recive this error:</p>
<p><strong>Snapshotting a view that has not been rendered results in an empty snapshot. Ensure your view has been rendered at least once before snapshotting or snapshot after screen updates.<br>[WARN] :   Received memory warning.</strong></p>
<p>my code to open the camera is </p>
<pre><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">openCameraButton</span><span class="hljs-params">()</span> </span>{
    Titanium.Media.showCamera({
        success : <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(event)</span> </span>{
            <span class="hljs-comment">// called when media returned from the camera</span>
            <span class="hljs-comment">//alert('Our type was: ' + event);</span>
            <span class="hljs-keyword">if</span> (event.mediaType == Ti.Media.MEDIA_TYPE_PHOTO) {
                addPreviewImage(event.media);
                <span class="hljs-comment">//alert('Our type was: ' + event.mediaType);</span>
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-comment">//alert("got the wrong type back =" + event.mediaType);</span>
            }
        },
        cancel : <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
            <span class="hljs-comment">// called when user cancels taking a picture</span>
        },
        error : <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(error)</span> </span>{
            <span class="hljs-comment">// called when there's an error</span>
            <span class="hljs-keyword">var</span> a = Titanium.UI.createAlertDialog({
                title : <span class="hljs-string">'Camera'</span>
            });
            <span class="hljs-keyword">if</span> (error.code == Titanium.Media.NO_CAMERA) {
                a.setMessage(<span class="hljs-string">'Please run this test on device'</span>);
            } <span class="hljs-keyword">else</span> {
                a.setMessage(<span class="hljs-string">'Unexpected error: '</span> + error.code);
            }
            a.show();
        },
        saveToPhotoGallery : <span class="hljs-literal">true</span>,
        <span class="hljs-comment">// allowEditing and mediaTypes are iOS-only settings</span>
        allowEditing : <span class="hljs-literal">true</span>,
        mediaTypes : [Ti.Media.MEDIA_TYPE_PHOTO]
    });
}
</code></pre><p>Anyone experienced this error?</p>
<p>Thank you.<br>T</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="October 8th 2014, 8:17:20 pm">October 8th 2014</span>
				by <span class='authorname'>Tommaso Rossi</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>camera</span></li>
					
						<li><span class='tagname'>ios8</span></li>
					
						<li><span class='tagname'>sdk 3.4.0</span></li>
					
				</ul>
			

			<section>
				<h5>1 Comment</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>I&#39;ve experienced this as well. Have not found a fix.</p>
</div>
							<div class="author">
								&mdash; commented <span title="December 2nd 2014, 2:14:58 pm">December 2nd 2014</span>
								by <span class='authorname'>Ryan Buening</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>5</span> Votes</div>
			<div class="answers"><span>4</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>4 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-284252">
				
						<section>
							<p>Has anyone else run into this?  I&#39;m having the same problem with 3.4.1 and 8.1.1.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="December 4th 2014, 3:12:18 pm">December 4th 2014</span>
								by <span class='authorname'>Ben Kittrell</span><br>
								<a class="icon-bg icon-link" href="question/178276/frequent-crash-with-taking-photos-with-ios-8-and-sdk-340#answer-284252" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-284200">
				
						<section>
							<p>Hello Tommaso Rossi,</p>
<p>I have tested your code in iOS 8.1.1 and Ti SDK 3.4.0, 3.4.1, it works for me and does not crash anymore.  So try to update your iOS version and check it again.</p>
<p><strong>Test Code</strong></p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> win = Titanium.UI.createWindow({
    backgroundColor : <span class="hljs-string">'#fff'</span>,
    layout : <span class="hljs-string">'vertical'</span>
});

<span class="hljs-keyword">var</span> camera = Ti.UI.createButton({
    backgroundColor : <span class="hljs-string">'#ff0000'</span>,
    title : <span class="hljs-string">'Open Camera'</span>,
    color : <span class="hljs-string">'#fff'</span>,
    width : Ti.UI.SIZE,
    height : Ti.UI.SIZE,
    top : <span class="hljs-number">30</span>

});

camera.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
    openCamera();
    <span class="hljs-comment">//rear();</span>
});

<span class="hljs-comment">// Create an ImageView.</span>
<span class="hljs-keyword">var</span> addPreviewImage = Ti.UI.createImageView({
    image : <span class="hljs-string">'location'</span>,
    width : <span class="hljs-number">200</span>,
    height : <span class="hljs-number">200</span>,
    top : <span class="hljs-number">20</span>,
});

<span class="hljs-comment">// Add to the parent view.</span>
win.add(addPreviewImage);

win.add(camera);

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">openCamera</span><span class="hljs-params">()</span> </span>{
    Titanium.Media.showCamera({
        success : <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(event)</span> </span>{
            <span class="hljs-comment">// called when media returned from the camera</span>
            <span class="hljs-comment">//alert('Our type was: ' + event);</span>
            <span class="hljs-keyword">if</span> (event.mediaType == Ti.Media.MEDIA_TYPE_PHOTO) {
                addPreviewImage.setImage(event.media);
                <span class="hljs-comment">//alert('Our type was: ' + event.mediaType);</span>
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-comment">//alert("got the wrong type back =" + event.mediaType);</span>
            }
        },
        cancel : <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
            <span class="hljs-comment">// called when user cancels taking a picture</span>
        },
        error : <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(error)</span> </span>{
            <span class="hljs-comment">// called when there's an error</span>
            <span class="hljs-keyword">var</span> a = Titanium.UI.createAlertDialog({
                title : <span class="hljs-string">'Camera'</span>
            });
            <span class="hljs-keyword">if</span> (error.code == Titanium.Media.NO_CAMERA) {
                a.setMessage(<span class="hljs-string">'Please run this test on device'</span>);
            } <span class="hljs-keyword">else</span> {
                a.setMessage(<span class="hljs-string">'Unexpected error: '</span> + error.code);
            }
            a.show();
        },
        saveToPhotoGallery : <span class="hljs-literal">true</span>,
        <span class="hljs-comment">// allowEditing and mediaTypes are iOS-only settings</span>
        allowEditing : <span class="hljs-literal">true</span>,
        mediaTypes : [Ti.Media.MEDIA_TYPE_PHOTO]
    });
}

win.open();
</code></pre><p>If you have any concern, then let me know.</p>
<p>Thanks.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="December 3rd 2014, 3:22:23 am">December 3rd 2014</span>
								by <span class='authorname'>Motiur Rahman</span><br>
								<a class="icon-bg icon-link" href="question/178276/frequent-crash-with-taking-photos-with-ios-8-and-sdk-340#answer-284200" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-284620">
				
						<section>
							<p>Same problem here, with 3.4.1GA and ios 8.1.2</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="December 19th 2014, 4:54:10 pm">December 19th 2014</span>
								by <span class='authorname'>Victor Casé</span><br>
								<a class="icon-bg icon-link" href="question/178276/frequent-crash-with-taking-photos-with-ios-8-and-sdk-340#answer-284620" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-285629">
				
						<section>
							<p>Hi,</p>
<p>i am having the same issue, is there any solution ? </p>
<p>Thanks,<br>Victor</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="February 5th 2015, 5:52:04 pm">February 5th 2015</span>
								by <span class='authorname'>Victor Santana</span><br>
								<a class="icon-bg icon-link" href="question/178276/frequent-crash-with-taking-photos-with-ios-8-and-sdk-340#answer-285629" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
