<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>info : Dynamic scrollview add views on 1.4 » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>info : Dynamic scrollview add views on 1.4</h1>
		</header>
		<section>
			<p>This bugged me for a whole night since the release of 1.4, hope my finding would benefit some of you with dynamic add views to scrollview object.</p>
<p>I have a custom gallery with &quot;swipe-like-scrollable&quot; image viewer and scrollview thumbnails. The images are dynamic so i have a load more thumbs to append more images to the scrollviews to prevent overhead.</p>
<p>In the past, at least with 1.3.x, i can just add new views though a loop without errors. With 1.4, it will hang, the program would froze while looping. The workaround is storing this views in an array of views objects first then add the array to the scrollview later.</p>
<p>Keep in mind that this only happen on adding new views to existing scrollview, not when u first creating it.</p>
<pre><code class="hljs"><span class="hljs-keyword">Not</span> longer working.

<span class="hljs-keyword">for</span> <span class="hljs-keyword">loop</span> <span class="hljs-comment">{
var view = createView...
scrollview.add(view)
}</span>

Working <span class="hljs-keyword">with</span> <span class="hljs-number">1.4</span>

<span class="hljs-keyword">for</span> <span class="hljs-keyword">loop</span> <span class="hljs-comment">{
var view = createView...
 viewarray[i]=view
}</span>
scrollview.<span class="hljs-keyword">add</span>(viewarray)
</code></pre><p>[update]<br>Spoke too soon, adding more views to scrollview froze running on device after a couple loop, and you can&#39;t even load the app after that. No error, no nothing, just choke. Rolling back to 1.3.3 and it&#39;s running ok on device. Looks like a very serious memory issue adding more views to scrollview, dynamically, on 1.4.</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="July 28th 2010, 1:21:06 pm">July 28th 2010</span>
				by <span class='authorname'>Daniel Lim</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>1.4</span></li>
					
						<li><span class='tagname'>dynamic</span></li>
					
						<li><span class='tagname'>ipad</span></li>
					
						<li><span class='tagname'>scrollview</span></li>
					
						<li><span class='tagname'>tip</span></li>
					
						<li><span class='tagname'>views</span></li>
					
				</ul>
			

			<section>
				<h5>1 Comment</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>I&#39;m having the same problem with nearly the exact same code. The thing that&#39;s killing me right now is it only fails 1 out of 3 times, so I might think I&#39;ve fixed it and then it pops back up. I&#39;ll try your array fix and see what happens…</p>
</div>
							<div class="author">
								&mdash; commented <span title="August 3rd 2010, 5:50:39 pm">August 3rd 2010</span>
								by <span class='authorname'>Jason Harris</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>3</span> Votes</div>
			<div class="answers"><span>8</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>8 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-92251">
				
						<section>
							<p>Spoke too soon, adding more views to scrollview froze running on device after a couple loop, and you can&#39;t even load the app after that. No error, no nothing, just choke.  Rolling back to 1.3.3 and it&#39;s running ok on device. Looks like a very serious memory issue adding more views to scrollview, dynamically, on 1.4.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="July 28th 2010, 8:42:22 pm">July 28th 2010</span>
								by <span class='authorname'>Daniel Lim</span><br>
								<a class="icon-bg icon-link" href="question/47211/info--dynamic-scrollview-add-views-on-14#answer-92251" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-93561">
				
						<section>
							<p>I am having the exact same problem, I am adding multiple imageViews to a scrollView in a loop. This worked fine on 1.3 and now just hangs on 1.4.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="July 29th 2010, 10:05:37 pm">July 29th 2010</span>
								by <span class='authorname'>Glen Yates</span><br>
								<a class="icon-bg icon-link" href="question/47211/info--dynamic-scrollview-add-views-on-14#answer-93561" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-97341">
				
						<section>
							<p>Try adding the scrollview to the window first and then add the views to it.  That worked for me to workaround the issue.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 6th 2010, 6:19:04 pm">August 6th 2010</span>
								by <span class='authorname'>Rob Marscher</span><br>
								<a class="icon-bg icon-link" href="question/47211/info--dynamic-scrollview-add-views-on-14#answer-97341" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>We are taking about dynamically add &quot;new&quot; rows to a scrollview that&#39;s already on a window, and it failed after few loops on device (not emulator), which was working fine on 1.3.x</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 6th 2010, 6:26:03 pm">August 6th 2010</span>
											by <span class='authorname'>Daniel Lim</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-97351">
				
						<section>
							<p>An update to dynamic add views to scrollview bugs on 1.4</p>
<p>I decided not to pursue the adding new views, the problem is when it failed, the app froze, and user can&#39;t even reopen the app on next try. A crash would be just fine :)</p>
<p>Anyway, Instead adding more views. I code the hard way, transform it into a paging gallery. The image gallery is paginated into 20 thumbnails each loop, next or pre page would replace current set thumnails. That seems to work ok.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 6th 2010, 6:34:34 pm">August 6th 2010</span>
								by <span class='authorname'>Daniel Lim</span><br>
								<a class="icon-bg icon-link" href="question/47211/info--dynamic-scrollview-add-views-on-14#answer-97351" rel="permalink">permalink</a>
							</div>

							<h5>2 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>&quot;…the app froze, and user can&#39;t even reopen the app on next try…&quot;</p>
<p>That&#39;s because the app is frozen (apps don&#39;t start from scratch on iOS 4, they pick back up where you left off). You&#39;ll have to double-tap the home button, then press and hold your app icon until the red minus signs appear, then touch the red minus sign for your app to actually quit it.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 18th 2010, 1:02:10 pm">August 18th 2010</span>
											by <span class='authorname'>Glen Yates</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Glen, i know iOS4 background feature. The app is configured not to run in background </p>
<pre><code class="hljs"><span class="hljs-tag">&lt;<span class="hljs-title">key</span>&gt;</span>UIApplicationExitsOnSuspend<span class="hljs-tag">&lt;/<span class="hljs-title">key</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">true</span>/&gt;</span>
</code></pre><p>Thanks</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 23rd 2010, 11:58:00 am">August 23rd 2010</span>
											by <span class='authorname'>Daniel Lim</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-102661">
				
						<section>
							<p>Having exact the same problem on device only. It hangs in the loop and even reboots my device! (iPod Touch 3G).</p>
<p>It was working perfectly before the iOS4 update. A lot of my users are having problems now.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 18th 2010, 10:39:29 am">August 18th 2010</span>
								by <span class='authorname'>Richard Venneman</span><br>
								<a class="icon-bg icon-link" href="question/47211/info--dynamic-scrollview-add-views-on-14#answer-102661" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-104501">
				
						<section>
							<p>Has anyone found a work around or solution to this issue? I opened a ticket, but have not received a response yet.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 23rd 2010, 11:52:11 am">August 23rd 2010</span>
								by <span class='authorname'>Jason Harris</span><br>
								<a class="icon-bg icon-link" href="question/47211/info--dynamic-scrollview-add-views-on-14#answer-104501" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Tried a continuous build today but the problem doesn&#39;t appear to be solved yet.<br>:(</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 24th 2010, 8:16:20 pm">August 24th 2010</span>
											by <span class='authorname'>Richard Venneman</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-105961">
				
						<section>
							<p>This now is an official bug at Lighthouse. Looks like it will be fixed in 1.5..</p>
<p>https:&#x2F;&#x2F;appcelerator.lighthouseapp.com&#x2F;projects&#x2F;32238-titanium-mobile&#x2F;tickets&#x2F;1643-scrollview-more-than-10-children-views-cause-app-freeze</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 26th 2010, 7:05:23 am">August 26th 2010</span>
								by <span class='authorname'>Richard Venneman</span><br>
								<a class="icon-bg icon-link" href="question/47211/info--dynamic-scrollview-add-views-on-14#answer-105961" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-133851">
				
						<section>
							<p>I think I have a work around for this issue and maybe this will help some of you. I&#39;m doing something similar where I dynamically add new views to my scroll view based on new updates from a website, sort of like adding new content to a rolling rss feed reader. What I did is this:</p>
<pre><code class="hljs">App.loadTimedEventList = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(newSampleArrayList)</span> </span>{
        <span class="hljs-comment">// Get the location of the last element in the scroll view to start adding new elements</span>
    <span class="hljs-keyword">var</span> top = <span class="hljs-keyword">this</span>.sampleScrollViewItems.length  * <span class="hljs-number">110</span>;    <span class="hljs-comment">/* 110 is the height of the view in the list */</span>

       <span class="hljs-comment">// Delete any elements that were left (if any) from the last addition</span>
    <span class="hljs-keyword">this</span>.newScrollViewItems = [];

        <span class="hljs-comment">// loop through and add the new items to array (each item is a Ti.UI.View element)</span>
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; newSampleArrayList.length; ++i){
        <span class="hljs-keyword">var</span> item = App.createViewItem(<span class="hljs-number">0</span>,  (i * <span class="hljs-number">110</span>) + top );
        <span class="hljs-keyword">this</span>.newscrollItems.push(item);
    }

       <span class="hljs-comment">// now we loop and create a timer to execute adding the elements to the scrollview 1 second apart</span>
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> k =<span class="hljs-number">0</span>; k &lt; eventList.length; k++) {
        setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span> </span>{
            sampleScrollView.fireEvent(<span class="hljs-string">'addItem'</span>);
        }, (k + <span class="hljs-number">1</span>) * <span class="hljs-number">1000</span>);
    }
};

<span class="hljs-comment">// .....  Some lines on UP (this code here would be defined up higher in the file)</span>

<span class="hljs-keyword">var</span> sampleScrollView = Ti.UI.createScrollView({...});

<span class="hljs-comment">// This code will execute on the timer 1sec apart</span>
sampleScrollView.addEventListener(<span class="hljs-string">'addItem'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span> </span>{
        <span class="hljs-comment">// get the item out of this list</span>
    <span class="hljs-keyword">var</span> item = App.newScrollViewItems.pop();

        <span class="hljs-comment">// add it to the control</span>
    <span class="hljs-keyword">this</span>.sampleScrollViewItems.push(item);
      sampleScrollView.add(item);
});

 <span class="hljs-comment">//</span>
</code></pre><p>Hope this helps anyone!</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="October 28th 2010, 7:24:39 pm">October 28th 2010</span>
								by <span class='authorname'>Donelle Sanders Jr</span><br>
								<a class="icon-bg icon-link" href="question/47211/info--dynamic-scrollview-add-views-on-14#answer-133851" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Wow this looks like an awesome promising code.</p>
<p>Though I can&#39;t seem to get this working. Can you show an example of it working in a app or explain a little more on getting this to work</p>
<p>thanks and good job</p>
</p>
										<div class="author">
											&mdash; commented <span title="October 29th 2010, 5:55:54 am">October 29th 2010</span>
											by <span class='authorname'>Patrick van Zadel</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
