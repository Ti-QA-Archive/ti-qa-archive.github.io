<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>HTTPClient does not maintain session in titanium 1.7.2 Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>HTTPClient does not maintain session in titanium 1.7.2</h1>
		</header>
		<section>
			<p>I have a login script one one page and authentication script on other pages of my app that checks whether the user has logged in or not. In titanium 1.7.1 everything works fine but in 1.7.2 the authentication fails as the session is not recognized by the app as it is destroyed. Is there a way to have persistent session through httpClient? What must have caused this to behave differently on these 2 titanium versions?</p>
<p>Thanks</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="October 29th 2011, 8:41:11 am">October 29th 2011</span>
				by <span class='authorname'>Zarir Bhesania</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>1.7.2</span></li>
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>httpclient</span></li>
					
						<li><span class='tagname'>mobile</span></li>
					
						<li><span class='tagname'>titanium</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-222191">
				
						<section>
							<p>without a code example this is just a guess.</p>
<p>httpClient does not keep an open connection it closes after use, so using this to maintain persistence through a session may not be an ideal way.</p>
<p>Storing data on the phone which then is used to connect to the API&#39;s passing the relevant session data is a solution. </p>
<p>If you post some code then we can see exactly how you are trying to implement this.</p>
<p>T.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="October 29th 2011, 10:04:05 am">October 29th 2011</span>
								by <span class='authorname'>Trevor Ward</span><br>
								<a class="icon-bg icon-link" href="../../question/127531/httpclient-does-not-maintain-session-in-titanium-172.html#answer-222191" rel="permalink">permalink</a>
							</div>

							<h5>8 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Hi Trevor,</p>
<p>Check the code</p>
<p>http:&#x2F;&#x2F;pastie.org&#x2F;2777925</p>
<p>In brief, after login, check for authentication (check_Auth()) if success then call profile.<br>This was working as expected in 1.7.1 but in 1.7.2 check_Auth() does not recognize that the user has logged in.</p>
</p>
										<div class="author">
											&mdash; commented <span title="October 29th 2011, 10:46:03 am">October 29th 2011</span>
											by <span class='authorname'>Zarir Bhesania</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>you need to add an on error function to capture errors. What is the status code returned.</p>
</p>
										<div class="author">
											&mdash; commented <span title="October 29th 2011, 12:07:10 pm">October 29th 2011</span>
											by <span class='authorname'>Trevor Ward</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>status code 200.</p>
</p>
										<div class="author">
											&mdash; commented <span title="October 29th 2011, 12:18:08 pm">October 29th 2011</span>
											by <span class='authorname'>Zarir Bhesania</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>OK. so it is all working . :) big smiley face.. There have been issues with some httpClient stuff. Can you switch to 1.7.3 which is the latest SDK release build ?.</p>
</p>
										<div class="author">
											&mdash; commented <span title="October 29th 2011, 12:53:47 pm">October 29th 2011</span>
											by <span class='authorname'>Trevor Ward</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>It&#39;s showing status code 200 but even after logging in when I check for is_auth on the same page it shows I am not logged in. This was not happening in 1.7.2. Also the same issue is occurring in 1.7.3. The httpClient state is not maintained on the same page</p>
</p>
										<div class="author">
											&mdash; commented <span title="October 31st 2011, 7:27:17 am">October 31st 2011</span>
											by <span class='authorname'>Zarir Bhesania</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Sorry just neglect the earlier post</p>
</p>
										<div class="author">
											&mdash; commented <span title="October 31st 2011, 7:29:38 am">October 31st 2011</span>
											by <span class='authorname'>Zarir Bhesania</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>It&#39;s showing status code 200 but even after logging in when I check for is_auth on the same page it shows I am not logged in. This was not happening in 1.7.1. Also the same issue is occurring in 1.7.3. The httpClient state is not maintained on the same page</p>
</p>
										<div class="author">
											&mdash; commented <span title="October 31st 2011, 7:30:16 am">October 31st 2011</span>
											by <span class='authorname'>Zarir Bhesania</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>With Titanium sdk 1.7.5 httpClient state is maintained and all working fine as before. :)</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 7th 2011, 4:39:19 am">November 7th 2011</span>
											by <span class='authorname'>Zarir Bhesania</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
