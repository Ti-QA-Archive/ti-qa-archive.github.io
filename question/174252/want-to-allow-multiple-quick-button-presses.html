<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>want to ALLOW multiple, quick button presses » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>want to ALLOW multiple, quick button presses</h1>
		</header>
		<section>
			<p>Host OS: Mac OS X<br>OS Version: 10.9.2<br>Latest Titanium SDK: 3.2.3.GA<br>Titanium Studio Version: 3.2.3.201404181442<br>iOS 7<br>Simulator and phone</p>
<p>What I have is the simplest of button code. The interface needs to allow for a multiple quick presses of this button. I imagine I could navigate this problem if all I had to do was monitor click or doubleclicks but the problem is that I see the pertinent events firing 2 times and then there is a 0.5 - 1 second pause before it the events start being called again. In order to keep all the double and single clicks straight I decided to monitor touchstart and touchend, but just like the other events I get 1 touchstart and 1 touchend, another touchstart and another touchend and then an unexplainable pause.</p>
<p>All the questions I could find on this topic were about people wanting to mitigate multiple quick button presses. Does anyone have any information on how to better allow for them?</p>
<p>Thanks!</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="May 16th 2014, 1:23:54 am">May 16th 2014</span>
				by <span class='authorname'>Ben Scofield</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>button</span></li>
					
						<li><span class='tagname'>eventlistener</span></li>
					
						<li><span class='tagname'>iphone</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-278738">
				
						<section>
							<p>Did you try the &#39;singletap&#39; event listener ?</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="May 16th 2014, 6:02:24 am">May 16th 2014</span>
								by <span class='authorname'>Nick Milner</span><br>
								<a class="icon-bg icon-link" href="question/174252/want-to-allow-multiple-quick-button-presses.html#answer-278738" rel="permalink">permalink</a>
							</div>

							<h5>16 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Click when you want a standard action, singletap if you want quick fire.</p>
<p>Swapping from click to singletap made my calculator module go from annoying and missing some presses to a correctly working calculator.</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 16th 2014, 9:32:27 am">May 16th 2014</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>+1. Too many of the event types are underused, or used incorrectly.</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 16th 2014, 10:12:30 am">May 16th 2014</span>
											by <span class='authorname'>Stephen Feather</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Ya, I&#39;ve tried singletap and that experiences the same delay. As I&#39;ve tried to get any idea of an order they fire in, the touchstart seems to reliably precede the other events. But even touchstart experiences that pause after just 2 taps&#x2F;clicks.</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 16th 2014, 12:52:13 pm">May 16th 2014</span>
											by <span class='authorname'>Ben Scofield</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>What code are you executing upon each tap ?</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 16th 2014, 3:32:29 pm">May 16th 2014</span>
											by <span class='authorname'>Nick Milner</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I&#39;ve widdled all the way down to 1 Ti.API.warn() with the same result.</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 16th 2014, 3:34:32 pm">May 16th 2014</span>
											by <span class='authorname'>Ben Scofield</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I&#39;ve also just had the touchstart and touchend event each executing a warn and there is a pause. I understand that quick touches or taps will result in a dblclick or doubletap but each of those seem to be accompanied by a mandatory pause or something.</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 16th 2014, 3:38:11 pm">May 16th 2014</span>
											by <span class='authorname'>Ben Scofield</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>What code are you executing upon each tap ?</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 19th 2014, 3:14:16 pm">May 19th 2014</span>
											by <span class='authorname'>Nick Milner</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>only:</p>
<p>Ti.API.warn(&quot;touchstart&quot;);</p>
<p>in the touchstart event, obviously.</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 19th 2014, 3:16:15 pm">May 19th 2014</span>
											by <span class='authorname'>Ben Scofield</span>
										</div>
									</li>
								
									<li class="comment">
										<p><pre><code class="hljs"><span class="hljs-keyword">var</span> w = Ti.UI.createWindow();
<span class="hljs-keyword">var</span> b = Ti.UI.createButton({
    width : Ti.UI.SIZE,
    height : <span class="hljs-number">50</span>,
    title : <span class="hljs-string">'Hit me'</span>
});



b.addEventListener(<span class="hljs-string">'singletap'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)</span>{

    <span class="hljs-keyword">var</span> d = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>();    
    Ti.API.warn(d.getSeconds() + <span class="hljs-string">':'</span> +d.getMilliseconds());

});

w.add(b);

w.open();
</code></pre><p>Yields this output for me while I was tapping as fast as I can on the Simulator</p>
<pre><code class="hljs">[WARN] :   <span class="hljs-number">23</span>:<span class="hljs-number">541</span>
[WARN] :   <span class="hljs-number">23</span>:<span class="hljs-number">720</span>
[WARN] :   <span class="hljs-number">23</span>:<span class="hljs-number">854</span>
[WARN] :   <span class="hljs-number">23</span>:<span class="hljs-number">989</span>
[WARN] :   <span class="hljs-number">24</span>:<span class="hljs-number">133</span>
[WARN] :   <span class="hljs-number">24</span>:<span class="hljs-number">287</span>
[WARN] :   <span class="hljs-number">24</span>:<span class="hljs-number">437</span>
[WARN] :   <span class="hljs-number">24</span>:<span class="hljs-number">601</span>
[WARN] :   <span class="hljs-number">24</span>:<span class="hljs-number">735</span>
[WARN] :   <span class="hljs-number">24</span>:<span class="hljs-number">883</span>
[WARN] :   <span class="hljs-number">25</span>:<span class="hljs-number">24</span>
</code></pre><p>As you can see if you subtract each subsequent ss:ms from each other I&#39;m not seeing any pauses &gt; 0.5s</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 19th 2014, 3:38:01 pm">May 19th 2014</span>
											by <span class='authorname'>Nick Milner</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>The time I used single tap was in with several other events and the pause was the same as when using touchstart. I&#39;ll try and use singletap all by itself as in your example.</p>
<p>My results:</p>
<pre><code class="hljs">[WARN] :   <span class="hljs-number">6</span>:<span class="hljs-number">345</span>
[WARN] :   <span class="hljs-number">6</span>:<span class="hljs-number">440</span>
[WARN] :   <span class="hljs-number">7</span>:<span class="hljs-number">25</span>
[WARN] :   <span class="hljs-number">7</span>:<span class="hljs-number">142</span>
[WARN] :   <span class="hljs-number">7</span>:<span class="hljs-number">747</span>
[WARN] :   <span class="hljs-number">7</span>:<span class="hljs-number">835</span>
[WARN] :   <span class="hljs-number">8</span>:<span class="hljs-number">427</span>
[WARN] :   <span class="hljs-number">9</span>:<span class="hljs-number">30</span>
[WARN] :   <span class="hljs-number">9</span>:<span class="hljs-number">621</span>
[WARN] :   <span class="hljs-number">10</span>:<span class="hljs-number">273</span>
</code></pre><p>The only difference between your app and mine is the add&#39;l UI elements, I&#39;d assume. I just don&#39;t understand why unrelated UI elements may slow this down.</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 19th 2014, 3:58:33 pm">May 19th 2014</span>
											by <span class='authorname'>Ben Scofield</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Events bubble.. The lower in the child hierarchy the event is raised, the more parents it needs time to get propagated through. Have you tried setting the `bubbles&#39; property of the event to false ?</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 19th 2014, 4:25:28 pm">May 19th 2014</span>
											by <span class='authorname'>Nick Milner</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Actually its not <code>bubbles</code> its <code>cancelBubble</code>… eg</p>
<pre><code class="hljs">b.addEventListener(<span class="hljs-string">'singletap'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)</span>{

    <span class="hljs-keyword">var</span> d = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(); 
    Ti.API.warn(d.getSeconds() + <span class="hljs-string">':'</span> +d.getMilliseconds());
    e.cancelBubble = <span class="hljs-literal">true</span>;

});
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="May 19th 2014, 5:05:02 pm">May 19th 2014</span>
											by <span class='authorname'>Nick Milner</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Oh, and some kind of hint as to your real layout would really help… I&#39;m getting bored guessing now…</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 19th 2014, 5:06:35 pm">May 19th 2014</span>
											by <span class='authorname'>Nick Milner</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Oh, sorry- I didn&#39;t think it was that pertinent but it is a faux dialpad with a label across the top that has a formatted number (formatted to be like a phone number: (###) ###-####) appended to it. The events add the number to the label. When I started noticing that it would skip a number during a quick sequence I whittled it down to just the event listener + warn() message. So, the UI consists of 1 window, 12 dialpad buttons (0-9 and &#39;*&#39; and &#39;#&#39;) and 2 other option buttons at the bottom of the screen. </p>
<p>I had added bubbleParent: false to the button object with no effect (meaning I still noticed the pause in accepting input). Not sure if that would result in the same or not, I&#39;ll check.</p>
<p>Added e.cancelBubble = true; to the event code and still see that it will take 2 rapid touches and then it pauses wherein touches are ignored.</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 19th 2014, 5:19:25 pm">May 19th 2014</span>
											by <span class='authorname'>Ben Scofield</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I started a new app with nothing but your code, Nick, and surprisingly I do not get the same result as you. I still get a pause wherein the system stops taking my clicks&#x2F;taps. It might be too late to be asking this but, what &quot;style&quot; of click&#x2F;tap are you doing on the simulator? I am merely pressing the mouse button on my laptop as quickly as I can on the button. Does this mirror what you&#39;re doing? Without any UI, mimicking your code above this is what i get when I press the button 4 times quickly:</p>
<pre><code class="hljs">[WARN] :   <span class="hljs-number">33</span>:<span class="hljs-number">214</span>
[WARN] :   <span class="hljs-number">33</span>:<span class="hljs-number">345</span>
</code></pre><p>Yes, that&#39;s 2 responses because the last 2 are ignored. If I keep going until I see add&#39;l output in the console:</p>
<pre><code class="hljs">[WARN] :   <span class="hljs-number">20</span>:<span class="hljs-number">230</span>
[WARN] :   <span class="hljs-number">20</span>:<span class="hljs-number">383</span>
[WARN] :   <span class="hljs-number">20</span>:<span class="hljs-number">952</span>
[WARN] :   <span class="hljs-number">21</span>:<span class="hljs-number">84</span>
</code></pre><p>If I counted right that was the output from 6 clicks.</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 19th 2014, 5:30:33 pm">May 19th 2014</span>
											by <span class='authorname'>Ben Scofield</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Yes, I was using the mouse to click. This works fine for me as fast as I can click.</p>
<pre><code class="hljs">var btns = [<span class="hljs-string">'1'</span>, <span class="hljs-string">'2'</span>, <span class="hljs-string">'3'</span>, <span class="hljs-string">'4'</span>, <span class="hljs-string">'5'</span>, <span class="hljs-string">'6'</span>, <span class="hljs-string">'7'</span>, <span class="hljs-string">'8'</span>, <span class="hljs-string">'9'</span>, <span class="hljs-string">'0'</span>, <span class="hljs-string">'#'</span>, <span class="hljs-string">'.'</span>];

var num = <span class="hljs-string">''</span>;
var w = Ti.UI.createWindow({
    <span class="hljs-string">layout :</span> <span class="hljs-string">'vertical'</span>
});

var v = Ti.UI.createView({
    <span class="hljs-string">top :</span> <span class="hljs-number">5</span>,
    <span class="hljs-string">layout :</span> <span class="hljs-string">'horizontal'</span>,
    <span class="hljs-string">height :</span> Ti.UI.SIZE
});

var l = Ti.UI.createLabel({
    <span class="hljs-string">top :</span> <span class="hljs-number">5</span>,
    <span class="hljs-string">left :</span> <span class="hljs-number">5</span>,
    <span class="hljs-string">right :</span> <span class="hljs-number">5</span>,
    <span class="hljs-string">height :</span> <span class="hljs-number">150</span>,
    <span class="hljs-string">width :</span> <span class="hljs-string">'100%'</span>,
    <span class="hljs-string">backgroundColor :</span> <span class="hljs-string">'transparent'</span>,
    <span class="hljs-string">color :</span> <span class="hljs-string">'green'</span>,
    <span class="hljs-string">text :</span> num
});

function updateLabel(key) {
    num += key;
    l.applyProperties({
        <span class="hljs-string">text :</span> num
    });
}

function btnClickHandler(e) {

    var d = <span class="hljs-keyword">new</span> Date();
    var s = d.getSeconds() + <span class="hljs-string">':'</span> + d.getMilliseconds();
    Ti.API.info(s);

    updateLabel(<span class="hljs-keyword">this</span>.title);
}

<span class="hljs-keyword">for</span> (var x = <span class="hljs-number">0</span>; x &lt; btns.length; x++) {

    var b = Ti.UI.createButton({
        <span class="hljs-string">width :</span> <span class="hljs-number">100</span>,
        <span class="hljs-string">height :</span> <span class="hljs-number">50</span>,
        <span class="hljs-string">left :</span> <span class="hljs-number">5</span>,
        <span class="hljs-string">top :</span> <span class="hljs-number">5</span>,
        <span class="hljs-string">title :</span> btns[x],
        <span class="hljs-string">backgroundColor :</span> <span class="hljs-string">'white'</span>,
        <span class="hljs-string">borderColor :</span> <span class="hljs-string">'black'</span>,
        <span class="hljs-string">borderWidth :</span> <span class="hljs-number">1</span>
    });

    b.addEventListener(<span class="hljs-string">'singletap'</span>, btnClickHandler);

    v.add(b);
}

w.add(l);
w.add(v);

w.open();
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="May 20th 2014, 2:53:53 pm">May 20th 2014</span>
											by <span class='authorname'>Nick Milner</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>2</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-278841">
				
						<section>
							<p>So can anyone confirm that if they create a button, add nothing but a touchstart event with a warn(), they only are able to see the event fire 2x before a pause interrupts it for a .5 seconds or so?</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="May 19th 2014, 1:08:15 pm">May 19th 2014</span>
								by <span class='authorname'>Ben Scofield</span><br>
								<a class="icon-bg icon-link" href="question/174252/want-to-allow-multiple-quick-button-presses.html#answer-278841" rel="permalink">permalink</a>
							</div>

							<h5>2 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>This should really be a comment on the answer provided.</p>
<p>Are you asking if the console messages appear when hoped for?  If so the console is not in real-time - it should not be used for timing confirmation.  Add a label or two and update that text property.</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 19th 2014, 4:39:37 pm">May 19th 2014</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I added a new comment because it was out of scope of the only other answer which asked about the singletap event. After Nick&#39;s suggestion above I added timestamps and still see the gap that I thought I was experiencing through the UI and console output (in the original intent of the app it updates a label which is how I first noticed the pause in accepting further input).</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 19th 2014, 4:44:00 pm">May 19th 2014</span>
											by <span class='authorname'>Ben Scofield</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
