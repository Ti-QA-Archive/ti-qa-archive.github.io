<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>TableViewRow background color not changing » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>TableViewRow background color not changing</h1>
		</header>
		<section>
			<p>I have a TableView with multiple rows and when the row is clicked I change the background color, but once it is done once it won&#39;t change again for any of the rows.</p>
<pre><code class="hljs">tableView.addEventListener('click',function(e){
        image.image = e.rowData.imglink<span class="hljs-comment">;</span>

        if(!cur_selected){
            t1 = Titanium.UI.createAnimation({bottom:0, duration:750})<span class="hljs-comment">;</span>
            t2 = Ti.UI.createAnimation({bottom:240,duration:750})<span class="hljs-comment">;</span>
            imageContainer.animate(t1)<span class="hljs-comment">;</span>
            tableView.animate(t2)<span class="hljs-comment">;</span>
            e.row.backgroundColor ='pink'<span class="hljs-comment">;</span>
            cur_selected = e<span class="hljs-comment">;</span>
        }else{
e.row.backgroundColor = 'pink'<span class="hljs-comment">;</span>
            cur_selected.backgroundColor = 'purple'<span class="hljs-comment">;</span>

        }
        //e.row.backgroundColor ='pink'<span class="hljs-comment">;</span>
        cur_selected = e.row.index<span class="hljs-comment">;</span>
    })<span class="hljs-comment">;</span>
</code></pre><p>I don&#39;t have any idea why it won&#39;t work. Any suggestions would be awesome</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="February 18th 2011, 1:04:32 am">February 18th 2011</span>
				by <span class='authorname'>Peter Sawka</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>backgroundcolor</span></li>
					
						<li><span class='tagname'>iphone</span></li>
					
						<li><span class='tagname'>tableview</span></li>
					
						<li><span class='tagname'>tableviewrow</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>2</span> Votes</div>
			<div class="answers"><span>6</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>6 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-287154">
				
						<section>
							<p>Here is a Solution, instead of adding a backgroundColor to the View you want to maintain it&#39;s color when it&#39;s parent (the Row) is selected, use backgroundGradient :</p>
<pre><code class="hljs"><span class="hljs-comment">// a Flat Red Color that remains red, even on selection of (parent) row</span>
nestedView.<span class="hljs-string">backgroundGradient:</span> {
<span class="hljs-label">        type:</span> <span class="hljs-string">'linear'</span>,
<span class="hljs-label">        startPoint:</span> { <span class="hljs-string">x:</span> <span class="hljs-string">'0%'</span>, <span class="hljs-string">y:</span> <span class="hljs-string">'50%'</span> },
<span class="hljs-label">        endPoint:</span> { <span class="hljs-string">x:</span> <span class="hljs-string">'100%'</span>, <span class="hljs-string">y:</span> <span class="hljs-string">'50%'</span> },
<span class="hljs-label">        colors:</span> [ { <span class="hljs-string">color:</span> <span class="hljs-string">'FF0000'</span>, <span class="hljs-string">offset:</span> <span class="hljs-number">0.0</span>}, { <span class="hljs-string">color:</span> <span class="hljs-string">'FF0000'</span>, <span class="hljs-string">offset:</span> <span class="hljs-number">1</span> }],
    },
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="April 24th 2015, 8:46:17 am">April 24th 2015</span>
								by <span class='authorname'>Joseph Sachs</span><br>
								<a class="icon-bg icon-link" href="../../question/113591/tableviewrow-background-color-not-changing.html#answer-287154" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>For iOS: You may also want to maintain the highlighted row:</p>
<p><code>tableView.allowsSelection = true</code></p>
</p>
										<div class="author">
											&mdash; commented <span title="April 24th 2015, 8:51:31 am">April 24th 2015</span>
											by <span class='authorname'>Joseph Sachs</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>2</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-225719">
				
						<section>
							<p>Were you able to fix this issue?<br>Having similar issue with backgroundImage</p>
<p>Some hack that causes flickering is trying to call hide and show methods right after background is changed</p>
<p><code>cur_selected.backgroundColor = &amp;#39;purple&amp;#39;;
cur_selected.hide();
cur_selected.show();</code></p>
<p>Ugly flickering way =(</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="December 20th 2011, 1:26:43 pm">December 20th 2011</span>
								by <span class='authorname'>Denis Rakov</span><br>
								<a class="icon-bg icon-link" href="../../question/113591/tableviewrow-background-color-not-changing.html#answer-225719" rel="permalink">permalink</a>
							</div>

							<h5>2 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Wow that actually worked.</p>
<p>Thanks, I&#39;ll create a bug report</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 10th 2012, 10:40:35 am">April 10th 2012</span>
											by <span class='authorname'>Pablo Albrecht</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>this worked! thanks. And to this day… it still hasn&#39;t been fixed</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 19th 2013, 7:14:39 pm">December 19th 2013</span>
											by <span class='authorname'>Esau Redwan</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-199751">
				
						<section>
							<p>Interesting. So it does update the entry, but when I scroll the selection off screen and then back on screen it is then highlighted. Any ideas why? and what would be the best way to turn the prev selection back? the purple does not work</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="February 18th 2011, 2:48:44 am">February 18th 2011</span>
								by <span class='authorname'>Peter Sawka</span><br>
								<a class="icon-bg icon-link" href="../../question/113591/tableviewrow-background-color-not-changing.html#answer-199751" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-199811">
				
						<section>
							<p>Maybe because you should do :</p>
<pre><code class="hljs">cur_selected.row.backgroundColor = <span class="hljs-string">'purple'</span>;
</code></pre><p>And I don&#39;t understand your variable cur_selected: sometimes it&#39;s an event (= e) and sometimes it&#39;s an id (e.row.index)</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="February 18th 2011, 6:04:35 am">February 18th 2011</span>
								by <span class='authorname'>Romain Salles</span><br>
								<a class="icon-bg icon-link" href="../../question/113591/tableviewrow-background-color-not-changing.html#answer-199811" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>But still doesn&#39;t explain the other error…i changed it to </p>
<pre><code class="hljs">cur_selected = e<span class="hljs-comment">;</span>
</code></pre><p>But again still the same error</p>
</p>
										<div class="author">
											&mdash; commented <span title="February 18th 2011, 6:07:16 am">February 18th 2011</span>
											by <span class='authorname'>Peter Sawka</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-268622">
				
						<section>
							<p>not<br>e.rowData.backgroundColor = &#39;blue&#39;;<br>but<br>e.row.backgroundColor = &#39;blue&#39;;</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="September 16th 2013, 8:44:17 pm">September 16th 2013</span>
								by <span class='authorname'>Dariusz C</span><br>
								<a class="icon-bg icon-link" href="../../question/113591/tableviewrow-background-color-not-changing.html#answer-268622" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-281520">
				
						<section>
							<p>This bug is still around. Experiencing it with Ttianium SDK 3.3.0.GA and Alloy 1.4.0. I change the backrgoundColor of a TableView row on event. The color does not change in the view but when I scroll the row out of view and back into view it has changed in UI too. Really annoying.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 8th 2014, 11:53:17 am">August 8th 2014</span>
								by <span class='authorname'>Florian Ritzel</span><br>
								<a class="icon-bg icon-link" href="../../question/113591/tableviewrow-background-color-not-changing.html#answer-281520" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
