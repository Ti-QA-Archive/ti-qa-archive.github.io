<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>uplading audio file from iphone to server » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>uplading audio file from iphone to server</h1>
		</header>
		<section>
			<p>libraryButton.addEventListener(&#39;click&#39;, function() {</p>
<pre><code class="hljs"><span class="hljs-comment">// first lets close the modal</span>
popup_view.animate(popdown_animation);
Titanium.Media.openMusicLibrary({

    success : <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(picked)</span> </span>{
        <span class="hljs-keyword">try</span> {
            alert(<span class="hljs-string">'1. '</span> + picked.items[<span class="hljs-number">0</span>].title);
            <span class="hljs-comment">// var file = Titanium.Filesystem.getFile(Titanium.Filesystem.applicationDataDirectory + picked.items[0].title+'.mp3');</span>
</code></pre><p>&#x2F;&#x2F; Titanium.API.info(file);<br>            } catch(e) {</p>
<pre><code class="hljs">        }
        <span class="hljs-keyword">try</span> {
            alert(<span class="hljs-string">'2. '</span> + picked.item.title);
        } <span class="hljs-keyword">catch</span>(e) {

        }

        <span class="hljs-comment">// Ti.API.info(picked.items[0].title); // outputs the title of the first selected track.</span>
        song = picked.item;
        <span class="hljs-comment">// song = mytiblob;</span>
        Ti.API.info(<span class="hljs-built_in">JSON</span>.stringify(picked.item));
    },
    cancel : <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-comment">// alert('you canceled');</span>
    },
    error : <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">error</span>) </span>{
        Ti.API.info(<span class="hljs-built_in">JSON</span>.stringify(error));
        <span class="hljs-comment">// alert('there was an error');</span>
        <span class="hljs-keyword">var</span> alert = Ti.UI.createAlertDialog({
            title : L(<span class="hljs-string">'seerah_app'</span>),
            message : <span class="hljs-string">'There was an error. '</span>+error,
            buttonNames : [L(<span class="hljs-string">'ok'</span>)]
        });
        alert.show();
    },
    <span class="hljs-comment">// allowImageEditing : true</span>
});
</code></pre><p>});</p>
<p>this is the code to get the audio file from ios by using function &quot;openMusicLibrary&quot; i can select the required file. but cant able to convert it to base64 or any othere format. m new to titanium so need assistance . thanks in advance</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="April 24th 2014, 3:35:16 am">April 24th 2014</span>
				by <span class='authorname'>zamurd ali</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>audio</span></li>
					
						<li><span class='tagname'>file</span></li>
					
						<li><span class='tagname'>ios</span></li>
					
						<li><span class='tagname'>sound</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-278083">
				
						<section>
							<p>I think <code>picked.item;</code> will give you selected mp3 file so you can now save it by filesystem object.</p>
<pre><code class="hljs"> song = picked.<span class="hljs-property">item</span>;
var f = Ti.Filesystem.getFile(Ti.Filesystem.applicationDataDirectory,<span class="hljs-string">"myFile.mp3"</span>);
f.<span class="hljs-command">write</span>(song);
</code></pre><p>so after saving it, you can read that file and convert it into base64 string..</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> f = Ti.Filesystem.getFile(Ti.Filesystem.applicationDataDirectory,<span class="hljs-string">"myFile.mp3"</span>);
Ti.API.info(Ti.Utils.base64encode(f.<span class="hljs-keyword">read</span>()).<span class="hljs-keyword">toString</span>());
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="April 24th 2014, 7:44:00 am">April 24th 2014</span>
								by <span class='authorname'>Mitul Bhalia</span><br>
								<a class="icon-bg icon-link" href="../../question/173002/uplading-audio-file-from-iphone-to-server.html#answer-278083" rel="permalink">permalink</a>
							</div>

							<h5>6 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>there is confusion in your answer. we are not using application data directory the file resides in device memory and aftr selectiong item from there there is only names like picked.items[0].title or other properties but not a path to audio file. the code u have mentioned</p>
<pre><code class="hljs">Ti<span class="hljs-class">.Filesystem</span><span class="hljs-class">.applicationDataDirectory</span>
</code></pre><p>is used to get the data from the directory of our app</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 25th 2014, 4:13:33 am">April 25th 2014</span>
											by <span class='authorname'>zamurd ali</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>i said you need to save that mp3 file in applicationDataDirectory. I know that there is no path returned from selected file.</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 25th 2014, 4:27:40 am">April 25th 2014</span>
											by <span class='authorname'>Mitul Bhalia</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>hmmm. may b u r right but no luck for me yet :(<br><code>picked.item</code> this is straight forword eror for ios. but <code>picked.items[0]</code> do return the ofject TiMediaItem<br>but by using the code u have mentioned above</p>
<pre><code class="hljs"><span class="hljs-variable"><span class="hljs-keyword">var</span> f</span> = Ti.Filesystem.getFile(Ti.Filesystem.applicationDataDirectory,<span class="hljs-string">"myFile.mp3"</span>);
f.write(song);
</code></pre><p>does not create the audio file. it supose to create the audio file with the name of myFile.mp3 in app directory. corect me if m wrong…..<br>thnks for ur time…..</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 25th 2014, 9:46:03 am">April 25th 2014</span>
											by <span class='authorname'>zamurd ali</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>yes,</p>
<p>then you can try with <code>picked.items[0]</code> to save file….</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 25th 2014, 10:00:14 am">April 25th 2014</span>
											by <span class='authorname'>Mitul Bhalia</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Mr. Mitul Bhalia u mean<br><code>var song=picked.items[0];</code><br>have tried this………<br>but aftr this when i try to get the file using</p>
<pre><code class="hljs"><span class="hljs-variable"><span class="hljs-keyword">var</span> f</span> = Ti.Filesystem.getFile(Ti.Filesystem.applicationDataDirectory,<span class="hljs-string">"myFile.mp3"</span>);
f.read()
</code></pre><p>this raises the error</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 25th 2014, 10:47:12 am">April 25th 2014</span>
											by <span class='authorname'>zamurd ali</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>which error…and are you able to see .mp3 file in applicationDataDirectory?</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 25th 2014, 10:53:27 am">April 25th 2014</span>
											by <span class='authorname'>Mitul Bhalia</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
