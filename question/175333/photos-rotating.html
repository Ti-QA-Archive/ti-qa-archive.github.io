<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>photos rotating » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>photos rotating</h1>
		</header>
		<section>
			<p>HI, I was working on a project where users could upload photos. I am using the imagefactory module</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> ImageFactory = <span class="hljs-built_in">require</span>(<span class="hljs-string">'ti.imagefactory'</span>);

    Upload_pic.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>)</span>{

        Upload_pic.setImage(<span class="hljs-string">'/images/uploadPhoto2.png'</span>);
        Titanium.Media.openPhotoGallery({
            success: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)</span>{
                ImageUploaded=<span class="hljs-literal">true</span>;
                <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"typeof e.media --------  "</span> + e.media);
                ImageView=Ti.UI.createImageView({
                    image:e.media
                });

                ImageViewvar=ImageView.toBlob();           
                ImageViewResized = ImageFactory.imageAsResized(ImageViewvar, { width:<span class="hljs-number">500</span>, height:<span class="hljs-number">500</span> });
            },
            error: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)</span>{
                Upload_pic.setImage(<span class="hljs-string">'/images/uploadPhoto1.png'</span>);

                <span class="hljs-comment">//alert("Error accessing photos");</span>
            },
            cancel: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)</span>{

            Upload_pic.setImage(<span class="hljs-string">'/images/uploadPhoto1.png'</span>);

                <span class="hljs-comment">//alert("Gallery was cancelled");</span>
            },
            alowEditing:<span class="hljs-literal">true</span>,
            mediaType:[Titanium.Media.MEDIA_TYPE_PHOTO]
        });
    });
</code></pre><p>I noticed a couple of times that the images were being rotated when returned back from my webservice at a later stage. Then I realised that the issue arose because the user had rotated the photo on their phone and saved it that way but, when titanium grabbed the image, it grabbed the original image, which had been changed AND saved by the user before uploading.</p>
<p>Is there any way I can detect in the code if the image was rotated and thus do the same rotating myself before upload? I&#39;ve looked around but haven&#39;t spotted anything on this.</p>
<p>It&#39;s happening on Android, I haven&#39;t tested on iOS yet.<br>Any help appreciated</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="June 19th 2014, 6:40:55 am">June 19th 2014</span>
				by <span class='authorname'>user 4683</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>image</span></li>
					
						<li><span class='tagname'>imagefactory</span></li>
					
						<li><span class='tagname'>photo</span></li>
					
				</ul>
			

			<section>
				<h5>1 Comment</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>I have this issue as well. When attaching photos to an email in a custom email form, I show the preview in a little box. Landscape photos are fine (If im correct) and portrait photos get rotated.</p>
</div>
							<div class="author">
								&mdash; commented <span title="June 19th 2014, 8:15:06 am">June 19th 2014</span>
								by <span class='authorname'>Patrick van Vuuren</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>0</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>0 Answers</h3>

	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
