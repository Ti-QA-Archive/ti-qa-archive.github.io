<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Count the amount of child nodes in an XML node » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Count the amount of child nodes in an XML node</h1>
		</header>
		<section>
			<p>I am trying to find the amount of child nodes in the node &quot;page&quot;. Then loop through them and get the values to display some content on my app. I can&#39;t for the life of me figure it out though…</p>
<pre><code class="hljs"><span class="hljs-pi">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">pages</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">page</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">title</span>&gt;</span>Lorem Title 1<span class="hljs-tag">&lt;/<span class="hljs-title">title</span>&gt;</span>

        <span class="hljs-tag">&lt;<span class="hljs-title">p</span>&gt;</span>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.<span class="hljs-tag">&lt;/<span class="hljs-title">p</span>&gt;</span>

        <span class="hljs-tag">&lt;<span class="hljs-title">bull</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">""</span> <span class="hljs-attribute">depth</span>=<span class="hljs-value">"1"</span>&gt;</span>Bullet 1<span class="hljs-tag">&lt;/<span class="hljs-title">bull</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">bull</span> <span class="hljs-attribute">depth</span>=<span class="hljs-value">"1"</span>&gt;</span>Bullet 2<span class="hljs-tag">&lt;/<span class="hljs-title">bull</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">bull</span> <span class="hljs-attribute">depth</span>=<span class="hljs-value">"1"</span>&gt;</span>Bullet 3<span class="hljs-tag">&lt;/<span class="hljs-title">bull</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">bull</span> <span class="hljs-attribute">depth</span>=<span class="hljs-value">"2"</span>&gt;</span>Sub Bullet 1<span class="hljs-tag">&lt;/<span class="hljs-title">bull</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">bull</span> <span class="hljs-attribute">depth</span>=<span class="hljs-value">"2"</span>&gt;</span>Sub Bullet 2<span class="hljs-tag">&lt;/<span class="hljs-title">bull</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">bull</span> <span class="hljs-attribute">depth</span>=<span class="hljs-value">"3"</span>&gt;</span>Sub Sub Bullet 1<span class="hljs-tag">&lt;/<span class="hljs-title">bull</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">bull</span> <span class="hljs-attribute">depth</span>=<span class="hljs-value">"2"</span>&gt;</span>Sub Bullet 3<span class="hljs-tag">&lt;/<span class="hljs-title">bull</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">bull</span> <span class="hljs-attribute">depth</span>=<span class="hljs-value">"1"</span>&gt;</span>Bullet 4<span class="hljs-tag">&lt;/<span class="hljs-title">bull</span>&gt;</span>

        <span class="hljs-tag">&lt;<span class="hljs-title">num</span> <span class="hljs-attribute">depth</span>=<span class="hljs-value">"1"</span>&gt;</span>Number 1<span class="hljs-tag">&lt;/<span class="hljs-title">num</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">num</span> <span class="hljs-attribute">depth</span>=<span class="hljs-value">"1"</span>&gt;</span>Number 2<span class="hljs-tag">&lt;/<span class="hljs-title">num</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">num</span> <span class="hljs-attribute">depth</span>=<span class="hljs-value">"1"</span>&gt;</span>Number 3<span class="hljs-tag">&lt;/<span class="hljs-title">num</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">num</span> <span class="hljs-attribute">depth</span>=<span class="hljs-value">"2"</span>&gt;</span>Sub Number 1<span class="hljs-tag">&lt;/<span class="hljs-title">num</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">num</span> <span class="hljs-attribute">depth</span>=<span class="hljs-value">"2"</span>&gt;</span>Sub Number 2<span class="hljs-tag">&lt;/<span class="hljs-title">num</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">num</span> <span class="hljs-attribute">depth</span>=<span class="hljs-value">"3"</span>&gt;</span>Sub Sub Number 1<span class="hljs-tag">&lt;/<span class="hljs-title">num</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">num</span> <span class="hljs-attribute">depth</span>=<span class="hljs-value">"2"</span>&gt;</span>Sub Number 3<span class="hljs-tag">&lt;/<span class="hljs-title">num</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">num</span> <span class="hljs-attribute">depth</span>=<span class="hljs-value">"1"</span>&gt;</span>Number 4<span class="hljs-tag">&lt;/<span class="hljs-title">num</span>&gt;</span>

        <span class="hljs-tag">&lt;<span class="hljs-title">p</span>&gt;</span>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.<span class="hljs-tag">&lt;/<span class="hljs-title">p</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">page</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">pages</span>&gt;</span>
</code></pre><p>This is my code:</p>
<pre><code class="hljs">listTable2.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span> </span>{
    <span class="hljs-keyword">var</span> xmlFile = Ti.Filesystem.getFile(<span class="hljs-string">'xml/'</span> + listItemsXml[e.index] + <span class="hljs-string">'.xml'</span>);
    <span class="hljs-keyword">var</span> xmlContents = xmlFile.read().text;
    <span class="hljs-keyword">var</span> xmlParsed = Ti.XML.parseString(xmlContents);
    <span class="hljs-keyword">var</span> xmlPage = xmlParsed.documentElement.getElementsByTagName(<span class="hljs-string">'page'</span>).item(e.index); <span class="hljs-comment">//e.index = 0</span>
    alert(xmlPage.childNodes.length);
});
</code></pre><p>As you can see, I am alerting <strong>xmlPage.childNodes.length</strong> which should give me 19, but for some reason it gives me 39… Any help would be great.</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="May 8th 2013, 4:18:02 am">May 8th 2013</span>
				by <span class='authorname'>Ben Stanley</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>child</span></li>
					
						<li><span class='tagname'>childnodes</span></li>
					
						<li><span class='tagname'>length</span></li>
					
						<li><span class='tagname'>node</span></li>
					
						<li><span class='tagname'>xml</span></li>
					
				</ul>
			

			<section>
				<h5>2 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>39 = 19 * 2 + 1</p>
</div>
							<div class="author">
								&mdash; commented <span title="May 8th 2013, 4:29:03 am">May 8th 2013</span>
								by <span class='authorname'>Hani Hamadeh</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Huh, why does it count them like that? That&#39;s strange… I guess I can work with it though. Cheers</p>
</div>
							<div class="author">
								&mdash; commented <span title="May 8th 2013, 4:40:34 am">May 8th 2013</span>
								by <span class='authorname'>Ben Stanley</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-262348">
				
						<section>
							<p>Hani was correct. The <strong>childNodes.length</strong> includes whitespace in it&#39;s number, so to find the <strong>element</strong> nodes, I used this code: (Since every second number is an element node - starting from 1)</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> <span class="hljs-keyword">count</span> = 1;
<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i = 0; i &lt; xmlPage.childNodes.length; i++) {
    <span class="hljs-keyword">if</span>(<span class="hljs-keyword">count</span> == 2) {
        <span class="hljs-comment">//code goes here</span>

        <span class="hljs-keyword">count</span> = 0;
    }
    <span class="hljs-keyword">count</span>++;
}
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="May 8th 2013, 5:17:52 am">May 8th 2013</span>
								by <span class='authorname'>Ben Stanley</span><br>
								<a class="icon-bg icon-link" href="question/152107/count-the-amount-of-child-nodes-in-an-xml-node.html#answer-262348" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
