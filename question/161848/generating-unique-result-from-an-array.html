<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Generating unique result from an array Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Generating unique result from an array</h1>
		</header>
		<section>
			<p>Hi, I&#39;m trying to make a random generator but i realized my results have duplicates. is there any way to make the results without any duplicates? Thanks.</p>
<pre><code class="hljs"><span class="hljs-comment">//Application Window Component Constructor</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ApplicationWindow</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-comment">//load component dependencies</span>
    <span class="hljs-keyword">var</span> FirstView = <span class="hljs-built_in">require</span>(<span class="hljs-string">'ui/common/FirstView'</span>);

    <span class="hljs-comment">//create component instance</span>
    <span class="hljs-keyword">var</span> self = Ti.UI.createWindow({
        backgroundColor : <span class="hljs-string">'#ffffff'</span>
    });

    <span class="hljs-comment">//construct UI</span>
    <span class="hljs-keyword">var</span> random = [];
    random[<span class="hljs-number">0</span>] = <span class="hljs-string">"hi"</span>;
    random[<span class="hljs-number">1</span>] = <span class="hljs-string">"hihihi"</span>;
    random[<span class="hljs-number">2</span>] = <span class="hljs-string">"bye"</span>;
    random[<span class="hljs-number">3</span>] = <span class="hljs-string">"bye bye bye"</span>;



    <span class="hljs-keyword">var</span> button = Ti.UI.createButton({
        title : <span class="hljs-string">"click me!"</span>
    });

    button.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
        i = <span class="hljs-built_in">Math</span>.floor(<span class="hljs-built_in">Math</span>.random()*random.length);
    alert(<span class="hljs-string">" the result is : "</span> + random[i]);
});


    self.add(button);

    <span class="hljs-keyword">return</span> self;
}

<span class="hljs-comment">//make constructor function the public component interface</span>
<span class="hljs-built_in">module</span>.exports = ApplicationWindow;
</code></pre>
		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="January 23rd 2014, 11:05:59 am">January 23rd 2014</span>
				by <span class='authorname'>Chester Chung</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>array</span></li>
					
						<li><span class='tagname'>titanium studio</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-274306">
				
						<section>
							<p>How to put this.</p>
<p>Since your array <strong>only has four unique items</strong>, it makes sense to assume that you will get the previous result one time out of four.(It&#39;s just common sense)</p>
<p>Now if you want to have a full proof system, you will need to populate a separate array with all your previous results. Then, on each turn, see if the result has already been drawn (is it contained in the new array?). If so, then you fetch a new result until you find one that hasn&#39;t been drawn yet.</p>
<p>Hope this clears that up for you.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="January 23rd 2014, 11:31:53 am">January 23rd 2014</span>
								by <span class='authorname'>Christian Brousseau</span><br>
								<a class="icon-bg icon-link" href="question/161848/generating-unique-result-from-an-array#answer-274306" rel="permalink">permalink</a>
							</div>

							<h5>2 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Hi, do you have any examples? I&#39;m confused on this part<br> &quot;If so, then you fetch a new result until you find one that hasn&#39;t been drawn yet.&quot;</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 23rd 2014, 11:44:44 am">January 23rd 2014</span>
											by <span class='authorname'>Chester Chung</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>oh and to add on, im trying to randomize 4 items out of an array of 70. this code was just to test the randomizing function</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 23rd 2014, 11:46:45 am">January 23rd 2014</span>
											by <span class='authorname'>Chester Chung</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-274309">
				
						<section>
							<p>If I understand correctly and sorry seems long winded - someone else would probably have a better solution but this works for me:</p>
<pre><code class="hljs">Array.prototype.unique = function () {
    <span class="hljs-string">'use strict'</span>;
    var a = this.<span class="hljs-built_in">concat</span>(),
        i = <span class="hljs-number">0</span>,
        j = <span class="hljs-number">0</span>;
    <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; a.<span class="hljs-built_in">length</span>; i++) {
        <span class="hljs-keyword">for</span> (j = (i + <span class="hljs-number">1</span>); j &lt; a.<span class="hljs-built_in">length</span>; j++) {
            <span class="hljs-keyword">if</span> (a[i] === a[j]) {
                a.splice(j, <span class="hljs-number">1</span>);
            }<span class="hljs-comment">//if</span>
        }<span class="hljs-comment">//for</span>
    }<span class="hljs-comment">//for</span>

    <span class="hljs-keyword">return</span> a;
};<span class="hljs-comment">//unique func</span>

var <span class="hljs-built_in">random</span> = [];
<span class="hljs-built_in">random</span>[<span class="hljs-number">0</span>] = <span class="hljs-string">"hi"</span>;
<span class="hljs-built_in">random</span>[<span class="hljs-number">1</span>] = <span class="hljs-string">"hi"</span>; <span class="hljs-comment">//duplicate</span>
<span class="hljs-built_in">random</span>[<span class="hljs-number">2</span>] = <span class="hljs-string">"hihihi"</span>;
<span class="hljs-built_in">random</span>[<span class="hljs-number">3</span>] = <span class="hljs-string">"bye"</span>;
<span class="hljs-built_in">random</span>[<span class="hljs-number">4</span>] = <span class="hljs-string">"bye bye bye"</span>;

Ti.API.info(<span class="hljs-string">"Total array length: "</span>+<span class="hljs-built_in">random</span>.<span class="hljs-built_in">length</span>); <span class="hljs-comment">//total array length</span>
Ti.API.info(<span class="hljs-string">"Unique array length: "</span>+<span class="hljs-built_in">random</span>.unique().<span class="hljs-built_in">length</span>); <span class="hljs-comment">//unique array length</span>

<span class="hljs-built_in">random</span> = <span class="hljs-built_in">random</span>.unique(); <span class="hljs-comment">//or assign to a new var eg: var new_array = [], new_array = random.unique();</span>

<span class="hljs-comment">//check</span>
<span class="hljs-keyword">if</span>(<span class="hljs-built_in">random</span>.<span class="hljs-built_in">length</span>&gt;<span class="hljs-number">0</span>){
    <span class="hljs-keyword">for</span>(n=<span class="hljs-number">0</span>;n&lt;<span class="hljs-built_in">random</span>.<span class="hljs-built_in">length</span>;n++){
        Ti.API.info(<span class="hljs-string">"random["</span>+n+<span class="hljs-string">"]: "</span>+<span class="hljs-built_in">random</span>[n]); <span class="hljs-comment">//Loop/Print unique array</span>
    }<span class="hljs-comment">//for(n</span>
}<span class="hljs-comment">//if(random)</span>

var i = Math.<span class="hljs-built_in">floor</span>(Math.<span class="hljs-built_in">random</span>()*<span class="hljs-built_in">random</span>.<span class="hljs-built_in">length</span>); <span class="hljs-comment">//get new random</span>
Ti.API.info(<span class="hljs-string">" the result is : "</span> + <span class="hljs-built_in">random</span>[i]); <span class="hljs-comment">//random array selected</span>
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="January 23rd 2014, 12:38:57 pm">January 23rd 2014</span>
								by <span class='authorname'>Craig Jones</span><br>
								<a class="icon-bg icon-link" href="question/161848/generating-unique-result-from-an-array#answer-274309" rel="permalink">permalink</a>
							</div>

							<h5>2 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>if im not wrong, this code eliminates duplicates in the array before randomizing right? what i meant was that if i were to randomize 3 results from the array, how do i make sure that the results displayed will be unique and free of duplicates.</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 24th 2014, 4:07:31 am">January 24th 2014</span>
											by <span class='authorname'>Chester Chung</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Yes that&#39;s correct, if it&#39;s not what your looking for then Christian&#39;s logic is correct.</p>
<p>You could push each random item selected from the original array to a new one, then each new random selected you would need to check to see if it&#39;s in the array or not. </p>
<pre><code class="hljs"><span class="hljs-built_in">Array</span>.prototype.in_array = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">p_val</span>)</span>{
<span class="hljs-pi">    'use strict'</span>;
    <span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>,
        l = <span class="hljs-number">0</span>; 
    <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>, l = <span class="hljs-keyword">this</span>.length; i &lt; l; i++) {
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>[i] === p_val) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        }
    }
    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
};
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="January 24th 2014, 6:57:27 am">January 24th 2014</span>
											by <span class='authorname'>Craig Jones</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>-1</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
