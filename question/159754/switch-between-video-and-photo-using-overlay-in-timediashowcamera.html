<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Switch between video and photo using overlay in Ti.Media.showCamera » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Switch between video and photo using overlay in Ti.Media.showCamera</h1>
		</header>
		<section>
			<p>Hi Guys, I have been struggling with this issue for a long time now and its driving me absolutely crazy. i cannot switch between record video and capture photo using overlay, If i set show control to true i can swipe left and right to active camera or video record but the default camera UI shows which i do not want and to make matters worse once you have captured the image or video it then shows the use image option which i also do not want. I want to be able to close the camera after capture. Titanium.Media.startVideoCapture() does not work if i use overlay it only works when i set show control to true and then swipe left, but when i do this Titanium.Media.takePicture() doesn&#39;t work. here is a sample of my code i really need help resolving this issue.  Thanks for your help in advance by the way i am developing for IOS and i am using titanium SDK version 3.1.3 GA </p>
<p>var overlay = Titanium.UI.createView({top:60});</p>
<pre><code class="hljs">var videoButton = Titanium.UI.createButton({
<span class="hljs-string">color:</span><span class="hljs-string">'#fff'</span>,
<span class="hljs-string">top :</span> <span class="hljs-number">36.5</span>,
<span class="hljs-string">height:</span><span class="hljs-number">39</span>,
<span class="hljs-string">width:</span><span class="hljs-number">142</span>,
<span class="hljs-string">right:</span><span class="hljs-number">10</span>,
<span class="hljs-string">backgroundImage:</span><span class="hljs-string">'../images/newImages/button.png'</span>
});

var videoimg = Titanium.UI.createImageView({
<span class="hljs-string">image:</span><span class="hljs-string">'../images/video.png'</span>,
<span class="hljs-string">textAlign:</span><span class="hljs-string">'center'</span>,
<span class="hljs-string">top:</span><span class="hljs-number">7</span>,
<span class="hljs-string">height:</span><span class="hljs-number">25</span>,
<span class="hljs-string">width:</span><span class="hljs-number">30</span>,
});

videoButton.add(videoimg);

var cameraButton = Titanium.UI.createButton({
<span class="hljs-string">backgroundImage:</span><span class="hljs-string">'../images/newImages/button.png'</span>,
<span class="hljs-string">color:</span><span class="hljs-string">'#fff'</span>,
<span class="hljs-string">top:</span> <span class="hljs-number">36.5</span>,
<span class="hljs-string">height:</span><span class="hljs-number">39</span>,
<span class="hljs-string">width:</span><span class="hljs-number">142</span>,
<span class="hljs-string">left:</span><span class="hljs-number">10</span> 
});

var cameraimg = Titanium.UI.createImageView({
<span class="hljs-string">image:</span><span class="hljs-string">'../images/camera.png'</span>,
<span class="hljs-string">textAlign:</span><span class="hljs-string">'center'</span>,
<span class="hljs-string">top:</span><span class="hljs-number">7</span>,
<span class="hljs-string">height:</span><span class="hljs-number">25</span>,
<span class="hljs-string">width:</span><span class="hljs-number">30</span>,
});

cameraButton.add(cameraimg);
</code></pre><p>videoButton.addEventListener(&#39;click&#39;, function(data){<br>    Titanium.Media.startVideoCapture();<br>});</p>
<p>cameraButton.addEventListener(&#39;click&#39;, function(data){<br>Titanium.Media.takePicture();<br>});</p>
<p>var toolbar = Ti.UI.createView({<br>        bottom:0,<br>        backgroundColor:&#39;black&#39;,<br>        height:100,<br>        width:&#39;100%&#39;<br>});</p>
<p>toolbar.add(cameraButton);<br>toolbar.add(videoButton);<br>overlay.add(toolbar);</p>
<p>var cameraTransform = Ti.UI.create2DMatrix();<br>cameraTransform = cameraTransform.scale(1);</p>
<p>Ti.Media.showCamera({<br>    success:function(event){<br>      Titanium.Media.hideCamera();<br>          if(event.mediaType === Ti.Media.MEDIA_TYPE_PHOTO){<br>           alert(&#39;image&#39;);<br>            }else if(event.mediaType === Ti.Media.MEDIA_TYPE_VIDEO){<br>          alert(&#39;video&#39;);<br>          }<br>    },<br>    overlay:overlay,<br>    animated:false,<br>    allowImageEditing:false,<br>    showControls:false,<br>    saveToPhotoGallery:false,<br>    autohide:false,<br>    allowEditing:false,<br>    transform:cameraTransform,<br>    videoQuality:Ti.Media.QUALITY_MEDIUM,<br>    mediaTypes:[Titanium.Media.MEDIA_TYPE_VIDEO, Titanium.Media.MEDIA_TYPE_PHOTO]<br>});</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="November 22nd 2013, 2:38:13 pm">November 22nd 2013</span>
				by <span class='authorname'>Antonio Ajewole</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>camera</span></li>
					
						<li><span class='tagname'>ios camera</span></li>
					
						<li><span class='tagname'>iphone</span></li>
					
						<li><span class='tagname'>overlay</span></li>
					
						<li><span class='tagname'>showcamera</span></li>
					
				</ul>
			

			<section>
				<h5>7 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Thanks for the code but without the code syntax is a little hard to read.</p>
<p>Quick tip; When you add code snippets or logs always add 3 <strong>~</strong> on a blank line above your code and another 3 <strong>~</strong> below you code on another blank line - you will see the difference when you preview the comment. (you are not being told off)</p>
<p>Inserted code should look like;</p>
<pre><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">something</span><span class="hljs-params">(obj)</span> </span>{
    <span class="hljs-comment">// do something</span>
}
alert(<span class="hljs-string">'Hello'</span>);
</code></pre><p>For further details click the captions on the mark-down bar for examples.</p>
</div>
							<div class="author">
								&mdash; commented <span title="November 22nd 2013, 2:52:58 pm">November 22nd 2013</span>
								by <span class='authorname'>Malcolm Hollingsworth</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Pls use this markdown syntax for code </p>
<p><code>~~~</code></p>
<p><code>&amp;#x2F;&amp;#x2F; code</code></p>
<p><code>~~~</code></p>
<p>otherwise it&#39;s not very readable ;)</p>
<pre><code class="hljs">var overlay = Titanium.UI.createView({
    <span class="hljs-string">top :</span> <span class="hljs-number">60</span>
});
var videoButton = Titanium.UI.createButton({
    <span class="hljs-string">color :</span> <span class="hljs-string">'#fff'</span>,
    <span class="hljs-string">top :</span> <span class="hljs-number">36.5</span>,
    <span class="hljs-string">height :</span> <span class="hljs-number">39</span>,
    <span class="hljs-string">width :</span> <span class="hljs-number">142</span>,
    <span class="hljs-string">right :</span> <span class="hljs-number">10</span>,
    <span class="hljs-string">backgroundImage :</span> <span class="hljs-string">'../images/newImages/button.png'</span>
});

var videoimg = Titanium.UI.createImageView({
    <span class="hljs-string">image :</span> <span class="hljs-string">'../images/video.png'</span>,
    <span class="hljs-string">textAlign :</span> <span class="hljs-string">'center'</span>,
    <span class="hljs-string">top :</span> <span class="hljs-number">7</span>,
    <span class="hljs-string">height :</span> <span class="hljs-number">25</span>,
    <span class="hljs-string">width :</span> <span class="hljs-number">30</span>,
});

videoButton.add(videoimg);

var cameraButton = Titanium.UI.createButton({
    <span class="hljs-string">backgroundImage :</span> <span class="hljs-string">'../images/newImages/button.png'</span>,
    <span class="hljs-string">color :</span> <span class="hljs-string">'#fff'</span>,
    <span class="hljs-string">top :</span> <span class="hljs-number">36.5</span>,
    <span class="hljs-string">height :</span> <span class="hljs-number">39</span>,
    <span class="hljs-string">width :</span> <span class="hljs-number">142</span>,
    <span class="hljs-string">left :</span> <span class="hljs-number">10</span>
});

var cameraimg = Titanium.UI.createImageView({
    <span class="hljs-string">image :</span> <span class="hljs-string">'../images/camera.png'</span>,
    <span class="hljs-string">textAlign :</span> <span class="hljs-string">'center'</span>,
    <span class="hljs-string">top :</span> <span class="hljs-number">7</span>,
    <span class="hljs-string">height :</span> <span class="hljs-number">25</span>,
    <span class="hljs-string">width :</span> <span class="hljs-number">30</span>,
});

cameraButton.add(cameraimg);
videoButton.addEventListener(<span class="hljs-string">'click'</span>, function(data) {
    Titanium.Media.startVideoCapture();
});
cameraButton.addEventListener(<span class="hljs-string">'click'</span>, function(data) {
    Titanium.Media.takePicture();
});
var toolbar = Ti.UI.createView({
    <span class="hljs-string">bottom :</span> <span class="hljs-number">0</span>,
    <span class="hljs-string">backgroundColor :</span> <span class="hljs-string">'black'</span>,
    <span class="hljs-string">height :</span> <span class="hljs-number">100</span>,
    <span class="hljs-string">width :</span> <span class="hljs-string">'100%'</span>
});
toolbar.add(cameraButton);
toolbar.add(videoButton);
overlay.add(toolbar);
var cameraTransform = Ti.UI.create2DMatrix();
cameraTransform = cameraTransform.scale(<span class="hljs-number">1</span>);
Ti.Media.showCamera({
    <span class="hljs-string">success :</span> function(event) {
        Titanium.Media.hideCamera();
        <span class="hljs-keyword">if</span> (event.mediaType === Ti.Media.MEDIA_TYPE_PHOTO) {
            alert(<span class="hljs-string">'image'</span>);
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (event.mediaType === Ti.Media.MEDIA_TYPE_VIDEO) {
            alert(<span class="hljs-string">'video'</span>);
        }
    },
    <span class="hljs-string">overlay :</span> overlay,
    <span class="hljs-string">animated :</span> <span class="hljs-literal">false</span>,
    <span class="hljs-string">allowImageEditing :</span> <span class="hljs-literal">false</span>,
    <span class="hljs-string">showControls :</span> <span class="hljs-literal">false</span>,
    <span class="hljs-string">saveToPhotoGallery :</span> <span class="hljs-literal">false</span>,
    <span class="hljs-string">autohide :</span> <span class="hljs-literal">false</span>,
    <span class="hljs-string">allowEditing :</span> <span class="hljs-literal">false</span>,
    <span class="hljs-string">transform :</span> cameraTransform,
    <span class="hljs-string">videoQuality :</span> Ti.Media.QUALITY_MEDIUM,
    <span class="hljs-string">mediaTypes :</span> [Titanium.Media.MEDIA_TYPE_VIDEO, Titanium.Media.MEDIA_TYPE_PHOTO]
});
</code></pre></div>
							<div class="author">
								&mdash; commented <span title="November 22nd 2013, 2:56:59 pm">November 22nd 2013</span>
								by <span class='authorname'>Manuel Lehner</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>sorry, i was too slow :(</p>
</div>
							<div class="author">
								&mdash; commented <span title="November 22nd 2013, 2:59:28 pm">November 22nd 2013</span>
								by <span class='authorname'>Manuel Lehner</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Thanks guys for the tip, how do i edit what i posted?</p>
</div>
							<div class="author">
								&mdash; commented <span title="November 22nd 2013, 3:03:12 pm">November 22nd 2013</span>
								by <span class='authorname'>Antonio Ajewole</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>and thanks @Manuel for adding a version of my code with markdown syntax :)</p>
</div>
							<div class="author">
								&mdash; commented <span title="November 22nd 2013, 3:10:42 pm">November 22nd 2013</span>
								by <span class='authorname'>Antonio Ajewole</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>You cannot edit a question - simply comment here as you have done.  I did not take the time to convert your code as I figured you would gain the knowledge in doing it yourself.</p>
<p>BTW your answer may very well depend on the platform(s) you are targeting which is why we also ask for them both here (above by me) and in the original question submission form.</p>
</div>
							<div class="author">
								&mdash; commented <span title="November 22nd 2013, 3:36:27 pm">November 22nd 2013</span>
								by <span class='authorname'>Malcolm Hollingsworth</span>
							</div>
						</li>
					
						<li class="comment">
							<div><pre><code class="hljs"> <span class="hljs-keyword">my</span> Target platform <span class="hljs-keyword">is</span> IPhone IOS <span class="hljs-number">6</span> <span class="hljs-keyword">and</span> <span class="hljs-keyword">above</span>
</code></pre></div>
							<div class="author">
								&mdash; commented <span title="November 22nd 2013, 5:54:58 pm">November 22nd 2013</span>
								by <span class='authorname'>Antonio Ajewole</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>0</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>0 Answers</h3>

	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
