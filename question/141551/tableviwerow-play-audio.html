<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>tableViweRow play audio?? » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>tableViweRow play audio??</h1>
		</header>
		<section>
			<p>hello is there anyway of making a TableViewRow play audio???i want to create a app with diffrent GENRE and when someone clicks the song in the row it will start playing…is there anyway??</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="August 27th 2012, 7:09:32 pm">August 27th 2012</span>
				by <span class='authorname'>Ronny Rodriguez</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>appcelerator</span></li>
					
						<li><span class='tagname'>application</span></li>
					
						<li><span class='tagname'>audio</span></li>
					
						<li><span class='tagname'>tableviewrow</span></li>
					
						<li><span class='tagname'>titanium</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-246127">
				
						<section>
							<p>Of course. Create a table view containing rows for each audio item. On click of the audio item, create an audio player and play the item. Here are the docs for the AudioPlayer: <a href="http:&#x2F;&#x2F;docs.appcelerator.com&#x2F;titanium&#x2F;2.1&#x2F;index.html#!&#x2F;api&#x2F;Titanium.Media.AudioPlayer">http:&#x2F;&#x2F;docs.appcelerator.com&#x2F;titanium&#x2F;2.1&#x2F;index.html#!&#x2F;api&#x2F;Titanium.Media.AudioPlayer</a></p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 27th 2012, 7:12:53 pm">August 27th 2012</span>
								by <span class='authorname'>Anthony Decena</span><br>
								<a class="icon-bg icon-link" href="../../question/141551/tableviwerow-play-audio.html#answer-246127" rel="permalink">permalink</a>
							</div>

							<h5>9 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>hi anthony is the code goes like this?</p>
<pre><code class="hljs">
<span class="hljs-keyword">var</span> win = Ti.UI.createWindow({
    title:<span class="hljs-string">'test'</span>,
    backgroundColor:<span class="hljs-string">'#fff'</span>,
    layout:<span class="hljs-string">'vertical'</span>,

});


<span class="hljs-keyword">var</span> tableView = Ti.UI.createTableView({
    data : [{
        title : <span class="hljs-string">'song1'</span>
    }, {
        title : <span class="hljs-string">'song2'</span>
    },{title:<span class="hljs-string">'song3'</span>},
    {title:<span class="hljs-string">'song4'</span>},
    {
        title:<span class="hljs-string">'song5'</span>
    }]
}); 


tableView.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span></span>{

    <span class="hljs-keyword">if</span> (e.index == <span class="hljs-number">0</span>){
      <span class="hljs-keyword">var</span> audioPlayer = Ti.Media.createAudioPlayer({ 
        url: <span class="hljs-string">'https://s3.amazonaws.com/music1127/10+porque+te+vas.mp'</span>,
        allowBackground: <span class="hljs-literal">true</span>
    });  



    <span class="hljs-keyword">if</span> (e.index == <span class="hljs-number">1</span>){
        <span class="hljs-comment">//Click al segundo RoW</span>
        <span class="hljs-keyword">var</span> newWindow = Ti.UI.createWindow({
            title : <span class="hljs-string">'Nueva Ventana 2'</span>,
            backgroundColor : <span class="hljs-string">'white'</span>
        });
        <span class="hljs-keyword">var</span> backBtn = Ti.UI.createButton({ title : <span class="hljs-string">'Back'</span> });

backBtn.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span></span>{
    newWindow.close();
});
newWindow.setLeftNavButton(backBtn);
        newWindow.open({
            modal : <span class="hljs-literal">true</span>,
            animated : <span class="hljs-literal">true</span>
        });
    }
   <span class="hljs-keyword">if</span>(e.index ==<span class="hljs-number">2</span>){
        <span class="hljs-comment">//Click al segundo RoW</span>
        <span class="hljs-keyword">var</span> newWindow = Ti.UI.createWindow({
            title : <span class="hljs-string">'Nueva Ventana 2'</span>,
            backgroundColor : <span class="hljs-string">'white'</span>

        });
        <span class="hljs-keyword">var</span> backBtn = Ti.UI.createButton({ title : <span class="hljs-string">'Back'</span> });

backBtn.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span></span>{
    newWindow.close();
});
newWindow.setLeftNavButton(backBtn);
        newWindow.open({
            modal : <span class="hljs-literal">true</span>,
            animated : <span class="hljs-literal">true</span> 
});
}
<span class="hljs-keyword">if</span>(e.index ==<span class="hljs-number">3</span>){
        <span class="hljs-comment">//Click al segundo RoW</span>
        <span class="hljs-keyword">var</span> newWindow = Ti.UI.createWindow({
            title : <span class="hljs-string">'Nueva Ventana 2'</span>,
            backgroundColor : <span class="hljs-string">'white'</span>

        });
        <span class="hljs-keyword">var</span> backBtn = Ti.UI.createButton({ title : <span class="hljs-string">'Back'</span> });

backBtn.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span></span>{
    newWindow.close();
});
newWindow.setLeftNavButton(backBtn);
        newWindow.open({
            modal : <span class="hljs-literal">true</span>,
            animated : <span class="hljs-literal">true</span> 
});
}
<span class="hljs-keyword">if</span>(e.index ==<span class="hljs-number">4</span>){
        <span class="hljs-comment">//Click al segundo RoW</span>
        <span class="hljs-keyword">var</span> newWindow = Ti.UI.createWindow({
            title : <span class="hljs-string">'problema'</span>,
            backgroundColor : <span class="hljs-string">'white'</span>

        });
        <span class="hljs-keyword">var</span> backBtn = Ti.UI.createButton({ title : <span class="hljs-string">'Back'</span> });


backBtn.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span></span>{
    newWindow.close();
});
newWindow.setLeftNavButton(backBtn);
        newWindow.open({
            modal : <span class="hljs-literal">true</span>,
            animated : <span class="hljs-literal">true</span> 
});
}
<span class="hljs-keyword">if</span>(e.index ==<span class="hljs-number">5</span>){
        <span class="hljs-comment">//Click al segundo RoW</span>
        <span class="hljs-keyword">var</span> newWindow = Ti.UI.createWindow({
            title : <span class="hljs-string">'problema'</span>,
            backgroundColor : <span class="hljs-string">'white'</span>

        });
        <span class="hljs-keyword">var</span> backBtn = Ti.UI.createButton({ title : <span class="hljs-string">'Back'</span> });


backBtn.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span></span>{
    newWindow.close();
});
newWindow.setLeftNavButton(backBtn);
        newWindow.open({
            modal : <span class="hljs-literal">true</span>,


});
}
});
win.add(tableView);
win.open();
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="August 27th 2012, 7:54:19 pm">August 27th 2012</span>
											by <span class='authorname'>Ronny Rodriguez</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>When you write your code like that, you create a bunch of unnecessary if statements within your click handler. You don&#39;t need an if statement for every index that can be clicked on. This is all you have to do:</p>
<pre><code class="hljs"><span class="hljs-comment">// create an reusable audio player </span>
var audioPlayer = Ti.Media.createAudioPlayer({ 
<span class="hljs-label">    url:</span><span class="hljs-string">''</span>,
<span class="hljs-label">    allowBackground:</span><span class="hljs-literal">true</span>
}); 
<span class="hljs-comment">// create a data array of song titles and urls </span>
var data = [
    {<span class="hljs-string">title:</span><span class="hljs-string">'Song1'</span>, <span class="hljs-string">url:</span><span class="hljs-string">'https://s3.amazonaws.com/music1127/10+porque+te+vas.mp3'</span>},
    {<span class="hljs-string">title:</span><span class="hljs-string">'Song2'</span>, <span class="hljs-string">url:</span><span class="hljs-string">'https://s3.amazonaws.com/music1127/10+porque+te+vas.mp3'</span>},
    {<span class="hljs-string">title:</span><span class="hljs-string">'Song3'</span>, <span class="hljs-string">url:</span><span class="hljs-string">'https://s3.amazonaws.com/music1127/10+porque+te+vas.mp3'</span>},
    {<span class="hljs-string">title:</span><span class="hljs-string">'Song4'</span>, <span class="hljs-string">url:</span><span class="hljs-string">'https://s3.amazonaws.com/music1127/10+porque+te+vas.mp3'</span>},
];
<span class="hljs-comment">// create the table with the data array</span>
var tableView = Ti.UI.createTableView({<span class="hljs-string">data:</span>data});

<span class="hljs-comment">// listen for clicks on the table rows</span>
tableView.addEventListener(<span class="hljs-string">'click'</span>, function(e) {
    <span class="hljs-comment">// if the player is already playing, stop it</span>
    <span class="hljs-keyword">if</span> (audioPlayer.playing || audioPlayer.paused) {
        audioPlayer.stop();
        <span class="hljs-keyword">if</span> (Ti.Platform.name === <span class="hljs-string">'android'</span>) { 
            audioPlayer.release();
        }   
    }

    <span class="hljs-comment">// get the url from the row data</span>
    var url = e.rowData.url;
    <span class="hljs-comment">// set the url and play the audio</span>
    audioPlayer.setUrl(url);
    audioPlayer.play();
});
win.add(tableView);
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="August 27th 2012, 8:24:08 pm">August 27th 2012</span>
											by <span class='authorname'>Anthony Decena</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Thanks!!Music is not playing on samsung galaxy skyrocket..any ideas</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 27th 2012, 8:45:38 pm">August 27th 2012</span>
											by <span class='authorname'>Ronny Rodriguez</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Im starting to see a patter here. Every time you have an issue on device, the Skyrocket seems to be the common thread. I don&#39;t have a skyrocket so there is no way to really test this except to say that it seems to work fine on a Droid X2. The only way to get more info is to get the logs from your device to dig in more.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 27th 2012, 9:58:09 pm">August 27th 2012</span>
											by <span class='authorname'>Anthony Decena</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>But it doesnt work on the emulator as well…</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 27th 2012, 9:59:10 pm">August 27th 2012</span>
											by <span class='authorname'>Ronny Rodriguez</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Ronny man, when something doesn&#39;t work, the best thing you can do is share the error log. Error logs give us a place to start. I went ahead and loaded the code above and see that you were right, it doesn&#39;t seem to run on Android, but its not because of the code, its because of the asset. The mp3 on your server is not getting served in a way that Android likes. Maybe streaming isn&#39;t turned on, or maybe the mp3 itself is not right somehow (im going to go with the former). You can see this by replacing your asset with this:</p>
<pre><code class="hljs"><span class="hljs-string">http:</span><span class="hljs-comment">//gbcga.com/media/2012-08-26-1300.mp3</span>
</code></pre><p>That mp3 is 52 minutes long and loads in seconds. So my advice to you would be to make sure that your s3 bucket is set up for streaming and make sure that your asset permissions are set for streaming as well.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 28th 2012, 1:29:39 pm">August 28th 2012</span>
											by <span class='authorname'>Anthony Decena</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>hello anthony i also tried on IOS and still doesnt work…i get this error on console</p>
<pre><code class="hljs">
var win = Ti.UI.createWindow({
<span class="hljs-label">    title:</span><span class="hljs-string">'test'</span>,
<span class="hljs-label">    backgroundColor:</span><span class="hljs-string">'#fff'</span>,
<span class="hljs-label">    layout:</span><span class="hljs-string">'vertical'</span>,

});

<span class="hljs-comment">// create an reusable audio player </span>
var audioPlayer = Ti.Media.createAudioPlayer({ 
<span class="hljs-label">    url:</span><span class="hljs-string">''</span>,
<span class="hljs-label">    allowBackground:</span><span class="hljs-literal">true</span>
}); 
<span class="hljs-comment">// create a data array of song titles and urls </span>
var data = [
    {<span class="hljs-string">title:</span><span class="hljs-string">'Song1'</span>, <span class="hljs-string">url:</span><span class="hljs-string">'https://s3.amazonaws.com/music1127/10+porque+te+vas.mp3'</span>},
    {<span class="hljs-string">title:</span><span class="hljs-string">'Song2'</span>, <span class="hljs-string">url:</span><span class="hljs-string">'https://s3.amazonaws.com/music1127/10+porque+te+vas.mp3'</span>},
    {<span class="hljs-string">title:</span><span class="hljs-string">'Song3'</span>, <span class="hljs-string">url:</span><span class="hljs-string">'https://s3.amazonaws.com/music1127/10+porque+te+vas.mp3'</span>},
    {<span class="hljs-string">title:</span><span class="hljs-string">'Song4'</span>, <span class="hljs-string">url:</span><span class="hljs-string">'https://s3.amazonaws.com/music1127/10+porque+te+vas.mp3'</span>},
];
<span class="hljs-comment">// create the table with the data array</span>
var tableView = Ti.UI.createTableView({<span class="hljs-string">data:</span>data});

<span class="hljs-comment">// listen for clicks on the table rows</span>
tableView.addEventListener(<span class="hljs-string">'click'</span>, function(e) {
    <span class="hljs-comment">// if the player is already playing, stop it</span>
    <span class="hljs-keyword">if</span> (audioPlayer.playing || audioPlayer.paused) {
        audioPlayer.stop();
        <span class="hljs-keyword">if</span> (Ti.Platform.name === <span class="hljs-string">'android'</span>) { 
            audioPlayer.release();
        }   
    }

    <span class="hljs-comment">// get the url from the row data</span>
    var url = e.rowData.url;
    <span class="hljs-comment">// set the url and play the audio</span>
    audioPlayer.setUrl(url);
    audioPlayer.play();
});
win.add(tableView);
win.open();
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="August 28th 2012, 5:40:10 pm">August 28th 2012</span>
											by <span class='authorname'>Ronny Rodriguez</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>sorry wrong code..this is the error</p>
<pre><code class="hljs">[WARN] Exception in event callback. {
    line = 38<span class="hljs-comment">;</span>
    message = "'undefined' is not a function (evaluating 'audioPlayer.play()')"<span class="hljs-comment">;</span>
    name = TypeError<span class="hljs-comment">;</span>
    sourceId = <span class="hljs-number">166144288</span><span class="hljs-comment">;</span>
    sourceURL = "file://localhost/Users/kingproduction/Library/Application%20Support/iPhone%20Simulator/5.1/Applications/<span class="hljs-number">462221A6-16</span>DE-4F2E-<span class="hljs-number">8795-37485</span>17EB57E/commonjs.app/app.js"<span class="hljs-comment">;</span>
}
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="August 28th 2012, 5:41:32 pm">August 28th 2012</span>
											by <span class='authorname'>Ronny Rodriguez</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>try <code>audioPlayer.start()</code></p>
</p>
										<div class="author">
											&mdash; commented <span title="August 28th 2012, 5:49:01 pm">August 28th 2012</span>
											by <span class='authorname'>Anthony Decena</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
