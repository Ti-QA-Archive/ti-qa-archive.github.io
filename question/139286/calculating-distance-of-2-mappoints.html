<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Calculating Distance of 2 MapPoints » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Calculating Distance of 2 MapPoints</h1>
		</header>
		<section>
			<p>Is is right that there is no function that calculates the distance between 2 Points on a Map?</p>
<p>Does everyone who needs this have to implement it on his own?</p>
<p>Best Regards,<br>Martin</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="July 5th 2012, 10:56:09 am">July 5th 2012</span>
				by <span class='authorname'>Martin Golpashin</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>calculate</span></li>
					
						<li><span class='tagname'>distance</span></li>
					
						<li><span class='tagname'>map</span></li>
					
						<li><span class='tagname'>mapview</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>1</span> Vote</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-242557">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>Hello Martin,</p>
<p>No, it&#39;s not Right.<br>We can calculate the distance between 2 points on a map.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="July 5th 2012, 11:06:17 am">July 5th 2012</span>
								by <span class='authorname'>Sarafaraz Babi</span><br>
								<a class="icon-bg icon-link" href="question/139286/calculating-distance-of-2-mappoints#answer-242557" rel="permalink">permalink</a>
							</div>

							<h5>9 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>I am using this function and it&#39;s working fine for me..</p>
<pre><code class="hljs"><span class="xml">var countDistanceByMiles = function(cLat, cLon, lt, ln) </span><span class="hljs-expression">{
    <span class="hljs-variable">var</span> <span class="hljs-variable">distance</span> = 3959 * <span class="hljs-variable"><span class="hljs-keyword">Math</span>.acos</span>(<span class="hljs-variable"><span class="hljs-keyword">Math</span>.cos</span>((<span class="hljs-variable">cLat</span> * <span class="hljs-variable"><span class="hljs-keyword">Math</span>.PI</span>) <span class="hljs-end-block">/ </span>180) * <span class="hljs-variable"><span class="hljs-keyword">Math</span>.cos</span>((<span class="hljs-variable"><span class="hljs-keyword">lt</span></span> * <span class="hljs-variable"><span class="hljs-keyword">Math</span>.PI</span>) <span class="hljs-end-block">/ </span>180) * <span class="hljs-variable"><span class="hljs-keyword">Math</span>.cos</span>((<span class="hljs-variable">ln</span> * <span class="hljs-variable"><span class="hljs-keyword">Math</span>.PI</span>) <span class="hljs-end-block">/ </span>180 <span class="hljs-variable">-</span> (<span class="hljs-variable">cLon</span> * <span class="hljs-variable"><span class="hljs-keyword">Math</span>.PI</span>) <span class="hljs-end-block">/ </span>180) + <span class="hljs-variable"><span class="hljs-keyword">Math</span>.sin</span>((<span class="hljs-variable">cLat</span> * <span class="hljs-variable"><span class="hljs-keyword">Math</span>.PI</span>) <span class="hljs-end-block">/ </span>180) * <span class="hljs-variable"><span class="hljs-keyword">Math</span>.sin</span>((<span class="hljs-variable"><span class="hljs-keyword">lt</span></span> * <span class="hljs-variable"><span class="hljs-keyword">Math</span>.PI</span>) <span class="hljs-end-block">/ </span>180));
    <span class="hljs-variable">distance</span> = <span class="hljs-variable"><span class="hljs-keyword">Math</span>.round</span>((<span class="hljs-variable">distance</span> * 100)) <span class="hljs-end-block">/ </span>100;
    <span class="hljs-variable">return</span> <span class="hljs-variable">distance</span>;
}</span><span class="xml"></span>
</code></pre><p>here cLat,cLon is you source and lt and ln is your destination co-ordinates.</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 5th 2012, 11:10:05 am">July 5th 2012</span>
											by <span class='authorname'>Sarafaraz Babi</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>thanks sarafaraz, this worked for me. Could you give me the source of this equation or give a short explanation about how this works?<br>Thanks a lot!</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 28th 2012, 8:51:44 am">August 28th 2012</span>
											by <span class='authorname'>Martin Golpashin</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>what&#39;s the scale of the distance, meters or?</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 28th 2012, 11:55:56 pm">August 28th 2012</span>
											by <span class='authorname'>kent hao</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>hey martin i don&#39;t know about source..i just took it from the other source and it&#39;s working for me that&#39;s it…i don&#39;t know even how actually it calculates…sorry..! but i knew that it&#39;s working perfect.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 29th 2012, 2:49:19 am">August 29th 2012</span>
											by <span class='authorname'>Sarafaraz Babi</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>hey kent it&#39;s returning distance in miles.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 29th 2012, 2:50:08 am">August 29th 2012</span>
											by <span class='authorname'>Sarafaraz Babi</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I found an explanation for a slightly different equation<br><a href="http:&#x2F;&#x2F;www.movable-type.co.uk&#x2F;scripts&#x2F;latlong.html">http:&#x2F;&#x2F;www.movable-type.co.uk&#x2F;scripts&#x2F;latlong.html</a></p>
</p>
										<div class="author">
											&mdash; commented <span title="August 29th 2012, 7:23:50 am">August 29th 2012</span>
											by <span class='authorname'>Martin Golpashin</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>that&#39;s nice martin…</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 31st 2012, 3:29:12 am">August 31st 2012</span>
											by <span class='authorname'>Sarafaraz Babi</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>i am sending my source code. and in this first latitude and longitude will be the user and next two will bw for friends lat lng.</p>
<p> Number.prototype.toDeg = function() {<br>                             return this <em> 180 &#x2F; Math.PI;<br>                         }<br>                Number.prototype.toRad = function() {<br>                             return this </em> Math.PI &#x2F; 180;<br>                         }   </p>
<pre><code class="hljs">        <span class="hljs-keyword">var</span> lat1,lon1,lat2,lon2;
          lat1=latitude;
          lon1=longitude; 
          lat2=friend_lat;
          lon2=friend_lng;    
        <span class="hljs-comment">//alert(lat1 +' '+ lon1 +' '+ lat2 +' '+lon2);</span>
        <span class="hljs-keyword">var</span> R= <span class="hljs-number">6371</span>; <span class="hljs-comment">// km</span>
        <span class="hljs-comment">//alert(R);</span>
          <span class="hljs-keyword">var</span> dLat = (lat2-lat1).toRad();
          <span class="hljs-comment">//alert(dLat);</span>
          <span class="hljs-keyword">var</span> dLon = (lon2-lon1).toRad();
 <span class="hljs-keyword">var</span> a = <span class="hljs-built_in">Math</span>.sin(dLat/<span class="hljs-number">2</span>) * <span class="hljs-built_in">Math</span>.sin(dLat/<span class="hljs-number">2</span>) +
    <span class="hljs-built_in">Math</span>.sin(dLon/<span class="hljs-number">2</span>) * <span class="hljs-built_in">Math</span>.sin(dLon/<span class="hljs-number">2</span>) * <span class="hljs-built_in">Math</span>.cos(lat1) * <span class="hljs-built_in">Math</span>.cos(lat2);    

          <span class="hljs-keyword">var</span> c = <span class="hljs-number">2</span> * <span class="hljs-built_in">Math</span>.atan2(<span class="hljs-built_in">Math</span>.sqrt(a), <span class="hljs-built_in">Math</span>.sqrt(<span class="hljs-number">1</span>-a)); 
          <span class="hljs-comment">// alert('working');</span>
           <span class="hljs-keyword">var</span> d = R * c;
          <span class="hljs-comment">// alert(d);</span>
         <span class="hljs-comment">// // return d;</span>
          Ti.API.debug(d + <span class="hljs-string">" km"</span>);
      <span class="hljs-comment">//   alert(d + " km");</span>
       <span class="hljs-keyword">var</span> invitefriend_user_distance = Ti.UI.createLabel({
                             color: <span class="hljs-string">'#4e69a2'</span>,
                             font: { 
                             fontSize:<span class="hljs-number">18</span>,
                             fontWeight: <span class="hljs-string">'bold'</span>,
                             fontFamily:<span class="hljs-string">'ThisApp.FONTBOLD'</span>,
                              },
                            text:d.toFixed(<span class="hljs-number">2</span>) + <span class="hljs-string">" km"</span>,
                             <span class="hljs-comment">//text:'distance',</span>
                             left:<span class="hljs-string">'65%'</span>,
                             top:<span class="hljs-number">40</span>,
                             width: <span class="hljs-string">'auto'</span>, 
                             height: <span class="hljs-number">24</span>,
                             backgroundImage:<span class="hljs-string">'none'</span>
                     });
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="September 19th 2013, 8:37:55 am">September 19th 2013</span>
											by <span class='authorname'>supriya pandey</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>@ supriya, Keep updating answers…Thanks :)</p>
</p>
										<div class="author">
											&mdash; commented <span title="September 19th 2013, 9:18:30 am">September 19th 2013</span>
											by <span class='authorname'>Sarafaraz Babi</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-242558">
				
						<section>
							<p>Hum .. so yes actually you do have to implement the code to calculate the two points yourself. Their isn&#39;t anything built into titanium to do it for you …</p>
<p>You can use the Havesine formula for calculating the distance between two points, which is contained within the ArTi open source application code. Or you can search the web for an alternative javascript function to do so.</p>
<p>Remember though that the distance will be as the crow flies, so if your routing you will have to do it for each turn etc ….</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="July 5th 2012, 11:16:05 am">July 5th 2012</span>
								by <span class='authorname'>Trevor Ward</span><br>
								<a class="icon-bg icon-link" href="question/139286/calculating-distance-of-2-mappoints#answer-242558" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
