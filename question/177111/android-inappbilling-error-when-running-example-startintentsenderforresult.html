<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Android InappBilling Error when running example: startIntentSenderForResult » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Android InappBilling Error when running example: startIntentSenderForResult</h1>
		</header>
		<section>
			<p>I am getting the below error when trying to make purchases. I am using titanium SDK 3.3.0 and the Android version on device is running 4.0.3.</p>
<p>I added to the android manifest:</p>
<pre><code class="hljs">    <span class="hljs-tag">&lt;<span class="hljs-title">android</span> <span class="hljs-attribute">xmlns:android</span>=<span class="hljs-value">"http://schemas.android.com/apk/res/android"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">manifest</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">uses-permission</span> <span class="hljs-attribute">android:name</span>=<span class="hljs-value">"com.android.vending.BILLING"</span> /&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">manifest</span>&gt;</span>
     <span class="hljs-tag">&lt;/<span class="hljs-title">android</span>&gt;</span>
</code></pre><p>Error:</p>
<pre><code class="hljs"><span class="hljs-list">[<span class="hljs-keyword">INFO</span>] :   queryInventory
<span class="hljs-list">[<span class="hljs-keyword">INFO</span>] :   Query Inventory response: OK
<span class="hljs-list">[<span class="hljs-keyword">INFO</span>] :   subscriptionsSupported: true
<span class="hljs-list">[<span class="hljs-keyword">INFO</span>] :   queryInventory
<span class="hljs-list">[<span class="hljs-keyword">INFO</span>] :   Query Inventory response: OK
<span class="hljs-list">[<span class="hljs-keyword">INFO</span>] :   purchase gas
<span class="hljs-list">[<span class="hljs-keyword">INFO</span>] :   dalvikvm: Could not find method android.app.Activity.startIntentSenderForResult, referenced from method org.appcelerator.titanium.util.TiActivitySupportHelper.launchIntentSenderForResult
<span class="hljs-list">[<span class="hljs-keyword">WARN</span>] :   dalvikvm: VFY: unable to resolve virtual method <span class="hljs-number">146</span>: Landroid/app/Activity<span class="hljs-comment">;.startIntentSenderForResult (Landroid/content/IntentSender;ILandroid/content/Intent;IIILandroid/os/Bundle;)V</span>
<span class="hljs-list">[<span class="hljs-keyword">DEBUG</span>] :  dalvikvm: VFY: replacing opcode <span class="hljs-number">0</span>x74 at <span class="hljs-number">0</span>x0016
<span class="hljs-list">[<span class="hljs-keyword">WARN</span>] :   W/System.err: java.lang.NoSuchMethodError: android.app.Activity.startIntentSenderForResult
<span class="hljs-list">[<span class="hljs-keyword">WARN</span>] :   W/System.err:     at org.appcelerator.titanium.util.TiActivitySupportHelper.launchIntentSenderForResult<span class="hljs-list">(<span class="hljs-keyword">TiActivitySupportHelper.java:92</span>)</span>
<span class="hljs-list">[<span class="hljs-keyword">WARN</span>] :   W/System.err:     at org.appcelerator.titanium.TiBaseActivity.launchIntentSenderForResult<span class="hljs-list">(<span class="hljs-keyword">TiBaseActivity.java:615</span>)</span>
<span class="hljs-list">[<span class="hljs-keyword">WARN</span>] :   W/System.err:     at ti.inappbilling.util.IabHelper.launchPurchaseFlow<span class="hljs-list">(<span class="hljs-keyword">IabHelper.java:425</span>)</span>
<span class="hljs-list">[<span class="hljs-keyword">WARN</span>] :   W/System.err:     at ti.inappbilling.InappbillingModule.purchase<span class="hljs-list">(<span class="hljs-keyword">InappbillingModule.java:219</span>)</span>
<span class="hljs-list">[<span class="hljs-keyword">WARN</span>] :   W/System.err:     at org.appcelerator.kroll.runtime.v8.V8Object.nativeFireEvent<span class="hljs-list">(<span class="hljs-keyword">Native</span> Method)</span>
<span class="hljs-list">[<span class="hljs-keyword">WARN</span>] :   W/System.err:     at org.appcelerator.kroll.runtime.v8.V8Object.fireEvent<span class="hljs-list">(<span class="hljs-keyword">V8Object.java:64</span>)</span>
<span class="hljs-list">[<span class="hljs-keyword">WARN</span>] :   W/System.err:     at org.appcelerator.kroll.KrollProxy.doFireEvent<span class="hljs-list">(<span class="hljs-keyword">KrollProxy.java:884</span>)</span>
<span class="hljs-list">[<span class="hljs-keyword">WARN</span>] :   W/System.err:     at org.appcelerator.kroll.KrollProxy.handleMessage<span class="hljs-list">(<span class="hljs-keyword">KrollProxy.java:1107</span>)</span>
<span class="hljs-list">[<span class="hljs-keyword">WARN</span>] :   W/System.err:     at org.appcelerator.titanium.proxy.TiViewProxy.handleMessage<span class="hljs-list">(<span class="hljs-keyword">TiViewProxy.java:347</span>)</span>
<span class="hljs-list">[<span class="hljs-keyword">WARN</span>] :   W/System.err:     at ti.modules.titanium.ui.TableViewProxy.handleMessage<span class="hljs-list">(<span class="hljs-keyword">TableViewProxy.java:942</span>)</span>
<span class="hljs-list">[<span class="hljs-keyword">WARN</span>] :   W/System.err:     at android.os.Handler.dispatchMessage<span class="hljs-list">(<span class="hljs-keyword">Handler.java:95</span>)</span>
<span class="hljs-list">[<span class="hljs-keyword">WARN</span>] :   W/System.err:     at android.os.Looper.loop<span class="hljs-list">(<span class="hljs-keyword">Looper.java:154</span>)</span>
<span class="hljs-list">[<span class="hljs-keyword">WARN</span>] :   W/System.err:     at org.appcelerator.kroll.KrollRuntime$KrollRuntimeThread.run<span class="hljs-list">(<span class="hljs-keyword">KrollRuntime.java:112</span>)</span>
<span class="hljs-list">[<span class="hljs-keyword">ERROR</span>] :  TiExceptionHandler: <span class="hljs-list">(<span class="hljs-keyword">main</span>)</span> <span class="hljs-list">[<span class="hljs-keyword">33724</span>,<span class="hljs-number">33724</span>] ----- Titanium Javascript Runtime Error -----
<span class="hljs-list">[<span class="hljs-keyword">ERROR</span>] :  TiExceptionHandler: <span class="hljs-list">(<span class="hljs-keyword">main</span>)</span> <span class="hljs-list">[<span class="hljs-keyword">1</span>,<span class="hljs-number">33725</span>] - In app.js:89,<span class="hljs-number">26</span>
<span class="hljs-list">[<span class="hljs-keyword">ERROR</span>] :  TiExceptionHandler: <span class="hljs-list">(<span class="hljs-keyword">main</span>)</span> <span class="hljs-list">[<span class="hljs-keyword">3</span>,<span class="hljs-number">33728</span>] - Message: Uncaught Error: android.app.Activity.startIntentSenderForResult
<span class="hljs-list">[<span class="hljs-keyword">ERROR</span>] :  TiExceptionHandler: <span class="hljs-list">(<span class="hljs-keyword">main</span>)</span> <span class="hljs-list">[<span class="hljs-keyword">1</span>,<span class="hljs-number">33729</span>] - Source:             InAppBilling.purchase<span class="hljs-list">({
<span class="hljs-list">[<span class="hljs-keyword">ERROR</span>] :  V8Exception: Exception occurred at app.js:89: Uncaught Error: android.app.Activity.startIntentSenderForResult</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span>
</code></pre>
		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="August 19th 2014, 9:46:44 am">August 19th 2014</span>
				by <span class='authorname'>Michael Zaladonis</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>inappbilling</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>2</span> Votes</div>
			<div class="answers"><span>3</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>3 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-281847">
				
						<section>
							<p>I got the same error with ti.inappbilling 3.0.0 or 3.0.1</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 22nd 2014, 6:17:37 am">August 22nd 2014</span>
								by <span class='authorname'>Aee Q</span><br>
								<a class="icon-bg icon-link" href="question/177111/android-inappbilling-error-when-running-example-startintentsenderforresult#answer-281847" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-282152">
				
						<section>
							<p>Has anyone made any progress on this? This sort of makes it impossible to really use Titanium with Android to do anything useful.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="September 4th 2014, 6:14:36 pm">September 4th 2014</span>
								by <span class='authorname'>Nacho Bonfire</span><br>
								<a class="icon-bg icon-link" href="question/177111/android-inappbilling-error-when-running-example-startintentsenderforresult#answer-282152" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-283476">
				
						<section>
							<p>I&#39;ve been using V3.0.1 for a few weeks now and every other version of Android seems to be working fine, except for 4.0.3 and 4.0.4. I have no devices running these versions of Android so it makes it impossible for me to test. The support emails that come through with this error state that the Google Play payment notification box never pops up when they click buy now in our app, BUT the restore purchases functions are working just fine. It&#39;s frustrating, but at least know it&#39;s a very isolated error (or so it seems). Wish I could offer more help…</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="October 29th 2014, 3:29:17 pm">October 29th 2014</span>
								by <span class='authorname'>Nathan Follmer</span><br>
								<a class="icon-bg icon-link" href="question/177111/android-inappbilling-error-when-running-example-startintentsenderforresult#answer-283476" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
