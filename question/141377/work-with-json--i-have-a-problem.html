<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Work with json , i have a problem. » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Work with json , i have a problem.</h1>
		</header>
		<section>
			<p>hello to all you guys! I wanted to make an app that was easy to update, and I immediately thought of the use of json.I watched and analyzed this example: <a href="https:&#x2F;&#x2F;wiki.appcelerator.org&#x2F;display&#x2F;guides&#x2F;Handling+Remote+Data+with+HTTPClient+and+JSON">example</a> and this would be perfect for me, except in one case.</p>
<p>Always using the example of the link that I posted, I ask you this: I would not start that as soon as the application elements are not loaded from json, that&#39;s why I should be only the first time you download the application here from the AppStore and having the active connection may also be able to connect to the json file on my server. Then if the user starts the app one more time, maybe not having an active connection, how do you load the latest data from json file? Here I wanted to know if it was possible to use the json file to download updated data, only when there was an active connection (for example, I could put a button &quot;update data&quot;), and use default data inside the app when the &#39;user could not connect to the Internet. But once updated the app using the &quot;update data&quot; these data were saved as the default data within the application. In this way the application will always have the latest data.</p>
<p>Thank you and I hope I was clear.</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="August 23rd 2012, 9:59:11 am">August 23rd 2012</span>
				by <span class='authorname'>nicolò monili</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>ios</span></li>
					
						<li><span class='tagname'>javascript json</span></li>
					
						<li><span class='tagname'>json</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-245900">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>I would start with a full copy of a default JSON file in your app.</p>
<p>Use a variable to reference its location through out your app.  Then in the future (when a button is pressed, etc) you can change the variable to point to a downloaded version of the JSON file and apply the requisite changes.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 23rd 2012, 10:09:37 am">August 23rd 2012</span>
								by <span class='authorname'>Stephen Feather</span><br>
								<a class="icon-bg icon-link" href="../../question/141377/work-with-json--i-have-a-problem.html#answer-245900" rel="permalink">permalink</a>
							</div>

							<h5>28 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>You will need to be caching your remote JSON to the file system, or, depending on its size, maybe load it into a Ti.App.property.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 23rd 2012, 10:10:53 am">August 23rd 2012</span>
											by <span class='authorname'>Stephen Feather</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>So in the meantime THANK YOU VERY MUCH for the GREAT answer!</p>
<p>So if I understand correctly I should do so:</p>
<ul>
<li>I create my json file</li>
<li>I put a copy of the json  file on the server </li>
<li><p>And one inside the app</p>
</li>
<li><p>Within the app I create variables that I need, and fill this variable with data taken from local json.</p>
</li>
<li><p>When I press the button &quot;update data&quot;, this variable change in value, taking data from json file server</p>
</li>
</ul>
<p>ok?</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 23rd 2012, 10:22:35 am">August 23rd 2012</span>
											by <span class='authorname'>nicolò monili</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>The JSON data is loaded into a variable at some point, so it doesn&#39;t matter if it comes from a local file into that variable or a remote file, or from a property where you stored the data.</p>
<h3 id="file-store">File Store</h3>
<ol>
<li>first run, copy your packaged myfile.json to a location outside of the Resource directory so it can be writable. will have to set a flag&#x2F;semaphore so you only do this on first install.</li>
<li>load the json into a variable from the new location (not the one in resources)</li>
<li>parse&#x2F;use data as required</li>
<li>download myfile.json from remote server, save over the myfile.json stored outside of Resource directory</li>
<li>reload data from the updated json file</li>
<li>refresh UI as needed</li>
</ol>
</p>
										<div class="author">
											&mdash; commented <span title="August 23rd 2012, 10:33:25 am">August 23rd 2012</span>
											by <span class='authorname'>Stephen Feather</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>to the point one can use this method right?</p>
<pre><code class="hljs"><span class="hljs-keyword">if</span> (!Ti.App.Properties.hasProperty(<span class="hljs-string">'installed'</span>){
    <span class="hljs-comment">// load json</span>
    Ti.App.Properties.setBool(<span class="hljs-string">'installed'</span>, <span class="hljs-number">1</span>);
}
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="August 23rd 2012, 10:38:41 am">August 23rd 2012</span>
											by <span class='authorname'>nicolò monili</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Yup, thats a great way to check if you are a new install.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 23rd 2012, 10:49:03 am">August 23rd 2012</span>
											by <span class='authorname'>Stephen Feather</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>perfect. tonight I feel the whole mechanism and if there are problems let you know :)</p>
<p>if it works, however, if you agree post the solution on the forum that could help other people who had my problem.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 23rd 2012, 10:51:25 am">August 23rd 2012</span>
											by <span class='authorname'>nicolò monili</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>there is a problem with the file on my server…</p>
<p><a href="http:&#x2F;&#x2F;www.gabrielambrogio.com&#x2F;wp-content&#x2F;uploads&#x2F;2012&#x2F;08&#x2F;json.txt">link</a></p>
<p>I do not understand why when I load the file will be displayed in that way ..<br>is a file.txt …</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 23rd 2012, 2:42:06 pm">August 23rd 2012</span>
											by <span class='authorname'>nicolò monili</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I solved it by removing the spaces<br><a href="http:&#x2F;&#x2F;www.gabrielambrogio.com&#x2F;wp-content&#x2F;uploads&#x2F;2012&#x2F;08&#x2F;json.txt">link</a></p>
</p>
										<div class="author">
											&mdash; commented <span title="August 23rd 2012, 2:46:47 pm">August 23rd 2012</span>
											by <span class='authorname'>nicolò monili</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Hello Stephen , I&#39;m sorry to bother you again…<br>Looking at <a href="https:&#x2F;&#x2F;wiki.appcelerator.org&#x2F;display&#x2F;guides&#x2F;Handling+Remote+Data+with+HTTPClient+and+JSON">this</a> example, I wanted to solve my problem by proceeding in this way :</p>
<ul>
<li>In my app there will be local variables. When you first start the tableviewrow data will be loaded with data taken from the global variables.</li>
<li>When I press the button &quot;update data&quot; through the code that I showed you in the first link I connect to my JSON file and discharge data.</li>
<li>If the connection is present, then will copy each data in its local variable, and then the table view row now contains updated data, given that loads them from local variables. If the connection is not active, I want the data of local variables.</li>
</ul>
<p>Using this method my global variable should always contain the latest data taken from the last connection with my JSON file right?</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 27th 2012, 10:00:34 am">August 27th 2012</span>
											by <span class='authorname'>nicolò monili</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>want to make sure I read this right (haven&#39;t had my coffee yet):</p>
<ul>
<li>App ships with default data set to be stored as a file or a App.property</li>
<li>On first load, table is populated from data pulled from our default dataset.</li>
<li>Push button, we check for net connection, run up a httpClient call, download new data, replace local data store (file or App.property) with new data</li>
<li>Reload table.</li>
<li>Subsequent launches load the newer data set</li>
</ul>
<p>Yes, that is about it.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 27th 2012, 10:30:56 am">August 27th 2012</span>
											by <span class='authorname'>Stephen Feather</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>you mean just that.</p>
<p>I offer you a cup of coffee? :)</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 27th 2012, 10:45:46 am">August 27th 2012</span>
											by <span class='authorname'>nicolò monili</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>how big is your dataset? physically, if put into a text file, how big is the JSON.  The answer will help me point you in a good direction.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 27th 2012, 12:47:38 pm">August 27th 2012</span>
											by <span class='authorname'>Stephen Feather</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>3-4 k</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 27th 2012, 12:49:54 pm">August 27th 2012</span>
											by <span class='authorname'>nicolò monili</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>nicolò, at 3-4k, I would save it as file instead of an App.property. </p>
<p>Using the example you linked to, in the onload: of the httpClient call you will want to either directly or through a function:</p>
<ul>
<li>Save the JSON to a file for permanence</li>
<li>Push&#x2F;Parse the JSON into your table data set</li>
</ul>
<p>Now, things get tricky, because on iOS when you create a file now, you have to flag whether it should be backed up or not.  On Android, not all devices have external storage.</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> myDataDirectory;
// <span class="hljs-keyword">If</span> this is an Android device
<span class="hljs-keyword">if</span> (Ti.Android){
    // We want <span class="hljs-keyword">to</span> write <span class="hljs-keyword">to</span> external SDCARD <span class="hljs-keyword">if</span> available
    <span class="hljs-keyword">if</span>(Ti.Filesystem.isExternalStoragePresent()){
        myDataDirectory = Ti.Filesystem.getExternalStorageDirectory();
    }<span class="hljs-keyword">else</span>{
        myDataDirectory = Ti.Filesystem.getapplicationDataDirectory();
    }
}<span class="hljs-keyword">else</span>{
    myDataDirectory = Ti.Filesystem.applicationDataDirectory+<span class="hljs-string">'../Library/Private%20Documents/'</span>;

}
</code></pre><pre><code class="hljs">onload: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span> </span>{
    Ti.API.debug(<span class="hljs-keyword">this</span>.responseText);
    <span class="hljs-keyword">var</span> myJSONFile = Ti.Filesystem.getFile(myDataDirectory+<span class="hljs-string">'filename.json'</span>);
    myJSONFile.write(<span class="hljs-keyword">this</span>.responseText);

},
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="August 27th 2012, 6:47:37 pm">August 27th 2012</span>
											by <span class='authorname'>Stephen Feather</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I could use the process only for iOS</p>
<p>then you&#39;d want to use a file inside the app and not the variables …</p>
<p>and the first time you download the JSON from the web save it on the device, and then retrieve the variables from there.</p>
<p>right?</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 27th 2012, 6:53:32 pm">August 27th 2012</span>
											by <span class='authorname'>nicolò monili</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>rather variables always need support because at least the first time I load the data from there, until you exhaust the JSON from the web. and in any case are also used after to pass values ??from json stored at the table view row</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 27th 2012, 7:17:08 pm">August 27th 2012</span>
											by <span class='authorname'>nicolò monili</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>For the extra lines of code, it doesn&#39;t hurt to put your android support in while you are here. May I ask why iOS only? Titanium offers a great xplatform solution. </p>
<p>On first run, copy the json file you package in your installer into the same location you will copy your downloads.</p>
<pre><code class="hljs">// <span class="hljs-keyword">If</span> the <span class="hljs-keyword">file</span> does not <span class="hljs-keyword">exist</span>
<span class="hljs-keyword">if</span> (<span class="hljs-comment">!myJSONFile.exists()){</span>
    // Open <span class="hljs-keyword">default</span> <span class="hljs-keyword">file</span>

    // Read <span class="hljs-keyword">default</span> <span class="hljs-keyword">file</span>

    // <span class="hljs-built_in">Write</span> to destination <span class="hljs-keyword">file</span>
}
</code></pre><p>Now you just load your variables from the same file, its just that you update that file when the user pushes the button you mentioned above.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 27th 2012, 7:17:52 pm">August 27th 2012</span>
											by <span class='authorname'>Stephen Feather</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>If your file is not to be backed up to iCloud, you need to set the remoteBackup flag on your files.</p>
<p><code>myJSONFile.remoteBackup = false;</code></p>
</p>
										<div class="author">
											&mdash; commented <span title="August 27th 2012, 7:20:27 pm">August 27th 2012</span>
											by <span class='authorname'>Stephen Feather</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>because I haven&#39;t a smartphone Android for testing on the device … we will see …</p>
<pre><code class="hljs">onload: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span> </span>{
    Ti.API.debug(<span class="hljs-keyword">this</span>.responseText);
    <span class="hljs-keyword">var</span> myJSONFile = Ti.Filesystem.getFile(myDataDirectory+<span class="hljs-string">'filename.json'</span>);
    myJSONFile.write(<span class="hljs-keyword">this</span>.responseText);

},
</code></pre><p>however I ask you something … in this part of the code, create a new json file, and copy the contents of the downloaded from the internet in the new json …?</p>
<p>or json that has already been created and inserted in the app? because getFile , I guess take the file … so it should already be there …</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 27th 2012, 7:36:39 pm">August 27th 2012</span>
											by <span class='authorname'>nicolò monili</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>That takes the responseText from the remote server call (your update) and saves it to a file.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 27th 2012, 7:49:06 pm">August 27th 2012</span>
											by <span class='authorname'>Stephen Feather</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>and for a best solution i put this code in this way</p>
<pre><code class="hljs"><span class="hljs-keyword">if</span> (<span class="hljs-comment">!Ti.App.Properties.hasProperty('installed'){</span>



    // <span class="hljs-keyword">If</span> the <span class="hljs-keyword">file</span> does not <span class="hljs-keyword">exist</span>
    <span class="hljs-keyword">if</span> (<span class="hljs-comment">!myJSONFile.exists()){</span>
    // Open <span class="hljs-keyword">default</span> <span class="hljs-keyword">file</span>

    // Read <span class="hljs-keyword">default</span> <span class="hljs-keyword">file</span>

    // <span class="hljs-built_in">Write</span> to destination <span class="hljs-keyword">file</span>
    }

Ti.App.Properties.setBool(<span class="hljs-string">'installed'</span>, <span class="hljs-number">1</span>);
}
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="August 27th 2012, 7:49:52 pm">August 27th 2012</span>
											by <span class='authorname'>nicolò monili</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>And that was the best answer I&#39;v heard for why someone only does iOS.  Don&#39;t let that stop you though.  The emulator, while slow, is better than nothing.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 27th 2012, 7:50:19 pm">August 27th 2012</span>
											by <span class='authorname'>Stephen Feather</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I know the fact I would like to develop for Android, we&#39;ll see come on!</p>
<p>Now let&#39;s see if I can do all this go on at least iOS</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 27th 2012, 7:59:01 pm">August 27th 2012</span>
											by <span class='authorname'>nicolò monili</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I&#39;m sorry but I have not yet entirely clear</p>
<p>So, when you first start the app, I have to check if the file myJSONfile exists , since it obviously does not exist, I have to load the default data, but these data should be where? in another file? and this what I should do it here</p>
<pre><code class="hljs"><span class="hljs-keyword">if</span> (<span class="hljs-comment">!Ti.App.Properties.hasProperty('installed'){</span>



    // <span class="hljs-keyword">If</span> the <span class="hljs-keyword">file</span> does not <span class="hljs-keyword">exist</span>
    <span class="hljs-keyword">if</span> (<span class="hljs-comment">!myJSONFile.exists()){</span>
    // Open <span class="hljs-keyword">default</span> <span class="hljs-keyword">file</span>

    // Read <span class="hljs-keyword">default</span> <span class="hljs-keyword">file</span>

    // <span class="hljs-built_in">Write</span> to destination <span class="hljs-keyword">file</span>
    }

Ti.App.Properties.setBool(<span class="hljs-string">'installed'</span>, <span class="hljs-number">1</span>);
}
</code></pre><p>then when I hit the button &quot;update data&quot;, I create a new JSON and copy the data downloaded from the web in the new JSON. But this process of creating the file is not repeated every time I update? you do not create multiple files JSON?<br>and this new file, must be the same as that from where to load the default data the first time obviously not?</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 27th 2012, 8:11:35 pm">August 27th 2012</span>
											by <span class='authorname'>nicolò monili</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>You may not want to wrap your file copy routine that way, if the file were to be deleted by an outside source, then you would want to copy if back over.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 27th 2012, 9:02:28 pm">August 27th 2012</span>
											by <span class='authorname'>Stephen Feather</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>the file you copy your data into at first run is the same file you write your downloaded data into each time you down load it.</p>
<p>One file.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 27th 2012, 9:03:50 pm">August 27th 2012</span>
											by <span class='authorname'>Stephen Feather</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>perfect so once generated the file the first time then you overwrite the data downloaded from the web on the same file</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 28th 2012, 4:07:45 am">August 28th 2012</span>
											by <span class='authorname'>nicolò monili</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>this is what I did for now</p>
<p><strong>app.js</strong></p>
<pre><code class="hljs">Ti.UI.backgroundColor = <span class="hljs-string">'#dddddd'</span>;


<span class="hljs-keyword">var</span> win = Ti.UI.createWindow();
<span class="hljs-keyword">var</span> table = Ti.UI.createTableView();



<span class="hljs-keyword">if</span> (!Ti.App.Properties.hasProperty(<span class="hljs-string">'installed'</span>){

    <span class="hljs-comment">// If the file does not exist</span>
    <span class="hljs-keyword">if</span> (!myJSONFile.exists()){

    <span class="hljs-keyword">var</span> file = Titanium.Filesystem.getFile(Titanium.Filesystem.applicationDataDirectory, <span class="hljs-string">'filename.txt'</span>);   <span class="hljs-comment">//create the JSON file to contain the updated data</span>

    <span class="hljs-comment">// Read default file</span>

    <span class="hljs-keyword">var</span> JSONDefault = Ti.Filesystem.getFile(myDataDirectory+<span class="hljs-string">'default.txt'</span>);    <span class="hljs-comment">//read from a default JSON file</span>
    <span class="hljs-keyword">var</span> defaultContents = JSONDefault.read().text;                              


    <span class="hljs-comment">// Write to destination file</span>

    file.write(JSONDefault.responseText); 

    }

Ti.App.Properties.setBool(<span class="hljs-string">'installed'</span>, <span class="hljs-number">1</span>);

}




<span class="hljs-keyword">var</span> url = <span class="hljs-string">"http://www.gabrielambrogio.com/wp-content/uploads/2012/08/json.txt"</span>;
<span class="hljs-keyword">var</span> tableData = [];
<span class="hljs-keyword">var</span> json, file, person, i, row, nameLabel, age;

<span class="hljs-keyword">var</span> xhr = Ti.Network.createHTTPClient({
    onload: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{

    <span class="hljs-keyword">var</span> myJSONFile = Ti.Filesystem.getFile(myDataDirectory+<span class="hljs-string">'filename.txt'</span>); <span class="hljs-comment">//load the json file</span>
    myJSONFile.write(<span class="hljs-keyword">this</span>.responseText);                                     <span class="hljs-comment">// copy on new json file the content of web json</span>

    json = <span class="hljs-built_in">JSON</span>.parse(<span class="hljs-keyword">this</span>.responseText);
    <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; json.list.length; i++) {
        person = json.file[i];
        row = Ti.UI.createTableViewRow({
            height:<span class="hljs-string">'60dp'</span>
        });
        nameLabel = Ti.UI.createLabel({
            text:person.name,
            font:{
                fontSize:<span class="hljs-string">'24dp'</span>,
            fontWeight:<span class="hljs-string">'bold'</span>
        },
        height:<span class="hljs-string">'auto'</span>,
        left:<span class="hljs-string">'10dp'</span>,
        top:<span class="hljs-string">'5dp'</span>,
        color:<span class="hljs-string">'#000'</span>,
        touchEnabled:<span class="hljs-literal">false</span>
        });
        age = Ti.UI.createLabel({
        text:<span class="hljs-string">'"'</span> + person.age + <span class="hljs-string">'"'</span>,
        font:{
            fontSize:<span class="hljs-string">'16dp'</span>
        },
        height:<span class="hljs-string">'auto'</span>,
        left:<span class="hljs-string">'15dp'</span>,
        bottom:<span class="hljs-string">'5dp'</span>,
        color:<span class="hljs-string">'#000'</span>,
        touchEnabled:<span class="hljs-literal">false</span>
        });

        row.add(nameLabel);
        row.add(age);
        tableData.push(row);
        }

    table.setData(tableData);
    },
    <span class="hljs-comment">/*onerror: function(e) {
    Ti.API.debug("STATUS: " + this.status);
    Ti.API.debug("TEXT:   " + this.responseText);
    Ti.API.debug("ERROR:  " + e.error);
    alert('There was an error retrieving the remote data. Try again.');*/</span>
    alert(<span class="hljs-string">"No Internet connection available, were kept the default data"</span>);
    },
    timeout:<span class="hljs-number">5000</span>
});

xhr.open(<span class="hljs-string">"GET"</span>, url);
xhr.send();

win.add(table);
win.open();
</code></pre><p><strong>JSON on the web</strong></p>
<pre><code class="hljs">{
    "<span class="hljs-attribute">list</span>": <span class="hljs-value">[
        {
            "<span class="hljs-attribute">name</span>": <span class="hljs-value"><span class="hljs-string">"Nico"</span></span>,
            "<span class="hljs-attribute">age</span>": <span class="hljs-value"><span class="hljs-string">"19"</span>
        </span>},
        {
            "<span class="hljs-attribute">name</span>": <span class="hljs-value"><span class="hljs-string">"Marco"</span></span>,
            "<span class="hljs-attribute">age</span>": <span class="hljs-value"><span class="hljs-string">"31"</span>
        </span>},
        {
            "<span class="hljs-attribute">name</span>": <span class="hljs-value"><span class="hljs-string">"Stephan"</span></span>,
            "<span class="hljs-attribute">age</span>": <span class="hljs-value"><span class="hljs-string">"35"</span>
        </span>},

    ]
</span>}
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="August 28th 2012, 4:53:35 am">August 28th 2012</span>
											by <span class='authorname'>nicolò monili</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
