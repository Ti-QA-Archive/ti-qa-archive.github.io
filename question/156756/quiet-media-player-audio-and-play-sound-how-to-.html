<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Quiet Media Player Audio and Play Sound How to ? Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Quiet Media Player Audio and Play Sound How to ?</h1>
		</header>
		<section>
			<p>Hi All,</p>
<p>I have been looking for ages now and cannot find a solution, anyone with an idea or a method would be doing me a massive favour.</p>
<p>I need to play a short audio mp3 file no longer than 30 seconds, what i need is to be able to mute&#x2F;quieten any other audio&#x2F;music while this is playing.</p>
<p>this needs to work in both Android and IOS i have tried </p>
<pre><code class="hljs">var <span class="hljs-keyword">file</span> = Titanium.Filesystem.getFile(Titanium.Filesystem.resourcesDirectory, <span class="hljs-string">'etc/'</span> + filename);
    var <span class="hljs-keyword">sound</span> = Titanium.Media.createSound({
        url : <span class="hljs-keyword">file</span>.nativePath
    });
    <span class="hljs-keyword">sound</span>.<span class="hljs-keyword">play</span>();
</code></pre><p>and</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> file = Titanium.Filesystem.getFile(Titanium.Filesystem.resourcesDirectory, <span class="hljs-string">'etc/'</span> + filename);
        <span class="hljs-keyword">var</span> audioPlayer = Ti.Media.createAudioPlayer({
            url : file,
            allowBackground : <span class="hljs-literal">true</span>,
            autoplay:<span class="hljs-literal">true</span>
        });

        audioPlayer.start();
        audioPlayer.addEventListener(<span class="hljs-string">'change'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span> </span>{
            Ti.API.info(<span class="hljs-string">'State: '</span> + e.description + <span class="hljs-string">' ('</span> + e.state + <span class="hljs-string">')'</span>);
            <span class="hljs-keyword">if</span>(e.state == audioPlayer.STATE_STOPPED)
            {
                audioPlayer.release();
            }
        });
</code></pre><p>But no of them do what i require, the first one plays the audio with the music in the background and the other sample dose not play anything at all.</p>
<p>Thanks for your help.<br>Regards<br>Luke</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="September 3rd 2013, 8:52:09 pm">September 3rd 2013</span>
				by <span class='authorname'>Luke Mc Redmond</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>iphone</span></li>
					
						<li><span class='tagname'>mute media music</span></li>
					
						<li><span class='tagname'>play audio</span></li>
					
				</ul>
			

			<section>
				<h5>3 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Have you tried allowBackground to false?</p>
</div>
							<div class="author">
								&mdash; commented <span title="September 4th 2013, 1:53:30 am">September 4th 2013</span>
								by <span class='authorname'>Mauro Parra</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Hi Mauro, thanks for your reply is not for android only?<br>also the notifaction is still playing over the the audio</p>
<pre><code class="hljs">var <span class="hljs-keyword">file</span> = Titanium.Filesystem.getFile(Titanium.Filesystem.resourcesDirectory, <span class="hljs-string">'etc/'</span> + filename);
        var <span class="hljs-keyword">sound</span> = Titanium.Media.createSound({
            url : <span class="hljs-keyword">file</span>.nativePath,
            allowBackground : false
        });
        <span class="hljs-keyword">sound</span>.<span class="hljs-keyword">play</span>();
        <span class="hljs-keyword">sound</span>.addEventListener(<span class="hljs-string">'complete'</span>, function() {
            <span class="hljs-keyword">sound</span>.release();
        });
</code></pre></div>
							<div class="author">
								&mdash; commented <span title="September 5th 2013, 8:44:34 pm">September 5th 2013</span>
								by <span class='authorname'>Luke Mc Redmond</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Any one got an example?</p>
<p>Im really getting stuck on this, </p>
<p>I find that on ios it stops the music and dose not restart it and on android it dose not stop the music and plays the audio over the music which you cannot hear.</p>
<p>ahhhh im going crazy</p>
<p>also the code was not firing the completed event changed the sound.play to be after the sound.addEventListener(&#39;complete&#39; and its now firing the complete event but still not restarting the native music player.</p>
</div>
							<div class="author">
								&mdash; commented <span title="September 15th 2013, 3:26:04 pm">September 15th 2013</span>
								by <span class='authorname'>Luke Mc Redmond</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>0</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>0 Answers</h3>

	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
