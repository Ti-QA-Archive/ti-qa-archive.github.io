<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>BLOCKING... Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>BLOCKING...</h1>
		</header>
		<section>
			<p>On install, I am Downloading a fairly large JSON file that is used to populate a sqlite DB.  The problem seems to be that as the json file is downloading, the program seems to continue on to the next code that does an f.read() of the json file, and crashes because its not there.  Is there a way to force the app to fully DownLoad the JSON file before starting onto the next section.  Like a wait() or Sleep() function?</p>
<p>I have a plan B anyway, but I was just curious how asynch Downloads worked anyway.</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="September 6th 2011, 10:28:41 am">September 6th 2011</span>
				by <span class='authorname'>vincent youmans</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>asynch</span></li>
					
						<li><span class='tagname'>download</span></li>
					
						<li><span class='tagname'>f.read()</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>3</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>3 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-218244">
				
						<section>
							<p>Its hard to tell without seeing the code you are using to download, but if like most you are using <a href="http:&#x2F;&#x2F;developer.appcelerator.com&#x2F;apidoc&#x2F;mobile&#x2F;latest&#x2F;Titanium.Network.HTTPClient-object.html">Titanium.Network.HTTPClient</a>, you can simply set the <code>onload</code> property to execute a callback function when the request completes:</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> xhr = Ti.Network.createHTTPClient({
    onload: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span> </span>{
        <span class="hljs-comment">// this is where you would do your f.read();</span>
    }
});
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="September 6th 2011, 10:33:43 am">September 6th 2011</span>
								by <span class='authorname'>Tony Lukasavage</span><br>
								<a class="icon-bg icon-link" href="question/125213/blocking#answer-218244" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>2</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-218245">
				
						<section>
							<p>I forgot to mention that this only happens when the app is first installed. The second startup, the app works fine. It is because the json file was downloaded on the initial startup.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="September 6th 2011, 10:34:14 am">September 6th 2011</span>
								by <span class='authorname'>vincent youmans</span><br>
								<a class="icon-bg icon-link" href="question/125213/blocking#answer-218245" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>please use comments instead of creating new answers</p>
</p>
										<div class="author">
											&mdash; commented <span title="September 6th 2011, 10:35:40 am">September 6th 2011</span>
											by <span class='authorname'>Tony Lukasavage</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-218247">
				
						<section>
							<p>If you don&#39;t need the json, perhaps you should do this asyncronously by using the <strong>onload</strong> of the xhr object.<br>An example can be found on the recent <a href="http:&#x2F;&#x2F;developer.appcelerator.com&#x2F;blog&#x2F;2011&#x2F;08&#x2F;handling-remote-data-with-httpclient-and-json.html">blog post by Tony Lukasavage</a>.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="September 6th 2011, 10:36:23 am">September 6th 2011</span>
								by <span class='authorname'>Marco Ferreira</span><br>
								<a class="icon-bg icon-link" href="question/125213/blocking#answer-218247" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Actually you can still keep the json with this.</p>
</p>
										<div class="author">
											&mdash; commented <span title="September 6th 2011, 10:38:21 am">September 6th 2011</span>
											by <span class='authorname'>Marco Ferreira</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
