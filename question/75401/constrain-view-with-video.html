<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Constrain view with video » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Constrain view with video</h1>
		</header>
		<section>
			<p>I am getting this error…<br><code>[ERROR] Trying to constraint a view without a proxy&amp;#39;s layout.</code></p>
<p>…when I hit the done button on my video.</p>
<p>The only thing I am doing when hitting done is this:</p>
<pre><code class="hljs">activeMovie.addEventListener(<span class="hljs-string">'complete'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span>
</span>{
    Ti.API.info(e);
});
</code></pre><p>Any ideas?</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="November 1st 2010, 2:58:50 pm">November 1st 2010</span>
				by <span class='authorname'>Ronnie Swietek</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>constrain</span></li>
					
						<li><span class='tagname'>error</span></li>
					
						<li><span class='tagname'>view</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>7</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>7 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-135791">
				
						<section>
							<p>Also this is my video object</p>
<pre><code class="hljs"><span class="hljs-component">var activeMovie = Titanium.Media.createVideoPlayer({
    contentURL: video,
    backgroundColor:'<span class="hljs-comment">#000',</span>
    fullscreen:true,
    movieControlMode:Titanium<span class="hljs-string">.Media.VIDEO_CONTROL_FULLSCREEN</span>,
    scalingMode:Titanium<span class="hljs-string">.Media.VIDEO_SCALING_MODE_FILL</span>
}</span>);
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="November 1st 2010, 3:45:49 pm">November 1st 2010</span>
								by <span class='authorname'>Ronnie Swietek</span><br>
								<a class="icon-bg icon-link" href="question/75401/constrain-view-with-video.html#answer-135791" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-135911">
				
						<section>
							<p>So this happens to nobody?</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="November 1st 2010, 7:56:42 pm">November 1st 2010</span>
								by <span class='authorname'>Ronnie Swietek</span><br>
								<a class="icon-bg icon-link" href="question/75401/constrain-view-with-video.html#answer-135911" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-136361">
				
						<section>
							<p>bump</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="November 2nd 2010, 4:08:31 pm">November 2nd 2010</span>
								by <span class='authorname'>Ronnie Swietek</span><br>
								<a class="icon-bg icon-link" href="question/75401/constrain-view-with-video.html#answer-136361" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-136381">
				
						<section>
							<p>I can&#39;t reproduce what you are seeing.  What version of the mobile SDK are you using?  Is there more to that code that just the movie?  How are you attaching it to a view or window?  </p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="November 2nd 2010, 4:34:15 pm">November 2nd 2010</span>
								by <span class='authorname'>John McKnight</span><br>
								<a class="icon-bg icon-link" href="question/75401/constrain-view-with-video.html#answer-136381" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-136401">
				
						<section>
							<p>This is my full video.js file. I changed the video object a little bit. The error is still present, however, it actually closes the window now rather than just going black. I am using SDK 4.0</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> win         = Titanium.UI.currentWindow;
<span class="hljs-keyword">var</span> video        = win.video;

<span class="hljs-keyword">var</span> activeMovie = Titanium.Media.createVideoPlayer({
    contentURL: video,
    backgroundColor:<span class="hljs-string">'#000'</span>,
    fullscreen:<span class="hljs-literal">true</span>
});
win.add(activeMovie);

activeMovie.addEventListener(<span class="hljs-string">'complete'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span>
</span>{
    Ti.App.fireEvent(<span class="hljs-string">"finishMovie"</span>);
    win.orientationModes = [Titanium.UI.PORTRAIT];
});

activeMovie.addEventListener(<span class="hljs-string">'fullscreen'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span>
</span>{
    <span class="hljs-keyword">if</span> (!e.entering)
    {
        activeMovie.stop();
        win.orientationModes = [Titanium.UI.PORTRAIT];
    }
});

win.orientationModes = [
    Titanium.UI.LANDSCAPE_LEFT,
    Titanium.UI.LANDSCAPE_RIGHT,
    Titanium.UI.PORTRAIT
];

activeMovie.play();
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="November 2nd 2010, 4:47:53 pm">November 2nd 2010</span>
								by <span class='authorname'>Ronnie Swietek</span><br>
								<a class="icon-bg icon-link" href="question/75401/constrain-view-with-video.html#answer-136401" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>What mobile SDK?  1.4.1_1, 1.5 nightly?</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 2nd 2010, 5:08:02 pm">November 2nd 2010</span>
											by <span class='authorname'>John McKnight</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-140061">
				
						<section>
							<p>I was getting this error when I added a window (win2) to an existing window (win1) and used an event to manipulate win2.  The code below will duplicate the error.  If you comment out the line that adds win2 to win1, the error disappears and everything works as it should.  I am not a Titanium expert and I really don&#39;t understand why this happens, but this error appears to be related to how windows are rendered and ordered in the stack.  </p>
<p>If I were to guess what the problem is in your code, I would say that either you are doing something in the finishMovie event that manipulates the activeMovie window or it has something to do with the fullscreen stuff.  Try commenting out one of the lines in your &#39;complete&#39; listener to narrow it down.</p>
<pre><code class="hljs">Titanium.UI.setBackgroundColor(<span class="hljs-string">'#000'</span>);

var win1 = Titanium.UI.createWindow({
    backgroundColor:<span class="hljs-string">'#000'</span>,
    <span class="hljs-variable">width</span>:<span class="hljs-number">320</span>,
    <span class="hljs-variable">height</span>:<span class="hljs-number">380</span>,
    bottom:<span class="hljs-number">0</span>
});
win1.<span class="hljs-built_in">open</span>();

var win2 = Titanium.UI.createWindow({
    backgroundColor:<span class="hljs-string">'#fff'</span>,
    <span class="hljs-variable">width</span>:<span class="hljs-number">120</span>,
    <span class="hljs-variable">height</span>:<span class="hljs-number">180</span>,
    bottom:<span class="hljs-number">0</span>
});
win1.<span class="hljs-built_in">add</span>(win2);  <span class="hljs-comment">// this is the culprit; comment this out and everything works!!!</span>
win2.<span class="hljs-built_in">open</span>();

var b1 = Titanium.UI.createButton({
    title:<span class="hljs-string">'click me'</span>,
    <span class="hljs-variable">height</span>:<span class="hljs-number">40</span>,
    <span class="hljs-variable">width</span>:<span class="hljs-number">200</span>,
    top:<span class="hljs-number">50</span>
});
win1.<span class="hljs-built_in">add</span>(b1);

var visible = <span class="hljs-keyword">true</span>;
b1.addEventListener(<span class="hljs-string">'click'</span>, function()
{
    <span class="hljs-keyword">if</span> (!visible)
    {
        win2.<span class="hljs-built_in">open</span>();
        visible=<span class="hljs-keyword">true</span>;
    }
    <span class="hljs-keyword">else</span>
    {
        win2.close();
        visible=<span class="hljs-keyword">false</span>;
    }
});
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="November 9th 2010, 10:52:49 am">November 9th 2010</span>
								by <span class='authorname'>David Knell</span><br>
								<a class="icon-bg icon-link" href="question/75401/constrain-view-with-video.html#answer-140061" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-143241">
				
						<section>
							<p>This is a bug in official 1.4.1.1 and 1.4.2. You have to use the version from http:&#x2F;&#x2F;builds.appcelerator.com.s3.amazonaws.com&#x2F;index.html</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="November 13th 2010, 3:58:12 pm">November 13th 2010</span>
								by <span class='authorname'>Konstantin Filtschew</span><br>
								<a class="icon-bg icon-link" href="question/75401/constrain-view-with-video.html#answer-143241" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
