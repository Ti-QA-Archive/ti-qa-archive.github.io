<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Android Database install » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Android Database install</h1>
		</header>
		<section>
			<p>Hi I&#39;m unable to successfully install prepopulated database on my android device&#x2F;emulator.<br>The DB gets copied to resources but when I try to Ti.Database.install(…); it says it is installed but when I try to get something from it, it throws sql error with text that the database is empty (no table like …. ) when I&#39;ve checked it with DDMS I&#39;ve found out that the &quot;installed&quot; db in data&#x2F;data&#x2F;app_id&#x2F;database&#x2F;name is just 3KB of size. </p>
<p>What should I do ? </p>
<pre><code class="hljs"><span class="hljs-keyword">db</span> = Titanium.Database.install('/<span class="hljs-keyword">test</span>.sqlite','<span class="hljs-keyword">test</span>'+Titanium.<span class="hljs-keyword">App</span>.<span class="hljs-keyword">version</span>);

<span class="hljs-keyword">if</span>(<span class="hljs-keyword">db</span> == null){
    <span class="hljs-keyword">db</span> = Titanium.Database.<span class="hljs-keyword">open</span>('<span class="hljs-keyword">test</span>'+Titanium.<span class="hljs-keyword">App</span>.<span class="hljs-keyword">version</span>);
}

...

<span class="hljs-keyword">var</span> rows = <span class="hljs-keyword">db</span>.execute('SELECT * FROM dict WHERE `word`=<span class="hljs-string">"'+word+'"</span>');

...
<span class="hljs-keyword">E</span>: <span class="hljs-string">"No table as dict."</span>
</code></pre>
		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="June 23rd 2011, 12:20:23 pm">June 23rd 2011</span>
				by <span class='authorname'>Lukas Skrabak</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>database</span></li>
					
						<li><span class='tagname'>install</span></li>
					
				</ul>
			

			<section>
				<h5>5 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>install performs an open for you so it won&#39;t return null. Also, if a database with name already exists, it&#39;ll return that file already opened. You have to delete the previous DB before you can install again.</p>
</div>
							<div class="author">
								&mdash; commented <span title="June 23rd 2011, 1:01:41 pm">June 23rd 2011</span>
								by <span class='authorname'>Don Thorp</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Don, in this case he is naming the DB with a suffix of the app version.  So if&#x2F;when he increments the app version, it will in fact install and open a new copy.  The problem with this approach of course, is that over time you accumulate unused databases.  If the database is really small or app versions infrequent, that may not be significant.  But if sizeable or the app changes frequently, it seems like needless waste of storage to me…</p>
</div>
							<div class="author">
								&mdash; commented <span title="June 23rd 2011, 1:05:51 pm">June 23rd 2011</span>
								by <span class='authorname'>Doug Handy</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>My problem is similar to <a href="http:&#x2F;&#x2F;developer.appcelerator.com&#x2F;question&#x2F;121482&#x2F;database-errors-on-android">this one</a> but the solution is not working, at least not for now I&#39;ll try clean re-build</p>
</div>
							<div class="author">
								&mdash; commented <span title="June 23rd 2011, 5:19:48 pm">June 23rd 2011</span>
								by <span class='authorname'>Lukas Skrabak</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Facing exactly the same problem… need help bcos its very annoying</p>
</div>
							<div class="author">
								&mdash; commented <span title="July 9th 2011, 5:47:41 am">July 9th 2011</span>
								by <span class='authorname'>Annkiit Agrawaal</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>answer to this problem is in mine last comment</p>
</div>
							<div class="author">
								&mdash; commented <span title="July 9th 2011, 5:56:43 am">July 9th 2011</span>
								by <span class='authorname'>Lukas Skrabak</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>3</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>3 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-211176">
				
						<section>
							<p>Try removing the slash character in your database&#39;s file name.</p>
<p>Like so:</p>
<p><code>var db = Titanium.Database.install(&amp;#39;test.sqlite&amp;#39;,&amp;#39;test&amp;#39;+Titanium.App.version);</code></p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="June 23rd 2011, 12:51:55 pm">June 23rd 2011</span>
								by <span class='authorname'>Christian Brousseau</span><br>
								<a class="icon-bg icon-link" href="question/121493/android-database-install#answer-211176" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-211249">
				
						<section>
							<p>The problem still remains. Every time I try to install database device&#x2F;emulator it only installs some 3kb file instead of mine 12mb prepopulated database. How can I force to copy&#x2F;install the database to data&#x2F;data&#x2F;apppid&#x2F;database when it only creates new 3kb database with soome column locale and text enUs ? Any tip or help is welcome.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="June 24th 2011, 3:45:44 am">June 24th 2011</span>
								by <span class='authorname'>Lukas Skrabak</span><br>
								<a class="icon-bg icon-link" href="question/121493/android-database-install#answer-211249" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-212613">
				
						<section>
							<p>Ok here is mine working solution for AndroidDB <a href="http:&#x2F;&#x2F;a32.sk&#x2F;androidDB&#x2F;android&#x2F;db_install.js">http:&#x2F;&#x2F;a32.sk&#x2F;androidDB&#x2F;android&#x2F;db_install.js</a><br>Take a look and learn from my mistakes :) locking this question. If anybody should need help with this don&#39;t hesitate and e-mail me at <a href="mailto:SkrabakL@gmail.com">SkrabakL@gmail.com</a></p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="July 9th 2011, 5:55:04 am">July 9th 2011</span>
								by <span class='authorname'>Lukas Skrabak</span><br>
								<a class="icon-bg icon-link" href="question/121493/android-database-install#answer-212613" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Here is new link to my solution as the old one is not working<br><a href="http:&#x2F;&#x2F;vavra-japslovnik.assembla.me&#x2F;">http:&#x2F;&#x2F;vavra-japslovnik.assembla.me&#x2F;</a></p>
</p>
										<div class="author">
											&mdash; commented <span title="July 8th 2012, 2:25:06 pm">July 8th 2012</span>
											by <span class='authorname'>Lukas Skrabak</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>-2</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
