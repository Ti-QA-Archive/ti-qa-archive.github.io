<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Ti.App.Properties not holding the values in android Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Ti.App.Properties not holding the values in android</h1>
		</header>
		<section>
			<p>Hi all,</p>
<p>I have a textfield , i just want to show the last data entered from the user in the text field.</p>
<p>I am using the following code but its not working in android .</p>
<pre><code class="hljs">var txtName = Ti.UI.createTextField({
        <span class="hljs-string">top          :</span> <span class="hljs-number">20</span>*HeigthRatio,
        <span class="hljs-string">left         :</span> <span class="hljs-number">100</span>*WidthRatio,
        <span class="hljs-string">height       :</span> <span class="hljs-number">30</span>*HeigthRatio,
<span class="hljs-label">            borderStyle:</span>Titanium.UI.INPUT_BORDERSTYLE_ROUNDED,
        <span class="hljs-string">width        :</span> <span class="hljs-number">200</span>,
        <span class="hljs-string">value :</span>Ti.App.Properties.getString(<span class="hljs-string">'user_name'</span>)
    });
    RegistrationWindow.add(txtName);

    Ti.App.Properties.setString(<span class="hljs-string">'user_name'</span>,txtName.value);
</code></pre><p>Thanks</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="February 29th 2012, 5:48:51 pm">February 29th 2012</span>
				by <span class='authorname'>mathew orleans</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>textfield</span></li>
					
				</ul>
			

			<section>
				<h5>3 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>sorry what&#39;s not working? that code will update the property with the value of itself. I assume you actually capture the input on the text box? and then update the property on a change event or something.</p>
<p>Can you post the capture code as well please.</p>
</div>
							<div class="author">
								&mdash; commented <span title="February 29th 2012, 7:17:55 pm">February 29th 2012</span>
								by <span class='authorname'>Trevor Ward</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Example and the error please.  Note it seems like your using the property before its initialised (i.e. until setString is called once there will be no value stored for that property so its probably undefined).  Note I&#39;ve had issues with this if its complex data but with basic strings haven&#39;t been an issue.</p>
</div>
							<div class="author">
								&mdash; commented <span title="March 1st 2012, 1:11:08 am">March 1st 2012</span>
								by <span class='authorname'>Paul Parisi</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>I just want to show the last value entered in the text box , its working fine in iPhone but not in android.</p>
</div>
							<div class="author">
								&mdash; commented <span title="March 1st 2012, 6:22:57 am">March 1st 2012</span>
								by <span class='authorname'>mathew orleans</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-231961">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>Try this:</p>
<pre><code class="hljs">var txtName = Ti.UI.createTextField({
        <span class="hljs-string">top          :</span> <span class="hljs-number">20</span>*HeigthRatio,
        <span class="hljs-string">left         :</span> <span class="hljs-number">100</span>*WidthRatio,
        <span class="hljs-string">height       :</span> <span class="hljs-number">30</span>*HeigthRatio,
        <span class="hljs-string">borderStyle  :</span> Titanium.UI.INPUT_BORDERSTYLE_ROUNDED,
        <span class="hljs-string">width        :</span> <span class="hljs-number">200</span>,
        <span class="hljs-string">value        :</span> Ti.App.Properties.getString(<span class="hljs-string">'user_name'</span>, <span class="hljs-string">''</span>)<span class="hljs-comment">//Return '' as default if user_name has not been existed in Properties yet</span>
});
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="March 1st 2012, 1:37:20 am">March 1st 2012</span>
								by <span class='authorname'>Minh Nguyen</span><br>
								<a class="icon-bg icon-link" href="question/132960/tiappproperties-not-holding-the-values-in-android#answer-231961" rel="permalink">permalink</a>
							</div>

							<h5>5 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>NO Minh , its not working :((</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 1st 2012, 6:23:16 am">March 1st 2012</span>
											by <span class='authorname'>mathew orleans</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Try this sample code to see if it works on Android</p>
<p><strong>app.js</strong></p>
<pre><code class="hljs">alert( Ti.App.Properties.getString(<span class="hljs-string">'user_name'</span>, <span class="hljs-string">''</span>) );<span class="hljs-comment">// Should alert '' at first time</span>
Ti.App.Properties.setString(<span class="hljs-string">'user_name'</span>, <span class="hljs-string">'Mathew'</span>);
alert( Ti.App.Properties.getString(<span class="hljs-string">'user_name'</span>, <span class="hljs-string">''</span>) );<span class="hljs-comment">// Should alert Mathew</span>
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="March 1st 2012, 7:28:22 am">March 1st 2012</span>
											by <span class='authorname'>Minh Nguyen</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>yes it showed alert as mathew !!!! what next ???</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 1st 2012, 8:03:20 am">March 1st 2012</span>
											by <span class='authorname'>mathew orleans</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Try this:</p>
<pre><code class="hljs">RegistrationWindow.add(txtName);

<span class="hljs-comment">//Ti.App.Properties.setString('user_name',txtName.value);</span>

txtName.addEventListener(<span class="hljs-string">'change'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span></span>{
    Ti.App.Properties.setString(<span class="hljs-string">'user_name'</span>, txtName.value);    
});
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="March 1st 2012, 8:18:32 am">March 1st 2012</span>
											by <span class='authorname'>Minh Nguyen</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Thanks it worked :))</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 1st 2012, 8:29:06 am">March 1st 2012</span>
											by <span class='authorname'>mathew orleans</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>2</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
