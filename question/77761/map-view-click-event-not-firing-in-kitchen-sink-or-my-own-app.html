<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Map view click event not firing (in Kitchen Sink or my own app) » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Map view click event not firing (in Kitchen Sink or my own app)</h1>
		</header>
		<section>
			<p>Hi,</p>
<p>I&#39;m writing an application that uses annotations on a map view. I&#39;m retrieving data from a remote server and plotting it on a map with no problems. If you click a map pin it will show some information just like in the Kitchen Sink map view example.</p>
<p>Each time the user performs a new search I remove all existing annotations and then add the new ones. Unfortunately, if the user left an annotation info popup open this remains on the map even when all annotations are removed using &quot;removeAllAnnotations&quot;. To work round this I decided to use the click event of the map view to track which annotation was the last one to be clicked and then use &quot;deselectAnnotation&quot; to deselect before calling &quot;removeAllAnnotations&quot;.</p>
<p>The problem I have now come across is that the map view click event simply isn&#39;t firing. Having failed to get it to work in my app I ran the Kitchen Sink map view example and it doesn&#39;t work in there either. Its my understanding that the following line in the Kitchen Sink example should cause debug to be written to the output every time the map is clicked but it doesn&#39;t and the rest of the code in the click event doesn&#39;t get executed either:</p>
<p>&quot;Ti.API.info(&#39;mapview click clicksource = &#39; + clickSource)&quot;</p>
<p>Can anyone help with this (or that &quot;removeAllAnnotations&quot; doesn&#39;t remove an open annotation popup)?</p>
<p>Thanks for your time in advance</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="November 9th 2010, 7:01:01 am">November 9th 2010</span>
				by <span class='authorname'>Keith Rosenheck</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>platform</span></li>
					
				</ul>
			

			<section>
				<h5>2 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>what platform? iphone? android?</p>
</div>
							<div class="author">
								&mdash; commented <span title="November 9th 2010, 10:53:15 am">November 9th 2010</span>
								by <span class='authorname'>Aaron Saunders</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>The platform is Android and I&#39;m using Titanium Developer 1.2.1 on Windows 7. I was using SDK v1.4.0 but I&#39;ve just downloaded the latest 1.4.2 and tried that but I&#39;m having the same problems with both my app and the Kitchen Sink.</p>
<p>If it helps, I&#39;ve found that you can really easily recreate the annotation popup staying when the annotation is removed by displaying the map view example in the Kitchen Sink, pressing menu, then more and then remove all. The &quot;Atlanta, GA&quot; popup just stays there even though the map pin is removed.</p>
</div>
							<div class="author">
								&mdash; commented <span title="November 9th 2010, 1:51:56 pm">November 9th 2010</span>
								by <span class='authorname'>Keith Rosenheck</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>1</span> Vote</div>
			<div class="answers"><span>0</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>0 Answers</h3>

	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
