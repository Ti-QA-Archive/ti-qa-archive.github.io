<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Get Values from a XML file » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Get Values from a XML file</h1>
		</header>
		<section>
			<p>I am having the following .xml which i used in my android project.now,am trying to create the same in iPhone using titanium.Can some one tell me how to get this values from the xml file and show them in a table view.? if i give MainCategories the 3 values in it should appear in the table view.Also can some one tell me is there any other better option to achieve this?.thank you.</p>
<pre><code class="hljs">&lt;<span class="hljs-keyword">string</span>-array name=<span class="hljs-string">"MainCategories"</span>&gt;
    &lt;<span class="hljs-keyword">item</span>&gt;Acceleration&lt;/<span class="hljs-keyword">item</span>&gt;
    &lt;<span class="hljs-keyword">item</span>&gt;Angle&lt;/<span class="hljs-keyword">item</span>&gt;
    &lt;<span class="hljs-keyword">item</span>&gt;Area&lt;/<span class="hljs-keyword">item</span>&gt;
&lt;/<span class="hljs-keyword">string</span>-array&gt;


&lt;<span class="hljs-keyword">string</span>-array name=<span class="hljs-string">"Acceleration_array"</span>&gt;
    &lt;<span class="hljs-keyword">item</span>&gt;meter/sq <span class="hljs-built_in">sec</span>&lt;/<span class="hljs-keyword">item</span>&gt;
    &lt;<span class="hljs-keyword">item</span>&gt;km/sq <span class="hljs-built_in">sec</span>&lt;/<span class="hljs-keyword">item</span>&gt;
    &lt;<span class="hljs-keyword">item</span>&gt;mile/sq <span class="hljs-built_in">sec</span>&lt;/<span class="hljs-keyword">item</span>&gt;
    &lt;<span class="hljs-keyword">item</span>&gt;yard/sq <span class="hljs-built_in">sec</span>&lt;/<span class="hljs-keyword">item</span>&gt;
&lt;/<span class="hljs-keyword">string</span>-array&gt;


&lt;<span class="hljs-keyword">string</span>-array name=<span class="hljs-string">"Angle_array"</span>&gt;
    &lt;<span class="hljs-keyword">item</span>&gt;degree&lt;/<span class="hljs-keyword">item</span>&gt;
    &lt;<span class="hljs-keyword">item</span>&gt;radian&lt;/<span class="hljs-keyword">item</span>&gt;
    &lt;<span class="hljs-keyword">item</span>&gt;grad&lt;/<span class="hljs-keyword">item</span>&gt;
    &lt;<span class="hljs-keyword">item</span>&gt;gon&lt;/<span class="hljs-keyword">item</span>&gt;
&lt;/<span class="hljs-keyword">string</span>-array&gt;
</code></pre>
		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="August 28th 2012, 7:00:17 am">August 28th 2012</span>
				by <span class='authorname'>John S</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>appcelerator</span></li>
					
						<li><span class='tagname'>iphone</span></li>
					
						<li><span class='tagname'>titanium</span></li>
					
						<li><span class='tagname'>xml</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-246225">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>var parentNodeLength = doc.documentElement.getElementsByTagName(&#39;string-array&#39;).length;<br>    for (var i = 0; i &lt; parentNodeLength; i++) {<br>        var attrValue = doc.documentElement.getElementsByTagName(&#39;string-array&#39;).item(i).attributes.getNamedItem(&#39;name&#39;).nodeValue;</p>
<pre><code class="hljs">    <span class="hljs-keyword">if</span> (attrValue === '<span class="hljs-type">MainCategories</span>') {

        <span class="hljs-keyword">var</span> parentNode = doc.documentElement.getElementsByTagName('<span class="hljs-type">string</span>-<span class="hljs-type">array</span>').item(i);
        <span class="hljs-keyword">var</span> subNodeLength = parentNode.getElementsByTagName('item').length;

        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> j = <span class="hljs-number">0</span>; j &lt; subNodeLength; j++) {

            <span class="hljs-keyword">var</span> title = parentNode.getElementsByTagName('item').item(j).text;
            <span class="hljs-keyword">var</span> row = <span class="hljs-type">Ti</span>.<span class="hljs-type">UI</span>.createTableViewRow({
                height : <span class="hljs-number">110</span>
            });
            <span class="hljs-keyword">var</span> label = <span class="hljs-type">Ti</span>.<span class="hljs-type">UI</span>.createLabel({
                height : <span class="hljs-type">Ti</span>.<span class="hljs-type">UI</span>.<span class="hljs-type">SIZE</span>,
                width : <span class="hljs-type">Ti</span>.<span class="hljs-type">UI</span>.<span class="hljs-type">SIZE</span>,
                text : title
            });

            row.add(label);
            <span class="hljs-literal">result</span>.push(row);
        }
    }

}
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 29th 2012, 3:54:33 am">August 29th 2012</span>
								by <span class='authorname'>Shalini Kushwaha</span><br>
								<a class="icon-bg icon-link" href="question/141574/get-values-from-a-xml-file#answer-246225" rel="permalink">permalink</a>
							</div>

							<h5>4 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Thank you Very much!</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 29th 2012, 7:23:49 am">August 29th 2012</span>
											by <span class='authorname'>John S</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>please mark answer as correct to help others</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 29th 2012, 9:50:38 am">August 29th 2012</span>
											by <span class='authorname'>Shalini Kushwaha</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>i did that already.i marked it as the best answer.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 29th 2012, 10:00:58 am">August 29th 2012</span>
											by <span class='authorname'>John S</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>OK.Thanks..</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 29th 2012, 10:12:15 am">August 29th 2012</span>
											by <span class='authorname'>Shalini Kushwaha</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-246159">
				
						<section>
							<p>var win = Ti.UI.createWindow({<br>    backgroundColor : &#39;white&#39;<br>});</p>
<p>var result = [];</p>
<p>var fileName = &#39;test.xml&#39;;  &#x2F;&#x2F;save xml file<br>var tableView = Ti.UI.createTableView({<br>    &#x2F;&#x2F;data : result,<br>    width : &#39;100%&#39;,<br>    height : &#39;100%&#39;<br>});</p>
<p>&#x2F;&#x2F;This function read the xml based on tag name passed<br>function readXML(fileName) {<br>    var file = Ti.Filesystem.getFile(Ti.Filesystem.resourcesDirectory, fileName);<br>    var xmltext = file.read().text;<br>    var doc = Ti.XML.parseString(xmltext);<br>    &#x2F;&#x2F;Get the length<br>    var length = doc.documentElement.getElementsByTagName(&#39;item&#39;).length;</p>
<pre><code class="hljs">for <span class="hljs-list">(<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span><span class="hljs-comment">; i &lt; length; i++) {</span>

    var title = doc.documentElement.getElementsByTagName<span class="hljs-list">(<span class="hljs-quoted">'item</span>')</span>.item<span class="hljs-list">(<span class="hljs-keyword">i</span>)</span>.text<span class="hljs-comment">;</span>
    var row = Ti.UI.createTableViewRow<span class="hljs-list">({
         height:<span class="hljs-number">110</span>
    })</span><span class="hljs-comment">;</span>

var label= Ti.UI.createLabel<span class="hljs-list">({
    height:  Ti.UI.SIZE,
    width: Ti.UI.SIZE,
    text: title
    })</span><span class="hljs-comment">;</span>

    row.add<span class="hljs-list">(<span class="hljs-keyword">label</span>)</span><span class="hljs-comment">;        </span>
    result.push<span class="hljs-list">(<span class="hljs-keyword">row</span>)</span><span class="hljs-comment">;</span>
}</span>
</code></pre><p>}</p>
<p>readXML(fileName);<br>tableView.setData(result);<br>win.add(tableView);<br>win.open();</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 28th 2012, 7:56:16 am">August 28th 2012</span>
								by <span class='authorname'>Shalini Kushwaha</span><br>
								<a class="icon-bg icon-link" href="question/141574/get-values-from-a-xml-file#answer-246159" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Thanks for the answer.It is working but am getting all the values in that xml file with the tag &#39;item&#39; in the table view……….But what should i do if i want to get only the items in &#39;MainCategories&#39; list?</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 28th 2012, 8:24:52 am">August 28th 2012</span>
											by <span class='authorname'>John S</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
