<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>How to get Facebook Access Token without logging in Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>How to get Facebook Access Token without logging in</h1>
		</header>
		<section>
			<p>I am having trouble finding a way to get a Graph API command to get information from Facebook. Here&#39;s what I&#39;m trying to accomplish: I need the app to access public, and only public, event information.</p>
<p>Here&#39;s the test code:</p>
<pre><code class="hljs">Titanium.Facebook.requestWithGraphPath(<span class="hljs-string">'username/events'</span>, {},  <span class="hljs-string">'GET'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(r)</span></span>{
            <span class="hljs-keyword">if</span> (!r.success) 
            {
                <span class="hljs-keyword">if</span> (r.<span class="hljs-built_in">error</span>) 
                {
                    alert(r.<span class="hljs-built_in">error</span>);
                } 
                <span class="hljs-keyword">else</span> 
                {
                    alert(<span class="hljs-string">"call was unsuccessful"</span>);
                }
            }
            <span class="hljs-keyword">else</span>
                alert(r.result);
    });
}
</code></pre><p>The code above throws the following Facebook error: <em>facebookErrDomain error 10000</em></p>
<p>I have read that I may need something called an access token to get this information, but from what I&#39;m reading, it requires login authentication. Requiring the app user to login <strong>entirely defeats the purpose</strong> of what I am trying to accomplish here. I do not want my users to be limited in the using the app if they do not have a Facebook account. </p>
<p>I need to know:</p>
<ul>
<li>Am I doing this completely wrong? (I&#39;m still new to Titanium Studio.)</li>
<li>If not, is there some sort of way to get a public access token without logging in?</li>
<li>If so, how do I use the access code in the code I have provided, or do I need to change the code?</li>
</ul>
<p>Other useful information:</p>
<ul>
<li>I have an AppID and App Secret from registering with Facebook, but have no clue if I need to use them or how.</li>
</ul>
<p>Please, be as explicit in your answers. This forum seems to be riddled with vague answers.</p>
<p>Thanks in advance!</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="October 24th 2012, 9:23:35 pm">October 24th 2012</span>
				by <span class='authorname'>Lance Faul</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>access</span></li>
					
						<li><span class='tagname'>facebook</span></li>
					
						<li><span class='tagname'>public</span></li>
					
						<li><span class='tagname'>token</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-249986">
				
						<section>
							<p>i have got the token key by requesting the url </p>
<pre><code class="hljs"><span class="hljs-string">https:</span><span class="hljs-comment">//graph.facebook.com/oauth/access_token?client_id=yourappid&amp;client_secret=yourappsecret&amp;grant_type=client_credentials</span>
</code></pre><p>but my problem is now that the first request always get a bad request result ..<br>i have been searching all over the net and i couldnt find a way to do what you want to do , i do most of what you want to do using REST but for graph.facebook.com url not depending on the facebook sdk</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="October 25th 2012, 3:56:08 pm">October 25th 2012</span>
								by <span class='authorname'>Mhd Zaher Ghaibeh</span><br>
								<a class="icon-bg icon-link" href="question/143936/how-to-get-facebook-access-token-without-logging-in#answer-249986" rel="permalink">permalink</a>
							</div>

							<h5>5 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Thanks for the response. As soon as I get back to working on it, I&#39;ll test this solution. If I get the same issue, I will let you know. If I do not, I&#39;ll try to help you figure out why you are experiencing this issue. Also, you may want to stop using REST. Here&#39;s why:</p>
<p><em><strong>We are in the process of deprecating the REST API.</strong> If you are building a new Facebook app, please use the Graph API. While there is still functionality that we have not ported over yet, the Graph API is the center of Facebook Platform moving forward and where all new features will be found.</em></p>
<p>You can find more information on this at: <a href="https:&#x2F;&#x2F;developers.facebook.com&#x2F;docs&#x2F;reference&#x2F;rest&#x2F;">https:&#x2F;&#x2F;developers.facebook.com&#x2F;docs&#x2F;reference&#x2F;rest&#x2F;</a></p>
<p>Thanks again!</p>
</p>
										<div class="author">
											&mdash; commented <span title="October 25th 2012, 4:09:29 pm">October 25th 2012</span>
											by <span class='authorname'>Lance Faul</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>i know that but since if you request the graph api from the url it will give you a json result which i want to handle my data :D, and if you noticed, i said i used the REST with graph api ..</p>
<pre><code class="hljs"><span class="hljs-string">https:</span><span class="hljs-comment">//graph.facebook.com/19292868552</span>
</code></pre><p>request the url using the network solve my issue .. and my problem with the SDK is that there is no way to get the auth_token without user login.</p>
<p>i tried to set the <code>Ti.Facebook.accessToken</code>  with the <code>Ti.Facebook.setAccessToken</code> but it gives me an error which i cant remember now :( , since i was thinking that why not to get the accessToken  from the access_token url and set it to facebook so that i dont need my user to login, but it didnt work. </p>
<p>any way am waiting your feed back maybe we can solve it together ..</p>
</p>
										<div class="author">
											&mdash; commented <span title="October 25th 2012, 4:17:42 pm">October 25th 2012</span>
											by <span class='authorname'>Mhd Zaher Ghaibeh</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>here is how i have solve it </p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> tokenurl = <span class="hljs-string">'https://graph.facebook.com/oauth/access_token?client_id=yourappid&amp;client_secret=yourappsecret&amp;grant_type=client_credentials'</span>; 

<span class="hljs-keyword">var</span> feed_url = <span class="hljs-string">'https://graph.facebook.com/somepage/feed?fields=from,message,picture,type&amp;limit=10'</span>;
<span class="hljs-keyword">var</span> authToken = Ti.App.Properties.getString(<span class="hljs-string">'authToken'</span>);

<span class="hljs-keyword">var</span> request_url = feed_url +  <span class="hljs-string">'&amp;'</span> + authToken;

<span class="hljs-keyword">var</span> serviceList = [tokenurl,request_url];
<span class="hljs-keyword">var</span> xhr;

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">processServiceList</span><span class="hljs-params">(index)</span>
</span>{
    <span class="hljs-keyword">var</span> serviceinfo = serviceList[index];

        <span class="hljs-comment">// use only one httpclient</span>
        <span class="hljs-keyword">if</span> ( xhr == <span class="hljs-literal">null</span> ) {
            xhr = Ti.Network.createHTTPClient();
        }

    <span class="hljs-keyword">var</span> requestURI = serviceinfo;
    xhr.open(<span class="hljs-string">"GET"</span>,requestURI);
    xhr.onload = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>
    </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.readyState == xhr.DONE &amp;&amp; <span class="hljs-keyword">this</span>.status == <span class="hljs-number">200</span>)
        {
            <span class="hljs-keyword">if</span>(!index){
                Ti.App.Properties.setString(<span class="hljs-string">'authToken'</span>,<span class="hljs-keyword">this</span>.responseText);

                Ti.API.log(<span class="hljs-string">'we are at number one '</span> + <span class="hljs-keyword">this</span>.responseText);

                processServiceList(<span class="hljs-number">1</span>);
            }<span class="hljs-keyword">else</span>{
                handelNews(<span class="hljs-keyword">this</span>.responseText); <span class="hljs-comment">// this function to handle the json out of this scope</span>
                Ti.API.log(<span class="hljs-string">'we are at number two '</span> + <span class="hljs-keyword">this</span>.responseText);        
            }
        }
    }
    xhr.send();
}
</code></pre><p>and its based on this <a href="https:&#x2F;&#x2F;gist.github.com&#x2F;1041936">https:&#x2F;&#x2F;gist.github.com&#x2F;1041936</a></p>
<p>and as you can see am using the REST because the facebook API does not help me with what i want.</p>
</p>
										<div class="author">
											&mdash; commented <span title="October 25th 2012, 7:36:59 pm">October 25th 2012</span>
											by <span class='authorname'>Mhd Zaher Ghaibeh</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Thank you so much! Your insight was invaluable! I was able to piece together some of the principles used in your code and make it work for my app. I will be posting a very detailed description on how to obtain public access tokens soon! Thanks again for the explicit answers!</p>
</p>
										<div class="author">
											&mdash; commented <span title="October 26th 2012, 12:56:54 am">October 26th 2012</span>
											by <span class='authorname'>Lance Faul</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>here is my improvements </p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> tokenurl = <span class="hljs-string">'https://graph.facebook.com/oauth/access_token?client_id=yourappid&amp;client_secret=yourappsecret&amp;grant_type=client_credentials'</span>; 

<span class="hljs-keyword">var</span> feed_url = <span class="hljs-string">'https://graph.facebook.com/somepage/feed?fields=from,message,picture,type&amp;limit=10'</span>;

<span class="hljs-keyword">var</span> serviceList = [tokenurl];
<span class="hljs-keyword">var</span> xhr;

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">processServiceList</span><span class="hljs-params">(index)</span>
</span>{
    <span class="hljs-keyword">var</span> serviceinfo = serviceList[index];

        <span class="hljs-comment">// use only one httpclient</span>
        <span class="hljs-keyword">if</span> ( xhr == <span class="hljs-literal">null</span> ) {
            xhr = Ti.Network.createHTTPClient();
        }

    <span class="hljs-keyword">var</span> requestURI = serviceinfo;
    xhr.open(<span class="hljs-string">"GET"</span>,requestURI);
    xhr.onload = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>
    </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.readyState == xhr.DONE &amp;&amp; <span class="hljs-keyword">this</span>.status == <span class="hljs-number">200</span>)
        {
            <span class="hljs-keyword">if</span>(!index){

        <span class="hljs-keyword">var</span> request_url = feed_url +  <span class="hljs-string">'&amp;'</span> +  <span class="hljs-keyword">this</span>.responseText;
         serviceList.push(request_url);
                processServiceList(<span class="hljs-number">1</span>);
            }<span class="hljs-keyword">else</span>{
                handelNews(<span class="hljs-keyword">this</span>.responseText); <span class="hljs-comment">// this function to handle the json out of this scope</span>
            }
        }
    }
    xhr.send();
}
</code></pre><p>and now the bad request has gone away :D</p>
<p>the problem is that when it get the value of the auth_token first time it was unset, but now am sure it will be set whenever i request the url</p>
</p>
										<div class="author">
											&mdash; commented <span title="October 26th 2012, 5:22:28 pm">October 26th 2012</span>
											by <span class='authorname'>Mhd Zaher Ghaibeh</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-250119">
				
						<section>
							<p>You can find the answer here: <a href="http:&#x2F;&#x2F;xpliciti.wordpress.com">http:&#x2F;&#x2F;xpliciti.wordpress.com</a>. Thanks again to Mhd Zaher Ghaibeh.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="October 29th 2012, 1:32:54 am">October 29th 2012</span>
								by <span class='authorname'>Lance Faul</span><br>
								<a class="icon-bg icon-link" href="question/143936/how-to-get-facebook-access-token-without-logging-in#answer-250119" rel="permalink">permalink</a>
							</div>

							<h5>2 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>your welcome, but remember to close the question, or mark it as solved</p>
</p>
										<div class="author">
											&mdash; commented <span title="October 29th 2012, 2:01:16 am">October 29th 2012</span>
											by <span class='authorname'>Mhd Zaher Ghaibeh</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Hi.</p>
<p>Maybe you know how to get a page access_token  so it is possible to post a photo on to a fanpage also?</p>
<p>Sefull questione <a href="http:&#x2F;&#x2F;developer.appcelerator.com&#x2F;question&#x2F;146496&#x2F;post-upload-photo-to-fanpage-on-facebook-with-page-token">Here</a></p>
<p>Thanx.</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 6th 2013, 5:10:42 pm">January 6th 2013</span>
											by <span class='authorname'>Richard Harrysson</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
