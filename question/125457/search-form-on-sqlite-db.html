<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>search form on sqlite db Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>search form on sqlite db</h1>
		</header>
		<section>
			<p>i have a fairly small sqlite db which works great as expected retriving normal queries and display as a tableview but i&#39;m unsure how to create the search form that would then pass the variable into the results.js</p>
<p>eg:</p>
<pre><code class="hljs">    searchform.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span>
    </span>{
        <span class="hljs-keyword">var</span> mw = Ti.UI.createWindow({
            url:<span class="hljs-string">'results.js'</span>,
            backButtonTitle:<span class="hljs-string">'&lt; back'</span>,
            title:<span class="hljs-string">'Results'</span>
        });
        mw.searchterm = <span class="hljs-string">"how do i get this from a form ?"</span>;
        win.tab.open(mw,{animated:<span class="hljs-literal">true</span>});    
    });
</code></pre><pre><code class="hljs"><span class="hljs-keyword">var</span> searchterm = <span class="hljs-keyword">win</span>.searchterm;

<span class="hljs-keyword">var</span> dbrows = <span class="hljs-keyword">db</span>.execute('SELECT  *  FROM dbname WHERE <span class="hljs-keyword">label</span> LIKE <span class="hljs-string">"%'+searchterm+'%"</span> <span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> <span class="hljs-keyword">label</span> ASC');
</code></pre>
		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="September 12th 2011, 10:55:51 am">September 12th 2011</span>
				by <span class='authorname'>adrian harris</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>search</span></li>
					
						<li><span class='tagname'>sqlite</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-218631">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>Like this?</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> mw = Ti.UI.createWindow({
            url:<span class="hljs-string">'results.js'</span>,
            backButtonTitle:<span class="hljs-string">'&lt; back'</span>,
            title:<span class="hljs-string">'Results'</span>,

        searchterm:search_field.<span class="hljs-keyword">value</span>

        });
</code></pre><p>where <strong>search_field</strong> is the textfield you are using to input the term</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="September 12th 2011, 11:14:06 am">September 12th 2011</span>
								by <span class='authorname'>Dan Tamas</span><br>
								<a class="icon-bg icon-link" href="question/125457/search-form-on-sqlite-db.html#answer-218631" rel="permalink">permalink</a>
							</div>

							<h5>4 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>why are you doing this?</p>
<pre><code class="hljs">search_field.enabled = <span class="hljs-literal">false</span>;
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="September 12th 2011, 11:45:54 am">September 12th 2011</span>
											by <span class='authorname'>Dan Tamas</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>no idea - i was reusing code from an email form i have elsewhere in the app :)</p>
</p>
										<div class="author">
											&mdash; commented <span title="September 12th 2011, 11:52:49 am">September 12th 2011</span>
											by <span class='authorname'>adrian harris</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>i &#x2F;&#x2F; it out and everything works hunky dory - thanks everyone :)</p>
</p>
										<div class="author">
											&mdash; commented <span title="September 12th 2011, 11:55:02 am">September 12th 2011</span>
											by <span class='authorname'>adrian harris</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Then remove it and try again :)<br>It should work</p>
</p>
										<div class="author">
											&mdash; commented <span title="September 12th 2011, 11:56:34 am">September 12th 2011</span>
											by <span class='authorname'>Dan Tamas</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-218633">
				
						<section>
							<p>You have to create the search form yourself, giving the user whatever options you want for them to enter search criteria.  There is no auto-magic form you can call to present a search filter query similar to the search forms presented by say phpMyAdmin or Firefox SQLite Manager.</p>
<p>Those applications are dynamically generating the search form based on the fields present in the current table.  The database itself does not provide the support for that.</p>
<p>How you would prepare the sql WHERE clause will be very dependent on what options you want to present to the user.  So can you tell use more about how you envision the &quot;search form&quot; looking?</p>
<p>Also, it is always a good idea to mention the platform(s) you wish to target.  So far we no indication if this is even a mobile or desktop project.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="September 12th 2011, 11:21:18 am">September 12th 2011</span>
								by <span class='authorname'>Doug Handy</span><br>
								<a class="icon-bg icon-link" href="question/125457/search-form-on-sqlite-db.html#answer-218633" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>yeah, sorry i was having a senior moment - the searchresult.js queries the db fine with the passed variable  (ios4)</p>
<p>used dan&#39;s obvious answer with</p>
<pre><code class="hljs">var search_field = Titanium.UI.createTextField({
    hintText:<span class="hljs-string">' search term'</span>,
    <span class="hljs-variable">height</span>:<span class="hljs-number">35</span>,
    top:<span class="hljs-number">5</span>,
    <span class="hljs-variable">width</span>:<span class="hljs-number">200</span>,
    editable:<span class="hljs-keyword">true</span>
});
</code></pre><p>with</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> send_btn = Ti.UI.createButton({
    title:<span class="hljs-string">'Search'</span>,
    width:<span class="hljs-number">120</span>,
    height:<span class="hljs-number">35</span>,
    top:<span class="hljs-number">10</span>

});

scrollView.add(send_btn);



send_btn.addEventListener(<span class="hljs-string">'click'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span></span>{

    search_field.enabled = <span class="hljs-literal">true</span>;

    <span class="hljs-keyword">if</span>(search_field.value==<span class="hljs-string">''</span>){
        alert(<span class="hljs-string">'Please enter a search term'</span>);
        <span class="hljs-keyword">return</span>;
    } 

    search_field.enabled = <span class="hljs-literal">false</span>;
        <span class="hljs-keyword">var</span> mw = Ti.UI.createWindow({
            url:<span class="hljs-string">'searchresult.js'</span>,
            backButtonTitle:<span class="hljs-string">'&lt; back'</span>,
            title:<span class="hljs-string">'Results'</span>
        });
        mw.searchterm = search_field.value;
        win.tab.open(mw,{animated:<span class="hljs-literal">true</span>});  


});
</code></pre><p>which works as expected - the only problem is when you go &quot;back&quot; - the textfield isn&#39;t then editable and i&#39;m stuck with original search term text?</p>
</p>
										<div class="author">
											&mdash; commented <span title="September 12th 2011, 11:41:54 am">September 12th 2011</span>
											by <span class='authorname'>adrian harris</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
