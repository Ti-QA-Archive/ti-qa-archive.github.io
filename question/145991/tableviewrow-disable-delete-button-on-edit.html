<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>TableViewRow disable delete button on edit Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>TableViewRow disable delete button on edit</h1>
		</header>
		<section>
			<p>I have a tableViewRow which is has the ability to change from position:</p>
<pre><code class="hljs"><span class="hljs-variable"><span class="hljs-keyword">var</span> row</span> = Titanium.UI.createTableViewRow({
            backgroundImage: <span class="hljs-string">"./images/priority_row_background.png"</span>,
            backgroundColor: <span class="hljs-string">"transparent"</span>,
            selectedColor: <span class="hljs-string">"transparent"</span>,
            selectedBackgroundColor:<span class="hljs-string">"transparent"</span>,
            <span class="hljs-comment">//title: title,</span>
            hasDetail:<span class="hljs-literal">false</span>,
            moveable : <span class="hljs-literal">true</span>,
            editable:<span class="hljs-literal">false</span>,
            height:<span class="hljs-number">60</span>
        });
</code></pre><p>Eventlistener:</p>
<pre><code class="hljs">edit.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>
</span>{
    win.setRightNavButton(cancel);
    tableView.editing = <span class="hljs-literal">true</span>;
});
</code></pre><p>As I set &quot;editable&quot; to false I expected the delete button to dissapear when a row is edited, which it has.<br>The delete button moves my labels more to the right so I wanted it to disappear, but now when a row is is edited the red delete button is gone, but the labels are still moved.:</p>
<p>Normal state:<br><a href="http:&#x2F;&#x2F;d.pr&#x2F;i&#x2F;oheX">Normal state image</a></p>
<p>Edit state:<br><a href="http:&#x2F;&#x2F;d.pr&#x2F;i&#x2F;6Krr">Row when editing&#x2F;moveable</a></p>
<p>As you can see the labels are being moved, what am I doing wrong?<br>How would I make sure my labels are not being moved arround?</p>
<p>Kind regards,<br>Vincent</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="December 20th 2012, 2:44:23 pm">December 20th 2012</span>
				by <span class='authorname'>vincent c</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>editable</span></li>
					
						<li><span class='tagname'>move</span></li>
					
						<li><span class='tagname'>moveable</span></li>
					
						<li><span class='tagname'>row</span></li>
					
						<li><span class='tagname'>tableviewrow</span></li>
					
				</ul>
			

			<section>
				<h5>2 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Need to see some actual code that builds up the rows as the problem will be the internal layout of those extra views.</p>
</div>
							<div class="author">
								&mdash; commented <span title="December 20th 2012, 5:30:16 pm">December 20th 2012</span>
								by <span class='authorname'>Malcolm Hollingsworth</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Here is my code, edited to Nick Milners answer, but the problem still remains:</p>
<pre><code class="hljs"><span class="hljs-keyword">for</span>(var i=<span class="hljs-number">0</span>; i &lt; data.length; i++){

        var line_1 = data[i].line_1;
        var line_2 = data[i].line_2;
        var isChecked = data[i].isChecked;
        var line1Color = <span class="hljs-string">"#dadada"</span>;
        var line2Color = <span class="hljs-string">"#dadada"</span>;

        <span class="hljs-keyword">if</span>(isChecked){
             var line1Color = <span class="hljs-string">"#999"</span>;
             var line2Color = <span class="hljs-string">"#006c8c"</span>;
        }

        var dataView = Titanium.UI.createView({
            <span class="hljs-variable">width</span>:<span class="hljs-string">"100%"</span>,
            <span class="hljs-variable">height</span>:<span class="hljs-string">"100%"</span>,
            left: <span class="hljs-number">40</span>,
            backgroundColor:<span class="hljs-string">"red"</span>
        });

        var position = Titanium.UI.createLabel({
            <span class="hljs-built_in">text</span>: i,
            <span class="hljs-variable">height</span>:<span class="hljs-number">40</span>,
            left:<span class="hljs-number">23</span>,
            top:<span class="hljs-number">5</span>,
            font:{
                fontWeight:<span class="hljs-string">'bold'</span>,
                fontSize:<span class="hljs-number">24</span>
            },
            <span class="hljs-built_in">color</span>: <span class="hljs-string">"white"</span>,
            backgroundColor: <span class="hljs-string">"transparent"</span>,
            <span class="hljs-built_in">textAlign</span>: <span class="hljs-string">"left"</span>,
            touchEnabled: <span class="hljs-keyword">false</span>
        });

        var rowLabel = Titanium.UI.createLabel({
            <span class="hljs-built_in">text</span>: line_1,
            <span class="hljs-variable">height</span>:<span class="hljs-number">40</span>,
            left:<span class="hljs-number">80</span>,
            top:-<span class="hljs-number">5</span>,
            fontSize: <span class="hljs-number">14</span>,
            <span class="hljs-built_in">color</span>: line1Color,
            <span class="hljs-built_in">textAlign</span>: <span class="hljs-string">"left"</span>,
            touchEnabled: <span class="hljs-keyword">false</span>
        });

        var rowLabel2 = Titanium.UI.createLabel({
            <span class="hljs-built_in">text</span>: line_2,
            <span class="hljs-variable">height</span>:<span class="hljs-number">40</span>,
            left:<span class="hljs-number">80</span>,
            bottom:<span class="hljs-number">5</span>,
            font:{
                fontWeight:<span class="hljs-string">'bold'</span>,
                fontSize:<span class="hljs-number">14</span>
            },
            <span class="hljs-built_in">color</span>: line2Color,
            <span class="hljs-built_in">textAlign</span>: <span class="hljs-string">"left"</span>,
            touchEnabled: <span class="hljs-keyword">false</span>
        });

        var row = Titanium.UI.createTableViewRow({
            backgroundImage: <span class="hljs-string">"./images/priority_row_background.png"</span>,
            backgroundColor: <span class="hljs-string">"transparent"</span>,
            selectedColor: <span class="hljs-string">"transparent"</span>,
            selectedBackgroundColor:<span class="hljs-string">"transparent"</span>,
            <span class="hljs-comment">//title: title,</span>
            hasDetail:<span class="hljs-keyword">false</span>,
            moveable : <span class="hljs-keyword">true</span>,
            editable:<span class="hljs-keyword">false</span>,
            <span class="hljs-variable">height</span>:<span class="hljs-number">60</span>
        });

        dataView.<span class="hljs-built_in">add</span>(position);
        dataView.<span class="hljs-built_in">add</span>(rowLabel);
        dataView.<span class="hljs-built_in">add</span>(rowLabel2);

        row.<span class="hljs-built_in">add</span>(dataView);
        rowData.push(row);
    }
</code></pre></div>
							<div class="author">
								&mdash; commented <span title="December 21st 2012, 6:36:34 am">December 21st 2012</span>
								by <span class='authorname'>vincent c</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-253314">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>Hi</p>
<p>Guessing you have not solved this yet and I just spotted it.</p>
<p>I have mocked up a quick test for you that replicates (simply though) your table and leaves the ledge edge and right edge in place when you use the edit button to move the rows.  The circle background are not images you can swap this out yourself.</p>
<p>The key is to have a fixed with parent inside the row, using <strong>100%</strong> or <strong>Ti.UI.FILL</strong> it adjusts the margins, fixing the width stops this.</p>
<pre><code class="hljs">var data = [
    { line_1: <span class="hljs-string">'One'</span>, line_2: <span class="hljs-string">'Red'</span>, isChecked: <span class="hljs-keyword">true</span> },
    { line_1: <span class="hljs-string">'Two'</span>, line_2: <span class="hljs-string">'Green'</span>, isChecked: <span class="hljs-keyword">true</span> },
    { line_1: <span class="hljs-string">'Three'</span>, line_2: <span class="hljs-string">'Blue'</span>, isChecked: <span class="hljs-keyword">false</span> },
    { line_1: <span class="hljs-string">'Four'</span>, line_2: <span class="hljs-string">'Yellow'</span>, isChecked: <span class="hljs-keyword">false</span> },
    { line_1: <span class="hljs-string">'Five'</span>, line_2: <span class="hljs-string">'Green'</span>, isChecked: <span class="hljs-keyword">true</span> }
];

var rowData = [], i = <span class="hljs-number">0</span>;

function addRow(obj) {
    var row = Ti.UI.createTableViewRow({
        editable: <span class="hljs-keyword">false</span>,
        <span class="hljs-variable">height</span>: <span class="hljs-number">60</span>,
        moveable: <span class="hljs-keyword">true</span>,
        <span class="hljs-variable">width</span>: Ti.UI.FILL
    });
    var view = Ti.UI.createView({
        <span class="hljs-variable">height</span>: <span class="hljs-number">50</span>,
        <span class="hljs-variable">width</span>: <span class="hljs-number">320</span>
    });
    row.<span class="hljs-built_in">add</span>(view);
    var lblPos = Ti.UI.createLabel({
        backgroundColor: <span class="hljs-string">'#006c8c'</span>,
        borderRadius: <span class="hljs-number">22</span>,
        <span class="hljs-built_in">color</span>: <span class="hljs-string">'#fff'</span>,
        font: {
            fontSize: <span class="hljs-number">24</span>,
            fontWeight: <span class="hljs-string">'bold'</span>
        },
        <span class="hljs-variable">height</span>: <span class="hljs-number">44</span>,
        left: <span class="hljs-number">10</span>,
        <span class="hljs-built_in">text</span>: obj.position,
        <span class="hljs-built_in">textAlign</span>: <span class="hljs-string">'center'</span>,
        <span class="hljs-variable">width</span>: <span class="hljs-number">44</span>
    });
    view.<span class="hljs-built_in">add</span>(lblPos);
    var viewTitle = Ti.UI.createView({
        backgroundColor: <span class="hljs-string">'#fff'</span>,
        borderColor: <span class="hljs-string">'#999'</span>,
        borderRadius: <span class="hljs-number">5</span>,
        borderWidth: <span class="hljs-number">1</span>,
        <span class="hljs-variable">height</span>: Ti.UI.SIZE,
        layout: <span class="hljs-string">'vertical'</span>,
        left: <span class="hljs-number">64</span>,
        <span class="hljs-variable">width</span>: <span class="hljs-number">320</span> - <span class="hljs-number">64</span> - <span class="hljs-number">5</span>
    });
    var lblLine1 = Ti.UI.createLabel({
        <span class="hljs-built_in">color</span>: <span class="hljs-string">'#006c8c'</span>,
        font: {
            fontSize: <span class="hljs-number">14</span>,
            fontWeight: <span class="hljs-string">'bold'</span>
        },
        <span class="hljs-variable">height</span>: <span class="hljs-number">22</span>,
        left: <span class="hljs-number">10</span>,
        <span class="hljs-built_in">text</span>: obj.line1,
        <span class="hljs-variable">width</span>: Ti.UI.SIZE
    });
    viewTitle.<span class="hljs-built_in">add</span>(lblLine1);
    var lblLine2 = Ti.UI.createLabel({
        <span class="hljs-built_in">color</span>: <span class="hljs-string">'#444'</span>,
        font: {
            fontSize: <span class="hljs-number">14</span>,
            fontWeight: <span class="hljs-string">'normal'</span>
        },
        <span class="hljs-variable">height</span>: <span class="hljs-number">22</span>,
        left: <span class="hljs-number">10</span>,
        <span class="hljs-built_in">text</span>: obj.line2,
        <span class="hljs-variable">width</span>: Ti.UI.SIZE
    });
    viewTitle.<span class="hljs-built_in">add</span>(lblLine2);
    view.<span class="hljs-built_in">add</span>(viewTitle);
    <span class="hljs-keyword">return</span> row;
};

<span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; data.length; i++) {
    rowData.push(addRow({
        line1: data[i].line_1,
        line2: data[i].line_2,
        position: i.toString()
    }));
}
var tbl = Ti.UI.createTableView({
    data: rowData,
    <span class="hljs-variable">height</span>: Ti.UI.FILL,
    separatorStyle: Ti.UI.iPhone.TableViewSeparatorStyle.NONE,
    <span class="hljs-variable">width</span>: Ti.UI.FILL
});
win.<span class="hljs-built_in">add</span>(tbl);

var btnCancel = Ti.UI.createButton({
    title: <span class="hljs-string">'Cancel'</span>
});
var btnEdit = Ti.UI.createButton({
    title: <span class="hljs-string">'Edit'</span>
});
btnCancel.addEventListener(<span class="hljs-string">'click'</span>, function (e) {
    win.setRightNavButton(btnEdit);
    tbl.setEditing(<span class="hljs-keyword">false</span>);
});
btnEdit.addEventListener(<span class="hljs-string">'click'</span>, function (e) {
    win.setRightNavButton(btnCancel);
    tbl.setEditing(<span class="hljs-keyword">true</span>);
});
win.setRightNavButton(btnEdit);
</code></pre><p>Tested and working on iOS.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="December 23rd 2012, 12:21:27 pm">December 23rd 2012</span>
								by <span class='authorname'>Malcolm Hollingsworth</span><br>
								<a class="icon-bg icon-link" href="question/145991/tableviewrow-disable-delete-button-on-edit#answer-253314" rel="permalink">permalink</a>
							</div>

							<h5>5 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Did this answer your question?</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 24th 2012, 7:17:07 pm">December 24th 2012</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Did you ever get this solved?  Did this help?</p>
</p>
										<div class="author">
											&mdash; commented <span title="February 6th 2013, 12:29:51 pm">February 6th 2013</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I got it fixed with setting the width to 100% and leaving the left and right properties 0. So I guess your answer states the same. Thanks!</p>
</p>
										<div class="author">
											&mdash; commented <span title="February 6th 2013, 12:34:08 pm">February 6th 2013</span>
											by <span class='authorname'>vincent c</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>You are welcome, do not forget to mark it as answered so others can learn the same solution.</p>
</p>
										<div class="author">
											&mdash; commented <span title="February 6th 2013, 12:35:47 pm">February 6th 2013</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Sorry, I thought I marked it.. but it yesterday but it seems to have failed.</p>
</p>
										<div class="author">
											&mdash; commented <span title="February 8th 2013, 6:27:56 am">February 8th 2013</span>
											by <span class='authorname'>vincent c</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>2</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-253181">
				
						<section>
							<p>Try adding your text to a view that you add to the row and make sure the <code>left</code> parameter of the view is indented by around 40px</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="December 20th 2012, 3:10:09 pm">December 20th 2012</span>
								by <span class='authorname'>Nick Milner</span><br>
								<a class="icon-bg icon-link" href="question/145991/tableviewrow-disable-delete-button-on-edit#answer-253181" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>I tried but this does not work either, the view is being pushed. You can see the code above</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 21st 2012, 6:36:58 am">December 21st 2012</span>
											by <span class='authorname'>vincent c</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
