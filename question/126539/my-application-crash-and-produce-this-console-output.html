<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>My application crash and produce this console output Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>My application crash and produce this console output</h1>
		</header>
		<section>
			<p>Does anyone knows about this TI console output?</p>
<p>[DEBUG] App Spec: &lt;DTiPhoneSimulatorApplicationSpecifier 0x100125f30&gt; specified by path &#x2F;Users&#x2F;1902software&#x2F;Documents&#x2F;Titanium Studio Workspace&#x2F;Amino iOS&#x2F;build&#x2F;iphone&#x2F;build&#x2F;Debug-iphonesimulator&#x2F;Amino iOS.app<br>[DEBUG] SDK Root: &lt;DTiPhoneSimulatorSystemRoot 0x100124e70&gt; path=&#x2F;Developer&#x2F;Platforms&#x2F;iPhoneSimulator.platform&#x2F;Developer&#x2F;SDKs&#x2F;iPhoneSimulator4.3.sdk version=4.3 name=Simulator - iOS 4.3<br>[DEBUG] using device family iphone<br>[DEBUG] Session started<br>[DEBUG] Session did end with error (null)<br>[INFO] Application has exited from Simulator</p>
<p>Thanks in advanced..</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="October 6th 2011, 10:27:42 pm">October 6th 2011</span>
				by <span class='authorname'>Paul Nerie</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>ios</span></li>
					
						<li><span class='tagname'>ios4</span></li>
					
						<li><span class='tagname'>ipad</span></li>
					
						<li><span class='tagname'>iphone</span></li>
					
						<li><span class='tagname'>iphone4</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-220419">
				
						<section>
							<p>Trying deleting the contents of your <code>build&amp;#x2F;iphone</code> directory and rebuilding your project. If that does not work and you are still getting this error, trying running the xcodeproject file in your <code>build&amp;#x2F;iphone</code> directory in XCode. Run your project in there and often times you will get more descriptive error output that could lead you to the source of the problem.</p>
<p>If you can&#39;t find it yourself, you may also want to include the code here.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="October 6th 2011, 10:31:45 pm">October 6th 2011</span>
								by <span class='authorname'>Tony Lukasavage</span><br>
								<a class="icon-bg icon-link" href="question/126539/my-application-crash-and-produce-this-console-output.html#answer-220419" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-220426">
				
						<section>
							<p>Hi Tony,</p>
<p>Thanks for your reply. I always deleting all contents from my build folder before running my application and if I go to xCode how would I know the meaning of errors or warnings there since I don&#39;t have experience on objectve-C ? Also lets say I found a solution on the internet on how to fix the problem using xcode , isn&#39;t it when I run my application again from titanium all changes that I have made on xcode will be replaced because TI will recreate the iphone&#39;s build folder?</p>
<p>Thanks..</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="October 6th 2011, 11:03:19 pm">October 6th 2011</span>
								by <span class='authorname'>Paul Nerie</span><br>
								<a class="icon-bg icon-link" href="question/126539/my-application-crash-and-produce-this-console-output.html#answer-220426" rel="permalink">permalink</a>
							</div>

							<h5>3 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Please use comments in the the future, it makes it easier to follow the conversation.</p>
<p>The errors present in XCode could point oyu in the right direction. They may indicate a UI component or other API that is the source of the problem. Again, we can likely help more if you post some code.</p>
</p>
										<div class="author">
											&mdash; commented <span title="October 6th 2011, 11:57:09 pm">October 6th 2011</span>
											by <span class='authorname'>Tony Lukasavage</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>oops.. sorry I wasn&#39;t aware on proper replying. </p>
<p>I don&#39;t how to attach my js file here. is that possible?  </p>
<p>Anyways here my whole script on particular js </p>
<p>Ti.include(&#39;global.js&#39;);</p>
<p>&#x2F;*##################################################<br>#</p>
<h1 id="used-on-all-functions-x2f-display-x2f-window">Used on all functions&#x2F;display&#x2F;window</h1>
<p>#</p>
<p>##################################################*&#x2F;<br>&#x2F;&#x2F;Global vars<br>var curWin = Ti.UI.currentWindow;<br>curWin.backgroundColor =&quot;#eff6f7&quot;;<br>var blogVariables = curWin.Vars;<br>var blogTable = Ti.UI.createTableView();<br>var blogs = [];<br>var blogRow = [];<br>var pageLoading = false;<br>var lastPage = false;<br>var lastPostDateLoaded = &#39;0001-01-01T00:00:00&#39;;<br>var latestPostLoaded = &#39;&#39;;<br>var buildMode = &#39;&#39;;<br>var totalItemCount = 0;<br>var postNew = false;<br>var checkConnect; &#x2F;&#x2F;Check connection<br>&#x2F;&#x2F;Webservice response vars<br>var xmlMessage ;<br>var xmlData ;<br>var mPost;<br>var soapBody;<br>var soapAction;<br>var soapEnvelope;<br>&#x2F;&#x2F;Toolbars global vars<br>Ti.UI.currentWindow.add(myBottomToolbar);</p>
<p>var upbutton =  commonUI._Button();<br>upbutton.backgroundImage = &#39;images&#x2F;ic_arrow_up.png&#39;;<br>upbutton.width = &#39;18dp&#39;;<br>upbutton.height =&#39;18dp&#39;;</p>
<p>var downbutton = commonUI._Button();<br>downbutton.backgroundImage = &#39;images&#x2F;ic_arrow_down.png&#39;;<br>downbutton.width = &#39;18dp&#39;;<br>downbutton.height =&#39;18dp&#39;;</p>
<p>var refreshbutton = commonUI._Button();<br>refreshbutton.systemButton = Titanium.UI.iPhone.SystemButton.REFRESH;</p>
<p>var fixedspacer = commonUI._Button();<br>fixedspacer.systemButton = Titanium.UI.iPhone.SystemButton.FIXED_SPACE;<br>fixedspacer.width =&#39;30dp&#39;;</p>
<p>var flexiblespacer = commonUI._Button();<br>flexiblespacer.systemButton = Titanium.UI.iPhone.SystemButton.FLEXIBLE_SPACE;</p>
<p>&#x2F;*##################################################<br>#</p>
<h1 id="used-in-get-comment-list-and-blog-information">Used in get comment list and blog information</h1>
<p>#</p>
<p>##################################################*&#x2F;<br>var scrollView = Ti.UI.createScrollView({<br>    contentWidth:&#39;auto&#39;,<br>    contentHeight:&#39;auto&#39;,<br>    top:&#39;34dp&#39;,<br>    bottom: &#39;43dp&#39;,<br>    showVerticalScrollIndicator:true,<br>    layout: &#39;vertical&#39;<br>});<br>var CommentsScrollView = Ti.UI.createScrollView({<br>    contentWidth:&#39;auto&#39;,<br>    showVerticalScrollIndicator:false,<br>    layout: &#39;vertical&#39;<br>});</p>
<p>var subViewCommentsScrollView = Titanium.UI.createView({<br>    width: &#39;100%&#39;,<br>    backgroundColor : &#39;#E4E9EC&#39;<br>});<br>var scrollViewTotalHeight = 0;<br>var refreshFlag = false;<br>var pagingFlag = false;</p>
<p>function getPost(build){</p>
<pre><code class="hljs">Ti.App.TabLoading = <span class="hljs-string">'1'</span>;

buildMode = build;
checkConnect = checkConnection();
<span class="hljs-keyword">if</span>(checkConnect==<span class="hljs-literal">true</span>){
    Ti.UI.currentWindow.opacity = <span class="hljs-number">0.7</span>;
    Ti.UI.currentWindow.add(actInd);
    actInd.show();

    <span class="hljs-keyword">var</span> request = Ti.Network.createHTTPClient();

    <span class="hljs-comment">//SET IF REFRESH EVENT IS CALLED</span>
    <span class="hljs-keyword">if</span>(buildMode==<span class="hljs-string">'refresh'</span>){
        lastPostDateLoaded = <span class="hljs-string">'0001-01-01T00:00:00'</span>;
    }


    <span class="hljs-keyword">switch</span>(blogVariables.Type){
        <span class="hljs-keyword">case</span> <span class="hljs-string">"expert"</span>:

            soapBody =     <span class="hljs-string">'&lt;GetEkspertBlogPosts xmlns="'</span>+xmlNameSpace+<span class="hljs-string">'" /&gt;'</span>;
            soapAction = xmlNameSpace+<span class="hljs-string">'GetEkspertBlogPosts'</span>;
            actInd.message = <span class="hljs-string">'Retrieving Blog...'</span>;

        <span class="hljs-keyword">break</span>;

        <span class="hljs-keyword">case</span> <span class="hljs-string">"entrepreneur"</span>:

            soapBody =     <span class="hljs-string">'&lt;GetIvaerksaetterBlogPosts xmlns="'</span>+xmlNameSpace+<span class="hljs-string">'" /&gt;'</span>;
            soapAction = xmlNameSpace+<span class="hljs-string">'GetIvaerksaetterBlogPosts'</span>;
            actInd.message = <span class="hljs-string">'Retrieving Blog...'</span>;

        <span class="hljs-keyword">break</span>;

        <span class="hljs-keyword">case</span> <span class="hljs-string">"partner"</span>:

            soapBody =     <span class="hljs-string">'&lt;GetPartnerBlogPosts xmlns="'</span>+xmlNameSpace+<span class="hljs-string">'" /&gt;'</span>;
            soapAction = xmlNameSpace+<span class="hljs-string">'GetPartnerBlogPosts'</span>;
            actInd.message = <span class="hljs-string">'Retrieving Blog...'</span>;

        <span class="hljs-keyword">break</span>;

        <span class="hljs-keyword">default</span>:
            soapBody =     <span class="hljs-string">'&lt;GetBlogPostComments xmlns="'</span>+xmlNameSpace+<span class="hljs-string">'"&gt;'</span> +
                            <span class="hljs-string">'&lt;blogPostId&gt;'</span>+blogVariables.BlogPostId+<span class="hljs-string">'&lt;/blogPostId&gt;'</span> +
                        <span class="hljs-string">'&lt;/GetBlogPostComments &gt;'</span>;
            soapAction = xmlNameSpace+<span class="hljs-string">'GetBlogPostComments'</span>;
            actInd.message = <span class="hljs-string">'Retrieving Comments...'</span>;

        <span class="hljs-keyword">break</span>;
    }
    soapEnvelope = createEnvelope(soapBody,lastPostDateLoaded);
    <span class="hljs-comment">//Execute on successful soapcall</span>
    request.onload = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span></span>{

        <span class="hljs-comment">//alert("LOAD BLOPG "+request.responseText);</span>
        <span class="hljs-keyword">if</span>(blogVariables.Type != <span class="hljs-string">"Comments"</span>){
            buildBlogList(request.responseText,buildMode,blogVariables);
        }<span class="hljs-keyword">else</span>{
            <span class="hljs-comment">//alert("apir");</span>
            buildCommentList(request.responseText,buildMode,blogVariables);
        }
    };

    <span class="hljs-comment">//Execute on error</span>
    request.onerror = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span></span>{
        actInd.hide();
        Ti.UI.currentWindow.remove(actInd);
        Ti.App.TabLoading = <span class="hljs-string">'0'</span>;
        <span class="hljs-comment">//Inserted By: Ryan Misenas</span>
        <span class="hljs-comment">//Date: 09-20-2011 09:11</span>
        <span class="hljs-comment">//Details: added devMode so the app will prompt the callback, http response and soap envelope sent that caused the error</span>
        <span class="hljs-keyword">if</span>(devMode===<span class="hljs-literal">true</span>){
            alert(e);
            alert(request.responseText);
            alert(soapEnvelope);
        }
        <span class="hljs-keyword">else</span> {
            onConnectionTimeOut();
        }
    }

    <span class="hljs-comment">//Execute on request timeout</span>
    request.ontimeout = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span></span>{
        actInd.hide();
        Ti.UI.currentWindow.remove(actInd);
        Ti.App.TabLoading = <span class="hljs-string">'0'</span>;

        <span class="hljs-comment">//Inserted By: Ryan Misenas</span>
        <span class="hljs-comment">//Date: 09-20-2011 09:11</span>
        <span class="hljs-comment">//Details: added devMode so the app will prompt the callback, http response and soap envelope sent that caused the error</span>
        <span class="hljs-keyword">if</span>(devMode===<span class="hljs-literal">true</span>){
            alert(e);
            alert(request.responseText);
            alert(soapEnvelope);
        }
        <span class="hljs-keyword">else</span> {
            onConnectionTimeOut();
        }
    }


    <span class="hljs-comment">//Execute SOAP CALL</span>
    request.setTimeout(<span class="hljs-number">0</span>);
    request.open(<span class="hljs-string">'POST'</span>,sessionHost);
    request.setRequestHeader(<span class="hljs-string">'Content-Type'</span>,<span class="hljs-string">'text/xml; charset=utf-8'</span>);
    request.setRequestHeader(<span class="hljs-string">'SOAPAction'</span>,soapAction);
    request.send(soapEnvelope);
}
</code></pre><p>}</p>
<p>function buildBlogList(xmlPosts,build,blogVars){</p>
<pre><code class="hljs">buildMode = build;
actInd.message = <span class="hljs-string">'Building Blog List...'</span>;

xmlMessage = xmlPosts;
xmlData = Ti.XML.parseString(xmlMessage);

<span class="hljs-keyword">if</span>(xmlData.documentElement.getElementsByTagName(<span class="hljs-string">"RequestDate"</span>).item(<span class="hljs-number">0</span>).text==<span class="hljs-keyword">null</span>){
    actInd.hide(); 
    Ti.UI.currentWindow.remove(actInd);
    onConnectionTimeOut();
}<span class="hljs-keyword">else</span>{

            mPost = xmlData.documentElement.getElementsByTagName(<span class="hljs-string">"AminoBlogPost"</span>);




            <span class="hljs-keyword">if</span>(mPost.length &lt; <span class="hljs-number">20</span>)
                lastPage = <span class="hljs-keyword">true</span>;

            <span class="hljs-keyword">if</span>(mPost.length &gt; <span class="hljs-number">0</span>){
                <span class="hljs-comment">//CLEAR LIST IF BUILD MODE IS REFRESH</span>
                <span class="hljs-keyword">if</span>(buildMode == <span class="hljs-string">'refresh'</span>){
                    blogTable.setData([]);
                    blogs = [];
                    <span class="hljs-comment">//blogRow = [];</span>
                }

                <span class="hljs-comment">//End inserted by Ryan Dizon</span>
                <span class="hljs-keyword">for</span>(i=<span class="hljs-number">0</span>, maxi=mPost.length; i&lt;maxi; i++){
                    var blog = {
                        BlogId: emptyOnNull(mPost.item(i).getElementsByTagName('BlogId').item(0).text),
                        BlogPostId: emptyOnNull(mPost.item(i).getElementsByTagName('BlogPostId').item(0).text),
                        BlogPostTitle: emptyOnNull(mPost.item(i).getElementsByTagName('BlogPostTitle').item(0).text),
                        BlogPostBody: emptyOnNull(mPost.item(i).getElementsByTagName('BlogPostBody').item(0).text),
                        BlogPostDate: emptyOnNull(mPost.item(i).getElementsByTagName('BlogPostDate').item(0).text),
                        Author: emptyOnNull(mPost.item(i).getElementsByTagName('Author').item(0).text),
                        AuthorAvatarUrl: emptyOnNull(mPost.item(i).getElementsByTagName('AuthorAvatarUrl').item(0).text),
                        CanReply: emptyOnNull(mPost.item(i).getElementsByTagName('CanReply').item(0).text),
                        BlogPostBodyExcerpt: emptyOnNull(mPost.item(i).getElementsByTagName('BlogPostBodyExcerpt').item(0).text),
                        Type: 'Comments' // TO distinguish <span class="hljs-keyword">if</span> table will list comments not a blogs
                    };

                    lastPostDateLoaded = blog.BlogPostDate;

                    blogs.push(blog);
                    blogRow[i] = createBlogRow(blog);

                    <span class="hljs-keyword">if</span>(buildMode == <span class="hljs-string">'next'</span>){
                        blogTable.appendRow(blogRow[i]);
                    } 
                }

                <span class="hljs-keyword">if</span>(buildMode != <span class="hljs-string">'next'</span>){
                    blogTable.setData(blogRow);
                    Ti.API.debug(<span class="hljs-string">'you inserted: '</span> + blogRow.length + <span class="hljs-string">'rows'</span>);
                }

                <span class="hljs-keyword">if</span>(buildMode == undefined || buildMode == <span class="hljs-keyword">null</span> || buildMode == <span class="hljs-string">''</span>){

                    blogTable.addEventListener(<span class="hljs-string">'scrollEnd'</span>,function(e){
                        <span class="hljs-comment">//alert(e.contentSize.height + " --&gt; "+e.contentOffset.y+ " -- "+e.size.height);</span>
                        var totalTableHeight = e.contentSize.height;
                        var totalCoordinates = (e.contentOffset.y + e.size.height); 
                        <span class="hljs-keyword">if</span>(totalCoordinates &gt;= totalTableHeight &amp;&amp; pageLoading == <span class="hljs-keyword">false</span> &amp;&amp; lastPage == <span class="hljs-keyword">false</span>){
                            pageLoading = <span class="hljs-keyword">true</span>;
                            getPost(<span class="hljs-string">'next'</span>);

                        }

                    });

                    refreshbutton.addEventListener(<span class="hljs-string">"click"</span>,function(){

                        getPost(<span class="hljs-string">'refresh'</span>);

                    });
                    upbutton.addEventListener(<span class="hljs-string">'click'</span>,function(){
                        blogTable.scrollToTop(<span class="hljs-number">0</span>);
                    });
                    downbutton.addEventListener(<span class="hljs-string">'click'</span>,function(){
                        blogTable.scrollToIndex((mPost.length - <span class="hljs-number">1</span>),{position:Titanium.UI.iPhone.TableViewScrollPosition.BOTTOM});

                    });

                    myBottomToolbar.items = [refreshbutton,flexiblespacer,upbutton,fixedspacer,downbutton];

                    blogTable.backgroundColor = <span class="hljs-string">'#dae2e4'</span>;
                    blogTable.separatorColor = <span class="hljs-string">'#fff'</span>;
                    blogTable.bottom = <span class="hljs-string">'43dp'</span>;
                    curWin.add(blogTable);
                }    
            }
            <span class="hljs-keyword">else</span> {
                lastPage = <span class="hljs-keyword">true</span>;
            }

            pageLoading = <span class="hljs-keyword">false</span>;
            actInd.hide();
            Ti.UI.currentWindow.remove(actInd);
            Ti.UI.currentWindow.opacity = <span class="hljs-number">1.0</span>;


}
Ti.App.TabLoading = <span class="hljs-string">'0'</span>;
</code></pre><p>}</p>
<p>function buildCommentList(xmlPosts,build,blogVars){<br>    &#x2F;&#x2F;Ti.API.info(xmlsPosts+ &quot;\n T:&quot;+build);</p>
<pre><code class="hljs">buildMode = build;
<span class="hljs-keyword">if</span>(buildMode == <span class="hljs-string">"refresh"</span>){
    actInd.message = <span class="hljs-string">'Refreshing Comment List...'</span>;
}<span class="hljs-keyword">else</span>{
    actInd.message = <span class="hljs-string">'Building Comment List...'</span>;
}


xmlMessage = xmlPosts;
xmlData = Ti.<span class="hljs-keyword">XML</span>.parseString(xmlMessage);

<span class="hljs-keyword">if</span>(xmlData.documentElement.getElementsByTagName(<span class="hljs-string">"RequestDate"</span>).item(<span class="hljs-number">0</span>).<span class="hljs-built_in">text</span>==<span class="hljs-keyword">null</span>){
    actInd.hide(); 
    Ti.UI.currentWindow.remove(actInd);
    onConnectionTimeOut();
}<span class="hljs-keyword">else</span>{
        <span class="hljs-comment">//alert(xmlPosts);</span>
            <span class="hljs-keyword">if</span>(xmlData.documentElement.getElementsByTagName(<span class="hljs-string">"AminoBlogPostComment"</span>) != undefined){
                <span class="hljs-comment">//alert("meron");</span>
                 mPost = xmlData.documentElement.getElementsByTagName(<span class="hljs-string">"AminoBlogPostComment"</span>);
            }<span class="hljs-keyword">else</span>{
                mPost = <span class="hljs-keyword">false</span>;
            }

            <span class="hljs-comment">//("POST "+mPost.length);</span>

            var myTopMenuView = mySkinController.getTopMenuView();

            myTopMenuView.children[<span class="hljs-number">1</span>].hide();
                                    <span class="hljs-comment">//myTopMenuView.children[7].left ='40dp';</span>
            myTopMenuView.children[<span class="hljs-number">0</span>].left = <span class="hljs-string">'0dp'</span>;
            myTopMenuView.children[<span class="hljs-number">0</span>].right = <span class="hljs-string">'0dp'</span>;

            myTopMenuView.<span class="hljs-variable">width</span>=<span class="hljs-string">"100%"</span>;
            var imageBackCurrentWindowBtn = commonUI._ImageView();
            imageBackCurrentWindowBtn.backgroundImage = <span class="hljs-string">'images/ic_back.png'</span>;
            imageBackCurrentWindowBtn.left = <span class="hljs-string">'0dp'</span>;
            imageBackCurrentWindowBtn.<span class="hljs-variable">height</span> = <span class="hljs-string">'34dp'</span>;
            imageBackCurrentWindowBtn.<span class="hljs-variable">width</span> = <span class="hljs-string">'44dp'</span>;
            myTopMenuView.<span class="hljs-built_in">add</span>(imageBackCurrentWindowBtn);

            var imageReplyBtn = commonUI._Button(); 
            imageReplyBtn.backgroundImage = <span class="hljs-string">'images/blog/btn_comment.png'</span>;
            imageReplyBtn.right = <span class="hljs-string">'0dp'</span>;
            imageReplyBtn.<span class="hljs-variable">height</span> = <span class="hljs-string">'34dp'</span>;
            imageReplyBtn.<span class="hljs-variable">width</span> = <span class="hljs-string">'75dp'</span>;
            <span class="hljs-comment">//imageReplyBtn.title = 'Comment';</span>
            <span class="hljs-comment">//imageBackBtn.font = {fontWeight:'bold',fontSize:'11sp', fontFamily:'Arial'};</span>
            <span class="hljs-comment">//imageBackBtn.color = '#003046';</span>


            var labelReply = commonUI._Label();
            labelReply.<span class="hljs-built_in">text</span> = <span class="hljs-string">'Comment'</span>;
            labelReply.<span class="hljs-built_in">color</span> = <span class="hljs-string">'#003046'</span>;
            labelReply.font = {fontWeight:<span class="hljs-string">'bold'</span>,fontSize:<span class="hljs-string">'11sp'</span>, fontFamily:<span class="hljs-string">'Arial'</span>};
            labelReply.<span class="hljs-built_in">textAlign</span> = <span class="hljs-string">'left'</span>;
            labelReply.right = <span class="hljs-string">'16dp'</span>;
            labelReply.<span class="hljs-variable">height</span> = <span class="hljs-string">'15dp'</span>;
            labelReply.<span class="hljs-variable">width</span> = <span class="hljs-string">'auto'</span>;
            labelReply.zIndex = <span class="hljs-number">199</span>;
            <span class="hljs-comment">//alert(blogVars.CanReply);</span>

            myTopMenuView.children[<span class="hljs-number">2</span>].addEventListener(<span class="hljs-string">"click"</span>,function(){
                    Ti.UI.currentWindow.close();
            });

            <span class="hljs-keyword">if</span>(blogVars.CanReply == <span class="hljs-string">"true"</span>){ <span class="hljs-comment">// Blog is not less that 3 months old // users can post their replies</span>
                myTopMenuView.<span class="hljs-built_in">add</span>(imageReplyBtn);
                myTopMenuView.<span class="hljs-built_in">add</span>(labelReply);

                myTopMenuView.children[<span class="hljs-number">3</span>].addEventListener(<span class="hljs-string">"click"</span>,function(){

                    var cancel =  Ti.UI.createButton({
                        title:<span class="hljs-string">'Cancel'</span>,
                        style:Ti.UI.iPhone.SystemButtonStyle.BORDERED
                    });
                    cancel.addEventListener(<span class="hljs-string">"click"</span>,function(){
                            commentwindow.close();
                    });



                    var done =  Ti.UI.createButton({
                        title:<span class="hljs-string">'Send'</span>,
                        style:Ti.UI.iPhone.SystemButtonStyle.DONE
                    });

                    var commenttextfield = Titanium.UI.createTextArea({
                            <span class="hljs-variable">height</span>:<span class="hljs-string">'130dp'</span>,
                            <span class="hljs-variable">width</span>:<span class="hljs-string">'98%'</span>,
                            top:<span class="hljs-string">'30dp'</span>,
                            font:{fontSize:<span class="hljs-number">20</span>,fontFamily:<span class="hljs-string">'Arial'</span>, fontWeight:<span class="hljs-string">'bold'</span>},
                            <span class="hljs-built_in">color</span>:<span class="hljs-string">'#999'</span>,
                            <span class="hljs-built_in">textAlign</span>:<span class="hljs-string">'left'</span>,
                            borderWidth:<span class="hljs-number">2</span>,
                            borderColor:<span class="hljs-string">'#bbb'</span>,
                            borderRadius:<span class="hljs-number">5</span>
                        });

                    var commentwindow = Titanium.UI.createWindow({
                        title:<span class="hljs-string">'Add Comment'</span>,
                        barColor:<span class="hljs-string">"#003953"</span>,
                        rightNavButton : done,
                        leftNavButton:cancel,
                        backgroundColor:<span class="hljs-string">'#eff6f7'</span>
                    });
                    commentwindow.<span class="hljs-built_in">add</span>(commenttextfield);
                    commentwindow.<span class="hljs-built_in">open</span>({
                        modal:<span class="hljs-keyword">true</span>,
                        modalTransitionStyle: Ti.UI.iPhone.MODAL_TRANSITION_STYLE_COVER_VERTICAL,
                        modalStyle: Ti.UI.iPhone.MODAL_PRESENTATION_FORMSHEET
                    })

                    commentwindow.addEventListener(<span class="hljs-string">"open"</span>,function(){
                        commenttextfield.focus(); 
                    });

                    done.addEventListener(<span class="hljs-string">"click"</span>,function(){
                        <span class="hljs-keyword">if</span>(commenttextfield.value == <span class="hljs-string">""</span> || commenttextfield.value == <span class="hljs-keyword">null</span> || commenttextfield.value.length &lt; <span class="hljs-number">1</span>){
                            alert(<span class="hljs-string">"Please enter your comment."</span>);
                            <span class="hljs-keyword">return</span> <span class="hljs-keyword">false</span>;
                        }<span class="hljs-keyword">else</span>{
                            var fieldObjects = {
                                windowObj : commentwindow,
                                textareaObj : commenttextfield,
                                cancelObj:cancel,
                                doneObj:done
                            }
                            <span class="hljs-comment">//commentwindow.tabBarHidden = true;</span>
                            submitComment(blogVars.BlogPostId,fieldObjects);
                        }
                    });
                });
            }


            <span class="hljs-comment">//CLEAR LIST IF BUILD MODE IS REFRESH</span>
                <span class="hljs-keyword">if</span>(buildMode == <span class="hljs-string">'refresh'</span>){

                    <span class="hljs-comment">//alert(scrollView.children[3].children[0].top);return false;</span>

                    refreshFlag = <span class="hljs-keyword">true</span>;

                    <span class="hljs-comment">//scrollView.children[3].children[] = null;</span>
                 <span class="hljs-comment">//   scrollView.children[3].remove(scrollView.children[3].children[0]);</span>

                <span class="hljs-comment">//    subViewCommentsScrollView.add(CommentsScrollView);</span>
                <span class="hljs-comment">//    scrollView.add(subViewCommentsScrollView);</span>

                <span class="hljs-comment">//    refreshFlag = false;</span>


                    <span class="hljs-comment">//blogs = [];</span>
                    <span class="hljs-comment">//alert(scrollView.children[3].children[0].children.length);return false;</span>
                    <span class="hljs-keyword">if</span>(scrollView.children[<span class="hljs-number">3</span>].children[<span class="hljs-number">0</span>].children.length &gt; <span class="hljs-number">20</span>){
                        var refmaxi=scrollView.children[<span class="hljs-number">3</span>].children[<span class="hljs-number">0</span>].children.length;
                        <span class="hljs-keyword">for</span>(var refi=scrollView.children[<span class="hljs-number">3</span>].children[<span class="hljs-number">0</span>].children.length; refi&lt;refmaxi; refi++){
                            scrollView.children[<span class="hljs-number">3</span>].children[<span class="hljs-number">0</span>].remove(scrollView.children[<span class="hljs-number">3</span>].children[<span class="hljs-number">0</span>].children[refi]);
                        }
                    }

                 }<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(buildMode == undefined || buildMode == <span class="hljs-keyword">null</span> || buildMode == <span class="hljs-string">''</span> ){
                        scrollView.<span class="hljs-built_in">add</span>(createBlogHead(blogVars),createBlogBody(blogVars),createCommentHead());
                        subViewCommentsScrollView.<span class="hljs-built_in">add</span>(CommentsScrollView);
                        scrollView.<span class="hljs-built_in">add</span>(subViewCommentsScrollView);
                }
            <span class="hljs-comment">//Ti.API.info(" FIRST  H: "+scrollViewTotalHeight);</span>
            <span class="hljs-keyword">if</span>(mPost.length &lt; <span class="hljs-number">20</span>)
                lastPage = <span class="hljs-keyword">true</span>;

            <span class="hljs-keyword">if</span>(mPost.length &gt; <span class="hljs-number">0</span>){



                <span class="hljs-comment">//}</span>

                <span class="hljs-keyword">if</span>(!refreshFlag){
                    refreshFlag = <span class="hljs-keyword">false</span>;
                    <span class="hljs-keyword">for</span>(i=<span class="hljs-number">0</span>, maxi=mPost.length; i&lt;maxi; i++){
                    <span class="hljs-comment">//    Ti.API.info(i + "  H: "+scrollViewTotalHeight);</span>
                        var blog = {
                            BlogPostId: emptyOnNull(mPost.item(i).getElementsByTagName(<span class="hljs-string">'BlogPostId'</span>).item(<span class="hljs-number">0</span>).<span class="hljs-built_in">text</span>),
                            BlogPostTitle: emptyOnNull(blogVars.BlogPostTitle),
                            CommentId: emptyOnNull(mPost.item(i).getElementsByTagName(<span class="hljs-string">'CommentId'</span>).item(<span class="hljs-number">0</span>).<span class="hljs-built_in">text</span>),
                            CommentAuthor: emptyOnNull(mPost.item(i).getElementsByTagName(<span class="hljs-string">'CommentAuthor'</span>).item(<span class="hljs-number">0</span>).<span class="hljs-built_in">text</span>),
                            CommentAuthorId: emptyOnNull(mPost.item(i).getElementsByTagName(<span class="hljs-string">'CommentAuthorId'</span>).item(<span class="hljs-number">0</span>).<span class="hljs-built_in">text</span>),
                            CommentBody: emptyOnNull(mPost.item(i).getElementsByTagName(<span class="hljs-string">'CommentBody'</span>).item(<span class="hljs-number">0</span>).<span class="hljs-built_in">text</span>),
                            CommentAuthorAvatarUrl: emptyOnNull(mPost.item(i).getElementsByTagName(<span class="hljs-string">'CommentAuthorAvatarUrl'</span>).item(<span class="hljs-number">0</span>).<span class="hljs-built_in">text</span>),
                            CommentDate: emptyOnNull(mPost.item(i).getElementsByTagName(<span class="hljs-string">'CommentDate'</span>).item(<span class="hljs-number">0</span>).<span class="hljs-built_in">text</span>),
                            CommentBodyExcerpt: emptyOnNull(mPost.item(i).getElementsByTagName(<span class="hljs-string">'CommentBodyExcerpt'</span>).item(<span class="hljs-number">0</span>).<span class="hljs-built_in">text</span>)
                        };

                        lastPostDateLoaded = blog.CommentDate;

                        blogs.push(blog);
                        <span class="hljs-comment">//blogRow[i] = createCommentRow(blog);</span>

                        <span class="hljs-comment">//Ti.API.info("Inc "+i+ " H: "+scrollViewTotalHeight);</span>
                        <span class="hljs-comment">//if(buildMode == 'next'){</span>
                        <span class="hljs-comment">//    var newRow = createCommentRow(blog);</span>
                        <span class="hljs-comment">//    newRow.height = 'auto'; </span>
                        <span class="hljs-comment">//    scrollViewTotalHeight += newRow.height;</span>
                            <span class="hljs-comment">//scrollView.add(newRow);</span>

                        <span class="hljs-comment">//    scrollView.children[3].children[0].add(newRow);</span>

                    <span class="hljs-comment">//    } else{</span>
                            var newRow = createCommentRow(blog , i);
                            <span class="hljs-comment">//newRow.height = 'auto'; </span>

                            var rd = newRow.children[<span class="hljs-number">2</span>].<span class="hljs-variable">height</span> - newRow.<span class="hljs-variable">height</span>;

                            <span class="hljs-comment">//</span>
                            <span class="hljs-keyword">if</span>(rd  &lt; <span class="hljs-number">1</span>){
                                <span class="hljs-comment">// var rh = newRow.height ;</span>
                                <span class="hljs-comment">// Ti.API.info(newRow.top +" "+ newRow.bottom + " 0HR "+rd + " "+newRow.height + " "+newRow.children[0].height+ " "+newRow.children[1].height+ " "+newRow.children[2].height+ " "+newRow.children[3].height+ " "+newRow.center);</span>
                                scrollViewTotalHeight += (newRow.children[<span class="hljs-number">0</span>].<span class="hljs-variable">height</span>+ newRow.children[<span class="hljs-number">1</span>].<span class="hljs-variable">height</span>+newRow.children[<span class="hljs-number">2</span>].<span class="hljs-variable">height</span>+newRow.children[<span class="hljs-number">3</span>].<span class="hljs-variable">height</span>+ newRow.children[<span class="hljs-number">4</span>].<span class="hljs-variable">height</span>)-newRow.<span class="hljs-variable">height</span> ;
                            }
                            <span class="hljs-keyword">else</span>{
                                <span class="hljs-comment">//Ti.API.info(newRow.top +" "+ newRow.bottom + " 1HR "+rd + " "+newRow.height + " "+newRow.children[0].height+ " "+newRow.children[1].height+ " "+newRow.children[2].height+ " "+newRow.children[3].height+ " "+newRow.center);</span>
                                <span class="hljs-comment">// var rh  = newRow.height + rd ;</span>
                                scrollViewTotalHeight += (newRow.children[<span class="hljs-number">0</span>].<span class="hljs-variable">height</span>+ newRow.children[<span class="hljs-number">1</span>].<span class="hljs-variable">height</span>+newRow.children[<span class="hljs-number">2</span>].<span class="hljs-variable">height</span>+newRow.children[<span class="hljs-number">3</span>].<span class="hljs-variable">height</span>+ newRow.children[<span class="hljs-number">4</span>].<span class="hljs-variable">height</span>)-(newRow.<span class="hljs-variable">height</span>+rd) ;
                            }         



                            <span class="hljs-comment">//scrollView.add(newRow);</span>

                            scrollView.children[<span class="hljs-number">3</span>].children[<span class="hljs-number">0</span>].<span class="hljs-built_in">add</span>(newRow);


                        <span class="hljs-comment">//}</span>
                    }
                }

            }
            <span class="hljs-keyword">else</span> {
                <span class="hljs-comment">//alert("as");</span>
                lastPage = <span class="hljs-keyword">true</span>;
            }

            scrollView.children[<span class="hljs-number">3</span>].<span class="hljs-variable">height</span> = scrollViewTotalHeight ;
            <span class="hljs-comment">//Ti.API.info("SCROLL "+subViewCommentsScrollView.height);</span>
            <span class="hljs-comment">//scrollView.children[3].children[0].contentHeight = (scrollViewTotalHeight + 100);</span>
            <span class="hljs-comment">//if(buildMode != 'next'){</span>
            <span class="hljs-comment">//    blogTable.setData(blogRow);</span>
            <span class="hljs-comment">//    Ti.API.debug('you inserted: ' + blogRow.length + 'rows');</span>
        <span class="hljs-comment">//    }</span>

            <span class="hljs-keyword">if</span>(buildMode == undefined || buildMode == <span class="hljs-keyword">null</span> || buildMode == <span class="hljs-string">''</span>){


                 scrollView.addEventListener(<span class="hljs-string">'scroll'</span>,function(e){

                    var lastScrollView = (scrollView.children[<span class="hljs-number">0</span>].<span class="hljs-built_in">size</span>.<span class="hljs-variable">height</span> + scrollView.children[<span class="hljs-number">1</span>].<span class="hljs-built_in">size</span>.<span class="hljs-variable">height</span> + scrollView.children[<span class="hljs-number">2</span>].<span class="hljs-built_in">size</span>.<span class="hljs-variable">height</span>)+scrollView.children[<span class="hljs-number">3</span>].children[<span class="hljs-number">0</span>].children[scrollView.children[<span class="hljs-number">3</span>].children[<span class="hljs-number">0</span>].children.length-<span class="hljs-number">1</span>].center.y - scrollView.<span class="hljs-built_in">size</span>.<span class="hljs-variable">height</span> + (scrollView.children[<span class="hljs-number">3</span>].children[<span class="hljs-number">0</span>].children[scrollView.children[<span class="hljs-number">3</span>].children[<span class="hljs-number">0</span>].children.length-<span class="hljs-number">1</span>].<span class="hljs-variable">height</span>/<span class="hljs-number">2</span>);

                    Ti.API.info(e.y+ <span class="hljs-string">" "</span>+lastScrollView);
                    <span class="hljs-comment">/*
                    if(e.y &gt;= lastScrollView){
                        Ti.API.info("PAGING NA");
                        pageLoading = true;
                        getPost('next');
                    }*/</span>
                    <span class="hljs-keyword">if</span>(e.y &gt;= lastScrollView ){
                        <span class="hljs-keyword">if</span>(pageLoading == <span class="hljs-keyword">false</span> &amp;&amp; lastPage == <span class="hljs-keyword">false</span>){
                            Ti.API.info(<span class="hljs-string">"PAGING NA"</span>);
                            pageLoading = <span class="hljs-keyword">true</span>;
                            getPost(<span class="hljs-string">'next'</span>);

                        }


                    }
                <span class="hljs-comment">//    Titanium.API.info(Titanium.Platform.displayCaps.platformHeight+" TEU "+e.dragging + " "+e.decelerating+ " "+this.contentOffset.y + " "+e.source.height + " "+e.y);</span>
                    <span class="hljs-comment">//alert(e.contentSize.height + " --&gt; "+e.contentOffset.y+ " -- "+e.size.height);</span>
                    <span class="hljs-comment">//var totalTableHeight = e.contentSize.height;</span>
                <span class="hljs-comment">//    var totalCoordinates = (e.contentOffset.y + e.size.height); </span>
                <span class="hljs-comment">//    if(totalCoordinates &gt;= totalTableHeight &amp;&amp; pageLoading == false &amp;&amp; lastPage == false){</span>


                    <span class="hljs-comment">//    pageLoading = true;</span>
                    <span class="hljs-comment">//    getPost('next');</span>

                    <span class="hljs-comment">//}</span>

                    });


                refreshbutton.addEventListener(<span class="hljs-string">"click"</span>,function(){

                    getPost(<span class="hljs-string">'refresh'</span>);

                });
                upbutton.addEventListener(<span class="hljs-string">'click'</span>,function(){
                    scrollView.scrollTo(<span class="hljs-number">0</span>,<span class="hljs-number">0</span>);
                });
                downbutton.addEventListener(<span class="hljs-string">'click'</span>,function(){
                    <span class="hljs-comment">//alert(scrollView.height + " "+Titanium.Platform.displayCaps.platformHeight );</span>
                    <span class="hljs-comment">//alert(scrollView.children[2].center);</span>
                    <span class="hljs-comment">//scrollView.scrollTo(0,(scrollViewTotalHeight+(97+scrollView.children[0].height+scrollView.children[1].height+scrollView.children[2].height)-Titanium.Platform.displayCaps.platformHeight));</span>

                    var lastViewToGo = (scrollView.children[<span class="hljs-number">0</span>].<span class="hljs-built_in">size</span>.<span class="hljs-variable">height</span> + scrollView.children[<span class="hljs-number">1</span>].<span class="hljs-built_in">size</span>.<span class="hljs-variable">height</span> + scrollView.children[<span class="hljs-number">2</span>].<span class="hljs-built_in">size</span>.<span class="hljs-variable">height</span>)+scrollView.children[<span class="hljs-number">3</span>].children[<span class="hljs-number">0</span>].children[scrollView.children[<span class="hljs-number">3</span>].children[<span class="hljs-number">0</span>].children.length-<span class="hljs-number">1</span>].center.y - scrollView.<span class="hljs-built_in">size</span>.<span class="hljs-variable">height</span> + (scrollView.children[<span class="hljs-number">3</span>].children[<span class="hljs-number">0</span>].children[scrollView.children[<span class="hljs-number">3</span>].children[<span class="hljs-number">0</span>].children.length-<span class="hljs-number">1</span>].<span class="hljs-variable">height</span>/<span class="hljs-number">2</span>);

                    <span class="hljs-keyword">if</span>(lastViewToGo &gt; scrollView.<span class="hljs-built_in">size</span>.<span class="hljs-variable">height</span>){
                        scrollView.scrollTo(<span class="hljs-number">0</span>,lastViewToGo);
                    }


                    Ti.API.info(scrollView.<span class="hljs-built_in">size</span>.<span class="hljs-variable">height</span>+<span class="hljs-string">"Compute "</span>+(scrollView.children[<span class="hljs-number">0</span>].<span class="hljs-built_in">size</span>.<span class="hljs-variable">height</span> + scrollView.children[<span class="hljs-number">1</span>].<span class="hljs-built_in">size</span>.<span class="hljs-variable">height</span> + scrollView.children[<span class="hljs-number">2</span>].<span class="hljs-built_in">size</span>.<span class="hljs-variable">height</span> + scrollView.children[<span class="hljs-number">3</span>].<span class="hljs-built_in">size</span>.<span class="hljs-variable">height</span>)+<span class="hljs-string">" "</span>+scrollView.children[<span class="hljs-number">0</span>].<span class="hljs-built_in">size</span>.<span class="hljs-variable">height</span> +<span class="hljs-string">" "</span>+ scrollView.children[<span class="hljs-number">1</span>].<span class="hljs-built_in">size</span>.<span class="hljs-variable">height</span>  + <span class="hljs-string">" "</span>+scrollViewTotalHeight)
                    <span class="hljs-comment">//scrollView.scrollTo(0,(scrollView.children[0].height + scrollView.children[1].size.height + scrollView.children[2].size.height + scrollView.children[3].size.height)-Titanium.Platform.displayCaps.platformHeight);</span>
                });

                myBottomToolbar.items = [refreshbutton,flexiblespacer,upbutton,fixedspacer,downbutton];


                <span class="hljs-comment">//scrollViewTotalHeight = (scrollView.children[0].height+scrollView.children[1].height+scrollView.children[2].height);</span>
                curWin.<span class="hljs-built_in">add</span>(scrollView,myTopMenuView);


            }

            Ti.App.Posts = {PostTable: scrollView, PostData: blogs, SelectedIndex: -<span class="hljs-number">1</span>};





            pageLoading = <span class="hljs-keyword">false</span>;
            actInd.hide();
            Ti.UI.currentWindow.remove(actInd);
            Ti.UI.currentWindow.opacity = <span class="hljs-number">1.0</span>;

}
Ti.App.TabLoading = <span class="hljs-string">'0'</span>;
</code></pre><p>}</p>
<p>curWin.addEventListener(&#39;retry&#39;,function(){<br>    submitPost();<br>});</p>
<p>function submitComment(BlogId,Objects){</p>
<pre><code class="hljs"><span class="hljs-type">Ti</span>.<span class="hljs-type">App</span>.<span class="hljs-type">Request</span> = {<span class="hljs-type">Window</span>: curWin};
<span class="hljs-type">Objects</span>.windowObj.add(actInd);
actInd.message = <span class="hljs-string">"Sending comment..."</span>
actInd.show();
<span class="hljs-type">Objects</span>.textareaObj.blur();
 <span class="hljs-type">Objects</span>.cancelObj.hide();
 <span class="hljs-type">Objects</span>.doneObj.hide();

 <span class="hljs-keyword">var</span> soapBody = '&lt;<span class="hljs-type">AddComment</span> xmlns=<span class="hljs-string">"'+xmlNameSpace+'"</span>&gt;' +
            '&lt;blogPostId&gt;'+<span class="hljs-type">BlogId</span>+'&lt;/blogPostId&gt;' +
            '&lt;commentBody&gt;'+encodeHTML(<span class="hljs-type">Objects</span>.textareaObj.value)+'&lt;/commentBody&gt;' +
        '&lt;/<span class="hljs-type">AddComment</span>&gt;';

 <span class="hljs-keyword">var</span> request = <span class="hljs-type">Titanium</span>.<span class="hljs-type">Network</span>.createHTTPClient();
 //request.indicator = <span class="hljs-literal">true</span>;
 //request.setMessage(<span class="hljs-type">Ti</span>.<span class="hljs-type">Locale</span>.getString('loading_please_wait','<span class="hljs-type">Please</span> <span class="hljs-type">Wait</span>...'));
 <span class="hljs-keyword">var</span> soapAction = xmlNameSpace+'<span class="hljs-type">AddComment</span>';
 <span class="hljs-keyword">var</span> soapEnvelope =  createEnvelope(soapBody);
// alert(soapEnvelope);
 request.onload = function(e){

     //    alert(request.responseText);<span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
          <span class="hljs-keyword">var</span> xmlData = <span class="hljs-type">Ti</span>.<span class="hljs-type">XML</span>.parseString(request.responseText);
         <span class="hljs-keyword">var</span> response = xmlData.documentElement.getElementsByTagName('<span class="hljs-type">AddCommentResponse</span>');
         <span class="hljs-keyword">var</span> <span class="hljs-literal">result</span> = response.item(<span class="hljs-number">0</span>).getElementsByTagName('<span class="hljs-type">AddCommentResult</span>');
         <span class="hljs-type">Ti</span>.<span class="hljs-type">API</span>.info(<span class="hljs-literal">result</span>.item(<span class="hljs-number">0</span>).getElementsByTagName('<span class="hljs-type">CommentBodyExcerpt</span>').item(<span class="hljs-number">0</span>).text);
         <span class="hljs-keyword">var</span> post = {
             <span class="hljs-type">BlogPostId</span>: <span class="hljs-literal">result</span>.item(<span class="hljs-number">0</span>).getElementsByTagName('<span class="hljs-type">BlogPostId</span>').item(<span class="hljs-number">0</span>).text,
             <span class="hljs-type">CommentId</span>: <span class="hljs-literal">result</span>.item(<span class="hljs-number">0</span>).getElementsByTagName('<span class="hljs-type">CommentId</span>').item(<span class="hljs-number">0</span>).text,
             <span class="hljs-type">CommentAuthor</span>: <span class="hljs-type">Ti</span>.<span class="hljs-type">App</span>.<span class="hljs-type">Properties</span>.getString('username'),
             <span class="hljs-type">CommentAuthorId</span>: <span class="hljs-literal">result</span>.item(<span class="hljs-number">0</span>).getElementsByTagName('<span class="hljs-type">CommentAuthorId</span>').item(<span class="hljs-number">0</span>).text,
             <span class="hljs-type">CommentBody</span>: <span class="hljs-type">Objects</span>.textareaObj.value,
             <span class="hljs-type">CommentAuthorAvatarUrl</span>: <span class="hljs-literal">result</span>.item(<span class="hljs-number">0</span>).getElementsByTagName('<span class="hljs-type">CommentAuthorAvatarUrl</span>').item(<span class="hljs-number">0</span>).text,
             <span class="hljs-type">CommentDate</span>: <span class="hljs-literal">result</span>.item(<span class="hljs-number">0</span>).getElementsByTagName('<span class="hljs-type">CommentDate</span>').item(<span class="hljs-number">0</span>).text,
             <span class="hljs-type">CommentBodyExcerpt</span>: <span class="hljs-literal">result</span>.item(<span class="hljs-number">0</span>).getElementsByTagName('<span class="hljs-type">CommentBodyExcerpt</span>').item(<span class="hljs-number">0</span>).text
            };

           // <span class="hljs-type">Comment</span> = '';
            <span class="hljs-keyword">if</span>(<span class="hljs-type">Ti</span>.<span class="hljs-type">App</span>.<span class="hljs-type">Posts</span> != undefined){
            <span class="hljs-type">Ti</span>.<span class="hljs-type">App</span>.<span class="hljs-type">Posts</span>.<span class="hljs-type">PostData</span>.push(post);
            <span class="hljs-type">Ti</span>.<span class="hljs-type">App</span>.<span class="hljs-type">Posts</span>.<span class="hljs-type">PostTable</span>.children[<span class="hljs-number">3</span>].children[<span class="hljs-number">0</span>].add(createCommentRow(post));

             <span class="hljs-keyword">var</span> moveToView = (<span class="hljs-type">Ti</span>.<span class="hljs-type">App</span>.<span class="hljs-type">Posts</span>.<span class="hljs-type">PostTable</span>.children[<span class="hljs-number">0</span>].size.height + <span class="hljs-type">Ti</span>.<span class="hljs-type">App</span>.<span class="hljs-type">Posts</span>.<span class="hljs-type">PostTable</span>.children[<span class="hljs-number">1</span>].size.height + <span class="hljs-type">Ti</span>.<span class="hljs-type">App</span>.<span class="hljs-type">Posts</span>.<span class="hljs-type">PostTable</span>.children[<span class="hljs-number">2</span>].size.height)+<span class="hljs-type">Ti</span>.<span class="hljs-type">App</span>.<span class="hljs-type">Posts</span>.<span class="hljs-type">PostTable</span>.children[<span class="hljs-number">3</span>].children[<span class="hljs-number">0</span>].children[<span class="hljs-type">Ti</span>.<span class="hljs-type">App</span>.<span class="hljs-type">Posts</span>.<span class="hljs-type">PostTable</span>.children[<span class="hljs-number">3</span>].children[<span class="hljs-number">0</span>].children.length-<span class="hljs-number">1</span>].center.y - <span class="hljs-type">Ti</span>.<span class="hljs-type">App</span>.<span class="hljs-type">Posts</span>.<span class="hljs-type">PostTable</span>.size.height + (<span class="hljs-type">Ti</span>.<span class="hljs-type">App</span>.<span class="hljs-type">Posts</span>.<span class="hljs-type">PostTable</span>.children[<span class="hljs-number">3</span>].children[<span class="hljs-number">0</span>].children[<span class="hljs-type">Ti</span>.<span class="hljs-type">App</span>.<span class="hljs-type">Posts</span>.<span class="hljs-type">PostTable</span>.children[<span class="hljs-number">3</span>].children[<span class="hljs-number">0</span>].children.length-<span class="hljs-number">1</span>].height/<span class="hljs-number">2</span>);


             <span class="hljs-type">Ti</span>.<span class="hljs-type">App</span>.<span class="hljs-type">Posts</span>.<span class="hljs-type">PostTable</span>.scrollTo(<span class="hljs-number">0</span>, moveToView);
              actInd.hide();
             <span class="hljs-type">Objects</span>.windowObj.remove(actInd);
              <span class="hljs-type">Objects</span>.windowObj.close();
            }
 }

 request.onerror = function(e){
        actInd.hide();
        onConnectionTimeOut();
        //alert(soapEnvelope);
        //alert(e);
        //alert('<span class="hljs-type">Post</span> failed!');
    }

    request.ontimeout = function(){
        actInd.hide();
        onConnectionTimeOut();
        //alert('<span class="hljs-type">Connection</span> timeout!');
    }


 request.setTimeout(<span class="hljs-number">0</span>);
 request.open('<span class="hljs-type">POST</span>',sessionHost);
 request.setRequestHeader('<span class="hljs-type">Content</span>-<span class="hljs-type">Type</span>','text/xml; charset=utf-<span class="hljs-number">8</span>');
 request.setRequestHeader('<span class="hljs-type">SOAPAction</span>',soapAction);
 request.send(soapEnvelope);
</code></pre><p>}</p>
<p>&#x2F;&#x2F;Execute<br>getPost();</p>
</p>
										<div class="author">
											&mdash; commented <span title="October 7th 2011, 12:06:34 am">October 7th 2011</span>
											by <span class='authorname'>Paul Nerie</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>That&#39;s obviously A LOT to work with. Would it be possible for you to reduce this down to a small executable chunk of code that reproduces the issue?</p>
</p>
										<div class="author">
											&mdash; commented <span title="October 7th 2011, 11:03:11 am">October 7th 2011</span>
											by <span class='authorname'>Tony Lukasavage</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
