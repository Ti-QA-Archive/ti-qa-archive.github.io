<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Click event is very slow in Table View (iOS app) Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Click event is very slow in Table View (iOS app)</h1>
		</header>
		<section>
			<p>I am loading 350 records from a remote json file (3 text fields and 1 image field) into table_view, the data loads fast but when i tap on a cel view to go to the detail view, it takes about 20 seconds for the tap to take effect and load the detail view.<br>What am i doing wrong ?<br>Thanks</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="March 6th 2013, 7:38:01 pm">March 6th 2013</span>
				by <span class='authorname'>Nabil Mouzannar</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>ios</span></li>
					
						<li><span class='tagname'>performance</span></li>
					
				</ul>
			

			<section>
				<h5>1 Comment</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Missing from you question are several pieces of information that will help you obtain a speedy and accurate answer, please provide the following details;</p>
<ul>
<li>Titanium SDK Version?</li>
<li>Target platform<ul>
<li>iOS only?</li>
</ul>
</li>
<li>A code snippet that can be used to determine what you have achieved so far</li>
</ul>
</div>
							<div class="author">
								&mdash; commented <span title="March 6th 2013, 9:00:50 pm">March 6th 2013</span>
								by <span class='authorname'>Malcolm Hollingsworth</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>1</span> Vote</div>
			<div class="answers"><span>4</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>4 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-258222">
				
						<section>
							<p>Hi</p>
<p>You really must understand that not providing what you have created - gives us NO help in trying to solve the problem.  </p>
<p>So I am going to guess the problem;</p>
<p>Chances are you have added an event listener to every <strong>tableViewRow</strong>, whilst possible - not very efficient and certainly not when you add lots of rows.</p>
<p>The best way is to add an <strong>eventListener</strong> to the <strong>tableView</strong> instead.  You still get access to all the row information, but you can handle it in one place.</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> tbl = Ti.UI.createTableView({
    height: TI.UI.FILL,
    width: TI.UI.FILL
});
win.add(tbl);
tbl.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) </span>{
    Ti.API.info(<span class="hljs-string">'event: '</span> + <span class="hljs-built_in">JSON</span>.stringify(e)); <span class="hljs-comment">// all info</span>
    Ti.API.info(<span class="hljs-string">'index: '</span> + e.index); <span class="hljs-comment">// row index</span>
    Ti.API.info(<span class="hljs-string">'row: '</span> + <span class="hljs-built_in">JSON</span>.stringify(e.row)); <span class="hljs-comment">// all row specific data</span>
    Ti.API.info(<span class="hljs-string">'rowData: '</span> + <span class="hljs-built_in">JSON</span>.stringify(e.rowData)); <span class="hljs-comment">// all row data</span>
    Ti.API.info(<span class="hljs-string">'source: '</span> + <span class="hljs-built_in">JSON</span>.stringify(e.source)); <span class="hljs-comment">// specific to what was clicked</span>
});
</code></pre><p>I hope this helps and that it was the answer by some amazing fluke of a guess.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="March 6th 2013, 9:06:26 pm">March 6th 2013</span>
								by <span class='authorname'>Malcolm Hollingsworth</span><br>
								<a class="icon-bg icon-link" href="../../question/149257/click-event-is-very-slow-in-table-view-ios-app.html#answer-258222" rel="permalink">permalink</a>
							</div>

							<h5>3 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>You are going to have to provide some code if you need further help.  As so far you are asking a conceptual question at best and with very little actual help from yourself to gain an answer.</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 14th 2013, 8:24:52 pm">March 14th 2013</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>And remember to comment on related questions OR add information to the original question in the form of a comment.</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 14th 2013, 8:25:25 pm">March 14th 2013</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><pre><code class="hljs">var windowsill_overlay = Ti.UI.createView({
    <span class="hljs-string">left :</span> <span class="hljs-number">0</span>,
    <span class="hljs-string">top :</span> <span class="hljs-number">0</span>,
    <span class="hljs-string">width :</span> <span class="hljs-string">'100%'</span>,
    <span class="hljs-string">height :</span> <span class="hljs-string">'100%'</span>,
    <span class="hljs-string">opacity :</span> <span class="hljs-number">0</span>,
    <span class="hljs-string">backgroundColor :</span> config.colors.black,
    <span class="hljs-string">zIndex :</span> <span class="hljs-number">10000</span>
});
window.add(windowsill_overlay);

var windowsill_overlay_activity_indicator = Ti.UI.createActivityIndicator({
    <span class="hljs-string">width :</span> <span class="hljs-number">30</span>,
    <span class="hljs-string">height :</span> <span class="hljs-number">30</span>,
    <span class="hljs-string">style :</span> Ti.UI.iPhone.ActivityIndicatorStyle.PLAIN
});
windowsill_overlay.add(windowsill_overlay_activity_indicator);
windowsill_overlay_activity_indicator.show();

var windowsill = <span class="hljs-keyword">new</span> NWWindowsill(windowsill_overlay, <span class="hljs-number">2</span>);

var background_image = Ti.UI.createImageView({
    <span class="hljs-string">image :</span> <span class="hljs-string">"images/truthabout_logo_small.png"</span>,
    <span class="hljs-string">width :</span> <span class="hljs-number">300</span>,
    <span class="hljs-string">height :</span> <span class="hljs-number">300</span>,
    <span class="hljs-string">opacity :</span> <span class="hljs-number">0.25</span>
});
window.add(background_image);

var table_view = Titanium.UI.createTableView({
    <span class="hljs-string">data :</span> table_data,
    <span class="hljs-string">separatorColor :</span> <span class="hljs-string">'#333'</span>, <span class="hljs-comment">//'transparent',</span>
    <span class="hljs-string">backgroundColor :</span> <span class="hljs-string">'transparent'</span>
});
table_view.addEventListener(<span class="hljs-string">'click'</span>, function(e) {
    <span class="hljs-comment">//THE ISSUE IS SOMEWHERE HHERE, either the event is firing late or the  "windowsill.createWindow"  is very slow</span>
    var row = e;    

            windowsill.createWindow({
                <span class="hljs-string">url :</span> row.rowData.test,
                <span class="hljs-string">barColor :</span> config.colors.black,
                <span class="hljs-string">video :</span> row.rowData.video,
                <span class="hljs-string">title :</span> row.rowData.video.title
            });


});
window.add(table_view);
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="March 15th 2013, 4:16:18 pm">March 15th 2013</span>
											by <span class='authorname'>Nabil Mouzannar</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-258260">
				
						<section>
							<p>Titatnium SDK: 3.0.2.GA</p>
<p>iOS only (iPhone,iPad Universal app) </p>
<pre><code class="hljs">table_view.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{

    <span class="hljs-keyword">var</span> row = e;
    <span class="hljs-keyword">var</span> width = <span class="hljs-built_in">window</span>.size.width;

    <span class="hljs-keyword">if</span> (row.x &lt; (width - <span class="hljs-number">50</span>)) {<span class="hljs-comment">// restrict touches over the download button</span>

        <span class="hljs-keyword">if</span> (row.rowData.test) {

            <span class="hljs-comment">//windowsill.set_timer();</span>

            windowsill.createWindow({
                url : row.rowData.test,
                barColor : config.colors.black,
                video : row.rowData.video,
                title : row.rowData.video.title
            });

        }
    }
});
<span class="hljs-built_in">window</span>.add(table_view);
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="March 7th 2013, 12:44:06 pm">March 7th 2013</span>
								by <span class='authorname'>Nabil Mouzannar</span><br>
								<a class="icon-bg icon-link" href="../../question/149257/click-event-is-very-slow-in-table-view-ios-app.html#answer-258260" rel="permalink">permalink</a>
							</div>

							<h5>2 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Quick tip; next time - please comment on the related answer or the actual question if there is no answer - rather than creating a whole new answer which is really a comment - it makes it harder in the future to work out threads if any answers score change or other answers are added. (You are not being told off)</p>
<p>I have no idea what this code relates to as you have not provided any extra information or described what some of the un-referenced code actually does.</p>
<p>Please expand on the information here on the answer it is related to.</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 7th 2013, 6:31:51 pm">March 7th 2013</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Sure Malcolm that makes sense.</p>
<p>This code relates to the question i had earlier:<br>I am using:<br>Titatnium SDK: 3.0.2.GA<br>iOS only (iPhone,iPad Universal app)</p>
<p>I am loading 350 records from a remote json file (3 text fields and 1 image field) into table_view, the data loads fast but when i tap on a cel view to go to the detail view, it takes about 20 seconds for the tap to take effect and load the detail view. </p>
<p>i can swipe up and down the list fast but tapping on a cel doesnt do anything until 20 seconds later the video view loads</p>
<p>ok let mek now if you need more info.<br>thanks </p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> windowsill = <span class="hljs-keyword">new</span> NWWindowsill(windowsill_overlay, <span class="hljs-number">2</span>);
.
.
.
<span class="hljs-keyword">var</span> table_view = Titanium.UI.createTableView({
    data : table_data,
    separatorColor : <span class="hljs-string">'#333'</span>, <span class="hljs-comment">//'transparent',</span>
    backgroundColor : <span class="hljs-string">'transparent'</span>
});
table_view.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{

    <span class="hljs-keyword">var</span> row = e;
    <span class="hljs-keyword">var</span> width = <span class="hljs-built_in">window</span>.size.width;

            windowsill.createWindow({
                url : row.rowData.test,
                barColor : config.colors.black,
                video : row.rowData.video,
                title : row.rowData.video.title
            });

});
<span class="hljs-built_in">window</span>.add(table_view);
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="March 7th 2013, 7:00:26 pm">March 7th 2013</span>
											by <span class='authorname'>Nabil Mouzannar</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-258312">
				
						<section>
							<p>Very first thing, every answer on this question is related to loading of rows in table view. But our problem is not with loading of rows in table view, our issue is loading new window is slower not the row. And just for your information, table view fill method is already lazy loading for images in iOS and we have already used table view click event listener not the table view row click event listener.</p>
<p>So basically according to me it is issue with loading resources in iOS. So I guess it&#39;s taking time to load resources of next window, not in table view because we do not have any issue in loading table view.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="March 8th 2013, 1:18:04 pm">March 8th 2013</span>
								by <span class='authorname'>Mrugesh Bapotra</span><br>
								<a class="icon-bg icon-link" href="../../question/149257/click-event-is-very-slow-in-table-view-ios-app.html#answer-258312" rel="permalink">permalink</a>
							</div>

							<h5>2 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Does anyone have any suggestions?</p>
<p>Thanks</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 11th 2013, 5:08:45 pm">March 11th 2013</span>
											by <span class='authorname'>Nabil Mouzannar</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Upon further checking :<br>We found that the events on the table view fire perfectly normal as long as you dont run the open window function (creating that window (or any other window) is fine as long as you dont call open).</p>
<p>any insights ?<br>thanks<br>Nabil</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 14th 2013, 7:06:07 pm">March 14th 2013</span>
											by <span class='authorname'>Nabil Mouzannar</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-258238">
				
						<section>
							<p>Hi  Nabil Mouzannar,</p>
<p>You have 350 records in a tableview and all the data are coming from the server.<br>This remote data or records take some time to load in table view.<br>I suggest to add lazy loading in table view. Its a better way to load all data and also better for click event on tableview row.</p>
<p>Thanks</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="March 7th 2013, 4:32:41 am">March 7th 2013</span>
								by <span class='authorname'>Jigar Maheshwari</span><br>
								<a class="icon-bg icon-link" href="../../question/149257/click-event-is-very-slow-in-table-view-ios-app.html#answer-258238" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>You realise the problem has nothing to do with the load speed of the data as the author clearly stated the data loads past, the only problem is listening for events. Plus 350 rows in a table is nothing, especially if they are created correctly, true for iOS and Android.</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 7th 2013, 5:56:54 am">March 7th 2013</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>-1</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
