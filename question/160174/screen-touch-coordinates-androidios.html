<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>screen touch coordinates (android/ios) » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>screen touch coordinates (android/ios)</h1>
		</header>
		<section>
			<p>Is any possible way to find out the exact coordinates of the touch?</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> coords = viewContainer.convertPointToView({
    x:<span class="hljs-keyword">e</span>.x,
    y:<span class="hljs-keyword">e</span>.<span class="hljs-literal">y</span>
}, viewContainer);
</code></pre><p>But when I load the coordinates are not related to the main view, if I touch in a button, the coordinates are related to the button</p>
<p>The same happens if I try to get them by the function arguments (e.x &amp; e.y)</p>
<p>I just need the exactly coordinates of the touch</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="December 5th 2013, 3:36:27 pm">December 5th 2013</span>
				by <span class='authorname'>Ricardo Pereira</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>coords</span></li>
					
						<li><span class='tagname'>point</span></li>
					
						<li><span class='tagname'>touch</span></li>
					
						<li><span class='tagname'>x</span></li>
					
						<li><span class='tagname'>ü</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-272182">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<pre><code class="hljs"><span class="hljs-keyword">var</span> w = Ti.UI.createWindow();

<span class="hljs-keyword">var</span> b = Ti.UI.createButton({
    width : Ti.UI.SIZE,
    height : Ti.UI.SIZE,
    title : <span class="hljs-string">'Click'</span>
});

b.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span> </span>{
    alert(e.x + <span class="hljs-string">' '</span> + e.y);

    <span class="hljs-keyword">var</span> coords = <span class="hljs-keyword">this</span>.convertPointToView({
        x : e.x,
        y : e.y
    }, w);

    alert(coords.x + <span class="hljs-string">' '</span> + coords.y);
});

w.add(b);
w.open();
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="December 5th 2013, 3:54:22 pm">December 5th 2013</span>
								by <span class='authorname'>Nick Milner</span><br>
								<a class="icon-bg icon-link" href="question/160174/screen-touch-coordinates-androidios#answer-272182" rel="permalink">permalink</a>
							</div>

							<h5>13 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>That exemple works fine, but on my app it still the same</p>
<pre><code class="hljs">$.root_window.addEventListener(<span class="hljs-string">'touchend'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{

    <span class="hljs-keyword">var</span> coords = <span class="hljs-keyword">this</span>.convertPointToView({
            x : e.x,
            y : e.y
    }, $.root_window);

    log.text = <span class="hljs-string">"coords x: "</span>+coords.x+<span class="hljs-string">", y: "</span>+coords.y;
}
</code></pre><p>If I click on the Button#header_button_home, it shows the button coords</p>
<pre><code class="hljs">&lt;/Alloy&gt;
    &lt;<span class="hljs-keyword">Window</span> <span class="hljs-keyword">class</span>=<span class="hljs-string">"main_window"</span> id=<span class="hljs-string">"root_window"</span>&gt;
        &lt;<span class="hljs-keyword">View</span> <span class="hljs-keyword">class</span>=<span class="hljs-string">"side_menu"</span> id=<span class="hljs-string">"left_menu"</span>/&gt; <span class="hljs-comment">// removed content</span>
        &lt;<span class="hljs-keyword">View</span> <span class="hljs-keyword">class</span>=<span class="hljs-string">"side_menu"</span> id=<span class="hljs-string">"right_menu"</span>/&gt; <span class="hljs-comment">// removed content</span>
        &lt;<span class="hljs-keyword">View</span> <span class="hljs-keyword">class</span>=<span class="hljs-string">"section_wrap"</span> id=<span class="hljs-string">"section_wrap"</span>&gt;
            &lt;<span class="hljs-keyword">View</span> <span class="hljs-keyword">class</span>=<span class="hljs-string">"section_header"</span> id=<span class="hljs-string">""</span>&gt;
                &lt;<span class="hljs-keyword">View</span> <span class="hljs-keyword">class</span>=<span class="hljs-string">"header_side"</span> id=<span class="hljs-string">"header_left"</span>&gt;
                    &lt;<span class="hljs-keyword">Label</span> <span class="hljs-keyword">class</span>=<span class="hljs-string">"header_button header_button_left"</span> id=<span class="hljs-string">"header_button_home"</span>/&gt; <span class="hljs-comment">// exemple button</span>
                    &lt;<span class="hljs-keyword">Label</span> <span class="hljs-keyword">class</span>=<span class="hljs-string">"header_button header_button_left"</span> id=<span class="hljs-string">"header_button_back"</span>/&gt;
                &lt;/<span class="hljs-keyword">View</span>&gt;
                &lt;<span class="hljs-keyword">View</span> <span class="hljs-keyword">class</span>=<span class="hljs-string">"header_side"</span> id=<span class="hljs-string">"header_right"</span>&gt;
                    &lt;<span class="hljs-keyword">Label</span> <span class="hljs-keyword">class</span>=<span class="hljs-string">"header_button header_button_right"</span> id=<span class="hljs-string">"header_button_add"</span>/&gt;
                    &lt;<span class="hljs-keyword">Label</span> <span class="hljs-keyword">class</span>=<span class="hljs-string">"header_button header_button_right"</span> id=<span class="hljs-string">"header_button_info"</span>/&gt;
                &lt;/<span class="hljs-keyword">View</span>&gt;
                &lt;<span class="hljs-keyword">Label</span> <span class="hljs-keyword">class</span>=<span class="hljs-string">"section_header_title"</span> id=<span class="hljs-string">"section_header_title"</span>/&gt;
            &lt;/<span class="hljs-keyword">View</span>&gt;
            &lt;<span class="hljs-keyword">View</span> <span class="hljs-keyword">class</span>=<span class="hljs-string">"section_line"</span>/&gt;
            &lt;<span class="hljs-keyword">View</span> <span class="hljs-keyword">class</span>=<span class="hljs-string">"section_content"</span> id=<span class="hljs-string">"section_content"</span>/&gt;
        &lt;/<span class="hljs-keyword">View</span>&gt;
        &lt;<span class="hljs-keyword">View</span> <span class="hljs-keyword">class</span>=<span class="hljs-string">"lock_screen"</span> id=<span class="hljs-string">"lock_screen"</span>/&gt;
        &lt;<span class="hljs-keyword">View</span> <span class="hljs-keyword">class</span>=<span class="hljs-string">"horizontalOrientation"</span> id=<span class="hljs-string">"horizontalOrientation"</span>/&gt;
        &lt;<span class="hljs-keyword">View</span> <span class="hljs-keyword">class</span>=<span class="hljs-string">"verticalOrientation"</span> id=<span class="hljs-string">"verticalOrientation"</span>/&gt;
    &lt;/<span class="hljs-keyword">Window</span>&gt;
&lt;/Alloy&gt;
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="December 5th 2013, 4:17:16 pm">December 5th 2013</span>
											by <span class='authorname'>Ricardo Pereira</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>You need to add an event listener to the button, not the main window then.</p>
<pre><code class="hljs">$.header_button_home.addEventListener(<span class="hljs-string">'touchend'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
.......
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="December 5th 2013, 4:36:04 pm">December 5th 2013</span>
											by <span class='authorname'>Nick Milner</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>So, in order to get always the right coords, I have do add an event listener to all my elements.</p>
<p>There will come a time that the application should be slow.</p>
<p>I gave the example of this button, but I need every touch, knowing the coordinates.</p>
<p>Taking as an example the button, it is possible to create a function that always find the distance (left, top) of all parent elements until reaching the root window?</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 5th 2013, 4:53:32 pm">December 5th 2013</span>
											by <span class='authorname'>Ricardo Pereira</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Ah, no. So what you mean is that when the Window <code>touchend</code> event fires over the Button View, it gives the Button co-ordinates instead ?</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 5th 2013, 4:58:16 pm">December 5th 2013</span>
											by <span class='authorname'>Nick Milner</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>No, in every elements that I touch, even if an element has no action, I just want to know exactly the coordinates of that place that was touched</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 5th 2013, 5:19:50 pm">December 5th 2013</span>
											by <span class='authorname'>Ricardo Pereira</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Yes, is that what you said, I misunderstood</p>
<p><em>&quot;Ah, no. So what you mean is that when the Window touchend event fires over the Button View, it gives the Button co-ordinates instead ?&quot;</em></p>
<p>When the Window touchend event fires over the Button View, the result that I need is the Window co-ordinates regardless of the place that gets the touch, in this case the Button View</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 6th 2013, 1:07:12 pm">December 6th 2013</span>
											by <span class='authorname'>Ricardo Pereira</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Right.. It does sound like a bug then.. Which platform ? (iOS, Android)</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 6th 2013, 1:15:45 pm">December 6th 2013</span>
											by <span class='authorname'>Nick Milner</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>the app is for both, but I&#39;m testing in a Samsung Galaxy Tab 2 (10.1)</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 6th 2013, 2:49:05 pm">December 6th 2013</span>
											by <span class='authorname'>Ricardo Pereira</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I&#39;ve just been playing around with this and it occurs to me that the touchstart and touchend events apply to the UI element where the touchstart started.  </p>
<p>So, are you sure your touchstart is only on the Window object and not another UI element ? </p>
<p>Because if I touchstart on an inner view &#x2F; button and touchend over an empty portion of the Window, I get the coordinates (correctly) of the inner view&#x2F;button</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 6th 2013, 4:21:29 pm">December 6th 2013</span>
											by <span class='authorname'>Nick Milner</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I&#39;ve figured out the workaround</p>
<pre><code class="hljs">var w = Ti.UI.createWindow();

var b = Ti.UI.createButton({
    <span class="hljs-string">bottom :</span> <span class="hljs-number">5</span>,
    <span class="hljs-string">width :</span> <span class="hljs-number">90</span>,
    <span class="hljs-string">height :</span> <span class="hljs-number">40</span>,
    <span class="hljs-string">title :</span> <span class="hljs-string">'Roll!'</span>
});

var v = Ti.UI.createView({
    <span class="hljs-string">top :</span> <span class="hljs-number">90</span>,
    <span class="hljs-string">height :</span> <span class="hljs-number">150</span>,
    <span class="hljs-string">backgroundColor :</span> <span class="hljs-string">'green'</span>
});

<span class="hljs-comment">// we add the event listener on the window. Touch Events from the button and view will bubble up</span>

w.addEventListener(<span class="hljs-string">'touchend'</span>, function(e) {

    <span class="hljs-comment">// save the coords</span>
    var coords = {
        <span class="hljs-string">x :</span> e.y,
        <span class="hljs-string">y :</span> e.y
    };

    <span class="hljs-comment">// is the thing passing me the touchend event, me ? (ie the window). If not, convert its coords to mine</span>
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span> !== e.source) {
        coords = e.source.convertPointToView({
            <span class="hljs-string">x :</span> e.x,
            <span class="hljs-string">y :</span> e.y
        }, w);
    }

    <span class="hljs-comment">// coords are now correct</span>
    alert(<span class="hljs-string">'x: '</span> + coords.x + <span class="hljs-string">' y: '</span> + coords.y);

});

w.add(b);
w.add(v);
w.open();
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="December 6th 2013, 4:31:43 pm">December 6th 2013</span>
											by <span class='authorname'>Nick Milner</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Thank you, I&#39;ve lost so much time with this, you saved my day.</p>
<p>Thanks again!</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 9th 2013, 7:20:35 am">December 9th 2013</span>
											by <span class='authorname'>Ricardo Pereira</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Just spotted a typo error:</p>
<pre><code class="hljs"><span class="hljs-comment">// save the coords</span>
    <span class="hljs-keyword">var</span> coords = {
        x : <span class="hljs-keyword">e</span>.x,
        y : <span class="hljs-keyword">e</span>.<span class="hljs-literal">y</span>
    };
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="December 9th 2013, 3:43:13 pm">December 9th 2013</span>
											by <span class='authorname'>Nick Milner</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I&#39;m still having a little problem, the coordinates only come right on &#39;touchend&#39; event, I need them to work fine in &#39;touchstart&#39; and &#39;touchmove&#39; too.</p>
<p>I&#39;ve tried with your if condition, but the result is the same</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> coords;
<span class="hljs-keyword">var</span> touchStartX = <span class="hljs-number">0</span>;
<span class="hljs-keyword">var</span> touchStartY = <span class="hljs-number">0</span>;

<span class="hljs-keyword">var</span> coordsNew;
<span class="hljs-keyword">var</span> touchStartXNew = <span class="hljs-number">0</span>;
<span class="hljs-keyword">var</span> touchStartYNew = <span class="hljs-number">0</span>;

rootWindow.addEventListener('touchstart', function(e) {

    touchStartXNew = e.x;
    touchStartYNew = e.y;

    coordsNew = {
        x:e.x,
        y:e.y
    };

    <span class="hljs-keyword">if</span>(this !== e.source) {
        touchStartX = e.x;
        touchStartY = e.y;

        coords = {
            x:e.x,
            y:e.y
        };
    }
});

rootWindow.addEventListener('touchmove', function(e) {

    coordsNew = e.source.convertPointToView({
        x:e.x,
        y:e.y
    }, rootWindow);

    <span class="hljs-keyword">if</span>(this !== e.source) {
        coords = e.source.convertPointToView({
            x:e.x,
            y:e.y
        }, rootWindow);
    }
});

rootWindow.addEventListener('touchend', function(e) {

    consoleLog(<span class="hljs-string">"touch X: "</span>+touchStartX+<span class="hljs-string">", touch Y: "</span>+touchStartY);
    // exemple: x:<span class="hljs-number">28</span>, y:<span class="hljs-number">42</span> == wrong <span class="hljs-literal">result</span>
    consoleLog(<span class="hljs-string">"coords X: "</span>+coords.x+<span class="hljs-string">", coords Y: "</span>+coords.y);
    // exemple: x:<span class="hljs-number">28</span>, y:<span class="hljs-number">42</span> == wrong <span class="hljs-literal">result</span>

    consoleLog(<span class="hljs-string">"NEW touch X: "</span>+touchStartXNew+<span class="hljs-string">", touch Y: "</span>+touchStartYNew);
    // exemple: x:<span class="hljs-number">28</span>, y:<span class="hljs-number">42</span> == wrong <span class="hljs-literal">result</span>
    consoleLog(<span class="hljs-string">"NEW coords X: "</span>+coordsNew.x+<span class="hljs-string">", coords Y: "</span>+coordsNew.y);
    // exemple: x:<span class="hljs-number">287</span>, y:<span class="hljs-number">764</span> == desired <span class="hljs-literal">result</span>

});
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="December 10th 2013, 8:04:07 am">December 10th 2013</span>
											by <span class='authorname'>Ricardo Pereira</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-272187">
				
						<section>
							<p>I have a leftMenu (left: -322), rightMenu (left:platformWidth). Both menus have 322 of wdth.</p>
<p>In order to close the rightMenu by drag im out to the right, when I click on the rightMenu, it give me the coords of that element, instead of dragging the right menu and close it, it pulls the leftMenu.</p>
<p>exemple:</p>
<pre><code class="hljs"><span class="hljs-keyword">if</span>(startTouch &lt; <span class="hljs-number">322</span>) {
    leftMenu.left += distanceSlided
}
<span class="hljs-keyword">if</span>(startTouch &gt; platformWidth-<span class="hljs-number">322</span>) {
    rightMenu.left += distanceSlided
}
</code></pre><p>part my code:</p>
<pre><code class="hljs">Alloy.CFG.width = Ti.Platform.displayCaps.platformWidth<span class="hljs-comment">;</span>
Alloy.CFG.height = Ti.Platform.displayCaps.platformHeight<span class="hljs-comment">;</span>
Alloy.CFG.right = Alloy.CFG.width-334<span class="hljs-comment">;</span>
</code></pre><p>In this code below, my coords.x and touchStartX ar different depending on where I touch</p>
<p>another part my code:</p>
<pre><code class="hljs">rootWindow.addEventListener('touchstart', function(e) {
    touchStartX = e.x;
    touchStartY = e.y;
});

rootWindow.addEventListener('touchmove', function(e) {

    <span class="hljs-keyword">var</span> coords = rootWindow.convertPointToView({
        x:e.x,
        y:e.y
    }, rootWindow);

    <span class="hljs-keyword">var</span> newLeft = -<span class="hljs-number">334</span> + coords.x - touchStartX;

    <span class="hljs-keyword">if</span>(newLeft &gt;= -<span class="hljs-number">334</span> &amp;&amp; newLeft &lt;= <span class="hljs-number">0</span> &amp;&amp; event_left_menu &amp;&amp; touchStartX &lt; <span class="hljs-number">200</span>) {

        <span class="hljs-keyword">var</span> leftMenuVar = newLeft;

        <span class="hljs-keyword">if</span>(leftMenuVar &gt;= <span class="hljs-number">0</span>) {
            newLeft = <span class="hljs-number">0</span>;
            leftMenu.<span class="hljs-keyword">left</span> = <span class="hljs-number">0</span>;
        }
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(leftMenuVar &lt;= -<span class="hljs-number">344</span>) {
            newLeft = -<span class="hljs-number">344</span>;
            leftMenu.<span class="hljs-keyword">left</span> = -<span class="hljs-number">344</span>;
        }
        <span class="hljs-keyword">else</span> {
            newLeft = leftMenuVar;
            leftMenu.<span class="hljs-keyword">left</span> = leftMenuVar;
        }
    }
    <span class="hljs-keyword">if</span>(newLeft &lt;= <span class="hljs-number">0</span> &amp;&amp; event_left_menu &amp;&amp; touchStartX &lt;= <span class="hljs-number">322</span> &amp;&amp; status_left_menu) {

        <span class="hljs-keyword">var</span> leftMenuVar = newLeft+<span class="hljs-number">344</span>;

        <span class="hljs-keyword">if</span>(leftMenuVar &gt;= <span class="hljs-number">0</span>) {
            newLeft = <span class="hljs-number">0</span>;
            leftMenu.<span class="hljs-keyword">left</span> = <span class="hljs-number">0</span>;
        }
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(leftMenuVar &lt;= -<span class="hljs-number">344</span>) {
            newLeft = -<span class="hljs-number">344</span>;
            leftMenu.<span class="hljs-keyword">left</span> = -<span class="hljs-number">344</span>;
        }
        <span class="hljs-keyword">else</span> {
            newLeft = leftMenuVar;
            leftMenu.<span class="hljs-keyword">left</span> = leftMenuVar;
        }

    }
    <span class="hljs-keyword">if</span>(leftMenu.<span class="hljs-keyword">left</span> &gt;= <span class="hljs-number">0</span>) {
        leftMenu.<span class="hljs-keyword">left</span> = <span class="hljs-number">0</span>;
    }
    <span class="hljs-keyword">if</span>(touchStartX &gt;= <span class="hljs-number">322</span> &amp;&amp; !status_left_menu) {
        leftMenu.<span class="hljs-keyword">left</span> = -<span class="hljs-number">344</span>;
    }

    <span class="hljs-keyword">var</span> newRight = <span class="hljs-type">Alloy</span>.<span class="hljs-type">CFG</span>.width + coords.x - touchStartX;

    <span class="hljs-keyword">if</span>(newRight &lt;= <span class="hljs-type">Alloy</span>.<span class="hljs-type">CFG</span>.width &amp;&amp; newRight &gt;= <span class="hljs-type">Alloy</span>.<span class="hljs-type">CFG</span>.<span class="hljs-keyword">right</span> &amp;&amp; event_right_menu &amp;&amp; touchStartX &gt; <span class="hljs-type">Alloy</span>.<span class="hljs-type">CFG</span>.<span class="hljs-keyword">right</span> &amp;&amp; enableRightMenu) {

        <span class="hljs-keyword">var</span> rightMenuVar = newRight;

        <span class="hljs-keyword">if</span>(rightMenuVar &gt;= <span class="hljs-type">Alloy</span>.<span class="hljs-type">CFG</span>.width) {
            newRight = <span class="hljs-type">Alloy</span>.<span class="hljs-type">CFG</span>.width;
            rightMenu.<span class="hljs-keyword">left</span> = <span class="hljs-type">Alloy</span>.<span class="hljs-type">CFG</span>.width;
        }
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(leftMenuVar &lt;= <span class="hljs-type">Alloy</span>.<span class="hljs-type">CFG</span>.<span class="hljs-keyword">right</span>) {
            newLeft = <span class="hljs-type">Alloy</span>.<span class="hljs-type">CFG</span>.<span class="hljs-keyword">right</span>;
            leftMenu.<span class="hljs-keyword">left</span> = <span class="hljs-type">Alloy</span>.<span class="hljs-type">CFG</span>.<span class="hljs-keyword">right</span>;
        }
        <span class="hljs-keyword">else</span> {
            newRight = rightMenuVar;
            rightMenu.<span class="hljs-keyword">left</span> = rightMenuVar;
        }
    }
    <span class="hljs-keyword">if</span>(newRight &gt;= <span class="hljs-type">Alloy</span>.<span class="hljs-type">CFG</span>.<span class="hljs-keyword">right</span> &amp;&amp; event_right_menu &amp;&amp; touchStartX &gt;= <span class="hljs-type">Alloy</span>.<span class="hljs-type">CFG</span>.<span class="hljs-keyword">right</span> &amp;&amp; status_right_menu &amp;&amp; enableRightMenu) {

        <span class="hljs-keyword">var</span> rightMenuVar = newRight-<span class="hljs-number">334</span>;

        <span class="hljs-keyword">if</span>(rightMenuVar &lt;= <span class="hljs-type">Alloy</span>.<span class="hljs-type">CFG</span>.<span class="hljs-keyword">right</span>) {
            newRight = <span class="hljs-type">Alloy</span>.<span class="hljs-type">CFG</span>.<span class="hljs-keyword">right</span>;
            rightMenu.<span class="hljs-keyword">left</span> = <span class="hljs-type">Alloy</span>.<span class="hljs-type">CFG</span>.<span class="hljs-keyword">right</span>;
        }
        <span class="hljs-keyword">else</span> {
            newRight = rightMenuVar;
            rightMenu.<span class="hljs-keyword">left</span> = rightMenuVar;
        }

    }
    <span class="hljs-keyword">if</span>(rightMenu.<span class="hljs-keyword">left</span> &lt;= <span class="hljs-type">Alloy</span>.<span class="hljs-type">CFG</span>.<span class="hljs-keyword">right</span> &amp;&amp; enableRightMenu) {
        rightMenu.<span class="hljs-keyword">left</span> = <span class="hljs-type">Alloy</span>.<span class="hljs-type">CFG</span>.<span class="hljs-keyword">right</span>;
    }
    <span class="hljs-keyword">if</span>(touchStartX &lt;= <span class="hljs-type">Alloy</span>.<span class="hljs-type">CFG</span>.<span class="hljs-keyword">right</span> &amp;&amp; !status_right_menu) {
        rightMenu.<span class="hljs-keyword">left</span> = <span class="hljs-type">Alloy</span>.<span class="hljs-type">CFG</span>.width;
    }
});

<span class="hljs-keyword">var</span> consoleLog = <span class="hljs-type">Ti</span>.<span class="hljs-type">UI</span>.createLabel({
    color:<span class="hljs-string">"red"</span>,
    backgroundColor:<span class="hljs-string">"yellow"</span>,
    bottom:<span class="hljs-number">100</span>,
    <span class="hljs-keyword">left</span>:<span class="hljs-number">100</span>,
    <span class="hljs-keyword">right</span>:<span class="hljs-number">100</span>,
    height:<span class="hljs-number">32</span>,
    textAlign:<span class="hljs-string">"center"</span>
});

rootWindow.add(consoleLog);

rootWindow.addEventListener('touchend', function(e) {

    <span class="hljs-keyword">var</span> coords = this.convertPointToView({
        x : e.x,
        y : e.y
    }, rootWindow);

    consoleLog.text = <span class="hljs-string">"coords x: "</span>+coords.x+<span class="hljs-string">", y: "</span>+coords.y;


    <span class="hljs-keyword">if</span>(leftMenu.<span class="hljs-keyword">left</span> &gt;= <span class="hljs-number">0</span>) {
        leftMenu.<span class="hljs-keyword">left</span> = <span class="hljs-number">0</span>;
    }

    <span class="hljs-keyword">if</span>(touchStartX &lt; <span class="hljs-number">200</span> &amp;&amp; !validation_left_menu &amp;&amp; leftMenu.<span class="hljs-keyword">left</span> != <span class="hljs-number">0</span>) {
        <span class="hljs-keyword">if</span>(leftMenu.<span class="hljs-keyword">left</span> &gt; -<span class="hljs-number">200</span>) {
            toggleLeft(<span class="hljs-literal">true</span>);
        }
        <span class="hljs-keyword">if</span>(leftMenu.<span class="hljs-keyword">left</span> &lt;= -<span class="hljs-number">200</span>) {
            toggleLeft(<span class="hljs-literal">false</span>);
        }
    }

    <span class="hljs-keyword">if</span>(touchStartX &gt; <span class="hljs-number">322</span> &amp;&amp; status_left_menu) {
        toggleLeft(<span class="hljs-literal">false</span>);
    }
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(touchStartX &lt;= <span class="hljs-number">322</span> &amp;&amp; validation_left_menu &amp;&amp; leftMenu.<span class="hljs-keyword">left</span> != <span class="hljs-number">0</span>) {
        <span class="hljs-keyword">if</span>(leftMenu.<span class="hljs-keyword">left</span> &lt; -<span class="hljs-number">200</span>) {
            toggleLeft(<span class="hljs-literal">false</span>);
        }
        <span class="hljs-keyword">if</span>(leftMenu.<span class="hljs-keyword">left</span> &gt;= -<span class="hljs-number">200</span>) {
            toggleLeft(<span class="hljs-literal">true</span>);
        }
    }


    <span class="hljs-keyword">if</span>(rightMenu.<span class="hljs-keyword">left</span> &lt;= <span class="hljs-type">Alloy</span>.<span class="hljs-type">CFG</span>.<span class="hljs-keyword">right</span> &amp;&amp; enableRightMenu) {
        rightMenu.<span class="hljs-keyword">left</span> = <span class="hljs-type">Alloy</span>.<span class="hljs-type">CFG</span>.<span class="hljs-keyword">right</span>;
    }

    <span class="hljs-keyword">if</span>(touchStartX &gt; <span class="hljs-type">Alloy</span>.<span class="hljs-type">CFG</span>.<span class="hljs-keyword">right</span> &amp;&amp; !validation_right_menu &amp;&amp; rightMenu.<span class="hljs-keyword">left</span> != <span class="hljs-type">Alloy</span>.<span class="hljs-type">CFG</span>.<span class="hljs-keyword">right</span> &amp;&amp; enableRightMenu) {
        <span class="hljs-keyword">if</span>(rightMenu.<span class="hljs-keyword">left</span> &lt; <span class="hljs-type">Alloy</span>.<span class="hljs-type">CFG</span>.width-<span class="hljs-number">200</span>) {
            toggleRight(<span class="hljs-literal">true</span>);
        }
        <span class="hljs-keyword">if</span>(rightMenu.<span class="hljs-keyword">left</span> &gt;= <span class="hljs-type">Alloy</span>.<span class="hljs-type">CFG</span>.width-<span class="hljs-number">200</span>) {
            toggleRight(<span class="hljs-literal">false</span>);
        }
    }

    <span class="hljs-keyword">if</span>(touchStartX &lt; <span class="hljs-type">Alloy</span>.<span class="hljs-type">CFG</span>.<span class="hljs-keyword">right</span> &amp;&amp; status_right_menu &amp;&amp; enableRightMenu) {
        toggleRight(<span class="hljs-literal">false</span>);
    }
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(touchStartX &gt;= <span class="hljs-type">Alloy</span>.<span class="hljs-type">CFG</span>.<span class="hljs-keyword">right</span> &amp;&amp; validation_right_menu &amp;&amp; rightMenu.<span class="hljs-keyword">left</span> != <span class="hljs-type">Alloy</span>.<span class="hljs-type">CFG</span>.<span class="hljs-keyword">right</span> &amp;&amp; enableRightMenu) {
        <span class="hljs-keyword">if</span>(rightMenu.<span class="hljs-keyword">left</span> &gt; <span class="hljs-type">Alloy</span>.<span class="hljs-type">CFG</span>.width-<span class="hljs-number">200</span>) {
            toggleRight(<span class="hljs-literal">false</span>);
        }
        <span class="hljs-keyword">if</span>(rightMenu.<span class="hljs-keyword">left</span> &lt;= <span class="hljs-type">Alloy</span>.<span class="hljs-type">CFG</span>.width-<span class="hljs-number">200</span>) {
            toggleRight(<span class="hljs-literal">true</span>);
        }
    }
});
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="December 5th 2013, 5:34:05 pm">December 5th 2013</span>
								by <span class='authorname'>Ricardo Pereira</span><br>
								<a class="icon-bg icon-link" href="question/160174/screen-touch-coordinates-androidios#answer-272187" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
