<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Android: Kitchen Sink basic camera crash Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Android: Kitchen Sink basic camera crash</h1>
		</header>
		<section>
			<p>This is also happening in my app on the device = Sony Experia U (Model ST25i) . Android 2.3.7. Here is the code:</p>
<pre><code class="hljs">Titanium.Media.showCamera({            
    success:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(event)</span></span> {
        doSomething();
    },
    <span class="hljs-built_in">error</span>:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(error)</span></span> {
        log(<span class="hljs-built_in">error</span>);
    },
    saveToPhotoGallery:<span class="hljs-keyword">true</span>
});
</code></pre><p>The message I get is &quot;app <strong>**</strong> close unexpectedly&quot; in a dialog and it crashes.</p>
<p>Any clues??</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="June 25th 2012, 4:07:18 pm">June 25th 2012</span>
				by <span class='authorname'>Apoorva Singh</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>camera</span></li>
					
						<li><span class='tagname'>camera basic</span></li>
					
						<li><span class='tagname'>crash</span></li>
					
						<li><span class='tagname'>kitchensink</span></li>
					
						<li><span class='tagname'>sony experia u</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-241868">
				
						<section>
							<p>There will be a stack trace in the debug view of the emulator. Can you post that info ?</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="June 25th 2012, 5:38:19 pm">June 25th 2012</span>
								by <span class='authorname'>Nick Milner</span><br>
								<a class="icon-bg icon-link" href="question/138809/android-kitchen-sink-basic-camera-crash#answer-241868" rel="permalink">permalink</a>
							</div>

							<h5>2 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>@Nick, thanks for looking into this! I see the trace below using ddms on the device:</p>
<pre><code class="hljs"><span class="hljs-number">06</span>-<span class="hljs-number">26</span> <span class="hljs-number">08</span>:<span class="hljs-number">31</span>:<span class="hljs-number">14.591</span>: E/AndroidRuntime(<span class="hljs-number">13091</span>): FATAL EXCEPTION: main
<span class="hljs-number">06</span>-<span class="hljs-number">26</span> <span class="hljs-number">08</span>:<span class="hljs-number">31</span>:<span class="hljs-number">14.591</span>: E/AndroidRuntime(<span class="hljs-number">13091</span>): java.lang.RuntimeException: Failure delivering result ResultInfo{who=null, request=<span class="hljs-number">1</span>, result=-<span class="hljs-number">1</span>, data=Intent { act=<span class="hljs-keyword">inline</span>-data dat=file:<span class="hljs-comment">///sdcard/dcim/Camera/tia1729854198.jpg typ=image/jpeg (has extras) }} to activity {com.appcelerator.titanium/org.appcelerator.titanium.TiActivity}: java.lang.NullPointerException</span>
<span class="hljs-number">06</span>-<span class="hljs-number">26</span> <span class="hljs-number">08</span>:<span class="hljs-number">31</span>:<span class="hljs-number">14.591</span>: E/AndroidRuntime(<span class="hljs-number">13091</span>):     at android.app.ActivityThread.deliverResults(ActivityThread.java:<span class="hljs-number">2553</span>)
<span class="hljs-number">06</span>-<span class="hljs-number">26</span> <span class="hljs-number">08</span>:<span class="hljs-number">31</span>:<span class="hljs-number">14.591</span>: E/AndroidRuntime(<span class="hljs-number">13091</span>):     at android.app.ActivityThread.handleSendResult(ActivityThread.java:<span class="hljs-number">2595</span>)
<span class="hljs-number">06</span>-<span class="hljs-number">26</span> <span class="hljs-number">08</span>:<span class="hljs-number">31</span>:<span class="hljs-number">14.591</span>: E/AndroidRuntime(<span class="hljs-number">13091</span>):     at android.app.ActivityThread.access$<span class="hljs-number">2000</span>(ActivityThread.java:<span class="hljs-number">121</span>)
<span class="hljs-number">06</span>-<span class="hljs-number">26</span> <span class="hljs-number">08</span>:<span class="hljs-number">31</span>:<span class="hljs-number">14.591</span>: E/AndroidRuntime(<span class="hljs-number">13091</span>):     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:<span class="hljs-number">973</span>)
<span class="hljs-number">06</span>-<span class="hljs-number">26</span> <span class="hljs-number">08</span>:<span class="hljs-number">31</span>:<span class="hljs-number">14.591</span>: E/AndroidRuntime(<span class="hljs-number">13091</span>):     at android.os.Handler.dispatchMessage(Handler.java:<span class="hljs-number">99</span>)
<span class="hljs-number">06</span>-<span class="hljs-number">26</span> <span class="hljs-number">08</span>:<span class="hljs-number">31</span>:<span class="hljs-number">14.591</span>: E/AndroidRuntime(<span class="hljs-number">13091</span>):     at android.os.Looper.loop(Looper.java:<span class="hljs-number">138</span>)
<span class="hljs-number">06</span>-<span class="hljs-number">26</span> <span class="hljs-number">08</span>:<span class="hljs-number">31</span>:<span class="hljs-number">14.591</span>: E/AndroidRuntime(<span class="hljs-number">13091</span>):     at android.app.ActivityThread.main(ActivityThread.java:<span class="hljs-number">3701</span>)
<span class="hljs-number">06</span>-<span class="hljs-number">26</span> <span class="hljs-number">08</span>:<span class="hljs-number">31</span>:<span class="hljs-number">14.591</span>: E/AndroidRuntime(<span class="hljs-number">13091</span>):     at java.lang.reflect.Method.invokeNative(Native Method)
<span class="hljs-number">06</span>-<span class="hljs-number">26</span> <span class="hljs-number">08</span>:<span class="hljs-number">31</span>:<span class="hljs-number">14.591</span>: E/AndroidRuntime(<span class="hljs-number">13091</span>):     at java.lang.reflect.Method.invoke(Method.java:<span class="hljs-number">507</span>)
<span class="hljs-number">06</span>-<span class="hljs-number">26</span> <span class="hljs-number">08</span>:<span class="hljs-number">31</span>:<span class="hljs-number">14.591</span>: E/AndroidRuntime(<span class="hljs-number">13091</span>):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:<span class="hljs-number">878</span>)
<span class="hljs-number">06</span>-<span class="hljs-number">26</span> <span class="hljs-number">08</span>:<span class="hljs-number">31</span>:<span class="hljs-number">14.591</span>: E/AndroidRuntime(<span class="hljs-number">13091</span>):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:<span class="hljs-number">636</span>)
<span class="hljs-number">06</span>-<span class="hljs-number">26</span> <span class="hljs-number">08</span>:<span class="hljs-number">31</span>:<span class="hljs-number">14.591</span>: E/AndroidRuntime(<span class="hljs-number">13091</span>):     at dalvik.system.NativeStart.main(Native Method)
<span class="hljs-number">06</span>-<span class="hljs-number">26</span> <span class="hljs-number">08</span>:<span class="hljs-number">31</span>:<span class="hljs-number">14.591</span>: E/AndroidRuntime(<span class="hljs-number">13091</span>): Caused by: java.lang.NullPointerException
<span class="hljs-number">06</span>-<span class="hljs-number">26</span> <span class="hljs-number">08</span>:<span class="hljs-number">31</span>:<span class="hljs-number">14.591</span>: E/AndroidRuntime(<span class="hljs-number">13091</span>):     at ti.modules.titanium.media.MediaModule.createDictForImage(MediaModule.java:<span class="hljs-number">622</span>)
<span class="hljs-number">06</span>-<span class="hljs-number">26</span> <span class="hljs-number">08</span>:<span class="hljs-number">31</span>:<span class="hljs-number">14.591</span>: E/AndroidRuntime(<span class="hljs-number">13091</span>):     at ti.modules.titanium.media.MediaModule$CameraResultHandler.onResult(MediaModule.java:<span class="hljs-number">513</span>)
<span class="hljs-number">06</span>-<span class="hljs-number">26</span> <span class="hljs-number">08</span>:<span class="hljs-number">31</span>:<span class="hljs-number">14.591</span>: E/AndroidRuntime(<span class="hljs-number">13091</span>):     at org.appcelerator.titanium.util.TiActivitySupportHelper$<span class="hljs-number">1.</span>onResult(TiActivitySupportHelper.java:<span class="hljs-number">57</span>)
<span class="hljs-number">06</span>-<span class="hljs-number">26</span> <span class="hljs-number">08</span>:<span class="hljs-number">31</span>:<span class="hljs-number">14.591</span>: E/AndroidRuntime(<span class="hljs-number">13091</span>):     at org.appcelerator.titanium.util.TiActivitySupportHelper.onActivityResult(TiActivitySupportHelper.java:<span class="hljs-number">79</span>)
<span class="hljs-number">06</span>-<span class="hljs-number">26</span> <span class="hljs-number">08</span>:<span class="hljs-number">31</span>:<span class="hljs-number">14.591</span>: E/AndroidRuntime(<span class="hljs-number">13091</span>):     at org.appcelerator.titanium.TiBaseActivity.onActivityResult(TiBaseActivity.java:<span class="hljs-number">490</span>)
<span class="hljs-number">06</span>-<span class="hljs-number">26</span> <span class="hljs-number">08</span>:<span class="hljs-number">31</span>:<span class="hljs-number">14.591</span>: E/AndroidRuntime(<span class="hljs-number">13091</span>):     at android.app.Activity.dispatchActivityResult(Activity.java:<span class="hljs-number">3908</span>)
<span class="hljs-number">06</span>-<span class="hljs-number">26</span> <span class="hljs-number">08</span>:<span class="hljs-number">31</span>:<span class="hljs-number">14.591</span>: E/AndroidRuntime(<span class="hljs-number">13091</span>):     at android.app.ActivityThread.deliverResults(ActivityThread.java:<span class="hljs-number">2549</span>)
<span class="hljs-number">06</span>-<span class="hljs-number">26</span> <span class="hljs-number">08</span>:<span class="hljs-number">31</span>:<span class="hljs-number">14.591</span>: E/AndroidRuntime(<span class="hljs-number">13091</span>):     ... <span class="hljs-number">11</span> more
<span class="hljs-number">06</span>-<span class="hljs-number">26</span> <span class="hljs-number">08</span>:<span class="hljs-number">31</span>:<span class="hljs-number">14.601</span>: W/ActivityManager(<span class="hljs-number">1744</span>):   Force finishing activity com.appcelerator.titanium/org.appcelerator.titanium.TiActivity
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="June 26th 2012, 1:05:41 am">June 26th 2012</span>
											by <span class='authorname'>Apoorva Singh</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I am experiencing the exact same problem using Titanium 2.0.1 GA on an HTC One X running Android 4.0.3. I do not experience this problem using a Droid Bionic running Android 4.0.4</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 9th 2012, 3:35:51 pm">July 9th 2012</span>
											by <span class='authorname'>Jason Sznol</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-253500">
				
						<section>
							<p>If this is happening while the device is connected via USB, it may be that the sdcard has been mounted by the computer, which makes it unavailable to the mobile device until you either disconnect the usb cable or switch the connection mode to charge-only.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="December 27th 2012, 2:46:04 pm">December 27th 2012</span>
								by <span class='authorname'>D Dean</span><br>
								<a class="icon-bg icon-link" href="question/138809/android-kitchen-sink-basic-camera-crash#answer-253500" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
