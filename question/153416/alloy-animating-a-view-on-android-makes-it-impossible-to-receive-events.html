<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>[Alloy] Animating a view on Android makes it impossible to receive events » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>[Alloy] Animating a view on Android makes it impossible to receive events</h1>
		</header>
		<section>
			<p>Hi,</p>
<p>This may sound pretty weird, but it&#39;s in fact the problem I am facing at the moment with Alloy (could be normal Titanium as well maybe?)</p>
<p>If I execute this piece of code (where slideIn in a function defined <a href="https:&#x2F;&#x2F;gist.github.com&#x2F;raulriera&#x2F;5743410&#x2F;">here</a> </p>
<pre><code class="hljs">    exports.slideIn($.wrapper, <span class="hljs-number">250</span>); <span class="hljs-regexp">//</span> <span class="hljs-keyword">this</span> <span class="hljs-keyword">is</span> <span class="hljs-keyword">in</span> the controller
</code></pre><p>The view is pretty easy, as you can see it has a &quot;shareMessage&quot; event</p>
<pre><code class="hljs"><span class="hljs-tag">&lt;<span class="hljs-title">Alloy</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">Window</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"container"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">ImageView</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"logo"</span> /&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">Button</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"infoButton"</span> <span class="hljs-attribute">onClick</span>=<span class="hljs-value">"openInformationWindow"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">Button</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">View</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"wrapper"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">ScrollView</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"scrollView"</span> <span class="hljs-attribute">touchEnabled</span>=<span class="hljs-value">"false"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">Label</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"message"</span>&gt;</span>Passages by @LiveLoveRaw, something insightful here :)<span class="hljs-tag">&lt;/<span class="hljs-title">Label</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-title">ScrollView</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">Button</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"shareButton"</span> <span class="hljs-attribute">onClick</span>=<span class="hljs-value">"shareMessage"</span>&gt;</span>Share it with the world<span class="hljs-tag">&lt;/<span class="hljs-title">Button</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">Label</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"disclaimer"</span>&gt;</span>For a cat and her friend :)<span class="hljs-tag">&lt;/<span class="hljs-title">Label</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">View</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">Window</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">Alloy</span>&gt;</span>
</code></pre><p>And finally, the style of the wrapper is</p>
<pre><code class="hljs">"<span class="hljs-id">#wrapper</span>": <span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">bottom</span>:<span class="hljs-value"> <span class="hljs-string">'-270dp'</span>, // outside of the screen
    backgroundImage: <span class="hljs-string">"/message-box.png"</span>,
    width: Titanium.UI.FILL,
    height: <span class="hljs-string">'270dp'</span>
</span></span></span>},
</code></pre><p>Now, if I run this on the device, the button&#39;s click event is never fired. If I make the bottom = 0dp ( so it&#39;s not out of bounds) and remove the call to the animation, the button is clickable again :&#x2F; anyone seen this before?</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="June 9th 2013, 3:26:29 pm">June 9th 2013</span>
				by <span class='authorname'>Raul Riera</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>alloy</span></li>
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>bug</span></li>
					
						<li><span class='tagname'>click</span></li>
					
				</ul>
			

			<section>
				<h5>3 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>As a small clarification, this problem only happens on Android</p>
</div>
							<div class="author">
								&mdash; commented <span title="June 9th 2013, 6:58:55 pm">June 9th 2013</span>
								by <span class='authorname'>Raul Riera</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Couple questions:</p>
<ul>
<li>You mentioned android device, does this same issue occur on the emulator as well?</li>
<li>To be clear, you can&#39;t click a button when you animate it into the screen from outside of it? What happens if the button is originally within the bounds of the screen and then you animate it to another section of the screen?</li>
</ul>
<p>I am aware of some issues with touch events and animations in android, at least in earlier version of the Android SDK (not the Titanium one), but I thought those were all relative to transforms, which you don&#39;t appear to be using here.</p>
</div>
							<div class="author">
								&mdash; commented <span title="June 10th 2013, 11:26:54 am">June 10th 2013</span>
								by <span class='authorname'>Tony Lukasavage</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Hi, Tony.</p>
<p>Yeah I am using tramsforms here, I haven&#39;t tried the emulator, just the device. To answer your second question, yes… I can click it (and it will react just fine) if the view is &quot;within the screen&quot; but if I animate it, once it completes the animation I no longer will be able to click on it.. (even by setting the addEventListener after the finishedCallback event)</p>
<p>If you look at the &quot;source link&quot; of the slideIn animation (mentioned in the question) you can find the wwhole animation function</p>
</div>
							<div class="author">
								&mdash; commented <span title="June 10th 2013, 1:32:10 pm">June 10th 2013</span>
								by <span class='authorname'>Raul Riera</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-264060">
				
						<section>
							<p>Raul, I believe you are encountering this issue, which as far as I know is a native Android issue at least up to a certain API version: <a href="https:&#x2F;&#x2F;jira.appcelerator.org&#x2F;browse&#x2F;TIMOB-6304">https:&#x2F;&#x2F;jira.appcelerator.org&#x2F;browse&#x2F;TIMOB-6304</a> </p>
<p>To see if you are suffering from the same issue, see if you can click the original location (prior to the animation) after the animation has executed to trigger the click. If so, then this is the ticket you want to watch and perhaps comment in.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="June 10th 2013, 1:38:39 pm">June 10th 2013</span>
								by <span class='authorname'>Tony Lukasavage</span><br>
								<a class="icon-bg icon-link" href="question/153416/alloy-animating-a-view-on-android-makes-it-impossible-to-receive-events#answer-264060" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Oh, it appears that is the problem ;&#x2F; sadly</p>
</p>
										<div class="author">
											&mdash; commented <span title="June 10th 2013, 1:54:16 pm">June 10th 2013</span>
											by <span class='authorname'>Raul Riera</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
