<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Debug connection refused with SDK 3.5 and IOS Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Debug connection refused with SDK 3.5 and IOS</h1>
		</header>
		<section>
			<p>Just upgraded to SDK 3.5 and am having real problems debugging on the IOS simulator. </p>
<p>Here are my relevant details </p>
<pre><code class="hljs">Operating System
  Name                        = Mac OS X
  Version                     = <span class="hljs-number">10.9</span><span class="hljs-number">.5</span>
  Architecture                = <span class="hljs-number">64</span>bit
  <span class="hljs-preprocessor"># CPUs                      = <span class="hljs-number">4</span></span>
  Memory                      = <span class="hljs-number">17179869184</span>
Node.js
  Node.js Version             = <span class="hljs-number">0.10</span><span class="hljs-number">.31</span>
  npm Version                 = <span class="hljs-number">2.0</span><span class="hljs-number">.0</span>-beta<span class="hljs-number">.0</span>
Titanium CLI
  CLI Version                 = <span class="hljs-number">3.4</span><span class="hljs-number">.1</span>
Titanium SDK
  SDK Version                 = <span class="hljs-number">3.5</span><span class="hljs-number">.0</span>.GA
  SDK Path                    = /Users/myusername/Library/Application Support/Titanium/mobilesdk/osx/<span class="hljs-number">3.5</span><span class="hljs-number">.0</span>.GA
  Target Platform             = iphone
</code></pre><p>I have been trying to debug to Iphone 4s. The project builds but gets stuck at the home screen of my app. Eventually I get a log message that says</p>
<pre><code class="hljs"><span class="hljs-attr_selector">[DEBUG]</span> :  <span class="hljs-attr_selector">[ioslib]</span> <span class="hljs-attr_selector">[ios-sim]</span> <span class="hljs-attr_selector">[DEBUG]</span> <span class="hljs-tag">Session</span> <span class="hljs-tag">did</span> <span class="hljs-tag">end</span> <span class="hljs-tag">with</span> <span class="hljs-tag">error</span> (null)
<span class="hljs-attr_selector">[DEBUG]</span> :  <span class="hljs-attr_selector">[ioslib]</span> <span class="hljs-attr_selector">[ios-sim]</span> <span class="hljs-attr_selector">[DEBUG]</span> <span class="hljs-tag">Removing</span> <span class="hljs-tag">named</span> <span class="hljs-tag">pipe</span> <span class="hljs-tag">at</span> `/<span class="hljs-tag">var</span>/<span class="hljs-tag">folders</span>/<span class="hljs-tag">m5</span>/<span class="hljs-tag">dz4cfhbd4w3cs4s90311m8_w0000gn</span>/<span class="hljs-tag">T</span><span class="hljs-comment">//ios-sim-stderr-pipe-1426290230'</span>
<span class="hljs-attr_selector">[DEBUG]</span> :  <span class="hljs-attr_selector">[ioslib]</span> <span class="hljs-attr_selector">[ios-sim]</span> <span class="hljs-attr_selector">[DEBUG]</span> <span class="hljs-tag">Removing</span> <span class="hljs-tag">named</span> <span class="hljs-tag">pipe</span> <span class="hljs-tag">at</span> `/<span class="hljs-tag">var</span>/<span class="hljs-tag">folders</span>/<span class="hljs-tag">m5</span>/<span class="hljs-tag">dz4cfhbd4w3cs4s90311m8_w0000gn</span>/<span class="hljs-tag">T</span><span class="hljs-comment">//ios-sim-stdout-pipe-1426290230'</span>
<span class="hljs-attr_selector">[DEBUG]</span> :  <span class="hljs-attr_selector">[ioslib]</span> <span class="hljs-attr_selector">[ios-sim]</span> <span class="hljs-tag">Exited</span> <span class="hljs-tag">with</span> <span class="hljs-tag">code</span>: <span class="hljs-tag">0</span>
</code></pre><p>If I look in my Studio log, I keep seeing these error messages</p>
<pre><code class="hljs">!ENTRY com<span class="hljs-class">.aptana</span><span class="hljs-class">.js</span><span class="hljs-class">.debug</span><span class="hljs-class">.core</span> <span class="hljs-number">4</span> <span class="hljs-number">4</span> <span class="hljs-number">2015</span>-<span class="hljs-number">03</span>-<span class="hljs-number">13</span> <span class="hljs-number">15</span>:<span class="hljs-number">07</span>:<span class="hljs-number">53.372</span>
!MESSAGE 
!STACK <span class="hljs-number">0</span>
java<span class="hljs-class">.lang</span><span class="hljs-class">.NullPointerException</span>
    at org<span class="hljs-class">.eclipse</span><span class="hljs-class">.core</span><span class="hljs-class">.runtime</span><span class="hljs-class">.Path</span><span class="hljs-class">.fromPortableString</span>(Path<span class="hljs-class">.java</span>:<span class="hljs-number">103</span>)
    at com<span class="hljs-class">.appcelerator</span><span class="hljs-class">.titanium</span><span class="hljs-class">.core</span><span class="hljs-class">.launching</span><span class="hljs-class">.TitaniumAppURIMapper</span><span class="hljs-class">.resolve</span>(TitaniumAppURIMapper<span class="hljs-class">.java</span>:<span class="hljs-number">71</span>)
    at com<span class="hljs-class">.aptana</span><span class="hljs-class">.js</span><span class="hljs-class">.debug</span><span class="hljs-class">.core</span><span class="hljs-class">.internal</span><span class="hljs-class">.model</span><span class="hljs-class">.JSDebugTarget</span><span class="hljs-class">.resolveSourceFile</span>(JSDebugTarget<span class="hljs-class">.java</span>:<span class="hljs-number">2199</span>)
    at com<span class="hljs-class">.aptana</span><span class="hljs-class">.js</span><span class="hljs-class">.debug</span><span class="hljs-class">.core</span><span class="hljs-class">.internal</span><span class="hljs-class">.model</span><span class="hljs-class">.JSDebugTarget</span><span class="hljs-class">.handleScripts</span>(JSDebugTarget<span class="hljs-class">.java</span>:<span class="hljs-number">730</span>)
    at com<span class="hljs-class">.aptana</span><span class="hljs-class">.js</span><span class="hljs-class">.debug</span><span class="hljs-class">.core</span><span class="hljs-class">.internal</span><span class="hljs-class">.model</span><span class="hljs-class">.JSDebugTarget</span><span class="hljs-class">.access</span>$<span class="hljs-number">6</span>(JSDebugTarget<span class="hljs-class">.java</span>:<span class="hljs-number">703</span>)
    at com<span class="hljs-class">.aptana</span><span class="hljs-class">.js</span><span class="hljs-class">.debug</span><span class="hljs-class">.core</span><span class="hljs-class">.internal</span><span class="hljs-class">.model</span><span class="hljs-class">.JSDebugTarget</span><span class="hljs-variable">$DebugConnectionHandler</span>.<span class="hljs-function"><span class="hljs-title">handleMessage</span><span class="hljs-params">(JSDebugTarget.java:<span class="hljs-number">2355</span>)</span></span>
    at com<span class="hljs-class">.aptana</span><span class="hljs-class">.js</span><span class="hljs-class">.debug</span><span class="hljs-class">.core</span><span class="hljs-class">.internal</span><span class="hljs-class">.model</span><span class="hljs-class">.DebugConnection</span><span class="hljs-class">.handleMessage</span>(DebugConnection<span class="hljs-class">.java</span>:<span class="hljs-number">228</span>)
    at com<span class="hljs-class">.aptana</span><span class="hljs-class">.js</span><span class="hljs-class">.debug</span><span class="hljs-class">.core</span><span class="hljs-class">.internal</span><span class="hljs-class">.model</span><span class="hljs-class">.DebugConnection</span><span class="hljs-class">.access</span>$<span class="hljs-number">3</span>(DebugConnection<span class="hljs-class">.java</span>:<span class="hljs-number">223</span>)
    at com<span class="hljs-class">.aptana</span><span class="hljs-class">.js</span><span class="hljs-class">.debug</span><span class="hljs-class">.core</span><span class="hljs-class">.internal</span><span class="hljs-class">.model</span><span class="hljs-class">.DebugConnection</span>$<span class="hljs-number">1</span>.<span class="hljs-function"><span class="hljs-title">run</span><span class="hljs-params">(DebugConnection.java:<span class="hljs-number">155</span>)</span></span>
</code></pre><p>It will freeze on this line for literally hours</p>
<pre><code class="hljs">[DEBUG] :  [ioslib] <span class="hljs-string">Executing:</span> <span class="hljs-regexp">/Users/</span>myusername<span class="hljs-regexp">/Library/</span>Application Support<span class="hljs-regexp">/Titanium/</span>mobilesdk<span class="hljs-regexp">/osx/</span><span class="hljs-number">3.5</span><span class="hljs-number">.0</span>.GA<span class="hljs-regexp">/node_modules/</span>ioslib<span class="hljs-regexp">/lib/</span>ios-sim <span class="hljs-string">"launch"</span> <span class="hljs-string">"/Users/myusername/Google Drive/river levels/Titanium_Studio_Workspace/riverLevels2/build/iphone/build/Debug-iphonesimulator/myApp.app"</span> <span class="hljs-string">"--verbose"</span> <span class="hljs-string">"--xcode-dir"</span> <span class="hljs-string">"/Applications/Xcode.app/Contents/Developer"</span> <span class="hljs-string">"--udid"</span> <span class="hljs-string">"1246FACC-3859-4216-A64B-A52798DE8271"</span> <span class="hljs-string">"--timeout"</span> <span class="hljs-string">"180"</span>

[DEBUG] :  [ioslib] <span class="hljs-string">Executing:</span> osascript <span class="hljs-string">"/Users/myusername/Library/Application Support/Titanium/mobilesdk/osx/3.5.0.GA/node_modules/ioslib/lib/iphone_sim_activate.scpt"</span> <span class="hljs-string">"/Applications/Xcode.app/Contents/Developer/Applications/iOS Simulator.app"</span>
</code></pre><p>If I look in the simulator log for the last build, this is the last line of the log</p>
<pre><code class="hljs">[<span class="hljs-built_in">ERROR</span>] <span class="hljs-built_in">Error</span> connecting <span class="hljs-keyword">to</span> debugger: <span class="hljs-built_in">Error</span> Domain=NSPOSIXErrorDomain Code=<span class="hljs-number">61</span> <span class="hljs-string">"The operation couldnât be completed. Connection refused"</span>
</code></pre><p>Occasionally it will build and output but it still won&#39;t stop on breakpoints</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="March 13th 2015, 9:58:44 pm">March 13th 2015</span>
				by <span class='authorname'>Jesse Kinsman</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>alloy</span></li>
					
						<li><span class='tagname'>iphone</span></li>
					
						<li><span class='tagname'>simulator</span></li>
					
				</ul>
			

			<section>
				<h5>5 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>UPDATE: I have since updated the CLI to version 3.4.2, hoping that might fix things but no luck</p>
</div>
							<div class="author">
								&mdash; commented <span title="March 13th 2015, 10:00:23 pm">March 13th 2015</span>
								by <span class='authorname'>Jesse Kinsman</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Looks like there might have been a bug related to this that was fixed in version XCode 4 and ios 6. I wonder if this same bug somehow crept back in?<br><a href="https:&#x2F;&#x2F;jira.appcelerator.org&#x2F;browse&#x2F;TIMOB-12313">https:&#x2F;&#x2F;jira.appcelerator.org&#x2F;browse&#x2F;TIMOB-12313</a></p>
</div>
							<div class="author">
								&mdash; commented <span title="March 13th 2015, 10:11:22 pm">March 13th 2015</span>
								by <span class='authorname'>Jesse Kinsman</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>For those paying attention, <strong>THIS IS HOW YOU ASK A QUESTION!</strong></p>
<p>Jesse had <strong>properly formatted code snippets</strong>, <strong>example error messages</strong>, and has put in his <strong>development environment</strong>.</p>
<p>+1</p>
</div>
							<div class="author">
								&mdash; commented <span title="March 14th 2015, 5:45:09 pm">March 14th 2015</span>
								by <span class='authorname'>Stephen Feather</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Ok I have not fixed this problem. Been working on it for 5 days straight at this point and it is driving me crazy. Any hints or pointers would really be appreciated.</p>
<p><strong>Here is what I have tried so far:</strong></p>
<ul>
<li>Reinstalled Titanium Studio (3.4.1.201410281727)</li>
<li>Updated Java to 1.7.0_75 from 1.7.0_25</li>
<li>Deleted my .metadata folder and created a new one</li>
<li>Updated Node to 0.12</li>
<li>Updated SDK to 3.5.1</li>
</ul>
<p>I am still getting the below error after every build</p>
<pre><code class="hljs">java<span class="hljs-class">.lang</span><span class="hljs-class">.NullPointerException</span>
    at org<span class="hljs-class">.eclipse</span><span class="hljs-class">.core</span><span class="hljs-class">.runtime</span><span class="hljs-class">.Path</span><span class="hljs-class">.fromPortableString</span>(Path<span class="hljs-class">.java</span>:<span class="hljs-number">103</span>)
</code></pre><p>Anything else that I should try? Should I delete the 3.5.0 and the 3.5.1 SDK folders and reinstall them?</p>
<p>The strange thing is that the console is outputting all my debug messages (Ti.API.debug), it just will not stop at breakpoints. Which leaves me to console debugging, which is less than ideal.</p>
</div>
							<div class="author">
								&mdash; commented <span title="March 17th 2015, 7:10:58 pm">March 17th 2015</span>
								by <span class='authorname'>Jesse Kinsman</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>I have opened a <a href="https:&#x2F;&#x2F;jira.appcelerator.org&#x2F;browse&#x2F;TC-5480">JIRA issue</a> for this issueâ¦</p>
</div>
							<div class="author">
								&mdash; commented <span title="May 4th 2015, 8:35:36 am">May 4th 2015</span>
								by <span class='authorname'>Rob Gabbard</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>3</span> Votes</div>
			<div class="answers"><span>4</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>4 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-286770">
				
						<section>
							<p>I&#39;m having the same problem. Fortunately, if I simply select SDK 3.4.1 GA the debugger works fine. Unfortunately, we all need to build 64 bit apps now for the App Store so really we all need to be compiling against SDK 3.5.1 GA. I&#39;ve tried debug -&gt; iPad 2 and iPad Air on the iOS Simulator. Anyone have better luck getting the 3.5.1 debugger working? Does anyone have 3.5.1 GA with debugging working? Maybe a clean install of Titanium will fix it?</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="March 29th 2015, 6:19:38 am">March 29th 2015</span>
								by <span class='authorname'>Garland Chan</span><br>
								<a class="icon-bg icon-link" href="question/181417/debug-connection-refused-with-sdk-35-and-ios#answer-286770" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Basically just wanted to echo this. Originally, we were able to switch to 3.4.1 to be able to get the breakpoints to hit, but now that doesn&#39;t seem to work for us, either.</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 30th 2015, 7:58:43 pm">March 30th 2015</span>
											by <span class='authorname'>Alex Nguyen</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-286548">
				
						<section>
							<p>So I was finally able to get debugging working, however, it was not with SDK 3.5.0 or 3.5.1. </p>
<p>I had to install SDK 3.4.1.GA to get debugging working again. I didn&#39;t have this installed as I went from 3.3.0 to 3.5.0</p>
<p><strong>If anyone else runs into this, here is a short description of how to do this:</strong></p>
<ul>
<li>Close Titanium Studio</li>
<li>Run <code>ti info</code> from the command line</li>
<li>Scroll down to the Titanium SDK&#39;s section</li>
<li>Note the install location of any of the SDK&#39;s listed (you will need this for later)</li>
<li>Visit this <a href="http:&#x2F;&#x2F;builds.appcelerator.com.s3.amazonaws.com&#x2F;index.html#3.4.1">page</a></li>
<li>Download the SDK you want. In my case 3.4.1.GA worked</li>
<li>Unzip the download</li>
<li>Copy the 3.4.1.GA (or whatever SDK you downloaded) from <code>&amp;#x2F;mobilesdk-3.4.1.GA-osx&amp;#x2F;mobilesdk&amp;#x2F;osx&amp;#x2F;</code> and paste to the location you noted earlier for SDK install location</li>
<li>Now run <code>ti info</code> again. You should see the 3.4.1.GA listed in your SDK&#39;s</li>
<li>Open Titanium Studio. </li>
<li>Open your project&#39;s Tiapp.xml folder and select the 3.4.1 SDK</li>
<li>Clean your project - project -&gt; clean</li>
<li>Build again in debug mode. </li>
</ul>
<p>You may have to roll back your node version to 0.10.xx as 3.4.1 is not compatible with node 0.12</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="March 17th 2015, 8:32:00 pm">March 17th 2015</span>
								by <span class='authorname'>Jesse Kinsman</span><br>
								<a class="icon-bg icon-link" href="question/181417/debug-connection-refused-with-sdk-35-and-ios#answer-286548" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-287271">
				
						<section>
							<p>Is there any update from Titanium on this issue? I&#39;ve had the exact same issue under 3.5.1.GA.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="May 4th 2015, 7:42:58 am">May 4th 2015</span>
								by <span class='authorname'>Rob Gabbard</span><br>
								<a class="icon-bg icon-link" href="question/181417/debug-connection-refused-with-sdk-35-and-ios#answer-287271" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-287942">
				
						<section>
							<p>A <a href="https:&#x2F;&#x2F;jira.appcelerator.org&#x2F;browse&#x2F;TIMOB-19234">JIRA ticket</a> was filed for this issue. Basically it&#39;s caused by a space in the app name. The workaround is remove the space in the &lt;name&gt; node of tiapp.xml. I also changed the name in the manifest file just to match.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 21st 2015, 8:30:26 am">August 21st 2015</span>
								by <span class='authorname'>Garland Chan</span><br>
								<a class="icon-bg icon-link" href="question/181417/debug-connection-refused-with-sdk-35-and-ios#answer-287942" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>JK! I read the ticket and got so excited but it looks like I jumped the gun, still not breaking on breakpoints. Yosemite + TI 3.5.1.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 21st 2015, 8:37:21 am">August 21st 2015</span>
											by <span class='authorname'>Garland Chan</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
