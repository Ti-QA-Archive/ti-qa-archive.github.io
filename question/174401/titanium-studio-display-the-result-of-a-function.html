<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Titanium studio: Display the result of a function Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Titanium studio: Display the result of a function</h1>
		</header>
		<section>
			<p>Hello guys!</p>
<p>I&#39;ve just started with Titanium, like a few hours ago. I wrote a function in JS. I want to display the result of this fonction on the screen (on a tab for example). For example my function return a number. I want the user to see on his smartphone&#39;s screen this same number. </p>
<p>How can I do that?</p>
<p>Thank you very much for your help,</p>
<p>Michael.</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="May 21st 2014, 2:17:16 pm">May 21st 2014</span>
				by <span class='authorname'>Benoli Michael</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>display results</span></li>
					
						<li><span class='tagname'>display the return</span></li>
					
						<li><span class='tagname'>function return</span></li>
					
						<li><span class='tagname'>iphone</span></li>
					
						<li><span class='tagname'>titanium</span></li>
					
				</ul>
			

			<section>
				<h5>2 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Firstly; welcome to the platform - it is great.  In order for us (the community) to provide you with the quickest assistance we do ask for some extra information when asking questions;</p>
<ul>
<li><a href="http:&#x2F;&#x2F;www.tidev.io&#x2F;2014&#x2F;02&#x2F;05&#x2F;titanium-qa-how-to-ask-a-successful-question&#x2F;">Titanium Q&amp;A: How to ask a successful question</a></li>
</ul>
<p>My most important question there though;</p>
<ul>
<li>Titanium with Alloy Framework</li>
<li>Titanium without Alloy Framework</li>
</ul>
<p>Let me know and I will give you an example back.</p>
</div>
							<div class="author">
								&mdash; commented <span title="May 21st 2014, 2:23:55 pm">May 21st 2014</span>
								by <span class='authorname'>Malcolm Hollingsworth</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Thank you for your answer. I will be more careful next time. </p>
<p>I use Titanium WITH Alloy Framework.</p>
<p>Thank you!</p>
</div>
							<div class="author">
								&mdash; commented <span title="May 21st 2014, 2:35:02 pm">May 21st 2014</span>
								by <span class='authorname'>Benoli Michael</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-278922">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>Hi</p>
<p>There are many ways to achieve this, this example has two;</p>
<p><strong>index.js</strong></p>
<pre><code class="hljs"><span class="hljs-tag">&lt;<span class="hljs-title">Alloy</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">TabGroup</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">Tab</span> <span class="hljs-attribute">title</span>=<span class="hljs-value">"Tab 1"</span> <span class="hljs-attribute">icon</span>=<span class="hljs-value">"KS_nav_ui.png"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">Window</span> <span class="hljs-attribute">title</span>=<span class="hljs-value">"Tab 1"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">Label</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"label1"</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"lbl"</span>&gt;</span>I am Window 1<span class="hljs-tag">&lt;/<span class="hljs-title">Label</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">Button</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"btn1"</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"btn"</span> <span class="hljs-attribute">title</span>=<span class="hljs-value">"Press Me"</span> /&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-title">Window</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">Tab</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">Tab</span> <span class="hljs-attribute">title</span>=<span class="hljs-value">"Tab 2"</span> <span class="hljs-attribute">icon</span>=<span class="hljs-value">"KS_nav_views.png"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">Window</span> <span class="hljs-attribute">title</span>=<span class="hljs-value">"Tab 2"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">Label</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"label2"</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"lbl"</span>&gt;</span>I am Window 2<span class="hljs-tag">&lt;/<span class="hljs-title">Label</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">Button</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"btn2"</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"btn"</span> <span class="hljs-attribute">title</span>=<span class="hljs-value">"Press Me"</span> /&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-title">Window</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">Tab</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">TabGroup</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">Alloy</span>&gt;</span>
</code></pre><p><strong>index.xml</strong></p>
<pre><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">quickTest</span>(<span class="hljs-params">x, y</span>) </span>{
    <span class="hljs-keyword">return</span> x * y;
}

$.btn1.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) </span>{
    $.label1.setText(quickTest(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>));
});
$.btn2.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) </span>{
    <span class="hljs-keyword">var</span> x = <span class="hljs-number">3</span>;
    <span class="hljs-keyword">var</span> y = <span class="hljs-number">4</span>;
    $.label2.setText(x * y);
});
$.index.open();
</code></pre><p><strong>index.tss</strong></p>
<pre><code class="hljs"><span class="hljs-string">"Window"</span>: {
    backgroundColor: <span class="hljs-string">"#fff"</span>
},
<span class="hljs-string">"Label"</span>: {
    color: <span class="hljs-string">"#000"</span>,
    font: {
        fontSize: <span class="hljs-number">20</span>,
        fontFamily: <span class="hljs-string">'Helvetica Neue'</span>
    },
    height: Ti.UI.SIZE,
    textAlign: <span class="hljs-string">'center'</span>,
    width: Ti.UI.SIZE,    
},
<span class="hljs-string">".lbl"</span>: {
    top: <span class="hljs-number">50</span>
},
<span class="hljs-string">".btn"</span>: {
    bottom: <span class="hljs-number">50</span>
}
</code></pre><p>I have added 2 buttons to the test tabbed app, I have added an event listener to each and shown two different ways of how to return the value of a very simple function.  One internal and one external to the listener.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="May 21st 2014, 2:51:53 pm">May 21st 2014</span>
								by <span class='authorname'>Malcolm Hollingsworth</span><br>
								<a class="icon-bg icon-link" href="../../question/174401/titanium-studio-display-the-result-of-a-function.html#answer-278922" rel="permalink">permalink</a>
							</div>

							<h5>6 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Perfect! </p>
<p>Exactly what I needed to start. Thank you!</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 21st 2014, 3:03:22 pm">May 21st 2014</span>
											by <span class='authorname'>Benoli Michael</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>You are very welcome.</p>
<p>One more for you - this will show you how to bring CommonJS into Alloy, CommonJS being the way to write re-usable business logic into your apps;</p>
<p><strong>{appname}&#x2F;app&#x2F;lib&#x2F;quicktest</strong></p>
<pre><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">multiply</span><span class="hljs-params">(x, y)</span> </span>{
    <span class="hljs-keyword">return</span> x * y;
}
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">hello</span><span class="hljs-params">(name)</span> </span>{
    <span class="hljs-keyword">return</span> <span class="hljs-string">'Hello '</span> + name;
}
exports.multiply = multiply;
exports.hello = hello;
</code></pre><p><strong>index.js</strong> (modified from above;</p>
<pre><code class="hljs">$.btn1.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) </span>{
    $.label1.setText(<span class="hljs-built_in">require</span>(<span class="hljs-string">'quicktest'</span>).multiply(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>));
    <span class="hljs-comment">// you can have have several related</span>
    <span class="hljs-comment">// functions inside a single CommonJS file</span>
    <span class="hljs-comment">// uncomment for the other one</span>
    <span class="hljs-comment">// $.label1.setText(require('quicktest').hello('Benoli Michael'));</span>
});
$.btn2.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) </span>{
    <span class="hljs-keyword">var</span> x = <span class="hljs-number">3</span>;
    <span class="hljs-keyword">var</span> y = <span class="hljs-number">4</span>;
    $.label2.setText(x * y);
});
$.index.open();
</code></pre><p>Now the external function we had originally inside the controller is available from any other controller.  No need for duplicate code.</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 21st 2014, 4:12:03 pm">May 21st 2014</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Thanks! Really useful.</p>
<p>I was actually trying to include an external library.<br>More precisely, I want to be able to use the SunCalc Library:<br>That you can find here: https:&#x2F;&#x2F;github.com&#x2F;mourner&#x2F;suncalc</p>
<p>Can you teach me, how to include it and call the functions that it contains?</p>
<p>Thanks!</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 21st 2014, 4:17:15 pm">May 21st 2014</span>
											by <span class='authorname'>Benoli Michael</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>You are getting your monies worth here ;-)</p>
<p>Having just looked at the files it should not be too difficult at all.  It looks as if the developer has already made it CommonJS suitable;</p>
<ul>
<li>Copy the <strong>suncalc.js</strong> file into the <strong>{appname}&#x2F;app&#x2F;lib&#x2F;</strong> folder</li>
<li>Update your <strong>index.js</strong> controller as follows;</li>
</ul>
<pre><code class="hljs">$.btn1.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) </span>{
    <span class="hljs-keyword">var</span> SunCalc = <span class="hljs-built_in">require</span>(<span class="hljs-string">'suncalc'</span>);

    <span class="hljs-comment">// get today's sunlight times for London</span>
    <span class="hljs-keyword">var</span> times = SunCalc.getTimes(<span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(), <span class="hljs-number">51.5</span>, -<span class="hljs-number">0.1</span>);
    <span class="hljs-comment">// format sunrise time from the Date object</span>
    <span class="hljs-keyword">var</span> sunriseStr = times.sunrise.getHours() + <span class="hljs-string">':'</span> + times.sunrise.getMinutes();
    <span class="hljs-comment">// get position of the sun (azimuth and altitude)</span>
    <span class="hljs-comment">// at today's sunrise</span>
    <span class="hljs-keyword">var</span> sunrisePos = SunCalc.getPosition(times.sunrise, <span class="hljs-number">51.5</span>, -<span class="hljs-number">0.1</span>);
    <span class="hljs-comment">// get sunrise azimuth in degrees</span>
    <span class="hljs-keyword">var</span> sunriseAzimuth = sunrisePos.azimuth * <span class="hljs-number">180</span> / <span class="hljs-built_in">Math</span>.PI;

    $.label1.setText(sunriseAzimuth);
});
$.btn2.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) </span>{
    <span class="hljs-keyword">var</span> x = <span class="hljs-number">3</span>;
    <span class="hljs-keyword">var</span> y = <span class="hljs-number">4</span>;
    $.label2.setText(x * y);
});
$.index.open();
</code></pre><p>I have updated the first tab button 1 to handle the example code they provide.</p>
<p>Instead of adding the require line of code in-line to the function I have defined it as a variable as the code calls it more than once in the example.</p>
<p>I have left all the function examples it performs and then set the label1 text to the final result.  You can do the same thing with any of the calculations at any stage of course.  As well as using more than one label to show more than one result or combining results into a single string - whatever works.</p>
<p>I have NOT tried this just now, mostly because it should just work.  If not - I am here for around 30 more minutes - tell me and I give it a live test here.</p>
<p>Keep in mind I will not be creating your app for you.</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 21st 2014, 4:35:33 pm">May 21st 2014</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Thank you very much! </p>
<p>I hope, I didn&#39;t abuse your help!</p>
<p>It is the excitement of the first steps. :)</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 21st 2014, 4:45:16 pm">May 21st 2014</span>
											by <span class='authorname'>Benoli Michael</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>You didn&#39;t - some do.</p>
<p>Let me know how it goes.</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 21st 2014, 5:01:15 pm">May 21st 2014</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
