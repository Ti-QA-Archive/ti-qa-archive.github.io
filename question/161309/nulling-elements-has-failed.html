<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Nulling elements has failed Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Nulling elements has failed</h1>
		</header>
		<section>
			<p>In order to free memory in my application,  i tried to null elements which were written in an xml file(detailsoireescreen.xml ) and added to a View.</p>
<p>this is the detailsoireescreen.xml file </p>
<pre><code class="hljs">&lt;Alloy&gt;
    &lt;View&gt;
        &lt;ImageView id=<span class="hljs-string">"detailsoireeimg"</span> <span class="hljs-attribute">height</span>=<span class="hljs-string">"110"</span> <span class="hljs-attribute">width</span>=<span class="hljs-string">"320"</span> <span class="hljs-attribute">top</span>=<span class="hljs-string">"0"</span> /&gt;
        &lt;View id=<span class="hljs-string">"detsoirenameadress"</span> <span class="hljs-attribute">width</span>=<span class="hljs-string">"234"</span> <span class="hljs-attribute">height</span>=<span class="hljs-string">"50"</span> backgroundColor=<span class="hljs-string">"black"</span> <span class="hljs-attribute">top</span>=<span class="hljs-string">"110"</span> <span class="hljs-attribute">left</span>=<span class="hljs-string">"86"</span> borderColor=<span class="hljs-string">"#C29531"</span> borderWidth=<span class="hljs-string">"1"</span>&gt;
            &lt;ImageView id=<span class="hljs-string">"locationIcon"</span> image=<span class="hljs-string">"images/locationIcon.png"</span> <span class="hljs-attribute">top</span>=<span class="hljs-string">"15"</span> <span class="hljs-attribute">left</span>=<span class="hljs-string">"11"</span> <span class="hljs-attribute">width</span>=<span class="hljs-string">"8"</span> <span class="hljs-attribute">height</span>=<span class="hljs-string">"12"</span> /&gt;
            &lt;ImageView id=<span class="hljs-string">"detailsoireelogo"</span> <span class="hljs-attribute">top</span>=<span class="hljs-string">"15"</span> <span class="hljs-attribute">left</span>=<span class="hljs-string">"12"</span> <span class="hljs-attribute">width</span>=<span class="hljs-string">"8"</span> <span class="hljs-attribute">height</span>=<span class="hljs-string">"12"</span> /&gt;
            &lt;Label id=<span class="hljs-string">"locatNameLabel"</span>/&gt;
            &lt;Label id=<span class="hljs-string">"adressLabel"</span> /&gt;
            &lt;Label id=<span class="hljs-string">"CpCityLabel"</span> /&gt;
        &lt;/View&gt;
        &lt;ImageView id=<span class="hljs-string">"detailsoireelogo"</span> <span class="hljs-attribute">top</span>=<span class="hljs-string">"100"</span> <span class="hljs-attribute">left</span>=<span class="hljs-string">"0"</span> <span class="hljs-attribute">width</span>=<span class="hljs-string">"90"</span> <span class="hljs-attribute">height</span>=<span class="hljs-string">"60"</span> borderColor=<span class="hljs-string">"#C29531"</span> borderWidth=<span class="hljs-string">"1.5"</span> /&gt;
        &lt;ScrollView id=<span class="hljs-string">"nightScrolView"</span> <span class="hljs-attribute">height</span>=<span class="hljs-string">"120"</span> <span class="hljs-attribute">width</span>=<span class="hljs-string">"312"</span> backgroundColor=<span class="hljs-string">"black"</span> <span class="hljs-attribute">top</span>=<span class="hljs-string">"170"</span> <span class="hljs-attribute">left</span>=<span class="hljs-string">"4"</span> borderColor=<span class="hljs-string">"#C29531"</span> borderWidth=<span class="hljs-string">"1.5"</span> <span class="hljs-attribute">opacity</span>=<span class="hljs-string">"0.7"</span>&gt;
            &lt;Label id=<span class="hljs-string">"titleLabel"</span> /&gt;
            &lt;Label id=<span class="hljs-string">"datesLabel"</span> /&gt;
            &lt;Label id=<span class="hljs-string">"descriptLabel"</span> /&gt;
        &lt;/ScrollView&gt;
        &lt;ImageView id=<span class="hljs-string">"booknow"</span> image=<span class="hljs-string">"images/booknow.png"</span> <span class="hljs-attribute">height</span>=<span class="hljs-string">"30"</span> <span class="hljs-attribute">width</span>=<span class="hljs-string">"140"</span> <span class="hljs-attribute">top</span>=<span class="hljs-string">"300"</span> <span class="hljs-attribute">left</span>=<span class="hljs-string">"90"</span> /&gt;
    &lt;/View&gt;
&lt;/Alloy&gt;
</code></pre><p>in another controller(basewin.js), i add that view by creating its controller :  </p>
<pre><code class="hljs">/<span class="hljs-regexp">//</span><span class="hljs-regexp">//</span><span class="hljs-regexp">/ :: adding addDetailsoireescreen :: /</span><span class="hljs-regexp">//</span><span class="hljs-regexp">//</span><span class="hljs-regexp">/ /</span><span class="hljs-regexp">//</span><span class="hljs-regexp">//</span><span class="hljs-regexp">/ /</span><span class="hljs-regexp">//</span><span class="hljs-regexp">//</span><span class="hljs-regexp">/ /</span><span class="hljs-regexp">//</span><span class="hljs-regexp">//</span><span class="hljs-regexp">//</span><span class="hljs-regexp">/
function addDetailsoireescreen(){
    $.mainscreen.detailsoireescreen = Ti.UI.createView({
        id : "detailsoireescreen",
        top:90,
        left:-310,
        width:Ti.UI.SIZE,
        height:Ti.UI.SIZE
    });
    Ti.App.detailsoireescreenCtrl = Alloy.createController('detailsoireescreen');
    $.mainscreen.detailsoireescreen.add(Ti.App.detailsoireescreenCtrl.getView());
    $.mainscreen.add($.mainscreen.detailsoireescreen);
}
exports.addDetailsoireescreen = addDetailsoireescreen;</span>
</code></pre><p>the add was successful.</p>
<p>Before to null any element i checked if i can access to that element (if this fail i will get &quot;undefined&quot; othrwise i will get the desired object) and i didn&#39;t fail to access any element of them(the console log it shown at the end of this question).</p>
<pre><code class="hljs"><span class="hljs-component">if (element == Ti.App.basewinCtrl.mainscreen.detailsoireescreen) {
                Ti<span class="hljs-string">.API.info("indexwin.js</span> line 174 --Nulling detailsoireescreen sub-element ");

                Ti<span class="hljs-string">.API.info("***Ti.App.basewinCtrl.mainscreen.detailsoireescreen</span> : "+Ti<span class="hljs-string">.App.basewinCtrl.mainscreen.detailsoireescreen)</span>;
                Ti<span class="hljs-string">.App.basewinCtrl.mainscreen.detailsoireescreen</span> = null; 
                Ti<span class="hljs-string">.API.info("***Ti.App.detailsoireescreenCtrl.detailsoireeimg</span> : "+Ti<span class="hljs-string">.App.detailsoireescreenCtrl.detailsoireeimg)</span>;
                Ti<span class="hljs-string">.App.detailsoireescreenCtrl.detailsoireeimg</span> = null; 
                Ti<span class="hljs-string">.API.info("***Ti.App.detailsoireescreenCtrl.detsoirenameadress</span> : "+Ti<span class="hljs-string">.App.detailsoireescreenCtrl.detsoirenameadress)</span>;
                Ti<span class="hljs-string">.App.detailsoireescreenCtrl.detsoirenameadress</span> = null; 
                Ti<span class="hljs-string">.API.info("***Ti.App.detailsoireescreenCtrl.locationIcon</span> : "+Ti<span class="hljs-string">.App.detailsoireescreenCtrl.locationIcon)</span>;
                Ti<span class="hljs-string">.App.detailsoireescreenCtrl.locationIcon</span> = null; 
                Ti<span class="hljs-string">.API.info("***Ti.App.detailsoireescreenCtrl.detailsoireelogo</span> : "+Ti<span class="hljs-string">.App.detailsoireescreenCtrl.detailsoireelogo)</span>;
                Ti<span class="hljs-string">.App.detailsoireescreenCtrl.detailsoireelogo</span> = null; 
                Ti<span class="hljs-string">.API.info("***Ti.App.detailsoireescreenCtrl.locatNameLabel</span> : "+Ti<span class="hljs-string">.App.detailsoireescreenCtrl.locatNameLabel)</span>;
                Ti<span class="hljs-string">.App.detailsoireescreenCtrl.locatNameLabel</span> = null; 
                Ti<span class="hljs-string">.API.info("***Ti.App.detailsoireescreenCtrl.adressLabel</span> : "+Ti<span class="hljs-string">.App.detailsoireescreenCtrl.adressLabel)</span>;
                Ti<span class="hljs-string">.App.detailsoireescreenCtrl.adressLabel</span> = null; 
                Ti<span class="hljs-string">.API.info("***Ti.App.detailsoireescreenCtrl.CpCityLabel</span> : "+Ti<span class="hljs-string">.App.detailsoireescreenCtrl.CpCityLabel)</span>;
                Ti<span class="hljs-string">.App.detailsoireescreenCtrl.CpCityLabel</span> = null; 
                Ti<span class="hljs-string">.API.info("***Ti.App.detailsoireescreenCtrl.detailsoireelogo</span> : "+Ti<span class="hljs-string">.App.detailsoireescreenCtrl.detailsoireelogo)</span>;
                Ti<span class="hljs-string">.App.detailsoireescreenCtrl.detailsoireelogo</span> = null; 
                Ti<span class="hljs-string">.API.info("***Ti.App.detailsoireescreenCtrl.nightScrolView</span> : "+Ti<span class="hljs-string">.App.detailsoireescreenCtrl.nightScrolView)</span>;
                Ti<span class="hljs-string">.App.detailsoireescreenCtrl.nightScrolView</span> = null; 
                Ti<span class="hljs-string">.API.info("***Ti.App.detailsoireescreenCtrl.titleLabel</span> : "+Ti<span class="hljs-string">.App.detailsoireescreenCtrl.titleLabel)</span>;
                Ti<span class="hljs-string">.App.detailsoireescreenCtrl.titleLabel</span> = null; 
                Ti<span class="hljs-string">.API.info("***Ti.App.detailsoireescreenCtrl.datesLabel</span> : "+Ti<span class="hljs-string">.App.detailsoireescreenCtrl.datesLabel)</span>;
                Ti<span class="hljs-string">.App.detailsoireescreenCtrl.datesLabel</span> = null; 
                Ti<span class="hljs-string">.API.info("***Ti.App.detailsoireescreenCtrl.descriptLabel</span> : "+Ti<span class="hljs-string">.App.detailsoireescreenCtrl.descriptLabel)</span>;
                Ti<span class="hljs-string">.App.detailsoireescreenCtrl.descriptLabel</span> = null; 
                Ti<span class="hljs-string">.API.info("***Ti.App.detailsoireescreenCtrl.booknow</span> : "+Ti<span class="hljs-string">.App.detailsoireescreenCtrl.booknow)</span>;
                Ti<span class="hljs-string">.App.detailsoireescreenCtrl.booknow</span> = null; 
                /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                //After nulling elements :
                Ti<span class="hljs-string">.API.info("after</span> null***Ti<span class="hljs-string">.App.basewinCtrl.mainscreen.detailsoireescreen</span> : "+Ti<span class="hljs-string">.App.basewinCtrl.mainscreen.detailsoireescreen)</span>;
                Ti<span class="hljs-string">.API.info("after</span> null***Ti<span class="hljs-string">.App.detailsoireescreenCtrl.detailsoireeimg</span> : "+Ti<span class="hljs-string">.App.detailsoireescreenCtrl.detailsoireeimg)</span>;
                Ti<span class="hljs-string">.API.info("after</span> null***Ti<span class="hljs-string">.App.detailsoireescreenCtrl.detsoirenameadress</span> : "+Ti<span class="hljs-string">.App.detailsoireescreenCtrl.detsoirenameadress)</span>;
                Ti<span class="hljs-string">.API.info("after</span> null***Ti<span class="hljs-string">.App.detailsoireescreenCtrl.locationIcon</span> : "+Ti<span class="hljs-string">.App.detailsoireescreenCtrl.locationIcon)</span>;
                Ti<span class="hljs-string">.API.info("after</span> null***Ti<span class="hljs-string">.App.detailsoireescreenCtrl.detailsoireelogo</span> : "+Ti<span class="hljs-string">.App.detailsoireescreenCtrl.detailsoireelogo)</span>;

                Ti<span class="hljs-string">.API.info("after</span> null***Ti<span class="hljs-string">.App.detailsoireescreenCtrl.locatNameLabel</span> : "+Ti<span class="hljs-string">.App.detailsoireescreenCtrl.locatNameLabel)</span>;
                Ti<span class="hljs-string">.API.info("after</span> null***Ti<span class="hljs-string">.App.detailsoireescreenCtrl.adressLabel</span> : "+Ti<span class="hljs-string">.App.detailsoireescreenCtrl.adressLabel)</span>;
                Ti<span class="hljs-string">.API.info("after</span> null***Ti<span class="hljs-string">.App.detailsoireescreenCtrl.CpCityLabel</span> : "+Ti<span class="hljs-string">.App.detailsoireescreenCtrl.CpCityLabel)</span>;
                Ti<span class="hljs-string">.API.info("after</span> null***Ti<span class="hljs-string">.App.detailsoireescreenCtrl.detailsoireelogo</span> : "+Ti<span class="hljs-string">.App.detailsoireescreenCtrl.detailsoireelogo)</span>;

                Ti<span class="hljs-string">.API.info("after</span> null***Ti<span class="hljs-string">.App.detailsoireescreenCtrl.nightScrolView</span> : "+Ti<span class="hljs-string">.App.detailsoireescreenCtrl.nightScrolView)</span>;
                Ti<span class="hljs-string">.API.info("after</span> null***Ti<span class="hljs-string">.App.detailsoireescreenCtrl.titleLabel</span> : "+Ti<span class="hljs-string">.App.detailsoireescreenCtrl.titleLabel)</span>;
                Ti<span class="hljs-string">.API.info("after</span> null***Ti<span class="hljs-string">.App.detailsoireescreenCtrl.datesLabel</span> : "+Ti<span class="hljs-string">.App.detailsoireescreenCtrl.datesLabel)</span>;
                Ti<span class="hljs-string">.API.info("after</span> null***Ti<span class="hljs-string">.App.detailsoireescreenCtrl.descriptLabel</span> : "+Ti<span class="hljs-string">.App.detailsoireescreenCtrl.descriptLabel)</span>;
                Ti<span class="hljs-string">.API.info("after</span> null***Ti<span class="hljs-string">.App.detailsoireescreenCtrl.booknow</span> : "+Ti<span class="hljs-string">.App.detailsoireescreenCtrl.booknow)</span>;
                /////end after null : 


                Ti<span class="hljs-string">.App.basewinCtrl.mainscreen.detailsoireescreen</span> = null; 
                Ti<span class="hljs-string">.App.detailsoireescreenCtrl</span> = null;
            }</span>
</code></pre><p>After nulling all elements i tried to check if the nulling was successful so i tried to access these elements again (and expected to get &quot;null&quot; for each one) but i was surprised when i see that all objects (except one which wasn&#39;t written in the xml file but was created to add the view (i&#39;m talking about the <code>Ti.App.basewinCtrl.mainscreen.detailsoireescreen</code> which is the <code>$.mainscreen.detailsoireescreen.</code> in the &#39;basewin.js&#39;</p>
<p>this is the console log : </p>
<pre><code class="hljs">[INFO] :   indexwin<span class="hljs-class">.js</span> line <span class="hljs-number">174</span> --Nulling detailsoireescreen sub-element
[INFO] :   ***Ti<span class="hljs-class">.App</span><span class="hljs-class">.basewinCtrl</span><span class="hljs-class">.mainscreen</span><span class="hljs-class">.detailsoireescreen</span> : [<span class="hljs-tag">object</span> detailsoireescreen]
[INFO] :   ***Ti<span class="hljs-class">.App</span><span class="hljs-class">.detailsoireescreenCtrl</span><span class="hljs-class">.detailsoireeimg</span> : [<span class="hljs-tag">object</span> detailsoireeimg]
[INFO] :   ***Ti<span class="hljs-class">.App</span><span class="hljs-class">.detailsoireescreenCtrl</span><span class="hljs-class">.detsoirenameadress</span> : [<span class="hljs-tag">object</span> detsoirenameadress]
[INFO] :   ***Ti<span class="hljs-class">.App</span><span class="hljs-class">.detailsoireescreenCtrl</span><span class="hljs-class">.locationIcon</span> : [<span class="hljs-tag">object</span> locationIcon]
[INFO] :   ***Ti<span class="hljs-class">.App</span><span class="hljs-class">.detailsoireescreenCtrl</span><span class="hljs-class">.detailsoireelogo</span> : [<span class="hljs-tag">object</span> detailsoireelogo]
[INFO] :   ***Ti<span class="hljs-class">.App</span><span class="hljs-class">.detailsoireescreenCtrl</span><span class="hljs-class">.locatNameLabel</span> : [<span class="hljs-tag">object</span> locatNameLabel]
[INFO] :   ***Ti<span class="hljs-class">.App</span><span class="hljs-class">.detailsoireescreenCtrl</span><span class="hljs-class">.adressLabel</span> : [<span class="hljs-tag">object</span> adressLabel]
[INFO] :   ***Ti<span class="hljs-class">.App</span><span class="hljs-class">.detailsoireescreenCtrl</span><span class="hljs-class">.CpCityLabel</span> : [<span class="hljs-tag">object</span> CpCityLabel]
[INFO] :   ***Ti<span class="hljs-class">.App</span><span class="hljs-class">.detailsoireescreenCtrl</span><span class="hljs-class">.detailsoireelogo</span> : [<span class="hljs-tag">object</span> detailsoireelogo]
[INFO] :   ***Ti<span class="hljs-class">.App</span><span class="hljs-class">.detailsoireescreenCtrl</span><span class="hljs-class">.nightScrolView</span> : [<span class="hljs-tag">object</span> nightScrolView]
[INFO] :   ***Ti<span class="hljs-class">.App</span><span class="hljs-class">.detailsoireescreenCtrl</span><span class="hljs-class">.titleLabel</span> : [<span class="hljs-tag">object</span> titleLabel]
[INFO] :   ***Ti<span class="hljs-class">.App</span><span class="hljs-class">.detailsoireescreenCtrl</span><span class="hljs-class">.datesLabel</span> : [<span class="hljs-tag">object</span> datesLabel]
[INFO] :   ***Ti<span class="hljs-class">.App</span><span class="hljs-class">.detailsoireescreenCtrl</span><span class="hljs-class">.descriptLabel</span> : [<span class="hljs-tag">object</span> descriptLabel]
[INFO] :   ***Ti<span class="hljs-class">.App</span><span class="hljs-class">.detailsoireescreenCtrl</span><span class="hljs-class">.booknow</span> : [<span class="hljs-tag">object</span> booknow]
[INFO] :   after null***Ti<span class="hljs-class">.App</span><span class="hljs-class">.basewinCtrl</span><span class="hljs-class">.mainscreen</span><span class="hljs-class">.detailsoireescreen</span> : null
[INFO] :   after null***Ti<span class="hljs-class">.App</span><span class="hljs-class">.detailsoireescreenCtrl</span><span class="hljs-class">.detailsoireeimg</span> : [<span class="hljs-tag">object</span> detailsoireeimg]
[INFO] :   after null***Ti<span class="hljs-class">.App</span><span class="hljs-class">.detailsoireescreenCtrl</span><span class="hljs-class">.detsoirenameadress</span> : [<span class="hljs-tag">object</span> detsoirenameadress]
[INFO] :   after null***Ti<span class="hljs-class">.App</span><span class="hljs-class">.detailsoireescreenCtrl</span><span class="hljs-class">.locationIcon</span> : [<span class="hljs-tag">object</span> locationIcon]
[INFO] :   after null***Ti<span class="hljs-class">.App</span><span class="hljs-class">.detailsoireescreenCtrl</span><span class="hljs-class">.detailsoireelogo</span> : [<span class="hljs-tag">object</span> detailsoireelogo]
[INFO] :   after null***Ti<span class="hljs-class">.App</span><span class="hljs-class">.detailsoireescreenCtrl</span><span class="hljs-class">.locatNameLabel</span> : [<span class="hljs-tag">object</span> locatNameLabel]
[INFO] :   after null***Ti<span class="hljs-class">.App</span><span class="hljs-class">.detailsoireescreenCtrl</span><span class="hljs-class">.adressLabel</span> : [<span class="hljs-tag">object</span> adressLabel]
[INFO] :   after null***Ti<span class="hljs-class">.App</span><span class="hljs-class">.detailsoireescreenCtrl</span><span class="hljs-class">.CpCityLabel</span> : [<span class="hljs-tag">object</span> CpCityLabel]
[INFO] :   after null***Ti<span class="hljs-class">.App</span><span class="hljs-class">.detailsoireescreenCtrl</span><span class="hljs-class">.detailsoireelogo</span> : [<span class="hljs-tag">object</span> detailsoireelogo]
[INFO] :   after null***Ti<span class="hljs-class">.App</span><span class="hljs-class">.detailsoireescreenCtrl</span><span class="hljs-class">.nightScrolView</span> : [<span class="hljs-tag">object</span> nightScrolView]
[INFO] :   after null***Ti<span class="hljs-class">.App</span><span class="hljs-class">.detailsoireescreenCtrl</span><span class="hljs-class">.titleLabel</span> : [<span class="hljs-tag">object</span> titleLabel]
[INFO] :   after null***Ti<span class="hljs-class">.App</span><span class="hljs-class">.detailsoireescreenCtrl</span><span class="hljs-class">.datesLabel</span> : [<span class="hljs-tag">object</span> datesLabel]
[INFO] :   after null***Ti<span class="hljs-class">.App</span><span class="hljs-class">.detailsoireescreenCtrl</span><span class="hljs-class">.descriptLabel</span> : [<span class="hljs-tag">object</span> descriptLabel]
[INFO] :   after null***Ti<span class="hljs-class">.App</span><span class="hljs-class">.detailsoireescreenCtrl</span><span class="hljs-class">.booknow</span> : [<span class="hljs-tag">object</span> booknow]
</code></pre><p>For a while i thought that elements wasn&#39;t still gabage collected but then i realized that it&#39;s wrong and that element&#39;s values should be already nulled even they are still not garbage collected yet (their values would be &#39;undefined&#39; if the GC did its job (is this right ?)) so i came here and asked this question.<br>As i think this is very weird so i tried to clean the app many times before to run it but this didn&#39;t change anything.</p>
<p>What is wrong ?! do elements added with an xml never can be nulled ?!<br>Best.</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="January 8th 2014, 12:44:27 pm">January 8th 2014</span>
				by <span class='authorname'>mobile webdev2014</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>alloy</span></li>
					
						<li><span class='tagname'>memory management</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-273708">
				
						<section>
							<p>Hello Crystaleez, </p>
<p>I did some testing on an alloy project. I will show you some code that I created in order to check how to clean the memory inside controller&#39;s views. </p>
<h4 id="introduction-to-memory-management-in-alloy">Introduction to Memory Management in Alloy</h4>
<ul>
<li>Alloy will do a lot of the app management for you (almost magic)</li>
<li>Alloy includes some memory management (by example, if you use the Rick&#39;s pattern -check his answer <a href="https:&#x2F;&#x2F;developer.appcelerator.com&#x2F;question&#x2F;151989&#x2F;should-i-null-objects-to-release-memory-in-alloy">here</a> you can see that he wraps a window inside a scope that will be destroyed after closing that window, therefore all the cleaning will be automatic). </li>
<li>You can add a cleanUp function in any controller, so you can manually clean everything. </li>
<li>If you are using Collections, remember to use destroy() in your controller - That will force to release all the related resources. </li>
<li>Garbage collector details: iOS and Android GC will work different. There is NO WAY to force the GC to kick in. You can&#39;t actually call it manually, it will behave different: iOS will try to remove everything from memory as soon as is marked as unused. Android will wait until the last moment. </li>
</ul>
<h4 id="code-sample">Code Sample</h4>
<p>Please, create a new mobile project (alloy project) and paste all this files:</p>
<h5 id="views-x2f-index-xml">views&#x2F;index.xml</h5>
<pre><code class="hljs">&lt;Alloy&gt;
    &lt;<span class="hljs-keyword">Window</span> <span class="hljs-keyword">class</span>=<span class="hljs-string">"container"</span>&gt;
        &lt;<span class="hljs-keyword">Label</span> <span class="hljs-keyword">class</span>=<span class="hljs-string">"create"</span> onClick=<span class="hljs-string">"doClick"</span>&gt;Create&lt;/<span class="hljs-keyword">Label</span>&gt;
        &lt;<span class="hljs-keyword">Label</span> <span class="hljs-keyword">class</span>=<span class="hljs-string">"destroy"</span> onClick=<span class="hljs-string">"doDestroy"</span>&gt;Destroy&lt;/<span class="hljs-keyword">Label</span>&gt;
    &lt;/<span class="hljs-keyword">Window</span>&gt;
&lt;/Alloy&gt;
</code></pre><h5 id="views-x2f-secwin-xml">views&#x2F;secwin.xml</h5>
<pre><code class="hljs">&lt;Alloy&gt;
    &lt;View class=<span class="hljs-string">"special"</span> id=<span class="hljs-string">"special"</span>&gt;
        &lt;ImageView id=<span class="hljs-string">"detailsoireeimg"</span> <span class="hljs-attribute">height</span>=<span class="hljs-string">"110"</span> <span class="hljs-attribute">width</span>=<span class="hljs-string">"320"</span> <span class="hljs-attribute">top</span>=<span class="hljs-string">"0"</span> /&gt;
        &lt;View id=<span class="hljs-string">"detsoirenameadress"</span> <span class="hljs-attribute">width</span>=<span class="hljs-string">"234"</span> <span class="hljs-attribute">height</span>=<span class="hljs-string">"50"</span> backgroundColor=<span class="hljs-string">"black"</span> <span class="hljs-attribute">top</span>=<span class="hljs-string">"110"</span> <span class="hljs-attribute">left</span>=<span class="hljs-string">"86"</span> borderColor=<span class="hljs-string">"#C29531"</span> borderWidth=<span class="hljs-string">"1"</span>&gt;
            &lt;ImageView id=<span class="hljs-string">"locationIcon"</span> image=<span class="hljs-string">"images/locationIcon.png"</span> <span class="hljs-attribute">top</span>=<span class="hljs-string">"15"</span> <span class="hljs-attribute">left</span>=<span class="hljs-string">"11"</span> <span class="hljs-attribute">width</span>=<span class="hljs-string">"8"</span> <span class="hljs-attribute">height</span>=<span class="hljs-string">"12"</span> /&gt;
            &lt;ImageView id=<span class="hljs-string">"detailsoireelogo"</span> <span class="hljs-attribute">top</span>=<span class="hljs-string">"15"</span> <span class="hljs-attribute">left</span>=<span class="hljs-string">"12"</span> <span class="hljs-attribute">width</span>=<span class="hljs-string">"8"</span> <span class="hljs-attribute">height</span>=<span class="hljs-string">"12"</span> /&gt;
            &lt;Label id=<span class="hljs-string">"locatNameLabel"</span>/&gt;
            &lt;Label id=<span class="hljs-string">"adressLabel"</span> /&gt;
            &lt;Label id=<span class="hljs-string">"CpCityLabel"</span> /&gt;
        &lt;/View&gt;
        &lt;ImageView id=<span class="hljs-string">"detailsoireelogo"</span> <span class="hljs-attribute">top</span>=<span class="hljs-string">"100"</span> <span class="hljs-attribute">left</span>=<span class="hljs-string">"0"</span> <span class="hljs-attribute">width</span>=<span class="hljs-string">"90"</span> <span class="hljs-attribute">height</span>=<span class="hljs-string">"60"</span> borderColor=<span class="hljs-string">"#C29531"</span> borderWidth=<span class="hljs-string">"1.5"</span> /&gt;
        &lt;ScrollView id=<span class="hljs-string">"nightScrolView"</span> <span class="hljs-attribute">height</span>=<span class="hljs-string">"120"</span> <span class="hljs-attribute">width</span>=<span class="hljs-string">"312"</span> backgroundColor=<span class="hljs-string">"black"</span> <span class="hljs-attribute">top</span>=<span class="hljs-string">"170"</span> <span class="hljs-attribute">left</span>=<span class="hljs-string">"4"</span> borderColor=<span class="hljs-string">"#C29531"</span> borderWidth=<span class="hljs-string">"1.5"</span> <span class="hljs-attribute">opacity</span>=<span class="hljs-string">"0.7"</span>&gt;
            &lt;Label id=<span class="hljs-string">"titleLabel"</span> /&gt;
            &lt;Label id=<span class="hljs-string">"datesLabel"</span> /&gt;
            &lt;Label id=<span class="hljs-string">"descriptLabel"</span> /&gt;
        &lt;/ScrollView&gt;
        &lt;ImageView id=<span class="hljs-string">"booknow"</span> image=<span class="hljs-string">"images/booknow.png"</span> <span class="hljs-attribute">height</span>=<span class="hljs-string">"30"</span> <span class="hljs-attribute">width</span>=<span class="hljs-string">"140"</span> <span class="hljs-attribute">top</span>=<span class="hljs-string">"300"</span> <span class="hljs-attribute">left</span>=<span class="hljs-string">"90"</span> /&gt;
    &lt;/View&gt;
&lt;/Alloy&gt;
</code></pre><p>(BTW: you already have those images in your referred project, just copy them over to assets&#x2F;images). </p>
<h5 id="styles-x2f-index-tss">styles&#x2F;index.tss</h5>
<pre><code class="hljs">"<span class="hljs-class">.container</span>": <span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">backgroundColor</span>:<span class="hljs-value"><span class="hljs-string">"white"</span>
</span></span></span>},
"<span class="hljs-class">.create</span>": <span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">color</span>:<span class="hljs-value"> <span class="hljs-string">"#000"</span>,
    top:<span class="hljs-number">25</span>, 
    left:<span class="hljs-number">10</span>,
    width:<span class="hljs-number">100</span>,
</span></span></span>},
"<span class="hljs-class">.destroy</span>":<span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">color</span>:<span class="hljs-value"> <span class="hljs-string">"#000"</span>,
    top:<span class="hljs-number">25</span>, 
    left:<span class="hljs-number">120</span>,
    width:<span class="hljs-number">100</span>,
</span></span></span>}
</code></pre><h5 id="styles-x2f-secwin-tss">styles&#x2F;secwin.tss</h5>
<pre><code class="hljs">
"<span class="hljs-class">.special</span>" : <span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">top</span>:<span class="hljs-value"><span class="hljs-number">50</span>,
</span></span></span>}
</code></pre><h5 id="controllers-x2f-index-js">controllers&#x2F;index.js</h5>
<pre><code class="hljs">
$.secwin = <span class="hljs-literal">null</span>; 

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">doClick</span>(<span class="hljs-params">e</span>) </span>{
    $.secwin = Alloy.createController(<span class="hljs-string">"secwin"</span>);
    $.index.add($.secwin.getView()); 
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">doDestroy</span>(<span class="hljs-params">e</span>)</span>{
    $.index.remove($.secwin.getView());
    $.secwin.cleanUp();
    $.secwin =  <span class="hljs-literal">null</span>;
}

$.index.open();
</code></pre><h5 id="controllers-x2f-secwin-js">controllers&#x2F;secwin.js</h5>
<pre><code class="hljs"><span class="hljs-keyword">var</span> args = <span class="hljs-built_in">arguments</span>[<span class="hljs-number">0</span>] || {};

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">do_clean</span>(<span class="hljs-params">e, c</span>) </span>{
    clean(c);
    e.remove(c);
    c = <span class="hljs-literal">null</span>;
    Ti.API.info(<span class="hljs-string">'Deleted child at do_clean'</span>);
    <span class="hljs-keyword">return</span>;
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">clean</span>(<span class="hljs-params">e</span>) </span>{
    <span class="hljs-keyword">if</span> (e != <span class="hljs-literal">null</span>) {
        <span class="hljs-keyword">if</span> (e.children) {
            Ti.API.info(<span class="hljs-string">'Number of children: '</span> + e.children.length);
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; e.children.length; i++) {
                do_clean(e, e.children[<span class="hljs-number">0</span>]);
            }
        } <span class="hljs-keyword">else</span> {
            <span class="hljs-keyword">return</span>;
        }
    }
}

exports.cleanUp  = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    clean($.special);
};
</code></pre><h4 id="testing">Testing</h4>
<ul>
<li>After you created this project, compile it to the iOS simulator. Close the simulator and open the project in Xcode (go to yourproject&#x2F;build&#x2F;iphone and the xcode project will be there). Once you open it, please run as &quot;profile&quot; and select allocations. Run it. </li>
<li>Click on create, then destroy</li>
<li>Check for &quot;live bytes&quot;, you will see that it will grow (on create click) and decrease (on destroy click).  </li>
<li>This is showing you that nothing is being left in memory.</li>
</ul>
<p><a href="https:&#x2F;&#x2F;drive.google.com&#x2F;file&#x2F;d&#x2F;0B439umN-AOyxbk9IM0VCZDI3eUU&#x2F;edit?usp=sharing">Screenshot here</a></p>
<p>Please let me know your thoughts about this code sample. </p>
<p>Best,</p>
<p>Mauro</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="January 9th 2014, 5:14:17 pm">January 9th 2014</span>
								by <span class='authorname'>Mauro Parra</span><br>
								<a class="icon-bg icon-link" href="question/161309/nulling-elements-has-failed#answer-273708" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
