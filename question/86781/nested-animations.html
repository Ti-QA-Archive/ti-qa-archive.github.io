<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Nested Animations » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Nested Animations</h1>
		</header>
		<section>
			<p>Hey guys,</p>
<p>I may be a tad naïve in asking this, but what is the problem with having nested animations? I&#39;ve noticed that this can create some bugs when run in<br>the simulator, such as animations locking up the app. However, I have been unable to repeat these on the actual iPad itself…</p>
<p>When run in the simulator I get a range of messages such as:<br>[DEBUG] ignoring new layout while animating..<br>[DEBUG] animated called and we&#39;re not ready</p>
<p>and even</p>
<p>[DEBUG] animation guard triggered, we exceeded the timeout on waiting for view to become ready</p>
<p>I&#39;ve come from a background of working with flash (a program which I understand breeds naïve&#x2F;unexperienced developers)… I understand that Titanium isn&#39;t exactly optimised for doing a large amount of graphic&#x2F;animation work, but so far I have found it to perform an AWFUL lot faster than the Flash Packager for iPhone. My project is basically just a childrens book with some basic animations of the characters moving. E.g. an arm rotating e.t.c</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="December 7th 2010, 11:58:23 am">December 7th 2010</span>
				by <span class='authorname'>Bentley O&#39;Kane-Chase</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>animation</span></li>
					
						<li><span class='tagname'>freeze</span></li>
					
						<li><span class='tagname'>iphone</span></li>
					
						<li><span class='tagname'>mobile</span></li>
					
				</ul>
			

			<section>
				<h5>3 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Same problem here ! :-(</p>
</div>
							<div class="author">
								&mdash; commented <span title="December 18th 2010, 4:40:08 pm">December 18th 2010</span>
								by <span class='authorname'>Hansjuerg Wuethrich</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Have you found a solution ? because i still have the same Problem since 2 months! </p>
<p>&quot;ignoring new layout while animating in layout Child..&quot;</p>
<p>so the next button click will not work, or only from time to time. (Timer Problem?!)</p>
</div>
							<div class="author">
								&mdash; commented <span title="January 25th 2011, 10:25:22 am">January 25th 2011</span>
								by <span class='authorname'>Hansjuerg Wuethrich</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>The problem with nested animations is even worse on Android. Isn&#39;t there an &quot;fx queue&quot; module out there somewhere, like in jQuery?</p>
</div>
							<div class="author">
								&mdash; commented <span title="May 16th 2013, 12:46:48 pm">May 16th 2013</span>
								by <span class='authorname'>remko posthuma</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>8</span> Votes</div>
			<div class="answers"><span>6</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>6 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-204835">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>Views still have background work to complete upon creation before you animate them.  Unfortunately you have to wait till they&#39;re finished and I know of no callback that lets you know when they finish.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="March 22nd 2011, 5:27:11 pm">March 22nd 2011</span>
								by <span class='authorname'>Palmer Truelson</span><br>
								<a class="icon-bg icon-link" href="question/86781/nested-animations.html#answer-204835" rel="permalink">permalink</a>
							</div>

							<h5>2 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>If you&#39;re using the latest SDK, you could listen for the &#39;postlayout&#39; event on the view, then perform the animation.  That seems to have stopped the warnings from appearing in the case of my app.  Be sure to remove the event listener after the animation otherwise it may get triggered multiple times.</p>
</p>
										<div class="author">
											&mdash; commented <span title="September 4th 2012, 2:20:38 pm">September 4th 2012</span>
											by <span class='authorname'>Michael Aldridge</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>careful using the <code>postlayout</code> event when using animations - if you are changing anything in the view that would affect the layout of that view (screen position for example) you&#39;ll pop yourself into an infinite loop.</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 19th 2012, 5:56:02 pm">November 19th 2012</span>
											by <span class='authorname'>Bert Grantges</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>2</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-217453">
				
						<section>
							<p>I had the same problem just now. Turned out I forgot to add the view to the window. After I did that all works fine.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 25th 2011, 6:12:48 pm">August 25th 2011</span>
								by <span class='authorname'>James -</span><br>
								<a class="icon-bg icon-link" href="question/86781/nested-animations.html#answer-217453" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-212643">
				
						<section>
							<p>What does that mean ? Can we ignore this error ? because the app it self works perfect and the user can not see this error!</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="July 9th 2011, 3:45:06 pm">July 9th 2011</span>
								by <span class='authorname'>Hansjuerg Wuethrich</span><br>
								<a class="icon-bg icon-link" href="question/86781/nested-animations.html#answer-212643" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-269184">
				
						<section>
							<p>Hi guys,</p>
<p>I know this post was written 3 years ago, but I found another solution : don&#39;t forget to set a width to your view, especially if you work with MVC and Alloy.<br>I didn&#39;t set any width for my view because the normal layout rules VISUALLY set it to 100%. In fact, the &quot;animation manager&quot; (or whatever it is called) couldn&#39;t animate-left my view because it had a width of 0px.<br>So don&#39;t forget to set the width before using any animation. Hope it will help.</p>
<p>Cheers.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="September 26th 2013, 7:38:33 am">September 26th 2013</span>
								by <span class='authorname'>Ugo Stephant</span><br>
								<a class="icon-bg icon-link" href="question/86781/nested-animations.html#answer-269184" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Thanks Ugo, this just helped me :)</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 9th 2013, 7:10:59 am">November 9th 2013</span>
											by <span class='authorname'>Phil Smithson</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-269475">
				
						<section>
							<p>I know this is an old thread but I&#39;ve been playing around with this, maybe it can be helpful. To animate two object simultaneously and not get any warnings is fairly simple. Just insert this code into app.js and play. The code works but it is not cleaned, do not have much time right now …<br>Try it yourself. &#x2F;Jonni</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> <span class="hljs-keyword">self</span> = Titanium.UI.createWindow({
    backgroundColor : <span class="hljs-string">"#005494"</span>,
    exitOnClose : <span class="hljs-keyword">true</span>
});
<span class="hljs-keyword">var</span> view01 = Titanium.UI.createView({
    top : <span class="hljs-number">0</span>,
    height : <span class="hljs-string">"100%"</span>,
    width : <span class="hljs-number">80</span>,
    backgroundColor : <span class="hljs-string">"#FFC900"</span>,
    id : <span class="hljs-string">"View01"</span>,
});
<span class="hljs-keyword">var</span> view02 = Titanium.UI.createView({
    top : <span class="hljs-number">75</span>,
    left : <span class="hljs-number">0</span>,
    height : <span class="hljs-number">80</span>,
    width : <span class="hljs-string">"100%"</span>,
    id : <span class="hljs-string">"View02"</span>,
    backgroundColor : <span class="hljs-string">"#FFC900"</span>
});
<span class="hljs-keyword">var</span> view = Titanium.UI.createView({
    top : <span class="hljs-number">64</span>,
    left : <span class="hljs-number">0</span>,
    height : <span class="hljs-number">44</span>,
    width : <span class="hljs-number">320</span>,
    id : <span class="hljs-string">"View"</span>,
    backgroundColor : <span class="hljs-string">"#005494"</span>,
});

<span class="hljs-keyword">var</span> animation1 = Titanium.UI.createAnimation({
});
<span class="hljs-keyword">var</span> animation2 = Titanium.UI.createAnimation({
});
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ICommandYouToAnimate</span><span class="hljs-params">()</span> </span>{
    animation1 = Titanium.UI.createAnimation({
        <span class="hljs-string">"opacity"</span> : <span class="hljs-number">1</span>,
        <span class="hljs-string">"duration"</span> : <span class="hljs-number">800</span>,
        <span class="hljs-string">"left"</span> : <span class="hljs-number">100</span>,
        <span class="hljs-string">"curve"</span> : Ti.UI.ANIMATION_CURVE_EASE_IN_OUT,
    });
    animation2 = Titanium.UI.createAnimation({
        <span class="hljs-string">"opacity"</span> : <span class="hljs-number">1</span>,
        <span class="hljs-string">"duration"</span> : <span class="hljs-number">800</span>,
        <span class="hljs-string">"top"</span> : <span class="hljs-number">200</span>,
        <span class="hljs-string">"curve"</span> : Ti.UI.ANIMATION_CURVE_EASE_IN_OUT,
    });
    view01.animate(animation1);
    view02.animate(animation2);
    setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
        animation1.opacity = <span class="hljs-number">0.5</span>;
        animation2.opacity = <span class="hljs-number">0.5</span>;
        view01.animate(animation1);
    }, <span class="hljs-number">1000</span>);
    setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
        animation2.opacity = <span class="hljs-number">0.5</span>;
        animation1.opacity = <span class="hljs-number">0.5</span>;
        view02.animate(animation2);
    }, <span class="hljs-number">2000</span>);
    <span class="hljs-keyword">return</span>;
}
ICommandYouToAnimate();
setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">self</span>.remove(view02);
    <span class="hljs-keyword">self</span>.remove(view01);
    <span class="hljs-keyword">self</span>.add(view02);
    <span class="hljs-keyword">self</span>.add(view01);
    ICommandYouToAnimate();
}, <span class="hljs-number">10000</span>);
<span class="hljs-keyword">self</span>.add(view02);
<span class="hljs-keyword">self</span>.add(view01);
<span class="hljs-keyword">self</span>.open();
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="October 1st 2013, 7:10:56 pm">October 1st 2013</span>
								by <span class='authorname'>Jonni Åkesson</span><br>
								<a class="icon-bg icon-link" href="question/86781/nested-animations.html#answer-269475" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-218208">
				
						<section>
							<p>In my case, I simply added an event listener to solve the problem:</p>
<pre><code class="hljs">myViewToAnimate.addEventListener(<span class="hljs-string">'load'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
  <span class="hljs-comment">// animation code;</span>
)};
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="September 5th 2011, 7:12:27 pm">September 5th 2011</span>
								by <span class='authorname'>Micah Alcorn</span><br>
								<a class="icon-bg icon-link" href="question/86781/nested-animations.html#answer-218208" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>This works for an ImageView, but there is no <code>&amp;#39;load&amp;#39;</code> event for a regular view.</p>
</p>
										<div class="author">
											&mdash; commented <span title="September 6th 2011, 10:38:10 pm">September 6th 2011</span>
											by <span class='authorname'>Micah Alcorn</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>-3</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
