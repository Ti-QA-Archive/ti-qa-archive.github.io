<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Google Maps V2 crashed phone on start up » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Google Maps V2 crashed phone on start up</h1>
		</header>
		<section>
			<p>Hi all, I am new to Appcelerator and and trying to get the maps v2 module loaded, followed all the steps on the guide, installed the mod, but all it does is crash out on startup. (opens ok if I remove the map call)</p>
<p>using 3.0.2, testing on android 2.3.3 phone</p>
<p>here&#39;s the error I&#39;m getting:</p>
<p><code>03-20 11:22:15.898: E&amp;#x2F;TiApplication(3329): (KrollRuntimeThread) [423,453] APP PROXY: ti.modules.titanium.app.AppModule@40619f80
03-20 11:22:16.406: E&amp;#x2F;TiApplication(3329): (main) [178,178] Sending event: exception on thread: main msg:java.lang.NoClassDefFoundError: com.google.android.gms.R$string; Titanium 3.0.2,2013&amp;#x2F;02&amp;#x2F;15 19:02,5a77fe7
03-20 11:22:16.406: E&amp;#x2F;TiApplication(3329): java.lang.NoClassDefFoundError: com.google.android.gms.R$string
03-20 11:22:16.406: E&amp;#x2F;TiApplication(3329):     at com.google.android.gms.common.GooglePlayServicesUtil.b(Unknown Source)
03-20 11:22:16.406: E&amp;#x2F;TiApplication(3329):     at com.google.android.gms.internal.d.a(Unknown Source)
03-20 11:22:16.406: E&amp;#x2F;TiApplication(3329):     at com.google.android.gms.internal.d.onCreateView(Unknown Source)
03-20 11:22:16.406: E&amp;#x2F;TiApplication(3329):     at com.google.android.gms.maps.SupportMapFragment.onCreateView(Unknown Source)
03-20 11:22:16.406: E&amp;#x2F;TiApplication(3329):     at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:871)
03-20 11:22:16.406: E&amp;#x2F;TiApplication(3329):     at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:1083)
03-20 11:22:16.406: E&amp;#x2F;TiApplication(3329):     at android.support.v4.app.BackStackRecord.run(BackStackRecord.java:635)
03-20 11:22:16.406: E&amp;#x2F;TiApplication(3329):     at android.support.v4.app.FragmentManagerImpl.execPendingActions(FragmentManager.java:1431)
03-20 11:22:16.406: E&amp;#x2F;TiApplication(3329):     at android.support.v4.app.FragmentActivity.onStart(FragmentActivity.java:523)
03-20 11:22:16.406: E&amp;#x2F;TiApplication(3329):     at org.appcelerator.titanium.TiBaseActivity.onStart(TiBaseActivity.java:967)
03-20 11:22:16.406: E&amp;#x2F;TiApplication(3329):     at android.app.Instrumentation.callActivityOnStart(Instrumentation.java:1129)
03-20 11:22:16.406: E&amp;#x2F;TiApplication(3329):     at android.app.Activity.performStart(Activity.java:3802)
03-20 11:22:16.406: E&amp;#x2F;TiApplication(3329):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1643)
03-20 11:22:16.406: E&amp;#x2F;TiApplication(3329):     at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:1686)
03-20 11:22:16.406: E&amp;#x2F;TiApplication(3329):     at android.app.ActivityThread.access$1500(ActivityThread.java:118)
03-20 11:22:16.406: E&amp;#x2F;TiApplication(3329):     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:932)
03-20 11:22:16.406: E&amp;#x2F;TiApplication(3329):     at android.os.Handler.dispatchMessage(Handler.java:99)
03-20 11:22:16.406: E&amp;#x2F;TiApplication(3329):     at android.os.Looper.loop(Looper.java:130)
03-20 11:22:16.406: E&amp;#x2F;TiApplication(3329):     at android.app.ActivityThread.main(ActivityThread.java:3706)
03-20 11:22:16.406: E&amp;#x2F;TiApplication(3329):     at java.lang.reflect.Method.invokeNative(Native Method)
03-20 11:22:16.406: E&amp;#x2F;TiApplication(3329):     at java.lang.reflect.Method.invoke(Method.java:507)
03-20 11:22:16.406: E&amp;#x2F;TiApplication(3329):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:841)
03-20 11:22:16.406: E&amp;#x2F;TiApplication(3329):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:599)
03-20 11:22:16.406: E&amp;#x2F;TiApplication(3329):     at dalvik.system.NativeStart.main(Native Method)
03-20 11:22:16.445: E&amp;#x2F;AndroidRuntime(3329): FATAL EXCEPTION: main
03-20 11:22:16.445: E&amp;#x2F;AndroidRuntime(3329): java.lang.NoClassDefFoundError: com.google.android.gms.R$string
03-20 11:22:16.445: E&amp;#x2F;AndroidRuntime(3329):     at com.google.android.gms.common.GooglePlayServicesUtil.b(Unknown Source)
03-20 11:22:16.445: E&amp;#x2F;AndroidRuntime(3329):     at com.google.android.gms.internal.d.a(Unknown Source)
03-20 11:22:16.445: E&amp;#x2F;AndroidRuntime(3329):     at com.google.android.gms.internal.d.onCreateView(Unknown Source)
03-20 11:22:16.445: E&amp;#x2F;AndroidRuntime(3329):     at com.google.android.gms.maps.SupportMapFragment.onCreateView(Unknown Source)
03-20 11:22:16.445: E&amp;#x2F;AndroidRuntime(3329):     at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:871)
03-20 11:22:16.445: E&amp;#x2F;AndroidRuntime(3329):     at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:1083)
03-20 11:22:16.445: E&amp;#x2F;AndroidRuntime(3329):     at android.support.v4.app.BackStackRecord.run(BackStackRecord.java:635)
03-20 11:22:16.445: E&amp;#x2F;AndroidRuntime(3329):     at android.support.v4.app.FragmentManagerImpl.execPendingActions(FragmentManager.java:1431)
03-20 11:22:16.445: E&amp;#x2F;AndroidRuntime(3329):     at android.support.v4.app.FragmentActivity.onStart(FragmentActivity.java:523)
03-20 11:22:16.445: E&amp;#x2F;AndroidRuntime(3329):     at org.appcelerator.titanium.TiBaseActivity.onStart(TiBaseActivity.java:967)
03-20 11:22:16.445: E&amp;#x2F;AndroidRuntime(3329):     at android.app.Instrumentation.callActivityOnStart(Instrumentation.java:1129)
03-20 11:22:16.445: E&amp;#x2F;AndroidRuntime(3329):     at android.app.Activity.performStart(Activity.java:3802)
03-20 11:22:16.445: E&amp;#x2F;AndroidRuntime(3329):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1643)
03-20 11:22:16.445: E&amp;#x2F;AndroidRuntime(3329):     at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:1686)
03-20 11:22:16.445: E&amp;#x2F;AndroidRuntime(3329):     at android.app.ActivityThread.access$1500(ActivityThread.java:118)
03-20 11:22:16.445: E&amp;#x2F;AndroidRuntime(3329):     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:932)
03-20 11:22:16.445: E&amp;#x2F;AndroidRuntime(3329):     at android.os.Handler.dispatchMessage(Handler.java:99)
03-20 11:22:16.445: E&amp;#x2F;AndroidRuntime(3329):     at android.os.Looper.loop(Looper.java:130)
03-20 11:22:16.445: E&amp;#x2F;AndroidRuntime(3329):     at android.app.ActivityThread.main(ActivityThread.java:3706)
03-20 11:22:16.445: E&amp;#x2F;AndroidRuntime(3329):     at java.lang.reflect.Method.invokeNative(Native Method)
03-20 11:22:16.445: E&amp;#x2F;AndroidRuntime(3329):     at java.lang.reflect.Method.invoke(Method.java:507)
03-20 11:22:16.445: E&amp;#x2F;AndroidRuntime(3329):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:841)
03-20 11:22:16.445: E&amp;#x2F;AndroidRuntime(3329):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:599)
03-20 11:22:16.445: E&amp;#x2F;AndroidRuntime(3329):     at dalvik.system.NativeStart.main(Native Method)
03-20 11:22:16.453: E&amp;#x2F;liblog(1602): failed to call dumpstate</code></p>
<p>Any help ideas gratefully accepted, though is probably me doing something stupid</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="March 20th 2013, 9:41:43 am">March 20th 2013</span>
				by <span class='authorname'>Paul Ayling</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>google maps v2</span></li>
					
				</ul>
			

			<section>
				<h5>2 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>No one ?</p>
<p>Update: loaded the apk on to a 4.0 device and it opens the map window without crashing, no map in the window just the controls.. any advice anyone ;)</p>
</div>
							<div class="author">
								&mdash; commented <span title="March 21st 2013, 8:53:57 am">March 21st 2013</span>
								by <span class='authorname'>Paul Ayling</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>OK so I&#39;ve got the map controls loading, by deleting and making a new google key. However that&#39;s all I see. no map at all. </p>
<p>FYI<br>In the following question Elvira has the same issue but says it works when published via play…<br>See http:&#x2F;&#x2F;developer.appcelerator.com&#x2F;question&#x2F;149723&#x2F;problem-with-google-maps-android-api-v2-module</p>
<p>random - if anyone has any ideas on how to get the map to show, testing on 2.3.3 and 4.0 phones same result</p>
</div>
							<div class="author">
								&mdash; commented <span title="March 27th 2013, 9:38:02 am">March 27th 2013</span>
								by <span class='authorname'>Paul Ayling</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>6</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>6 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-260690">
				
						<section>
							<p>did you clean the project ? before building on the 4x ?<br>and is google play installed ?</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="April 14th 2013, 7:13:36 am">April 14th 2013</span>
								by <span class='authorname'>Paul Ayling</span><br>
								<a class="icon-bg icon-link" href="question/149790/google-maps-v2-crashed-phone-on-start-up.html#answer-260690" rel="permalink">permalink</a>
							</div>

							<h5>2 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Yes.</p>
<p>I have the solution!!!! It&#39;s a module bug.</p>
<p>If you add the mapview into a view, in 2.x works, but not in 4.X</p>
<p>If you add the mapview into a window directly … IT WORKS!!!</p>
<p>Very buggy this module. :(</p>
<p>Thanks.</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 14th 2013, 8:02:57 am">April 14th 2013</span>
											by <span class='authorname'>Miguel Ángel Castaño Fajardo</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>That was the solution! Thanks.</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 13th 2013, 11:18:56 am">May 13th 2013</span>
											by <span class='authorname'>Kristof Gruber</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-259835">
				
						<section>
							<p>Have you added your API key? There are detailed steps on how to obtain and use a key here: http:&#x2F;&#x2F;docs.appcelerator.com&#x2F;titanium&#x2F;latest&#x2F;#!&#x2F;guide&#x2F;Google_Maps_v2_for_Android-section-36739898_GoogleMapsv2forAndroid-ObtainandAddaGoogleAPIKey</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="April 2nd 2013, 9:42:20 am">April 2nd 2013</span>
								by <span class='authorname'>Rupesh Sharma</span><br>
								<a class="icon-bg icon-link" href="question/149790/google-maps-v2-crashed-phone-on-start-up.html#answer-259835" rel="permalink">permalink</a>
							</div>

							<h5>6 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Hi Rupesh, yes I&#39;ve followed those instrux, added the dev API key, but all I see is a blank map holder and controls</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 2nd 2013, 9:45:29 am">April 2nd 2013</span>
											by <span class='authorname'>Paul Ayling</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Hi again still having no joy getting this working, I&#39;ve double and treble checked the API key and is looking ok ? I am getting this error: </p>
<pre><code class="hljs">
<span class="hljs-number">04</span>-<span class="hljs-number">09</span> <span class="hljs-number">14</span>:<span class="hljs-number">42</span>:<span class="hljs-number">20.472</span>: E/<span class="hljs-function"><span class="hljs-title">TiApplication</span><span class="hljs-params">(<span class="hljs-number">32320</span>)</span></span>: (KrollRuntimeThread) [<span class="hljs-number">426</span>,<span class="hljs-number">426</span>] APP PROXY: ti<span class="hljs-class">.modules</span><span class="hljs-class">.titanium</span><span class="hljs-class">.app</span><span class="hljs-class">.AppModule</span>@<span class="hljs-number">4062</span>c938
<span class="hljs-number">04</span>-<span class="hljs-number">09</span> <span class="hljs-number">14</span>:<span class="hljs-number">42</span>:<span class="hljs-number">20.988</span>: E/<span class="hljs-function"><span class="hljs-title">dalvikvm</span><span class="hljs-params">(<span class="hljs-number">32320</span>)</span></span>: Could not find class <span class="hljs-string">'maps.i.k'</span>, referenced from method maps<span class="hljs-class">.z</span><span class="hljs-class">.ag</span><span class="hljs-class">.a</span>
<span class="hljs-number">04</span>-<span class="hljs-number">09</span> <span class="hljs-number">14</span>:<span class="hljs-number">42</span>:<span class="hljs-number">21.629</span>: E/<span class="hljs-function"><span class="hljs-title">wpa_supplicant</span><span class="hljs-params">(<span class="hljs-number">1843</span>)</span></span>: Ongoing Scan action...
<span class="hljs-number">04</span>-<span class="hljs-number">09</span> <span class="hljs-number">14</span>:<span class="hljs-number">42</span>:<span class="hljs-number">21.949</span>: E/(<span class="hljs-number">32320</span>): Creating OpenGL <span class="hljs-number">1.1</span> Session
<span class="hljs-number">04</span>-<span class="hljs-number">09</span> <span class="hljs-number">14</span>:<span class="hljs-number">42</span>:<span class="hljs-number">21.996</span>: E/<span class="hljs-function"><span class="hljs-title">GpsLocationProvider</span><span class="hljs-params">(<span class="hljs-number">7118</span>)</span></span>: Error getting cell location info. gsm_cell = [<span class="hljs-number">1233</span>,<span class="hljs-number">10652831</span>,-<span class="hljs-number">1</span>], operator = , phone type = <span class="hljs-number">1</span>, mobile type = <span class="hljs-number">0</span>
<span class="hljs-number">04</span>-<span class="hljs-number">09</span> <span class="hljs-number">14</span>:<span class="hljs-number">42</span>:<span class="hljs-number">22.379</span>: E/Google Maps Android <span class="hljs-function"><span class="hljs-title">API</span><span class="hljs-params">(<span class="hljs-number">32320</span>)</span></span>: Failed to load map.  Could not contact Google servers.
<span class="hljs-number">04</span>-<span class="hljs-number">09</span> <span class="hljs-number">14</span>:<span class="hljs-number">42</span>:<span class="hljs-number">22.691</span>: E/Google Maps Android <span class="hljs-function"><span class="hljs-title">API</span><span class="hljs-params">(<span class="hljs-number">32320</span>)</span></span>: Failed to load map.  Could not contact Google servers.
</code></pre><p>Any help appreciated</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 9th 2013, 12:16:37 pm">April 9th 2013</span>
											by <span class='authorname'>Paul Ayling</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Me too. Same problem here.</p>
<p>Any solution??? :(</p>
<p>What API KEY have i to use for developing?</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 12th 2013, 12:48:57 pm">April 12th 2013</span>
											by <span class='authorname'>Miguel Ángel Castaño Fajardo</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Hi Miguel, I solved my problem see the answer below, I was linking to the wrong API.</p>
<p>to get your key follow the instructions here: http:&#x2F;&#x2F;docs.appcelerator.com&#x2F;titanium&#x2F;latest&#x2F;#!&#x2F;guide&#x2F;Google_Maps_v2_for_Android</p>
<p>Simply it says (for dev) run: keytool -list -v -keystore ~&#x2F;Library&#x2F;Application\ Support&#x2F;Titanium&#x2F;mobilesdk&#x2F;osx&#x2F;3.0.2.GA&#x2F;android&#x2F;dev_keystore</p>
<p>get the SHA1 key and use it to create the google key<br>https:&#x2F;&#x2F;developers.google.com&#x2F;maps&#x2F;documentation&#x2F;android&#x2F;start#the_google_maps_api_key</p>
<p>hope that helps</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 12th 2013, 12:58:43 pm">April 12th 2013</span>
											by <span class='authorname'>Paul Ayling</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>It still fails to me. :(</p>
<p>But I&#39;m working with 3.1.0RC….maybe with 3.0.2 This is the reason I need Ti.map 2.0 :)</p>
<p>I generate may sha1 + ; + projectID with dev_keystore in 3.1.0RC folder</p>
<p>May the error be in RC version???? I think I follow all steps perfectly.</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 12th 2013, 5:16:10 pm">April 12th 2013</span>
											by <span class='authorname'>Miguel Ángel Castaño Fajardo</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>It works for me, but only with debug in a device. </p>
<p>No simulator, no run on Android device. Is it normal?</p>
<p>Any solution???</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 13th 2013, 9:41:19 am">April 13th 2013</span>
											by <span class='authorname'>Miguel Ángel Castaño Fajardo</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-260616">
				
						<section>
							<p>lol thought it&#39;d be me doing something stupid and it was, to prevent such dumbassiness, make sure you select the correct API when setting up your API keys</p>
<p>Select <strong>&quot;Google Maps Android API v2&quot;</strong> and<br>NOT: <strong>&quot;Google Maps API v2&quot;</strong></p>
<p>Joys of doing things for the first time.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="April 12th 2013, 10:29:46 am">April 12th 2013</span>
								by <span class='authorname'>Paul Ayling</span><br>
								<a class="icon-bg icon-link" href="question/149790/google-maps-v2-crashed-phone-on-start-up.html#answer-260616" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-260653">
				
						<section>
							<p>Hello again.</p>
<p>I&#39;m going to explain all I do. I&#39;m working with 3.0.2GA and Ti.map 2.0.0</p>
<p>This is my tiapp.xml</p>
<pre><code class="hljs"><span class="hljs-tag">&lt;<span class="hljs-title">id</span>&gt;</span>com.macasfaj.lkyandroid<span class="hljs-tag">&lt;/<span class="hljs-title">id</span>&gt;</span>
....
...
...

<span class="hljs-tag">&lt;<span class="hljs-title">android</span> <span class="hljs-attribute">xmlns:android</span>=<span class="hljs-value">"http://schemas.android.com/apk/res/android"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">manifest</span>&gt;</span>
            <span class="hljs-comment">&lt;!-- Allows the API to download data from Google Map servers --&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">uses-permission</span> <span class="hljs-attribute">android:name</span>=<span class="hljs-value">"android.permission.INTERNET"</span>/&gt;</span>
            <span class="hljs-comment">&lt;!-- Allows the API to cache data --&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">uses-permission</span> <span class="hljs-attribute">android:name</span>=<span class="hljs-value">"android.permission.WRITE_EXTERNAL_STORAGE"</span>/&gt;</span>
            <span class="hljs-comment">&lt;!-- Use GPS for device location --&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">uses-permission</span> <span class="hljs-attribute">android:name</span>=<span class="hljs-value">"android.permission.ACCESS_FINE_LOCATION"</span>/&gt;</span>
            <span class="hljs-comment">&lt;!-- Use Wi-Fi or mobile connection for device location --&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">uses-permission</span> <span class="hljs-attribute">android:name</span>=<span class="hljs-value">"android.permission.ACCESS_COARSE_LOCATION"</span>/&gt;</span>
            <span class="hljs-comment">&lt;!-- Allows the API to access Google web-based services --&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">uses-permission</span> <span class="hljs-attribute">android:name</span>=<span class="hljs-value">"com.google.android.providers.gsf.permission.READ_GSERVICES"</span>/&gt;</span>
            <span class="hljs-comment">&lt;!-- Specify OpenGL ES 2.0 as a requirement --&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">uses-feature</span> <span class="hljs-attribute">android:glEsVersion</span>=<span class="hljs-value">"0x00020000"</span> <span class="hljs-attribute">android:required</span>=<span class="hljs-value">"true"</span>/&gt;</span>
            <span class="hljs-comment">&lt;!-- Replace &lt;com.domain.appid&gt; with your application ID --&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">uses-permission</span> <span class="hljs-attribute">android:name</span>=<span class="hljs-value">"com.macasfaj.lkyandroid.permission.MAPS_RECEIVE"</span>/&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">permission</span>
                <span class="hljs-attribute">android:name</span>=<span class="hljs-value">"com.macasfaj.lkyandroid.permission.MAPS_RECEIVE"</span> <span class="hljs-attribute">android:protectionLevel</span>=<span class="hljs-value">"signature"</span>/&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">application</span>&gt;</span>
                <span class="hljs-comment">&lt;!-- Replace "PASTE YOUR GOOGLE MAPS API KEY HERE" with the Google API key you obtained --&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">meta-data</span>
                    <span class="hljs-attribute">android:name</span>=<span class="hljs-value">"com.google.android.maps.v2.API_KEY"</span> <span class="hljs-attribute">android:value</span>=<span class="hljs-value">"HERE IS MY API CODE"</span>/&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-title">application</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">manifest</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">manifest</span> <span class="hljs-attribute">android:installLocation</span>=<span class="hljs-value">"preferExternal"</span>
            <span class="hljs-attribute">android:versionCode</span>=<span class="hljs-value">"100"</span> <span class="hljs-attribute">android:versionName</span>=<span class="hljs-value">"1.0"</span>/&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">manifest</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">supports-screens</span> <span class="hljs-attribute">android:anyDensity</span>=<span class="hljs-value">"true"</span>
                <span class="hljs-attribute">android:largeScreens</span>=<span class="hljs-value">"true"</span> <span class="hljs-attribute">android:normalScreens</span>=<span class="hljs-value">"true"</span> <span class="hljs-attribute">android:smallScreens</span>=<span class="hljs-value">"true"</span>/&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">manifest</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">android</span>&gt;</span>
...
....
..
..
<span class="hljs-tag">&lt;<span class="hljs-title">modules</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">module</span> <span class="hljs-attribute">platform</span>=<span class="hljs-value">"android"</span> <span class="hljs-attribute">version</span>=<span class="hljs-value">"2.0.0"</span>&gt;</span>ti.map<span class="hljs-tag">&lt;/<span class="hljs-title">module</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">modules</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">sdk-version</span>&gt;</span>3.0.2.GA<span class="hljs-tag">&lt;/<span class="hljs-title">sdk-version</span>&gt;</span>
</code></pre><p>At Google API:</p>
<p>http:&#x2F;&#x2F;i194.photobucket.com&#x2F;albums&#x2F;z104&#x2F;macasfaj_photo&#x2F;Capturadepantalla2013-04-12alas220818.png</p>
<p>http:&#x2F;&#x2F;i194.photobucket.com&#x2F;albums&#x2F;z104&#x2F;macasfaj_photo&#x2F;Capturadepantalla2013-04-12alas220836.png</p>
<p>And I put this API key in my tiapp.xml in HERE IS MY API CODE</p>
<p>But the error still here:</p>
<pre><code class="hljs">E/TiApplication(  854): (main) [3016,17496] Sending event: exception on thread: main msg:java.lang.NoClassDefFoundError: com.google.android.gms.R$string; Titanium 3.0.2,2013/02/15 19:02,5a77fe7
E/TiApplication(  854): java.lang.NoClassDefFoundError: com.google.android.gms.R$string
E/TiApplication(  854):     at com.google.android.gms.common.GooglePlayServicesUtil.b(Unknown Source)
E/TiApplication(  854):     at com.google.android.gms.internal.d.a(Unknown Source)
E/TiApplication(  854):     at com.google.android.gms.internal.d.onCreateView(Unknown Source)
E/TiApplication(  854):     at com.google.android.gms.maps.SupportMapFragment.onCreateView(Unknown Source)
E/TiApplication(  854):     at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:871)
E/TiApplication(  854):     at android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.java:1083)
E/TiApplication(  854):     at android.support.v4.app.BackStackRecord.run(BackStackRecord.java:635)
E/TiApplication(  854):     at android.support.v4.app.FragmentManagerImpl.execPendingActions(FragmentManager.java:1431)
E/TiApplication(  854):     at android.support.v4.app.FragmentActivity.onStart(FragmentActivity.java:523)
E/TiApplication(  854):     at org.appcelerator.titanium.TiBaseActivity.onStart(TiBaseActivity.java:967)
E/TiApplication(  854):     at android.app.Instrumentation.callActivityOnStart(Instrumentation.java:1133)
E/TiApplication(  854):     at android.app.Activity.performStart(Activity.java:4475)
E/TiApplication(  854):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:1929)
E/TiApplication(  854):     at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:1981)
E/TiApplication(  854):     at android.app.ActivityThread.access$600(ActivityThread.java:123)
E/TiApplication(  854):     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1147)
E/TiApplication(  854):     at android.os.Handler.dispatchMessage(<span class="hljs-operator"><span class="hljs-keyword">Handler</span>.<span class="hljs-keyword">java</span>:<span class="hljs-number">99</span>)
<span class="hljs-keyword">E</span>/TiApplication(  <span class="hljs-number">854</span>):     <span class="hljs-keyword">at</span> android.os.Looper.<span class="hljs-keyword">loop</span>(Looper.<span class="hljs-keyword">java</span>:<span class="hljs-number">137</span>)
<span class="hljs-keyword">E</span>/TiApplication(  <span class="hljs-number">854</span>):     <span class="hljs-keyword">at</span> android.app.ActivityThread.<span class="hljs-keyword">main</span>(ActivityThread.<span class="hljs-keyword">java</span>:<span class="hljs-number">4424</span>)
<span class="hljs-keyword">E</span>/TiApplication(  <span class="hljs-number">854</span>):     <span class="hljs-keyword">at</span> <span class="hljs-keyword">java</span>.lang.reflect.Method.invokeNative(<span class="hljs-keyword">Native</span> Method)
<span class="hljs-keyword">E</span>/TiApplication(  <span class="hljs-number">854</span>):     <span class="hljs-keyword">at</span> <span class="hljs-keyword">java</span>.lang.reflect.Method.invoke(Method.<span class="hljs-keyword">java</span>:<span class="hljs-number">511</span>)
<span class="hljs-keyword">E</span>/TiApplication(  <span class="hljs-number">854</span>):     <span class="hljs-keyword">at</span> com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.<span class="hljs-keyword">java</span>:<span class="hljs-number">784</span>)
<span class="hljs-keyword">E</span>/TiApplication(  <span class="hljs-number">854</span>):     <span class="hljs-keyword">at</span> com.android.internal.os.ZygoteInit.<span class="hljs-keyword">main</span>(ZygoteInit.<span class="hljs-keyword">java</span>:<span class="hljs-number">551</span>)
<span class="hljs-keyword">E</span>/TiApplication(  <span class="hljs-number">854</span>):     <span class="hljs-keyword">at</span> dalvik.<span class="hljs-keyword">system</span>.NativeStart.<span class="hljs-keyword">main</span>(<span class="hljs-keyword">Native</span> Method)
<span class="hljs-keyword">I</span>/dalvikvm(  <span class="hljs-number">854</span>): Wrote stack traces <span class="hljs-keyword">to</span> <span class="hljs-string">'/data/anr/traces.txt'</span>
<span class="hljs-keyword">E</span>/AndroidRuntime(  <span class="hljs-number">854</span>): FATAL <span class="hljs-keyword">EXCEPTION</span>: <span class="hljs-keyword">main</span>
<span class="hljs-keyword">E</span>/AndroidRuntime(  <span class="hljs-number">854</span>): <span class="hljs-keyword">java</span>.lang.NoClassDefFoundError: com.google.android.gms.R$<span class="hljs-keyword">string</span>
<span class="hljs-keyword">E</span>/AndroidRuntime(  <span class="hljs-number">854</span>):     <span class="hljs-keyword">at</span> com.google.android.gms.common.GooglePlayServicesUtil.b(<span class="hljs-keyword">Unknown</span> <span class="hljs-keyword">Source</span>)
<span class="hljs-keyword">E</span>/AndroidRuntime(  <span class="hljs-number">854</span>):     <span class="hljs-keyword">at</span> com.google.android.gms.internal.<span class="hljs-keyword">d</span>.a(<span class="hljs-keyword">Unknown</span> <span class="hljs-keyword">Source</span>)
<span class="hljs-keyword">E</span>/AndroidRuntime(  <span class="hljs-number">854</span>):     <span class="hljs-keyword">at</span> com.google.android.gms.internal.<span class="hljs-keyword">d</span>.onCreateView(<span class="hljs-keyword">Unknown</span> <span class="hljs-keyword">Source</span>)
<span class="hljs-keyword">E</span>/AndroidRuntime(  <span class="hljs-number">854</span>):     <span class="hljs-keyword">at</span> com.google.android.gms.maps.SupportMapFragment.onCreateView(<span class="hljs-keyword">Unknown</span> <span class="hljs-keyword">Source</span>)
<span class="hljs-keyword">E</span>/AndroidRuntime(  <span class="hljs-number">854</span>):     <span class="hljs-keyword">at</span> android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.<span class="hljs-keyword">java</span>:<span class="hljs-number">871</span>)
<span class="hljs-keyword">E</span>/AndroidRuntime(  <span class="hljs-number">854</span>):     <span class="hljs-keyword">at</span> android.support.v4.app.FragmentManagerImpl.moveToState(FragmentManager.<span class="hljs-keyword">java</span>:<span class="hljs-number">1083</span>)
<span class="hljs-keyword">E</span>/AndroidRuntime(  <span class="hljs-number">854</span>):     <span class="hljs-keyword">at</span> android.support.v4.app.BackStackRecord.run(BackStackRecord.<span class="hljs-keyword">java</span>:<span class="hljs-number">635</span>)
<span class="hljs-keyword">E</span>/AndroidRuntime(  <span class="hljs-number">854</span>):     <span class="hljs-keyword">at</span> android.support.v4.app.FragmentManagerImpl.execPendingActions(FragmentManager.<span class="hljs-keyword">java</span>:<span class="hljs-number">1431</span>)
<span class="hljs-keyword">E</span>/AndroidRuntime(  <span class="hljs-number">854</span>):     <span class="hljs-keyword">at</span> android.support.v4.app.FragmentActivity.onStart(FragmentActivity.<span class="hljs-keyword">java</span>:<span class="hljs-number">523</span>)
<span class="hljs-keyword">E</span>/AndroidRuntime(  <span class="hljs-number">854</span>):     <span class="hljs-keyword">at</span> org.appcelerator.titanium.TiBaseActivity.onStart(TiBaseActivity.<span class="hljs-keyword">java</span>:<span class="hljs-number">967</span>)
<span class="hljs-keyword">E</span>/AndroidRuntime(  <span class="hljs-number">854</span>):     <span class="hljs-keyword">at</span> android.app.Instrumentation.callActivityOnStart(Instrumentation.<span class="hljs-keyword">java</span>:<span class="hljs-number">1133</span>)
<span class="hljs-keyword">E</span>/AndroidRuntime(  <span class="hljs-number">854</span>):     <span class="hljs-keyword">at</span> android.app.Activity.performStart(Activity.<span class="hljs-keyword">java</span>:<span class="hljs-number">4475</span>)
<span class="hljs-keyword">E</span>/AndroidRuntime(  <span class="hljs-number">854</span>):     <span class="hljs-keyword">at</span> android.app.ActivityThread.performLaunchActivity(ActivityThread.<span class="hljs-keyword">java</span>:<span class="hljs-number">1929</span>)
<span class="hljs-keyword">E</span>/AndroidRuntime(  <span class="hljs-number">854</span>):     <span class="hljs-keyword">at</span> android.app.ActivityThread.handleLaunchActivity(ActivityThread.<span class="hljs-keyword">java</span>:<span class="hljs-number">1981</span>)
<span class="hljs-keyword">E</span>/AndroidRuntime(  <span class="hljs-number">854</span>):     <span class="hljs-keyword">at</span> android.app.ActivityThread.<span class="hljs-keyword">access</span>$<span class="hljs-number">600</span>(ActivityThread.<span class="hljs-keyword">java</span>:<span class="hljs-number">123</span>)
<span class="hljs-keyword">E</span>/AndroidRuntime(  <span class="hljs-number">854</span>):     <span class="hljs-keyword">at</span> android.app.ActivityThread$H.handleMessage(ActivityThread.<span class="hljs-keyword">java</span>:<span class="hljs-number">1147</span>)
<span class="hljs-keyword">E</span>/AndroidRuntime(  <span class="hljs-number">854</span>):     <span class="hljs-keyword">at</span> android.os.<span class="hljs-keyword">Handler</span>.dispatchMessage(<span class="hljs-keyword">Handler</span>.<span class="hljs-keyword">java</span>:<span class="hljs-number">99</span>)
<span class="hljs-keyword">E</span>/AndroidRuntime(  <span class="hljs-number">854</span>):     <span class="hljs-keyword">at</span> android.os.Looper.<span class="hljs-keyword">loop</span>(Looper.<span class="hljs-keyword">java</span>:<span class="hljs-number">137</span>)
<span class="hljs-keyword">E</span>/AndroidRuntime(  <span class="hljs-number">854</span>):     <span class="hljs-keyword">at</span> android.app.ActivityThread.<span class="hljs-keyword">main</span>(ActivityThread.<span class="hljs-keyword">java</span>:<span class="hljs-number">4424</span>)
<span class="hljs-keyword">E</span>/AndroidRuntime(  <span class="hljs-number">854</span>):     <span class="hljs-keyword">at</span> <span class="hljs-keyword">java</span>.lang.reflect.Method.invokeNative(<span class="hljs-keyword">Native</span> Method)
<span class="hljs-keyword">E</span>/AndroidRuntime(  <span class="hljs-number">854</span>):     <span class="hljs-keyword">at</span> <span class="hljs-keyword">java</span>.lang.reflect.Method.invoke(Method.<span class="hljs-keyword">java</span>:<span class="hljs-number">511</span>)
<span class="hljs-keyword">E</span>/AndroidRuntime(  <span class="hljs-number">854</span>):     <span class="hljs-keyword">at</span> com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.<span class="hljs-keyword">java</span>:<span class="hljs-number">784</span>)
<span class="hljs-keyword">E</span>/AndroidRuntime(  <span class="hljs-number">854</span>):     <span class="hljs-keyword">at</span> com.android.internal.os.ZygoteInit.<span class="hljs-keyword">main</span>(ZygoteInit.<span class="hljs-keyword">java</span>:<span class="hljs-number">551</span>)
<span class="hljs-keyword">E</span>/AndroidRuntime(  <span class="hljs-number">854</span>):     <span class="hljs-keyword">at</span> dalvik.<span class="hljs-keyword">system</span>.NativeStart.<span class="hljs-keyword">main</span>(<span class="hljs-keyword">Native</span> Method)</span>
</code></pre><p>I&#39;m becoming crazy. Is there something wrong???</p>
<p>Thanks.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="April 12th 2013, 6:18:40 pm">April 12th 2013</span>
								by <span class='authorname'>Miguel Ángel Castaño Fajardo</span><br>
								<a class="icon-bg icon-link" href="question/149790/google-maps-v2-crashed-phone-on-start-up.html#answer-260653" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-260673">
				
						<section>
							<p>hi Miguel, if you need to send the dev apk to your customer, look in the build&#x2F;android directory,<br>there should be an app.apk you can use.</p>
<p>if you want to send a finished app you need to create your finished key and add the sha1 from<br>that to your google api. note you can hv more than one on your google key.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="April 13th 2013, 10:01:11 am">April 13th 2013</span>
								by <span class='authorname'>Paul Ayling</span><br>
								<a class="icon-bg icon-link" href="question/149790/google-maps-v2-crashed-phone-on-start-up.html#answer-260673" rel="permalink">permalink</a>
							</div>

							<h5>6 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>and google v2 will only work on a device not in the emulator</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 13th 2013, 10:09:51 am">April 13th 2013</span>
											by <span class='authorname'>Paul Ayling</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>The problem is that I only work in debug mode. I can not compile directly on the phone and run. Have you tried it yourself?</p>
<p>The application completed&#39;ve tried and does not work. I changed the key and does not work.</p>
<p>Logical thing I see, because if you look at the documentation:</p>
<p>http:&#x2F;&#x2F;docs.appcelerator.com&#x2F;titanium&#x2F;latest&#x2F; # &#x2F; guide&#x2F;Google_Maps_v2_for_Android</p>
<p>&#39;<br>Requirements:</p>
<pre><code class="hljs"> Only works <span class="hljs-function_start"><span class="hljs-keyword">on</span></span> Android devices. Not supported <span class="hljs-function_start"><span class="hljs-keyword">on</span></span> <span class="hljs-keyword">the</span> Android emulator.

 Requires Google Play <span class="hljs-keyword">to</span> be installed.

 Requires Google Maps API key <span class="hljs-keyword">for</span> development <span class="hljs-keyword">and</span> production Both.
</code></pre><p>&#39;</p>
<p>No emulator, not without Google Play installation.</p>
<p>: (</p>
<p>How are we supposed to prove then?</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 13th 2013, 10:10:20 am">April 13th 2013</span>
											by <span class='authorname'>Miguel Ángel Castaño Fajardo</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I&#39;ve seen than on a devide it works. Thanks.</p>
<p>Only debug version, not release version.</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 13th 2013, 11:58:01 am">April 13th 2013</span>
											by <span class='authorname'>Miguel Ángel Castaño Fajardo</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>do you have both debug and release sha1 in the google api key on separate lines?</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 13th 2013, 12:52:00 pm">April 13th 2013</span>
											by <span class='authorname'>Paul Ayling</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>No. I can I do this in tiapp.xml</p>
<p>Documentation doesn&#39;t explain this.</p>
<p>Any example?</p>
<p>Another strange thing. It works for me in a 2.3.3 Android, but not in a 4.1 Jelly Bean. Any trick for this? </p>
<p>Thanks.</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 13th 2013, 1:08:29 pm">April 13th 2013</span>
											by <span class='authorname'>Miguel Ángel Castaño Fajardo</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Sorry. I didn&#39;t understand  your comment. </p>
<p>My release version works now. Two keys  at Google API. No problem. </p>
<p>Thanks again. </p>
<p>I only have a problem now. </p>
<p>It works perfect with Android 2.3.3. But with my other mobile, 4.1 Jelly Bean the app shows a white screen. Controls appears, but no map. :(</p>
<p>Any idea? Using 3.0.2 and ti.map 2.0.0. </p>
<p>Thanks.</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 13th 2013, 2:49:22 pm">April 13th 2013</span>
											by <span class='authorname'>Miguel Ángel Castaño Fajardo</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-260692">
				
						<section>
							<p>cool, glad u got it working :)</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="April 14th 2013, 8:07:58 am">April 14th 2013</span>
								by <span class='authorname'>Paul Ayling</span><br>
								<a class="icon-bg icon-link" href="question/149790/google-maps-v2-crashed-phone-on-start-up.html#answer-260692" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
