<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>auto-focus on Titanium.UI.TextArea upon window.open in android » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>auto-focus on Titanium.UI.TextArea upon window.open in android</h1>
		</header>
		<section>
			<p>I&#39;ve been struggling with the following bug for the last two days and finally decided to ask the community for a solution or workaround. </p>
<p>In the current titanium SDK, the first visible TextArea in a window that is opened is immediately focused and the soft keyboard slides up. This problem only exists on android, the app works fine (as it did on android as well before the update) under iOS. </p>
<p>There seems to be no property or s.th. that initiates this behavior, it just happens. There are several similar windows containing Textareas in the app. Some have more Labels, Buttons or images above the first Textarea so that they are out of the visible area. In these cases the app behaves completely normal. It really just happens in case the textarea is initially visible.</p>
<p>Here is how I create the Textareas (they are all created in the same way, I double- and triple checked that):</p>
<pre><code class="hljs">createTextArea = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(_initialValue, _margin)</span> </span>{

    <span class="hljs-keyword">var</span> aTextArea;

    aTextArea = Ti.UI.createTextArea({
        color:<span class="hljs-string">'#000'</span>,
        value:_initialValue,
        font:{
            fontSize:<span class="hljs-string">'15dp'</span>,
            fontWeight:<span class="hljs-string">'normal'</span>
        },
        top:_margin,
        left:_margin,
        right:_margin,
        keyboardType:Ti.UI.KEYBOARD_NUMBERS_PUNCTUATION,
        returnKeyType:Ti.UI.RETURNKEY_DONE,
        suppressReturn:<span class="hljs-literal">true</span>
    });

    <span class="hljs-keyword">if</span> (Ti.Platform.name === <span class="hljs-string">'iPhone OS'</span>) {
        aTextArea.borderRadius = <span class="hljs-number">4</span>;
        aTextArea.height = <span class="hljs-string">'36dp'</span>;
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (Ti.Platform.name === <span class="hljs-string">'android'</span>) {
        aTextArea.borderRadius = <span class="hljs-number">1</span>;
        aTextArea.height = <span class="hljs-string">'36dp'</span>;
    }

    <span class="hljs-keyword">return</span> aTextArea;
};
</code></pre><p>Here is how these so-created textareas are added to their scrollviews:</p>
<pre><code class="hljs">var textfield<span class="hljs-comment">;</span>

textfield = createTextArea('1.0', margin)<span class="hljs-comment">;</span>
textfield.addEventListener('change', checkFloatInTextField)<span class="hljs-comment">;            </span>
scrollView.add(textfield)<span class="hljs-comment">;</span>
</code></pre><p>Additional information (for the record)</p>
<p><strong>Application type:</strong> mobile</p>
<p><strong>Titanium SDK:</strong> 2.1.0 (06&#x2F;28&#x2F;12 12:16 6e3cab6)</p>
<p><strong>Platform &amp; version:</strong> iOS 4.3.x through 5.1.x, Android 2.3.x and 4.0.x</p>
<p><strong>Device:</strong> iOS simulator, iPhone 3G, 4, 4S, Android Galaxy Nexus, several Motorola and HTC devices </p>
<p><strong>Host Operating System:</strong> OSX 10.7.4 (Development Machine)</p>
<p><strong>Titanium Studio:</strong> 2.2.0.201207061917</p>
<p>Any help is highly appreciated, we&#39;re unable to release the new version of the app until this is fixed or &#39;workarounded&#39;. If this can&#39;t be fixed we will be forced to ditch appcelerator and rewrite the app as native ones, after all this would have been <em>very</em> much faster anyways ..</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="July 9th 2012, 6:21:21 am">July 9th 2012</span>
				by <span class='authorname'>Florian Krüger</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>focus</span></li>
					
						<li><span class='tagname'>keyboard</span></li>
					
						<li><span class='tagname'>open</span></li>
					
						<li><span class='tagname'>textarea</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>1</span> Vote</div>
			<div class="answers"><span>4</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>4 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-242760">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>Check this issue: <a href="https:&#x2F;&#x2F;jira.appcelerator.org&#x2F;browse&#x2F;TIMOB-6745">https:&#x2F;&#x2F;jira.appcelerator.org&#x2F;browse&#x2F;TIMOB-6745</a></p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="July 9th 2012, 6:53:30 am">July 9th 2012</span>
								by <span class='authorname'>Ivan Škugor</span><br>
								<a class="icon-bg icon-link" href="question/139435/auto-focus-on-titaniumuitextarea-upon-windowopen-in-android#answer-242760" rel="permalink">permalink</a>
							</div>

							<h5>3 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Yes I agree,</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 9th 2012, 6:57:12 am">July 9th 2012</span>
											by <span class='authorname'>Boydlee Pollentine</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Thank you, Ivan. I&#39;ve temporarily fixed the issue by using what I believe is <a href="https:&#x2F;&#x2F;jira.appcelerator.org&#x2F;browse&#x2F;TIMOB-6745?focusedCommentId=198140&amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-198140">your workaround</a>.</p>
<p>Thank you for your reply!</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 9th 2012, 10:01:30 am">July 9th 2012</span>
											by <span class='authorname'>Florian Krüger</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Glad to help. :)</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 9th 2012, 10:30:34 am">July 9th 2012</span>
											by <span class='authorname'>Ivan Škugor</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-249402">
				
						<section>
							<p>This worked for me:</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> textAccountID = Titanium.UI.createTextField({
    value:<span class="hljs-string">''</span>,
    keyboardType:Titanium.UI.KEYBOARD_NUMBER_PAD,
    borderWidth:<span class="hljs-number">1</span>,
    borderColor:<span class="hljs-string">'#f50'</span>,
    softKeyboardOnFocus : Ti.UI.Android.SOFT_KEYBOARD_HIDE_ON_FOCUS
});
viewLogin.add(textAccountID);

<span class="hljs-keyword">var</span> textPassword = Titanium.UI.createTextField({
    value:<span class="hljs-string">''</span>,
    passwordMask:<span class="hljs-literal">true</span>,
    borderWidth:<span class="hljs-number">1</span>,
    borderColor:<span class="hljs-string">'#f50'</span>,
    softKeyboardOnFocus : Ti.UI.Android.SOFT_KEYBOARD_HIDE_ON_FOCUS
});
viewLogin.add(textPassword);

textAccountID.value = Ti.App.Properties.getString(<span class="hljs-string">"AccountID"</span>,<span class="hljs-string">''</span>);
textPassword.value = Ti.App.Properties.getString(<span class="hljs-string">"Password"</span>,<span class="hljs-string">''</span>);

textAccountID.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
    textAccountID.softKeyboardOnFocus = Ti.UI.Android.SOFT_KEYBOARD_SHOW_ON_FOCUS;
    textAccountID.keyboardType = Titanium.UI.KEYBOARD_NUMBER_PAD,
    textAccountID.focus();
});

textPassword.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
    textPassword.softKeyboardOnFocus = Ti.UI.Android.SOFT_KEYBOARD_SHOW_ON_FOCUS;
    textAccountID.keyboardType = Titanium.UI.KEYBOARD_DEFAULT,
    textPassword.focus();
});
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="October 16th 2012, 6:33:17 pm">October 16th 2012</span>
								by <span class='authorname'>Ken Rucker</span><br>
								<a class="icon-bg icon-link" href="question/139435/auto-focus-on-titaniumuitextarea-upon-windowopen-in-android#answer-249402" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Note: I had a couple type-o&#39;s and lines of unneeded code but you&#39;ll get the jest.</p>
</p>
										<div class="author">
											&mdash; commented <span title="October 16th 2012, 6:38:47 pm">October 16th 2012</span>
											by <span class='authorname'>Ken Rucker</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>2</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-242757">
				
						<section>
							<p>hello Florian,</p>
<p>for auto focus problem of textArea</p>
<p>you can try <a href="http:&#x2F;&#x2F;developer.appcelerator.com&#x2F;question&#x2F;134140&#x2F;how-to-stop-android-textfield-from-auto-focusing">This</a></p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="July 9th 2012, 6:36:23 am">July 9th 2012</span>
								by <span class='authorname'>Sarafaraz Babi</span><br>
								<a class="icon-bg icon-link" href="question/139435/auto-focus-on-titaniumuitextarea-upon-windowopen-in-android#answer-242757" rel="permalink">permalink</a>
							</div>

							<h5>2 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Hi Sarafaraz, thank you for your input but hiding and showing textfields only to prevent them to be focused by the OS seems to be a little heavyweight solution for me. Ivan&#39;s solution could be embedded in the textarea creation process and therefore was easier to apply. Anyways, thank you!</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 9th 2012, 10:03:53 am">July 9th 2012</span>
											by <span class='authorname'>Florian Krüger</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>ya Florian It&#39;s right…and Welcome…!</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 10th 2012, 6:54:42 am">July 10th 2012</span>
											by <span class='authorname'>Sarafaraz Babi</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-242759">
				
						<section>
							<p>Another method is to create another TextField but hide it off screen. Make sure its the first one added to your Window and it should catch the focus event but being off screen won&#39;t show the keyboard.</p>
<p>This works for me anyway.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="July 9th 2012, 6:52:43 am">July 9th 2012</span>
								by <span class='authorname'>Boydlee Pollentine</span><br>
								<a class="icon-bg icon-link" href="question/139435/auto-focus-on-titaniumuitextarea-upon-windowopen-in-android#answer-242759" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
