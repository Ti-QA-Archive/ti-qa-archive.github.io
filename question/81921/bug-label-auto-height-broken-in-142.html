<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>***Bug*** Label &#39;Auto&#39; Height Broken in 1.4.2 » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>***Bug*** Label &#39;Auto&#39; Height Broken in 1.4.2</h1>
		</header>
		<section>
			<p>This is the code being used( with the text being dynamically updated and changed )</p>
<pre><code class="hljs">var labelHere = Ti.UI.createLabel({
    <span class="hljs-built_in">color</span>:<span class="hljs-string">'#808080'</span>,
    font:{fontSize:<span class="hljs-number">18</span>,fontWeight:<span class="hljs-string">'bold'</span>, fontFamily:<span class="hljs-string">'Helvetica'</span>},
    <span class="hljs-built_in">textAlign</span>:<span class="hljs-string">'left'</span>,
    top:<span class="hljs-number">0</span>,
    left:<span class="hljs-number">0</span>,
    <span class="hljs-variable">height</span>:<span class="hljs-string">'auto'</span>,
    <span class="hljs-variable">width</span>:<span class="hljs-number">319</span>,
    zIndex:<span class="hljs-number">3</span>,
    <span class="hljs-built_in">text</span>:stringVariable
});
</code></pre><p>WORKS under<br>iOS 4.1<br>Mobile SDK 1.4.1.1</p>
<p>But it breaks when under<br>iOS 4.1<br>Mobile SDK 1.4.2</p>
<p>Whenever adding content to the label, the height does not increase and just shows ellipsis.  When populating the label&#39;s text initially, it does have an &#39;auto&#39; height, but it does NOT work when adding more to the label&#39;s text property after that initial setup.</p>
<p>any help would be greatly appreciated!!!</p>
<p>rocksteady,<br>danno~</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="November 22nd 2010, 8:15:39 am">November 22nd 2010</span>
				by <span class='authorname'>danno watts</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>1.4.1.1</span></li>
					
						<li><span class='tagname'>1.4.2</span></li>
					
						<li><span class='tagname'>4.1</span></li>
					
						<li><span class='tagname'>auto</span></li>
					
						<li><span class='tagname'>height</span></li>
					
						<li><span class='tagname'>ios</span></li>
					
						<li><span class='tagname'>iphone</span></li>
					
						<li><span class='tagname'>label</span></li>
					
						<li><span class='tagname'>mobile</span></li>
					
				</ul>
			

			<section>
				<h5>2 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Danno</p>
<p>Can we see a bit more of your code? Where are you adding it, and what to?</p>
</div>
							<div class="author">
								&mdash; commented <span title="November 22nd 2010, 11:26:41 am">November 22nd 2010</span>
								by <span class='authorname'>Paul Dowsett</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>it&#39;s over 2000 lines of code in the .js file, so can&#39;t post it all, but simplified it&#39;s the label above added to a view, which that view is added to a scrollView.<br>all of it works under 1.4.1.1 , but under 1.4.2 it doesn&#39;t.</p>
</div>
							<div class="author">
								&mdash; commented <span title="November 22nd 2010, 5:19:17 pm">November 22nd 2010</span>
								by <span class='authorname'>danno watts</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>6</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>6 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-149891">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>dont add the height property in label….</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="November 25th 2010, 3:11:03 am">November 25th 2010</span>
								by <span class='authorname'>Andrew Remigius</span><br>
								<a class="icon-bg icon-link" href="question/81921/bug-label-auto-height-broken-in-142.html#answer-149891" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>2</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-148261">
				
						<section>
							<p>more code showing it in context:</p>
<pre><code class="hljs">
var scrollView = Titanium.UI.createScrollView({
    contentWidth:<span class="hljs-number">320</span>,
    layout:<span class="hljs-string">'vertical'</span>,
    contentHeight:<span class="hljs-string">'auto'</span>,
    top:<span class="hljs-number">0</span>,
    showVerticalScrollIndicator:<span class="hljs-keyword">true</span>,
    showHorizontalScrollIndicator:<span class="hljs-keyword">false</span>
});

var theView = Ti.UI.createView({
    <span class="hljs-variable">width</span>:<span class="hljs-number">319</span>,
    <span class="hljs-variable">height</span>:<span class="hljs-string">'auto'</span>,
    top:<span class="hljs-number">5</span>,
    left:<span class="hljs-number">8</span>
});

var labelHere = Ti.UI.createLabel({
    <span class="hljs-built_in">color</span>:<span class="hljs-string">'#808080'</span>,
    font:{fontSize:<span class="hljs-number">18</span>,fontWeight:<span class="hljs-string">'bold'</span>, fontFamily:<span class="hljs-string">'Helvetica'</span>},
    <span class="hljs-built_in">textAlign</span>:<span class="hljs-string">'left'</span>,
    top:<span class="hljs-number">0</span>,
    left:<span class="hljs-number">0</span>,
    <span class="hljs-variable">height</span>:<span class="hljs-string">'auto'</span>,
    <span class="hljs-variable">width</span>:<span class="hljs-number">319</span>,
    zIndex:<span class="hljs-number">3</span>,
    <span class="hljs-built_in">text</span>:stringVariable
});

theView.<span class="hljs-built_in">add</span>(labelHere);

scrollView.<span class="hljs-built_in">add</span>(theView);
</code></pre><p>WORKS under iOS 4.1 Mobile SDK 1.4.1.1<br>But it breaks when under iOS 4.1 Mobile SDK 1.4.2</p>
<p>is there a new, stable version that is above 1.4.2 that i can try out? or any other suggestions?</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="November 22nd 2010, 6:34:41 pm">November 22nd 2010</span>
								by <span class='authorname'>danno watts</span><br>
								<a class="icon-bg icon-link" href="question/81921/bug-label-auto-height-broken-in-142.html#answer-148261" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-148281">
				
						<section>
							<p>Danno</p>
<p>Try the latest Continuous Build, that you can download from the link in the <a href="http:&#x2F;&#x2F;developer.appcelerator.com&#x2F;doc&#x2F;mobile&#x2F;get_continuous_builds">install instructions</a> page, and let us know if the problem persists.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="November 22nd 2010, 6:39:23 pm">November 22nd 2010</span>
								by <span class='authorname'>Paul Dowsett</span><br>
								<a class="icon-bg icon-link" href="question/81921/bug-label-auto-height-broken-in-142.html#answer-148281" rel="permalink">permalink</a>
							</div>

							<h5>2 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>i&#39;ve downloaded it and i&#39;ll try it in the next few minutes to see what happens.  quick side question, how are people using the latest build of 1.5, i&#39;ve seen on other questions here that people are saying they are using 1.5 ( not 1.4 )</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 23rd 2010, 2:33:09 am">November 23rd 2010</span>
											by <span class='authorname'>danno watts</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Danno</p>
<p>1.5 is not yet considered stable, so if you are going to use it, and something does not work, you have to be prepared to test the issue in 1.4.X to ensure it&#39;s not 1.5-specific before considering it a problem (or raising it in this Q&amp;A)</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 24th 2010, 8:16:28 pm">November 24th 2010</span>
											by <span class='authorname'>Paul Dowsett</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-149171">
				
						<section>
							<p>just tried latest build and it did NOT fix the issue :(</p>
<p>rocksteady,<br>danno~</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="November 23rd 2010, 11:18:14 pm">November 23rd 2010</span>
								by <span class='authorname'>danno watts</span><br>
								<a class="icon-bg icon-link" href="question/81921/bug-label-auto-height-broken-in-142.html#answer-149171" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-149201">
				
						<section>
							<p>Try forcing a refresh on the parent scroll view and container view after you&#39;ve updated the label text (by changing some random property):</p>
<pre><code class="hljs">labelHere.text = 'New string'<span class="hljs-comment">;</span>
theView.width = 318<span class="hljs-comment">;</span>
theView.width = 319<span class="hljs-comment">;</span>
scrollView.contentWidth = 319<span class="hljs-comment">;</span>
scrollView.contentWidth = 320<span class="hljs-comment">;</span>
</code></pre><p>Or even forcibly resetting the height of the label:</p>
<pre><code class="hljs">labelHere.<span class="hljs-built_in">text</span> = <span class="hljs-string">'New string'</span>;
labelHere.<span class="hljs-variable">height</span> = <span class="hljs-number">20</span>;
labelHere.<span class="hljs-variable">height</span> = <span class="hljs-string">'auto'</span>;
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="November 24th 2010, 2:03:07 am">November 24th 2010</span>
								by <span class='authorname'>James K</span><br>
								<a class="icon-bg icon-link" href="question/81921/bug-label-auto-height-broken-in-142.html#answer-149201" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-149791">
				
						<section>
							<p>Danno</p>
<p>The label in this code changes height to accommodate the extra text after you click on the button, using android 2.2, Ti SDK 1.4.X.  Would you test it in your environment?</p>
<pre><code class="hljs">Ti.UI.setBackgroundColor(<span class="hljs-string">'#000'</span>);

<span class="hljs-keyword">var</span> tabGroup = Titanium.UI.createTabGroup();

<span class="hljs-keyword">var</span> <span class="hljs-built_in">window</span> = Titanium.UI.createWindow({  
    title:<span class="hljs-string">'window 1'</span>,
    backgroundColor:<span class="hljs-string">'red'</span>
});

<span class="hljs-keyword">var</span> button = Titanium.UI.createButton({
    title:<span class="hljs-string">"change label"</span>,
    width:<span class="hljs-number">100</span>
});
<span class="hljs-built_in">window</span>.add(button);

<span class="hljs-keyword">var</span> stringVariable = <span class="hljs-string">"short label text"</span>;

<span class="hljs-keyword">var</span> labelHere = Ti.UI.createLabel({
    backgroundColor:<span class="hljs-string">'white'</span>,
    color:<span class="hljs-string">'#808080'</span>,
    font:{fontSize:<span class="hljs-number">18</span>,fontWeight:<span class="hljs-string">'bold'</span>, fontFamily:<span class="hljs-string">'Helvetica'</span>},
    textAlign:<span class="hljs-string">'left'</span>,
    top:<span class="hljs-number">10</span>,
    left:<span class="hljs-number">0</span>,
    width:<span class="hljs-number">319</span>,
    zIndex:<span class="hljs-number">3</span>,
    text:stringVariable
});

button.addEventListener(<span class="hljs-string">'click'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)
</span>{
    labelHere.text = <span class="hljs-string">"this is some very long text to prove whether or not the label height will dynamically change accordingly"</span>;
});

<span class="hljs-built_in">window</span>.add(labelHere);

<span class="hljs-built_in">window</span>.open();
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="November 24th 2010, 8:27:47 pm">November 24th 2010</span>
								by <span class='authorname'>Paul Dowsett</span><br>
								<a class="icon-bg icon-link" href="question/81921/bug-label-auto-height-broken-in-142.html#answer-149791" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>i&#39;ll take a look at that.  glad it works in android, would you mind seeing if it works on iOS with the configuration you currently have?</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 25th 2010, 12:30:48 am">November 25th 2010</span>
											by <span class='authorname'>danno watts</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
