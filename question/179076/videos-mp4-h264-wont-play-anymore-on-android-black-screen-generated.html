<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Videos (mp4, h264) won&#39;t play anymore on Android, black screen generated » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Videos (mp4, h264) won&#39;t play anymore on Android, black screen generated</h1>
		</header>
		<section>
			<p>Long story short: our mp4 videos won&#39;t play anymore in our new app project. Only a black sceen is shown. Webm format works though. Currently working with: SDK: 3.4.0.GA.</p>
<p>The weird part is: in another&#x2F;older testproject the videos do work. The app is created some months ago. </p>
<p>The code I use to open a fullscreen player is the same on both projects:</p>
<pre><code class="hljs">    var activeMovie = Titanium.Media.createVideoPlayer({
        <span class="hljs-string">url :</span> url,
        <span class="hljs-string">backgroundColor :</span> <span class="hljs-string">'#000000'</span>,   
        <span class="hljs-string">mediaControlStyle :</span> Titanium.Media.VIDEO_CONTROL_DEFAULT,
        <span class="hljs-string">scalingMode :</span> Titanium.Media.VIDEO_SCALING_ASPECT_FIT,
        <span class="hljs-string">autoplay :</span> <span class="hljs-literal">true</span>,
<span class="hljs-label">        fullscreen:</span> <span class="hljs-literal">true</span>
    });
</code></pre><p>If I compare both apps, I notice a difference in the AndroidManifest.xml. The latest project has this line in it:</p>
<pre><code class="hljs">&lt;activity <span class="hljs-string">android:</span>name=<span class="hljs-string">"ti.modules.titanium.media.TiVideoActivity"</span> <span class="hljs-string">android:</span>configChanges=<span class="hljs-string">"keyboardHidden|orientation|screenSize"</span> <span class="hljs-string">android:</span>theme=<span class="hljs-string">"@style/Theme.AppCompat.Fullscreen"</span> <span class="hljs-string">android:</span>launchMode=<span class="hljs-string">"singleTask"</span>/&gt;
</code></pre><p>Removing it doesn&#39;t fix the problem though. The video window doesn&#39;t get launched at all.</p>
<p>My console output when the black screen is generated:</p>
<pre><code class="hljs">I/TiAPI   ( 6848):  VIDEO URL: http:<span class="hljs-comment">//content1.skoften.net/video/content113532134//151114-54671d3cc1f06.mp4</span>
I/ActivityManager(  500): START u0 {cmp=android.skoften.<span class="hljs-keyword">app</span>/ti.modules.titanium.media.TiVideoActivity (has extras)} from pid 6848
W/EGL_genymotion( 6848): eglSurfaceAttrib not implemented
<span class="hljs-keyword">D</span>/MediaPlayer( 6848): Couldn't <span class="hljs-keyword">open</span> <span class="hljs-keyword">file</span> <span class="hljs-keyword">on</span> client side, trying server side
I/AwesomePlayer(  154): setDataSource_l(URL suppressed)
I/ActivityManager(  500): Displayed android.skoften.<span class="hljs-keyword">app</span>/ti.modules.titanium.media.TiVideoActivity: +78ms
V/FFmpegExtractor(  154): SniffFFMPEG
I/FFmpegExtractor(  154): android-source:0xb82bbc18
<span class="hljs-keyword">D</span>/FFMPEG  (  154): android source begin <span class="hljs-keyword">open</span>
<span class="hljs-keyword">D</span>/FFMPEG  (  154): android <span class="hljs-keyword">open</span>, url: android-source:0xb82bbc18
<span class="hljs-keyword">D</span>/FFMPEG  (  154): ffmpeg <span class="hljs-keyword">open</span> android data source success, source ptr: 0xb82bbc18
<span class="hljs-keyword">D</span>/FFMPEG  (  154): android source <span class="hljs-keyword">open</span> success
I/FFMPEG  (  154): <span class="hljs-keyword">Input</span> #0, matroska,webm, from 'android-source:0xb82bbc18':
I/FFMPEG  (  154):   Duration: 00:00:28.60, start: 0.000000, bitrate: 844 kb/<span class="hljs-literal">s</span>
I/FFMPEG  (  154):     Stream #0:0(eng): Video: vp8, yuv420p, 640x360, SAR 1:1 DAR 16:9, 29.97 fps, 29.97 tbr, 1k tbn, 1k tbc (default)
I/FFMPEG  (  154):     Stream #0:1(eng): Audio: vorbis, 48000 Hz, stereo, fltp (default)
I/FFmpegExtractor(  154): FFmpegExtrator, url: android-source:0xb82bbc18, format_name: matroska,webm, format_long_name: Matroska / WebM
I/FFmpegExtractor(  154): <span class="hljs-keyword">list</span> the formats suppoted <span class="hljs-keyword">by</span> ffmpeg: 
I/FFmpegExtractor(  154): ========================================
V/FFmpegExtractor(  154): format_names[00]: mpeg
V/FFmpegExtractor(  154): format_names[01]: mpegts
V/FFmpegExtractor(  154): format_names[02]: <span class="hljs-keyword">mov</span>,mp4,m4a,3gp,3g2,mj2
V/FFmpegExtractor(  154): format_names[03]: matroska,webm
V/FFmpegExtractor(  154): format_names[04]: asf
V/FFmpegExtractor(  154): format_names[05]: <span class="hljs-keyword">rm</span>
V/FFmpegExtractor(  154): format_names[06]: flv
V/FFmpegExtractor(  154): format_names[07]: swf
V/FFmpegExtractor(  154): format_names[08]: avi
V/FFmpegExtractor(  154): format_names[09]: ape
V/FFmpegExtractor(  154): format_names[10]: dts
V/FFmpegExtractor(  154): format_names[11]: flac
V/FFmpegExtractor(  154): format_names[12]: ac3
V/FFmpegExtractor(  154): format_names[13]: wav
V/FFmpegExtractor(  154): format_names[14]: ogg
V/FFmpegExtractor(  154): format_names[15]: vc1
V/FFmpegExtractor(  154): format_names[16]: hevc
I/FFmpegExtractor(  154): ========================================
<span class="hljs-keyword">D</span>/FFmpegExtractor(  154): suppoted codec(vp8) <span class="hljs-keyword">by</span> official Stagefright
<span class="hljs-keyword">D</span>/FFmpegExtractor(  154): suppoted codec(vorbis) <span class="hljs-keyword">by</span> official Stagefright
<span class="hljs-keyword">D</span>/FFMPEG  (  154): android source <span class="hljs-keyword">close</span>
I/FFmpegExtractor(  154): sniff through BetterSniffFFMPEG success
<span class="hljs-keyword">D</span>/FFmpegExtractor(  154): ffmpeg detected media content <span class="hljs-keyword">as</span> 'video/x-matroska' with confidence 0.08
I/OMXCodec(  154): [OMX.google.vp8.decoder] video dimensions are 320 x 240
I/OMXCodec(  154): [OMX.google.vp8.decoder] Crop rect is 320 x 240 @ (0, 0)
<span class="hljs-keyword">E</span>/MediaPlayer( 6848): Should have subtitle controller already <span class="hljs-keyword">set</span>
I/OMXCodec(  154): [OMX.google.vp8.decoder] video dimensions are 640 x 360
I/OMXCodec(  154): [OMX.google.vp8.decoder] Crop rect is 640 x 360 @ (0, 0)
<span class="hljs-keyword">D</span>/        (  154): HostConnection::<span class="hljs-literal">get</span>() New Host Connection established 0xb8241af0, tid 6901
W/MediaPlayer( 6848): info/warning (3, 0)
W/EGL_genymotion( 6848): eglSurfaceAttrib not implemented
I/NuCachedSource2(  154): ERROR_END_OF_STREAM
</code></pre><p>Any ideas are welcome.</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="November 15th 2014, 2:00:43 pm">November 15th 2014</span>
				by <span class='authorname'>Arjan Brinkman</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>black screen</span></li>
					
						<li><span class='tagname'>mp4</span></li>
					
						<li><span class='tagname'>video</span></li>
					
				</ul>
			

			<section>
				<h5>1 Comment</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Hey Arjan, did you ever figure this one out? I too have gotten reports of from people using my live app that playing videos only show a black screen, but I can&#39;t recreate the issue with my devices. The videos are indeed mp4.</p>
</div>
							<div class="author">
								&mdash; commented <span title="August 5th 2015, 9:46:32 pm">August 5th 2015</span>
								by <span class='authorname'>Steven Sheffey</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>3</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>3 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-283838">
				
						<section>
							<p>In addition;</p>
<p>I&#39;ve uploaded the non-working mp4 to youtube, downloaded a mp4 version, which DOES work. Compared the media info:</p>
<p>File that doesn&#39;t work:</p>
<pre><code class="hljs"><span class="hljs-attribute">Size</span>: <span class="hljs-number">1.8</span> MB
<span class="hljs-attribute">Format</span>: QuickTime/MPEG-<span class="hljs-number">4</span>/Motion JPEG <span class="hljs-number">2000</span> format
Stream <span class="hljs-attribute">count</span>: <span class="hljs-number">2</span>
<span class="hljs-attribute">Duration</span>: <span class="hljs-number">00</span>:<span class="hljs-number">00</span>:<span class="hljs-number">28</span>
Bit <span class="hljs-attribute">rate</span>: <span class="hljs-number">532</span> kb/s
Meta <span class="hljs-attribute">info</span>:
    <span class="hljs-attribute">compatible_brands</span>: isomiso2avc1mp41
    <span class="hljs-attribute">minor_version</span>: <span class="hljs-number">512</span>
    <span class="hljs-attribute">encoder</span>: Lavf55.<span class="hljs-number">32.100</span>
    <span class="hljs-attribute">major_brand</span>: isom

Stream <span class="hljs-number">0</span>
<span class="hljs-attribute">Type</span>: video
<span class="hljs-attribute">Codec</span>: h264
Codec <span class="hljs-attribute">profile</span>: High
<span class="hljs-attribute">FourCC</span>: avc1
<span class="hljs-attribute">Duration</span>: <span class="hljs-number">00</span>:<span class="hljs-number">00</span>:<span class="hljs-number">28</span>
<span class="hljs-attribute">Width</span>: <span class="hljs-number">426</span>
<span class="hljs-attribute">Height</span>: <span class="hljs-number">238</span>
Sample aspect <span class="hljs-attribute">ratio</span>: <span class="hljs-number">1904</span>:<span class="hljs-number">1917</span>
Display aspect <span class="hljs-attribute">ratio</span>: <span class="hljs-number">16</span>:<span class="hljs-number">9</span>
Pixel <span class="hljs-attribute">format</span>: yuv420p
Frame <span class="hljs-attribute">rate</span>: <span class="hljs-number">29.97</span> fps
Bit <span class="hljs-attribute">rate</span>: <span class="hljs-number">397</span> kb/s
Meta <span class="hljs-attribute">info</span>:
    <span class="hljs-attribute">handler_name</span>: VideoHandler
    <span class="hljs-attribute">language</span>: eng

Stream <span class="hljs-number">1</span>
<span class="hljs-attribute">Type</span>: audio
<span class="hljs-attribute">Codec</span>: aac
<span class="hljs-attribute">FourCC</span>: mp4a
<span class="hljs-attribute">Duration</span>: <span class="hljs-number">00</span>:<span class="hljs-number">00</span>:<span class="hljs-number">28</span>
Bit <span class="hljs-attribute">rate</span>: <span class="hljs-number">128</span> kb/s
Sample <span class="hljs-attribute">rate</span>: <span class="hljs-number">48000</span> Hz
Sample <span class="hljs-attribute">format</span>: s16
<span class="hljs-attribute">Channel</span>: <span class="hljs-number">2</span>
Meta <span class="hljs-attribute">info</span>:
    <span class="hljs-attribute">handler_name</span>: SoundHandler
    <span class="hljs-attribute">language</span>: eng
</code></pre><p>File that works:</p>
<pre><code class="hljs">Size: <span class="hljs-number">1.2</span> MB
Format: QuickTime/MPEG-<span class="hljs-number">4</span>/Motion JPEG <span class="hljs-number">2000</span> format
Stream count: <span class="hljs-number">2</span>
Duration: <span class="hljs-number">00</span>:<span class="hljs-number">00</span>:<span class="hljs-number">28</span>
Bit rate: <span class="hljs-number">364</span> kb/s
Meta info:
    compatible_brands: isommp42
    minor_version: <span class="hljs-number">0</span>
    creation_time: <span class="hljs-number">2014</span>-<span class="hljs-number">11</span>-<span class="hljs-number">15</span> <span class="hljs-number">16</span>:<span class="hljs-number">15</span>:<span class="hljs-number">55</span>
    major_brand: mp42

Stream <span class="hljs-number">0</span>
Type: video
Codec: h264
Codec profile: Constrained Baseline
FourCC: avc1
Duration: <span class="hljs-number">00</span>:<span class="hljs-number">00</span>:<span class="hljs-number">28</span>
Width: <span class="hljs-number">426</span>
Height: <span class="hljs-number">240</span>
Sample aspect ratio: <span class="hljs-number">1</span>:<span class="hljs-number">1</span>
Display aspect ratio: <span class="hljs-number">71</span>:<span class="hljs-number">40</span>
Pixel format: yuv420p
Frame rate: <span class="hljs-number">29.98</span> fps
Bit rate: <span class="hljs-number">264</span> kb/s
Meta info:
    handler_name: VideoHandler
    language: und

Stream <span class="hljs-number">1</span>
Type: audio
Codec: aac
FourCC: mp4a
Duration: <span class="hljs-number">00</span>:<span class="hljs-number">00</span>:<span class="hljs-number">28</span>
Bit rate: <span class="hljs-number">96</span> kb/s
Sample rate: <span class="hljs-number">44100</span> Hz
Sample format: s16
Channel: <span class="hljs-number">2</span>
Meta info:
    handler_name: IsoMedia File Produced by Google, <span class="hljs-number">5</span>-<span class="hljs-number">11</span>-<span class="hljs-number">2011</span>
    creation_time: <span class="hljs-number">2014</span>-<span class="hljs-number">11</span>-<span class="hljs-number">15</span> <span class="hljs-number">16</span>:<span class="hljs-number">15</span>:<span class="hljs-number">55</span>
    language: und
</code></pre><p>Somehow, it looks like Titanium has changed something. We have thousands of videos encoded like this, so it&#39;s a really bad option to re-encode them…</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="November 15th 2014, 2:27:18 pm">November 15th 2014</span>
								by <span class='authorname'>Arjan Brinkman</span><br>
								<a class="icon-bg icon-link" href="question/179076/videos-mp4-h264-wont-play-anymore-on-android-black-screen-generated#answer-283838" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-287883">
				
						<section>
							<p>For those of you having this issue, I did not find why Android will no longer play .mp4 videos BUT I did find that giving it an .flv DID work. Makes no sense, but hopefully this helps someone.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 5th 2015, 11:23:31 pm">August 5th 2015</span>
								by <span class='authorname'>Steven Sheffey</span><br>
								<a class="icon-bg icon-link" href="question/179076/videos-mp4-h264-wont-play-anymore-on-android-black-screen-generated#answer-287883" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-286364">
				
						<section>
							<p>In order to solve Android doesn&#39;t play MP4 videos and successfully play all kinds of MP4 files on Android devices; we had better convert Android unsupported MP4 to Android more supported MP4.</p>
<p>iDealshare VideoGo is just the right MP4 to Android Converter which can convert MP4 to Android more compatible video format on both Windows or Mac. Then it is just easy to play MP4 on all Android mobile phones or tablets like play MP4 on Samsung Galaxy, play MP4 on Motorola Droid, play MP4 on HTC, play MP4 on Google Nexus, play MP4 on LG, play MP4 on Android tablets.</p>
<p>Besides converting MP4 to Android, this powerful MP4 Android Converter also enables to convert other video WMV, AVI, MKV, VOB, FLV, DV, MOV, RMVB, MPEG-1, MPEG-2, TS, ASF, and etc to Android supported format.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="March 9th 2015, 5:18:14 am">March 9th 2015</span>
								by <span class='authorname'>Change Growup</span><br>
								<a class="icon-bg icon-link" href="question/179076/videos-mp4-h264-wont-play-anymore-on-android-black-screen-generated#answer-286364" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>-1</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
