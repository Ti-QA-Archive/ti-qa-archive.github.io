<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Changing label text in tableView headerView moves the header » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Changing label text in tableView headerView moves the header</h1>
		</header>
		<section>
			<p>I&#39;ve got a tableView with a headerView that contains a label.  I want to update the text of the label, but when I do so, the headerView moves, jumping to the middle of the window.</p>
<p>Here&#39;s an example.  Click the button and see what happens. Any thoughts on a workaround?</p>
<pre><code class="hljs"><span class="hljs-title">var</span> win = <span class="hljs-type">Ti</span>.<span class="hljs-type">UI</span>.createWindow({});

<span class="hljs-title">var</span> <span class="hljs-typedef"><span class="hljs-keyword">data</span> = [];</span>

<span class="hljs-typedef"><span class="hljs-keyword">data</span>[0] = <span class="hljs-type">Ti</span>.<span class="hljs-type">UI</span>.createTableViewRow<span class="hljs-container">({<span class="hljs-title">title</span>:'<span class="hljs-type">Row</span> 1'})</span>;</span>
<span class="hljs-typedef"><span class="hljs-keyword">data</span>[1] = <span class="hljs-type">Ti</span>.<span class="hljs-type">UI</span>.createTableViewRow<span class="hljs-container">({<span class="hljs-title">title</span>:'<span class="hljs-type">Row</span> 2'})</span>;</span>
<span class="hljs-typedef"><span class="hljs-keyword">data</span>[2] = <span class="hljs-type">Ti</span>.<span class="hljs-type">UI</span>.createTableViewRow<span class="hljs-container">({<span class="hljs-title">title</span>:'<span class="hljs-type">Row</span> 3'})</span>;</span>
<span class="hljs-typedef"><span class="hljs-keyword">data</span>[3] = <span class="hljs-type">Ti</span>.<span class="hljs-type">UI</span>.createTableViewRow<span class="hljs-container">({<span class="hljs-title">title</span>:'<span class="hljs-type">Row</span> 4'})</span>;</span>

<span class="hljs-title">var</span> headerView = <span class="hljs-type">Ti</span>.<span class="hljs-type">UI</span>.createView({height:'auto'});

<span class="hljs-title">var</span> headerLabel = <span class="hljs-type">Ti</span>.<span class="hljs-type">UI</span>.createLabel({
    text:'<span class="hljs-type">Here</span> is some text for the header label.',
    height:'auto',
    left:<span class="hljs-number">10</span>,
    right:<span class="hljs-number">10</span>
});

<span class="hljs-title">headerView</span>.add(headerLabel);

<span class="hljs-title">var</span> tableView = <span class="hljs-type">Ti</span>.<span class="hljs-type">UI</span>.createTableView({
    style:<span class="hljs-type">Titanium</span>.<span class="hljs-type">UI</span>.iPhone.<span class="hljs-type">TableViewStyle</span>.<span class="hljs-type">GROUPED</span>,
    top:<span class="hljs-number">0</span>,
    right:<span class="hljs-number">0</span>,
    left:<span class="hljs-number">0</span>,
    headerView:headerView,
    <span class="hljs-typedef"><span class="hljs-keyword">data</span>:<span class="hljs-keyword">data</span></span>
});

<span class="hljs-title">win</span>.add(tableView);

<span class="hljs-title">var</span> button = <span class="hljs-type">Ti</span>.<span class="hljs-type">UI</span>.createButton({
    title:'<span class="hljs-type">Change</span> <span class="hljs-type">Header'</span>,
    height:<span class="hljs-number">40</span>,
    width:<span class="hljs-number">150</span>,
    bottom:<span class="hljs-number">10</span>
});

<span class="hljs-title">button</span>.addEventListener('click', function()
{
    headerLabel.text = '<span class="hljs-type">This</span> is some different text.';
});

<span class="hljs-title">win</span>.add(button);

<span class="hljs-title">win</span>.open();
</code></pre>
		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="July 30th 2010, 4:35:19 pm">July 30th 2010</span>
				by <span class='authorname'>Kenn Nesbitt</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>headerview</span></li>
					
						<li><span class='tagname'>iphone</span></li>
					
						<li><span class='tagname'>mobile</span></li>
					
						<li><span class='tagname'>tableview</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-94701">
				
						<section>
							<p>One workaround is changing the <code>headerLabel.height</code> from &#39;auto&#39; to a fixed value, for ex.</p>
<pre><code class="hljs">var headerLabel = Ti.UI.createLabel({
    <span class="hljs-type">text</span>:'Here <span class="hljs-keyword">is</span> <span class="hljs-keyword">some</span> <span class="hljs-type">text</span> <span class="hljs-keyword">for</span> <span class="hljs-keyword">the</span> header label.',
    height:<span class="hljs-number">25</span>,
    left:<span class="hljs-number">10</span>,
    right:<span class="hljs-number">10</span>
});
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 1st 2010, 9:51:33 am">August 1st 2010</span>
								by <span class='authorname'>Goran Skledar</span><br>
								<a class="icon-bg icon-link" href="question/48321/changing-label-text-in-tableview-headerview-moves-the-header#answer-94701" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-94731">
				
						<section>
							<p>Goran,</p>
<p>That works, unless you change the height value. So, for example, if you set the initial height to 25, but change it to 35 in the event listener, the headerView moves to the middle of the window, just as if the height were initially set to &#39;auto&#39;.</p>
<p>I reported this and it has been filed as a bug, so hopefully it will get fixed in 1.5.</p>
<p> – Kenn</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 1st 2010, 5:40:33 pm">August 1st 2010</span>
								by <span class='authorname'>Kenn Nesbitt</span><br>
								<a class="icon-bg icon-link" href="question/48321/changing-label-text-in-tableview-headerview-moves-the-header#answer-94731" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
