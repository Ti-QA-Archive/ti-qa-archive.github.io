<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Loading Indicators whilst using local database Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Loading Indicators whilst using local database</h1>
		</header>
		<section>
			<p>Hi guys,</p>
<p>Got a quick one here, hopefully simple.</p>
<p>This code below grabs a SQL string from a previous page, and retrieves the results from my on board SQLite database.</p>
<p>It sometimes can take a while to perform the search as it&#39;s quite big, so want to make sure I get a loading wheel to show something i sharpening.</p>
<p>I have 2 issues.</p>
<ol>
<li><p>When the view slides in it doesn&#39;t immediately show the on screen graphics, it waits until the data has loaded first.</p>
</li>
<li><p>The loading wheel i&#39;ve added doesn&#39;t display.</p>
</li>
</ol>
<p>The solutions I need</p>
<ol>
<li><p>I want all the graphics to be on screen as soon as the view slides into the users view.</p>
</li>
<li><p>I want the indicator to then sit loading and then disappear once the content is loaded.</p>
</li>
</ol>
<p>Hoping someone can shed some light on this!</p>
<p>Simon</p>
<pre><code class="hljs">var window = Titanium.UI.currentWindow;

var HeaderImage = Ti.UI.createImageView({
    <span class="hljs-built_in">image</span>: <span class="hljs-string">'images/home_babynames.png'</span>,
    <span class="hljs-variable">width</span>: <span class="hljs-number">320</span>,
    top: <span class="hljs-number">0</span>,
    <span class="hljs-variable">height</span>: <span class="hljs-number">50</span>
});


var PatchBGImage = Ti.UI.createImageView({
    <span class="hljs-built_in">image</span>: <span class="hljs-string">'images/favourites_patch_background.png'</span>,
    <span class="hljs-variable">width</span>: <span class="hljs-number">307</span>,
    <span class="hljs-variable">height</span>: <span class="hljs-number">253</span>,
    left: <span class="hljs-number">7</span>,
    top: <span class="hljs-number">105</span>
});

<span class="hljs-comment">// Create a Scroll View to contain the News table</span>
var FavScroller = Titanium.UI.createScrollView({
    backgroundImage: <span class="hljs-string">'images/news_scroll_background.png'</span>,
    showVerticalScrollIndicator: <span class="hljs-keyword">true</span>,
    <span class="hljs-variable">width</span>: <span class="hljs-number">285</span>,
    <span class="hljs-variable">height</span>: <span class="hljs-number">225</span>,
    contentWidth: <span class="hljs-number">285</span>,
    contentHeight: <span class="hljs-number">225</span>,
    top: <span class="hljs-number">117</span>
});


<span class="hljs-comment">// Create the Favourites title in custom font</span>
var SearchLabel = Titanium.UI.createLabel({
    <span class="hljs-built_in">text</span>: <span class="hljs-string">'Search results'</span>,
    <span class="hljs-variable">height</span>: <span class="hljs-string">'auto'</span>,
    <span class="hljs-variable">width</span>: <span class="hljs-string">'auto'</span>,
    <span class="hljs-built_in">color</span>: <span class="hljs-string">'#00675a'</span>,
    font: {
        fontSize: <span class="hljs-number">23</span>,
        fontFamily: <span class="hljs-string">'FS Albert'</span>,
        fontWeight: <span class="hljs-string">'bold'</span>
    },
    <span class="hljs-built_in">textAlign</span>: <span class="hljs-string">'left'</span>,
    left: <span class="hljs-number">18</span>,
    top: <span class="hljs-number">68</span>
});

<span class="hljs-comment">// Create the View</span>
var MainView = Titanium.UI.createView({
    <span class="hljs-variable">width</span>: <span class="hljs-number">320</span>,
    <span class="hljs-variable">height</span>: <span class="hljs-number">416</span>
});

<span class="hljs-comment">// Add View to the Window</span>
window.<span class="hljs-built_in">add</span>(MainView);

<span class="hljs-comment">// Add Image Views to the Window</span>
MainView.<span class="hljs-built_in">add</span>(HeaderImage);
MainView.<span class="hljs-built_in">add</span>(PatchBGImage);

<span class="hljs-comment">// Add the Scroll View to the View</span>
MainView.<span class="hljs-built_in">add</span>(FavScroller);

<span class="hljs-comment">// Add Text to Window</span>
MainView.<span class="hljs-built_in">add</span>(SearchLabel);




<span class="hljs-comment">// Create the laoding wheel       </span>
var MainActInd = Titanium.UI.createActivityIndicator({
    bottom: <span class="hljs-number">180</span>,
    <span class="hljs-variable">height</span>: <span class="hljs-number">50</span>,
    style: Titanium.UI.iPhone.ActivityIndicatorStyle.PLAIN,
    font: {
        fontFamily: <span class="hljs-string">'Helvetica Neue'</span>,
        fontSize: <span class="hljs-number">18</span>,
        fontWeight: <span class="hljs-string">'bold'</span>
    },
    <span class="hljs-built_in">color</span>: <span class="hljs-string">'#FFFFFF'</span>,
    message: <span class="hljs-string">'Loading Names...'</span>,
    <span class="hljs-variable">width</span>: <span class="hljs-number">210</span>
});

<span class="hljs-comment">// Show it before anything happens       </span>
MainView.<span class="hljs-built_in">add</span>(MainActInd);

MainActInd.show();

<span class="hljs-comment">// get ID of baby name</span>
var searchParam = window.id;

var tableview = Titanium.UI.createTableView({
    data: data,
    backgroundColor: <span class="hljs-string">'transparent'</span>,
    <span class="hljs-variable">width</span>: <span class="hljs-number">280</span>,
    <span class="hljs-variable">height</span>: <span class="hljs-number">216</span>,
    top: <span class="hljs-number">120</span>
});
MainView.<span class="hljs-built_in">add</span>(tableview);

var db = Ti.Database.<span class="hljs-built_in">open</span>(<span class="hljs-string">'BabyNamesv4'</span>);
var sql = db.execute(searchParam);

var data = [];

<span class="hljs-keyword">while</span> (sql.isValidRow()) {

    var babyname = sql.fieldByName(<span class="hljs-string">'baby_name'</span>);
    var nameID = sql.fieldByName(<span class="hljs-string">'nid'</span>);

    <span class="hljs-comment">// Data for each table row</span>
    data.push({
        title: babyname,
        className: <span class="hljs-string">'name'</span>,
        hasChild: <span class="hljs-keyword">true</span>,
        editable: <span class="hljs-keyword">true</span>,
        <span class="hljs-built_in">color</span>: <span class="hljs-string">'#00675a'</span>,
        selectedBackgroundColor: <span class="hljs-string">'transparent'</span>,
        hasDetail: <span class="hljs-keyword">true</span>,
        rightImage: <span class="hljs-string">'images/green_arrow.png'</span>,
        url: <span class="hljs-string">'name_detail.js'</span>,
        id: nameID
    });
    <span class="hljs-comment">// Skip onto the next record</span>
    sql.next();
}

<span class="hljs-comment">// close the db</span>
db.close();

tableview.setData(data);

MainActInd.hide();




<span class="hljs-comment">// Add table to the View</span>
MainView.<span class="hljs-built_in">add</span>(tableview);

<span class="hljs-comment">// Add Event listener to table row</span>
tableview.addEventListener(<span class="hljs-string">'click'</span>, function (e) {
    <span class="hljs-keyword">if</span> (e.rowData.url) {
        var detailWindow = Ti.UI.createWindow({
            id: e.rowData.id,
            url: e.rowData.url,
            barColor: <span class="hljs-string">'#005349'</span>,
            titleImage: <span class="hljs-string">'images/title_bounty.png'</span>
        });

        Ti.UI.currentTab.<span class="hljs-built_in">open</span>(detailWindow, {
            animated: <span class="hljs-keyword">true</span>
        });
    }


});
</code></pre>
		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="May 17th 2012, 10:51:26 am">May 17th 2012</span>
				by <span class='authorname'>Simon Hume</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>ios</span></li>
					
						<li><span class='tagname'>loading</span></li>
					
						<li><span class='tagname'>sqlite</span></li>
					
						<li><span class='tagname'>tableview</span></li>
					
						<li><span class='tagname'>view</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-238866">
				
						<section>
							<p>Hi Simon,</p>
<p>for first question </p>
<p>you have to change your code like</p>
<pre><code class="hljs">var tableview = Titanium.UI.createTableView({
    data: [],
    backgroundColor: <span class="hljs-string">'transparent'</span>,
    <span class="hljs-variable">width</span>: <span class="hljs-number">280</span>,
    <span class="hljs-variable">height</span>: <span class="hljs-number">216</span>,
    top: <span class="hljs-number">120</span>
});
MainView.<span class="hljs-built_in">add</span>(tableview);
</code></pre><p>when your table view can not find data so it waits for a while to complete the transaction. It put delay in load time.</p>
<p>for indicator </p>
<p>make a function that show and hide the indicator in your project, and separate your data fetching code in to new function and at starting show indicator and when you set data hide indicator.</p>
<p>for example:</p>
<pre><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">loadData</span><span class="hljs-params">()</span></span>{
    showIndicator();
    <span class="hljs-comment">//Data fetching here...</span>
    data=[];
    ...
    ...

    tableVeiw.setData(data);
    hideIndicator();
}

showIndicator(){
    <span class="hljs-comment">//Showing indicator...</span>
}


hideIndicator(){
    <span class="hljs-comment">//Hiding indicator...</span>
}
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="May 17th 2012, 11:16:06 am">May 17th 2012</span>
								by <span class='authorname'>Gaurang Chhatbar</span><br>
								<a class="icon-bg icon-link" href="../../question/137097/loading-indicators-whilst-using-local-database.html#answer-238866" rel="permalink">permalink</a>
							</div>

							<h5>14 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Hi, thanks for your answer, I&#39;ve got an error now. After a clean build</p>
<pre><code class="hljs"><span class="hljs-keyword">Parse</span> <span class="hljs-keyword">error</span> at adv_search_detail.js (<span class="hljs-keyword">line</span> 142)
</code></pre><p>Line 142 is this:</p>
<pre><code class="hljs"><span class="hljs-tag">showIndicator</span>(){
</code></pre><p>Full reworked code below</p>
<pre><code class="hljs">var window = Titanium.UI.currentWindow;

var HeaderImage = Ti.UI.createImageView({
    <span class="hljs-built_in">image</span>: <span class="hljs-string">'images/home_babynames.png'</span>,
    <span class="hljs-variable">width</span>: <span class="hljs-number">320</span>,
    top: <span class="hljs-number">0</span>,
    <span class="hljs-variable">height</span>: <span class="hljs-number">50</span>
});


var PatchBGImage = Ti.UI.createImageView({
    <span class="hljs-built_in">image</span>: <span class="hljs-string">'images/favourites_patch_background.png'</span>,
    <span class="hljs-variable">width</span>: <span class="hljs-number">307</span>,
    <span class="hljs-variable">height</span>: <span class="hljs-number">253</span>,
    left: <span class="hljs-number">7</span>,
    top: <span class="hljs-number">105</span>
});

<span class="hljs-comment">// Create a Scroll View to contain the News table</span>
var FavScroller = Titanium.UI.createScrollView({
    backgroundImage: <span class="hljs-string">'images/news_scroll_background.png'</span>,
    showVerticalScrollIndicator: <span class="hljs-keyword">true</span>,
    <span class="hljs-variable">width</span>: <span class="hljs-number">285</span>,
    <span class="hljs-variable">height</span>: <span class="hljs-number">225</span>,
    contentWidth: <span class="hljs-number">285</span>,
    contentHeight: <span class="hljs-number">225</span>,
    top: <span class="hljs-number">117</span>
});


<span class="hljs-comment">// Create the Favourites title in custom font</span>
var SearchLabel = Titanium.UI.createLabel({
    <span class="hljs-built_in">text</span>: <span class="hljs-string">'Search results'</span>,
    <span class="hljs-variable">height</span>: <span class="hljs-string">'auto'</span>,
    <span class="hljs-variable">width</span>: <span class="hljs-string">'auto'</span>,
    <span class="hljs-built_in">color</span>: <span class="hljs-string">'#00675a'</span>,
    font: {
        fontSize: <span class="hljs-number">23</span>,
        fontFamily: <span class="hljs-string">'FS Albert'</span>,
        fontWeight: <span class="hljs-string">'bold'</span>
    },
    <span class="hljs-built_in">textAlign</span>: <span class="hljs-string">'left'</span>,
    left: <span class="hljs-number">18</span>,
    top: <span class="hljs-number">68</span>
});

<span class="hljs-comment">// Create the View</span>
var MainView = Titanium.UI.createView({
    <span class="hljs-variable">width</span>: <span class="hljs-number">320</span>,
    <span class="hljs-variable">height</span>: <span class="hljs-number">416</span>
});

<span class="hljs-comment">// Add View to the Window</span>
window.<span class="hljs-built_in">add</span>(MainView);

<span class="hljs-comment">// Add Image Views to the Window</span>
MainView.<span class="hljs-built_in">add</span>(HeaderImage);
MainView.<span class="hljs-built_in">add</span>(PatchBGImage);

<span class="hljs-comment">// Add the Scroll View to the View</span>
MainView.<span class="hljs-built_in">add</span>(FavScroller);

<span class="hljs-comment">// Add Text to Window</span>
MainView.<span class="hljs-built_in">add</span>(SearchLabel);




<span class="hljs-comment">// Create the laoding wheel       </span>
var MainActInd = Titanium.UI.createActivityIndicator({
    bottom: <span class="hljs-number">180</span>,
    <span class="hljs-variable">height</span>: <span class="hljs-number">50</span>,
    style: Titanium.UI.iPhone.ActivityIndicatorStyle.PLAIN,
    font: {
        fontFamily: <span class="hljs-string">'Helvetica Neue'</span>,
        fontSize: <span class="hljs-number">18</span>,
        fontWeight: <span class="hljs-string">'bold'</span>
    },
    <span class="hljs-built_in">color</span>: <span class="hljs-string">'#FFFFFF'</span>,
    message: <span class="hljs-string">'Loading Names...'</span>,
    <span class="hljs-variable">width</span>: <span class="hljs-number">210</span>
});

<span class="hljs-comment">// Show it before anything happens       </span>
MainView.<span class="hljs-built_in">add</span>(MainActInd);



<span class="hljs-comment">// get ID of baby name</span>
var searchParam = window.id;

var tableview = Titanium.UI.createTableView({
    data: [],
    backgroundColor: <span class="hljs-string">'transparent'</span>,
    <span class="hljs-variable">width</span>: <span class="hljs-number">280</span>,
    <span class="hljs-variable">height</span>: <span class="hljs-number">216</span>,
    top: <span class="hljs-number">120</span>
});
MainView.<span class="hljs-built_in">add</span>(tableview);




function loadData(){
    showIndicator();
    <span class="hljs-comment">//Data fetching here...</span>
    data=[];

    var db = Ti.Database.<span class="hljs-built_in">open</span>(<span class="hljs-string">'BabyNamesv4'</span>);
    var sql = db.execute(searchParam);

    <span class="hljs-keyword">while</span> (sql.isValidRow()) {

        var babyname = sql.fieldByName(<span class="hljs-string">'baby_name'</span>);
        var nameID = sql.fieldByName(<span class="hljs-string">'nid'</span>);

        <span class="hljs-comment">// Data for each table row</span>
        data.push({
            title: babyname,
            className: <span class="hljs-string">'name'</span>,
            hasChild: <span class="hljs-keyword">true</span>,
            editable: <span class="hljs-keyword">true</span>,
            <span class="hljs-built_in">color</span>: <span class="hljs-string">'#00675a'</span>,
            selectedBackgroundColor: <span class="hljs-string">'transparent'</span>,
            hasDetail: <span class="hljs-keyword">true</span>,
            rightImage: <span class="hljs-string">'images/green_arrow.png'</span>,
            url: <span class="hljs-string">'name_detail.js'</span>,
            id: nameID
        });
        <span class="hljs-comment">// Skip onto the next record</span>
        sql.next();
    }

    <span class="hljs-comment">// close the db</span>
    db.close();


    tableview.setData(data);
    hideIndicator();
}

showIndicator(){
    <span class="hljs-comment">//Showing indicator...</span>
    MainActInd.show();
}


hideIndicator(){
    <span class="hljs-comment">//Hiding indicator...</span>
    MainActInd.hide();
}













<span class="hljs-comment">// Add Event listener to table row</span>
tableview.addEventListener(<span class="hljs-string">'click'</span>, function (e) {
    <span class="hljs-keyword">if</span> (e.rowData.url) {
        var detailWindow = Ti.UI.createWindow({
            id: e.rowData.id,
            url: e.rowData.url,
            barColor: <span class="hljs-string">'#005349'</span>,
            titleImage: <span class="hljs-string">'images/title_bounty.png'</span>
        });

        Ti.UI.currentTab.<span class="hljs-built_in">open</span>(detailWindow, {
            animated: <span class="hljs-keyword">true</span>
        });
    }


});
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="May 17th 2012, 11:35:02 am">May 17th 2012</span>
											by <span class='authorname'>Simon Hume</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Simon, You need to add <code>function</code> key word before <code>showIndicator(){</code> in line - 142</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 17th 2012, 11:44:12 am">May 17th 2012</span>
											by <span class='authorname'>Gaurang Chhatbar</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>OK, that works now, though now my tableview appears immediately now, which is just want I want, it no longer loads the data in :(</p>
<p>What have I done wrong?</p>
<pre><code class="hljs">var window = Titanium.UI.currentWindow;

var HeaderImage = Ti.UI.createImageView({
    <span class="hljs-built_in">image</span>: <span class="hljs-string">'images/home_babynames.png'</span>,
    <span class="hljs-variable">width</span>: <span class="hljs-number">320</span>,
    top: <span class="hljs-number">0</span>,
    <span class="hljs-variable">height</span>: <span class="hljs-number">50</span>
});


var PatchBGImage = Ti.UI.createImageView({
    <span class="hljs-built_in">image</span>: <span class="hljs-string">'images/favourites_patch_background.png'</span>,
    <span class="hljs-variable">width</span>: <span class="hljs-number">307</span>,
    <span class="hljs-variable">height</span>: <span class="hljs-number">253</span>,
    left: <span class="hljs-number">7</span>,
    top: <span class="hljs-number">105</span>
});

<span class="hljs-comment">// Create a Scroll View to contain the News table</span>
var FavScroller = Titanium.UI.createScrollView({
    backgroundImage: <span class="hljs-string">'images/news_scroll_background.png'</span>,
    showVerticalScrollIndicator: <span class="hljs-keyword">true</span>,
    <span class="hljs-variable">width</span>: <span class="hljs-number">285</span>,
    <span class="hljs-variable">height</span>: <span class="hljs-number">225</span>,
    contentWidth: <span class="hljs-number">285</span>,
    contentHeight: <span class="hljs-number">225</span>,
    top: <span class="hljs-number">117</span>
});


<span class="hljs-comment">// Create the Favourites title in custom font</span>
var SearchLabel = Titanium.UI.createLabel({
    <span class="hljs-built_in">text</span>: <span class="hljs-string">'Search results'</span>,
    <span class="hljs-variable">height</span>: <span class="hljs-string">'auto'</span>,
    <span class="hljs-variable">width</span>: <span class="hljs-string">'auto'</span>,
    <span class="hljs-built_in">color</span>: <span class="hljs-string">'#00675a'</span>,
    font: {
        fontSize: <span class="hljs-number">23</span>,
        fontFamily: <span class="hljs-string">'FS Albert'</span>,
        fontWeight: <span class="hljs-string">'bold'</span>
    },
    <span class="hljs-built_in">textAlign</span>: <span class="hljs-string">'left'</span>,
    left: <span class="hljs-number">18</span>,
    top: <span class="hljs-number">68</span>
});

<span class="hljs-comment">// Create the View</span>
var MainView = Titanium.UI.createView({
    <span class="hljs-variable">width</span>: <span class="hljs-number">320</span>,
    <span class="hljs-variable">height</span>: <span class="hljs-number">416</span>
});

<span class="hljs-comment">// Add View to the Window</span>
window.<span class="hljs-built_in">add</span>(MainView);

<span class="hljs-comment">// Add Image Views to the Window</span>
MainView.<span class="hljs-built_in">add</span>(HeaderImage);
MainView.<span class="hljs-built_in">add</span>(PatchBGImage);

<span class="hljs-comment">// Add the Scroll View to the View</span>
MainView.<span class="hljs-built_in">add</span>(FavScroller);

<span class="hljs-comment">// Add Text to Window</span>
MainView.<span class="hljs-built_in">add</span>(SearchLabel);




<span class="hljs-comment">// Create the laoding wheel       </span>
var MainActInd = Titanium.UI.createActivityIndicator({
    bottom: <span class="hljs-number">180</span>,
    <span class="hljs-variable">height</span>: <span class="hljs-number">50</span>,
    style: Titanium.UI.iPhone.ActivityIndicatorStyle.PLAIN,
    font: {
        fontFamily: <span class="hljs-string">'Helvetica Neue'</span>,
        fontSize: <span class="hljs-number">18</span>,
        fontWeight: <span class="hljs-string">'bold'</span>
    },
    <span class="hljs-built_in">color</span>: <span class="hljs-string">'#FFFFFF'</span>,
    message: <span class="hljs-string">'Loading Names...'</span>,
    <span class="hljs-variable">width</span>: <span class="hljs-number">210</span>
});

<span class="hljs-comment">// Show it before anything happens       </span>
MainView.<span class="hljs-built_in">add</span>(MainActInd);



<span class="hljs-comment">// get ID of baby name</span>
var searchParam = window.id;

var tableview = Titanium.UI.createTableView({
    data: [],
    backgroundColor: <span class="hljs-string">'transparent'</span>,
    <span class="hljs-variable">width</span>: <span class="hljs-number">280</span>,
    <span class="hljs-variable">height</span>: <span class="hljs-number">216</span>,
    top: <span class="hljs-number">120</span>
});
MainView.<span class="hljs-built_in">add</span>(tableview);




function loadData(){
    showIndicator();
    <span class="hljs-comment">//Data fetching here...</span>
    data=[];

    var db = Ti.Database.<span class="hljs-built_in">open</span>(<span class="hljs-string">'BabyNamesv4'</span>);
    var sql = db.execute(searchParam);

    <span class="hljs-keyword">while</span> (sql.isValidRow()) {

        var babyname = sql.fieldByName(<span class="hljs-string">'baby_name'</span>);
        var nameID = sql.fieldByName(<span class="hljs-string">'nid'</span>);

        <span class="hljs-comment">// Data for each table row</span>
        data.push({
            title: babyname,
            className: <span class="hljs-string">'name'</span>,
            hasChild: <span class="hljs-keyword">true</span>,
            editable: <span class="hljs-keyword">true</span>,
            <span class="hljs-built_in">color</span>: <span class="hljs-string">'#00675a'</span>,
            selectedBackgroundColor: <span class="hljs-string">'transparent'</span>,
            hasDetail: <span class="hljs-keyword">true</span>,
            rightImage: <span class="hljs-string">'images/green_arrow.png'</span>,
            url: <span class="hljs-string">'name_detail.js'</span>,
            id: nameID
        });
        <span class="hljs-comment">// Skip onto the next record</span>
        sql.next();
    }

    <span class="hljs-comment">// close the db</span>
    db.close();


    tableview.setData(data);
    hideIndicator();
}

function showIndicator(){
    <span class="hljs-comment">//Showing indicator...</span>
    MainActInd.show();
}


function hideIndicator(){
    <span class="hljs-comment">//Hiding indicator...</span>
    MainActInd.hide();
}













<span class="hljs-comment">// Add Event listener to table row</span>
tableview.addEventListener(<span class="hljs-string">'click'</span>, function (e) {
    <span class="hljs-keyword">if</span> (e.rowData.url) {
        var detailWindow = Ti.UI.createWindow({
            id: e.rowData.id,
            url: e.rowData.url,
            barColor: <span class="hljs-string">'#005349'</span>,
            titleImage: <span class="hljs-string">'images/title_bounty.png'</span>
        });

        Ti.UI.currentTab.<span class="hljs-built_in">open</span>(detailWindow, {
            animated: <span class="hljs-keyword">true</span>
        });
    }


});
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="May 17th 2012, 11:48:13 am">May 17th 2012</span>
											by <span class='authorname'>Simon Hume</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Simon,</p>
<p>can you replace this code in to yours for testing and check if there is info printed on console.</p>
<pre><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">loadData</span><span class="hljs-params">()</span></span>{
    showIndicator();
    <span class="hljs-comment">//Data fetching here...</span>
    <span class="hljs-keyword">var</span> data=[];

    <span class="hljs-keyword">var</span> db = Ti.Database.open(<span class="hljs-string">'BabyNamesv4'</span>);
    <span class="hljs-keyword">var</span> sql = db.execute(searchParam);

    <span class="hljs-keyword">while</span> (sql.isValidRow()) {

        <span class="hljs-keyword">var</span> babyname = sql.fieldByName(<span class="hljs-string">'baby_name'</span>);
        <span class="hljs-keyword">var</span> nameID = sql.fieldByName(<span class="hljs-string">'nid'</span>);

        <span class="hljs-comment">// Data for each table row</span>
        data.push({
            title: babyname,
            className: <span class="hljs-string">'name'</span>,
            hasChild: <span class="hljs-literal">true</span>,
            editable: <span class="hljs-literal">true</span>,
            color: <span class="hljs-string">'#00675a'</span>,
            selectedBackgroundColor: <span class="hljs-string">'transparent'</span>,
            hasDetail: <span class="hljs-literal">true</span>,
            rightImage: <span class="hljs-string">'images/green_arrow.png'</span>,
            url: <span class="hljs-string">'name_detail.js'</span>,
            id: nameID
        });
        Ti.API.info(<span class="hljs-string">"babyName : "</span> + babyname + <span class="hljs-string">" Name ID : "</span> + nameID);
        <span class="hljs-comment">// Skip onto the next record</span>
        sql.next();        
    }

    <span class="hljs-comment">// close the db</span>
    db.close();


    tableview.setData(data);
    hideIndicator();
}
</code></pre><p><strong>and don&#39;t forget to call a function <code>loadData()</code> at the end of file otherwise you will not get data.</strong></p>
</p>
										<div class="author">
											&mdash; commented <span title="May 17th 2012, 12:03:47 pm">May 17th 2012</span>
											by <span class='authorname'>Gaurang Chhatbar</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>whoops, missing the loadData() fixed the data part. though now, we&#39;re back to the view waiting for the table rows to be completed before it shows anything.</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 17th 2012, 12:34:54 pm">May 17th 2012</span>
											by <span class='authorname'>Simon Hume</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>and I still get no indicator displaying</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 17th 2012, 12:35:18 pm">May 17th 2012</span>
											by <span class='authorname'>Simon Hume</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Hi Simon, </p>
<p>use this code for indicator, It is working for me. </p>
<pre><code class="hljs">var indicatorDisplayView;

function createCustomeIndicator() {
    Ti.App.flagIndicator = <span class="hljs-literal">true</span>;
    indicatorDisplayView = Ti.UI.createView({
        <span class="hljs-string">height :</span> <span class="hljs-number">480</span>,
        <span class="hljs-string">top :</span> <span class="hljs-number">0</span>,
        <span class="hljs-string">left :</span> <span class="hljs-number">0</span>,
        <span class="hljs-string">width :</span> <span class="hljs-number">320</span>,
        <span class="hljs-string">backgroundColor :</span> <span class="hljs-string">'transparent'</span>,
        <span class="hljs-string">zIndex :</span> <span class="hljs-number">990</span>
    });
    win.add(indicatorDisplayView);
    var indView = Titanium.UI.createView({
        <span class="hljs-string">height :</span> <span class="hljs-number">50</span>,
        <span class="hljs-string">width :</span> <span class="hljs-number">125</span>,
        <span class="hljs-string">backgroundColor :</span> <span class="hljs-string">'#000'</span>,
        <span class="hljs-string">borderRadius :</span> <span class="hljs-number">10</span>,
        <span class="hljs-string">opacity :</span> <span class="hljs-number">0.7</span>,
        <span class="hljs-string">zIndex :</span> <span class="hljs-number">999</span>
    });
    var actInd = Titanium.UI.createActivityIndicator({
        <span class="hljs-string">style :</span> Titanium.UI.iPhone.ActivityIndicatorStyle.PLAIN,
        <span class="hljs-string">font :</span> {
            <span class="hljs-string">fontFamily :</span> <span class="hljs-string">'Helvetica Neue'</span>,
            <span class="hljs-string">fontSize :</span> <span class="hljs-number">15</span>,
            <span class="hljs-string">fontWeight :</span> <span class="hljs-string">'bold'</span>
        },
        <span class="hljs-string">color :</span> <span class="hljs-string">'white'</span>,
        <span class="hljs-string">message :</span> <span class="hljs-string">"Loading..."</span>,
        <span class="hljs-string">width :</span> <span class="hljs-number">210</span>
    });
    indView.add(actInd);
    actInd.show();
    indicatorDisplayView.add(indView);
}

function removeCustomeIndicator() {
    Ti.App.flagIndicator = <span class="hljs-literal">false</span>;
    win.remove(indicatorDisplayView);
}
</code></pre><p>I think you are adding Indicator before opening the table so your table hides the indicator, you need to set zIndex.</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 17th 2012, 12:57:15 pm">May 17th 2012</span>
											by <span class='authorname'>Gaurang Chhatbar</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>hmm, i&#39;ve replaced the previous indicator with yours and I still get nothing at all</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> <span class="hljs-built_in">window</span> = Titanium.UI.currentWindow;

<span class="hljs-comment">// Create the View</span>
<span class="hljs-keyword">var</span> MainView = Titanium.UI.createView({
    width: <span class="hljs-number">320</span>,
    height: <span class="hljs-number">416</span>
});

<span class="hljs-comment">// Add View to the Window</span>
<span class="hljs-built_in">window</span>.add(MainView);

<span class="hljs-keyword">var</span> HeaderImage = Ti.UI.createImageView({
    image: <span class="hljs-string">'images/home_babynames.png'</span>,
    width: <span class="hljs-number">320</span>,
    top: <span class="hljs-number">0</span>,
    height: <span class="hljs-number">50</span>
});


<span class="hljs-keyword">var</span> PatchBGImage = Ti.UI.createImageView({
    image: <span class="hljs-string">'images/favourites_patch_background.png'</span>,
    width: <span class="hljs-number">307</span>,
    height: <span class="hljs-number">253</span>,
    left: <span class="hljs-number">7</span>,
    top: <span class="hljs-number">105</span>
});

<span class="hljs-comment">// Create a Scroll View to contain the News table</span>
<span class="hljs-keyword">var</span> FavScroller = Titanium.UI.createScrollView({
    backgroundImage: <span class="hljs-string">'images/news_scroll_background.png'</span>,
    showVerticalScrollIndicator: <span class="hljs-literal">true</span>,
    width: <span class="hljs-number">285</span>,
    height: <span class="hljs-number">225</span>,
    contentWidth: <span class="hljs-number">285</span>,
    contentHeight: <span class="hljs-number">225</span>,
    top: <span class="hljs-number">117</span>
});


<span class="hljs-comment">// Create the Favourites title in custom font</span>
<span class="hljs-keyword">var</span> SearchLabel = Titanium.UI.createLabel({
    text: <span class="hljs-string">'Search results'</span>,
    height: <span class="hljs-string">'auto'</span>,
    width: <span class="hljs-string">'auto'</span>,
    color: <span class="hljs-string">'#00675a'</span>,
    font: {
        fontSize: <span class="hljs-number">23</span>,
        fontFamily: <span class="hljs-string">'FS Albert'</span>,
        fontWeight: <span class="hljs-string">'bold'</span>
    },
    textAlign: <span class="hljs-string">'left'</span>,
    left: <span class="hljs-number">18</span>,
    top: <span class="hljs-number">68</span>
});



<span class="hljs-comment">// Add Image Views to the Window</span>
MainView.add(HeaderImage);
MainView.add(PatchBGImage);

<span class="hljs-comment">// Add the Scroll View to the View</span>
MainView.add(FavScroller);

<span class="hljs-comment">// Add Text to Window</span>
MainView.add(SearchLabel);







<span class="hljs-keyword">var</span> indicatorDisplayView;

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">createCustomIndicator</span>(<span class="hljs-params"></span>) </span>{
    Ti.App.flagIndicator = <span class="hljs-literal">true</span>;
    indicatorDisplayView = Ti.UI.createView({
        height : <span class="hljs-number">480</span>,
        top : <span class="hljs-number">0</span>,
        left : <span class="hljs-number">0</span>,
        width : <span class="hljs-number">320</span>,
        backgroundColor : <span class="hljs-string">'transparent'</span>,
        zIndex : <span class="hljs-number">990</span>
    });
    <span class="hljs-built_in">window</span>.add(indicatorDisplayView);
    <span class="hljs-keyword">var</span> indView = Titanium.UI.createView({
        height : <span class="hljs-number">50</span>,
        width : <span class="hljs-number">125</span>,
        backgroundColor : <span class="hljs-string">'#000'</span>,
        borderRadius : <span class="hljs-number">10</span>,
        opacity : <span class="hljs-number">0.7</span>,
        zIndex : <span class="hljs-number">999</span>
    });
    <span class="hljs-keyword">var</span> actInd = Titanium.UI.createActivityIndicator({
        style : Titanium.UI.iPhone.ActivityIndicatorStyle.PLAIN,
        font : {
            fontFamily : <span class="hljs-string">'Helvetica Neue'</span>,
            fontSize : <span class="hljs-number">15</span>,
            fontWeight : <span class="hljs-string">'bold'</span>
        },
        color : <span class="hljs-string">'white'</span>,
        message : <span class="hljs-string">"Loading..."</span>,
        width : <span class="hljs-number">210</span>
    });
    indView.add(actInd);
    actInd.show();
    indicatorDisplayView.add(indView);
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">removeCustomIndicator</span>(<span class="hljs-params"></span>) </span>{
    Ti.App.flagIndicator = <span class="hljs-literal">false</span>;
    <span class="hljs-built_in">window</span>.remove(indicatorDisplayView);
}











<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">showIndicator</span>(<span class="hljs-params"></span>)</span>{
    <span class="hljs-comment">//Showing indicator...</span>
    createCustomIndicator();
}


<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">hideIndicator</span>(<span class="hljs-params"></span>)</span>{
    <span class="hljs-comment">//Hiding indicator...</span>
    removeCustomIndicator();
}



<span class="hljs-comment">// get ID of baby name</span>
<span class="hljs-keyword">var</span> searchParam = <span class="hljs-built_in">window</span>.id;

<span class="hljs-keyword">var</span> tableview = Titanium.UI.createTableView({
    data: [],
    backgroundColor: <span class="hljs-string">'transparent'</span>,
    width: <span class="hljs-number">280</span>,
    height: <span class="hljs-number">216</span>,
    top: <span class="hljs-number">120</span>
});
MainView.add(tableview);




<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">loadData</span>(<span class="hljs-params"></span>)</span>{
    showIndicator();
    <span class="hljs-comment">//Data fetching here...</span>
    data=[];

    <span class="hljs-keyword">var</span> db = Ti.Database.open(<span class="hljs-string">'BabyNamesv4'</span>);
    <span class="hljs-keyword">var</span> sql = db.execute(searchParam);

    <span class="hljs-keyword">while</span> (sql.isValidRow()) {

        <span class="hljs-keyword">var</span> babyname = sql.fieldByName(<span class="hljs-string">'baby_name'</span>);
        <span class="hljs-keyword">var</span> nameID = sql.fieldByName(<span class="hljs-string">'nid'</span>);

        <span class="hljs-comment">// Data for each table row</span>
        data.push({
            title: babyname,
            className: <span class="hljs-string">'name'</span>,
            hasChild: <span class="hljs-literal">true</span>,
            editable: <span class="hljs-literal">true</span>,
            color: <span class="hljs-string">'#00675a'</span>,
            selectedBackgroundColor: <span class="hljs-string">'transparent'</span>,
            hasDetail: <span class="hljs-literal">true</span>,
            rightImage: <span class="hljs-string">'images/green_arrow.png'</span>,
            url: <span class="hljs-string">'name_detail.js'</span>,
            id: nameID,
            height: Ti.UI.Size
        });
        Ti.API.info(<span class="hljs-string">"babyName : "</span> + babyname + <span class="hljs-string">" Name ID : "</span> + nameID);
        <span class="hljs-comment">// Skip onto the next record</span>
        sql.next();
    }

    <span class="hljs-comment">// close the db</span>
    db.close();


    tableview.setData(data);
    hideIndicator();
}







loadData();







<span class="hljs-comment">// Add Event listener to table row</span>
tableview.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) </span>{
    <span class="hljs-keyword">if</span> (e.rowData.url) {
        <span class="hljs-keyword">var</span> detailWindow = Ti.UI.createWindow({
            id: e.rowData.id,
            url: e.rowData.url,
            barColor: <span class="hljs-string">'#005349'</span>,
            titleImage: <span class="hljs-string">'images/title_bounty.png'</span>
        });

        Ti.UI.currentTab.open(detailWindow, {
            animated: <span class="hljs-literal">true</span>
        });
    }


});
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="May 17th 2012, 1:09:05 pm">May 17th 2012</span>
											by <span class='authorname'>Simon Hume</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>OK, so I think I&#39;ve worked out what is happening. </p>
<ol>
<li><p>The view is still waiting for the tableview to be populated before it shows anything</p>
</li>
<li><p>The indicator is being removed when it&#39;s finished, which is why you never see it.</p>
</li>
</ol>
<p>It needs to be showing the moment the user hits that page, no lag. I&#39;ve commented the hide part out in the code below, so i could see if it was even getting added.</p>
<p>I really need to find a solution to this!</p>
<pre><code class="hljs">var window = Titanium.UI.currentWindow;

<span class="hljs-comment">// Create the View</span>
var MainView = Titanium.UI.createView({
    <span class="hljs-variable">width</span>: <span class="hljs-number">320</span>,
    <span class="hljs-variable">height</span>: <span class="hljs-number">416</span>
});

<span class="hljs-comment">// Add View to the Window</span>
window.<span class="hljs-built_in">add</span>(MainView);

var HeaderImage = Ti.UI.createImageView({
    <span class="hljs-built_in">image</span>: <span class="hljs-string">'images/home_babynames.png'</span>,
    <span class="hljs-variable">width</span>: <span class="hljs-number">320</span>,
    top: <span class="hljs-number">0</span>,
    <span class="hljs-variable">height</span>: <span class="hljs-number">50</span>
});


var PatchBGImage = Ti.UI.createImageView({
    <span class="hljs-built_in">image</span>: <span class="hljs-string">'images/favourites_patch_background.png'</span>,
    <span class="hljs-variable">width</span>: <span class="hljs-number">307</span>,
    <span class="hljs-variable">height</span>: <span class="hljs-number">253</span>,
    left: <span class="hljs-number">7</span>,
    top: <span class="hljs-number">105</span>
});

<span class="hljs-comment">// Create a Scroll View to contain the News table</span>
var FavScroller = Titanium.UI.createScrollView({
    backgroundImage: <span class="hljs-string">'images/news_scroll_background.png'</span>,
    showVerticalScrollIndicator: <span class="hljs-keyword">true</span>,
    <span class="hljs-variable">width</span>: <span class="hljs-number">285</span>,
    <span class="hljs-variable">height</span>: <span class="hljs-number">225</span>,
    contentWidth: <span class="hljs-number">285</span>,
    contentHeight: <span class="hljs-number">225</span>,
    top: <span class="hljs-number">117</span>
});


<span class="hljs-comment">// Create the Favourites title in custom font</span>
var SearchLabel = Titanium.UI.createLabel({
    <span class="hljs-built_in">text</span>: <span class="hljs-string">'Search results'</span>,
    <span class="hljs-variable">height</span>: <span class="hljs-string">'auto'</span>,
    <span class="hljs-variable">width</span>: <span class="hljs-string">'auto'</span>,
    <span class="hljs-built_in">color</span>: <span class="hljs-string">'#00675a'</span>,
    font: {
        fontSize: <span class="hljs-number">23</span>,
        fontFamily: <span class="hljs-string">'FS Albert'</span>,
        fontWeight: <span class="hljs-string">'bold'</span>
    },
    <span class="hljs-built_in">textAlign</span>: <span class="hljs-string">'left'</span>,
    left: <span class="hljs-number">18</span>,
    top: <span class="hljs-number">68</span>
});



<span class="hljs-comment">// Add Image Views to the Window</span>
MainView.<span class="hljs-built_in">add</span>(HeaderImage);
MainView.<span class="hljs-built_in">add</span>(PatchBGImage);

<span class="hljs-comment">// Add the Scroll View to the View</span>
MainView.<span class="hljs-built_in">add</span>(FavScroller);

<span class="hljs-comment">// Add Text to Window</span>
MainView.<span class="hljs-built_in">add</span>(SearchLabel);







var indicatorDisplayView;


    indicatorDisplayView = Ti.UI.createView({
        <span class="hljs-variable">height</span> : <span class="hljs-number">480</span>,
        top : <span class="hljs-number">0</span>,
        left : <span class="hljs-number">0</span>,
        <span class="hljs-variable">width</span> : <span class="hljs-number">320</span>,
        backgroundColor : <span class="hljs-string">'transparent'</span>,
        zIndex : <span class="hljs-number">990</span>
    });
    window.<span class="hljs-built_in">add</span>(indicatorDisplayView);

    var indView = Titanium.UI.createView({
        <span class="hljs-variable">height</span> : <span class="hljs-number">50</span>,
        <span class="hljs-variable">width</span> : <span class="hljs-number">200</span>,
        backgroundColor : <span class="hljs-string">'#000'</span>,
        borderRadius : <span class="hljs-number">10</span>,
        opacity : <span class="hljs-number">0.7</span>,
        zIndex : <span class="hljs-number">999</span>
    });

    var actInd = Titanium.UI.createActivityIndicator({
        style : Titanium.UI.iPhone.ActivityIndicatorStyle.PLAIN,
        font : {
            fontFamily : <span class="hljs-string">'Helvetica Neue'</span>,
            fontSize : <span class="hljs-number">15</span>,
            fontWeight : <span class="hljs-string">'bold'</span>
        },
        <span class="hljs-built_in">color</span> : <span class="hljs-string">'white'</span>,
        message : <span class="hljs-string">"Searching Names..."</span>,
        <span class="hljs-variable">width</span> : <span class="hljs-number">280</span>
    });

    <span class="hljs-comment">// add the indicator to the view</span>
    indView.<span class="hljs-built_in">add</span>(actInd);
    <span class="hljs-comment">// show the indicator</span>
    actInd.show();
    <span class="hljs-comment">// add the view to the master view</span>
    indicatorDisplayView.<span class="hljs-built_in">add</span>(indView);



<span class="hljs-comment">// get ID of baby name</span>
var searchParam = window.id;

var tableview = Titanium.UI.createTableView({
    data: [],
    backgroundColor: <span class="hljs-string">'transparent'</span>,
    <span class="hljs-variable">width</span>: <span class="hljs-number">280</span>,
    <span class="hljs-variable">height</span>: <span class="hljs-number">216</span>,
    top: <span class="hljs-number">120</span>
});
MainView.<span class="hljs-built_in">add</span>(tableview);




function loadData(){

    <span class="hljs-comment">//show the indictaor view</span>
    window.<span class="hljs-built_in">add</span>(indicatorDisplayView);

    <span class="hljs-comment">//Data fetching here...</span>
    data=[];

    var db = Ti.Database.<span class="hljs-built_in">open</span>(<span class="hljs-string">'BabyNamesv4'</span>);
    var sql = db.execute(searchParam);

    <span class="hljs-keyword">while</span> (sql.isValidRow()) {

        var babyname = sql.fieldByName(<span class="hljs-string">'baby_name'</span>);
        var nameID = sql.fieldByName(<span class="hljs-string">'nid'</span>);

        <span class="hljs-comment">// Data for each table row</span>
        data.push({
            title: babyname,
            className: <span class="hljs-string">'name'</span>,
            hasChild: <span class="hljs-keyword">true</span>,
            <span class="hljs-built_in">color</span>: <span class="hljs-string">'#00675a'</span>,
            selectedBackgroundColor: <span class="hljs-string">'transparent'</span>,
            hasDetail: <span class="hljs-keyword">true</span>,
            rightImage: <span class="hljs-string">'images/green_arrow.png'</span>,
            url: <span class="hljs-string">'name_detail.js'</span>,
            id: nameID,
            <span class="hljs-variable">height</span>: Ti.UI.Size
        });

        <span class="hljs-comment">// Skip onto the next record</span>
        sql.next();
    }

    <span class="hljs-comment">// close the db</span>
    db.close();


    tableview.setData(data);

    <span class="hljs-comment">// hide the indicator view</span>
    <span class="hljs-comment">//window.remove(indicatorDisplayView);</span>
}






<span class="hljs-comment">// run the data retrieval</span>
loadData();







<span class="hljs-comment">// Add Event listener to table row</span>
tableview.addEventListener(<span class="hljs-string">'click'</span>, function (e) {
    <span class="hljs-keyword">if</span> (e.rowData.url) {
        var detailWindow = Ti.UI.createWindow({
            id: e.rowData.id,
            url: e.rowData.url,
            barColor: <span class="hljs-string">'#005349'</span>,
            titleImage: <span class="hljs-string">'images/title_bounty.png'</span>
        });

        Ti.UI.currentTab.<span class="hljs-built_in">open</span>(detailWindow, {
            animated: <span class="hljs-keyword">true</span>
        });
    }


});
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="May 17th 2012, 1:29:55 pm">May 17th 2012</span>
											by <span class='authorname'>Simon Hume</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Hi Simon,<br>I Tried your code and modified it for demo purpose, because I have no database so i removed it from your code.</p>
<pre><code class="hljs">var MainView = Titanium.UI.createView({
    <span class="hljs-string">width :</span> <span class="hljs-number">320</span>,
    <span class="hljs-string">height :</span> <span class="hljs-number">416</span>
});

<span class="hljs-comment">// Add View to the Window</span>
win.add(MainView);
var tableview = Titanium.UI.createTableView({
<span class="hljs-label">    data:</span> [],
<span class="hljs-label">    backgroundColor:</span> <span class="hljs-string">'transparent'</span>,
<span class="hljs-label">    width:</span> <span class="hljs-number">280</span>,
<span class="hljs-label">    height:</span> <span class="hljs-number">216</span>,
<span class="hljs-label">    top:</span> <span class="hljs-number">120</span>
});
MainView.add(tableview);

var HeaderImage = Ti.UI.createImageView({
    <span class="hljs-comment">// image : 'images/home_babynames.png',</span>
    <span class="hljs-string">width :</span> <span class="hljs-number">320</span>,
    <span class="hljs-string">top :</span> <span class="hljs-number">0</span>,
    <span class="hljs-string">height :</span> <span class="hljs-number">50</span>
});

var PatchBGImage = Ti.UI.createImageView({
    <span class="hljs-comment">// image : 'images/favourites_patch_background.png',</span>
    <span class="hljs-string">width :</span> <span class="hljs-number">307</span>,
    <span class="hljs-string">height :</span> <span class="hljs-number">253</span>,
    <span class="hljs-string">left :</span> <span class="hljs-number">7</span>,
    <span class="hljs-string">top :</span> <span class="hljs-number">105</span>
});

<span class="hljs-comment">// Create a Scroll View to contain the News table</span>
var FavScroller = Titanium.UI.createScrollView({
    <span class="hljs-comment">// backgroundImage : 'images/news_scroll_background.png',</span>
    <span class="hljs-string">showVerticalScrollIndicator :</span> <span class="hljs-literal">true</span>,
    <span class="hljs-string">width :</span> <span class="hljs-number">285</span>,
    <span class="hljs-string">height :</span> <span class="hljs-number">225</span>,
    <span class="hljs-string">contentWidth :</span> <span class="hljs-number">285</span>,
    <span class="hljs-string">contentHeight :</span> <span class="hljs-number">225</span>,
    <span class="hljs-string">top :</span> <span class="hljs-number">117</span>
});

<span class="hljs-comment">// Create the Favourites title in custom font</span>
var SearchLabel = Titanium.UI.createLabel({
    <span class="hljs-string">text :</span> <span class="hljs-string">'Search results'</span>,
    <span class="hljs-string">height :</span> <span class="hljs-string">'auto'</span>,
    <span class="hljs-string">width :</span> <span class="hljs-string">'auto'</span>,
    <span class="hljs-string">color :</span> <span class="hljs-string">'#00675a'</span>,
    <span class="hljs-string">font :</span> {
        <span class="hljs-string">fontSize :</span> <span class="hljs-number">23</span>,
        <span class="hljs-string">fontFamily :</span> <span class="hljs-string">'FS Albert'</span>,
        <span class="hljs-string">fontWeight :</span> <span class="hljs-string">'bold'</span>
    },
    <span class="hljs-string">textAlign :</span> <span class="hljs-string">'left'</span>,
    <span class="hljs-string">left :</span> <span class="hljs-number">18</span>,
    <span class="hljs-string">top :</span> <span class="hljs-number">68</span>
});

<span class="hljs-comment">// Add Image Views to the Window</span>
MainView.add(HeaderImage);
MainView.add(PatchBGImage);

<span class="hljs-comment">// Add the Scroll View to the View</span>
MainView.add(FavScroller);

<span class="hljs-comment">// Add Text to Window</span>
MainView.add(SearchLabel);

var indicatorDisplayView;

function createCustomIndicator() {
    Ti.App.flagIndicator = <span class="hljs-literal">true</span>;
    indicatorDisplayView = Ti.UI.createView({
        <span class="hljs-string">height :</span> <span class="hljs-number">480</span>,
        <span class="hljs-string">top :</span> <span class="hljs-number">0</span>,
        <span class="hljs-string">left :</span> <span class="hljs-number">0</span>,
        <span class="hljs-string">width :</span> <span class="hljs-number">320</span>,
        <span class="hljs-string">backgroundColor :</span> <span class="hljs-string">'transparent'</span>,
        <span class="hljs-string">zIndex :</span> <span class="hljs-number">990</span>
    });
    win.add(indicatorDisplayView);
    var indView = Titanium.UI.createView({
        <span class="hljs-string">height :</span> <span class="hljs-number">50</span>,
        <span class="hljs-string">width :</span> <span class="hljs-number">125</span>,
        <span class="hljs-string">backgroundColor :</span> <span class="hljs-string">'#000'</span>,
        <span class="hljs-string">borderRadius :</span> <span class="hljs-number">10</span>,
        <span class="hljs-string">opacity :</span> <span class="hljs-number">0.7</span>,
        <span class="hljs-string">zIndex :</span> <span class="hljs-number">999</span>
    });
    var actInd = Titanium.UI.createActivityIndicator({
        <span class="hljs-string">style :</span> Titanium.UI.iPhone.ActivityIndicatorStyle.PLAIN,
        <span class="hljs-string">font :</span> {
            <span class="hljs-string">fontFamily :</span> <span class="hljs-string">'Helvetica Neue'</span>,
            <span class="hljs-string">fontSize :</span> <span class="hljs-number">15</span>,
            <span class="hljs-string">fontWeight :</span> <span class="hljs-string">'bold'</span>
        },
        <span class="hljs-string">color :</span> <span class="hljs-string">'white'</span>,
        <span class="hljs-string">message :</span> <span class="hljs-string">"Loading..."</span>,
        <span class="hljs-string">width :</span> <span class="hljs-number">210</span>
    });
    indView.add(actInd);
    actInd.show();
    indicatorDisplayView.add(indView);
}

function removeCustomIndicator() {
    Ti.App.flagIndicator = <span class="hljs-literal">false</span>;
    win.remove(indicatorDisplayView);
}

function showIndicator() {
    <span class="hljs-comment">//Showing indicator...</span>
    createCustomIndicator();
}

function hideIndicator() {
    <span class="hljs-comment">//Hiding indicator...</span>
    removeCustomIndicator();
}

<span class="hljs-comment">// get ID of baby name</span>


var tableview = Titanium.UI.createTableView({
    <span class="hljs-string">data :</span> [],
    <span class="hljs-string">backgroundColor :</span> <span class="hljs-string">'transparent'</span>,
    <span class="hljs-string">width :</span> <span class="hljs-number">280</span>,
    <span class="hljs-string">height :</span> <span class="hljs-number">216</span>,
    <span class="hljs-string">top :</span> <span class="hljs-number">120</span>
});
MainView.add(tableview);

function loadData() {
    showIndicator();
    <span class="hljs-comment">//Data fetching here...</span>
    data = [];

    setTimeout(function(e) {

        hideIndicator();
    }, <span class="hljs-number">10000</span>);
}

loadData();

<span class="hljs-comment">// Add Event listener to table row</span>
tableview.addEventListener(<span class="hljs-string">'click'</span>, function(e) {
    <span class="hljs-comment">// if(e.rowData.url) {</span>
        <span class="hljs-comment">// var detailWindow = Ti.UI.createWindow({</span>
            <span class="hljs-comment">// id : e.rowData.id,</span>
            <span class="hljs-comment">// url : e.rowData.url,</span>
            <span class="hljs-comment">// barColor : '#005349',</span>
            <span class="hljs-comment">// titleImage : 'images/title_bounty.png'</span>
        <span class="hljs-comment">// });</span>
<span class="hljs-comment">// </span>
        <span class="hljs-comment">// Ti.UI.currentTab.open(detailWindow, {</span>
            <span class="hljs-comment">// animated : true</span>
        <span class="hljs-comment">// });</span>
    <span class="hljs-comment">// }</span>
    alert(e.index);

}); 
win.add(MainView);
</code></pre><p>Check out this demo for testing. It shows Table immediate after window opens and indicator shows after that. Indicator hide in 10 seconds automatically.</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 17th 2012, 1:32:32 pm">May 17th 2012</span>
											by <span class='authorname'>Gaurang Chhatbar</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>that&#39;s exactly how I want it to work, but for whatever reason it just refuses to comply.</p>
<p>Going to try your example with my DB and see what happens</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 17th 2012, 1:43:48 pm">May 17th 2012</span>
											by <span class='authorname'>Simon Hume</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>The moment I replace it with the DB code it has to wait to load everything. Could this be a Titanium bug?</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 17th 2012, 1:53:47 pm">May 17th 2012</span>
											by <span class='authorname'>Simon Hume</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Hi Gaurang, so just to confirm that your code works fine with the loading indicator then hiding after 10 seconds. As soon as I drop my SQLite data in, the tableviews and background image view don&#39;t display until the query has completed.</p>
<p>Any idea how this can be fixed?</p>
<pre><code class="hljs">var window = Titanium.UI.currentWindow;

<span class="hljs-comment">// get ID of baby name</span>
var searchParam = window.id;

var MainView = Titanium.UI.createView({
    <span class="hljs-string">width :</span> <span class="hljs-number">320</span>,
    <span class="hljs-string">height :</span> <span class="hljs-number">416</span>
});

<span class="hljs-comment">// Add View to the Window</span>
window.add(MainView);
var tableview = Titanium.UI.createTableView({
<span class="hljs-label">    data:</span> [],
<span class="hljs-label">    backgroundColor:</span> <span class="hljs-string">'transparent'</span>,
<span class="hljs-label">    width:</span> <span class="hljs-number">280</span>,
<span class="hljs-label">    height:</span> <span class="hljs-number">216</span>,
<span class="hljs-label">    top:</span> <span class="hljs-number">120</span>
});
MainView.add(tableview);

var HeaderImage = Ti.UI.createImageView({
    <span class="hljs-string">image :</span> <span class="hljs-string">'images/home_babynames.png'</span>,
    <span class="hljs-string">width :</span> <span class="hljs-number">320</span>,
    <span class="hljs-string">top :</span> <span class="hljs-number">0</span>,
    <span class="hljs-string">height :</span> <span class="hljs-number">50</span>
});

var PatchBGImage = Ti.UI.createImageView({
    <span class="hljs-string">image :</span> <span class="hljs-string">'images/favourites_patch_background.png'</span>,
    <span class="hljs-string">width :</span> <span class="hljs-number">307</span>,
    <span class="hljs-string">height :</span> <span class="hljs-number">253</span>,
    <span class="hljs-string">left :</span> <span class="hljs-number">7</span>,
    <span class="hljs-string">top :</span> <span class="hljs-number">105</span>
});

<span class="hljs-comment">// Create a Scroll View to contain the News table</span>
var FavScroller = Titanium.UI.createScrollView({
    <span class="hljs-string">backgroundImage :</span> <span class="hljs-string">'images/news_scroll_background.png'</span>,
    <span class="hljs-string">showVerticalScrollIndicator :</span> <span class="hljs-literal">true</span>,
    <span class="hljs-string">width :</span> <span class="hljs-number">285</span>,
    <span class="hljs-string">height :</span> <span class="hljs-number">225</span>,
    <span class="hljs-string">contentWidth :</span> <span class="hljs-number">285</span>,
    <span class="hljs-string">contentHeight :</span> <span class="hljs-number">225</span>,
    <span class="hljs-string">top :</span> <span class="hljs-number">117</span>
});

<span class="hljs-comment">// Create the Favourites title in custom font</span>
var SearchLabel = Titanium.UI.createLabel({
    <span class="hljs-string">text :</span> <span class="hljs-string">'Search results'</span>,
    <span class="hljs-string">height :</span> <span class="hljs-string">'auto'</span>,
    <span class="hljs-string">width :</span> <span class="hljs-string">'auto'</span>,
    <span class="hljs-string">color :</span> <span class="hljs-string">'#00675a'</span>,
    <span class="hljs-string">font :</span> {
        <span class="hljs-string">fontSize :</span> <span class="hljs-number">23</span>,
        <span class="hljs-string">fontFamily :</span> <span class="hljs-string">'FS Albert'</span>,
        <span class="hljs-string">fontWeight :</span> <span class="hljs-string">'bold'</span>
    },
    <span class="hljs-string">textAlign :</span> <span class="hljs-string">'left'</span>,
    <span class="hljs-string">left :</span> <span class="hljs-number">18</span>,
    <span class="hljs-string">top :</span> <span class="hljs-number">68</span>
});

<span class="hljs-comment">// Add Image Views to the Window</span>
MainView.add(HeaderImage);
MainView.add(PatchBGImage);

<span class="hljs-comment">// Add the Scroll View to the View</span>
MainView.add(FavScroller);

<span class="hljs-comment">// Add Text to Window</span>
MainView.add(SearchLabel);

var indicatorDisplayView;

function createCustomIndicator() {
    Ti.App.flagIndicator = <span class="hljs-literal">true</span>;
    indicatorDisplayView = Ti.UI.createView({
        <span class="hljs-string">height :</span> <span class="hljs-number">480</span>,
        <span class="hljs-string">top :</span> <span class="hljs-number">0</span>,
        <span class="hljs-string">left :</span> <span class="hljs-number">0</span>,
        <span class="hljs-string">width :</span> <span class="hljs-number">320</span>,
        <span class="hljs-string">backgroundColor :</span> <span class="hljs-string">'transparent'</span>,
        <span class="hljs-string">zIndex :</span> <span class="hljs-number">990</span>
    });
    window.add(indicatorDisplayView);
    var indView = Titanium.UI.createView({
        <span class="hljs-string">height :</span> <span class="hljs-number">50</span>,
        <span class="hljs-string">width :</span> <span class="hljs-number">125</span>,
        <span class="hljs-string">backgroundColor :</span> <span class="hljs-string">'#000'</span>,
        <span class="hljs-string">borderRadius :</span> <span class="hljs-number">10</span>,
        <span class="hljs-string">opacity :</span> <span class="hljs-number">0.7</span>,
        <span class="hljs-string">zIndex :</span> <span class="hljs-number">999</span>
    });
    var actInd = Titanium.UI.createActivityIndicator({
        <span class="hljs-string">style :</span> Titanium.UI.iPhone.ActivityIndicatorStyle.PLAIN,
        <span class="hljs-string">font :</span> {
            <span class="hljs-string">fontFamily :</span> <span class="hljs-string">'Helvetica Neue'</span>,
            <span class="hljs-string">fontSize :</span> <span class="hljs-number">15</span>,
            <span class="hljs-string">fontWeight :</span> <span class="hljs-string">'bold'</span>
        },
        <span class="hljs-string">color :</span> <span class="hljs-string">'white'</span>,
        <span class="hljs-string">message :</span> <span class="hljs-string">"Loading..."</span>,
        <span class="hljs-string">width :</span> <span class="hljs-number">210</span>
    });
    indView.add(actInd);
    actInd.show();
    indicatorDisplayView.add(indView);
}

function removeCustomIndicator() {
    Ti.App.flagIndicator = <span class="hljs-literal">false</span>;
    window.remove(indicatorDisplayView);
}

function showIndicator() {
    <span class="hljs-comment">//Showing indicator...</span>
    createCustomIndicator();
}

function hideIndicator() {
    <span class="hljs-comment">//Hiding indicator...</span>
    removeCustomIndicator();
}




var tableview = Titanium.UI.createTableView({
    <span class="hljs-string">data :</span> [],
    <span class="hljs-string">backgroundColor :</span> <span class="hljs-string">'transparent'</span>,
    <span class="hljs-string">width :</span> <span class="hljs-number">280</span>,
    <span class="hljs-string">height :</span> <span class="hljs-number">216</span>,
    <span class="hljs-string">top :</span> <span class="hljs-number">120</span>
});
MainView.add(tableview);

function loadData() {
    showIndicator();
    <span class="hljs-comment">//Data fetching here...</span>
    data = [];

    var db = Ti.Database.open(<span class="hljs-string">'BabyNamesv4'</span>);
    var sql = db.execute(searchParam);

    <span class="hljs-keyword">while</span> (sql.isValidRow()) {

        var babyname = sql.fieldByName(<span class="hljs-string">'baby_name'</span>);
        var nameID = sql.fieldByName(<span class="hljs-string">'nid'</span>);

        <span class="hljs-comment">// Data for each table row</span>
        data.push({
<span class="hljs-label">            title:</span> babyname,
<span class="hljs-label">            className:</span> <span class="hljs-string">'name'</span>,
<span class="hljs-label">            hasChild:</span> <span class="hljs-literal">true</span>,
<span class="hljs-label">            color:</span> <span class="hljs-string">'#00675a'</span>,
<span class="hljs-label">            selectedBackgroundColor:</span> <span class="hljs-string">'transparent'</span>,
<span class="hljs-label">            hasDetail:</span> <span class="hljs-literal">true</span>,
<span class="hljs-label">            rightImage:</span> <span class="hljs-string">'images/green_arrow.png'</span>,
<span class="hljs-label">            url:</span> <span class="hljs-string">'name_detail.js'</span>,
<span class="hljs-label">            id:</span> nameID,
<span class="hljs-label">            height:</span> Ti.UI.Size
        });

        <span class="hljs-comment">// Skip onto the next record</span>
        sql.next();
    }

    <span class="hljs-comment">// close the db</span>
    db.close();


    tableview.setData(data);


    hideIndicator();

}

loadData();

<span class="hljs-comment">// Add Event listener to table row</span>
tableview.addEventListener(<span class="hljs-string">'click'</span>, function(e) {
    <span class="hljs-keyword">if</span>(e.rowData.url) {
        var detailWindow = Ti.UI.createWindow({
            <span class="hljs-string">id :</span> e.rowData.id,
            <span class="hljs-string">url :</span> e.rowData.url,
            <span class="hljs-string">barColor :</span> <span class="hljs-string">'#005349'</span>,
            <span class="hljs-string">titleImage :</span> <span class="hljs-string">'images/title_bounty.png'</span>
        });

        Ti.UI.currentTab.open(detailWindow, {
            <span class="hljs-string">animated :</span> <span class="hljs-literal">true</span>
        });
    }

});
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="May 17th 2012, 3:57:50 pm">May 17th 2012</span>
											by <span class='authorname'>Simon Hume</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Hi, Simon,</p>
<p>I think this is not titanium fault, It is just sequence misplace in the code. confirm that whenever all controls are loaded in the window then after your data load function call.</p>
<p>I also not notice previously that you are adding table view twice in the view. so may be it will visually create a problem.</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 17th 2012, 4:27:47 pm">May 17th 2012</span>
											by <span class='authorname'>Gaurang Chhatbar</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
