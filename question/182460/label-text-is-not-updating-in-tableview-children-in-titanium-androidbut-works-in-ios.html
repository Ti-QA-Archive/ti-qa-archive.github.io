<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Label text is not updating in tableview children in titanium android.but work&#39;s in IOS Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Label text is not updating in tableview children in titanium android.but work&#39;s in IOS</h1>
		</header>
		<section>
			<p>I have created a tableview row.here the tableview each row having the one lebel and 2 image view.<br>  if am clicking the image, the selected row of label value need to change something.</p>
<p>  But from my code if am clicking the image, the label value is changed of last item.<br>  What&#39;s wrong in my code.</p>
<pre><code class="hljs"> for<span class="hljs-list">( <span class="hljs-keyword">var</span> i=0<span class="hljs-comment">; i&lt;data.length; i++){ </span>
var row = Ti.UI.createTableViewRow<span class="hljs-list">({
layout : <span class="hljs-quoted">'horizontal</span>',
width: <span class="hljs-string">"100%"</span>,
height: Ti.UI.SIZE,
})</span><span class="hljs-comment">;</span>

row.add<span class="hljs-list">(<span class="hljs-keyword">Ti</span>.UI.createImageView<span class="hljs-list">({
image: data[i].image,
top: <span class="hljs-number">5</span>,
width: '<span class="hljs-number">50</span>',
height: Ti.UI.SIZE,
})</span>)</span><span class="hljs-comment">;</span>

row.add<span class="hljs-list">(<span class="hljs-keyword">Ti</span>.UI.createLabel<span class="hljs-list">({
text: data[i].name,
top: <span class="hljs-number">5</span>,
width: <span class="hljs-number">180</span>,
color: <span class="hljs-quoted">'#040404</span>',
height: Ti.UI.SIZE,
})</span>)</span><span class="hljs-comment">;</span>

 var deleteitem = Ti.UI.createImageView<span class="hljs-list">({
 image: <span class="hljs-string">"images/back.png"</span>,
 top: <span class="hljs-number">5</span>,
 i<span class="hljs-keyword">:i</span>,
 squantity : data[i].itemCount,
 spprice <span class="hljs-keyword">:data</span>[i].itemPrice,
 width: Ti.UI.SIZE,
 height: Ti.UI.SIZE,
 myrow: row,
  })</span><span class="hljs-comment">;</span>
  row.add<span class="hljs-list">(<span class="hljs-keyword">deleteitem</span>)</span><span class="hljs-comment">;</span>

 var adddeleteitemview = Ti.UI.createView<span class="hljs-list">({
 width: Ti.UI.SIZE,
 height: Ti.UI.SIZE,
 layout : <span class="hljs-quoted">'horizontal</span>',
 left:<span class="hljs-number">10</span>,
 borderColor:<span class="hljs-string">"gray"</span>,
 borderRadius:<span class="hljs-string">"10"</span>
 })</span><span class="hljs-comment">;</span>

 var removeitem = Ti.UI.createImageView<span class="hljs-list">({
 image: <span class="hljs-string">"images/minus.jpg"</span>,
 top: <span class="hljs-number">5</span>,
 width: Ti.UI.SIZE,
 squantity : data[i].itemCount,
 spprice <span class="hljs-keyword">:data</span>[i].itemPrice,
 height: Ti.UI.SIZE,
 })</span><span class="hljs-comment">;</span>
 adddeleteitemview.add<span class="hljs-list">(<span class="hljs-keyword">removeitem</span>)</span><span class="hljs-comment">;</span>

 var itemcounttext = Ti.UI.createLabel<span class="hljs-list">({
 top: <span class="hljs-number">5</span>,
 text<span class="hljs-keyword">:data</span>[i].itemCount,
 width: Ti.UI.SIZE,
 height: Ti.UI.SIZE,
 })</span><span class="hljs-comment">;</span>
 adddeleteitemview.add<span class="hljs-list">(<span class="hljs-keyword">itemcounttext</span>)</span><span class="hljs-comment">;</span>

 removeitem.addEventListener<span class="hljs-list">(<span class="hljs-quoted">'click</span>', function<span class="hljs-list">(<span class="hljs-keyword">e</span>)</span> {
  var item=e.source.getParent<span class="hljs-list">()</span><span class="hljs-comment">;</span>
 squantity = e.source.squantity<span class="hljs-comment">;</span>
 spprice = e.source.spprice<span class="hljs-comment">;</span>
 totalqty = Number<span class="hljs-list">(<span class="hljs-keyword">totalqty</span>)</span> - Number<span class="hljs-list">(<span class="hljs-number">1</span>)</span><span class="hljs-comment">;</span>
 $.ViewCartItemslist_header_cart.text = totalqty<span class="hljs-comment">;</span>
 totalamount = Number<span class="hljs-list">(<span class="hljs-keyword">totalamount</span>)</span> - Number<span class="hljs-list">(<span class="hljs-list">(<span class="hljs-keyword">spprice</span>)</span>)</span><span class="hljs-comment">;</span>
 squantity = Number<span class="hljs-list">(<span class="hljs-keyword">squantity</span>)</span> - <span class="hljs-number">1</span><span class="hljs-comment">;</span>
  item.children[<span class="hljs-number">1</span>].text = squantity<span class="hljs-comment">;</span>
 $.ViewCartItemslist_total_value.text = totalamount<span class="hljs-comment">;</span>
  })</span><span class="hljs-comment">;</span>

var additem = Ti.UI.createImageView<span class="hljs-list">({
image: <span class="hljs-string">"images/plus.jpg"</span>,
top: <span class="hljs-number">5</span>,
width: Ti.UI.SIZE,
squantity : data[i].itemCount,
spprice <span class="hljs-keyword">:data</span>[i].itemPrice,
height: Ti.UI.SIZE,
 })</span><span class="hljs-comment">;</span>
adddeleteitemview.add<span class="hljs-list">(<span class="hljs-keyword">additem</span>)</span><span class="hljs-comment">;</span>

additem.addEventListener<span class="hljs-list">(<span class="hljs-quoted">'click</span>', function<span class="hljs-list">(<span class="hljs-keyword">e</span>)</span> {
   var item=e.source.getParent<span class="hljs-list">()</span><span class="hljs-comment">;</span>
   squantity = e.source.squantity<span class="hljs-comment">;</span>
    spprice = e.source.spprice<span class="hljs-comment">;</span>
    totalqty = Number<span class="hljs-list">(<span class="hljs-keyword">totalqty</span>)</span> + Number<span class="hljs-list">(<span class="hljs-number">1</span>)</span><span class="hljs-comment">;</span>
    $.ViewCartItemslist_header_cart.text = totalqty<span class="hljs-comment">;</span>
    totalamount = Number<span class="hljs-list">(<span class="hljs-keyword">totalamount</span>)</span> + Number<span class="hljs-list">(<span class="hljs-list">(<span class="hljs-keyword">spprice</span>)</span>)</span><span class="hljs-comment">;</span>
    squantity = Number<span class="hljs-list">(<span class="hljs-keyword">squantity</span>)</span> + <span class="hljs-number">1</span><span class="hljs-comment">;</span>
    item.children[<span class="hljs-number">1</span>].text = squantity<span class="hljs-comment">;</span>
    $.ViewCartItemslist_total_value.text = totalamount<span class="hljs-comment">;</span>
  })</span><span class="hljs-comment">;</span>
   row.add<span class="hljs-list">(<span class="hljs-keyword">adddeleteitemview</span>)</span><span class="hljs-comment">; </span>

dataArray.push<span class="hljs-list">(<span class="hljs-keyword">row</span>)</span><span class="hljs-comment">;</span>
row.addEventListener<span class="hljs-list">(<span class="hljs-quoted">'click</span>', function<span class="hljs-list">()</span> {})</span><span class="hljs-comment">;</span>
deleteitem.addEventListener<span class="hljs-list">(<span class="hljs-quoted">'click</span>', function<span class="hljs-list">(<span class="hljs-keyword">e</span>)</span> {
    squantity = e.source.squantity<span class="hljs-comment">;</span>
    spprice = e.source.spprice<span class="hljs-comment">;</span>
    $.ViewCartItemstableView.deleteRow<span class="hljs-list">(<span class="hljs-keyword">e</span>.source.myrow)</span><span class="hljs-comment">;</span>
    totalqty = Number<span class="hljs-list">(<span class="hljs-keyword">totalqty</span>)</span> - Number<span class="hljs-list">(<span class="hljs-keyword">squantity</span>)</span><span class="hljs-comment">;</span>
    $.ViewCartItemslist_header_cart.text = totalqty<span class="hljs-comment">;</span>
    totalamount = Number<span class="hljs-list">(<span class="hljs-keyword">totalamount</span>)</span> - Number<span class="hljs-list">(<span class="hljs-list">(<span class="hljs-keyword">spprice</span> <span class="hljs-variable">* squantity));
    $.ViewCartItemslist_total_value.text = totalamount;
  });   
   };
 $.ViewCartItemstableView.setData(dataArray);
  }




    It's working well in the IOS.But it's not work with the android implementation.

     alert(item.children[1].getText());

    Here am getting the alert with correct updated value.But it's not showing in the label. 
    Can you give me a idea to resolve this problem in android.</span></span></span></span></span>
</code></pre>
		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="May 21st 2015, 7:44:09 am">May 21st 2015</span>
				by <span class='authorname'>krish v</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>ios</span></li>
					
						<li><span class='tagname'>label</span></li>
					
						<li><span class='tagname'>settext</span></li>
					
						<li><span class='tagname'>titanium</span></li>
					
				</ul>
			

			<section>
				<h5>1 Comment</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Hi, I have exactly same problem. How did you solve it?</p>
</div>
							<div class="author">
								&mdash; commented <span title="September 11th 2015, 9:47:49 am">September 11th 2015</span>
								by <span class='authorname'>Oriol Chias</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-287595">
				
						<section>
							<p>You need to add the click event to the tableViewRow instead of imageView. Then when you click the row you need to identify using the children property of the tableviewRow, which image was clicked and then update the label of that row using the children property again.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="June 5th 2015, 2:16:55 am">June 5th 2015</span>
								by <span class='authorname'>Lloyd Dsouza</span><br>
								<a class="icon-bg icon-link" href="question/182460/label-text-is-not-updating-in-tableview-children-in-titanium-androidbut-works-in-ios.html#answer-287595" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
