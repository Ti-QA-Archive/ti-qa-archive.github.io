<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Application from iPhone to Android » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Application from iPhone to Android</h1>
		</header>
		<section>
			<p>Hi, </p>
<p>i have developped an app for iphone. it works fine.<br>now im using the code for android. it works too but very late !!</p>
<p>when lunching it on simulator, i see these messages : </p>
<p>[INFO] [2013-03-18 10:00:00,794] BusinessLogic&#x2F;BusinessLogic&#x2F;insertInDb.js exists: false<br>[INFO] [2013-03-18 10:00:00,798] BusinessLogic&#x2F;BusinessLogic&#x2F;insertInDb.js exists: false<br>[INFO] [2013-03-18 10:00:00,803] BusinessLogic&#x2F;BusinessLogic&#x2F;insertInDb.js exists: false<br>[INFO] [2013-03-18 10:00:00,809] BusinessLogic&#x2F;BusinessLogic&#x2F;insertInDb.js exists: false<br>[INFO] [2013-03-18 10:00:00,815] BusinessLogic&#x2F;BusinessLogic&#x2F;insertInDb.js exists: false</p>
<p>bizarrely, the file exists and instructions inside are executed…what does mean these messages ?</p>
<p>i have another problem, </p>
<p>i have tableViewRow which contains view, labels…like this : http:&#x2F;&#x2F;dzmob.net&#x2F;rows.png</p>
<p>as you see, not all rows work well, labels, views disapears when i scroll :s</p>
<p>any help ?</p>
<p>thanks</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="March 18th 2013, 7:11:24 am">March 18th 2013</span>
				by <span class='authorname'>Djamel ZAHAL</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>performance</span></li>
					
						<li><span class='tagname'>rows</span></li>
					
						<li><span class='tagname'>slowness</span></li>
					
				</ul>
			

			<section>
				<h5>3 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Here is my code, i dont see where is the problem ?</p>
<pre><code class="hljs">    <span class="hljs-keyword">for</span> (var i=<span class="hljs-number">0</span>; i&lt;data.length; i++)
    {    
        var offre = Ti.UI.createTableViewRow({
            <span class="hljs-variable">height</span>: <span class="hljs-string">'79dp'</span>,    
            <span class="hljs-variable">width</span>: <span class="hljs-variable">width</span>,
            backgroundImage: <span class="hljs-string">'/images/listItem.png'</span>,
            backgroundSelectedImage: <span class="hljs-string">'/images/listItemOver.png'</span>,
            index: i,
            hasChild: <span class="hljs-keyword">false</span>
        });

        var containerTop = Ti.UI.createView({
            <span class="hljs-variable">height</span>: <span class="hljs-string">'80%'</span>,
            <span class="hljs-variable">width</span>: <span class="hljs-string">'95%'</span>,
            left: <span class="hljs-string">'15dp'</span>
        });

        var titreOffre = Ti.UI.createLabel({
            <span class="hljs-built_in">text</span>: data[i].titre,
            <span class="hljs-built_in">color</span>: <span class="hljs-string">'black'</span>,
            font:{fontSize: <span class="hljs-string">'17dp'</span>, fontFamily:<span class="hljs-string">'Helvetica-Bold'</span>},
            <span class="hljs-variable">height</span>: <span class="hljs-string">'20dp'</span>,
            left: <span class="hljs-string">'0dp'</span>,
            top: <span class="hljs-string">'0dp'</span>
        });

        var fonctionLabel = Ti.UI.createLabel({
            <span class="hljs-built_in">text</span>: data[i].fonction,
            <span class="hljs-built_in">color</span>: <span class="hljs-string">'#4D4D4D'</span>,
            font:{fontSize: <span class="hljs-string">'15dp'</span>, fontFamily:<span class="hljs-string">'Helvetica'</span>},
            <span class="hljs-variable">height</span>: <span class="hljs-string">'20dp'</span>,
            left: <span class="hljs-string">'0dp'</span>,
            top: <span class="hljs-string">'20dp'</span>
        });

        containerTop.<span class="hljs-built_in">add</span>(titreOffre);
        containerTop.<span class="hljs-built_in">add</span>(fonctionLabel);

        var containerBottom = Ti.UI.createView({
            <span class="hljs-variable">width</span>: <span class="hljs-string">'95%'</span>,
            <span class="hljs-variable">height</span>: <span class="hljs-string">'20dp'</span>,
            layout: <span class="hljs-string">'horizontal'</span>,
            left: <span class="hljs-string">'15dp'</span>,
            bottom: <span class="hljs-string">'5dp'</span>
        });

        var icnIndust = Ti.UI.createView({
            <span class="hljs-variable">height</span>: <span class="hljs-string">'12dp'</span>,
            <span class="hljs-variable">width</span>: <span class="hljs-string">'12dp'</span>,
            top: <span class="hljs-string">'0dp'</span>,
            left: <span class="hljs-string">'0dp'</span>,
            backgroundImage: <span class="hljs-string">'/images/icnsSecteur.png'</span>
        });

        var secteurNameLabel = Ti.UI.createLabel({
            <span class="hljs-built_in">text</span>: data[i].secteur,
            <span class="hljs-built_in">color</span>: <span class="hljs-string">'#808080'</span>,
            font:{fontSize: <span class="hljs-string">'11dp'</span>, fontFamily:<span class="hljs-string">'Helvetica'</span>},
            <span class="hljs-variable">height</span>: <span class="hljs-string">'12dp'</span>,
            left: <span class="hljs-string">'3dp'</span>,
            top: <span class="hljs-string">'0dp'</span>
        });

        var icnLieu = Ti.UI.createView({
            <span class="hljs-variable">height</span>: <span class="hljs-string">'12dp'</span>,
            <span class="hljs-variable">width</span>: <span class="hljs-string">'12dp'</span>,
            top: <span class="hljs-string">'0dp'</span>,
            left: <span class="hljs-string">'15dp'</span>,
            backgroundImage: <span class="hljs-string">'/images/icnsLocation.png'</span>
        });

        var villeNameLabel = Ti.UI.createLabel({
            <span class="hljs-built_in">text</span>: data[i].ville,
            <span class="hljs-built_in">color</span>: <span class="hljs-string">'#808080'</span>,
            font:{fontSize: <span class="hljs-string">'11dp'</span>, fontFamily:<span class="hljs-string">'Helvetica'</span>},
            <span class="hljs-variable">height</span>: <span class="hljs-string">'12dp'</span>,
            left: <span class="hljs-string">'3dp'</span>,
            top: <span class="hljs-string">'0dp'</span>
        });

        containerBottom.<span class="hljs-built_in">add</span>(icnIndust);
        containerBottom.<span class="hljs-built_in">add</span>(secteurNameLabel);

        containerBottom.<span class="hljs-built_in">add</span>(icnLieu);
        containerBottom.<span class="hljs-built_in">add</span>(villeNameLabel);

        <span class="hljs-keyword">if</span>(data[i].is_favoris == <span class="hljs-number">1</span>)
        {
            var isFav = Ti.UI.createView({
                <span class="hljs-variable">height</span>: <span class="hljs-string">'30%'</span>,
                <span class="hljs-variable">width</span>: <span class="hljs-string">'9%'</span>,
                top: <span class="hljs-string">'0dp'</span>,
                right: <span class="hljs-string">'8dp'</span>,
                backgroundImage: <span class="hljs-string">'/images/fav.png'</span>
            });

            offre.<span class="hljs-built_in">add</span>(isFav);    
        }  

        offre.<span class="hljs-built_in">add</span>(containerTop);
        offre.<span class="hljs-built_in">add</span>(containerBottom);

        rows.push(offre);
    }
</code></pre><p>thanks</p>
</div>
							<div class="author">
								&mdash; commented <span title="March 18th 2013, 7:30:23 am">March 18th 2013</span>
								by <span class='authorname'>Djamel ZAHAL</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Well, without any code, there is little anyone can do here to really understand what your issue might be. You say <em>&quot;It works, but very late</em> (I&#39;m not sure I understand what that means) Do you mean that it&#39;s slow?</p>
<p>As for your info messages, these are generated by the Fastdev server. (the feature that reloads the js files on Android without having to deploy the entire applications) So this log message is normal and you shouldn&#39;t concern yourself with those.</p>
</div>
							<div class="author">
								&mdash; commented <span title="March 18th 2013, 7:30:34 am">March 18th 2013</span>
								by <span class='authorname'>Christian Brousseau</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Yes the app is slow on simulator or in the phone…</p>
<p>fastdev runs locally or a remote server ?</p>
<p>you have the code for the tableView rows problem..</p>
<p>thanks</p>
</div>
							<div class="author">
								&mdash; commented <span title="March 18th 2013, 7:33:44 am">March 18th 2013</span>
								by <span class='authorname'>Djamel ZAHAL</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>3</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>3 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-258810">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>You don&#39;t need to understand how the Fastdev server works (it just does, that&#39;s what&#39;s important). But if you really are interested in learning how it works, <a href="http:&#x2F;&#x2F;docs.appcelerator.com&#x2F;titanium&#x2F;latest&#x2F;#!&#x2F;guide&#x2F;Fastdev_Reference_for_Android">here is the doc</a>.</p>
<p>Also, keep in mind that performance on Android (especially with custom table view rows) will always be slower that on iOS. Looking at your code, the very first thing you could change to improve performance would be to use the <strong><a href="http:&#x2F;&#x2F;docs.appcelerator.com&#x2F;titanium&#x2F;latest&#x2F;#!&#x2F;api&#x2F;Titanium.UI.TableViewRow-property-className">className</a></strong> property. Simply put, it will reuse the layout for all the rows that share the same appearance. (not the content, but the look and feel itself)</p>
<p>####So your code could look like this:</p>
<pre><code class="hljs">var offre = Ti.UI.createTableViewRow({
    <span class="hljs-variable">height</span>: <span class="hljs-string">'79dp'</span>, 
    <span class="hljs-variable">width</span>: <span class="hljs-variable">width</span>,
    backgroundImage: <span class="hljs-string">'/images/listItem.png'</span>,
    backgroundSelectedImage: <span class="hljs-string">'/images/listItemOver.png'</span>,
    index: i,
    hasChild: <span class="hljs-keyword">false</span>,
    className: <span class="hljs-string">'offreRow'</span>
});
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="March 18th 2013, 8:19:46 am">March 18th 2013</span>
								by <span class='authorname'>Christian Brousseau</span><br>
								<a class="icon-bg icon-link" href="question/149694/application-from-iphone-to-android#answer-258810" rel="permalink">permalink</a>
							</div>

							<h5>4 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Another interesting aspect from your code is that fonts should be sized using <code>sp</code> and not <code>dp</code>.</p>
<p>You may need to lower the number once you changed the unit though.</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 18th 2013, 8:21:54 am">March 18th 2013</span>
											by <span class='authorname'>Christian Brousseau</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Ok, for classname. i have just to write it in the row ? </p>
<p>what is sp ?<br>can it cause the problem ?</p>
<p>thanks</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 18th 2013, 8:50:56 am">March 18th 2013</span>
											by <span class='authorname'>Djamel ZAHAL</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Just copy the gave I gave you and you should do fine. (don&#39;t expect a miracle though)</p>
<p><code>sp</code> is like <code>dp</code> for fonts.</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 18th 2013, 9:12:02 am">March 18th 2013</span>
											by <span class='authorname'>Christian Brousseau</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>for classename…it is a miracle…much more faster !!!!!!</p>
<p>thanks :)</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 18th 2013, 11:15:34 am">March 18th 2013</span>
											by <span class='authorname'>Djamel ZAHAL</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-258806">
				
						<section>
							<p>hi,</p>
<p>i think you are using className property for row object that is why it reuses row so try to remove that property and try again.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="March 18th 2013, 7:20:00 am">March 18th 2013</span>
								by <span class='authorname'>Mitul Bhalia</span><br>
								<a class="icon-bg icon-link" href="question/149694/application-from-iphone-to-android#answer-258806" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>what is className ?</p>
<p>thanks</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 18th 2013, 7:23:22 am">March 18th 2013</span>
											by <span class='authorname'>Djamel ZAHAL</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-258808">
				
						<section>
							<p>Comparing to iphone android device is bit slow, so this issue will come, performance also depend on number of rows you are displaying on screen at a time, if number of rows increases then load time of table also increases. Also to see the actual performance just try to test build on android device, not on simulator.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="March 18th 2013, 7:44:03 am">March 18th 2013</span>
								by <span class='authorname'>Moiz Chhatriwala</span><br>
								<a class="icon-bg icon-link" href="question/149694/application-from-iphone-to-android#answer-258808" rel="permalink">permalink</a>
							</div>

							<h5>3 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>it is too slow on the phone :( on samsung galaxy s2.</p>
<p>any help for disappearance of views and labels in row ?</p>
<p>thanks</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 18th 2013, 7:47:34 am">March 18th 2013</span>
											by <span class='authorname'>Djamel ZAHAL</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Is it taking time in loading or, its not displaying on the either on device. also let us know how many rows are been displayed on table .</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 18th 2013, 7:49:36 am">March 18th 2013</span>
											by <span class='authorname'>Moiz Chhatriwala</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>i just tested..</p>
<p>i displayed only 5 rows… and the rows are empty…</p>
<p>sometimes it works, sometime no….</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 18th 2013, 7:52:03 am">March 18th 2013</span>
											by <span class='authorname'>Djamel ZAHAL</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
