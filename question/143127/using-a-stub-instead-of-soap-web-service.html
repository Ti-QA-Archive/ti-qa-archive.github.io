<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Using a stub instead of soap web service » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Using a stub instead of soap web service</h1>
		</header>
		<section>
			<p>Hi All</p>
<p>I have successfully consumed a soap web service in Titanium.<br>Now I want to use a stub instead of a real web service.<br>I have tested in tool like soap-ui, the stub url link and its giving the response.</p>
<p>Now when the same url I am using as my end point , its giving me connection refused error.</p>
<p>(TiHttpClient-1) [667,2417] HTTP Error (org.apache.http.conn.HttpHostConnectException): Connection to http:&#x2F;&#x2F;localhost:9090 refused<br>[ERROR][TiHttpClient(  357)] org.apache.http.conn.HttpHostConnectException: Connection to http:&#x2F;&#x2F;localhost:9090 refused</p>
<p>I got no clue.<br>Can anyone suggest how to fix it?<br>Tnks in advance.</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="October 5th 2012, 9:22:25 am">October 5th 2012</span>
				by <span class='authorname'>Sangram Jethy</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>soap</span></li>
					
						<li><span class='tagname'>stub</span></li>
					
						<li><span class='tagname'>web service</span></li>
					
				</ul>
			

			<section>
				<h5>2 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Are you running your application on an emulator or a device?</p>
</div>
							<div class="author">
								&mdash; commented <span title="October 5th 2012, 9:31:54 am">October 5th 2012</span>
								by <span class='authorname'>Christian Brousseau</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>hi Christian I am running it in android  emulator….</p>
</div>
							<div class="author">
								&mdash; commented <span title="October 5th 2012, 9:33:27 am">October 5th 2012</span>
								by <span class='authorname'>Sangram Jethy</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>-1</span> Votes</div>
			<div class="answers"><span>5</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>5 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-248703">
				
						<section>
							<p>Make sure that your Emulator can <strong>reach</strong> your http server.</p>
<p>The best way to test that is simply by using the Emulator&#39;s default web browser. </p>
<p>But your problem lies in the url itself. (localhost is the ip of your desktop machine, not de device&#39;s ip)</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="October 5th 2012, 10:06:36 am">October 5th 2012</span>
								by <span class='authorname'>Christian Brousseau</span><br>
								<a class="icon-bg icon-link" href="question/143127/using-a-stub-instead-of-soap-web-service#answer-248703" rel="permalink">permalink</a>
							</div>

							<h5>3 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Hi Christian<br>Tnks for yr quick response.<br>The other soap service that I used was on a LAN which I was accessing using local ip.<br>Nw the stub is deployed in jboss in my system.</p>
<p>Will the same appoach as in consuming soap web service will work?<br>In stub approach we actually dont need a request  envelop to create.<br>Response is just independent of request envelop.<br>So in a way wen u access the url it gives us a xml response from where need  to fetch the required fieled…</p>
<p>Tnks</p>
</p>
										<div class="author">
											&mdash; commented <span title="October 5th 2012, 10:46:29 am">October 5th 2012</span>
											by <span class='authorname'>Sangram Jethy</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>As I mentioned, as long as both the device and your server (wherever it may be) are on the same network, it will work fine.</p>
<p>But you cannon use <code>localhost</code> in your url, simply because for the Android emulator, localhost <strong>IS</strong> the emulator.  So you will have to use your server&#39;s IP address.</p>
<p>This is a no brainer network issue that you can easily test using just a browser and a dummy html page. If you can get the html page to display on the emulator&#39;s web browser, you can be sure that your WebService will work.</p>
</p>
										<div class="author">
											&mdash; commented <span title="October 5th 2012, 10:59:05 am">October 5th 2012</span>
											by <span class='authorname'>Christian Brousseau</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Hi yes after giving the machine ip its nt giving that errror any more….but its unable to print the response or fetch the desired value..<br>Tnsk agin for yr help..</p>
</p>
										<div class="author">
											&mdash; commented <span title="October 5th 2012, 11:22:48 am">October 5th 2012</span>
											by <span class='authorname'>Sangram Jethy</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-248707">
				
						<section>
							<p>Hi Sangram,</p>
<p>If you can then better try running this code on iPhone simulator as it picks localhost.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="October 5th 2012, 10:35:16 am">October 5th 2012</span>
								by <span class='authorname'>Perminder Singh Bhatia</span><br>
								<a class="icon-bg icon-link" href="question/143127/using-a-stub-instead-of-soap-web-service#answer-248707" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Hi Perminder</p>
<p>I hav already tried a similar service in android emulator with the only difference that i was using a web service hosted on a machine on LAN…It was successful<br>This time I am accessing the stub link hosted on my local machine….</p>
</p>
										<div class="author">
											&mdash; commented <span title="October 5th 2012, 10:49:18 am">October 5th 2012</span>
											by <span class='authorname'>Sangram Jethy</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-248803">
				
						<section>
							<p>Hi All </p>
<p>This is again to draw your attention.</p>
<p>As in the case of a soap web service consumption, the request xml has to be constructed  as per the wsdl specification and the required response field can be fetched by using the corresponding xml tag name.</p>
<p>As in my case I am using a stub. So wen I enter the url in the browser, its gives me the entire xml response.</p>
<p>So in my titanium code, I am giving the desired end point. And the request header and the request body can be any thing since its a stub. I hav tested the same in soap-UI. So here only using the correct end point is giving me the desired response independent of the request xml structure.</p>
<p>xhr.open(&#39;POST&#39;,config.endpoint);</p>
<p>xhr.setRequestHeader(&#39;Content-Type&#39;, &#39;text&#x2F;xml&#39;);</p>
<p>xhr.setRequestHeader(&#39;SOAPAction&#39;, soapAction);</p>
<p>xhr.send(config.envelopeBegin+body+config.envelopeEnd); </p>
<p>But my codes inside the<br>xhr.onload = function() {</p>
<pre><code class="hljs">Ti.API.info(<span class="hljs-string">'inside sud.onload().............................'</span>);

_callback.<span class="hljs-keyword">call</span>(<span class="hljs-keyword">this</span>, xmlDomFromString(<span class="hljs-keyword">this</span>.responseText));

Ti.API.info(<span class="hljs-string">'Original response -------&gt;  '</span> + <span class="hljs-keyword">this</span>.responseText);
</code></pre><p>};</p>
<p>are not called. Hence I am unable to retrive the desired result from the response.The above is a sample web service code from kithen sink application.</p>
<p>I suspect the  calling web service stub does not return any response for which the onload() method is nt called.Then can any one suggest what should be my request structure(header and body). Or how to consume the service using a stub.</p>
<p>Tnks in advance.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="October 8th 2012, 4:26:17 am">October 8th 2012</span>
								by <span class='authorname'>Sangram Jethy</span><br>
								<a class="icon-bg icon-link" href="question/143127/using-a-stub-instead-of-soap-web-service#answer-248803" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-248868">
				
						<section>
							<p>Hi All </p>
<p>Sorry for drawing your attention again….</p>
<p>Its bit of high priority since I am struck in dat and I hav to deliver it…</p>
<p>Any quick suggestion will be  highly appreciated……Looking forward for your help….</p>
<p>Tnks in advance</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="October 9th 2012, 3:05:34 am">October 9th 2012</span>
								by <span class='authorname'>Sangram Jethy</span><br>
								<a class="icon-bg icon-link" href="question/143127/using-a-stub-instead-of-soap-web-service#answer-248868" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-281964">
				
						<section>
							<p>For Windows - Get your machine IP from ipconfig<br>If your URL is - </p>
<pre><code class="hljs"><span class="hljs-string">http:</span><span class="hljs-comment">//localhost:80/Hello/service</span>
</code></pre><p>new url will be - </p>
<pre><code class="hljs"><span class="hljs-string">http:</span><span class="hljs-comment">//MachineIP:80/Hello/service.</span>
</code></pre><p>First paste this new URL in emulator and test the result.</p>
<p>If successful, you can use it in your Titanium code.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 27th 2014, 5:40:27 am">August 27th 2014</span>
								by <span class='authorname'>Pratod Jawale</span><br>
								<a class="icon-bg icon-link" href="question/143127/using-a-stub-instead-of-soap-web-service#answer-281964" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
