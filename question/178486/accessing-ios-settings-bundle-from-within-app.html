<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Accessing iOS Settings Bundle From Within App » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Accessing iOS Settings Bundle From Within App</h1>
		</header>
		<section>
			<p>I have tried various others posts on this subject, but to no avail.</p>
<p>I have successfully created a Settings.bundle and added it to Resources&#x2F;iphone. I can access the preferences within the iOS Settings application, but I cannot access the settings from within my app.</p>
<p>I am trying to access a preference using: Ti.App.Properties.getString(&#39;my_field&#39;)  but it just returns a null value.</p>
<p>Please help!</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="October 16th 2014, 1:01:25 pm">October 16th 2014</span>
				by <span class='authorname'>Ian Taylor</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>preferences</span></li>
					
						<li><span class='tagname'>properties</span></li>
					
						<li><span class='tagname'>settings bundle</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-283163">
				
						<section>
							<p>Hi Ian,</p>
<p>you gave no information about your environment (Studio version SDK ?, iOS version) and your code. So the only thing i can do is to give you a quick working example.</p>
<p>So these are my setting:</p>
<ul>
<li>OS X 10.9.5</li>
<li>Titanium Studio 3.4.0 GA (build: 3.4.0.201409261227)</li>
<li>Titanium SDK 3.4.0.GA</li>
<li>Test device iPhone 6 with iOS 8.0.2</li>
</ul>
<p>This is a working way to test accessing the iOS Settings integration:</p>
<ul>
<li>open the documentation page <a href="http:&#x2F;&#x2F;docs.appcelerator.com&#x2F;titanium&#x2F;latest&#x2F;#!&#x2F;guide&#x2F;iOS_UI_Components_and_Conventions-section-29004928_iOSUIComponentsandConventions">iOS UI Components and Conventions &#x2F; Settings integration</a> and read from <strong>Settings integration</strong> to the bottom of the page. (Note: <strong>If you&#39;re running SDK 1.8+</strong>)</li>
<li>at the bottom of the page from <strong>References and Further Reading</strong> download <a href="http:&#x2F;&#x2F;assets.appcelerator.com.s3.amazonaws.com&#x2F;app_u&#x2F;ebook&#x2F;AppSettings.zip">Finished code</a></li>
<li>expand the AppSettings.zip archive to a new temp folder</li>
<li>copy the folder AppSettings into the Titanium Studio Workspace folder</li>
<li>From Studio main menu: File =&gt; Import… =&gt; Import Dialog (General - Existing Projects into Workspace), do the necessary steps here to finish import.</li>
<li>In Studio open the tiapp.xml to check for Titanium SDK 3.4.0.GA, or your current SDK and save the changes.</li>
<li>In Studio App Explorer move the Folder AppSettings&#x2F;modules&#x2F;iphone&#x2F;<strong>Settings.bundle</strong> to AppSettings&#x2F;Resources&#x2F;iphone</li>
<li>Run the App on iPhone</li>
<li>on first start it displays &quot;Set Name in Settings&quot;</li>
<li>press home button once, press home button twice and end the App AppSettings</li>
<li>open iPhone settings App, scroll down to AppSettings and touch</li>
<li>change the value for &quot;Name&quot;</li>
<li>press home button and start App AppSettings again</li>
<li>now the new value should be displayed.</li>
<li><strong>here we go to add a new String:</strong> </li>
<li>In Titanium Studio App Explorer navigate to Resources&#x2F;iphone&#x2F;Settings.bundle&#x2F;Root.plist and double click it</li>
<li>a new Xcode plist editor opens</li>
<li>expand Preferences Items and Item 1 (Text Field - Name) to just watch the settings here</li>
<li>right click on the last item and select <strong>Add Row</strong> from the menu, select <strong>Text Field</strong></li>
<li>expand the new item and give it some title value</li>
<li>for Identifier fill in <strong>my_field</strong></li>
<li>close the editor and save changes</li>
<li>open app.js and copy and paste the code for creating label1 and win1.add(label1);</li>
<li>change all pasted label1 to label2 and getString(&#39;name_preference&#39; to getString(&#39;<strong>my_field</strong>&#39;</li>
<li>(add a top property for nice positioning if you want)</li>
<li>save app.js and redeploy the app</li>
<li>start the app and follow steps above for changing and displaying the value of <strong>my_field</strong> </li>
</ul>
<p>Hope that helps.</p>
<p>Greetings,</p>
<p>Matthias</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="October 17th 2014, 7:39:47 am">October 17th 2014</span>
								by <span class='authorname'>Matthias Kroeger</span><br>
								<a class="icon-bg icon-link" href="question/178486/accessing-ios-settings-bundle-from-within-app#answer-283163" rel="permalink">permalink</a>
							</div>

							<h5>7 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Matthias</p>
<p>Thank you for taking so much time to give a detailed response, and sorry for not giving the details of my environment. I am running: OSX 10.9.4, iOS 8.0, SDK 3.4.0, Studio 3.4.0</p>
<p>I have followed your instructions to where I need to change the value of the Name preference in Settings. When I do this, the new value disappears next time I go into Settings.</p>
<p>I also added this line to app.js</p>
<pre><code class="hljs">alert<span class="hljs-list">(<span class="hljs-keyword">Ti</span>.App.Properties.getBool<span class="hljs-list">(<span class="hljs-quoted">'enabled_preference</span>')</span>)</span><span class="hljs-comment">;</span>
</code></pre><p>Which just returns a null value.</p>
<p>Ian</p>
</p>
										<div class="author">
											&mdash; commented <span title="October 17th 2014, 8:26:17 am">October 17th 2014</span>
											by <span class='authorname'>Ian Taylor</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Ok thats strange and obviously a known bug with Xcode 6 and its iOS Simulator <a href="http:&#x2F;&#x2F;stackoverflow.com&#x2F;questions&#x2F;25933158&#x2F;xcode-6-ios-simulator-does-not-remember-app-settings">Xcode 6 iOS Simulator does not remember app settings</a></p>
<p>I use Xcode Version 6.0.1 (6A317) and iOS Simulator Version 8.0 (550.1)</p>
<p>If i deploy to iPhone 6 Simulator then App settings are <strong>not</strong> remembered according to this bug.</p>
<p>If i deploy to iPhone 6 device everything is working as expected.</p>
<p>Greetings,</p>
<p>Matthias</p>
</p>
										<div class="author">
											&mdash; commented <span title="October 17th 2014, 9:01:26 am">October 17th 2014</span>
											by <span class='authorname'>Matthias Kroeger</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Are you deploying to simulator or device?</p>
</p>
										<div class="author">
											&mdash; commented <span title="October 17th 2014, 9:02:26 am">October 17th 2014</span>
											by <span class='authorname'>Matthias Kroeger</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I&#39;ve tried deploying to both a device and simulator. Even if I set a default value to name_preference I still get a null value in the app.</p>
</p>
										<div class="author">
											&mdash; commented <span title="October 17th 2014, 10:13:23 am">October 17th 2014</span>
											by <span class='authorname'>Ian Taylor</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Lets give it a new try.</p>
<p>In Titanium Studio App Explorer for the App <strong>AppSettings</strong> check if there are the folders AppSettings&#x2F;<strong>platform&#x2F;iphone</strong></p>
<p>If these folder are not there, create them.</p>
<p>Move AppSettings&#x2F;Resources&#x2F;iphone&#x2F;<strong>Settings.bundle</strong> to AppSettings&#x2F;platform&#x2F;iphone</p>
<p>Uninstall the App AppSettings from your device</p>
<p>In Studio clean the Project.</p>
<p>Deploy the App to your device and check again.</p>
</p>
										<div class="author">
											&mdash; commented <span title="October 17th 2014, 10:57:59 am">October 17th 2014</span>
											by <span class='authorname'>Matthias Kroeger</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Same thing I&#39;m afraid. I tried setting a default value again and I can see that fine in the Settings app, but I just get null values in AppSettings.</p>
</p>
										<div class="author">
											&mdash; commented <span title="October 17th 2014, 11:20:01 am">October 17th 2014</span>
											by <span class='authorname'>Ian Taylor</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Ok testing with default values i am in the same boat now. It don&#39;t work on my device with string key&#x2F;values.</p>
<p>I don&#39;t know if it is a bug or a feature, but if i use a boolean default key&#x2F;value it is not working if i start the App the first time.</p>
<p>If i kill the App then and open the native settings App, go to AppSettings once, start the App AppSettings again it works with my boolean key.</p>
<p>Thats very confusing!</p>
<p>I found some open ticket in Jira which describes this problem also. <a href="https:&#x2F;&#x2F;jira.appcelerator.org&#x2F;browse&#x2F;TIMOB-13481">iOS: Default values in the Root.plist file are not available on first install.</a>.</p>
<p>You can comment on this ticket and start watching it, so maybe this will be fixed more soon.</p>
<p>Also i found a post on stackoverflow discussing this problem <a href="http:&#x2F;&#x2F;stackoverflow.com&#x2F;questions&#x2F;9181544&#x2F;setting-bundle-default-value-wont-set">Setting bundle default value won&#39;t set</a></p>
<p>Maybe a workaround is to set the value on first run programatically.</p>
<p>I think this is all i can do for now, sorry.</p>
<p>Greetings,</p>
<p>Matthias</p>
</p>
										<div class="author">
											&mdash; commented <span title="October 17th 2014, 1:10:13 pm">October 17th 2014</span>
											by <span class='authorname'>Matthias Kroeger</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
