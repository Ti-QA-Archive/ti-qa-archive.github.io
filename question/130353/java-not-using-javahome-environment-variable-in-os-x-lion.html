<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Java not using JAVA_HOME environment variable in OS X Lion » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Java not using JAVA_HOME environment variable in OS X Lion</h1>
		</header>
		<section>
			<p>Hi:</p>
<p>When Ti Studio calls the AndroidSDKLocator during configuration&#x2F;setup, it fails because it (seemingly) fails to execute the jar. I&#39;m on OS X Lion, and I&#39;ve set $JAVA_HOME as instructed for this platform. Java runs fine from the command line, but the Mobile SDK fails when looking for Java at &#x2F;usr&#x2F;bin&#x2F;java&#x2F;bin&#x2F;java, which looks like some bad concatenation of where previous OS X releases would expect to find Java.</p>
<p>I&#39;ve looked everywhere in Eclipse&#x2F;Ti Studio for someplace where $JAVA_HOME might be being overwritten, but I can&#39;t find anything.</p>
<p>Here&#39;s where Ti is failing:</p>
<pre><code class="hljs">!ENTRY com<span class="hljs-class">.appcelerator</span><span class="hljs-class">.titanium</span><span class="hljs-class">.mobile</span> <span class="hljs-number">4</span> <span class="hljs-number">0</span> <span class="hljs-number">2012</span>-<span class="hljs-number">01</span>-<span class="hljs-number">06</span> <span class="hljs-number">21</span>:<span class="hljs-number">08</span>:<span class="hljs-number">17.442</span>
!MESSAGE (Build <span class="hljs-number">1.0</span>.<span class="hljs-number">0.1325025218</span>) [ERROR]  [ERROR] Unable to locate an executable at <span class="hljs-string">"/usr/bin/java/bin/java"</span> (-<span class="hljs-number">1</span>)
[ERROR] Unable to locate an executable at <span class="hljs-string">"/usr/bin/java/bin/java"</span> (-<span class="hljs-number">1</span>)
[ERROR] Unable to locate an executable at <span class="hljs-string">"/usr/bin/java/bin/java"</span> (-<span class="hljs-number">1</span>)
Traceback (most recent call last):
  File <span class="hljs-string">"/Library/Application Support/Titanium/mobilesdk/osx/1.8.0.1/android/avd.py"</span>, line <span class="hljs-number">45</span>, <span class="hljs-keyword">in</span> &lt;module&gt;
    print <span class="hljs-function"><span class="hljs-title">get_avds</span><span class="hljs-params">(sdk)</span></span>
  File <span class="hljs-string">"/Library/Application Support/Titanium/mobilesdk/osx/1.8.0.1/android/avd.py"</span>, line <span class="hljs-number">21</span>, <span class="hljs-keyword">in</span> get_avds
    <span class="hljs-keyword">for</span> line <span class="hljs-keyword">in</span> run.<span class="hljs-function"><span class="hljs-title">run</span><span class="hljs-params">([sdk.get_android()</span></span>,<span class="hljs-string">'list'</span>,<span class="hljs-string">'target'</span>],debug=False).<span class="hljs-function"><span class="hljs-title">split</span><span class="hljs-params">(<span class="hljs-string">"\n"</span>)</span></span>:
AttributeError: <span class="hljs-string">'NoneType'</span> <span class="hljs-tag">object</span> has no attribute <span class="hljs-string">'split'</span>
!STACK <span class="hljs-number">0</span>
Unexpected character (E) at <span class="hljs-attribute">position</span> <span class="hljs-number">1</span>.
    at org<span class="hljs-class">.json</span><span class="hljs-class">.simple</span><span class="hljs-class">.parser</span><span class="hljs-class">.Yylex</span><span class="hljs-class">.yylex</span>(Unknown Source)
    at org<span class="hljs-class">.json</span><span class="hljs-class">.simple</span><span class="hljs-class">.parser</span><span class="hljs-class">.JSONParser</span><span class="hljs-class">.nextToken</span>(Unknown Source)
</code></pre><p>And here&#39;s a listing of some key system details:</p>
<pre><code class="hljs">$ uname -a
Darwin mbp17i7.local <span class="hljs-number">11.2</span><span class="hljs-number">.0</span> Darwin Kernel Version <span class="hljs-number">11.2</span><span class="hljs-number">.0</span>: Tue Aug  <span class="hljs-number">9</span> <span class="hljs-number">20</span>:<span class="hljs-number">54</span>:<span class="hljs-number">00</span> PDT <span class="hljs-number">2011</span>; <span class="hljs-string">root:</span>xnu-<span class="hljs-number">1699.24</span><span class="hljs-number">.8</span>~<span class="hljs-number">1</span>/RELEASE_X86_64 x86_64

$ echo <span class="hljs-string">"$PATH"</span>
<span class="hljs-regexp">/opt/</span>local<span class="hljs-regexp">/bin:/</span>opt<span class="hljs-regexp">/local/</span><span class="hljs-string">sbin:</span><span class="hljs-regexp">/usr/</span>libexec<span class="hljs-regexp">/java_home:/</span>usr<span class="hljs-regexp">/bin:/</span><span class="hljs-string">bin:</span><span class="hljs-regexp">/usr/</span><span class="hljs-string">sbin:</span><span class="hljs-regexp">/sbin:/</span>usr<span class="hljs-regexp">/local/</span><span class="hljs-string">bin:</span><span class="hljs-regexp">/usr/</span>X11<span class="hljs-regexp">/bin:/</span>Applications<span class="hljs-regexp">/MAMP/</span>Library<span class="hljs-regexp">/bin/</span>

$ echo <span class="hljs-string">"$JAVA_HOME"</span>
<span class="hljs-regexp">/System/</span>Library<span class="hljs-regexp">/Java/</span>JavaVirtualMachines<span class="hljs-regexp">/1.6.0.jdk/</span>Contents/Home

$ java -version
java version <span class="hljs-string">"1.6.0_29"</span>
Java(TM) SE Runtime Environment (build <span class="hljs-number">1.6</span><span class="hljs-number">.0</span>_29-b11-<span class="hljs-number">402</span>-<span class="hljs-number">11</span>M3527)
Java HotSpot(TM) <span class="hljs-number">64</span>-Bit Server VM (build <span class="hljs-number">20.4</span>-b02-<span class="hljs-number">402</span>, mixed mode)

$ javac -version
javac <span class="hljs-number">1.6</span><span class="hljs-number">.0</span>_29

$ python -V
Python <span class="hljs-number">2.7</span><span class="hljs-number">.1</span>
</code></pre>
		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="January 7th 2012, 5:29:32 am">January 7th 2012</span>
				by <span class='authorname'>Rob Goodyear</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>java</span></li>
					
						<li><span class='tagname'>java_home</span></li>
					
						<li><span class='tagname'>locate</span></li>
					
						<li><span class='tagname'>mobile</span></li>
					
				</ul>
			

			<section>
				<h5>2 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>I can&#39;t comment on the guidelines, but does it work without having that variable defined?  My system has never had it defined and I have no problem building android apps or modules.  As a point of reference, I&#39;m in snow leopard, running the same version of java, but it is symlinked in &#x2F;usr&#x2F;bin to &#x2F;System&#x2F;Library&#x2F;Frameworks&#x2F;JavaVM.framework&#x2F;Versions&#x2F;Current&#x2F;Commands&#x2F;java.<br>Good luck!</p>
</div>
							<div class="author">
								&mdash; commented <span title="January 7th 2012, 10:15:40 am">January 7th 2012</span>
								by <span class='authorname'>Eric Z</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>You shouldn&#39;t need to define JAVA_HOME at all for this to work. Can you try the steps <a href="https:&#x2F;&#x2F;wiki.appcelerator.org&#x2F;display&#x2F;tis&#x2F;Errors+Building+Titanium+Projects#ErrorsBuildingTitaniumProjects-Builderrorinconsoleoutput">here</a> to write out the command line it is using? Does it give the same error if you type the same on the external command line? What if you instead try running it against SDK 1.7.5 (by replacing that version # in the command line)?</p>
</div>
							<div class="author">
								&mdash; commented <span title="January 7th 2012, 4:46:08 pm">January 7th 2012</span>
								by <span class='authorname'>Ingo Muschenetz</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>0</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>0 Answers</h3>

	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
