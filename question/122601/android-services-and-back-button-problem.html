<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Android services and back button problem » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Android services and back button problem</h1>
		</header>
		<section>
			<p>Hi,</p>
<p>I&#39;m developping an App in Android that runs a counter as a background service and when the counting ends, it calls some functions and stops the service.</p>
<p>When I&#39;m running this app in my phone (or emulator) and I hit the menu button, it works well. When the counting ends, the background service stops even if I&#39;m using other apps and when I run my app again, it&#39;s in the state it&#39;s ought to be. But, if I hit the back button from the main window, it shows the menu but when the counting ends, the service doesn&#39;t stops and if I open the app again, it shows an error due to undefined variables and methods. So, it seems that hitting the menu inside the app and pressing back button is not the same. What exactly does back button? If it closes the app (or at least part of it), how could I stop the service too?</p>
<p>I&#39;m not sure if I have explained it very well but… any help will be appreciated ;)</p>
<p>Thanks!</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="July 15th 2011, 6:00:47 am">July 15th 2011</span>
				by <span class='authorname'>Aleix Casagolda</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>mobile</span></li>
					
						<li><span class='tagname'>services</span></li>
					
				</ul>
			

			<section>
				<h5>1 Comment</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>A code sample that the community can copy and paste into an example app would go a long way. Sometimes when you can&#39;t explain you problem very well, your code can fill in the blanks.</p>
</div>
							<div class="author">
								&mdash; commented <span title="July 15th 2011, 11:30:52 am">July 15th 2011</span>
								by <span class='authorname'>Anthony Decena</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-213219">
				
						<section>
							<p>By &quot;menu button&quot; do you mean the home button? Android devices have four buttons: back, home, menu, and search (well, camera, volume, etc. too). The menu button displays an on-screen menu, typically used for app options and preferences. The home button returns you to the launcher screen.</p>
<p>Tapping the home button puts your app into the background. It&#39;s still running (similar to a minimized state in a desktop OS). Tapping the back button on the top activity in your app returns you to the home screen and marks your app as ready to be shut down. In essence, it closes your app. Resources can be freed at that point for other apps.</p>
<p>Take a bit and read about the <a href="http:&#x2F;&#x2F;developer.android.com&#x2F;guide&#x2F;topics&#x2F;fundamentals&#x2F;activities.html#Lifecycle">Android lifecycle</a>. You can watch for those lifecycle events within Titanium. Check out the Kitchen Sink geolocation example code..it has some lifecycle event monitoring.</p>
<p>It sounds like your background service is being stopped when you&#39;re not expecting it to be. And as Anthony wisely points out, posting code will help us give something more than just general answers.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="July 15th 2011, 11:41:44 am">July 15th 2011</span>
								by <span class='authorname'>Tim Poulsen</span><br>
								<a class="icon-bg icon-link" href="question/122601/android-services-and-back-button-problem.html#answer-213219" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
