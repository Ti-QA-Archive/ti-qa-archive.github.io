<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Media not playing in GoogleTV Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Media not playing in GoogleTV</h1>
		</header>
		<section>
			<p>Hi,</p>
<p>i am trying to build an app for Google TV (android app), i tried to play an mp4 file using sample app from kitchen sink (sound_remote_url.js)</p>
<p>The problem is when tried to play in using simulator its playing fine, but when installed in a google tv, the app is opening but the file is not playing.</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> win = Titanium.UI.currentWindow;

<span class="hljs-keyword">var</span> url = <span class="hljs-string">"http://ia700807.us.archive.org/26/items/SampleM4a/sam.m4a"</span>;

<span class="hljs-comment">// load from remote url</span>
<span class="hljs-keyword">var</span> sound= Titanium.Media.createSound({url:url,preload:<span class="hljs-literal">true</span>});

<span class="hljs-comment">//</span>
<span class="hljs-comment">// PLAY</span>
<span class="hljs-comment">//</span>
<span class="hljs-keyword">var</span> play = Titanium.UI.createButton({
    title:<span class="hljs-string">'Play wav'</span>,
    height:<span class="hljs-number">40</span>,
    width:<span class="hljs-number">145</span>,
    left:<span class="hljs-number">10</span>,
    top:<span class="hljs-number">10</span>
});
<span class="hljs-keyword">var</span> play2 = Titanium.UI.createButton({
    title:<span class="hljs-string">'Play mp3'</span>,
    height:<span class="hljs-number">40</span>,
    width:<span class="hljs-number">145</span>,
    left:<span class="hljs-number">370</span>,
    top:<span class="hljs-number">10</span>
});

<span class="hljs-keyword">var</span> play1 = Titanium.UI.createButton({
    title:<span class="hljs-string">'Play mp4'</span>,
    height:<span class="hljs-number">40</span>,
    width:<span class="hljs-number">145</span>,
    left:<span class="hljs-number">200</span>,
    top:<span class="hljs-number">10</span>
});
play.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)
</span>{
    sound.play();
    pb.max = sound.duration;
});

win.add(play);


<span class="hljs-comment">//</span>
<span class="hljs-comment">// PAUSE</span>
<span class="hljs-comment">//</span>
<span class="hljs-keyword">var</span> pause = Titanium.UI.createButton({
    title:<span class="hljs-string">'Pause'</span>,
    height:<span class="hljs-number">40</span>,
    width:<span class="hljs-number">145</span>,
    right:<span class="hljs-number">10</span>,
    top:<span class="hljs-number">10</span>
});
pause.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)
</span>{
    sound.pause();
});
win.add(pause);

<span class="hljs-comment">//</span>
<span class="hljs-comment">// RESET</span>
<span class="hljs-comment">//</span>
<span class="hljs-keyword">var</span> reset = Titanium.UI.createButton({
    title:<span class="hljs-string">'Reset'</span>,
    height:<span class="hljs-number">40</span>,
    width:<span class="hljs-number">145</span>,
    left:<span class="hljs-number">10</span>,
    top:<span class="hljs-number">60</span>
});
reset.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)
</span>{
    sound.reset();
    pb.value = <span class="hljs-number">0</span>;

});
win.add(reset);

<span class="hljs-comment">//</span>
<span class="hljs-comment">// STOP</span>
<span class="hljs-comment">//</span>
<span class="hljs-keyword">var</span> stop = Titanium.UI.createButton({
    title:<span class="hljs-string">'Stop'</span>,
    height:<span class="hljs-number">40</span>,
    width:<span class="hljs-number">145</span>,
    right:<span class="hljs-number">10</span>,
    top:<span class="hljs-number">60</span>
});
stop.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)
</span>{
    sound.stop();
    pb.value = <span class="hljs-number">0</span>;
});
win.add(stop);

<span class="hljs-comment">//</span>
<span class="hljs-comment">// VOLUME +</span>
<span class="hljs-comment">//</span>
<span class="hljs-keyword">var</span> volumeUp = Titanium.UI.createButton({
    title:<span class="hljs-string">'Volume++'</span>,
    height:<span class="hljs-number">40</span>,
    width:<span class="hljs-number">145</span>,
    left:<span class="hljs-number">10</span>,
    top:<span class="hljs-number">110</span>
});
volumeUp.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)
</span>{
    <span class="hljs-keyword">if</span> (sound.volume &lt; <span class="hljs-number">1.0</span>)
    {
        sound.volume += <span class="hljs-number">0.1</span>;
        <span class="hljs-keyword">var</span> roundedVolume = <span class="hljs-built_in">Math</span>.round(sound.volume*<span class="hljs-number">1000</span>)/<span class="hljs-number">1000</span>;
        volumeUp.title = <span class="hljs-string">'Volume++ ('</span> + roundedVolume + <span class="hljs-string">')'</span>;
        volumeDown.title = <span class="hljs-string">'Volume--'</span>;
    }
});
win.add(volumeUp);

<span class="hljs-comment">//</span>
<span class="hljs-comment">// VOLUME -</span>
<span class="hljs-comment">//</span>
<span class="hljs-keyword">var</span> volumeDown = Titanium.UI.createButton({
    title:<span class="hljs-string">'Volume--'</span>,
    height:<span class="hljs-number">40</span>,
    width:<span class="hljs-number">145</span>,
    right:<span class="hljs-number">10</span>,
    top:<span class="hljs-number">110</span>
});
volumeDown.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)
</span>{
    <span class="hljs-keyword">if</span> (sound.volume &gt; <span class="hljs-number">0</span>)
    {
        <span class="hljs-keyword">if</span> (sound.volume &lt; <span class="hljs-number">0.1</span>){
            sound.volume = <span class="hljs-number">0</span>;
        } <span class="hljs-keyword">else</span> {
            sound.volume -= <span class="hljs-number">0.1</span>;
        }
        <span class="hljs-keyword">var</span> roundedVolume = <span class="hljs-built_in">Math</span>.round(sound.volume*<span class="hljs-number">1000</span>)/<span class="hljs-number">1000</span>;
        volumeDown.title = <span class="hljs-string">'Volume-- ('</span> + roundedVolume + <span class="hljs-string">')'</span>;
        volumeUp.title = <span class="hljs-string">'Volume++'</span>;
    }

});
win.add(volumeDown);

<span class="hljs-comment">//</span>
<span class="hljs-comment">// LOOPING</span>
<span class="hljs-comment">//</span>
<span class="hljs-keyword">var</span> looping = Titanium.UI.createButton({
    title:<span class="hljs-string">'Looping (false)'</span>,
    height:<span class="hljs-number">40</span>,
    width:<span class="hljs-number">145</span>,
    left:<span class="hljs-number">10</span>,
    top:<span class="hljs-number">160</span>
});
looping.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)
</span>{
    sound.looping = (sound.isLooping() === <span class="hljs-literal">false</span>)?<span class="hljs-literal">true</span>:<span class="hljs-literal">false</span>;
    looping.title = <span class="hljs-string">'Looping ('</span> + sound.isLooping() + <span class="hljs-string">')'</span>;
});
win.add(looping);

<span class="hljs-comment">//</span>
<span class="hljs-comment">// EVENTS</span>
<span class="hljs-comment">//</span>
sound.addEventListener(<span class="hljs-string">'complete'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)
</span>{
    Titanium.API.info(<span class="hljs-string">'COMPLETE CALLED'</span>);

    pb.value = <span class="hljs-number">0</span>;
});
sound.addEventListener(<span class="hljs-string">'resume'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)
</span>{
    Titanium.API.info(<span class="hljs-string">'RESUME CALLED'</span>);
});

<span class="hljs-comment">//</span>
<span class="hljs-comment">//  PROGRESS BAR TO TRACK SOUND DURATION</span>
<span class="hljs-comment">//</span>
<span class="hljs-keyword">var</span> flexSpace = Titanium.UI.createButton({
    systemButton:Titanium.UI.iPhone.SystemButton.FLEXIBLE_SPACE
});
<span class="hljs-keyword">var</span> pb = Titanium.UI.createProgressBar({
    min:<span class="hljs-number">0</span>,
    value:<span class="hljs-number">0</span>,
    width:<span class="hljs-number">200</span>
});

<span class="hljs-keyword">if</span> (Ti.Platform.name != <span class="hljs-string">'android'</span>) {
    win.setToolbar([flexSpace,pb,flexSpace]);
}
pb.show();

<span class="hljs-comment">//</span>
<span class="hljs-comment">// INTERVAL TO UPDATE PB</span>
<span class="hljs-comment">//</span>
<span class="hljs-keyword">var</span> i = setInterval(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)
</span>{
    <span class="hljs-keyword">if</span> (sound.isPlaying())
    {
        Ti.API.info(<span class="hljs-string">'time '</span> + sound.time);
        pb.value = sound.time;

    }
},<span class="hljs-number">500</span>);

<span class="hljs-comment">//</span>
<span class="hljs-comment">//  CLOSE EVENT - CANCEL INTERVAL</span>
<span class="hljs-comment">//</span>
win.addEventListener(<span class="hljs-string">'close'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)
</span>{
    clearInterval(i);
});
</code></pre>
		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="November 23rd 2011, 8:29:54 pm">November 23rd 2011</span>
				by <span class='authorname'>Sen Ven</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>createsound</span></li>
					
						<li><span class='tagname'>googletv</span></li>
					
						<li><span class='tagname'>mp4</span></li>
					
				</ul>
			

			<section>
				<h5>6 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Great Sen</p>
<p>Seem like you the first one started Google TV development with Titanium. I am really looking forward for it. I started the development in android native so now i will think to start it with titanium.</p>
<p>Regards</p>
<p>Nikunj</p>
</div>
							<div class="author">
								&mdash; commented <span title="November 24th 2011, 2:27:06 am">November 24th 2011</span>
								by <span class='authorname'>Nikunj Sakhrelia</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>this is an important next step for titanium, whats the solution anyway</p>
</div>
							<div class="author">
								&mdash; commented <span title="November 24th 2011, 8:40:39 am">November 24th 2011</span>
								by <span class='authorname'>arul sudarsanam</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Hi Sen,</p>
<p>I&#39;m trying to do something similar to that for Google TV but I&#39;m trying to make my app recognizable to google tv but aparently there is something wrong with my manifest.xml, what I have to do different in the app to be google tv compatible?</p>
</div>
							<div class="author">
								&mdash; commented <span title="January 31st 2012, 6:11:35 pm">January 31st 2012</span>
								by <span class='authorname'>Orlando Sanchez</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Hi Orlando, I am experiencing the same problem. Do you have a solution yet? Cheers, Wienke</p>
</div>
							<div class="author">
								&mdash; commented <span title="August 9th 2012, 4:32:06 am">August 9th 2012</span>
								by <span class='authorname'>Wienke Giezeman</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>no solution yet, do you?</p>
</div>
							<div class="author">
								&mdash; commented <span title="March 28th 2013, 9:56:36 pm">March 28th 2013</span>
								by <span class='authorname'>Orlando Sanchez</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Even with manifest modification still app will crash on start. logcat shows v8 erros and stlport_shared errors.</p>
<p>For manifest all you need to do is add this to tiapp.xml:</p>
<p>When you create a Titanium android project you see this tag only in tiapp.xml</p>
<pre><code class="hljs">&lt;<span class="hljs-keyword">android </span>xmlns:<span class="hljs-keyword">android="http://schemas.android.com/apk/res/android" </span>/&gt;
</code></pre><p>What you need to do is convert&#x2F;replace android tag into this below. At minimum you should have this:</p>
<pre><code class="hljs"><span class="hljs-tag">&lt;<span class="hljs-title">android</span> <span class="hljs-attribute">package</span>=<span class="hljs-value">"your app id e.g com.basketball.myapp"</span> <span class="hljs-attribute">android:versionCode</span>=<span class="hljs-value">"1"</span>
    <span class="hljs-attribute">android:versionName</span>=<span class="hljs-value">"1"</span> <span class="hljs-attribute">xmlns:android</span>=<span class="hljs-value">"http://schemas.android.com/apk/res/android"</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-title">manifest</span>&gt;</span>

  <span class="hljs-tag">&lt;<span class="hljs-title">uses-sdk</span> <span class="hljs-attribute">android:minSdkVersion</span>=<span class="hljs-value">"8"</span> /&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">uses-feature</span> <span class="hljs-attribute">android:name</span>=<span class="hljs-value">"com.google.android.tv"</span> <span class="hljs-attribute">android:required</span>=<span class="hljs-value">"true"</span>/&gt;</span>

<span class="hljs-tag">&lt;/<span class="hljs-title">manifest</span>&gt;</span> 
<span class="hljs-tag">&lt;/<span class="hljs-title">android</span>&gt;</span>
</code></pre><pre><code class="hljs"> &lt;uses-feature <span class="hljs-string">android:</span>name=<span class="hljs-string">"com.google.android.tv"</span> <span class="hljs-string">android:</span>required=<span class="hljs-string">"true"</span>/&gt;
</code></pre><p>Uses com.google.android.tv is what separates between mobile app and google tv app. Another thing you can do is after building your project go to build directiry of your project and duplicate AndroidManifest.xml and change file name to AndroidManifest.custom.xml open it in editor and add &lt;uses tag i showed above and in application tag add oreintation unspecified.</p>
<pre><code class="hljs">&lt;<span class="hljs-type">application</span> ... android:screenOrientation=<span class="hljs-string">"unspecified"</span> ..&gt;
..
&lt;/<span class="hljs-type">application</span>&gt;
</code></pre><p>After this according to Google documentation it should work fine but it doesn&#39;t because of Titanium sdk V8 errors and  &quot;Library slport_shared not found&quot;</p>
<p> I tried on sdk 2.x , 3.x ..also tried on Windows7 environment and OSX. At first I thought I didn&#39;t have all the api and android sdk..still didn&#39;t work.</p>
</div>
							<div class="author">
								&mdash; commented <span title="April 17th 2013, 2:35:29 pm">April 17th 2013</span>
								by <span class='authorname'>Zeshan Bilal</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>4</span> Votes</div>
			<div class="answers"><span>0</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>0 Answers</h3>

	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
