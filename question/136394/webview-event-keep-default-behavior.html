<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>webView event keep default behavior » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>webView event keep default behavior</h1>
		</header>
		<section>
			<p>Hello,<br>I&#39;m developping an android apps with a WebView which contains a HTML document(a map).<br>But I want to know when the scrollX and scrollY have change !<br>So I use the &quot;touchstart&quot; event but I want to keep the default behaviour AND show an alert :</p>
<pre><code class="hljs">var html = <span class="hljs-string">''</span>;
html += <span class="hljs-string">'&lt;html&gt;&lt;head&gt;'</span>;
html += <span class="hljs-string">'&lt;meta name = "</span>viewport<span class="hljs-string">" content ="</span>initial-scale=<span class="hljs-number">0.56</span>, user-scalable=yes<span class="hljs-string">"&gt;'</span>;
html += <span class="hljs-string">'&lt;script src="</span>./pathcities/lib/jquery-<span class="hljs-number">1.7</span>.<span class="hljs-transposed_variable">min.</span>js<span class="hljs-string">"&gt;&lt;/script&gt;'</span>;
html += <span class="hljs-string">'&lt;style&gt;'</span>;
html += <span class="hljs-string">'#map{width:'</span>+ contentWidth +<span class="hljs-string">'px;height:'</span>+ (contentHeight+<span class="hljs-number">260</span>+difference_de_taille) +<span class="hljs-string">'px;}'</span>;
html += <span class="hljs-string">'.dalle{float:left;}'</span>;
html += <span class="hljs-string">'&lt;/style&gt;'</span>;
html += <span class="hljs-string">'&lt;/head&gt;'</span>;
html += <span class="hljs-string">'&lt;body&gt;'</span>;
html += <span class="hljs-string">'&lt;div id="</span>map<span class="hljs-string">"&gt;&lt;img height="</span><span class="hljs-string">'+(contentHeight+260+difference_de_taille)+'</span><span class="hljs-string">" src="</span><span class="hljs-string">'+ file.nativePath +'</span><span class="hljs-string">"/&gt;'</span>;
html += <span class="hljs-string">'&lt;/div&gt;'</span>;
html += <span class="hljs-string">'&lt;/body&gt;'</span>;
html += <span class="hljs-string">'&lt;/html&gt;'</span>;

var webView = <span class="hljs-transposed_variable">Ti.</span><span class="hljs-transposed_variable">UI.</span>createWebView({
    top: <span class="hljs-number">0</span>,
    left: <span class="hljs-number">0</span>,
    html:html,
    touchEnabled:true,
    scalesPageToFit:false,
    height:<span class="hljs-string">'auto'</span>,
    width:<span class="hljs-string">'auto'</span>,
    backgroundColor:<span class="hljs-string">'#FFF'</span>
});

<span class="hljs-transposed_variable">webView.</span>addEventListener(<span class="hljs-string">'touchstart'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span> {</span>

    scrollX = <span class="hljs-transposed_variable">webView.</span>evalJS(<span class="hljs-string">'window.scrollX'</span>);
    scrollY = <span class="hljs-transposed_variable">webView.</span>evalJS(<span class="hljs-string">'window.scrollY'</span>);

    <span class="hljs-keyword">if</span>(scrollY == <span class="hljs-number">0</span> &amp;&amp; scrollX == <span class="hljs-number">0</span>) alert(<span class="hljs-string">'coté haut gauche'</span>);
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(scrollY == screenHeight &amp;&amp; scrollX == screenWidth) alert(<span class="hljs-string">'coté bas droite'</span>);
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(scrollX == screenWidth) alert(<span class="hljs-string">'coté droite'</span>);
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(scrollY == screenHeight) alert(<span class="hljs-string">'coté bas'</span>);
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(scrollX == <span class="hljs-number">0</span>) alert(<span class="hljs-string">'coté gauche'</span>);
    <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(scrollY == <span class="hljs-number">0</span>) alert(<span class="hljs-string">'coté haut'</span>);

     <span class="hljs-transposed_variable">e.</span>preventDefault;
});
</code></pre>
		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="May 3rd 2012, 7:26:08 am">May 3rd 2012</span>
				by <span class='authorname'>Odysys -</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>event</span></li>
					
						<li><span class='tagname'>scroll</span></li>
					
						<li><span class='tagname'>webview</span></li>
					
				</ul>
			

			<section>
				<h5>1 Comment</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>EDIT : When i add a touchstart listener, the scroll have been locked ! -_-</p>
</div>
							<div class="author">
								&mdash; commented <span title="May 3rd 2012, 7:31:24 am">May 3rd 2012</span>
								by <span class='authorname'>Odysys -</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-237766">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>You cannot use the UI events and the web events in the same time.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="May 3rd 2012, 9:03:49 am">May 3rd 2012</span>
								by <span class='authorname'>Dan Tamas</span><br>
								<a class="icon-bg icon-link" href="question/136394/webview-event-keep-default-behavior#answer-237766" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Ok thanks…<br>I found this text in an other topic: </p>
<p><em>The native web view handles scrolling and other related touch events internally. If you add event listeners for any of the standard touch events (touchstart, click, and so on), these events do not reach the native web view, and the user will not be able to scroll, zoom, click on links, and so on. In other words, you can have either Titanium-style events against the web view instance, or internal JavaScript events in the DOM, but not both. Note that on the iOS platform, any touch event listeners on the web view or its parent views will prevent users from interacting with the native web view. To prevent this default behavior, set willHandleTouches to false.</em></p>
</p>
										<div class="author">
											&mdash; commented <span title="May 3rd 2012, 10:07:33 am">May 3rd 2012</span>
											by <span class='authorname'>Odysys -</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
