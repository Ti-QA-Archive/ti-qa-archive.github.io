<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Button on a tableViewRow » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Button on a tableViewRow</h1>
		</header>
		<section>
			<p>Hi Everyone,<br>I am creating a button and adding to a tableViewRow. I have many rows in my tableView. the button is invisible first which I did by making :</p>
<pre><code class="hljs"><span class="hljs-string">visible:</span> <span class="hljs-literal">false</span>
</code></pre><p>When I click on a row the button should be visible. I am doing it as below:</p>
<pre><code class="hljs">    <span class="hljs-keyword">for</span>( <span class="hljs-keyword">var</span> k=<span class="hljs-number">0</span>; k&lt; loge.length; k++){
                    <span class="hljs-keyword">var</span> <span class="hljs-keyword">list</span> = loge[k];
                    f[k] = <span class="hljs-keyword">list</span>.firstName;
                    l[k] = <span class="hljs-keyword">list</span>.lastName;
                    <span class="hljs-comment">//p[k] = list.phone["work"];</span>
                    oid[k] = <span class="hljs-keyword">list</span>.id;

                    btn_move = Ti.UI.createButton({
                        title: <span class="hljs-string">'Remove'</span>,
                        right: <span class="hljs-string">'5dp'</span>,
                        height: <span class="hljs-string">'40dp'</span>,
                        visible: <span class="hljs-keyword">false</span>
                    });
                    <span class="hljs-keyword">var</span> row = Ti.UI.createTableViewRow({
                        height: <span class="hljs-string">'50dp'</span>,
                        var1: f[k],
                        var2: l[k],
                        <span class="hljs-comment">//var3: p[k],</span>
                        var4: oid[k],
                    });


                    <span class="hljs-keyword">var</span> name = Ti.UI.createLabel({
                        text: f[k],
                        color: <span class="hljs-string">'black'</span>,
                        font: {fontSize: <span class="hljs-string">'14dp'</span>},
                        textAlign: <span class="hljs-string">'left'</span>
                    });
                    row.add(btn_move);
                    row.add(name);
                    datas.push(row);

                }
                row.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(eu)</span></span>{

                    btn_move.visible = <span class="hljs-keyword">true</span>;
                    <span class="hljs-comment">// eu.rowData.btn_move.visible = true;</span>
                    <span class="hljs-comment">//row.add(btn_move);</span>
                });
</code></pre><p>But using this technique when I click on a row the button is shown in last row which ever button I click. What should be the real way to do this. Am I doing some mistake or my technique is not accurate. Please someone help . I am using Ti.SDK 2.1.4  working on Window7 64-bit. Testing on Android 4.2.2<br>Thanks</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="June 7th 2013, 3:21:42 pm">June 7th 2013</span>
				by <span class='authorname'>Nabeel  Munawar</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>button</span></li>
					
						<li><span class='tagname'>row</span></li>
					
						<li><span class='tagname'>titanium</span></li>
					
				</ul>
			

			<section>
				<h5>3 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>My mistake.. But using this technique when I click on a row the button is shown in last row which ever row is clicked. But the result should be like when I click on a row the button should be shown on that row only..</p>
</div>
							<div class="author">
								&mdash; commented <span title="June 7th 2013, 4:03:36 pm">June 7th 2013</span>
								by <span class='authorname'>Nabeel  Munawar</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Hello,</p>
<p>You need to do that in the buttons&#39;  row. This is, you can do something like: </p>
<pre><code class="hljs"><span class="hljs-atom">var</span> <span class="hljs-atom">row</span> = <span class="hljs-name">Ti</span>.<span class="hljs-name">UI</span>.<span class="hljs-atom">createTableViewRow</span>({
                        <span class="hljs-atom">height</span>: <span class="hljs-string">'50dp'</span>,
                        <span class="hljs-atom">var1</span>: <span class="hljs-atom">f</span>[<span class="hljs-atom">k</span>],
                        <span class="hljs-atom">var2</span>: <span class="hljs-atom">l</span>[<span class="hljs-atom">k</span>],
                        //<span class="hljs-atom">var3</span>: <span class="hljs-atom">p</span>[<span class="hljs-atom">k</span>],
                        <span class="hljs-atom">var4</span>: <span class="hljs-atom">oid</span>[<span class="hljs-atom">k</span>],
            <span class="hljs-atom">button</span>: <span class="hljs-atom">btn_move</span>, 
                    });
</code></pre><p>so you can do something like row.button.visible=true; </p>
<p>Best,<br>Mauro</p>
</div>
							<div class="author">
								&mdash; commented <span title="June 7th 2013, 5:02:50 pm">June 7th 2013</span>
								by <span class='authorname'>Mauro Parra</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>hi Mauro thanks for the reply.  ihave already tried that but in ghis way buttons in all ross become visible. but the button of only that row should be visible on whkch I have clicked..</p>
</div>
							<div class="author">
								&mdash; commented <span title="June 8th 2013, 1:50:52 am">June 8th 2013</span>
								by <span class='authorname'>Nabeel  Munawar</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-263980">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>Hi</p>
<p>Here is an easier way to code and think about your problem.</p>
<p>You should move your row creation into a separate function, the method will return the specific row for each iteration of the loop.  I have also mapped your data into a single node that allows you to group your data together in an easy to use parcel.</p>
<p>It also allows you to manage the click event on the table rather than every individual row, this improves the manageability of the the app, the code and should reduce any potential memory leakage.</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> addRow(o) {
    <span class="hljs-keyword">var</span> obj = o || {};
    <span class="hljs-keyword">var</span> lblName = Ti.UI.createLabel({
        text: obj.firstname,
        color: <span class="hljs-string">'black'</span>,
        font: {
            fontSize: <span class="hljs-string">'14dp'</span>
        },
        textAlign: <span class="hljs-string">'left'</span>,
        touchEnabled: <span class="hljs-keyword">false</span>
    });
    btnMove = Ti.UI.createButton({
        id: <span class="hljs-string">'button'</span>,
        title: <span class="hljs-string">'Remove'</span>,
        right: <span class="hljs-string">'5dp'</span>,
        height: <span class="hljs-string">'40dp'</span>,
        visible: <span class="hljs-keyword">false</span>
    });
    <span class="hljs-keyword">var</span> row = Ti.UI.createTableViewRow({
        id: <span class="hljs-string">'row'</span>,
        button: btnMove,
        data: {
            firstname: obj.firstname,
            lastname: obj.lastname,
            oid: obj.oid
        },
        height: <span class="hljs-string">'50dp'</span>
    });
    row.add(lblName);
    row.add(btnMove);
    <span class="hljs-keyword">return</span> row;
}
<span class="hljs-keyword">var</span> intRow = <span class="hljs-number">0</span>, intRows = loge.length, entry;
<span class="hljs-keyword">for</span> (intRow = <span class="hljs-number">0</span>; intRow &lt; intRows; intRow = intRow + <span class="hljs-number">1</span>){
    entry = loge[intRow];
    datas.push(addRow({
        firstname: <span class="hljs-keyword">list</span>.firstName,
        lastname: <span class="hljs-keyword">list</span>.lastName,
        oid: <span class="hljs-keyword">list</span>.id
    }));
}
<span class="hljs-keyword">var</span> tbl = Ti.UI.createTableView({
    data: datas,
    height: Ti.UI.FILL,
    width: Ti.UI.FILL
});
tbl.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(e)</span> </span>{
    <span class="hljs-keyword">switch</span> (e.source.id) {
    <span class="hljs-keyword">case</span> <span class="hljs-string">'row'</span>:
        e.source.button.show();
        <span class="hljs-keyword">break</span>;
    <span class="hljs-keyword">case</span> <span class="hljs-string">'button'</span>:
        alert(<span class="hljs-string">'Pressed Button'</span>);
        <span class="hljs-keyword">break</span>;
    }
    <span class="hljs-comment">// this contains all the extra data you passed in each row</span>
    Ti.API.info(<span class="hljs-string">'data: '</span> + JSON.stringify(e.row.data));
    <span class="hljs-comment">// access firstname as follows;</span>
    <span class="hljs-comment">// e.row.data.firstname</span>
});
</code></pre><p>You should find the code much easier to read and is broken apart in to easy to use chunks.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="June 7th 2013, 6:41:55 pm">June 7th 2013</span>
								by <span class='authorname'>Malcolm Hollingsworth</span><br>
								<a class="icon-bg icon-link" href="question/153370/button-on-a-tableviewrow#answer-263980" rel="permalink">permalink</a>
							</div>

							<h5>4 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>I am gonna try this technique and will tell you back.. thanks for reply</p>
</p>
										<div class="author">
											&mdash; commented <span title="June 8th 2013, 1:54:42 am">June 8th 2013</span>
											by <span class='authorname'>Nabeel  Munawar</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>This works as expected. Thanks a lot.. This has also made the app run fine. </p>
<pre><code class="hljs"><span class="hljs-variable"><span class="hljs-keyword">var</span> obj</span> = o || {};
</code></pre><p>what is the purpose of this line ?</p>
</p>
										<div class="author">
											&mdash; commented <span title="June 8th 2013, 3:43:18 am">June 8th 2013</span>
											by <span class='authorname'>Nabeel  Munawar</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>In this case it is actually not needed but forms part of my basic function structures.  The logic is the function accepts a parameter of <strong>o</strong> which is an object, but some function can work by having all parameters optional, so it is possible to call the function with a missing value passed.  So the line you mention checks to see if there was something passed and if the was not returns an empty object.  Later when using or referencing the the object with property it does not fail.</p>
<p>So if you chose not to supply the firstname, lastname or oid then it would not have a object in the calling function, so any references to those properties breaks the code as <strong>obj</strong> itself would also not exist.  But using this technique an empty object is returned, so the properties will return undefined, which is allowed, rather than the parent object which being undefined which would have generated an error.</p>
</p>
										<div class="author">
											&mdash; commented <span title="June 8th 2013, 4:28:11 am">June 8th 2013</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I got it. Thanks a lot again.. I will keep in mind these things in future…</p>
</p>
										<div class="author">
											&mdash; commented <span title="June 8th 2013, 11:16:52 am">June 8th 2013</span>
											by <span class='authorname'>Nabeel  Munawar</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
