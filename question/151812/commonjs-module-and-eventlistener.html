<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>commonJS module and EventListener » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>commonJS module and EventListener</h1>
		</header>
		<section>
			<p>Hi everyone, I&#39;m working on getting a bunch of clickable images within a scroll view.  The code I came up with for this is</p>
<p>allProducts.js</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> win = Titanium.UI.currentWindow;
win.backgroundColor = <span class="hljs-string">'#336699'</span>;

<span class="hljs-keyword">var</span> scrollView = Titanium.UI.createScrollView({
    contentWidth:<span class="hljs-number">1610</span>,
    contentHeight:<span class="hljs-number">240</span>,
    top:<span class="hljs-number">10</span>,
    height:<span class="hljs-number">240</span>,
    width:<span class="hljs-number">725</span>,
    <span class="hljs-comment">//borderRadius:10,</span>
    backgroundColor:<span class="hljs-string">'#ffffff'</span>

});

<span class="hljs-keyword">var</span> view1 = Ti.UI.createView({
    backgroundImage:<span class="hljs-string">'../images/0.jpg'</span>,
    <span class="hljs-comment">//borderRadius:20,borderWidth:1,borderColor:'#336699',</span>
    width:<span class="hljs-number">320</span>,
    height:<span class="hljs-number">240</span>,
    left:<span class="hljs-number">10</span>
});
scrollView.add(view1);

view1.addEventListener(<span class="hljs-string">'click'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span>
</span>{
        <span class="hljs-keyword">var</span> win = Titanium.UI.createWindow({
            url:<span class="hljs-string">'../products/product1.js'</span>,
            title:<span class="hljs-string">'Product 1'</span>,
        });
        Titanium.UI.currentTab.open(win,{animated:<span class="hljs-literal">true</span>});

    });
</code></pre><p>After I figured that out, I posted it in a question thread that I had started, and another user told me I should use a commonJS module to make the code more efficient and not suck up so much memory.  He wrote out some code for me, which I&#39;m trying to use, but can&#39;t quite get it to work.  Here&#39;s the code, followed by the error message I get when I click on one of the images.</p>
<p>myModule.js</p>
<pre><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">myModule</span><span class="hljs-params">()</span></span>{
    <span class="hljs-keyword">var</span> <span class="hljs-keyword">self</span> = {};
    <span class="hljs-keyword">var</span> ww = Ti.UI.createWindow();
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getView</span><span class="hljs-params">()</span></span>{
        <span class="hljs-keyword">return</span> ww;
    }
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">self</span>;

}
module.exports = myModule;
</code></pre><p>allProducts.js</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> win = Titanium.UI.currentWindow;
win.backgroundColor = <span class="hljs-string">'#ffffff'</span>;

win.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)</span>{
    <span class="hljs-keyword">if</span>(e.source.jsFile){

        <span class="hljs-keyword">var</span> firstWindow = <span class="hljs-built_in">require</span>(<span class="hljs-string">'myModule'</span>);

        <span class="hljs-keyword">var</span> win = Titanium.UI.createWindow;
        <span class="hljs-keyword">var</span> NewWin = <span class="hljs-built_in">require</span>(e.source.jsFile);
        win.getView().open();
    }
});

<span class="hljs-keyword">var</span> scrollView = Titanium.UI.createScrollView({
    contentWidth:<span class="hljs-number">1610</span>,
    contentHeight:<span class="hljs-number">240</span>,
    top:<span class="hljs-number">10</span>,
    height:<span class="hljs-number">240</span>,
    width:<span class="hljs-number">725</span>,
    <span class="hljs-comment">//borderRadius:10,</span>
    backgroundColor:<span class="hljs-string">'#ffffff'</span>

});

<span class="hljs-keyword">var</span> view1 = Ti.UI.createView({
    backgroundImage:<span class="hljs-string">'../images/0.jpg'</span>,
    <span class="hljs-comment">//borderRadius:20,borderWidth:1,borderColor:'#336699',</span>
    width:<span class="hljs-number">320</span>,
    height:<span class="hljs-number">240</span>,
    left:<span class="hljs-number">10</span>
    jsFile: <span class="hljs-string">'myModule'</span>
});
scrollView.add(view1);
</code></pre><p>I&#39;m pretty sure I&#39;ve followed the directions he gave me correctly, but it throws this error message when I click on the image.</p>
<p>[WARN] Exception in event callback. {<br>line = 155;</p>
<p>message = &#39;undefined&#39; is not an object (evaluating &#39;win.getView().open&#39;);</p>
<p>name = TypeError;</p>
<p>sourceId = 258741120;</p>
<p>sourceURL = file:&#x2F;&#x2F;localhost&#x2F;Users&#x2F;marc&#x2F;Library&#x2F;Application%20Support&#x2F;iPhone%20Simulator&#x2F;6.0&#x2F;Applications&#x2F;3AE81411-29A0-44D4-B7D1-086D134F0D32&#x2F;iPhone%20Test.app&#x2F;main_windows&#x2F;allproducts.js;<br>}</p>
<p>Does anyone know what I&#39;m doing wrong?  I&#39;ve tried contacting the person who helped me in the first place, but haven&#39;t been able to get a hold of him.</p>
<p>Thanks in advance.</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="May 1st 2013, 3:23:28 pm">May 1st 2013</span>
				by <span class='authorname'>Marc Lachapelle</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>commonjs module</span></li>
					
						<li><span class='tagname'>eventlistener</span></li>
					
						<li><span class='tagname'>ios</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-261982">
				
						<section>
							<p>Hi Marc, sorry I wasn&#39;t able to check the question before.<br>I am sorry it is my fault I didn&#39;t test all the code.</p>
<p>Instead of <code>function getView()</code> you should use </p>
<pre><code class="hljs"><span class="hljs-keyword">this</span>.getView = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span></span>{
    <span class="hljs-keyword">return</span> ww;
};
</code></pre><p>Hani</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="May 1st 2013, 11:14:20 pm">May 1st 2013</span>
								by <span class='authorname'>Hani Hamadeh</span><br>
								<a class="icon-bg icon-link" href="question/151812/commonjs-module-and-eventlistener#answer-261982" rel="permalink">permalink</a>
							</div>

							<h5>11 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>and the event listener</p>
<pre><code class="hljs"><span class="hljs-keyword">win</span>.addEventListener('click', function(<span class="hljs-keyword">e</span>){
    <span class="hljs-keyword">if</span>(<span class="hljs-keyword">e</span>.source.jsFile){
        <span class="hljs-keyword">var</span> NewWin = require(<span class="hljs-keyword">e</span>.source.jsFile);
        <span class="hljs-keyword">var</span> <span class="hljs-keyword">win</span> = new NewWin();
        <span class="hljs-keyword">win</span>.getView().<span class="hljs-keyword">open</span>();
    }
});
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="May 1st 2013, 11:23:32 pm">May 1st 2013</span>
											by <span class='authorname'>Hani Hamadeh</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Thanks for checking in, Hani. I tried your new code, but I&#39;m still getting errors.  I&#39;m just going to post all the code, and hopefully you can see where I&#39;ve gone wrong.</p>
<p>firstWindow.js</p>
<pre><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">firstWindow</span><span class="hljs-params">()</span></span>{
    <span class="hljs-keyword">var</span> <span class="hljs-keyword">self</span> = {};
    <span class="hljs-keyword">var</span> ww = Ti.UI.createWindow();
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getView</span><span class="hljs-params">()</span></span>{
        <span class="hljs-keyword">return</span> ww;
    }
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">self</span>;

}
module.exports = firstWindow;
</code></pre><p>I also tried changing it to what you said above</p>
<pre><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">firstWindow</span>(<span class="hljs-params"></span>)</span>{
    <span class="hljs-keyword">var</span> self = {};
    <span class="hljs-keyword">var</span> ww = Ti.UI.createWindow();
    <span class="hljs-keyword">this</span>.getView = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
            <span class="hljs-keyword">return</span> ww;
    }
    <span class="hljs-keyword">return</span> self;

}

<span class="hljs-built_in">module</span>.exports = firstWindow;
</code></pre><p>And I still get the &#39;undefined&#39; is not a function error.</p>
<p>allProducts.js</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> win = Titanium.UI.currentWindow;
win.backgroundColor = <span class="hljs-string">'#ffffff'</span>;

<span class="hljs-keyword">var</span> firstWindow = <span class="hljs-built_in">require</span>(<span class="hljs-string">'firstWindow'</span>);


win.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)</span>{
    <span class="hljs-keyword">if</span>(e.source.jsFile){
        <span class="hljs-keyword">var</span> NewWin = <span class="hljs-built_in">require</span>(e.source.jsFile);
        <span class="hljs-keyword">var</span> win = <span class="hljs-keyword">new</span> NewWin();
        win.getView().open();
    }
});

<span class="hljs-keyword">var</span> scrollView = Titanium.UI.createScrollView({
    contentWidth:<span class="hljs-string">'auto'</span>,
    contentHeight:<span class="hljs-string">'auto'</span>,
    top:<span class="hljs-number">10</span>,
    height:<span class="hljs-number">240</span>,
    width:<span class="hljs-number">725</span>,
    backgroundColor:<span class="hljs-string">'#ffffff'</span>

});

<span class="hljs-keyword">var</span> view1 = Ti.UI.createView({
    backgroundImage:<span class="hljs-string">'../images/0.jpg'</span>,
    <span class="hljs-comment">//borderRadius:20,borderWidth:1,borderColor:'#336699',</span>
    width:<span class="hljs-number">320</span>,
    height:<span class="hljs-number">240</span>,
    left:<span class="hljs-number">10</span>,
    jsFile: <span class="hljs-string">'firstWindow'</span>
});
scrollView.add(view1);

<span class="hljs-keyword">var</span> view2 = Ti.UI.createView({
    backgroundImage:<span class="hljs-string">'../images/1.jpg'</span>,
    <span class="hljs-comment">//borderRadius:20,borderWidth:1,borderColor:'#336699',</span>
    width:<span class="hljs-number">320</span>,
    height:<span class="hljs-number">240</span>,
    left:<span class="hljs-number">330</span>,
    jsFile: <span class="hljs-string">'firstWindow'</span>
});
scrollView.add(view2);

<span class="hljs-keyword">var</span> view3 = Ti.UI.createView({
    backgroundImage:<span class="hljs-string">'../images/2.jpg'</span>,
    <span class="hljs-comment">//borderRadius:20,borderWidth:1,borderColor:'#336699',</span>
    width:<span class="hljs-number">320</span>,
    height:<span class="hljs-number">240</span>,
    left:<span class="hljs-number">650</span>
    jsFile: <span class="hljs-string">'firstWindow'</span>
});
scrollView.add(view3);

win.add(scrollView);
</code></pre><p>When I try to click on an image, this is the exact error I get:</p>
<pre><code class="hljs">[WARN] Exception in event callback. {
    line = 158<span class="hljs-comment">;</span>
    message = "'undefined' is not a function (evaluating 'win.getView()')"<span class="hljs-comment">;</span>
    name = TypeError<span class="hljs-comment">;</span>
    sourceId = <span class="hljs-number">346641024</span><span class="hljs-comment">;</span>
    sourceURL = "file://localhost/Users/marc/Library/Application%20Support/iPhone%20Simulator/6.0/Applications/3AE<span class="hljs-number">81411-29A0</span>-44D4-B<span class="hljs-number">7D1-086</span>D<span class="hljs-number">134F0D32</span>/iPhone%20Test.app/main_windows/allProducts.js"<span class="hljs-comment">;</span>
}
</code></pre><p>In case anyone&#39;s wondering, allProducts.js, line 158 is this part of the EventListener:</p>
<p>win.getView().open();</p>
<p>This is driving me insane.  If anyone can help me out, I&#39;ll be forever grateful.</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 2nd 2013, 1:23:41 pm">May 2nd 2013</span>
											by <span class='authorname'>Marc Lachapelle</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Ok it should be self.getView(). I tested it to make sure it works.<br>It&#39;s better to rename the window from win to something else because you already have another var called win in your code.</p>
<p>Here is the code:</p>
<p>allProducts.js</p>
<pre><code class="hljs">var win = Titanium.UI.currentWindow;
win.backgroundColor = <span class="hljs-string">'#ffffff'</span>;


win.addEventListener(<span class="hljs-string">'click'</span>, function(e){
    <span class="hljs-keyword">if</span>(e.source.jsFile){
        var NewWin = require(e.source.jsFile);
        var w1 = <span class="hljs-keyword">new</span> NewWin();
        w1.getView().<span class="hljs-built_in">open</span>();
    }
});

var scrollView = Titanium.UI.createScrollView({
    contentWidth:<span class="hljs-string">'auto'</span>,
    contentHeight:<span class="hljs-string">'auto'</span>,
    top:<span class="hljs-number">10</span>,
    <span class="hljs-variable">height</span>:<span class="hljs-number">240</span>,
    <span class="hljs-variable">width</span>:<span class="hljs-number">725</span>,
    backgroundColor:<span class="hljs-string">'#ffffff'</span>

});

var view1 = Ti.UI.createView({
    backgroundImage:<span class="hljs-string">'../images/0.jpg'</span>,
    <span class="hljs-comment">//borderRadius:20,borderWidth:1,borderColor:'#336699',</span>
    <span class="hljs-variable">width</span>:<span class="hljs-number">320</span>,
    <span class="hljs-variable">height</span>:<span class="hljs-number">240</span>,
    left:<span class="hljs-number">10</span>,
    jsFile: <span class="hljs-string">'firstWindow'</span>
});
scrollView.<span class="hljs-built_in">add</span>(view1);

var view2 = Ti.UI.createView({
    backgroundImage:<span class="hljs-string">'../images/1.jpg'</span>,
    <span class="hljs-comment">//borderRadius:20,borderWidth:1,borderColor:'#336699',</span>
    <span class="hljs-variable">width</span>:<span class="hljs-number">320</span>,
    <span class="hljs-variable">height</span>:<span class="hljs-number">240</span>,
    left:<span class="hljs-number">330</span>,
    jsFile: <span class="hljs-string">'firstWindow'</span>
});
scrollView.<span class="hljs-built_in">add</span>(view2);

var view3 = Ti.UI.createView({
    backgroundImage:<span class="hljs-string">'../images/2.jpg'</span>,
    <span class="hljs-comment">//borderRadius:20,borderWidth:1,borderColor:'#336699',</span>
    <span class="hljs-variable">width</span>:<span class="hljs-number">320</span>,
    <span class="hljs-variable">height</span>:<span class="hljs-number">240</span>,
    left:<span class="hljs-number">650</span>,
    jsFile: <span class="hljs-string">'firstWindow'</span>
});
scrollView.<span class="hljs-built_in">add</span>(view3);

win.<span class="hljs-built_in">add</span>(scrollView);
</code></pre><p>and the module</p>
<pre><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">firstWindow</span><span class="hljs-params">()</span></span>{
    <span class="hljs-keyword">var</span> <span class="hljs-keyword">self</span> = {};
    <span class="hljs-keyword">var</span> ww = Ti.UI.createWindow({
        backgroundColor:<span class="hljs-string">'white'</span>
    });
    <span class="hljs-keyword">self</span>.getView = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span></span>{
         <span class="hljs-keyword">return</span> ww;
    }
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">self</span>;

}

module.exports = firstWindow;
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="May 2nd 2013, 10:36:41 pm">May 2nd 2013</span>
											by <span class='authorname'>Hani Hamadeh</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Thanks, Hani.  I&#39;m no longer getting an error, but when I click on the image, it just loads a blank white screen.  What part of the code is telling it open the appropriate js file.  For example:</p>
<p>When you click the first image, it should load product1.js.  If you click the second image, it should load product2.js, etc.  As of right now, like I said, it&#39;s just loading a blank white page.</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 3rd 2013, 12:41:54 pm">May 3rd 2013</span>
											by <span class='authorname'>Marc Lachapelle</span>
										</div>
									</li>
								
									<li class="comment">
										<p><pre><code class="hljs"><span class="hljs-keyword">var</span> ww = Ti.UI.createWindow({
        backgroundColor:<span class="hljs-string">'white'</span>
    });
</code></pre><p>Inside myModule function. each product js file should be transformed to a commonJS module.<br>Instead of returning the window with white background you should put your product window there.</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 3rd 2013, 12:51:15 pm">May 3rd 2013</span>
											by <span class='authorname'>Hani Hamadeh</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Thanks, Hani.  I&#39;ll try that out.  Thanks for all your help.  I&#39;m sure you&#39;re getting a little annoyed with me by now. lol</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 3rd 2013, 12:57:13 pm">May 3rd 2013</span>
											by <span class='authorname'>Marc Lachapelle</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Hani, I have it working.  I can&#39;t thank you enough.  Just a few things to note:</p>
<ol>
<li><p>When you click on an image, it opens the appropriate product, but there is no button in the top left corner to go back to the main list of products.</p>
</li>
<li><p>When you click on an image, it opens the appropriate product, but it doesn&#39;t display a new title on the top bar.  It still says &quot;All Products&quot;, when it should say &quot;Product 1&quot;, &quot;Product 2&quot;, etc.</p>
</li>
<li><p>Even though it&#39;s working, I&#39;m getting an error message.</p>
<pre><code class="hljs">[WARN] Exception in event callback. {
line = 11<span class="hljs-comment">;</span>
message = "'undefined' is not a function (evaluating 'w1.getView()')"<span class="hljs-comment">;</span>
name = TypeError<span class="hljs-comment">;</span>
sourceId = <span class="hljs-number">376943200</span><span class="hljs-comment">;</span>
sourceURL = "file://localhost/Users/marc/Library/Application%20Support/iPhone%20Simulator/6.0/Applications/3AE<span class="hljs-number">81411-29A0</span>-44D4-B<span class="hljs-number">7D1-086</span>D<span class="hljs-number">134F0D32</span>/iPhone%20Test.app/main_windows/allProducts.js"<span class="hljs-comment">;</span>
}
</code></pre></li>
</ol>
<p>If you have fixes for those issues, great.  If not, you&#39;ve already helped me a bunch, and I feel like I&#39;m sucking up a lot of your time, so don&#39;t feel obligated to troubleshoot my code.</p>
<p>Thanks again.</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 3rd 2013, 1:18:08 pm">May 3rd 2013</span>
											by <span class='authorname'>Marc Lachapelle</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>To have a back button you need to have a tab group or a nav group, do you have any in your code ?<br>I also need to see the code creating w1 and what is included in w1&#39;s module</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 3rd 2013, 5:45:11 pm">May 3rd 2013</span>
											by <span class='authorname'>Hani Hamadeh</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Hani, sorry for the delay. I had a long weekend. I&#39;m not quite sure what you mean by the &quot;code creating w1&quot;, but I&#39;ll post what I think you&#39;re talking about.  Keep in mind, I&#39;m a beginner at all this and most of my code was sourced from the Kitchen Sink.</p>
<p>Resources&#x2F;app.js</p>
<pre><code class="hljs">Titanium.UI.setBackgroundColor(<span class="hljs-string">'#000'</span>);


<span class="hljs-comment">// create tab group</span>
<span class="hljs-keyword">var</span> tabGroup = Titanium.UI.createTabGroup();


<span class="hljs-comment">//</span>
<span class="hljs-comment">// create base UI tab and root window</span>
<span class="hljs-comment">//</span>
<span class="hljs-keyword">var</span> win1 = Titanium.UI.createWindow({
    url:<span class="hljs-string">'main_windows/allProducts.js'</span>,
    title:<span class="hljs-string">'All Products'</span>,
    backgroundColor:<span class="hljs-string">'#fff'</span>
});

<span class="hljs-keyword">var</span> tab1 = Titanium.UI.createTab({  
    icon:<span class="hljs-string">'KS_nav_allproducts.png'</span>,
    title:<span class="hljs-string">'All Products'</span>,
    <span class="hljs-built_in">window</span>:win1
});


<span class="hljs-keyword">var</span> label1 = Titanium.UI.createLabel({
    color:<span class="hljs-string">'#999'</span>,
    font:{fontSize:<span class="hljs-number">20</span>,fontFamily:<span class="hljs-string">'Helvetica Neue'</span>},
    textAlign:<span class="hljs-string">'center'</span>,
    width:<span class="hljs-string">'auto'</span>
});

win1.add(label1);


<span class="hljs-comment">//</span>
<span class="hljs-comment">// create controls tab and root window</span>
<span class="hljs-comment">//</span>

<span class="hljs-keyword">var</span> win2 = Titanium.UI.createWindow({ 
    url: <span class="hljs-string">'main_windows/tools.js'</span>, 
    title:<span class="hljs-string">'Tools'</span>,
    backgroundColor:<span class="hljs-string">'#fff'</span>
});
<span class="hljs-keyword">var</span> tab2 = Titanium.UI.createTab({  
    icon:<span class="hljs-string">'KS_nav_tools.png'</span>,
    title:<span class="hljs-string">'Tools'</span>,
    <span class="hljs-built_in">window</span>:win2
});

<span class="hljs-keyword">var</span> label2 = Titanium.UI.createLabel({
    color:<span class="hljs-string">'#999'</span>,
    font:{fontSize:<span class="hljs-number">20</span>,fontFamily:<span class="hljs-string">'Helvetica Neue'</span>},
    textAlign:<span class="hljs-string">'center'</span>,
    width:<span class="hljs-string">'auto'</span>
});

win2.add(label2);


<span class="hljs-keyword">var</span> win3 = Titanium.UI.createWindow({ 
    url: <span class="hljs-string">'main_windows/hardware.js'</span>, 
    title:<span class="hljs-string">'Hardware'</span>,
    backgroundColor:<span class="hljs-string">'#fff'</span>
});
<span class="hljs-keyword">var</span> tab3 = Titanium.UI.createTab({  
    icon:<span class="hljs-string">'KS_nav_HW.png'</span>,
    title:<span class="hljs-string">'Hardware'</span>,
    <span class="hljs-built_in">window</span>:win3
});

<span class="hljs-keyword">var</span> label3 = Titanium.UI.createLabel({
    color:<span class="hljs-string">'#999'</span>,
    font:{fontSize:<span class="hljs-number">20</span>,fontFamily:<span class="hljs-string">'Helvetica Neue'</span>},
    textAlign:<span class="hljs-string">'center'</span>,
    width:<span class="hljs-string">'auto'</span>
});

win3.add(label3);


<span class="hljs-comment">//</span>
<span class="hljs-comment">//  add tabs</span>
<span class="hljs-comment">//</span>
tabGroup.addTab(tab1);  
tabGroup.addTab(tab2);  
tabGroup.addTab(tab3); 


<span class="hljs-comment">// open tab group</span>
tabGroup.open();
</code></pre><p>Resources&#x2F;main_windows&#x2F;allProducts.js</p>
<pre><code class="hljs">var win = Titanium.UI.currentWindow;
win.backgroundColor = <span class="hljs-string">'#ffffff'</span>;

var firstWindow = require(<span class="hljs-string">'firstWindow'</span>);


win.addEventListener(<span class="hljs-string">'click'</span>, function(e){
    <span class="hljs-keyword">if</span>(e.source.jsFile){
        var NewWin = require(e.source.jsFile);
        var w1 = <span class="hljs-keyword">new</span> NewWin();
        w1.getView().<span class="hljs-built_in">open</span>();
    }
});


<span class="hljs-comment">//</span>
<span class="hljs-comment">// HORIZONTAL SCROLLING TABS</span>
<span class="hljs-comment">//</span>
var scrollView = Titanium.UI.createScrollView({
    <span class="hljs-comment">//contentWidth:1610,</span>
    <span class="hljs-comment">//contentHeight:240,</span>
    contentWidth:<span class="hljs-string">'auto'</span>,
    contentHeight:<span class="hljs-string">'auto'</span>,
    top:<span class="hljs-number">30</span>,
    <span class="hljs-variable">height</span>:<span class="hljs-number">240</span>,
    <span class="hljs-variable">width</span>:<span class="hljs-number">725</span>,
    <span class="hljs-comment">//borderRadius:10,</span>
    backgroundColor:<span class="hljs-string">'#ffffff'</span>

});



var view1 = Ti.UI.createView({
    backgroundImage:<span class="hljs-string">'../images/0.jpg'</span>,
    <span class="hljs-comment">//borderRadius:20,borderWidth:1,borderColor:'#336699',</span>
    <span class="hljs-variable">width</span>:<span class="hljs-number">320</span>,
    <span class="hljs-variable">height</span>:<span class="hljs-number">240</span>,
    left:<span class="hljs-number">10</span>,
    jsFile: <span class="hljs-string">'firstWindow'</span>,
});
scrollView.<span class="hljs-built_in">add</span>(view1);



var view2 = Ti.UI.createView({
    backgroundImage:<span class="hljs-string">'../images/1.jpg'</span>,
    <span class="hljs-comment">//borderRadius:20,borderWidth:1,borderColor:'#336699',</span>
    <span class="hljs-variable">width</span>:<span class="hljs-number">320</span>,
    <span class="hljs-variable">height</span>:<span class="hljs-number">240</span>,
    left:<span class="hljs-number">330</span>,
    jsFile: <span class="hljs-string">'firstWindow'</span>,
});
scrollView.<span class="hljs-built_in">add</span>(view2);


var view3 = Ti.UI.createView({
    backgroundImage:<span class="hljs-string">'../images/2.jpg'</span>,
    <span class="hljs-comment">//borderRadius:20,borderWidth:1,borderColor:'#336699',</span>
    <span class="hljs-variable">width</span>:<span class="hljs-number">320</span>,
    <span class="hljs-variable">height</span>:<span class="hljs-number">240</span>,
    left:<span class="hljs-number">650</span>
});
scrollView.<span class="hljs-built_in">add</span>(view3);


var view4 = Ti.UI.createView({
    backgroundImage:<span class="hljs-string">'../images/3.jpg'</span>,
    <span class="hljs-comment">//borderRadius:20,borderWidth:1,borderColor:'#336699',</span>
    <span class="hljs-variable">width</span>:<span class="hljs-number">320</span>,
    <span class="hljs-variable">height</span>:<span class="hljs-number">240</span>,
    left:<span class="hljs-number">970</span>
});
scrollView.<span class="hljs-built_in">add</span>(view4);


var view5 = Ti.UI.createView({
    backgroundImage:<span class="hljs-string">'../images/4.jpg'</span>,
    <span class="hljs-comment">//borderRadius:20,borderWidth:1,borderColor:'#336699',</span>
    <span class="hljs-variable">width</span>:<span class="hljs-number">320</span>,
    <span class="hljs-variable">height</span>:<span class="hljs-number">240</span>,
    left:<span class="hljs-number">1290</span>
});
scrollView.<span class="hljs-built_in">add</span>(view5);


<span class="hljs-comment">//</span>
<span class="hljs-comment">// SECOND HORIZONTAL SCROLLING TABS</span>
<span class="hljs-comment">//</span>
var scrollView2 = Titanium.UI.createScrollView({
    <span class="hljs-comment">//contentWidth:1610,</span>
    <span class="hljs-comment">//contentHeight:240,</span>
    top:<span class="hljs-number">320</span>,
    <span class="hljs-variable">height</span>:<span class="hljs-number">240</span>,
    <span class="hljs-variable">width</span>:<span class="hljs-number">725</span>,
    <span class="hljs-comment">//borderRadius:10,</span>
    backgroundColor:<span class="hljs-string">'#ffffff'</span>
});
win.<span class="hljs-built_in">add</span>(scrollView2);


var view9 = Ti.UI.createView({
    backgroundImage:<span class="hljs-string">'../images/5.jpg'</span>,
    <span class="hljs-comment">//borderRadius:20,borderWidth:1,borderColor:'#336699',</span>
    <span class="hljs-variable">width</span>:<span class="hljs-number">320</span>,
    <span class="hljs-variable">height</span>:<span class="hljs-number">240</span>,
    left:<span class="hljs-number">10</span>
});
scrollView2.<span class="hljs-built_in">add</span>(view9);


var view10 = Ti.UI.createView({
    backgroundImage:<span class="hljs-string">'../images/6.jpg'</span>,
    <span class="hljs-comment">//borderRadius:20,borderWidth:1,borderColor:'#336699',</span>
    <span class="hljs-variable">width</span>:<span class="hljs-number">320</span>,
    <span class="hljs-variable">height</span>:<span class="hljs-number">240</span>,
    left:<span class="hljs-number">330</span>
});
scrollView2.<span class="hljs-built_in">add</span>(view10);


var view11 = Ti.UI.createView({
    backgroundImage:<span class="hljs-string">'../images/7.jpg'</span>,
    <span class="hljs-comment">//borderRadius:20,borderWidth:1,borderColor:'#336699',</span>
    <span class="hljs-variable">width</span>:<span class="hljs-number">320</span>,
    <span class="hljs-variable">height</span>:<span class="hljs-number">240</span>,
    left:<span class="hljs-number">650</span>
});
scrollView2.<span class="hljs-built_in">add</span>(view11);


var view12 = Ti.UI.createView({
    backgroundImage:<span class="hljs-string">'../images/8.jpg'</span>,
    <span class="hljs-comment">//borderRadius:20,borderWidth:1,borderColor:'#336699',</span>
    <span class="hljs-variable">width</span>:<span class="hljs-number">320</span>,
    <span class="hljs-variable">height</span>:<span class="hljs-number">240</span>,
    left:<span class="hljs-number">970</span>
});
scrollView2.<span class="hljs-built_in">add</span>(view12);


var view13 = Ti.UI.createView({
    backgroundImage:<span class="hljs-string">'../images/9.jpg'</span>,
    <span class="hljs-comment">//borderRadius:20,borderWidth:1,borderColor:'#336699',</span>
    <span class="hljs-variable">width</span>:<span class="hljs-number">320</span>,
    <span class="hljs-variable">height</span>:<span class="hljs-number">240</span>,
    left:<span class="hljs-number">1290</span>
});
scrollView2.<span class="hljs-built_in">add</span>(view13);



win.<span class="hljs-built_in">add</span>(scrollView);
</code></pre><p>Resources&#x2F;firstWindow.js</p>
<pre><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">firstWindow</span>(<span class="hljs-params"></span>)</span>{
    <span class="hljs-keyword">var</span> self = {};
    <span class="hljs-keyword">var</span> ww = Ti.UI.createWindow({
        backgroundColor:<span class="hljs-string">'white'</span>
    });
    self.getView = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
         <span class="hljs-keyword">return</span> ww;
    }
    <span class="hljs-keyword">return</span> self;

}

<span class="hljs-built_in">module</span>.exports = firstWindow;

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">product1</span>(<span class="hljs-params"></span>)</span>{



<span class="hljs-keyword">if</span> (Ti.Platform.name == <span class="hljs-string">'android'</span>) 
{
    Titanium.UI.currentWindow.backgroundColor = <span class="hljs-string">'#4e5c4d'</span>;
}
<span class="hljs-keyword">else</span>
{
    Titanium.UI.currentWindow.backgroundColor = <span class="hljs-string">'#aebcad'</span>;
}


<span class="hljs-comment">// create table view data object</span>
<span class="hljs-keyword">var</span> data = [
    {title:<span class="hljs-string">'Manual'</span>, hasChild:<span class="hljs-literal">true</span>, type:<span class="hljs-string">'pdf'</span>, filename:<span class="hljs-string">'P1manual.pdf'</span>},
    {title:<span class="hljs-string">'Specs'</span>, hasChild:<span class="hljs-literal">true</span>, type:<span class="hljs-string">'pdf'</span>, filename:<span class="hljs-string">'P1specs.pdf'</span>},
    ]


<span class="hljs-comment">// create table view</span>
<span class="hljs-keyword">var</span> tableViewOptions = {
        data:data,
        style:Titanium.UI.iPhone.TableViewStyle.GROUPED,
        headerTitle:<span class="hljs-string">'What would you like to see?'</span>,
        backgroundColor:<span class="hljs-string">'#aebcad'</span>,
        rowBackgroundColor:<span class="hljs-string">'white'</span>
    };


<span class="hljs-keyword">var</span> tableview = Titanium.UI.createTableView(tableViewOptions);

<span class="hljs-comment">// create table view event listener</span>
tableview.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)
</span>{
    <span class="hljs-keyword">if</span>(e.rowData.type === <span class="hljs-string">"pdf"</span>)
    {
        <span class="hljs-keyword">var</span> pspdfkit = <span class="hljs-built_in">require</span>(<span class="hljs-string">'com.pspdfkit'</span>);


        <span class="hljs-keyword">var</span> f = Titanium.Filesystem.getFile(Titanium.Filesystem.resourcesDirectory, e.rowData.filename);
        Ti.API.log(<span class="hljs-string">"f path "</span> + f.nativePath);
        <span class="hljs-keyword">var</span> pdfController = pspdfkit.showPDFAnimated(f.nativePath, <span class="hljs-number">1</span>, {
    pageTransition : <span class="hljs-number">2</span>
})

    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(e.rowData.type === <span class="hljs-string">"video"</span>) {
        <span class="hljs-keyword">var</span> win = Titanium.UI.createWindow({
            url:e.rowData.filename,
            title:e.rowData.title
        });
        Titanium.UI.currentTab.open(win,{animated:<span class="hljs-literal">true</span>});

     } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (e.rowData.test)
    {
        <span class="hljs-keyword">var</span> win = Titanium.UI.createWindow({
            url:e.rowData.test,
            title:e.rowData.title
        });
        Titanium.UI.currentTab.open(win,{animated:<span class="hljs-literal">true</span>});

  }
});

<span class="hljs-comment">// add table view to the window</span>
Titanium.UI.currentWindow.add(tableview);


}

<span class="hljs-built_in">module</span>.exports = product1;


<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">product2</span>(<span class="hljs-params"></span>)</span>{


<span class="hljs-keyword">if</span> (Ti.Platform.name == <span class="hljs-string">'android'</span>) 
{
    Titanium.UI.currentWindow.backgroundColor = <span class="hljs-string">'#4e5c4d'</span>;
}
<span class="hljs-keyword">else</span>
{
    Titanium.UI.currentWindow.backgroundColor = <span class="hljs-string">'#aebcad'</span>;
}


<span class="hljs-comment">// create table view data object</span>
<span class="hljs-keyword">var</span> data = [
    {title:<span class="hljs-string">'Manual'</span>, hasChild:<span class="hljs-literal">true</span>, type:<span class="hljs-string">'pdf'</span>, filename:<span class="hljs-string">'P2manual.pdf'</span>},
    {title:<span class="hljs-string">'Specs'</span>, hasChild:<span class="hljs-literal">true</span>, type:<span class="hljs-string">'pdf'</span>, filename:<span class="hljs-string">'P2specs.pdf'</span>},
    ]


<span class="hljs-comment">// create table view</span>
<span class="hljs-keyword">var</span> tableViewOptions = {
        data:data,
        style:Titanium.UI.iPhone.TableViewStyle.GROUPED,
        headerTitle:<span class="hljs-string">'What would you like to see?'</span>,
        backgroundColor:<span class="hljs-string">'#aebcad'</span>,
        rowBackgroundColor:<span class="hljs-string">'white'</span>
    };


<span class="hljs-keyword">var</span> tableview = Titanium.UI.createTableView(tableViewOptions);

<span class="hljs-comment">// create table view event listener</span>
tableview.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)
</span>{
    <span class="hljs-keyword">if</span>(e.rowData.type === <span class="hljs-string">"pdf"</span>)
    {
        <span class="hljs-keyword">var</span> pspdfkit = <span class="hljs-built_in">require</span>(<span class="hljs-string">'com.pspdfkit'</span>);


        <span class="hljs-keyword">var</span> f = Titanium.Filesystem.getFile(Titanium.Filesystem.resourcesDirectory, e.rowData.filename);
        Ti.API.log(<span class="hljs-string">"f path "</span> + f.nativePath);
        <span class="hljs-keyword">var</span> pdfController = pspdfkit.showPDFAnimated(f.nativePath, <span class="hljs-number">1</span>, {
    pageTransition : <span class="hljs-number">2</span>
})

    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(e.rowData.type === <span class="hljs-string">"video"</span>) {
        <span class="hljs-keyword">var</span> win = Titanium.UI.createWindow({
            url:e.rowData.filename,
            title:e.rowData.title
        });
        Titanium.UI.currentTab.open(win,{animated:<span class="hljs-literal">true</span>});

     } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (e.rowData.test)
    {
        <span class="hljs-keyword">var</span> win = Titanium.UI.createWindow({
            url:e.rowData.test,
            title:e.rowData.title
        });
        Titanium.UI.currentTab.open(win,{animated:<span class="hljs-literal">true</span>});

  }
});

<span class="hljs-comment">// add table view to the window</span>
Titanium.UI.currentWindow.add(tableview);


}

<span class="hljs-built_in">module</span>.exports = product2;
</code></pre><p>Hopefully that&#39;s everything you wanted.  You can ignore the references to video.  I&#39;m still on the fence of whether or not I should put video in the app.</p>
<p>Thanks again, Hani.</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 7th 2013, 1:46:41 pm">May 7th 2013</span>
											by <span class='authorname'>Marc Lachapelle</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Hi Marc,</p>
<p>You are encouraged to learn more about commonJS and read the newest Kitchensink update</p>
<p>I am sorry I won&#39;t be able to fix all the project for you. but here are some indications:</p>
<p>for firstWindow, product1 and product2 put each of them in a separate module. </p>
<p>firstWindow.js</p>
<pre><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">firstWindow</span><span class="hljs-params">()</span></span>{
    <span class="hljs-keyword">var</span> <span class="hljs-keyword">self</span> = {};
    <span class="hljs-keyword">var</span> ww = Ti.UI.createWindow({
        backgroundColor:<span class="hljs-string">'white'</span>
    });
    <span class="hljs-keyword">self</span>.getView = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span></span>{
         <span class="hljs-keyword">return</span> ww;
    }
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">self</span>;

}

module.exports = firstWindow;
</code></pre><p>product1.js</p>
<pre><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">product1</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-comment">// To use this module you can use</span>
    <span class="hljs-comment">// var Product1 = require('product1');</span>
    <span class="hljs-comment">// var product1 = new Product1();</span>
    <span class="hljs-comment">// product1.getView().open()</span>
    <span class="hljs-comment">// you can find this getView function below</span>

    <span class="hljs-keyword">var</span> <span class="hljs-keyword">self</span> ={}
    <span class="hljs-keyword">var</span> win1 = Ti.UI.createWindow();

    <span class="hljs-keyword">if</span> (Ti.Platform.name == <span class="hljs-string">'android'</span>) {
        win1.backgroundColor = <span class="hljs-string">'#4e5c4d'</span>;
    } <span class="hljs-keyword">else</span> {
        win1.backgroundColor = <span class="hljs-string">'#aebcad'</span>;
    }

    <span class="hljs-comment">// create table view data object</span>
    <span class="hljs-keyword">var</span> data = [{
        title : <span class="hljs-string">'Manual'</span>,
        hasChild : <span class="hljs-keyword">true</span>,
        type : <span class="hljs-string">'pdf'</span>,
        filename : <span class="hljs-string">'P1manual.pdf'</span>
    }, {
        title : <span class="hljs-string">'Specs'</span>,
        hasChild : <span class="hljs-keyword">true</span>,
        type : <span class="hljs-string">'pdf'</span>,
        filename : <span class="hljs-string">'P1specs.pdf'</span>
    }]

    <span class="hljs-comment">// create table view</span>
    <span class="hljs-keyword">var</span> tableViewOptions = {
        data : data,
        style : Titanium.UI.iPhone.TableViewStyle.GROUPED,
        headerTitle : <span class="hljs-string">'What would you like to see?'</span>,
        backgroundColor : <span class="hljs-string">'#aebcad'</span>,
        rowBackgroundColor : <span class="hljs-string">'white'</span>
    };

    <span class="hljs-keyword">var</span> tableview = Titanium.UI.createTableView(tableViewOptions);

    <span class="hljs-comment">// create table view event listener</span>
    tableview.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span> </span>{
        <span class="hljs-keyword">if</span> (e.rowData.type === <span class="hljs-string">"pdf"</span>) {
            <span class="hljs-keyword">var</span> pspdfkit = <span class="hljs-keyword">require</span>(<span class="hljs-string">'com.pspdfkit'</span>);

            <span class="hljs-keyword">var</span> f = Titanium.Filesystem.getFile(Titanium.Filesystem.resourcesDirectory, e.rowData.filename);
            Ti.API.log(<span class="hljs-string">"f path "</span> + f.nativePath);
            <span class="hljs-keyword">var</span> pdfController = pspdfkit.showPDFAnimated(f.nativePath, <span class="hljs-number">1</span>, {
                pageTransition : <span class="hljs-number">2</span>
            })

        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (e.rowData.type === <span class="hljs-string">"video"</span>) {
            <span class="hljs-comment">// as I said before don't use url property of window </span>
            <span class="hljs-comment">// Here you should create another commonJs Module for the child window</span>

            <span class="hljs-keyword">var</span> win = Titanium.UI.createWindow({
                url : e.rowData.filename,
                title : e.rowData.title
            });
            Titanium.UI.currentTab.open(win, {
                animated : <span class="hljs-keyword">true</span>
            });

        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (e.rowData.test) {
            <span class="hljs-comment">// Here too</span>
            <span class="hljs-keyword">var</span> win = Titanium.UI.createWindow({
                url : e.rowData.test,
                title : e.rowData.title
            });
            Titanium.UI.currentTab.open(win, {
                animated : <span class="hljs-keyword">true</span>
            });

        }
    });

    <span class="hljs-comment">// add table view to the window</span>
    win1.add(tableview);

    <span class="hljs-keyword">self</span>.getView = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span></span>{
        <span class="hljs-keyword">return</span> win1;
    };
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">self</span>
}

module.exports = product1;
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="May 9th 2013, 4:17:09 pm">May 9th 2013</span>
											by <span class='authorname'>Hani Hamadeh</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Hani, thanks for all your help.  I won&#39;t bother you anymore. lol</p>
<p>And I&#39;m going to start reading about commonJS ASAP.  It seems like it&#39;s really useful in developing with titanium.</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 9th 2013, 4:29:52 pm">May 9th 2013</span>
											by <span class='authorname'>Marc Lachapelle</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-261970">
				
						<section>
							<p>Hello Marc,</p>
<p>Just change the event listener : </p>
<pre><code class="hljs">win.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)</span>{
    <span class="hljs-keyword">if</span>(e.source.jsFile){
        <span class="hljs-keyword">var</span> firstWindow = <span class="hljs-built_in">require</span>(<span class="hljs-string">'myModule'</span>);
        <span class="hljs-keyword">var</span> win = Titanium.UI.createWindow({
        url : <span class="hljs-string">"XXX"</span>
    });
        win.open();
    }
});
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="May 1st 2013, 5:35:00 pm">May 1st 2013</span>
								by <span class='authorname'>Jigar Maheshwari</span><br>
								<a class="icon-bg icon-link" href="question/151812/commonjs-module-and-eventlistener#answer-261970" rel="permalink">permalink</a>
							</div>

							<h5>6 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Thanks for your response, Jigar, but that&#39;s not quite what I&#39;m looking for.  I want one event listener to handle all the images.  The only way I could get your code to work was to put the path to the file in the url, which means I&#39;d have to have a different event listener for each image, and that&#39;s basically what I was doing with my other code before I was told there&#39;s a better way to do it.  And also, when I used your code, when it opened up the link, it opened without the tab bar at the bottom, and without a back button and title bar at the top.</p>
<p>Thanks for trying though.  I appreciate it.</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 1st 2013, 5:50:07 pm">May 1st 2013</span>
											by <span class='authorname'>Marc Lachapelle</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Hello Marc,</p>
<p>we have a method for creating a window like <code>createWindow()</code> not like <code>createWindow</code></p>
<p>Thanks</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 1st 2013, 5:59:35 pm">May 1st 2013</span>
											by <span class='authorname'>Jigar Maheshwari</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>This is the problem for getting the error.</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 1st 2013, 6:00:27 pm">May 1st 2013</span>
											by <span class='authorname'>Jigar Maheshwari</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Hello Marc,</p>
<p>Whtat you are going to use. TabGroup for tab or use a custom tab.?</p>
<p>thanks</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 1st 2013, 6:01:36 pm">May 1st 2013</span>
											by <span class='authorname'>Jigar Maheshwari</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Thanks, Jigar. I just left work, so I don&#39;t know for sure, but I think I&#39;m using tabgroup. When I get into work tomorrow, I&#39;ll try changing create window and see if that works. I&#39;ll post another comment when I&#39;m done to let you know if it worked or not.</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 1st 2013, 6:27:52 pm">May 1st 2013</span>
											by <span class='authorname'>Marc Lachapelle</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Using <code>url:&amp;#39;xxx&amp;#39;</code> to create a window creates it in a new Javascript context.<br>You shouldn&#39;t do that unless it is really necessary and I don&#39;t think it is necessary in your case</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 1st 2013, 11:18:16 pm">May 1st 2013</span>
											by <span class='authorname'>Hani Hamadeh</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>-1</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
