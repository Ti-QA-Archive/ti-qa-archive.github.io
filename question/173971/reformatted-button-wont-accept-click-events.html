<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Reformatted: Button won&#39;t accept click events. Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Reformatted: Button won&#39;t accept click events.</h1>
		</header>
		<section>
			<p>The button is simply not working. All code seems to be correct, but the eventListener is not seeing clicks.</p>
<p>Here is the view:</p>
<pre><code class="hljs"><span class="hljs-tag">&lt;<span class="hljs-title">Alloy</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">View</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"wifiAuthenticate"</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"container"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">ImageView</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"wifiImage"</span> <span class="hljs-attribute">formFactor</span>=<span class="hljs-value">"handheld"</span> <span class="hljs-attribute">image</span>=<span class="hljs-value">"./iPhone4/wifi_iphone.png"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">ImageView</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">ImageView</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"wifiImage"</span> <span class="hljs-attribute">formFactor</span>=<span class="hljs-value">"tablet"</span> <span class="hljs-attribute">image</span>=<span class="hljs-value">"./tablet/wifi_ipad.png"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">ImageView</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">Label</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"authenticateLabel"</span>&gt;</span>Please check your device settings and connect to a wifi signal.<span class="hljs-tag">&lt;/<span class="hljs-title">Label</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">Button</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"authenticateButton"</span>&gt;</span>Authenticate Hyperdrive CRM<span class="hljs-tag">&lt;/<span class="hljs-title">Button</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">View</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">Alloy</span>&gt;</span>
</code></pre><p>Here is the controller:</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> args = <span class="hljs-built_in">arguments</span>[<span class="hljs-number">0</span>] || {};

<span class="hljs-comment">// upon clicking the authenticate button, go to log-lead window</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">navigateToLogLead</span>(<span class="hljs-params"></span>)</span>{
    Ti.App.fireEvent( <span class="hljs-string">'app:authenticate:phone'</span> );
    Ti.API.info( <span class="hljs-string">'authenticate clicked.'</span> );
}

$.authenticateButton.addEventListener( <span class="hljs-string">'click'</span>, navigateToLogLead );
</code></pre><p>The issue is simply that nothing happens when clicked. This occurs after an animation of the view in which the button sits, might this have something to do with it? I have tried it both with and without a title field. </p>
<p>Bug on appcelerator&#39;s side? error on my side? </p>
<p><strong>Thank you for your time in helping.</strong></p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="May 7th 2014, 12:15:45 pm">May 7th 2014</span>
				by <span class='authorname'>Nickolas Nikolic</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>alloy</span></li>
					
						<li><span class='tagname'>click</span></li>
					
						<li><span class='tagname'>event</span></li>
					
				</ul>
			

			<section>
				<h5>3 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>I am actually humbled by those that have responded. However, the issue is still present.</p>
<p>It might be useful to describe some of the structure and circumstance of this code:</p>
<p>index.xml requires authenticate.xml, where we see the code from the original post. There is an animation on the authenticate view coded from within the index controller.</p>
<p><strong>Other buttons work in the project.</strong></p>
<p>I am running 3.2.3GA and alloy 1.3.1</p>
</div>
							<div class="author">
								&mdash; commented <span title="May 7th 2014, 6:56:07 pm">May 7th 2014</span>
								by <span class='authorname'>Nickolas Nikolic</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Hello Nickolas!</p>
<p>The button is in authenticate.xml, and where is defined the navigateToLogLead function? in authenticate.js or index.js? </p>
<p>Best,</p>
<p>Mauro</p>
</div>
							<div class="author">
								&mdash; commented <span title="May 7th 2014, 8:07:07 pm">May 7th 2014</span>
								by <span class='authorname'>Mauro Parra</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>authenticate.js is where it is defined.</p>
</div>
							<div class="author">
								&mdash; commented <span title="May 7th 2014, 8:53:26 pm">May 7th 2014</span>
								by <span class='authorname'>Nickolas Nikolic</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-278514">
				
						<section>
							<p>Hello Nickolas,<br>usually you will be adding those events in your xml (views creation) instead of the controller. A sample here.</p>
<h2 id="code">Code</h2>
<h3 id="index-xml">index.xml</h3>
<pre><code class="hljs"><span class="hljs-tag">&lt;<span class="hljs-title">Alloy</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">Window</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"container"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">Button</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"button"</span> <span class="hljs-attribute">onClick</span>=<span class="hljs-value">"doClick"</span>&gt;</span>Hello, World!<span class="hljs-tag">&lt;/<span class="hljs-title">Button</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">Window</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">Alloy</span>&gt;</span>
</code></pre><h3 id="index-js">index.js</h3>
<pre><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">doClick</span><span class="hljs-params">(e)</span> <span class="hljs-comment">{
    alert("Hello from the button!");
}</span>

$.<span class="hljs-title">index</span>.<span class="hljs-title">open</span><span class="hljs-params">()</span>;</span>
</code></pre><h2 id="testing">Testing</h2>
<p>Create a new mobile project with alloy support, then edit index.xml and replace that code with the one in this answer, and replace the index.js in the controllers directory with this sample. Save all of them and then run the code in iOS simulator. </p>
<h2 id="environment-">Environment </h2>
<p>Mobile SDK 3.2.3.GA<br>Tested: iOS 7</p>
<p>Let us know if this solves your issue.</p>
<p>Best,</p>
<p>Mauro</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="May 7th 2014, 5:47:45 pm">May 7th 2014</span>
								by <span class='authorname'>Mauro Parra</span><br>
								<a class="icon-bg icon-link" href="question/173971/reformatted-button-wont-accept-click-events.html#answer-278514" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-278516">
				
						<section>
							<p>There&#39;s no need, nor benefit, to declaring event handlers in XML. It&#39;s all a matter of preference. (And personally I prefer to keep the XML clean with nothing there but IDs. Again, that&#39;s my preference.) </p>
<p>I&#39;ve checked your code and it&#39;s working for me. I made a slight modification to put the View inside of a Window so that I didn&#39;t have to rig up extra controllers.</p>
<p><strong>index.xml</strong></p>
<pre><code class="hljs"><span class="hljs-tag">&lt;<span class="hljs-title">Alloy</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-title">Window</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">View</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"wifiAuthenticate"</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"container"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">ImageView</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"wifiImage"</span> <span class="hljs-attribute">formFactor</span>=<span class="hljs-value">"handheld"</span> <span class="hljs-attribute">image</span>=<span class="hljs-value">"./iPhone4/wifi_iphone.png"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">ImageView</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">ImageView</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"wifiImage"</span> <span class="hljs-attribute">formFactor</span>=<span class="hljs-value">"tablet"</span> <span class="hljs-attribute">image</span>=<span class="hljs-value">"./tablet/wifi_ipad.png"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">ImageView</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">Label</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"authenticateLabel"</span>&gt;</span>Please check your device settings and connect to a wifi signal.<span class="hljs-tag">&lt;/<span class="hljs-title">Label</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-title">Button</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"authenticateButton"</span>&gt;</span>Authenticate Hyperdrive CRM<span class="hljs-tag">&lt;/<span class="hljs-title">Button</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">View</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-title">Window</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">Alloy</span>&gt;</span>
</code></pre><p><strong>index.js</strong></p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> args = <span class="hljs-built_in">arguments</span>[<span class="hljs-number">0</span>] || {};

<span class="hljs-comment">// upon clicking the authenticate button, go to log-lead window</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">navigateToLogLead</span>(<span class="hljs-params"></span>)</span>{
  Ti.App.fireEvent( <span class="hljs-string">'app:authenticate:phone'</span> );
  Ti.API.info( <span class="hljs-string">'authenticate clicked.'</span> );
}

$.authenticateButton.addEventListener( <span class="hljs-string">'click'</span>, navigateToLogLead );

$.index.open();
</code></pre><p>In the console, I see:</p>
<pre><code class="hljs">[<span class="hljs-name">INFO</span>]  <span class="hljs-atom">authenticate</span> <span class="hljs-atom">clicked</span>.
</code></pre><p>Tested with TiSDK 3.2.3.GA, Alloy 1.3.1, iOS simulator</p>
<p>Try changing your Ti.API.info() call to alert() to get a more obvious indication of whether the event is firing. I see nothing wrong with your code. And like I say, it works for me.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="May 7th 2014, 6:07:36 pm">May 7th 2014</span>
								by <span class='authorname'>Tim Poulsen</span><br>
								<a class="icon-bg icon-link" href="question/173971/reformatted-button-wont-accept-click-events.html#answer-278516" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
