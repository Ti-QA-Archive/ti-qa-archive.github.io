<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>BackgroundImage gets deformed when pushed to the side » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>BackgroundImage gets deformed when pushed to the side</h1>
		</header>
		<section>
			<p>Hi!</p>
<p>I&#39;m quite new to Titanium, so please be patient with me…</p>
<p>My iPad application has several windows with backgrounds. When I animate one to be pushed aside to get focus on another image, it gets deformed because the window is to wide. I was however hoping that the backgroundImage would just show a smaller part of the image. (Like overflow:hidden in css) </p>
<p>Could someone please help me out?</p>
<p>Thanks in advance!</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="November 30th 2012, 10:40:57 am">November 30th 2012</span>
				by <span class='authorname'>Klaus Dillen</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>backgroundimage</span></li>
					
						<li><span class='tagname'>ipad</span></li>
					
				</ul>
			

			<section>
				<h5>1 Comment</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>When posting a question like this, you really need to provide as much information about your environment as possible along with a small code sample that reproduces the issue that you are seeing. This makes it easy for people to copy and paste your code into a new project and find a solution much quicker. If you have any questions as to what environment info needs to be posted, please see the <a href="http:&#x2F;&#x2F;developer.appcelerator.com&#x2F;question&#x2F;ask">Ask A Question Page</a> for the required data.</p>
</div>
							<div class="author">
								&mdash; commented <span title="November 30th 2012, 10:55:20 am">November 30th 2012</span>
								by <span class='authorname'>Anthony Decena</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>3</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>3 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-251982">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>Hi</p>
<p>I think the problem you have here might be very simple.</p>
<p>You are using the <code>backgroundImage</code> property of the <code>window</code> which I think you will see <strong>stretches</strong> or <strong>compresses</strong> to the area available to it.</p>
<p>So if you are changing the width of the windows (in your case) it is most likely your image is changing width as well.</p>
<p>To fix this, simply add an <code>imageView</code> to the window and set the <code>image</code> property to the same as you currently have on the window <code>backgroundImage</code> property.  Make sure to set the <code>top</code> and <code>left</code> properties for the image to <strong>0</strong> to make sure the image sits where you would likely want it.</p>
<p>Let me know how this goes.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="November 30th 2012, 8:49:52 pm">November 30th 2012</span>
								by <span class='authorname'>Malcolm Hollingsworth</span><br>
								<a class="icon-bg icon-link" href="../../question/145241/backgroundimage-gets-deformed-when-pushed-to-the-side.html#answer-251982" rel="permalink">permalink</a>
							</div>

							<h5>4 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Hi</p>
<p>I will put some test code together shortly and post back.</p>
<p>Quick tip, post comments on the answers rather than creating a fresh answer which is actually a comment - helps people work out threads, especially in the future.</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 1st 2012, 10:17:57 am">December 1st 2012</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Hi</p>
<p>I have made a quick test app to show you how to achieve the images without scaling using my previous suggestion of placing the images into each window as an imageView.</p>
<p>To test this code, create a new blank iPad project and replace all the contents of <code>app.js</code> with the code below and simply run.</p>
<p>You will see three strips, each 1&#x2F;3 of a portrait screen, each one displaying a photo larger than the iPad screen, but each one still perfectly in proportion to the original image.</p>
<p>The key here is to provide the width and height with actual sizes and not</p>
<ul>
<li><p><code>Ti.UI.FILL</code></p>
</li>
<li><p><code>Ti.UI.SIZE</code></p>
</li>
<li><p><code>auto</code> - this should not be used any more </p>
</li>
<li><p><code>100%</code> - not a fan of this one unless circumstances allow nothing else</p>
</li>
</ul>
<p>These will not provide the outcome you expected.</p>
<pre><code class="hljs">Ti.UI.setBackgroundColor(<span class="hljs-string">'#000'</span>);

(function () {
    var win1 = Ti.UI.createWindow({  
        left: <span class="hljs-number">0</span>,
        title: <span class="hljs-string">'Win Small'</span>,
        <span class="hljs-variable">width</span>: <span class="hljs-number">256</span>
    });
    var img1 = Ti.UI.createImageView({
        <span class="hljs-variable">height</span>: <span class="hljs-number">1024</span>,
        <span class="hljs-built_in">image</span>: <span class="hljs-string">'http://sportscarsfans.com/wallpaper/1280x1024_Wallpapers_70258_20080507.jpg'</span>,
        <span class="hljs-comment">//left: 0,</span>
        top: <span class="hljs-number">0</span>,
        <span class="hljs-variable">width</span>: <span class="hljs-number">1280</span>
    });
    win1.<span class="hljs-built_in">add</span>(img1);
    win1.<span class="hljs-built_in">open</span>();

    var win2 = Ti.UI.createWindow({  
        left: <span class="hljs-number">256</span>,
        title: <span class="hljs-string">'Win Small'</span>,
        top: <span class="hljs-number">0</span>,
        <span class="hljs-variable">width</span>: <span class="hljs-number">256</span>
    });
    var img2 = Ti.UI.createImageView({
        <span class="hljs-variable">height</span>: <span class="hljs-number">1200</span>,
        <span class="hljs-built_in">image</span>: <span class="hljs-string">'http://1.bp.blogspot.com/-FiH7HG5ZBkc/UKrYRxzY3lI/AAAAAAAAACI/laCv3TbPJ_M/s1600/modified-sports-cars-wallpapers.jpg'</span>,
        <span class="hljs-comment">//left: 0,</span>
        top: <span class="hljs-number">0</span>,
        <span class="hljs-variable">width</span>: <span class="hljs-number">1600</span>
    });
    win2.<span class="hljs-built_in">add</span>(img2);
    win2.<span class="hljs-built_in">open</span>();

    var win3 = Ti.UI.createWindow({  
        left: <span class="hljs-number">512</span>,
        title: <span class="hljs-string">'Win Small'</span>,
        top: <span class="hljs-number">0</span>,
        <span class="hljs-variable">width</span>: <span class="hljs-number">256</span>
    });
    var img3 = Ti.UI.createImageView({
        <span class="hljs-variable">height</span>: <span class="hljs-number">1200</span>,
        <span class="hljs-built_in">image</span>: <span class="hljs-string">'http://images5.fanpop.com/image/photos/31400000/LEXUS-IS-F-CCS-R-sports-cars-31467530-1920-1280.jpg'</span>,
        <span class="hljs-comment">//left: 0,</span>
        top: <span class="hljs-number">0</span>,
        <span class="hljs-variable">width</span>: <span class="hljs-number">1920</span>
    });
    win3.<span class="hljs-built_in">add</span>(img3);
    win3.<span class="hljs-built_in">open</span>();
})();
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="December 1st 2012, 1:39:22 pm">December 1st 2012</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Thanks so much Malcolm, that fixed it!</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 1st 2012, 2:46:35 pm">December 1st 2012</span>
											by <span class='authorname'>Klaus Dillen</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Excellent - do not forget to mark is as answered&#x2F;</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 1st 2012, 2:52:01 pm">December 1st 2012</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-251966">
				
						<section>
							<p>The following image should clarify the idea: </p>
<p>https:&#x2F;&#x2F;www.dropbox.com&#x2F;s&#x2F;id9dspzc3ae5pct&#x2F;cats.jpg</p>
<p>Every image is a window inherited by the window to the left of it. When another image is clicked, the child of current (in this case the one to the left) image will move to the left, &quot;closing&quot; the current image. Then the child of the clicked image will move to the right, &quot;opening&quot; that image.</p>
<p>The big problem is that in Titanium, the images at the right side of the opened image are compressed as they are pushed against the right side. I don&#39;t mind that they do not show completely, but I don&#39;t want them to be deformed. In css I would just add &quot;overflow:hidden&quot;. </p>
<p>Here is some basic code, I left out all the non-important stuff:</p>
<pre><code class="hljs">    <span class="hljs-keyword">var</span> comp = Titanium.UI.createWindow({
        navBarHidden:<span class="hljs-literal">false</span>,
        fullscreen: <span class="hljs-literal">true</span>,
           backgroundImage: <span class="hljs-string">"fixed/bg.jpg"</span>,
           borderRadius:<span class="hljs-number">10</span>,
           backgroundColor:<span class="hljs-string">'red'</span>
    });

    <span class="hljs-keyword">var</span> cats = [];
    <span class="hljs-keyword">var</span> cats_listen = [];

    <span class="hljs-comment">// function to determine space to the left</span>
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">catLeft</span><span class="hljs-params">(index)</span></span>{
        <span class="hljs-keyword">if</span>(index==<span class="hljs-number">1</span>){
            <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>; 
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(index==<span class="hljs-number">2</span>){ 
            <span class="hljs-keyword">return</span> <span class="hljs-number">544</span>;
        } <span class="hljs-keyword">else</span> { 
            <span class="hljs-keyword">return</span> <span class="hljs-number">96</span>; 
        }
    }

    <span class="hljs-comment">// set up all the images</span>
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">createCats</span><span class="hljs-params">()</span></span>{
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">1</span>; i &lt;<span class="hljs-number">7</span>; i++) {

            cats[i] = Titanium.UI.createWindow({
                backgroundImage: <span class="hljs-string">"fixed/front/imageDefinedByFunction…"</span>, 
                height: comp.height,
                width: comp.width,
                top: <span class="hljs-number">0</span>,
                left: catLeft(i)
            });

            cats_listen[i] = Titanium.UI.createWindow({
                height: comp.height,
                width:<span class="hljs-number">96</span>,
                top:<span class="hljs-number">0</span>,
                left:<span class="hljs-number">0</span>
            });

            cats[i].add(cats_listen[i]);

            <span class="hljs-comment">// Add first window to the main super window, </span>
            <span class="hljs-comment">// all the others are inherited by their superior window</span>
            <span class="hljs-keyword">if</span>(i==<span class="hljs-number">1</span>){
                comp.add(cats[i]);
            } <span class="hljs-keyword">else</span> {
                cats[i-<span class="hljs-number">1</span>].add(cats[i]);
            }

        }

        <span class="hljs-comment">// Hardcoded listeners to prevent animation issues </span>
        cats_listen[<span class="hljs-number">1</span>].addEventListener(<span class="hljs-string">'click'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span></span>{
            openCat(<span class="hljs-number">1</span>);    
        });
        cats_listen[<span class="hljs-number">2</span>].addEventListener(<span class="hljs-string">'click'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span></span>{
            openCat(<span class="hljs-number">2</span>);    
        });
        cats_listen[<span class="hljs-number">3</span>].addEventListener(<span class="hljs-string">'click'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span></span>{
            openCat(<span class="hljs-number">3</span>);    
        });
        cats_listen[<span class="hljs-number">4</span>].addEventListener(<span class="hljs-string">'click'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span></span>{
            openCat(<span class="hljs-number">4</span>);    
        });
        cats_listen[<span class="hljs-number">5</span>].addEventListener(<span class="hljs-string">'click'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span></span>{
            openCat(<span class="hljs-number">5</span>);    
        });
        cats_listen[<span class="hljs-number">6</span>].addEventListener(<span class="hljs-string">'click'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span></span>{
            openCat(<span class="hljs-number">6</span>);    
        });
    }

<span class="hljs-comment">// Main function to call this page</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">showCompanies</span><span class="hljs-params">()</span></span>{
    createCats();
    comp.open();
}

<span class="hljs-comment">// When an image is clicked, the current opened image should be closed</span>
<span class="hljs-comment">// and the clicked image should be opened</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">openCat</span><span class="hljs-params">(index)</span></span>{
    <span class="hljs-keyword">if</span>(activeCat!=index){     <span class="hljs-comment">// image cannot be opened if it is already open</span>
        closeActiveCat();  <span class="hljs-comment">// close current image</span>
        <span class="hljs-comment">// the last image has no children (it is no covered), so we only have to pull it to the left (above)</span>
        <span class="hljs-keyword">if</span>(index!=<span class="hljs-number">6</span>){      
                <span class="hljs-comment">// push the child image to the right, so the parent image is not covered</span>
                cats[index+<span class="hljs-number">1</span>].animate({
                    left:<span class="hljs-number">544</span>,
                    duration:<span class="hljs-number">500</span>,
                    delay: <span class="hljs-number">500</span>
                });

        }
    activeCat=index;  <span class="hljs-comment">// change the current image for future clicks</span>
    }
}

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">closeActiveCat</span><span class="hljs-params">()</span></span>{
    <span class="hljs-keyword">if</span>(activeCat!=<span class="hljs-number">6</span>){
            cats[activeCat+<span class="hljs-number">1</span>].animate({
                left:<span class="hljs-number">96</span>,
                duration:<span class="hljs-number">500</span>
            });    
    }
}
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="November 30th 2012, 1:15:44 pm">November 30th 2012</span>
								by <span class='authorname'>Klaus Dillen</span><br>
								<a class="icon-bg icon-link" href="../../question/145241/backgroundimage-gets-deformed-when-pushed-to-the-side.html#answer-251966" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-251991">
				
						<section>
							<p>Hi!<br>Thanks for your response!</p>
<p>I&#39;ve added ImageViews to each window:</p>
<pre><code class="hljs">cats_bgs<span class="hljs-string">[i]</span> = Titanium.UI.createImageView({
    image: photos<span class="hljs-string">[i]</span>,
    height: comp.height, 
    top: <span class="hljs-number">0</span>,
    left: <span class="hljs-number">0</span>
}); 
cats<span class="hljs-string">[i]</span>.add(cats_bgs<span class="hljs-string">[i]</span>);
</code></pre><p>Now the images keep their proportional ratio, but they scale down to the width of the remaining space at the right side. The one the most to the right is the complete image but very very small…</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="December 1st 2012, 9:44:01 am">December 1st 2012</span>
								by <span class='authorname'>Klaus Dillen</span><br>
								<a class="icon-bg icon-link" href="../../question/145241/backgroundimage-gets-deformed-when-pushed-to-the-side.html#answer-251991" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
