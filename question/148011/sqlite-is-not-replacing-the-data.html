<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Sqlite is not replacing the data? » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Sqlite is not replacing the data?</h1>
		</header>
		<section>
			<p>Hi</p>
<p>I am making an app in which i have to show the high score.I have made a table and column with the name of score.I replace the data in sqlite each time of the score increases then db but it is not working property and not replacing the data and showing only zero in alert which i have used as start.Here is my code:</p>
<pre><code class="hljs">function updatescore(scoreapp) {
    <span class="hljs-keyword">var</span> scoretable = <span class="hljs-keyword">db</span>.execute(<span class="hljs-string">"select * from Score"</span>);
    scoredb = scoretable.fieldByName('<span class="hljs-keyword">Score</span>');
    <span class="hljs-keyword">if</span> (scoreapp &gt; scoredb) {
        <span class="hljs-keyword">var</span> theData = <span class="hljs-keyword">db</span>.execute('<span class="hljs-keyword">REPLACE</span> INTO <span class="hljs-keyword">Score</span> (<span class="hljs-keyword">Score</span>) VALUES(?)', scoreapp);
        alert('<span class="hljs-keyword">Score</span> has been Updated');
    } <span class="hljs-keyword">else</span> {
        alert(scoredb);
        <span class="hljs-keyword">return</span> scoredb;
    }

}
</code></pre><p>Thanks</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="February 7th 2013, 9:09:02 pm">February 7th 2013</span>
				by <span class='authorname'>Muhammad Wahhab Mirza</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>mobile</span></li>
					
						<li><span class='tagname'>sqlite</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>3</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>3 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-256356">
				
						<section>
							<p>hi,</p>
<p>i haven&#39;t seen any code which closes database so do you close database after firing query. because it is necessary to close database to get updated data.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="February 8th 2013, 2:50:33 am">February 8th 2013</span>
								by <span class='authorname'>Mitul Bhalia</span><br>
								<a class="icon-bg icon-link" href="../../question/148011/sqlite-is-not-replacing-the-data.html#answer-256356" rel="permalink">permalink</a>
							</div>

							<h5>6 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>@Mitul i am now closing the db but still the same effect.Could you tell me why?</p>
<p>Thanks</p>
</p>
										<div class="author">
											&mdash; commented <span title="February 8th 2013, 10:37:28 am">February 8th 2013</span>
											by <span class='authorname'>Muhammad Wahhab Mirza</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>try to open and close database within function…</p>
<pre><code class="hljs">function updatescore(scoreapp) {
    <span class="hljs-keyword">db</span>.<span class="hljs-keyword">open</span>();
    <span class="hljs-keyword">var</span> scoretable = <span class="hljs-keyword">db</span>.execute(<span class="hljs-string">"select * from Score"</span>);
    scoredb = scoretable.fieldByName('<span class="hljs-keyword">Score</span>');
    <span class="hljs-keyword">if</span> (scoreapp &gt; scoredb) {
        <span class="hljs-keyword">var</span> theData = <span class="hljs-keyword">db</span>.execute('<span class="hljs-keyword">REPLACE</span> INTO <span class="hljs-keyword">Score</span> (<span class="hljs-keyword">Score</span>) VALUES(?)', scoreapp);
        alert('<span class="hljs-keyword">Score</span> has been Updated');
    } <span class="hljs-keyword">else</span> {
        alert(scoredb);
    <span class="hljs-keyword">db</span>.<span class="hljs-keyword">close</span>();
        <span class="hljs-keyword">return</span> scoredb;
    }
    <span class="hljs-keyword">db</span>.<span class="hljs-keyword">close</span>(); 
}
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="February 9th 2013, 2:40:44 am">February 9th 2013</span>
											by <span class='authorname'>Mitul Bhalia</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>@Mitul what i have seen that i have not given the primary key first but now i have given the primary key and it is working fine do you think primary key could cause problem</p>
<p>Thanks</p>
</p>
										<div class="author">
											&mdash; commented <span title="February 9th 2013, 3:13:02 am">February 9th 2013</span>
											by <span class='authorname'>Muhammad Wahhab Mirza</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>that strange but good thing is you have solved problem..</p>
</p>
										<div class="author">
											&mdash; commented <span title="February 9th 2013, 3:16:09 am">February 9th 2013</span>
											by <span class='authorname'>Mitul Bhalia</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>@Mitul By the way thanks for your help.Very very much i was also very strange to see happening this.But sometimes you know try and try again works</p>
</p>
										<div class="author">
											&mdash; commented <span title="February 9th 2013, 3:19:59 am">February 9th 2013</span>
											by <span class='authorname'>Muhammad Wahhab Mirza</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>:)</p>
</p>
										<div class="author">
											&mdash; commented <span title="February 9th 2013, 3:31:05 am">February 9th 2013</span>
											by <span class='authorname'>Mitul Bhalia</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-256359">
				
						<section>
							<p>You can uninstall the app from the emmulator&#x2F;device and install it again,the updated data will be reflected.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="February 8th 2013, 5:14:52 am">February 8th 2013</span>
								by <span class='authorname'>Richard JOSEPH</span><br>
								<a class="icon-bg icon-link" href="../../question/148011/sqlite-is-not-replacing-the-data.html#answer-256359" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-256666">
				
						<section>
							<p>REPLACE INTO is the same (according to sqlite) documentation as INSERT INTO, so each time it is adding a row.  You should try doing an UPDATE instead of a REPLACE .</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="February 12th 2013, 8:41:13 pm">February 12th 2013</span>
								by <span class='authorname'>mitch duitz</span><br>
								<a class="icon-bg icon-link" href="../../question/148011/sqlite-is-not-replacing-the-data.html#answer-256666" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
