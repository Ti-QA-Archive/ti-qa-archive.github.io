<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Current Location on the map » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Current Location on the map</h1>
		</header>
		<section>
			<p>current location is not working for me. it show wrong place. i am in Pakistan and it show me Some where in United State.</p>
<pre><code class="hljs"><span class="hljs-variable"><span class="hljs-keyword">var</span> win</span> = Ti.UI.currentWindow;
<span class="hljs-variable"><span class="hljs-keyword">var</span> mapAnnotation</span> = Titanium.Map.createAnnotation({
    latitude : <span class="hljs-number">32.587465</span>,
    longitude : <span class="hljs-number">71.549492</span>,
    pincolor: Titanium.Map.ANNOTATION_RED,
    animate:<span class="hljs-literal">true</span>
});

<span class="hljs-variable"><span class="hljs-keyword">var</span> latitude</span> = <span class="hljs-number">32.587465</span>;
<span class="hljs-variable"><span class="hljs-keyword">var</span> longitude</span> = <span class="hljs-number">71.549492</span>;
<span class="hljs-variable"><span class="hljs-keyword">var</span> annotation</span> = [];

<span class="hljs-variable"><span class="hljs-keyword">var</span> boston</span> = {
    latitude : <span class="hljs-number">32.587465</span>,
    longitude : <span class="hljs-number">71.549492</span>,
    latitudeDelta : <span class="hljs-number">8</span>,
    longitudeDelta : <span class="hljs-number">8</span>
};

<span class="hljs-variable"><span class="hljs-keyword">var</span> mapview</span> = Titanium.Map.createView({
    mapType : Titanium.Map.STANDARD_TYPE,
    region : boston,
    animate : <span class="hljs-literal">true</span>,
    regionFit : <span class="hljs-literal">true</span>,
    userLocation :<span class="hljs-literal">true</span>,
    annotations:[mapAnnotation]

});
</code></pre>
		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="April 5th 2013, 5:20:16 am">April 5th 2013</span>
				by <span class='authorname'>Muhammad Waqas</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>ios</span></li>
					
						<li><span class='tagname'>javascript</span></li>
					
						<li><span class='tagname'>mapview</span></li>
					
						<li><span class='tagname'>titanium</span></li>
					
						<li><span class='tagname'>titanium studio</span></li>
					
				</ul>
			

			<section>
				<h5>2 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>@Muhammad Waqas : you test it on device or simulator ?</p>
</div>
							<div class="author">
								&mdash; commented <span title="April 5th 2013, 5:24:53 am">April 5th 2013</span>
								by <span class='authorname'>Dharmik Patel</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>if your answer is simulator than try it in device . it show your current location. :)</p>
</div>
							<div class="author">
								&mdash; commented <span title="April 5th 2013, 5:26:09 am">April 5th 2013</span>
								by <span class='authorname'>Dharmik Patel</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-260113">
				
						<section>
							<p>Hi muhammad,</p>
<p>if you are trying into simulator or emulator then they have fixed location to display as current location, if you to see exact location then you have to try this into real device, In device it shows your real current location</p>
<p>one more thing you can customized your current location also in simulator or emulator.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="April 5th 2013, 5:24:36 am">April 5th 2013</span>
								by <span class='authorname'>Sagar  Patel</span><br>
								<a class="icon-bg icon-link" href="question/150500/current-location-on-the-map#answer-260113" rel="permalink">permalink</a>
							</div>

							<h5>4 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Hi,</p>
<p>If this post helps you then please select this as best answer, so this post helps other.</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 5th 2013, 5:53:25 am">April 5th 2013</span>
											by <span class='authorname'>Sagar  Patel</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>you have said u can customize ur current location how?</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 5th 2013, 7:43:25 am">April 5th 2013</span>
											by <span class='authorname'>Muhammad Waqas</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>if you want to put current location as any other place then you can put it, </p>
<p>open the simulator open , open the debug tab, in debug tab click custom location. it will open a new window in that window you can insert, latitude and longitude you want and that location is set as your current location, please refer this link, of screenshoot ,  </p>
<p><a href="http:&#x2F;&#x2F;tinypic.com&#x2F;view.php?pic=2ajdeux&amp;s=6">http:&#x2F;&#x2F;tinypic.com&#x2F;view.php?pic=2ajdeux&amp;s=6</a></p>
</p>
										<div class="author">
											&mdash; commented <span title="April 5th 2013, 8:05:41 am">April 5th 2013</span>
											by <span class='authorname'>Sagar  Patel</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>let me know it works for you  or not</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 5th 2013, 8:19:33 am">April 5th 2013</span>
											by <span class='authorname'>Sagar  Patel</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-260114">
				
						<section>
							<p>Hi Muhammad,</p>
<p>For finding current location, you have to call this kind of function:</p>
<pre><code class="hljs">function getCurrentLocation(<span class="hljs-keyword">e</span>) {
      Ti.Geolocation.preferredProvider = <span class="hljs-string">"gps"</span>;
      Titanium.Geolocation.accuracy = Titanium.Geolocation.ACCURACY_BEST;

      Titanium.Geolocation.getCurrentPosition(function(<span class="hljs-keyword">e</span>) {});

    <span class="hljs-keyword">var</span> locationCallback = function(<span class="hljs-keyword">e</span>) {
        <span class="hljs-keyword">if</span> (!<span class="hljs-keyword">e</span>.success || <span class="hljs-keyword">e</span>.<span class="hljs-keyword">error</span>) {
            <span class="hljs-keyword">return</span>;
        }
        Titanium.Geolocation.removeEventListener('location', locationCallback);

        <span class="hljs-keyword">var</span> longitude1 = <span class="hljs-keyword">e</span>.coords.longitude;
        <span class="hljs-keyword">var</span> latitude1 = <span class="hljs-keyword">e</span>.coords.latitude;
        <span class="hljs-keyword">var</span> altitude = <span class="hljs-keyword">e</span>.coords.altitude;
        <span class="hljs-keyword">var</span> heading = <span class="hljs-keyword">e</span>.coords.heading;
        <span class="hljs-keyword">var</span> accuracy = <span class="hljs-keyword">e</span>.coords.accuracy;
        <span class="hljs-keyword">var</span> speed = <span class="hljs-keyword">e</span>.coords.speed;
        <span class="hljs-keyword">var</span> timestamp = <span class="hljs-keyword">e</span>.coords.timestamp;
        <span class="hljs-keyword">var</span> altitudeAccuracy = <span class="hljs-keyword">e</span>.coords.altitudeAccuracy;
}
</code></pre><p>Thanks</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="April 5th 2013, 5:25:14 am">April 5th 2013</span>
								by <span class='authorname'>Sunny Patel</span><br>
								<a class="icon-bg icon-link" href="question/150500/current-location-on-the-map#answer-260114" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>if you see in simulator then its  not showing current location. for current location you have to install app in device.</p>
<p>Thanks</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 5th 2013, 5:26:35 am">April 5th 2013</span>
											by <span class='authorname'>Sunny Patel</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>-1</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
