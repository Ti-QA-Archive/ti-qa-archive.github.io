<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Using AJAX in Titanium » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Using AJAX in Titanium</h1>
		</header>
		<section>
			<p>I am getting confused with how the AJAX part of the Titanium API works, and what code we are still required to use.  jQuery in the past has taken a lot of this load off my shoulders, so am curious what needs adding.</p>
<p>I basically have a php file on a remote server, and want to pasa variable in, and run an if statement, then pull a variable out into the mobile (android) app.</p>
<p>I have seen lots of code some use Titanium.ajax or xhr and createHTTPClient, and I am just confused as to what I should be using to get my data.  If you could help that&#39;d be great.</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="April 8th 2010, 1:35:37 pm">April 8th 2010</span>
				by <span class='authorname'>Dan Duke</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>ajax</span></li>
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>beginner</span></li>
					
						<li><span class='tagname'>bestpractice</span></li>
					
						<li><span class='tagname'>mobile</span></li>
					
						<li><span class='tagname'>php</span></li>
					
						<li><span class='tagname'>win32</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>-2</span> Votes</div>
			<div class="answers"><span>6</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>6 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-32421">
				
						<section>
							<p>Hey Dan..</p>
<p>We have a custom XHR that follows the same API the standard XHR does on the web (with a few extra features like binary &#x2F; multi-part support). You can find quite a few examples of our XHR in KitchenSink</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="April 8th 2010, 1:46:24 pm">April 8th 2010</span>
								by <span class='authorname'>Marshall Culpepper</span><br>
								<a class="icon-bg icon-link" href="question/14081/using-ajax-in-titanium#answer-32421" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-33171">
				
						<section>
							<p>Thanks for that, I got the twitter one working just fine, but when I tried to get xhr.open to open my own php file it seems xhr.onload doesn&#39;t get run (I amtesting with lots of API.info() calls).</p>
<p>All that my php file is outputting is:</p>
<pre><code class="hljs">[<span class="hljs-string">"test0"</span>,<span class="hljs-string">"test1"</span>,<span class="hljs-string">"test2"</span>,<span class="hljs-string">"test3"</span>]
</code></pre><p>What I have is something like:</p>
<pre><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getMapData</span><span class="hljs-params">()</span></span>{
    <span class="hljs-keyword">var</span> xhr = Titanium.Network.createHTTPClient();
    Titanium.API.info(<span class="hljs-string">'yo2'</span>);
    xhr.onload = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>
    </span>{
        Titanium.API.info(<span class="hljs-string">'API.INFO'</span>);
        Ti.API.info(<span class="hljs-string">'xml '</span> + <span class="hljs-keyword">this</span>.responseXML + <span class="hljs-string">' text '</span> + <span class="hljs-keyword">this</span>.responseText);
    };
    Titanium.API.info(<span class="hljs-string">'yo3'</span>);
    <span class="hljs-comment">// open the client</span>
    xhr.open(<span class="hljs-string">'GET'</span>,<span class="hljs-string">'http://www.xxx.com/xxx.php'</span>);
    Titanium.API.info(<span class="hljs-string">'yo4'</span>);

    <span class="hljs-comment">// send the data</span>
    xhr.send();
    Titanium.API.info(<span class="hljs-string">'yo5'</span>);
}
</code></pre><p>All of the yo&#39;s run, but nothing else, and not sure why</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="April 9th 2010, 7:23:24 am">April 9th 2010</span>
								by <span class='authorname'>Dan Duke</span><br>
								<a class="icon-bg icon-link" href="question/14081/using-ajax-in-titanium#answer-33171" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-33251">
				
						<section>
							<p>I&#39;m no XML expert, but your results string is not an XML document (unless you left all that out), with header and tags, etc.; perhaps the XML parser is barfing on the string?  The Kitchen Sink example returns an entire XML doc from Twitter (see the info output on the simulator).  You might try printing <em>just</em> this.responseText.  Also, I think I had some problem with viewing&#x2F;using the response text until I assigned it to a var first:  var rt = this.responseText; Ti.API.info(&#39;rt=&#39; + rt);</p>
<p>I got our PHP XHR code to work fine with our app, but I was not using the responseXML part.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="April 9th 2010, 9:10:27 am">April 9th 2010</span>
								by <span class='authorname'>Richard Baughman</span><br>
								<a class="icon-bg icon-link" href="question/14081/using-ajax-in-titanium#answer-33251" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-33261">
				
						<section>
							<p>No, I wasn&#39;t using XML, I was trying to return using JSON format, so used:</p>
<pre><code class="hljs"><span class="hljs-variable">$encoded</span> = json_encode(<span class="hljs-variable">$arr</span>);
</code></pre><p>Is this not possible?  I couldn&#39;t find a JSON example, so used the twitter one as a starting block.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="April 9th 2010, 9:26:33 am">April 9th 2010</span>
								by <span class='authorname'>Dan Duke</span><br>
								<a class="icon-bg icon-link" href="question/14081/using-ajax-in-titanium#answer-33261" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-37051">
				
						<section>
							<p>Ok incase someone stumbles across this, here are some pointers.  In php I used json_encode().  As for decoding it, the kitchen sink example I needed was xhr_utf8.js.  The results were then used in the same object way in javascript varName[&#39;objectLevel1&#39;][&#39;objectLevel2&#39;]</p>
<p>One thing to note though is to check your emulator is connected to the enternet, I had a ubg in mine, meaning I had to open an emu BEFORE titanium opened one.</p>
<p>Hope this helps others</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="April 15th 2010, 1:32:26 pm">April 15th 2010</span>
								by <span class='authorname'>Dan Duke</span><br>
								<a class="icon-bg icon-link" href="question/14081/using-ajax-in-titanium#answer-37051" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-281331">
				
						<section>
							<p>Hi, If you want to try a substitute for jQuery&#39;s <code>$.ajax</code> check out <a href="https:&#x2F;&#x2F;github.com&#x2F;jpntex&#x2F;jXHR">https:&#x2F;&#x2F;github.com&#x2F;jpntex&#x2F;jXHR</a></p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="July 31st 2014, 9:03:45 pm">July 31st 2014</span>
								by <span class='authorname'>João Teixeira</span><br>
								<a class="icon-bg icon-link" href="question/14081/using-ajax-in-titanium#answer-281331" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
