<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Programatically change orientation for testing purposes Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Programatically change orientation for testing purposes</h1>
		</header>
		<section>
			<p>I&#39;m using ti-mocha for unit testing my iOS app. Ti-mocha tests run in the simulator as an app. I want to write a test for a bug that only occurs in landscape mode. The default orientation is portrait and my app works in both portrait and landscape mode. I&#39;d like to be able to programatically set the orientation from my test. It looks like <code>Ti.UI.setOrientation</code> used to allow this but it has been removed. The note says to see <code>Ti.UI.orientationModes</code> instead, but this is not what I want - this property specifies the ALLOWABLE modes. I am allowing both portrait and landscape, I just want to simulate an orientation change.</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="July 14th 2015, 11:16:29 am">July 14th 2015</span>
				by <span class='authorname'>Christine Viets</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>ios</span></li>
					
						<li><span class='tagname'>ti-mocha</span></li>
					
						<li><span class='tagname'>unit-testing</span></li>
					
				</ul>
			

			<section>
				<h5>3 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Looks like I cannot edit my question, but it&#39;s actually <code>Ti.UI.Window.orientationModes</code>.</p>
</div>
							<div class="author">
								&mdash; commented <span title="July 14th 2015, 11:17:50 am">July 14th 2015</span>
								by <span class='authorname'>Christine Viets</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>@Christine</p>
<p>I am assuming you are saying your comment explains that you have found your own answer.  If that is the case then please add it as an actual answer and I will mark the question as answered by you.  As you are the author you are unable to do this yourself, however as a moderator - I can.</p>
</div>
							<div class="author">
								&mdash; commented <span title="July 14th 2015, 12:04:14 pm">July 14th 2015</span>
								by <span class='authorname'>Malcolm Hollingsworth</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>No that is not the answer. I was commenting that Ti.UI.orientationModes is not valid - it&#39;s Ti.UI.Window.orientationModes.</p>
</div>
							<div class="author">
								&mdash; commented <span title="July 14th 2015, 12:28:11 pm">July 14th 2015</span>
								by <span class='authorname'>Christine Viets</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-287808">
				
						<section>
							<p>Hi</p>
<p>The reason I am confused is because <strong>Ti.UI.Window.orientationModes</strong> &amp; <strong>Ti.UI.Window.setOrientationModes()</strong> would resolve the problem.</p>
<p>If you are testing against a problem only available in landscape then restrict the options available when creating this window to be landscape ones only.  As long as this is done before the window is opened then your &quot;tweak&quot; will work without issue and your testing may continue.</p>
<p>You may wish to add the landscape only option as a debug setting that is only used when another variable is set (for example a property) so your test script can enable this option as it runs those specific tests.  You should also set the option to be ignored entirely if in production mode so no accidental flags are left when the app goes to the store.</p>
<p>Given your commentary above I assume the production over-ride lock for testing will make sense.  If not basically you add an extra clause to the if statement that means if the app is deemed &quot;in production&quot; then the landscape only limiter can never be used.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="July 14th 2015, 5:45:35 pm">July 14th 2015</span>
								by <span class='authorname'>Malcolm Hollingsworth</span><br>
								<a class="icon-bg icon-link" href="../../question/182869/programatically-change-orientation-for-testing-purposes.html#answer-287808" rel="permalink">permalink</a>
							</div>

							<h5>3 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>The problem occurs when switching from portrait to landscape so this is not an option. As a rule, we do not allow things like &quot;production over-ride lock for testing&quot; in our code. It&#39;s just asking for bugs to have code in development that is different than code in production. I just was hoping that there would be a way to change the orientation since it appears that there used to be and then it was removed.</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 14th 2015, 6:06:48 pm">July 14th 2015</span>
											by <span class='authorname'>Christine Viets</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>It was removed as the OS itself changed how it allowed windows to react.  iOS no longer allows forced orientation on already created windows.  So the SDK had to be changed to reflect that inability going forwards.</p>
<p>My suggestion was based on it can be done, but you need to think a little out of the box.  If you think that my suggestion produces code that acts different when in production - you read it wrong.  If you do not allow some form of debugging and additional test modes in your app then you are limiting your apps ability to be tested thoroughly.</p>
<p>I understand your hope - but reality is different.</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 14th 2015, 7:04:56 pm">July 14th 2015</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Okay, so the answer is it is not possible. That&#39;s fine.</p>
<p>My app does additional logging during development. That is the only difference. We unit test with ti-mocha by using another app and symlinking files into the unit testing app. I have not yet encountered a scenario that I could not cover in this way. I am not counting this scenario because it is clearly a hack - adding test arguments to my controller to specify which windows modes should be available is beyond what I&#39;m willing to differ between dev and prod.</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 14th 2015, 7:06:00 pm">July 14th 2015</span>
											by <span class='authorname'>Christine Viets</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
