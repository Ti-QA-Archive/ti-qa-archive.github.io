<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>how to detect hardware backutton pressed and redirect to default page Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>how to detect hardware backutton pressed and redirect to default page</h1>
		</header>
		<section>
			<p>i want to redirect user to a default page when android hardware backbutton is clicked<br>but with no success</p>
<p>what is the issue</p>
<p>here is the code</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> currentWin = Ti.UI.currentWindow;

currentWin.addEventListener(<span class="hljs-string">'android:back'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span></span>{
<span class="hljs-keyword">var</span> eventWin = Ti.UI.createWindow({
        url:<span class="hljs-string">'welcome.js'</span>,
        title:<span class="hljs-string">'Login'</span>,
         backgroundColor:<span class="hljs-string">'#FFF'</span>,
        });
   eventWin.open();
});
</code></pre>
		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="January 28th 2014, 12:06:53 pm">January 28th 2014</span>
				by <span class='authorname'>omkar suryawanshi</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>back button</span></li>
					
				</ul>
			

			<section>
				<h5>7 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>its my mistake  i should have described it better i have three files first for navigation second with activity indicator for updating data from remote server and third to display data, i wanted to go back from the third file to the first file through thr android back button thanks to luke its working fine</p>
</div>
							<div class="author">
								&mdash; commented <span title="January 30th 2014, 5:39:58 am">January 30th 2014</span>
								by <span class='authorname'>omkar suryawanshi</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>If this doesn&#39;t work automatically something must be wrong with your code architechture. The back button should close a window. Opening a new navigation window in top of the detail window doesn&#39;t Marke sense.</p>
</div>
							<div class="author">
								&mdash; commented <span title="January 30th 2014, 5:45:38 am">January 30th 2014</span>
								by <span class='authorname'>Manuel Lehner</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>this is the thing i tried and it worked great, thanks luke again</p>
<pre><code class="hljs">currentWin.addEventListener(<span class="hljs-string">'androidback'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span></span>{
    <span class="hljs-comment">//alert(e.source.id + " fired a " + e.type + " event");</span>
     <span class="hljs-keyword">var</span> eventWin = Ti.UI.createWindow({
        url:<span class="hljs-string">'welcome.js'</span>,
        title:<span class="hljs-string">''</span>,

         <span class="hljs-comment">//backgroundColor:'#FFF',</span>
        });
   eventWin.open();
   currentWin.close();
});
</code></pre></div>
							<div class="author">
								&mdash; commented <span title="January 30th 2014, 10:50:16 am">January 30th 2014</span>
								by <span class='authorname'>omkar suryawanshi</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>:-(</p>
<p>I strongly recommend you to read my answer again. Seriously, this peace of code is a horror!</p>
</div>
							<div class="author">
								&mdash; commented <span title="January 30th 2014, 11:15:11 am">January 30th 2014</span>
								by <span class='authorname'>Manuel Lehner</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>how do i go about it then, as you suggest i wont do the hardware back button way, i also dont  want to add any button to the screen , my sequence is we select one category in the first navigation window, then data is updated in second window and the user is redirected to third window. my problem occurs when the user presses the back button on the third window he is taken back to the second window which shows a activity indicator i dont want to add tabs also.</p>
</div>
							<div class="author">
								&mdash; commented <span title="February 2nd 2014, 12:50:34 pm">February 2nd 2014</span>
								by <span class='authorname'>omkar suryawanshi</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Why is there a second window just to handle an activity indicator?</p>
<p>Couldn&#39;t your third window handle the data, which you then overlay with a loading mask until the loading process is complete. Then hide the loading mask to show the updated window. This would remove the second window allowing your user to use the back button the way it was meant to be.</p>
</div>
							<div class="author">
								&mdash; commented <span title="February 2nd 2014, 4:41:45 pm">February 2nd 2014</span>
								by <span class='authorname'>Luke Taylor</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>If you have opened two windows like</p>
<pre><code class="hljs">W<span class="hljs-keyword">in</span>_A  &gt;  W<span class="hljs-keyword">in</span>_B  &gt;  W<span class="hljs-keyword">in</span>_C
</code></pre><p>and you want to redirect the user to the top level window (Win A) after you&#39;re done with Win C, then you should close them other windows B and C instead of opening A again like</p>
<pre><code class="hljs">W<span class="hljs-keyword">in</span>_A  &gt;  W<span class="hljs-keyword">in</span>_B  &gt;  W<span class="hljs-keyword">in</span>_C &gt; W<span class="hljs-keyword">in</span>_A
</code></pre><p>You don&#39;t need to add another button to your screen since the native back button should close your current window. If you want to avoid getting back to B from C then close B when closing C and you should be back in A.</p>
<p>Another instance of A on top of your current window stack is bad for both, memory usage and navigation. So what I mean is, if you override the backbutton on C then do it by closing B and C windows, <strong>do not</strong> open A.</p>
</div>
							<div class="author">
								&mdash; commented <span title="February 3rd 2014, 9:46:37 am">February 3rd 2014</span>
								by <span class='authorname'>Manuel Lehner</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-274510">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>Hi</p>
<p><code>android:back</code> is deprecated, try using <code>androidback</code> instead?</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="January 28th 2014, 1:46:49 pm">January 28th 2014</span>
								by <span class='authorname'>Luke Taylor</span><br>
								<a class="icon-bg icon-link" href="question/162015/how-to-detect-hardware-backutton-pressed-and-redirect-to-default-page#answer-274510" rel="permalink">permalink</a>
							</div>

							<h5>3 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Firstly, marking me down is a bit harsh. Although I haven&#39;t pointed out bad practice, as I haven&#39;t had chance to come back to this question, I did answer his question.</p>
<p>Secondly, @Manuel is right, re-purposing the &#39;Android back&#39; button in this way would make for a horrible navigation choice, as it isn&#39;t intuitive to the user or wouldn&#39;t be what the user expects.</p>
<p>I would advise, like @Manuel, to reconsider this :)</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 30th 2014, 11:41:33 am">January 30th 2014</span>
											by <span class='authorname'>Luke Taylor</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>@Luke Sorry for down-voting by mistake. Of course, your answer is correct. Voted back up again :)</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 30th 2014, 11:48:29 am">January 30th 2014</span>
											by <span class='authorname'>Manuel Lehner</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>How to do this in webview?</p>
<p>I wrote this but its not working.</p>
<p>$.webview1.addEventListener(&#39;androidback&#39;,function(e){<br>    &#x2F;&#x2F; show alert<br>    alert(&quot;Do you want to exit?&quot;);<br>    dialog.show();<br>});</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 13th 2015, 4:14:27 pm">April 13th 2015</span>
											by <span class='authorname'>Haul Ja</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-274511">
				
						<section>
							<p>This is the worst navigation design I would expect as a user. Pressing &quot;back&quot; opens a new window!</p>
<p><strong>DON&#39;T DO THAT !</strong></p>
<p>In general, avoid ovveriding hardware button behaviors. Don&#39;t force the system &#x2F; user to adopt your apps navigation, instead let your app adopt the navigation of the system. The only case that I could think of when overriding the back-button would make sense is providing a back-navigation in a webview or in lightweight windows (wich were dropped in 3.2.0).</p>
<p>The snippet in your question is bad code! Please remove it. It&#39;s evil :-P</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="January 28th 2014, 1:57:04 pm">January 28th 2014</span>
								by <span class='authorname'>Manuel Lehner</span><br>
								<a class="icon-bg icon-link" href="question/162015/how-to-detect-hardware-backutton-pressed-and-redirect-to-default-page#answer-274511" rel="permalink">permalink</a>
							</div>

							<h5>2 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>i agree with you, so how to refresh a &#39;previous&#39; page after back is pressed ? thx</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 11th 2014, 8:37:55 pm">December 11th 2014</span>
											by <span class='authorname'>Hao Huang</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Add a listener to the &quot;close&quot; event of the window.</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 11th 2014, 9:05:32 pm">December 11th 2014</span>
											by <span class='authorname'>Manuel Lehner</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
