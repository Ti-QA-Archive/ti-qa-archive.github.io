<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Android App - running in  » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Android App - running in </h1>
		</header>
		<section>
			<p>We need to keep our app running all the time…unless the user specifically selects exit from within the app.</p>
<p>ie) if the user hits the Home button on the handset…or Go Back from the primary gui….we want the app to continue to run…and have an app icon show up at the top of the Android gui….so the user can swipe down the home gui….see our app in the list…and click to get back into app….</p>
<p>Not sure exactly what needs to be done to accomplish this.</p>
<p>Thanks<br>~Brian</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="December 30th 2010, 3:51:19 pm">December 30th 2010</span>
				by <span class='authorname'>Brian Dittmer</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>background</span></li>
					
						<li><span class='tagname'>mobile</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>4</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>4 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-171081">
				
						<section>
							<p>Brian</p>
<p>This is the default behavior. To achieve the opposite, however, and have the application exit when a specific window is closed, you would use the <code>exitOnClose</code> property of the <a href="http:&#x2F;&#x2F;developer.appcelerator.com&#x2F;apidoc&#x2F;mobile&#x2F;latest&#x2F;Titanium.UI.Window-object">Ti.UI.Window</a> object.</p>
<p>Hope this helps</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="December 30th 2010, 11:12:58 pm">December 30th 2010</span>
								by <span class='authorname'>Paul Dowsett</span><br>
								<a class="icon-bg icon-link" href="question/95291/android-app---running-in#answer-171081" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-172771">
				
						<section>
							<p>Thanks Hal.</p>
<p>Wondering how to keep my app icon up at the top of the gui after doing a handset home or go back from the main app gui – like ya see with Yahoo IM, weather bug and a few others.</p>
<p>~Brian</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="January 4th 2011, 5:37:34 pm">January 4th 2011</span>
								by <span class='authorname'>Brian Dittmer</span><br>
								<a class="icon-bg icon-link" href="question/95291/android-app---running-in#answer-172771" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-172901">
				
						<section>
							<p>Don Thorp brought it to my attention that my understanding was wrong in my last post. When you click the &quot;Home&quot; button while using an application, the application is paused and the task stack saved. When you click on the application icon again, this gives the impression that the app was running throughout, but this is not actually the case.</p>
<p>Android notifications may be useful to you in this case. See the following script, also donated by Don:</p>
<pre><code class="hljs"><span class="hljs-comment">// Dial the phone</span>

<span class="hljs-keyword">var</span> win = Ti.UI.createWindow({
backgroundColor : <span class="hljs-string">'gray'</span>
});

<span class="hljs-keyword">var</span> btn = Ti.UI.createButton({
title: <span class="hljs-string">'Add Notification'</span>
});

btn.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
<span class="hljs-keyword">var</span> activity = Ti.Android.createActivity();
<span class="hljs-keyword">var</span> intent = Ti.Android.createIntent({
action: Ti.Android.ACTION_DIAL,
data: <span class="hljs-string">"tel:8175551212"</span>
});

<span class="hljs-keyword">var</span> pending = Ti.Android.createPendingIntent({
<span class="hljs-string">'activity'</span> : activity,
<span class="hljs-string">'intent'</span> : intent,
<span class="hljs-string">'type'</span> : Ti.Android.PENDING_INTENT_FOR_ACTIVITY,
<span class="hljs-string">'flags'</span> : <span class="hljs-number">1073741824</span>
});

<span class="hljs-keyword">var</span> ts = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>().getTime();

<span class="hljs-keyword">var</span> notification = Ti.Android.NotificationManager.createNotification({
contentIntent : pending,
contentTitle : <span class="hljs-string">'Dial Information'</span>,
contentText : <span class="hljs-string">'817-555-1212'</span>,
when : ts
});

Ti.Android.NotificationManager.notify(<span class="hljs-number">1</span>, notification);
});

win.add(btn);
win.open();
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="January 4th 2011, 8:31:20 pm">January 4th 2011</span>
								by <span class='authorname'>Paul Dowsett</span><br>
								<a class="icon-bg icon-link" href="question/95291/android-app---running-in#answer-172901" rel="permalink">permalink</a>
							</div>

							<h5>7 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>When i execute this code, I have an exception:<br><code>Cannot find function createActivity in object [Ti.Android]</code></p>
<p>What i&#39;m doing wrong?<br>Tks!</p>
</p>
										<div class="author">
											&mdash; commented <span title="February 13th 2011, 12:26:44 pm">February 13th 2011</span>
											by <span class='authorname'>Daniel Maceira</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Daniel, please start your own thread, and explain your issue properly. Read <a href="http:&#x2F;&#x2F;guides.appcelerator.com&#x2F;en&#x2F;contribute.html#participating_in_the_q&amp;a">Participating in the Q&amp;A</a> for guidelines. Thanks</p>
</p>
										<div class="author">
											&mdash; commented <span title="February 13th 2011, 2:45:25 pm">February 13th 2011</span>
											by <span class='authorname'>Paul Dowsett</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I wrote here because the problem is with the code above. I copy&#x2F;paste that code and get the exception in that line: <code>var activity = Ti.Android.createActivity();</code></p>
</p>
										<div class="author">
											&mdash; commented <span title="February 13th 2011, 3:13:14 pm">February 13th 2011</span>
											by <span class='authorname'>Daniel Maceira</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>OK Daniel</p>
<p>Are you running the latest build of Titanium 1.6.X, which is &quot;master&quot; branch on the <a href="http:&#x2F;&#x2F;guides.appcelerator.com&#x2F;en&#x2F;continuous_builds.html">Continuous Builds</a> site?</p>
<p>Try clearing your build files and launch the app again.</p>
<p>Cheers</p>
</p>
										<div class="author">
											&mdash; commented <span title="February 13th 2011, 3:47:39 pm">February 13th 2011</span>
											by <span class='authorname'>Paul Dowsett</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>i ran it in 1.7 ..am receiving the same createActivity not found error ????</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 31st 2011, 5:34:36 am">March 31st 2011</span>
											by <span class='authorname'>Primoris online</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Aruna</p>
<p>Try replacing <code>Ti.Android.createActivity()</code> with <code>Ti.Android.startActivity()</code>. Would you mind reporting back to this thread to let us know whether it works?</p>
<p>Many thanks</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 31st 2011, 8:09:14 am">March 31st 2011</span>
											by <span class='authorname'>Paul Dowsett</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I am using Titanium 1.7.5. I am getting the same error &quot;Cannot find function createActivity in object [Ti.Android]&quot; while creating android activity. I tried cleaning build files and also tried using startActivity(), but the error still remains. Any help will be appreciated. Thanks!</p>
<p>Code:</p>
<pre><code class="hljs">var activity = Titanium.Android.createActivity();

    var intent = Titanium.Android.createIntent({
        <span class="hljs-string">action :</span> Titanium.Android.ACTION_MAIN,
        <span class="hljs-string">url :</span> <span class="hljs-string">'app.js'</span>,
        <span class="hljs-string">flags :</span> Titanium.Android.FLAG_ACTIVITY_RESET_TASK_IF_NEEDED | Titanium.Android.FLAG_ACTIVITY_SINGLE_TOP
    });
    intent.addCategory(Titanium.Android.CATEGORY_LAUNCHER);

    var pending = Titanium.Android.createPendingIntent({ 
        <span class="hljs-string">'activity'</span> : activity,
        <span class="hljs-string">'intent'</span> : intent,
        <span class="hljs-string">'type'</span> : Titanium.Android.PENDING_INTENT_FOR_ACTIVITY,
        <span class="hljs-string">'flags'</span> : Titanium.Android.FLAG_ACTIVITY_NO_HISTORY
    });

    var notification = Titanium.Android.NotificationManager.createNotification({
        <span class="hljs-string">contentIntent :</span> pending,
        <span class="hljs-string">contentTitle :</span> title,
        <span class="hljs-string">contentText :</span> text,
        <span class="hljs-string">tickerText :</span> tickerText,
        <span class="hljs-string">when :</span> <span class="hljs-keyword">new</span> Date().getTime(),
        <span class="hljs-string">icon :</span> Titanium.App.Android.R.drawable.traxicon,
        <span class="hljs-string">flags :</span> Titanium.Android.ACTION_DEFAULT | Titanium.Android.FLAG_AUTO_CANCEL | Titanium.Android.FLAG_SHOW_LIGHTS
    });
</code></pre><p>Error:</p>
<pre><code class="hljs">    Cannot <span class="hljs-built_in">find</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">createActivity</span> <span class="hljs-title">in</span> <span class="hljs-title">object</span> <span class="hljs-params">[Ti.Android]</span></span>
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="December 14th 2011, 3:12:32 am">December 14th 2011</span>
											by <span class='authorname'>Shilpa V</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-211143">
				
						<section>
							<p>Dear Paul and all,</p>
<p><code>Ti.Android.startActivity()</code> would not work. The correct one is <code>Ti.Android.currentActivity()</code></p>
<p>thanks</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="June 23rd 2011, 10:11:07 am">June 23rd 2011</span>
								by <span class='authorname'>subhan yzu</span><br>
								<a class="icon-bg icon-link" href="question/95291/android-app---running-in#answer-211143" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
