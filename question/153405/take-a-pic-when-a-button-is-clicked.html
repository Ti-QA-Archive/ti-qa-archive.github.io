<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Take a pic when a button is clicked » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Take a pic when a button is clicked</h1>
		</header>
		<section>
			<p>Hi I want to take a pic from camera when a button is clicked, Iam able to get without clicking the button, but when I add a button to addEvntListener, Iam unable to get when a button is pressed. Please help me out.<br>    var pButton = Titanium.UI.createButton({<br>       title: &#39;&#39;,<br>       bottom:10,<br>       left:50,<br>       backgroundImage:&#39;..&#x2F;images&#x2F;31.png&#39;<br>    });</p>
<pre><code class="hljs"> pButton.addEventListener(<span class="hljs-string">'click'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span></span>{
 Titanium.Media.showCamera({

success:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(event)</span>
</span>{
    <span class="hljs-keyword">var</span> image = event.media;

    Ti.API.debug(<span class="hljs-string">'Our type was: '</span>+event.mediaType);
    <span class="hljs-keyword">if</span>(event.mediaType == Ti.Media.MEDIA_TYPE_PHOTO)
    {
    <span class="hljs-keyword">var</span> imageView = Ti.UI.createImageView({width:win.width,
height:win.height,image:event.media});
        win6.add(imageView);  
    }
    <span class="hljs-keyword">else</span>
    {
        alert(<span class="hljs-string">"got the wrong type back ="</span>+event.mediaType);
    }
},
cancel:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>
</span>{
           alert(<span class="hljs-string">'You canceled the action.'</span>);
},
error:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(error)</span>
</span>{
    <span class="hljs-comment">// create alert</span>
    <span class="hljs-keyword">var</span> a = Titanium.UI.createAlertDialog({title:<span class="hljs-string">'Camera'</span>});

    <span class="hljs-comment">// set message</span>
    <span class="hljs-keyword">if</span> (error.code == Titanium.Media.NO_CAMERA)
    {
        a.setMessage(<span class="hljs-string">'Please run this test on device'</span>);
    }
    <span class="hljs-keyword">else</span>
    {
        a.setMessage(<span class="hljs-string">'Unexpected error: '</span> + error.code);
    }

    <span class="hljs-comment">// show alert</span>
    a.show();
},
saveToPhotoGallery:<span class="hljs-literal">true</span>,
allowEditing:<span class="hljs-literal">true</span>,
mediaTypes:[Ti.Media.MEDIA_TYPE_VIDEO,Ti.Media.MEDIA_TYPE_PHOTO],
});
});
win6.add(pButton);
</code></pre>
		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="June 9th 2013, 12:34:14 am">June 9th 2013</span>
				by <span class='authorname'>Prashaanth N.G.S</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>camera</span></li>
					
						<li><span class='tagname'>titanium studio</span></li>
					
				</ul>
			

			<section>
				<h5>6 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>This is the creation of button.<br>var pButton = Titanium.UI.createButton({<br>   title: &#39;&#39;,<br>   bottom:10,<br>   left:50,<br>   backgroundImage:&#39;..&#x2F;images&#x2F;31.png&#39;<br>});</p>
</div>
							<div class="author">
								&mdash; commented <span title="June 9th 2013, 12:35:42 am">June 9th 2013</span>
								by <span class='authorname'>Prashaanth N.G.S</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>on whkch platform you r testing .. which sdk you are using</p>
</div>
							<div class="author">
								&mdash; commented <span title="June 9th 2013, 2:21:12 am">June 9th 2013</span>
								by <span class='authorname'>Nabeel  Munawar</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>platform Android, SDK: 2.1.4GA</p>
</div>
							<div class="author">
								&mdash; commented <span title="June 9th 2013, 2:22:50 am">June 9th 2013</span>
								by <span class='authorname'>Prashaanth N.G.S</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>try to put an alert in button&#39;s event listener just to verify that event listener is working fine and tell back if that&#39;s ok</p>
</div>
							<div class="author">
								&mdash; commented <span title="June 9th 2013, 2:35:39 am">June 9th 2013</span>
								by <span class='authorname'>Nabeel  Munawar</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>thanqqqq got it</p>
</div>
							<div class="author">
								&mdash; commented <span title="June 9th 2013, 12:49:13 pm">June 9th 2013</span>
								by <span class='authorname'>Prashaanth N.G.S</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>can u help me like when i take picture those pic must be stored in a tab …..i have created a tab called my photos so i want to inserted into them…can u help me please…Thanks,,,,,</p>
</div>
							<div class="author">
								&mdash; commented <span title="June 9th 2013, 12:50:58 pm">June 9th 2013</span>
								by <span class='authorname'>Prashaanth N.G.S</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-264006">
				
						<section>
							<p>Hi Prashanth,<br>I have tested your code on Android 4.1.2. and Ti SDK 2.1.4. .Everything works exactly as it should be clicking on button opens the camera and you can take pic. Only one error that I have noticed is </p>
<pre><code class="hljs"> var imageView = Ti.UI.createImageView({<span class="hljs-variable">width</span>:win.<span class="hljs-variable">width</span>,
    <span class="hljs-variable">height</span>:win.<span class="hljs-variable">height</span>,
    <span class="hljs-built_in">image</span>:event.media
});
        win6.<span class="hljs-built_in">add</span>(imageView);
</code></pre><p>in this code win is not defined if you have not created that change it to win6. But that error comes after you take pic and click save. I am afraid you have some error in other part of code.<br>Create a new project and copy pasted this code you will see the accurate results.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="June 9th 2013, 3:12:43 am">June 9th 2013</span>
								by <span class='authorname'>Nabeel  Munawar</span><br>
								<a class="icon-bg icon-link" href="question/153405/take-a-pic-when-a-button-is-clicked#answer-264006" rel="permalink">permalink</a>
							</div>

							<h5>2 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>can u help me like when i take picture those pic must be stored in a tab …..i have created a tab called my photos so i want to inserted into them…can u help me please…Thanks,,,,,</p>
</p>
										<div class="author">
											&mdash; commented <span title="June 9th 2013, 12:51:08 pm">June 9th 2013</span>
											by <span class='authorname'>Prashaanth N.G.S</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>First of all if this solved your issue mark this question as answered. This is totally new question and you should open a new question and ask this question and explain properly and also tell what you have tried yet.</p>
</p>
										<div class="author">
											&mdash; commented <span title="June 10th 2013, 3:41:54 am">June 10th 2013</span>
											by <span class='authorname'>Nabeel  Munawar</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
