<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Prevent textField from blurring upon pressing return Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Prevent textField from blurring upon pressing return</h1>
		</header>
		<section>
			<p>I&#39;m making a chat app where I want the textField to remain focused after I have pressed the return key, however I cannot prevent the blur event from firing when the return key is pressed. Furthermore, re-focusing the textField on the return event looks awful and isn;t at all what I want. Is there anyway for me to keep the textField in focus and the keyboard open?</p>
<p>Someone also suggested to me that I use a textArea instead but this presented the exact same behaviour, which is really odd since you should be able to press return inside a textArea without it blurring.</p>
<p>Some example code to re-create this:</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> <span class="hljs-keyword">win</span> = Ti.UI.createWindow({backgroundColor: 'white'});

    <span class="hljs-keyword">var</span> textBox = Ti.UI.createTextField({
      borderStyle: Ti.UI.INPUT_BORDERSTYLE_ROUNDED,
      width: 240, height: 30,
      top: 30, left: 10
    });

    textBox.addEventListener('<span class="hljs-keyword">return</span>', someFunction());

    <span class="hljs-keyword">win</span>.add(textBox);
    <span class="hljs-keyword">win</span>.<span class="hljs-keyword">open</span>();
</code></pre>
		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="March 9th 2014, 11:48:35 am">March 9th 2014</span>
				by <span class='authorname'>Will Caine</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>iphone</span></li>
					
						<li><span class='tagname'>textarea</span></li>
					
						<li><span class='tagname'>textfield</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-276194">
				
						<section>
							<p>Use the <a href="http:&#x2F;&#x2F;docs.appcelerator.com&#x2F;titanium&#x2F;latest&#x2F;#!&#x2F;api&#x2F;Titanium.UI.TextArea-property-enableReturnKey">enableReturnKey</a> property on a TextArea and then you can retain focus when pressing return.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="March 9th 2014, 12:04:13 pm">March 9th 2014</span>
								by <span class='authorname'>Nick Milner</span><br>
								<a class="icon-bg icon-link" href="question/163327/prevent-textfield-from-blurring-upon-pressing-return#answer-276194" rel="permalink">permalink</a>
							</div>

							<h5>3 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>enableReturnKey prevents the return key from being pressed before you type something, I do actually have this enabled in my code but I think it does something different to what you are saying.</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 9th 2014, 12:11:41 pm">March 9th 2014</span>
											by <span class='authorname'>Will Caine</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>@Nick - I went to this straight away for the same reason, but re-reading it earlier I now think that it means; it will show the return key only if there is actually content, so false means it can be pressed when there is no content.  Annoying wording for the property.</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 9th 2014, 12:19:28 pm">March 9th 2014</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Precisely, I assumed there would be a property to control this but there apparently isn&#39;t</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 9th 2014, 12:21:09 pm">March 9th 2014</span>
											by <span class='authorname'>Will Caine</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-276195">
				
						<section>
							<p>Hi</p>
<p>Firstly tweak your code as follows as this is not correct;</p>
<pre><code class="hljs">textBox.addEventListener(<span class="hljs-string">'return'</span>, someFunction());
<span class="hljs-comment">// becomes</span>
textBox.addEventListener(<span class="hljs-string">'return'</span>, someFunction);
</code></pre><p>Adding <strong>someFunction()</strong> actually runs that code as soon as it gets to that section.  Without the brackets the code is run only at the time the event is triggered.</p>
<p>One thought would be to have another text box in this window that has <a href="http:&#x2F;&#x2F;docs.appcelerator.com&#x2F;titanium&#x2F;latest&#x2F;#!&#x2F;api&#x2F;Titanium.UI.View-property-opacity">opacity</a> 0 and <a href="http:&#x2F;&#x2F;docs.appcelerator.com&#x2F;titanium&#x2F;latest&#x2F;#!&#x2F;api&#x2F;Titanium.UI.View-property-touchEnabled">touchEnabled</a> set to false.  Then on the return event you focus that textfield.  The app should give the focus to the new text field before the keyboard drops so visually it appears fine.  Just make sure that new text field bounces focus back to the main one when it accepts any data.</p>
<p>Just a thought.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="March 9th 2014, 12:05:55 pm">March 9th 2014</span>
								by <span class='authorname'>Malcolm Hollingsworth</span><br>
								<a class="icon-bg icon-link" href="question/163327/prevent-textfield-from-blurring-upon-pressing-return#answer-276195" rel="permalink">permalink</a>
							</div>

							<h5>2 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>sorry about the function, i do know that, in actuality I have an anonymous function placed there.<br>Your solution probably will work but that sounds awfully complicated for such a simple problem</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 9th 2014, 12:10:48 pm">March 9th 2014</span>
											by <span class='authorname'>Will Caine</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>No problem - was not telling you off - sometimes I comment on things so <em>others</em> who read this later then know they should not, even if you had already figured it out.</p>
<p>I agree - stupid problem that you would think had a simple solution.</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 9th 2014, 12:21:17 pm">March 9th 2014</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
