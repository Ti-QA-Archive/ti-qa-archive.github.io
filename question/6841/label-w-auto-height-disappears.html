<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Label w auto height disappears  » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Label w auto height disappears </h1>
		</header>
		<section>
			<p>I&#39;m building a grouped table view from a database table.  Each row has a pair of labels with height set to auto on each as well as the row.  When I use the size.height property of the label it causes them to randomly disappear. Also if you click on that row sometimes the label then displays.</p>
<pre><code class="hljs">        var row = Titanium.UI.createTableViewRow({
            <span class="hljs-variable">height</span>:<span class="hljs-string">'auto'</span>,
            selectedBackgroundColor:<span class="hljs-string">'transparent'</span>
        });
        var rowLabel1 = Ti.UI.createLabel({
            <span class="hljs-built_in">text</span>:<span class="hljs-string">'Section: '</span> + s + <span class="hljs-string">', Row: '</span> + r,
            <span class="hljs-built_in">color</span>:<span class="hljs-string">'#576996'</span>,
            font:{fontSize:<span class="hljs-number">14</span>,fontWeight:<span class="hljs-string">'bold'</span>},
            top:rowPadding,
            <span class="hljs-variable">height</span>:<span class="hljs-string">'auto'</span>,
            <span class="hljs-variable">width</span>: <span class="hljs-number">300</span> - (rowPadding * <span class="hljs-number">2</span>),
            left:rowPadding
        });
        row.<span class="hljs-built_in">add</span>(rowLabel1);

        var rowLabel2 = Ti.UI.createLabel({
            <span class="hljs-built_in">text</span>:<span class="hljs-string">"Other textnAnother line of text"</span>,
            font:{fontSize:<span class="hljs-number">14</span>},
            top:rowLabel1.<span class="hljs-built_in">size</span>.<span class="hljs-variable">height</span> + rowPadding,
            <span class="hljs-variable">height</span>:<span class="hljs-string">'auto'</span>,
            left:rowLabel1.left,
            <span class="hljs-variable">width</span>:rowLabel1.<span class="hljs-variable">width</span>
        });
        row.<span class="hljs-built_in">add</span>(rowLabel2);

        var textHeight = rowLabel1.<span class="hljs-built_in">size</span>.<span class="hljs-variable">height</span> + rowLabel2.<span class="hljs-built_in">size</span>.<span class="hljs-variable">height</span>;
        row.<span class="hljs-variable">height</span> = textHeight + (rowPadding * <span class="hljs-number">2</span>);
</code></pre><p>I tried remove the .size.height calls and removing the formatting by reducing it to just one label.  All the labels show up correctly now, but sometimes the spacing is off, especially after scrolling.</p>
<pre><code class="hljs">for <span class="hljs-list">(<span class="hljs-keyword">var</span> s=1<span class="hljs-comment">;s&lt;5;s++) {</span>
    for <span class="hljs-list">(<span class="hljs-keyword">var</span> r=1<span class="hljs-comment">;r&lt;10;r++) {</span>
        var row = Titanium.UI.createTableViewRow<span class="hljs-list">({
            height:<span class="hljs-quoted">'auto</span>',
            selectedBackgroundColor:<span class="hljs-quoted">'transparent</span>'
        })</span><span class="hljs-comment">;</span>
        var title = <span class="hljs-quoted">'Section</span>: ' + s + ', '<span class="hljs-comment">;</span>
        if <span class="hljs-list">(<span class="hljs-keyword">s</span>%<span class="hljs-number">2</span>==0)</span> title = title + <span class="hljs-string">"n"</span><span class="hljs-comment">;</span>
        title = title + <span class="hljs-quoted">'Row</span>: ' + r<span class="hljs-comment">;</span>
        var rowLabel1 = Ti.UI.createLabel<span class="hljs-list">({
            text<span class="hljs-keyword">:title</span> + <span class="hljs-string">"nOther textnAnother line of text"</span>,
            color:<span class="hljs-quoted">'#576996</span>',
            font:{fontSize:<span class="hljs-number">14</span>,fontWeight:<span class="hljs-quoted">'bold</span>'},
            top<span class="hljs-keyword">:rowPadding</span>,
            height:<span class="hljs-quoted">'auto</span>',
            bottom<span class="hljs-keyword">:rowPadding</span>,
            right<span class="hljs-keyword">:rowPadding</span>,
            left<span class="hljs-keyword">:rowPadding</span>
        })</span><span class="hljs-comment">;</span>
        row.add<span class="hljs-list">(<span class="hljs-keyword">rowLabel1</span>)</span><span class="hljs-comment">;</span>
        if <span class="hljs-list">(<span class="hljs-keyword">r==1</span>)</span> {
            row.header = <span class="hljs-quoted">'Section</span>: ' + s<span class="hljs-comment">;</span>
        }
        data.push<span class="hljs-list">(<span class="hljs-keyword">row</span>)</span><span class="hljs-comment">;</span>
    }
}</span></span>
</code></pre>
		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="March 25th 2010, 4:31:07 am">March 25th 2010</span>
				by <span class='authorname'>Kurt Gailey</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>1.1.0</span></li>
					
						<li><span class='tagname'>height</span></li>
					
						<li><span class='tagname'>iphone</span></li>
					
						<li><span class='tagname'>label</span></li>
					
						<li><span class='tagname'>mobile</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>4</span> Votes</div>
			<div class="answers"><span>3</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>3 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-45991">
				
						<section>
							<p>I&#39;m having the exact same issue with disappearing labels on a <code>View</code>.  I&#39;ve gotten around the issue by creating a &quot;dummy&quot; label first to get the height and then creating the &quot;real&quot; label with a fixed height:</p>
<pre><code class="hljs">var label = Titanium.UI.createLabel({
   <span class="hljs-built_in">text</span>: description,
   <span class="hljs-variable">width</span>:<span class="hljs-number">100</span>,
   <span class="hljs-variable">height</span>:<span class="hljs-string">'auto'</span>,
   top:<span class="hljs-number">10</span>,
   left:<span class="hljs-number">10</span>
});
var label2 = Titanium.UI.createLabel({
   <span class="hljs-built_in">text</span>: description,
   <span class="hljs-variable">width</span>:<span class="hljs-number">100</span>,
   <span class="hljs-variable">height</span>:label.<span class="hljs-built_in">size</span>.<span class="hljs-variable">height</span>,
   top:<span class="hljs-number">10</span>,
   left:<span class="hljs-number">10</span>
});
view.<span class="hljs-built_in">add</span>(label2);
</code></pre><p>Not ideal, I know - but it seems to keep the labels visible.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="April 29th 2010, 7:03:28 pm">April 29th 2010</span>
								by <span class='authorname'>Briley Hooper</span><br>
								<a class="icon-bg icon-link" href="question/6841/label-w-auto-height-disappears#answer-45991" rel="permalink">permalink</a>
							</div>

							<h5>3 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>That doesn&#39;t work for me…<br>Somehow label.size.height returns 0.0</p>
</p>
										<div class="author">
											&mdash; commented <span title="February 3rd 2011, 11:16:42 am">February 3rd 2011</span>
											by <span class='authorname'>Léon Doornkamp</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>This solution worked for me on iPhone, but not on Android</p>
</p>
										<div class="author">
											&mdash; commented <span title="October 21st 2011, 5:48:20 pm">October 21st 2011</span>
											by <span class='authorname'>Andres Vega</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>size is only populated after displaying the label. It means, that you first have to add label to some view (or window), and show it.</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 6th 2012, 9:35:24 am">January 6th 2012</span>
											by <span class='authorname'>Kristof Gruber</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-223317">
				
						<section>
							<p>label.size.height is working only for iphone and its not working for android</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="November 14th 2011, 12:53:02 pm">November 14th 2011</span>
								by <span class='authorname'>sridhar davuluri</span><br>
								<a class="icon-bg icon-link" href="question/6841/label-w-auto-height-disappears#answer-223317" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>This seems to be the case. I am currently struggling with a way to fix this. Works great on iPhone, but I can not get label.size.height to return a value on Android, and setting height to &#39;auto&#39; is also not working, resulting in a totally busted tableview on Android.</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 15th 2011, 12:31:40 pm">November 15th 2011</span>
											by <span class='authorname'>David Richardson</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-231155">
				
						<section>
							<p>Hello,</p>
<p>i have the same problem can you help me to fix it?<br>do you have any solution?</p>
<p>thanks,<br>Eliza</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="February 22nd 2012, 6:23:50 am">February 22nd 2012</span>
								by <span class='authorname'>Eliza Sapir</span><br>
								<a class="icon-bg icon-link" href="question/6841/label-w-auto-height-disappears#answer-231155" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
