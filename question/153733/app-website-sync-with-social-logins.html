<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>App Website sync with social logins » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>App Website sync with social logins</h1>
		</header>
		<section>
			<p>Hi All</p>
<p>A bit of a general question but i would like to ask how other people deal with this issue.</p>
<p>I get asked a lot from people that they would like to allow people to login to the app via facebook or twitter.</p>
<p>This is fine i understand how this is done the bit that always stumbles me is if the app work in conjunction with a website.</p>
<p>So for example.</p>
<p>They login via facebook through the app, this will then interact with the server database and create their account.</p>
<p>Then stored data in the database will the be the users facebook username.</p>
<p>Is it best to use a webview the has the facebook login from the website but instead of redirecting successful back to the website it redirects back to the app?</p>
<p>Just interested in how other people deal with this senario any feedback would be appreciated?</p>
<p>Thanks</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="June 17th 2013, 6:31:09 am">June 17th 2013</span>
				by <span class='authorname'>Samuel East</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>facebook</span></li>
					
						<li><span class='tagname'>login</span></li>
					
						<li><span class='tagname'>twitter</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-264378">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>Hello Ned,</p>
<p>If you just want to fetch some user data from facebook then just login using Facebbok module and fetch user data and than directly redirect to our app back because we dont need to use facebook.</p>
<p>We just want to fetch the userdata and store that data to your database.</p>
<p>Generally, App is going like this way.</p>
<p>Thanks<br>Jigar</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="June 17th 2013, 7:08:10 am">June 17th 2013</span>
								by <span class='authorname'>Jigar Maheshwari</span><br>
								<a class="icon-bg icon-link" href="../../question/153733/app-website-sync-with-social-logins.html#answer-264378" rel="permalink">permalink</a>
							</div>

							<h5>6 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Hi Jigar so if i run the following.</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> fb = <span class="hljs-keyword">require</span>(<span class="hljs-string">'facebook'</span>);
fb.appid = FACEBOOK_APP_ID;
fb.permissions = [<span class="hljs-string">'publish_stream'</span>]; <span class="hljs-comment">// Permissions your app needs</span>
fb.forceDialogAuth = <span class="hljs-keyword">true</span>;
fb.addEventListener(<span class="hljs-string">'login'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span> <span class="hljs-comment">{
    if (e.success) {
        alert('Logged In');

       SO I JUST RUN A AJAX REQUEST HERE TO CHECK THE USERNAME MATCH IN THE DATABASE AND PULL INFO FROM THE WEBSITE DATABASE

    }</span> <span class="hljs-title">else</span> <span class="hljs-title">if</span> <span class="hljs-params">(e.error)</span> <span class="hljs-comment">{
        alert(e.error);
    }</span> <span class="hljs-title">else</span> <span class="hljs-title">if</span> <span class="hljs-params">(e.cancelled)</span> <span class="hljs-comment">{
        alert("Canceled");
    }</span>
});</span>
fb.authorize();
</code></pre><p>Am i on the right lines???</p>
<p>Thanks</p>
</p>
										<div class="author">
											&mdash; commented <span title="June 17th 2013, 7:27:15 am">June 17th 2013</span>
											by <span class='authorname'>Samuel East</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>YesNed.</p>
<p>You are on right track..</p>
<p>Have you any problem or any issue regarding this.?<br>Let me knoe if you want any help</p>
<p>Thanks<br>Jigar</p>
</p>
										<div class="author">
											&mdash; commented <span title="June 17th 2013, 8:00:45 am">June 17th 2013</span>
											by <span class='authorname'>Jigar Maheshwari</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Thanks Jigar here is where i am so far just writing the php logic.</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> self = Titanium.UI.createWindow({
        title : <span class="hljs-string">'Window One'</span>,
        backgroundColor: <span class="hljs-string">'#fbf4f2'</span>,
        backgroundRepeat: <span class="hljs-literal">true</span>,
        barColor : <span class="hljs-string">'#4899dd'</span>,
        layout : <span class="hljs-string">'vertical'</span>
    });

<span class="hljs-keyword">var</span> fb = require(<span class="hljs-string">'facebook'</span>);
fb.appid = <span class="hljs-string">'APP_ID'</span>;
fb.permissions = [<span class="hljs-string">'publish_stream'</span>,<span class="hljs-string">'email'</span>]; <span class="hljs-comment">// Permissions your app needs</span>
fb.forceDialogAuth = <span class="hljs-literal">true</span>;

fb.addEventListener(<span class="hljs-string">'login'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span> </span>{
    <span class="hljs-keyword">if</span> (e.success) {
        Ti.API.info(JSON.stringify(e));
        checkSocial(e, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(response)</span></span>{
            Ti.API.info(response);
        });
        alert(<span class="hljs-string">'Logged In'</span>);
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (e.error) {
        alert(e.error);
    } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (e.cancelled) {
        alert(<span class="hljs-string">"Canceled"</span>);
    }
});

<span class="hljs-keyword">var</span> login = Titanium.UI.createButton({
   title: <span class="hljs-string">'Login'</span>,
   top: <span class="hljs-number">10</span>,
   width: <span class="hljs-number">100</span>,
   height: <span class="hljs-number">50</span>
});
login.addEventListener(<span class="hljs-string">'click'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span></span>{
   fb.authorize();
});

self.add(login);

fb.addEventListener(<span class="hljs-string">'logout'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span> </span>{
    alert(<span class="hljs-string">'Logged out'</span>);
});

<span class="hljs-keyword">var</span> logout = Titanium.UI.createButton({
   title: <span class="hljs-string">'Logout'</span>,
   top: <span class="hljs-number">10</span>,
   width: <span class="hljs-number">100</span>,
   height: <span class="hljs-number">50</span>
});
logout.addEventListener(<span class="hljs-string">'click'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span></span>{
   fb.logout();
});

self.add(logout);
self.open();

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">checkSocial</span><span class="hljs-params">(data, callback)</span> </span>{

    <span class="hljs-keyword">var</span> sendXhr = Titanium.Network.createHTTPClient();
    sendXhr.onload = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.status === <span class="hljs-number">200</span>) {

            <span class="hljs-keyword">var</span> response = <span class="hljs-keyword">this</span>.responseText;
            Ti.API.info(JSON.parse(response));
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">callback</span>) {
                <span class="hljs-keyword">callback</span>(response);
            }

        } <span class="hljs-keyword">else</span> {
            Ti.API.info(<span class="hljs-string">'this.status ='</span> + <span class="hljs-keyword">this</span>.status);
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">callback</span>) {
                <span class="hljs-keyword">callback</span>(<span class="hljs-literal">false</span>);
            }
        } <span class="hljs-comment">// ENDif return status ok</span>
    }

    sendXhr.onerror = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span> </span>{
        Ti.API.info(<span class="hljs-string">'onerror'</span> + e.error);
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">callback</span>) {
            <span class="hljs-keyword">callback</span>(<span class="hljs-literal">false</span>);
        }
    };

    sendXhr.open(<span class="hljs-string">"POST"</span>, <span class="hljs-string">'http://example.com/social_sign_in/check_facebook'</span>, <span class="hljs-literal">false</span>);

    <span class="hljs-keyword">var</span> params = {
        uid : data.uid,
        username : data.data.username,
        email: data.data.email
    }
    sendXhr.send(params);

}
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="June 17th 2013, 8:08:36 am">June 17th 2013</span>
											by <span class='authorname'>Samuel East</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>So, What is the problem.?</p>
</p>
										<div class="author">
											&mdash; commented <span title="June 17th 2013, 8:16:26 am">June 17th 2013</span>
											by <span class='authorname'>Jigar Maheshwari</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Nothing thanks jigar…</p>
</p>
										<div class="author">
											&mdash; commented <span title="June 17th 2013, 8:18:40 am">June 17th 2013</span>
											by <span class='authorname'>Samuel East</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>:)</p>
</p>
										<div class="author">
											&mdash; commented <span title="June 17th 2013, 8:25:08 am">June 17th 2013</span>
											by <span class='authorname'>Jigar Maheshwari</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
