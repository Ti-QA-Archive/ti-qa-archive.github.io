<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>png images not visible in Android as imageView image or view backgroundImage image... » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>png images not visible in Android as imageView image or view backgroundImage image...</h1>
		</header>
		<section>
			<p>It&#39;s starting to seem like Android is neglected by Titanium or Google because every problem I run in to seems to be functionality that simply does not work in Android, but works fine on iOS (even though the Titanium documentation says it works in both). For instance setCenter doesn&#39;t work on Android. Linear gradients on window backgrounds do not work on Android. So frustrating. Here is my latest Android specific issue…</p>
<p>png images do not display in Android. I have tried adding them as the image property for an imageView. I have tried adding them as a backgroundImage for a view. Nothing seems to work. All works fine in iOS however.</p>
<p>I am using the 2.2 Android SDK&#x2F;API. The png file is a simple 24 bit png with transparency created in Photoshop.</p>
<p>Am I missing something? Why won&#39;t images work in Android??</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="December 14th 2012, 5:44:31 pm">December 14th 2012</span>
				by <span class='authorname'>Dustin Hendricks</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>images</span></li>
					
						<li><span class='tagname'>png</span></li>
					
				</ul>
			

			<section>
				<h5>4 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>You ask what you are missing; CODE</p>
<p>Please supply some, it is impossible to work out where you have gone wrong without seeing what you have done.</p>
<p>Positive points for  proving the Android SDK version, but we also need the Titanium SDK version as well.</p>
</div>
							<div class="author">
								&mdash; commented <span title="December 14th 2012, 5:52:27 pm">December 14th 2012</span>
								by <span class='authorname'>Malcolm Hollingsworth</span>
							</div>
						</li>
					
						<li class="comment">
							<div><pre><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Particle</span><span class="hljs-params">( size, image )</span> </span>{

    <span class="hljs-keyword">var</span> PARTICLE_IMAGE_PATH = <span class="hljs-string">'images/particles/'</span>;

    <span class="hljs-keyword">var</span> <span class="hljs-keyword">self</span> = Ti.UI.createView( {
        backgroundImage: PARTICLE_IMAGE_PATH + image,
        width: size,
        height: size
    } );

    <span class="hljs-keyword">return</span> <span class="hljs-keyword">self</span>;
}

module.exports = Particle;
</code></pre><p>This is the current version of the code I am working with. The view is added to another view which is already added to a window. The window and the parent view are visible. The added children created in the code above however are not. Keep in mind the entire thing works fine on iOS, so it&#39;s hard to believe there is a problem with the code.</p>
<p>I don&#39;t know where to look up which Titanium SDK I am using, but it is the latest because I downloaded it last week and check for SDK updates says I have the latest…</p>
</div>
							<div class="author">
								&mdash; commented <span title="December 14th 2012, 6:05:46 pm">December 14th 2012</span>
								by <span class='authorname'>Dustin Hendricks</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>nope… even an 8bit png is not working…</p>
</div>
							<div class="author">
								&mdash; commented <span title="December 14th 2012, 6:15:22 pm">December 14th 2012</span>
								by <span class='authorname'>Dustin Hendricks</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Quick Tip; Anyone who has provided and answer or commented on an answer (but not the original question) automatically gets an email, even if it was not on their answer.</p>
</div>
							<div class="author">
								&mdash; commented <span title="December 14th 2012, 6:25:15 pm">December 14th 2012</span>
								by <span class='authorname'>Malcolm Hollingsworth</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>4</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>4 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-252809">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>Hi</p>
<p>Despite my request above for all required information, I am going to guess!</p>
<p>Android has no problem with PNG files - unless you test kit is really strange that is.</p>
<p>So you should be able to see images using either of these two methods;</p>
<p>As an image reference, you can use <strong>Ti.UI.SIZE</strong></p>
<pre><code class="hljs">var img = Ti.UI.createImageView({
    <span class="hljs-variable">height</span>: Ti.UI.SIZE,
    <span class="hljs-built_in">image</span>: <span class="hljs-string">'KS_nav_ui.png'</span>
    <span class="hljs-variable">width</span>: Ti.UI.SIZE
});
win.<span class="hljs-built_in">add</span>(img);
</code></pre><p>If a <strong>backgroundImage</strong> you must supply dimensions</p>
<pre><code class="hljs">var img = Ti.UI.createImageView({
    backgroundImage: <span class="hljs-string">'KS_nav_ui.png'</span>
    <span class="hljs-variable">height</span>: <span class="hljs-number">43</span>,
    <span class="hljs-variable">width</span>: <span class="hljs-number">46</span>
});
win.<span class="hljs-built_in">add</span>(img);
</code></pre><p>Something else to check for, filename case.  Make sure your filename in the file system is EXACTLY the same as you have entered.</p>
<p>For example, these are all different;</p>
<ul>
<li>Example.png</li>
<li>example.png</li>
<li>example.jpg</li>
</ul>
<p>Also make sure the file is located where you said it was.  My examples expect the image to be in the root folder <strong>&#x2F;resources&#x2F;</strong></p>
<p>You could also place the file in another folder;  these are all the same;</p>
<ul>
<li>&#x2F;resources&#x2F;images&#x2F;</li>
<li>&#x2F;resources&#x2F;iphone&#x2F;images&#x2F;</li>
<li>&#x2F;resources&#x2F;android&#x2F;images&#x2F;</li>
<li>&#x2F;resources&#x2F;android&#x2F;<em>[image density folder]</em>&#x2F;images</li>
</ul>
<p>And make sure you are actually adding it to the window or view in the right order, it may simply be UNDER another view, try moving the <strong>win.add(img)</strong> (or other) to the bottom of your code.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="December 14th 2012, 5:59:25 pm">December 14th 2012</span>
								by <span class='authorname'>Malcolm Hollingsworth</span><br>
								<a class="icon-bg icon-link" href="question/145758/png-images-not-visible-in-android-as-imageview-image-or-view-backgroundimage-image#answer-252809" rel="permalink">permalink</a>
							</div>

							<h5>5 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>None of these are the issue. The view I am adding them to is visible. the path is in resources and correct. The case used for the file path and name are exact. When set as a background image I use the dimensions 25x25. I suspect this issue I am having has to do with 24 bit pngs…</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 14th 2012, 6:10:23 pm">December 14th 2012</span>
											by <span class='authorname'>Dustin Hendricks</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Can you provide the image using an image sharing service like; <a href="http:&#x2F;&#x2F;imm.io&#x2F;">imm.io&#x2F;</a> or any you prefer and paste the link back here.</p>
<p>Also please tweak your code to this as a test only.</p>
<pre><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Particle</span><span class="hljs-params">( size, image )</span> </span>{

    <span class="hljs-keyword">var</span> PARTICLE_IMAGE_PATH = <span class="hljs-string">'/'</span>;

    <span class="hljs-keyword">var</span> <span class="hljs-keyword">self</span> = Ti.UI.createView( {
        backgroundImage: PARTICLE_IMAGE_PATH + image,
        width: size,
        height: size
    } );

    <span class="hljs-keyword">return</span> <span class="hljs-keyword">self</span>;
}

module.exports = Particle;
</code></pre><p>Then copy the file to the root of <strong>resources</strong></p>
<p>And also provide the width and height of the image - just in case they are not the same as the 25x25 you are using.</p>
<p>Also - not sure if I am sensing a bit of an attitude - hope not.</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 14th 2012, 6:15:32 pm">December 14th 2012</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>here is a link to the image on imm.io: http:&#x2F;&#x2F;imm.io&#x2F;P7j1</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 14th 2012, 6:27:18 pm">December 14th 2012</span>
											by <span class='authorname'>Dustin Hendricks</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>i am not trying to have any attitude, I am just very frustrated. Using code you suggested above works. I then narrowed it down to, image paths (unlike module paths) need to start with a &#39;&#x2F;&#39; when building for Android. Seems inconsistent, but I have now gotten it to work with the full path by adding a &#39;&#x2F;&#39; to the beginning of the path. Now to see if this works in iOS as well, or if I need to conditionalize image paths.</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 14th 2012, 6:38:41 pm">December 14th 2012</span>
											by <span class='authorname'>Dustin Hendricks</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>No problem.</p>
<p>BTW I wrote this test app to show how images in any permutation will display, using an <strong>imageView</strong> as I did, a <strong>view</strong> like you did, with the right size dimensions and auto detected dimensions, from within a <strong>CommonJS</strong> module or not.</p>
<p>If you want to try this, create a new simple project and replace the contents of <strong>app.js</strong>, then create the CommonJS file below</p>
<pre><code class="hljs">Ti.UI.setBackgroundColor(<span class="hljs-string">'#000'</span>);
var win = Ti.UI.createWindow({  
    backgroundColor: <span class="hljs-string">'#ffffff'</span>,
    <span class="hljs-variable">height</span>: Ti.UI.FILL,
    title: <span class="hljs-string">'Android Image'</span>,
    <span class="hljs-variable">width</span>: Ti.UI.FILL
});

var tab = Ti.UI.createTab({  
    icon: <span class="hljs-string">'KS_nav_views.png'</span>,
    title: <span class="hljs-string">'Image'</span>,
    window: win
});
var img1 = Ti.UI.createImageView({
    <span class="hljs-variable">height</span>: Ti.UI.SIZE,
    <span class="hljs-built_in">image</span>: <span class="hljs-string">'P7j1.png'</span>,
    top: <span class="hljs-number">20</span>,
    <span class="hljs-variable">width</span>: Ti.UI.SIZE
});
win.<span class="hljs-built_in">add</span>(img1);

var img2 = Ti.UI.createImageView({
    <span class="hljs-variable">height</span>: <span class="hljs-number">25</span>,
    <span class="hljs-built_in">image</span>: <span class="hljs-string">'P7j1.png'</span>,
    top: <span class="hljs-number">90</span>,
    <span class="hljs-variable">width</span>: <span class="hljs-number">25</span>
});
win.<span class="hljs-built_in">add</span>(img2);

var img3 = Ti.UI.createImageView({
    <span class="hljs-variable">height</span>: <span class="hljs-number">25</span>,
    backgroundImage: <span class="hljs-string">'P7j1.png'</span>,
    top: <span class="hljs-number">140</span>,
    <span class="hljs-variable">width</span>: <span class="hljs-number">25</span>
});
win.<span class="hljs-built_in">add</span>(img3);

var img4 = Ti.UI.createView({
    <span class="hljs-variable">height</span>: <span class="hljs-number">25</span>,
    backgroundImage: <span class="hljs-string">'P7j1.png'</span>,
    top: <span class="hljs-number">200</span>,
    <span class="hljs-variable">width</span>: <span class="hljs-number">25</span>
});
win.<span class="hljs-built_in">add</span>(img4);

var particle = require(<span class="hljs-string">'/particle'</span>);

var img5 = particle(<span class="hljs-number">25</span>, <span class="hljs-string">'P7j1.png'</span>);
win.<span class="hljs-built_in">add</span>(img5);
var tabGroup = Ti.UI.createTabGroup();
tabGroup.addTab(tab);
tabGroup.<span class="hljs-built_in">open</span>();
</code></pre><p><strong>&#x2F;particle.js</strong></p>
<pre><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Particle</span><span class="hljs-params">( size, image )</span> </span>{

    <span class="hljs-keyword">var</span> PARTICLE_IMAGE_PATH = <span class="hljs-string">'/'</span>;

    <span class="hljs-keyword">var</span> <span class="hljs-keyword">self</span> = Ti.UI.createView( {
        backgroundImage: PARTICLE_IMAGE_PATH + image,
        width: size,
        height: size
    } );

    <span class="hljs-keyword">return</span> <span class="hljs-keyword">self</span>;
}

module.exports = Particle;
</code></pre><p>Tested and working on Android and iOS.</p>
<p>It does get frustrating so no worries.</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 14th 2012, 6:43:13 pm">December 14th 2012</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>2</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-273958">
				
						<section>
							<p><code>var imaView = Titanium.UI.createImageView({
        image : &amp;#39;&amp;#x2F;images&amp;#x2F;some-image.png&amp;#39;,
        height : &amp;#39;3%&amp;#39;,
        width : &amp;#39;45%&amp;#39;,
        bottom : &amp;#39;5%&amp;#39;,
    });</code><br>Putting an extra &#39;&#x2F;&#39; before images worked for me</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="January 16th 2014, 5:20:31 am">January 16th 2014</span>
								by <span class='authorname'>Aaveg Mittal</span><br>
								<a class="icon-bg icon-link" href="question/145758/png-images-not-visible-in-android-as-imageview-image-or-view-backgroundimage-image#answer-273958" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>This also worked for me, most definitely this is the issue with developers having trouble getting their pngs to display on android devices.</p>
</p>
										<div class="author">
											&mdash; commented <span title="September 10th 2014, 2:44:39 pm">September 10th 2014</span>
											by <span class='authorname'>Rabih Kodeih</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>2</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-268440">
				
						<section>
							<p>Its possible we can draw png images also in android……</p>
<p>var bgImage = Ti.UI.createImageView({ height : &#39;100&#39;, width : &#39;100&#39;, top : 20, left : 20, image : &#39;appicon.png&#39;});</p>
<p>  win.add(bgImage);</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="September 12th 2013, 5:13:58 am">September 12th 2013</span>
								by <span class='authorname'>khushboo sharma</span><br>
								<a class="icon-bg icon-link" href="question/145758/png-images-not-visible-in-android-as-imageview-image-or-view-backgroundimage-image#answer-268440" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>-2</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-252810">
				
						<section>
							<p>hahahahaha</p>
<p><code>png images do not display in Android.</code></p>
<p>Please don&#39;t tell my client&#39;s that they don&#39;t work. All those logos and UI elements will disappear.</p>
<p>Let&#39;s clarify… <code>your png files are not displaying in your Android project</code></p>
<p>So, couple of things:</p>
<ol>
<li>Bad PNGs.  It happens. Just because it &#39;works&#39; in iOS a bad PNG wont&#39; display in Android</li>
<li>Bad references.  iOS is a bit lenient on file references, on android reference from Resources.<br><code>image: &amp;#39;&amp;#x2F;myimagepath&amp;#x2F;myGood.png&amp;#39;</code></li>
</ol>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="December 14th 2012, 6:02:21 pm">December 14th 2012</span>
								by <span class='authorname'>Stephen Feather</span><br>
								<a class="icon-bg icon-link" href="question/145758/png-images-not-visible-in-android-as-imageview-image-or-view-backgroundimage-image#answer-252810" rel="permalink">permalink</a>
							</div>

							<h5>5 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>I mention the bad PNGs as we had a project where every image delivered from the client were bad.  Whatever compressor they had used had corrupted them.  Could be previewed in Finder, but image editors wouldn&#39;t open them.</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 14th 2012, 6:05:38 pm">December 14th 2012</span>
											by <span class='authorname'>Stephen Feather</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>So CS5 Photoshop is creating bad pngs…? right. I have a feeling this only occurs with 24 bit pngs. You are probably using 8 bit pngs…</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 14th 2012, 6:08:28 pm">December 14th 2012</span>
											by <span class='authorname'>Dustin Hendricks</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Nope, 8bit pngs not working either. Which android sdk&#x2F;titanium sdk are you using.</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 14th 2012, 6:17:35 pm">December 14th 2012</span>
											by <span class='authorname'>Dustin Hendricks</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>woah! dude. You had a problem, I know you are frustrated, but taking it on Malcolm and I by being &#39;snippy&#39; is not only uncalled for, but certainly a way to NOT get answers in the future.</p>
<p>I&#39;m simply teling you of TWO different things that we have EXPERIENCED through YEARS of working with Titanium, android, and iOS.</p>
<p>But, you want to get all sarcastic, so be it.  Even Malcolm sensed a bit of the &#39;tude in your response to him.</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 15th 2012, 12:10:12 am">December 15th 2012</span>
											by <span class='authorname'>Stephen Feather</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>much different than the laughing and sarcasm in your original answer.</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 15th 2012, 4:23:42 am">December 15th 2012</span>
											by <span class='authorname'>Dustin Hendricks</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>-7</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
