<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Toolbar issue in text field with numpad Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Toolbar issue in text field with numpad</h1>
		</header>
		<section>
			<p>I have textfield with numpad. I want to show done button on top of numpad and want to hide numpad when I click done button. </p>
<p>XML</p>
<pre><code class="hljs"><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-title">Alloy</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">Window</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"AddTransafer"</span> <span class="hljs-attribute">title</span>=<span class="hljs-value">""</span> <span class="hljs-attribute">fullscreen</span>=<span class="hljs-value">"false"</span> <span class="hljs-attribute">modal</span>=<span class="hljs-value">"true"</span>  <span class="hljs-attribute">barImage</span>=<span class="hljs-value">"Images/IPhone-retina_Header01.png"</span> <span class="hljs-attribute">backgroundImage</span>=<span class="hljs-value">"Images/IPhone-retina_02.png"</span> <span class="hljs-attribute">backgroundRepeat</span>=<span class="hljs-value">"false"</span> <span class="hljs-attribute">onClick</span>=<span class="hljs-value">"closeNumPad"</span> 
        <span class="hljs-attribute">onFocus</span>=<span class="hljs-value">"loadDetails"</span>&gt;</span>
           <span class="hljs-tag">&lt;<span class="hljs-title">TitleControl</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">Label</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"titleControl"</span> <span class="hljs-attribute">color</span>=<span class="hljs-value">"white"</span>&gt;</span>MAKE A TRANSFER<span class="hljs-tag">&lt;/<span class="hljs-title">Label</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">TitleControl</span>&gt;</span>    
           <span class="hljs-tag">&lt;<span class="hljs-title">ScrollView</span> <span class="hljs-attribute">contentWidth</span>= "<span class="hljs-attribute">auto</span>" <span class="hljs-attribute">contentHeight</span>= "<span class="hljs-attribute">auto</span>" <span class="hljs-attribute">showVerticalScrollIndicator</span>= "<span class="hljs-attribute">true</span>"&gt;</span>

    <span class="hljs-tag">&lt;

            &lt;<span class="hljs-attribute">TextField</span> <span class="hljs-attribute">top</span>=<span class="hljs-value">"290"</span> <span class="hljs-attribute">width</span>=<span class="hljs-value">"527px"</span> <span class="hljs-attribute">height</span>=<span class="hljs-value">"73px"</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"inputAmount"</span> <span class="hljs-attribute">hintText</span>=<span class="hljs-value">"Enter Amount"</span> <span class="hljs-attribute">keyboardType</span>=<span class="hljs-value">"Ti.UI.KEYBOARD_NUMBER_PAD"</span> <span class="hljs-attribute">width</span>=<span class="hljs-value">"527px"</span> <span class="hljs-attribute">height</span>=<span class="hljs-value">"73px"</span> <span class="hljs-attribute">borderStyle</span>=<span class="hljs-value">"Titanium.UI.INPUT_BORDERSTYLE_NONE"</span> <span class="hljs-attribute">backgroundColor</span>=<span class="hljs-value">"#ffffff"</span> <span class="hljs-attribute">paddingLeft</span>=<span class="hljs-value">"5"</span>/&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">ScrollView</span>&gt;</span> 
<span class="hljs-tag">&lt;/<span class="hljs-title">Window</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">Alloy</span>&gt;</span></span>
</code></pre><p>CS</p>
<pre><code class="hljs">
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">loadDetails</span>(<span class="hljs-params"></span>)</span>{
    initiateAmount();
    <span class="hljs-comment">// rest of the logic .. </span>

}
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">initiateAmount</span>(<span class="hljs-params"></span>)</span>{
    <span class="hljs-keyword">var</span> doneButton = Titanium.UI.createButton({    
        title : <span class="hljs-string">'Done'</span>,
        width : <span class="hljs-number">67</span>,
        height : <span class="hljs-number">32</span>
    });

    doneButton.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{ 
        $.inputAmount.blur(); 
    });
    $.inputAmount.keyboardToolbar = [doneButton];
    $.inputAmount.addEventListener(<span class="hljs-string">'focus'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
        $.inputAmount.keyboardToolbar = [doneButton];
    });
}
</code></pre><p>The problem is that when I click first its appearing like this. When I double clicking its working fine. It has also issues when I press done and click on field again. I am attaching the screenshot for the reference. </p>
<p><img src="http:&#x2F;&#x2F;i62.tinypic.com&#x2F;30m06xc.png" alt="alt text"></p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="July 17th 2014, 10:51:58 am">July 17th 2014</span>
				by <span class='authorname'>Wahib Idris</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>alloy</span></li>
					
						<li><span class='tagname'>ios</span></li>
					
						<li><span class='tagname'>keyboard</span></li>
					
						<li><span class='tagname'>toolbar</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-281523">
				
						<section>
							<p>The issue is that you are adding the keyboard toolbar when you focus on the textfield, but the toolbar should already be a part of the textfield before that. Try this:</p>
<pre><code class="hljs"><span class="hljs-tag">&lt;<span class="hljs-title">TextField</span> <span class="hljs-attribute">top</span>=<span class="hljs-value">"290"</span> <span class="hljs-attribute">width</span>=<span class="hljs-value">"527px"</span> <span class="hljs-attribute">height</span>=<span class="hljs-value">"73px"</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"inputAmount"</span> <span class="hljs-attribute">hintText</span>=<span class="hljs-value">"Enter Amount"</span> <span class="hljs-attribute">keyboardType</span>=<span class="hljs-value">"Ti.UI.KEYBOARD_NUMBER_PAD"</span> <span class="hljs-attribute">borderStyle</span>=<span class="hljs-value">"Titanium.UI.INPUT_BORDERSTYLE_NONE"</span> <span class="hljs-attribute">backgroundColor</span>=<span class="hljs-value">"#ffffff"</span> <span class="hljs-attribute">paddingLeft</span>=<span class="hljs-value">"5"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">KeyboardToolbar</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">Toolbar</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">Items</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-title">FlexSpace</span>/&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-title">Button</span> <span class="hljs-attribute">onClick</span>=<span class="hljs-value">"blurInputAmount"</span> <span class="hljs-attribute">width</span>=<span class="hljs-value">"67"</span> <span class="hljs-attribute">height</span>=<span class="hljs-value">"32"</span>&gt;</span>Done<span class="hljs-tag">&lt;/<span class="hljs-title">Button</span>&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-title">Items</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">Toolbar</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">KeyboardToolbar</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">TextField</span>&gt;</span>
</code></pre><p>This will add the keyboard toolbar to the textfield which will only show up when you focus on the textfield. Then in your controller all you need to do is declare the blurInputAmount function.</p>
<p>Also, as a side note, the style pages exist so you don&#39;t have to define all of the style stuff in the XML.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 8th 2014, 12:10:13 pm">August 8th 2014</span>
								by <span class='authorname'>Logan Scharen</span><br>
								<a class="icon-bg icon-link" href="../../question/176225/toolbar-issue-in-text-field-with-numpad.html#answer-281523" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
