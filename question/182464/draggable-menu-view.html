<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Draggable menu (view) » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Draggable menu (view)</h1>
		</header>
		<section>
			<p>Hi, I have a view (a menu) at left:0, top:0. I want to drag it only horizontally, but it should NEVER go over its width (when dragging right) and it should never go too much left (-menu.width).</p>
<p>Moreover, when I drag this view left, if the view is more than a half off screen, when I &quot;release&quot; (sorry for the &quot;flashy&quot; concept), the view should automatically go off screen with a simple animation. </p>
<p>When I release it and more than half is on screen, it should animate and animate rightwards until it can (that is: until its displayed in its full width).</p>
<p>I only found a way to animate (on touchmove), but I can&#39;t imagine how can I do the rest:</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> m3d = Ti.UI.create3DMatrix();
<span class="hljs-keyword">var</span> currentX;

menu.addEventListener(<span class="hljs-string">'touchstart'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span> </span>{
    currentX = e.x;
});
menu.addEventListener(<span class="hljs-string">'touchmove'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span> </span>{

    <span class="hljs-keyword">var</span> deltaX = e.x - currentX;

    <span class="hljs-keyword">var</span> deltaY = <span class="hljs-number">0</span>;

    m3d = m3d.translate(deltaX, deltaY, <span class="hljs-number">0</span>);

    menu.animate({
        transform : m3d,
        duration : <span class="hljs-number">100</span>
    });

});
</code></pre><p>Any help is appreciated</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="May 21st 2015, 11:44:10 am">May 21st 2015</span>
				by <span class='authorname'>London Moe</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>3dmatrix</span></li>
					
						<li><span class='tagname'>animation</span></li>
					
						<li><span class='tagname'>ios</span></li>
					
						<li><span class='tagname'>menu</span></li>
					
				</ul>
			

			<section>
				<h5>2 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>I use a &quot;drawer menu&quot; which sounds very much like what you&#39;re trying to do.  I tried a lot of things to support dragging the menu open and closed, and I ultimately gave up.  In my apps, you have to use the button in the upper left to toggle the menu (or when the menu is open, you can touch anywhere else on the screen to close it).</p>
<p>If you&#39;re interested in seeing my code, <a href="https:&#x2F;&#x2F;github.com&#x2F;jpriebe&#x2F;TitanUp">here it is</a>.</p>
</div>
							<div class="author">
								&mdash; commented <span title="May 21st 2015, 3:00:09 pm">May 21st 2015</span>
								by <span class='authorname'>Jason Priebe</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>First of all, thanks for your code. Problem is I can&#39;t find a way to get how much of a view is (or is not) offscreen. When I started working to this menu I thought it would be quite simple…</p>
</div>
							<div class="author">
								&mdash; commented <span title="May 22nd 2015, 4:39:45 am">May 22nd 2015</span>
								by <span class='authorname'>London Moe</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>0</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>0 Answers</h3>

	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
