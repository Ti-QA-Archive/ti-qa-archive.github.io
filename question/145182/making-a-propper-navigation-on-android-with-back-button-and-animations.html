<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Making a propper navigation on Android... with back button and animations » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Making a propper navigation on Android... with back button and animations</h1>
		</header>
		<section>
			<p>Hi there, I&#39;m new to android development, I had my app exclusive to iphone &amp; ipad but it&#39;s developed in Titanium so I want to &quot;fix&quot; it for Android..<br>So far so good… but I have problems with the navigation logic and crashes…<br>As there isn&#39;t a NavigationBar in Android, like the Iphone does painlessly…I want to at least push some windows into the stack and be able to return to them by pressing the back button on the keyboard, or some other custom button…</p>
<p>Now I&#39;ve read some things about the back button… that it does wierd stuff destroying and crashing the app if you&#39;re not careful with it… so far…I could only use it to crash my app if I close the pushed window</p>
<p>Correct me if I&#39;m wrong.. Android, only pushes windows with WindowObject.open() , so back should pop them…right?<br>So what I&#39;m doing is capturing the android:back event and close the window with WindowObject.close() and it still crashes my app…</p>
<p>What am I doing wrong? I just want to get back to the previous window…</p>
<pre><code class="hljs">
    <span class="hljs-keyword">var</span> MainWindow = Ti.UI.createWindow({
        backgroundColor:<span class="hljs-string">'#ffffff'</span>,
        navBarHidden:<span class="hljs-literal">false</span>,
        exitOnClose:<span class="hljs-literal">true</span>,
        title:<span class="hljs-string">'Main'</span>,
    });


<span class="hljs-comment">// i can trigger an event when pressing a button to push the second window...</span>
    button.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span> </span>{

    <span class="hljs-keyword">var</span> SecondWindow = Ti.UI.createWindow({
        backgroundColor:<span class="hljs-string">'#ffffff'</span>,
        navBarHidden:<span class="hljs-literal">false</span>,
        exitOnClose:<span class="hljs-literal">false</span>,
        title:<span class="hljs-string">'Second'</span>,
    });

     SecondWindow.addEventListener(<span class="hljs-string">'android:back'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span> </span>{
        SecondWindow.close();
        <span class="hljs-comment">//  var activity = Titanium.Android.currentActivity;</span>
               <span class="hljs-comment">//    activity.finish();</span>
        });

    SecondWindow.open();

    });
</code></pre><p>if I don&#39;t put the andoid:back event the app will crash, if i put it with no window close it will capture the event and don&#39;t do nothing…<br>if I do put the window close ..it will crash it again…<br>I read on some q&amp;a about the comented lines that don&#39;t know what exactly does..but with that still doesn&#39;t work…</p>
<p>help!!!</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="November 29th 2012, 4:44:08 am">November 29th 2012</span>
				by <span class='authorname'>Cristian Alexandru</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>back</span></li>
					
						<li><span class='tagname'>button</span></li>
					
						<li><span class='tagname'>events</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-251866">
				
						<section>
							<p>Hi Cristian,</p>
<p>Try to debug your application in DDMS and find out the error code, you may got help from that error code or description.</p>
<p>Application crash is not an good idea, rather than that you should apply some logic to handle the situation.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="November 29th 2012, 5:20:05 am">November 29th 2012</span>
								by <span class='authorname'>Gaurang Chhatbar</span><br>
								<a class="icon-bg icon-link" href="question/145182/making-a-propper-navigation-on-android-with-back-button-and-animations#answer-251866" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>I finally could do the navigation, moving code back and forth.. it seems that the way I had the code organized, Android is considering it illegal, and I had to really fine tune it..</p>
<p>Actually with a lot of stuff not only this one issue… it&#39;s the Android way or no way.</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 30th 2012, 12:06:37 am">November 30th 2012</span>
											by <span class='authorname'>Cristian Alexandru</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
