<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>ListView accessoryType cannot be set programmatically? » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>ListView accessoryType cannot be set programmatically?</h1>
		</header>
		<section>
			<p>Hi,</p>
<p>I am using latest studio, Ti SDK 3.1.3.GA and Alloy 1.2</p>
<p>trying to add a checkmark to each row(item) in the ListView, for some reason, only setting it from the XML file works, while trying to do the same from the controllers, it completely ignores my request.</p>
<p>any ideas?</p>
<p>XML view file</p>
<pre><code class="hljs">    <span class="hljs-tag">&lt;<span class="hljs-title">Alloy</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">Window</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"businessType"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">ListView</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"table"</span> <span class="hljs-attribute">defaultItemTemplate</span>=<span class="hljs-value">"title"</span> <span class="hljs-attribute">onItemclick</span>=<span class="hljs-value">"onRowClick"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-title">Templates</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-title">ItemTemplate</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"tableItem"</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"title"</span> <span class="hljs-attribute">height</span>=<span class="hljs-value">"50"</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-title">Label</span> <span class="hljs-attribute">bindId</span>=<span class="hljs-value">"title"</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"title"</span>/&gt;</span>
                    <span class="hljs-tag">&lt;/<span class="hljs-title">ItemTemplate</span>&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-title">Templates</span>&gt;</span>

                <span class="hljs-tag">&lt;<span class="hljs-title">ListSection</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"section"</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-title">ListItem</span> <span class="hljs-attribute">template</span>=<span class="hljs-value">"title"</span> <span class="hljs-attribute">title:text</span>=<span class="hljs-value">"One"</span>/&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-title">ListItem</span> <span class="hljs-attribute">template</span>=<span class="hljs-value">"title"</span> <span class="hljs-attribute">title:text</span>=<span class="hljs-value">"Two"</span> <span class="hljs-attribute">accessoryType</span>=<span class="hljs-value">"Ti.UI.LIST_ACCESSORY_TYPE_CHECKMARK"</span> /&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-title">ListItem</span> <span class="hljs-attribute">template</span>=<span class="hljs-value">"title"</span> <span class="hljs-attribute">title:text</span>=<span class="hljs-value">"Three"</span> <span class="hljs-attribute">accessoryType</span>=<span class="hljs-value">"Titanium.UI.LIST_ACCESSORY_TYPE_NONE"</span>/&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-title">ListItem</span> <span class="hljs-attribute">template</span>=<span class="hljs-value">"title"</span> <span class="hljs-attribute">title:text</span>=<span class="hljs-value">"Four"</span>/&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-title">ListItem</span> <span class="hljs-attribute">template</span>=<span class="hljs-value">"title"</span> <span class="hljs-attribute">title:text</span>=<span class="hljs-value">"Five"</span>/&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-title">ListItem</span> <span class="hljs-attribute">template</span>=<span class="hljs-value">"title"</span> <span class="hljs-attribute">title:text</span>=<span class="hljs-value">"Six"</span>/&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-title">ListSection</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-title">ListView</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">Window</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">Alloy</span>&gt;</span>
</code></pre><p>Controller</p>
<pre><code class="hljs">$.businessType.addEventListener(<span class="hljs-string">"open"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i=<span class="hljs-number">0</span>; i &lt; $.table.sections[<span class="hljs-number">0</span>].items.length; i++) {

       $.table.sections[<span class="hljs-number">0</span>].items[i].properties.accessoryType = Ti.UI.LIST_ACCESSORY_TYPE_CHECKMARK; <span class="hljs-comment">// ignored</span>

        Ti.API.info(<span class="hljs-string">'item '</span> + i + <span class="hljs-string">" : "</span> + <span class="hljs-built_in">JSON</span>.stringify($.table.sections[<span class="hljs-number">0</span>].items[i].properties));

    };
});
</code></pre><p>Output:</p>
<pre><code class="hljs">[<span class="hljs-preprocessor">INFO</span>] :   <span class="hljs-keyword">item </span><span class="hljs-number">0</span> : {<span class="hljs-string">"id"</span>:<span class="hljs-string">"__alloyId9"</span>}
[<span class="hljs-preprocessor">INFO</span>] :   <span class="hljs-keyword">item </span><span class="hljs-number">1</span> : {<span class="hljs-string">"id"</span>:<span class="hljs-string">"__alloyId10"</span>,<span class="hljs-string">"accessoryType"</span>:<span class="hljs-number">3</span>}
[<span class="hljs-preprocessor">INFO</span>] :   <span class="hljs-keyword">item </span><span class="hljs-number">2</span> : {<span class="hljs-string">"id"</span>:<span class="hljs-string">"__alloyId11"</span>,<span class="hljs-string">"accessoryType"</span>:<span class="hljs-number">0</span>}
[<span class="hljs-preprocessor">INFO</span>] :   <span class="hljs-keyword">item </span><span class="hljs-number">3</span> : {<span class="hljs-string">"id"</span>:<span class="hljs-string">"__alloyId12"</span>}
[<span class="hljs-preprocessor">INFO</span>] :   <span class="hljs-keyword">item </span><span class="hljs-number">4</span> : {<span class="hljs-string">"id"</span>:<span class="hljs-string">"__alloyId13"</span>}
[<span class="hljs-preprocessor">INFO</span>] :   <span class="hljs-keyword">item </span><span class="hljs-number">5</span> : {<span class="hljs-string">"id"</span>:<span class="hljs-string">"__alloyId14"</span>}
</code></pre>
		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="October 19th 2013, 8:20:47 pm">October 19th 2013</span>
				by <span class='authorname'>Moshe Marciano</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>alloy</span></li>
					
						<li><span class='tagname'>checkmark</span></li>
					
						<li><span class='tagname'>list view</span></li>
					
						<li><span class='tagname'>listview</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-270158">
				
						<section>
							<p>You can change all parameters of list view item at runtime. <a href="https:&#x2F;&#x2F;wiki.appcelerator.org&#x2F;display&#x2F;community&#x2F;Titanium+ListView+Specification">Here</a> you found an example.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="October 20th 2013, 7:11:02 am">October 20th 2013</span>
								by <span class='authorname'>Rainer Schleevoigt</span><br>
								<a class="icon-bg icon-link" href="question/158570/listview-accessorytype-cannot-be-set-programmatically#answer-270158" rel="permalink">permalink</a>
							</div>

							<h5>2 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>thanks for the link</p>
<p>I managed to get it working to update, but only by replacing the entire row…</p>
<pre><code class="hljs">$.table.sections[<span class="hljs-number">0</span>].updateItemAt(i,{<span class="hljs-string">properties:</span>{<span class="hljs-string">accessoryType:</span>Ti.UI.LIST_ACCESSORY_TYPE_DETAIL}});
</code></pre><p>while all I wanted was to add a checkmark to an existing row&#x2F;item..</p>
</p>
										<div class="author">
											&mdash; commented <span title="October 20th 2013, 7:24:01 am">October 20th 2013</span>
											by <span class='authorname'>Moshe Marciano</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>a more comprehensive example, this works, but is very slow..</p>
<pre><code class="hljs"><span class="hljs-property">item</span> = $.table.sections[<span class="hljs-number">0</span>].getItemAt(i);
<span class="hljs-property">item</span>.properties.accessoryType = Ti.UI.LIST_ACCESSORY_TYPE_CHECKMARK;    
$.table.sections[<span class="hljs-number">0</span>].updateItemAt(i,<span class="hljs-property">item</span>);
</code></pre><p>anything that can be done to speed this up?</p>
</p>
										<div class="author">
											&mdash; commented <span title="October 20th 2013, 7:37:38 am">October 20th 2013</span>
											by <span class='authorname'>Moshe Marciano</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
