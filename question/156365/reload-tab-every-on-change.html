<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Reload tab every on change Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Reload tab every on change</h1>
		</header>
		<section>
			<p>Hi all,<br>In my application I have 4 different tabs; I&#39;d like that only the second tab (win2) is reloads every time it&#39;s clicked.<br>This is my easy code:</p>
<pre><code class="hljs"><span class="hljs-comment">// create tab group</span>
<span class="hljs-keyword">var</span> tabGroup = Titanium.UI.createTabGroup();


<span class="hljs-keyword">var</span> win1 = Titanium.UI.createWindow({
    url: <span class="hljs-string">'search.js'</span>,
    <span class="hljs-comment">//exitOnClose: true,</span>
    title: <span class="hljs-string">'Home'</span>,
    backgroundColor: <span class="hljs-string">'#fff'</span>,
    barColor: <span class="hljs-string">'#2DBCF8'</span>

});
<span class="hljs-keyword">var</span> tab1 = Titanium.UI.createTab({
    icon: <span class="hljs-string">'icon1.png'</span>,
    title: <span class="hljs-string">'Home'</span>,
    <span class="hljs-built_in">window</span>: win1
});

<span class="hljs-keyword">var</span> win2 = Titanium.UI.createWindow({
    url: <span class="hljs-string">'near.js'</span>,
    title: <span class="hljs-string">'Near me'</span>,
    exitOnClose: <span class="hljs-keyword">true</span>,
    backgroundColor: <span class="hljs-string">'#fff'</span>, 
    barColor: <span class="hljs-string">'#2DBCF8'</span>
});
<span class="hljs-keyword">var</span> tab2 = Titanium.UI.createTab({
    icon: <span class="hljs-string">'icon2.png'</span>,
    title: <span class="hljs-string">'Near'</span>,
    <span class="hljs-built_in">window</span>: win2
});


<span class="hljs-keyword">var</span> win3 = Titanium.UI.createWindow({
    url: <span class="hljs-string">'offers.js'</span>,
    title: <span class="hljs-string">'Offers'</span>,
    <span class="hljs-comment">//exitOnClose: true,</span>
    barColor: <span class="hljs-string">'#2DBCF8'</span>,
    <span class="hljs-comment">//navBarHidden: true,</span>
    backgroundColor: <span class="hljs-string">'#fff'</span>
});
<span class="hljs-keyword">var</span> tab3 = Titanium.UI.createTab({
    icon: <span class="hljs-string">'icon3n.png'</span>,
    title: <span class="hljs-string">'Offers'</span>,
    <span class="hljs-built_in">window</span>: win3
});

<span class="hljs-keyword">var</span> win4 = Titanium.UI.createWindow({
    url: <span class="hljs-string">'about.js'</span>,
        title: <span class="hljs-string">'about'</span>,
      barColor: <span class="hljs-string">'#2DBCF8'</span>,
    backgroundColor: <span class="hljs-string">'#fff'</span>
});
<span class="hljs-keyword">var</span> tab4 = Titanium.UI.createTab({
    icon: <span class="hljs-string">'icon4.png'</span>,
    title: <span class="hljs-string">'About us'</span>,
    <span class="hljs-built_in">window</span>: win4
});


<span class="hljs-comment">//  add tabs</span>

tabGroup.addTab(tab1);
tabGroup.addTab(tab2);
tabGroup.addTab(tab3);
tabGroup.addTab(tab4);

<span class="hljs-comment">// open tab group</span>
tabGroup.open();
</code></pre><p>I tryed with the option exitOnClose: true, but never is changed; can you help me?</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="August 25th 2013, 2:08:51 pm">August 25th 2013</span>
				by <span class='authorname'>henry manco</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>tab</span></li>
					
				</ul>
			

			<section>
				<h5>1 Comment</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Missing from you question are several pieces of information that will help you obtain a speedy and accurate answer, please provide details for ALL of the following ONLY if they are relevant;</p>
<ul>
<li>Titanium SDK Version?</li>
<li>Target platform (which of the following)<ul>
<li>iPhone; which OS version?</li>
<li>iPad; which OS version?</li>
<li>Android Phones; which min&#x2F;target OS version?</li>
<li>Android Tablets; which min&#x2F;target OS version?</li>
<li>Blackberry Phones; which min&#x2F;target OS version?</li>
<li>Blackberry Tablets; which min&#x2F;target OS version?</li>
<li>Mobile Web; which testing device(s)?</li>
<li>Other?</li>
</ul>
</li>
</ul>
</div>
							<div class="author">
								&mdash; commented <span title="August 25th 2013, 2:14:50 pm">August 25th 2013</span>
								by <span class='authorname'>Malcolm Hollingsworth</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-267647">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>Hi</p>
<p><strong>exitOnClose</strong> is designed to tell an Android operating system that this app should exit if this window is closed.  Certainly not what you are after here.</p>
<p>The thing you need to do is create an event listener inside the file <strong>near.js</strong>, something like this;</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> win = Ti.UI.currentWindow;
win.addEventListener(<span class="hljs-string">'focus'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(e)</span> </span>{
   alert(<span class="hljs-string">'Got Focus'</span>);
});
</code></pre><p>This &quot;should&quot; fire each time the user navigates back to this tab.</p>
<p>However I guess you are hoping the app will simply be able to reload the contents of the file <strong>near.js</strong>, this will not happen as you have already loaded the window and as the window is the root window of a tab, you will not close it, so it cannot be opened again.</p>
<p>However there is a real solution, you do not reload, you upload.</p>
<p>Imagine your window code had something very simple like this;</p>
<pre><code class="hljs"><span class="hljs-variable"><span class="hljs-keyword">var</span> win</span> = Ti.UI.currentWindow;
<span class="hljs-variable"><span class="hljs-keyword">var</span> lbl</span> = Ti.UI.createLabel({
    text: 'Hello'
});
win.add(lbl);
</code></pre><p>This would add a single label, that label would be there until you remove it, but you do not need to remove it you just want to update it.  So you would do something like this;</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> win = Ti.UI.currentWindow;
win.addEventListener(<span class="hljs-string">'focus'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(e)</span> </span>{
   lbl.setText(<span class="hljs-string">'Hello'</span>);
});
<span class="hljs-keyword">var</span> lbl = Ti.UI.createLabel({
    text: <span class="hljs-string">''</span>
});
win.add(lbl);
</code></pre><p>Now each time the window is focused the label is updated.  Given the name of the file I suspect we are talking a map and possibly a table, so inside the focus event you call a reset set of functions to remove any annotations that might be on a map and change or empty the contents of the table.</p>
<p>What you do is up to you, but the idea is your window creates the things that will be displayed and then you &quot;update&quot; them in the event listener with the text of a label, not the label itself, the pins on a map, not the map itself, the rows of a table, not the table itself.</p>
<p>I hope this makes sense.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 25th 2013, 2:23:53 pm">August 25th 2013</span>
								by <span class='authorname'>Malcolm Hollingsworth</span><br>
								<a class="icon-bg icon-link" href="../../question/156365/reload-tab-every-on-change.html#answer-267647" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-267651">
				
						<section>
							<p>Thanks  Malcolm; your answer is very complete.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 25th 2013, 3:29:07 pm">August 25th 2013</span>
								by <span class='authorname'>henry manco</span><br>
								<a class="icon-bg icon-link" href="../../question/156365/reload-tab-every-on-change.html#answer-267651" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
