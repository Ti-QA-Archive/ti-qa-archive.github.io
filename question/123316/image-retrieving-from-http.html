<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Image retrieving from http » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Image retrieving from http</h1>
		</header>
		<section>
			<p>Hi,<br>i am retriving an image using a direct http string</p>
<pre><code class="hljs">var cli = Titanium.Network.createHTTPClient()<span class="hljs-comment">;</span>
cli.open("GET", "http://<span class="hljs-number">192.168.1.29</span>:8080/wado?requestType=WADO&amp;studyUID=<span class="hljs-number">1.3.6.1</span>.<span class="hljs-number">4.1.25403</span>.<span class="hljs-number">67474972944</span>.<span class="hljs-number">3184.201103</span><span class="hljs-number">10105820.1</span>&amp;seriesUID=<span class="hljs-number">1.3.6.1</span>.<span class="hljs-number">4.1.25403</span>.<span class="hljs-number">67474972944</span>.<span class="hljs-number">3184.201103</span><span class="hljs-number">10105820.2</span>&amp;objectUID=<span class="hljs-number">2.25.27558</span><span class="hljs-number">46469303445</span><span class="hljs-number">461474248369</span><span class="hljs-number">74490608923</span>")<span class="hljs-comment">;</span>
</code></pre><p>how can i display that image on ios?<br>Thanks</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="July 27th 2011, 12:35:29 pm">July 27th 2011</span>
				by <span class='authorname'>pippo franco</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>ios image retrieving</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>4</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>4 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-214598">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>Hi Pippo</p>
<p>You can save the image to your device, lets say to a folder images in your resources folder:</p>
<pre><code class="hljs">var imageDownloader = Titanium.Network.createHTTPClient();
    imageDownloader.open(<span class="hljs-string">"<span class="hljs-keyword">GET</span>"</span>, url, true);
    imageDownloader.setFile(Titanium.Filesystem.resourcesDirectory + '/images/nameImage.png');
    imageDownloader.send();
</code></pre><p>And then use an imageView.</p>
<p>Also you could use the URL to set the image in an imageView:</p>
<pre><code class="hljs">var picture = Titanium.UI.createImageView({
    url: www.urltopicture.com,
    preventDefaultImage: <span class="hljs-literal">true</span>,
    width: <span class="hljs-number">100</span>,
    height: <span class="hljs-number">100</span>
});
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="July 27th 2011, 12:40:25 pm">July 27th 2011</span>
								by <span class='authorname'>Tjeu Vdw</span><br>
								<a class="icon-bg icon-link" href="question/123316/image-retrieving-from-http.html#answer-214598" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>The second option is the best for using when you will have internet connection. If you want to download the image one time and use the app off-line like an image of a map or so (only 1 image) the best way is to download it. If there will be a lot of images (like a person&#39;s picture and there are more than 5 persons) then you&#39;re better off using the second method.</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 27th 2011, 12:44:12 pm">July 27th 2011</span>
											by <span class='authorname'>Tjeu Vdw</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-214600">
				
						<section>
							<p>You can simple put the url into an image views image property… there is no need to pre-download the image unless you are passing POST variables to the URL</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="July 27th 2011, 12:41:00 pm">July 27th 2011</span>
								by <span class='authorname'>Matt Apperson</span><br>
								<a class="icon-bg icon-link" href="question/123316/image-retrieving-from-http.html#answer-214600" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>2</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-214599">
				
						<section>
							<p>Rather than grabbing the image via http client, you should just create an image view and set the image as the url you want to display. Check the docs for more details on the imageView.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="July 27th 2011, 12:40:52 pm">July 27th 2011</span>
								by <span class='authorname'>Anthony Decena</span><br>
								<a class="icon-bg icon-link" href="question/123316/image-retrieving-from-http.html#answer-214599" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-214609">
				
						<section>
							<p>thanks for your answer,the second method works just fine</p>
<p>the only problem is if i want to download the picture and use the imageview after like this:</p>
<pre><code class="hljs">    var imageDownloader = Titanium.Network.createHTTPClient()<span class="hljs-comment">;</span>
    imageDownloader.open("GET", "http://<span class="hljs-number">192.168.1.29</span>:8080/wado?requestType=WADO&amp;studyUID=<span class="hljs-number">1.3.6.1</span>.<span class="hljs-number">4.1.25403</span>.<span class="hljs-number">67474972944</span>.<span class="hljs-number">3184.201103</span><span class="hljs-number">10105820.1</span>&amp;seriesUID=<span class="hljs-number">1.3.6.1</span>.<span class="hljs-number">4.1.25403</span>.<span class="hljs-number">67474972944</span>.<span class="hljs-number">3184.201103</span><span class="hljs-number">10105820.2</span>&amp;objectUID=<span class="hljs-number">2.25.27558</span><span class="hljs-number">46469303445</span><span class="hljs-number">461474248369</span><span class="hljs-number">74490608923</span>", true)<span class="hljs-comment">;</span>
    imageDownloader.setFile(Titanium.Filesystem.resourcesDirectory + 'nameImage.jpg')<span class="hljs-comment">;</span>
    imageDownloader.send()<span class="hljs-comment">;</span>

    var picture = Titanium.UI.createImageView({
    image:Titanium.Filesystem.resourcesDirectory + 'nameImage.jpg',
    preventDefaultImage: true,
    width: 300,
    height: 300
    })<span class="hljs-comment">;</span>
</code></pre><p>i get an error:<br>[ERROR] Failed to load image:</p>
<p>the url is right.. it seems to me it cant download it</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="July 27th 2011, 1:24:18 pm">July 27th 2011</span>
								by <span class='authorname'>pippo franco</span><br>
								<a class="icon-bg icon-link" href="question/123316/image-retrieving-from-http.html#answer-214609" rel="permalink">permalink</a>
							</div>

							<h5>5 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p><code>Titanium.Filesystem.resourcesDirectory</code> is not writable on device<br>You need to use <code>Titanium.Filesystem.applicationDataDirectory</code></p>
</p>
										<div class="author">
											&mdash; commented <span title="July 27th 2011, 1:38:17 pm">July 27th 2011</span>
											by <span class='authorname'>Dan Tamas</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>applicationDataDirectory is not working eitherway :(</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 27th 2011, 1:56:47 pm">July 27th 2011</span>
											by <span class='authorname'>pippo franco</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Dan, I write to my resourcesDirectory&#x2F;images in my app, which works. So that should work I guess.</p>
<p>And pippo, perhaps you should add a &#39;&#x2F;&#39; in front of your filename on the imageDownloader.setFile and in your imageView: <code>&amp;#x2F;nameImage.jpg</code></p>
</p>
										<div class="author">
											&mdash; commented <span title="July 28th 2011, 4:22:26 am">July 28th 2011</span>
											by <span class='authorname'>Tjeu Vdw</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Are you basing the fact it should work on tests in the simulator&#x2F;emulator?</p>
<p>I am guessing you are, because on the device the resources directory is read-only in both iOS and Android.  This is enforced by the OS as a security precaution; not something Titanium does.</p>
<p>I strongly suggest you write to another directory, such as applicationDataDirectory.</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 28th 2011, 4:39:57 am">July 28th 2011</span>
											by <span class='authorname'>Doug Handy</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Propably it worked because I tested first on my emulator and it downloaded it to my resources directory, and when I tested it on my device, the image would be already in that directory. Or could it be that it is saved in my image folder because i told it to write to resourcesdir&#x2F;images&#x2F;namefile.jpg?</p>
<p>Tjeu</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 28th 2011, 4:41:53 am">July 28th 2011</span>
											by <span class='authorname'>Tjeu Vdw</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
