<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Alloy Library Not Recognized Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Alloy Library Not Recognized</h1>
		</header>
		<section>
			<p>I&#39;ve got an Alloy project that builds and runs on a virtual and physical device, but when I try to use the Alloy library I don&#39;t get any auto-complete and the application can&#39;t find the function.</p>
<p> if i open the titanium terminal I can say &#39;npm install alloy&#39; and it creates a node_module folder, I&#39;m not sure if i have this in the right location, but if i put it in the project I get auto complete, but the application still gets run time errors on the call (the specific call I&#39;m trying to make is as such):<br>var win = Alloy.createController(&#39;MyController&#39;);<br>whether or not this &#39;node_module&#39; folder exists i can run &#39;alloy&#39; in the titanium terminal fine.</p>
<p>is my titanium studio somehow not configured correctly?<br>should the project somehow reference Alloy?</p>
<p>I&#39;m on Windows 7 with Titanium Studio 3.2.3</p>
<p>Any help is appreciated.</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="July 18th 2014, 7:08:38 pm">July 18th 2014</span>
				by <span class='authorname'>Matthew Bradley</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>alloy</span></li>
					
						<li><span class='tagname'>appcelerator</span></li>
					
						<li><span class='tagname'>application</span></li>
					
						<li><span class='tagname'>titanium studio</span></li>
					
						<li><span class='tagname'>window</span></li>
					
				</ul>
			

			<section>
				<h5>1 Comment</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>I Looked at the properties &gt; Project Build Path  for the Project and checked NPM Packages, and now im getting auto complete, but I&#39;m still getting a runtime error &#39;undefined is not a funtion&#39; on the Alloy.createController</p>
</div>
							<div class="author">
								&mdash; commented <span title="July 18th 2014, 7:59:41 pm">July 18th 2014</span>
								by <span class='authorname'>Matthew Bradley</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-280932">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>If you have installed Studio properly, it should have installed the necessary components including the Alloy library. There was no need for the npm install command you did. However, if you used the command stated in your original question, you will have confused your system. That command should have been:</p>
<pre><code class="hljs">npm <span class="hljs-operator"><span class="hljs-keyword">install</span> -<span class="hljs-keyword">g</span> alloy</span>
</code></pre><p>If you omitted the -g argument, you&#39;ve done a local install of Alloy. You would have a global and local installation of Alloy, which will mess up paths and priorities of execution.  Run this:</p>
<pre><code class="hljs"><span class="hljs-built_in">npm</span> r alloy
</code></pre><p>r = remove, or use uninstall if you like to type more. Don&#39;t add the -g here; you&#39;re uninstalling your local copy to leave behind the global install copy.</p>
<p>Make sure your app is truly set up as an Alloy project. Check the Project Natures (under the Project menu in Studio) and check the tiapp.xml for the entry that Stephen mentioned.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="July 21st 2014, 1:51:51 pm">July 21st 2014</span>
								by <span class='authorname'>Tim Poulsen</span><br>
								<a class="icon-bg icon-link" href="../../question/176283/alloy-library-not-recognized.html#answer-280932" rel="permalink">permalink</a>
							</div>

							<h5>3 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>tiapp.xml contains this:</p>
<pre><code class="hljs"><span class="hljs-tag">&lt;<span class="hljs-title">plugins</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-title">plugin</span> <span class="hljs-attribute">version</span>=<span class="hljs-value">"1.0"</span>&gt;</span>ti.alloy<span class="hljs-tag">&lt;/<span class="hljs-title">plugin</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">plugins</span>&gt;</span>
</code></pre><p>I manually removed the local node_modules folder created by the local install, and to be sure i ran the <code>npm r alloy</code> you suggested, getting this: </p>
<pre><code class="hljs">npm WARN <span class="hljs-operator"><span class="hljs-keyword">uninstall</span> <span class="hljs-keyword">not</span> installed <span class="hljs-keyword">in</span> <span class="hljs-keyword">C</span>:\<span class="hljs-keyword">Path</span>\<span class="hljs-keyword">To</span>\<span class="hljs-keyword">Local</span>\<span class="hljs-keyword">Project</span>\node_modules: <span class="hljs-string">"alloy"</span></span>
</code></pre><p>then I ran the <code>npm install -g alloy</code> with the following result:</p>
<pre><code class="hljs"><span class="hljs-attribute">C</span>:\Users\ME\AppData\Roaming\npm\alloy -&gt; <span class="hljs-attribute">C</span>:\Users\ME\AppData\Roaming\npm\node_modules\alloy\bin\alloy
alloy<span class="hljs-variable">@1</span>.<span class="hljs-number">4.0</span> <span class="hljs-attribute">C</span>:\Users\ME\AppData\Roaming\npm\node_modules\alloy
??? commander<span class="hljs-variable">@0</span>.<span class="hljs-number">6.1</span>
??? xmldom<span class="hljs-variable">@0</span>.<span class="hljs-number">1.19</span>
??? colors<span class="hljs-variable">@0</span>.<span class="hljs-number">6.0</span>-<span class="hljs-number">1</span>
??? wrench<span class="hljs-variable">@1</span>.<span class="hljs-number">3.9</span>
??? pkginfo<span class="hljs-variable">@0</span>.<span class="hljs-number">2.2</span>
??? node.extend<span class="hljs-variable">@1</span>.<span class="hljs-number">0.10</span> (is<span class="hljs-variable">@0</span>.<span class="hljs-number">3.0</span>)
??? source-map<span class="hljs-variable">@0</span>.<span class="hljs-number">1.9</span> (amdefine<span class="hljs-variable">@0</span>.<span class="hljs-number">1.0</span>)
??? moment<span class="hljs-variable">@2</span>.<span class="hljs-number">7.0</span>
??? uglify-js<span class="hljs-variable">@2</span>.<span class="hljs-number">2.5</span> (optimist<span class="hljs-variable">@0</span>.<span class="hljs-number">3.7</span>)
??? xml2tss<span class="hljs-variable">@0</span>.<span class="hljs-number">0.5</span> (xml2js<span class="hljs-variable">@0</span>.<span class="hljs-number">2.8</span>)
??? jsonlint<span class="hljs-variable">@1</span>.<span class="hljs-number">5.1</span> (nomnom<span class="hljs-variable">@1</span>.<span class="hljs-number">8.0</span>, JSV<span class="hljs-variable">@4</span>.<span class="hljs-number">0.2</span>)
</code></pre><p>i get auto-complete on Alloy now but when i run the code i still get &quot;Uncaught TypeError: undefined is not a function at &#x2F;index.html (line 77)</p>
<p>The chrome developer tools show blank lines (other than the error at 77) until line 645 at which point there is a block of generated code, and in the editor line 77 is a comment, but if i remove the Alloy call:</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> <span class="hljs-keyword">win</span> = Alloy.createController('MyController');
    <span class="hljs-keyword">win</span>.<span class="hljs-keyword">open</span>();
</code></pre><p>then it runs correctly.</p>
<p>Any idea what this could be or information i could provide that would give you a better idea?</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 21st 2014, 2:49:51 pm">July 21st 2014</span>
											by <span class='authorname'>Matthew Bradley</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Noticed I was missing <code>.getView();</code> appended it to the first line of code, which moved my error to line 76 instead of 77. This does however seem to indicate that the <code>Alloy.createController(&amp;#39;MyController&amp;#39;)</code> method is working. So I changed it to the following:</p>
<pre><code class="hljs">var win = <span class="hljs-type">Alloy</span>.createController(<span class="hljs-symbol">'MyController'</span>);
alert(<span class="hljs-symbol">'Not</span> <span class="hljs-type">Broken</span> <span class="hljs-type">Yet'</span>);
win.getView<span class="hljs-literal">()</span>.<span class="hljs-keyword">open</span><span class="hljs-literal">()</span>;
</code></pre><p>and the alert appeared, not sure what this means though..</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 21st 2014, 4:24:09 pm">July 21st 2014</span>
											by <span class='authorname'>Matthew Bradley</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>The problem turned out to be that my MyController.xml was missing a window tag.</p>
<pre><code class="hljs"><span class="hljs-tag">&lt;<span class="hljs-title">Alloy</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-title">View</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"view"</span> <span class="hljs-attribute">onOpen</span>=<span class="hljs-value">"open"</span>&gt;</span>
   <span class="hljs-tag">&lt;/<span class="hljs-title">View</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">Alloy</span>&gt;</span>
</code></pre><p>changed to:</p>
<pre><code class="hljs"><span class="hljs-tag">&lt;<span class="hljs-title">Alloy</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">Window</span> <span class="hljs-attribute">class</span>=<span class="hljs-value">"container"</span> <span class="hljs-attribute">onOpen</span>=<span class="hljs-value">"open"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">View</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"view"</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">View</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">Window</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">Alloy</span>&gt;</span>
</code></pre><p>after the <code>npm install -g alloy</code> fixed the problem.</p>
<p>I feel rather silly but thank both of you for the support, been beating my head against this one for a while.</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 21st 2014, 6:05:34 pm">July 21st 2014</span>
											by <span class='authorname'>Matthew Bradley</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-280863">
				
						<section>
							<pre><code class="hljs">I<span class="hljs-attribute">'ve</span> got an Alloy project that builds <span class="hljs-keyword">and</span> runs <span class="hljs-keyword">on</span> a virtual <span class="hljs-keyword">and</span> physical device, but <span class="hljs-keyword">when</span> I try <span class="hljs-keyword">to</span> <span class="hljs-keyword">use</span> the Alloy <span class="hljs-keyword">library</span> I don<span class="hljs-attribute">'t</span> get any auto-complete <span class="hljs-keyword">and</span> the application can<span class="hljs-attribute">'t</span> find the <span class="hljs-keyword">function</span>.
</code></pre><p>Hrm, that doesn&#39;t sound right at all.</p>
<p>Couple of questions.</p>
<ul>
<li>if you run <code>alloy</code> in a terminal what do you get?</li>
<li>you are working in the app directory of your project?</li>
<li>in your tiapp.xml do you have a <code>ti.alloy</code> plugin entry?</li>
</ul>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="July 19th 2014, 2:58:38 am">July 19th 2014</span>
								by <span class='authorname'>Stephen Feather</span><br>
								<a class="icon-bg icon-link" href="../../question/176283/alloy-library-not-recognized.html#answer-280863" rel="permalink">permalink</a>
							</div>

							<h5>2 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><ul>
<li>in what file are you trying to access <code>Alloy</code>? In a controller or in a library?</li>
</ul>
</p>
										<div class="author">
											&mdash; commented <span title="July 19th 2014, 2:59:43 am">July 19th 2014</span>
											by <span class='authorname'>Stephen Feather</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>In a controller (index.js)</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 19th 2014, 3:02:50 pm">July 19th 2014</span>
											by <span class='authorname'>Matthew Bradley</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
