<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Scrollview crashing when clearing views -  also updated SDK. » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Scrollview crashing when clearing views -  also updated SDK.</h1>
		</header>
		<section>
			<p>I had to reinstall my Mac and during the process Titanium was updated to Titanium SDK version: 2.1.1 (07&#x2F;27&#x2F;12 14:01 0fd84a2). Xcode was also upped to Version 4.3 (4E109). </p>
<p>My app, which has been running fine prior to the install, now generates errors and crashes. It builds and I can navigate the less complex screens but when I enter my main screen where I need to clear the views within a scrollableView using this method… </p>
<p>sv.views = [] (which has been working fine)</p>
<p>It crashes and exits the simulator.</p>
<p>Also, I am now seeing numerous warnings I have never seen before.</p>
<p>[WARN] New layout set while view [object TiUIImageView] animating: Will relayout after animation.</p>
<p>But the killer is the sv.views = []. If I comment it out it survives. Judging from the error something has gone screwy with the handling of the array. Any ideas?</p>
<p>Here is the error log</p>
<p>[WARN] Exception in event callback. {<br>    line = 308;<br>    message = &quot;<strong><em> -[<strong>NSArrayM objectAtIndex:]: index 4294967295 beyond bounds for empty array&quot;;<br>    sourceId = 262678848;<br>}<br>[ERROR] The application has crashed with an unhandled exception. Stack trace:<br>0   CoreFoundation                      0x02f56052 </strong>exceptionPreprocess + 178<br>1   libobjc.A.dylib                     0x02d76d0a objc_exception_throw + 44<br>2   CoreFoundation                      0x02f42db8 -[<strong>NSArrayM objectAtIndex:] + 264<br>3   Dr.MCQ1                             0x00165583 -[TiUIScrollableViewProxy viewAtIndex:] + 211<br>4   Dr.MCQ1                             0x0016a12a -[TiUIScrollableView scrollViewDidScroll:] + 666<br>5   UIKit                               0x00b1bac2 -[UIScrollView setContentOffset:] + 797<br>6   UIKit                               0x00b184af -[UIScrollViewScrollAnimation setProgress:] + 555<br>7   UIKit                               0x00b9540e -[UIAnimator(Static) _advance:withTimestamp:] + 295<br>8   UIKit                               0x00b950a3 -[UIAnimator(Static) _LCDHeartbeatCallback:] + 67<br>9   QuartzCore                          0x01df52db _ZN2CA7Display11DisplayLink8dispatchEyy + 105<br>10  QuartzCore                          0x01df51af _ZN2CA7Display16TimerDisplayLink8callbackEP16</strong>CFRunLoopTimerPv + 161<br>11  CoreFoundation                      0x02f2a966 <strong>CFRUNLOOP_IS_CALLING_OUT_TO_A_TIMER_CALLBACK_FUNCTION</strong> + 22<br>12  CoreFoundation                      0x02f2a407 <strong>CFRunLoopDoTimer + 551<br>13  CoreFoundation                      0x02e8d7c0 </strong>CFRunLoopRun + 1888<br>14  CoreFoundation                      0x02e8cdb4 CFRunLoopRunSpecific + 212<br>15  CoreFoundation                      0x02e8cccb CFRunLoopRunInMode + 123<br>16  GraphicsServices                    0x02bb5879 GSEventRunModal + 207<br>17  GraphicsServices                    0x02bb593e GSEventRun + 114<br>18  UIKit                               0x00ad6a9b UIApplicationMain + 1175<br>19  Dr.MCQ1                             0x00006258 main + 456<br>20  Dr.MCQ1                             0x00002bc5 start + 53<br>2012-08-09 17:03:39.183 Dr.MCQ1[4558:17603] </em></strong> Terminating app due to uncaught exception &#39;NSRangeException&#39;, reason: &#39;<strong><em> -[__NSArrayM objectAtIndex:]: index 4294967295 beyond bounds for empty array&#39;
</em></strong> First throw call stack:<br>(0x2f56052 0x2d76d0a 0x2f42db8 0x165583 0x16a12a 0xb1bac2 0xb184af 0xb9540e 0xb950a3 0x1df52db 0x1df51af 0x2f2a966 0x2f2a407 0x2e8d7c0 0x2e8cdb4 0x2e8cccb 0x2bb5879 0x2bb593e 0xad6a9b 0x6258 0x2bc5)<br>terminate called throwing an exception<br>[INFO] Application has exited from Simulator</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="August 9th 2012, 5:19:15 am">August 9th 2012</span>
				by <span class='authorname'>Ashley Norriss</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>crash</span></li>
					
						<li><span class='tagname'>scrollableview</span></li>
					
						<li><span class='tagname'>updates</span></li>
					
						<li><span class='tagname'>xcode</span></li>
					
				</ul>
			

			<section>
				<h5>1 Comment</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Ok. It was an SDK version issue. My home Mac was at sdk 2.1.1. My work Mac, where all is good, is 2.0.1. Tonight I used the studio feature to restore an earlier version of the sdk at home and it all works now. Some scary times, but a good lesson in checking your sdk versions. I&#39;ll tread carefully now.</p>
</div>
							<div class="author">
								&mdash; commented <span title="August 10th 2012, 6:32:34 am">August 10th 2012</span>
								by <span class='authorname'>Ashley Norriss</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>1</span> Vote</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-244831">
				
						<section>
							<p>Hi Ashley </p>
<p>Seeing the code especially line 308 would of really helped us to help you.</p>
<p>However, I suspect it is your chosen method or removing views.</p>
<p>You need to use the <code>viewname.remove(achildview);</code> method, see <a href="http:&#x2F;&#x2F;developer.appcelerator.com&#x2F;question&#x2F;140740&#x2F;scrollview-iphone">this</a> as an example.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 9th 2012, 5:34:56 am">August 9th 2012</span>
								by <span class='authorname'>Malcolm Hollingsworth</span><br>
								<a class="icon-bg icon-link" href="question/140761/scrollview-crashing-when-clearing-views---also-updated-sdk.html#answer-244831" rel="permalink">permalink</a>
							</div>

							<h5>3 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Thank you, I spotted that post and have tried that method. No luck. Line 308 is the line I have mentioned.</p>
<p>sv.views = [] </p>
<p>I&#39;m returning to work tomorrow where I have the same code on my work machine, It has not had any updates performed on it and was working when I left it.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 9th 2012, 5:57:08 am">August 9th 2012</span>
											by <span class='authorname'>Ashley Norriss</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Hi Ashley</p>
<p>I suspect your problem has not actually gone away - either something is more forgiving in the old SDK or the situation was not identical between your two locations.</p>
<p>If the problem comes back - which I suspect it may do - let us know.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 10th 2012, 7:39:35 am">August 10th 2012</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Agreed. The project plan is to move forward with rapid releases and I refuse to be held back to prior versions of the SDK. I have other jobs on and clamping the sdk sucks, even though the release is only a few months old. Outside of project demands, I&#39;ll explore stepping the sdk up incrementally and reporting the results. I&#39;m curious as to why, and maybe it might help others. It&#39;s that pesky literal notation of the array that I have my angry eyes on.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 10th 2012, 8:35:14 am">August 10th 2012</span>
											by <span class='authorname'>Ashley Norriss</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-244839">
				
						<section>
							<p>Hi Ashley, can you provide your code with scroll view as problem is </p>
<p><code>when you scroll your scrollView, views are not getting added properly and array index is empty at that place</code></p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 9th 2012, 6:39:38 am">August 9th 2012</span>
								by <span class='authorname'>Ashish Nigam</span><br>
								<a class="icon-bg icon-link" href="question/140761/scrollview-crashing-when-clearing-views---also-updated-sdk.html#answer-244839" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>-1</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
