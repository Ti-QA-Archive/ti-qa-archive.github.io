<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Populate Picker using server-side data » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Populate Picker using server-side data</h1>
		</header>
		<section>
			<p>I would like to populate a picker dynamically with remote data.  I was having no luck so I tried to create a picker using a static array.  I can create a picker in &quot;normal&quot; context using static data without any issues using this code:</p>
<pre><code class="hljs">var pickerData = [
    Ti.UI.createPickerRow({<span class="hljs-string">title:</span><span class="hljs-string">'DATA 1'</span>,<span class="hljs-string">value:</span><span class="hljs-string">'1'</span>}),
    Ti.UI.createPickerRow({<span class="hljs-string">title:</span><span class="hljs-string">'DATA 2'</span>,<span class="hljs-string">value:</span><span class="hljs-string">'2'</span>}),
    Ti.UI.createPickerRow({<span class="hljs-string">title:</span><span class="hljs-string">'DATA 3'</span>,<span class="hljs-string">value:</span><span class="hljs-string">'3'</span>}),
    Ti.UI.createPickerRow({<span class="hljs-string">title:</span><span class="hljs-string">'DATA 4'</span>,<span class="hljs-string">value:</span><span class="hljs-string">'4'</span>})
];
picker.add(pickerData);
</code></pre><p>But when I attempt the exact same snippet in an xhr.onload method (or method called by the onload method) it throws the following exception:</p>
<pre><code class="hljs"><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span> Terminating app due to uncaught exception 'NSRangeException', reason: '<span class="hljs-keyword">*</span><span class="hljs-keyword">*</span><span class="hljs-keyword">*</span> -[NSMutableArray objectAtIndex:]: index 0 beyond bounds for empty array'
</code></pre><p>I&#39;ve tried pickerData as both a local and global variable with the same results.  I have rebuilt, deleted the contents of the build folder and &quot;cleaned&quot; the project numerous times with the same results.</p>
<p>Any help would be much appreciated.</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="July 8th 2011, 8:26:08 pm">July 8th 2011</span>
				by <span class='authorname'>Kalani Keala</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>dynamic</span></li>
					
						<li><span class='tagname'>mobile</span></li>
					
						<li><span class='tagname'>nsrangeexception</span></li>
					
						<li><span class='tagname'>picker</span></li>
					
				</ul>
			

			<section>
				<h5>1 Comment</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>I am having the same issue. Have you got any solution on this.</p>
</div>
							<div class="author">
								&mdash; commented <span title="December 20th 2011, 10:19:06 am">December 20th 2011</span>
								by <span class='authorname'>R D</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>3</span> Votes</div>
			<div class="answers"><span>3</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>3 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-212611">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>In this case I&#39;am using the observer patterns:<br>The onload event fires an event and the view listen on this event, tests the structur (typeoff .., length) and populates datas in rows.</p>
<p>Best regards<br>Rainer</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="July 9th 2011, 4:58:57 am">July 9th 2011</span>
								by <span class='authorname'>Rainer Schleevoigt</span><br>
								<a class="icon-bg icon-link" href="question/122283/populate-picker-using-server-side-data#answer-212611" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-212595">
				
						<section>
							<p>Well, it looks like either </p>
<ol>
<li>The object returned from your web service is empty OR</li>
<li>You are accessing the data within your return structure incorrectly</li>
</ol>
<p>With no other info about your code or service, I would start by making sure that you are getting the correct info from your xhr call and then that you are accessing that data structure properly.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="July 8th 2011, 9:20:58 pm">July 8th 2011</span>
								by <span class='authorname'>Anthony Decena</span><br>
								<a class="icon-bg icon-link" href="question/122283/populate-picker-using-server-side-data#answer-212595" rel="permalink">permalink</a>
							</div>

							<h5>2 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Thanks for the attempted answer, but no.  As stated, I&#39;m using the exact code including the static array of PickerRows to rule out an issue with the webservice (which incidentally was definitely returning the expected data) in the onload method.  It works in normal context, it does not work in onload context.</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 8th 2011, 9:32:39 pm">July 8th 2011</span>
											by <span class='authorname'>Kalani Keala</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Have you actually tried using a data array that doesn&#39;t include creating picker rows??  ie:</p>
<pre><code class="hljs">var pickerData = [
    {<span class="hljs-string">title:</span><span class="hljs-string">'DATA 1'</span>},
    {<span class="hljs-string">title:</span><span class="hljs-string">'DATA 2'</span>},
    {<span class="hljs-string">title:</span><span class="hljs-string">'DATA 3'</span>}
];
picker.add(pickerData);
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="July 8th 2011, 10:13:35 pm">July 8th 2011</span>
											by <span class='authorname'>Anthony Decena</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>2</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-217975">
				
						<section>
							<p>The solution to this seems to be to build the picker in your xhr call. No idea why but it seems to work then.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="September 1st 2011, 7:55:15 pm">September 1st 2011</span>
								by <span class='authorname'>Mark Edmondson</span><br>
								<a class="icon-bg icon-link" href="question/122283/populate-picker-using-server-side-data#answer-217975" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
