<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>select image not working in android » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>select image not working in android</h1>
		</header>
		<section>
			<p>Hi I have some problem in project. I&#39;m showing some list in the table view row. By clicking the list it has to show select image for selected id. And I wrote code for selected id and my problem is when i&#39;m selected the the select image is showing in IOS and not showing in the Andriod. Can any check code and guide me where I did mistake</p>
<p>~~~</p>
<p>var cellWidth = 192;<br>var cellHeight = 192;<br>var xSpacer = 10;<br>var ySpacer = 10;<br>var xGrid = 3;</p>
<p>var tableData = [];</p>
<pre><code class="hljs">var colorSet = [
    {<span class="hljs-string">id:</span> <span class="hljs-string">'array_key'</span>, <span class="hljs-string">image:</span> <span class="hljs-string">'/images/p2.jpg'</span>, <span class="hljs-string">datum:</span> <span class="hljs-string">' Dec 2012'</span>},
    { <span class="hljs-string">image:</span> <span class="hljs-string">'/images/p3.jpg'</span>,<span class="hljs-string">id:</span><span class="hljs-number">2</span>, <span class="hljs-string">datum:</span> <span class="hljs-string">' Jun 2012'</span> },
    { <span class="hljs-string">image:</span> <span class="hljs-string">'/images/cafe.jpg'</span>, <span class="hljs-string">datum:</span> <span class="hljs-string">' Feb 2013'</span> },
         ];
var colorSet2 = [
    { <span class="hljs-string">image:</span> <span class="hljs-string">'/images/cafe.jpg'</span>, <span class="hljs-string">datum:</span> <span class="hljs-string">' Dec 2012'</span>},
    { <span class="hljs-string">image:</span> <span class="hljs-string">'/images/p2.jpg'</span>,<span class="hljs-string">id:</span><span class="hljs-number">2</span>, <span class="hljs-string">datum:</span> <span class="hljs-string">' Jun 2012'</span> },
     { <span class="hljs-string">image:</span> <span class="hljs-string">'/images/cafe.jpg'</span>, <span class="hljs-string">datum:</span> <span class="hljs-string">' Feb 2013'</span> },        
    ];     
 var arraytest = [
         <span class="hljs-string">"key1"</span>,<span class="hljs-string">"key2"</span>
    ];           
var keyarray  = [];  
var keyarray2 = [];       
 colorSet.sort(comp);
 Ti.API.info(<span class="hljs-string">'friends sorted Array ='</span>+arraytest.length);

  keyarray=[
               {<span class="hljs-string">key1:</span>colorSet},
               {<span class="hljs-string">key2:</span>colorSet2}

            ];

var yGrid = keyarray.length;     
var yGridkey2 = keyarray[<span class="hljs-number">1</span>].key2.length;  

<span class="hljs-comment">//custom sort function</span>
function comp(a, b) {
    <span class="hljs-comment">// change the &gt; condition to &lt; for reverse the sort.</span>
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Date(a.datum).getTime() &lt; <span class="hljs-keyword">new</span> Date(b.datum).getTime();  
}
</code></pre><p> var colorSetIndex = 0;<br> var cellIndex = 0;</p>
<p>   var tableview = Ti.UI.createTableView({<br>    &#x2F;&#x2F;data:tableData<br>   });<br>  &#x2F;&#x2F;&#x2F;——-&#x2F;&#x2F;<br>  var globaltest = &quot; &quot;;<br>  var globaltest2 = &quot; &quot;;</p>
<p>  for (var i=0; i &lt; yGrid; i++) {</p>
<pre><code class="hljs">       <span class="hljs-keyword">for</span>(key <span class="hljs-keyword">in</span> keyarray[i]){

       globaltest = keyarray[i][key].length;

    }
    Ti.API.info(<span class="hljs-string">'globaltest'</span> +globaltest);


   <span class="hljs-keyword">var</span> keynamevar = arraytest[i];



  <span class="hljs-keyword">var</span> yGridkey = globaltest;   


    <span class="hljs-keyword">var</span> row0 = Ti.UI.createTableViewRow({height:<span class="hljs-string">"100"</span>,backgroundColor:<span class="hljs-string">"#EEEEEE"</span>});   

        <span class="hljs-keyword">var</span> labelTitle = Ti.UI.createLabel({         
                             text:<span class="hljs-string">"JAN 2013"</span>,
                            left:<span class="hljs-string">'40%'</span>,
                            color:<span class="hljs-string">'black'</span> ,
                            font :{fontSize: Alloy.CFG.font2,fontWeight: <span class="hljs-string">'bold'</span>},      
                        });    
              row0.add(labelTitle);                            
              tableview.appendRow(row0);    

              <span class="hljs-keyword">var</span> yGridkeyarray = keyarray[i][key];   

             <span class="hljs-comment">//  Ti.API.info("yGridkeyarray:" + JSON.stringify(yGridkeyarray));                </span>
             <span class="hljs-keyword">var</span> testvar = keyarray.yGridkeyarray;
             Ti.API.info(<span class="hljs-string">"testvar:"</span>+ yGridkeyarray); 

            <span class="hljs-keyword">var</span>  dividegridkey = yGridkey/<span class="hljs-number">3</span>;  
            <span class="hljs-keyword">var</span>  modegridkey = yGridkey%<span class="hljs-number">3</span>;


     Ti.API.info(<span class="hljs-string">"dividegridkey:"</span>+ dividegridkey);    
     Ti.API.info(<span class="hljs-string">"modegridkey:"</span>+ modegridkey); 

     <span class="hljs-keyword">if</span>(modegridkey &gt; <span class="hljs-number">0</span>){
         dividegridkey = dividegridkey+<span class="hljs-number">1</span>;
     }



       <span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> k= <span class="hljs-number">0</span>; k&lt;dividegridkey; k++){
                <span class="hljs-keyword">var</span> row1= Ti.UI.createTableViewRow({
                            <span class="hljs-comment">//height:80,</span>
                            backgroundColor:<span class="hljs-string">"#FFFFFF"</span>,
                               className: <span class="hljs-string">"grid"</span>,
                                layout: <span class="hljs-string">"horizontal"</span>,
                                height: cellHeight+(<span class="hljs-number">2</span>*ySpacer),
                                <span class="hljs-comment">//selectedBackgroundColor:"red"                                </span>

             });



              <span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> j = <span class="hljs-number">0</span>; j&lt;<span class="hljs-number">3</span>; j++){

              <span class="hljs-keyword">var</span> cellimgwidth = j*cellWidth + <span class="hljs-built_in">parseInt</span>(ySpacer);


               <span class="hljs-keyword">var</span> thisView = Ti.UI.createView({
                    <span class="hljs-comment">//objName:"grid-view",</span>
                   <span class="hljs-comment">// objIndex:cellIndex.toString(),</span>
                  <span class="hljs-comment">//  backgroundColor: "white",</span>
                    left: <span class="hljs-number">5</span>,
                    height: cellHeight,
                    width: cellWidth
                });



                <span class="hljs-keyword">var</span> icon = Ti.UI.createButton({
                    left: <span class="hljs-number">5</span>,
                    height: cellHeight,
                    backgroundImage: yGridkeyarray[(k*<span class="hljs-number">3</span>+j)].image,
                    top: <span class="hljs-number">0</span>,           
                    width: cellWidth,
                    objName:<span class="hljs-string">"grid-view"</span>,
                    objIndex:cellIndex.toString(),        
                    value: <span class="hljs-literal">false</span>                
                }); 



                        <span class="hljs-comment">//Attach some simple on/off actions</span>

                <span class="hljs-keyword">var</span> labelView = Titanium.UI.createView({
                                    visible:<span class="hljs-literal">false</span>,
                                    width : cellHeight,
                                    height : cellWidth,
                                    <span class="hljs-comment">//backgroundColor : '#000',</span>
                                    backgroundImage:<span class="hljs-string">"/images/transparent.png"</span>,
                                   <span class="hljs-comment">// opacity : 0.8</span>

                                    });

                    <span class="hljs-keyword">var</span> select_icon = Ti.UI.createImageView({
                        left: <span class="hljs-number">0</span>,
                        height: <span class="hljs-number">33</span>,
                        backgroundImage:<span class="hljs-string">"/images/event_select.png"</span>,

                        top: <span class="hljs-number">0</span>,           
                        width: <span class="hljs-number">36</span>,                                                                     
                    });
                    labelView.add(select_icon);                            
                    icon.on = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                        <span class="hljs-keyword">this</span>.value = <span class="hljs-literal">true</span>;

                    };

                    icon.off = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
                        <span class="hljs-keyword">this</span>.value = <span class="hljs-literal">false</span>;

                    };

               icon.add(labelView);    
               thisView.add(icon);

               row1.add(thisView); 

                cellIndex++;
                colorSetIndex++;        



            }

                        tableview.appendRow(row1);  


       }   
        <span class="hljs-comment">//tableview.data= tableData; </span>
</code></pre><p>  };<br> &#x2F;&#x2F;——-&#x2F;&#x2F;</p>
<p>tableview.addEventListener(&quot;click&quot;, function(e){<br>    if(e.source.objName){<br>        Ti.API.info(&quot;—&gt; &quot; + e.source.objName+e.source.objIndex + &quot; was clicked!&quot;);<br>        Ti.API.info(&quot;—&gt; &quot; + e.source.height + &quot; was clicked!&quot;);</p>
<pre><code class="hljs">                   <span class="hljs-comment">// checkbox click</span>

         <span class="hljs-keyword">if</span>(<span class="hljs-keyword">false</span> == e.<span class="hljs-keyword">source</span>.value) {
                        e.<span class="hljs-keyword">source</span>.on();
                     e.<span class="hljs-keyword">source</span>.children[<span class="hljs-number">0</span>].setVisible(<span class="hljs-keyword">true</span>);

                    } <span class="hljs-keyword">else</span> {
                       e.<span class="hljs-keyword">source</span>.off();  
                      e.<span class="hljs-keyword">source</span>.children[<span class="hljs-number">0</span>].setVisible(<span class="hljs-keyword">false</span>);
                        Ti.API.info(<span class="hljs-string">"e.index"</span>+e.<span class="hljs-keyword">source</span>.value);

                    }    


}
</code></pre><p>});</p>
<p>var win = Ti.UI.createWindow({<br>    backgroundColor:&quot;black&quot;,<br>    navBarHidden:false,<br>    title:&quot;Main Window&quot;<br>});<br>$.win.add(tableview);</p>
<p>$.win.open();</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="August 7th 2014, 12:19:53 pm">August 7th 2014</span>
				by <span class='authorname'>narasimha reddy</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>select</span></li>
					
				</ul>
			

			<section>
				<h5>1 Comment</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Can any one suggest me where I did wrong in above code</p>
</div>
							<div class="author">
								&mdash; commented <span title="August 8th 2014, 6:47:59 am">August 8th 2014</span>
								by <span class='authorname'>narasimha reddy</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>0</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>0 Answers</h3>

	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
