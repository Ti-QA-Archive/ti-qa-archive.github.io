<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Include from App Data » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Include from App Data</h1>
		</header>
		<section>
			<p>Hi Folks,</p>
<p>Having a bit of a problem with my Titanium.Include! It just dosent want to include from the application data directory :( Any ideas?</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> assetsConfig_path = Titanium.Filesystem.applicationDataDirectory + <span class="hljs-string">'/downloadroot/'</span>;
Titanium.<span class="hljs-keyword">include</span>(assetsConfig_path + <span class="hljs-string">'general/text/help.txt'</span>);
</code></pre>
		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="July 11th 2011, 12:50:13 pm">July 11th 2011</span>
				by <span class='authorname'>Scott Robinson</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>application director</span></li>
					
						<li><span class='tagname'>include</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>4</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>4 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-212782">
				
						<section>
							<p>Depending on which SDK version you&#39;re using, you might see that Ti.Filesystem.applicationDirectory returns a &#39;url&#39; with a trailing slash:</p>
<p>Output your assetsCongifPath to the info console to see what&#39;s going on there.</p>
<p>Also, I have a feeling that Ti.include should be used for including and processing JavaScript, instead of just echoing the contents of a text file to your app.  You might want to instead actually read the contents of the text file and then use the text contents of that where you need to display it.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="July 11th 2011, 1:15:15 pm">July 11th 2011</span>
								by <span class='authorname'>Kosso</span><br>
								<a class="icon-bg icon-link" href="question/122386/include-from-app-data#answer-212782" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-212783">
				
						<section>
							<p>Thanks for the tip Kosso! Unfortunately that didn&#39;t seem to solve it for me. Had a play, but no luck! </p>
<p>The text file contains variables, much like the JS file! It works when not based in the applicationDirectory but it needs to be in there because of the structure of the app!</p>
<p>As you can see, i run Ti.API.info to output the path (Ti.API.info(assetsConfig_path + &#39;general&#x2F;text&#x2F;help.txt&#39;);<br>) which i correct… However, the errors seem to be looking elsewhere!</p>
<p>[INFO] &#x2F;Users&#x2F;scottrobinson&#x2F;Library&#x2F;Application Support&#x2F;iPhone Simulator&#x2F;4.2&#x2F;Applications&#x2F;7297B07D-A6FD-497E-B0B5-533D1D59929E&#x2F;Documents&#x2F;downloadroot&#x2F;general&#x2F;text&#x2F;help.txt</p>
<p>[ERROR] error loading path: file:&#x2F;&#x2F;localhost&#x2F;Users&#x2F;scottrobinson&#x2F;Library&#x2F;Application%20Support&#x2F;iPhone%20Simulator&#x2F;4.2&#x2F;Applications&#x2F;7297B07D-A6FD-497E-B0B5-533D1D59929E&#x2F;Oxford%20Highlights.app&#x2F;&#x2F;Users&#x2F;scottrobinson&#x2F;Library&#x2F;Application%20Support&#x2F;iPhone%20Simulator&#x2F;4.2&#x2F;Applications&#x2F;7297B07D-A6FD-497E-B0B5-533D1D59929E&#x2F;Documents&#x2F;downloadroot&#x2F;general&#x2F;text&#x2F;help.txt, Error Domain=NSCocoaErrorDomain Code=260 &quot;The operation couldn’t be completed. (Cocoa error 260.)&quot; UserInfo=0x695c780 {NSFilePath=&#x2F;Users&#x2F;scottrobinson&#x2F;Library&#x2F;Application Support&#x2F;iPhone Simulator&#x2F;4.2&#x2F;Applications&#x2F;7297B07D-A6FD-497E-B0B5-533D1D59929E&#x2F;Oxford Highlights.app&#x2F;&#x2F;Users&#x2F;scottrobinson&#x2F;Library&#x2F;Application Support&#x2F;iPhone Simulator&#x2F;4.2&#x2F;Applications&#x2F;7297B07D-A6FD-497E-B0B5-533D1D59929E&#x2F;Documents&#x2F;downloadroot&#x2F;general&#x2F;text&#x2F;help.txt, NSUnderlyingError=0x695c2b0 &quot;The operation couldn’t be completed. No such file or directory&quot;}</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="July 11th 2011, 1:23:31 pm">July 11th 2011</span>
								by <span class='authorname'>Scott Robinson</span><br>
								<a class="icon-bg icon-link" href="question/122386/include-from-app-data#answer-212783" rel="permalink">permalink</a>
							</div>

							<h5>4 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>How about if you change the extension of the file to .js?</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 11th 2011, 1:33:32 pm">July 11th 2011</span>
											by <span class='authorname'>Kosso</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Unfortunately i get the same error :(</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 11th 2011, 1:57:26 pm">July 11th 2011</span>
											by <span class='authorname'>Scott Robinson</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>And out of interest (though I know you said your app need to include it from the data directory) what if you move it to your Resources folder and include from there? </p>
<p>It&#39;s odd that you can&#39;t read the file text in. If it&#39;s just some vars, how about encapsulating those values in to a JSON formatted string, read the contents, then JSON.parse-ing the contents?</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 11th 2011, 2:00:36 pm">July 11th 2011</span>
											by <span class='authorname'>Kosso</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>i think the path is relative to the current location of the calling file. I have had major issues with paths and defining absolute path will only work on files in the resource directory calling other files.</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 11th 2011, 2:06:38 pm">July 11th 2011</span>
											by <span class='authorname'>Trevor Ward</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-212798">
				
						<section>
							<p>Moving it to the resources directory works! </p>
<p>But the file is being downloaded on startup, and may be updated via an in-app update function. Apparently the resources directory is not writeable on the phone, therefor i cannot use it.. But it appears i cant use the appdata directory either!</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="July 11th 2011, 3:12:09 pm">July 11th 2011</span>
								by <span class='authorname'>Scott Robinson</span><br>
								<a class="icon-bg icon-link" href="question/122386/include-from-app-data#answer-212798" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-212867">
				
						<section>
							<p>Found a way of doing it, not to happy with it but it works!</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> assetsConfig_prefix = <span class="hljs-string">'../../../../../../../../../../'</span>;
<span class="hljs-keyword">var</span> assetsConfig_path = Titanium.Filesystem.applicationDataDirectory + <span class="hljs-string">'/downloadroot/'</span>;
Titanium.<span class="hljs-keyword">include</span>(assetsConfig_prefix + assetsConfig_path + <span class="hljs-string">'general/text/help.txt'</span>);
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="July 12th 2011, 7:19:49 am">July 12th 2011</span>
								by <span class='authorname'>Scott Robinson</span><br>
								<a class="icon-bg icon-link" href="question/122386/include-from-app-data#answer-212867" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
