<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Device orientation on startup - bug or my mistake ? » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Device orientation on startup - bug or my mistake ?</h1>
		</header>
		<section>
			<p>I am trying to build a Landscape only app, and from searching the Q&amp;A it seems there has been some bugs with this in previous versions, but it all seems to supposedly be fixed.  However, I am struggling with this.</p>
<pre><code class="hljs">var window = Ti.UI.createWindow({
    backgroundColor: <span class="hljs-string">'#fcf'</span>,
    orientationModes:[
        Titanium.UI.LANDSCAPE_LEFT,
        Titanium.UI.LANDSCAPE_RIGHT
    ]
});

var readView = Titanium.UI.createView({
    <span class="hljs-variable">width</span> : Titanium.Platform.displayCaps.platformWidth,
    <span class="hljs-variable">height</span> : Titanium.Platform.displayCaps.platformHeight,
});
window.<span class="hljs-built_in">add</span>(readView);
window.<span class="hljs-built_in">open</span>();
Titanium.API.info(window.<span class="hljs-variable">width</span> + <span class="hljs-string">','</span> + window.<span class="hljs-variable">height</span>);
Titanium.API.info(readView.<span class="hljs-variable">width</span> + <span class="hljs-string">','</span> + readView.<span class="hljs-variable">height</span>);
Titanium.API.info(Titanium.Gesture.orientation);
Titanium.API.info(Titanium.Platform.displayCaps.platformWidth+ <span class="hljs-string">', '</span>+ Titanium.Platform.displayCaps.platformHeight);
</code></pre><p>In addition, I have this set in my tiapp.xml:</p>
<pre><code class="hljs">   <span class="hljs-tag">&lt;<span class="hljs-title">iphone</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">orientations</span> <span class="hljs-attribute">device</span>=<span class="hljs-value">"iphone"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">orientation</span>&gt;</span>Ti.UI.LANDSCAPE_LEFT<span class="hljs-tag">&lt;/<span class="hljs-title">orientation</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">orientation</span>&gt;</span>Ti.UI.LANDSCAPE_RIGHT<span class="hljs-tag">&lt;/<span class="hljs-title">orientation</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">orientations</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">orientations</span> <span class="hljs-attribute">device</span>=<span class="hljs-value">"ipad"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">orientation</span>&gt;</span>Ti.UI.LANDSCAPE_LEFT<span class="hljs-tag">&lt;/<span class="hljs-title">orientation</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">orientation</span>&gt;</span>Ti.UI.LANDSCAPE_RIGHT<span class="hljs-tag">&lt;/<span class="hljs-title">orientation</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">orientations</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">iphone</span>&gt;</span>
</code></pre><p>When I run this on iPhone, I get this console output:</p>
<pre><code class="hljs">[INFO] <span class="hljs-number">480</span>,<span class="hljs-number">320</span>
[INFO] <span class="hljs-number">320</span>,<span class="hljs-number">480</span>
[INFO] <span class="hljs-number">1</span>
[INFO] <span class="hljs-number">480</span>, <span class="hljs-number">320</span>
</code></pre><p>and on iPad:</p>
<pre><code class="hljs">[INFO] <span class="hljs-number">1024</span>,<span class="hljs-number">768</span>
[INFO] <span class="hljs-number">1024</span>,<span class="hljs-number">768</span>
[INFO] <span class="hljs-number">0</span>
[INFO] <span class="hljs-number">1024</span>, <span class="hljs-number">768</span>
</code></pre><p>So neither plattforms return the correct orientation, and the iPhone apparently creates the readView before the device registers that it is in landscape.  Is this a bug, or is there something I am doing wrong ?</p>
<p>Are there any suggested workarounds ?</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="March 13th 2012, 9:06:30 am">March 13th 2012</span>
				by <span class='authorname'>Morten Fredrik Thomsen</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>ios</span></li>
					
						<li><span class='tagname'>landscape</span></li>
					
						<li><span class='tagname'>orientation</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-233138">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>when you run the application it first run in portrait mode so it takes friction of seconds to set in landscape mode so try to createView after sometime by using setTimeout</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="March 13th 2012, 9:29:29 am">March 13th 2012</span>
								by <span class='authorname'>Mitul Bhalia</span><br>
								<a class="icon-bg icon-link" href="question/133698/device-orientation-on-startup---bug-or-my-mistake-#answer-233138" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
