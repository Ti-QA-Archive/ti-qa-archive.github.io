<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Alloy tabGroup/setActiveTab functionality Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Alloy tabGroup/setActiveTab functionality</h1>
		</header>
		<section>
			<p>I&#39;m having an issue with setActiveTab in the alloy framework. I want to switch between tabs via a label and&#x2F;or button instead of using the tabBar. My issue is trying to figure out the code to perform the switch in each tabs controller.</p>
<p>Here is my current structure</p>
<p><strong>index.xml</strong></p>
<pre><code class="hljs"><span class="hljs-tag">&lt;<span class="hljs-title">Alloy</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">TabGroup</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">Require</span> <span class="hljs-attribute">src</span>=<span class="hljs-value">"tab1"</span> /&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">Require</span> <span class="hljs-attribute">src</span>=<span class="hljs-value">"tab2"</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">TabGroup</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">Alloy</span>&gt;</span>
</code></pre><p><strong>index.js</strong></p>
<pre><code class="hljs">var <span class="hljs-keyword">tabs</span> = $.<span class="hljs-built_in">index</span>.getTabs();

console.<span class="hljs-built_in">log</span>( JSON.stringify(<span class="hljs-keyword">tabs</span>) );
console.<span class="hljs-built_in">log</span>($.<span class="hljs-built_in">index</span>.setActiveTab(<span class="hljs-number">1</span>)); // This works <span class="hljs-keyword">for</span> setting the <span class="hljs-keyword">first</span> <span class="hljs-keyword">tab</span>
$.<span class="hljs-built_in">index</span>.<span class="hljs-keyword">open</span>();
</code></pre><p><strong>tab1.xml</strong></p>
<pre><code class="hljs"><span class="hljs-tag">&lt;<span class="hljs-title">Alloy</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">Tab</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"tab1"</span> <span class="hljs-attribute">title</span>=<span class="hljs-value">"Tab 1"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">Window</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"winTab1"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">Label</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"t"</span> <span class="hljs-attribute">onClick</span>=<span class="hljs-value">"doClick"</span>&gt;</span>My Label<span class="hljs-tag">&lt;/<span class="hljs-title">Label</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">Window</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">Tab</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">Alloy</span>&gt;</span>
</code></pre><p><strong>tab1.js</strong></p>
<pre><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">doClick</span>(<span class="hljs-params">e</span>) </span>{
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Label Click From Tab 1'</span>);
}
</code></pre><p><strong>tab2.xml</strong></p>
<pre><code class="hljs"><span class="hljs-tag">&lt;<span class="hljs-title">Alloy</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">Tab</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"tab2"</span> <span class="hljs-attribute">title</span>=<span class="hljs-value">"Tab 2"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">Window</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"winTab2"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">Label</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"t"</span> <span class="hljs-attribute">onClick</span>=<span class="hljs-value">"doClick"</span>&gt;</span>My Label<span class="hljs-tag">&lt;/<span class="hljs-title">Label</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">Window</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">Tab</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">Alloy</span>&gt;</span>
</code></pre><p><strong>tab2.js</strong></p>
<pre><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">doClick</span>(<span class="hljs-params">e</span>) </span>{
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Label Click From Tab 2'</span>);
    $.index.setActiveTab(<span class="hljs-number">0</span>); <span class="hljs-comment">// THIS DOESN'T WORK!!!!</span>
}
</code></pre><p>As you can see above using <code>$.index.setActiveTab(0)</code> doesn&#39;t work. I&#39;ve also tried <code>$.setActiveTab(0)</code> I can&#39;t seem to figure out how to reference the index tabGroup from another controller file.</p>
<p>Thanks</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="February 8th 2013, 6:13:51 pm">February 8th 2013</span>
				by <span class='authorname'>David Mamber</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>alloy</span></li>
					
						<li><span class='tagname'>tabgroup</span></li>
					
						<li><span class='tagname'>ui</span></li>
					
				</ul>
			

			<section>
				<h5>2 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Missing from you question are several pieces of information that will help you obtain a speedy and accurate answer, please provide details for ALL of the following ONLY if they are relevant;</p>
<ul>
<li>Titanium SDK Version?</li>
<li>Target platform (which of the following)<ul>
<li>iPhone; which OS version?</li>
<li>iPad; which OS version?</li>
<li>Android Phones; which min&#x2F;target OS version?</li>
<li>Android Tablets; which min&#x2F;target OS version?</li>
<li>Blackberry Phones; which min&#x2F;target OS version?</li>
<li>Blackberry Tablets; which min&#x2F;target OS version?</li>
<li>Mobile Web; which testing device(s)?</li>
<li>Other?</li>
</ul>
</li>
</ul>
</div>
							<div class="author">
								&mdash; commented <span title="February 8th 2013, 7:17:15 pm">February 8th 2013</span>
								by <span class='authorname'>Malcolm Hollingsworth</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Here are my Details</p>
<p>Ti Studio: 3.0.3.201302061420<br>Alloy: 0.3.6<br>Platform: iPhone 5.0 or 6.0</p>
</div>
							<div class="author">
								&mdash; commented <span title="February 8th 2013, 7:26:19 pm">February 8th 2013</span>
								by <span class='authorname'>David Mamber</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>1</span> Vote</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-256428">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>You&#39;re attempting to access <code>$.index</code> in a controller other than the index controller, which doesn&#39;t work. Controllers can only directly reference elements created within that controller. The easiest way to do this would be to save a global reference to the tabgroup that all your controllers can access. </p>
<p>I put your code in a gist then edited the gist with how I would implement it. This should answer your question with usable code:</p>
<p><a href="https:&#x2F;&#x2F;gist.github.com&#x2F;tonylukasavage&#x2F;4743544">https:&#x2F;&#x2F;gist.github.com&#x2F;tonylukasavage&#x2F;4743544</a></p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="February 9th 2013, 12:29:54 am">February 9th 2013</span>
								by <span class='authorname'>Tony Lukasavage</span><br>
								<a class="icon-bg icon-link" href="../../question/148047/alloy-tabgroupsetactivetab-functionality.html#answer-256428" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>+1 Much simpler</p>
</p>
										<div class="author">
											&mdash; commented <span title="February 9th 2013, 9:32:35 am">February 9th 2013</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>10</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-256422">
				
						<section>
							<p>Hi</p>
<p>I am no expert, but your code is trying to tell the window to change the active tab when you should be pointing to the tabGroup as that is the one with the method to set the active tab.</p>
<p>Try tweaking your <strong>index.xml</strong>;</p>
<pre><code class="hljs">...
&lt;<span class="hljs-variable">TabGroup</span> id=<span class="hljs-string">"tabgroup"</span>&gt;
...
</code></pre><p>Then <strong>tab2.js</strong> would become;</p>
<pre><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">doClick</span>(<span class="hljs-params">e</span>) </span>{
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Label Click From Tab 2'</span>);
    $.tabgroup.setActiveTab(<span class="hljs-number">0</span>); <span class="hljs-comment">// this may work</span>
}
</code></pre><p>As long as you have scope back to the <strong>index</strong> that would work better.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="February 8th 2013, 7:16:41 pm">February 8th 2013</span>
								by <span class='authorname'>Malcolm Hollingsworth</span><br>
								<a class="icon-bg icon-link" href="../../question/148047/alloy-tabgroupsetactivetab-functionality.html#answer-256422" rel="permalink">permalink</a>
							</div>

							<h5>6 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Thanks for the quick reply. I did try that before however as soon as I add an ID to the TabGroup I end up getting an error </p>
<p>Script Error = &#39;undefined&#39; is not an object (evaluating &#39;$.index.open&#39;) at index.js (line 26).</p>
<p>I even tried adding the following to <strong>alloy.js</strong></p>
<p>var index = Alloy.createController(&#39;index&#39;); and still no luck</p>
</p>
										<div class="author">
											&mdash; commented <span title="February 8th 2013, 7:30:50 pm">February 8th 2013</span>
											by <span class='authorname'>David Mamber</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I managed to get past that  <strong>Script Error</strong> I got by using <strong>$.tabgroup.open()</strong> instead of <strong>$.index.open()</strong></p>
<p>Now I get the following error.</p>
<p>Error triggering &#39;click&#39; event: TypeError: &#39;undefined&#39; is not an object (evaluating &#39;$.tabgroup.setActiveTab&#39;)</p>
<p>I&#39;m assuming my controller isn&#39;t aware of $.tabgroup i&#39;m not sure how to set this up in a global scope so all controllers are aware of this main tabgroup</p>
</p>
										<div class="author">
											&mdash; commented <span title="February 8th 2013, 7:57:10 pm">February 8th 2013</span>
											by <span class='authorname'>David Mamber</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Solved it.  The answer is <strong>CommonJS</strong></p>
<p><strong>index.js</strong></p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> tabs = $.index.getTabs();

<span class="hljs-keyword">var</span> TabGroup = <span class="hljs-built_in">require</span>(<span class="hljs-string">'global'</span>);
TabGroup.setTabGroup($.index);

<span class="hljs-built_in">console</span>.log( <span class="hljs-built_in">JSON</span>.stringify(tabs) );
<span class="hljs-built_in">console</span>.log($.index.setActiveTab(<span class="hljs-number">1</span>)); <span class="hljs-comment">// This works for setting the first tab</span>
$.index.open();
</code></pre><p><strong>tab2.js</strong></p>
<pre><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">doClick</span>(<span class="hljs-params">e</span>) </span>{
    <span class="hljs-keyword">var</span> TabGroup = <span class="hljs-built_in">require</span>(<span class="hljs-string">'global'</span>);
    <span class="hljs-keyword">var</span> tg = TabGroup.getTabGroup();
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Label Click From Tab 2'</span>);
    tg.setActiveTab(<span class="hljs-number">0</span>); <span class="hljs-comment">// THIS DOESN'T WORK!!!!</span>
}
</code></pre><p>New file <strong>global.js</strong> locate in <code>&amp;#x2F;{app name}&amp;#x2F;app&amp;#x2F;lib&amp;#x2F;global.js</code></p>
<pre><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">doClick</span>(<span class="hljs-params">e</span>) </span>{
    <span class="hljs-keyword">var</span> TabGroup = <span class="hljs-built_in">require</span>(<span class="hljs-string">'global'</span>);
    <span class="hljs-keyword">var</span> tg = TabGroup.getTabGroup();
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Label Click From Tab 2'</span>);
    tg.setActiveTab(<span class="hljs-number">0</span>); <span class="hljs-comment">// THIS DOESN'T WORK!!!!</span>
}
</code></pre><p>This create a CommonJS module which simply caches the tabgroup reference.</p>
<p>I removed my previous suggestion of adding an ID to the TabGroup it turned out to be unnecessary.</p>
<p>Let me know what you think.</p>
</p>
										<div class="author">
											&mdash; commented <span title="February 8th 2013, 8:32:54 pm">February 8th 2013</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Previously provided <strong>global.js</strong> is the WRONG content use this instead;</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> tabGroup;

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setTabGroup</span><span class="hljs-params">(tg)</span> </span>{
    tabGroup = tg;
}
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getTabGroup</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">return</span> tabGroup;
}

exports.setTabGroup = setTabGroup;
exports.getTabGroup = getTabGroup;
</code></pre><p>BTW I should have removed the comment;</p>
<pre><code class="hljs">// <span class="hljs-variable">THIS</span> <span class="hljs-variable">DOESN'T</span> <span class="hljs-variable">WORK</span><span class="hljs-exclamation_mark">!</span><span class="hljs-exclamation_mark">!</span><span class="hljs-exclamation_mark">!</span><span class="hljs-exclamation_mark">!</span>
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="February 8th 2013, 8:34:51 pm">February 8th 2013</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>index.js</p>
<pre><code class="hljs">Alloy.Globals.tabgroup = $.<span class="hljs-keyword">index</span>;
</code></pre><p>tab2.js</p>
<pre><code class="hljs"><span class="hljs-variable">Alloy</span>.<span class="hljs-variable">Globals</span>.<span class="hljs-function_or_atom">tabgroup</span>.<span class="hljs-function_or_atom">setActiveTab</span>(<span class="hljs-number">1</span>);  // <span class="hljs-variable">THIS</span> <span class="hljs-variable">DOESN'T</span> <span class="hljs-variable">WORK</span><span class="hljs-exclamation_mark">!</span><span class="hljs-exclamation_mark">!</span><span class="hljs-exclamation_mark">!</span><span class="hljs-exclamation_mark">!</span>
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="March 5th 2013, 8:02:35 pm">March 5th 2013</span>
											by <span class='authorname'>Mark Buunk</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>thanks for this answer. I&#39;m actually trying to open a new window from an initially active tab (keeping the toolbar at the top). in my initial window I call a function such as this to open the new widow in the tab group. </p>
<pre><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">runSearch</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> searchResultsController = Alloy.createController(<span class="hljs-string">'searchResults'</span>).getView();
    <span class="hljs-keyword">var</span> TabGroup = <span class="hljs-built_in">require</span>(<span class="hljs-string">'global'</span>);
    <span class="hljs-keyword">var</span> tg = TabGroup.getTabGroup();
    tg.activeTab.open(searchResultsController);
}
</code></pre><p>My question is, is it ok to call the open command from the parent window. I seem to remember everyone telling me its better to use that open command inside the js file of the new window. it possible with this technique? is it possible to move some of this code into the child window js?  or does it not matter? </p>
<p>Thanks for this. very helpful!</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 22nd 2013, 2:17:44 pm">November 22nd 2013</span>
											by <span class='authorname'>Dave F</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
