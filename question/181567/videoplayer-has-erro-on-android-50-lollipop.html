<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>VideoPlayer has erro on Android 5.0 Lollipop » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>VideoPlayer has erro on Android 5.0 Lollipop</h1>
		</header>
		<section>
			<p>I wrote an video app which works fine in Android 4.x. When I test on Android 5.0, it has error as follows:</p>
<pre><code class="hljs">[INFO] :   https://video.server.com/getMediaVODPlaylist?loginid=tempuse@myserver.com&amp;productid=<span class="hljs-number">62750315</span>&amp;token=<span class="hljs-number">9C1790853</span>C9B7E9FE<span class="hljs-number">5201060B14</span>EBB2FCC6E99AB4F608ACC<span class="hljs-number">5C461147985</span>1E624ABE<span class="hljs-number">3B0D79973</span><span class="hljs-keyword">A</span><span class="hljs-number">30F962C16</span>DB<span class="hljs-number">6979C3272</span>BFE<span class="hljs-number">8799D227F70</span>4EAF4925CAE<span class="hljs-number">431283B5</span>B17A6F2FC<span class="hljs-number">936B5E43</span>564EEE<span class="hljs-number">889D3B9</span>CC<span class="hljs-number">3F576E00</span>D38B4E7CFDCAFD9EF<span class="hljs-number">74420625</span>FFEDF<span class="hljs-number">922F172A7</span>F679AF9F32CC9BF847FF671FFC72475CE46E51F5AF<span class="hljs-number">0366465E81</span>2491A1EACA<span class="hljs-number">3432C41330</span><span class="hljs-number">2F00371B01</span>01BFDE04E932AD<span class="hljs-number">82992F4F94</span>DD8807AE91554FA8AA<span class="hljs-number">136C7D03</span>FB65E915CFBDEFF8DAB1EA<span class="hljs-number">84780A61568</span>3BC<span class="hljs-number">034732F3</span>FD940A16AD4DF0EB491FB93C9D3AA<span class="hljs-number">8F9A01C77</span>76C7CCD<span class="hljs-number">1300F8D5</span>C6FE4427CB14E9BAE32F06DD9FB68F17B07FDA1D1FC7361B2ED<span class="hljs-number">8543D399</span>C90FE<span class="hljs-number">33D22A94677</span><span class="hljs-keyword">A</span><span class="hljs-number">7D741B0</span>D676FF<span class="hljs-number">8F2A0A4</span>DF<span class="hljs-number">5C7D196</span>E&amp;viewtype=V&amp;orderid=app&amp;machineid=<span class="hljs-number">6e42d755</span>b88a54ec&amp;servicetype=vod&amp;lang_code=TCHI&amp;np_id=<span class="hljs-number">10001020901</span>&amp;quality=lq&amp;ext=ext.m3u8
[INFO] :   Switch Quality: 0
[INFO] :   VIDEO_LOAD_STATE_UNKNOWN
[WARN] :   Parcel: **** enforceInterface() expected '' but read 'android.media.IMediaPlayer'
[WARN] :   MediaPlayer: info/warning (701, 0)
[INFO] :   VIDEO_LOAD_STATE_UNKNOWN
[WARN] :   Parcel: **** enforceInterface() expected '' but read 'android.media.IMediaPlayer'
[WARN] :   MediaPlayer: info/warning (701, 0)
[ERROR] :  MediaHTTPConnection: unknown exception java.lang.NullPointerException: Attempt to invoke virtual method 'boolean java.lang.String.startsWith(java.lang.String)' on a null object reference
[WARN] :   MediaPlayer: info/warning (1, <span class="hljs-number">1936876366</span>)
[ERROR] :  MediaPlayer: error (1, -1004)
[INFO] :   Choreographer: Skipped 222 frames!  The application may be doing too much work on its main thread.
[ERROR] :  MediaPlayer: Error (1,-1004)
[INFO] :   VIDEO_PLAYBACK_STATE_INTERRUPTED
[INFO] :   VIDEO_LOAD_STATE_UNKNOWN
</code></pre><p>The server did not get any request from the app. But this works on Android 4.x. There is no luck even I upgraded to Ti SDK to 3.5.1</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="March 23rd 2015, 5:32:39 am">March 23rd 2015</span>
				by <span class='authorname'>Wilton Kwok</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android 5.0</span></li>
					
						<li><span class='tagname'>videoplayer</span></li>
					
				</ul>
			

			<section>
				<h5>4 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>If copy the URL to the browser of the same device, it can be played normally.</p>
</div>
							<div class="author">
								&mdash; commented <span title="March 23rd 2015, 5:58:43 am">March 23rd 2015</span>
								by <span class='authorname'>Wilton Kwok</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>I tried to use WebView to play the video. But it has the same errors. However, this link can play perfectly on the web browser on the same device. That&#39;s strange.</p>
<pre><code class="hljs">[<span class="hljs-type">ERROR</span>] :  <span class="hljs-type">MediaHTTPConnection</span>: unknown exception java.lang.<span class="hljs-type">NullPointerException</span>: <span class="hljs-type">Attempt</span> to invoke virtual <span class="hljs-keyword">method</span> 'boolean java.lang.<span class="hljs-type">String</span>.startsWith(java.lang.<span class="hljs-type">String</span>)' on a null <span class="hljs-keyword">object</span> reference
[<span class="hljs-type">INFO</span>] :   chromium: [<span class="hljs-type">INFO</span>:<span class="hljs-type">SkFontConfigInterface_android</span>.cpp(<span class="hljs-number">247</span>)] ---- failed to open &lt;/system/fonts/<span class="hljs-type">CutiveMono</span>.ttf&gt; <span class="hljs-keyword">as</span> a font
[<span class="hljs-type">INFO</span>] :   chromium:
[<span class="hljs-type">INFO</span>] :   chromium: [<span class="hljs-type">INFO</span>:<span class="hljs-type">SkUtilsArm</span>.cpp(<span class="hljs-number">179</span>)] <span class="hljs-type">Device</span> supports <span class="hljs-type">ARM</span> <span class="hljs-type">NEON</span> instructions!
[<span class="hljs-type">INFO</span>] :   chromium:
[<span class="hljs-type">INFO</span>] :   <span class="hljs-type">InputMethodManager</span>: [startInputInner] <span class="hljs-type">EditorInfo</span> { packageName=com.innowil.now.media, inputType=<span class="hljs-number">0xa1</span>, imeOptions=<span class="hljs-number">0x12000000</span>, privateImeOptions=null }, windowGainingFocus=null, mServedView=ti.modules.titanium.ui.widget.webview.<span class="hljs-type">TiUIWebView</span>$<span class="hljs-type">TiWebView</span>{<span class="hljs-number">15</span>cd685b <span class="hljs-type">VFEDHVCL</span> .F...... <span class="hljs-number">54</span>,<span class="hljs-number">96</span>-<span class="hljs-number">1026</span>,<span class="hljs-number">1824</span> <span class="hljs-comment">#27}, mServedInputConnectionWrapper=android.view.inputmethod.InputMethodManager$ControlledInputConnectionWrapper@2fa358f8</span>
[<span class="hljs-type">ERROR</span>] :  <span class="hljs-type">MediaHTTPConnection</span>: unknown exception java.lang.<span class="hljs-type">NullPointerException</span>: <span class="hljs-type">Attempt</span> to invoke virtual <span class="hljs-keyword">method</span> 'boolean java.lang.<span class="hljs-type">String</span>.startsWith(java.lang.<span class="hljs-type">String</span>)' on a null <span class="hljs-keyword">object</span> reference
[<span class="hljs-type">ERROR</span>] :  <span class="hljs-type">MediaHTTPConnection</span>: unknown exception java.lang.<span class="hljs-type">NullPointerException</span>: <span class="hljs-type">Attempt</span> to invoke virtual <span class="hljs-keyword">method</span> 'boolean java.lang.<span class="hljs-type">String</span>.startsWith(java.lang.<span class="hljs-type">String</span>)' on a null <span class="hljs-keyword">object</span> reference
[<span class="hljs-type">ERROR</span>] :  <span class="hljs-type">MediaHTTPConnection</span>: unknown exception java.lang.<span class="hljs-type">NullPointerException</span>: <span class="hljs-type">Attempt</span> to invoke virtual <span class="hljs-keyword">method</span> 'boolean java.lang.<span class="hljs-type">String</span>.startsWith(java.lang.<span class="hljs-type">String</span>)' on a null <span class="hljs-keyword">object</span> reference
[<span class="hljs-type">ERROR</span>] :  <span class="hljs-type">MediaHTTPConnection</span>: unknown exception java.lang.<span class="hljs-type">NullPointerException</span>: <span class="hljs-type">Attempt</span> to invoke virtual <span class="hljs-keyword">method</span> 'boolean java.lang.<span class="hljs-type">String</span>.startsWith(java.lang.<span class="hljs-type">String</span>)' on a null <span class="hljs-keyword">object</span> reference
[<span class="hljs-type">ERROR</span>] :  <span class="hljs-type">MediaHTTPConnection</span>: unknown exception java.lang.<span class="hljs-type">NullPointerException</span>: <span class="hljs-type">Attempt</span> to invoke virtual <span class="hljs-keyword">method</span> 'boolean java.lang.<span class="hljs-type">String</span>.startsWith(java.lang.<span class="hljs-type">String</span>)' on a null <span class="hljs-keyword">object</span> reference
[<span class="hljs-type">ERROR</span>] :  <span class="hljs-type">MediaHTTPConnection</span>: unknown exception java.lang.<span class="hljs-type">NullPointerException</span>: <span class="hljs-type">Attempt</span> to invoke virtual <span class="hljs-keyword">method</span> 'boolean java.lang.<span class="hljs-type">String</span>.startsWith(java.lang.<span class="hljs-type">String</span>)' on a null <span class="hljs-keyword">object</span> reference
[<span class="hljs-type">ERROR</span>] :  <span class="hljs-type">MediaHTTPConnection</span>: unknown exception java.lang.<span class="hljs-type">NullPointerException</span>: <span class="hljs-type">Attempt</span> to invoke virtual <span class="hljs-keyword">method</span> 'boolean java.lang.<span class="hljs-type">String</span>.startsWith(java.lang.<span class="hljs-type">String</span>)' on a null <span class="hljs-keyword">object</span> reference
[<span class="hljs-type">ERROR</span>] :  <span class="hljs-type">MediaHTTPConnection</span>: unknown exception java.lang.<span class="hljs-type">NullPointerException</span>: <span class="hljs-type">Attempt</span> to invoke virtual <span class="hljs-keyword">method</span> 'boolean java.lang.<span class="hljs-type">String</span>.startsWith(java.lang.<span class="hljs-type">String</span>)' on a null <span class="hljs-keyword">object</span> reference
[<span class="hljs-type">ERROR</span>] :  <span class="hljs-type">MediaHTTPConnection</span>: unknown exception java.lang.<span class="hljs-type">NullPointerException</span>: <span class="hljs-type">Attempt</span> to invoke virtual <span class="hljs-keyword">method</span> 'boolean java.lang.<span class="hljs-type">String</span>.startsWith(java.lang.<span class="hljs-type">String</span>)' on a null <span class="hljs-keyword">object</span> reference
[<span class="hljs-type">ERROR</span>] :  <span class="hljs-type">MediaHTTPConnection</span>: unknown exception java.lang.<span class="hljs-type">NullPointerException</span>: <span class="hljs-type">Attempt</span> to invoke virtual <span class="hljs-keyword">method</span> 'boolean java.lang.<span class="hljs-type">String</span>.startsWith(java.lang.<span class="hljs-type">String</span>)' on a null <span class="hljs-keyword">object</span> reference
[<span class="hljs-type">ERROR</span>] :  <span class="hljs-type">IMediaMetadataRetriever</span>: extractMetadata error
[<span class="hljs-type">WARN</span>] :   <span class="hljs-type">MediaResourceGetter</span>: missing duration metadata
[<span class="hljs-type">WARN</span>] :   <span class="hljs-type">Parcel</span>: **** enforceInterface() expected '' but read 'android.media.<span class="hljs-type">IMediaPlayer</span>'
[<span class="hljs-type">WARN</span>] :   <span class="hljs-type">MediaPlayer</span>: info/warning (<span class="hljs-number">701</span>, <span class="hljs-number">0</span>)
[<span class="hljs-type">ERROR</span>] :  <span class="hljs-type">MediaHTTPConnection</span>: unknown exception java.lang.<span class="hljs-type">NullPointerException</span>: <span class="hljs-type">Attempt</span> to invoke virtual <span class="hljs-keyword">method</span> 'boolean java.lang.<span class="hljs-type">String</span>.startsWith(java.lang.<span class="hljs-type">String</span>)' on a null <span class="hljs-keyword">object</span> reference
[<span class="hljs-type">WARN</span>] :   <span class="hljs-type">MediaPlayer</span>: info/warning (<span class="hljs-number">1</span>, <span class="hljs-number">1936876366</span>)
[<span class="hljs-type">ERROR</span>] :  <span class="hljs-type">MediaPlayer</span>: error (<span class="hljs-number">1</span>, -<span class="hljs-number">1004</span>)
[<span class="hljs-type">ERROR</span>] :  <span class="hljs-type">MediaPlayer</span>: <span class="hljs-type">Error</span> (<span class="hljs-number">1</span>,-<span class="hljs-number">1004</span>)
</code></pre></div>
							<div class="author">
								&mdash; commented <span title="March 24th 2015, 5:50:29 am">March 24th 2015</span>
								by <span class='authorname'>Wilton Kwok</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Hi ,</p>
<p>Thanks for your concern . </p>
<p>I have tested <strong>Titanium.Media.createVideoPlayer</strong> which is not working properly on Android 5.0 Lollipop with Ti SDK 3.5.0.GA and 3.5.1.GA but its work fine on 4.x and iOS also .</p>
<p>I also create an issue on jira . Please have a look <a href="https:&#x2F;&#x2F;jira.appcelerator.org&#x2F;browse&#x2F;TC-5395">TC-5395</a>.</p>
<p>Thanks</p>
</div>
							<div class="author">
								&mdash; commented <span title="March 24th 2015, 7:13:20 am">March 24th 2015</span>
								by <span class='authorname'>Md. Harish Uz Jaman Mridha</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>The issue is from TiResponseCache: https:&#x2F;&#x2F;jira.appcelerator.org&#x2F;browse&#x2F;TC-5053</p>
<p>If you empty the cache folder &#x2F;Android&#x2F;data&#x2F;appid&#x2F;cache&#x2F;_tmp&#x2F;remote-cache, the video will play.</p>
</div>
							<div class="author">
								&mdash; commented <span title="May 5th 2015, 2:52:52 pm">May 5th 2015</span>
								by <span class='authorname'>Shawn Lan</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>0</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>0 Answers</h3>

	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
