<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>ListView minimum row height » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>ListView minimum row height</h1>
		</header>
		<section>
			<p>Hello,</p>
<p>It appears there is no way to control the minimum height of a given ListItem (on Android). Currently we need to display some custom rows that display auxiliary information. These items are to be small and discreet. Supplying properties such as &quot;minRowHeight&quot; on the ListItem template OR the ListView itself do not seem to have any effect.</p>
<p>Has anyone managed to get this working?</p>
<p>I am trying this on Android with Titanium SDK 3.1.3.GA</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="November 24th 2013, 8:20:49 pm">November 24th 2013</span>
				by <span class='authorname'>Michael Walsh</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>listview</span></li>
					
						<li><span class='tagname'>row</span></li>
					
				</ul>
			

			<section>
				<h5>2 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Hi, <code>Titanium.UI.SIZE</code> is actually &quot;fill content&quot;. The row should be just enough for its content - minimum. </p>
<p>Ref: <a href="http:&#x2F;&#x2F;docs.appcelerator.com&#x2F;titanium&#x2F;2.0&#x2F;#!&#x2F;api&#x2F;Titanium.UI-property-SIZE">here</a></p>
</div>
							<div class="author">
								&mdash; commented <span title="November 25th 2013, 1:55:42 pm">November 25th 2013</span>
								by <span class='authorname'>Hristo Staykov</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Thanks for the help Hristo.</p>
<p>Unfortunately the Ti.UI.SIZE property does not help in this case, although I am familiar with it indeed. I need to implicitly set my row height to approximately 10-15dp, however it always displays at 20dp no matter what.</p>
</div>
							<div class="author">
								&mdash; commented <span title="November 25th 2013, 10:02:45 pm">November 25th 2013</span>
								by <span class='authorname'>Michael Walsh</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-282895">
				
						<section>
							<p>The platform set a minimum height of 30dp, at least for Android. If you want to change this, you need to set <strong>MIN_ROW_HEIGHT</strong> in <strong>TiListView.java</strong>.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="October 6th 2014, 9:34:05 am">October 6th 2014</span>
								by <span class='authorname'>grebulon com</span><br>
								<a class="icon-bg icon-link" href="../../question/159790/listview-minimum-row-height.html#answer-282895" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-271747">
				
						<section>
							<p>Some code showing what you have currently as well as what you&#39;ve tried would certainly help folks troubleshoot your issue. You don&#39;t even say if you&#39;re using Alloy or traditional code. Please provide more complete questions so that it&#39;s easier for folks to help you. </p>
<p>That said, list items don&#39;t have a minRowHeight property (that&#39;s a TableView property, different component). You can set a height on the ListItemTemplate, which is not a minimum – if set smaller than the content your content will be partially hidden. You can override the template&#39;s height by setting a height on the ListDataItem itself. </p>
<p>With Alloy, you can set the ListItemTemplate height in the XML.</p>
<pre><code class="hljs">&lt;ItemTemplate <span class="hljs-property">name</span>=<span class="hljs-string">"even"</span> height=<span class="hljs-string">"20"</span>&gt; ...
</code></pre><p>Or, assign the template an ID and set the height in the TSS file.</p>
<pre><code class="hljs">// <span class="hljs-operator">in</span> the <span class="hljs-keyword">XML</span>
<span class="hljs-title">&lt;ItemTemplate</span> <span class="hljs-variable">name=</span><span class="hljs-string">"odd"</span> <span class="hljs-variable">id=</span><span class="hljs-string">"oddrows"</span>&gt; ...

// <span class="hljs-operator">and</span> associated TSS
<span class="hljs-string">"#oddrows"</span>: {
   height: <span class="hljs-number">20</span>
}
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="November 25th 2013, 2:19:09 pm">November 25th 2013</span>
								by <span class='authorname'>Tim Poulsen</span><br>
								<a class="icon-bg icon-link" href="../../question/159790/listview-minimum-row-height.html#answer-271747" rel="permalink">permalink</a>
							</div>

							<h5>7 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Thanks for the follow up Tim.</p>
<p>Yes I have not supplied any code for this example, as was asking generally if other people have had success with setting small row heights for ListView rows. In my case the ListDataItems never display below 20 pixels in height, no matter what I set the height (in this case 10dp or 10px or 10), and as mentioned I have experimented with minRowHeight (a TableView property) as a last resort.</p>
<p>I am using traditional code not Alloy and an example can be seen below.</p>
<pre><code class="hljs">var myTemplate = {
    childTemplates: [
        {
            ...
        }
    ],
    properties: {
        height: <span class="hljs-string">'10dp'</span>
    }
}

var dataSet = [
    {properties: { title: <span class="hljs-string">'Row A'</span>}},
    {properties: { title: <span class="hljs-string">'Row B'</span>}},
];

var listSection = Ti.UI.createListSection();
listSection.setItems(dataSet);

var listView = Ti.UI.createListView({
    templates: { <span class="hljs-string">'template'</span>: myTemplate },
    defaultItemTemplate: <span class="hljs-string">'template'</span> 
});

listView.setSections([listSection]);
</code></pre><p>As mentioned I have experimented with the height property, and font size incase that is forcing the row to be larger than I request, however I would expect the text to be cut off if that was the case - as you mention yourself. Unfortunately this is not the case, and the row displays at approximately 20dp instead.</p>
<p>Thanks,</p>
<p>Michael</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 25th 2013, 9:59:15 pm">November 25th 2013</span>
											by <span class='authorname'>Michael Walsh</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>As you can see from the screen, I&#39;m able to set a list item&#39;s height to 10. The content is cropped. I&#39;m setting this in the item template. I&#39;m using Alloy, but you should be able to apply this to traditional code. </p>
<p><img src="https:&#x2F;&#x2F;wiki.appcelerator.org&#x2F;download&#x2F;attachments&#x2F;20218183&#x2F;listview.png" alt="listview"></p>
<p>Strangely, when I look at the code that the Alloy compilation process creates, I don&#39;t see my height of 10. Instead, I see it being set to 60. Note that it&#39;s referring to the height as a string. Try that.</p>
<pre><code class="hljs">    <span class="hljs-variable"><span class="hljs-keyword">var</span> __alloyId12</span> = {
        properties: {
            name: <span class="hljs-string">"even"</span>,
            height: <span class="hljs-string">"60"</span>
        },
        childTemplates: __alloyId13
    };
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="November 26th 2013, 11:30:07 am">November 26th 2013</span>
											by <span class='authorname'>Tim Poulsen</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Oops, I see you are setting the height as a string, just with units.</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 26th 2013, 11:31:16 am">November 26th 2013</span>
											by <span class='authorname'>Tim Poulsen</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Thanks again for your help Tim.</p>
<p>I can&#39;t see that screenshot you have embedded, its a broken link?</p>
<p>Can you confirm you are testing this on Android? Also what SDK version and Android SDK are you running this on? If this is working for you, I can only assume its an alloy&#x2F;tradition code issue (which would be odd), or its a Titanium SDK version difference?</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 26th 2013, 7:54:12 pm">November 26th 2013</span>
											by <span class='authorname'>Michael Walsh</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I think I&#39;m seeing this minimum height of a ListItem row on Android (3.2.1.GA) too, with &quot;classic&quot; code.</p>
<p>I&#39;ve got code that attempts to hide&#x2F;reveal the rows, by setting their height to 0, but it just won&#39;t go below (in my case, I think) 30dp: even if, as a debugging step, I set the height of every child template element to 1.</p>
<p>Something similar works fine when running on iOS.</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 4th 2014, 3:07:41 pm">March 4th 2014</span>
											by <span class='authorname'>James Grinter</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Looking at the Ti library code (I wish I&#39;d done that, instead of hunting around all the documentation and this site, and spending time tweaking and recompiling my code to see if anything changed it) shows that it is 30, and isn&#39;t alterable:</p>
<p><strong>TiListView.java:</strong></p>
<pre><code class="hljs"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">String</span> MIN_ROW_HEIGHT = <span class="hljs-string">"30dp"</span>;
</code></pre><p><strong>TiBaseListViewItem.java:</strong></p>
<pre><code class="hljs">TiDimension heightDimension = new TiDimension(TiListView.MIN_ROW_HEIGHT, TiDimension.TYPE_UNDEFINED)<span class="hljs-comment">;</span>
minHeight = heightDimension.getAsPixels(this)<span class="hljs-comment">;</span>
setMinimumHeight(minHeight)<span class="hljs-comment">;</span>
</code></pre><p>introduced in this code change:</p>
<pre><code class="hljs">commit <span class="hljs-number">4</span>c4c5cbeef8883827e97afc15769fe9c46eecbd8
Author: Hieu Pham &lt;hpham@appcelerator.com&gt;
Date:   Tue Mar <span class="hljs-number">26</span> <span class="hljs-number">11</span>:<span class="hljs-number">29</span>:<span class="hljs-number">14</span> <span class="hljs-number">2013</span> -<span class="hljs-number">0700</span>

    timob-<span class="hljs-number">12176</span>: <span class="hljs-built_in">set</span> min row height to <span class="hljs-number">30</span>dp, fix layout of <span class="hljs-keyword">default</span> <span class="hljs-keyword">template</span>
</code></pre><p>but that ticket doesn&#39;t explain <em>why</em> a hard-coded minimum height had to be set, and why 30 was chosen.</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 4th 2014, 5:21:16 pm">March 4th 2014</span>
											by <span class='authorname'>James Grinter</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>It looks like that change was made due to ticket <a href="https:&#x2F;&#x2F;jira.appcelerator.org&#x2F;browse&#x2F;TIMOB-13035">TIMOB-13035</a> perhaps due to issue #9 on that list. If you feel this should not be the behavior of list items, please file a new ticket requesting that minimum height be removed.</p>
<p>It might be best to filter&#x2F;reload your list view minus the &quot;hidden&quot; row. But have you tried creating a template with the <code>visible: false</code> property? I&#39;m not sure if it would work. </p>
<p>In the future, please don&#39;t post email addresses in your comments.</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 4th 2014, 5:34:31 pm">March 4th 2014</span>
											by <span class='authorname'>Tim Poulsen</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
