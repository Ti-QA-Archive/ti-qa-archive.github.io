<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Trying to Switch windows with use of a button click » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Trying to Switch windows with use of a button click</h1>
		</header>
		<section>
			<p>I&#39;m attempting to switch windows using eventlisteners on a button. I am fairly new with titanium and javascript as a whole.  Just looking to see if anyone can spot an error in my code that I may not have noticed.</p>
<p>This is for an android device and I am getting an export module error from loginscreen.js.  If there is something in the API that I have missed when looking feel free to tell me or if I am making a logic or syntax mistake.</p>
<p>apps.js</p>
<pre><code class="hljs">Titanium.<span class="hljs-keyword">include</span>(<span class="hljs-string">'loginScreen.js'</span>);
Titanium.<span class="hljs-keyword">include</span>(<span class="hljs-string">'homescreen.js'</span>);

<span class="hljs-keyword">var</span> login = <span class="hljs-keyword">require</span>(<span class="hljs-string">'/ui/common/loginScreen.js'</span>);
<span class="hljs-keyword">var</span> loginPage = <span class="hljs-keyword">new</span> Login();


loginPage.open();
</code></pre><p>loginScreen.js</p>
<pre><code class="hljs"><span class="hljs-comment">/**
 * @author Ricky
 */</span>
function Login(){

var win = Titanium.UI.createWindow({
    title: <span class="hljs-string">"Login Screen"</span>,
    backgroundColor: <span class="hljs-string">"orange"</span>,
    exitOnClose: <span class="hljs-keyword">true</span>
});

var ClutchInspectLabel = Titanium.UI.createLabel({
    <span class="hljs-built_in">text</span>: <span class="hljs-string">"ClutchInspect"</span>,
    <span class="hljs-built_in">color</span>: <span class="hljs-string">"black"</span>,
    top: <span class="hljs-string">"10%"</span>,
    font: {fontSize: <span class="hljs-string">"42"</span>}    
});

var LoginButton = Titanium.UI.createButton({
    title: <span class="hljs-string">"LOGIN"</span>,
    top: <span class="hljs-string">"80%"</span>,
    <span class="hljs-variable">height</span>: <span class="hljs-string">"10%"</span>,
    <span class="hljs-variable">width</span>:<span class="hljs-string">"45%"</span>,
    font:{fontSize: <span class="hljs-string">"24"</span>},
    id: <span class="hljs-string">"Login"</span>, <span class="hljs-comment">//custom property</span>

});

var UserNameBox = Titanium.UI.createTextArea({
    borderWidth: <span class="hljs-number">2</span>,
    borderColor: <span class="hljs-string">'#bbb'</span>,
      borderRadius: <span class="hljs-number">5</span>,
      <span class="hljs-built_in">color</span>: <span class="hljs-string">'#888'</span>,
      font: {fontSize:<span class="hljs-number">20</span>, fontWeight:<span class="hljs-string">'bold'</span>},
      keyboardType: Ti.UI.KEYBOARD_DEFAULT,
      returnKeyType: Ti.UI.RETURNKEY_NEXT,
      <span class="hljs-built_in">textAlign</span>: <span class="hljs-string">'left'</span>,
      value: <span class="hljs-string">''</span>,
      top: <span class="hljs-string">"45%"</span>,
      left: <span class="hljs-string">"25%"</span>,
      <span class="hljs-variable">width</span>: <span class="hljs-number">300</span>, <span class="hljs-variable">height</span> : <span class="hljs-number">50</span>
});

var PasswordBox = Titanium.UI.createTextArea({
    borderWidth: <span class="hljs-number">2</span>,
      borderColor: <span class="hljs-string">'#bbb'</span>,
      borderRadius: <span class="hljs-number">5</span>,
      <span class="hljs-built_in">color</span>: <span class="hljs-string">'#888'</span>,
      font: {fontSize:<span class="hljs-number">20</span>, fontWeight:<span class="hljs-string">'bold'</span>},
      keyboardType: Ti.UI.KEYBOARD_DEFAULT,
      returnKeyType: Ti.UI.RETURNKEY_DONE,
      passwordMask: <span class="hljs-string">'true'</span>,
      <span class="hljs-built_in">textAlign</span>: <span class="hljs-string">'left'</span>,
      value: <span class="hljs-string">''</span>,
    top: <span class="hljs-string">"55%"</span>,
    left: <span class="hljs-string">"25%"</span>,
    <span class="hljs-variable">width</span>: <span class="hljs-number">300</span>, <span class="hljs-variable">height</span> : <span class="hljs-number">50</span>,
});


var InputPassword = Titanium.UI.createTextField({
    id:<span class="hljs-string">'InputPassword'</span>,
    hintText:Ti.Locale.getString(<span class="hljs-string">'Password'</span>),
    passwordMask:<span class="hljs-keyword">true</span>,
    className:<span class="hljs-string">'DefaultPasswordField'</span>,
});

var UserNameLabel = Titanium.UI.createLabel({
    <span class="hljs-built_in">text</span>:<span class="hljs-string">"Username:"</span>,
    top: <span class="hljs-string">"45%"</span>,
    left: <span class="hljs-number">0</span>,
    <span class="hljs-built_in">textAlign</span>: <span class="hljs-string">"center"</span>,
    font:{fontSize: <span class="hljs-string">"24"</span>},
    <span class="hljs-built_in">color</span>: <span class="hljs-string">"black"</span>,
    backgroundColor: <span class="hljs-string">"orange"</span>

});

var PasswordLabel = Titanium.UI.createLabel({
    <span class="hljs-built_in">text</span>:<span class="hljs-string">"Password:"</span>,
    top: <span class="hljs-string">"55%"</span>,
    left: <span class="hljs-number">0</span>,
    <span class="hljs-built_in">textAlign</span>: <span class="hljs-string">"center"</span>,
    font:{fontSize: <span class="hljs-string">"24"</span>},
    <span class="hljs-built_in">color</span>: <span class="hljs-string">"black"</span>,
    backgroundColor: <span class="hljs-string">"orange"</span>
});

Titanium.include(<span class="hljs-string">'homescreen.js'</span>);

   var home = require(<span class="hljs-string">'/ui/common/homescreen.js'</span>);
   var homePage = <span class="hljs-keyword">new</span> Home();

LoginButton.addEventListener(<span class="hljs-string">"click"</span>, function() {

    homePage.<span class="hljs-built_in">open</span>();    
});


<span class="hljs-comment">//win.add(InputPassword);</span>
win.<span class="hljs-built_in">add</span>(UserNameBox);
win.<span class="hljs-built_in">add</span>(PasswordBox);
win.<span class="hljs-built_in">add</span>(UserNameLabel);
win.<span class="hljs-built_in">add</span>(PasswordLabel);
win.<span class="hljs-built_in">add</span>(LoginButton);
win.<span class="hljs-built_in">add</span>(ClutchInspectLabel);
win.<span class="hljs-built_in">open</span>();

<span class="hljs-keyword">return</span> win;
}
module.exports = Login;
</code></pre><p>homescreen.js</p>
<pre><code class="hljs">function Home(){

    <span class="hljs-keyword">var</span> self = Titanium.UI.createWindow({
        layout: 'vertical'
    });

    <span class="hljs-keyword">var</span> <span class="hljs-keyword">win</span> = Titanium.UI.createWindow({
        title: <span class="hljs-string">"Label View"</span>,
        backgroundColor: 'orange',
        exitOnClose: true
    });

    <span class="hljs-keyword">var</span> AvailableJobsButton = Titanium.UI.createButton({
        title: <span class="hljs-string">"Available Jobs"</span>,
        top: <span class="hljs-string">"10%"</span>,
        height: <span class="hljs-string">"10%"</span>,
        width:<span class="hljs-string">"100%"</span>,
        font:{fontSize: <span class="hljs-string">"32"</span>},
        id: <span class="hljs-string">"AvailableJobs"</span>, <span class="hljs-comment">//custom property</span>

    });

    <span class="hljs-keyword">var</span> CurrentJobsButton = Titanium.UI.createButton({
        title: <span class="hljs-string">"Current Jobs"</span>,
        top: <span class="hljs-string">"40%"</span>,
        height: <span class="hljs-string">"10%"</span>,
        width:<span class="hljs-string">"100%"</span>,
        font:{fontSize: <span class="hljs-string">"32"</span>},
        id: <span class="hljs-string">"CurrentJobs"</span>, <span class="hljs-comment">//custom property</span>

    });

    <span class="hljs-keyword">var</span> CompletedJobsButton = Titanium.UI.createButton({
        title: <span class="hljs-string">"Completed Jobs"</span>,
        top: <span class="hljs-string">"70%"</span>,
        height: <span class="hljs-string">"10%"</span>,
        width:<span class="hljs-string">"100%"</span>,
        font:{fontSize: <span class="hljs-string">"32"</span>},
        id: <span class="hljs-string">"CompletedJobs"</span>, <span class="hljs-comment">//custom property</span>

    });

    AvailableJobsButton.addEventListener(<span class="hljs-string">"click"</span>, function(<span class="hljs-keyword">e</span>){
        alert(<span class="hljs-keyword">e</span>.source.id + <span class="hljs-string">" fired a "</span> + <span class="hljs-keyword">e</span>.<span class="hljs-keyword">type</span> + <span class="hljs-string">" event"</span>);
    });

    CurrentJobsButton.addEventListener(<span class="hljs-string">"click"</span>, function(<span class="hljs-keyword">e</span>){
        alert(<span class="hljs-keyword">e</span>.source.id + <span class="hljs-string">" fired a "</span> + <span class="hljs-keyword">e</span>.<span class="hljs-keyword">type</span> + <span class="hljs-string">" event"</span>);
    });

    CompletedJobsButton.addEventListener(<span class="hljs-string">"click"</span>, function(<span class="hljs-keyword">e</span>){
        alert(<span class="hljs-keyword">e</span>.source.id + <span class="hljs-string">" fired a "</span> + <span class="hljs-keyword">e</span>.<span class="hljs-keyword">type</span> + <span class="hljs-string">" event"</span>);
    });


    <span class="hljs-keyword">win</span>.add(AvailableJobsButton);
    <span class="hljs-keyword">win</span>.add(CurrentJobsButton);
    <span class="hljs-keyword">win</span>.add(CompletedJobsButton);
    <span class="hljs-keyword">win</span>.<span class="hljs-keyword">open</span>();

    <span class="hljs-keyword">return</span> self;
}

module.exports = Home;
</code></pre>
		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="November 26th 2013, 7:36:14 pm">November 26th 2013</span>
				by <span class='authorname'>Richard Olenick</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>button</span></li>
					
						<li><span class='tagname'>error</span></li>
					
						<li><span class='tagname'>eventlistener</span></li>
					
						<li><span class='tagname'>export module</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-271815">
				
						<section>
							<pre><code class="hljs">Titanium.<span class="hljs-keyword">include</span>(<span class="hljs-string">'loginScreen.js'</span>);

<span class="hljs-keyword">var</span> login = <span class="hljs-keyword">require</span>(<span class="hljs-string">'/ui/common/loginScreen.js'</span>);
</code></pre><p>Just one question:</p>
<h2 id="why-">why??????</h2>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="November 26th 2013, 7:38:27 pm">November 26th 2013</span>
								by <span class='authorname'>Stephen Feather</span><br>
								<a class="icon-bg icon-link" href="question/159878/trying-to-switch-windows-with-use-of-a-button-click#answer-271815" rel="permalink">permalink</a>
							</div>

							<h5>12 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>I found that while looking up solutions and it worked for a trial or two.  Like I said I&#39;m new to js and titanium so I thought that was required for a reference to another js file in the same package.</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 26th 2013, 7:46:09 pm">November 26th 2013</span>
											by <span class='authorname'>Richard Olenick</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Ok, need to get you started on JS before you can start designing an app with it…</p>
<p><strong>Ti.include()</strong> &lt;- think of this like cutting and pasting. The file you include is inserted into the the current location as if you had copy and pasted the code.  This occurs at before the script is run.</p>
<p><strong>require()</strong> loads the file you reference as a module, occurs at the time this section of code is accessed, so, if this is in an event, this doesn&#39;t occur the first time until the event is fired.</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 26th 2013, 8:01:35 pm">November 26th 2013</span>
											by <span class='authorname'>Stephen Feather</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>First, an error you haven&#39;t yet encountered but will:</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> login = <span class="hljs-built_in">require</span>(<span class="hljs-string">'/ui/common/loginScreen.js'</span>);
<span class="hljs-keyword">var</span> loginPage = <span class="hljs-keyword">new</span> Login();
</code></pre><p>you pull the module in and hand the reference to a var called <code>login</code> then you try a new <code>Login()</code> (note the caps) which does not exist.</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 26th 2013, 8:04:57 pm">November 26th 2013</span>
											by <span class='authorname'>Stephen Feather</span>
										</div>
									</li>
								
									<li class="comment">
										<p><pre><code class="hljs"><span class="hljs-keyword">win</span>.<span class="hljs-keyword">open</span>();

<span class="hljs-keyword">return</span> <span class="hljs-keyword">win</span>;
</code></pre><p>Kind of weird returning a reference to win when you have already opened it. Return win, then open win in in the context of where you require() the module.</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 26th 2013, 8:06:20 pm">November 26th 2013</span>
											by <span class='authorname'>Stephen Feather</span>
										</div>
									</li>
								
									<li class="comment">
										<p><pre><code class="hljs">Titanium.<span class="hljs-keyword">include</span>(<span class="hljs-string">'loginScreen.js'</span>);
<span class="hljs-keyword">var</span> login = <span class="hljs-keyword">require</span>(<span class="hljs-string">'/ui/common/loginScreen.js'</span>);
</code></pre><p>Going back to this code, the first would look for the file in Resources&#x2F;</p>
<p>The second is looking for the file to be in Resources&#x2F;ui&#x2F;common</p>
<p>Where is your file actually located?</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 26th 2013, 8:09:39 pm">November 26th 2013</span>
											by <span class='authorname'>Stephen Feather</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>(before some prat argues with me, his reference is in app.js, which must live in Resources&#x2F;)</p>
<p>If Ti.include is used in a file in a subdirectory, that would reference a file in the same folder as the referencing file.</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 26th 2013, 8:13:00 pm">November 26th 2013</span>
											by <span class='authorname'>Stephen Feather</span>
										</div>
									</li>
								
									<li class="comment">
										<p><pre><code class="hljs"><span class="hljs-keyword">var</span> login = <span class="hljs-built_in">require</span>(<span class="hljs-string">'/ui/common/loginScreen.js'</span>);
</code></pre><p>When using require, you dont put the .js at the end</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> login = <span class="hljs-built_in">require</span>(<span class="hljs-string">'/ui/common/loginScreen'</span>);
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="November 26th 2013, 8:16:35 pm">November 26th 2013</span>
											by <span class='authorname'>Stephen Feather</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>So I would want something along the lines of </p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> login = <span class="hljs-built_in">require</span>(<span class="hljs-string">'/ui/common/loginScreen.js'</span>);
<span class="hljs-keyword">var</span> loginPage = <span class="hljs-keyword">new</span> Login();
</code></pre><p>and</p>
<pre><code class="hljs">Titanium.<span class="hljs-keyword">include</span>(<span class="hljs-string">'ui/common/loginScreen.js'</span>);
<span class="hljs-keyword">var</span> login = <span class="hljs-keyword">require</span>(<span class="hljs-string">'/ui/common/loginScreen.js'</span>);
</code></pre><p>Are the include and require statements redundant? </p>
<p>I agree that knowing JS before trying to make an app is preferable but this is for an assignment and I was given two weeks of implementation to learn JS and Titanium and make a functioning app.</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 26th 2013, 8:23:44 pm">November 26th 2013</span>
											by <span class='authorname'>Richard Olenick</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Your code: <a href="https:&#x2F;&#x2F;gist.github.com&#x2F;sfeather&#x2F;7667391">https:&#x2F;&#x2F;gist.github.com&#x2F;sfeather&#x2F;7667391</a></p>
</p>
										<div class="author">
											&mdash; commented <span title="November 26th 2013, 8:24:17 pm">November 26th 2013</span>
											by <span class='authorname'>Stephen Feather</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I copied the code you posted into the program and I still am receiving the same error.</p>
<p>Location:<br>[280,9] ti:&#x2F;module.js</p>
<p>Message:<br>Uncaught Error: requested module not found: loginScreen</p>
<p>Source:<br>    throw new Error(&quot;Requested module not found: &quot;+ request);</p>
<p>Do you know why that would happen before I go searching the internet for an answer?</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 26th 2013, 8:49:06 pm">November 26th 2013</span>
											by <span class='authorname'>Richard Olenick</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>If all the files, are in the same folder, that code works. Tested here.</p>
<p><code>Are the include and require statements redundant?</code></p>
<p>Yes.</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 26th 2013, 9:22:00 pm">November 26th 2013</span>
											by <span class='authorname'>Stephen Feather</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>If you want to move them into subfolders, then you need to change the paths in the require() calls.</p>
<p>I also moved the homeScreen require call inside of the event listener.  This keeps it from loading until actually needed.</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 26th 2013, 9:25:22 pm">November 26th 2013</span>
											by <span class='authorname'>Stephen Feather</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
