<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>How do I pass variables from one file to another? Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>How do I pass variables from one file to another?</h1>
		</header>
		<section>
			<p>I need to pass the name variable that&#39;s hosted on ACS and brought into this file to another javascript file in the menuButt function in the following code snippet:</p>
<p>Thanks for any help.</p>
<p>function buildPizzaRows(pizzaLocations, slideVal) {<br>                &#x2F;&#x2F; BUILDS TABLEVIEW WITH LISTENER USING DISTANCE SORTED LOCATIONS FROM SERVER</p>
<pre><code class="hljs">            var idx = <span class="hljs-number">1</span>;
            var rows = [];

            <span class="hljs-keyword">for</span> (var i <span class="hljs-keyword">in</span> pizzaLocations) {
                    var row = Ti.UI.createTableViewRow({
                            <span class="hljs-string">height :</span> <span class="hljs-number">100</span>
                    });
                    var nameLab = Ti.UI.createLabel({
                            <span class="hljs-string">text :</span> pizzaLocations[i].name,
                            <span class="hljs-string">top :</span> <span class="hljs-number">1</span>,
                            <span class="hljs-string">left :</span> <span class="hljs-number">10</span>,
                            <span class="hljs-string">font :</span> {
                                    <span class="hljs-string">fontSize :</span> <span class="hljs-number">22</span>,
                                    <span class="hljs-string">fontWeight :</span> <span class="hljs-string">'bold'</span>
                            },
                            <span class="hljs-string">color :</span> <span class="hljs-string">'262524'</span>,
                            <span class="hljs-string">textAlign :</span> Ti.UI.TEXT_ALIGNMENT_LEFT
                    });

            <span class="hljs-comment">//      return nameLab;</span>
                    var addressLab = Ti.UI.createLabel({
                            <span class="hljs-string">text :</span> pizzaLocations[i].address,
                            <span class="hljs-string">top :</span> <span class="hljs-number">25</span>,
                            <span class="hljs-string">left :</span> <span class="hljs-number">10</span>,
                            <span class="hljs-string">fontSize :</span> <span class="hljs-number">10</span>,
                            <span class="hljs-string">color :</span> <span class="hljs-string">'#262524'</span>,
                            <span class="hljs-string">textAlign :</span> Ti.UI.TEXT_ALIGNMENT_LEFT
                    });
                    var logoLab = Ti.UI.createImageView({
                            <span class="hljs-string">image :</span> pizzaLocations[i].photo.urls.square_75,
                            <span class="hljs-string">top :</span> <span class="hljs-number">10</span>,
                            <span class="hljs-string">right :</span> <span class="hljs-number">5</span>
                    });

                    makeCall(pizzaLocations[i].phone_number);

                    function makeCall(phone_number){
                                    var callButt = Ti.UI.createButton({
                                            <span class="hljs-string">title :</span> <span class="hljs-string">'call'</span>,
                                            <span class="hljs-string">backgroundImage :</span> <span class="hljs-string">'GreenButton.png'</span>,
                                            <span class="hljs-string">color :</span> <span class="hljs-string">'#FFFFFF'</span>,
                                            <span class="hljs-string">width :</span> <span class="hljs-number">60</span>,
                                            <span class="hljs-string">height :</span> <span class="hljs-number">35</span>,   
                                            <span class="hljs-string">top :</span> <span class="hljs-number">50</span>,
                                            <span class="hljs-string">left :</span> <span class="hljs-number">10</span>,
                                            <span class="hljs-string">borderColor :</span> <span class="hljs-string">'#262524'</span>,
                                            <span class="hljs-string">borderRadius :</span> <span class="hljs-number">1</span>
                                    });

                                    row.add(callButt);

                                    callButt.addEventListener(<span class="hljs-string">'click'</span>,function(e){
                                            alert(phone_number);
                                            Titanium.Platform.openURL(<span class="hljs-string">'tel:'</span> + phone_number);
                                    });
                    }; <span class="hljs-comment">//end makeCall function</span>
                    menuButt(pizzaLocations[i].deal);

                    function menuButt (nameLab, addressLab, deal){
                                    var menuButt = Ti.UI.createButton({
                                            <span class="hljs-string">title :</span> <span class="hljs-string">'deal'</span>,
                                            <span class="hljs-string">backgroundImage :</span> <span class="hljs-string">'RedButton.png'</span>,
                                            <span class="hljs-string">color :</span> <span class="hljs-string">'#FFFFFF'</span>,
                                            <span class="hljs-string">width :</span> <span class="hljs-number">60</span>,
                                            <span class="hljs-string">height :</span> <span class="hljs-number">35</span>,
                                            <span class="hljs-string">top :</span> <span class="hljs-number">50</span>,
                                            <span class="hljs-string">left :</span> <span class="hljs-number">75</span>,
                                            <span class="hljs-string">borderColor :</span> <span class="hljs-string">'#262524'</span>,
                                            <span class="hljs-string">borderRadius :</span> <span class="hljs-number">1</span>
                                    });

                                    row.add(menuButt);

                                    menuButt.addEventListener(<span class="hljs-string">'click'</span>, function(e){
                                    navGroup.open(dealWindow,{<span class="hljs-string">animated:</span><span class="hljs-literal">true</span>});
                                    <span class="hljs-comment">//deal.nameLab = nameLab;</span>
                                    var dealWindow = Ti.UI.createWindow({
<span class="hljs-label">                                            backgroundImage:</span><span class="hljs-string">'Background-Screen.png'</span>,
<span class="hljs-label">                                    backgroundColor:</span><span class="hljs-string">'#000'</span>,
<span class="hljs-label">                                    barImage:</span><span class="hljs-string">'topBar.png'</span>,
<span class="hljs-label">                                    barColor:</span><span class="hljs-string">'red'</span>,

    <span class="hljs-comment">//title : nameLab,</span>
<span class="hljs-label">                                            orientationModes:</span> [Titanium.UI.PORTRAIT],
<span class="hljs-label">                                            url:</span><span class="hljs-string">'ui/common/dealWindow.js'</span>
                                    });
                            <span class="hljs-comment">//      nameLab: e.nameLab.val</span>

                    dealWindow.nameLab = nameLab;
                    dealWindow.addressLab = addressLab;
                    self.navGroup.open(dealWindow);

                                    });
                    }; <span class="hljs-comment">// end menuButt function</span>
</code></pre>
		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="July 22nd 2013, 4:50:48 pm">July 22nd 2013</span>
				by <span class='authorname'>Joe Diviak</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>iphone</span></li>
					
						<li><span class='tagname'>javascript</span></li>
					
				</ul>
			

			<section>
				<h5>3 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Thanks for the code but without the code syntax is a little hard to read.</p>
<p>Quick tip; When you add code snippets or logs always add 3 <strong>~</strong> on a blank line above your code and another 3 <strong>~</strong> below you code on another blank line - you will see the difference when you preview the comment. (you are not being told off)</p>
<p>Inserted code should look like;</p>
<pre><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">something</span><span class="hljs-params">(obj)</span> </span>{
    <span class="hljs-comment">// do something</span>
}
alert(<span class="hljs-string">'Hello'</span>);
</code></pre><p>For further details click the captions on the mark-down bar for examples.</p>
</div>
							<div class="author">
								&mdash; commented <span title="July 22nd 2013, 5:13:40 pm">July 22nd 2013</span>
								by <span class='authorname'>Malcolm Hollingsworth</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Thanks for the heads up, I just resyntaxed it.</p>
</div>
							<div class="author">
								&mdash; commented <span title="July 22nd 2013, 5:27:47 pm">July 22nd 2013</span>
								by <span class='authorname'>Joe Diviak</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Please understand I am not telling you off, but it is better for you to know for the next time to make it easier for you to get an answer and others to be able to follow the flow of things.</p>
</div>
							<div class="author">
								&mdash; commented <span title="July 22nd 2013, 5:35:14 pm">July 22nd 2013</span>
								by <span class='authorname'>Malcolm Hollingsworth</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>3</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>3 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-266254">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>hi, I&#39;m sorry I can&#39;t understand your question but may be this simple example will help you.</p>
<p>1: app.js<br>please set the name value in the properties of dealWindow and you can get in other file.</p>
<p>var dealWindow = Ti.UI.createWindow({<br>                        backgroundImage:&#39;Background-Screen.png&#39;,<br>                        backgroundColor:&#39;#000&#39;,<br>                        barImage:&#39;topBar.png&#39;,<br>                        barColor:&#39;red&#39;,<br>                        name: nameLab, &#x2F;&#x2F;some value<br>                        url:&#39;ui&#x2F;common&#x2F;dealWindow.js&#39;<br>                    });<br>dealWindow.open();</p>
<p>2: dealWindow.js</p>
<p>var currWin = Ti.UI.currWindow;<br>var name = currWin.nameLab; &#x2F;&#x2F; get property which we had already set in the previous app.js file with same name.</p>
<p>alert(name);</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="July 23rd 2013, 5:21:13 am">July 23rd 2013</span>
								by <span class='authorname'>Ali Sher Kashif</span><br>
								<a class="icon-bg icon-link" href="question/155156/how-do-i-pass-variables-from-one-file-to-another.html#answer-266254" rel="permalink">permalink</a>
							</div>

							<h5>4 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>sorry please use:</p>
<p>var name = currWin.name; &#x2F;&#x2F; property</p>
<p>instead of:</p>
<p>var name = currWin.nameLab;</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 23rd 2013, 5:24:45 am">July 23rd 2013</span>
											by <span class='authorname'>Ali Sher Kashif</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Hello Ali,</p>
<p>Your example works perfectly but when my code is nested in a function, I can&#39;t get that data to pass to the next screen to use.  Any suggestions?</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 26th 2013, 5:18:50 pm">July 26th 2013</span>
											by <span class='authorname'>Joe Diviak</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>sorry for late reply joe Diviak please use </p>
<p>Titanium.app.properties.setstring(&quot;value&quot;, somevalue )</p>
<p>and on next screen use</p>
<p> var value = Titanium.app.properties.getstring(&quot;value&quot;) .</p>
<p>why I&#39;m saying to use setstring because the data can&#39;t be accessed outside the success function.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 1st 2013, 3:58:00 am">August 1st 2013</span>
											by <span class='authorname'>Ali Sher Kashif</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Thank you Ali, this should work.  I had another software engineer work on it with me and we used the get method to pull the data over very successfully.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 9th 2013, 3:12:33 pm">August 9th 2013</span>
											by <span class='authorname'>Joe Diviak</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-266245">
				
						<section>
							<p>Hi</p>
<p>I am confused as to why you have this block of code that tries to open the window twice;</p>
<pre><code class="hljs">menuButt.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span></span>{
    navGroup.open(dealWindow,{animated:<span class="hljs-keyword">true</span>}); <span class="hljs-comment">// here</span>
    <span class="hljs-comment">//deal.nameLab = nameLab;</span>
    <span class="hljs-keyword">var</span> dealWindow = Ti.UI.createWindow({
        backgroundImage:<span class="hljs-string">'Background-Screen.png'</span>,
        backgroundColor:<span class="hljs-string">'#000'</span>,
        barImage:<span class="hljs-string">'topBar.png'</span>,
        barColor:<span class="hljs-string">'red'</span>,
        <span class="hljs-comment">//title : nameLab,</span>
        orientationModes: [Titanium.UI.PORTRAIT],
        url:<span class="hljs-string">'ui/common/dealWindow.js'</span>
    });
    <span class="hljs-comment">//  nameLab: e.nameLab.val</span>
    dealWindow.nameLab = nameLab;
    dealWindow.addressLab = addressLab;
    <span class="hljs-keyword">self</span>.navGroup.open(dealWindow); <span class="hljs-comment">// and again here</span>
});
</code></pre><p>The first one should fail as the variable <strong>dealWindow</strong> has yet to be defined.</p>
<p>As you are using the <strong>url</strong> property of the window (Consider checking out <a href="http:&#x2F;&#x2F;docs.appcelerator.com&#x2F;titanium&#x2F;latest&#x2F;#!&#x2F;guide&#x2F;CommonJS_Modules_in_Titanium">CommonJS</a> techniques for your next app) you should be able to pass properties using custom properties of the window as you have actually done in these two lines;</p>
<pre><code class="hljs">dealWindow.nameLab = nameLab<span class="hljs-comment">;</span>
dealWindow.addressLab = addressLab<span class="hljs-comment">;</span>
</code></pre><p>You would then access them in the file <strong>dealWindow.js</strong> using this sort of code;</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> <span class="hljs-keyword">win</span> = Ti.UI.currentWindow;
alert(<span class="hljs-keyword">win</span>.nameLab);
</code></pre><p>I would remove the first attempt to open the window and continue with the second attempt.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="July 22nd 2013, 5:46:55 pm">July 22nd 2013</span>
								by <span class='authorname'>Malcolm Hollingsworth</span><br>
								<a class="icon-bg icon-link" href="question/155156/how-do-i-pass-variables-from-one-file-to-another.html#answer-266245" rel="permalink">permalink</a>
							</div>

							<h5>2 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Thanks for pointing out the two window openings. That got rid of that error.  As far as nameLab passing over, it&#39;s still not working.  I did an alert just to test like you indicated, but nothing shows.  Just the alert that says alert and ok.</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 22nd 2013, 6:29:01 pm">July 22nd 2013</span>
											by <span class='authorname'>Joe Diviak</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I will review in the morning when I am near my dev machine, it is a while since I used the URL property in any apps - so I need to refresh my memory.</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 22nd 2013, 9:49:45 pm">July 22nd 2013</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-266243">
				
						<section>
							<p>Sorry about that I was wondering why it looked like crap, lol.</p>
<p>Here it is in proper syntax</p>
<pre><code class="hljs">
function buildPizzaRows(pizzaLocations, slideVal) {
        <span class="hljs-comment">// BUILDS TABLEVIEW WITH LISTENER USING DISTANCE SORTED LOCATIONS FROM SERVER</span>

        var idx = <span class="hljs-number">1</span>;
        var rows = [];

        <span class="hljs-keyword">for</span> (var i <span class="hljs-keyword">in</span> pizzaLocations) {
            var row = Ti.UI.createTableViewRow({
                <span class="hljs-string">height :</span> <span class="hljs-number">100</span>
            });
            var nameLab = Ti.UI.createLabel({
                <span class="hljs-string">text :</span> pizzaLocations[i].name,
                <span class="hljs-string">top :</span> <span class="hljs-number">1</span>,
                <span class="hljs-string">left :</span> <span class="hljs-number">10</span>,
                <span class="hljs-string">font :</span> {
                    <span class="hljs-string">fontSize :</span> <span class="hljs-number">22</span>,
                    <span class="hljs-string">fontWeight :</span> <span class="hljs-string">'bold'</span>
                },
                <span class="hljs-string">color :</span> <span class="hljs-string">'262524'</span>,
                <span class="hljs-string">textAlign :</span> Ti.UI.TEXT_ALIGNMENT_LEFT
            });

        <span class="hljs-comment">//    return nameLab;</span>
            var addressLab = Ti.UI.createLabel({
                <span class="hljs-string">text :</span> pizzaLocations[i].address,
                <span class="hljs-string">top :</span> <span class="hljs-number">25</span>,
                <span class="hljs-string">left :</span> <span class="hljs-number">10</span>,
                <span class="hljs-string">fontSize :</span> <span class="hljs-number">10</span>,
                <span class="hljs-string">color :</span> <span class="hljs-string">'#262524'</span>,
                <span class="hljs-string">textAlign :</span> Ti.UI.TEXT_ALIGNMENT_LEFT
            });
            var logoLab = Ti.UI.createImageView({
                <span class="hljs-string">image :</span> pizzaLocations[i].photo.urls.square_75,
                <span class="hljs-string">top :</span> <span class="hljs-number">10</span>,
                <span class="hljs-string">right :</span> <span class="hljs-number">5</span>
            });

            makeCall(pizzaLocations[i].phone_number);

            function makeCall(phone_number){
                    var callButt = Ti.UI.createButton({
                        <span class="hljs-string">title :</span> <span class="hljs-string">'call'</span>,
                        <span class="hljs-string">backgroundImage :</span> <span class="hljs-string">'GreenButton.png'</span>,
                        <span class="hljs-string">color :</span> <span class="hljs-string">'#FFFFFF'</span>,
                        <span class="hljs-string">width :</span> <span class="hljs-number">60</span>,
                        <span class="hljs-string">height :</span> <span class="hljs-number">35</span>,    
                        <span class="hljs-string">top :</span> <span class="hljs-number">50</span>,
                        <span class="hljs-string">left :</span> <span class="hljs-number">10</span>,
                        <span class="hljs-string">borderColor :</span> <span class="hljs-string">'#262524'</span>,
                        <span class="hljs-string">borderRadius :</span> <span class="hljs-number">1</span>
                    });

                    row.add(callButt);

                    callButt.addEventListener(<span class="hljs-string">'click'</span>,function(e){
                        alert(phone_number);
                        Titanium.Platform.openURL(<span class="hljs-string">'tel:'</span> + phone_number);
                    });
            }; <span class="hljs-comment">//end makeCall function</span>
            menuButt(pizzaLocations[i].deal);

            function menuButt (nameLab, addressLab, deal){
                    var menuButt = Ti.UI.createButton({
                        <span class="hljs-string">title :</span> <span class="hljs-string">'deal'</span>,
                        <span class="hljs-string">backgroundImage :</span> <span class="hljs-string">'RedButton.png'</span>,
                        <span class="hljs-string">color :</span> <span class="hljs-string">'#FFFFFF'</span>,
                        <span class="hljs-string">width :</span> <span class="hljs-number">60</span>,
                        <span class="hljs-string">height :</span> <span class="hljs-number">35</span>,
                        <span class="hljs-string">top :</span> <span class="hljs-number">50</span>,
                        <span class="hljs-string">left :</span> <span class="hljs-number">75</span>,
                        <span class="hljs-string">borderColor :</span> <span class="hljs-string">'#262524'</span>,
                        <span class="hljs-string">borderRadius :</span> <span class="hljs-number">1</span>
                    });

                    row.add(menuButt);

                    menuButt.addEventListener(<span class="hljs-string">'click'</span>, function(e){
                        navGroup.open(dealWindow,{<span class="hljs-string">animated:</span><span class="hljs-literal">true</span>});
                        <span class="hljs-comment">//deal.nameLab = nameLab;</span>
                    var dealWindow = Ti.UI.createWindow({
<span class="hljs-label">                        backgroundImage:</span><span class="hljs-string">'Background-Screen.png'</span>,
<span class="hljs-label">                        backgroundColor:</span><span class="hljs-string">'#000'</span>,
<span class="hljs-label">                        barImage:</span><span class="hljs-string">'topBar.png'</span>,
<span class="hljs-label">                        barColor:</span><span class="hljs-string">'red'</span>,

        <span class="hljs-comment">//title : nameLab,</span>
<span class="hljs-label">                        orientationModes:</span> [Titanium.UI.PORTRAIT],
<span class="hljs-label">                        url:</span><span class="hljs-string">'ui/common/dealWindow.js'</span>
                    });
                    <span class="hljs-comment">//    nameLab: e.nameLab.val</span>

                dealWindow.nameLab = nameLab;
                dealWindow.addressLab = addressLab;
                self.navGroup.open(dealWindow);

                        });
            }; <span class="hljs-comment">// end menuButt function</span>
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="July 22nd 2013, 5:26:40 pm">July 22nd 2013</span>
								by <span class='authorname'>Joe Diviak</span><br>
								<a class="icon-bg icon-link" href="question/155156/how-do-i-pass-variables-from-one-file-to-another.html#answer-266243" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Quick tip; next time - please do not create a new answer when your contribution is actually a comment - it confuses thing in the future when trying to work out relevance.  You are NOT being told off.</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 22nd 2013, 5:34:22 pm">July 22nd 2013</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
