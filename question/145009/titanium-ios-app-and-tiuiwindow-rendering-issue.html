<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Titanium iOs app and Ti.UI.Window rendering issue Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Titanium iOs app and Ti.UI.Window rendering issue</h1>
		</header>
		<section>
			<p>I&#39;m working on an Appcelerator Titanium app for iPhone iOS 6.0. There&#39;s a Ti.UI.TabGroup controller opening this Ti.UI.Window that contains a Gallery of images.</p>
<p>Everything it&#39;s working fine, but just on the first tab opening. In fact when I tap on another tab and then I return in the gallery tab, all images, except one and I don&#39;t know why, disappear. I verified that imageViews objects are still present with their properties, but hidden. Both on simulator and real device.</p>
<p><img src="http:&#x2F;&#x2F;i50.tinypic.com&#x2F;28vxgm9.jpg" alt="screenshot"></p>
<p>That&#39;s the code for the gallery and imagesView, trying to obtain a &quot;grid&quot; like layout.</p>
<pre><code class="hljs">var imagesViewsArray = [];
<span class="hljs-keyword">for</span>(var i=<span class="hljs-number">0</span>,images=imageAlbums[<span class="hljs-number">0</span>].images;i&lt;images.length;i++){
    var element =Ti.UI.createImageView({
        <span class="hljs-string">image :</span> images[i],
        <span class="hljs-string">width :</span> <span class="hljs-number">100</span>, <span class="hljs-string">height:</span> <span class="hljs-number">75</span>, <span class="hljs-string">right:</span><span class="hljs-number">5</span>,
    });
    element.addEventListener(<span class="hljs-string">'singletap'</span>,function(e){
        <span class="hljs-comment">// [cut] Opening modalWindow with fullscreen image</span>
    });
    imagesViewsArray.push(element);
}

var wrapper = Titanium.UI.createView({
<span class="hljs-label">    height:</span> Ti.UI.SIZE,
<span class="hljs-label">    width:</span><span class="hljs-string">'auto'</span>, <span class="hljs-string">layout:</span> <span class="hljs-string">'horizontal'</span>,
<span class="hljs-label">    left:</span> <span class="hljs-number">5</span>,  <span class="hljs-string">top:</span> <span class="hljs-number">5</span>,       <span class="hljs-string">bottom:</span> <span class="hljs-number">5</span>,
<span class="hljs-label">    children:</span> imagesViewsArray
});

var scrollView = Ti.UI.createScrollView({
<span class="hljs-label">    style:</span><span class="hljs-string">'vertical'</span>, <span class="hljs-string">contentWidth:</span><span class="hljs-string">'auto'</span>,
<span class="hljs-label">    contentHeight:</span><span class="hljs-string">'auto'</span>, <span class="hljs-string">layout:</span><span class="hljs-string">'vertical'</span>,
<span class="hljs-label">    width:</span> <span class="hljs-string">'100%'</span> , <span class="hljs-string">scrollType:</span> <span class="hljs-string">'vertical'</span>,
<span class="hljs-label">    showVerticalScrollIndicator:</span> <span class="hljs-literal">true</span>,
<span class="hljs-label">    children:</span> [ wrapper ]
});

galleryWin.add( scrollView );
</code></pre>
		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="November 23rd 2012, 12:07:42 pm">November 23rd 2012</span>
				by <span class='authorname'>Fabio Mora</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>appcelerator</span></li>
					
						<li><span class='tagname'>iphone</span></li>
					
						<li><span class='tagname'>tabgroup</span></li>
					
						<li><span class='tagname'>window</span></li>
					
				</ul>
			

			<section>
				<h5>2 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Need to know what version of Titanium you are building against.</p>
<p>Also, the one image that is left over, is that in the exact position it would be if all images were displayed? In the screenshots you posted the one image leftover is not in the &quot;all&quot; screenshot.</p>
</div>
							<div class="author">
								&mdash; commented <span title="November 23rd 2012, 1:29:33 pm">November 23rd 2012</span>
								by <span class='authorname'>Matt Berg</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>I&#39;m sorry, that&#39;s Titanium &quot;jenkins-titanium-rcp-master-232&quot; 2.1.2.201208301612.</p>
<p>No, it isn&#39;t in the exact position, it should be aligned left out of the bottom side of the scrollView.<br>I don&#39;t know why the image is moved in that position.</p>
</div>
							<div class="author">
								&mdash; commented <span title="November 23rd 2012, 1:55:56 pm">November 23rd 2012</span>
								by <span class='authorname'>Fabio Mora</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-251587">
				
						<section>
							<p>I for one would upgrade Titanium to 2.1.4. Official iOS 6 support wasn&#39;t added until 2.1.3. Also, if you are running Xcode 4.5.2 I would suggest using Titanium 2.1.4. I have seen things like this get fixed by making sure everything is up-to-date.</p>
<p>Another suggestion would be to update your &quot;wrapper&quot; view width property to use Ti.UI.FILL instead of &#39;auto&#39;. &#39;auto&#39; was deprecated some time ago.</p>
<p>If I have some time later I will try a working example locally to see if I can replicate it. I have built almost an exact view like this so I know it should work at least.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="November 23rd 2012, 2:34:26 pm">November 23rd 2012</span>
								by <span class='authorname'>Matt Berg</span><br>
								<a class="icon-bg icon-link" href="question/145009/titanium-ios-app-and-tiuiwindow-rendering-issue.html#answer-251587" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-251596">
				
						<section>
							<p>Hi</p>
<p>Having looked at your code I can see a couple of things that I would do to tweak it.</p>
<ul>
<li>You are using the <a href="http:&#x2F;&#x2F;docs.appcelerator.com&#x2F;titanium&#x2F;2.1&#x2F;#!&#x2F;api&#x2F;Titanium.UI.View-property-children">children</a> property which is read-only.</li>
<li><p>YOu are usinga number of extra properties that do not exist, you may be doing this for good reasons - if so add them back but I think it may be in an effort to solve this problem;</p>
</li>
<li><p><code>scrollView.scrollType</code></p>
</li>
<li><code>scrollView.style</code></li>
</ul>
<p>I have rewritten your code or at least re-worked and ordered it, removing the use of <code>children</code> properties and in doing so some blocks have move up and some down.  I have rmeoved the extra trailing commas in defintion blocks that might come back to haunt you (trust me they will) and ordered the properties alphabetically (this is my way of doing it and there is no right or wrong way).  I have also removed the need for the array used to add thumbs to the wrapper as well.</p>
<p>This code should work correctly, not sure if it will resolve your issue as I do not have the rest of the app code or any events from the tabs, but give it a go and see what happens.</p>
<pre><code class="hljs">var scrollView = Ti.UI.createScrollView({
    <span class="hljs-comment">//children: [ wrapper ]</span>
    contentHeight: Ti.UI.SIZE,
    contentWidth: Ti.UI.SIZE,
    layout: <span class="hljs-string">'vertical'</span>,
    <span class="hljs-comment">//scrollType: 'vertical',</span>
    showVerticalScrollIndicator: <span class="hljs-keyword">true</span>,
    <span class="hljs-comment">//style: 'vertical',</span>
    <span class="hljs-variable">width</span>: Ti.UI.FILL
});
galleryWin.<span class="hljs-built_in">add</span>( scrollView );

var wrapper = Titanium.UI.createView({
    bottom: <span class="hljs-number">5</span>,
    <span class="hljs-variable">height</span>: Ti.UI.SIZE,
    layout: <span class="hljs-string">'horizontal'</span>,
    left: <span class="hljs-number">5</span>,
    top: <span class="hljs-number">5</span>, 
    <span class="hljs-variable">width</span>: Ti.UI.FILL
    <span class="hljs-comment">//children: imagesViewsArray</span>
});
scrollView.<span class="hljs-built_in">add</span>(wrapper);

<span class="hljs-comment">//var imagesViewsArray = [];</span>
var intElement  <span class="hljs-number">0</span>; intElements = imageAlbums[<span class="hljs-number">0</span>].images;
<span class="hljs-keyword">for</span> (intElement = <span class="hljs-number">0</span>; intElement &lt; intElements; intElement = intElement + <span class="hljs-number">1</span>) {
    var element = Ti.UI.createImageView({
        <span class="hljs-built_in">image</span>: images[intElement],
        <span class="hljs-variable">height</span>: <span class="hljs-number">75</span>,
        right: <span class="hljs-number">5</span>,
        <span class="hljs-variable">width</span>: <span class="hljs-number">100</span>
    });
    element.addEventListener(<span class="hljs-string">'singletap'</span>,function(e){
        <span class="hljs-comment">// [cut] Opening modalWindow with fullscreen image</span>
    });
    wrapper.<span class="hljs-built_in">add</span>(element);
}
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="November 23rd 2012, 6:28:25 pm">November 23rd 2012</span>
								by <span class='authorname'>Malcolm Hollingsworth</span><br>
								<a class="icon-bg icon-link" href="question/145009/titanium-ios-app-and-tiuiwindow-rendering-issue.html#answer-251596" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Did this answer your question?</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 4th 2012, 8:32:00 pm">December 4th 2012</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
