<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Fire event when tab finishes loading layout components » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Fire event when tab finishes loading layout components</h1>
		</header>
		<section>
			<p>I&#39;d like to be able to execute a function when all the layout components on a particular tab are loaded. Here&#39;s my use case: I launch a tab and then have an audio stream that I want to begin playing when the tab loads. However, if I just try to load and play the stream in an AudioPlayer the user gets a black screen until the AudioPlayer has loaded the stream and then the tab UI elements load. I can workaround this by using a setTimeout to wait 500ms before trying to load the audio stream, but that seems hackish to me.</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="January 4th 2013, 1:38:03 pm">January 4th 2013</span>
				by <span class='authorname'>Kyle Linden</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>events</span></li>
					
						<li><span class='tagname'>tab</span></li>
					
						<li><span class='tagname'>ui</span></li>
					
				</ul>
			

			<section>
				<h5>1 Comment</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Sorry, everywhere in here I said &quot;tab&quot;, I meant &quot;window&quot;</p>
</div>
							<div class="author">
								&mdash; commented <span title="January 4th 2013, 1:41:25 pm">January 4th 2013</span>
								by <span class='authorname'>Kyle Linden</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-253852">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>Try using the <a href="http:&#x2F;&#x2F;docs.appcelerator.com&#x2F;titanium&#x2F;latest&#x2F;#!&#x2F;api&#x2F;Titanium.UI.View-event-postlayout">postLayout</a> event.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="January 4th 2013, 1:56:00 pm">January 4th 2013</span>
								by <span class='authorname'>Anthony Decena</span><br>
								<a class="icon-bg icon-link" href="question/146459/fire-event-when-tab-finishes-loading-layout-components#answer-253852" rel="permalink">permalink</a>
							</div>

							<h5>4 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>This looks like it should be the right thing, but I don&#39;t really want my stream to reload everytime a visual element changes on the window. I suppose I could put a check in to see if the player is already playing an do nothing if it already is though.</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 4th 2013, 2:05:03 pm">January 4th 2013</span>
											by <span class='authorname'>Kyle Linden</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Actually, this doesn&#39;t work for me. I have a pause button on the screen which when the user taps changes to a play button. When the pause button is tapped (and then removed and replaced by play button), this fires the postlayout event again which restarts the player.</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 4th 2013, 2:51:47 pm">January 4th 2013</span>
											by <span class='authorname'>Kyle Linden</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Once the postLayout event gets fired the first time, use the event to load your stream and then remove the function attached to the event.</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 4th 2013, 3:07:08 pm">January 4th 2013</span>
											by <span class='authorname'>Anthony Decena</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Great, thanks.</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 4th 2013, 4:32:02 pm">January 4th 2013</span>
											by <span class='authorname'>Kyle Linden</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-253853">
				
						<section>
							<p>Try loading you audio stream inside a focus eventlistener on the window.</p>
<pre><code class="hljs"><span class="hljs-built_in">window</span>.addEventListerner(<span class="hljs-string">'focus'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
    audioPlayer.start();
});
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="January 4th 2013, 1:59:45 pm">January 4th 2013</span>
								by <span class='authorname'>Robert Grenier</span><br>
								<a class="icon-bg icon-link" href="question/146459/fire-event-when-tab-finishes-loading-layout-components#answer-253853" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>I tried this, but it appears that the focus event gets called before the window UI elements are loaded. It has the same effect as if no event listener was used (black screen until stream is loaded).</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 4th 2013, 2:49:31 pm">January 4th 2013</span>
											by <span class='authorname'>Kyle Linden</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
