<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Random crashes when compiling » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Random crashes when compiling</h1>
		</header>
		<section>
			<p>Application type: mobile</p>
<p>Titanium SDK: Titanium SDK version: 2.1.1 (07&#x2F;27&#x2F;12 14:01 0fd84a2)</p>
<p>Device: iOS simulator</p>
<p>Operating System: OSX 10.7.3</p>
<p>Titanium Studio: 2.1.1.201207271312</p>
<p>Hi,</p>
<p>I am experiencing an extremely weird issue. I installed everything yesterday, played a bit with the app another developer had started building and even though I had some of the errors I am experiencing today, everything worked generally fine. Then I turned off comp and today when I returned to the app, things just randomly crash. Again, both the actual crashes and the errors outputted are random: sometimes it doesn&#39;t crash, sometimes it does and when it does, errors are not the same. After hours of playing with code, I&#39;ve managed to minimize the problem to the following.</p>
<p>This is a newly set up project with app.js like this:</p>
<pre><code class="hljs">Ti.App.barColor = <span class="hljs-string">'#262626'</span>;
Ti.App.Properties.setString(<span class="hljs-string">'saved_jobs_update'</span>, <span class="hljs-number">1</span>);
<span class="hljs-comment">//bootstrap and check dependencies</span>
<span class="hljs-keyword">if</span> (Ti.version &lt; <span class="hljs-number">1.8</span> ) {
    alert(<span class="hljs-string">'Sorry - this application template requires Titanium Mobile SDK 1.8 or later'</span>);
}


<span class="hljs-comment">// This is a single context application with mutliple windows in a stack</span>
(<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-comment">//determine platform and form factor and render approproate components</span>
    <span class="hljs-keyword">var</span> osname = Ti.Platform.osname,
        version = Ti.Platform.version,
        height = Ti.Platform.displayCaps.platformHeight,
        width = Ti.Platform.displayCaps.platformWidth;

})();
</code></pre><p>At this point I delete build directory, do project-&gt;clean and then run-&gt;iphone simulator. There are three things that can happen next but in most cases (not always still) on the first start it works - I see red iphone window with titanium logo, etc. Then I just keep hitting run-&gt;iphone simulator and apart from this scenario, I also get these two scenarios (which might happen on the first start too).</p>
<p>Iphone simulator opens up, I see red screen with logo but almost immediately simulator closes down and I can see this in the console:</p>
<pre><code class="hljs"><span class="hljs-list">[<span class="hljs-keyword">INFO</span>] One moment, building ...
<span class="hljs-list">[<span class="hljs-keyword">INFO</span>] Titanium SDK version: <span class="hljs-number">2.1</span>.1 <span class="hljs-list">(<span class="hljs-keyword">07/27/12</span> <span class="hljs-number">14</span>:01 <span class="hljs-number">0</span>fd84a2)</span>
<span class="hljs-list">[<span class="hljs-keyword">INFO</span>] iPhone Device family: universal
<span class="hljs-list">[<span class="hljs-keyword">INFO</span>] iPhone SDK version: <span class="hljs-number">5.1</span>
<span class="hljs-list">[<span class="hljs-keyword">INFO</span>] iPhone simulated device: iphone
<span class="hljs-list">[<span class="hljs-keyword">INFO</span>] Compiling localization files
<span class="hljs-list">[<span class="hljs-keyword">INFO</span>] Launching application in Simulator
<span class="hljs-list">[<span class="hljs-keyword">INFO</span>] Launched application in Simulator <span class="hljs-list">(<span class="hljs-keyword">4.09</span> seconds)</span>
<span class="hljs-list">[<span class="hljs-keyword">INFO</span>] Application started
<span class="hljs-list">[<span class="hljs-keyword">INFO</span>] wsiphone/1.0 <span class="hljs-list">(<span class="hljs-keyword">2.1.1.GA.0fd84a2</span>)</span>
<span class="hljs-list">[<span class="hljs-keyword">INFO</span>] Application has exited from Simulator</span></span></span></span></span></span></span></span></span></span></span>
</code></pre><p>Same thing but console has this:</p>
<pre><code class="hljs"><span class="hljs-list">[<span class="hljs-keyword">INFO</span>] One moment, building ...
<span class="hljs-list">[<span class="hljs-keyword">INFO</span>] Titanium SDK version: <span class="hljs-number">2.1</span>.1 <span class="hljs-list">(<span class="hljs-keyword">07/27/12</span> <span class="hljs-number">14</span>:01 <span class="hljs-number">0</span>fd84a2)</span>
<span class="hljs-list">[<span class="hljs-keyword">INFO</span>] iPhone Device family: universal
<span class="hljs-list">[<span class="hljs-keyword">INFO</span>] iPhone SDK version: <span class="hljs-number">5.1</span>
<span class="hljs-list">[<span class="hljs-keyword">INFO</span>] iPhone simulated device: iphone
<span class="hljs-list">[<span class="hljs-keyword">INFO</span>] Compiling localization files
<span class="hljs-list">[<span class="hljs-keyword">INFO</span>] Launching application in Simulator
<span class="hljs-list">[<span class="hljs-keyword">INFO</span>] Launched application in Simulator <span class="hljs-list">(<span class="hljs-keyword">4.07</span> seconds)</span>
<span class="hljs-list">[<span class="hljs-keyword">INFO</span>] Application started
<span class="hljs-list">[<span class="hljs-keyword">INFO</span>] wsiphone/1.0 <span class="hljs-list">(<span class="hljs-keyword">2.1.1.GA.0fd84a2</span>)</span>
<span class="hljs-list">[<span class="hljs-keyword">ERROR</span>] The application has crashed with an unhandled exception. Stack trace:
<span class="hljs-number">0</span>   CoreFoundation                      <span class="hljs-number">0</span>x02f75022 __exceptionPreprocess + <span class="hljs-number">178</span>
<span class="hljs-number">1</span>   libobjc.A.dylib                     <span class="hljs-number">0</span>x02d95cd6 objc_exception_throw + <span class="hljs-number">44</span>
<span class="hljs-number">2</span>   CoreFoundation                      <span class="hljs-number">0</span>x02f74ee1 -<span class="hljs-list">[<span class="hljs-keyword">NSException</span> raise] + <span class="hljs-number">17</span>
<span class="hljs-number">3</span>   Foundation                          <span class="hljs-number">0</span>x00827efe -<span class="hljs-list">[<span class="hljs-keyword">NSObject</span><span class="hljs-list">(<span class="hljs-keyword">NSKeyValueCoding</span>)</span> valueForUndefinedKey:] + <span class="hljs-number">282</span>
<span class="hljs-number">4</span>   Foundation                          <span class="hljs-number">0</span>x00796831 _NSGetUsingKeyValueGetter + <span class="hljs-number">116</span>
<span class="hljs-number">5</span>   Foundation                          <span class="hljs-number">0</span>x00795c99 -<span class="hljs-list">[<span class="hljs-keyword">NSObject</span><span class="hljs-list">(<span class="hljs-keyword">NSKeyValueCoding</span>)</span> valueForKey:] + <span class="hljs-number">280</span>
<span class="hljs-number">6</span>   wsiphone                            <span class="hljs-number">0</span>x0026458b -<span class="hljs-list">[<span class="hljs-keyword">AnalyticsModule</span> startupDataPayload] + <span class="hljs-number">587</span>
<span class="hljs-number">7</span>   wsiphone                            <span class="hljs-number">0</span>x00264b56 __26-<span class="hljs-list">[<span class="hljs-keyword">AnalyticsModule</span> startup]_block_invoke_0 + <span class="hljs-number">70</span>
<span class="hljs-number">8</span>   Foundation                          <span class="hljs-number">0</span>x007b863e -<span class="hljs-list">[<span class="hljs-keyword">NSBlockOperation</span> main] + <span class="hljs-number">135</span>
<span class="hljs-number">9</span>   Foundation                          <span class="hljs-number">0</span>x007b11e7 -<span class="hljs-list">[<span class="hljs-keyword">__NSOperationInternal</span> start] + <span class="hljs-number">745</span>
<span class="hljs-number">10</span>  Foundation                          <span class="hljs-number">0</span>x007b0eea -<span class="hljs-list">[<span class="hljs-keyword">NSOperation</span> start] + <span class="hljs-number">79</span>
<span class="hljs-number">11</span>  Foundation                          <span class="hljs-number">0</span>x008410ad __block_global_6 + <span class="hljs-number">147</span>
<span class="hljs-number">12</span>  libdispatch.dylib                   <span class="hljs-number">0</span>x032ba330 _dispatch_call_block_and_release + <span class="hljs-number">15</span>
<span class="hljs-number">13</span>  libdispatch.dylib                   <span class="hljs-number">0</span>x032bb439 _dispatch_worker_thread2 + <span class="hljs-number">302</span>
<span class="hljs-number">14</span>  libsystem_c.dylib                   <span class="hljs-number">0</span>x9c3c0b24 _pthread_wqthread + <span class="hljs-number">346</span>
<span class="hljs-number">15</span>  libsystem_c.dylib                   <span class="hljs-number">0</span>x9c3c26fe start_wqthread + <span class="hljs-number">30</span>
<span class="hljs-number">2012</span><span class="hljs-number">-08</span><span class="hljs-number">-10</span> <span class="hljs-number">15</span>:46:04.006 wsiphone<span class="hljs-list">[<span class="hljs-keyword">45054:19103</span>] *** Terminating app due to uncaught exception <span class="hljs-variable">'NSUnknownKeyException</span>', reason: '<span class="hljs-list">[<span class="hljs-keyword">&lt;__NSCFString</span> <span class="hljs-number">0</span>x9915650&gt; valueForUndefinedKey:]: this class is not key value coding-compliant for the key version.'
*** First throw call stack:
<span class="hljs-list">(<span class="hljs-keyword">0x2f75022</span> <span class="hljs-number">0</span>x2d95cd6 <span class="hljs-number">0</span>x2f74ee1 <span class="hljs-number">0</span>x827efe <span class="hljs-number">0</span>x796831 <span class="hljs-number">0</span>x795c99 <span class="hljs-number">0</span>x26458b <span class="hljs-number">0</span>x264b56 <span class="hljs-number">0</span>x7b863e <span class="hljs-number">0</span>x7b11e7 <span class="hljs-number">0</span>x7b0eea <span class="hljs-number">0</span>x8410ad <span class="hljs-number">0</span>x32ba330 <span class="hljs-number">0</span>x32bb439 <span class="hljs-number">0</span>x9c3c0b24 <span class="hljs-number">0</span>x9c3c26fe)</span>
terminate called throwing an exception
<span class="hljs-list">[<span class="hljs-keyword">INFO</span>] Application has exited from Simulator</span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span></span>
</code></pre><p>The only other things that I seem to have noticed is that if I remove the <code>Ti.App.Properties.setString(&amp;#39;saved_jobs_update&amp;#39;, 1);</code> bit, it seem to always launch. Alternatively, if I remove everything in the main function, turning it into <code>(function() { })();</code>, it seems to work too. Though considering the general randomness of the process, I can&#39;t really tell for sure. May be had I given it a dozen more compiles, it would have crashed too. </p>
<p>Please let me know how I can at least debug this further because I out of ideas.</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="August 10th 2012, 6:55:57 pm">August 10th 2012</span>
				by <span class='authorname'>Eugene Bondarenko</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>appcelerator</span></li>
					
						<li><span class='tagname'>bug</span></li>
					
						<li><span class='tagname'>build</span></li>
					
						<li><span class='tagname'>crash</span></li>
					
						<li><span class='tagname'>emulator</span></li>
					
				</ul>
			

			<section>
				<h5>8 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Thanks for prompt responses but the 1=&gt;&#39;1&#39; change doesn&#39;t work, it still randomly crashes. If I build using SDK 2.0.3, everything works fine though! So far it very much looks like a bug.</p>
</div>
							<div class="author">
								&mdash; commented <span title="August 10th 2012, 7:23:59 pm">August 10th 2012</span>
								by <span class='authorname'>Eugene Bondarenko</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Shouldn&#39;t you be using <code>Ti.App.Properties.setInt(&amp;#39;saved_jobs_update&amp;#39;, 1);</code> instead? Your still saving a number regardless of casting, thats why its throwing an NSException for valueForUndefinedKey</p>
</div>
							<div class="author">
								&mdash; commented <span title="August 10th 2012, 7:45:14 pm">August 10th 2012</span>
								by <span class='authorname'>Josiah Hester</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Well, &#39;1&#39; still fails and to be honest it looks more like a bug than a wrong function usage. E.g. what if the var I want to save, can accept a number of values such as &#39;1&#39;, &#39;1test&#39;, &#39;test&#39;.</p>
</div>
							<div class="author">
								&mdash; commented <span title="August 13th 2012, 4:04:40 pm">August 13th 2012</span>
								by <span class='authorname'>Eugene Bondarenko</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>I went ahead and tested it out on my box:</p>
<p>TItanium SDK 2.1.1.GA</p>
<p>TiStudio Version : 2.1.1.201207271312</p>
<p>OSX 10.7.4, with XCode version 4.3.1</p>
<p>And it works perfectly fine, is your XCode the right version?</p>
</div>
							<div class="author">
								&mdash; commented <span title="August 13th 2012, 4:32:23 pm">August 13th 2012</span>
								by <span class='authorname'>Josiah Hester</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>My XCode is Version 4.3.3 (4E3002). Is Titanium compatible only with some XCode versions?</p>
</div>
							<div class="author">
								&mdash; commented <span title="August 13th 2012, 5:44:19 pm">August 13th 2012</span>
								by <span class='authorname'>Eugene Bondarenko</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Generally It should be fine with all of them, but this is the only difference I see between us. Titanium does use XCode to build the project so different versions and therefore different versions of xcodebuild could affect it, but this is rare.</p>
<p>Looking at the exception, it says some stuff about the AnalyticsModule, have you tried disabling  analytics in your tiapp.xml?</p>
</div>
							<div class="author">
								&mdash; commented <span title="August 13th 2012, 6:14:56 pm">August 13th 2012</span>
								by <span class='authorname'>Josiah Hester</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Yup, that works! That&#39;s strange, I am pretty sure I tried disabling analytics because I had stumbled on some info regarding that before I posted the question but I guess I somehow missed that part or didn&#39;t do it right. In any case, disabling analytics works, thanks!</p>
</div>
							<div class="author">
								&mdash; commented <span title="August 14th 2012, 12:08:30 pm">August 14th 2012</span>
								by <span class='authorname'>Eugene Bondarenko</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Glad i could help!</p>
</div>
							<div class="author">
								&mdash; commented <span title="August 14th 2012, 12:45:05 pm">August 14th 2012</span>
								by <span class='authorname'>Josiah Hester</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-245008">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>Try changing this :</p>
<pre><code class="hljs">Ti.App.<span class="hljs-keyword">Properties</span>.setString(<span class="hljs-string">'saved_jobs_update'</span>, <span class="hljs-number">1</span>);
</code></pre><p>To this :</p>
<pre><code class="hljs">Ti.App.<span class="hljs-keyword">Properties</span>.setString(<span class="hljs-string">'saved_jobs_update'</span>, <span class="hljs-string">'1'</span>);
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 10th 2012, 7:16:17 pm">August 10th 2012</span>
								by <span class='authorname'>Josiah Hester</span><br>
								<a class="icon-bg icon-link" href="question/140866/random-crashes-when-compiling#answer-245008" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-245009">
				
						<section>
							<p>This could be way off, but try changing the properties line to this:</p>
<p><code>Ti.App.Properties.setString(&amp;#39;saved_jobs_update&amp;#39;, &amp;#39;1&amp;#39;);</code></p>
<p>It may have something to do with casting that number as a string.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 10th 2012, 7:20:40 pm">August 10th 2012</span>
								by <span class='authorname'>Anthony Decena</span><br>
								<a class="icon-bg icon-link" href="question/140866/random-crashes-when-compiling#answer-245009" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
