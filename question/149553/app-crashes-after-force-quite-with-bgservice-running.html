<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>App crashes after force quite with bgservice running » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>App crashes after force quite with bgservice running</h1>
		</header>
		<section>
			<p>Does anyone have any ideas why I keep getting the following errors from the following sequence of events:</p>
<p>1 - open and run app from scratch</p>
<p>2 - register bg service</p>
<p>3 - minimise app and kick off bg service</p>
<p>4 - kill the app by holding the home button</p>
<p>5 - reopen the app and get and error and the app crashes (this does not happen all the time): </p>
<p>&quot;Script Error = &#39;undefined&#39; is not an object (evaluating &#39;imageToUpdate[&#39;result_count&#39;]&#39;) at bgserv2.</p>
<p>and sometimes consoled this:</p>
<pre><code class="hljs">    <span class="hljs-variable">"console print from"</span> = <span class="hljs-variable">"sawdays_db @ line 276"</span>;
    message = <span class="hljs-variable">"{\"</span>message\<span class="hljs-variable">":\"</span>Attempt <span class="hljs-keyword">to</span> access already-closed result set.\<span class="hljs-variable">",\"</span>backtrace\<span class="hljs-variable">":\"</span><span class="hljs-string">#0</span> () at file://localhost/<span class="hljs-keyword">var</span>/mobile/Applications/C33D1456-<span class="hljs-number">8</span>F1C-<span class="hljs-number">4</span>CCF-<span class="hljs-number">925</span>C-<span class="hljs-number">9</span>E74B28A2344/sawdays_app.app/sawdays/bg_services/bgserv2.js:<span class="hljs-number">38</span>\\n<span class="hljs-string">#1</span> () at file://localhost/<span class="hljs-keyword">var</span>/mobile/Applications/C33D1456-<span class="hljs-number">8</span>F1C-<span class="hljs-number">4</span>CCF-<span class="hljs-number">925</span>C-<span class="hljs-number">9</span>E74B28A2344/sawdays_app.app/sawdays/sawdays_db.js:<span class="hljs-number">78</span>\\n<span class="hljs-string">#2</span> () at file://localhost/<span class="hljs-keyword">var</span>/mobile/Applications/C33D1456-<span class="hljs-number">8</span>F1C-<span class="hljs-number">4</span>CCF-<span class="hljs-number">925</span>C-<span class="hljs-number">9</span>E74B28A2344/sawdays_app.app/sawdays/sawdays_db.js:<span class="hljs-number">413</span>\\n<span class="hljs-string">#3</span> () at file://localhost/<span class="hljs-keyword">var</span>/mobile/Applications/C33D1456-<span class="hljs-number">8</span>F1C-<span class="hljs-number">4</span>CCF-<span class="hljs-number">925</span>C-<span class="hljs-number">9</span>E74B28A2344/sawdays_app.app/sawdays/sawdays_db.js:<span class="hljs-number">508</span>\\n<span class="hljs-string">#4</span> () at file://localhost/<span class="hljs-keyword">var</span>/mobile/Applications/C33D1456-<span class="hljs-number">8</span>F1C-<span class="hljs-number">4</span>CCF-<span class="hljs-number">925</span>C-<span class="hljs-number">9</span>E74B28A2344/sawdays_app.app/sawdays/sawdays_db.js:<span class="hljs-number">492</span>\\n<span class="hljs-string">#5</span> () at file://localhost/<span class="hljs-keyword">var</span>/mobile/Applications/C33D1456-<span class="hljs-number">8</span>F1C-<span class="hljs-number">4</span>CCF-<span class="hljs-number">925</span>C-<span class="hljs-number">9</span>E74B28A2344/sawdays_
</code></pre><p>6 - After the app crashes the app can be opened again.</p>
<p>My BG service loops through the apps db downloading images to the app.. My guess is when the app is force closed the bg service is not exited properly and when opened again some</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="March 14th 2013, 9:30:31 am">March 14th 2013</span>
				by <span class='authorname'>Joe Smith</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>bgservice</span></li>
					
						<li><span class='tagname'>crash</span></li>
					
				</ul>
			

			<section>
				<h5>1 Comment</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Is this a titanium bug?</p>
<p>Should titanium be wiping all bg services and startup to prevent such errors?</p>
<p>If the ti app is attempting to continue the bg service after the app has been forced closed thus all resources have been previously dropped this will always throw an error so should be killing previous bgservices before loading in such a case IMO</p>
</div>
							<div class="author">
								&mdash; commented <span title="March 14th 2013, 10:20:07 am">March 14th 2013</span>
								by <span class='authorname'>Joe Smith</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>0</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>0 Answers</h3>

	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
