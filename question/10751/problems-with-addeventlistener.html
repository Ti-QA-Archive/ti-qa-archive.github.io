<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Problems with addEventListener » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Problems with addEventListener</h1>
		</header>
		<section>
			<p>I know I must be over looking something stupid. I got the click event working in another file, but this one is killing me. Is there something I am doing wrong. The image shows up, but no events are fired off.</p>
<p>And lastly,… Is there a limit to the amount of vars that you can assign? I have about 200. But I took them out to test this string of code separately, and that still did not work. All graphics show in simulator but no events fired!</p>
<p>code:::</p>
<p>var fiverhImage = Titanium.UI.createView({</p>
<p>height:18,</p>
<p>width:145,</p>
<p>top:320,</p>
<p>left:153,</p>
<p>backgroundImage:&#39;..&#x2F;images&#x2F;conf&#x2F;5er-h.png&#39;</p>
<p>}); </p>
<p>window.add(fiverhImage);</p>
<p>fiverhImage.addEventListener(&#39;click&#39;, function()<br>{</p>
<p>&#x2F;&#x2F;</p>
<p>&#x2F;&#x2F;Ti.API.info(&#39;IN fiver&#39;)</p>
<p>alert(&quot;clicked fiver&quot;);</p>
<p>if(vessel == &quot;nil&quot;){</p>
<pre><code class="hljs"><span class="hljs-keyword">if</span>(fiverh == <span class="hljs-string">"nil"</span>){

    fiverh = <span class="hljs-string">"clicked"</span>;

    vessel = <span class="hljs-string">"fiverh"</span>;

}

<span class="hljs-keyword">else</span>{

    alert(<span class="hljs-string">"You already selected this vessel!"</span>);

    }
</code></pre><p>}</p>
<p>else{</p>
<pre><code class="hljs">alert<span class="hljs-comment">("It seems that you already picked a vessel!")</span>;

}
</code></pre><p>}); </p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="April 1st 2010, 7:20:53 pm">April 1st 2010</span>
				by <span class='authorname'>Jason Brock</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>addeventhandler</span></li>
					
						<li><span class='tagname'>iphone</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>13</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>13 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-24551">
				
						<section>
							<p>Is it possible that you have another view or something over the top of this one elsewhere in your code?  When I tried your code I was able to trigger the click event without any trouble.</p>
<p>Could try commenting out any other views you add to the window to help narrow it down, or try setting the <strong>zIndex</strong> for this view to <strong>100</strong> or something to make sure its at the top if there are multiple views stacking up.</p>
<p>Regarding a limit to the number of variables, 200 sounds like a lot but I&#39;m not aware of any limitations so theoretically it should work as far as I know.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="April 1st 2010, 8:01:02 pm">April 1st 2010</span>
								by <span class='authorname'>Dan Giulvezan</span><br>
								<a class="icon-bg icon-link" href="question/10751/problems-with-addeventlistener#answer-24551" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-24601">
				
						<section>
							<p>Still no go. This is the whole file. Everything else is commented out.</p>
<p>var window = Titanium.UI.createWindow({  </p>
<pre><code class="hljs"><span class="hljs-attribute">title</span>:<span class="hljs-string">'The Enigma Code'</span>,

<span class="hljs-attribute">backgroundImage</span>:<span class="hljs-string">'../images/bg.png'</span>
</code></pre><p>});</p>
<p>window.open({fullscreen:true});</p>
<p>var fiverhImage = Titanium.UI.createView({</p>
<pre><code class="hljs"><span class="hljs-attribute">height</span>:<span class="hljs-number">18</span>,

<span class="hljs-attribute">width</span>:<span class="hljs-number">145</span>,

<span class="hljs-attribute">top</span>:<span class="hljs-number">320</span>,

    <span class="hljs-attribute">left</span>:<span class="hljs-number">153</span>,

<span class="hljs-attribute">backgroundImage</span>:<span class="hljs-string">'../images/conf/5er-h.png'</span>
</code></pre><p>});</p>
<p>window.add(fiverhImage);</p>
<p>fiverhImage.addEventListener(&#39;touchmove&#39;, function()</p>
<p>{</p>
<pre><code class="hljs"><span class="hljs-tag">fiverhImage</span><span class="hljs-class">.animate</span>({<span class="hljs-tag">center</span>:{<span class="hljs-attribute">x</span>:e.x,<span class="hljs-attribute">y</span>:e.y}, <span class="hljs-attribute">duration</span>:<span class="hljs-number">1</span>});    
</code></pre><p>});</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="April 1st 2010, 8:46:03 pm">April 1st 2010</span>
								by <span class='authorname'>Jason Brock</span><br>
								<a class="icon-bg icon-link" href="question/10751/problems-with-addeventlistener#answer-24601" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-24611">
				
						<section>
							<p>Is it possible that I need to delete some build files? Clean it up?</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="April 1st 2010, 8:46:50 pm">April 1st 2010</span>
								by <span class='authorname'>Jason Brock</span><br>
								<a class="icon-bg icon-link" href="question/10751/problems-with-addeventlistener#answer-24611" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-24621">
				
						<section>
							<p>Generally you don&#39;t but if you&#39;re using mobile SDK 1.1.0 you&#39;ll want to because it had a few issues.</p>
<p>Heck, either way you might as well try it.</p>
<p>To clean your project, go to the Terminal and into <strong>[your_project]&#x2F;build&#x2F;iphone</strong> and run</p>
<pre><code class="hljs">xcodebuild clean -configuration <span class="hljs-keyword">Debug</span>
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="April 1st 2010, 8:58:14 pm">April 1st 2010</span>
								by <span class='authorname'>Dan Giulvezan</span><br>
								<a class="icon-bg icon-link" href="question/10751/problems-with-addeventlistener#answer-24621" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-24631">
				
						<section>
							<p>One more question: is this code going into your app.js or into it&#39;s own .js file?</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="April 1st 2010, 9:03:02 pm">April 1st 2010</span>
								by <span class='authorname'>Dan Giulvezan</span><br>
								<a class="icon-bg icon-link" href="question/10751/problems-with-addeventlistener#answer-24631" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-24651">
				
						<section>
							<p>It&#39;s own .js file.</p>
<p>I have the app.js going to this file from a tableview</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="April 1st 2010, 9:08:11 pm">April 1st 2010</span>
								by <span class='authorname'>Jason Brock</span><br>
								<a class="icon-bg icon-link" href="question/10751/problems-with-addeventlistener#answer-24651" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-24671">
				
						<section>
							<p>Okay, this should work:</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> <span class="hljs-keyword">win</span> = Ti.UI.currentWindow;
<span class="hljs-keyword">var</span> fiverhImage = Titanium.UI.createView({
    height:18,
    width:145,
    top:320,
    left:153,
    backgroundImage:'../images/<span class="hljs-keyword">conf</span>/5er-<span class="hljs-keyword">h</span>.png'
});
<span class="hljs-keyword">win</span>.add(fiverhImage);
fiverhImage.addEventListener('touchmove', function(<span class="hljs-keyword">e</span>) {
    fiverhImage.animate({center:{x:<span class="hljs-keyword">e</span>.x,y:<span class="hljs-keyword">e</span>.y}, duration:1});
});
</code></pre><p>I made a few changes:</p>
<ul>
<li>Took out the extra createWindow since you can just add the view to the currentWindow object</li>
<li>you were missing the <strong>e</strong> in <strong>function(e)</strong> so added that</li>
</ul>
<p>If you want to still set the backgroung image of that window, you can either do it from your app.js when you open that window, or from within this window you can do something like this:</p>
<pre><code class="hljs">win.backgroundImage = <span class="hljs-string">'../images/bg.png'</span>;
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="April 1st 2010, 9:21:25 pm">April 1st 2010</span>
								by <span class='authorname'>Dan Giulvezan</span><br>
								<a class="icon-bg icon-link" href="question/10751/problems-with-addeventlistener#answer-24671" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-24701">
				
						<section>
							<p>ok I will try this</p>
<p>thank you</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="April 1st 2010, 9:56:45 pm">April 1st 2010</span>
								by <span class='authorname'>Jason Brock</span><br>
								<a class="icon-bg icon-link" href="question/10751/problems-with-addeventlistener#answer-24701" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-24711">
				
						<section>
							<p>Ok, maybe it was the &quot;e&quot;, what do you think.</p>
<p>I thought I did not need the &quot;e&quot; if no input?</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="April 1st 2010, 9:58:27 pm">April 1st 2010</span>
								by <span class='authorname'>Jason Brock</span><br>
								<a class="icon-bg icon-link" href="question/10751/problems-with-addeventlistener#answer-24711" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-24761">
				
						<section>
							<p>Thank you very much</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="April 2nd 2010, 12:37:35 am">April 2nd 2010</span>
								by <span class='authorname'>Jason Brock</span><br>
								<a class="icon-bg icon-link" href="question/10751/problems-with-addeventlistener#answer-24761" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-24811">
				
						<section>
							<p>In this case you actually do need the e because you&#39;re using the response from that function to get the x and y coordinates of the image with <strong>e.x,y:e.y</strong>.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="April 2nd 2010, 2:38:37 am">April 2nd 2010</span>
								by <span class='authorname'>Dan Giulvezan</span><br>
								<a class="icon-bg icon-link" href="question/10751/problems-with-addeventlistener#answer-24811" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-25111">
				
						<section>
							<p>fiverhImage.addEventListener(&#39;touchmove&#39;, function()</p>
<p>{</p>
<p>fiverhImage.animate({center:{x:e.x,y:e.y}, duration:1});    </p>
<p>});</p>
<p>Maybe the e in function(e)</p>
<p>Why not test with click first as in </p>
<p>fiverhImage.addEventListener(&#39;click&#39;, function()</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="April 2nd 2010, 1:33:25 pm">April 2nd 2010</span>
								by <span class='authorname'>Peter Lum</span><br>
								<a class="icon-bg icon-link" href="question/10751/problems-with-addeventlistener#answer-25111" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-25391">
				
						<section>
							<p>Yes I noticed it did not have to do with the e. It was using current window that worked. My problem is that I see now the first window along with the second window in one. I just wanted to switch windows like you would a form. </p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="April 2nd 2010, 4:24:30 pm">April 2nd 2010</span>
								by <span class='authorname'>Jason Brock</span><br>
								<a class="icon-bg icon-link" href="question/10751/problems-with-addeventlistener#answer-25391" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
