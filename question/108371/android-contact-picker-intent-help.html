<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Android Contact Picker Intent Help » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Android Contact Picker Intent Help</h1>
		</header>
		<section>
			<p>Hi, I&#39;m trying to use Android intents to get a contact picker started so I can get back a phone number.</p>
<p>I can&#39;t figure out how to actually get a result back, let alone know what I&#39;m looking for in the result. Is there a correct way to get a result and to iterate over the extra data?</p>
<p>This is my current code:</p>
<pre><code class="hljs"><span class="hljs-variable"><span class="hljs-keyword">var</span> intent</span> = Ti.Android.createIntent({
    action: Ti.Android.ACTION_PICK,
    data: <span class="hljs-string">"content://com.android.contacts/contacts"</span>
});

<span class="hljs-variable"><span class="hljs-keyword">var</span> activity</span> = Ti.Android.currentActivity;

<span class="hljs-comment">// start an activity with our intent</span>
activity.startActivityForResult(intent, function(e) {
    <span class="hljs-comment">// The request code used to start this Activity</span>
    <span class="hljs-variable"><span class="hljs-keyword">var</span> requestCode</span> = e.requestCode;
    <span class="hljs-comment">// The result code returned from the Activity (http://developer.android.com/reference/android/app/Activity.html#StartingActivities)</span>
    <span class="hljs-variable"><span class="hljs-keyword">var</span> resultCode</span> = e.resultCode;
    <span class="hljs-comment">// A Titanium.Android.Intent filled with data returned from the Activity</span>
    <span class="hljs-variable"><span class="hljs-keyword">var</span> intent</span> = e.intent;
    <span class="hljs-comment">// The Activity the received the result</span>
    <span class="hljs-variable"><span class="hljs-keyword">var</span> source</span> = e.source;

    Ti.API.info(<span class="hljs-string">"resultCode: "</span> + resultCode);
});
</code></pre><p>Currently, the line outputting the resultCode is never executed.</p>
<p>Any help is appreciated!</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="February 3rd 2011, 1:16:10 pm">February 3rd 2011</span>
				by <span class='authorname'>Stephen Johnson</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>activity</span></li>
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>contact</span></li>
					
						<li><span class='tagname'>intent</span></li>
					
						<li><span class='tagname'>picker</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-191541">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>If all you want is to get a phone number for a contact, why not use titanium&#39;s <a href="http:&#x2F;&#x2F;developer.appcelerator.com&#x2F;apidoc&#x2F;mobile&#x2F;latest&#x2F;Titanium.Contacts-module">Contacts</a> module support?  The docs claim it is read only for Android, but that should be all you need to pick a number.  Sample kitchen sink code for a contacts picker is <a href="https:&#x2F;&#x2F;github.com&#x2F;appcelerator&#x2F;KitchenSink&#x2F;blob&#x2F;master&#x2F;KitchenSink&#x2F;Resources&#x2F;examples&#x2F;contacts_picker.js">here</a>.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="February 3rd 2011, 1:21:26 pm">February 3rd 2011</span>
								by <span class='authorname'>Doug Handy</span><br>
								<a class="icon-bg icon-link" href="question/108371/android-contact-picker-intent-help#answer-191541" rel="permalink">permalink</a>
							</div>

							<h5>2 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Thanks, I had tried using the Conacts API before but it wasn&#39;t working so I gave up assuming it had limited support for Android. I tried again after your post and found that it dies if I have it in certain files (haven&#39;t been able to find out why). I now put it in its own heavyweight window and pass a callback function into that window. It&#39;s a hack… but that&#39;s what Titanium &amp; Android seems to be all about :-&#x2F;</p>
<p>Thanks!</p>
</p>
										<div class="author">
											&mdash; commented <span title="February 4th 2011, 2:35:25 am">February 4th 2011</span>
											by <span class='authorname'>Stephen Johnson</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>If you consider this resolved, please consider marking an answer as best.  It helps rank future searches as those resolved float to the top.  And people generally prefer to read threads which had a resolution first…</p>
</p>
										<div class="author">
											&mdash; commented <span title="February 4th 2011, 2:44:00 am">February 4th 2011</span>
											by <span class='authorname'>Doug Handy</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
