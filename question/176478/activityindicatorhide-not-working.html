<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>ActivityIndicator.hide() not working » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>ActivityIndicator.hide() not working</h1>
		</header>
		<section>
			<p>Hi guys,</p>
<p>I have a trouble trying to hide an activityIndicator created from Ti.UI.createActivityIndicator.</p>
<p>Basically, when the screen is open, an activity indicator will be created as activityIndicator and added to the screen. So when my data is loaded, it will hide it. However, is it not hiding. </p>
<p>Thanks in advance.</p>
<p>Snippet of my codes:</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> activityIndicator = Ti.UI.createActivityIndicator({
        color : <span class="hljs-string">'green'</span>,
        font : {
            fontFamily : <span class="hljs-string">'Helvetica Neue'</span>,
            fontSize : <span class="hljs-number">26</span>,
            fontWeight : <span class="hljs-string">'bold'</span>
        },
        message : <span class="hljs-string">'Loading...'</span>,
        height : Ti.UI.SIZE,
        width : Ti.UI.SIZE
    });
    self.add(activityIndicator);
    activityIndicator.show();



<span class="hljs-keyword">var</span> xhr = Ti.Network.createHTTPClient({
        onload : <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
            <span class="hljs-comment">// this function is called when data is returned from the server and available for use</span>
            <span class="hljs-comment">// this.responseText holds the raw text return of the message (used for text/JSON)</span>
            <span class="hljs-comment">// this.responseXML holds any returned XML (including SOAP)</span>
            <span class="hljs-comment">// this.responseData holds any returned binary data</span>
            Ti.API.info(<span class="hljs-keyword">this</span>.responseText);
            <span class="hljs-keyword">var</span> jsonObject = <span class="hljs-built_in">JSON</span>.parse(<span class="hljs-keyword">this</span>.responseText);
            <span class="hljs-keyword">if</span> (jsonObject.status == <span class="hljs-string">"SUCCESS"</span>) {
                Ti.API.info(<span class="hljs-string">'fuck'</span>);
                Ti.API.info(activityIndicator);
                activityIndicator.hide();
                    }
        onerror: <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)</span>{
            <span class="hljs-comment">//mycodes here</span>
        }
});
</code></pre>
		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="July 25th 2014, 4:14:17 am">July 25th 2014</span>
				by <span class='authorname'>Tobias Lim</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>.hide()</span></li>
					
						<li><span class='tagname'>activityindicator</span></li>
					
						<li><span class='tagname'>android</span></li>
					
				</ul>
			

			<section>
				<h5>1 Comment</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Sorry about the vulgar there, was too frustrated and was trying to sanity checking at the same time.</p>
</div>
							<div class="author">
								&mdash; commented <span title="July 25th 2014, 4:16:56 am">July 25th 2014</span>
								by <span class='authorname'>Tobias Lim</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-281117">
				
						<section>
							<p>Well, looking at your code, the following must occur:</p>
<ul>
<li>the network connection must have been successful, calling the onload function</li>
<li>the system must have been able to parse this.responseText</li>
<li>jsonObject.status must be equally equivalent to &#39;SUCCESS&#39;</li>
</ul>
<p>should any of those not occur, then your activityIndicator would not hide.</p>
<p>Having checked your question multiple times, I don&#39;t see where you have indicated to us any progress through those particular steps&#x2F;gates.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="July 25th 2014, 4:19:11 am">July 25th 2014</span>
								by <span class='authorname'>Stephen Feather</span><br>
								<a class="icon-bg icon-link" href="question/176478/activityindicatorhide-not-working#answer-281117" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Hi Stephen,</p>
<p>Thanks for replying asap. Everything was able to load successfully.<br>The network connection is successful.<br>Parsing of this.responseText is successful.<br>Checking of json.status returns true.</p>
<p>Basically, it is able to show me the output of Ti.API.info(&#39;fuck&#39;) and Ti.API.info(activityIndicator).<br>However, the activityIndicator.hide() is not hiding away activityIndicator.</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 25th 2014, 4:26:41 am">July 25th 2014</span>
											by <span class='authorname'>Tobias Lim</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-281591">
				
						<section>
							<p>I had the same and found that this might be a bug in Titaniums async handling: when the data for the request is cached (or something like this), the onLoad handler is called right after you do xhr.send(…). </p>
<p>In this case, the native code has not had time to add the activityIndicator to your view, so the hide() call in the callback will fail.</p>
<p>I found that I can work around this possible bug by ensuring xhr.send is done asynchronously:</p>
<p><code>setTimeout(function() {xhr.send();},0);</code></p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 11th 2014, 1:43:58 pm">August 11th 2014</span>
								by <span class='authorname'>Jelmer Jellema</span><br>
								<a class="icon-bg icon-link" href="question/176478/activityindicatorhide-not-working#answer-281591" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
