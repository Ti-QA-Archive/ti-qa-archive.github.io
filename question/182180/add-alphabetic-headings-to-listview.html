<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Add alphabetic headings to listview Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Add alphabetic headings to listview</h1>
		</header>
		<section>
			<p>In the past i have added alphabetic headings to tableviews with the below code:</p>
<pre><code class="hljs">    var titleData = listdata[i].title;

    <span class="hljs-keyword">if</span> (titleData.charAt(<span class="hljs-number">0</span>) !== lastChar) {
        lastChar = titleData.charAt(<span class="hljs-number">0</span>);
        detailRowList.header = titleData.charAt(<span class="hljs-number">0</span>);
        indexedArray.push({
            index: i,
            title: lastChar
        });
    }
</code></pre><p>Now i have migrated the tableview into a listview, and would like to add the same alphabetic headings again, but i just can&#39;t get it working.</p>
<p>This is the code i&#39;m using:</p>
<pre><code class="hljs"><span class="hljs-comment">// Create listsection to be populated and added to listview later</span>
<span class="hljs-keyword">var</span> tblTreesSection = Ti.UI.createListSection();

<span class="hljs-comment">//define rowData as empty array</span>
<span class="hljs-keyword">var</span> rowData = [];
<span class="hljs-keyword">var</span> lastChar = <span class="hljs-string">""</span>;

<span class="hljs-comment">// Loop through listdata</span>
<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; listdata.length; i++){
    rowData.push({
     <span class="hljs-comment">// Maps data to the template</span>
        englTitle : {text: listdata[i].title},
        latinTitle : {text: listdata[i].scientific},
     <span class="hljs-comment">// Sets the general list data properties</span>
            properties : {
               itemId: listdata[i].id,
                accessoryType: Ti.UI.LIST_ACCESSORY_TYPE_NONE,
               height: <span class="hljs-number">80</span>,
                searchableText: listdata[i]
        }
    });
    <span class="hljs-comment">// Create Alphabetic headers</span>
    <span class="hljs-keyword">var</span> titleData = listdata[i].title;
    <span class="hljs-keyword">if</span> (titleData.charAt(<span class="hljs-number">0</span>) !== lastChar) {
        lastChar = titleData.charAt(<span class="hljs-number">0</span>);
        rowData.headerTitle = titleData.charAt(<span class="hljs-number">0</span>);
   }
}

listViewSection.setItems(rowData);
listView.sections = [listViewSection];
</code></pre><p>With this code i only get one listsection for the whole table, which obviously doesn&#39;t work. Is there a way to get the &#39;Create alphabetic headers&#39; script working, or do i have to drop this idea all together and try a different approach? I&#39;d be grateful for any hint into the right direction.</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="April 27th 2015, 6:30:24 pm">April 27th 2015</span>
				by <span class='authorname'>Stefan E</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>headertitle</span></li>
					
						<li><span class='tagname'>ios</span></li>
					
						<li><span class='tagname'>listsection</span></li>
					
						<li><span class='tagname'>listview</span></li>
					
						<li><span class='tagname'>mobile</span></li>
					
				</ul>
			

			<section>
				<h5>2 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Is there a recommended approach for this feature? Would i first loop through the items and find all first letters present, then create the sections with their first letter headings, and finally attach the ListItems to them? And if yes, how would i best do this? I&#39;d be grateful for any help.</p>
</div>
							<div class="author">
								&mdash; commented <span title="April 30th 2015, 4:38:35 am">April 30th 2015</span>
								by <span class='authorname'>Stefan E</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>nobody?</p>
</div>
							<div class="author">
								&mdash; commented <span title="May 3rd 2015, 6:06:17 pm">May 3rd 2015</span>
								by <span class='authorname'>Stefan E</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>0</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>0 Answers</h3>

	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
