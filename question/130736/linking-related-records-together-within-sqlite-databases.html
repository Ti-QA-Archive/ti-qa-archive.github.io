<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Linking related records together within SQlite databases? » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Linking related records together within SQlite databases?</h1>
		</header>
		<section>
			<p>I am trying to create a simple mobile glossary&#x2F;dictionary app.  Ideally, I would like to implement a local SQLite database rather than manually coding in every record to a TableViewRow. I have a database called <strong>&#39;glossary.sqlite&#39;</strong>. Within this database, I have a table called <strong>&#39;glossary&#39;</strong>. These are the table headers within that table:</p>
<ul>
<li><strong>id</strong> (which is just a unique id number for that record)</li>
<li><strong>category</strong> (which is a single letter…ie. &#39;a&#39;, &#39;b&#39;, &#39;c&#39;, etc… <em>would allow the various data to be alphabetized if need be</em>)</li>
<li><strong>term</strong> (the dictionary term)</li>
<li><strong>definition</strong> (the term&#39;s definition)</li>
</ul>
<p>I found a tutorial online at <a href="http:&#x2F;&#x2F;mobile.tutsplus.com&#x2F;tutorials&#x2F;appcelerator&#x2F;titanium-mobile-database-driven-tables-with-sqlite&#x2F;">MobileTuts</a> that will walk me through the process of getting my table data to display in my mobile app.</p>
<p>One question I have, however, is how would I go about linking to another table entry&#x2F;record from within a different record?  For example, if I have a term <em>&quot;feline&quot;</em> and its definition is <em>&quot;belonging or pertaining to the cat family&quot;</em>, how would I link the word <em>&quot;cat&quot;</em> and point it to another record with term <em>&quot;cat&quot;</em> and its definition?  Is some SQL query needed?  Are there any tutorials&#x2F;discussion boards out there that you could point me to?  Any help and suggestions are much appreciated!  Thanks guys!</p>
<p>-Kyle</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="January 16th 2012, 1:24:19 pm">January 16th 2012</span>
				by <span class='authorname'>Kyle Affolder</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>database</span></li>
					
						<li><span class='tagname'>iphone</span></li>
					
						<li><span class='tagname'>mobile</span></li>
					
						<li><span class='tagname'>query</span></li>
					
						<li><span class='tagname'>sqlite</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-227625">
				
						<section>
							<p>You probably need resources on &quot;Relational Database Theory&quot;. Without delving into details, data rows with in your table can be related to rows in other tables or same tables (Primary &amp; Foreign keys). Database design can be simple or complex depending on its intended use.</p>
<p>This allows queries to be constructed to retrieve these &#39;related rows&#39;, and used as required in your application.</p>
<p>If i find any online resources, i will point you to those…</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="January 16th 2012, 1:42:46 pm">January 16th 2012</span>
								by <span class='authorname'>Ayorinde Adesugba</span><br>
								<a class="icon-bg icon-link" href="../../question/130736/linking-related-records-together-within-sqlite-databases.html#answer-227625" rel="permalink">permalink</a>
							</div>

							<h5>4 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Please look at <a href="http:&#x2F;&#x2F;bit.ly&#x2F;xUTQEb">this</a>. Its a 3-part series on NetTuts</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 16th 2012, 1:47:30 pm">January 16th 2012</span>
											by <span class='authorname'>Ayorinde Adesugba</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p><em>Ayorinde</em>, would you please consider providing some sample code?  It would really help a student out!  Thanks for your suggestions and wonderful insight, but it would be so helpful to see something in context.</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 16th 2012, 6:35:25 pm">January 16th 2012</span>
											by <span class='authorname'>Kyle Affolder</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Let&#39;s imagine that you have stored the information in your database as you described above and i illustrate with a single row&#x2F;record below:</p>
<pre><code class="hljs"><span class="hljs-attribute">ID</span>: <span class="hljs-string">1 &lt;some unique id&gt;</span>
<span class="hljs-attribute">CATEGORY</span>: <span class="hljs-string">&lt;some categorization&gt;</span>
<span class="hljs-attribute">TERM</span>: <span class="hljs-string">'feline'</span>
<span class="hljs-attribute">DEFINITION</span>: <span class="hljs-string">'belonging or pertaining to the cat family'</span>
</code></pre><p>You would need to search the DEFINITION keywords against the TERM column in the same table. There is no easy way of isolating the &#39;CAT&#39; keyword as the target of your search unless you explicitly design the database to store certain keywords for each DEFINITION.  </p>
<p>Looking at this Q&amp;A page, a typical question is assigned keywords&#x2F;tags by its author. It is therefore easy to search for questions which should have a similar subject&#x2F;content matter using these keywords&#x2F;tags.  </p>
<p>If you decided to categorize each definition yourself, one possible solution would be to have a seperate CATEGORY table with the following columns:</p>
<pre><code class="hljs">ID - unique ID <span class="hljs-keyword">for</span> <span class="hljs-keyword">that</span> <span class="hljs-type">record</span>
NAME - <span class="hljs-property">name</span> <span class="hljs-keyword">of</span> category
</code></pre><p>This will be related to the GLOSSARY table. In RDBMS, these can be different forms: 1-to-1, 1-to-Many, Many-to-Many. The general idea is that the database designer determines how these two tables are related based on the data.  </p>
<p>For our example, we may choose that each GLOSSARY record can be related to MANY CATEGORY rows (note this can be optional, and would therefore be 1-to-ZERO&#x2F;MANY).  </p>
<p>Conversely the CATEGORY are intended for all types of definitions, and therefore can be related to MANY GLOSSARY records. This is what we describe as a MANY-TO-MANY relationship. This usually requires a third table (GLOSSARY_CATEGORY in our example), where we store the unique identifiers (Primary Keys) from the 2 related tables whenever there is a relationship:</p>
<pre><code class="hljs">GLOSSARY_CATEGORY
CATEGORY_ID - unique <span class="hljs-property">id</span> <span class="hljs-keyword">from</span> category table
GLOSSARY_ID - unique <span class="hljs-property">id</span> <span class="hljs-keyword">from</span> glossary table
</code></pre><p>This will probably require the removal of the CATEGORY column from the GLOSSARY table (note if it is determined that each GLOSSARY can have zero or only one category, then it is ideal to leave the CATEGORY column, and discard the CATEGORY table).   </p>
<p>A sample row in the CATEGORY table will be:</p>
<pre><code class="hljs"><span class="hljs-attribute">ID</span>: <span class="hljs-string">1</span>
<span class="hljs-attribute">NAME</span>: <span class="hljs-string">'CAT'</span>
</code></pre><p>A sample row in the GLOSSARY_CATEGORY table will be:</p>
<pre><code class="hljs">CATEGORY_ID - <span class="hljs-number">1</span>
GLOSSARY_ID - <span class="hljs-number">1</span>
</code></pre><p>From the frontend application, the workflow will typically be:  </p>
<ul>
<li>Query GLOSSARY table for all records&#x2F;subset, and show in a tableView  </li>
<li>When a row is clicked:  <ol>
<li>Find out what its ID is.  </li>
<li>Query the GLOSSARY_CATEGORY for matching rows with that ID<pre><code class="hljs"><span class="hljs-operator"><span class="hljs-keyword">SELECT</span> category_id <span class="hljs-keyword">FROM</span> glossary_category <span class="hljs-keyword">WHERE</span> glossary_id = &lt;<span class="hljs-keyword">id</span>&gt;;</span>
</code></pre></li>
<li>Query the GLOSSARY_CATEGORY for matching rows with those category_id&#39;s<pre><code class="hljs"><span class="hljs-operator"><span class="hljs-keyword">SELECT</span> glossary_id <span class="hljs-keyword">FROM</span> glossary_category <span class="hljs-keyword">WHERE</span> category_id <span class="hljs-keyword">IN</span> &lt;<span class="hljs-keyword">list</span> <span class="hljs-keyword">of</span> <span class="hljs-keyword">category</span> ids <span class="hljs-keyword">excluding</span> original <span class="hljs-keyword">category</span>&gt;</span>
</code></pre></li>
<li>Show the returned glossary_id rows in the tableView  </li>
</ol>
</li>
</ul>
<p>Step 2 &amp; 3 can be combined in a single query.  </p>
<p>SQL and database design can be simple or complex depending on the data and requirements of the application. I hope this helps a bit…</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 16th 2012, 7:34:12 pm">January 16th 2012</span>
											by <span class='authorname'>Ayorinde Adesugba</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Thank you, thank you, THANK YOU <em>Ayorinde</em>!  That was very helpful.  I like the idea of having a separate category table, and then relating certain records in the glossary table with records in the category table.  However, this would not allow the ability to directly link words within records.  It seems like there needs to be some type of tag or snippet of code that I could wrap a word in, in the glossary table so that when the glossary table is queried, that tag &amp; surrounded word would be converted into a link that points to another record within the glossary table.  Each link could query the specific unique id of a related record.</p>
<p>So again, in the example of the &quot;feline&quot; &amp; &quot;cat&quot; records…</p>
<p>Record #1:</p>
<ul>
<li>Unique id: <em>&#39;1&#39;</em></li>
<li>Category: <em>&#39;f&#39;</em></li>
<li>Term: <em>&#39;feline&#39;</em></li>
<li>Definition: <em>&#39;belonging or pertaining to the <a href="#">cat</a> family&#39;</em></li>
</ul>
<p>Record #2:</p>
<ul>
<li>Unique id: <em>&#39;2&#39;</em></li>
<li>Category: <em>&#39;c&#39;</em></li>
<li>Term: <em>&#39;cat&#39;</em></li>
<li>Definition: <em>&#39;a small domesticated carnivore, bred in a number of varieties&#39;</em></li>
</ul>
<p>The word <em>&#39;cat&#39;</em> is linked.  Once clicked, it will query unique id: 1, which will then display the <em>&#39;cat&#39;</em> record.  What I&#39;m struggling with is how do I create that tag and have it generated into a link when the initial record is queried?</p>
<p>While it&#39;s probably unsafe to go with a JSON option over SQL, I did come across this module: <a href="https:&#x2F;&#x2F;marketplace.appcelerator.com&#x2F;apps&#x2F;1089">JSONDB</a> Please see comments 5 &amp; 6 <a href="http:&#x2F;&#x2F;developer.appcelerator.com&#x2F;blog&#x2F;2012&#x2F;01&#x2F;jsondb-nosql-db-for-your-mobile-apps.html#comment-83674">here.</a></p>
<p>It seems like the guy in who posted in comments 5 &amp; 6 are trying to do the same thing I would like to do in SQlite.  It looks like Dan already has an example of what could would need to be written for each record.  It appears that he wraps words in a tag like &quot;{$id:–, term:–}&quot; or something which points to the related record.  </p>
<p>Is it possible to do this in SQlite within Titanium?  I feel like it shouldn&#39;t be that challenging to pull off, but what&#39;s confusing me is how do I link individual terms within the record definitions to query the database and point to it&#39;s same term.  How do I make the word <em>&quot;cat&quot;</em> in the feline<br>record&#39;s definition point to the <em>&quot;cat&quot;</em> record?</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 18th 2012, 7:43:21 pm">January 18th 2012</span>
											by <span class='authorname'>Kyle Affolder</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
