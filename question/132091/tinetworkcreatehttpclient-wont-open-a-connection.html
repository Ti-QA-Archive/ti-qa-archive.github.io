<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Ti.Network.createHTTPClient() won&#39;t open a connection Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Ti.Network.createHTTPClient() won&#39;t open a connection</h1>
		</header>
		<section>
			<p>Hi all. I have an app that uses Ti.Network.createHTTPClient() to open a connection with a web server and retrieve some data. I had the connection working properly in 1.7.5, but when I loaded 1.8.1 (and went from a macbook to a mac mini), the connection stopped functioning. The Mac mini has Lion loaded which is different than the macbook. Any help would be greatly appreciated.</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="February 13th 2012, 8:55:48 pm">February 13th 2012</span>
				by <span class='authorname'>Paul McDonald</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>httpclient</span></li>
					
				</ul>
			

			<section>
				<h5>1 Comment</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Could you post some code&#x2F;console log? Development for Android or iOS?</p>
</div>
							<div class="author">
								&mdash; commented <span title="February 13th 2012, 9:21:33 pm">February 13th 2012</span>
								by <span class='authorname'>Minh Nguyen</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>3</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>3 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-230280">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>Paul,</p>
<p>  Can you define &#39;not working&#39;? Do you have access to the server? Can you see if the connection went through? In 1.7.5, synchronous connections worked, but 1.8.* they no longer, so your connection may very well be going through but your method may simply be ending before the connection finishes since it&#39;s async.</p>
<p>Can you post more code? And please use code tags (~~~) when posting it so it formats it in a readable way.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="February 14th 2012, 1:37:59 pm">February 14th 2012</span>
								by <span class='authorname'>Cord Awtry</span><br>
								<a class="icon-bg icon-link" href="question/132091/tinetworkcreatehttpclient-wont-open-a-connection.html#answer-230280" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>You were correct. I changed the onLoad method and everything worked fine (the parser didn&#39;t like the response but it never threw an error, strange). Anyways, thank you for the help.</p>
</p>
										<div class="author">
											&mdash; commented <span title="February 14th 2012, 2:24:36 pm">February 14th 2012</span>
											by <span class='authorname'>Paul McDonald</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-230215">
				
						<section>
							<p>Sorry, this is for iOS. Below is a code snippet. As I stated before, this worked in 1.7.5.</p>
<p>function getRemoteListData()<br>{<br>    if (Ti.Network.online)<br>    {<br>        try<br>        {<br>            conn2.open(&quot;GET&quot;, Ti.App.XML_LIST_URL + &quot;?id=&quot; + Ti.App.UDID + &quot;&amp;type=location&quot;);<br>            conn2.send();<br>        }<br>        catch( E )<br>        {<br>            Ti.API.error(E);<br>            getAlert(&quot;Error reloading data\n&quot; + E.message, &quot;Reload Error&quot;).show();<br>        }<br>    }<br>    else<br>    {<br>        getAlert(&quot;No network connection available&quot;, &quot;Connection Error&quot;).show();<br>    }<br>}</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="February 13th 2012, 9:26:50 pm">February 13th 2012</span>
								by <span class='authorname'>Paul McDonald</span><br>
								<a class="icon-bg icon-link" href="question/132091/tinetworkcreatehttpclient-wont-open-a-connection.html#answer-230215" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-230220">
				
						<section>
							<p>try&#x2F;catch wont work here. You need to define onload() and onerror() to catch appropriate result.</p>
<pre><code class="hljs">conn2.onload = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    Ti.API.info( <span class="hljs-built_in">JSON</span>.stringify(<span class="hljs-keyword">this</span>) );
}

conn2.onerror = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>) </span>{
    Ti.API.info( <span class="hljs-built_in">JSON</span>.stringify(e) );
}
</code></pre><p>You can find guide <a href="http:&#x2F;&#x2F;developer.appcelerator.com&#x2F;apidoc&#x2F;mobile&#x2F;latest&#x2F;Titanium.Network.HTTPClient-object.html">here</a>.</p>
<p>Hope this can give you some hints,</p>
<p>Minh</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="February 13th 2012, 10:16:06 pm">February 13th 2012</span>
								by <span class='authorname'>Minh Nguyen</span><br>
								<a class="icon-bg icon-link" href="question/132091/tinetworkcreatehttpclient-wont-open-a-connection.html#answer-230220" rel="permalink">permalink</a>
							</div>

							<h5>3 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Thank you. You helped me change my focus to the onload function and I found the issue there. I appreciate the response.</p>
</p>
										<div class="author">
											&mdash; commented <span title="February 14th 2012, 2:25:55 pm">February 14th 2012</span>
											by <span class='authorname'>Paul McDonald</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Was your issue resolved? If yes, dont hesitate to select one of above answers as Best Answer. It&#39;ll be helpful for other guys experience the same issue to found it out :)</p>
</p>
										<div class="author">
											&mdash; commented <span title="February 14th 2012, 8:25:52 pm">February 14th 2012</span>
											by <span class='authorname'>Minh Nguyen</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I selected the above answer as the best because it forced me to look more closely at the onload function. The connection was going through, but the onload function (which has a parser working on the returned xml) was not working (the parser was stuck when I cast the parent node as an object). Since the xml was only 1 node deep (and would always be a single node), I parsed directly against the entire document and it started working. I am not sure it had anything to do with the nature of the connection, but looking more closely at the onload function (and adding the text of the return which Minh Nguyen pointed me to with the link to the guide) helped me resolve this issue. Thank you both.</p>
</p>
										<div class="author">
											&mdash; commented <span title="February 15th 2012, 11:47:39 am">February 15th 2012</span>
											by <span class='authorname'>Paul McDonald</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>-2</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
