<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>BackgroundSelected Image during selected button state Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>BackgroundSelected Image during selected button state</h1>
		</header>
		<section>
			<p>I was able to create buttons that change image when they are selected, but not in the way I&#39;m hoping they would. Right now when one button is selected, the background images changes, but if a second button is clicked, the first button does not return back to its original background image state. What I would like to happen is have a buttons background image to change when it is selected, but if another button is selected, the first button returns back to the unselected background image and the second button background image turns into its selected background image state.</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> goingOutNo = Ti.UI.createButton({
    backgroundImage:<span class="hljs-string">'/images/noimg.png'</span>,
    width:<span class="hljs-number">60</span>,
    height:<span class="hljs-number">30</span>,
    left:<span class="hljs-number">0</span>,
    backgroundColor:<span class="hljs-string">'#000'</span>,
    NoSelected:<span class="hljs-literal">false</span>
});

goingOutView.add(goingOutNo);

goingOutNo.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span>
</span>{
    <span class="hljs-keyword">if</span> (goingOutNo.NoSelected == <span class="hljs-literal">false</span>)
    {
        goingOutNo.NoSelected = <span class="hljs-literal">true</span>;
        goingOutNo.backgroundImage = <span class="hljs-string">'noimgdar.png'</span>;
    }
    <span class="hljs-keyword">else</span>
    {
        goingOutNo.NoSelected = <span class="hljs-literal">false</span>;
        goingOutNo.backgroundImage = <span class="hljs-string">'noimg.png'</span>;
 }

<span class="hljs-keyword">var</span> goingOutMaybe = Ti.UI.createButton({
    backgroundImage: <span class="hljs-string">'/images/maybe.png'</span>,
    width:<span class="hljs-number">60</span>,
    height:<span class="hljs-number">30</span>,
    left:<span class="hljs-number">60</span>,
    backgroundColor:<span class="hljs-string">'#000'</span>,
    maybeSelected:<span class="hljs-literal">false</span>
});

goingOutView.add(goingOutMaybe);

goingOutMaybe.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span>
</span>{
    <span class="hljs-keyword">if</span> (goingOutMaybe.NoSelected == <span class="hljs-literal">false</span>)
    {
        goingOutMaybe.NoSelected = <span class="hljs-literal">true</span>;
        goingOutMaybe.backgroundImage = <span class="hljs-string">'maybeimg.png'</span>;
    }
    <span class="hljs-keyword">else</span>
    {
        goingOutMaybe.NoSelected = <span class="hljs-literal">false</span>;
        goingOutMaybe.backgroundImage = <span class="hljs-string">'maybe.png'</span>;
 }


<span class="hljs-keyword">var</span> goingOutYes = Ti.UI.createButton({
    backgroundImage: <span class="hljs-string">'/images/yesimg.png'</span>,
    width:<span class="hljs-number">60</span>,
    height:<span class="hljs-number">30</span>,
    left:<span class="hljs-number">120</span>,
    backgroundColor:<span class="hljs-string">'#000'</span>,
    yesSeleceted:<span class="hljs-literal">false</span>
});

goingOutView.add(goingOutYes);

goingOutYes.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">()</span>
</span>{
    <span class="hljs-keyword">if</span> (goingOutYes.yesSelected == <span class="hljs-literal">false</span>)
    {
        goingOutYes.yesSelected = <span class="hljs-literal">true</span>;
        goingOutYes.backgroundImage = <span class="hljs-string">'okayimgdar.png'</span>;
    }
    <span class="hljs-keyword">else</span>
    {
        goingOutYes.yesSelected = <span class="hljs-literal">false</span>;
        goingOutYes.backgroundImage = <span class="hljs-string">'yesimg.png'</span>;
 }
</code></pre>
		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="August 12th 2013, 7:07:04 pm">August 12th 2013</span>
				by <span class='authorname'>Connor Phillips</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>button</span></li>
					
						<li><span class='tagname'>button state</span></li>
					
						<li><span class='tagname'>image</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-267135">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>Hi</p>
<p>You need to create a toggle handler helper function, this tells the previous button to revert to off and the current button to be on.</p>
<p>I have thrown together this proof of concept on my iPad that you will need to blend with your own code once you have read and understood it.  I have tried to make everything very clear and easy to understand, forgive any typos;</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> toggledButton;
<span class="hljs-keyword">var</span> toggleButton = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(e)</span> </span>{
    <span class="hljs-keyword">if</span> (e.source.isToggled === <span class="hljs-literal">false</span>) {
        <span class="hljs-comment">// reset previous button to off</span>
        toggledButton.setBackgroundImage(<span class="hljs-string">'off.png'</span>);
        toggledButton.isToggled = <span class="hljs-literal">false</span>;
        <span class="hljs-comment">// set new button to on</span>
        e.source.setBackgroundImage(<span class="hljs-string">'on.png'</span>);
        e.source.isToggled = <span class="hljs-literal">true</span>;
        <span class="hljs-comment">// cache current button as previous button</span>
        toggledButton = e.source;
    }
    <span class="hljs-keyword">switch</span> (e.souce.id) {
    <span class="hljs-keyword">case</span> <span class="hljs-number">1</span>:
        <span class="hljs-comment">// do something specific</span>
        <span class="hljs-keyword">break</span>;
    }
};
<span class="hljs-keyword">var</span> btn1 = Ti.UI.createButton({
    title: <span class="hljs-string">'one'</span>,
    backgroundImage: <span class="hljs-string">'on.png'</span>,
    isToggled: <span class="hljs-literal">true</span>,
    left: <span class="hljs-number">10</span>,
    id: <span class="hljs-number">1</span>
});
<span class="hljs-keyword">var</span> btn2 = Ti.UI.createButton({
    title: <span class="hljs-string">'two'</span>,
    backgroundImage: <span class="hljs-string">'off.png'</span>,
    isToggled: <span class="hljs-literal">false</span>,
    left: <span class="hljs-number">100</span>,
    id: <span class="hljs-number">2</span>
});
<span class="hljs-keyword">var</span> btn3 = Ti.UI.createButton({
    title: <span class="hljs-string">'three'</span>,
    backgroundImage: <span class="hljs-string">'off.png'</span>,
    isToggled: <span class="hljs-literal">false</span>,
    left: <span class="hljs-number">200</span>,
    id: <span class="hljs-number">3</span>
});
btn1.addEventListener(<span class="hljs-string">'click'</span>, toggleButton);
btn2.addEventListener(<span class="hljs-string">'click'</span>, toggleButton);
btn3.addEventListener(<span class="hljs-string">'click'</span>, toggleButton);
toggledButton = btn1; <span class="hljs-comment">// set to on button</span>
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 12th 2013, 8:50:49 pm">August 12th 2013</span>
								by <span class='authorname'>Malcolm Hollingsworth</span><br>
								<a class="icon-bg icon-link" href="question/155919/backgroundselected-image-during-selected-button-state.html#answer-267135" rel="permalink">permalink</a>
							</div>

							<h5>7 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Hey Malcolm. So what you have written is on the right tack, but those three individual buttons have their own unique image for when they are not selected and when they are selected. i.e. btn1 is red when not selected, dark red when selected, btn 2 is light yellow when not selected, dark yellow when selected, etc.   It seems like your code is more setup for the case that involving only two types of images. Is there a better approach with the toggle? Thank you for the help so far!</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 12th 2013, 11:56:19 pm">August 12th 2013</span>
											by <span class='authorname'>Connor Phillips</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I was going by your code and description that did no elude to buttons that had different images.</p>
<p>But VERY easy to tweak the code to take this into account;</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> toggledButton;
<span class="hljs-keyword">var</span> toggleButton = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(e)</span> </span>{
    <span class="hljs-keyword">if</span> (e.source.isToggled === <span class="hljs-literal">false</span>) {
        <span class="hljs-comment">// reset previous button to off</span>
        toggledButton.setBackgroundImage(toggledButton.imageOff);
        toggledButton.isToggled = <span class="hljs-literal">false</span>;
        <span class="hljs-comment">// set new button to on</span>
        e.source.setBackgroundImage(e.source.imageOn);
        e.source.isToggled = <span class="hljs-literal">true</span>;
        <span class="hljs-comment">// cache current button as previous button</span>
        toggledButton = e.source;
    }
    <span class="hljs-keyword">switch</span> (e.souce.id) {
    <span class="hljs-keyword">case</span> <span class="hljs-number">1</span>:
        <span class="hljs-comment">// do something specific</span>
        <span class="hljs-keyword">break</span>;
    }
};
<span class="hljs-keyword">var</span> btn1 = Ti.UI.createButton({
    title: <span class="hljs-string">'one'</span>,
    backgroundImage: <span class="hljs-string">'reddark.png'</span>,
    imageOff: <span class="hljs-string">'redlight.png'</span>,
    imageOn: <span class="hljs-string">'reddark.png'</span>,
    isToggled: <span class="hljs-literal">true</span>,
    left: <span class="hljs-number">10</span>,
    id: <span class="hljs-number">1</span>
});
<span class="hljs-keyword">var</span> btn2 = Ti.UI.createButton({
    title: <span class="hljs-string">'two'</span>,
    backgroundImage: <span class="hljs-string">'yellowlight.png'</span>,
    imageOff: <span class="hljs-string">'yellowlight.png'</span>,
    imageOn: <span class="hljs-string">'yellowdark.png'</span>,
    isToggled: <span class="hljs-literal">false</span>,
    left: <span class="hljs-number">100</span>,
    id: <span class="hljs-number">2</span>
});
<span class="hljs-keyword">var</span> btn3 = Ti.UI.createButton({
    title: <span class="hljs-string">'three'</span>,
    backgroundImage: <span class="hljs-string">'bluelight.png'</span>,
    imageOff: <span class="hljs-string">'bluelight.png'</span>,
    imageOn: <span class="hljs-string">'bluedark.png'</span>,
    isToggled: <span class="hljs-literal">false</span>,
    left: <span class="hljs-number">200</span>,
    id: <span class="hljs-number">3</span>
});
btn1.addEventListener(<span class="hljs-string">'click'</span>, toggleButton);
btn2.addEventListener(<span class="hljs-string">'click'</span>, toggleButton);
btn3.addEventListener(<span class="hljs-string">'click'</span>, toggleButton);
toggledButton = btn1; <span class="hljs-comment">// set to on button</span>
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="August 13th 2013, 6:13:40 am">August 13th 2013</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Malcolm, this is great. Exactly what I was looking for. I also just want to make sure that I am on the track with the boolean values. It looks like in general that btn1 will automatically be set to true in this state? That is what I was looking for and looks like is how it is setup from your code.  Thanks a lot!</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 13th 2013, 11:28:28 am">August 13th 2013</span>
											by <span class='authorname'>Connor Phillips</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Yes that is right, for the purposes of the demo code <strong>btn1</strong> is predefined as <strong>on</strong> state button.  I am glad it has answered your question.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 13th 2013, 11:32:59 am">August 13th 2013</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Appreciate it!</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 13th 2013, 11:33:37 am">August 13th 2013</span>
											by <span class='authorname'>Connor Phillips</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>In answer to &quot;where do I place any event for a certain id state?&quot;</p>
<p>Yes you add the code inside the generic handler above <strong>toggleButton</strong> function.  So if you wanted something to happen only when you press <strong>btn1</strong>, you would use the &quot;switch case&quot; of <strong>1</strong> and place your code there.</p>
<p>You also have the advantage that you could perform the same option for btn1 &amp; btn2, but a different one for btn3.</p>
<p>The code you ask it to perform is not important, keep in mind you still have access to the source button if you need it, for example to disable the button - by using <strong>e.source</strong>.</p>
<p>I have just noticed a type in the original handler - you have probably spotted it already but just in case;</p>
<pre><code class="hljs"><span class="hljs-keyword">switch</span> (e.source.id) { <span class="hljs-comment">// I fixed the souce to source</span>
<span class="hljs-keyword">case</span> <span class="hljs-number">1</span>:
    <span class="hljs-comment">// do something specific</span>
    <span class="hljs-keyword">break</span>;
}
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="August 27th 2013, 3:39:07 pm">August 27th 2013</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Hey Malcolm,</p>
<p>Thanks again for the response. Sorry that I had my messaging turned off and made you go back to this question to comment.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 27th 2013, 6:32:55 pm">August 27th 2013</span>
											by <span class='authorname'>Connor Phillips</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-267131">
				
						<section>
							<p>you have tested with the property &quot;<strong>backgroundSelectedImage</strong>&quot; of the button?<br>when you use that property you can set a picture to the button when this is pressed, then if you release it automatically returns to its original state (ie the <strong>backgroundImage</strong>)</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 12th 2013, 7:51:47 pm">August 12th 2013</span>
								by <span class='authorname'>nicolÃ² monili</span><br>
								<a class="icon-bg icon-link" href="question/155919/backgroundselected-image-during-selected-button-state.html#answer-267131" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
