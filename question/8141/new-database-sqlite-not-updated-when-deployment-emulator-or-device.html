<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>New Database sqlite not updated when deployment (emulator or device) » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>New Database sqlite not updated when deployment (emulator or device)</h1>
		</header>
		<section>
			<p>Hi</p>
<p>I put the sqlite database inside the resource folder and it seems to get copied into the emulator or actual device.<br>But when I made some changes to the sqlite file and I try the emulator or device launch again, it seems like the old database is not being replaced because I get errors accessing new data.</p>
<p>It only work after I manually delete the App from the device or emulator.</p>
<p>Is there a way to resolve this issue?</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="March 27th 2010, 7:09:46 am">March 27th 2010</span>
				by <span class='authorname'>Peter Lum</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>database</span></li>
					
						<li><span class='tagname'>device</span></li>
					
						<li><span class='tagname'>emulator</span></li>
					
						<li><span class='tagname'>sqlite</span></li>
					
						<li><span class='tagname'>update</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>4</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>4 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-19541">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>The problem is that the iPhone simulator is caching the SQlLite db so you need to  restore the simulator settings(iPhone simulator&#x2F;initialize content and settings) everytime you make changes in your db in order to be able to notice the changes.<br>Hope this helps.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="March 29th 2010, 3:59:47 am">March 29th 2010</span>
								by <span class='authorname'>michel perrin</span><br>
								<a class="icon-bg icon-link" href="question/8141/new-database-sqlite-not-updated-when-deployment-emulator-or-device#answer-19541" rel="permalink">permalink</a>
							</div>

							<h5>2 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Absolutely bloody marvellous. I thought this may be the answer to my problem (the same issues Peter was experiencing) but now I am unable to even run my project in the iPhone simulator.</p>
<p>I&#39;m using Titanium Studio build 1.0.2.201107130739 on OSX, iOS SDK 4.3 and am totally unimpressed with the inability of Titanium Studio to react to project cleans, total forced rebuilds or any other approach I&#39;ve taken to try and force my project to pick the latest database file from my Resources folder - in either the iPhone simulator OR android emulator.</p>
<p>Does anybody have an up-to-date working solution for this?</p>
<p>I am sooooo close to dropping Titanium Studio completely as the tool is approaching unusable for me.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 16th 2011, 1:49:51 pm">August 16th 2011</span>
											by <span class='authorname'>Robert Turrall</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Thank you!</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 20th 2014, 9:41:15 pm">May 20th 2014</span>
											by <span class='authorname'>Dat Nguyen</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-18361">
				
						<section>
							<p>Yes, there is.<br>You can do this by giving your database a new name when installing it. The easiest thing would probably be to append a version variable to the name and then update this on database changes:</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> dbVersion = <span class="hljs-number">1.0</span>;
Ti.Database.Install(<span class="hljs-string">'mydatabase.sqlite'</span>, <span class="hljs-string">'mydatabase'</span> + dbVersion);
</code></pre><p>Cheers</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="March 27th 2010, 8:14:28 am">March 27th 2010</span>
								by <span class='authorname'>Jacob Waller</span><br>
								<a class="icon-bg icon-link" href="question/8141/new-database-sqlite-not-updated-when-deployment-emulator-or-device#answer-18361" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-212318">
				
						<section>
							<p>I&#39;ve done this but now i have a strange problem where it works fine on my simulator but doesn&#39;t update the database on my device, even if i delete the app then reinstall. How is it caching the database when I am using versioning as well as deleting the app?</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="July 6th 2011, 11:04:55 am">July 6th 2011</span>
								by <span class='authorname'>Ben Palmer</span><br>
								<a class="icon-bg icon-link" href="question/8141/new-database-sqlite-not-updated-when-deployment-emulator-or-device#answer-212318" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-214390">
				
						<section>
							<p>Hey Ben,</p>
<p>I&#39;m thinking that you could use something similar to this:</p>
<pre><code class="hljs">Titanium.Database.DB.remove
Ti.Database.<span class="hljs-keyword">Install</span>(<span class="hljs-string">'mydatabase.sqlite'</span>, <span class="hljs-string">'mydatabase'</span> + dbVersion);
</code></pre><p>Based on this, I think only the previous database will be destroyed (the DB that&#39;s in app-memory)</p>
<p>Let me know how it goes</p>
<p>-R</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="July 26th 2011, 7:29:19 am">July 26th 2011</span>
								by <span class='authorname'>Ross McKinley</span><br>
								<a class="icon-bg icon-link" href="question/8141/new-database-sqlite-not-updated-when-deployment-emulator-or-device#answer-214390" rel="permalink">permalink</a>
							</div>

							<h5>2 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>oops… that should read</p>
<pre><code class="hljs">Titanium.Database.DB.<span class="hljs-keyword">remove</span>();
<span class="hljs-keyword">var</span> dbVersion = <span class="hljs-number">1.0</span>;
Ti.Database.Install(<span class="hljs-string">'mydatabase.sqlite'</span>, <span class="hljs-string">'mydatabase'</span> + dbVersion);
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="July 26th 2011, 8:08:49 am">July 26th 2011</span>
											by <span class='authorname'>Ross McKinley</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I&#39;ll try that. I ended up finding a work around where I called the database a different name when installing but also made a copy of it eg. mydatabase2.sqlite</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 26th 2011, 8:15:08 am">July 26th 2011</span>
											by <span class='authorname'>Ben Palmer</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
