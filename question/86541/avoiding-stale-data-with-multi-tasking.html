<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Avoiding stale data with multi-tasking » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Avoiding stale data with multi-tasking</h1>
		</header>
		<section>
			<p>Looking for some expert advice on how to handle the situation where a user is using my app and switches focus away via multi taking and then comes back to it maybe a day later. The main tab of my app is pulling the latest news from our cms. As it stands if a user switches back to my app via multi tasking after sometime away they still see the data since they last restarted the app or clicked on the refresh button I have put in the nav bar.</p>
<p>I want to make things as user friendly as possible and avoid the user viewing stale data as much as possible. Reading through other posts here there is the option to disable multi tasking but that would seem to be a negative approach I would like to avoid. Another approach would seem to be to use setInterval but I don&#39;t understand how that would operate in an app with multiple tabs (news, events, directory etc).</p>
<p>Any suggestions on the best approach?</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="December 6th 2010, 9:20:20 pm">December 6th 2010</span>
				by <span class='authorname'>Martin Reeves</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>mobile-iphone</span></li>
					
						<li><span class='tagname'>multi-task</span></li>
					
						<li><span class='tagname'>multitasking</span></li>
					
				</ul>
			

			<section>
				<h5>2 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Thanks for the suggestion Aaron. &#39;resume&#39; seems to fire twice for me that is strange, plus using &#39;resume&#39; would potentially mean updating more often than necessary. I think I am going to try and in each tab save the time of the last data load and use setInterval to periodically check if the data is older than x minutes as refresh if it is.</p>
<p>As I understand from reading further posts just using setInterval to refresh every x minutes wouldn&#39;t be a good approach as the setInterval timer pauses when the application pauses.</p>
<p>Any other suggestions?</p>
</div>
							<div class="author">
								&mdash; commented <span title="December 7th 2010, 7:06:16 am">December 7th 2010</span>
								by <span class='authorname'>Martin Reeves</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>i would suggest that you use a combination of resume and saving a snapshot at a particular time. So upon resume you look to see if a certain amount of time has elapsed or not, if so.. get the data.</p>
</div>
							<div class="author">
								&mdash; commented <span title="December 7th 2010, 12:39:11 pm">December 7th 2010</span>
								by <span class='authorname'>Aaron Saunders</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>1</span> Vote</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-156251">
				
						<section>
							<p>listen for the following events… that should get you started</p>
<pre><code class="hljs">Titanium.App.addEventListener(<span class="hljs-string">'pause'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span> {</span>
    Ti.API.<span class="hljs-built_in">log</span>(<span class="hljs-string">'pause'</span>);
});

Titanium.App.addEventListener(<span class="hljs-string">'resume'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span> {</span>
    Ti.API.<span class="hljs-built_in">log</span>(<span class="hljs-string">'resume'</span>);
});
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="December 6th 2010, 10:08:32 pm">December 6th 2010</span>
								by <span class='authorname'>Aaron Saunders</span><br>
								<a class="icon-bg icon-link" href="question/86541/avoiding-stale-data-with-multi-tasking#answer-156251" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
