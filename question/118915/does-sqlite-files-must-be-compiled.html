<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Does sqlite files must be compiled? » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Does sqlite files must be compiled?</h1>
		</header>
		<section>
			<p>Hello,</p>
<p>I&#39;m building some kind of dictionnary application on iOS and I need to create a pre-populated database with data in it when the application is first launched on the user&#39;s device.</p>
<p>For now, it seems to me that the only way to use a sqlite file with data in it at start is by &quot;compiling&quot; it in some way (by creating and inserting everything first with the simulator and then copying the content of the generated file in Application Support).</p>
<p>Is it possible to just use a file with regular SQL statements in it?<br>When I test it on my side, the Simulator crashes.</p>
<p>Thanks.</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="April 24th 2011, 10:19:22 pm">April 24th 2011</span>
				by <span class='authorname'>Arthur Roussel</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>database</span></li>
					
						<li><span class='tagname'>file</span></li>
					
						<li><span class='tagname'>sqlite</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>4</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>4 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-206836">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>You don&#39;t have to export it, what you are doing is &quot;dumping&quot; the database.<br>This means you simple create SQL-syntax-code to recreate your database.</p>
<p>What Ti.Database.install(); takes is a sqlite <em>file</em>, when using SQLiteManager you defined at start a name for the database at a specific path, take this file and copy it to your resources folder of Ti.</p>
<p>Then you&#39;re able to do your CRUD operations as your code decribes.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="April 26th 2011, 4:49:58 pm">April 26th 2011</span>
								by <span class='authorname'>Alexander Bauer</span><br>
								<a class="icon-bg icon-link" href="question/118915/does-sqlite-files-must-be-compiled#answer-206836" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Ok I&#39;m just a noob in SQLite, I didn&#39;t know that.</p>
<p>Thanks a lot, it works now.</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 27th 2011, 9:20:04 am">April 27th 2011</span>
											by <span class='authorname'>Arthur Roussel</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-206760">
				
						<section>
							<p>You don&#39;t have to export the database.  Just make it and save it, then install that saved file in your code.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="April 25th 2011, 11:09:16 am">April 25th 2011</span>
								by <span class='authorname'>Josh Lewis</span><br>
								<a class="icon-bg icon-link" href="question/118915/does-sqlite-files-must-be-compiled#answer-206760" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-206753">
				
						<section>
							<p>There are two options:</p>
<ul>
<li>you create a SQLite3 file with your preferred editor like SQLiteManager FF plugin and then do Ti.Database.install(src, dest);</li>
<li>you could implement a kind of installer, which executes your SQL-Statements (CREATE, INSERTs, …) on first startup.</li>
</ul>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="April 24th 2011, 10:33:51 pm">April 24th 2011</span>
								by <span class='authorname'>Alexander Bauer</span><br>
								<a class="icon-bg icon-link" href="question/118915/does-sqlite-files-must-be-compiled#answer-206753" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Thanks for your answer.</p>
<p>I&#39;m using SQLiteManager in local to manage my db.</p>
<p>My problem is that when I export the db, I get regular SQL statements like this:</p>
<pre><code class="hljs"><span class="hljs-operator"><span class="hljs-keyword">DROP</span> <span class="hljs-keyword">TABLE</span> <span class="hljs-keyword">IF</span> <span class="hljs-keyword">EXISTS</span> <span class="hljs-string">"words"</span>;</span>
<span class="hljs-operator"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> <span class="hljs-string">'words'</span> ( <span class="hljs-string">'id'</span> <span class="hljs-built_in">INTEGER</span> PRIMARY <span class="hljs-keyword">KEY</span>, <span class="hljs-string">'label'</span> <span class="hljs-built_in">VARCHAR</span>(<span class="hljs-number">200</span>) , <span class="hljs-string">'content'</span> <span class="hljs-built_in">TEXT</span> );</span>
<span class="hljs-operator"><span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> <span class="hljs-string">"words"</span> <span class="hljs-keyword">VALUES</span>(<span class="hljs-number">1</span>,<span class="hljs-string">'Aire'</span>,<span class="hljs-string">'&lt;p&gt;Hello&lt;/p&gt;'</span>);</span>
</code></pre><p>But my app crashes after installing the db (with Ti.Database.install) when I try to query something from it (like a SELECT).</p>
<p>Here&#39;s my js code (which works when not using Ti.Database.install but open and then adding the content with Titanium code).</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> <span class="hljs-keyword">db</span> = Ti.Database.install('../dictionnary.<span class="hljs-keyword">db</span>', 'dico');
<span class="hljs-keyword">var</span> rows = <span class="hljs-keyword">db</span>.execute('SELECT id, <span class="hljs-keyword">label</span> FROM words <span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> <span class="hljs-keyword">label</span>');

<span class="hljs-comment">// ....</span>

rows.<span class="hljs-keyword">close</span>();
<span class="hljs-keyword">db</span>.<span class="hljs-keyword">close</span>();
</code></pre><p>Any idea?</p>
</p>
										<div class="author">
											&mdash; commented <span title="April 25th 2011, 9:34:22 am">April 25th 2011</span>
											by <span class='authorname'>Arthur Roussel</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-206870">
				
						<section>
							<p>If you want to use a pre made sqlite database you just do the following:</p>
<ol>
<li>Create the database</li>
</ol>
<p>use the firefox addon SQLite manager, or the program SQLite Database browser for this</p>
<ol>
<li><p>Put it in the resources folder</p>
</li>
<li><p>You can use the database by installing it:</p>
</li>
</ol>
<pre><code class="hljs"><span class="hljs-keyword">var</span> <span class="hljs-keyword">version</span> = 1.1;
<span class="hljs-keyword">var</span> <span class="hljs-keyword">db</span> = Titanium.Database.install(Titanium.Filesystem.getResourcesDirectory + '/database.sqlite', '<span class="hljs-keyword">version</span>' + <span class="hljs-keyword">version</span>);
</code></pre><p>When you update your database outside the app, and want the changes to commit on your app, just change the version number, or you can remove the database from the app itself (not the sqlite file, but the .sql file created when installing the app).<br>This file can be found in: library-&gt;application support-&gt;iPhone simulator-&gt;4.2(your SDK Number)-&gt;applications-&gt;the_app-&gt;library-&gt;app support-&gt;database-&gt; remove the .sql file here.</p>
<p>Hope this answers your question</p>
<p>Tjeu</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="April 27th 2011, 6:28:15 am">April 27th 2011</span>
								by <span class='authorname'>Tjeu Vdw</span><br>
								<a class="icon-bg icon-link" href="question/118915/does-sqlite-files-must-be-compiled#answer-206870" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
