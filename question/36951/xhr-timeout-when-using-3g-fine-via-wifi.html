<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>XHR timeout when using 3G, fine via WiFi Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>XHR timeout when using 3G, fine via WiFi</h1>
		</header>
		<section>
			<p>Yes, I know that makes no sense. LOL</p>
<p>Since installing iOS 4 onto my 3GS my apps can only make XHR calls when the iPhone is connected via wifi.  When the same app on the same phone is opened on a 3G connection, xhr.onerror is triggered and this is the message I see:</p>
<p><code>error = &amp;quot;Error Domain=ASIHTTPRequestErrorDomain Code=2\&amp;quot;The request timed out\&amp;quot; UserInfo=0x37d2e0 {NSLocalizedDescription=The request timed out}&amp;quot;; source=[object TiNetworkClient];</code></p>
<p>Any ideas?  This has killed both of my published apps.  Changing Ti SDK versions doesn&#39;t make any difference.</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="June 22nd 2010, 3:50:40 am">June 22nd 2010</span>
				by <span class='authorname'>Dan Giulvezan</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>3g</span></li>
					
						<li><span class='tagname'>ios</span></li>
					
						<li><span class='tagname'>ios4</span></li>
					
						<li><span class='tagname'>iphone</span></li>
					
						<li><span class='tagname'>wifi</span></li>
					
						<li><span class='tagname'>xhr</span></li>
					
				</ul>
			

			<section>
				<h5>3 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Seems it may be related to the iOS 4 installation.  Found that nothing was working over 3G, going through a restore now to see if it makes a difference.</p>
</div>
							<div class="author">
								&mdash; commented <span title="June 22nd 2010, 6:24:00 am">June 22nd 2010</span>
								by <span class='authorname'>Dan Giulvezan</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>how did you collect that error message? just curious.</p>
</div>
							<div class="author">
								&mdash; commented <span title="June 22nd 2010, 1:33:00 pm">June 22nd 2010</span>
								by <span class='authorname'>Caio Iglesias</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Had something like this in my code after the xhr.onload</p>
<p>xhr.onerror = function(e) {<br>    alert(e);<br>};</p>
<p>Then just typed what I saw here.</p>
</div>
							<div class="author">
								&mdash; commented <span title="June 22nd 2010, 4:40:17 pm">June 22nd 2010</span>
								by <span class='authorname'>Dan Giulvezan</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>1</span> Vote</div>
			<div class="answers"><span>5</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>5 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-82271">
				
						<section>
							<p>I know how to fix it. HttpClient triggers a false timeout on slower networks (yes it does!!!).<br>I was getting the same error on the old slow iphone. There is something in the underlying class of the HttpClient, that the code which is supposed to fix the false timeout, doesnt work. </p>
<p>The solution is remove the timeout at all, like this:</p>
<p>xhr.setTimeout(0);</p>
<p>Then it will work, although sometimes verrrrrry slooooowwwww</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="July 8th 2010, 7:22:05 am">July 8th 2010</span>
								by <span class='authorname'>Anna Kozynenko</span><br>
								<a class="icon-bg icon-link" href="question/36951/xhr-timeout-when-using-3g-fine-via-wifi#answer-82271" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>2</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-82311">
				
						<section>
							<p>It sounds like either a DNS lookup or an interface issue.<br>Does the problem occur if you use the IP address or when you use the DNS name?</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="July 8th 2010, 8:36:20 am">July 8th 2010</span>
								by <span class='authorname'>David Ashwood</span><br>
								<a class="icon-bg icon-link" href="question/36951/xhr-timeout-when-using-3g-fine-via-wifi#answer-82311" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-74381">
				
						<section>
							<p>duplicate</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="June 22nd 2010, 7:23:29 am">June 22nd 2010</span>
								by <span class='authorname'>Dan Giulvezan</span><br>
								<a class="icon-bg icon-link" href="question/36951/xhr-timeout-when-using-3g-fine-via-wifi#answer-74381" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-74391">
				
						<section>
							<p>Still trying to get things working again but it does look like this is result of an iOS 4 upgrade problem and nothing to do with Titanium.</p>
<p>Here&#39;s some info in case anyone else runs into the same sort of thing:</p>
<p><a href="http:&#x2F;&#x2F;discussions.apple.com&#x2F;thread.jspa?threadID=2469607&amp;tstart=0">http:&#x2F;&#x2F;discussions.apple.com&#x2F;thread.jspa?threadID=2469607&amp;tstart=0</a></p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="June 22nd 2010, 7:26:02 am">June 22nd 2010</span>
								by <span class='authorname'>Dan Giulvezan</span><br>
								<a class="icon-bg icon-link" href="question/36951/xhr-timeout-when-using-3g-fine-via-wifi#answer-74391" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Cheers Dan, Deploying app onto device I&#39;ve encountered this niggle (premature timeout) with iOS4&#x2F;XHR on a 3GS iphone.</p>
</p>
										<div class="author">
											&mdash; commented <span title="October 13th 2010, 12:49:00 pm">October 13th 2010</span>
											by <span class='authorname'>Chris Reed</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-82281">
				
						<section>
							<p>Hi, I had the same problem using 3g.<br>What i did after trying for hours was to disable the 3g , using the edge and finally re-enable 3g.<br>this worked for me still now. Hope can help.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="July 8th 2010, 8:15:16 am">July 8th 2010</span>
								by <span class='authorname'>Andrea S</span><br>
								<a class="icon-bg icon-link" href="question/36951/xhr-timeout-when-using-3g-fine-via-wifi#answer-82281" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
