<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>How do I speed up adding complex views to a scrollview? » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>How do I speed up adding complex views to a scrollview?</h1>
		</header>
		<section>
			<p>I am using the code below to add 25 views to a scroll view. It takes almost a full second to add each view into the scroll view when testing on both a device and the emulator. I have only tested this on android and am not sure if it is faster on iOS.</p>
<p>Is there anyway to speed this process up?</p>
<p>Thanks</p>
<pre><code class="hljs">Titanium.UI.setBackgroundColor(<span class="hljs-string">'#000'</span>);

var additemsbutton = Titanium.UI.createButton({
title:<span class="hljs-string">'add items'</span>,
<span class="hljs-variable">width</span>:<span class="hljs-string">'200px'</span>,
top:<span class="hljs-string">'0'</span>,
right:<span class="hljs-string">'0'</span>
});

var scrollviewA = Titanium.UI.createScrollView({
    top:<span class="hljs-string">'25dp'</span>,
    layout:<span class="hljs-string">'vertical'</span>,
    showVerticalScrollIndicator:<span class="hljs-keyword">true</span>,
    showHorizontalScrollIndicator:<span class="hljs-keyword">false</span>
});

var additems = function(){
    <span class="hljs-keyword">for</span>(var i=<span class="hljs-number">0</span>; i&lt;<span class="hljs-number">25</span>; i++){
        var username=<span class="hljs-string">'username'</span>;
        var messagetext=<span class="hljs-string">'messagetext'</span>;
        var profileimagelink=<span class="hljs-string">"http://www.LinkToAnImage.com/img.jpg"</span>;
        var viewContainerA = Ti.UI.createView({
            username: username,
            messagetext: messagetext,
            backgroundColor:<span class="hljs-string">'white'</span>,
            <span class="hljs-variable">height</span>:<span class="hljs-string">'auto'</span>,
            top:<span class="hljs-string">'0'</span>
        });
        var usernameLabel = Titanium.UI.createLabel({
            <span class="hljs-built_in">color</span>:<span class="hljs-string">'blue'</span>,
            <span class="hljs-built_in">text</span>:username,
            font:{fontSize:<span class="hljs-string">'15dp'</span>,fontFamily:<span class="hljs-string">'Trebuchet MS'</span>},
            <span class="hljs-built_in">textAlign</span>:<span class="hljs-string">'left'</span>,
            top: <span class="hljs-string">'1dp'</span>,
            left:<span class="hljs-string">'56dp'</span>
        });
        var messageLabel = Titanium.UI.createLabel({
            <span class="hljs-built_in">color</span>:<span class="hljs-string">'black'</span>,
            <span class="hljs-built_in">text</span>:messagetext,
            font:{fontSize:<span class="hljs-string">'15dp'</span>,fontFamily:<span class="hljs-string">'Trebuchet MS'</span>},
            <span class="hljs-built_in">textAlign</span>:<span class="hljs-string">'left'</span>,
            top: <span class="hljs-string">'17dp'</span>,
            left:<span class="hljs-string">'56dp'</span>
        });
        var imageViewPaddingView = Titanium.UI.createView({
            <span class="hljs-variable">height</span>:<span class="hljs-string">'53dp'</span>,
            <span class="hljs-variable">width</span>:<span class="hljs-string">'53dp'</span>,
            top:<span class="hljs-number">0</span>,
            left:<span class="hljs-number">0</span>
        });
        var imageView = Titanium.UI.createImageView({
            <span class="hljs-built_in">image</span>: profileimagelink,
            <span class="hljs-variable">height</span>:<span class="hljs-string">'48dp'</span>,
            <span class="hljs-variable">width</span>:<span class="hljs-string">'48dp'</span>,
            top:<span class="hljs-string">'2dp'</span>,
            left:<span class="hljs-string">'5dp'</span>
        });
        viewContainerA.addEventListener(<span class="hljs-string">'touchend'</span>, function(e){
            Ti.API.info(e.source.username+<span class="hljs-string">": "</span>+e.source.messagetext);
        });
        imageViewPaddingView.<span class="hljs-built_in">add</span>(imageView);
        viewContainerA.<span class="hljs-built_in">add</span>(usernameLabel);
        viewContainerA.<span class="hljs-built_in">add</span>(imageViewPaddingView);
        viewContainerA.<span class="hljs-built_in">add</span>(messageLabel);
        viewArr.push(viewContainerA);
    }
    scrollviewA.<span class="hljs-built_in">add</span>(viewArr);
}

messagingWindow.<span class="hljs-built_in">add</span>(additemsbutton);
messagingWindow.<span class="hljs-built_in">add</span>(scrollviewA);
messagingWindow.<span class="hljs-built_in">open</span>();
</code></pre>
		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="November 16th 2011, 3:25:16 am">November 16th 2011</span>
				by <span class='authorname'>Brian Merkel</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>dynamic</span></li>
					
						<li><span class='tagname'>mobile</span></li>
					
						<li><span class='tagname'>scrollview</span></li>
					
				</ul>
			

			<section>
				<h5>1 Comment</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Sorry, its actually:</p>
<pre><code class="hljs">Titanium.UI.setBackgroundColor(<span class="hljs-string">'#000'</span>);

var additemsbutton = Titanium.UI.createButton({
title:<span class="hljs-string">'add items'</span>,
<span class="hljs-variable">width</span>:<span class="hljs-string">'200px'</span>,
top:<span class="hljs-string">'0'</span>,
right:<span class="hljs-string">'0'</span>
});

var scrollviewA = Titanium.UI.createScrollView({
    top:<span class="hljs-string">'25dp'</span>,
    layout:<span class="hljs-string">'vertical'</span>,
    showVerticalScrollIndicator:<span class="hljs-keyword">true</span>,
    showHorizontalScrollIndicator:<span class="hljs-keyword">false</span>
});

var additems = function(){
    <span class="hljs-keyword">for</span>(var i=<span class="hljs-number">0</span>; i&lt;<span class="hljs-number">25</span>; i++){
        var username=<span class="hljs-string">'username'</span>;
        var messagetext=<span class="hljs-string">'messagetext'</span>;
        var profileimagelink=<span class="hljs-string">"http://www.LinkToAnImage.com/img.jpg"</span>;
        var viewContainerA = Ti.UI.createView({
            username: username,
            messagetext: messagetext,
            backgroundColor:<span class="hljs-string">'white'</span>,
            <span class="hljs-variable">height</span>:<span class="hljs-string">'auto'</span>,
            top:<span class="hljs-string">'0'</span>
        });
        var usernameLabel = Titanium.UI.createLabel({
            <span class="hljs-built_in">color</span>:<span class="hljs-string">'blue'</span>,
            <span class="hljs-built_in">text</span>:username,
            font:{fontSize:<span class="hljs-string">'15dp'</span>,fontFamily:<span class="hljs-string">'Trebuchet MS'</span>},
            <span class="hljs-built_in">textAlign</span>:<span class="hljs-string">'left'</span>,
            top: <span class="hljs-string">'1dp'</span>,
            left:<span class="hljs-string">'56dp'</span>
        });
        var messageLabel = Titanium.UI.createLabel({
            <span class="hljs-built_in">color</span>:<span class="hljs-string">'black'</span>,
            <span class="hljs-built_in">text</span>:messagetext,
            font:{fontSize:<span class="hljs-string">'15dp'</span>,fontFamily:<span class="hljs-string">'Trebuchet MS'</span>},
            <span class="hljs-built_in">textAlign</span>:<span class="hljs-string">'left'</span>,
            top: <span class="hljs-string">'17dp'</span>,
            left:<span class="hljs-string">'56dp'</span>
        });
        var imageViewPaddingView = Titanium.UI.createView({
            <span class="hljs-variable">height</span>:<span class="hljs-string">'53dp'</span>,
            <span class="hljs-variable">width</span>:<span class="hljs-string">'53dp'</span>,
            top:<span class="hljs-number">0</span>,
            left:<span class="hljs-number">0</span>
        });
        var imageView = Titanium.UI.createImageView({
            <span class="hljs-built_in">image</span>: profileimagelink,
            <span class="hljs-variable">height</span>:<span class="hljs-string">'48dp'</span>,
            <span class="hljs-variable">width</span>:<span class="hljs-string">'48dp'</span>,
            top:<span class="hljs-string">'2dp'</span>,
            left:<span class="hljs-string">'5dp'</span>
        });
        viewContainerA.addEventListener(<span class="hljs-string">'touchend'</span>, function(e){
            Ti.API.info(e.source.username+<span class="hljs-string">": "</span>+e.source.messagetext);
        });
        imageViewPaddingView.<span class="hljs-built_in">add</span>(imageView);
        viewContainerA.<span class="hljs-built_in">add</span>(usernameLabel);
        viewContainerA.<span class="hljs-built_in">add</span>(imageViewPaddingView);
        viewContainerA.<span class="hljs-built_in">add</span>(messageLabel);
        scrollviewA.<span class="hljs-built_in">add</span>(viewContainerA);
    }

}

messagingWindow.<span class="hljs-built_in">add</span>(additemsbutton);
messagingWindow.<span class="hljs-built_in">add</span>(scrollviewA);
messagingWindow.<span class="hljs-built_in">open</span>();
</code></pre></div>
							<div class="author">
								&mdash; commented <span title="November 16th 2011, 3:29:37 am">November 16th 2011</span>
								by <span class='authorname'>Brian Merkel</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-223472">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>Maybe there is a slowdown because images are taking time to load. Did you try to run your code without images?</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="November 16th 2011, 6:24:20 am">November 16th 2011</span>
								by <span class='authorname'>Ivan Škugor</span><br>
								<a class="icon-bg icon-link" href="question/128275/how-do-i-speed-up-adding-complex-views-to-a-scrollview.html#answer-223472" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>It does appear to run significantly faster when I don&#39;t add the images. Thanks for the help.</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 16th 2011, 6:42:38 am">November 16th 2011</span>
											by <span class='authorname'>Brian Merkel</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>2</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-223474">
				
						<section>
							<p>Hum… this is probably not an issue with your code, but with the processing your doing. If that is what you require to display then it will take time to load. Options are really reducing the amount of items displayed at once or, reducing the information contained in them.</p>
<p>And as Ivan rightly points out loading images are resource heavy. But this has to be a compromise over performance versus requirements.</p>
<p>Hope this helps</p>
<p>T.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="November 16th 2011, 6:33:08 am">November 16th 2011</span>
								by <span class='authorname'>Trevor Ward</span><br>
								<a class="icon-bg icon-link" href="question/128275/how-do-i-speed-up-adding-complex-views-to-a-scrollview.html#answer-223474" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
