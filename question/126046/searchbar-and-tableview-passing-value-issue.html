<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Searchbar and tableview passing value issue » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Searchbar and tableview passing value issue</h1>
		</header>
		<section>
			<p>If I pass a value to the searchbar instead of typing it, it displays fine but the tableview results automatically become &quot;No Results&quot;.</p>
<p>Anyone else has this issue?</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="September 26th 2011, 2:26:49 pm">September 26th 2011</span>
				by <span class='authorname'>Leonardo Amigoni</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>searchbar</span></li>
					
						<li><span class='tagname'>tableview</span></li>
					
				</ul>
			

			<section>
				<h5>5 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Here is some code to show what I am trying to do. I want to simulate an autocomplete with the search field, but I don&#39;t want to use the searchbar look so I made a textField that goes on top of it and passes the value. This then allows me to have a list of values from the table and the user would just select one that would be then passed back to the textField.</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> search = Titanium.UI.createSearchBar({
    barColor:<span class="hljs-string">'#fff'</span>,
    borderColor:<span class="hljs-string">'#fff'</span>,
    showCancel:<span class="hljs-literal">false</span>,
    hintText:<span class="hljs-string">'interest'</span>,
    autocapitalization: <span class="hljs-literal">true</span>,
    visible: <span class="hljs-literal">false</span>
    });

    search.addEventListener(<span class="hljs-string">'change'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span>
    </span>{
    <span class="hljs-comment">//e.value; // search string as user types</span>
    });        

    <span class="hljs-comment">// Title Field</span>
<span class="hljs-keyword">var</span> title= Titanium.UI.createTextField({
    top: <span class="hljs-number">0</span>,
    left: <span class="hljs-number">0</span>,
    height: <span class="hljs-number">40</span>,
    textAlign:<span class="hljs-string">'left'</span>,
    backgroundColor:<span class="hljs-string">'white'</span>,
    hintText: <span class="hljs-string">'Untitled'</span>,
    });

    title.addEventListener(<span class="hljs-string">'change'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span></span>{
        search.value = title.value;

        <span class="hljs-keyword">if</span> (title.value != <span class="hljs-string">''</span>) { 
        tableview.visible = <span class="hljs-literal">true</span>
        }
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (title.value ===<span class="hljs-string">''</span>){
        tableview.visible = <span class="hljs-literal">false</span>    
        }        
    });

    title.addEventListener(<span class="hljs-string">'return'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span></span>{
        tableview.visible = <span class="hljs-literal">false</span>;    
    });



data = []
data[<span class="hljs-number">0</span>] = Ti.UI.createTableViewRow({title:<span class="hljs-string">'Ciao'</span>});
data[<span class="hljs-number">1</span>] = Ti.UI.createTableViewRow({title:<span class="hljs-string">'Miao'</span>});


<span class="hljs-comment">// create table view</span>
<span class="hljs-keyword">var</span> tableview = Titanium.UI.createTableView({
    data:data,
    search:search,
    searchHidden:<span class="hljs-literal">false</span>,
    visible: <span class="hljs-literal">false</span>
});
</code></pre><p>Any suggestion is welcome. I wish there was an easy way to make the searchbar look plain or wish that setting the value would still pass it to the table.</p>
</div>
							<div class="author">
								&mdash; commented <span title="September 26th 2011, 2:47:54 pm">September 26th 2011</span>
								by <span class='authorname'>Leonardo Amigoni</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Leonardo,</p>
<p>Can you do me a favor and create a small sample app that fully duplicates the issues that you are having. I&#39;d like to simply copy and paste the code into a new project and see exactly what you are seeing. This will allow me to help you much quicker.</p>
</div>
							<div class="author">
								&mdash; commented <span title="September 27th 2011, 2:26:28 pm">September 27th 2011</span>
								by <span class='authorname'>Anthony Decena</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Sorry it took so long. I couldn&#39;t do it any earlier. Here it is. </p>
<pre><code class="hljs"><span class="hljs-comment">// this sets the background color of the master UIView (when there are no windows/tab groups on it)</span>
Titanium.UI.setBackgroundColor(<span class="hljs-string">'#000'</span>);

<span class="hljs-comment">// create tab group</span>
<span class="hljs-keyword">var</span> tabGroup = Titanium.UI.createTabGroup();


<span class="hljs-comment">//</span>
<span class="hljs-comment">// create base UI tab and root window</span>
<span class="hljs-comment">//</span>
<span class="hljs-keyword">var</span> win1 = Titanium.UI.createWindow({  
    title:<span class="hljs-string">'Tab 1'</span>,
    backgroundColor:<span class="hljs-string">'#fff'</span>
});
<span class="hljs-keyword">var</span> tab1 = Titanium.UI.createTab({  
    icon:<span class="hljs-string">'KS_nav_views.png'</span>,
    title:<span class="hljs-string">'Tab 1'</span>,
    <span class="hljs-built_in">window</span>:win1
});

<span class="hljs-comment">// Title Field</span>
<span class="hljs-keyword">var</span> title= Titanium.UI.createTextField({
    font:{fontSize:<span class="hljs-number">15</span>,fontFamily:<span class="hljs-string">'Helvetica-Bold'</span> },
    top: <span class="hljs-number">0</span>,
    left: <span class="hljs-number">0</span>,
    height: <span class="hljs-number">40</span>,
    textAlign:<span class="hljs-string">'left'</span>,
    backgroundColor:<span class="hljs-string">'black'</span>,
    hintText: <span class="hljs-string">'Untitled '</span>,

    });


    title.addEventListener(<span class="hljs-string">'change'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)</span>{
        search.value = title.value;

    });


<span class="hljs-keyword">var</span> search = Titanium.UI.createSearchBar({
    barColor:<span class="hljs-string">'#fff'</span>,
    borderColor:<span class="hljs-string">'#fff'</span>,
    showCancel:<span class="hljs-literal">false</span>,
    hintText:<span class="hljs-string">'interest'</span>,
    <span class="hljs-comment">//autocapitalization: true,</span>
    visible: <span class="hljs-literal">true</span>
    });

    search.addEventListener(<span class="hljs-string">'change'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)
    </span>{
    <span class="hljs-comment">//title.value</span>
    <span class="hljs-comment">//e.value; // search string as user types</span>
    });        

data = [];
data[<span class="hljs-number">0</span>]=Ti.UI.createTableViewRow({title:<span class="hljs-string">'Ciao'</span>})
data[<span class="hljs-number">1</span>]=Ti.UI.createTableViewRow({title:<span class="hljs-string">'Miao'</span>})

<span class="hljs-comment">// create table view</span>
<span class="hljs-keyword">var</span> tableview = Titanium.UI.createTableView({
    data:data,
    search:search,
    searchHidden:<span class="hljs-literal">false</span>,
    visible: <span class="hljs-literal">true</span>
});    

win1.add(tableview)
win1.add(title)



<span class="hljs-comment">//</span>
<span class="hljs-comment">//  add tabs</span>
<span class="hljs-comment">//</span>
tabGroup.addTab(tab1);  



<span class="hljs-comment">// open tab group</span>
tabGroup.open();
</code></pre></div>
							<div class="author">
								&mdash; commented <span title="September 28th 2011, 11:04:55 am">September 28th 2011</span>
								by <span class='authorname'>Leonardo Amigoni</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Thanks for your help. Really appreciated.</p>
</div>
							<div class="author">
								&mdash; commented <span title="September 28th 2011, 11:05:10 am">September 28th 2011</span>
								by <span class='authorname'>Leonardo Amigoni</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Ooops. Change the background to &#39;white&#39; on the textfield. You can&#39;t see what you are typing otherwise.</p>
</div>
							<div class="author">
								&mdash; commented <span title="September 28th 2011, 11:19:01 am">September 28th 2011</span>
								by <span class='authorname'>Leonardo Amigoni</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-219710">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>The only way to get the search bar searching as you would expect is to give it focus. This unfortunately prevents you from putting your proxy textfield in its place. You might be better off trying to style the existing search bar to your liking, or doing a custom search on the table yourself.</p>
<p>Just for reference, adding this to your code gets the search bar functionality working, but it prevents you from continuing to type in the text field:</p>
<pre><code class="hljs">title.addEventListener(<span class="hljs-string">'change'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span></span>{
        search.<span class="hljs-keyword">value</span> = title.<span class="hljs-keyword">value</span>;
        search.focus();
    });
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="September 28th 2011, 11:35:17 am">September 28th 2011</span>
								by <span class='authorname'>Tony Lukasavage</span><br>
								<a class="icon-bg icon-link" href="question/126046/searchbar-and-tableview-passing-value-issue#answer-219710" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Any tricks to make the searchbar look plain? Without the cancel button and the rest of the oval stuff around it?<br>Thanks for your tips.</p>
</p>
										<div class="author">
											&mdash; commented <span title="September 28th 2011, 6:37:52 pm">September 28th 2011</span>
											by <span class='authorname'>Leonardo Amigoni</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>4</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-237918">
				
						<section>
							<p>Hey i found a way to deal with it:</p>
<pre><code class="hljs">title.addEventListener(<span class="hljs-string">'change'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span></span>{
    search.focus();
    search.<span class="hljs-keyword">value</span> = title.<span class="hljs-keyword">value</span>;
    title.focus();
});
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="May 5th 2012, 3:52:01 pm">May 5th 2012</span>
								by <span class='authorname'>Holger Sun</span><br>
								<a class="icon-bg icon-link" href="question/126046/searchbar-and-tableview-passing-value-issue#answer-237918" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Hey, this do not seem to work …<br>Any other solution, please ?</p>
</p>
										<div class="author">
											&mdash; commented <span title="July 31st 2015, 7:05:16 pm">July 31st 2015</span>
											by <span class='authorname'>Franck Neuer</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
