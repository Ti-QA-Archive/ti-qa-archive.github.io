<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Keep collection synced with remote database » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Keep collection synced with remote database</h1>
		</header>
		<section>
			<p>I know there are a few question about this topic, but none have really helped me to understand how it works and how I should be implementing it. If at all possible I want to avoid using a third party REST API.</p>
<p>I have the collection set up, it gets data from the remote database and saves the models fine. However, when I leave the controller and create it again (ie. logout and login), there is currently no check to see if the data returned from the HTTPClient contains duplicate records, and so it just keeps adding to the collection.</p>
<p>I imagine I should be looping through the returned data and check each record to see if it already exists in the collection and skip it, as well as check if any models in the collection do not match any of the returned records and remove them. I thought about simply resetting the collection each time (I couldn&#39;t even get that to work) but I didn&#39;t want it to leave the user with an empty collection if they accessed it without a connection (they could still be logged in using a cookie).</p>
<p>I also tried using the contains() function from Backbone to at least prevent duplicates from being added, but I guess that isn&#39;t implemented in the version used by Titanium (3.2.0).</p>
<p>So how could I go about ensuring the collection is synced with the remote database each time the controller is opened?</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="February 5th 2014, 6:34:24 am">February 5th 2014</span>
				by <span class='authorname'>Robert Gillman</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>alloy</span></li>
					
						<li><span class='tagname'>database</span></li>
					
						<li><span class='tagname'>httpclient</span></li>
					
						<li><span class='tagname'>json</span></li>
					
						<li><span class='tagname'>titanium studio</span></li>
					
				</ul>
			

			<section>
				<h5>1 Comment</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Actually, now that I think about it, if a user is still logged in without a connection, new data will never be requested from the database. If they log out, they wouldn&#39;t be able to log back in anyway. So I suppose I can just do myCollection.reset() before looping through the response data.</p>
</div>
							<div class="author">
								&mdash; commented <span title="February 5th 2014, 6:56:58 am">February 5th 2014</span>
								by <span class='authorname'>Robert Gillman</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>0</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>0 Answers</h3>

	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
