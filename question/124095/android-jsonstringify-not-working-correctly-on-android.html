<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Android JSON.stringify not working correctly on Android Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Android JSON.stringify not working correctly on Android</h1>
		</header>
		<section>
			<p>I am using JSON.stringify and getting completely different results between iPhone and Android.  This apears to have been an issue in the past for Titanium mobile but I did not find anything recently leading me to believe the issues had been resolved.  However if you look at the results below you will see that on Android the variable ehas stringified only the top-level variables and not the objects.</p>
<p>Any work-arounds for this would be appreciated.</p>
<pre><code class="hljs">Code used <span class="hljs-keyword">to</span> produce results belo<span class="hljs-variable">w:</span>

locationtable.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span> {    <span class="hljs-title">Ti</span>.<span class="hljs-title">include</span><span class="hljs-params">(Titanium.Filesystem.resourcesDirectory + 'data/SessionAG.js')</span>;    </span>
                                                             Session.Values[<span class="hljs-string">'e'</span>] = <span class="hljs-keyword">e</span>;
                                                             Session.Store();   
                                                            Ti.API.<span class="hljs-keyword">debug</span>(<span class="hljs-string">'e: '</span> + JSON.stringify(<span class="hljs-keyword">e</span>));
</code></pre><pre><code class="hljs"><span class="hljs-string">Android:</span>
<span class="hljs-string">e:</span> {<span class="hljs-string">"type"</span>:<span class="hljs-string">"click"</span>,<span class="hljs-string">"searchMode"</span>:<span class="hljs-literal">false</span>,<span class="hljs-string">"index"</span>:<span class="hljs-number">1</span>,<span class="hljs-string">"detail"</span>:<span class="hljs-literal">false</span>}
</code></pre><pre><code class="hljs">iPhone:
e: {<span class="hljs-string">"x"</span>:<span class="hljs-number">189</span>,<span class="hljs-string">"section"</span>:{},<span class="hljs-string">"row"</span>:{<span class="hljs-string">"className"</span>:<span class="hljs-string">"datarow0"</span>,<span class="hljs-string">"hasCheck"</span>:<span class="hljs-literal">false</span>,<span class="hljs-string">"datacontext"</span>:{<span class="hljs-string">"SAJJobLocationId"</span>:null,<span class="hljs-string">"OtherPhone"</span>:<span class="hljs-string">"            "</span>,<span class="hljs-string">"EmailAddress"</span>:<span class="hljs-string">"                                                            "</span>,<span class="hljs-string">"Region"</span>:{<span class="hljs-string">"RegionId"</span>:<span class="hljs-number">401270</span>,<span class="hljs-string">"RegionNumber"</span>:<span class="hljs-string">"100       "</span>,<span class="hljs-string">"EmailAddress"</span>:<span class="hljs-string">"test@test.com"</span>,<span class="hljs-string">"AltPhone"</span>:null,<span class="hljs-string">"ActiveFlag"</span>:<span class="hljs-literal">true</span>,<span class="hljs-string">"Fax"</span>:null,<span class="hljs-string">"Comments"</span>:null,<span class="hljs-string">"RegionName"</span>:<span class="hljs-string">"Region 1                                          "</span>,<span class="hljs-string">"OrganizationId"</span>:<span class="hljs-number">400297</span>,<span class="hljs-string">"Phone"</span>:null,<span class="hljs-string">"RegionManager"</span>:<span class="hljs-string">"                                        "</span>,<span class="hljs-string">"ValidationErrors"</span>:null},<span class="hljs-string">"StreetAddressId"</span>:<span class="hljs-number">7</span>,<span class="hljs-string">"OrganizationId"</span>:<span class="hljs-number">400297</span>,<span class="hljs-string">"Fax"</span>:<span class="hljs-string">"            "</span>,<span class="hljs-string">"MailingAddress"</span>:{<span class="hljs-string">"StateCode"</span>:<span class="hljs-string">"  "</span>,<span class="hljs-string">"AddressId"</span>:<span class="hljs-number">8</span>,<span class="hljs-string">"AddressLine1"</span>:<span class="hljs-string">"                                        "</span>,<span class="hljs-string">"City"</span>:<span class="hljs-string">"                              "</span>,<span class="hljs-string">"AddressLine2"</span>:<span class="hljs-string">"                                        "</span>,<span class="hljs-string">"ZipCode"</span>:<span class="hljs-string">"          "</span>,<span class="hljs-string">"ValidationErrors"</span>:null},<span class="hljs-string">"RegionId"</span>:<span class="hljs-number">401270</span>,<span class="hljs-string">"ActiveFlag"</span>:<span class="hljs-literal">true</span>,<span class="hljs-string">"MailingAddressId"</span>:<span class="hljs-number">8</span>,<span class="hljs-string">"IsDirty"</span>:<span class="hljs-literal">false</span>,<span class="hljs-string">"Phone"</span>:<span class="hljs-string">"            "</span>,<span class="hljs-string">"ApplicationLocationName"</span>:<span class="hljs-string">"Centreville Mall                                            "</span>,<span class="hljs-string">"Manager"</span>:<span class="hljs-string">"                                        "</span>,<span class="hljs-string">"StreetAddress"</span>:{<span class="hljs-string">"StateCode"</span>:<span class="hljs-string">"VA"</span>,<span class="hljs-string">"AddressId"</span>:<span class="hljs-number">7</span>,<span class="hljs-string">"AddressLine1"</span>:<span class="hljs-string">"1414 North Street                       "</span>,<span class="hljs-string">"City"</span>:<span class="hljs-string">"Centreville                   "</span>,<span class="hljs-string">"AddressLine2"</span>:<span class="hljs-string">"Suite 344                               "</span>,<span class="hljs-string">"ZipCode"</span>:<span class="hljs-string">"20121     "</span>,<span class="hljs-string">"ValidationErrors"</span>:null},<span class="hljs-string">"ValidationErrors"</span>:null,<span class="hljs-string">"LocationNumber"</span>:<span class="hljs-string">"300       "</span>,<span class="hljs-string">"District"</span>:{<span class="hljs-string">"EmailAddress"</span>:<span class="hljs-string">"test@test.com"</span>,<span class="hljs-string">"DistrictName"</span>:<span class="hljs-string">"District 1                              "</span>,<span class="hljs-string">"ActiveFlag"</span>:<span class="hljs-literal">true</span>,<span class="hljs-string">"DistrictNumber"</span>:<span class="hljs-string">"100       "</span>,<span class="hljs-string">"ValidationErrors"</span>:null,<span class="hljs-string">"DistrictId"</span>:<span class="hljs-number">1667</span>,<span class="hljs-string">"OrganizationId"</span>:<span class="hljs-number">400297</span>},<span class="hljs-string">"LocationName"</span>:<span class="hljs-string">"Centreville Mall                                  "</span>,<span class="hljs-string">"LocationEmails"</span>:[],<span class="hljs-string">"ExcludeFromHiring"</span>:<span class="hljs-literal">false</span>,<span class="hljs-string">"LocationId"</span>:<span class="hljs-number">405762</span>,<span class="hljs-string">"Organization"</span>:{<span class="hljs-string">"NoBackgroundChecks"</span>:<span class="hljs-literal">true</span>,<span class="hljs-string">"UsesSecondaryAuthorization"</span>:<span class="hljs-literal">false</span>,<span class="hljs-string">"OrganizationOptions"</span>:null,<span class="hljs-string">"IsFranchisee"</span>:<span class="hljs-literal">false</span>,<span class="hljs-string">"SAJBillingAccountId"</span>:null,<span class="hljs-string">"OrangeTreeId"</span>:<span class="hljs-string">""</span>,<span class="hljs-string">"IsDemo"</span>:<span class="hljs-literal">false</span>,<span class="hljs-string">"LogoFile"</span>:<span class="hljs-string">"assets/logos/widgets.gif"</span>,<span class="hljs-string">"AlertForNoOTResponse"</span>:<span class="hljs-literal">false</span>,<span class="hljs-string">"OrganizationId"</span>:<span class="hljs-number">400297</span>,<span class="hljs-string">"DefaultDaysToView"</span>:<span class="hljs-number">0</span>,<span class="hljs-string">"WOTCDisplayAmount"</span>:<span class="hljs-literal">true</span>,<span class="hljs-string">"UsesOrangeTree"</span>:<span class="hljs-number">0</span>,<span class="hljs-string">"UsesOTI9"</span>:<span class="hljs-number">0</span>,<span class="hljs-string">"ActiveFlag"</span>:<span class="hljs-literal">true</span>,<span class="hljs-string">"UsesPositionsFlag"</span>:<span class="hljs-literal">true</span>,<span class="hljs-string">"OrangeTreePassword"</span>:<span class="hljs-string">""</span>,<span class="hljs-string">"HirePassword"</span>:<span class="hljs-string">"NJ02"</span>,<span class="hljs-string">"AuthorizationCheckbox"</span>:<span class="hljs-literal">false</span>,<span class="hljs-string">"ApplyEmailApplicant"</span>:<span class="hljs-literal">true</span>,<span class="hljs-string">"IsDirty"</span>:<span class="hljs-literal">false</span>,<span class="hljs-string">"RegistrationNumber"</span>:<span class="hljs-string">"022511"</span>,<span class="hljs-string">"ConfigurationTypeId"</span>:<span class="hljs-number">0</span>,<span class="hljs-string">"ValidationErrors"</span>:null,<span class="hljs-string">"ApplyEmailLocation"</span>:<span class="hljs-literal">false</span>,<span class="hljs-string">"WOTCDisplayOption"</span>:<span class="hljs-number">4</span>,<span class="hljs-string">"WOTCFlag"</span>:<span class="hljs-number">1</span>,<span class="hljs-string">"OrangeTree"</span>:<span class="hljs-literal">false</span>,<span class="hljs-string">"UsesOTHireGuide"</span>:<span class="hljs-literal">false</span>,<span class="hljs-string">"WOTCHireFlag"</span>:<span class="hljs-literal">false</span>,<span class="hljs-string">"OrganizationName"</span>:<span class="hljs-string">"Widgets Club"</span>},<span class="hljs-string">"Comments"</span>:<span class="hljs-string">"                                                                                                                        "</span>,<span class="hljs-string">"DistrictId"</span>:<span class="hljs-number">1667</span>},<span class="hljs-string">"Selected"</span>:<span class="hljs-literal">false</span>},<span class="hljs-string">"index"</span>:<span class="hljs-number">0</span>,<span class="hljs-string">"y"</span>:<span class="hljs-number">36</span>,<span class="hljs-string">"type"</span>:<span class="hljs-string">"click"</span>,<span class="hljs-string">"rowData"</span>:{<span class="hljs-string">"className"</span>:<span class="hljs-string">"datarow0"</span>,<span class="hljs-string">"hasCheck"</span>:<span class="hljs-literal">false</span>,<span class="hljs-string">"datacontext"</span>:{<span class="hljs-string">"SAJJobLocationId"</span>:null,<span class="hljs-string">"OtherPhone"</span>:<span class="hljs-string">"            "</span>,<span class="hljs-string">"EmailAddress"</span>:<span class="hljs-string">"                                                            "</span>,<span class="hljs-string">"Region"</span>:{<span class="hljs-string">"RegionId"</span>:<span class="hljs-number">401270</span>,<span class="hljs-string">"RegionNumber"</span>:<span class="hljs-string">"100       "</span>,<span class="hljs-string">"EmailAddress"</span>:<span class="hljs-string">"test@test.com"</span>,<span class="hljs-string">"AltPhone"</span>:null,<span class="hljs-string">"ActiveFlag"</span>:<span class="hljs-literal">true</span>,<span class="hljs-string">"Fax"</span>:null,<span class="hljs-string">"Comments"</span>:null,<span class="hljs-string">"RegionName"</span>:<span class="hljs-string">"Region 1                                          "</span>,<span class="hljs-string">"OrganizationId"</span>:<span class="hljs-number">400297</span>,<span class="hljs-string">"Phone"</span>:null,<span class="hljs-string">"RegionManager"</span>:<span class="hljs-string">"                                        "</span>,<span class="hljs-string">"ValidationErrors"</span>:null},<span class="hljs-string">"StreetAddressId"</span>:<span class="hljs-number">7</span>,<span class="hljs-string">"OrganizationId"</span>:<span class="hljs-number">400297</span>,<span class="hljs-string">"Fax"</span>:<span class="hljs-string">"            "</span>,<span class="hljs-string">"MailingAddress"</span>:{<span class="hljs-string">"StateCode"</span>:<span class="hljs-string">"  "</span>,<span class="hljs-string">"AddressId"</span>:<span class="hljs-number">8</span>,<span class="hljs-string">"AddressLine1"</span>:<span class="hljs-string">"                                        "</span>,<span class="hljs-string">"City"</span>:<span class="hljs-string">"                              "</span>,<span class="hljs-string">"AddressLine2"</span>:<span class="hljs-string">"                                        "</span>,<span class="hljs-string">"ZipCode"</span>:<span class="hljs-string">"          "</span>,<span class="hljs-string">"ValidationErrors"</span>:null},<span class="hljs-string">"RegionId"</span>:<span class="hljs-number">401270</span>,<span class="hljs-string">"ActiveFlag"</span>:<span class="hljs-literal">true</span>,<span class="hljs-string">"MailingAddressId"</span>:<span class="hljs-number">8</span>,<span class="hljs-string">"IsDirty"</span>:<span class="hljs-literal">false</span>,<span class="hljs-string">"Phone"</span>:<span class="hljs-string">"            "</span>,<span class="hljs-string">"ApplicationLocationName"</span>:<span class="hljs-string">"Centreville Mall                                            "</span>,<span class="hljs-string">"Manager"</span>:<span class="hljs-string">"                                        "</span>,<span class="hljs-string">"StreetAddress"</span>:{<span class="hljs-string">"StateCode"</span>:<span class="hljs-string">"VA"</span>,<span class="hljs-string">"AddressId"</span>:<span class="hljs-number">7</span>,<span class="hljs-string">"AddressLine1"</span>:<span class="hljs-string">"1414 North Street                       "</span>,<span class="hljs-string">"City"</span>:<span class="hljs-string">"Centreville                   "</span>,<span class="hljs-string">"AddressLine2"</span>:<span class="hljs-string">"Suite 344                               "</span>,<span class="hljs-string">"ZipCode"</span>:<span class="hljs-string">"20121     "</span>,<span class="hljs-string">"ValidationErrors"</span>:null},<span class="hljs-string">"ValidationErrors"</span>:null,<span class="hljs-string">"LocationNumber"</span>:<span class="hljs-string">"300       "</span>,<span class="hljs-string">"District"</span>:{<span class="hljs-string">"EmailAddress"</span>:<span class="hljs-string">"test@test.com"</span>,<span class="hljs-string">"DistrictName"</span>:<span class="hljs-string">"District 1                              "</span>,<span class="hljs-string">"ActiveFlag"</span>:<span class="hljs-literal">true</span>,<span class="hljs-string">"DistrictNumber"</span>:<span class="hljs-string">"100       "</span>,<span class="hljs-string">"ValidationErrors"</span>:null,<span class="hljs-string">"DistrictId"</span>:<span class="hljs-number">1667</span>,<span class="hljs-string">"OrganizationId"</span>:<span class="hljs-number">400297</span>},<span class="hljs-string">"LocationName"</span>:<span class="hljs-string">"Centreville Mall                                  "</span>,<span class="hljs-string">"LocationEmails"</span>:[],<span class="hljs-string">"ExcludeFromHiring"</span>:<span class="hljs-literal">false</span>,<span class="hljs-string">"LocationId"</span>:<span class="hljs-number">405762</span>,<span class="hljs-string">"Organization"</span>:{<span class="hljs-string">"NoBackgroundChecks"</span>:<span class="hljs-literal">true</span>,<span class="hljs-string">"UsesSecondaryAuthorization"</span>:<span class="hljs-literal">false</span>,<span class="hljs-string">"OrganizationOptions"</span>:null,<span class="hljs-string">"IsFranchisee"</span>:<span class="hljs-literal">false</span>,<span class="hljs-string">"SAJBillingAccountId"</span>:null,<span class="hljs-string">"OrangeTreeId"</span>:<span class="hljs-string">""</span>,<span class="hljs-string">"IsDemo"</span>:<span class="hljs-literal">false</span>,<span class="hljs-string">"LogoFile"</span>:<span class="hljs-string">"assets/logos/widgets.gif"</span>,<span class="hljs-string">"AlertForNoOTResponse"</span>:<span class="hljs-literal">false</span>,<span class="hljs-string">"OrganizationId"</span>:<span class="hljs-number">400297</span>,<span class="hljs-string">"DefaultDaysToView"</span>:<span class="hljs-number">0</span>,<span class="hljs-string">"WOTCDisplayAmount"</span>:<span class="hljs-literal">true</span>,<span class="hljs-string">"UsesOrangeTree"</span>:<span class="hljs-number">0</span>,<span class="hljs-string">"UsesOTI9"</span>:<span class="hljs-number">0</span>,<span class="hljs-string">"ActiveFlag"</span>:<span class="hljs-literal">true</span>,<span class="hljs-string">"UsesPositionsFlag"</span>:<span class="hljs-literal">true</span>,<span class="hljs-string">"OrangeTreePassword"</span>:<span class="hljs-string">""</span>,<span class="hljs-string">"HirePassword"</span>:<span class="hljs-string">"NJ02"</span>,<span class="hljs-string">"AuthorizationCheckbox"</span>:<span class="hljs-literal">false</span>,<span class="hljs-string">"ApplyEmailApplicant"</span>:<span class="hljs-literal">true</span>,<span class="hljs-string">"IsDirty"</span>:<span class="hljs-literal">false</span>,<span class="hljs-string">"RegistrationNumber"</span>:<span class="hljs-string">"022511"</span>,<span class="hljs-string">"ConfigurationTypeId"</span>:<span class="hljs-number">0</span>,<span class="hljs-string">"ValidationErrors"</span>:null,<span class="hljs-string">"ApplyEmailLocation"</span>:<span class="hljs-literal">false</span>,<span class="hljs-string">"WOTCDisplayOption"</span>:<span class="hljs-number">4</span>,<span class="hljs-string">"WOTCFlag"</span>:<span class="hljs-number">1</span>,<span class="hljs-string">"OrangeTree"</span>:<span class="hljs-literal">false</span>,<span class="hljs-string">"UsesOTHireGuide"</span>:<span class="hljs-literal">false</span>,<span class="hljs-string">"WOTCHireFlag"</span>:<span class="hljs-literal">false</span>,<span class="hljs-string">"OrganizationName"</span>:<span class="hljs-string">"Widgets Club"</span>},<span class="hljs-string">"Comments"</span>:<span class="hljs-string">"                                                                                                                        "</span>,<span class="hljs-string">"DistrictId"</span>:<span class="hljs-number">1667</span>},<span class="hljs-string">"Selected"</span>:<span class="hljs-literal">false</span>},<span class="hljs-string">"searchMode"</span>:<span class="hljs-literal">false</span>,<span class="hljs-string">"detail"</span>:<span class="hljs-literal">false</span>,<span class="hljs-string">"source"</span>:{<span class="hljs-string">"title"</span>:<span class="hljs-string">""</span>,<span class="hljs-string">"touchEnabled"</span>:<span class="hljs-literal">true</span>,<span class="hljs-string">"text"</span>:<span class="hljs-string">"Centreville Mall                                  "</span>,<span class="hljs-string">"height"</span>:<span class="hljs-number">50</span>}}
</code></pre>
		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="August 11th 2011, 7:37:27 am">August 11th 2011</span>
				by <span class='authorname'>Andy Savage</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>json</span></li>
					
						<li><span class='tagname'>stringify</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>4</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>4 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-216178">
				
						<section>
							<p>I am unable to reproduce this problem using this trivial example. It returns the expected output on both iPhone and Android using the 1.7.2 mobile SDK. </p>
<pre><code class="hljs">var obj = {
    var1: <span class="hljs-string">'value1'</span>,
    var2: <span class="hljs-string">'value2'</span>,
    var3: {
        inner1: <span class="hljs-string">'inner1'</span>,
        inner2:{
            moreInner: <span class="hljs-string">'moreInner'</span>    
        },
        inner3: <span class="hljs-string">'inner3'</span>
    },
    var4: <span class="hljs-string">'value4'</span>
};

alert(JSON.stringify(obj));
</code></pre><p>Have you tried inspecting your <code>e</code> object just before the <code>Ti.API.debug()</code> call using a breakpoint with the integrated debugger in Titanium Studio? This way you can be certain that the <code>e</code> object actually contains the same properties on both iPhone and Android.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 11th 2011, 12:24:52 pm">August 11th 2011</span>
								by <span class='authorname'>Tony Lukasavage</span><br>
								<a class="icon-bg icon-link" href="question/124095/android-jsonstringify-not-working-correctly-on-android#answer-216178" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Thanks for your response Tony.  The data I showed from both iPhone and Android are coming from the Ti.API.debug call in the listing I provided.  I will attempt you simpler example and let you know how it goes.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 11th 2011, 12:33:55 pm">August 11th 2011</span>
											by <span class='authorname'>Andy Savage</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-216232">
				
						<section>
							<p>The problem isn&#39;t with JSON.stringify().  The problem is that the event passed to the listener seems to be different on the two platforms.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 11th 2011, 5:43:09 pm">August 11th 2011</span>
								by <span class='authorname'>K T</span><br>
								<a class="icon-bg icon-link" href="question/124095/android-jsonstringify-not-working-correctly-on-android#answer-216232" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Right, I confirmed that the stringify() doesn&#39;t seem to be a problem and Andy will inspect his event from the debugger to see if they are the same or not. If they differ, he&#39;ll post a self contained example we can hammer on til we figure it out.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 11th 2011, 5:55:21 pm">August 11th 2011</span>
											by <span class='authorname'>Tony Lukasavage</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-216374">
				
						<section>
							<p>The code Tony gave works as expected. The event argument is from clicking a tableviewrow and the debugger shows the complex object as expected.  When I stringify it, the problem shows in the debugger expression window yet the object shows up perfectly.  Exactly when I enter the expression: &quot;JSON.stringify(e)&quot; and hit [enter], I noticed in the Android Emulator Process Console spit out a slew of errors shown below and think the &quot;Unsupported type&quot; may be where the problem is:  (BTW:  I also saw something very similar when the event argument was from an Android Menu)</p>
<p>D&#x2F;TiAPI   (  572): (kroll$3: app:&#x2F;&#x2F;views&#x2F;ChangeLocationAG.js) [21810,1480033] Session Values In Storage : {&quot;StatusFilterId&quot;:null,&quot;ApplicantStatusName&quot;:null,&quot;SessionID&quot;:&quot;MobileUser&quot;,&quot;e&quot;:{&quot;type&quot;:&quot;click&quot;,&quot;searchMode&quot;:false,&quot;index&quot;:0,&quot;detail&quot;:false},&quot;ApplicantStatusId&quot;:null,&quot;AppVersion&quot;:&quot;1.0&quot;,&quot;StatusFilterName&quot;:&quot;All&quot;,&quot;Password&quot;:&quot;t3st!ng&quot;,&quot;ApplicantID&quot;:null,&quot;OrganizationID&quot;:400297,&quot;Token&quot;:&quot;VsKBhz909V4gs97gDZGpzrrRscWaz\&#x2F;M=&quot;,&quot;Applicant&quot;:null,&quot;SortType&quot;:&quot;Score&quot;,&quot;LocationName&quot;:&quot;Short Pump Mall                                   &quot;,&quot;LocationID&quot;:405757,&quot;Username&quot;:&quot;AtlAUser1&quot;,&quot;SortDirection&quot;:&quot;Descending&quot;,&quot;DaysBack&quot;:30,&quot;SortTypeText&quot;:&quot;Score&quot;}<br>W&#x2F;TiConvert(  572): (kroll$3: app:&#x2F;&#x2F;views&#x2F;ChangeLocationAG.js) [10,1480043] Unsupported type class ti.modules.titanium.ui.TableViewRowProxy<br>W&#x2F;TiConvert(  572): (kroll$3: app:&#x2F;&#x2F;views&#x2F;ChangeLocationAG.js) [2,1480045] Unsupported type class ti.modules.titanium.ui.TableViewRowProxy<br>W&#x2F;TiConvert(  572): (kroll$3: app:&#x2F;&#x2F;views&#x2F;ChangeLocationAG.js) [1,1480046] Unsupported type class ti.modules.titanium.ui.TableViewSectionProxy<br>W&#x2F;TiConvert(  572): (kroll$3: app:&#x2F;&#x2F;views&#x2F;ChangeLocationAG.js) [2,1480048] Unsupported type class ti.modules.titanium.ui.TableViewRowProxy<br>D&#x2F;TiAPI   (  572): (kroll$3: app:&#x2F;&#x2F;views&#x2F;ChangeLocationAG.js) [67205,1547253] Session Stored: {&quot;StatusFilterId&quot;:null,&quot;ApplicantStatusName&quot;:null,&quot;SessionID&quot;:&quot;MobileUser&quot;,&quot;e&quot;:{&quot;type&quot;:&quot;click&quot;,&quot;searchMode&quot;:false,&quot;index&quot;:0,&quot;detail&quot;:false},&quot;ApplicantStatusId&quot;:null,&quot;AppVersion&quot;:&quot;1.0&quot;,&quot;StatusFilterName&quot;:&quot;All&quot;,&quot;Password&quot;:&quot;t3st!ng&quot;,&quot;ApplicantID&quot;:null,&quot;OrganizationID&quot;:400297,&quot;Token&quot;:&quot;VsKBhz909V4gs97gDZGpzrrRscWaz\&#x2F;M=&quot;,&quot;Applicant&quot;:null,&quot;SortType&quot;:&quot;Score&quot;,&quot;LocationName&quot;:&quot;Short Pump Mall                                   &quot;,&quot;LocationID&quot;:405757,&quot;Username&quot;:&quot;AtlAUser1&quot;,&quot;SortDirection&quot;:&quot;Descending&quot;,&quot;DaysBack&quot;:30,&quot;SortTypeText&quot;:&quot;Score&quot;}<br>W&#x2F;TiConvert(  572): (kroll$3: app:&#x2F;&#x2F;views&#x2F;ChangeLocationAG.js) [10736,1557989] Unsupported type class ti.modules.titanium.ui.TableViewRowProxy<br>W&#x2F;TiConvert(  572): (kroll$3: app:&#x2F;&#x2F;views&#x2F;ChangeLocationAG.js) [2,1557991] Unsupported type class ti.modules.titanium.ui.TableViewRowProxy<br>W&#x2F;TiConvert(  572): (kroll$3: app:&#x2F;&#x2F;views&#x2F;ChangeLocationAG.js) [2,1557993] Unsupported type class ti.modules.titanium.ui.TableViewSectionProxy<br>W&#x2F;TiConvert(  572): (kroll$3: app:&#x2F;&#x2F;views&#x2F;ChangeLocationAG.js) [1,1557994] Unsupported type class ti.modules.titanium.ui.TableViewRowProxy<br>W&#x2F;TiConvert(  572): (kroll$3: app:&#x2F;&#x2F;views&#x2F;ChangeLocationAG.js) [23,1558017] Unsupported type class ti.modules.titanium.ui.TableViewRowProxy<br>W&#x2F;TiConvert(  572): (kroll$3: app:&#x2F;&#x2F;views&#x2F;ChangeLocationAG.js) [1,1558018] Unsupported type class ti.modules.titanium.ui.TableViewRowProxy<br>W&#x2F;TiConvert(  572): (kroll$3: app:&#x2F;&#x2F;views&#x2F;ChangeLocationAG.js) [2,1558020] Unsupported type class ti.modules.titanium.ui.TableViewSectionProxy<br>W&#x2F;TiConvert(  572): (kroll$3: app:&#x2F;&#x2F;views&#x2F;ChangeLocationAG.js) [2,1558022] Unsupported type class ti.modules.titanium.ui.TableViewRowProxy</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 12th 2011, 6:40:24 pm">August 12th 2011</span>
								by <span class='authorname'>Andy Savage</span><br>
								<a class="icon-bg icon-link" href="question/124095/android-jsonstringify-not-working-correctly-on-android#answer-216374" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Apologies, meant to include that I am now running Nightly Build 1.8.0.v20110811101746</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 12th 2011, 6:46:10 pm">August 12th 2011</span>
											by <span class='authorname'>Andy Savage</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-216520">
				
						<section>
							<p>To duplicate this in KitchenSink change table_view_refresh.js to the code below.</p>
<p>You will notice e has several propertied that do not appear in the debug output (row, rowData, source).</p>
<p>Any directions would be apprecated. </p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> win = Ti.UI.currentWindow;

<span class="hljs-keyword">var</span> tv = Ti.UI.createTableView({
    style:Titanium.UI.iPhone.TableViewStyle.GROUPED
});
tv.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)</span>{
    Ti.API.debug(e.row);
});
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setData</span>(<span class="hljs-params"></span>)
</span>{
    <span class="hljs-keyword">var</span> data = [];
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i=<span class="hljs-number">0</span>;i&lt;<span class="hljs-number">30</span>;i++)
    {
        <span class="hljs-keyword">var</span> row = Ti.UI.createTableViewRow({height:<span class="hljs-number">50</span>});
        <span class="hljs-keyword">var</span> l1 = Ti.UI.createLabel({text:<span class="hljs-string">'Label '</span> +  i, font:{fontSize:<span class="hljs-number">14</span>}, color:<span class="hljs-string">'#888'</span>, left:<span class="hljs-number">5</span>});
        row.add(l1);
        <span class="hljs-keyword">var</span> image1 = Ti.UI.createImageView({image:<span class="hljs-string">'../images/chat.png'</span>, right:<span class="hljs-number">5</span>,height:<span class="hljs-number">23</span>, width:<span class="hljs-number">29</span>});
        row.add(image1);
        data.push(row);
    }
    tv.setData(data);
}

tv.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)</span>{
    Ti.API.debug(<span class="hljs-string">'Event: '</span> + <span class="hljs-built_in">JSON</span>.stringify(e))
});
<span class="hljs-keyword">var</span> refresh = Titanium.UI.createButton({
    systemButton:Titanium.UI.iPhone.SystemButton.REFRESH
});
refresh.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)
</span>{
    tv.setData([]);
    setTimeout(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)
    </span>{
        setData();
    },<span class="hljs-number">1000</span>);
});

<span class="hljs-keyword">if</span> (Ti.Platform.name == <span class="hljs-string">'iPhone OS'</span>) {
    win.rightNavButton = refresh;
} <span class="hljs-keyword">else</span> {
    refresh.top = <span class="hljs-number">5</span>;
    refresh.title = <span class="hljs-string">"Refresh"</span>;
    refresh.width = <span class="hljs-number">200</span>;
    tv.top = <span class="hljs-number">60</span>;
    win.add(refresh);
}

win.add(tv);
setData();
</code></pre><p>iPhone Output:</p>
<pre><code class="hljs">[DEBUG] Event: {<span class="hljs-string">"x"</span>:<span class="hljs-number">175</span>,<span class="hljs-string">"section"</span>:{},<span class="hljs-string">"row"</span>:{<span class="hljs-string">"height"</span>:<span class="hljs-number">50</span>},<span class="hljs-string">"index"</span>:<span class="hljs-number">0</span>,<span class="hljs-string">"y"</span>:<span class="hljs-number">37</span>,<span class="hljs-string">"globalPoint"</span>:{<span class="hljs-string">"x"</span>:<span class="hljs-number">175</span>,<span class="hljs-string">"y"</span>:<span class="hljs-number">121</span>},<span class="hljs-string">"type"</span>:<span class="hljs-string">"click"</span>,<span class="hljs-string">"rowData"</span>:{<span class="hljs-string">"height"</span>:<span class="hljs-number">50</span>},<span class="hljs-string">"searchMode"</span>:<span class="hljs-literal">false</span>,<span class="hljs-string">"detail"</span>:<span class="hljs-literal">false</span>,<span class="hljs-string">"source"</span>:{<span class="hljs-string">"left"</span>:<span class="hljs-number">5</span>,<span class="hljs-string">"text"</span>:<span class="hljs-string">"Label 0"</span>,<span class="hljs-string">"font"</span>:{<span class="hljs-string">"fontSize"</span>:<span class="hljs-number">14</span>},<span class="hljs-string">"color"</span>:<span class="hljs-string">"#888"</span>}}
</code></pre><p>Android Output:</p>
<pre><code class="hljs">[INFO] Event: {<span class="hljs-string">"type"</span>:<span class="hljs-string">"click"</span>,<span class="hljs-string">"searchMode"</span>:<span class="hljs-literal">false</span>,<span class="hljs-string">"index"</span>:<span class="hljs-number">1</span>,<span class="hljs-string">"detail"</span>:<span class="hljs-literal">false</span>}
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 15th 2011, 1:21:16 pm">August 15th 2011</span>
								by <span class='authorname'>Andy Savage</span><br>
								<a class="icon-bg icon-link" href="question/124095/android-jsonstringify-not-working-correctly-on-android#answer-216520" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
