<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Image format returned by Ti.Media.showCamera event.media on iOS Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Image format returned by Ti.Media.showCamera event.media on iOS</h1>
		</header>
		<section>
			<p>When capturing photos from the camera on iOS what format is the data returned by event.media?</p>
<p>I&#39;m actually using Ti.Utils.base64encode(event.media).toString() to store the value in json for sending to a server. I can unecode the base64 string and display the photo in a view on the iPhone again without issue, but I&#39;m trying to consume this base64 encoded image in other applications via the html image tag but am not having much joy.</p>
<p>e.g.&lt;img<br>src=&quot;data:image&#x2F;jpg;base64,&#x2F;9j&#x2F;4AAQSk<strong>&lt;SNIP!!!&gt;</strong>&#x2F;2Q==&quot; &#x2F;&gt; </p>
<p>Any ideas?</p>
<p>Cheers,<br>Gavin</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="May 3rd 2012, 1:25:23 am">May 3rd 2012</span>
				by <span class='authorname'>Gavin Harriss</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>base64</span></li>
					
						<li><span class='tagname'>camera</span></li>
					
						<li><span class='tagname'>html</span></li>
					
						<li><span class='tagname'>iphone</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>5</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>5 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-237735">
				
						<section>
							<p>Did you try <code>event.mediaType</code> ?</p>
<pre><code class="hljs"><span class="hljs-tag">Ti</span><span class="hljs-class">.Media</span><span class="hljs-class">.showCamera</span>(<span class="hljs-rules">{
    <span class="hljs-rule"><span class="hljs-attribute">success</span>:<span class="hljs-value"><span class="hljs-function">function</span>(event) {
        // called when media returned from the camera
        Ti.API.<span class="hljs-function">debug</span>(<span class="hljs-string">'Our type was: '</span>+event.mediaType)</span></span>;
    }</span>
});
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="May 3rd 2012, 1:55:27 am">May 3rd 2012</span>
								by <span class='authorname'>Minh Nguyen</span><br>
								<a class="icon-bg icon-link" href="question/136383/image-format-returned-by-timediashowcamera-eventmedia-on-ios#answer-237735" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Apparently it&#39;s of type &quot;public.image&quot; - any idea how to convert to a jpeg?</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 3rd 2012, 2:14:31 am">May 3rd 2012</span>
											by <span class='authorname'>Gavin Harriss</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-238045">
				
						<section>
							<p>My bad, seems I can display the base64 encoded images on a web page as-is without explicitly specifying they&#39;re jpeg&#39;s from the iPhone before encoding. Seems my issue was the json parser I was using server-side. Was leaving \r\n chars (line breaks) in the string extracted from the json.</p>
<p>Thank you for your help and sorry I was requesting help for a non-issue iPhone Titanium side of things!</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="May 7th 2012, 9:53:00 pm">May 7th 2012</span>
								by <span class='authorname'>Gavin Harriss</span><br>
								<a class="icon-bg icon-link" href="question/136383/image-format-returned-by-timediashowcamera-eventmedia-on-ios#answer-238045" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-246336">
				
						<section>
							<p>Any idea how to get data from the event data. I get the value as event:{&quot;type&quot;:&quot;success&quot;,&quot;source&quot;:{},&quot;mediaType&quot;:&quot;public.image&quot;,&quot;cropRect&quot;:{&quot;y&quot;:0,&quot;width&quot;:960,&quot;x&quot;:0,&quot;height&quot;:720},&quot;media&quot;:{}}</p>
<p>But no information about how to get media details from array</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 30th 2012, 7:29:20 am">August 30th 2012</span>
								by <span class='authorname'>Sreekumar K U</span><br>
								<a class="icon-bg icon-link" href="question/136383/image-format-returned-by-timediashowcamera-eventmedia-on-ios#answer-246336" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-246337">
				
						<section>
							<p>My post here http:&#x2F;&#x2F;developer.appcelerator.com&#x2F;question&#x2F;141669&#x2F;eventmedia-returning-null-in-iphone</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 30th 2012, 7:35:12 am">August 30th 2012</span>
								by <span class='authorname'>Sreekumar K U</span><br>
								<a class="icon-bg icon-link" href="question/136383/image-format-returned-by-timediashowcamera-eventmedia-on-ios#answer-246337" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-237738">
				
						<section>
							<p>Hi Gavin,</p>
<p>If you want to imageType as jpeg than you can set this way.I have put some extra code of write image so that you can see the image type in your application directory.Best Luck</p>
<pre><code class="hljs"><span class="hljs-variable"><span class="hljs-keyword">var</span> imgName</span> = 'YourimageName.jpeg'; <span class="hljs-comment">// or you can set .jpg</span>

<span class="hljs-variable"><span class="hljs-keyword">var</span> imgData</span> = event.media;
ImageView.image = imgData;
<span class="hljs-comment">//===</span>
<span class="hljs-variable"><span class="hljs-keyword">var</span> gf</span> = Titanium.Filesystem.getFile(Titanium.Filesystem.applicationDataDirectory, imgName);
<span class="hljs-variable"><span class="hljs-keyword">var</span> blb</span> = ImageView.toImage();
gf.write(blb);
<span class="hljs-comment">//====</span>
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="May 3rd 2012, 3:07:16 am">May 3rd 2012</span>
								by <span class='authorname'>Nitin Chavda</span><br>
								<a class="icon-bg icon-link" href="question/136383/image-format-returned-by-timediashowcamera-eventmedia-on-ios#answer-237738" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Hi Nitin, thanks for that - so basically I must save the image to the file system to get a jpeg? The format being changed from public.image to jpeg as part of the write process? I was hoping to avoid using the file system as I&#39;d prefer to base64 encode the image from memory directly rather than involving the file system.</p>
</p>
										<div class="author">
											&mdash; commented <span title="May 7th 2012, 8:36:07 pm">May 7th 2012</span>
											by <span class='authorname'>Gavin Harriss</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>-1</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
