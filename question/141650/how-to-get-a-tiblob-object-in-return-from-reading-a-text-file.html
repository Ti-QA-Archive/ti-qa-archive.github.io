<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>How to get a Ti.blob object in return  from reading a text file. » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>How to get a Ti.blob object in return  from reading a text file.</h1>
		</header>
		<section>
			<p>Hi,<br>    I am trying to execute the following code</p>
<pre><code class="hljs">    var TextFile = Titanium.Filesystem.getFile(Ti.Filesystem.resourcesDirectory,<span class="hljs-string">"Test.xml"</span>);
    var textFile = TextFile.read();
    alert(<span class="hljs-attribute">'value</span> <span class="hljs-keyword">is</span> '+textFile);//<span class="hljs-keyword">return</span> content <span class="hljs-keyword">of</span> <span class="hljs-keyword">file</span>.<span class="hljs-keyword">and</span> <span class="hljs-keyword">type</span> <span class="hljs-keyword">is</span> object.
</code></pre><p>According to the Appcelerator documentation,It should return me Ti.Blob Object.But It is returning me the content of the file.so I dont know what I am missing here.Please help!!!!</p>
<p>or is there any alternate way to get the blob object corresponding to a file.</p>
<p>Thanks</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="August 30th 2012, 4:45:21 am">August 30th 2012</span>
				by <span class='authorname'>pankaj Goyal</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>blob</span></li>
					
						<li><span class='tagname'>file</span></li>
					
						<li><span class='tagname'>titanium</span></li>
					
				</ul>
			

			<section>
				<h5>3 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Have you tried <code>var textFile = TextFile.read().toBlob();</code>?</p>
</div>
							<div class="author">
								&mdash; commented <span title="August 30th 2012, 7:13:05 pm">August 30th 2012</span>
								by <span class='authorname'>Shawn Lipscomb</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Hi Shawn,<br>                  toBlob() method is not allowed for this object.Even I have tried it,It is giving me Error &#39;undefined&#39; is not a function (evaluating &#39;TextFile.read().toBlob()&#39;).<br>and that make sense because toBlob() method is not valid for this object.</p>
</div>
							<div class="author">
								&mdash; commented <span title="August 31st 2012, 3:01:39 am">August 31st 2012</span>
								by <span class='authorname'>pankaj Goyal</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Any Answer or Suggestion???????????????????????????</p>
</div>
							<div class="author">
								&mdash; commented <span title="September 1st 2012, 3:13:22 pm">September 1st 2012</span>
								by <span class='authorname'>pankaj Goyal</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>4</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>4 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-246389">
				
						<section>
							<p>Hi,</p>
<p>I don&#39;t think you have a problem.  I just tried it in 2.1.1GA and when I do</p>
<pre><code class="hljs"><span class="hljs-variable"><span class="hljs-keyword">var</span> TextFile</span> = Titanium.Filesystem.getFile(Ti.Filesystem.resourcesDirectory,<span class="hljs-string">"my.xml"</span>);
<span class="hljs-variable"><span class="hljs-keyword">var</span> textFile</span> = TextFile.read();
Ti.API.error('blob info: ',textFile.getMimeType(), textFile.getNativePath(), textFile.getLength());
</code></pre><p>it prints out the relevant information </p>
<pre><code class="hljs">[ERROR] value is  application/<span class="hljs-keyword">xml</span> <span class="hljs-title">file</span>://localhost/Users/..../my.<span class="hljs-keyword">xml</span> <span class="hljs-title">12</span>
</code></pre><p>I suppose that it defaults to toString() when you don&#39;t specify a method.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 30th 2012, 4:57:37 pm">August 30th 2012</span>
								by <span class='authorname'>Thierry Godfroid</span><br>
								<a class="icon-bg icon-link" href="question/141650/how-to-get-a-tiblob-object-in-return-from-reading-a-text-file#answer-246389" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p><a href="link">http:&#x2F;&#x2F;docs.appcelerator.com&#x2F;titanium&#x2F;2.1&#x2F;index.html#!&#x2F;api&#x2F;Titanium.Filesystem.File-method-read</a><br>According to documentation on above link,it is saying that read method on a file return us a TiBlob Object.But this is not the case here.It is returning me the full content of the file.and when I am Using Image by replacing xml file.then it returns me TiBlob object.This same case should be with text file and xml file according to their documentation.</p>
<p>Below is the second link of their documentation that  has the example with same behaviour that I am Expecting<br><a href="link">http:&#x2F;&#x2F;developer.appcelerator.com&#x2F;apidoc&#x2F;mobile&#x2F;1.8.2&#x2F;Titanium.Filesystem.File-object.html</a></p>
<p>Thanks</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 30th 2012, 6:28:54 pm">August 30th 2012</span>
											by <span class='authorname'>pankaj Goyal</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-246413">
				
						<section>
							<p>If this is not Working,Can anyone Please tell me some way to get binary data from the content that resides in any text or xml file.</p>
<p>Thanks.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 31st 2012, 3:08:44 am">August 31st 2012</span>
								by <span class='authorname'>pankaj Goyal</span><br>
								<a class="icon-bg icon-link" href="question/141650/how-to-get-a-tiblob-object-in-return-from-reading-a-text-file#answer-246413" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-246681">
				
						<section>
							<p>I get a workaround on this,After getting the content of the file,I van convert them into Binary or can convert that into Base64 that you can send across network.SO This way works for me.Might it helps you all as well.</p>
<p>Thanks</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="September 4th 2012, 3:40:18 pm">September 4th 2012</span>
								by <span class='authorname'>pankaj Goyal</span><br>
								<a class="icon-bg icon-link" href="question/141650/how-to-get-a-tiblob-object-in-return-from-reading-a-text-file#answer-246681" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-249049">
				
						<section>
							<p>Hi me too i have the same problem, i&#39;ve been researching but no answer my xml file  has endogin &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; and i also has the same issue when try to read it</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="October 11th 2012, 1:04:07 am">October 11th 2012</span>
								by <span class='authorname'>Luis Fernando Martinez Rodriguez</span><br>
								<a class="icon-bg icon-link" href="question/141650/how-to-get-a-tiblob-object-in-return-from-reading-a-text-file#answer-249049" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
