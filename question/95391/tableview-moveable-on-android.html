<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>TableView moveable on Android » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>TableView moveable on Android</h1>
		</header>
		<section>
			<p>It seems a &#39;moveable&#39; TableView (ability to drag TableViewRows up and down I assume) is currently not supported under Android.  Is this true?<br>If so - any updates on when it&#39;d be supported?<br>Thanks…</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="December 30th 2010, 9:41:06 pm">December 30th 2010</span>
				by <span class='authorname'>Takahito Torimoto</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>mobile</span></li>
					
						<li><span class='tagname'>movable</span></li>
					
						<li><span class='tagname'>move</span></li>
					
						<li><span class='tagname'>tableview</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>3</span> Votes</div>
			<div class="answers"><span>4</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>4 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-171021">
				
						<section>
							<p>Takahito</p>
<p>The primary reason for Tableviews is that the views they contain (the rows) can be scrolled, so I am not really sure what you mean. For the <a href="http:&#x2F;&#x2F;developer.appcelerator.com&#x2F;apidoc&#x2F;mobile&#x2F;latest&#x2F;Titanium.UI.TableView-object">Ti.UI.TableView</a> object, you can set the <code>moving</code> boolean property to false to prevent the table scrolling, but the default behavior is for the table to scroll (ie <code>moving:true</code>).</p>
<p>Hope this clarifies matters.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="December 30th 2010, 10:40:19 pm">December 30th 2010</span>
								by <span class='authorname'>Paul Dowsett</span><br>
								<a class="icon-bg icon-link" href="question/95391/tableview-moveable-on-android#answer-171021" rel="permalink">permalink</a>
							</div>

							<h5>8 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Hal,</p>
<p>I think he is referring to the iOS specific technique of being able to &quot;drag&quot; rows around.  See the kitchen sink examples for a <a href="https:&#x2F;&#x2F;github.com&#x2F;appcelerator&#x2F;KitchenSink&#x2F;blob&#x2F;master&#x2F;KitchenSink&#x2F;Resources&#x2F;examples&#x2F;table_view_edit_and_move.js">table_view_edit_and_move</a> or just <a href="https:&#x2F;&#x2F;github.com&#x2F;appcelerator&#x2F;KitchenSink&#x2F;blob&#x2F;master&#x2F;KitchenSink&#x2F;Resources&#x2F;examples&#x2F;table_view_move.js">move</a> for how they work.</p>
<p>But they rely on support in the OS, and AFAIK tables in android OS have no such underlying property and support.  Since titanium really only maps stuff to real native controls, it can&#39;t enable a feature in a control such as a table view that the OS itself does not support.  (Well it could, if the module took it upon itself to extend the capability and handle all the logic itself.  But I don&#39;t think that is titanium&#39;s present paradigm.)</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 30th 2010, 11:00:24 pm">December 30th 2010</span>
											by <span class='authorname'>Doug Handy</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Doug - yes you are correct.  I guess that makes sense - I&#39;ve seen some Android apps do draggable&#x2F;movable rows in a TableView - but I assume it&#39;s not being done natively.  I wish they had that - it&#39;s quite a useful capability…<br>It&#39;d be nice if someone did have some sample code that did that in Android using Titanium…</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 30th 2010, 11:16:32 pm">December 30th 2010</span>
											by <span class='authorname'>Takahito Torimoto</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Thanks for clarifying that, Doug. I have noticed that there is nothing to indicate the platform-specific nature of the move event, so have raised ticket <a href="https:&#x2F;&#x2F;appcelerator.lighthouseapp.com&#x2F;projects&#x2F;32238-titanium-mobile&#x2F;tickets&#x2F;2716">#2716</a> to address it.</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 30th 2010, 11:40:17 pm">December 30th 2010</span>
											by <span class='authorname'>Paul Dowsett</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Hal - it&#39;d be great if there was much better documentation supporting the differences (maybe even a simple chart) between iOS and Android on what is supported or not on each - and whether it will be a future implementation (based on whether it has native ability to or not).<br>Another one I found is - TableViewSection - at least according to the KitchenSink - it&#39;s not available (or fully supported) on Android yet.</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 31st 2010, 12:51:50 am">December 31st 2010</span>
											by <span class='authorname'>Takahito Torimoto</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Takahito</p>
<p>Ti.UI.TableViewSection is supported on both platforms, as indicated by the android and apple icons in the top right hand corner of the <a href="http:&#x2F;&#x2F;developer.appcelerator.com&#x2F;apidoc&#x2F;mobile&#x2F;latest&#x2F;Titanium.UI.TableViewSection-object">Ti.UI.TableViewSection</a> page.</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 31st 2010, 1:46:14 am">December 31st 2010</span>
											by <span class='authorname'>Paul Dowsett</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Hal - thanks!  I don&#39;t know why I never noticed those little icons… :-) Glad to hear!</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 31st 2010, 1:58:38 am">December 31st 2010</span>
											by <span class='authorname'>Takahito Torimoto</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Hal - I hope you guys can update the KitchenSink so that it is also used in an Android context.  The current version of KitchenSink (1.5.1) does not use TableViewSection unless it&#39;s under iOS…</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 31st 2010, 2:00:53 am">December 31st 2010</span>
											by <span class='authorname'>Takahito Torimoto</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I simply comment out the statements that prevent those screens from appearing on android.</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 31st 2010, 3:36:37 am">December 31st 2010</span>
											by <span class='authorname'>Paul Dowsett</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-171061">
				
						<section>
							<p>Remove text of duplicate posting.  (Still have not gotten used to how this Q&amp;A works!)</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="December 30th 2010, 11:05:41 pm">December 30th 2010</span>
								by <span class='authorname'>Doug Handy</span><br>
								<a class="icon-bg icon-link" href="question/95391/tableview-moveable-on-android#answer-171061" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-171091">
				
						<section>
							<p>Takahito,</p>
<p>AFAIK, the moveable property is highly unlikely to be supported in android until the OS itself has support for it in native apps.  I have never seen any Android app which has the feature.</p>
<p>But I could be wrong.  I am just a relatively new user myself, and know very little about the plans and timelines.  I don&#39;t even know for sure android OS has no native equivalent.  I just know I haven&#39;t seen one myself in any android app.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="December 30th 2010, 11:16:00 pm">December 30th 2010</span>
								by <span class='authorname'>Doug Handy</span><br>
								<a class="icon-bg icon-link" href="question/95391/tableview-moveable-on-android#answer-171091" rel="permalink">permalink</a>
							</div>

							<h5>3 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>The free Android app &quot;Quick Settings&quot; does this when you go to Menu-&gt;Customize to setup the visible order of settings.  I also saw something similar on another app but I can&#39;t remember what app it was - maybe it was Locale (which I don&#39;t use anymore)?</p>
</p>
										<div class="author">
											&mdash; commented <span title="December 30th 2010, 11:19:21 pm">December 30th 2010</span>
											by <span class='authorname'>Takahito Torimoto</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Here is the website (it&#39;s Open Source!) <a href="http:&#x2F;&#x2F;code.google.com&#x2F;p&#x2F;quick-settings&#x2F;">http:&#x2F;&#x2F;code.google.com&#x2F;p&#x2F;quick-settings&#x2F;</a><br>And the screenshot of the Customize screen where the rows are movable&#x2F;draggable (noted by the icon on the right side of each row):<br><a href="http:&#x2F;&#x2F;code.google.com&#x2F;p&#x2F;quick-settings&#x2F;">Quick Settings: Customize screen</a></p>
</p>
										<div class="author">
											&mdash; commented <span title="December 30th 2010, 11:25:12 pm">December 30th 2010</span>
											by <span class='authorname'>Takahito Torimoto</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Whoops - fixed link to screenshot of the Customize Screen for above:<br><a href="http:&#x2F;&#x2F;4.bp.blogspot.com&#x2F;_bbZoRtK3YH8&#x2F;S0Qc1eSYfsI&#x2F;AAAAAAAAAwQ&#x2F;ThIoIfaA3aA&#x2F;s1600-h&#x2F;Top+Android+App+Quick+Settings+Customize.png">Quick Settings: Customize Screen</a></p>
</p>
										<div class="author">
											&mdash; commented <span title="December 30th 2010, 11:26:13 pm">December 30th 2010</span>
											by <span class='authorname'>Takahito Torimoto</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-206175">
				
						<section>
							<h3 id="slide">Slide</h3>
<p>I was able to get rows to be able to be moved by dragging them (just like on iPhone) on Ti Mobile 1.6.1 and Android 1.6, by attaching a table to a scroll view, tracking the offset of the touchmove event on the scrollview, and then firing a move row function according to where the row moved to.</p>
<p>The problem comes when moving the row fast, because the touchmove event fires randomly, so you may be dragging row 1 below row 5, but the offsets may tell you you are moving row 2 below row 4. Thus, I had to find another solution.</p>
<h3 id="drag-amp-drop">Drag &amp; Drop</h3>
<p>Using the same setup, a table view attached to a scroll view, you can drag a row and then fire the move function on touchend. This will work consistently, but because the UI doesn&#39;t change until you&#39;ve dropped the row, the user never really knows where they are dropping it. So from a UI standpoint this is out of the question.</p>
<h3 id="buttons">Buttons</h3>
<p>The only way to move rows in an appropriate manner, is to make up and down arrows on each row, attach a click event on each row and then fire the move row function. The trick to knowing whether to move it up or down is to add a custom property, call it &#39;direction&#39;, to each image you attach to the row, and then do something like:</p>
<pre><code class="hljs">row.addEventListener(<span class="hljs-string">'click'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span></span>{
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span>(e.source.direction)!=<span class="hljs-string">'undefined'</span>) {
        moveRow(e.index, e.source.direction);
    }
});
</code></pre><p>So, note that you are feeding the index of the row to the function, and then the direction &#39;up&#39; or &#39;down&#39;. You&#39;ll have to write the code to take that index, insertRowBefore on up and insertRowAfter on down and then delete the original index.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="April 13th 2011, 4:40:41 pm">April 13th 2011</span>
								by <span class='authorname'>Joe iEntry</span><br>
								<a class="icon-bg icon-link" href="question/95391/tableview-moveable-on-android#answer-206175" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Joe would you please provide some sample code of this working for Android? I&#39;d love to see a full sample of a working tableview that has rows that are moveable like in iOS and in the &quot;QuickSettings&quot; Android app. Please help. Thanks in advance.</p>
</p>
										<div class="author">
											&mdash; commented <span title="February 15th 2012, 2:48:40 am">February 15th 2012</span>
											by <span class='authorname'>C Lee</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
