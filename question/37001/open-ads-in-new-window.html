<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Open Ads in new Window Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Open Ads in new Window</h1>
		</header>
		<section>
			<p>I&#39;ve added google adsense to my app in a webview, However i want the clicked link to open in a browser not in the very small webview</p>
<pre><code class="hljs">var adview = Titanium.UI.createWebView({<span class="hljs-string">backgroundColor:</span><span class="hljs-string">'black'</span>,<span class="hljs-string">width:</span><span class="hljs-number">320</span>,<span class="hljs-string">bottom:</span><span class="hljs-number">0</span>,<span class="hljs-string">height:</span><span class="hljs-number">50</span>,<span class="hljs-string">url:</span><span class="hljs-string">'ad.html'</span>});
win2.add(adview);
</code></pre>
		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="June 22nd 2010, 5:51:16 am">June 22nd 2010</span>
				by <span class='authorname'>Ryan Tregea</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>adsense</span></li>
					
						<li><span class='tagname'>advertising</span></li>
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>google</span></li>
					
						<li><span class='tagname'>webview</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>5</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>5 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-74341">
				
						<section>
							<p>it looks like it&#39;s not possible : </p>
<p>http:&#x2F;&#x2F;developer.appcelerator.com&#x2F;question&#x2F;23541&#x2F;possible-to-open-all-webview-links-in-new-window</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="June 22nd 2010, 6:07:56 am">June 22nd 2010</span>
								by <span class='authorname'>Stephane Pelamourgues</span><br>
								<a class="icon-bg icon-link" href="question/37001/open-ads-in-new-window.html#answer-74341" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-74831">
				
						<section>
							<p>Looks like Google is too clever for me, I reckon i&#39;m on the right path though.</p>
<p>Basically i looped every 400ms to check if the location has changed inside the iframe. What is happening is google automatically loads any clicked links into the top frame, So if you iframe it, It escapes and takes over the webview. Stopping my detection script.<br>I think i&#39;ll check into watching it at the appcelerator level. There has to be a way to make the links open fullscreen.</p>
<p>Code of Ad.html</p>
<pre><code class="hljs"><span class="hljs-tag">&lt;<span class="hljs-title">html</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">body</span> <span class="hljs-attribute">leftmargin</span>=<span class="hljs-value">"0"</span> <span class="hljs-attribute">bottommargin</span>=<span class="hljs-value">"0"</span> <span class="hljs-attribute">marginheight</span>=<span class="hljs-value">"0"</span> <span class="hljs-attribute">marginwidth</span>=<span class="hljs-value">"0"</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">iframe</span> <span class="hljs-attribute">name</span>=<span class="hljs-value">"fred"</span> <span class="hljs-attribute">marginheight</span>=<span class="hljs-value">"0"</span> <span class="hljs-attribute">marginwidth</span>=<span class="hljs-value">"0"</span> <span class="hljs-attribute">frameborder</span>=<span class="hljs-value">"0"</span> <span class="hljs-attribute">src</span>=<span class="hljs-value">"Ad2.html"</span> <span class="hljs-attribute">width</span>=<span class="hljs-value">"100%"</span> <span class="hljs-attribute">height</span>=<span class="hljs-value">"100%"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-title">p</span>&gt;</span>Your browser does not support iframes.<span class="hljs-tag">&lt;/<span class="hljs-title">p</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">iframe</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">script</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"text/javascript"</span>&gt;</span><span class="actionscript">
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">watchFrame</span><span class="hljs-params">()</span></span>{
<span class="hljs-keyword">if</span> (fred.location.href!=<span class="hljs-string">"file:///android_asset/Resources/Ad2.html"</span>){
Ti.App.fireEvent(<span class="hljs-string">'adclick'</span>, {href:fred.location.href});
}<span class="hljs-keyword">else</span>{
    setInterval(<span class="hljs-string">"watchFrame();"</span>, <span class="hljs-number">400</span>)
}
}
setInterval(<span class="hljs-string">"watchFrame();"</span>, <span class="hljs-number">400</span>)
</span><span class="hljs-tag">&lt;/<span class="hljs-title">script</span>&gt;</span>Shouldn't See this
<span class="hljs-tag">&lt;/<span class="hljs-title">body</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">html</span>&gt;</span>
</code></pre><p>Code of Ad2.html</p>
<pre><code class="hljs"><span class="hljs-tag">&lt;<span class="hljs-title">html</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">body</span> <span class="hljs-attribute">leftmargin</span>=<span class="hljs-value">"0"</span> <span class="hljs-attribute">bottommargin</span>=<span class="hljs-value">"0"</span> <span class="hljs-attribute">marginheight</span>=<span class="hljs-value">"0"</span> <span class="hljs-attribute">marginwidth</span>=<span class="hljs-value">"0"</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-title">script</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"text/javascript"</span>&gt;</span><span class="javascript">&lt;!--
<span class="hljs-built_in">window</span>.googleAfmcRequest = {
  client: <span class="hljs-string">'ca-mb-pub-Testing'</span>,
  ad_type: <span class="hljs-string">'text_image'</span>,
  output: <span class="hljs-string">'html'</span>,
  channel: <span class="hljs-string">'Whatever'</span>,
  format: <span class="hljs-string">'320x50_mb'</span>,
  oe: <span class="hljs-string">'utf8'</span>,
  color_border: <span class="hljs-string">'336699'</span>,
  color_bg: <span class="hljs-string">'FFFFFF'</span>,
  color_link: <span class="hljs-string">'0000FF'</span>,
  color_text: <span class="hljs-string">'000000'</span>,
  color_url: <span class="hljs-string">'008000'</span>,
};
<span class="hljs-comment">//--&gt;</span></span><span class="hljs-tag">&lt;/<span class="hljs-title">script</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-title">script</span> <span class="hljs-attribute">type</span>=<span class="hljs-value">"text/javascript"</span> 
   <span class="hljs-attribute">src</span>=<span class="hljs-value">"http://pagead2.googlesyndication.com/pagead/show_afmc_ads.js"</span>&gt;</span><span class="undefined"></span><span class="hljs-tag">&lt;/<span class="hljs-title">script</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">body</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-title">html</span>&gt;</span>
</code></pre><p>Section of App.js</p>
<pre><code class="hljs"> var adview = Titanium.UI.createWebView({<span class="hljs-string">backgroundColor:</span><span class="hljs-string">'white'</span>,<span class="hljs-string">width:</span><span class="hljs-number">320</span>,<span class="hljs-string">bottom:</span><span class="hljs-number">0</span>,<span class="hljs-string">height:</span><span class="hljs-number">50</span>,<span class="hljs-string">url:</span><span class="hljs-string">'ad.html'</span>});
       win2.add(adview);

Ti.App.addEventListener(<span class="hljs-string">'adclick'</span>, function(e) 
{ 
    Ti.API.info(e.href);

});
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="June 22nd 2010, 10:29:22 pm">June 22nd 2010</span>
								by <span class='authorname'>Ryan Tregea</span><br>
								<a class="icon-bg icon-link" href="question/37001/open-ads-in-new-window.html#answer-74831" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-74951">
				
						<section>
							<p>Ok, Finally Found something that will lead me in the right path.</p>
<pre><code class="hljs"> var adview = Titanium.UI.createWebView({<span class="hljs-string">backgroundColor:</span><span class="hljs-string">'white'</span>,<span class="hljs-string">width:</span><span class="hljs-number">320</span>,<span class="hljs-string">bottom:</span><span class="hljs-number">0</span>,<span class="hljs-string">height:</span><span class="hljs-number">50</span>,<span class="hljs-string">url:</span><span class="hljs-string">'ad.html'</span>});
       win2.add(adview);

function watchFrame(){
<span class="hljs-keyword">if</span> (adview.url!=<span class="hljs-string">"file:///android_asset/Resources/ad.html"</span>){
 Ti.API.info(adview.url);
 }<span class="hljs-keyword">else</span>{
    setInterval(watchFrame, <span class="hljs-number">400</span>);
}
}
setInterval(watchFrame, <span class="hljs-number">400</span>);
</code></pre><p>I just need to confirm that when using a non Public Service Announcement, how many address changes before the final address is set, which i&#39;ll then open in a new browser.<br>Perhaps, i&#39;ll just wait for 3 consecutive calls to be the same address or something similar.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="June 23rd 2010, 4:45:26 am">June 23rd 2010</span>
								by <span class='authorname'>Ryan Tregea</span><br>
								<a class="icon-bg icon-link" href="question/37001/open-ads-in-new-window.html#answer-74951" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-75531">
				
						<section>
							<p>Answered in <a href="http:&#x2F;&#x2F;developer.appcelerator.com&#x2F;question&#x2F;37851&#x2F;answered---adsense-in-new-window">This Answer</a></p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="June 24th 2010, 5:35:57 am">June 24th 2010</span>
								by <span class='authorname'>Ryan Tregea</span><br>
								<a class="icon-bg icon-link" href="question/37001/open-ads-in-new-window.html#answer-75531" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-105641">
				
						<section>
							<p><a href="http:&#x2F;&#x2F;pastie.org&#x2F;1115525">Posted to pastie</a></p>
<p>Another possible solution, this worked for me.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 25th 2010, 3:03:45 pm">August 25th 2010</span>
								by <span class='authorname'>j J</span><br>
								<a class="icon-bg icon-link" href="question/37001/open-ads-in-new-window.html#answer-105641" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
