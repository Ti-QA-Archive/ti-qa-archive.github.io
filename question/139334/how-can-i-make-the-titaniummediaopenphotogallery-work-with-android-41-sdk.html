<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>how can I make the Titanium.Media.openPhotoGallery work with android 4.1 sdk » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>how can I make the Titanium.Media.openPhotoGallery work with android 4.1 sdk</h1>
		</header>
		<section>
			<p>Hi Bro,</p>
<p>I followed the book Appcelerator Titanium Smartphone App Development Cookbook<br>instruction in Chapter5: Connecting your Apps with Social Media and E-mail on P.134, details as bellow:</p>
<pre><code class="hljs">buttonSelectImage.addEventListener(<span class="hljs-string">'click'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span></span>{
<span class="hljs-comment">//obtain an image from the gallery</span>
Titanium.Media.openPhotoGallery({
success:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(event)</span>
</span>{
selectedImage = event.media;
<span class="hljs-comment">// set image view</span>
Ti.API.debug(<span class="hljs-string">'Our type was: '</span>+event.mediaType);
<span class="hljs-keyword">if</span>(event.mediaType == Ti.Media.MEDIA_TYPE_PHOTO)
{
imageThumbnail.image = selectedImage;
}
},
cancel:<span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span>
</span>{
<span class="hljs-comment">//user cancelled the action from within</span>
<span class="hljs-comment">//the photo gallery</span>
}
});
});
win1.add(buttonSelectImage);
</code></pre><p>About this line : Ti.Media.MEDIA_TYPE_PHOTO, I look up on api doc. As you mention, I know that only works on iOS system. I’ve tried to find the solution on android system, but haven’t figured that out. Currently, I’m developing Android 4.1 System. Can you give me some advice to solve this problem?</p>
<p>Besides, Everytime when I click “Select Image Button” on this line I mentioned, my android will immediately crash without any error message. Hopefully, I can get the satisfy answers from you.</p>
<p>Thanks!</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="July 6th 2012, 8:50:57 am">July 6th 2012</span>
				by <span class='authorname'>idar fan</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>app</span></li>
					
						<li><span class='tagname'>photogallery</span></li>
					
				</ul>
			

			<section>
				<h5>1 Comment</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Idar,</p>
<p>I have been using this code snipped and it is working like a charm!<br>I really don&#39;t understand why your code isn&#39;t working. </p>
<pre><code class="hljs"><span class="hljs-comment">//THUMBNAIL DA FOTO ENVIADA</span>
<span class="hljs-keyword">var</span> thumb = Ti.UI.createImageView({
    top: <span class="hljs-string">'10%'</span>,
    zIndex: <span class="hljs-number">2</span>,
    backgroundColor:<span class="hljs-string">'#000'</span>,
    borderColor: <span class="hljs-string">'#000'</span>,
    borderRadius: <span class="hljs-number">2</span>,
    borderWidth: <span class="hljs-number">3</span>,
    visible: <span class="hljs-literal">false</span>
});
<span class="hljs-built_in">window</span>.add(thumb);

btn_openGallery.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)</span>{
    Ti.Media.openPhotoGallery({
        success:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>) </span>{                    

            <span class="hljs-comment">//thumb---</span>
            thumb.setImage(event.media);
            thumb.show();    
            <span class="hljs-comment">//--------</span>
        }
        cancel:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
            alert(<span class="hljs-string">'Canceled!'</span>)
        }
    });
});
</code></pre></div>
							<div class="author">
								&mdash; commented <span title="August 3rd 2012, 11:28:13 am">August 3rd 2012</span>
								by <span class='authorname'>Douglas Alves</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>0</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>0 Answers</h3>

	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
