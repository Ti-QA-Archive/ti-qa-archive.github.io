<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Window open event fires twice in 1.7 » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Window open event fires twice in 1.7</h1>
		</header>
		<section>
			<p>When my iOS app starts, the app.js calls another file that opens up using the following code:</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> <span class="hljs-keyword">win</span> = Titanium.UI.currentWindow;
<span class="hljs-keyword">win</span>.<span class="hljs-keyword">open</span>();
<span class="hljs-keyword">var</span> tempcounter = 0;
<span class="hljs-comment">// more code</span>

<span class="hljs-comment">// Action to be taken when application opens the first time</span>
<span class="hljs-keyword">win</span>.addEventListener('<span class="hljs-keyword">open</span>', function(){
    <span class="hljs-comment">// additional code</span>
    tempcounter = tempcounter +1;
});
</code></pre><p>in 1.6.2 and prior versions the tempcounter was equal to 1 after the window opened the first time. After moving to 1.7.0 and 1.7.1 tempcounter is equal to 2. That means (I have verified that using some other messages) that the contents of the event listener are called twice. Is this normal? Has something changed from 1.6.2 to 1.7.0 with respect to windows and their eventlisteners?</p>
<p>Thanks in advance</p>
<p>Vassilis<br>PS: Mac OS 10.6.8, Xcode 4.0.2</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="July 17th 2011, 6:42:45 pm">July 17th 2011</span>
				by <span class='authorname'>Dev Team Mobiltron</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>1.7.1</span></li>
					
						<li><span class='tagname'>eventlistener</span></li>
					
						<li><span class='tagname'>open</span></li>
					
						<li><span class='tagname'>window</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>3</span> Votes</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-213410">
				
						<section>
							<p>I had a similiar problem on desktop using window focus and blur. I did a workaround by defining a boolean variable is_active which i switch to true in focus and false in blur. If I enter on of the functions and the state is not as expected (i.E. its already true when entering window focus), I exit the function and do nothing.</p>
<p>I have no idea why this is happening…</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="July 17th 2011, 6:51:34 pm">July 17th 2011</span>
								by <span class='authorname'>Christian Engel</span><br>
								<a class="icon-bg icon-link" href="../../question/122696/window-open-event-fires-twice-in-17.html#answer-213410" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-213516">
				
						<section>
							<p>I think I solved the problem myself by removing the call:</p>
<pre><code class="hljs">win.<span class="hljs-keyword">open</span><span class="hljs-literal">()</span>;
</code></pre><p>This did not seem to be a problem before moving to 1.7.1 and TitaniumStudio.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="July 18th 2011, 2:22:20 pm">July 18th 2011</span>
								by <span class='authorname'>Dev Team Mobiltron</span><br>
								<a class="icon-bg icon-link" href="../../question/122696/window-open-event-fires-twice-in-17.html#answer-213516" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Hi,</p>
<p>8 months later :-), I&#39;m using 1.8.2 - I see that it&#39;s firing 3 times… if you removed the open() command - how do you open the window? were you able to solve this?</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 12th 2012, 6:01:06 am">March 12th 2012</span>
											by <span class='authorname'>Ophir &#39;Shlomi&#39; Oren</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
