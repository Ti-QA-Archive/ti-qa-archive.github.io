<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Textfield to Integer Conversion Not Working Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Textfield to Integer Conversion Not Working</h1>
		</header>
		<section>
			<p>I&#39;m teaching myself the basics of Titanium and I&#39;m stuck on what should be a very simple problem to fix. I am creating a single window iOS application that has two textfields and a button. The button should add the two numbers in the text field and display the total in an alert box. However, the resulting alert box keeps returning NaN, so obviously I am making a JScript mistake somewhere. I will paste the code below.</p>
<pre><code class="hljs"><span class="hljs-comment">//FirstView Component Constructor</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">FirstView</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-comment">//create object instance, a parasitic subclass of Observable</span>
    <span class="hljs-keyword">var</span> <span class="hljs-keyword">self</span> = Ti.UI.createView();

    <span class="hljs-comment">//label using localization-ready strings from &lt;app dir&gt;/i18n/en/strings.xml</span>
    <span class="hljs-keyword">var</span> label1 = Ti.UI.createLabel({
        color:<span class="hljs-string">'#000000'</span>,
        text:<span class="hljs-string">'Add Two Numbers'</span>,
        top:<span class="hljs-string">'50px'</span>,
        height:<span class="hljs-string">'auto'</span>,
        width:<span class="hljs-string">'auto'</span>
    });
    <span class="hljs-keyword">var</span> label2 = Ti.UI.createLabel({
        color:<span class="hljs-string">'#000000'</span>,
        text:<span class="hljs-string">'Pick the first number'</span>,
        top:<span class="hljs-string">'100px'</span>,
        height:<span class="hljs-string">'auto'</span>,
        width:<span class="hljs-string">'auto'</span>
    });
    <span class="hljs-keyword">var</span> input1 = Ti.UI.createTextArea({
        borderWidth:<span class="hljs-string">'2'</span>,
        borderColor:<span class="hljs-string">'#888'</span>,
        width:<span class="hljs-string">'100px'</span>,
        height:<span class="hljs-string">'40px'</span>,
        top:<span class="hljs-string">'150px'</span>,
        keyboardType: Ti.UI.KEYBOARD_NUMBER_PAD,
        returnKeyType: Ti.UI.RETURNKEY_DEFAULT
    });
    <span class="hljs-keyword">var</span> label3 = Ti.UI.createLabel({
        color:<span class="hljs-string">'#000000'</span>,
        text:<span class="hljs-string">'Pick the second number'</span>,
        top:<span class="hljs-string">'225px'</span>,
        height:<span class="hljs-string">'auto'</span>,
        width:<span class="hljs-string">'auto'</span>
    });
    <span class="hljs-keyword">var</span> input2 = Ti.UI.createTextArea({
        borderWidth:<span class="hljs-string">'2'</span>,
        borderColor:<span class="hljs-string">'#888'</span>,
        width:<span class="hljs-string">'100px'</span>,
        height:<span class="hljs-string">'40px'</span>,
        top:<span class="hljs-string">'275px'</span>,
        keyboardType: Ti.UI.KEYBOARD_NUMBER_PAD,
        returnKeyType: Ti.UI.RETURNKEY_DEFAULT
    });
    <span class="hljs-keyword">var</span> addButton = Ti.UI.createButton({
        title:<span class="hljs-string">'Add'</span>,
        width:<span class="hljs-string">'100px'</span>,
        height:<span class="hljs-string">'40px'</span>,
        top:<span class="hljs-string">'350px'</span>
    });
    <span class="hljs-keyword">self</span>.add(label1);
    <span class="hljs-keyword">self</span>.add(label2);
    <span class="hljs-keyword">self</span>.add(label3);
    <span class="hljs-keyword">self</span>.add(input1);
    <span class="hljs-keyword">self</span>.add(input2);
    <span class="hljs-keyword">self</span>.add(addButton);
    <span class="hljs-comment">//Add function</span>
    <span class="hljs-keyword">var</span> value1 = parseInt(input1, <span class="hljs-number">10</span>);
    <span class="hljs-keyword">var</span> value2 = parseInt(input2, <span class="hljs-number">10</span>);
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">add</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">return</span> value1 + value2;
    };
    <span class="hljs-comment">//Add behavior for UI</span>
    addButton.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(e)</span> </span>{
        alert(add());
    });

    <span class="hljs-keyword">return</span> <span class="hljs-keyword">self</span>;
}

module.exports = FirstView;
</code></pre><p>I am using Titanium Studio 3.01 and the iOS 6 SDK. </p>
<p>Any help would be much appreciated. Thanks!</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="January 24th 2013, 2:17:16 pm">January 24th 2013</span>
				by <span class='authorname'>R Cameron Lowery</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>ios</span></li>
					
						<li><span class='tagname'>iphone</span></li>
					
						<li><span class='tagname'>mobile</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-255264">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>On the face of it, I would initialize the values inside the add() function. At the current state you are parsing the value before the use has entered something. You should also try to parse input1.value, not the view itself.</p>
<p>have not tested it, but try this:</p>
<pre><code class="hljs">    <span class="hljs-comment">//Add function</span>
    <span class="hljs-keyword">function</span> add() {
    var <span class="hljs-keyword">value</span><span class="hljs-number">1</span> = parseInt(input<span class="hljs-number">1</span>.<span class="hljs-keyword">value</span>);
    var <span class="hljs-keyword">value</span><span class="hljs-number">2</span> = parseInt(input<span class="hljs-number">2</span>.<span class="hljs-keyword">value</span>);
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">value</span><span class="hljs-number">1</span> + <span class="hljs-keyword">value</span><span class="hljs-number">2</span>;
    };
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="January 24th 2013, 2:26:42 pm">January 24th 2013</span>
								by <span class='authorname'>Manuel Lehner</span><br>
								<a class="icon-bg icon-link" href="question/147355/textfield-to-integer-conversion-not-working.html#answer-255264" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Yes, this works, thank you for your help.</p>
<p>So basically, because I scoped the variables outside of the function call it was attempting to convert a null value into an integer? That makes perfect sense.</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 24th 2013, 2:31:11 pm">January 24th 2013</span>
											by <span class='authorname'>R Cameron Lowery</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-255263">
				
						<section>
							<pre><code class="hljs">var <span class="hljs-keyword">value</span><span class="hljs-number">1</span> = parseInt(input<span class="hljs-number">1</span>.<span class="hljs-keyword">value</span>, <span class="hljs-number">10</span>);
var <span class="hljs-keyword">value</span><span class="hljs-number">2</span> = parseInt(input<span class="hljs-number">2</span>.<span class="hljs-keyword">value</span>, <span class="hljs-number">10</span>);
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="January 24th 2013, 2:22:40 pm">January 24th 2013</span>
								by <span class='authorname'>Stephen Feather</span><br>
								<a class="icon-bg icon-link" href="question/147355/textfield-to-integer-conversion-not-working.html#answer-255263" rel="permalink">permalink</a>
							</div>

							<h5>2 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p><code>input1</code> is the object, with a named property <code>value</code>.</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 24th 2013, 2:23:32 pm">January 24th 2013</span>
											by <span class='authorname'>Stephen Feather</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Actually, I already tried this and I get the same result â NaN. I just forgot to include it in the code above.  Do you have any other ideas? Thank you.</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 24th 2013, 2:26:29 pm">January 24th 2013</span>
											by <span class='authorname'>R Cameron Lowery</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
