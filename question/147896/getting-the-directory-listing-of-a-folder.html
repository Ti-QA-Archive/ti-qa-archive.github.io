<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Getting the directory listing of a folder » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Getting the directory listing of a folder</h1>
		</header>
		<section>
			<p>I have created a folder in the internal memory of my android. This folder is called PDFFolder. In this folder there are a couple of PDF files. I would like to know how to get a directory listing of this folder so that I can see the list of PDF files in the folder. Thanks.</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="February 5th 2013, 6:39:58 pm">February 5th 2013</span>
				by <span class='authorname'>Anish Agarwal</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>directory</span></li>
					
						<li><span class='tagname'>folder</span></li>
					
						<li><span class='tagname'>listing</span></li>
					
						<li><span class='tagname'>memory</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-256171">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>Hi</p>
<p>Have you tried using the built-in method <a href="http:&#x2F;&#x2F;docs.appcelerator.com&#x2F;titanium&#x2F;3.0&#x2F;#!&#x2F;api&#x2F;Titanium.Filesystem.File-method-getDirectoryListing">getDirectoryListing</a>?</p>
<p>Let me know if you need example code.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="February 5th 2013, 6:43:04 pm">February 5th 2013</span>
								by <span class='authorname'>Malcolm Hollingsworth</span><br>
								<a class="icon-bg icon-link" href="question/147896/getting-the-directory-listing-of-a-folder#answer-256171" rel="permalink">permalink</a>
							</div>

							<h5>13 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Yes I have but just to make sure whether I have tried your implementation could you provide some sample code. Thanks, I really appreciate it.</p>
</p>
										<div class="author">
											&mdash; commented <span title="February 5th 2013, 6:45:01 pm">February 5th 2013</span>
											by <span class='authorname'>Anish Agarwal</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Here you go - this will give you a directory listing of a folder, filtered for just pdf files;</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> folder = Ti.Filesystem.getFile(Ti.Filesystem.getResourcesDirectory());
<span class="hljs-keyword">var</span> <span class="hljs-keyword">dir</span> = folder.getDirectoryListing();
<span class="hljs-keyword">var</span> intFile = 0, intFiles = <span class="hljs-keyword">dir</span>.length;
<span class="hljs-keyword">for</span> (intFile = 0; intFile &lt; intFiles; intFile = intFile + 1) {
    <span class="hljs-keyword">if</span> (/\.pdf$/.<span class="hljs-keyword">test</span>(<span class="hljs-keyword">dir</span>[intFile])) {
        Ti.API.info('<span class="hljs-keyword">file</span>', <span class="hljs-keyword">dir</span>[intFile]);
    }
}
</code></pre><p>You can change the folder that is being searched by changing this line;</p>
<pre><code class="hljs"><span class="hljs-variable"><span class="hljs-keyword">var</span> folder</span> = Ti.Filesystem.getFile(Ti.Filesystem.getResourcesDirectory());
</code></pre><p>Examples</p>
<pre><code class="hljs"><span class="hljs-variable"><span class="hljs-keyword">var</span> folder</span> = Ti.Filesystem.getFile(Ti.Filesystem.getResourcesDirectory(), '/subfolder/');
<span class="hljs-variable"><span class="hljs-keyword">var</span> folder</span> = Ti.Filesystem.getFile(Ti.Filesystem.getApplicationDataDirectory());
<span class="hljs-variable"><span class="hljs-keyword">var</span> folder</span> = Ti.Filesystem.getFile(Ti.Filesystem.getApplicationCacheDirectory());
</code></pre><p>The if statement uses a simple regular expression to perform the test.  It says match only if the END of the file equals &quot;.pdf&quot;.  The full stop is escaped as it needs to be.</p>
</p>
										<div class="author">
											&mdash; commented <span title="February 5th 2013, 7:04:30 pm">February 5th 2013</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Just one question, the folder it self is independent of the app it is in the internal memory of the device. So should I be using getExternalDirectory rather than getApplicationDataDirectory or getResourcesDirectory. Just to clarify a bit further, the folder is created on the device manually (by attaching the device to a computer and going into My Computer……..and creating the folder) not through the app.</p>
</p>
										<div class="author">
											&mdash; commented <span title="February 5th 2013, 7:12:39 pm">February 5th 2013</span>
											by <span class='authorname'>Anish Agarwal</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>This is new information, your question suggested that the files were local to the app.</p>
<p>I have never tried to use the <strong>getExternalDirectory</strong> to gain access to the files when connected to a USB connection.  Have you managed to load a PDF after using the USB connection?</p>
</p>
										<div class="author">
											&mdash; commented <span title="February 5th 2013, 7:24:20 pm">February 5th 2013</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I still think there is a bit of misunderstanding in between us, which is my fault. So this is the detailed process of the folder creation.</p>
<ul>
<li>I plug in my tablet into my computer. </li>
<li>From my computer I go to the internal memory of the device</li>
<li>There I create a new folder called PDFFolder</li>
<li>I copy the PDF files from my computer into PDFFolder</li>
</ul>
<p>So as you can see the files are on the tablet. I can still access the files now if the two devices (my computer and tablet are not connected by USB). I want to be able to get the directory listing of this folder to see the PDF files. Sorry for not being detailed enough in the question. Thanks again.</p>
</p>
										<div class="author">
											&mdash; commented <span title="February 5th 2013, 7:45:29 pm">February 5th 2013</span>
											by <span class='authorname'>Anish Agarwal</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>When you say <em>&quot;I can still access the files now if the two devices&quot;</em>, does this mean you can access the file in your app after copying over?</p>
</p>
										<div class="author">
											&mdash; commented <span title="February 5th 2013, 9:28:46 pm">February 5th 2013</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>yes</p>
</p>
										<div class="author">
											&mdash; commented <span title="February 6th 2013, 12:42:14 pm">February 6th 2013</span>
											by <span class='authorname'>Anish Agarwal</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>So if you can access the file that has been transferred within your app, you should must know what the folder is to have found it.</p>
<p>If that is the case you use that with the code I provided above.</p>
<p>If not; let me have the code you use to access the transferred file within your app and I will see how to get that folders directory listing.</p>
</p>
										<div class="author">
											&mdash; commented <span title="February 6th 2013, 12:49:52 pm">February 6th 2013</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Ok,</p>
<p>When I run the code below </p>
<p>var dir  = Titanium.Filesystem.getFile(Titanium.Filesystem.externalStorageDirectory);</p>
<p>var DebuggerDialog = Titanium.UI.createAlertDialog({<br>    title: &#39;Debugger Dialog&#39;,<br>    message: &#39;external directory listing = &#39; + dir.getParent().getDirectoryListing(),<br>    cancel:1,<br>});</p>
<p>DebuggerDialog.show();</p>
<p>I get the following output in the dialog.</p>
<p>external directory listing = PDFFolder,com.appcelerator.kitchensink,Samsung.downloadTemp,ScreenCapture,eBook,Android,DCIM,Download,Movies,Pictures,Notifications,Alarms,Ringtones,Podcasts,Music</p>
<p>So now you can see where the PDFFolder is located. I want to access the PDFFolder and it&#39;s directory listing. As an aside, if I wanted to access a file within that folder, could I just use the getFile function with the file name?</p>
</p>
										<div class="author">
											&mdash; commented <span title="February 6th 2013, 1:40:40 pm">February 6th 2013</span>
											by <span class='authorname'>Anish Agarwal</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Try this;</p>
<pre><code class="hljs">var dir = Ti.Filesystem.getFile(Ti.Filesystem.externalStorageDirectory, <span class="hljs-string">'/PDFFolder/'</span>);
var DebuggerDialog = Ti.UI.createAlertDialog({ <span class="hljs-string">title:</span> <span class="hljs-string">'Debugger Dialog'</span>, <span class="hljs-string">message:</span> <span class="hljs-string">'external directory listing = '</span> + dir.getParent().getDirectoryListing(), <span class="hljs-string">cancel:</span><span class="hljs-number">1</span>, });
DebuggerDialog.show();
</code></pre><p>And this;</p>
<pre><code class="hljs">var dir = Ti.Filesystem.getFile(Ti.Filesystem.externalStorageDirectory, <span class="hljs-string">'/PDFFolder/'</span>);
var DebuggerDialog = Ti.UI.createAlertDialog({ <span class="hljs-string">title:</span> <span class="hljs-string">'Debugger Dialog'</span>, <span class="hljs-string">message:</span> <span class="hljs-string">'external directory listing = '</span> + dir.getDirectoryListing(), <span class="hljs-string">cancel:</span><span class="hljs-number">1</span>, });
DebuggerDialog.show();
</code></pre><p>Do either of these show the files? (I think we almost have it)</p>
</p>
										<div class="author">
											&mdash; commented <span title="February 6th 2013, 1:44:30 pm">February 6th 2013</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I tried both this is the output I get.</p>
<p>external directory listing =</p>
</p>
										<div class="author">
											&mdash; commented <span title="February 6th 2013, 2:14:20 pm">February 6th 2013</span>
											by <span class='authorname'>Anish Agarwal</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>The problem we have is that it seems we have to use the <strong>getParent</strong> method which means, the folder is here but go up one.</p>
<p>I am hoping the code will give us more information, the first listing will be the one you had but line by line and hopefully the native location.  The second will hopefully be the <strong>PDFFolder</strong> listing.</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> folder = Ti.Filesystem.getFile(Ti.Filesystem.getExternalStorageDirectory());
<span class="hljs-keyword">var</span> <span class="hljs-keyword">dir</span> = folder.getParent().getDirectoryListing();
<span class="hljs-keyword">var</span> native = <span class="hljs-keyword">dir</span>.getNativePath();
Ti.API.info(native); <span class="hljs-comment">// hoping this points to the real path</span>
<span class="hljs-keyword">var</span> intFile = 0, intFiles = <span class="hljs-keyword">dir</span>.length;
<span class="hljs-keyword">for</span> (intFile = 0; intFile &lt; intFiles; intFile = intFile + 1) {
    Ti.API.info(<span class="hljs-keyword">dir</span>[intFile]);
}

Ti.API.info('PDFFolder below?');

folder = Ti.Filesystem.getFile(folder.getParent(), '/PDFFolder/');
<span class="hljs-keyword">dir</span> = folder.getParent().getDirectoryListing();
native = <span class="hljs-keyword">dir</span>.getNativePath();
Ti.API.info(native); <span class="hljs-comment">// hoping this points to the real path</span>
intFiles = <span class="hljs-keyword">dir</span>.length;
<span class="hljs-keyword">for</span> (intFile = 0; intFile &lt; intFiles; intFile = intFile + 1) {
    Ti.API.info(<span class="hljs-keyword">dir</span>[intFile]);
}
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="February 6th 2013, 2:42:10 pm">February 6th 2013</span>
											by <span class='authorname'>Malcolm Hollingsworth</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>It says that dir does not have a function called getNativePath().</p>
</p>
										<div class="author">
											&mdash; commented <span title="February 6th 2013, 5:15:48 pm">February 6th 2013</span>
											by <span class='authorname'>Anish Agarwal</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
