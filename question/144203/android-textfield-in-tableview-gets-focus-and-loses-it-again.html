<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Android: Textfield in TableView gets focus and loses it again » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Android: Textfield in TableView gets focus and loses it again</h1>
		</header>
		<section>
			<p>Hi all,</p>
<p>I&#39;m displaying a Textfield within a TableView as follows (simplified the code):</p>
<pre><code class="hljs"><span class="hljs-variable"><span class="hljs-keyword">var</span> win1</span> = Titanium.UI.createWindow({backgroundColor: 'white'});
win1.<span class="hljs-keyword">open</span>();

<span class="hljs-variable"><span class="hljs-keyword">var</span> table</span> = Ti.UI.createTableView();
win1.add(table);

<span class="hljs-variable"><span class="hljs-keyword">var</span> textfield</span> = Ti.UI.createTextField({value: '', hintText: 'Enter text'});
<span class="hljs-variable"><span class="hljs-keyword">var</span> row</span> = Ti.UI.createTableViewRow({touchEnabled: <span class="hljs-literal">false</span>});
row.add(textfield);

table.setData([row]);
</code></pre><p>If you run this code, the TableView as well as the Textfield are displayed correct. Once you tap the textfield, the textfield gets focus, keyboard pops up and the Textfield loses focus again once keyboard is displayed and it is not possible to enter any text. If you now tap again the textfield, the textfield gets and keeps the focus. Some of my app users do also report that they are not able to enter any text until they change orientation (in landscape mode the textfield appears in &quot;fullscreen&quot;, that&#39;s why it works for them).</p>
<p>Has somebody solved this problem? Or is at least able to reproduce it? Already read some posts here and tried so many different things without a solution.</p>
<h3 id="environment">Environment</h3>
<ul>
<li>Device: Samsung Galaxy S2 - Android 4.0.3</li>
<li>Mac OS X 10.8.2</li>
<li>XCode Version 4.5.1 (4G1004)</li>
<li>Titanium Mobile SDK (2.1.3.GA)</li>
<li>V8 Runtime</li>
</ul>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="October 31st 2012, 3:33:59 pm">October 31st 2012</span>
				by <span class='authorname'>Jicks Steen</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>focus</span></li>
					
						<li><span class='tagname'>tableview</span></li>
					
						<li><span class='tagname'>tableviewrow</span></li>
					
						<li><span class='tagname'>textfield</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-250344">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>Known Android issue. Check out the ticket (and comments) <a href="http:&#x2F;&#x2F;jira.appcelerator.org&#x2F;browse&#x2F;TIMOB-8332">http:&#x2F;&#x2F;jira.appcelerator.org&#x2F;browse&#x2F;TIMOB-8332</a></p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="October 31st 2012, 4:20:03 pm">October 31st 2012</span>
								by <span class='authorname'>Shannon Hicks</span><br>
								<a class="icon-bg icon-link" href="question/144203/android-textfield-in-tableview-gets-focus-and-loses-it-again.html#answer-250344" rel="permalink">permalink</a>
							</div>

							<h5>5 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Alright. So, if I unterstand it correct the only workaround is to use ScrollView instead of TableView and it won&#39;t be fixed because of weird Android behavior? Well, rewriting is usually no problem but a bit awkward if someone wants to use same code base for iOS and Android.</p>
</p>
										<div class="author">
											&mdash; commented <span title="October 31st 2012, 5:24:49 pm">October 31st 2012</span>
											by <span class='authorname'>Jicks Steen</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Right. I actually wrote a module that does exactly that not long ago. Let me dig it up.</p>
</p>
										<div class="author">
											&mdash; commented <span title="October 31st 2012, 9:52:03 pm">October 31st 2012</span>
											by <span class='authorname'>Shannon Hicks</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Basically, I did this:</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> layoutContainer;
<span class="hljs-keyword">if</span> (Ti.Android) {
  layoutContainer = Ti.UI.createView({<span class="hljs-attribute">layout</span>:<span class="hljs-string">'vertical'</span>});
} <span class="hljs-keyword">else</span> {
  layoutContainer = Ti.UI.createTableView();
}

<span class="hljs-keyword">var</span> rows = [];

<span class="hljs-keyword">for</span> (... create row <span class="hljs-keyword">loop</span> ...) {
  <span class="hljs-keyword">var</span> row;
  <span class="hljs-keyword">if</span> (Ti.Android) {
    row = Ti.UI.createView();
  } <span class="hljs-keyword">else</span> {
    row = Ti.UI.createTableView();
  }
  rows.push(row);
}

<span class="hljs-keyword">if</span> (Ti.Android) {
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> r <span class="hljs-keyword">in</span> rows) {
    layoutContainer.add(rows[r]);
  }
} <span class="hljs-keyword">else</span> {
  layoutContainer.data = rows;
}
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="October 31st 2012, 9:57:14 pm">October 31st 2012</span>
											by <span class='authorname'>Shannon Hicks</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>… Then I put layoutContainer in a scroll view on Android. Sorry I left that out.</p>
</p>
										<div class="author">
											&mdash; commented <span title="October 31st 2012, 9:57:54 pm">October 31st 2012</span>
											by <span class='authorname'>Shannon Hicks</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Thx!</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 1st 2012, 12:22:28 pm">November 1st 2012</span>
											by <span class='authorname'>Jicks Steen</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
