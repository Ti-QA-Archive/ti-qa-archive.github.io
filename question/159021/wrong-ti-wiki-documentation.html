<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Wrong Ti Wiki documentation Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Wrong Ti Wiki documentation</h1>
		</header>
		<section>
			<p>&quot;Due to the way menus are created in Alloy, menus created using Alloy markup are not displayed until the options menu is invalidated. To force menus (or action items) to be displayed, call invalidateOptionsMenu from the open event listener of the window or tab group where the menu is defined.&quot;</p>
<p>Code sample</p>
<p>index.xml</p>
<pre><code class="hljs"><span class="hljs-tag">&lt;<span class="hljs-title">Alloy</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- Create a heavyweight window to use the Android menu. --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-title">Window</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"win"</span> <span class="hljs-attribute">fullscreen</span>=<span class="hljs-value">"true"</span> <span class="hljs-attribute">onOpen</span>=<span class="hljs-value">"doOpen"</span>&gt;</span>

        <span class="hljs-comment">&lt;!-- The Menu tag adds the Android menu. --&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-title">Menu</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"menu"</span> <span class="hljs-attribute">platform</span>=<span class="hljs-value">"android"</span>&gt;</span>

            <span class="hljs-comment">&lt;!-- Cannot specify node text.  Use attributes only. --&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-title">MenuItem</span> <span class="hljs-attribute">id</span>=<span class="hljs-value">"menuItem"</span> <span class="hljs-attribute">title</span>=<span class="hljs-value">"Item 1"</span> <span class="hljs-attribute">icon</span>=<span class="hljs-value">"item1.png"</span> <span class="hljs-attribute">onClick</span>=<span class="hljs-value">"doClick"</span> <span class="hljs-attribute">showAsAction</span>=<span class="hljs-value">"Ti.Android.SHOW_AS_ACTION_IF_ROOM"</span> /&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-title">Menu</span>&gt;</span>

        <span class="hljs-comment">&lt;!-- Place additional views here --&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-title">Window</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-title">Alloy</span>&gt;</span>
</code></pre><p>index.js</p>
<pre><code class="hljs">// <span class="hljs-type">Ensure</span> menu <span class="hljs-keyword">is</span> displayed
function doOpen(e) {
    $.win.invalidateOptionsMenu(); //<span class="hljs-type">Actually</span>, win does <span class="hljs-keyword">not</span> have invalidateOptionsMenu() <span class="hljs-keyword">method</span>
}
</code></pre><p>Refer to <a href="http:&#x2F;&#x2F;docs.appcelerator.com&#x2F;titanium&#x2F;3.0&#x2F;#!&#x2F;api&#x2F;Titanium.Android.Menu">Menu</a></p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="November 1st 2013, 8:48:35 am">November 1st 2013</span>
				by <span class='authorname'>Jiale He</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>menuitem</span></li>
					
				</ul>
			

			<section>
				<h5>1 Comment</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>The working code</p>
<pre><code class="hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">onWinOpen</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> activity = $.container.activity;
    <span class="hljs-keyword">if</span>(activity) {
        activity.invalidateOptionsMenu();
    }
}
</code></pre><p>Ti.SDK 3.1.3</p>
</div>
							<div class="author">
								&mdash; commented <span title="November 1st 2013, 8:51:18 am">November 1st 2013</span>
								by <span class='authorname'>Jiale He</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>1</span> Vote</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-270736">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>Hi</p>
<p>You are correct the documentation appears to be wrong.</p>
<p>Please create a <a href="https:&#x2F;&#x2F;jira.appcelerator.org&#x2F;">jira</a> ticket so that Appcelerator can update the docs.</p>
<p>Cheers.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="November 1st 2013, 8:56:23 am">November 1st 2013</span>
								by <span class='authorname'>Malcolm Hollingsworth</span><br>
								<a class="icon-bg icon-link" href="../../question/159021/wrong-ti-wiki-documentation.html#answer-270736" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>You always reply at lightening speed</p>
<p>I will make it so.</p>
<p>Thanks Malcolm</p>
</p>
										<div class="author">
											&mdash; commented <span title="November 1st 2013, 9:01:02 am">November 1st 2013</span>
											by <span class='authorname'>Jiale He</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
