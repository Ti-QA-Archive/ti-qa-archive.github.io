<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Random number and database » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Random number and database</h1>
		</header>
		<section>
			<p>Ok. A quick question.</p>
<p>I created a random number.<br>I want to parse this random number into my execute.db so that the correct database content can be pulled out. However, how should the syntax be?</p>
<pre><code class="hljs">var randomnumber = <span class="hljs-number">0</span><span class="hljs-comment">;</span>

<span class="hljs-keyword">for</span>(var i = <span class="hljs-number">0</span><span class="hljs-comment">; i &lt; 1; i++){</span>
    randomnumber=Math.<span class="hljs-built_in">floor</span>(Math.<span class="hljs-built_in">random</span>()*<span class="hljs-number">2</span>)<span class="hljs-comment">;</span>
    randomnumber=randomnumber+<span class="hljs-number">1</span><span class="hljs-comment">;</span>
    Ti.API.info(<span class="hljs-string">"random: "</span> + i + <span class="hljs-string">" / "</span> + randomnumber)<span class="hljs-comment">;</span>
}

var pullquote = db.<span class="hljs-built_in">execute</span>(<span class="hljs-string">'SELECT * FROM quotes WHERE myid=?'</span>,<span class="hljs-string">'randomnumber'</span>)<span class="hljs-comment">;</span>
</code></pre><p>with or without inverted commas?</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="March 19th 2012, 2:49:01 pm">March 19th 2012</span>
				by <span class='authorname'>Colin International</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>database</span></li>
					
						<li><span class='tagname'>number</span></li>
					
						<li><span class='tagname'>random</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>4</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>4 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-233811">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>hi PocketClass,</p>
<p>try this without inverted comma</p>
<pre><code class="hljs">var pullquote = db.execute('<span class="hljs-operator"><span class="hljs-keyword">SELECT</span> * <span class="hljs-keyword">FROM</span> quotes <span class="hljs-keyword">WHERE</span> myid=?<span class="hljs-string">',randomnumber);</span></span>
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="March 19th 2012, 2:58:43 pm">March 19th 2012</span>
								by <span class='authorname'>Mitul Bhalia</span><br>
								<a class="icon-bg icon-link" href="../../question/134064/random-number-and-database.html#answer-233811" rel="permalink">permalink</a>
							</div>

							<h5>1 Comment</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>but have you checked that the record with that id is exists or not..?</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 19th 2012, 3:14:57 pm">March 19th 2012</span>
											by <span class='authorname'>Mitul Bhalia</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-233813">
				
						<section>
							<p>The following should be what you are looking for:</p>
<pre><code class="hljs">var pullquote = db.execute('<span class="hljs-operator"><span class="hljs-keyword">SELECT</span> * <span class="hljs-keyword">FROM</span> quotes <span class="hljs-keyword">WHERE</span> myid = ?<span class="hljs-string">', randomnumber);</span></span>
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="March 19th 2012, 3:01:34 pm">March 19th 2012</span>
								by <span class='authorname'>Junaid Younus</span><br>
								<a class="icon-bg icon-link" href="../../question/134064/random-number-and-database.html#answer-233813" rel="permalink">permalink</a>
							</div>

							<h5>5 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>i think this is the copy of my answer right….?</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 19th 2012, 3:08:40 pm">March 19th 2012</span>
											by <span class='authorname'>Mitul Bhalia</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>you should first read all the answers first then should post your answer</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 19th 2012, 3:10:16 pm">March 19th 2012</span>
											by <span class='authorname'>Mitul Bhalia</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Nope.</p>
<p>I tried already.</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 19th 2012, 3:10:35 pm">March 19th 2012</span>
											by <span class='authorname'>Colin International</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Sorry Mitul, I opened several tabs at once, and at that time, no one else had replied, therefore I didn&#39;t see your answer.</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 19th 2012, 3:13:31 pm">March 19th 2012</span>
											by <span class='authorname'>Junaid Younus</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>its ok</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 19th 2012, 3:14:09 pm">March 19th 2012</span>
											by <span class='authorname'>Mitul Bhalia</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-233816">
				
						<section>
							<p>Hi PocketClass, </p>
<p>If <code>var pullquote = db.execute(&amp;#39;SELECT * FROM quotes WHERE myid = ?&amp;#39;, randomnumber);</code> doesn&#39;t work, could you try hardcoding the value and see if you get anything back at all? In other words, do you get the correct object returned from the database when you do: <code>var pullquote = db.execute(&amp;#39;SELECT * FROM quotes WHERE myid = ?&amp;#39;, 0);</code> ?</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="March 19th 2012, 3:18:14 pm">March 19th 2012</span>
								by <span class='authorname'>Junaid Younus</span><br>
								<a class="icon-bg icon-link" href="../../question/134064/random-number-and-database.html#answer-233816" rel="permalink">permalink</a>
							</div>

							<h5>2 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Yes. This works fine.</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 19th 2012, 3:42:09 pm">March 19th 2012</span>
											by <span class='authorname'>Colin Tiang</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Try the following then:</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> randomNumber = <span class="hljs-number">0</span>;
<span class="hljs-keyword">var</span> length = <span class="hljs-number">2</span>; <span class="hljs-comment">// the size of the 'quotes' table i.e. the number of entries</span>

randomNumber = <span class="hljs-built_in">Math</span>.floor(<span class="hljs-built_in">Math</span>.random() * length);
Ti.API.info(<span class="hljs-string">'Random Number: '</span> + randomNumber);


<span class="hljs-keyword">var</span> pullquote = db.execute(<span class="hljs-string">'SELECT * FROM quotes WHERE myid = ?'</span>, randomNumber);
</code></pre><p>Just make sure the length variable is set to the correct value. Make sure it&#39;s not bigger than the actual size of your table.</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 19th 2012, 3:53:08 pm">March 19th 2012</span>
											by <span class='authorname'>Junaid Younus</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-233845">
				
						<section>
							<p>What&#39;s data type of myid? Is it TEXT? If yes, try this:</p>
<pre><code class="hljs">var pullquote = db.execute('<span class="hljs-operator"><span class="hljs-keyword">SELECT</span> * <span class="hljs-keyword">FROM</span> quotes <span class="hljs-keyword">WHERE</span> myid=?<span class="hljs-string">', "'</span><span class="hljs-string">" + randomnumber + "</span><span class="hljs-string">'");</span></span>
</code></pre>
						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="March 19th 2012, 9:37:55 pm">March 19th 2012</span>
								by <span class='authorname'>Minh Nguyen</span><br>
								<a class="icon-bg icon-link" href="../../question/134064/random-number-and-database.html#answer-233845" rel="permalink">permalink</a>
							</div>

							<h5>6 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>myid is integer. I need to pass a random number stored in randomnumber to myid.</p>
<p>Minh,</p>
<p>still not working. </p>
<p>=(</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 19th 2012, 10:42:21 pm">March 19th 2012</span>
											by <span class='authorname'>Colin International</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>i just updated my database by setting myid to integer type.<br>i believe this might be the issue - string, boolean, integer.<br>but i can&#39;t seem to find where the issue lies.</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 19th 2012, 10:58:25 pm">March 19th 2012</span>
											by <span class='authorname'>Colin International</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Is this for Android or iOS?</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 20th 2012, 12:30:15 am">March 20th 2012</span>
											by <span class='authorname'>Minh Nguyen</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>iOS</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 20th 2012, 12:45:49 am">March 20th 2012</span>
											by <span class='authorname'>Colin Tiang</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>So you should remove the app on simulator first, then try below:</p>
<pre><code class="hljs">var pullquote = db.execute('<span class="hljs-operator"><span class="hljs-keyword">SELECT</span> * <span class="hljs-keyword">FROM</span> quotes <span class="hljs-keyword">WHERE</span> myid=?<span class="hljs-string">', randomnumber);</span></span>
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="March 20th 2012, 1:01:47 am">March 20th 2012</span>
											by <span class='authorname'>Minh Nguyen</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>GOSH!!! Its this bug again! Zzz…</p>
</p>
										<div class="author">
											&mdash; commented <span title="March 20th 2012, 1:45:28 am">March 20th 2012</span>
											by <span class='authorname'>Colin International</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>-1</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
