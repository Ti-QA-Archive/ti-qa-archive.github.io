<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>SEXY APP CREATED - WOW! » Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>SEXY APP CREATED - WOW!</h1>
		</header>
		<section>
			<p>Hi, </p>
<p>I really am desperate for some help here, so I wanted to grab your attention (apologies). </p>
<p>the moderator of this forum wrote &quot;give it a nice title so others will click on your question.&quot; </p>
<p>Anyway - here&#39;s my problem:</p>
<p>I am sending an HTML file a variable from a .JS file as follows:</p>
<pre><code class="hljs">
 <span class="hljs-keyword">var</span> count = <span class="hljs-literal">true</span>;

 webview.addEventListener(<span class="hljs-string">'load'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> 
        </span>{
            <span class="hljs-keyword">if</span> (count)
            {
                <span class="hljs-keyword">var</span> booklocation = webview.book;
                Ti.API.info(<span class="hljs-string">"I am right now in webview"</span>);
                Ti.App.fireEvent(<span class="hljs-string">'FromWebview'</span>,{id: booklocation});

                count=<span class="hljs-literal">false</span>;

            } 

    });
</code></pre><p>The variable I&#39;m sending is a PDF file (or its location). </p>
<p>The HTML file has the following code:</p>
<pre><code class="hljs"><span class="hljs-tag">&lt;<span class="hljs-title">script</span>&gt;</span><span class="javascript">Ti.App.addEventListener(<span class="hljs-string">'FromWebview'</span>,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>)
    </span>{

    Ti.API.info(<span class="hljs-string">"HTML CODE"</span>);

    <span class="hljs-keyword">var</span> bookurl = event.id;

    Ti.API.info(bookurl);


    <span class="hljs-built_in">document</span>.write(<span class="hljs-string">'&lt;embed src="'</span> + bookurl + <span class="hljs-string">'" width="120%" height="100%""&gt;&lt;/embed&gt;'</span>);

    });</span><span class="hljs-tag">&lt;/<span class="hljs-title">script</span>&gt;</span>
</code></pre><p>Of course, as you can see, the idea is that the HTML just embeds the PDF document. </p>
<p>What happens is that it does indeed embed it. This is OK, but then it keeps on and on embedding it and the HTML prints 1000&#39;s of PDF&#39;s. For some reason, once the HTML file displays the PDF doc, it keeps on calling the &quot;addEventListener&quot; from the web view and just looping. </p>
<p>So, my console output, whenever I click and launch the web view page, outputs the following:</p>
<ul>
<li>I am right now in web view</li>
<li>HTMLCODE</li>
<li>PDF URL</li>
<li>I am right now in web view</li>
<li>HTMLCODE</li>
<li>PDF URL</li>
<li>I am right now in web view</li>
<li>HTMLCODE</li>
<li>PDF URL</li>
<li>I am right now in web view</li>
<li>HTMLCODE</li>
<li>PDF URL</li>
<li>I am right now in web view</li>
<li>HTMLCODE</li>
<li>PDF URL</li>
<li>I am right now in web view</li>
<li>HTMLCODE</li>
<li>PDF URL</li>
</ul>
<p>…. etc.. and it keeps on and on, and the HTML file grows and grows - it keeps on adding to the HTML file, more PDFs</p>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="February 23rd 2012, 6:00:40 pm">February 23rd 2012</span>
				by <span class='authorname'>E B</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>eventlistener</span></li>
					
						<li><span class='tagname'>ti.app.fireevent</span></li>
					
				</ul>
			

			<section>
				<h5>3 Comments</h5>
				
					<ul class="comments">
					
						<li class="comment">
							<div><p>Nice title doesn&#39;t mean a sexy title. It means a relevant title. Relevant to your question so that community member can easily grab where you are facing some problems (So that everyone will not need to read whole question<br>).</p>
</div>
							<div class="author">
								&mdash; commented <span title="February 24th 2012, 5:54:52 am">February 24th 2012</span>
								by <span class='authorname'>Yogin Bhungalia</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>At least they can understand whether they have faced similar problem previously or not. If yes than they can read your question and try to help you other wise they will move to next one.</p>
</div>
							<div class="author">
								&mdash; commented <span title="February 24th 2012, 5:56:13 am">February 24th 2012</span>
								by <span class='authorname'>Yogin Bhungalia</span>
							</div>
						</li>
					
						<li class="comment">
							<div><p>Apologies if the title was misleading. Do you have any answers for this anyway?</p>
</div>
							<div class="author">
								&mdash; commented <span title="February 24th 2012, 9:29:31 pm">February 24th 2012</span>
								by <span class='authorname'>E B</span>
							</div>
						</li>
					
					</ul>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>-14</span> Votes</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-231371">
				
						<section>
							<p>Whether I place the &lt;script&gt;… code &lt;&#x2F;script&gt; in a function, or outside of a function, or embedded in the HTML body, or not, I still get the continuous loop. </p>
<p>Yes, I tried to put a flag in the code (count=false&#x2F;true) but if I do that, the PDF doesn&#39;t load completely.. it only partially loads.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="February 23rd 2012, 6:02:29 pm">February 23rd 2012</span>
								by <span class='authorname'>E B</span><br>
								<a class="icon-bg icon-link" href="question/132680/sexy-app-created---wow#answer-231371" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
