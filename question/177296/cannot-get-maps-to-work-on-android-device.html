<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Cannot get Maps to work on Android Device Â» Community Questions &amp; Answers </title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Cannot get Maps to work on Android Device</h1>
		</header>
		<section>
			<p><strong>MY ENVIRONMENT</strong></p>
<p>Application type: Mobile</p>
<p>SDK: 3.3.0.GA</p>
<p>Platform &amp; version: Android 4.4 Device &#x2F; GenyMotion Samsung S3 Simulator (Android 4.1.1)</p>
<p>Host Operating System: OSX 10.9.4</p>
<p>Titanium Studio: 3.3.0.201407100905</p>
<p><strong>PROBLEM</strong></p>
<p>I&#39;m trying to load a simple Map using the provided <a href="http:&#x2F;&#x2F;docs.appcelerator.com&#x2F;titanium&#x2F;3.0&#x2F;#!&#x2F;guide&#x2F;Google_Maps_v2_for_Android">documentation</a> by Appcelerator, but I keep getting a black background where the map should be:</p>
<p><img src="https:&#x2F;&#x2F;dl.dropboxusercontent.com&#x2F;u&#x2F;8908032&#x2F;onlinereference&#x2F;AndroidMaps.png" alt="Map"></p>
<p>I&#39;ve tried googling crazy but cannot seem to find the issue. The good news is that the problem is consistent whether I test it on GenyMotion or my actual device.</p>
<p>So, the errors I get other than a Black Screen is the following:</p>
<pre><code class="hljs">[ERROR] dalvikvm: Could <span class="hljs-keyword">not</span> find <span class="hljs-keyword">class</span> <span class="hljs-string">'gpq'</span>, referenced <span class="hljs-keyword">from</span> <span class="hljs-function"><span class="hljs-keyword">method</span> <span class="hljs-title">gpr</span>.<span class="hljs-title">a</span>
[<span class="hljs-title">WARN</span>]  <span class="hljs-title">dalvikvm</span>:</span> VFY: unable <span class="hljs-keyword">to</span> resolve <span class="hljs-keyword">new</span>-instance <span class="hljs-number">4090</span> (Lgpq;) <span class="hljs-keyword">in</span> Lgpr;
[DEBUG] dalvikvm: VFY: replacing opcode <span class="hljs-number">0</span>x22 at <span class="hljs-number">0</span>x0000

[DEBUG] dalvikvm: DexOpt: unable <span class="hljs-keyword">to</span> opt direct call <span class="hljs-number">0</span>x5ea1 at <span class="hljs-number">0</span>x0a <span class="hljs-keyword">in</span> Lgpr;.a

[INFO]  dalvikvm: Failed resolving Lcom/google/android/gms/location/internal/ParcelableGeofence; <span class="hljs-keyword">interface</span> <span class="hljs-number">4023</span> <span class="hljs-string">'Lglm;'</span>
[WARN]  dalvikvm: Link <span class="hljs-keyword">of</span> <span class="hljs-keyword">class</span> <span class="hljs-string">'Lcom/google/android/gms/location/internal/ParcelableGeofence;'</span> failed
[WARN]  dalvikvm: VFY: unable <span class="hljs-keyword">to</span> resolve <span class="hljs-keyword">static</span> field <span class="hljs-number">4203</span> (CREATOR) <span class="hljs-keyword">in</span> Lcom/google/android/gms/location/internal/ParcelableGeofence;

[INFO]  I/Google Maps Android API: Failed <span class="hljs-keyword">to</span> contact Google servers. Another attempt will be made when connectivity <span class="hljs-keyword">is</span> established.
[ERROR] GooglePlayServicesUtil: The Google Play services resources were <span class="hljs-keyword">not</span> found. Check your project configuration <span class="hljs-keyword">to</span> <span class="hljs-keyword">ensure</span> that the resources are included.
</code></pre><p>Below is a quick summary of what I did:</p>
<ul>
<li>Installed the TiMap Module from Github (Version 2.1.4 Android)</li>
<li>In Google API Console, created a Project and enabled the Google Maps Android API v2 Service</li>
<li>In Google API Console, under API Access, created a new Android Key using the SHA1 Key from the 3.3.0.GA SDK dev_keystore and my ApplicationID:</li>
</ul>
<p>CC:E3:7F:08:FA:03:9C:88:07:BC:CB:AB:7B:88:61:F4:75:9D:47:9F;com.acme.appname</p>
<ul>
<li>I downloaded the Google Play Services SDK from the Android SDK Manager (there were 3 of them of which I downloaded all 3)(I&#39;m not sure though how this ties in to my project)</li>
<li>I updated the tiapp.xml file to place the necessary tags in the Android Manifest, and replaced the values where necessary including the API Key</li>
<li>In my code, I use the function isGooglePlayServicesAvailable() to check if Google Play Services is installed, of which the function returns &quot;SUCCESS&quot;</li>
<li>I&#39;m using a very std piece of code that i got from Appcelerator&#39;s Documentation</li>
</ul>
<pre><code class="hljs">    <span class="hljs-keyword">var</span> MapModule = <span class="hljs-built_in">require</span>(<span class="hljs-string">'ti.map'</span>);
    <span class="hljs-keyword">var</span> mapView = MapModule.createView({
        userLocation: <span class="hljs-literal">true</span>,
        mapType: MapModule.NORMAL_TYPE,
        animate: <span class="hljs-literal">true</span>,
        region: {
            latitude: -<span class="hljs-number">33.87365</span>,
            longitude: <span class="hljs-number">151.20689</span>,
            latitudeDelta: <span class="hljs-number">0.1</span>,
            longitudeDelta: <span class="hljs-number">0.1</span>
        },
        top : <span class="hljs-number">108</span>,
        bottom : <span class="hljs-number">75</span>
    });
</code></pre><ul>
<li>I made sure to uninstall the app on both the GenyMotion emulator and my device</li>
<li>I deleted my project&#39;s build folder just to be sure</li>
</ul>

		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="August 27th 2014, 3:07:13 pm">August 27th 2014</span>
				by <span class='authorname'>John Jardin</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>genymotion</span></li>
					
						<li><span class='tagname'>google</span></li>
					
						<li><span class='tagname'>maps</span></li>
					
						<li><span class='tagname'>titanium</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box">
			<div class="score"><span>0</span> Votes</div>
			<div class="answers"><span>2</span> Answers</div>
		</aside>
	</div>

	<hr>

	<h3>2 Answers</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article id="answer-282009">
				
						<section>
							<p>Hi</p>
<p>Have you checked that you are signed into Google Play Services on your test device?</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 28th 2014, 5:59:01 pm">August 28th 2014</span>
								by <span class='authorname'>Luke Taylor</span><br>
								<a class="icon-bg icon-link" href="question/177296/cannot-get-maps-to-work-on-android-device#answer-282009" rel="permalink">permalink</a>
							</div>

							<h5>2 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Hi John</p>
<p>I did mean the Google Play Store. I previously came across problems on one of my devices where all I needed to do was sign in with an account on the Play Store app to allow my device to access the Resources it needed to load maps.</p>
<p>The other point to mention is that unless you have installed the Google Play Services on GenyMotion then you won&#39;t be able to get maps working on the emulator. Here is a guide to <a href="https:&#x2F;&#x2F;gist.github.com&#x2F;wbroek&#x2F;9321145">installing Google Play Services</a></p>
<p>Another suggestion would be to generate a new SHA1 key and get a new API for your app.</p>
<p><em>please make sure to add any further messages as comments to this thread, and not new answers</em></p>
</p>
										<div class="author">
											&mdash; commented <span title="August 29th 2014, 6:34:12 am">August 29th 2014</span>
											by <span class='authorname'>Luke Taylor</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>Another suggestion would be to compile your app to device in debug mode, to see if there are any further error messages appearing that could pin point the problem or provide us with more information.</p>
</p>
										<div class="author">
											&mdash; commented <span title="August 29th 2014, 6:35:38 am">August 29th 2014</span>
											by <span class='authorname'>Luke Taylor</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
				<li class="answer">
				
					<article id="answer-282020">
				
						<section>
							<p>Hi Luke. I&#39;ve checked the following:</p>
<ul>
<li>I&#39;m definitely logged into the Google Play Store</li>
<li>When you say Google Play Services, do you mean &quot;Google Settings&quot;? If yes, then I can&#39;t see where I am logged into that.</li>
</ul>
<p>Could you possible assist me by elaborating what you are referring to exactly? I&#39;ve checked the settings, etc and can&#39;t pinpoint an app where I&#39;m not logged in.</p>
<p>Many thanks.</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="August 29th 2014, 3:07:39 am">August 29th 2014</span>
								by <span class='authorname'>John Jardin</span><br>
								<a class="icon-bg icon-link" href="question/177296/cannot-get-maps-to-work-on-android-device#answer-282020" rel="permalink">permalink</a>
							</div>

							<h5>0 Comments</h5>
							
						</footer>
						<aside class="vote-box">
							<div class="score"><span>0</span> Votes</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
