<!doctype html>
<html>
<head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="utf-8">
	
		<title>Replacing and Image in ImageView not working for android » Community Questions &amp; Answers » Appcelerator Developer Center</title>
	
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<link href="../../related/favicon.png" rel="shortcut icon" type="image/png">
	<link href="//fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700" rel="stylesheet" type="text/css">
	<link href="//d3ilu1xuwhtfe2.cloudfront.net/e8e0ebd/css/style.css" rel="stylesheet" type="text/css">
	<link href="../../related/qa.css" rel="stylesheet" type="text/css">
	<link href="../../related/hybrid.css" rel="stylesheet" type="text/css">
	
	<link href="../../related/overrides.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class='mast'>    <div class='container'>        <div class='row'>            <div class='col-sm-12'>                <div class='masthead'><h1>Titanium Community Questions & Answer Archive</h1><h2>We felt that 6+ years of knowledge should not die so this is the Titanium Community Questions &amp; Answer Archive</h2></div>            </div>        </div>    </div></div>

<main class="container">
	<div class="row">
		<div class="col-sm-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-sm-12">
			<article class="question-container">
	<div class="question">
		<header>
			<h1>Replacing and Image in ImageView not working for android</h1>
		</header>
		<section>
			<p>When I use the below code on Iphone everything works. I can see Image1 and Image2 but when I do it on Android I can only see Image1 and nothing happens on Image2.   If I switch it to do Image 2 first it works and then I can&#39;t see Image1 so the image is good.  If I alert picView.image it gives me the last path but it&#39;s not reflected in what I see… Any ideas?</p>
<pre><code class="hljs">var picView = Titanium.UI.createImageView({
        <span class="hljs-string">top :</span> <span class="hljs-number">5</span>,
        <span class="hljs-string">bottom :</span> <span class="hljs-number">5</span>,
        <span class="hljs-string">image :</span> <span class="hljs-string">""</span>
    });
picView.image = IMAGE_PATH_1; <span class="hljs-comment">//This one is remote</span>
...
...
picView.image = IMAGE_PATH_2; <span class="hljs-comment">//This one is local</span>
</code></pre>
		</section>
		<footer>
			<div class="author">
				&mdash; asked <span title="January 26th 2012, 12:44:54 pm">January 26th 2012</span>
				by <span class='authorname'>Chris Whittle</span>
			</div>

			
				<ul class="tags">
					
						<li><span class='tagname'>android</span></li>
					
						<li><span class='tagname'>imageview</span></li>
					
						<li><span class='tagname'>remote image</span></li>
					
				</ul>
			

			<section>
				<h5>0 Comments</h5>
				
			</section>
		</footer>
		<aside class="vote-box vote-box-answered">
			<div class="score"><span>1</span> Vote</div>
			<div class="answers"><span>1</span> Answer</div>
		</aside>
	</div>

	<hr>

	<h3>1 Answer</h3>

	
		<ul class="answers">
			
				<li class="answer">
				
					<article class="accepted-answer" id="answer-228630">
						<header>
							<h2><span class="icon-bg icon-check-1"></span>Accepted Answer</h2>
						</header>
				
						<section>
							<p>Hi Chris </p>
<p>Sometimes in android i face this too when the view is not being refreshed though we have made some changes. Well in this case what you can do is when you want to switch the image just remove the old image view and add the new one in that place with the new image path. That will might solve the issue.</p>
<p>But i would sure like to hear some better solution too.</p>
<p>Regards</p>
<p>Nikunj</p>

						</section>
						<footer>
							<div class="author">
								&mdash; answered <span title="January 26th 2012, 12:53:32 pm">January 26th 2012</span>
								by <span class='authorname'>Nikunj Sakhrelia</span><br>
								<a class="icon-bg icon-link" href="question/131217/replacing-and-image-in-imageview-not-working-for-android#answer-228630" rel="permalink">permalink</a>
							</div>

							<h5>2 Comments</h5>
							
								<ul class="comments">
								
									<li class="comment">
										<p><p>Thanks Nikunj,  I&#39;ve tried this but the image view doesn&#39;t go away am I missing something?  BTW I&#39;m using 1.8.1 SDK</p>
<pre><code class="hljs"><span class="hljs-keyword">var</span> picView = <span class="hljs-literal">null</span>;
    <span class="hljs-keyword">var</span> picViewParams = {
        top : <span class="hljs-number">0</span>,
        bottom : <span class="hljs-number">0</span>
    };
picViewHolder.reload = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">image</span>) </span>{
        <span class="hljs-keyword">if</span>(picView != <span class="hljs-literal">null</span>) {
            picViewHolder.remove(picView);
            picView = <span class="hljs-literal">null</span>;
        }
        picView = Titanium.UI.createImageView(picViewParams);
        picView.image = image;
        picViewHolder.add(picView);
        picView.width = <span class="hljs-built_in">parseInt</span>(rowView.width) / <span class="hljs-number">2</span>;
}
</code></pre></p>
										<div class="author">
											&mdash; commented <span title="January 26th 2012, 1:11:47 pm">January 26th 2012</span>
											by <span class='authorname'>Chris Whittle</span>
										</div>
									</li>
								
									<li class="comment">
										<p><p>I ended up getting the code above to work but I had to refresh the table it was in.  I just created eventlistener events for the row and the table that when it was fired would set <del>~table.data = data</del>~</p>
</p>
										<div class="author">
											&mdash; commented <span title="January 26th 2012, 7:11:14 pm">January 26th 2012</span>
											by <span class='authorname'>Chris Whittle</span>
										</div>
									</li>
								
								</ul>
							
						</footer>
						<aside class="vote-box vote-box-answered">
							<div class="score"><span>1</span> Vote</div>
						</aside>
					</article>
				</li>
			
		</ul>
	
</article>

		</div>
		<div class="col-sm-3"></div>
	</div>
	<div class="row"><div class="signoff">The ownership of individual contributions to this community generated content is retained by the authors of their contributions.<br>All trademarks remain the property of the respective owner.</div></div>
</main>


</body>
</html>
